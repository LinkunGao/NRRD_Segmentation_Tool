var XF=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var fAe=XF((Xs,zs)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerpolicy&&(u.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?u.credentials="include":a.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();function Ry(e,n){const i=Object.create(null),s=e.split(",");for(let a=0;a<s.length;a++)i[s[a]]=!0;return n?a=>!!i[a.toLowerCase()]:a=>!!i[a]}const zF="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$F=Ry(zF);function IM(e){return!!e||e===""}function pn(e){if(hn(e)){const n={};for(let i=0;i<e.length;i++){const s=e[i],a=Gn(s)?jF(s):pn(s);if(a)for(const u in a)n[u]=a[u]}return n}else{if(Gn(e))return e;if(ur(e))return e}}const WF=/;(?![^(]*\))/g,KF=/:(.+)/;function jF(e){const n={};return e.split(WF).forEach(i=>{if(i){const s=i.split(KF);s.length>1&&(n[s[0].trim()]=s[1].trim())}}),n}function q(e){let n="";if(Gn(e))n=e;else if(hn(e))for(let i=0;i<e.length;i++){const s=q(e[i]);s&&(n+=s+" ")}else if(ur(e))for(const i in e)e[i]&&(n+=i+" ");return n.trim()}function Vo(e){if(!e)return null;let{class:n,style:i}=e;return n&&!Gn(n)&&(e.class=q(n)),i&&(e.style=pn(i)),e}function qF(e,n){if(e.length!==n.length)return!1;let i=!0;for(let s=0;i&&s<e.length;s++)i=Id(e[s],n[s]);return i}function Id(e,n){if(e===n)return!0;let i=ru(e),s=ru(n);if(i||s)return i&&s?e.getTime()===n.getTime():!1;if(i=gh(e),s=gh(n),i||s)return e===n;if(i=hn(e),s=hn(n),i||s)return i&&s?qF(e,n):!1;if(i=ur(e),s=ur(n),i||s){if(!i||!s)return!1;const a=Object.keys(e).length,u=Object.keys(n).length;if(a!==u)return!1;for(const f in e){const h=e.hasOwnProperty(f),v=n.hasOwnProperty(f);if(h&&!v||!h&&v||!Id(e[f],n[f]))return!1}}return String(e)===String(n)}function MM(e,n){return e.findIndex(i=>Id(i,n))}const Ut=e=>Gn(e)?e:e==null?"":hn(e)||ur(e)&&(e.toString===RM||!Vn(e.toString))?JSON.stringify(e,xM,2):String(e),xM=(e,n)=>n&&n.__v_isRef?xM(e,n.value):yd(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((i,[s,a])=>(i[`${s} =>`]=a,i),{})}:Dg(n)?{[`Set(${n.size})`]:[...n.values()]}:ur(n)&&!hn(n)&&!TM(n)?String(n):n,ni={},Ad=[],Lr=()=>{},YF=()=>!1,JF=/^on[^a-z]/,Bg=e=>JF.test(e),Ty=e=>e.startsWith("onUpdate:"),Xi=Object.assign,Ny=(e,n)=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)},ZF=Object.prototype.hasOwnProperty,ar=(e,n)=>ZF.call(e,n),hn=Array.isArray,yd=e=>zd(e)==="[object Map]",Dg=e=>zd(e)==="[object Set]",ru=e=>zd(e)==="[object Date]",Vn=e=>typeof e=="function",Gn=e=>typeof e=="string",gh=e=>typeof e=="symbol",ur=e=>e!==null&&typeof e=="object",vh=e=>ur(e)&&Vn(e.then)&&Vn(e.catch),RM=Object.prototype.toString,zd=e=>RM.call(e),Im=e=>zd(e).slice(8,-1),TM=e=>zd(e)==="[object Object]",Py=e=>Gn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Mm=Ry(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kg=e=>{const n=Object.create(null);return i=>n[i]||(n[i]=e(i))},eV=/-(\w)/g,fo=kg(e=>e.replace(eV,(n,i)=>i?i.toUpperCase():"")),tV=/\B([A-Z])/g,Jl=kg(e=>e.replace(tV,"-$1").toLowerCase()),$h=kg(e=>e.charAt(0).toUpperCase()+e.slice(1)),xm=kg(e=>e?`on${$h(e)}`:""),_h=(e,n)=>!Object.is(e,n),Rm=(e,n)=>{for(let i=0;i<e.length;i++)e[i](n)},sg=(e,n,i)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value:i})},og=e=>{const n=parseFloat(e);return isNaN(n)?e:n};let eC;const nV=()=>eC||(eC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Us;class NM{constructor(n=!1){this.active=!0,this.effects=[],this.cleanups=[],!n&&Us&&(this.parent=Us,this.index=(Us.scopes||(Us.scopes=[])).push(this)-1)}run(n){if(this.active){const i=Us;try{return Us=this,n()}finally{Us=i}}}on(){Us=this}off(){Us=this.parent}stop(n){if(this.active){let i,s;for(i=0,s=this.effects.length;i<s;i++)this.effects[i].stop();for(i=0,s=this.cleanups.length;i<s;i++)this.cleanups[i]();if(this.scopes)for(i=0,s=this.scopes.length;i<s;i++)this.scopes[i].stop(!0);if(this.parent&&!n){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.active=!1}}}function rV(e){return new NM(e)}function iV(e,n=Us){n&&n.active&&n.effects.push(e)}function sV(){return Us}function PM(e){Us&&Us.cleanups.push(e)}const By=e=>{const n=new Set(e);return n.w=0,n.n=0,n},BM=e=>(e.w&zl)>0,DM=e=>(e.n&zl)>0,oV=({deps:e})=>{if(e.length)for(let n=0;n<e.length;n++)e[n].w|=zl},aV=e=>{const{deps:n}=e;if(n.length){let i=0;for(let s=0;s<n.length;s++){const a=n[s];BM(a)&&!DM(a)?a.delete(e):n[i++]=a,a.w&=~zl,a.n&=~zl}n.length=i}},l0=new WeakMap;let qf=0,zl=1;const c0=30;let Fo;const qc=Symbol(""),u0=Symbol("");class Dy{constructor(n,i=null,s){this.fn=n,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,iV(this,s)}run(){if(!this.active)return this.fn();let n=Fo,i=Ql;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=Fo,Fo=this,Ql=!0,zl=1<<++qf,qf<=c0?oV(this):tC(this),this.fn()}finally{qf<=c0&&aV(this),zl=1<<--qf,Fo=this.parent,Ql=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Fo===this?this.deferStop=!0:this.active&&(tC(this),this.onStop&&this.onStop(),this.active=!1)}}function tC(e){const{deps:n}=e;if(n.length){for(let i=0;i<n.length;i++)n[i].delete(e);n.length=0}}let Ql=!0;const kM=[];function du(){kM.push(Ql),Ql=!1}function fu(){const e=kM.pop();Ql=e===void 0?!0:e}function $s(e,n,i){if(Ql&&Fo){let s=l0.get(e);s||l0.set(e,s=new Map);let a=s.get(i);a||s.set(i,a=By()),LM(a)}}function LM(e,n){let i=!1;qf<=c0?DM(e)||(e.n|=zl,i=!BM(e)):i=!e.has(Fo),i&&(e.add(Fo),Fo.deps.push(e))}function qa(e,n,i,s,a,u){const f=l0.get(e);if(!f)return;let h=[];if(n==="clear")h=[...f.values()];else if(i==="length"&&hn(e))f.forEach((v,y)=>{(y==="length"||y>=s)&&h.push(v)});else switch(i!==void 0&&h.push(f.get(i)),n){case"add":hn(e)?Py(i)&&h.push(f.get("length")):(h.push(f.get(qc)),yd(e)&&h.push(f.get(u0)));break;case"delete":hn(e)||(h.push(f.get(qc)),yd(e)&&h.push(f.get(u0)));break;case"set":yd(e)&&h.push(f.get(qc));break}if(h.length===1)h[0]&&d0(h[0]);else{const v=[];for(const y of h)y&&v.push(...y);d0(By(v))}}function d0(e,n){const i=hn(e)?e:[...e];for(const s of i)s.computed&&nC(s);for(const s of i)s.computed||nC(s)}function nC(e,n){(e!==Fo||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const lV=Ry("__proto__,__v_isRef,__isVue"),OM=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(gh)),cV=ky(),uV=ky(!1,!0),dV=ky(!0),rC=fV();function fV(){const e={};return["includes","indexOf","lastIndexOf"].forEach(n=>{e[n]=function(...i){const s=Pr(this);for(let u=0,f=this.length;u<f;u++)$s(s,"get",u+"");const a=s[n](...i);return a===-1||a===!1?s[n](...i.map(Pr)):a}}),["push","pop","shift","unshift","splice"].forEach(n=>{e[n]=function(...i){du();const s=Pr(this)[n].apply(this,i);return fu(),s}}),e}function ky(e=!1,n=!1){return function(s,a,u){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_isShallow")return n;if(a==="__v_raw"&&u===(e?n?xV:HM:n?UM:GM).get(s))return s;const f=hn(s);if(!e&&f&&ar(rC,a))return Reflect.get(rC,a,u);const h=Reflect.get(s,a,u);return(gh(a)?OM.has(a):lV(a))||(e||$s(s,"get",a),n)?h:Qr(h)?f&&Py(a)?h:h.value:ur(h)?e?Wh(h):xr(h):h}}const hV=FM(),pV=FM(!0);function FM(e=!1){return function(i,s,a,u){let f=i[s];if(Ah(f)&&Qr(f)&&!Qr(a))return!1;if(!e&&!Ah(a)&&(f0(a)||(a=Pr(a),f=Pr(f)),!hn(i)&&Qr(f)&&!Qr(a)))return f.value=a,!0;const h=hn(i)&&Py(s)?Number(s)<i.length:ar(i,s),v=Reflect.set(i,s,a,u);return i===Pr(u)&&(h?_h(a,f)&&qa(i,"set",s,a):qa(i,"add",s,a)),v}}function mV(e,n){const i=ar(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&qa(e,"delete",n,void 0),s}function gV(e,n){const i=Reflect.has(e,n);return(!gh(n)||!OM.has(n))&&$s(e,"has",n),i}function vV(e){return $s(e,"iterate",hn(e)?"length":qc),Reflect.ownKeys(e)}const VM={get:cV,set:hV,deleteProperty:mV,has:gV,ownKeys:vV},_V={get:dV,set(e,n){return!0},deleteProperty(e,n){return!0}},AV=Xi({},VM,{get:uV,set:pV}),Ly=e=>e,Lg=e=>Reflect.getPrototypeOf(e);function am(e,n,i=!1,s=!1){e=e.__v_raw;const a=Pr(e),u=Pr(n);i||(n!==u&&$s(a,"get",n),$s(a,"get",u));const{has:f}=Lg(a),h=s?Ly:i?Vy:yh;if(f.call(a,n))return h(e.get(n));if(f.call(a,u))return h(e.get(u));e!==a&&e.get(n)}function lm(e,n=!1){const i=this.__v_raw,s=Pr(i),a=Pr(e);return n||(e!==a&&$s(s,"has",e),$s(s,"has",a)),e===a?i.has(e):i.has(e)||i.has(a)}function cm(e,n=!1){return e=e.__v_raw,!n&&$s(Pr(e),"iterate",qc),Reflect.get(e,"size",e)}function iC(e){e=Pr(e);const n=Pr(this);return Lg(n).has.call(n,e)||(n.add(e),qa(n,"add",e,e)),this}function sC(e,n){n=Pr(n);const i=Pr(this),{has:s,get:a}=Lg(i);let u=s.call(i,e);u||(e=Pr(e),u=s.call(i,e));const f=a.call(i,e);return i.set(e,n),u?_h(n,f)&&qa(i,"set",e,n):qa(i,"add",e,n),this}function oC(e){const n=Pr(this),{has:i,get:s}=Lg(n);let a=i.call(n,e);a||(e=Pr(e),a=i.call(n,e)),s&&s.call(n,e);const u=n.delete(e);return a&&qa(n,"delete",e,void 0),u}function aC(){const e=Pr(this),n=e.size!==0,i=e.clear();return n&&qa(e,"clear",void 0,void 0),i}function um(e,n){return function(s,a){const u=this,f=u.__v_raw,h=Pr(f),v=n?Ly:e?Vy:yh;return!e&&$s(h,"iterate",qc),f.forEach((y,b)=>s.call(a,v(y),v(b),u))}}function dm(e,n,i){return function(...s){const a=this.__v_raw,u=Pr(a),f=yd(u),h=e==="entries"||e===Symbol.iterator&&f,v=e==="keys"&&f,y=a[e](...s),b=i?Ly:n?Vy:yh;return!n&&$s(u,"iterate",v?u0:qc),{next(){const{value:E,done:w}=y.next();return w?{value:E,done:w}:{value:h?[b(E[0]),b(E[1])]:b(E),done:w}},[Symbol.iterator](){return this}}}}function Tl(e){return function(...n){return e==="delete"?!1:this}}function yV(){const e={get(u){return am(this,u)},get size(){return cm(this)},has:lm,add:iC,set:sC,delete:oC,clear:aC,forEach:um(!1,!1)},n={get(u){return am(this,u,!1,!0)},get size(){return cm(this)},has:lm,add:iC,set:sC,delete:oC,clear:aC,forEach:um(!1,!0)},i={get(u){return am(this,u,!0)},get size(){return cm(this,!0)},has(u){return lm.call(this,u,!0)},add:Tl("add"),set:Tl("set"),delete:Tl("delete"),clear:Tl("clear"),forEach:um(!0,!1)},s={get(u){return am(this,u,!0,!0)},get size(){return cm(this,!0)},has(u){return lm.call(this,u,!0)},add:Tl("add"),set:Tl("set"),delete:Tl("delete"),clear:Tl("clear"),forEach:um(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=dm(u,!1,!1),i[u]=dm(u,!0,!1),n[u]=dm(u,!1,!0),s[u]=dm(u,!0,!0)}),[e,i,n,s]}const[bV,SV,EV,wV]=yV();function Oy(e,n){const i=n?e?wV:EV:e?SV:bV;return(s,a,u)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?s:Reflect.get(ar(i,a)&&a in s?i:s,a,u)}const CV={get:Oy(!1,!1)},IV={get:Oy(!1,!0)},MV={get:Oy(!0,!1)},GM=new WeakMap,UM=new WeakMap,HM=new WeakMap,xV=new WeakMap;function RV(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function TV(e){return e.__v_skip||!Object.isExtensible(e)?0:RV(Im(e))}function xr(e){return Ah(e)?e:Fy(e,!1,VM,CV,GM)}function QM(e){return Fy(e,!1,AV,IV,UM)}function Wh(e){return Fy(e,!0,_V,MV,HM)}function Fy(e,n,i,s,a){if(!ur(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;const u=a.get(e);if(u)return u;const f=TV(e);if(f===0)return e;const h=new Proxy(e,f===2?s:i);return a.set(e,h),h}function bd(e){return Ah(e)?bd(e.__v_raw):!!(e&&e.__v_isReactive)}function Ah(e){return!!(e&&e.__v_isReadonly)}function f0(e){return!!(e&&e.__v_isShallow)}function XM(e){return bd(e)||Ah(e)}function Pr(e){const n=e&&e.__v_raw;return n?Pr(n):e}function Yc(e){return sg(e,"__v_skip",!0),e}const yh=e=>ur(e)?xr(e):e,Vy=e=>ur(e)?Wh(e):e;function zM(e){Ql&&Fo&&(e=Pr(e),LM(e.dep||(e.dep=By())))}function Gy(e,n){e=Pr(e),e.dep&&d0(e.dep)}function Qr(e){return!!(e&&e.__v_isRef===!0)}function se(e){return $M(e,!1)}function Wr(e){return $M(e,!0)}function $M(e,n){return Qr(e)?e:new NV(e,n)}class NV{constructor(n,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?n:Pr(n),this._value=i?n:yh(n)}get value(){return zM(this),this._value}set value(n){n=this.__v_isShallow?n:Pr(n),_h(n,this._rawValue)&&(this._rawValue=n,this._value=this.__v_isShallow?n:yh(n),Gy(this))}}function Gf(e){Gy(e)}function g(e){return Qr(e)?e.value:e}const PV={get:(e,n,i)=>g(Reflect.get(e,n,i)),set:(e,n,i,s)=>{const a=e[n];return Qr(a)&&!Qr(i)?(a.value=i,!0):Reflect.set(e,n,i,s)}};function WM(e){return bd(e)?e:new Proxy(e,PV)}function Ci(e){const n=hn(e)?new Array(e.length):{};for(const i in e)n[i]=ui(e,i);return n}class BV{constructor(n,i,s){this._object=n,this._key=i,this._defaultValue=s,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}}function ui(e,n,i){const s=e[n];return Qr(s)?s:new BV(e,n,i)}class DV{constructor(n,i,s,a){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Dy(n,()=>{this._dirty||(this._dirty=!0,Gy(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=s}get value(){const n=Pr(this);return zM(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}function KM(e,n,i=!1){let s,a;const u=Vn(e);return u?(s=e,a=Lr):(s=e.get,a=e.set),new DV(s,a,u||!a,i)}const th=[];function kV(e,...n){du();const i=th.length?th[th.length-1].component:null,s=i&&i.appContext.config.warnHandler,a=LV();if(s)Wa(s,i,11,[e+n.join(""),i&&i.proxy,a.map(({vnode:u})=>`at <${xx(i,u.type)}>`).join(`
`),a]);else{const u=[`[Vue warn]: ${e}`,...n];a.length&&u.push(`
`,...OV(a)),console.warn(...u)}fu()}function LV(){let e=th[th.length-1];if(!e)return[];const n=[];for(;e;){const i=n[0];i&&i.vnode===e?i.recurseCount++:n.push({vnode:e,recurseCount:0});const s=e.component&&e.component.parent;e=s&&s.vnode}return n}function OV(e){const n=[];return e.forEach((i,s)=>{n.push(...s===0?[]:[`
`],...FV(i))}),n}function FV({vnode:e,recurseCount:n}){const i=n>0?`... (${n} recursive calls)`:"",s=e.component?e.component.parent==null:!1,a=` at <${xx(e.component,e.type,s)}`,u=">"+i;return e.props?[a,...VV(e.props),u]:[a+u]}function VV(e){const n=[],i=Object.keys(e);return i.slice(0,3).forEach(s=>{n.push(...jM(s,e[s]))}),i.length>3&&n.push(" ..."),n}function jM(e,n,i){return Gn(n)?(n=JSON.stringify(n),i?n:[`${e}=${n}`]):typeof n=="number"||typeof n=="boolean"||n==null?i?n:[`${e}=${n}`]:Qr(n)?(n=jM(e,Pr(n.value),!0),i?n:[`${e}=Ref<`,n,">"]):Vn(n)?[`${e}=fn${n.name?`<${n.name}>`:""}`]:(n=Pr(n),i?n:[`${e}=`,n])}function Wa(e,n,i,s){let a;try{a=s?e(...s):e()}catch(u){Og(u,n,i)}return a}function ao(e,n,i,s){if(Vn(e)){const u=Wa(e,n,i,s);return u&&vh(u)&&u.catch(f=>{Og(f,n,i)}),u}const a=[];for(let u=0;u<e.length;u++)a.push(ao(e[u],n,i,s));return a}function Og(e,n,i,s=!0){const a=n?n.vnode:null;if(n){let u=n.parent;const f=n.proxy,h=i;for(;u;){const y=u.ec;if(y){for(let b=0;b<y.length;b++)if(y[b](e,f,h)===!1)return}u=u.parent}const v=n.appContext.config.errorHandler;if(v){Wa(v,null,10,[e,f,h]);return}}GV(e,i,a,s)}function GV(e,n,i,s=!0){console.error(e)}let ag=!1,h0=!1;const Hs=[];let Qa=0;const nh=[];let Yf=null,od=0;const rh=[];let Bl=null,ad=0;const qM=Promise.resolve();let Uy=null,p0=null;function dn(e){const n=Uy||qM;return e?n.then(this?e.bind(this):e):n}function UV(e){let n=Qa+1,i=Hs.length;for(;n<i;){const s=n+i>>>1;bh(Hs[s])<e?n=s+1:i=s}return n}function YM(e){(!Hs.length||!Hs.includes(e,ag&&e.allowRecurse?Qa+1:Qa))&&e!==p0&&(e.id==null?Hs.push(e):Hs.splice(UV(e.id),0,e),JM())}function JM(){!ag&&!h0&&(h0=!0,Uy=qM.then(tx))}function HV(e){const n=Hs.indexOf(e);n>Qa&&Hs.splice(n,1)}function ZM(e,n,i,s){hn(e)?i.push(...e):(!n||!n.includes(e,e.allowRecurse?s+1:s))&&i.push(e),JM()}function QV(e){ZM(e,Yf,nh,od)}function XV(e){ZM(e,Bl,rh,ad)}function Fg(e,n=null){if(nh.length){for(p0=n,Yf=[...new Set(nh)],nh.length=0,od=0;od<Yf.length;od++)Yf[od]();Yf=null,od=0,p0=null,Fg(e,n)}}function ex(e){if(Fg(),rh.length){const n=[...new Set(rh)];if(rh.length=0,Bl){Bl.push(...n);return}for(Bl=n,Bl.sort((i,s)=>bh(i)-bh(s)),ad=0;ad<Bl.length;ad++)Bl[ad]();Bl=null,ad=0}}const bh=e=>e.id==null?1/0:e.id;function tx(e){h0=!1,ag=!0,Fg(e),Hs.sort((i,s)=>bh(i)-bh(s));const n=Lr;try{for(Qa=0;Qa<Hs.length;Qa++){const i=Hs[Qa];i&&i.active!==!1&&Wa(i,null,14)}}finally{Qa=0,Hs.length=0,ex(),ag=!1,Uy=null,(Hs.length||nh.length||rh.length)&&tx(e)}}function zV(e,n,...i){if(e.isUnmounted)return;const s=e.vnode.props||ni;let a=i;const u=n.startsWith("update:"),f=u&&n.slice(7);if(f&&f in s){const b=`${f==="modelValue"?"model":f}Modifiers`,{number:E,trim:w}=s[b]||ni;w&&(a=i.map(C=>C.trim())),E&&(a=i.map(og))}let h,v=s[h=xm(n)]||s[h=xm(fo(n))];!v&&u&&(v=s[h=xm(Jl(n))]),v&&ao(v,e,6,a);const y=s[h+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,ao(y,e,6,a)}}function nx(e,n,i=!1){const s=n.emitsCache,a=s.get(e);if(a!==void 0)return a;const u=e.emits;let f={},h=!1;if(!Vn(e)){const v=y=>{const b=nx(y,n,!0);b&&(h=!0,Xi(f,b))};!i&&n.mixins.length&&n.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}return!u&&!h?(s.set(e,null),null):(hn(u)?u.forEach(v=>f[v]=null):Xi(f,u),s.set(e,f),f)}function Vg(e,n){return!e||!Bg(n)?!1:(n=n.slice(2).replace(/Once$/,""),ar(e,n[0].toLowerCase()+n.slice(1))||ar(e,Jl(n))||ar(e,n))}let ns=null,Gg=null;function lg(e){const n=ns;return ns=e,Gg=e&&e.type.__scopeId||null,n}function rx(e){Gg=e}function ix(){Gg=null}function Ue(e,n=ns,i){if(!n||e._n)return e;const s=(...a)=>{s._d&&AC(-1);const u=lg(n),f=e(...a);return lg(u),s._d&&AC(1),f};return s._n=!0,s._c=!0,s._d=!0,s}function xA(e){const{type:n,vnode:i,proxy:s,withProxy:a,props:u,propsOptions:[f],slots:h,attrs:v,emit:y,render:b,renderCache:E,data:w,setupState:C,ctx:x,inheritAttrs:M}=e;let T,P;const F=lg(e);try{if(i.shapeFlag&4){const G=a||s;T=fa(b.call(G,G,E,u,C,w,x)),P=v}else{const G=n;T=fa(G.length>1?G(u,{attrs:v,slots:h,emit:y}):G(u,null)),P=n.props?v:$V(v)}}catch(G){oh.length=0,Og(G,e,1),T=Me(ps)}let B=T;if(P&&M!==!1){const G=Object.keys(P),{shapeFlag:Q}=B;G.length&&Q&7&&(f&&G.some(Ty)&&(P=WV(P,f)),B=Ya(B,P))}return i.dirs&&(B=Ya(B),B.dirs=B.dirs?B.dirs.concat(i.dirs):i.dirs),i.transition&&(B.transition=i.transition),T=B,lg(F),T}const $V=e=>{let n;for(const i in e)(i==="class"||i==="style"||Bg(i))&&((n||(n={}))[i]=e[i]);return n},WV=(e,n)=>{const i={};for(const s in e)(!Ty(s)||!(s.slice(9)in n))&&(i[s]=e[s]);return i};function KV(e,n,i){const{props:s,children:a,component:u}=e,{props:f,children:h,patchFlag:v}=n,y=u.emitsOptions;if(n.dirs||n.transition)return!0;if(i&&v>=0){if(v&1024)return!0;if(v&16)return s?lC(s,f,y):!!f;if(v&8){const b=n.dynamicProps;for(let E=0;E<b.length;E++){const w=b[E];if(f[w]!==s[w]&&!Vg(y,w))return!0}}}else return(a||h)&&(!h||!h.$stable)?!0:s===f?!1:s?f?lC(s,f,y):!0:!!f;return!1}function lC(e,n,i){const s=Object.keys(n);if(s.length!==Object.keys(e).length)return!0;for(let a=0;a<s.length;a++){const u=s[a];if(n[u]!==e[u]&&!Vg(i,u))return!0}return!1}function jV({vnode:e,parent:n},i){for(;n&&n.subTree===e;)(e=n.vnode).el=i,n=n.parent}const qV=e=>e.__isSuspense;function YV(e,n){n&&n.pendingBranch?hn(e)?n.effects.push(...e):n.effects.push(e):XV(e)}function rr(e,n){if(Hi){let i=Hi.provides;const s=Hi.parent&&Hi.parent.provides;s===i&&(i=Hi.provides=Object.create(s)),i[e]=n}}function An(e,n,i=!1){const s=Hi||ns;if(s){const a=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(a&&e in a)return a[e];if(arguments.length>1)return i&&Vn(n)?n.call(s.proxy):n}}function Yi(e,n){return Hy(e,null,n)}const cC={};function Ct(e,n,i){return Hy(e,n,i)}function Hy(e,n,{immediate:i,deep:s,flush:a,onTrack:u,onTrigger:f}=ni){const h=Hi;let v,y=!1,b=!1;if(Qr(e)?(v=()=>e.value,y=f0(e)):bd(e)?(v=()=>e,s=!0):hn(e)?(b=!0,y=e.some(P=>bd(P)||f0(P)),v=()=>e.map(P=>{if(Qr(P))return P.value;if(bd(P))return Qc(P);if(Vn(P))return Wa(P,h,2)})):Vn(e)?n?v=()=>Wa(e,h,2):v=()=>{if(!(h&&h.isUnmounted))return E&&E(),ao(e,h,3,[w])}:v=Lr,n&&s){const P=v;v=()=>Qc(P())}let E,w=P=>{E=T.onStop=()=>{Wa(P,h,4)}};if(Ch)return w=Lr,n?i&&ao(n,h,3,[v(),b?[]:void 0,w]):v(),Lr;let C=b?[]:cC;const x=()=>{if(!!T.active)if(n){const P=T.run();(s||y||(b?P.some((F,B)=>_h(F,C[B])):_h(P,C)))&&(E&&E(),ao(n,h,3,[P,C===cC?void 0:C,w]),C=P)}else T.run()};x.allowRecurse=!!n;let M;a==="sync"?M=x:a==="post"?M=()=>Ss(x,h&&h.suspense):M=()=>QV(x);const T=new Dy(v,M);return n?i?x():C=T.run():a==="post"?Ss(T.run.bind(T),h&&h.suspense):T.run(),()=>{T.stop(),h&&h.scope&&Ny(h.scope.effects,T)}}function JV(e,n,i){const s=this.proxy,a=Gn(e)?e.includes(".")?sx(s,e):()=>s[e]:e.bind(s,s);let u;Vn(n)?u=n:(u=n.handler,i=n);const f=Hi;Md(this);const h=Hy(a,u.bind(s),i);return f?Md(f):Jc(),h}function sx(e,n){const i=n.split(".");return()=>{let s=e;for(let a=0;a<i.length&&s;a++)s=s[i[a]];return s}}function Qc(e,n){if(!ur(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),Qr(e))Qc(e.value,n);else if(hn(e))for(let i=0;i<e.length;i++)Qc(e[i],n);else if(Dg(e)||yd(e))e.forEach(i=>{Qc(i,n)});else if(TM(e))for(const i in e)Qc(e[i],n);return e}function ox(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return jn(()=>{e.isMounted=!0}),vi(()=>{e.isUnmounting=!0}),e}const no=[Function,Array],ZV={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:no,onEnter:no,onAfterEnter:no,onEnterCancelled:no,onBeforeLeave:no,onLeave:no,onAfterLeave:no,onLeaveCancelled:no,onBeforeAppear:no,onAppear:no,onAfterAppear:no,onAppearCancelled:no},setup(e,{slots:n}){const i=qn(),s=ox();let a;return()=>{const u=n.default&&Qy(n.default(),!0);if(!u||!u.length)return;let f=u[0];if(u.length>1){for(const M of u)if(M.type!==ps){f=M;break}}const h=Pr(e),{mode:v}=h;if(s.isLeaving)return RA(f);const y=uC(f);if(!y)return RA(f);const b=Sh(y,h,s,i);Eh(y,b);const E=i.subTree,w=E&&uC(E);let C=!1;const{getTransitionKey:x}=y.type;if(x){const M=x();a===void 0?a=M:M!==a&&(a=M,C=!0)}if(w&&w.type!==ps&&(!Fc(y,w)||C)){const M=Sh(w,h,s,i);if(Eh(w,M),v==="out-in")return s.isLeaving=!0,M.afterLeave=()=>{s.isLeaving=!1,i.update()},RA(f);v==="in-out"&&y.type!==ps&&(M.delayLeave=(T,P,F)=>{const B=lx(s,w);B[String(w.key)]=w,T._leaveCb=()=>{P(),T._leaveCb=void 0,delete b.delayedLeave},b.delayedLeave=F})}return f}}},ax=ZV;function lx(e,n){const{leavingVNodes:i}=e;let s=i.get(n.type);return s||(s=Object.create(null),i.set(n.type,s)),s}function Sh(e,n,i,s){const{appear:a,mode:u,persisted:f=!1,onBeforeEnter:h,onEnter:v,onAfterEnter:y,onEnterCancelled:b,onBeforeLeave:E,onLeave:w,onAfterLeave:C,onLeaveCancelled:x,onBeforeAppear:M,onAppear:T,onAfterAppear:P,onAppearCancelled:F}=n,B=String(e.key),G=lx(i,e),Q=(te,ie)=>{te&&ao(te,s,9,ie)},H=(te,ie)=>{const ue=ie[1];Q(te,ie),hn(te)?te.every(be=>be.length<=1)&&ue():te.length<=1&&ue()},J={mode:u,persisted:f,beforeEnter(te){let ie=h;if(!i.isMounted)if(a)ie=M||h;else return;te._leaveCb&&te._leaveCb(!0);const ue=G[B];ue&&Fc(e,ue)&&ue.el._leaveCb&&ue.el._leaveCb(),Q(ie,[te])},enter(te){let ie=v,ue=y,be=b;if(!i.isMounted)if(a)ie=T||v,ue=P||y,be=F||b;else return;let me=!1;const de=te._enterCb=ye=>{me||(me=!0,ye?Q(be,[te]):Q(ue,[te]),J.delayedLeave&&J.delayedLeave(),te._enterCb=void 0)};ie?H(ie,[te,de]):de()},leave(te,ie){const ue=String(e.key);if(te._enterCb&&te._enterCb(!0),i.isUnmounting)return ie();Q(E,[te]);let be=!1;const me=te._leaveCb=de=>{be||(be=!0,ie(),de?Q(x,[te]):Q(C,[te]),te._leaveCb=void 0,G[ue]===e&&delete G[ue])};G[ue]=e,w?H(w,[te,me]):me()},clone(te){return Sh(te,n,i,s)}};return J}function RA(e){if(Ug(e))return e=Ya(e),e.children=null,e}function uC(e){return Ug(e)?e.children?e.children[0]:void 0:e}function Eh(e,n){e.shapeFlag&6&&e.component?Eh(e.component.subTree,n):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function Qy(e,n=!1,i){let s=[],a=0;for(let u=0;u<e.length;u++){let f=e[u];const h=i==null?f.key:String(i)+String(f.key!=null?f.key:u);f.type===vn?(f.patchFlag&128&&a++,s=s.concat(Qy(f.children,n,h))):(n||f.type!==ps)&&s.push(h!=null?Ya(f,{key:h}):f)}if(a>1)for(let u=0;u<s.length;u++)s[u].patchFlag=-2;return s}function yt(e){return Vn(e)?{setup:e,name:e.name}:e}const ih=e=>!!e.type.__asyncLoader,Ug=e=>e.type.__isKeepAlive;function eG(e,n){ux(e,"a",n)}function cx(e,n){ux(e,"da",n)}function ux(e,n,i=Hi){const s=e.__wdc||(e.__wdc=()=>{let a=i;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Hg(n,s,i),i){let a=i.parent;for(;a&&a.parent;)Ug(a.parent.vnode)&&tG(s,n,i,a),a=a.parent}}function tG(e,n,i,s){const a=Hg(n,e,s,!0);hu(()=>{Ny(s[n],a)},i)}function Hg(e,n,i=Hi,s=!1){if(i){const a=i[e]||(i[e]=[]),u=n.__weh||(n.__weh=(...f)=>{if(i.isUnmounted)return;du(),Md(i);const h=ao(n,i,e,f);return Jc(),fu(),h});return s?a.unshift(u):a.push(u),u}}const nl=e=>(n,i=Hi)=>(!Ch||e==="sp")&&Hg(e,n,i),Qg=nl("bm"),jn=nl("m"),dx=nl("bu"),ya=nl("u"),vi=nl("bum"),hu=nl("um"),nG=nl("sp"),rG=nl("rtg"),iG=nl("rtc");function sG(e,n=Hi){Hg("ec",e,n)}function Qn(e,n){const i=ns;if(i===null)return e;const s=$g(i)||i.proxy,a=e.dirs||(e.dirs=[]);for(let u=0;u<n.length;u++){let[f,h,v,y=ni]=n[u];Vn(f)&&(f={mounted:f,updated:f}),f.deep&&Qc(h),a.push({dir:f,instance:s,value:h,oldValue:void 0,arg:v,modifiers:y})}return e}function Nc(e,n,i,s){const a=e.dirs,u=n&&n.dirs;for(let f=0;f<a.length;f++){const h=a[f];u&&(h.oldValue=u[f].value);let v=h.dir[s];v&&(du(),ao(v,i,8,[e.el,h,e,n]),fu())}}const Xy="components",oG="directives";function gn(e,n){return zy(Xy,e,!0,n)||e}const fx=Symbol();function er(e){return Gn(e)?zy(Xy,e,!1)||e:e||fx}function iu(e){return zy(oG,e)}function zy(e,n,i=!0,s=!1){const a=ns||Hi;if(a){const u=a.type;if(e===Xy){const h=Mx(u,!1);if(h&&(h===n||h===fo(n)||h===$h(fo(n))))return u}const f=dC(a[e]||u[e],n)||dC(a.appContext[e],n);return!f&&s?u:f}}function dC(e,n){return e&&(e[n]||e[fo(n)]||e[$h(fo(n))])}function cr(e,n,i,s){let a;const u=i&&i[s];if(hn(e)||Gn(e)){a=new Array(e.length);for(let f=0,h=e.length;f<h;f++)a[f]=n(e[f],f,void 0,u&&u[f])}else if(typeof e=="number"){a=new Array(e);for(let f=0;f<e;f++)a[f]=n(f+1,f,void 0,u&&u[f])}else if(ur(e))if(e[Symbol.iterator])a=Array.from(e,(f,h)=>n(f,h,void 0,u&&u[h]));else{const f=Object.keys(e);a=new Array(f.length);for(let h=0,v=f.length;h<v;h++){const y=f[h];a[h]=n(e[y],y,h,u&&u[h])}}else a=[];return i&&(i[s]=a),a}function $l(e,n){for(let i=0;i<n.length;i++){const s=n[i];if(hn(s))for(let a=0;a<s.length;a++)e[s[a].name]=s[a].fn;else s&&(e[s.name]=s.fn)}return e}function _t(e,n,i={},s,a){if(ns.isCE||ns.parent&&ih(ns.parent)&&ns.parent.isCE)return Me("slot",n==="default"?null:{name:n},s&&s());let u=e[n];u&&u._c&&(u._d=!1),X();const f=u&&hx(u(i)),h=nt(vn,{key:i.key||`_${n}`},f||(s?s():[]),f&&e._===1?64:-2);return!a&&h.scopeId&&(h.slotScopeIds=[h.scopeId+"-s"]),u&&u._c&&(u._d=!0),h}function hx(e){return e.some(n=>gi(n)?!(n.type===ps||n.type===vn&&!hx(n.children)):!0)?e:null}function aG(e){const n={};for(const i in e)n[xm(i)]=e[i];return n}const m0=e=>e?wx(e)?$g(e)||e.proxy:m0(e.parent):null,cg=Xi(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>m0(e.parent),$root:e=>m0(e.root),$emit:e=>e.emit,$options:e=>mx(e),$forceUpdate:e=>e.f||(e.f=()=>YM(e.update)),$nextTick:e=>e.n||(e.n=dn.bind(e.proxy)),$watch:e=>JV.bind(e)}),lG={get({_:e},n){const{ctx:i,setupState:s,data:a,props:u,accessCache:f,type:h,appContext:v}=e;let y;if(n[0]!=="$"){const C=f[n];if(C!==void 0)switch(C){case 1:return s[n];case 2:return a[n];case 4:return i[n];case 3:return u[n]}else{if(s!==ni&&ar(s,n))return f[n]=1,s[n];if(a!==ni&&ar(a,n))return f[n]=2,a[n];if((y=e.propsOptions[0])&&ar(y,n))return f[n]=3,u[n];if(i!==ni&&ar(i,n))return f[n]=4,i[n];g0&&(f[n]=0)}}const b=cg[n];let E,w;if(b)return n==="$attrs"&&$s(e,"get",n),b(e);if((E=h.__cssModules)&&(E=E[n]))return E;if(i!==ni&&ar(i,n))return f[n]=4,i[n];if(w=v.config.globalProperties,ar(w,n))return w[n]},set({_:e},n,i){const{data:s,setupState:a,ctx:u}=e;return a!==ni&&ar(a,n)?(a[n]=i,!0):s!==ni&&ar(s,n)?(s[n]=i,!0):ar(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(u[n]=i,!0)},has({_:{data:e,setupState:n,accessCache:i,ctx:s,appContext:a,propsOptions:u}},f){let h;return!!i[f]||e!==ni&&ar(e,f)||n!==ni&&ar(n,f)||(h=u[0])&&ar(h,f)||ar(s,f)||ar(cg,f)||ar(a.config.globalProperties,f)},defineProperty(e,n,i){return i.get!=null?e._.accessCache[n]=0:ar(i,"value")&&this.set(e,n,i.value,null),Reflect.defineProperty(e,n,i)}};let g0=!0;function cG(e){const n=mx(e),i=e.proxy,s=e.ctx;g0=!1,n.beforeCreate&&fC(n.beforeCreate,e,"bc");const{data:a,computed:u,methods:f,watch:h,provide:v,inject:y,created:b,beforeMount:E,mounted:w,beforeUpdate:C,updated:x,activated:M,deactivated:T,beforeDestroy:P,beforeUnmount:F,destroyed:B,unmounted:G,render:Q,renderTracked:H,renderTriggered:J,errorCaptured:te,serverPrefetch:ie,expose:ue,inheritAttrs:be,components:me,directives:de,filters:ye}=n;if(y&&uG(y,s,null,e.appContext.config.unwrapInjectedRef),f)for(const fe in f){const _e=f[fe];Vn(_e)&&(s[fe]=_e.bind(i))}if(a){const fe=a.call(i,i);ur(fe)&&(e.data=xr(fe))}if(g0=!0,u)for(const fe in u){const _e=u[fe],oe=Vn(_e)?_e.bind(i,i):Vn(_e.get)?_e.get.bind(i,i):Lr,Te=!Vn(_e)&&Vn(_e.set)?_e.set.bind(i):Lr,Le=$({get:oe,set:Te});Object.defineProperty(s,fe,{enumerable:!0,configurable:!0,get:()=>Le.value,set:xe=>Le.value=xe})}if(h)for(const fe in h)px(h[fe],s,i,fe);if(v){const fe=Vn(v)?v.call(i):v;Reflect.ownKeys(fe).forEach(_e=>{rr(_e,fe[_e])})}b&&fC(b,e,"c");function Ee(fe,_e){hn(_e)?_e.forEach(oe=>fe(oe.bind(i))):_e&&fe(_e.bind(i))}if(Ee(Qg,E),Ee(jn,w),Ee(dx,C),Ee(ya,x),Ee(eG,M),Ee(cx,T),Ee(sG,te),Ee(iG,H),Ee(rG,J),Ee(vi,F),Ee(hu,G),Ee(nG,ie),hn(ue))if(ue.length){const fe=e.exposed||(e.exposed={});ue.forEach(_e=>{Object.defineProperty(fe,_e,{get:()=>i[_e],set:oe=>i[_e]=oe})})}else e.exposed||(e.exposed={});Q&&e.render===Lr&&(e.render=Q),be!=null&&(e.inheritAttrs=be),me&&(e.components=me),de&&(e.directives=de)}function uG(e,n,i=Lr,s=!1){hn(e)&&(e=v0(e));for(const a in e){const u=e[a];let f;ur(u)?"default"in u?f=An(u.from||a,u.default,!0):f=An(u.from||a):f=An(u),Qr(f)&&s?Object.defineProperty(n,a,{enumerable:!0,configurable:!0,get:()=>f.value,set:h=>f.value=h}):n[a]=f}}function fC(e,n,i){ao(hn(e)?e.map(s=>s.bind(n.proxy)):e.bind(n.proxy),n,i)}function px(e,n,i,s){const a=s.includes(".")?sx(i,s):()=>i[s];if(Gn(e)){const u=n[e];Vn(u)&&Ct(a,u)}else if(Vn(e))Ct(a,e.bind(i));else if(ur(e))if(hn(e))e.forEach(u=>px(u,n,i,s));else{const u=Vn(e.handler)?e.handler.bind(i):n[e.handler];Vn(u)&&Ct(a,u,e)}}function mx(e){const n=e.type,{mixins:i,extends:s}=n,{mixins:a,optionsCache:u,config:{optionMergeStrategies:f}}=e.appContext,h=u.get(n);let v;return h?v=h:!a.length&&!i&&!s?v=n:(v={},a.length&&a.forEach(y=>ug(v,y,f,!0)),ug(v,n,f)),u.set(n,v),v}function ug(e,n,i,s=!1){const{mixins:a,extends:u}=n;u&&ug(e,u,i,!0),a&&a.forEach(f=>ug(e,f,i,!0));for(const f in n)if(!(s&&f==="expose")){const h=dG[f]||i&&i[f];e[f]=h?h(e[f],n[f]):n[f]}return e}const dG={data:hC,props:Lc,emits:Lc,methods:Lc,computed:Lc,beforeCreate:hs,created:hs,beforeMount:hs,mounted:hs,beforeUpdate:hs,updated:hs,beforeDestroy:hs,beforeUnmount:hs,destroyed:hs,unmounted:hs,activated:hs,deactivated:hs,errorCaptured:hs,serverPrefetch:hs,components:Lc,directives:Lc,watch:hG,provide:hC,inject:fG};function hC(e,n){return n?e?function(){return Xi(Vn(e)?e.call(this,this):e,Vn(n)?n.call(this,this):n)}:n:e}function fG(e,n){return Lc(v0(e),v0(n))}function v0(e){if(hn(e)){const n={};for(let i=0;i<e.length;i++)n[e[i]]=e[i];return n}return e}function hs(e,n){return e?[...new Set([].concat(e,n))]:n}function Lc(e,n){return e?Xi(Xi(Object.create(null),e),n):n}function hG(e,n){if(!e)return n;if(!n)return e;const i=Xi(Object.create(null),e);for(const s in n)i[s]=hs(e[s],n[s]);return i}function pG(e,n,i,s=!1){const a={},u={};sg(u,Xg,1),e.propsDefaults=Object.create(null),gx(e,n,a,u);for(const f in e.propsOptions[0])f in a||(a[f]=void 0);i?e.props=s?a:QM(a):e.type.props?e.props=a:e.props=u,e.attrs=u}function mG(e,n,i,s){const{props:a,attrs:u,vnode:{patchFlag:f}}=e,h=Pr(a),[v]=e.propsOptions;let y=!1;if((s||f>0)&&!(f&16)){if(f&8){const b=e.vnode.dynamicProps;for(let E=0;E<b.length;E++){let w=b[E];if(Vg(e.emitsOptions,w))continue;const C=n[w];if(v)if(ar(u,w))C!==u[w]&&(u[w]=C,y=!0);else{const x=fo(w);a[x]=_0(v,h,x,C,e,!1)}else C!==u[w]&&(u[w]=C,y=!0)}}}else{gx(e,n,a,u)&&(y=!0);let b;for(const E in h)(!n||!ar(n,E)&&((b=Jl(E))===E||!ar(n,b)))&&(v?i&&(i[E]!==void 0||i[b]!==void 0)&&(a[E]=_0(v,h,E,void 0,e,!0)):delete a[E]);if(u!==h)for(const E in u)(!n||!ar(n,E)&&!0)&&(delete u[E],y=!0)}y&&qa(e,"set","$attrs")}function gx(e,n,i,s){const[a,u]=e.propsOptions;let f=!1,h;if(n)for(let v in n){if(Mm(v))continue;const y=n[v];let b;a&&ar(a,b=fo(v))?!u||!u.includes(b)?i[b]=y:(h||(h={}))[b]=y:Vg(e.emitsOptions,v)||(!(v in s)||y!==s[v])&&(s[v]=y,f=!0)}if(u){const v=Pr(i),y=h||ni;for(let b=0;b<u.length;b++){const E=u[b];i[E]=_0(a,v,E,y[E],e,!ar(y,E))}}return f}function _0(e,n,i,s,a,u){const f=e[i];if(f!=null){const h=ar(f,"default");if(h&&s===void 0){const v=f.default;if(f.type!==Function&&Vn(v)){const{propsDefaults:y}=a;i in y?s=y[i]:(Md(a),s=y[i]=v.call(null,n),Jc())}else s=v}f[0]&&(u&&!h?s=!1:f[1]&&(s===""||s===Jl(i))&&(s=!0))}return s}function vx(e,n,i=!1){const s=n.propsCache,a=s.get(e);if(a)return a;const u=e.props,f={},h=[];let v=!1;if(!Vn(e)){const b=E=>{v=!0;const[w,C]=vx(E,n,!0);Xi(f,w),C&&h.push(...C)};!i&&n.mixins.length&&n.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}if(!u&&!v)return s.set(e,Ad),Ad;if(hn(u))for(let b=0;b<u.length;b++){const E=fo(u[b]);pC(E)&&(f[E]=ni)}else if(u)for(const b in u){const E=fo(b);if(pC(E)){const w=u[b],C=f[E]=hn(w)||Vn(w)?{type:w}:w;if(C){const x=vC(Boolean,C.type),M=vC(String,C.type);C[0]=x>-1,C[1]=M<0||x<M,(x>-1||ar(C,"default"))&&h.push(E)}}}const y=[f,h];return s.set(e,y),y}function pC(e){return e[0]!=="$"}function mC(e){const n=e&&e.toString().match(/^\s*function (\w+)/);return n?n[1]:e===null?"null":""}function gC(e,n){return mC(e)===mC(n)}function vC(e,n){return hn(n)?n.findIndex(i=>gC(i,e)):Vn(n)&&gC(n,e)?0:-1}const _x=e=>e[0]==="_"||e==="$stable",$y=e=>hn(e)?e.map(fa):[fa(e)],gG=(e,n,i)=>{if(n._n)return n;const s=Ue((...a)=>$y(n(...a)),i);return s._c=!1,s},Ax=(e,n,i)=>{const s=e._ctx;for(const a in e){if(_x(a))continue;const u=e[a];if(Vn(u))n[a]=gG(a,u,s);else if(u!=null){const f=$y(u);n[a]=()=>f}}},yx=(e,n)=>{const i=$y(n);e.slots.default=()=>i},vG=(e,n)=>{if(e.vnode.shapeFlag&32){const i=n._;i?(e.slots=Pr(n),sg(n,"_",i)):Ax(n,e.slots={})}else e.slots={},n&&yx(e,n);sg(e.slots,Xg,1)},_G=(e,n,i)=>{const{vnode:s,slots:a}=e;let u=!0,f=ni;if(s.shapeFlag&32){const h=n._;h?i&&h===1?u=!1:(Xi(a,n),!i&&h===1&&delete a._):(u=!n.$stable,Ax(n,a)),f=n}else n&&(yx(e,n),f={default:1});if(u)for(const h in a)!_x(h)&&!(h in f)&&delete a[h]};function bx(){return{app:null,config:{isNativeTag:YF,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let AG=0;function yG(e,n){return function(s,a=null){Vn(s)||(s=Object.assign({},s)),a!=null&&!ur(a)&&(a=null);const u=bx(),f=new Set;let h=!1;const v=u.app={_uid:AG++,_component:s,_props:a,_container:null,_context:u,_instance:null,version:VG,get config(){return u.config},set config(y){},use(y,...b){return f.has(y)||(y&&Vn(y.install)?(f.add(y),y.install(v,...b)):Vn(y)&&(f.add(y),y(v,...b))),v},mixin(y){return u.mixins.includes(y)||u.mixins.push(y),v},component(y,b){return b?(u.components[y]=b,v):u.components[y]},directive(y,b){return b?(u.directives[y]=b,v):u.directives[y]},mount(y,b,E){if(!h){const w=Me(s,a);return w.appContext=u,b&&n?n(w,y):e(w,y,E),h=!0,v._container=y,y.__vue_app__=v,$g(w.component)||w.component.proxy}},unmount(){h&&(e(null,v._container),delete v._container.__vue_app__)},provide(y,b){return u.provides[y]=b,v}};return v}}function A0(e,n,i,s,a=!1){if(hn(e)){e.forEach((w,C)=>A0(w,n&&(hn(n)?n[C]:n),i,s,a));return}if(ih(s)&&!a)return;const u=s.shapeFlag&4?$g(s.component)||s.component.proxy:s.el,f=a?null:u,{i:h,r:v}=e,y=n&&n.r,b=h.refs===ni?h.refs={}:h.refs,E=h.setupState;if(y!=null&&y!==v&&(Gn(y)?(b[y]=null,ar(E,y)&&(E[y]=null)):Qr(y)&&(y.value=null)),Vn(v))Wa(v,h,12,[f,b]);else{const w=Gn(v),C=Qr(v);if(w||C){const x=()=>{if(e.f){const M=w?b[v]:v.value;a?hn(M)&&Ny(M,u):hn(M)?M.includes(u)||M.push(u):w?(b[v]=[u],ar(E,v)&&(E[v]=b[v])):(v.value=[u],e.k&&(b[e.k]=v.value))}else w?(b[v]=f,ar(E,v)&&(E[v]=f)):C&&(v.value=f,e.k&&(b[e.k]=f))};f?(x.id=-1,Ss(x,i)):x()}}}const Ss=YV;function bG(e){return SG(e)}function SG(e,n){const i=nV();i.__VUE__=!0;const{insert:s,remove:a,patchProp:u,createElement:f,createText:h,createComment:v,setText:y,setElementText:b,parentNode:E,nextSibling:w,setScopeId:C=Lr,cloneNode:x,insertStaticContent:M}=e,T=(Be,ze,vt,Lt=null,et=null,xt=null,qe=!1,rt=null,mt=!!ze.dynamicChildren)=>{if(Be===ze)return;Be&&!Fc(Be,ze)&&(Lt=Ve(Be),Fe(Be,et,xt,!0),Be=null),ze.patchFlag===-2&&(mt=!1,ze.dynamicChildren=null);const{type:Et,ref:rn,shapeFlag:it}=ze;switch(Et){case jh:P(Be,ze,vt,Lt);break;case ps:F(Be,ze,vt,Lt);break;case Tm:Be==null&&B(ze,vt,Lt,qe);break;case vn:de(Be,ze,vt,Lt,et,xt,qe,rt,mt);break;default:it&1?H(Be,ze,vt,Lt,et,xt,qe,rt,mt):it&6?ye(Be,ze,vt,Lt,et,xt,qe,rt,mt):(it&64||it&128)&&Et.process(Be,ze,vt,Lt,et,xt,qe,rt,mt,pt)}rn!=null&&et&&A0(rn,Be&&Be.ref,xt,ze||Be,!ze)},P=(Be,ze,vt,Lt)=>{if(Be==null)s(ze.el=h(ze.children),vt,Lt);else{const et=ze.el=Be.el;ze.children!==Be.children&&y(et,ze.children)}},F=(Be,ze,vt,Lt)=>{Be==null?s(ze.el=v(ze.children||""),vt,Lt):ze.el=Be.el},B=(Be,ze,vt,Lt)=>{[Be.el,Be.anchor]=M(Be.children,ze,vt,Lt,Be.el,Be.anchor)},G=({el:Be,anchor:ze},vt,Lt)=>{let et;for(;Be&&Be!==ze;)et=w(Be),s(Be,vt,Lt),Be=et;s(ze,vt,Lt)},Q=({el:Be,anchor:ze})=>{let vt;for(;Be&&Be!==ze;)vt=w(Be),a(Be),Be=vt;a(ze)},H=(Be,ze,vt,Lt,et,xt,qe,rt,mt)=>{qe=qe||ze.type==="svg",Be==null?J(ze,vt,Lt,et,xt,qe,rt,mt):ue(Be,ze,et,xt,qe,rt,mt)},J=(Be,ze,vt,Lt,et,xt,qe,rt)=>{let mt,Et;const{type:rn,props:it,shapeFlag:Xt,transition:In,patchFlag:Mn,dirs:Ke}=Be;if(Be.el&&x!==void 0&&Mn===-1)mt=Be.el=x(Be.el);else{if(mt=Be.el=f(Be.type,xt,it&&it.is,it),Xt&8?b(mt,Be.children):Xt&16&&ie(Be.children,mt,null,Lt,et,xt&&rn!=="foreignObject",qe,rt),Ke&&Nc(Be,null,Lt,"created"),it){for(const $e in it)$e!=="value"&&!Mm($e)&&u(mt,$e,null,it[$e],xt,Be.children,Lt,et,At);"value"in it&&u(mt,"value",null,it.value),(Et=it.onVnodeBeforeMount)&&ua(Et,Lt,Be)}te(mt,Be,Be.scopeId,qe,Lt)}Ke&&Nc(Be,null,Lt,"beforeMount");const It=(!et||et&&!et.pendingBranch)&&In&&!In.persisted;It&&In.beforeEnter(mt),s(mt,ze,vt),((Et=it&&it.onVnodeMounted)||It||Ke)&&Ss(()=>{Et&&ua(Et,Lt,Be),It&&In.enter(mt),Ke&&Nc(Be,null,Lt,"mounted")},et)},te=(Be,ze,vt,Lt,et)=>{if(vt&&C(Be,vt),Lt)for(let xt=0;xt<Lt.length;xt++)C(Be,Lt[xt]);if(et){let xt=et.subTree;if(ze===xt){const qe=et.vnode;te(Be,qe,qe.scopeId,qe.slotScopeIds,et.parent)}}},ie=(Be,ze,vt,Lt,et,xt,qe,rt,mt=0)=>{for(let Et=mt;Et<Be.length;Et++){const rn=Be[Et]=rt?Fl(Be[Et]):fa(Be[Et]);T(null,rn,ze,vt,Lt,et,xt,qe,rt)}},ue=(Be,ze,vt,Lt,et,xt,qe)=>{const rt=ze.el=Be.el;let{patchFlag:mt,dynamicChildren:Et,dirs:rn}=ze;mt|=Be.patchFlag&16;const it=Be.props||ni,Xt=ze.props||ni;let In;vt&&Pc(vt,!1),(In=Xt.onVnodeBeforeUpdate)&&ua(In,vt,ze,Be),rn&&Nc(ze,Be,vt,"beforeUpdate"),vt&&Pc(vt,!0);const Mn=et&&ze.type!=="foreignObject";if(Et?be(Be.dynamicChildren,Et,rt,vt,Lt,Mn,xt):qe||oe(Be,ze,rt,null,vt,Lt,Mn,xt,!1),mt>0){if(mt&16)me(rt,ze,it,Xt,vt,Lt,et);else if(mt&2&&it.class!==Xt.class&&u(rt,"class",null,Xt.class,et),mt&4&&u(rt,"style",it.style,Xt.style,et),mt&8){const Ke=ze.dynamicProps;for(let It=0;It<Ke.length;It++){const $e=Ke[It],Rt=it[$e],Qe=Xt[$e];(Qe!==Rt||$e==="value")&&u(rt,$e,Rt,Qe,et,Be.children,vt,Lt,At)}}mt&1&&Be.children!==ze.children&&b(rt,ze.children)}else!qe&&Et==null&&me(rt,ze,it,Xt,vt,Lt,et);((In=Xt.onVnodeUpdated)||rn)&&Ss(()=>{In&&ua(In,vt,ze,Be),rn&&Nc(ze,Be,vt,"updated")},Lt)},be=(Be,ze,vt,Lt,et,xt,qe)=>{for(let rt=0;rt<ze.length;rt++){const mt=Be[rt],Et=ze[rt],rn=mt.el&&(mt.type===vn||!Fc(mt,Et)||mt.shapeFlag&70)?E(mt.el):vt;T(mt,Et,rn,null,Lt,et,xt,qe,!0)}},me=(Be,ze,vt,Lt,et,xt,qe)=>{if(vt!==Lt){for(const rt in Lt){if(Mm(rt))continue;const mt=Lt[rt],Et=vt[rt];mt!==Et&&rt!=="value"&&u(Be,rt,Et,mt,qe,ze.children,et,xt,At)}if(vt!==ni)for(const rt in vt)!Mm(rt)&&!(rt in Lt)&&u(Be,rt,vt[rt],null,qe,ze.children,et,xt,At);"value"in Lt&&u(Be,"value",vt.value,Lt.value)}},de=(Be,ze,vt,Lt,et,xt,qe,rt,mt)=>{const Et=ze.el=Be?Be.el:h(""),rn=ze.anchor=Be?Be.anchor:h("");let{patchFlag:it,dynamicChildren:Xt,slotScopeIds:In}=ze;In&&(rt=rt?rt.concat(In):In),Be==null?(s(Et,vt,Lt),s(rn,vt,Lt),ie(ze.children,vt,rn,et,xt,qe,rt,mt)):it>0&&it&64&&Xt&&Be.dynamicChildren?(be(Be.dynamicChildren,Xt,vt,et,xt,qe,rt),(ze.key!=null||et&&ze===et.subTree)&&Wy(Be,ze,!0)):oe(Be,ze,vt,rn,et,xt,qe,rt,mt)},ye=(Be,ze,vt,Lt,et,xt,qe,rt,mt)=>{ze.slotScopeIds=rt,Be==null?ze.shapeFlag&512?et.ctx.activate(ze,vt,Lt,qe,mt):ve(ze,vt,Lt,et,xt,qe,mt):Ee(Be,ze,mt)},ve=(Be,ze,vt,Lt,et,xt,qe)=>{const rt=Be.component=PG(Be,Lt,et);if(Ug(Be)&&(rt.ctx.renderer=pt),BG(rt),rt.asyncDep){if(et&&et.registerDep(rt,fe),!Be.el){const mt=rt.subTree=Me(ps);F(null,mt,ze,vt)}return}fe(rt,Be,ze,vt,et,xt,qe)},Ee=(Be,ze,vt)=>{const Lt=ze.component=Be.component;if(KV(Be,ze,vt))if(Lt.asyncDep&&!Lt.asyncResolved){_e(Lt,ze,vt);return}else Lt.next=ze,HV(Lt.update),Lt.update();else ze.el=Be.el,Lt.vnode=ze},fe=(Be,ze,vt,Lt,et,xt,qe)=>{const rt=()=>{if(Be.isMounted){let{next:rn,bu:it,u:Xt,parent:In,vnode:Mn}=Be,Ke=rn,It;Pc(Be,!1),rn?(rn.el=Mn.el,_e(Be,rn,qe)):rn=Mn,it&&Rm(it),(It=rn.props&&rn.props.onVnodeBeforeUpdate)&&ua(It,In,rn,Mn),Pc(Be,!0);const $e=xA(Be),Rt=Be.subTree;Be.subTree=$e,T(Rt,$e,E(Rt.el),Ve(Rt),Be,et,xt),rn.el=$e.el,Ke===null&&jV(Be,$e.el),Xt&&Ss(Xt,et),(It=rn.props&&rn.props.onVnodeUpdated)&&Ss(()=>ua(It,In,rn,Mn),et)}else{let rn;const{el:it,props:Xt}=ze,{bm:In,m:Mn,parent:Ke}=Be,It=ih(ze);if(Pc(Be,!1),In&&Rm(In),!It&&(rn=Xt&&Xt.onVnodeBeforeMount)&&ua(rn,Ke,ze),Pc(Be,!0),it&&_n){const $e=()=>{Be.subTree=xA(Be),_n(it,Be.subTree,Be,et,null)};It?ze.type.__asyncLoader().then(()=>!Be.isUnmounted&&$e()):$e()}else{const $e=Be.subTree=xA(Be);T(null,$e,vt,Lt,Be,et,xt),ze.el=$e.el}if(Mn&&Ss(Mn,et),!It&&(rn=Xt&&Xt.onVnodeMounted)){const $e=ze;Ss(()=>ua(rn,Ke,$e),et)}(ze.shapeFlag&256||Ke&&ih(Ke.vnode)&&Ke.vnode.shapeFlag&256)&&Be.a&&Ss(Be.a,et),Be.isMounted=!0,ze=vt=Lt=null}},mt=Be.effect=new Dy(rt,()=>YM(Et),Be.scope),Et=Be.update=()=>mt.run();Et.id=Be.uid,Pc(Be,!0),Et()},_e=(Be,ze,vt)=>{ze.component=Be;const Lt=Be.vnode.props;Be.vnode=ze,Be.next=null,mG(Be,ze.props,Lt,vt),_G(Be,ze.children,vt),du(),Fg(void 0,Be.update),fu()},oe=(Be,ze,vt,Lt,et,xt,qe,rt,mt=!1)=>{const Et=Be&&Be.children,rn=Be?Be.shapeFlag:0,it=ze.children,{patchFlag:Xt,shapeFlag:In}=ze;if(Xt>0){if(Xt&128){Le(Et,it,vt,Lt,et,xt,qe,rt,mt);return}else if(Xt&256){Te(Et,it,vt,Lt,et,xt,qe,rt,mt);return}}In&8?(rn&16&&At(Et,et,xt),it!==Et&&b(vt,it)):rn&16?In&16?Le(Et,it,vt,Lt,et,xt,qe,rt,mt):At(Et,et,xt,!0):(rn&8&&b(vt,""),In&16&&ie(it,vt,Lt,et,xt,qe,rt,mt))},Te=(Be,ze,vt,Lt,et,xt,qe,rt,mt)=>{Be=Be||Ad,ze=ze||Ad;const Et=Be.length,rn=ze.length,it=Math.min(Et,rn);let Xt;for(Xt=0;Xt<it;Xt++){const In=ze[Xt]=mt?Fl(ze[Xt]):fa(ze[Xt]);T(Be[Xt],In,vt,null,et,xt,qe,rt,mt)}Et>rn?At(Be,et,xt,!0,!1,it):ie(ze,vt,Lt,et,xt,qe,rt,mt,it)},Le=(Be,ze,vt,Lt,et,xt,qe,rt,mt)=>{let Et=0;const rn=ze.length;let it=Be.length-1,Xt=rn-1;for(;Et<=it&&Et<=Xt;){const In=Be[Et],Mn=ze[Et]=mt?Fl(ze[Et]):fa(ze[Et]);if(Fc(In,Mn))T(In,Mn,vt,null,et,xt,qe,rt,mt);else break;Et++}for(;Et<=it&&Et<=Xt;){const In=Be[it],Mn=ze[Xt]=mt?Fl(ze[Xt]):fa(ze[Xt]);if(Fc(In,Mn))T(In,Mn,vt,null,et,xt,qe,rt,mt);else break;it--,Xt--}if(Et>it){if(Et<=Xt){const In=Xt+1,Mn=In<rn?ze[In].el:Lt;for(;Et<=Xt;)T(null,ze[Et]=mt?Fl(ze[Et]):fa(ze[Et]),vt,Mn,et,xt,qe,rt,mt),Et++}}else if(Et>Xt)for(;Et<=it;)Fe(Be[Et],et,xt,!0),Et++;else{const In=Et,Mn=Et,Ke=new Map;for(Et=Mn;Et<=Xt;Et++){const un=ze[Et]=mt?Fl(ze[Et]):fa(ze[Et]);un.key!=null&&Ke.set(un.key,Et)}let It,$e=0;const Rt=Xt-Mn+1;let Qe=!1,Dt=0;const Qt=new Array(Rt);for(Et=0;Et<Rt;Et++)Qt[Et]=0;for(Et=In;Et<=it;Et++){const un=Be[Et];if($e>=Rt){Fe(un,et,xt,!0);continue}let Ar;if(un.key!=null)Ar=Ke.get(un.key);else for(It=Mn;It<=Xt;It++)if(Qt[It-Mn]===0&&Fc(un,ze[It])){Ar=It;break}Ar===void 0?Fe(un,et,xt,!0):(Qt[Ar-Mn]=Et+1,Ar>=Dt?Dt=Ar:Qe=!0,T(un,ze[Ar],vt,null,et,xt,qe,rt,mt),$e++)}const Yt=Qe?EG(Qt):Ad;for(It=Yt.length-1,Et=Rt-1;Et>=0;Et--){const un=Mn+Et,Ar=ze[un],ir=un+1<rn?ze[un+1].el:Lt;Qt[Et]===0?T(null,Ar,vt,ir,et,xt,qe,rt,mt):Qe&&(It<0||Et!==Yt[It]?xe(Ar,vt,ir,2):It--)}}},xe=(Be,ze,vt,Lt,et=null)=>{const{el:xt,type:qe,transition:rt,children:mt,shapeFlag:Et}=Be;if(Et&6){xe(Be.component.subTree,ze,vt,Lt);return}if(Et&128){Be.suspense.move(ze,vt,Lt);return}if(Et&64){qe.move(Be,ze,vt,pt);return}if(qe===vn){s(xt,ze,vt);for(let it=0;it<mt.length;it++)xe(mt[it],ze,vt,Lt);s(Be.anchor,ze,vt);return}if(qe===Tm){G(Be,ze,vt);return}if(Lt!==2&&Et&1&&rt)if(Lt===0)rt.beforeEnter(xt),s(xt,ze,vt),Ss(()=>rt.enter(xt),et);else{const{leave:it,delayLeave:Xt,afterLeave:In}=rt,Mn=()=>s(xt,ze,vt),Ke=()=>{it(xt,()=>{Mn(),In&&In()})};Xt?Xt(xt,Mn,Ke):Ke()}else s(xt,ze,vt)},Fe=(Be,ze,vt,Lt=!1,et=!1)=>{const{type:xt,props:qe,ref:rt,children:mt,dynamicChildren:Et,shapeFlag:rn,patchFlag:it,dirs:Xt}=Be;if(rt!=null&&A0(rt,null,vt,Be,!0),rn&256){ze.ctx.deactivate(Be);return}const In=rn&1&&Xt,Mn=!ih(Be);let Ke;if(Mn&&(Ke=qe&&qe.onVnodeBeforeUnmount)&&ua(Ke,ze,Be),rn&6)Pt(Be.component,vt,Lt);else{if(rn&128){Be.suspense.unmount(vt,Lt);return}In&&Nc(Be,null,ze,"beforeUnmount"),rn&64?Be.type.remove(Be,ze,vt,et,pt,Lt):Et&&(xt!==vn||it>0&&it&64)?At(Et,ze,vt,!1,!0):(xt===vn&&it&384||!et&&rn&16)&&At(mt,ze,vt),Lt&&ft(Be)}(Mn&&(Ke=qe&&qe.onVnodeUnmounted)||In)&&Ss(()=>{Ke&&ua(Ke,ze,Be),In&&Nc(Be,null,ze,"unmounted")},vt)},ft=Be=>{const{type:ze,el:vt,anchor:Lt,transition:et}=Be;if(ze===vn){St(vt,Lt);return}if(ze===Tm){Q(Be);return}const xt=()=>{a(vt),et&&!et.persisted&&et.afterLeave&&et.afterLeave()};if(Be.shapeFlag&1&&et&&!et.persisted){const{leave:qe,delayLeave:rt}=et,mt=()=>qe(vt,xt);rt?rt(Be.el,xt,mt):mt()}else xt()},St=(Be,ze)=>{let vt;for(;Be!==ze;)vt=w(Be),a(Be),Be=vt;a(ze)},Pt=(Be,ze,vt)=>{const{bum:Lt,scope:et,update:xt,subTree:qe,um:rt}=Be;Lt&&Rm(Lt),et.stop(),xt&&(xt.active=!1,Fe(qe,Be,ze,vt)),rt&&Ss(rt,ze),Ss(()=>{Be.isUnmounted=!0},ze),ze&&ze.pendingBranch&&!ze.isUnmounted&&Be.asyncDep&&!Be.asyncResolved&&Be.suspenseId===ze.pendingId&&(ze.deps--,ze.deps===0&&ze.resolve())},At=(Be,ze,vt,Lt=!1,et=!1,xt=0)=>{for(let qe=xt;qe<Be.length;qe++)Fe(Be[qe],ze,vt,Lt,et)},Ve=Be=>Be.shapeFlag&6?Ve(Be.component.subTree):Be.shapeFlag&128?Be.suspense.next():w(Be.anchor||Be.el),at=(Be,ze,vt)=>{Be==null?ze._vnode&&Fe(ze._vnode,null,null,!0):T(ze._vnode||null,Be,ze,null,null,null,vt),ex(),ze._vnode=Be},pt={p:T,um:Fe,m:xe,r:ft,mt:ve,mc:ie,pc:oe,pbc:be,n:Ve,o:e};let nn,_n;return n&&([nn,_n]=n(pt)),{render:at,hydrate:nn,createApp:yG(at,nn)}}function Pc({effect:e,update:n},i){e.allowRecurse=n.allowRecurse=i}function Wy(e,n,i=!1){const s=e.children,a=n.children;if(hn(s)&&hn(a))for(let u=0;u<s.length;u++){const f=s[u];let h=a[u];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=a[u]=Fl(a[u]),h.el=f.el),i||Wy(f,h))}}function EG(e){const n=e.slice(),i=[0];let s,a,u,f,h;const v=e.length;for(s=0;s<v;s++){const y=e[s];if(y!==0){if(a=i[i.length-1],e[a]<y){n[s]=a,i.push(s);continue}for(u=0,f=i.length-1;u<f;)h=u+f>>1,e[i[h]]<y?u=h+1:f=h;y<e[i[u]]&&(u>0&&(n[s]=i[u-1]),i[u]=s)}}for(u=i.length,f=i[u-1];u-- >0;)i[u]=f,f=n[f];return i}const wG=e=>e.__isTeleport,sh=e=>e&&(e.disabled||e.disabled===""),_C=e=>typeof SVGElement<"u"&&e instanceof SVGElement,y0=(e,n)=>{const i=e&&e.to;return Gn(i)?n?n(i):null:i},CG={__isTeleport:!0,process(e,n,i,s,a,u,f,h,v,y){const{mc:b,pc:E,pbc:w,o:{insert:C,querySelector:x,createText:M,createComment:T}}=y,P=sh(n.props);let{shapeFlag:F,children:B,dynamicChildren:G}=n;if(e==null){const Q=n.el=M(""),H=n.anchor=M("");C(Q,i,s),C(H,i,s);const J=n.target=y0(n.props,x),te=n.targetAnchor=M("");J&&(C(te,J),f=f||_C(J));const ie=(ue,be)=>{F&16&&b(B,ue,be,a,u,f,h,v)};P?ie(i,H):J&&ie(J,te)}else{n.el=e.el;const Q=n.anchor=e.anchor,H=n.target=e.target,J=n.targetAnchor=e.targetAnchor,te=sh(e.props),ie=te?i:H,ue=te?Q:J;if(f=f||_C(H),G?(w(e.dynamicChildren,G,ie,a,u,f,h),Wy(e,n,!0)):v||E(e,n,ie,ue,a,u,f,h,!1),P)te||fm(n,i,Q,y,1);else if((n.props&&n.props.to)!==(e.props&&e.props.to)){const be=n.target=y0(n.props,x);be&&fm(n,be,null,y,0)}else te&&fm(n,H,J,y,1)}},remove(e,n,i,s,{um:a,o:{remove:u}},f){const{shapeFlag:h,children:v,anchor:y,targetAnchor:b,target:E,props:w}=e;if(E&&u(b),(f||!sh(w))&&(u(y),h&16))for(let C=0;C<v.length;C++){const x=v[C];a(x,n,i,!0,!!x.dynamicChildren)}},move:fm,hydrate:IG};function fm(e,n,i,{o:{insert:s},m:a},u=2){u===0&&s(e.targetAnchor,n,i);const{el:f,anchor:h,shapeFlag:v,children:y,props:b}=e,E=u===2;if(E&&s(f,n,i),(!E||sh(b))&&v&16)for(let w=0;w<y.length;w++)a(y[w],n,i,2);E&&s(h,n,i)}function IG(e,n,i,s,a,u,{o:{nextSibling:f,parentNode:h,querySelector:v}},y){const b=n.target=y0(n.props,v);if(b){const E=b._lpa||b.firstChild;if(n.shapeFlag&16)if(sh(n.props))n.anchor=y(f(e),n,h(e),i,s,a,u),n.targetAnchor=E;else{n.anchor=f(e);let w=E;for(;w;)if(w=f(w),w&&w.nodeType===8&&w.data==="teleport anchor"){n.targetAnchor=w,b._lpa=n.targetAnchor&&f(n.targetAnchor);break}y(E,n,b,i,s,a,u)}}return n.anchor&&f(n.anchor)}const Kh=CG,vn=Symbol(void 0),jh=Symbol(void 0),ps=Symbol(void 0),Tm=Symbol(void 0),oh=[];let Go=null;function X(e=!1){oh.push(Go=e?null:[])}function MG(){oh.pop(),Go=oh[oh.length-1]||null}let wh=1;function AC(e){wh+=e}function Sx(e){return e.dynamicChildren=wh>0?Go||Ad:null,MG(),wh>0&&Go&&Go.push(e),e}function ge(e,n,i,s,a,u){return Sx(Ce(e,n,i,s,a,u,!0))}function nt(e,n,i,s,a){return Sx(Me(e,n,i,s,a,!0))}function gi(e){return e?e.__v_isVNode===!0:!1}function Fc(e,n){return e.type===n.type&&e.key===n.key}const Xg="__vInternal",Ex=({key:e})=>e!=null?e:null,Nm=({ref:e,ref_key:n,ref_for:i})=>e!=null?Gn(e)||Qr(e)||Vn(e)?{i:ns,r:e,k:n,f:!!i}:e:null;function Ce(e,n=null,i=null,s=0,a=null,u=e===vn?0:1,f=!1,h=!1){const v={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&Ex(n),ref:n&&Nm(n),scopeId:Gg,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:s,dynamicProps:a,dynamicChildren:null,appContext:null};return h?(Ky(v,i),u&128&&e.normalize(v)):i&&(v.shapeFlag|=Gn(i)?8:16),wh>0&&!f&&Go&&(v.patchFlag>0||u&6)&&v.patchFlag!==32&&Go.push(v),v}const Me=xG;function xG(e,n=null,i=null,s=0,a=null,u=!1){if((!e||e===fx)&&(e=ps),gi(e)){const h=Ya(e,n,!0);return i&&Ky(h,i),wh>0&&!u&&Go&&(h.shapeFlag&6?Go[Go.indexOf(e)]=h:Go.push(h)),h.patchFlag|=-2,h}if(FG(e)&&(e=e.__vccOpts),n){n=zg(n);let{class:h,style:v}=n;h&&!Gn(h)&&(n.class=q(h)),ur(v)&&(XM(v)&&!hn(v)&&(v=Xi({},v)),n.style=pn(v))}const f=Gn(e)?1:qV(e)?128:wG(e)?64:ur(e)?4:Vn(e)?2:0;return Ce(e,n,i,s,a,f,u,!0)}function zg(e){return e?XM(e)||Xg in e?Xi({},e):e:null}function Ya(e,n,i=!1){const{props:s,ref:a,patchFlag:u,children:f}=e,h=n?nr(s||{},n):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&Ex(h),ref:n&&n.ref?i&&a?hn(a)?a.concat(Nm(n)):[a,Nm(n)]:Nm(n):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:f,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==vn?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ya(e.ssContent),ssFallback:e.ssFallback&&Ya(e.ssFallback),el:e.el,anchor:e.anchor}}function pr(e=" ",n=0){return Me(jh,null,e,n)}function RG(e,n){const i=Me(Tm,null,e);return i.staticCount=n,i}function je(e="",n=!1){return n?(X(),nt(ps,null,e)):Me(ps,null,e)}function fa(e){return e==null||typeof e=="boolean"?Me(ps):hn(e)?Me(vn,null,e.slice()):typeof e=="object"?Fl(e):Me(jh,null,String(e))}function Fl(e){return e.el===null||e.memo?e:Ya(e)}function Ky(e,n){let i=0;const{shapeFlag:s}=e;if(n==null)n=null;else if(hn(n))i=16;else if(typeof n=="object")if(s&65){const a=n.default;a&&(a._c&&(a._d=!1),Ky(e,a()),a._c&&(a._d=!0));return}else{i=32;const a=n._;!a&&!(Xg in n)?n._ctx=ns:a===3&&ns&&(ns.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else Vn(n)?(n={default:n,_ctx:ns},i=32):(n=String(n),s&64?(i=16,n=[pr(n)]):i=8);e.children=n,e.shapeFlag|=i}function nr(...e){const n={};for(let i=0;i<e.length;i++){const s=e[i];for(const a in s)if(a==="class")n.class!==s.class&&(n.class=q([n.class,s.class]));else if(a==="style")n.style=pn([n.style,s.style]);else if(Bg(a)){const u=n[a],f=s[a];f&&u!==f&&!(hn(u)&&u.includes(f))&&(n[a]=u?[].concat(u,f):f)}else a!==""&&(n[a]=s[a])}return n}function ua(e,n,i,s=null){ao(e,n,7,[i,s])}const TG=bx();let NG=0;function PG(e,n,i){const s=e.type,a=(n?n.appContext:e.appContext)||TG,u={uid:NG++,vnode:e,type:s,parent:n,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new NM(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vx(s,a),emitsOptions:nx(s,a),emit:null,emitted:null,propsDefaults:ni,inheritAttrs:s.inheritAttrs,ctx:ni,data:ni,props:ni,attrs:ni,slots:ni,refs:ni,setupState:ni,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=n?n.root:u,u.emit=zV.bind(null,u),e.ce&&e.ce(u),u}let Hi=null;const qn=()=>Hi||ns,Md=e=>{Hi=e,e.scope.on()},Jc=()=>{Hi&&Hi.scope.off(),Hi=null};function wx(e){return e.vnode.shapeFlag&4}let Ch=!1;function BG(e,n=!1){Ch=n;const{props:i,children:s}=e.vnode,a=wx(e);pG(e,i,a,n),vG(e,s);const u=a?DG(e,n):void 0;return Ch=!1,u}function DG(e,n){const i=e.type;e.accessCache=Object.create(null),e.proxy=Yc(new Proxy(e.ctx,lG));const{setup:s}=i;if(s){const a=e.setupContext=s.length>1?Ix(e):null;Md(e),du();const u=Wa(s,e,0,[e.props,a]);if(fu(),Jc(),vh(u)){if(u.then(Jc,Jc),n)return u.then(f=>{yC(e,f,n)}).catch(f=>{Og(f,e,0)});e.asyncDep=u}else yC(e,u,n)}else Cx(e,n)}function yC(e,n,i){Vn(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:ur(n)&&(e.setupState=WM(n)),Cx(e,i)}let bC;function Cx(e,n,i){const s=e.type;if(!e.render){if(!n&&bC&&!s.render){const a=s.template;if(a){const{isCustomElement:u,compilerOptions:f}=e.appContext.config,{delimiters:h,compilerOptions:v}=s,y=Xi(Xi({isCustomElement:u,delimiters:h},f),v);s.render=bC(a,y)}}e.render=s.render||Lr}Md(e),du(),cG(e),fu(),Jc()}function kG(e){return new Proxy(e.attrs,{get(n,i){return $s(e,"get","$attrs"),n[i]}})}function Ix(e){const n=s=>{e.exposed=s||{}};let i;return{get attrs(){return i||(i=kG(e))},slots:e.slots,emit:e.emit,expose:n}}function $g(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(WM(Yc(e.exposed)),{get(n,i){if(i in n)return n[i];if(i in cg)return cg[i](e)}}))}const LG=/(?:^|[-_])(\w)/g,OG=e=>e.replace(LG,n=>n.toUpperCase()).replace(/[-_]/g,"");function Mx(e,n=!0){return Vn(e)?e.displayName||e.name:e.name||n&&e.__name}function xx(e,n,i=!1){let s=Mx(n);if(!s&&n.__file){const a=n.__file.match(/([^/\\]+)\.\w+$/);a&&(s=a[1])}if(!s&&e&&e.parent){const a=u=>{for(const f in u)if(u[f]===n)return f};s=a(e.components||e.parent.type.components)||a(e.appContext.components)}return s?OG(s):i?"App":"Anonymous"}function FG(e){return Vn(e)&&"__vccOpts"in e}const $=(e,n)=>KM(e,n,Ch);function Zi(){return Rx().slots}function qh(){return Rx().attrs}function Rx(){const e=qn();return e.setupContext||(e.setupContext=Ix(e))}function Sn(e,n,i){const s=arguments.length;return s===2?ur(n)&&!hn(n)?gi(n)?Me(e,null,[n]):Me(e,n):Me(e,null,n):(s>3?i=Array.prototype.slice.call(arguments,2):s===3&&gi(i)&&(i=[i]),Me(e,n,i))}const VG="3.2.37",GG="http://www.w3.org/2000/svg",Vc=typeof document<"u"?document:null,SC=Vc&&Vc.createElement("template"),UG={insert:(e,n,i)=>{n.insertBefore(e,i||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,i,s)=>{const a=n?Vc.createElementNS(GG,e):Vc.createElement(e,i?{is:i}:void 0);return e==="select"&&s&&s.multiple!=null&&a.setAttribute("multiple",s.multiple),a},createText:e=>Vc.createTextNode(e),createComment:e=>Vc.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Vc.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},cloneNode(e){const n=e.cloneNode(!0);return"_value"in e&&(n._value=e._value),n},insertStaticContent(e,n,i,s,a,u){const f=i?i.previousSibling:n.lastChild;if(a&&(a===u||a.nextSibling))for(;n.insertBefore(a.cloneNode(!0),i),!(a===u||!(a=a.nextSibling)););else{SC.innerHTML=s?`<svg>${e}</svg>`:e;const h=SC.content;if(s){const v=h.firstChild;for(;v.firstChild;)h.appendChild(v.firstChild);h.removeChild(v)}n.insertBefore(h,i)}return[f?f.nextSibling:n.firstChild,i?i.previousSibling:n.lastChild]}};function HG(e,n,i){const s=e._vtc;s&&(n=(n?[n,...s]:[...s]).join(" ")),n==null?e.removeAttribute("class"):i?e.setAttribute("class",n):e.className=n}function QG(e,n,i){const s=e.style,a=Gn(i);if(i&&!a){for(const u in i)b0(s,u,i[u]);if(n&&!Gn(n))for(const u in n)i[u]==null&&b0(s,u,"")}else{const u=s.display;a?n!==i&&(s.cssText=i):n&&e.removeAttribute("style"),"_vod"in e&&(s.display=u)}}const EC=/\s*!important$/;function b0(e,n,i){if(hn(i))i.forEach(s=>b0(e,n,s));else if(i==null&&(i=""),n.startsWith("--"))e.setProperty(n,i);else{const s=XG(e,n);EC.test(i)?e.setProperty(Jl(s),i.replace(EC,""),"important"):e[s]=i}}const wC=["Webkit","Moz","ms"],TA={};function XG(e,n){const i=TA[n];if(i)return i;let s=fo(n);if(s!=="filter"&&s in e)return TA[n]=s;s=$h(s);for(let a=0;a<wC.length;a++){const u=wC[a]+s;if(u in e)return TA[n]=u}return n}const CC="http://www.w3.org/1999/xlink";function zG(e,n,i,s,a){if(s&&n.startsWith("xlink:"))i==null?e.removeAttributeNS(CC,n.slice(6,n.length)):e.setAttributeNS(CC,n,i);else{const u=$F(n);i==null||u&&!IM(i)?e.removeAttribute(n):e.setAttribute(n,u?"":i)}}function $G(e,n,i,s,a,u,f){if(n==="innerHTML"||n==="textContent"){s&&f(s,a,u),e[n]=i==null?"":i;return}if(n==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=i;const v=i==null?"":i;(e.value!==v||e.tagName==="OPTION")&&(e.value=v),i==null&&e.removeAttribute(n);return}let h=!1;if(i===""||i==null){const v=typeof e[n];v==="boolean"?i=IM(i):i==null&&v==="string"?(i="",h=!0):v==="number"&&(i=0,h=!0)}try{e[n]=i}catch{}h&&e.removeAttribute(n)}const[Tx,WG]=(()=>{let e=Date.now,n=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const i=navigator.userAgent.match(/firefox\/(\d+)/i);n=!!(i&&Number(i[1])<=53)}return[e,n]})();let S0=0;const KG=Promise.resolve(),jG=()=>{S0=0},qG=()=>S0||(KG.then(jG),S0=Tx());function Vl(e,n,i,s){e.addEventListener(n,i,s)}function YG(e,n,i,s){e.removeEventListener(n,i,s)}function JG(e,n,i,s,a=null){const u=e._vei||(e._vei={}),f=u[n];if(s&&f)f.value=s;else{const[h,v]=ZG(n);if(s){const y=u[n]=e5(s,a);Vl(e,h,y,v)}else f&&(YG(e,h,f,v),u[n]=void 0)}}const IC=/(?:Once|Passive|Capture)$/;function ZG(e){let n;if(IC.test(e)){n={};let i;for(;i=e.match(IC);)e=e.slice(0,e.length-i[0].length),n[i[0].toLowerCase()]=!0}return[Jl(e.slice(2)),n]}function e5(e,n){const i=s=>{const a=s.timeStamp||Tx();(WG||a>=i.attached-1)&&ao(t5(s,i.value),n,5,[s])};return i.value=e,i.attached=qG(),i}function t5(e,n){if(hn(n)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},n.map(s=>a=>!a._stopped&&s&&s(a))}else return n}const MC=/^on[a-z]/,n5=(e,n,i,s,a=!1,u,f,h,v)=>{n==="class"?HG(e,s,a):n==="style"?QG(e,i,s):Bg(n)?Ty(n)||JG(e,n,i,s,f):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):r5(e,n,s,a))?$G(e,n,s,u,f,h,v):(n==="true-value"?e._trueValue=s:n==="false-value"&&(e._falseValue=s),zG(e,n,s,a))};function r5(e,n,i,s){return s?!!(n==="innerHTML"||n==="textContent"||n in e&&MC.test(n)&&Vn(i)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA"||MC.test(n)&&Gn(i)?!1:n in e}const Nl="transition",Uf="animation",bi=(e,{slots:n})=>Sn(ax,Px(e),n);bi.displayName="Transition";const Nx={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},i5=bi.props=Xi({},ax.props,Nx),Bc=(e,n=[])=>{hn(e)?e.forEach(i=>i(...n)):e&&e(...n)},xC=e=>e?hn(e)?e.some(n=>n.length>1):e.length>1:!1;function Px(e){const n={};for(const me in e)me in Nx||(n[me]=e[me]);if(e.css===!1)return n;const{name:i="v",type:s,duration:a,enterFromClass:u=`${i}-enter-from`,enterActiveClass:f=`${i}-enter-active`,enterToClass:h=`${i}-enter-to`,appearFromClass:v=u,appearActiveClass:y=f,appearToClass:b=h,leaveFromClass:E=`${i}-leave-from`,leaveActiveClass:w=`${i}-leave-active`,leaveToClass:C=`${i}-leave-to`}=e,x=s5(a),M=x&&x[0],T=x&&x[1],{onBeforeEnter:P,onEnter:F,onEnterCancelled:B,onLeave:G,onLeaveCancelled:Q,onBeforeAppear:H=P,onAppear:J=F,onAppearCancelled:te=B}=n,ie=(me,de,ye)=>{Dl(me,de?b:h),Dl(me,de?y:f),ye&&ye()},ue=(me,de)=>{me._isLeaving=!1,Dl(me,E),Dl(me,C),Dl(me,w),de&&de()},be=me=>(de,ye)=>{const ve=me?J:F,Ee=()=>ie(de,me,ye);Bc(ve,[de,Ee]),RC(()=>{Dl(de,me?v:u),Ga(de,me?b:h),xC(ve)||TC(de,s,M,Ee)})};return Xi(n,{onBeforeEnter(me){Bc(P,[me]),Ga(me,u),Ga(me,f)},onBeforeAppear(me){Bc(H,[me]),Ga(me,v),Ga(me,y)},onEnter:be(!1),onAppear:be(!0),onLeave(me,de){me._isLeaving=!0;const ye=()=>ue(me,de);Ga(me,E),Dx(),Ga(me,w),RC(()=>{!me._isLeaving||(Dl(me,E),Ga(me,C),xC(G)||TC(me,s,T,ye))}),Bc(G,[me,ye])},onEnterCancelled(me){ie(me,!1),Bc(B,[me])},onAppearCancelled(me){ie(me,!0),Bc(te,[me])},onLeaveCancelled(me){ue(me),Bc(Q,[me])}})}function s5(e){if(e==null)return null;if(ur(e))return[NA(e.enter),NA(e.leave)];{const n=NA(e);return[n,n]}}function NA(e){return og(e)}function Ga(e,n){n.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e._vtc||(e._vtc=new Set)).add(n)}function Dl(e,n){n.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:i}=e;i&&(i.delete(n),i.size||(e._vtc=void 0))}function RC(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let o5=0;function TC(e,n,i,s){const a=e._endId=++o5,u=()=>{a===e._endId&&s()};if(i)return setTimeout(u,i);const{type:f,timeout:h,propCount:v}=Bx(e,n);if(!f)return s();const y=f+"end";let b=0;const E=()=>{e.removeEventListener(y,w),u()},w=C=>{C.target===e&&++b>=v&&E()};setTimeout(()=>{b<v&&E()},h+1),e.addEventListener(y,w)}function Bx(e,n){const i=window.getComputedStyle(e),s=x=>(i[x]||"").split(", "),a=s(Nl+"Delay"),u=s(Nl+"Duration"),f=NC(a,u),h=s(Uf+"Delay"),v=s(Uf+"Duration"),y=NC(h,v);let b=null,E=0,w=0;n===Nl?f>0&&(b=Nl,E=f,w=u.length):n===Uf?y>0&&(b=Uf,E=y,w=v.length):(E=Math.max(f,y),b=E>0?f>y?Nl:Uf:null,w=b?b===Nl?u.length:v.length:0);const C=b===Nl&&/\b(transform|all)(,|$)/.test(i[Nl+"Property"]);return{type:b,timeout:E,propCount:w,hasTransform:C}}function NC(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max(...n.map((i,s)=>PC(i)+PC(e[s])))}function PC(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Dx(){return document.body.offsetHeight}const kx=new WeakMap,Lx=new WeakMap,a5={name:"TransitionGroup",props:Xi({},i5,{tag:String,moveClass:String}),setup(e,{slots:n}){const i=qn(),s=ox();let a,u;return ya(()=>{if(!a.length)return;const f=e.moveClass||`${e.name||"v"}-move`;if(!f5(a[0].el,i.vnode.el,f))return;a.forEach(c5),a.forEach(u5);const h=a.filter(d5);Dx(),h.forEach(v=>{const y=v.el,b=y.style;Ga(y,f),b.transform=b.webkitTransform=b.transitionDuration="";const E=y._moveCb=w=>{w&&w.target!==y||(!w||/transform$/.test(w.propertyName))&&(y.removeEventListener("transitionend",E),y._moveCb=null,Dl(y,f))};y.addEventListener("transitionend",E)})}),()=>{const f=Pr(e),h=Px(f);let v=f.tag||vn;a=u,u=n.default?Qy(n.default()):[];for(let y=0;y<u.length;y++){const b=u[y];b.key!=null&&Eh(b,Sh(b,h,s,i))}if(a)for(let y=0;y<a.length;y++){const b=a[y];Eh(b,Sh(b,h,s,i)),kx.set(b,b.el.getBoundingClientRect())}return Me(v,null,u)}}},l5=a5;function c5(e){const n=e.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function u5(e){Lx.set(e,e.el.getBoundingClientRect())}function d5(e){const n=kx.get(e),i=Lx.get(e),s=n.left-i.left,a=n.top-i.top;if(s||a){const u=e.el.style;return u.transform=u.webkitTransform=`translate(${s}px,${a}px)`,u.transitionDuration="0s",e}}function f5(e,n,i){const s=e.cloneNode();e._vtc&&e._vtc.forEach(f=>{f.split(/\s+/).forEach(h=>h&&s.classList.remove(h))}),i.split(/\s+/).forEach(f=>f&&s.classList.add(f)),s.style.display="none";const a=n.nodeType===1?n:n.parentNode;a.appendChild(s);const{hasTransform:u}=Bx(s);return a.removeChild(s),u}const xd=e=>{const n=e.props["onUpdate:modelValue"]||!1;return hn(n)?i=>Rm(n,i):n};function h5(e){e.target.composing=!0}function BC(e){const n=e.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const jy={created(e,{modifiers:{lazy:n,trim:i,number:s}},a){e._assign=xd(a);const u=s||a.props&&a.props.type==="number";Vl(e,n?"change":"input",f=>{if(f.target.composing)return;let h=e.value;i&&(h=h.trim()),u&&(h=og(h)),e._assign(h)}),i&&Vl(e,"change",()=>{e.value=e.value.trim()}),n||(Vl(e,"compositionstart",h5),Vl(e,"compositionend",BC),Vl(e,"change",BC))},mounted(e,{value:n}){e.value=n==null?"":n},beforeUpdate(e,{value:n,modifiers:{lazy:i,trim:s,number:a}},u){if(e._assign=xd(u),e.composing||document.activeElement===e&&e.type!=="range"&&(i||s&&e.value.trim()===n||(a||e.type==="number")&&og(e.value)===n))return;const f=n==null?"":n;e.value!==f&&(e.value=f)}},dg={deep:!0,created(e,n,i){e._assign=xd(i),Vl(e,"change",()=>{const s=e._modelValue,a=Fx(e),u=e.checked,f=e._assign;if(hn(s)){const h=MM(s,a),v=h!==-1;if(u&&!v)f(s.concat(a));else if(!u&&v){const y=[...s];y.splice(h,1),f(y)}}else if(Dg(s)){const h=new Set(s);u?h.add(a):h.delete(a),f(h)}else f(Vx(e,u))})},mounted:DC,beforeUpdate(e,n,i){e._assign=xd(i),DC(e,n,i)}};function DC(e,{value:n,oldValue:i},s){e._modelValue=n,hn(n)?e.checked=MM(n,s.props.value)>-1:Dg(n)?e.checked=n.has(s.props.value):n!==i&&(e.checked=Id(n,Vx(e,!0)))}const Ox={created(e,{value:n},i){e.checked=Id(n,i.props.value),e._assign=xd(i),Vl(e,"change",()=>{e._assign(Fx(e))})},beforeUpdate(e,{value:n,oldValue:i},s){e._assign=xd(s),n!==i&&(e.checked=Id(n,s.props.value))}};function Fx(e){return"_value"in e?e._value:e.value}function Vx(e,n){const i=n?"_trueValue":"_falseValue";return i in e?e[i]:n}const p5=["ctrl","shift","alt","meta"],m5={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>p5.some(i=>e[`${i}Key`]&&!n.includes(i))},Bn=(e,n)=>(i,...s)=>{for(let a=0;a<n.length;a++){const u=m5[n[a]];if(u&&u(i,n))return}return e(i,...s)},g5={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},hr=(e,n)=>i=>{if(!("key"in i))return;const s=Jl(i.key);if(n.some(a=>a===s||g5[a]===s))return e(i)},_r={beforeMount(e,{value:n},{transition:i}){e._vod=e.style.display==="none"?"":e.style.display,i&&n?i.beforeEnter(e):Hf(e,n)},mounted(e,{value:n},{transition:i}){i&&n&&i.enter(e)},updated(e,{value:n,oldValue:i},{transition:s}){!n!=!i&&(s?n?(s.beforeEnter(e),Hf(e,!0),s.enter(e)):s.leave(e,()=>{Hf(e,!1)}):Hf(e,n))},beforeUnmount(e,{value:n}){Hf(e,n)}};function Hf(e,n){e.style.display=n?e._vod:"none"}const v5=Xi({patchProp:n5},UG);let kC;function Gx(){return kC||(kC=bG(v5))}const Rd=(...e)=>{Gx().render(...e)},Ux=(...e)=>{const n=Gx().createApp(...e),{mount:i}=n;return n.mount=s=>{const a=_5(s);if(!a)return;const u=n._component;!Vn(u)&&!u.render&&!u.template&&(u.template=a.innerHTML),a.innerHTML="";const f=i(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),f},n};function _5(e){return Gn(e)?document.querySelector(e):e}function A5(e){if(!!e&&!(typeof window>"u")){var n=document.createElement("style");return n.setAttribute("type","text/css"),n.innerHTML=e,document.head.appendChild(n),e}}function pd(e,n){var i=e.__state.conversionName.toString(),s=Math.round(e.r),a=Math.round(e.g),u=Math.round(e.b),f=e.a,h=Math.round(e.h),v=e.s.toFixed(1),y=e.v.toFixed(1);if(n||i==="THREE_CHAR_HEX"||i==="SIX_CHAR_HEX"){for(var b=e.hex.toString(16);b.length<6;)b="0"+b;return"#"+b}else{if(i==="CSS_RGB")return"rgb("+s+","+a+","+u+")";if(i==="CSS_RGBA")return"rgba("+s+","+a+","+u+","+f+")";if(i==="HEX")return"0x"+e.hex.toString(16);if(i==="RGB_ARRAY")return"["+s+","+a+","+u+"]";if(i==="RGBA_ARRAY")return"["+s+","+a+","+u+","+f+"]";if(i==="RGB_OBJ")return"{r:"+s+",g:"+a+",b:"+u+"}";if(i==="RGBA_OBJ")return"{r:"+s+",g:"+a+",b:"+u+",a:"+f+"}";if(i==="HSV_OBJ")return"{h:"+h+",s:"+v+",v:"+y+"}";if(i==="HSVA_OBJ")return"{h:"+h+",s:"+v+",v:"+y+",a:"+f+"}"}return"unknown format"}var LC=Array.prototype.forEach,Qf=Array.prototype.slice,cn={BREAK:{},extend:function(n){return this.each(Qf.call(arguments,1),function(i){var s=this.isObject(i)?Object.keys(i):[];s.forEach(function(a){this.isUndefined(i[a])||(n[a]=i[a])}.bind(this))},this),n},defaults:function(n){return this.each(Qf.call(arguments,1),function(i){var s=this.isObject(i)?Object.keys(i):[];s.forEach(function(a){this.isUndefined(n[a])&&(n[a]=i[a])}.bind(this))},this),n},compose:function(){var n=Qf.call(arguments);return function(){for(var i=Qf.call(arguments),s=n.length-1;s>=0;s--)i=[n[s].apply(this,i)];return i[0]}},each:function(n,i,s){if(!!n){if(LC&&n.forEach&&n.forEach===LC)n.forEach(i,s);else if(n.length===n.length+0){var a=void 0,u=void 0;for(a=0,u=n.length;a<u;a++)if(a in n&&i.call(s,n[a],a)===this.BREAK)return}else for(var f in n)if(i.call(s,n[f],f)===this.BREAK)return}},defer:function(n){setTimeout(n,0)},debounce:function(n,i,s){var a=void 0;return function(){var u=this,f=arguments;function h(){a=null,s||n.apply(u,f)}var v=s||!a;clearTimeout(a),a=setTimeout(h,i),v&&n.apply(u,f)}},toArray:function(n){return n.toArray?n.toArray():Qf.call(n)},isUndefined:function(n){return n===void 0},isNull:function(n){return n===null},isNaN:function(e){function n(i){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(n){return n===Object(n)},isNumber:function(n){return n===n+0},isString:function(n){return n===n+""},isBoolean:function(n){return n===!1||n===!0},isFunction:function(n){return n instanceof Function}},y5=[{litmus:cn.isString,conversions:{THREE_CHAR_HEX:{read:function(n){var i=n.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return i===null?!1:{space:"HEX",hex:parseInt("0x"+i[1].toString()+i[1].toString()+i[2].toString()+i[2].toString()+i[3].toString()+i[3].toString(),0)}},write:pd},SIX_CHAR_HEX:{read:function(n){var i=n.match(/^#([A-F0-9]{6})$/i);return i===null?!1:{space:"HEX",hex:parseInt("0x"+i[1].toString(),0)}},write:pd},CSS_RGB:{read:function(n){var i=n.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return i===null?!1:{space:"RGB",r:parseFloat(i[1]),g:parseFloat(i[2]),b:parseFloat(i[3])}},write:pd},CSS_RGBA:{read:function(n){var i=n.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return i===null?!1:{space:"RGB",r:parseFloat(i[1]),g:parseFloat(i[2]),b:parseFloat(i[3]),a:parseFloat(i[4])}},write:pd}}},{litmus:cn.isNumber,conversions:{HEX:{read:function(n){return{space:"HEX",hex:n,conversionName:"HEX"}},write:function(n){return n.hex}}}},{litmus:cn.isArray,conversions:{RGB_ARRAY:{read:function(n){return n.length!==3?!1:{space:"RGB",r:n[0],g:n[1],b:n[2]}},write:function(n){return[n.r,n.g,n.b]}},RGBA_ARRAY:{read:function(n){return n.length!==4?!1:{space:"RGB",r:n[0],g:n[1],b:n[2],a:n[3]}},write:function(n){return[n.r,n.g,n.b,n.a]}}}},{litmus:cn.isObject,conversions:{RGBA_OBJ:{read:function(n){return cn.isNumber(n.r)&&cn.isNumber(n.g)&&cn.isNumber(n.b)&&cn.isNumber(n.a)?{space:"RGB",r:n.r,g:n.g,b:n.b,a:n.a}:!1},write:function(n){return{r:n.r,g:n.g,b:n.b,a:n.a}}},RGB_OBJ:{read:function(n){return cn.isNumber(n.r)&&cn.isNumber(n.g)&&cn.isNumber(n.b)?{space:"RGB",r:n.r,g:n.g,b:n.b}:!1},write:function(n){return{r:n.r,g:n.g,b:n.b}}},HSVA_OBJ:{read:function(n){return cn.isNumber(n.h)&&cn.isNumber(n.s)&&cn.isNumber(n.v)&&cn.isNumber(n.a)?{space:"HSV",h:n.h,s:n.s,v:n.v,a:n.a}:!1},write:function(n){return{h:n.h,s:n.s,v:n.v,a:n.a}}},HSV_OBJ:{read:function(n){return cn.isNumber(n.h)&&cn.isNumber(n.s)&&cn.isNumber(n.v)?{space:"HSV",h:n.h,s:n.s,v:n.v}:!1},write:function(n){return{h:n.h,s:n.s,v:n.v}}}}}],Xf=void 0,hm=void 0,E0=function(){hm=!1;var n=arguments.length>1?cn.toArray(arguments):arguments[0];return cn.each(y5,function(i){if(i.litmus(n))return cn.each(i.conversions,function(s,a){if(Xf=s.read(n),hm===!1&&Xf!==!1)return hm=Xf,Xf.conversionName=a,Xf.conversion=s,cn.BREAK}),cn.BREAK}),hm},OC=void 0,fg={hsv_to_rgb:function(n,i,s){var a=Math.floor(n/60)%6,u=n/60-Math.floor(n/60),f=s*(1-i),h=s*(1-u*i),v=s*(1-(1-u)*i),y=[[s,v,f],[h,s,f],[f,s,v],[f,h,s],[v,f,s],[s,f,h]][a];return{r:y[0]*255,g:y[1]*255,b:y[2]*255}},rgb_to_hsv:function(n,i,s){var a=Math.min(n,i,s),u=Math.max(n,i,s),f=u-a,h=void 0,v=void 0;if(u!==0)v=f/u;else return{h:NaN,s:0,v:0};return n===u?h=(i-s)/f:i===u?h=2+(s-n)/f:h=4+(n-i)/f,h/=6,h<0&&(h+=1),{h:h*360,s:v,v:u/255}},rgb_to_hex:function(n,i,s){var a=this.hex_with_component(0,2,n);return a=this.hex_with_component(a,1,i),a=this.hex_with_component(a,0,s),a},component_from_hex:function(n,i){return n>>i*8&255},hex_with_component:function(n,i,s){return s<<(OC=i*8)|n&~(255<<OC)}},b5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},Wo=function(){function e(n,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(n,i,s){return i&&e(n.prototype,i),s&&e(n,s),n}}(),Wl=function e(n,i,s){n===null&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(a===void 0){var u=Object.getPrototypeOf(n);return u===null?void 0:e(u,i,s)}else{if("value"in a)return a.value;var f=a.get;return f===void 0?void 0:f.call(s)}},Zl=function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)},ec=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e},Qi=function(){function e(){if($o(this,e),this.__state=E0.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return Wo(e,[{key:"toString",value:function(){return pd(this)}},{key:"toHexString",value:function(){return pd(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();function qy(e,n,i){Object.defineProperty(e,n,{get:function(){return this.__state.space==="RGB"?this.__state[n]:(Qi.recalculateRGB(this,n,i),this.__state[n])},set:function(a){this.__state.space!=="RGB"&&(Qi.recalculateRGB(this,n,i),this.__state.space="RGB"),this.__state[n]=a}})}function Yy(e,n){Object.defineProperty(e,n,{get:function(){return this.__state.space==="HSV"?this.__state[n]:(Qi.recalculateHSV(this),this.__state[n])},set:function(s){this.__state.space!=="HSV"&&(Qi.recalculateHSV(this),this.__state.space="HSV"),this.__state[n]=s}})}Qi.recalculateRGB=function(e,n,i){if(e.__state.space==="HEX")e.__state[n]=fg.component_from_hex(e.__state.hex,i);else if(e.__state.space==="HSV")cn.extend(e.__state,fg.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v));else throw new Error("Corrupted color state")};Qi.recalculateHSV=function(e){var n=fg.rgb_to_hsv(e.r,e.g,e.b);cn.extend(e.__state,{s:n.s,v:n.v}),cn.isNaN(n.h)?cn.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=n.h};Qi.COMPONENTS=["r","g","b","h","s","v","hex","a"];qy(Qi.prototype,"r",2);qy(Qi.prototype,"g",1);qy(Qi.prototype,"b",0);Yy(Qi.prototype,"h");Yy(Qi.prototype,"s");Yy(Qi.prototype,"v");Object.defineProperty(Qi.prototype,"a",{get:function(){return this.__state.a},set:function(n){this.__state.a=n}});Object.defineProperty(Qi.prototype,"hex",{get:function(){return this.__state.space!=="HEX"&&(this.__state.hex=fg.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(n){this.__state.space="HEX",this.__state.hex=n}});var pu=function(){function e(n,i){$o(this,e),this.initialValue=n[i],this.domElement=document.createElement("div"),this.object=n,this.property=i,this.__onChange=void 0,this.__onFinishChange=void 0}return Wo(e,[{key:"onChange",value:function(i){return this.__onChange=i,this}},{key:"onFinishChange",value:function(i){return this.__onFinishChange=i,this}},{key:"setValue",value:function(i){return this.object[this.property]=i,this.__onChange&&this.__onChange.call(this,i),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),S5={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},Hx={};cn.each(S5,function(e,n){cn.each(e,function(i){Hx[i]=n})});var E5=/(\d+(\.\d+)?)px/;function da(e){if(e==="0"||cn.isUndefined(e))return 0;var n=e.match(E5);return cn.isNull(n)?0:parseFloat(n[1])}var Vt={makeSelectable:function(n,i){n===void 0||n.style===void 0||(n.onselectstart=i?function(){return!1}:function(){},n.style.MozUserSelect=i?"auto":"none",n.style.KhtmlUserSelect=i?"auto":"none",n.unselectable=i?"on":"off")},makeFullscreen:function(n,i,s){var a=s,u=i;cn.isUndefined(u)&&(u=!0),cn.isUndefined(a)&&(a=!0),n.style.position="absolute",u&&(n.style.left=0,n.style.right=0),a&&(n.style.top=0,n.style.bottom=0)},fakeEvent:function(n,i,s,a){var u=s||{},f=Hx[i];if(!f)throw new Error("Event type "+i+" not supported.");var h=document.createEvent(f);switch(f){case"MouseEvents":{var v=u.x||u.clientX||0,y=u.y||u.clientY||0;h.initMouseEvent(i,u.bubbles||!1,u.cancelable||!0,window,u.clickCount||1,0,0,v,y,!1,!1,!1,!1,0,null);break}case"KeyboardEvents":{var b=h.initKeyboardEvent||h.initKeyEvent;cn.defaults(u,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),b(i,u.bubbles||!1,u.cancelable,window,u.ctrlKey,u.altKey,u.shiftKey,u.metaKey,u.keyCode,u.charCode);break}default:{h.initEvent(i,u.bubbles||!1,u.cancelable||!0);break}}cn.defaults(h,a),n.dispatchEvent(h)},bind:function(n,i,s,a){var u=a||!1;return n.addEventListener?n.addEventListener(i,s,u):n.attachEvent&&n.attachEvent("on"+i,s),Vt},unbind:function(n,i,s,a){var u=a||!1;return n.removeEventListener?n.removeEventListener(i,s,u):n.detachEvent&&n.detachEvent("on"+i,s),Vt},addClass:function(n,i){if(n.className===void 0)n.className=i;else if(n.className!==i){var s=n.className.split(/ +/);s.indexOf(i)===-1&&(s.push(i),n.className=s.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return Vt},removeClass:function(n,i){if(i)if(n.className===i)n.removeAttribute("class");else{var s=n.className.split(/ +/),a=s.indexOf(i);a!==-1&&(s.splice(a,1),n.className=s.join(" "))}else n.className=void 0;return Vt},hasClass:function(n,i){return new RegExp("(?:^|\\s+)"+i+"(?:\\s+|$)").test(n.className)||!1},getWidth:function(n){var i=getComputedStyle(n);return da(i["border-left-width"])+da(i["border-right-width"])+da(i["padding-left"])+da(i["padding-right"])+da(i.width)},getHeight:function(n){var i=getComputedStyle(n);return da(i["border-top-width"])+da(i["border-bottom-width"])+da(i["padding-top"])+da(i["padding-bottom"])+da(i.height)},getOffset:function(n){var i=n,s={left:0,top:0};if(i.offsetParent)do s.left+=i.offsetLeft,s.top+=i.offsetTop,i=i.offsetParent;while(i);return s},isActive:function(n){return n===document.activeElement&&(n.type||n.href)}},Qx=function(e){Zl(n,e);function n(i,s){$o(this,n);var a=ec(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s)),u=a;a.__prev=a.getValue(),a.__checkbox=document.createElement("input"),a.__checkbox.setAttribute("type","checkbox");function f(){u.setValue(!u.__prev)}return Vt.bind(a.__checkbox,"change",f,!1),a.domElement.appendChild(a.__checkbox),a.updateDisplay(),a}return Wo(n,[{key:"setValue",value:function(s){var a=Wl(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setValue",this).call(this,s);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),a}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),Wl(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(pu),w5=function(e){Zl(n,e);function n(i,s,a){$o(this,n);var u=ec(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s)),f=a,h=u;if(u.__select=document.createElement("select"),cn.isArray(f)){var v={};cn.each(f,function(y){v[y]=y}),f=v}return cn.each(f,function(y,b){var E=document.createElement("option");E.innerHTML=b,E.setAttribute("value",y),h.__select.appendChild(E)}),u.updateDisplay(),Vt.bind(u.__select,"change",function(){var y=this.options[this.selectedIndex].value;h.setValue(y)}),u.domElement.appendChild(u.__select),u}return Wo(n,[{key:"setValue",value:function(s){var a=Wl(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setValue",this).call(this,s);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),a}},{key:"updateDisplay",value:function(){return Vt.isActive(this.__select)?this:(this.__select.value=this.getValue(),Wl(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this))}}]),n}(pu),C5=function(e){Zl(n,e);function n(i,s){$o(this,n);var a=ec(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s)),u=a;function f(){u.setValue(u.__input.value)}function h(){u.__onFinishChange&&u.__onFinishChange.call(u,u.getValue())}return a.__input=document.createElement("input"),a.__input.setAttribute("type","text"),Vt.bind(a.__input,"keyup",f),Vt.bind(a.__input,"change",f),Vt.bind(a.__input,"blur",h),Vt.bind(a.__input,"keydown",function(v){v.keyCode===13&&this.blur()}),a.updateDisplay(),a.domElement.appendChild(a.__input),a}return Wo(n,[{key:"updateDisplay",value:function(){return Vt.isActive(this.__input)||(this.__input.value=this.getValue()),Wl(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(pu);function FC(e){var n=e.toString();return n.indexOf(".")>-1?n.length-n.indexOf(".")-1:0}var Xx=function(e){Zl(n,e);function n(i,s,a){$o(this,n);var u=ec(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s)),f=a||{};return u.__min=f.min,u.__max=f.max,u.__step=f.step,cn.isUndefined(u.__step)?u.initialValue===0?u.__impliedStep=1:u.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(u.initialValue))/Math.LN10))/10:u.__impliedStep=u.__step,u.__precision=FC(u.__impliedStep),u}return Wo(n,[{key:"setValue",value:function(s){var a=s;return this.__min!==void 0&&a<this.__min?a=this.__min:this.__max!==void 0&&a>this.__max&&(a=this.__max),this.__step!==void 0&&a%this.__step!==0&&(a=Math.round(a/this.__step)*this.__step),Wl(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setValue",this).call(this,a)}},{key:"min",value:function(s){return this.__min=s,this}},{key:"max",value:function(s){return this.__max=s,this}},{key:"step",value:function(s){return this.__step=s,this.__impliedStep=s,this.__precision=FC(s),this}}]),n}(pu);function I5(e,n){var i=Math.pow(10,n);return Math.round(e*i)/i}var hg=function(e){Zl(n,e);function n(i,s,a){$o(this,n);var u=ec(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s,a));u.__truncationSuspended=!1;var f=u,h=void 0;function v(){var x=parseFloat(f.__input.value);cn.isNaN(x)||f.setValue(x)}function y(){f.__onFinishChange&&f.__onFinishChange.call(f,f.getValue())}function b(){y()}function E(x){var M=h-x.clientY;f.setValue(f.getValue()+M*f.__impliedStep),h=x.clientY}function w(){Vt.unbind(window,"mousemove",E),Vt.unbind(window,"mouseup",w),y()}function C(x){Vt.bind(window,"mousemove",E),Vt.bind(window,"mouseup",w),h=x.clientY}return u.__input=document.createElement("input"),u.__input.setAttribute("type","text"),Vt.bind(u.__input,"change",v),Vt.bind(u.__input,"blur",b),Vt.bind(u.__input,"mousedown",C),Vt.bind(u.__input,"keydown",function(x){x.keyCode===13&&(f.__truncationSuspended=!0,this.blur(),f.__truncationSuspended=!1,y())}),u.updateDisplay(),u.domElement.appendChild(u.__input),u}return Wo(n,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():I5(this.getValue(),this.__precision),Wl(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(Xx);function VC(e,n,i,s,a){return s+(a-s)*((e-n)/(i-n))}var w0=function(e){Zl(n,e);function n(i,s,a,u,f){$o(this,n);var h=ec(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s,{min:a,max:u,step:f})),v=h;h.__background=document.createElement("div"),h.__foreground=document.createElement("div"),Vt.bind(h.__background,"mousedown",y),Vt.bind(h.__background,"touchstart",w),Vt.addClass(h.__background,"slider"),Vt.addClass(h.__foreground,"slider-fg");function y(M){document.activeElement.blur(),Vt.bind(window,"mousemove",b),Vt.bind(window,"mouseup",E),b(M)}function b(M){M.preventDefault();var T=v.__background.getBoundingClientRect();return v.setValue(VC(M.clientX,T.left,T.right,v.__min,v.__max)),!1}function E(){Vt.unbind(window,"mousemove",b),Vt.unbind(window,"mouseup",E),v.__onFinishChange&&v.__onFinishChange.call(v,v.getValue())}function w(M){M.touches.length===1&&(Vt.bind(window,"touchmove",C),Vt.bind(window,"touchend",x),C(M))}function C(M){var T=M.touches[0].clientX,P=v.__background.getBoundingClientRect();v.setValue(VC(T,P.left,P.right,v.__min,v.__max))}function x(){Vt.unbind(window,"touchmove",C),Vt.unbind(window,"touchend",x),v.__onFinishChange&&v.__onFinishChange.call(v,v.getValue())}return h.updateDisplay(),h.__background.appendChild(h.__foreground),h.domElement.appendChild(h.__background),h}return Wo(n,[{key:"updateDisplay",value:function(){var s=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=s*100+"%",Wl(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(Xx),zx=function(e){Zl(n,e);function n(i,s,a){$o(this,n);var u=ec(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s)),f=u;return u.__button=document.createElement("div"),u.__button.innerHTML=a===void 0?"Fire":a,Vt.bind(u.__button,"click",function(h){return h.preventDefault(),f.fire(),!1}),Vt.addClass(u.__button,"button"),u.domElement.appendChild(u.__button),u}return Wo(n,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),n}(pu),C0=function(e){Zl(n,e);function n(i,s){$o(this,n);var a=ec(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s));a.__color=new Qi(a.getValue()),a.__temp=new Qi(0);var u=a;a.domElement=document.createElement("div"),Vt.makeSelectable(a.domElement,!1),a.__selector=document.createElement("div"),a.__selector.className="selector",a.__saturation_field=document.createElement("div"),a.__saturation_field.className="saturation-field",a.__field_knob=document.createElement("div"),a.__field_knob.className="field-knob",a.__field_knob_border="2px solid ",a.__hue_knob=document.createElement("div"),a.__hue_knob.className="hue-knob",a.__hue_field=document.createElement("div"),a.__hue_field.className="hue-field",a.__input=document.createElement("input"),a.__input.type="text",a.__input_textShadow="0 1px 1px ",Vt.bind(a.__input,"keydown",function(M){M.keyCode===13&&E.call(this)}),Vt.bind(a.__input,"blur",E),Vt.bind(a.__selector,"mousedown",function(){Vt.addClass(this,"drag").bind(window,"mouseup",function(){Vt.removeClass(u.__selector,"drag")})}),Vt.bind(a.__selector,"touchstart",function(){Vt.addClass(this,"drag").bind(window,"touchend",function(){Vt.removeClass(u.__selector,"drag")})});var f=document.createElement("div");cn.extend(a.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),cn.extend(a.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:a.__field_knob_border+(a.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),cn.extend(a.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),cn.extend(a.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),cn.extend(f.style,{width:"100%",height:"100%",background:"none"}),GC(f,"top","rgba(0,0,0,0)","#000"),cn.extend(a.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),x5(a.__hue_field),cn.extend(a.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:a.__input_textShadow+"rgba(0,0,0,0.7)"}),Vt.bind(a.__saturation_field,"mousedown",h),Vt.bind(a.__saturation_field,"touchstart",h),Vt.bind(a.__field_knob,"mousedown",h),Vt.bind(a.__field_knob,"touchstart",h),Vt.bind(a.__hue_field,"mousedown",v),Vt.bind(a.__hue_field,"touchstart",v);function h(M){C(M),Vt.bind(window,"mousemove",C),Vt.bind(window,"touchmove",C),Vt.bind(window,"mouseup",y),Vt.bind(window,"touchend",y)}function v(M){x(M),Vt.bind(window,"mousemove",x),Vt.bind(window,"touchmove",x),Vt.bind(window,"mouseup",b),Vt.bind(window,"touchend",b)}function y(){Vt.unbind(window,"mousemove",C),Vt.unbind(window,"touchmove",C),Vt.unbind(window,"mouseup",y),Vt.unbind(window,"touchend",y),w()}function b(){Vt.unbind(window,"mousemove",x),Vt.unbind(window,"touchmove",x),Vt.unbind(window,"mouseup",b),Vt.unbind(window,"touchend",b),w()}function E(){var M=E0(this.value);M!==!1?(u.__color.__state=M,u.setValue(u.__color.toOriginal())):this.value=u.__color.toString()}function w(){u.__onFinishChange&&u.__onFinishChange.call(u,u.__color.toOriginal())}a.__saturation_field.appendChild(f),a.__selector.appendChild(a.__field_knob),a.__selector.appendChild(a.__saturation_field),a.__selector.appendChild(a.__hue_field),a.__hue_field.appendChild(a.__hue_knob),a.domElement.appendChild(a.__input),a.domElement.appendChild(a.__selector),a.updateDisplay();function C(M){M.type.indexOf("touch")===-1&&M.preventDefault();var T=u.__saturation_field.getBoundingClientRect(),P=M.touches&&M.touches[0]||M,F=P.clientX,B=P.clientY,G=(F-T.left)/(T.right-T.left),Q=1-(B-T.top)/(T.bottom-T.top);return Q>1?Q=1:Q<0&&(Q=0),G>1?G=1:G<0&&(G=0),u.__color.v=Q,u.__color.s=G,u.setValue(u.__color.toOriginal()),!1}function x(M){M.type.indexOf("touch")===-1&&M.preventDefault();var T=u.__hue_field.getBoundingClientRect(),P=M.touches&&M.touches[0]||M,F=P.clientY,B=1-(F-T.top)/(T.bottom-T.top);return B>1?B=1:B<0&&(B=0),u.__color.h=B*360,u.setValue(u.__color.toOriginal()),!1}return a}return Wo(n,[{key:"updateDisplay",value:function(){var s=E0(this.getValue());if(s!==!1){var a=!1;cn.each(Qi.COMPONENTS,function(h){if(!cn.isUndefined(s[h])&&!cn.isUndefined(this.__color.__state[h])&&s[h]!==this.__color.__state[h])return a=!0,{}},this),a&&cn.extend(this.__color.__state,s)}cn.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var u=this.__color.v<.5||this.__color.s>.5?255:0,f=255-u;cn.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+u+","+u+","+u+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,GC(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),cn.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+u+","+u+","+u+")",textShadow:this.__input_textShadow+"rgba("+f+","+f+","+f+",.7)"})}}]),n}(pu),M5=["-moz-","-o-","-webkit-","-ms-",""];function GC(e,n,i,s){e.style.background="",cn.each(M5,function(a){e.style.cssText+="background: "+a+"linear-gradient("+n+", "+i+" 0%, "+s+" 100%); "})}function x5(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var R5={load:function(n,i){var s=i||document,a=s.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=n,s.getElementsByTagName("head")[0].appendChild(a)},inject:function(n,i){var s=i||document,a=document.createElement("style");a.type="text/css",a.innerHTML=n;var u=s.getElementsByTagName("head")[0];try{u.appendChild(a)}catch{}}},T5=`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.

    </div>

  </div>

</div>`,N5=function(n,i){var s=n[i];return cn.isArray(arguments[2])||cn.isObject(arguments[2])?new w5(n,i,arguments[2]):cn.isNumber(s)?cn.isNumber(arguments[2])&&cn.isNumber(arguments[3])?cn.isNumber(arguments[4])?new w0(n,i,arguments[2],arguments[3],arguments[4]):new w0(n,i,arguments[2],arguments[3]):cn.isNumber(arguments[4])?new hg(n,i,{min:arguments[2],max:arguments[3],step:arguments[4]}):new hg(n,i,{min:arguments[2],max:arguments[3]}):cn.isString(s)?new C5(n,i):cn.isFunction(s)?new zx(n,i,""):cn.isBoolean(s)?new Qx(n,i):null};function P5(e){setTimeout(e,1e3/60)}var B5=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||P5,D5=function(){function e(){$o(this,e),this.backgroundElement=document.createElement("div"),cn.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),Vt.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),cn.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;Vt.bind(this.backgroundElement,"click",function(){n.hide()})}return Wo(e,[{key:"show",value:function(){var i=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),cn.defer(function(){i.backgroundElement.style.opacity=1,i.domElement.style.opacity=1,i.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var i=this,s=function a(){i.domElement.style.display="none",i.backgroundElement.style.display="none",Vt.unbind(i.domElement,"webkitTransitionEnd",a),Vt.unbind(i.domElement,"transitionend",a),Vt.unbind(i.domElement,"oTransitionEnd",a)};Vt.bind(this.domElement,"webkitTransitionEnd",s),Vt.bind(this.domElement,"transitionend",s),Vt.bind(this.domElement,"oTransitionEnd",s),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-Vt.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-Vt.getHeight(this.domElement)/2+"px"}}]),e}(),k5=A5(`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`);R5.inject(k5);var UC="dg",HC=72,QC=20,Ih="Default",Jf=function(){try{return!!window.localStorage}catch{return!1}}(),ah=void 0,XC=!0,ld=void 0,PA=!1,$x=[],ci=function e(n){var i=this,s=n||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),Vt.addClass(this.domElement,UC),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],s=cn.defaults(s,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),s=cn.defaults(s,{resizable:s.autoPlace,hideable:s.autoPlace}),cn.isUndefined(s.load)?s.load={preset:Ih}:s.preset&&(s.load.preset=s.preset),cn.isUndefined(s.parent)&&s.hideable&&$x.push(this),s.resizable=cn.isUndefined(s.parent)&&s.resizable,s.autoPlace&&cn.isUndefined(s.scrollable)&&(s.scrollable=!0);var a=Jf&&localStorage.getItem(cd(this,"isLocal"))==="true",u=void 0,f=void 0;if(Object.defineProperties(this,{parent:{get:function(){return s.parent}},scrollable:{get:function(){return s.scrollable}},autoPlace:{get:function(){return s.autoPlace}},closeOnTop:{get:function(){return s.closeOnTop}},preset:{get:function(){return i.parent?i.getRoot().preset:s.load.preset},set:function(w){i.parent?i.getRoot().preset=w:s.load.preset=w,V5(this),i.revert()}},width:{get:function(){return s.width},set:function(w){s.width=w,x0(i,w)}},name:{get:function(){return s.name},set:function(w){s.name=w,f&&(f.innerHTML=s.name)}},closed:{get:function(){return s.closed},set:function(w){s.closed=w,s.closed?Vt.addClass(i.__ul,e.CLASS_CLOSED):Vt.removeClass(i.__ul,e.CLASS_CLOSED),this.onResize(),i.__closeButton&&(i.__closeButton.innerHTML=w?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return s.load}},useLocalStorage:{get:function(){return a},set:function(w){Jf&&(a=w,w?Vt.bind(window,"unload",u):Vt.unbind(window,"unload",u),localStorage.setItem(cd(i,"isLocal"),w))}}}),cn.isUndefined(s.parent)){if(this.closed=s.closed||!1,Vt.addClass(this.domElement,e.CLASS_MAIN),Vt.makeSelectable(this.domElement,!1),Jf&&a){i.useLocalStorage=!0;var h=localStorage.getItem(cd(this,"gui"));h&&(s.load=JSON.parse(h))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,Vt.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),s.closeOnTop?(Vt.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(Vt.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),Vt.bind(this.__closeButton,"click",function(){i.closed=!i.closed})}else{s.closed===void 0&&(s.closed=!0);var v=document.createTextNode(s.name);Vt.addClass(v,"controller-name"),f=Jy(i,v);var y=function(w){return w.preventDefault(),i.closed=!i.closed,!1};Vt.addClass(this.__ul,e.CLASS_CLOSED),Vt.addClass(f,"title"),Vt.bind(f,"click",y),s.closed||(this.closed=!1)}s.autoPlace&&(cn.isUndefined(s.parent)&&(XC&&(ld=document.createElement("div"),Vt.addClass(ld,UC),Vt.addClass(ld,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ld),XC=!1),ld.appendChild(this.domElement),Vt.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||x0(i,s.width)),this.__resizeHandler=function(){i.onResizeDebounced()},Vt.bind(window,"resize",this.__resizeHandler),Vt.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),Vt.bind(this.__ul,"transitionend",this.__resizeHandler),Vt.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),s.resizable&&F5(this),u=function(){Jf&&localStorage.getItem(cd(i,"isLocal"))==="true"&&localStorage.setItem(cd(i,"gui"),JSON.stringify(i.getSaveObject()))},this.saveToLocalStorageIfPossible=u;function b(){var E=i.getRoot();E.width+=1,cn.defer(function(){E.width-=1})}s.parent||b()};ci.toggleHide=function(){PA=!PA,cn.each($x,function(e){e.domElement.style.display=PA?"none":""})};ci.CLASS_AUTO_PLACE="a";ci.CLASS_AUTO_PLACE_CONTAINER="ac";ci.CLASS_MAIN="main";ci.CLASS_CONTROLLER_ROW="cr";ci.CLASS_TOO_TALL="taller-than-window";ci.CLASS_CLOSED="closed";ci.CLASS_CLOSE_BUTTON="close-button";ci.CLASS_CLOSE_TOP="close-top";ci.CLASS_CLOSE_BOTTOM="close-bottom";ci.CLASS_DRAG="drag";ci.DEFAULT_WIDTH=245;ci.TEXT_CLOSED="Close Controls";ci.TEXT_OPEN="Open Controls";ci._keydownHandler=function(e){document.activeElement.type!=="text"&&(e.which===HC||e.keyCode===HC)&&ci.toggleHide()};Vt.bind(window,"keydown",ci._keydownHandler,!1);cn.extend(ci.prototype,{add:function(n,i){return lh(this,n,i,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(n,i){return lh(this,n,i,{color:!0})},remove:function(n){this.__ul.removeChild(n.__li),this.__controllers.splice(this.__controllers.indexOf(n),1);var i=this;cn.defer(function(){i.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&ld.removeChild(this.domElement);var n=this;cn.each(this.__folders,function(i){n.removeFolder(i)}),Vt.unbind(window,"keydown",ci._keydownHandler,!1),zC(this)},addFolder:function(n){if(this.__folders[n]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+n+'"');var i={name:n,parent:this};i.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[n]&&(i.closed=this.load.folders[n].closed,i.load=this.load.folders[n]);var s=new ci(i);this.__folders[n]=s;var a=Jy(this,s.domElement);return Vt.addClass(a,"folder"),s},removeFolder:function(n){this.__ul.removeChild(n.domElement.parentElement),delete this.__folders[n.name],this.load&&this.load.folders&&this.load.folders[n.name]&&delete this.load.folders[n.name],zC(n);var i=this;cn.each(n.__folders,function(s){n.removeFolder(s)}),cn.defer(function(){i.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var n=this.getRoot();if(n.scrollable){var i=Vt.getOffset(n.__ul).top,s=0;cn.each(n.__ul.childNodes,function(a){n.autoPlace&&a===n.__save_row||(s+=Vt.getHeight(a))}),window.innerHeight-i-QC<s?(Vt.addClass(n.domElement,ci.CLASS_TOO_TALL),n.__ul.style.height=window.innerHeight-i-QC+"px"):(Vt.removeClass(n.domElement,ci.CLASS_TOO_TALL),n.__ul.style.height="auto")}n.__resize_handle&&cn.defer(function(){n.__resize_handle.style.height=n.__ul.offsetHeight+"px"}),n.__closeButton&&(n.__closeButton.style.width=n.width+"px")},onResizeDebounced:cn.debounce(function(){this.onResize()},50),remember:function(){if(cn.isUndefined(ah)&&(ah=new D5,ah.domElement.innerHTML=T5),this.parent)throw new Error("You can only call remember on a top level GUI.");var n=this;cn.each(Array.prototype.slice.call(arguments),function(i){n.__rememberedObjects.length===0&&O5(n),n.__rememberedObjects.indexOf(i)===-1&&n.__rememberedObjects.push(i)}),this.autoPlace&&x0(this,this.width)},getRoot:function(){for(var n=this;n.parent;)n=n.parent;return n},getSaveObject:function(){var n=this.load;return n.closed=this.closed,this.__rememberedObjects.length>0&&(n.preset=this.preset,n.remembered||(n.remembered={}),n.remembered[this.preset]=pm(this)),n.folders={},cn.each(this.__folders,function(i,s){n.folders[s]=i.getSaveObject()}),n},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=pm(this),I0(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(n){this.load.remembered||(this.load.remembered={},this.load.remembered[Ih]=pm(this,!0)),this.load.remembered[n]=pm(this),this.preset=n,M0(this,n,!0),this.saveToLocalStorageIfPossible()},revert:function(n){cn.each(this.__controllers,function(i){this.getRoot().load.remembered?Wx(n||this.getRoot(),i):i.setValue(i.initialValue),i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())},this),cn.each(this.__folders,function(i){i.revert(i)}),n||I0(this.getRoot(),!1)},listen:function(n){var i=this.__listening.length===0;this.__listening.push(n),i&&Kx(this.__listening)},updateDisplay:function(){cn.each(this.__controllers,function(n){n.updateDisplay()}),cn.each(this.__folders,function(n){n.updateDisplay()})}});function Jy(e,n,i){var s=document.createElement("li");return n&&s.appendChild(n),i?e.__ul.insertBefore(s,i):e.__ul.appendChild(s),e.onResize(),s}function zC(e){Vt.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&Vt.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function I0(e,n){var i=e.__preset_select[e.__preset_select.selectedIndex];n?i.innerHTML=i.value+"*":i.innerHTML=i.value}function L5(e,n,i){if(i.__li=n,i.__gui=e,cn.extend(i,{options:function(f){if(arguments.length>1){var h=i.__li.nextElementSibling;return i.remove(),lh(e,i.object,i.property,{before:h,factoryArgs:[cn.toArray(arguments)]})}if(cn.isArray(f)||cn.isObject(f)){var v=i.__li.nextElementSibling;return i.remove(),lh(e,i.object,i.property,{before:v,factoryArgs:[f]})}},name:function(f){return i.__li.firstElementChild.firstElementChild.innerHTML=f,i},listen:function(){return i.__gui.listen(i),i},remove:function(){return i.__gui.remove(i),i}}),i instanceof w0){var s=new hg(i.object,i.property,{min:i.__min,max:i.__max,step:i.__step});cn.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(u){var f=i[u],h=s[u];i[u]=s[u]=function(){var v=Array.prototype.slice.call(arguments);return h.apply(s,v),f.apply(i,v)}}),Vt.addClass(n,"has-slider"),i.domElement.insertBefore(s.domElement,i.domElement.firstElementChild)}else if(i instanceof hg){var a=function(f){if(cn.isNumber(i.__min)&&cn.isNumber(i.__max)){var h=i.__li.firstElementChild.firstElementChild.innerHTML,v=i.__gui.__listening.indexOf(i)>-1;i.remove();var y=lh(e,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[i.__min,i.__max,i.__step]});return y.name(h),v&&y.listen(),y}return f};i.min=cn.compose(a,i.min),i.max=cn.compose(a,i.max)}else i instanceof Qx?(Vt.bind(n,"click",function(){Vt.fakeEvent(i.__checkbox,"click")}),Vt.bind(i.__checkbox,"click",function(u){u.stopPropagation()})):i instanceof zx?(Vt.bind(n,"click",function(){Vt.fakeEvent(i.__button,"click")}),Vt.bind(n,"mouseover",function(){Vt.addClass(i.__button,"hover")}),Vt.bind(n,"mouseout",function(){Vt.removeClass(i.__button,"hover")})):i instanceof C0&&(Vt.addClass(n,"color"),i.updateDisplay=cn.compose(function(u){return n.style.borderLeftColor=i.__color.toString(),u},i.updateDisplay),i.updateDisplay());i.setValue=cn.compose(function(u){return e.getRoot().__preset_select&&i.isModified()&&I0(e.getRoot(),!0),u},i.setValue)}function Wx(e,n){var i=e.getRoot(),s=i.__rememberedObjects.indexOf(n.object);if(s!==-1){var a=i.__rememberedObjectIndecesToControllers[s];if(a===void 0&&(a={},i.__rememberedObjectIndecesToControllers[s]=a),a[n.property]=n,i.load&&i.load.remembered){var u=i.load.remembered,f=void 0;if(u[e.preset])f=u[e.preset];else if(u[Ih])f=u[Ih];else return;if(f[s]&&f[s][n.property]!==void 0){var h=f[s][n.property];n.initialValue=h,n.setValue(h)}}}}function lh(e,n,i,s){if(n[i]===void 0)throw new Error('Object "'+n+'" has no property "'+i+'"');var a=void 0;if(s.color)a=new C0(n,i);else{var u=[n,i].concat(s.factoryArgs);a=N5.apply(e,u)}s.before instanceof pu&&(s.before=s.before.__li),Wx(e,a),Vt.addClass(a.domElement,"c");var f=document.createElement("span");Vt.addClass(f,"property-name"),f.innerHTML=a.property;var h=document.createElement("div");h.appendChild(f),h.appendChild(a.domElement);var v=Jy(e,h,s.before);return Vt.addClass(v,ci.CLASS_CONTROLLER_ROW),a instanceof C0?Vt.addClass(v,"color"):Vt.addClass(v,b5(a.getValue())),L5(e,v,a),e.__controllers.push(a),a}function cd(e,n){return document.location.href+"."+n}function M0(e,n,i){var s=document.createElement("option");s.innerHTML=n,s.value=n,e.__preset_select.appendChild(s),i&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function $C(e,n){n.style.display=e.useLocalStorage?"block":"none"}function O5(e){var n=e.__save_row=document.createElement("li");Vt.addClass(e.domElement,"has-save"),e.__ul.insertBefore(n,e.__ul.firstChild),Vt.addClass(n,"save-row");var i=document.createElement("span");i.innerHTML="&nbsp;",Vt.addClass(i,"button gears");var s=document.createElement("span");s.innerHTML="Save",Vt.addClass(s,"button"),Vt.addClass(s,"save");var a=document.createElement("span");a.innerHTML="New",Vt.addClass(a,"button"),Vt.addClass(a,"save-as");var u=document.createElement("span");u.innerHTML="Revert",Vt.addClass(u,"button"),Vt.addClass(u,"revert");var f=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?cn.each(e.load.remembered,function(E,w){M0(e,w,w===e.preset)}):M0(e,Ih,!1),Vt.bind(f,"change",function(){for(var E=0;E<e.__preset_select.length;E++)e.__preset_select[E].innerHTML=e.__preset_select[E].value;e.preset=this.value}),n.appendChild(f),n.appendChild(i),n.appendChild(s),n.appendChild(a),n.appendChild(u),Jf){var h=document.getElementById("dg-local-explain"),v=document.getElementById("dg-local-storage"),y=document.getElementById("dg-save-locally");y.style.display="block",localStorage.getItem(cd(e,"isLocal"))==="true"&&v.setAttribute("checked","checked"),$C(e,h),Vt.bind(v,"change",function(){e.useLocalStorage=!e.useLocalStorage,$C(e,h)})}var b=document.getElementById("dg-new-constructor");Vt.bind(b,"keydown",function(E){E.metaKey&&(E.which===67||E.keyCode===67)&&ah.hide()}),Vt.bind(i,"click",function(){b.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),ah.show(),b.focus(),b.select()}),Vt.bind(s,"click",function(){e.save()}),Vt.bind(a,"click",function(){var E=prompt("Enter a new preset name.");E&&e.saveAs(E)}),Vt.bind(u,"click",function(){e.revert()})}function F5(e){var n=void 0;e.__resize_handle=document.createElement("div"),cn.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function i(u){return u.preventDefault(),e.width+=n-u.clientX,e.onResize(),n=u.clientX,!1}function s(){Vt.removeClass(e.__closeButton,ci.CLASS_DRAG),Vt.unbind(window,"mousemove",i),Vt.unbind(window,"mouseup",s)}function a(u){return u.preventDefault(),n=u.clientX,Vt.addClass(e.__closeButton,ci.CLASS_DRAG),Vt.bind(window,"mousemove",i),Vt.bind(window,"mouseup",s),!1}Vt.bind(e.__resize_handle,"mousedown",a),Vt.bind(e.__closeButton,"mousedown",a),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function x0(e,n){e.domElement.style.width=n+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=n+"px"),e.__closeButton&&(e.__closeButton.style.width=n+"px")}function pm(e,n){var i={};return cn.each(e.__rememberedObjects,function(s,a){var u={},f=e.__rememberedObjectIndecesToControllers[a];cn.each(f,function(h,v){u[v]=n?h.initialValue:h.getValue()}),i[a]=u}),i}function V5(e){for(var n=0;n<e.__preset_select.length;n++)e.__preset_select[n].value===e.preset&&(e.__preset_select.selectedIndex=n)}function Kx(e){e.length!==0&&B5.call(window,function(){Kx(e)}),cn.each(e,function(n){n.updateDisplay()})}var G5=ci,lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function U5(e){var n=e.default;if(typeof n=="function"){var i=function(){return n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(i,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),i}var Gc={exports:{}};const H5={},Q5=Object.freeze(Object.defineProperty({__proto__:null,default:H5},Symbol.toStringTag,{value:"Module"})),X5=U5(Q5);(function(e,n){(function(i,s){s(n,X5)})(lo,function(i,s){function a(p){return p&&typeof p=="object"&&"default"in p?p:{default:p}}var u=a(s),f=function(p,t){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},f(p,t)};function h(p,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");f(p,t);function r(){this.constructor=p}p.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function v(p,t,r,o){function l(d){return d instanceof r?d:new r(function(m){m(d)})}return new(r||(r=Promise))(function(d,m){function _(R){try{S(o.next(R))}catch(I){m(I)}}function A(R){try{S(o.throw(R))}catch(I){m(I)}}function S(R){R.done?d(R.value):l(R.value).then(_,A)}S((o=o.apply(p,t||[])).next())})}function y(p,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,l,d,m;return m={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function _(S){return function(R){return A([S,R])}}function A(S){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,l&&(d=S[0]&2?l.return:S[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,S[1])).done)return d;switch(l=0,d&&(S=[S[0]&2,d.value]),S[0]){case 0:case 1:d=S;break;case 4:return r.label++,{value:S[1],done:!1};case 5:r.label++,l=S[1],S=[0];continue;case 7:S=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(S[0]===6||S[0]===2)){r=0;continue}if(S[0]===3&&(!d||S[1]>d[0]&&S[1]<d[3])){r.label=S[1];break}if(S[0]===6&&r.label<d[1]){r.label=d[1],d=S;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(S);break}d[2]&&r.ops.pop(),r.trys.pop();continue}S=t.call(p,r)}catch(R){S=[6,R],l=0}finally{o=d=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}}function b(p,t,r){if(r||arguments.length===2)for(var o=0,l=t.length,d;o<l;o++)(d||!(o in t))&&(d||(d=Array.prototype.slice.call(t,0,o)),d[o]=t[o]);return p.concat(d||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const E="144",w={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},C={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},x=0,M=1,T=2,P=1,F=2,B=3,G=0,Q=1,H=2,J=0,te=1,ie=2,ue=3,be=4,me=5,de=100,ye=101,ve=102,Ee=103,fe=104,_e=200,oe=201,Te=202,Le=203,xe=204,Fe=205,ft=206,St=207,Pt=208,At=209,Ve=210,at=0,pt=1,nn=2,_n=3,Be=4,ze=5,vt=6,Lt=7,et=0,xt=1,qe=2,rt=0,mt=1,Et=2,rn=3,it=4,Xt=5,In=300,Mn=301,Ke=302,It=303,$e=304,Rt=306,Qe=1e3,Dt=1001,Qt=1002,Yt=1003,un=1004,Ar=1005,ir=1006,si=1007,Xn=1008,Ir=1009,zt=1010,Nn=1011,tr=1012,Tr=1013,Pi=1014,Yr=1015,Bi=1016,AB=1017,yB=1018,bu=1020,bB=1021,SB=1022,zi=1023,EB=1024,wB=1025,ac=1026,Su=1027,ul=1028,CB=1029,jd=1030,IB=1031,MB=1033,sp=33776,Av=33777,yv=33778,op=33779,bv=35840,S1=35841,Sv=35842,E1=35843,w1=36196,Ev=37492,wv=37496,Cv=37808,C1=37809,I1=37810,M1=37811,x1=37812,R1=37813,T1=37814,N1=37815,P1=37816,B1=37817,D1=37818,k1=37819,L1=37820,O1=37821,Iv=36492,xB=2200,RB=2201,TB=2202,Eu=2300,lc=2301,Mv=2302,wu=2400,Cu=2401,ap=2402,xv=2500,NB=2501,PB=1,F1=2,_o=3e3,Or=3001,BB=3200,DB=3201,lp=0,kB=1,Sa="srgb",cc="srgb-linear",Rv=7680,LB=519,Tv=35044,cp="300 es",Nv=1035;class Ea{addEventListener(t,r){this._listeners===void 0&&(this._listeners={});const o=this._listeners;o[t]===void 0&&(o[t]=[]),o[t].indexOf(r)===-1&&o[t].push(r)}hasEventListener(t,r){if(this._listeners===void 0)return!1;const o=this._listeners;return o[t]!==void 0&&o[t].indexOf(r)!==-1}removeEventListener(t,r){if(this._listeners===void 0)return;const l=this._listeners[t];if(l!==void 0){const d=l.indexOf(r);d!==-1&&l.splice(d,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const o=this._listeners[t.type];if(o!==void 0){t.target=this;const l=o.slice(0);for(let d=0,m=l.length;d<m;d++)l[d].call(this,t);t.target=null}}}const es=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let V1=1234567;const qd=Math.PI/180,Yd=180/Math.PI;function Ao(){const p=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(es[p&255]+es[p>>8&255]+es[p>>16&255]+es[p>>24&255]+"-"+es[t&255]+es[t>>8&255]+"-"+es[t>>16&15|64]+es[t>>24&255]+"-"+es[r&63|128]+es[r>>8&255]+"-"+es[r>>16&255]+es[r>>24&255]+es[o&255]+es[o>>8&255]+es[o>>16&255]+es[o>>24&255]).toLowerCase()}function $i(p,t,r){return Math.max(t,Math.min(r,p))}function Pv(p,t){return(p%t+t)%t}function OB(p,t,r,o,l){return o+(p-t)*(l-o)/(r-t)}function FB(p,t,r){return p!==t?(r-p)/(t-p):0}function Jd(p,t,r){return(1-r)*p+r*t}function VB(p,t,r,o){return Jd(p,t,1-Math.exp(-r*o))}function GB(p,t=1){return t-Math.abs(Pv(p,t*2)-t)}function UB(p,t,r){return p<=t?0:p>=r?1:(p=(p-t)/(r-t),p*p*(3-2*p))}function HB(p,t,r){return p<=t?0:p>=r?1:(p=(p-t)/(r-t),p*p*p*(p*(p*6-15)+10))}function QB(p,t){return p+Math.floor(Math.random()*(t-p+1))}function XB(p,t){return p+Math.random()*(t-p)}function zB(p){return p*(.5-Math.random())}function $B(p){p!==void 0&&(V1=p);let t=V1+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function WB(p){return p*qd}function KB(p){return p*Yd}function Bv(p){return(p&p-1)===0&&p!==0}function G1(p){return Math.pow(2,Math.ceil(Math.log(p)/Math.LN2))}function up(p){return Math.pow(2,Math.floor(Math.log(p)/Math.LN2))}function jB(p,t,r,o,l){const d=Math.cos,m=Math.sin,_=d(r/2),A=m(r/2),S=d((t+o)/2),R=m((t+o)/2),I=d((t-o)/2),N=m((t-o)/2),D=d((o-t)/2),V=m((o-t)/2);switch(l){case"XYX":p.set(_*R,A*I,A*N,_*S);break;case"YZY":p.set(A*N,_*R,A*I,_*S);break;case"ZXZ":p.set(A*I,A*N,_*R,_*S);break;case"XZX":p.set(_*R,A*V,A*D,_*S);break;case"YXY":p.set(A*D,_*R,A*V,_*S);break;case"ZYZ":p.set(A*V,A*D,_*R,_*S);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+l)}}function wa(p,t){switch(t.constructor){case Float32Array:return p;case Uint16Array:return p/65535;case Uint8Array:return p/255;case Int16Array:return Math.max(p/32767,-1);case Int8Array:return Math.max(p/127,-1);default:throw new Error("Invalid component type.")}}function Jr(p,t){switch(t.constructor){case Float32Array:return p;case Uint16Array:return Math.round(p*65535);case Uint8Array:return Math.round(p*255);case Int16Array:return Math.round(p*32767);case Int8Array:return Math.round(p*127);default:throw new Error("Invalid component type.")}}var U1=Object.freeze({__proto__:null,DEG2RAD:qd,RAD2DEG:Yd,generateUUID:Ao,clamp:$i,euclideanModulo:Pv,mapLinear:OB,inverseLerp:FB,lerp:Jd,damp:VB,pingpong:GB,smoothstep:UB,smootherstep:HB,randInt:QB,randFloat:XB,randFloatSpread:zB,seededRandom:$B,degToRad:WB,radToDeg:KB,isPowerOfTwo:Bv,ceilPowerOfTwo:G1,floorPowerOfTwo:up,setQuaternionFromProperEuler:jB,normalize:Jr,denormalize:wa});class Fn{constructor(t=0,r=0){Fn.prototype.isVector2=!0,this.x=t,this.y=r}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,r){return this.x=t,this.y=r,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const r=this.x,o=this.y,l=t.elements;return this.x=l[0]*r+l[3]*o+l[6],this.y=l[1]*r+l[4]*o+l[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this}clampLength(t,r){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(t,Math.min(r,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const r=this.x-t.x,o=this.y-t.y;return r*r+o*o}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this}lerpVectors(t,r,o){return this.x=t.x+(r.x-t.x)*o,this.y=t.y+(r.y-t.y)*o,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t}fromBufferAttribute(t,r){return this.x=t.getX(r),this.y=t.getY(r),this}rotateAround(t,r){const o=Math.cos(r),l=Math.sin(r),d=this.x-t.x,m=this.y-t.y;return this.x=d*o-m*l+t.x,this.y=d*l+m*o+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class xs{constructor(){xs.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(t,r,o,l,d,m,_,A,S){const R=this.elements;return R[0]=t,R[1]=l,R[2]=_,R[3]=r,R[4]=d,R[5]=A,R[6]=o,R[7]=m,R[8]=S,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const r=this.elements,o=t.elements;return r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5],r[6]=o[6],r[7]=o[7],r[8]=o[8],this}extractBasis(t,r,o){return t.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),o.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const r=t.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,r){const o=t.elements,l=r.elements,d=this.elements,m=o[0],_=o[3],A=o[6],S=o[1],R=o[4],I=o[7],N=o[2],D=o[5],V=o[8],O=l[0],k=l[3],U=l[6],W=l[1],Z=l[4],ne=l[7],j=l[2],re=l[5],Ae=l[8];return d[0]=m*O+_*W+A*j,d[3]=m*k+_*Z+A*re,d[6]=m*U+_*ne+A*Ae,d[1]=S*O+R*W+I*j,d[4]=S*k+R*Z+I*re,d[7]=S*U+R*ne+I*Ae,d[2]=N*O+D*W+V*j,d[5]=N*k+D*Z+V*re,d[8]=N*U+D*ne+V*Ae,this}multiplyScalar(t){const r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=t,r[4]*=t,r[7]*=t,r[2]*=t,r[5]*=t,r[8]*=t,this}determinant(){const t=this.elements,r=t[0],o=t[1],l=t[2],d=t[3],m=t[4],_=t[5],A=t[6],S=t[7],R=t[8];return r*m*R-r*_*S-o*d*R+o*_*A+l*d*S-l*m*A}invert(){const t=this.elements,r=t[0],o=t[1],l=t[2],d=t[3],m=t[4],_=t[5],A=t[6],S=t[7],R=t[8],I=R*m-_*S,N=_*A-R*d,D=S*d-m*A,V=r*I+o*N+l*D;if(V===0)return this.set(0,0,0,0,0,0,0,0,0);const O=1/V;return t[0]=I*O,t[1]=(l*S-R*o)*O,t[2]=(_*o-l*m)*O,t[3]=N*O,t[4]=(R*r-l*A)*O,t[5]=(l*d-_*r)*O,t[6]=D*O,t[7]=(o*A-S*r)*O,t[8]=(m*r-o*d)*O,this}transpose(){let t;const r=this.elements;return t=r[1],r[1]=r[3],r[3]=t,t=r[2],r[2]=r[6],r[6]=t,t=r[5],r[5]=r[7],r[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const r=this.elements;return t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8],this}setUvTransform(t,r,o,l,d,m,_){const A=Math.cos(d),S=Math.sin(d);return this.set(o*A,o*S,-o*(A*m+S*_)+m+t,-l*S,l*A,-l*(-S*m+A*_)+_+r,0,0,1),this}scale(t,r){const o=this.elements;return o[0]*=t,o[3]*=t,o[6]*=t,o[1]*=r,o[4]*=r,o[7]*=r,this}rotate(t){const r=Math.cos(t),o=Math.sin(t),l=this.elements,d=l[0],m=l[3],_=l[6],A=l[1],S=l[4],R=l[7];return l[0]=r*d+o*A,l[3]=r*m+o*S,l[6]=r*_+o*R,l[1]=-o*d+r*A,l[4]=-o*m+r*S,l[7]=-o*_+r*R,this}translate(t,r){const o=this.elements;return o[0]+=t*o[2],o[3]+=t*o[5],o[6]+=t*o[8],o[1]+=r*o[2],o[4]+=r*o[5],o[7]+=r*o[8],this}equals(t){const r=this.elements,o=t.elements;for(let l=0;l<9;l++)if(r[l]!==o[l])return!1;return!0}fromArray(t,r=0){for(let o=0;o<9;o++)this.elements[o]=t[o+r];return this}toArray(t=[],r=0){const o=this.elements;return t[r]=o[0],t[r+1]=o[1],t[r+2]=o[2],t[r+3]=o[3],t[r+4]=o[4],t[r+5]=o[5],t[r+6]=o[6],t[r+7]=o[7],t[r+8]=o[8],t}clone(){return new this.constructor().fromArray(this.elements)}}function H1(p){for(let t=p.length-1;t>=0;--t)if(p[t]>=65535)return!0;return!1}function Zd(p){return document.createElementNS("http://www.w3.org/1999/xhtml",p)}function uc(p){return p<.04045?p*.0773993808:Math.pow(p*.9478672986+.0521327014,2.4)}function dp(p){return p<.0031308?p*12.92:1.055*Math.pow(p,.41666)-.055}const Dv={[Sa]:{[cc]:uc},[cc]:{[Sa]:dp}},yo={legacyMode:!0,get workingColorSpace(){return cc},set workingColorSpace(p){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(p,t,r){if(this.legacyMode||t===r||!t||!r)return p;if(Dv[t]&&Dv[t][r]!==void 0){const o=Dv[t][r];return p.r=o(p.r),p.g=o(p.g),p.b=o(p.b),p}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(p,t){return this.convert(p,this.workingColorSpace,t)},toWorkingColorSpace:function(p,t){return this.convert(p,t,this.workingColorSpace)}},Q1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ri={r:0,g:0,b:0},bo={h:0,s:0,l:0},fp={h:0,s:0,l:0};function kv(p,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?p+(t-p)*6*r:r<1/2?t:r<2/3?p+(t-p)*6*(2/3-r):p}function hp(p,t){return t.r=p.r,t.g=p.g,t.b=p.b,t}class sr{constructor(t,r,o){return this.isColor=!0,this.r=1,this.g=1,this.b=1,r===void 0&&o===void 0?this.set(t):this.setRGB(t,r,o)}set(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,r=Sa){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,yo.toWorkingColorSpace(this,r),this}setRGB(t,r,o,l=cc){return this.r=t,this.g=r,this.b=o,yo.toWorkingColorSpace(this,l),this}setHSL(t,r,o,l=cc){if(t=Pv(t,1),r=$i(r,0,1),o=$i(o,0,1),r===0)this.r=this.g=this.b=o;else{const d=o<=.5?o*(1+r):o+r-o*r,m=2*o-d;this.r=kv(m,d,t+1/3),this.g=kv(m,d,t),this.b=kv(m,d,t-1/3)}return yo.toWorkingColorSpace(this,l),this}setStyle(t,r=Sa){function o(d){d!==void 0&&parseFloat(d)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let l;if(l=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let d;const m=l[1],_=l[2];switch(m){case"rgb":case"rgba":if(d=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(_))return this.r=Math.min(255,parseInt(d[1],10))/255,this.g=Math.min(255,parseInt(d[2],10))/255,this.b=Math.min(255,parseInt(d[3],10))/255,yo.toWorkingColorSpace(this,r),o(d[4]),this;if(d=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(_))return this.r=Math.min(100,parseInt(d[1],10))/100,this.g=Math.min(100,parseInt(d[2],10))/100,this.b=Math.min(100,parseInt(d[3],10))/100,yo.toWorkingColorSpace(this,r),o(d[4]),this;break;case"hsl":case"hsla":if(d=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(_)){const A=parseFloat(d[1])/360,S=parseFloat(d[2])/100,R=parseFloat(d[3])/100;return o(d[4]),this.setHSL(A,S,R,r)}break}}else if(l=/^\#([A-Fa-f\d]+)$/.exec(t)){const d=l[1],m=d.length;if(m===3)return this.r=parseInt(d.charAt(0)+d.charAt(0),16)/255,this.g=parseInt(d.charAt(1)+d.charAt(1),16)/255,this.b=parseInt(d.charAt(2)+d.charAt(2),16)/255,yo.toWorkingColorSpace(this,r),this;if(m===6)return this.r=parseInt(d.charAt(0)+d.charAt(1),16)/255,this.g=parseInt(d.charAt(2)+d.charAt(3),16)/255,this.b=parseInt(d.charAt(4)+d.charAt(5),16)/255,yo.toWorkingColorSpace(this,r),this}return t&&t.length>0?this.setColorName(t,r):this}setColorName(t,r=Sa){const o=Q1[t.toLowerCase()];return o!==void 0?this.setHex(o,r):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=uc(t.r),this.g=uc(t.g),this.b=uc(t.b),this}copyLinearToSRGB(t){return this.r=dp(t.r),this.g=dp(t.g),this.b=dp(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Sa){return yo.fromWorkingColorSpace(hp(this,Ri),t),$i(Ri.r*255,0,255)<<16^$i(Ri.g*255,0,255)<<8^$i(Ri.b*255,0,255)<<0}getHexString(t=Sa){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,r=cc){yo.fromWorkingColorSpace(hp(this,Ri),r);const o=Ri.r,l=Ri.g,d=Ri.b,m=Math.max(o,l,d),_=Math.min(o,l,d);let A,S;const R=(_+m)/2;if(_===m)A=0,S=0;else{const I=m-_;switch(S=R<=.5?I/(m+_):I/(2-m-_),m){case o:A=(l-d)/I+(l<d?6:0);break;case l:A=(d-o)/I+2;break;case d:A=(o-l)/I+4;break}A/=6}return t.h=A,t.s=S,t.l=R,t}getRGB(t,r=cc){return yo.fromWorkingColorSpace(hp(this,Ri),r),t.r=Ri.r,t.g=Ri.g,t.b=Ri.b,t}getStyle(t=Sa){return yo.fromWorkingColorSpace(hp(this,Ri),t),t!==Sa?`color(${t} ${Ri.r} ${Ri.g} ${Ri.b})`:`rgb(${Ri.r*255|0},${Ri.g*255|0},${Ri.b*255|0})`}offsetHSL(t,r,o){return this.getHSL(bo),bo.h+=t,bo.s+=r,bo.l+=o,this.setHSL(bo.h,bo.s,bo.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,r){return this.r=t.r+r.r,this.g=t.g+r.g,this.b=t.b+r.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,r){return this.r+=(t.r-this.r)*r,this.g+=(t.g-this.g)*r,this.b+=(t.b-this.b)*r,this}lerpColors(t,r,o){return this.r=t.r+(r.r-t.r)*o,this.g=t.g+(r.g-t.g)*o,this.b=t.b+(r.b-t.b)*o,this}lerpHSL(t,r){this.getHSL(bo),t.getHSL(fp);const o=Jd(bo.h,fp.h,r),l=Jd(bo.s,fp.s,r),d=Jd(bo.l,fp.l,r);return this.setHSL(o,l,d),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,r=0){return this.r=t[r],this.g=t[r+1],this.b=t[r+2],this}toArray(t=[],r=0){return t[r]=this.r,t[r+1]=this.g,t[r+2]=this.b,t}fromBufferAttribute(t,r){return this.r=t.getX(r),this.g=t.getY(r),this.b=t.getZ(r),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}sr.NAMES=Q1;let Iu;class X1{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let r;if(t instanceof HTMLCanvasElement)r=t;else{Iu===void 0&&(Iu=Zd("canvas")),Iu.width=t.width,Iu.height=t.height;const o=Iu.getContext("2d");t instanceof ImageData?o.putImageData(t,0,0):o.drawImage(t,0,0,t.width,t.height),r=Iu}return r.width>2048||r.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),r.toDataURL("image/jpeg",.6)):r.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const r=Zd("canvas");r.width=t.width,r.height=t.height;const o=r.getContext("2d");o.drawImage(t,0,0,t.width,t.height);const l=o.getImageData(0,0,t.width,t.height),d=l.data;for(let m=0;m<d.length;m++)d[m]=uc(d[m]/255)*255;return o.putImageData(l,0,0),r}else if(t.data){const r=t.data.slice(0);for(let o=0;o<r.length;o++)r instanceof Uint8Array||r instanceof Uint8ClampedArray?r[o]=Math.floor(uc(r[o]/255)*255):r[o]=uc(r[o]);return{data:r,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class Lv{constructor(t=null){this.isSource=!0,this.uuid=Ao(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const r=t===void 0||typeof t=="string";if(!r&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const o={uuid:this.uuid,url:""},l=this.data;if(l!==null){let d;if(Array.isArray(l)){d=[];for(let m=0,_=l.length;m<_;m++)l[m].isDataTexture?d.push(Ov(l[m].image)):d.push(Ov(l[m]))}else d=Ov(l);o.url=d}return r||(t.images[this.uuid]=o),o}}function Ov(p){return typeof HTMLImageElement<"u"&&p instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&p instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&p instanceof ImageBitmap?X1.getDataURL(p):p.data?{data:Array.from(p.data),width:p.width,height:p.height,type:p.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let qB=0;class Di extends Ea{constructor(t=Di.DEFAULT_IMAGE,r=Di.DEFAULT_MAPPING,o=Dt,l=Dt,d=ir,m=Xn,_=zi,A=Ir,S=1,R=_o){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:qB++}),this.uuid=Ao(),this.name="",this.source=new Lv(t),this.mipmaps=[],this.mapping=r,this.wrapS=o,this.wrapT=l,this.magFilter=d,this.minFilter=m,this.anisotropy=S,this.format=_,this.internalFormat=null,this.type=A,this.offset=new Fn(0,0),this.repeat=new Fn(1,1),this.center=new Fn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new xs,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=R,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const r=t===void 0||typeof t=="string";if(!r&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const o={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(o.userData=this.userData),r||(t.textures[this.uuid]=o),o}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==In)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Qe:t.x=t.x-Math.floor(t.x);break;case Dt:t.x=t.x<0?0:1;break;case Qt:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Qe:t.y=t.y-Math.floor(t.y);break;case Dt:t.y=t.y<0?0:1;break;case Qt:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}}Di.DEFAULT_IMAGE=null,Di.DEFAULT_MAPPING=In;class Zr{constructor(t=0,r=0,o=0,l=1){Zr.prototype.isVector4=!0,this.x=t,this.y=r,this.z=o,this.w=l}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,r,o,l){return this.x=t,this.y=r,this.z=o,this.w=l,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this.w=t.w+r.w,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this.w+=t.w*r,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this.w=t.w-r.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const r=this.x,o=this.y,l=this.z,d=this.w,m=t.elements;return this.x=m[0]*r+m[4]*o+m[8]*l+m[12]*d,this.y=m[1]*r+m[5]*o+m[9]*l+m[13]*d,this.z=m[2]*r+m[6]*o+m[10]*l+m[14]*d,this.w=m[3]*r+m[7]*o+m[11]*l+m[15]*d,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const r=Math.sqrt(1-t.w*t.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/r,this.y=t.y/r,this.z=t.z/r),this}setAxisAngleFromRotationMatrix(t){let r,o,l,d;const A=t.elements,S=A[0],R=A[4],I=A[8],N=A[1],D=A[5],V=A[9],O=A[2],k=A[6],U=A[10];if(Math.abs(R-N)<.01&&Math.abs(I-O)<.01&&Math.abs(V-k)<.01){if(Math.abs(R+N)<.1&&Math.abs(I+O)<.1&&Math.abs(V+k)<.1&&Math.abs(S+D+U-3)<.1)return this.set(1,0,0,0),this;r=Math.PI;const Z=(S+1)/2,ne=(D+1)/2,j=(U+1)/2,re=(R+N)/4,Ae=(I+O)/4,Y=(V+k)/4;return Z>ne&&Z>j?Z<.01?(o=0,l=.707106781,d=.707106781):(o=Math.sqrt(Z),l=re/o,d=Ae/o):ne>j?ne<.01?(o=.707106781,l=0,d=.707106781):(l=Math.sqrt(ne),o=re/l,d=Y/l):j<.01?(o=.707106781,l=.707106781,d=0):(d=Math.sqrt(j),o=Ae/d,l=Y/d),this.set(o,l,d,r),this}let W=Math.sqrt((k-V)*(k-V)+(I-O)*(I-O)+(N-R)*(N-R));return Math.abs(W)<.001&&(W=1),this.x=(k-V)/W,this.y=(I-O)/W,this.z=(N-R)/W,this.w=Math.acos((S+D+U-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this.w=Math.max(t.w,Math.min(r.w,this.w)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this.z=Math.max(t,Math.min(r,this.z)),this.w=Math.max(t,Math.min(r,this.w)),this}clampLength(t,r){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(t,Math.min(r,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this.w+=(t.w-this.w)*r,this}lerpVectors(t,r,o){return this.x=t.x+(r.x-t.x)*o,this.y=t.y+(r.y-t.y)*o,this.z=t.z+(r.z-t.z)*o,this.w=t.w+(r.w-t.w)*o,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this.z=t[r+2],this.w=t[r+3],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t[r+3]=this.w,t}fromBufferAttribute(t,r){return this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this.w=t.getW(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class dc extends Ea{constructor(t,r,o={}){super(),this.isWebGLRenderTarget=!0,this.width=t,this.height=r,this.depth=1,this.scissor=new Zr(0,0,t,r),this.scissorTest=!1,this.viewport=new Zr(0,0,t,r);const l={width:t,height:r,depth:1};this.texture=new Di(l,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=o.generateMipmaps!==void 0?o.generateMipmaps:!1,this.texture.internalFormat=o.internalFormat!==void 0?o.internalFormat:null,this.texture.minFilter=o.minFilter!==void 0?o.minFilter:ir,this.depthBuffer=o.depthBuffer!==void 0?o.depthBuffer:!0,this.stencilBuffer=o.stencilBuffer!==void 0?o.stencilBuffer:!1,this.depthTexture=o.depthTexture!==void 0?o.depthTexture:null,this.samples=o.samples!==void 0?o.samples:0}setSize(t,r,o=1){(this.width!==t||this.height!==r||this.depth!==o)&&(this.width=t,this.height=r,this.depth=o,this.texture.image.width=t,this.texture.image.height=r,this.texture.image.depth=o,this.dispose()),this.viewport.set(0,0,t,r),this.scissor.set(0,0,t,r)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const r=Object.assign({},t.texture.image);return this.texture.source=new Lv(r),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class pp extends Di{constructor(t=null,r=1,o=1,l=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:r,height:o,depth:l},this.magFilter=Yt,this.minFilter=Yt,this.wrapR=Dt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Fv extends Di{constructor(t=null,r=1,o=1,l=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:r,height:o,depth:l},this.magFilter=Yt,this.minFilter=Yt,this.wrapR=Dt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Rs{constructor(t=0,r=0,o=0,l=1){this.isQuaternion=!0,this._x=t,this._y=r,this._z=o,this._w=l}static slerpFlat(t,r,o,l,d,m,_){let A=o[l+0],S=o[l+1],R=o[l+2],I=o[l+3];const N=d[m+0],D=d[m+1],V=d[m+2],O=d[m+3];if(_===0){t[r+0]=A,t[r+1]=S,t[r+2]=R,t[r+3]=I;return}if(_===1){t[r+0]=N,t[r+1]=D,t[r+2]=V,t[r+3]=O;return}if(I!==O||A!==N||S!==D||R!==V){let k=1-_;const U=A*N+S*D+R*V+I*O,W=U>=0?1:-1,Z=1-U*U;if(Z>Number.EPSILON){const j=Math.sqrt(Z),re=Math.atan2(j,U*W);k=Math.sin(k*re)/j,_=Math.sin(_*re)/j}const ne=_*W;if(A=A*k+N*ne,S=S*k+D*ne,R=R*k+V*ne,I=I*k+O*ne,k===1-_){const j=1/Math.sqrt(A*A+S*S+R*R+I*I);A*=j,S*=j,R*=j,I*=j}}t[r]=A,t[r+1]=S,t[r+2]=R,t[r+3]=I}static multiplyQuaternionsFlat(t,r,o,l,d,m){const _=o[l],A=o[l+1],S=o[l+2],R=o[l+3],I=d[m],N=d[m+1],D=d[m+2],V=d[m+3];return t[r]=_*V+R*I+A*D-S*N,t[r+1]=A*V+R*N+S*I-_*D,t[r+2]=S*V+R*D+_*N-A*I,t[r+3]=R*V-_*I-A*N-S*D,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,r,o,l){return this._x=t,this._y=r,this._z=o,this._w=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,r){const o=t._x,l=t._y,d=t._z,m=t._order,_=Math.cos,A=Math.sin,S=_(o/2),R=_(l/2),I=_(d/2),N=A(o/2),D=A(l/2),V=A(d/2);switch(m){case"XYZ":this._x=N*R*I+S*D*V,this._y=S*D*I-N*R*V,this._z=S*R*V+N*D*I,this._w=S*R*I-N*D*V;break;case"YXZ":this._x=N*R*I+S*D*V,this._y=S*D*I-N*R*V,this._z=S*R*V-N*D*I,this._w=S*R*I+N*D*V;break;case"ZXY":this._x=N*R*I-S*D*V,this._y=S*D*I+N*R*V,this._z=S*R*V+N*D*I,this._w=S*R*I-N*D*V;break;case"ZYX":this._x=N*R*I-S*D*V,this._y=S*D*I+N*R*V,this._z=S*R*V-N*D*I,this._w=S*R*I+N*D*V;break;case"YZX":this._x=N*R*I+S*D*V,this._y=S*D*I+N*R*V,this._z=S*R*V-N*D*I,this._w=S*R*I-N*D*V;break;case"XZY":this._x=N*R*I-S*D*V,this._y=S*D*I-N*R*V,this._z=S*R*V+N*D*I,this._w=S*R*I+N*D*V;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+m)}return r!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,r){const o=r/2,l=Math.sin(o);return this._x=t.x*l,this._y=t.y*l,this._z=t.z*l,this._w=Math.cos(o),this._onChangeCallback(),this}setFromRotationMatrix(t){const r=t.elements,o=r[0],l=r[4],d=r[8],m=r[1],_=r[5],A=r[9],S=r[2],R=r[6],I=r[10],N=o+_+I;if(N>0){const D=.5/Math.sqrt(N+1);this._w=.25/D,this._x=(R-A)*D,this._y=(d-S)*D,this._z=(m-l)*D}else if(o>_&&o>I){const D=2*Math.sqrt(1+o-_-I);this._w=(R-A)/D,this._x=.25*D,this._y=(l+m)/D,this._z=(d+S)/D}else if(_>I){const D=2*Math.sqrt(1+_-o-I);this._w=(d-S)/D,this._x=(l+m)/D,this._y=.25*D,this._z=(A+R)/D}else{const D=2*Math.sqrt(1+I-o-_);this._w=(m-l)/D,this._x=(d+S)/D,this._y=(A+R)/D,this._z=.25*D}return this._onChangeCallback(),this}setFromUnitVectors(t,r){let o=t.dot(r)+1;return o<Number.EPSILON?(o=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=o):(this._x=0,this._y=-t.z,this._z=t.y,this._w=o)):(this._x=t.y*r.z-t.z*r.y,this._y=t.z*r.x-t.x*r.z,this._z=t.x*r.y-t.y*r.x,this._w=o),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs($i(this.dot(t),-1,1)))}rotateTowards(t,r){const o=this.angleTo(t);if(o===0)return this;const l=Math.min(1,r/o);return this.slerp(t,l),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,r){const o=t._x,l=t._y,d=t._z,m=t._w,_=r._x,A=r._y,S=r._z,R=r._w;return this._x=o*R+m*_+l*S-d*A,this._y=l*R+m*A+d*_-o*S,this._z=d*R+m*S+o*A-l*_,this._w=m*R-o*_-l*A-d*S,this._onChangeCallback(),this}slerp(t,r){if(r===0)return this;if(r===1)return this.copy(t);const o=this._x,l=this._y,d=this._z,m=this._w;let _=m*t._w+o*t._x+l*t._y+d*t._z;if(_<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,_=-_):this.copy(t),_>=1)return this._w=m,this._x=o,this._y=l,this._z=d,this;const A=1-_*_;if(A<=Number.EPSILON){const D=1-r;return this._w=D*m+r*this._w,this._x=D*o+r*this._x,this._y=D*l+r*this._y,this._z=D*d+r*this._z,this.normalize(),this._onChangeCallback(),this}const S=Math.sqrt(A),R=Math.atan2(S,_),I=Math.sin((1-r)*R)/S,N=Math.sin(r*R)/S;return this._w=m*I+this._w*N,this._x=o*I+this._x*N,this._y=l*I+this._y*N,this._z=d*I+this._z*N,this._onChangeCallback(),this}slerpQuaternions(t,r,o){return this.copy(t).slerp(r,o)}random(){const t=Math.random(),r=Math.sqrt(1-t),o=Math.sqrt(t),l=2*Math.PI*Math.random(),d=2*Math.PI*Math.random();return this.set(r*Math.cos(l),o*Math.sin(d),o*Math.cos(d),r*Math.sin(l))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,r=0){return this._x=t[r],this._y=t[r+1],this._z=t[r+2],this._w=t[r+3],this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._w,t}fromBufferAttribute(t,r){return this._x=t.getX(r),this._y=t.getY(r),this._z=t.getZ(r),this._w=t.getW(r),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ze{constructor(t=0,r=0,o=0){Ze.prototype.isVector3=!0,this.x=t,this.y=r,this.z=o}set(t,r,o){return o===void 0&&(o=this.z),this.x=t,this.y=r,this.z=o,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,r){return this.x=t.x*r.x,this.y=t.y*r.y,this.z=t.z*r.z,this}applyEuler(t){return this.applyQuaternion(z1.setFromEuler(t))}applyAxisAngle(t,r){return this.applyQuaternion(z1.setFromAxisAngle(t,r))}applyMatrix3(t){const r=this.x,o=this.y,l=this.z,d=t.elements;return this.x=d[0]*r+d[3]*o+d[6]*l,this.y=d[1]*r+d[4]*o+d[7]*l,this.z=d[2]*r+d[5]*o+d[8]*l,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const r=this.x,o=this.y,l=this.z,d=t.elements,m=1/(d[3]*r+d[7]*o+d[11]*l+d[15]);return this.x=(d[0]*r+d[4]*o+d[8]*l+d[12])*m,this.y=(d[1]*r+d[5]*o+d[9]*l+d[13])*m,this.z=(d[2]*r+d[6]*o+d[10]*l+d[14])*m,this}applyQuaternion(t){const r=this.x,o=this.y,l=this.z,d=t.x,m=t.y,_=t.z,A=t.w,S=A*r+m*l-_*o,R=A*o+_*r-d*l,I=A*l+d*o-m*r,N=-d*r-m*o-_*l;return this.x=S*A+N*-d+R*-_-I*-m,this.y=R*A+N*-m+I*-d-S*-_,this.z=I*A+N*-_+S*-m-R*-d,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const r=this.x,o=this.y,l=this.z,d=t.elements;return this.x=d[0]*r+d[4]*o+d[8]*l,this.y=d[1]*r+d[5]*o+d[9]*l,this.z=d[2]*r+d[6]*o+d[10]*l,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this.z=Math.max(t,Math.min(r,this.z)),this}clampLength(t,r){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(t,Math.min(r,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this}lerpVectors(t,r,o){return this.x=t.x+(r.x-t.x)*o,this.y=t.y+(r.y-t.y)*o,this.z=t.z+(r.z-t.z)*o,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,r){const o=t.x,l=t.y,d=t.z,m=r.x,_=r.y,A=r.z;return this.x=l*A-d*_,this.y=d*m-o*A,this.z=o*_-l*m,this}projectOnVector(t){const r=t.lengthSq();if(r===0)return this.set(0,0,0);const o=t.dot(this)/r;return this.copy(t).multiplyScalar(o)}projectOnPlane(t){return Vv.copy(this).projectOnVector(t),this.sub(Vv)}reflect(t){return this.sub(Vv.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const r=Math.sqrt(this.lengthSq()*t.lengthSq());if(r===0)return Math.PI/2;const o=this.dot(t)/r;return Math.acos($i(o,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const r=this.x-t.x,o=this.y-t.y,l=this.z-t.z;return r*r+o*o+l*l}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,r,o){const l=Math.sin(r)*t;return this.x=l*Math.sin(o),this.y=Math.cos(r)*t,this.z=l*Math.cos(o),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,r,o){return this.x=t*Math.sin(r),this.y=o,this.z=t*Math.cos(r),this}setFromMatrixPosition(t){const r=t.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(t){const r=this.setFromMatrixColumn(t,0).length(),o=this.setFromMatrixColumn(t,1).length(),l=this.setFromMatrixColumn(t,2).length();return this.x=r,this.y=o,this.z=l,this}setFromMatrixColumn(t,r){return this.fromArray(t.elements,r*4)}setFromMatrix3Column(t,r){return this.fromArray(t.elements,r*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this.z=t[r+2],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t}fromBufferAttribute(t,r){return this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,r=Math.random()*Math.PI*2,o=Math.sqrt(1-t**2);return this.x=o*Math.cos(r),this.y=o*Math.sin(r),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Vv=new Ze,z1=new Rs;class Yo{constructor(t=new Ze(1/0,1/0,1/0),r=new Ze(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=r}set(t,r){return this.min.copy(t),this.max.copy(r),this}setFromArray(t){let r=1/0,o=1/0,l=1/0,d=-1/0,m=-1/0,_=-1/0;for(let A=0,S=t.length;A<S;A+=3){const R=t[A],I=t[A+1],N=t[A+2];R<r&&(r=R),I<o&&(o=I),N<l&&(l=N),R>d&&(d=R),I>m&&(m=I),N>_&&(_=N)}return this.min.set(r,o,l),this.max.set(d,m,_),this}setFromBufferAttribute(t){let r=1/0,o=1/0,l=1/0,d=-1/0,m=-1/0,_=-1/0;for(let A=0,S=t.count;A<S;A++){const R=t.getX(A),I=t.getY(A),N=t.getZ(A);R<r&&(r=R),I<o&&(o=I),N<l&&(l=N),R>d&&(d=R),I>m&&(m=I),N>_&&(_=N)}return this.min.set(r,o,l),this.max.set(d,m,_),this}setFromPoints(t){this.makeEmpty();for(let r=0,o=t.length;r<o;r++)this.expandByPoint(t[r]);return this}setFromCenterAndSize(t,r){const o=fc.copy(r).multiplyScalar(.5);return this.min.copy(t).sub(o),this.max.copy(t).add(o),this}setFromObject(t,r=!1){return this.makeEmpty(),this.expandByObject(t,r)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,r=!1){t.updateWorldMatrix(!1,!1);const o=t.geometry;if(o!==void 0)if(r&&o.attributes!=null&&o.attributes.position!==void 0){const d=o.attributes.position;for(let m=0,_=d.count;m<_;m++)fc.fromBufferAttribute(d,m).applyMatrix4(t.matrixWorld),this.expandByPoint(fc)}else o.boundingBox===null&&o.computeBoundingBox(),Gv.copy(o.boundingBox),Gv.applyMatrix4(t.matrixWorld),this.union(Gv);const l=t.children;for(let d=0,m=l.length;d<m;d++)this.expandByObject(l[d],r);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,r){return r.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,fc),fc.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let r,o;return t.normal.x>0?(r=t.normal.x*this.min.x,o=t.normal.x*this.max.x):(r=t.normal.x*this.max.x,o=t.normal.x*this.min.x),t.normal.y>0?(r+=t.normal.y*this.min.y,o+=t.normal.y*this.max.y):(r+=t.normal.y*this.max.y,o+=t.normal.y*this.min.y),t.normal.z>0?(r+=t.normal.z*this.min.z,o+=t.normal.z*this.max.z):(r+=t.normal.z*this.max.z,o+=t.normal.z*this.min.z),r<=-t.constant&&o>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(ef),mp.subVectors(this.max,ef),Mu.subVectors(t.a,ef),xu.subVectors(t.b,ef),Ru.subVectors(t.c,ef),dl.subVectors(xu,Mu),fl.subVectors(Ru,xu),hc.subVectors(Mu,Ru);let r=[0,-dl.z,dl.y,0,-fl.z,fl.y,0,-hc.z,hc.y,dl.z,0,-dl.x,fl.z,0,-fl.x,hc.z,0,-hc.x,-dl.y,dl.x,0,-fl.y,fl.x,0,-hc.y,hc.x,0];return!Uv(r,Mu,xu,Ru,mp)||(r=[1,0,0,0,1,0,0,0,1],!Uv(r,Mu,xu,Ru,mp))?!1:(gp.crossVectors(dl,fl),r=[gp.x,gp.y,gp.z],Uv(r,Mu,xu,Ru,mp))}clampPoint(t,r){return r.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return fc.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=this.getSize(fc).length()*.5,t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Ca[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Ca[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Ca[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Ca[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Ca[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Ca[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Ca[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Ca[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Ca),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Ca=[new Ze,new Ze,new Ze,new Ze,new Ze,new Ze,new Ze,new Ze],fc=new Ze,Gv=new Yo,Mu=new Ze,xu=new Ze,Ru=new Ze,dl=new Ze,fl=new Ze,hc=new Ze,ef=new Ze,mp=new Ze,gp=new Ze,pc=new Ze;function Uv(p,t,r,o,l){for(let d=0,m=p.length-3;d<=m;d+=3){pc.fromArray(p,d);const _=l.x*Math.abs(pc.x)+l.y*Math.abs(pc.y)+l.z*Math.abs(pc.z),A=t.dot(pc),S=r.dot(pc),R=o.dot(pc);if(Math.max(-Math.max(A,S,R),Math.min(A,S,R))>_)return!1}return!0}const YB=new Yo,$1=new Ze,vp=new Ze,Hv=new Ze;class Tu{constructor(t=new Ze,r=-1){this.center=t,this.radius=r}set(t,r){return this.center.copy(t),this.radius=r,this}setFromPoints(t,r){const o=this.center;r!==void 0?o.copy(r):YB.setFromPoints(t).getCenter(o);let l=0;for(let d=0,m=t.length;d<m;d++)l=Math.max(l,o.distanceToSquared(t[d]));return this.radius=Math.sqrt(l),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const r=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=r*r}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,r){const o=this.center.distanceToSquared(t);return r.copy(t),o>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){Hv.subVectors(t,this.center);const r=Hv.lengthSq();if(r>this.radius*this.radius){const o=Math.sqrt(r),l=(o-this.radius)*.5;this.center.add(Hv.multiplyScalar(l/o)),this.radius+=l}return this}union(t){return this.center.equals(t.center)===!0?vp.set(0,0,1).multiplyScalar(t.radius):vp.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint($1.copy(t.center).add(vp)),this.expandByPoint($1.copy(t.center).sub(vp)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ia=new Ze,Qv=new Ze,_p=new Ze,hl=new Ze,Xv=new Ze,Ap=new Ze,zv=new Ze;class yp{constructor(t=new Ze,r=new Ze(0,0,-1)){this.origin=t,this.direction=r}set(t,r){return this.origin.copy(t),this.direction.copy(r),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,r){return r.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Ia)),this}closestPointToPoint(t,r){r.subVectors(t,this.origin);const o=r.dot(this.direction);return o<0?r.copy(this.origin):r.copy(this.direction).multiplyScalar(o).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const r=Ia.subVectors(t,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(t):(Ia.copy(this.direction).multiplyScalar(r).add(this.origin),Ia.distanceToSquared(t))}distanceSqToSegment(t,r,o,l){Qv.copy(t).add(r).multiplyScalar(.5),_p.copy(r).sub(t).normalize(),hl.copy(this.origin).sub(Qv);const d=t.distanceTo(r)*.5,m=-this.direction.dot(_p),_=hl.dot(this.direction),A=-hl.dot(_p),S=hl.lengthSq(),R=Math.abs(1-m*m);let I,N,D,V;if(R>0)if(I=m*A-_,N=m*_-A,V=d*R,I>=0)if(N>=-V)if(N<=V){const O=1/R;I*=O,N*=O,D=I*(I+m*N+2*_)+N*(m*I+N+2*A)+S}else N=d,I=Math.max(0,-(m*N+_)),D=-I*I+N*(N+2*A)+S;else N=-d,I=Math.max(0,-(m*N+_)),D=-I*I+N*(N+2*A)+S;else N<=-V?(I=Math.max(0,-(-m*d+_)),N=I>0?-d:Math.min(Math.max(-d,-A),d),D=-I*I+N*(N+2*A)+S):N<=V?(I=0,N=Math.min(Math.max(-d,-A),d),D=N*(N+2*A)+S):(I=Math.max(0,-(m*d+_)),N=I>0?d:Math.min(Math.max(-d,-A),d),D=-I*I+N*(N+2*A)+S);else N=m>0?-d:d,I=Math.max(0,-(m*N+_)),D=-I*I+N*(N+2*A)+S;return o&&o.copy(this.direction).multiplyScalar(I).add(this.origin),l&&l.copy(_p).multiplyScalar(N).add(Qv),D}intersectSphere(t,r){Ia.subVectors(t.center,this.origin);const o=Ia.dot(this.direction),l=Ia.dot(Ia)-o*o,d=t.radius*t.radius;if(l>d)return null;const m=Math.sqrt(d-l),_=o-m,A=o+m;return _<0&&A<0?null:_<0?this.at(A,r):this.at(_,r)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const r=t.normal.dot(this.direction);if(r===0)return t.distanceToPoint(this.origin)===0?0:null;const o=-(this.origin.dot(t.normal)+t.constant)/r;return o>=0?o:null}intersectPlane(t,r){const o=this.distanceToPlane(t);return o===null?null:this.at(o,r)}intersectsPlane(t){const r=t.distanceToPoint(this.origin);return r===0||t.normal.dot(this.direction)*r<0}intersectBox(t,r){let o,l,d,m,_,A;const S=1/this.direction.x,R=1/this.direction.y,I=1/this.direction.z,N=this.origin;return S>=0?(o=(t.min.x-N.x)*S,l=(t.max.x-N.x)*S):(o=(t.max.x-N.x)*S,l=(t.min.x-N.x)*S),R>=0?(d=(t.min.y-N.y)*R,m=(t.max.y-N.y)*R):(d=(t.max.y-N.y)*R,m=(t.min.y-N.y)*R),o>m||d>l||((d>o||o!==o)&&(o=d),(m<l||l!==l)&&(l=m),I>=0?(_=(t.min.z-N.z)*I,A=(t.max.z-N.z)*I):(_=(t.max.z-N.z)*I,A=(t.min.z-N.z)*I),o>A||_>l)||((_>o||o!==o)&&(o=_),(A<l||l!==l)&&(l=A),l<0)?null:this.at(o>=0?o:l,r)}intersectsBox(t){return this.intersectBox(t,Ia)!==null}intersectTriangle(t,r,o,l,d){Xv.subVectors(r,t),Ap.subVectors(o,t),zv.crossVectors(Xv,Ap);let m=this.direction.dot(zv),_;if(m>0){if(l)return null;_=1}else if(m<0)_=-1,m=-m;else return null;hl.subVectors(this.origin,t);const A=_*this.direction.dot(Ap.crossVectors(hl,Ap));if(A<0)return null;const S=_*this.direction.dot(Xv.cross(hl));if(S<0||A+S>m)return null;const R=-_*hl.dot(zv);return R<0?null:this.at(R/m,d)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class br{constructor(){br.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(t,r,o,l,d,m,_,A,S,R,I,N,D,V,O,k){const U=this.elements;return U[0]=t,U[4]=r,U[8]=o,U[12]=l,U[1]=d,U[5]=m,U[9]=_,U[13]=A,U[2]=S,U[6]=R,U[10]=I,U[14]=N,U[3]=D,U[7]=V,U[11]=O,U[15]=k,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new br().fromArray(this.elements)}copy(t){const r=this.elements,o=t.elements;return r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5],r[6]=o[6],r[7]=o[7],r[8]=o[8],r[9]=o[9],r[10]=o[10],r[11]=o[11],r[12]=o[12],r[13]=o[13],r[14]=o[14],r[15]=o[15],this}copyPosition(t){const r=this.elements,o=t.elements;return r[12]=o[12],r[13]=o[13],r[14]=o[14],this}setFromMatrix3(t){const r=t.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(t,r,o){return t.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),o.setFromMatrixColumn(this,2),this}makeBasis(t,r,o){return this.set(t.x,r.x,o.x,0,t.y,r.y,o.y,0,t.z,r.z,o.z,0,0,0,0,1),this}extractRotation(t){const r=this.elements,o=t.elements,l=1/Nu.setFromMatrixColumn(t,0).length(),d=1/Nu.setFromMatrixColumn(t,1).length(),m=1/Nu.setFromMatrixColumn(t,2).length();return r[0]=o[0]*l,r[1]=o[1]*l,r[2]=o[2]*l,r[3]=0,r[4]=o[4]*d,r[5]=o[5]*d,r[6]=o[6]*d,r[7]=0,r[8]=o[8]*m,r[9]=o[9]*m,r[10]=o[10]*m,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(t){const r=this.elements,o=t.x,l=t.y,d=t.z,m=Math.cos(o),_=Math.sin(o),A=Math.cos(l),S=Math.sin(l),R=Math.cos(d),I=Math.sin(d);if(t.order==="XYZ"){const N=m*R,D=m*I,V=_*R,O=_*I;r[0]=A*R,r[4]=-A*I,r[8]=S,r[1]=D+V*S,r[5]=N-O*S,r[9]=-_*A,r[2]=O-N*S,r[6]=V+D*S,r[10]=m*A}else if(t.order==="YXZ"){const N=A*R,D=A*I,V=S*R,O=S*I;r[0]=N+O*_,r[4]=V*_-D,r[8]=m*S,r[1]=m*I,r[5]=m*R,r[9]=-_,r[2]=D*_-V,r[6]=O+N*_,r[10]=m*A}else if(t.order==="ZXY"){const N=A*R,D=A*I,V=S*R,O=S*I;r[0]=N-O*_,r[4]=-m*I,r[8]=V+D*_,r[1]=D+V*_,r[5]=m*R,r[9]=O-N*_,r[2]=-m*S,r[6]=_,r[10]=m*A}else if(t.order==="ZYX"){const N=m*R,D=m*I,V=_*R,O=_*I;r[0]=A*R,r[4]=V*S-D,r[8]=N*S+O,r[1]=A*I,r[5]=O*S+N,r[9]=D*S-V,r[2]=-S,r[6]=_*A,r[10]=m*A}else if(t.order==="YZX"){const N=m*A,D=m*S,V=_*A,O=_*S;r[0]=A*R,r[4]=O-N*I,r[8]=V*I+D,r[1]=I,r[5]=m*R,r[9]=-_*R,r[2]=-S*R,r[6]=D*I+V,r[10]=N-O*I}else if(t.order==="XZY"){const N=m*A,D=m*S,V=_*A,O=_*S;r[0]=A*R,r[4]=-I,r[8]=S*R,r[1]=N*I+O,r[5]=m*R,r[9]=D*I-V,r[2]=V*I-D,r[6]=_*R,r[10]=O*I+N}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(t){return this.compose(JB,t,ZB)}lookAt(t,r,o){const l=this.elements;return Ts.subVectors(t,r),Ts.lengthSq()===0&&(Ts.z=1),Ts.normalize(),pl.crossVectors(o,Ts),pl.lengthSq()===0&&(Math.abs(o.z)===1?Ts.x+=1e-4:Ts.z+=1e-4,Ts.normalize(),pl.crossVectors(o,Ts)),pl.normalize(),bp.crossVectors(Ts,pl),l[0]=pl.x,l[4]=bp.x,l[8]=Ts.x,l[1]=pl.y,l[5]=bp.y,l[9]=Ts.y,l[2]=pl.z,l[6]=bp.z,l[10]=Ts.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,r){const o=t.elements,l=r.elements,d=this.elements,m=o[0],_=o[4],A=o[8],S=o[12],R=o[1],I=o[5],N=o[9],D=o[13],V=o[2],O=o[6],k=o[10],U=o[14],W=o[3],Z=o[7],ne=o[11],j=o[15],re=l[0],Ae=l[4],Y=l[8],pe=l[12],we=l[1],Oe=l[5],tt=l[9],Re=l[13],ke=l[2],st=l[6],ht=l[10],dt=l[14],De=l[3],Je=l[7],ct=l[11],Gt=l[15];return d[0]=m*re+_*we+A*ke+S*De,d[4]=m*Ae+_*Oe+A*st+S*Je,d[8]=m*Y+_*tt+A*ht+S*ct,d[12]=m*pe+_*Re+A*dt+S*Gt,d[1]=R*re+I*we+N*ke+D*De,d[5]=R*Ae+I*Oe+N*st+D*Je,d[9]=R*Y+I*tt+N*ht+D*ct,d[13]=R*pe+I*Re+N*dt+D*Gt,d[2]=V*re+O*we+k*ke+U*De,d[6]=V*Ae+O*Oe+k*st+U*Je,d[10]=V*Y+O*tt+k*ht+U*ct,d[14]=V*pe+O*Re+k*dt+U*Gt,d[3]=W*re+Z*we+ne*ke+j*De,d[7]=W*Ae+Z*Oe+ne*st+j*Je,d[11]=W*Y+Z*tt+ne*ht+j*ct,d[15]=W*pe+Z*Re+ne*dt+j*Gt,this}multiplyScalar(t){const r=this.elements;return r[0]*=t,r[4]*=t,r[8]*=t,r[12]*=t,r[1]*=t,r[5]*=t,r[9]*=t,r[13]*=t,r[2]*=t,r[6]*=t,r[10]*=t,r[14]*=t,r[3]*=t,r[7]*=t,r[11]*=t,r[15]*=t,this}determinant(){const t=this.elements,r=t[0],o=t[4],l=t[8],d=t[12],m=t[1],_=t[5],A=t[9],S=t[13],R=t[2],I=t[6],N=t[10],D=t[14],V=t[3],O=t[7],k=t[11],U=t[15];return V*(+d*A*I-l*S*I-d*_*N+o*S*N+l*_*D-o*A*D)+O*(+r*A*D-r*S*N+d*m*N-l*m*D+l*S*R-d*A*R)+k*(+r*S*I-r*_*D-d*m*I+o*m*D+d*_*R-o*S*R)+U*(-l*_*R-r*A*I+r*_*N+l*m*I-o*m*N+o*A*R)}transpose(){const t=this.elements;let r;return r=t[1],t[1]=t[4],t[4]=r,r=t[2],t[2]=t[8],t[8]=r,r=t[6],t[6]=t[9],t[9]=r,r=t[3],t[3]=t[12],t[12]=r,r=t[7],t[7]=t[13],t[13]=r,r=t[11],t[11]=t[14],t[14]=r,this}setPosition(t,r,o){const l=this.elements;return t.isVector3?(l[12]=t.x,l[13]=t.y,l[14]=t.z):(l[12]=t,l[13]=r,l[14]=o),this}invert(){const t=this.elements,r=t[0],o=t[1],l=t[2],d=t[3],m=t[4],_=t[5],A=t[6],S=t[7],R=t[8],I=t[9],N=t[10],D=t[11],V=t[12],O=t[13],k=t[14],U=t[15],W=I*k*S-O*N*S+O*A*D-_*k*D-I*A*U+_*N*U,Z=V*N*S-R*k*S-V*A*D+m*k*D+R*A*U-m*N*U,ne=R*O*S-V*I*S+V*_*D-m*O*D-R*_*U+m*I*U,j=V*I*A-R*O*A-V*_*N+m*O*N+R*_*k-m*I*k,re=r*W+o*Z+l*ne+d*j;if(re===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Ae=1/re;return t[0]=W*Ae,t[1]=(O*N*d-I*k*d-O*l*D+o*k*D+I*l*U-o*N*U)*Ae,t[2]=(_*k*d-O*A*d+O*l*S-o*k*S-_*l*U+o*A*U)*Ae,t[3]=(I*A*d-_*N*d-I*l*S+o*N*S+_*l*D-o*A*D)*Ae,t[4]=Z*Ae,t[5]=(R*k*d-V*N*d+V*l*D-r*k*D-R*l*U+r*N*U)*Ae,t[6]=(V*A*d-m*k*d-V*l*S+r*k*S+m*l*U-r*A*U)*Ae,t[7]=(m*N*d-R*A*d+R*l*S-r*N*S-m*l*D+r*A*D)*Ae,t[8]=ne*Ae,t[9]=(V*I*d-R*O*d-V*o*D+r*O*D+R*o*U-r*I*U)*Ae,t[10]=(m*O*d-V*_*d+V*o*S-r*O*S-m*o*U+r*_*U)*Ae,t[11]=(R*_*d-m*I*d-R*o*S+r*I*S+m*o*D-r*_*D)*Ae,t[12]=j*Ae,t[13]=(R*O*l-V*I*l+V*o*N-r*O*N-R*o*k+r*I*k)*Ae,t[14]=(V*_*l-m*O*l-V*o*A+r*O*A+m*o*k-r*_*k)*Ae,t[15]=(m*I*l-R*_*l+R*o*A-r*I*A-m*o*N+r*_*N)*Ae,this}scale(t){const r=this.elements,o=t.x,l=t.y,d=t.z;return r[0]*=o,r[4]*=l,r[8]*=d,r[1]*=o,r[5]*=l,r[9]*=d,r[2]*=o,r[6]*=l,r[10]*=d,r[3]*=o,r[7]*=l,r[11]*=d,this}getMaxScaleOnAxis(){const t=this.elements,r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],o=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],l=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(r,o,l))}makeTranslation(t,r,o){return this.set(1,0,0,t,0,1,0,r,0,0,1,o,0,0,0,1),this}makeRotationX(t){const r=Math.cos(t),o=Math.sin(t);return this.set(1,0,0,0,0,r,-o,0,0,o,r,0,0,0,0,1),this}makeRotationY(t){const r=Math.cos(t),o=Math.sin(t);return this.set(r,0,o,0,0,1,0,0,-o,0,r,0,0,0,0,1),this}makeRotationZ(t){const r=Math.cos(t),o=Math.sin(t);return this.set(r,-o,0,0,o,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,r){const o=Math.cos(r),l=Math.sin(r),d=1-o,m=t.x,_=t.y,A=t.z,S=d*m,R=d*_;return this.set(S*m+o,S*_-l*A,S*A+l*_,0,S*_+l*A,R*_+o,R*A-l*m,0,S*A-l*_,R*A+l*m,d*A*A+o,0,0,0,0,1),this}makeScale(t,r,o){return this.set(t,0,0,0,0,r,0,0,0,0,o,0,0,0,0,1),this}makeShear(t,r,o,l,d,m){return this.set(1,o,d,0,t,1,m,0,r,l,1,0,0,0,0,1),this}compose(t,r,o){const l=this.elements,d=r._x,m=r._y,_=r._z,A=r._w,S=d+d,R=m+m,I=_+_,N=d*S,D=d*R,V=d*I,O=m*R,k=m*I,U=_*I,W=A*S,Z=A*R,ne=A*I,j=o.x,re=o.y,Ae=o.z;return l[0]=(1-(O+U))*j,l[1]=(D+ne)*j,l[2]=(V-Z)*j,l[3]=0,l[4]=(D-ne)*re,l[5]=(1-(N+U))*re,l[6]=(k+W)*re,l[7]=0,l[8]=(V+Z)*Ae,l[9]=(k-W)*Ae,l[10]=(1-(N+O))*Ae,l[11]=0,l[12]=t.x,l[13]=t.y,l[14]=t.z,l[15]=1,this}decompose(t,r,o){const l=this.elements;let d=Nu.set(l[0],l[1],l[2]).length();const m=Nu.set(l[4],l[5],l[6]).length(),_=Nu.set(l[8],l[9],l[10]).length();this.determinant()<0&&(d=-d),t.x=l[12],t.y=l[13],t.z=l[14],So.copy(this);const S=1/d,R=1/m,I=1/_;return So.elements[0]*=S,So.elements[1]*=S,So.elements[2]*=S,So.elements[4]*=R,So.elements[5]*=R,So.elements[6]*=R,So.elements[8]*=I,So.elements[9]*=I,So.elements[10]*=I,r.setFromRotationMatrix(So),o.x=d,o.y=m,o.z=_,this}makePerspective(t,r,o,l,d,m){const _=this.elements,A=2*d/(r-t),S=2*d/(o-l),R=(r+t)/(r-t),I=(o+l)/(o-l),N=-(m+d)/(m-d),D=-2*m*d/(m-d);return _[0]=A,_[4]=0,_[8]=R,_[12]=0,_[1]=0,_[5]=S,_[9]=I,_[13]=0,_[2]=0,_[6]=0,_[10]=N,_[14]=D,_[3]=0,_[7]=0,_[11]=-1,_[15]=0,this}makeOrthographic(t,r,o,l,d,m){const _=this.elements,A=1/(r-t),S=1/(o-l),R=1/(m-d),I=(r+t)*A,N=(o+l)*S,D=(m+d)*R;return _[0]=2*A,_[4]=0,_[8]=0,_[12]=-I,_[1]=0,_[5]=2*S,_[9]=0,_[13]=-N,_[2]=0,_[6]=0,_[10]=-2*R,_[14]=-D,_[3]=0,_[7]=0,_[11]=0,_[15]=1,this}equals(t){const r=this.elements,o=t.elements;for(let l=0;l<16;l++)if(r[l]!==o[l])return!1;return!0}fromArray(t,r=0){for(let o=0;o<16;o++)this.elements[o]=t[o+r];return this}toArray(t=[],r=0){const o=this.elements;return t[r]=o[0],t[r+1]=o[1],t[r+2]=o[2],t[r+3]=o[3],t[r+4]=o[4],t[r+5]=o[5],t[r+6]=o[6],t[r+7]=o[7],t[r+8]=o[8],t[r+9]=o[9],t[r+10]=o[10],t[r+11]=o[11],t[r+12]=o[12],t[r+13]=o[13],t[r+14]=o[14],t[r+15]=o[15],t}}const Nu=new Ze,So=new br,JB=new Ze(0,0,0),ZB=new Ze(1,1,1),pl=new Ze,bp=new Ze,Ts=new Ze,W1=new br,K1=new Rs;class tf{constructor(t=0,r=0,o=0,l=tf.DefaultOrder){this.isEuler=!0,this._x=t,this._y=r,this._z=o,this._order=l}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,r,o,l=this._order){return this._x=t,this._y=r,this._z=o,this._order=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,r=this._order,o=!0){const l=t.elements,d=l[0],m=l[4],_=l[8],A=l[1],S=l[5],R=l[9],I=l[2],N=l[6],D=l[10];switch(r){case"XYZ":this._y=Math.asin($i(_,-1,1)),Math.abs(_)<.9999999?(this._x=Math.atan2(-R,D),this._z=Math.atan2(-m,d)):(this._x=Math.atan2(N,S),this._z=0);break;case"YXZ":this._x=Math.asin(-$i(R,-1,1)),Math.abs(R)<.9999999?(this._y=Math.atan2(_,D),this._z=Math.atan2(A,S)):(this._y=Math.atan2(-I,d),this._z=0);break;case"ZXY":this._x=Math.asin($i(N,-1,1)),Math.abs(N)<.9999999?(this._y=Math.atan2(-I,D),this._z=Math.atan2(-m,S)):(this._y=0,this._z=Math.atan2(A,d));break;case"ZYX":this._y=Math.asin(-$i(I,-1,1)),Math.abs(I)<.9999999?(this._x=Math.atan2(N,D),this._z=Math.atan2(A,d)):(this._x=0,this._z=Math.atan2(-m,S));break;case"YZX":this._z=Math.asin($i(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(-R,S),this._y=Math.atan2(-I,d)):(this._x=0,this._y=Math.atan2(_,D));break;case"XZY":this._z=Math.asin(-$i(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(N,S),this._y=Math.atan2(_,d)):(this._x=Math.atan2(-R,D),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,o===!0&&this._onChangeCallback(),this}setFromQuaternion(t,r,o){return W1.makeRotationFromQuaternion(t),this.setFromRotationMatrix(W1,r,o)}setFromVector3(t,r=this._order){return this.set(t.x,t.y,t.z,r)}reorder(t){return K1.setFromEuler(this),this.setFromQuaternion(K1,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}tf.DefaultOrder="XYZ",tf.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class $v{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let eD=0;const j1=new Ze,Pu=new Rs,Ma=new br,Sp=new Ze,nf=new Ze,tD=new Ze,nD=new Rs,q1=new Ze(1,0,0),Y1=new Ze(0,1,0),J1=new Ze(0,0,1),rD={type:"added"},Z1={type:"removed"};class _i extends Ea{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:eD++}),this.uuid=Ao(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=_i.DefaultUp.clone();const t=new Ze,r=new tf,o=new Rs,l=new Ze(1,1,1);function d(){o.setFromEuler(r,!1)}function m(){r.setFromQuaternion(o,void 0,!1)}r._onChange(d),o._onChange(m),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:l},modelViewMatrix:{value:new br},normalMatrix:{value:new xs}}),this.matrix=new br,this.matrixWorld=new br,this.matrixAutoUpdate=_i.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=_i.DefaultMatrixWorldAutoUpdate,this.layers=new $v,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,r){this.quaternion.setFromAxisAngle(t,r)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,r){return Pu.setFromAxisAngle(t,r),this.quaternion.multiply(Pu),this}rotateOnWorldAxis(t,r){return Pu.setFromAxisAngle(t,r),this.quaternion.premultiply(Pu),this}rotateX(t){return this.rotateOnAxis(q1,t)}rotateY(t){return this.rotateOnAxis(Y1,t)}rotateZ(t){return this.rotateOnAxis(J1,t)}translateOnAxis(t,r){return j1.copy(t).applyQuaternion(this.quaternion),this.position.add(j1.multiplyScalar(r)),this}translateX(t){return this.translateOnAxis(q1,t)}translateY(t){return this.translateOnAxis(Y1,t)}translateZ(t){return this.translateOnAxis(J1,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(Ma.copy(this.matrixWorld).invert())}lookAt(t,r,o){t.isVector3?Sp.copy(t):Sp.set(t,r,o);const l=this.parent;this.updateWorldMatrix(!0,!1),nf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ma.lookAt(nf,Sp,this.up):Ma.lookAt(Sp,nf,this.up),this.quaternion.setFromRotationMatrix(Ma),l&&(Ma.extractRotation(l.matrixWorld),Pu.setFromRotationMatrix(Ma),this.quaternion.premultiply(Pu.invert()))}add(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(rD)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let o=0;o<arguments.length;o++)this.remove(arguments[o]);return this}const r=this.children.indexOf(t);return r!==-1&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent(Z1)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const r=this.children[t];r.parent=null,r.dispatchEvent(Z1)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),Ma.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),Ma.multiply(t.parent.matrixWorld)),t.applyMatrix4(Ma),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,r){if(this[t]===r)return this;for(let o=0,l=this.children.length;o<l;o++){const m=this.children[o].getObjectByProperty(t,r);if(m!==void 0)return m}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nf,t,tD),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nf,nD,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(t){t(this);const r=this.children;for(let o=0,l=r.length;o<l;o++)r[o].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const r=this.children;for(let o=0,l=r.length;o<l;o++)r[o].traverseVisible(t)}traverseAncestors(t){const r=this.parent;r!==null&&(t(r),r.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const r=this.children;for(let o=0,l=r.length;o<l;o++){const d=r[o];(d.matrixWorldAutoUpdate===!0||t===!0)&&d.updateMatrixWorld(t)}}updateWorldMatrix(t,r){const o=this.parent;if(t===!0&&o!==null&&o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0){const l=this.children;for(let d=0,m=l.length;d<m;d++){const _=l[d];_.matrixWorldAutoUpdate===!0&&_.updateWorldMatrix(!1,!0)}}}toJSON(t){const r=t===void 0||typeof t=="string",o={};r&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},o.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const l={};l.uuid=this.uuid,l.type=this.type,this.name!==""&&(l.name=this.name),this.castShadow===!0&&(l.castShadow=!0),this.receiveShadow===!0&&(l.receiveShadow=!0),this.visible===!1&&(l.visible=!1),this.frustumCulled===!1&&(l.frustumCulled=!1),this.renderOrder!==0&&(l.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(l.userData=this.userData),l.layers=this.layers.mask,l.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(l.matrixAutoUpdate=!1),this.isInstancedMesh&&(l.type="InstancedMesh",l.count=this.count,l.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(l.instanceColor=this.instanceColor.toJSON()));function d(_,A){return _[A.uuid]===void 0&&(_[A.uuid]=A.toJSON(t)),A.uuid}if(this.isScene)this.background&&(this.background.isColor?l.background=this.background.toJSON():this.background.isTexture&&(l.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(l.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){l.geometry=d(t.geometries,this.geometry);const _=this.geometry.parameters;if(_!==void 0&&_.shapes!==void 0){const A=_.shapes;if(Array.isArray(A))for(let S=0,R=A.length;S<R;S++){const I=A[S];d(t.shapes,I)}else d(t.shapes,A)}}if(this.isSkinnedMesh&&(l.bindMode=this.bindMode,l.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(d(t.skeletons,this.skeleton),l.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const _=[];for(let A=0,S=this.material.length;A<S;A++)_.push(d(t.materials,this.material[A]));l.material=_}else l.material=d(t.materials,this.material);if(this.children.length>0){l.children=[];for(let _=0;_<this.children.length;_++)l.children.push(this.children[_].toJSON(t).object)}if(this.animations.length>0){l.animations=[];for(let _=0;_<this.animations.length;_++){const A=this.animations[_];l.animations.push(d(t.animations,A))}}if(r){const _=m(t.geometries),A=m(t.materials),S=m(t.textures),R=m(t.images),I=m(t.shapes),N=m(t.skeletons),D=m(t.animations),V=m(t.nodes);_.length>0&&(o.geometries=_),A.length>0&&(o.materials=A),S.length>0&&(o.textures=S),R.length>0&&(o.images=R),I.length>0&&(o.shapes=I),N.length>0&&(o.skeletons=N),D.length>0&&(o.animations=D),V.length>0&&(o.nodes=V)}return o.object=l,o;function m(_){const A=[];for(const S in _){const R=_[S];delete R.metadata,A.push(R)}return A}}clone(t){return new this.constructor().copy(this,t)}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),r===!0)for(let o=0;o<t.children.length;o++){const l=t.children[o];this.add(l.clone())}return this}}_i.DefaultUp=new Ze(0,1,0),_i.DefaultMatrixAutoUpdate=!0,_i.DefaultMatrixWorldAutoUpdate=!0;const Eo=new Ze,xa=new Ze,Wv=new Ze,Ra=new Ze,Bu=new Ze,Du=new Ze,eS=new Ze,Kv=new Ze,jv=new Ze,qv=new Ze;class Jo{constructor(t=new Ze,r=new Ze,o=new Ze){this.a=t,this.b=r,this.c=o}static getNormal(t,r,o,l){l.subVectors(o,r),Eo.subVectors(t,r),l.cross(Eo);const d=l.lengthSq();return d>0?l.multiplyScalar(1/Math.sqrt(d)):l.set(0,0,0)}static getBarycoord(t,r,o,l,d){Eo.subVectors(l,r),xa.subVectors(o,r),Wv.subVectors(t,r);const m=Eo.dot(Eo),_=Eo.dot(xa),A=Eo.dot(Wv),S=xa.dot(xa),R=xa.dot(Wv),I=m*S-_*_;if(I===0)return d.set(-2,-1,-1);const N=1/I,D=(S*A-_*R)*N,V=(m*R-_*A)*N;return d.set(1-D-V,V,D)}static containsPoint(t,r,o,l){return this.getBarycoord(t,r,o,l,Ra),Ra.x>=0&&Ra.y>=0&&Ra.x+Ra.y<=1}static getUV(t,r,o,l,d,m,_,A){return this.getBarycoord(t,r,o,l,Ra),A.set(0,0),A.addScaledVector(d,Ra.x),A.addScaledVector(m,Ra.y),A.addScaledVector(_,Ra.z),A}static isFrontFacing(t,r,o,l){return Eo.subVectors(o,r),xa.subVectors(t,r),Eo.cross(xa).dot(l)<0}set(t,r,o){return this.a.copy(t),this.b.copy(r),this.c.copy(o),this}setFromPointsAndIndices(t,r,o,l){return this.a.copy(t[r]),this.b.copy(t[o]),this.c.copy(t[l]),this}setFromAttributeAndIndices(t,r,o,l){return this.a.fromBufferAttribute(t,r),this.b.fromBufferAttribute(t,o),this.c.fromBufferAttribute(t,l),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Eo.subVectors(this.c,this.b),xa.subVectors(this.a,this.b),Eo.cross(xa).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Jo.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,r){return Jo.getBarycoord(t,this.a,this.b,this.c,r)}getUV(t,r,o,l,d){return Jo.getUV(t,this.a,this.b,this.c,r,o,l,d)}containsPoint(t){return Jo.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Jo.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,r){const o=this.a,l=this.b,d=this.c;let m,_;Bu.subVectors(l,o),Du.subVectors(d,o),Kv.subVectors(t,o);const A=Bu.dot(Kv),S=Du.dot(Kv);if(A<=0&&S<=0)return r.copy(o);jv.subVectors(t,l);const R=Bu.dot(jv),I=Du.dot(jv);if(R>=0&&I<=R)return r.copy(l);const N=A*I-R*S;if(N<=0&&A>=0&&R<=0)return m=A/(A-R),r.copy(o).addScaledVector(Bu,m);qv.subVectors(t,d);const D=Bu.dot(qv),V=Du.dot(qv);if(V>=0&&D<=V)return r.copy(d);const O=D*S-A*V;if(O<=0&&S>=0&&V<=0)return _=S/(S-V),r.copy(o).addScaledVector(Du,_);const k=R*V-D*I;if(k<=0&&I-R>=0&&D-V>=0)return eS.subVectors(d,l),_=(I-R)/(I-R+(D-V)),r.copy(l).addScaledVector(eS,_);const U=1/(k+O+N);return m=O*U,_=N*U,r.copy(o).addScaledVector(Bu,m).addScaledVector(Du,_)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let iD=0;class js extends Ea{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:iD++}),this.uuid=Ao(),this.name="",this.type="Material",this.blending=te,this.side=G,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=xe,this.blendDst=Fe,this.blendEquation=de,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=_n,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=LB,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Rv,this.stencilZFail=Rv,this.stencilZPass=Rv,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const r in t){const o=t[r];if(o===void 0){console.warn("THREE.Material: '"+r+"' parameter is undefined.");continue}const l=this[r];if(l===void 0){console.warn("THREE."+this.type+": '"+r+"' is not a property of this material.");continue}l&&l.isColor?l.set(o):l&&l.isVector3&&o&&o.isVector3?l.copy(o):this[r]=o}}toJSON(t){const r=t===void 0||typeof t=="string";r&&(t={textures:{},images:{}});const o={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.color&&this.color.isColor&&(o.color=this.color.getHex()),this.roughness!==void 0&&(o.roughness=this.roughness),this.metalness!==void 0&&(o.metalness=this.metalness),this.sheen!==void 0&&(o.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(o.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(o.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(o.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(o.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(o.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(o.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(o.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(o.shininess=this.shininess),this.clearcoat!==void 0&&(o.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(o.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(o.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(o.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(o.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,o.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(o.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(o.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(o.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(o.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(o.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(o.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(o.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(o.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(o.lightMap=this.lightMap.toJSON(t).uuid,o.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(o.aoMap=this.aoMap.toJSON(t).uuid,o.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(o.bumpMap=this.bumpMap.toJSON(t).uuid,o.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(o.normalMap=this.normalMap.toJSON(t).uuid,o.normalMapType=this.normalMapType,o.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(o.displacementMap=this.displacementMap.toJSON(t).uuid,o.displacementScale=this.displacementScale,o.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(o.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(o.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(o.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(o.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(o.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(o.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(o.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(o.combine=this.combine)),this.envMapIntensity!==void 0&&(o.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(o.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(o.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(o.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(o.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(o.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(o.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(o.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&(o.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(o.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(o.size=this.size),this.shadowSide!==null&&(o.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(o.sizeAttenuation=this.sizeAttenuation),this.blending!==te&&(o.blending=this.blending),this.side!==G&&(o.side=this.side),this.vertexColors&&(o.vertexColors=!0),this.opacity<1&&(o.opacity=this.opacity),this.transparent===!0&&(o.transparent=this.transparent),o.depthFunc=this.depthFunc,o.depthTest=this.depthTest,o.depthWrite=this.depthWrite,o.colorWrite=this.colorWrite,o.stencilWrite=this.stencilWrite,o.stencilWriteMask=this.stencilWriteMask,o.stencilFunc=this.stencilFunc,o.stencilRef=this.stencilRef,o.stencilFuncMask=this.stencilFuncMask,o.stencilFail=this.stencilFail,o.stencilZFail=this.stencilZFail,o.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(o.rotation=this.rotation),this.polygonOffset===!0&&(o.polygonOffset=!0),this.polygonOffsetFactor!==0&&(o.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(o.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(o.linewidth=this.linewidth),this.dashSize!==void 0&&(o.dashSize=this.dashSize),this.gapSize!==void 0&&(o.gapSize=this.gapSize),this.scale!==void 0&&(o.scale=this.scale),this.dithering===!0&&(o.dithering=!0),this.alphaTest>0&&(o.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(o.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(o.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(o.wireframe=this.wireframe),this.wireframeLinewidth>1&&(o.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(o.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(o.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(o.flatShading=this.flatShading),this.visible===!1&&(o.visible=!1),this.toneMapped===!1&&(o.toneMapped=!1),this.fog===!1&&(o.fog=!1),JSON.stringify(this.userData)!=="{}"&&(o.userData=this.userData);function l(d){const m=[];for(const _ in d){const A=d[_];delete A.metadata,m.push(A)}return m}if(r){const d=l(t.textures),m=l(t.images);d.length>0&&(o.textures=d),m.length>0&&(o.images=m)}return o}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const r=t.clippingPlanes;let o=null;if(r!==null){const l=r.length;o=new Array(l);for(let d=0;d!==l;++d)o[d]=r[d].clone()}return this.clippingPlanes=o,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class Zo extends js{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new sr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=et,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Ii=new Ze,Ep=new Fn;class ei{constructor(t,r,o){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=r,this.count=t!==void 0?t.length/r:0,this.normalized=o===!0,this.usage=Tv,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,r,o){t*=this.itemSize,o*=r.itemSize;for(let l=0,d=this.itemSize;l<d;l++)this.array[t+l]=r.array[o+l];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let r=0,o=this.count;r<o;r++)Ep.fromBufferAttribute(this,r),Ep.applyMatrix3(t),this.setXY(r,Ep.x,Ep.y);else if(this.itemSize===3)for(let r=0,o=this.count;r<o;r++)Ii.fromBufferAttribute(this,r),Ii.applyMatrix3(t),this.setXYZ(r,Ii.x,Ii.y,Ii.z);return this}applyMatrix4(t){for(let r=0,o=this.count;r<o;r++)Ii.fromBufferAttribute(this,r),Ii.applyMatrix4(t),this.setXYZ(r,Ii.x,Ii.y,Ii.z);return this}applyNormalMatrix(t){for(let r=0,o=this.count;r<o;r++)Ii.fromBufferAttribute(this,r),Ii.applyNormalMatrix(t),this.setXYZ(r,Ii.x,Ii.y,Ii.z);return this}transformDirection(t){for(let r=0,o=this.count;r<o;r++)Ii.fromBufferAttribute(this,r),Ii.transformDirection(t),this.setXYZ(r,Ii.x,Ii.y,Ii.z);return this}set(t,r=0){return this.array.set(t,r),this}getX(t){let r=this.array[t*this.itemSize];return this.normalized&&(r=wa(r,this.array)),r}setX(t,r){return this.normalized&&(r=Jr(r,this.array)),this.array[t*this.itemSize]=r,this}getY(t){let r=this.array[t*this.itemSize+1];return this.normalized&&(r=wa(r,this.array)),r}setY(t,r){return this.normalized&&(r=Jr(r,this.array)),this.array[t*this.itemSize+1]=r,this}getZ(t){let r=this.array[t*this.itemSize+2];return this.normalized&&(r=wa(r,this.array)),r}setZ(t,r){return this.normalized&&(r=Jr(r,this.array)),this.array[t*this.itemSize+2]=r,this}getW(t){let r=this.array[t*this.itemSize+3];return this.normalized&&(r=wa(r,this.array)),r}setW(t,r){return this.normalized&&(r=Jr(r,this.array)),this.array[t*this.itemSize+3]=r,this}setXY(t,r,o){return t*=this.itemSize,this.normalized&&(r=Jr(r,this.array),o=Jr(o,this.array)),this.array[t+0]=r,this.array[t+1]=o,this}setXYZ(t,r,o,l){return t*=this.itemSize,this.normalized&&(r=Jr(r,this.array),o=Jr(o,this.array),l=Jr(l,this.array)),this.array[t+0]=r,this.array[t+1]=o,this.array[t+2]=l,this}setXYZW(t,r,o,l,d){return t*=this.itemSize,this.normalized&&(r=Jr(r,this.array),o=Jr(o,this.array),l=Jr(l,this.array),d=Jr(d,this.array)),this.array[t+0]=r,this.array[t+1]=o,this.array[t+2]=l,this.array[t+3]=d,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==Tv&&(t.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(t.updateRange=this.updateRange),t}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class tS extends ei{constructor(t,r,o){super(new Uint16Array(t),r,o)}}class nS extends ei{constructor(t,r,o){super(new Uint32Array(t),r,o)}}class ki extends ei{constructor(t,r,o){super(new Float32Array(t),r,o)}}let sD=0;const qs=new br,Yv=new _i,ku=new Ze,Ns=new Yo,rf=new Yo,Li=new Ze;class Oi extends Ea{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:sD++}),this.uuid=Ao(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(H1(t)?nS:tS)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,r){return this.attributes[t]=r,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,r,o=0){this.groups.push({start:t,count:r,materialIndex:o})}clearGroups(){this.groups=[]}setDrawRange(t,r){this.drawRange.start=t,this.drawRange.count=r}applyMatrix4(t){const r=this.attributes.position;r!==void 0&&(r.applyMatrix4(t),r.needsUpdate=!0);const o=this.attributes.normal;if(o!==void 0){const d=new xs().getNormalMatrix(t);o.applyNormalMatrix(d),o.needsUpdate=!0}const l=this.attributes.tangent;return l!==void 0&&(l.transformDirection(t),l.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return qs.makeRotationFromQuaternion(t),this.applyMatrix4(qs),this}rotateX(t){return qs.makeRotationX(t),this.applyMatrix4(qs),this}rotateY(t){return qs.makeRotationY(t),this.applyMatrix4(qs),this}rotateZ(t){return qs.makeRotationZ(t),this.applyMatrix4(qs),this}translate(t,r,o){return qs.makeTranslation(t,r,o),this.applyMatrix4(qs),this}scale(t,r,o){return qs.makeScale(t,r,o),this.applyMatrix4(qs),this}lookAt(t){return Yv.lookAt(t),Yv.updateMatrix(),this.applyMatrix4(Yv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ku).negate(),this.translate(ku.x,ku.y,ku.z),this}setFromPoints(t){const r=[];for(let o=0,l=t.length;o<l;o++){const d=t[o];r.push(d.x,d.y,d.z||0)}return this.setAttribute("position",new ki(r,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Yo);const t=this.attributes.position,r=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Ze(-1/0,-1/0,-1/0),new Ze(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),r)for(let o=0,l=r.length;o<l;o++){const d=r[o];Ns.setFromBufferAttribute(d),this.morphTargetsRelative?(Li.addVectors(this.boundingBox.min,Ns.min),this.boundingBox.expandByPoint(Li),Li.addVectors(this.boundingBox.max,Ns.max),this.boundingBox.expandByPoint(Li)):(this.boundingBox.expandByPoint(Ns.min),this.boundingBox.expandByPoint(Ns.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Tu);const t=this.attributes.position,r=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Ze,1/0);return}if(t){const o=this.boundingSphere.center;if(Ns.setFromBufferAttribute(t),r)for(let d=0,m=r.length;d<m;d++){const _=r[d];rf.setFromBufferAttribute(_),this.morphTargetsRelative?(Li.addVectors(Ns.min,rf.min),Ns.expandByPoint(Li),Li.addVectors(Ns.max,rf.max),Ns.expandByPoint(Li)):(Ns.expandByPoint(rf.min),Ns.expandByPoint(rf.max))}Ns.getCenter(o);let l=0;for(let d=0,m=t.count;d<m;d++)Li.fromBufferAttribute(t,d),l=Math.max(l,o.distanceToSquared(Li));if(r)for(let d=0,m=r.length;d<m;d++){const _=r[d],A=this.morphTargetsRelative;for(let S=0,R=_.count;S<R;S++)Li.fromBufferAttribute(_,S),A&&(ku.fromBufferAttribute(t,S),Li.add(ku)),l=Math.max(l,o.distanceToSquared(Li))}this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,r=this.attributes;if(t===null||r.position===void 0||r.normal===void 0||r.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const o=t.array,l=r.position.array,d=r.normal.array,m=r.uv.array,_=l.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ei(new Float32Array(4*_),4));const A=this.getAttribute("tangent").array,S=[],R=[];for(let we=0;we<_;we++)S[we]=new Ze,R[we]=new Ze;const I=new Ze,N=new Ze,D=new Ze,V=new Fn,O=new Fn,k=new Fn,U=new Ze,W=new Ze;function Z(we,Oe,tt){I.fromArray(l,we*3),N.fromArray(l,Oe*3),D.fromArray(l,tt*3),V.fromArray(m,we*2),O.fromArray(m,Oe*2),k.fromArray(m,tt*2),N.sub(I),D.sub(I),O.sub(V),k.sub(V);const Re=1/(O.x*k.y-k.x*O.y);!isFinite(Re)||(U.copy(N).multiplyScalar(k.y).addScaledVector(D,-O.y).multiplyScalar(Re),W.copy(D).multiplyScalar(O.x).addScaledVector(N,-k.x).multiplyScalar(Re),S[we].add(U),S[Oe].add(U),S[tt].add(U),R[we].add(W),R[Oe].add(W),R[tt].add(W))}let ne=this.groups;ne.length===0&&(ne=[{start:0,count:o.length}]);for(let we=0,Oe=ne.length;we<Oe;++we){const tt=ne[we],Re=tt.start,ke=tt.count;for(let st=Re,ht=Re+ke;st<ht;st+=3)Z(o[st+0],o[st+1],o[st+2])}const j=new Ze,re=new Ze,Ae=new Ze,Y=new Ze;function pe(we){Ae.fromArray(d,we*3),Y.copy(Ae);const Oe=S[we];j.copy(Oe),j.sub(Ae.multiplyScalar(Ae.dot(Oe))).normalize(),re.crossVectors(Y,Oe);const Re=re.dot(R[we])<0?-1:1;A[we*4]=j.x,A[we*4+1]=j.y,A[we*4+2]=j.z,A[we*4+3]=Re}for(let we=0,Oe=ne.length;we<Oe;++we){const tt=ne[we],Re=tt.start,ke=tt.count;for(let st=Re,ht=Re+ke;st<ht;st+=3)pe(o[st+0]),pe(o[st+1]),pe(o[st+2])}}computeVertexNormals(){const t=this.index,r=this.getAttribute("position");if(r!==void 0){let o=this.getAttribute("normal");if(o===void 0)o=new ei(new Float32Array(r.count*3),3),this.setAttribute("normal",o);else for(let N=0,D=o.count;N<D;N++)o.setXYZ(N,0,0,0);const l=new Ze,d=new Ze,m=new Ze,_=new Ze,A=new Ze,S=new Ze,R=new Ze,I=new Ze;if(t)for(let N=0,D=t.count;N<D;N+=3){const V=t.getX(N+0),O=t.getX(N+1),k=t.getX(N+2);l.fromBufferAttribute(r,V),d.fromBufferAttribute(r,O),m.fromBufferAttribute(r,k),R.subVectors(m,d),I.subVectors(l,d),R.cross(I),_.fromBufferAttribute(o,V),A.fromBufferAttribute(o,O),S.fromBufferAttribute(o,k),_.add(R),A.add(R),S.add(R),o.setXYZ(V,_.x,_.y,_.z),o.setXYZ(O,A.x,A.y,A.z),o.setXYZ(k,S.x,S.y,S.z)}else for(let N=0,D=r.count;N<D;N+=3)l.fromBufferAttribute(r,N+0),d.fromBufferAttribute(r,N+1),m.fromBufferAttribute(r,N+2),R.subVectors(m,d),I.subVectors(l,d),R.cross(I),o.setXYZ(N+0,R.x,R.y,R.z),o.setXYZ(N+1,R.x,R.y,R.z),o.setXYZ(N+2,R.x,R.y,R.z);this.normalizeNormals(),o.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const t=this.attributes.normal;for(let r=0,o=t.count;r<o;r++)Li.fromBufferAttribute(t,r),Li.normalize(),t.setXYZ(r,Li.x,Li.y,Li.z)}toNonIndexed(){function t(_,A){const S=_.array,R=_.itemSize,I=_.normalized,N=new S.constructor(A.length*R);let D=0,V=0;for(let O=0,k=A.length;O<k;O++){_.isInterleavedBufferAttribute?D=A[O]*_.data.stride+_.offset:D=A[O]*R;for(let U=0;U<R;U++)N[V++]=S[D++]}return new ei(N,R,I)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const r=new Oi,o=this.index.array,l=this.attributes;for(const _ in l){const A=l[_],S=t(A,o);r.setAttribute(_,S)}const d=this.morphAttributes;for(const _ in d){const A=[],S=d[_];for(let R=0,I=S.length;R<I;R++){const N=S[R],D=t(N,o);A.push(D)}r.morphAttributes[_]=A}r.morphTargetsRelative=this.morphTargetsRelative;const m=this.groups;for(let _=0,A=m.length;_<A;_++){const S=m[_];r.addGroup(S.start,S.count,S.materialIndex)}return r}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const A=this.parameters;for(const S in A)A[S]!==void 0&&(t[S]=A[S]);return t}t.data={attributes:{}};const r=this.index;r!==null&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});const o=this.attributes;for(const A in o){const S=o[A];t.data.attributes[A]=S.toJSON(t.data)}const l={};let d=!1;for(const A in this.morphAttributes){const S=this.morphAttributes[A],R=[];for(let I=0,N=S.length;I<N;I++){const D=S[I];R.push(D.toJSON(t.data))}R.length>0&&(l[A]=R,d=!0)}d&&(t.data.morphAttributes=l,t.data.morphTargetsRelative=this.morphTargetsRelative);const m=this.groups;m.length>0&&(t.data.groups=JSON.parse(JSON.stringify(m)));const _=this.boundingSphere;return _!==null&&(t.data.boundingSphere={center:_.center.toArray(),radius:_.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const r={};this.name=t.name;const o=t.index;o!==null&&this.setIndex(o.clone(r));const l=t.attributes;for(const S in l){const R=l[S];this.setAttribute(S,R.clone(r))}const d=t.morphAttributes;for(const S in d){const R=[],I=d[S];for(let N=0,D=I.length;N<D;N++)R.push(I[N].clone(r));this.morphAttributes[S]=R}this.morphTargetsRelative=t.morphTargetsRelative;const m=t.groups;for(let S=0,R=m.length;S<R;S++){const I=m[S];this.addGroup(I.start,I.count,I.materialIndex)}const _=t.boundingBox;_!==null&&(this.boundingBox=_.clone());const A=t.boundingSphere;return A!==null&&(this.boundingSphere=A.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,t.parameters!==void 0&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const rS=new br,Lu=new yp,Jv=new Tu,ml=new Ze,gl=new Ze,vl=new Ze,Zv=new Ze,e_=new Ze,t_=new Ze,wp=new Ze,Cp=new Ze,Ip=new Ze,Mp=new Fn,xp=new Fn,Rp=new Fn,n_=new Ze,Tp=new Ze;class Fi extends _i{constructor(t=new Oi,r=new Zo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=r,this.updateMorphTargets()}copy(t,r){return super.copy(t,r),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const r=this.geometry.morphAttributes,o=Object.keys(r);if(o.length>0){const l=r[o[0]];if(l!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let d=0,m=l.length;d<m;d++){const _=l[d].name||String(d);this.morphTargetInfluences.push(0),this.morphTargetDictionary[_]=d}}}}raycast(t,r){const o=this.geometry,l=this.material,d=this.matrixWorld;if(l===void 0||(o.boundingSphere===null&&o.computeBoundingSphere(),Jv.copy(o.boundingSphere),Jv.applyMatrix4(d),t.ray.intersectsSphere(Jv)===!1)||(rS.copy(d).invert(),Lu.copy(t.ray).applyMatrix4(rS),o.boundingBox!==null&&Lu.intersectsBox(o.boundingBox)===!1))return;let m;const _=o.index,A=o.attributes.position,S=o.morphAttributes.position,R=o.morphTargetsRelative,I=o.attributes.uv,N=o.attributes.uv2,D=o.groups,V=o.drawRange;if(_!==null)if(Array.isArray(l))for(let O=0,k=D.length;O<k;O++){const U=D[O],W=l[U.materialIndex],Z=Math.max(U.start,V.start),ne=Math.min(_.count,Math.min(U.start+U.count,V.start+V.count));for(let j=Z,re=ne;j<re;j+=3){const Ae=_.getX(j),Y=_.getX(j+1),pe=_.getX(j+2);m=Np(this,W,t,Lu,A,S,R,I,N,Ae,Y,pe),m&&(m.faceIndex=Math.floor(j/3),m.face.materialIndex=U.materialIndex,r.push(m))}}else{const O=Math.max(0,V.start),k=Math.min(_.count,V.start+V.count);for(let U=O,W=k;U<W;U+=3){const Z=_.getX(U),ne=_.getX(U+1),j=_.getX(U+2);m=Np(this,l,t,Lu,A,S,R,I,N,Z,ne,j),m&&(m.faceIndex=Math.floor(U/3),r.push(m))}}else if(A!==void 0)if(Array.isArray(l))for(let O=0,k=D.length;O<k;O++){const U=D[O],W=l[U.materialIndex],Z=Math.max(U.start,V.start),ne=Math.min(A.count,Math.min(U.start+U.count,V.start+V.count));for(let j=Z,re=ne;j<re;j+=3){const Ae=j,Y=j+1,pe=j+2;m=Np(this,W,t,Lu,A,S,R,I,N,Ae,Y,pe),m&&(m.faceIndex=Math.floor(j/3),m.face.materialIndex=U.materialIndex,r.push(m))}}else{const O=Math.max(0,V.start),k=Math.min(A.count,V.start+V.count);for(let U=O,W=k;U<W;U+=3){const Z=U,ne=U+1,j=U+2;m=Np(this,l,t,Lu,A,S,R,I,N,Z,ne,j),m&&(m.faceIndex=Math.floor(U/3),r.push(m))}}}}function oD(p,t,r,o,l,d,m,_){let A;if(t.side===Q?A=o.intersectTriangle(m,d,l,!0,_):A=o.intersectTriangle(l,d,m,t.side!==H,_),A===null)return null;Tp.copy(_),Tp.applyMatrix4(p.matrixWorld);const S=r.ray.origin.distanceTo(Tp);return S<r.near||S>r.far?null:{distance:S,point:Tp.clone(),object:p}}function Np(p,t,r,o,l,d,m,_,A,S,R,I){ml.fromBufferAttribute(l,S),gl.fromBufferAttribute(l,R),vl.fromBufferAttribute(l,I);const N=p.morphTargetInfluences;if(d&&N){wp.set(0,0,0),Cp.set(0,0,0),Ip.set(0,0,0);for(let V=0,O=d.length;V<O;V++){const k=N[V],U=d[V];k!==0&&(Zv.fromBufferAttribute(U,S),e_.fromBufferAttribute(U,R),t_.fromBufferAttribute(U,I),m?(wp.addScaledVector(Zv,k),Cp.addScaledVector(e_,k),Ip.addScaledVector(t_,k)):(wp.addScaledVector(Zv.sub(ml),k),Cp.addScaledVector(e_.sub(gl),k),Ip.addScaledVector(t_.sub(vl),k)))}ml.add(wp),gl.add(Cp),vl.add(Ip)}p.isSkinnedMesh&&(p.boneTransform(S,ml),p.boneTransform(R,gl),p.boneTransform(I,vl));const D=oD(p,t,r,o,ml,gl,vl,n_);if(D){_&&(Mp.fromBufferAttribute(_,S),xp.fromBufferAttribute(_,R),Rp.fromBufferAttribute(_,I),D.uv=Jo.getUV(n_,ml,gl,vl,Mp,xp,Rp,new Fn)),A&&(Mp.fromBufferAttribute(A,S),xp.fromBufferAttribute(A,R),Rp.fromBufferAttribute(A,I),D.uv2=Jo.getUV(n_,ml,gl,vl,Mp,xp,Rp,new Fn));const V={a:S,b:R,c:I,normal:new Ze,materialIndex:0};Jo.getNormal(ml,gl,vl,V.normal),D.face=V}return D}class mc extends Oi{constructor(t=1,r=1,o=1,l=1,d=1,m=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:r,depth:o,widthSegments:l,heightSegments:d,depthSegments:m};const _=this;l=Math.floor(l),d=Math.floor(d),m=Math.floor(m);const A=[],S=[],R=[],I=[];let N=0,D=0;V("z","y","x",-1,-1,o,r,t,m,d,0),V("z","y","x",1,-1,o,r,-t,m,d,1),V("x","z","y",1,1,t,o,r,l,m,2),V("x","z","y",1,-1,t,o,-r,l,m,3),V("x","y","z",1,-1,t,r,o,l,d,4),V("x","y","z",-1,-1,t,r,-o,l,d,5),this.setIndex(A),this.setAttribute("position",new ki(S,3)),this.setAttribute("normal",new ki(R,3)),this.setAttribute("uv",new ki(I,2));function V(O,k,U,W,Z,ne,j,re,Ae,Y,pe){const we=ne/Ae,Oe=j/Y,tt=ne/2,Re=j/2,ke=re/2,st=Ae+1,ht=Y+1;let dt=0,De=0;const Je=new Ze;for(let ct=0;ct<ht;ct++){const Gt=ct*Oe-Re;for(let Ft=0;Ft<st;Ft++){const Kt=Ft*we-tt;Je[O]=Kt*W,Je[k]=Gt*Z,Je[U]=ke,S.push(Je.x,Je.y,Je.z),Je[O]=0,Je[k]=0,Je[U]=re>0?1:-1,R.push(Je.x,Je.y,Je.z),I.push(Ft/Ae),I.push(1-ct/Y),dt+=1}}for(let ct=0;ct<Y;ct++)for(let Gt=0;Gt<Ae;Gt++){const Ft=N+Gt+st*ct,Kt=N+Gt+st*(ct+1),c=N+(Gt+1)+st*(ct+1),Ln=N+(Gt+1)+st*ct;A.push(Ft,Kt,Ln),A.push(Kt,c,Ln),De+=6}_.addGroup(D,De,pe),D+=De,N+=dt}}static fromJSON(t){return new mc(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Ou(p){const t={};for(const r in p){t[r]={};for(const o in p[r]){const l=p[r][o];l&&(l.isColor||l.isMatrix3||l.isMatrix4||l.isVector2||l.isVector3||l.isVector4||l.isTexture||l.isQuaternion)?t[r][o]=l.clone():Array.isArray(l)?t[r][o]=l.slice():t[r][o]=l}}return t}function ts(p){const t={};for(let r=0;r<p.length;r++){const o=Ou(p[r]);for(const l in o)t[l]=o[l]}return t}function aD(p){const t=[];for(let r=0;r<p.length;r++)t.push(p[r].clone());return t}const iS={clone:Ou,merge:ts};var lD=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,cD=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class wo extends js{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=lD,this.fragmentShader=cD,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Ou(t.uniforms),this.uniformsGroups=aD(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const r=super.toJSON(t);r.glslVersion=this.glslVersion,r.uniforms={};for(const l in this.uniforms){const m=this.uniforms[l].value;m&&m.isTexture?r.uniforms[l]={type:"t",value:m.toJSON(t).uuid}:m&&m.isColor?r.uniforms[l]={type:"c",value:m.getHex()}:m&&m.isVector2?r.uniforms[l]={type:"v2",value:m.toArray()}:m&&m.isVector3?r.uniforms[l]={type:"v3",value:m.toArray()}:m&&m.isVector4?r.uniforms[l]={type:"v4",value:m.toArray()}:m&&m.isMatrix3?r.uniforms[l]={type:"m3",value:m.toArray()}:m&&m.isMatrix4?r.uniforms[l]={type:"m4",value:m.toArray()}:r.uniforms[l]={value:m}}Object.keys(this.defines).length>0&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader;const o={};for(const l in this.extensions)this.extensions[l]===!0&&(o[l]=!0);return Object.keys(o).length>0&&(r.extensions=o),r}}class sS extends _i{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new br,this.projectionMatrix=new br,this.projectionMatrixInverse=new br}copy(t,r){return super.copy(t,r),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(-r[8],-r[9],-r[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,r){super.updateWorldMatrix(t,r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Wi extends sS{constructor(t=50,r=1,o=.1,l=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=o,this.far=l,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,r){return super.copy(t,r),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const r=.5*this.getFilmHeight()/t;this.fov=Yd*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(qd*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Yd*2*Math.atan(Math.tan(qd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,r,o,l,d,m){this.aspect=t/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=r,this.view.offsetX=o,this.view.offsetY=l,this.view.width=d,this.view.height=m,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let r=t*Math.tan(qd*.5*this.fov)/this.zoom,o=2*r,l=this.aspect*o,d=-.5*l;const m=this.view;if(this.view!==null&&this.view.enabled){const A=m.fullWidth,S=m.fullHeight;d+=m.offsetX*l/A,r-=m.offsetY*o/S,l*=m.width/A,o*=m.height/S}const _=this.filmOffset;_!==0&&(d+=t*_/this.getFilmWidth()),this.projectionMatrix.makePerspective(d,d+l,r,r-o,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const r=super.toJSON(t);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}}const Fu=90,Vu=1;class uD extends _i{constructor(t,r,o){super(),this.type="CubeCamera",this.renderTarget=o;const l=new Wi(Fu,Vu,t,r);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Ze(1,0,0)),this.add(l);const d=new Wi(Fu,Vu,t,r);d.layers=this.layers,d.up.set(0,-1,0),d.lookAt(new Ze(-1,0,0)),this.add(d);const m=new Wi(Fu,Vu,t,r);m.layers=this.layers,m.up.set(0,0,1),m.lookAt(new Ze(0,1,0)),this.add(m);const _=new Wi(Fu,Vu,t,r);_.layers=this.layers,_.up.set(0,0,-1),_.lookAt(new Ze(0,-1,0)),this.add(_);const A=new Wi(Fu,Vu,t,r);A.layers=this.layers,A.up.set(0,-1,0),A.lookAt(new Ze(0,0,1)),this.add(A);const S=new Wi(Fu,Vu,t,r);S.layers=this.layers,S.up.set(0,-1,0),S.lookAt(new Ze(0,0,-1)),this.add(S)}update(t,r){this.parent===null&&this.updateMatrixWorld();const o=this.renderTarget,[l,d,m,_,A,S]=this.children,R=t.getRenderTarget(),I=t.toneMapping,N=t.xr.enabled;t.toneMapping=rt,t.xr.enabled=!1;const D=o.texture.generateMipmaps;o.texture.generateMipmaps=!1,t.setRenderTarget(o,0),t.render(r,l),t.setRenderTarget(o,1),t.render(r,d),t.setRenderTarget(o,2),t.render(r,m),t.setRenderTarget(o,3),t.render(r,_),t.setRenderTarget(o,4),t.render(r,A),o.texture.generateMipmaps=D,t.setRenderTarget(o,5),t.render(r,S),t.setRenderTarget(R),t.toneMapping=I,t.xr.enabled=N,o.texture.needsPMREMUpdate=!0}}class oS extends Di{constructor(t,r,o,l,d,m,_,A,S,R){t=t!==void 0?t:[],r=r!==void 0?r:Mn,super(t,r,o,l,d,m,_,A,S,R),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class dD extends dc{constructor(t,r={}){super(t,t,r),this.isWebGLCubeRenderTarget=!0;const o={width:t,height:t,depth:1},l=[o,o,o,o,o,o];this.texture=new oS(l,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:ir}fromEquirectangularTexture(t,r){this.texture.type=r.type,this.texture.encoding=r.encoding,this.texture.generateMipmaps=r.generateMipmaps,this.texture.minFilter=r.minFilter,this.texture.magFilter=r.magFilter;const o={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},l=new mc(5,5,5),d=new wo({name:"CubemapFromEquirect",uniforms:Ou(o.uniforms),vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,side:Q,blending:J});d.uniforms.tEquirect.value=r;const m=new Fi(l,d),_=r.minFilter;return r.minFilter===Xn&&(r.minFilter=ir),new uD(1,10,this).update(t,m),r.minFilter=_,m.geometry.dispose(),m.material.dispose(),this}clear(t,r,o,l){const d=t.getRenderTarget();for(let m=0;m<6;m++)t.setRenderTarget(this,m),t.clear(r,o,l);t.setRenderTarget(d)}}const r_=new Ze,fD=new Ze,hD=new xs;class gc{constructor(t=new Ze(1,0,0),r=0){this.isPlane=!0,this.normal=t,this.constant=r}set(t,r){return this.normal.copy(t),this.constant=r,this}setComponents(t,r,o,l){return this.normal.set(t,r,o),this.constant=l,this}setFromNormalAndCoplanarPoint(t,r){return this.normal.copy(t),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(t,r,o){const l=r_.subVectors(o,r).cross(fD.subVectors(t,r)).normalize();return this.setFromNormalAndCoplanarPoint(l,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,r){return r.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,r){const o=t.delta(r_),l=this.normal.dot(o);if(l===0)return this.distanceToPoint(t.start)===0?r.copy(t.start):null;const d=-(t.start.dot(this.normal)+this.constant)/l;return d<0||d>1?null:r.copy(o).multiplyScalar(d).add(t.start)}intersectsLine(t){const r=this.distanceToPoint(t.start),o=this.distanceToPoint(t.end);return r<0&&o>0||o<0&&r>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,r){const o=r||hD.getNormalMatrix(t),l=this.coplanarPoint(r_).applyMatrix4(t),d=this.normal.applyMatrix3(o).normalize();return this.constant=-l.dot(d),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Gu=new Tu,Pp=new Ze;class i_{constructor(t=new gc,r=new gc,o=new gc,l=new gc,d=new gc,m=new gc){this.planes=[t,r,o,l,d,m]}set(t,r,o,l,d,m){const _=this.planes;return _[0].copy(t),_[1].copy(r),_[2].copy(o),_[3].copy(l),_[4].copy(d),_[5].copy(m),this}copy(t){const r=this.planes;for(let o=0;o<6;o++)r[o].copy(t.planes[o]);return this}setFromProjectionMatrix(t){const r=this.planes,o=t.elements,l=o[0],d=o[1],m=o[2],_=o[3],A=o[4],S=o[5],R=o[6],I=o[7],N=o[8],D=o[9],V=o[10],O=o[11],k=o[12],U=o[13],W=o[14],Z=o[15];return r[0].setComponents(_-l,I-A,O-N,Z-k).normalize(),r[1].setComponents(_+l,I+A,O+N,Z+k).normalize(),r[2].setComponents(_+d,I+S,O+D,Z+U).normalize(),r[3].setComponents(_-d,I-S,O-D,Z-U).normalize(),r[4].setComponents(_-m,I-R,O-V,Z-W).normalize(),r[5].setComponents(_+m,I+R,O+V,Z+W).normalize(),this}intersectsObject(t){const r=t.geometry;return r.boundingSphere===null&&r.computeBoundingSphere(),Gu.copy(r.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Gu)}intersectsSprite(t){return Gu.center.set(0,0,0),Gu.radius=.7071067811865476,Gu.applyMatrix4(t.matrixWorld),this.intersectsSphere(Gu)}intersectsSphere(t){const r=this.planes,o=t.center,l=-t.radius;for(let d=0;d<6;d++)if(r[d].distanceToPoint(o)<l)return!1;return!0}intersectsBox(t){const r=this.planes;for(let o=0;o<6;o++){const l=r[o];if(Pp.x=l.normal.x>0?t.max.x:t.min.x,Pp.y=l.normal.y>0?t.max.y:t.min.y,Pp.z=l.normal.z>0?t.max.z:t.min.z,l.distanceToPoint(Pp)<0)return!1}return!0}containsPoint(t){const r=this.planes;for(let o=0;o<6;o++)if(r[o].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function aS(){let p=null,t=!1,r=null,o=null;function l(d,m){r(d,m),o=p.requestAnimationFrame(l)}return{start:function(){t!==!0&&r!==null&&(o=p.requestAnimationFrame(l),t=!0)},stop:function(){p.cancelAnimationFrame(o),t=!1},setAnimationLoop:function(d){r=d},setContext:function(d){p=d}}}function pD(p,t){const r=t.isWebGL2,o=new WeakMap;function l(S,R){const I=S.array,N=S.usage,D=p.createBuffer();p.bindBuffer(R,D),p.bufferData(R,I,N),S.onUploadCallback();let V;if(I instanceof Float32Array)V=5126;else if(I instanceof Uint16Array)if(S.isFloat16BufferAttribute)if(r)V=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else V=5123;else if(I instanceof Int16Array)V=5122;else if(I instanceof Uint32Array)V=5125;else if(I instanceof Int32Array)V=5124;else if(I instanceof Int8Array)V=5120;else if(I instanceof Uint8Array)V=5121;else if(I instanceof Uint8ClampedArray)V=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+I);return{buffer:D,type:V,bytesPerElement:I.BYTES_PER_ELEMENT,version:S.version}}function d(S,R,I){const N=R.array,D=R.updateRange;p.bindBuffer(I,S),D.count===-1?p.bufferSubData(I,0,N):(r?p.bufferSubData(I,D.offset*N.BYTES_PER_ELEMENT,N,D.offset,D.count):p.bufferSubData(I,D.offset*N.BYTES_PER_ELEMENT,N.subarray(D.offset,D.offset+D.count)),D.count=-1)}function m(S){return S.isInterleavedBufferAttribute&&(S=S.data),o.get(S)}function _(S){S.isInterleavedBufferAttribute&&(S=S.data);const R=o.get(S);R&&(p.deleteBuffer(R.buffer),o.delete(S))}function A(S,R){if(S.isGLBufferAttribute){const N=o.get(S);(!N||N.version<S.version)&&o.set(S,{buffer:S.buffer,type:S.type,bytesPerElement:S.elementSize,version:S.version});return}S.isInterleavedBufferAttribute&&(S=S.data);const I=o.get(S);I===void 0?o.set(S,l(S,R)):I.version<S.version&&(d(I.buffer,S,R),I.version=S.version)}return{get:m,remove:_,update:A}}class vc extends Oi{constructor(t=1,r=1,o=1,l=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:r,widthSegments:o,heightSegments:l};const d=t/2,m=r/2,_=Math.floor(o),A=Math.floor(l),S=_+1,R=A+1,I=t/_,N=r/A,D=[],V=[],O=[],k=[];for(let U=0;U<R;U++){const W=U*N-m;for(let Z=0;Z<S;Z++){const ne=Z*I-d;V.push(ne,-W,0),O.push(0,0,1),k.push(Z/_),k.push(1-U/A)}}for(let U=0;U<A;U++)for(let W=0;W<_;W++){const Z=W+S*U,ne=W+S*(U+1),j=W+1+S*(U+1),re=W+1+S*U;D.push(Z,ne,re),D.push(ne,j,re)}this.setIndex(D),this.setAttribute("position",new ki(V,3)),this.setAttribute("normal",new ki(O,3)),this.setAttribute("uv",new ki(k,2))}static fromJSON(t){return new vc(t.width,t.height,t.widthSegments,t.heightSegments)}}var mD=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,gD=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,vD=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,_D=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,AD=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,yD=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,bD="vec3 transformed = vec3( position );",SD=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ED=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,wD=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,CD=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ID=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,MD=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,xD=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,RD=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,TD=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,ND=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,PD=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,BD=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,DD=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,kD=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,LD=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,OD=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,FD=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,VD=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,GD=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,UD="gl_FragColor = linearToOutputTexel( gl_FragColor );",HD=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,QD=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,XD=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,zD=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,$D=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,WD=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,KD=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,jD=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,qD=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,YD=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,JD=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,ZD=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,e6=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,t6=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,n6=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,r6=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,i6=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,s6=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,o6=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,a6=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,l6=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,c6=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,u6=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,d6=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,f6=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,h6=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,p6=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,m6=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,g6=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,v6=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,_6=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,A6=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,y6=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,b6=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,S6=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,E6=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,w6=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,C6=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,I6=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,M6=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,x6=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,R6=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,T6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,N6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,P6=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,B6=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,D6=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,k6=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,L6=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,O6=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,F6=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,V6=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,G6=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,U6=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,H6=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Q6=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,X6=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,z6=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,$6=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,W6=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,K6=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,j6=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,q6=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Y6=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,J6=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Z6=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,e3=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,t3=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,n3=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,r3=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,i3=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,s3=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,o3=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,a3=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,l3=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,c3=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,u3=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,d3=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,f3=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Br={alphamap_fragment:mD,alphamap_pars_fragment:gD,alphatest_fragment:vD,alphatest_pars_fragment:_D,aomap_fragment:AD,aomap_pars_fragment:yD,begin_vertex:bD,beginnormal_vertex:SD,bsdfs:ED,iridescence_fragment:wD,bumpmap_pars_fragment:CD,clipping_planes_fragment:ID,clipping_planes_pars_fragment:MD,clipping_planes_pars_vertex:xD,clipping_planes_vertex:RD,color_fragment:TD,color_pars_fragment:ND,color_pars_vertex:PD,color_vertex:BD,common:DD,cube_uv_reflection_fragment:kD,defaultnormal_vertex:LD,displacementmap_pars_vertex:OD,displacementmap_vertex:FD,emissivemap_fragment:VD,emissivemap_pars_fragment:GD,encodings_fragment:UD,encodings_pars_fragment:HD,envmap_fragment:QD,envmap_common_pars_fragment:XD,envmap_pars_fragment:zD,envmap_pars_vertex:$D,envmap_physical_pars_fragment:i6,envmap_vertex:WD,fog_vertex:KD,fog_pars_vertex:jD,fog_fragment:qD,fog_pars_fragment:YD,gradientmap_pars_fragment:JD,lightmap_fragment:ZD,lightmap_pars_fragment:e6,lights_lambert_fragment:t6,lights_lambert_pars_fragment:n6,lights_pars_begin:r6,lights_toon_fragment:s6,lights_toon_pars_fragment:o6,lights_phong_fragment:a6,lights_phong_pars_fragment:l6,lights_physical_fragment:c6,lights_physical_pars_fragment:u6,lights_fragment_begin:d6,lights_fragment_maps:f6,lights_fragment_end:h6,logdepthbuf_fragment:p6,logdepthbuf_pars_fragment:m6,logdepthbuf_pars_vertex:g6,logdepthbuf_vertex:v6,map_fragment:_6,map_pars_fragment:A6,map_particle_fragment:y6,map_particle_pars_fragment:b6,metalnessmap_fragment:S6,metalnessmap_pars_fragment:E6,morphcolor_vertex:w6,morphnormal_vertex:C6,morphtarget_pars_vertex:I6,morphtarget_vertex:M6,normal_fragment_begin:x6,normal_fragment_maps:R6,normal_pars_fragment:T6,normal_pars_vertex:N6,normal_vertex:P6,normalmap_pars_fragment:B6,clearcoat_normal_fragment_begin:D6,clearcoat_normal_fragment_maps:k6,clearcoat_pars_fragment:L6,iridescence_pars_fragment:O6,output_fragment:F6,packing:V6,premultiplied_alpha_fragment:G6,project_vertex:U6,dithering_fragment:H6,dithering_pars_fragment:Q6,roughnessmap_fragment:X6,roughnessmap_pars_fragment:z6,shadowmap_pars_fragment:$6,shadowmap_pars_vertex:W6,shadowmap_vertex:K6,shadowmask_pars_fragment:j6,skinbase_vertex:q6,skinning_pars_vertex:Y6,skinning_vertex:J6,skinnormal_vertex:Z6,specularmap_fragment:e3,specularmap_pars_fragment:t3,tonemapping_fragment:n3,tonemapping_pars_fragment:r3,transmission_fragment:i3,transmission_pars_fragment:s3,uv_pars_fragment:o3,uv_pars_vertex:a3,uv_vertex:l3,uv2_pars_fragment:c3,uv2_pars_vertex:u3,uv2_vertex:d3,worldpos_vertex:f3,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`},Pn={common:{diffuse:{value:new sr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new xs},uv2Transform:{value:new xs},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Fn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new sr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new sr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new xs}},sprite:{diffuse:{value:new sr(16777215)},opacity:{value:1},center:{value:new Fn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new xs}}},ea={basic:{uniforms:ts([Pn.common,Pn.specularmap,Pn.envmap,Pn.aomap,Pn.lightmap,Pn.fog]),vertexShader:Br.meshbasic_vert,fragmentShader:Br.meshbasic_frag},lambert:{uniforms:ts([Pn.common,Pn.specularmap,Pn.envmap,Pn.aomap,Pn.lightmap,Pn.emissivemap,Pn.bumpmap,Pn.normalmap,Pn.displacementmap,Pn.fog,Pn.lights,{emissive:{value:new sr(0)}}]),vertexShader:Br.meshlambert_vert,fragmentShader:Br.meshlambert_frag},phong:{uniforms:ts([Pn.common,Pn.specularmap,Pn.envmap,Pn.aomap,Pn.lightmap,Pn.emissivemap,Pn.bumpmap,Pn.normalmap,Pn.displacementmap,Pn.fog,Pn.lights,{emissive:{value:new sr(0)},specular:{value:new sr(1118481)},shininess:{value:30}}]),vertexShader:Br.meshphong_vert,fragmentShader:Br.meshphong_frag},standard:{uniforms:ts([Pn.common,Pn.envmap,Pn.aomap,Pn.lightmap,Pn.emissivemap,Pn.bumpmap,Pn.normalmap,Pn.displacementmap,Pn.roughnessmap,Pn.metalnessmap,Pn.fog,Pn.lights,{emissive:{value:new sr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Br.meshphysical_vert,fragmentShader:Br.meshphysical_frag},toon:{uniforms:ts([Pn.common,Pn.aomap,Pn.lightmap,Pn.emissivemap,Pn.bumpmap,Pn.normalmap,Pn.displacementmap,Pn.gradientmap,Pn.fog,Pn.lights,{emissive:{value:new sr(0)}}]),vertexShader:Br.meshtoon_vert,fragmentShader:Br.meshtoon_frag},matcap:{uniforms:ts([Pn.common,Pn.bumpmap,Pn.normalmap,Pn.displacementmap,Pn.fog,{matcap:{value:null}}]),vertexShader:Br.meshmatcap_vert,fragmentShader:Br.meshmatcap_frag},points:{uniforms:ts([Pn.points,Pn.fog]),vertexShader:Br.points_vert,fragmentShader:Br.points_frag},dashed:{uniforms:ts([Pn.common,Pn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Br.linedashed_vert,fragmentShader:Br.linedashed_frag},depth:{uniforms:ts([Pn.common,Pn.displacementmap]),vertexShader:Br.depth_vert,fragmentShader:Br.depth_frag},normal:{uniforms:ts([Pn.common,Pn.bumpmap,Pn.normalmap,Pn.displacementmap,{opacity:{value:1}}]),vertexShader:Br.meshnormal_vert,fragmentShader:Br.meshnormal_frag},sprite:{uniforms:ts([Pn.sprite,Pn.fog]),vertexShader:Br.sprite_vert,fragmentShader:Br.sprite_frag},background:{uniforms:{uvTransform:{value:new xs},t2D:{value:null}},vertexShader:Br.background_vert,fragmentShader:Br.background_frag},cube:{uniforms:ts([Pn.envmap,{opacity:{value:1}}]),vertexShader:Br.cube_vert,fragmentShader:Br.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Br.equirect_vert,fragmentShader:Br.equirect_frag},distanceRGBA:{uniforms:ts([Pn.common,Pn.displacementmap,{referencePosition:{value:new Ze},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Br.distanceRGBA_vert,fragmentShader:Br.distanceRGBA_frag},shadow:{uniforms:ts([Pn.lights,Pn.fog,{color:{value:new sr(0)},opacity:{value:1}}]),vertexShader:Br.shadow_vert,fragmentShader:Br.shadow_frag}};ea.physical={uniforms:ts([ea.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Fn(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new sr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Fn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new sr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new sr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Br.meshphysical_vert,fragmentShader:Br.meshphysical_frag};function h3(p,t,r,o,l,d){const m=new sr(0);let _=l===!0?0:1,A,S,R=null,I=0,N=null;function D(O,k){let U=!1,W=k.isScene===!0?k.background:null;W&&W.isTexture&&(W=t.get(W));const Z=p.xr,ne=Z.getSession&&Z.getSession();ne&&ne.environmentBlendMode==="additive"&&(W=null),W===null?V(m,_):W&&W.isColor&&(V(W,1),U=!0),(p.autoClear||U)&&p.clear(p.autoClearColor,p.autoClearDepth,p.autoClearStencil),W&&(W.isCubeTexture||W.mapping===Rt)?(S===void 0&&(S=new Fi(new mc(1,1,1),new wo({name:"BackgroundCubeMaterial",uniforms:Ou(ea.cube.uniforms),vertexShader:ea.cube.vertexShader,fragmentShader:ea.cube.fragmentShader,side:Q,depthTest:!1,depthWrite:!1,fog:!1})),S.geometry.deleteAttribute("normal"),S.geometry.deleteAttribute("uv"),S.onBeforeRender=function(j,re,Ae){this.matrixWorld.copyPosition(Ae.matrixWorld)},Object.defineProperty(S.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(S)),S.material.uniforms.envMap.value=W,S.material.uniforms.flipEnvMap.value=W.isCubeTexture&&W.isRenderTargetTexture===!1?-1:1,(R!==W||I!==W.version||N!==p.toneMapping)&&(S.material.needsUpdate=!0,R=W,I=W.version,N=p.toneMapping),S.layers.enableAll(),O.unshift(S,S.geometry,S.material,0,0,null)):W&&W.isTexture&&(A===void 0&&(A=new Fi(new vc(2,2),new wo({name:"BackgroundMaterial",uniforms:Ou(ea.background.uniforms),vertexShader:ea.background.vertexShader,fragmentShader:ea.background.fragmentShader,side:G,depthTest:!1,depthWrite:!1,fog:!1})),A.geometry.deleteAttribute("normal"),Object.defineProperty(A.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(A)),A.material.uniforms.t2D.value=W,W.matrixAutoUpdate===!0&&W.updateMatrix(),A.material.uniforms.uvTransform.value.copy(W.matrix),(R!==W||I!==W.version||N!==p.toneMapping)&&(A.material.needsUpdate=!0,R=W,I=W.version,N=p.toneMapping),A.layers.enableAll(),O.unshift(A,A.geometry,A.material,0,0,null))}function V(O,k){r.buffers.color.setClear(O.r,O.g,O.b,k,d)}return{getClearColor:function(){return m},setClearColor:function(O,k=1){m.set(O),_=k,V(m,_)},getClearAlpha:function(){return _},setClearAlpha:function(O){_=O,V(m,_)},render:D}}function p3(p,t,r,o){const l=p.getParameter(34921),d=o.isWebGL2?null:t.get("OES_vertex_array_object"),m=o.isWebGL2||d!==null,_={},A=k(null);let S=A,R=!1;function I(ke,st,ht,dt,De){let Je=!1;if(m){const ct=O(dt,ht,st);S!==ct&&(S=ct,D(S.object)),Je=U(ke,dt,ht,De),Je&&W(ke,dt,ht,De)}else{const ct=st.wireframe===!0;(S.geometry!==dt.id||S.program!==ht.id||S.wireframe!==ct)&&(S.geometry=dt.id,S.program=ht.id,S.wireframe=ct,Je=!0)}De!==null&&r.update(De,34963),(Je||R)&&(R=!1,Y(ke,st,ht,dt),De!==null&&p.bindBuffer(34963,r.get(De).buffer))}function N(){return o.isWebGL2?p.createVertexArray():d.createVertexArrayOES()}function D(ke){return o.isWebGL2?p.bindVertexArray(ke):d.bindVertexArrayOES(ke)}function V(ke){return o.isWebGL2?p.deleteVertexArray(ke):d.deleteVertexArrayOES(ke)}function O(ke,st,ht){const dt=ht.wireframe===!0;let De=_[ke.id];De===void 0&&(De={},_[ke.id]=De);let Je=De[st.id];Je===void 0&&(Je={},De[st.id]=Je);let ct=Je[dt];return ct===void 0&&(ct=k(N()),Je[dt]=ct),ct}function k(ke){const st=[],ht=[],dt=[];for(let De=0;De<l;De++)st[De]=0,ht[De]=0,dt[De]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:st,enabledAttributes:ht,attributeDivisors:dt,object:ke,attributes:{},index:null}}function U(ke,st,ht,dt){const De=S.attributes,Je=st.attributes;let ct=0;const Gt=ht.getAttributes();for(const Ft in Gt)if(Gt[Ft].location>=0){const c=De[Ft];let Ln=Je[Ft];if(Ln===void 0&&(Ft==="instanceMatrix"&&ke.instanceMatrix&&(Ln=ke.instanceMatrix),Ft==="instanceColor"&&ke.instanceColor&&(Ln=ke.instanceColor)),c===void 0||c.attribute!==Ln||Ln&&c.data!==Ln.data)return!0;ct++}return S.attributesNum!==ct||S.index!==dt}function W(ke,st,ht,dt){const De={},Je=st.attributes;let ct=0;const Gt=ht.getAttributes();for(const Ft in Gt)if(Gt[Ft].location>=0){let c=Je[Ft];c===void 0&&(Ft==="instanceMatrix"&&ke.instanceMatrix&&(c=ke.instanceMatrix),Ft==="instanceColor"&&ke.instanceColor&&(c=ke.instanceColor));const Ln={};Ln.attribute=c,c&&c.data&&(Ln.data=c.data),De[Ft]=Ln,ct++}S.attributes=De,S.attributesNum=ct,S.index=dt}function Z(){const ke=S.newAttributes;for(let st=0,ht=ke.length;st<ht;st++)ke[st]=0}function ne(ke){j(ke,0)}function j(ke,st){const ht=S.newAttributes,dt=S.enabledAttributes,De=S.attributeDivisors;ht[ke]=1,dt[ke]===0&&(p.enableVertexAttribArray(ke),dt[ke]=1),De[ke]!==st&&((o.isWebGL2?p:t.get("ANGLE_instanced_arrays"))[o.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ke,st),De[ke]=st)}function re(){const ke=S.newAttributes,st=S.enabledAttributes;for(let ht=0,dt=st.length;ht<dt;ht++)st[ht]!==ke[ht]&&(p.disableVertexAttribArray(ht),st[ht]=0)}function Ae(ke,st,ht,dt,De,Je){o.isWebGL2===!0&&(ht===5124||ht===5125)?p.vertexAttribIPointer(ke,st,ht,De,Je):p.vertexAttribPointer(ke,st,ht,dt,De,Je)}function Y(ke,st,ht,dt){if(o.isWebGL2===!1&&(ke.isInstancedMesh||dt.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;Z();const De=dt.attributes,Je=ht.getAttributes(),ct=st.defaultAttributeValues;for(const Gt in Je){const Ft=Je[Gt];if(Ft.location>=0){let Kt=De[Gt];if(Kt===void 0&&(Gt==="instanceMatrix"&&ke.instanceMatrix&&(Kt=ke.instanceMatrix),Gt==="instanceColor"&&ke.instanceColor&&(Kt=ke.instanceColor)),Kt!==void 0){const c=Kt.normalized,Ln=Kt.itemSize,ut=r.get(Kt);if(ut===void 0)continue;const Xe=ut.buffer,Bt=ut.type,qt=ut.bytesPerElement;if(Kt.isInterleavedBufferAttribute){const $t=Kt.data,Cn=$t.stride,Dn=Kt.offset;if($t.isInstancedInterleavedBuffer){for(let Hn=0;Hn<Ft.locationSize;Hn++)j(Ft.location+Hn,$t.meshPerAttribute);ke.isInstancedMesh!==!0&&dt._maxInstanceCount===void 0&&(dt._maxInstanceCount=$t.meshPerAttribute*$t.count)}else for(let Hn=0;Hn<Ft.locationSize;Hn++)ne(Ft.location+Hn);p.bindBuffer(34962,Xe);for(let Hn=0;Hn<Ft.locationSize;Hn++)Ae(Ft.location+Hn,Ln/Ft.locationSize,Bt,c,Cn*qt,(Dn+Ln/Ft.locationSize*Hn)*qt)}else{if(Kt.isInstancedBufferAttribute){for(let $t=0;$t<Ft.locationSize;$t++)j(Ft.location+$t,Kt.meshPerAttribute);ke.isInstancedMesh!==!0&&dt._maxInstanceCount===void 0&&(dt._maxInstanceCount=Kt.meshPerAttribute*Kt.count)}else for(let $t=0;$t<Ft.locationSize;$t++)ne(Ft.location+$t);p.bindBuffer(34962,Xe);for(let $t=0;$t<Ft.locationSize;$t++)Ae(Ft.location+$t,Ln/Ft.locationSize,Bt,c,Ln*qt,Ln/Ft.locationSize*$t*qt)}}else if(ct!==void 0){const c=ct[Gt];if(c!==void 0)switch(c.length){case 2:p.vertexAttrib2fv(Ft.location,c);break;case 3:p.vertexAttrib3fv(Ft.location,c);break;case 4:p.vertexAttrib4fv(Ft.location,c);break;default:p.vertexAttrib1fv(Ft.location,c)}}}}re()}function pe(){tt();for(const ke in _){const st=_[ke];for(const ht in st){const dt=st[ht];for(const De in dt)V(dt[De].object),delete dt[De];delete st[ht]}delete _[ke]}}function we(ke){if(_[ke.id]===void 0)return;const st=_[ke.id];for(const ht in st){const dt=st[ht];for(const De in dt)V(dt[De].object),delete dt[De];delete st[ht]}delete _[ke.id]}function Oe(ke){for(const st in _){const ht=_[st];if(ht[ke.id]===void 0)continue;const dt=ht[ke.id];for(const De in dt)V(dt[De].object),delete dt[De];delete ht[ke.id]}}function tt(){Re(),R=!0,S!==A&&(S=A,D(S.object))}function Re(){A.geometry=null,A.program=null,A.wireframe=!1}return{setup:I,reset:tt,resetDefaultState:Re,dispose:pe,releaseStatesOfGeometry:we,releaseStatesOfProgram:Oe,initAttributes:Z,enableAttribute:ne,disableUnusedAttributes:re}}function m3(p,t,r,o){const l=o.isWebGL2;let d;function m(S){d=S}function _(S,R){p.drawArrays(d,S,R),r.update(R,d,1)}function A(S,R,I){if(I===0)return;let N,D;if(l)N=p,D="drawArraysInstanced";else if(N=t.get("ANGLE_instanced_arrays"),D="drawArraysInstancedANGLE",N===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}N[D](d,S,R,I),r.update(R,d,I)}this.setMode=m,this.render=_,this.renderInstances=A}function g3(p,t,r){let o;function l(){if(o!==void 0)return o;if(t.has("EXT_texture_filter_anisotropic")===!0){const Ae=t.get("EXT_texture_filter_anisotropic");o=p.getParameter(Ae.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else o=0;return o}function d(Ae){if(Ae==="highp"){if(p.getShaderPrecisionFormat(35633,36338).precision>0&&p.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Ae="mediump"}return Ae==="mediump"&&p.getShaderPrecisionFormat(35633,36337).precision>0&&p.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const m=typeof WebGL2RenderingContext<"u"&&p instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&p instanceof WebGL2ComputeRenderingContext;let _=r.precision!==void 0?r.precision:"highp";const A=d(_);A!==_&&(console.warn("THREE.WebGLRenderer:",_,"not supported, using",A,"instead."),_=A);const S=m||t.has("WEBGL_draw_buffers"),R=r.logarithmicDepthBuffer===!0,I=p.getParameter(34930),N=p.getParameter(35660),D=p.getParameter(3379),V=p.getParameter(34076),O=p.getParameter(34921),k=p.getParameter(36347),U=p.getParameter(36348),W=p.getParameter(36349),Z=N>0,ne=m||t.has("OES_texture_float"),j=Z&&ne,re=m?p.getParameter(36183):0;return{isWebGL2:m,drawBuffers:S,getMaxAnisotropy:l,getMaxPrecision:d,precision:_,logarithmicDepthBuffer:R,maxTextures:I,maxVertexTextures:N,maxTextureSize:D,maxCubemapSize:V,maxAttributes:O,maxVertexUniforms:k,maxVaryings:U,maxFragmentUniforms:W,vertexTextures:Z,floatFragmentTextures:ne,floatVertexTextures:j,maxSamples:re}}function v3(p){const t=this;let r=null,o=0,l=!1,d=!1;const m=new gc,_=new xs,A={value:null,needsUpdate:!1};this.uniform=A,this.numPlanes=0,this.numIntersection=0,this.init=function(I,N,D){const V=I.length!==0||N||o!==0||l;return l=N,r=R(I,D,0),o=I.length,V},this.beginShadows=function(){d=!0,R(null)},this.endShadows=function(){d=!1,S()},this.setState=function(I,N,D){const V=I.clippingPlanes,O=I.clipIntersection,k=I.clipShadows,U=p.get(I);if(!l||V===null||V.length===0||d&&!k)d?R(null):S();else{const W=d?0:o,Z=W*4;let ne=U.clippingState||null;A.value=ne,ne=R(V,N,Z,D);for(let j=0;j!==Z;++j)ne[j]=r[j];U.clippingState=ne,this.numIntersection=O?this.numPlanes:0,this.numPlanes+=W}};function S(){A.value!==r&&(A.value=r,A.needsUpdate=o>0),t.numPlanes=o,t.numIntersection=0}function R(I,N,D,V){const O=I!==null?I.length:0;let k=null;if(O!==0){if(k=A.value,V!==!0||k===null){const U=D+O*4,W=N.matrixWorldInverse;_.getNormalMatrix(W),(k===null||k.length<U)&&(k=new Float32Array(U));for(let Z=0,ne=D;Z!==O;++Z,ne+=4)m.copy(I[Z]).applyMatrix4(W,_),m.normal.toArray(k,ne),k[ne+3]=m.constant}A.value=k,A.needsUpdate=!0}return t.numPlanes=O,t.numIntersection=0,k}}function _3(p){let t=new WeakMap;function r(m,_){return _===It?m.mapping=Mn:_===$e&&(m.mapping=Ke),m}function o(m){if(m&&m.isTexture&&m.isRenderTargetTexture===!1){const _=m.mapping;if(_===It||_===$e)if(t.has(m)){const A=t.get(m).texture;return r(A,m.mapping)}else{const A=m.image;if(A&&A.height>0){const S=new dD(A.height/2);return S.fromEquirectangularTexture(p,m),t.set(m,S),m.addEventListener("dispose",l),r(S.texture,m.mapping)}else return null}}return m}function l(m){const _=m.target;_.removeEventListener("dispose",l);const A=t.get(_);A!==void 0&&(t.delete(_),A.dispose())}function d(){t=new WeakMap}return{get:o,dispose:d}}class Bp extends sS{constructor(t=-1,r=1,o=1,l=-1,d=.1,m=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=r,this.top=o,this.bottom=l,this.near=d,this.far=m,this.updateProjectionMatrix()}copy(t,r){return super.copy(t,r),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,r,o,l,d,m){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=r,this.view.offsetX=o,this.view.offsetY=l,this.view.width=d,this.view.height=m,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),o=(this.right+this.left)/2,l=(this.top+this.bottom)/2;let d=o-t,m=o+t,_=l+r,A=l-r;if(this.view!==null&&this.view.enabled){const S=(this.right-this.left)/this.view.fullWidth/this.zoom,R=(this.top-this.bottom)/this.view.fullHeight/this.zoom;d+=S*this.view.offsetX,m=d+S*this.view.width,_-=R*this.view.offsetY,A=_-R*this.view.height}this.projectionMatrix.makeOrthographic(d,m,_,A,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const r=super.toJSON(t);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,this.view!==null&&(r.object.view=Object.assign({},this.view)),r}}const Uu=4,lS=[.125,.215,.35,.446,.526,.582],_c=20,s_=new Bp,cS=new sr;let o_=null;const Ac=(1+Math.sqrt(5))/2,Hu=1/Ac,uS=[new Ze(1,1,1),new Ze(-1,1,1),new Ze(1,1,-1),new Ze(-1,1,-1),new Ze(0,Ac,Hu),new Ze(0,Ac,-Hu),new Ze(Hu,0,Ac),new Ze(-Hu,0,Ac),new Ze(Ac,Hu,0),new Ze(-Ac,Hu,0)];class Dp{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,r=0,o=.1,l=100){o_=this._renderer.getRenderTarget(),this._setSize(256);const d=this._allocateTargets();return d.depthBuffer=!0,this._sceneToCubeUV(t,o,l,d),r>0&&this._blur(d,0,0,r),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(t,r=null){return this._fromTexture(t,r)}fromCubemap(t,r=null){return this._fromTexture(t,r)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=hS(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=fS(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(o_),t.scissorTest=!1,kp(t,0,0,t.width,t.height)}_fromTexture(t,r){t.mapping===Mn||t.mapping===Ke?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),o_=this._renderer.getRenderTarget();const o=r||this._allocateTargets();return this._textureToCubeUV(t,o),this._applyPMREM(o),this._cleanup(o),o}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),r=4*this._cubeSize,o={magFilter:ir,minFilter:ir,generateMipmaps:!1,type:Bi,format:zi,encoding:_o,depthBuffer:!1},l=dS(t,r,o);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=dS(t,r,o);const{_lodMax:d}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=A3(d)),this._blurMaterial=y3(d,t,r)}return l}_compileMaterial(t){const r=new Fi(this._lodPlanes[0],t);this._renderer.compile(r,s_)}_sceneToCubeUV(t,r,o,l){const _=new Wi(90,1,r,o),A=[1,-1,1,1,1,1],S=[1,1,1,-1,-1,-1],R=this._renderer,I=R.autoClear,N=R.toneMapping;R.getClearColor(cS),R.toneMapping=rt,R.autoClear=!1;const D=new Zo({name:"PMREM.Background",side:Q,depthWrite:!1,depthTest:!1}),V=new Fi(new mc,D);let O=!1;const k=t.background;k?k.isColor&&(D.color.copy(k),t.background=null,O=!0):(D.color.copy(cS),O=!0);for(let U=0;U<6;U++){const W=U%3;W===0?(_.up.set(0,A[U],0),_.lookAt(S[U],0,0)):W===1?(_.up.set(0,0,A[U]),_.lookAt(0,S[U],0)):(_.up.set(0,A[U],0),_.lookAt(0,0,S[U]));const Z=this._cubeSize;kp(l,W*Z,U>2?Z:0,Z,Z),R.setRenderTarget(l),O&&R.render(V,_),R.render(t,_)}V.geometry.dispose(),V.material.dispose(),R.toneMapping=N,R.autoClear=I,t.background=k}_textureToCubeUV(t,r){const o=this._renderer,l=t.mapping===Mn||t.mapping===Ke;l?(this._cubemapMaterial===null&&(this._cubemapMaterial=hS()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=fS());const d=l?this._cubemapMaterial:this._equirectMaterial,m=new Fi(this._lodPlanes[0],d),_=d.uniforms;_.envMap.value=t;const A=this._cubeSize;kp(r,0,0,3*A,2*A),o.setRenderTarget(r),o.render(m,s_)}_applyPMREM(t){const r=this._renderer,o=r.autoClear;r.autoClear=!1;for(let l=1;l<this._lodPlanes.length;l++){const d=Math.sqrt(this._sigmas[l]*this._sigmas[l]-this._sigmas[l-1]*this._sigmas[l-1]),m=uS[(l-1)%uS.length];this._blur(t,l-1,l,d,m)}r.autoClear=o}_blur(t,r,o,l,d){const m=this._pingPongRenderTarget;this._halfBlur(t,m,r,o,l,"latitudinal",d),this._halfBlur(m,t,o,o,l,"longitudinal",d)}_halfBlur(t,r,o,l,d,m,_){const A=this._renderer,S=this._blurMaterial;m!=="latitudinal"&&m!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const R=3,I=new Fi(this._lodPlanes[l],S),N=S.uniforms,D=this._sizeLods[o]-1,V=isFinite(d)?Math.PI/(2*D):2*Math.PI/(2*_c-1),O=d/V,k=isFinite(d)?1+Math.floor(R*O):_c;k>_c&&console.warn(`sigmaRadians, ${d}, is too large and will clip, as it requested ${k} samples when the maximum is set to ${_c}`);const U=[];let W=0;for(let Ae=0;Ae<_c;++Ae){const Y=Ae/O,pe=Math.exp(-Y*Y/2);U.push(pe),Ae===0?W+=pe:Ae<k&&(W+=2*pe)}for(let Ae=0;Ae<U.length;Ae++)U[Ae]=U[Ae]/W;N.envMap.value=t.texture,N.samples.value=k,N.weights.value=U,N.latitudinal.value=m==="latitudinal",_&&(N.poleAxis.value=_);const{_lodMax:Z}=this;N.dTheta.value=V,N.mipInt.value=Z-o;const ne=this._sizeLods[l],j=3*ne*(l>Z-Uu?l-Z+Uu:0),re=4*(this._cubeSize-ne);kp(r,j,re,3*ne,2*ne),A.setRenderTarget(r),A.render(I,s_)}}function A3(p){const t=[],r=[],o=[];let l=p;const d=p-Uu+1+lS.length;for(let m=0;m<d;m++){const _=Math.pow(2,l);r.push(_);let A=1/_;m>p-Uu?A=lS[m-p+Uu-1]:m===0&&(A=0),o.push(A);const S=1/(_-2),R=-S,I=1+S,N=[R,R,I,R,I,I,R,R,I,I,R,I],D=6,V=6,O=3,k=2,U=1,W=new Float32Array(O*V*D),Z=new Float32Array(k*V*D),ne=new Float32Array(U*V*D);for(let re=0;re<D;re++){const Ae=re%3*2/3-1,Y=re>2?0:-1,pe=[Ae,Y,0,Ae+2/3,Y,0,Ae+2/3,Y+1,0,Ae,Y,0,Ae+2/3,Y+1,0,Ae,Y+1,0];W.set(pe,O*V*re),Z.set(N,k*V*re);const we=[re,re,re,re,re,re];ne.set(we,U*V*re)}const j=new Oi;j.setAttribute("position",new ei(W,O)),j.setAttribute("uv",new ei(Z,k)),j.setAttribute("faceIndex",new ei(ne,U)),t.push(j),l>Uu&&l--}return{lodPlanes:t,sizeLods:r,sigmas:o}}function dS(p,t,r){const o=new dc(p,t,r);return o.texture.mapping=Rt,o.texture.name="PMREM.cubeUv",o.scissorTest=!0,o}function kp(p,t,r,o,l){p.viewport.set(t,r,o,l),p.scissor.set(t,r,o,l)}function y3(p,t,r){const o=new Float32Array(_c),l=new Ze(0,1,0);return new wo({name:"SphericalGaussianBlur",defines:{n:_c,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${p}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:o},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:l}},vertexShader:a_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:J,depthTest:!1,depthWrite:!1})}function fS(){return new wo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:a_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:J,depthTest:!1,depthWrite:!1})}function hS(){return new wo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:a_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:J,depthTest:!1,depthWrite:!1})}function a_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function b3(p){let t=new WeakMap,r=null;function o(_){if(_&&_.isTexture){const A=_.mapping,S=A===It||A===$e,R=A===Mn||A===Ke;if(S||R)if(_.isRenderTargetTexture&&_.needsPMREMUpdate===!0){_.needsPMREMUpdate=!1;let I=t.get(_);return r===null&&(r=new Dp(p)),I=S?r.fromEquirectangular(_,I):r.fromCubemap(_,I),t.set(_,I),I.texture}else{if(t.has(_))return t.get(_).texture;{const I=_.image;if(S&&I&&I.height>0||R&&I&&l(I)){r===null&&(r=new Dp(p));const N=S?r.fromEquirectangular(_):r.fromCubemap(_);return t.set(_,N),_.addEventListener("dispose",d),N.texture}else return null}}}return _}function l(_){let A=0;const S=6;for(let R=0;R<S;R++)_[R]!==void 0&&A++;return A===S}function d(_){const A=_.target;A.removeEventListener("dispose",d);const S=t.get(A);S!==void 0&&(t.delete(A),S.dispose())}function m(){t=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:o,dispose:m}}function S3(p){const t={};function r(o){if(t[o]!==void 0)return t[o];let l;switch(o){case"WEBGL_depth_texture":l=p.getExtension("WEBGL_depth_texture")||p.getExtension("MOZ_WEBGL_depth_texture")||p.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":l=p.getExtension("EXT_texture_filter_anisotropic")||p.getExtension("MOZ_EXT_texture_filter_anisotropic")||p.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":l=p.getExtension("WEBGL_compressed_texture_s3tc")||p.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||p.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":l=p.getExtension("WEBGL_compressed_texture_pvrtc")||p.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:l=p.getExtension(o)}return t[o]=l,l}return{has:function(o){return r(o)!==null},init:function(o){o.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(o){const l=r(o);return l===null&&console.warn("THREE.WebGLRenderer: "+o+" extension not supported."),l}}}function E3(p,t,r,o){const l={},d=new WeakMap;function m(I){const N=I.target;N.index!==null&&t.remove(N.index);for(const V in N.attributes)t.remove(N.attributes[V]);N.removeEventListener("dispose",m),delete l[N.id];const D=d.get(N);D&&(t.remove(D),d.delete(N)),o.releaseStatesOfGeometry(N),N.isInstancedBufferGeometry===!0&&delete N._maxInstanceCount,r.memory.geometries--}function _(I,N){return l[N.id]===!0||(N.addEventListener("dispose",m),l[N.id]=!0,r.memory.geometries++),N}function A(I){const N=I.attributes;for(const V in N)t.update(N[V],34962);const D=I.morphAttributes;for(const V in D){const O=D[V];for(let k=0,U=O.length;k<U;k++)t.update(O[k],34962)}}function S(I){const N=[],D=I.index,V=I.attributes.position;let O=0;if(D!==null){const W=D.array;O=D.version;for(let Z=0,ne=W.length;Z<ne;Z+=3){const j=W[Z+0],re=W[Z+1],Ae=W[Z+2];N.push(j,re,re,Ae,Ae,j)}}else{const W=V.array;O=V.version;for(let Z=0,ne=W.length/3-1;Z<ne;Z+=3){const j=Z+0,re=Z+1,Ae=Z+2;N.push(j,re,re,Ae,Ae,j)}}const k=new(H1(N)?nS:tS)(N,1);k.version=O;const U=d.get(I);U&&t.remove(U),d.set(I,k)}function R(I){const N=d.get(I);if(N){const D=I.index;D!==null&&N.version<D.version&&S(I)}else S(I);return d.get(I)}return{get:_,update:A,getWireframeAttribute:R}}function w3(p,t,r,o){const l=o.isWebGL2;let d;function m(N){d=N}let _,A;function S(N){_=N.type,A=N.bytesPerElement}function R(N,D){p.drawElements(d,D,_,N*A),r.update(D,d,1)}function I(N,D,V){if(V===0)return;let O,k;if(l)O=p,k="drawElementsInstanced";else if(O=t.get("ANGLE_instanced_arrays"),k="drawElementsInstancedANGLE",O===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}O[k](d,D,_,N*A,V),r.update(D,d,V)}this.setMode=m,this.setIndex=S,this.render=R,this.renderInstances=I}function C3(p){const t={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function o(d,m,_){switch(r.calls++,m){case 4:r.triangles+=_*(d/3);break;case 1:r.lines+=_*(d/2);break;case 3:r.lines+=_*(d-1);break;case 2:r.lines+=_*d;break;case 0:r.points+=_*d;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",m);break}}function l(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:t,render:r,programs:null,autoReset:!0,reset:l,update:o}}function I3(p,t){return p[0]-t[0]}function M3(p,t){return Math.abs(t[1])-Math.abs(p[1])}function x3(p,t,r){const o={},l=new Float32Array(8),d=new WeakMap,m=new Zr,_=[];for(let S=0;S<8;S++)_[S]=[S,0];function A(S,R,I,N){const D=S.morphTargetInfluences;if(t.isWebGL2===!0){const O=R.morphAttributes.position||R.morphAttributes.normal||R.morphAttributes.color,k=O!==void 0?O.length:0;let U=d.get(R);if(U===void 0||U.count!==k){let ht=function(){ke.dispose(),d.delete(R),R.removeEventListener("dispose",ht)};var V=ht;U!==void 0&&U.texture.dispose();const ne=R.morphAttributes.position!==void 0,j=R.morphAttributes.normal!==void 0,re=R.morphAttributes.color!==void 0,Ae=R.morphAttributes.position||[],Y=R.morphAttributes.normal||[],pe=R.morphAttributes.color||[];let we=0;ne===!0&&(we=1),j===!0&&(we=2),re===!0&&(we=3);let Oe=R.attributes.position.count*we,tt=1;Oe>t.maxTextureSize&&(tt=Math.ceil(Oe/t.maxTextureSize),Oe=t.maxTextureSize);const Re=new Float32Array(Oe*tt*4*k),ke=new pp(Re,Oe,tt,k);ke.type=Yr,ke.needsUpdate=!0;const st=we*4;for(let dt=0;dt<k;dt++){const De=Ae[dt],Je=Y[dt],ct=pe[dt],Gt=Oe*tt*4*dt;for(let Ft=0;Ft<De.count;Ft++){const Kt=Ft*st;ne===!0&&(m.fromBufferAttribute(De,Ft),Re[Gt+Kt+0]=m.x,Re[Gt+Kt+1]=m.y,Re[Gt+Kt+2]=m.z,Re[Gt+Kt+3]=0),j===!0&&(m.fromBufferAttribute(Je,Ft),Re[Gt+Kt+4]=m.x,Re[Gt+Kt+5]=m.y,Re[Gt+Kt+6]=m.z,Re[Gt+Kt+7]=0),re===!0&&(m.fromBufferAttribute(ct,Ft),Re[Gt+Kt+8]=m.x,Re[Gt+Kt+9]=m.y,Re[Gt+Kt+10]=m.z,Re[Gt+Kt+11]=ct.itemSize===4?m.w:1)}}U={count:k,texture:ke,size:new Fn(Oe,tt)},d.set(R,U),R.addEventListener("dispose",ht)}let W=0;for(let ne=0;ne<D.length;ne++)W+=D[ne];const Z=R.morphTargetsRelative?1:1-W;N.getUniforms().setValue(p,"morphTargetBaseInfluence",Z),N.getUniforms().setValue(p,"morphTargetInfluences",D),N.getUniforms().setValue(p,"morphTargetsTexture",U.texture,r),N.getUniforms().setValue(p,"morphTargetsTextureSize",U.size)}else{const O=D===void 0?0:D.length;let k=o[R.id];if(k===void 0||k.length!==O){k=[];for(let j=0;j<O;j++)k[j]=[j,0];o[R.id]=k}for(let j=0;j<O;j++){const re=k[j];re[0]=j,re[1]=D[j]}k.sort(M3);for(let j=0;j<8;j++)j<O&&k[j][1]?(_[j][0]=k[j][0],_[j][1]=k[j][1]):(_[j][0]=Number.MAX_SAFE_INTEGER,_[j][1]=0);_.sort(I3);const U=R.morphAttributes.position,W=R.morphAttributes.normal;let Z=0;for(let j=0;j<8;j++){const re=_[j],Ae=re[0],Y=re[1];Ae!==Number.MAX_SAFE_INTEGER&&Y?(U&&R.getAttribute("morphTarget"+j)!==U[Ae]&&R.setAttribute("morphTarget"+j,U[Ae]),W&&R.getAttribute("morphNormal"+j)!==W[Ae]&&R.setAttribute("morphNormal"+j,W[Ae]),l[j]=Y,Z+=Y):(U&&R.hasAttribute("morphTarget"+j)===!0&&R.deleteAttribute("morphTarget"+j),W&&R.hasAttribute("morphNormal"+j)===!0&&R.deleteAttribute("morphNormal"+j),l[j]=0)}const ne=R.morphTargetsRelative?1:1-Z;N.getUniforms().setValue(p,"morphTargetBaseInfluence",ne),N.getUniforms().setValue(p,"morphTargetInfluences",l)}}return{update:A}}function R3(p,t,r,o){let l=new WeakMap;function d(A){const S=o.render.frame,R=A.geometry,I=t.get(A,R);return l.get(I)!==S&&(t.update(I),l.set(I,S)),A.isInstancedMesh&&(A.hasEventListener("dispose",_)===!1&&A.addEventListener("dispose",_),r.update(A.instanceMatrix,34962),A.instanceColor!==null&&r.update(A.instanceColor,34962)),I}function m(){l=new WeakMap}function _(A){const S=A.target;S.removeEventListener("dispose",_),r.remove(S.instanceMatrix),S.instanceColor!==null&&r.remove(S.instanceColor)}return{update:d,dispose:m}}const pS=new Di,mS=new pp,gS=new Fv,vS=new oS,_S=[],AS=[],yS=new Float32Array(16),bS=new Float32Array(9),SS=new Float32Array(4);function Qu(p,t,r){const o=p[0];if(o<=0||o>0)return p;const l=t*r;let d=_S[l];if(d===void 0&&(d=new Float32Array(l),_S[l]=d),t!==0){o.toArray(d,0);for(let m=1,_=0;m!==t;++m)_+=r,p[m].toArray(d,_)}return d}function os(p,t){if(p.length!==t.length)return!1;for(let r=0,o=p.length;r<o;r++)if(p[r]!==t[r])return!1;return!0}function as(p,t){for(let r=0,o=t.length;r<o;r++)p[r]=t[r]}function Lp(p,t){let r=AS[t];r===void 0&&(r=new Int32Array(t),AS[t]=r);for(let o=0;o!==t;++o)r[o]=p.allocateTextureUnit();return r}function T3(p,t){const r=this.cache;r[0]!==t&&(p.uniform1f(this.addr,t),r[0]=t)}function N3(p,t){const r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y)&&(p.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(os(r,t))return;p.uniform2fv(this.addr,t),as(r,t)}}function P3(p,t){const r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z)&&(p.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(t.r!==void 0)(r[0]!==t.r||r[1]!==t.g||r[2]!==t.b)&&(p.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(os(r,t))return;p.uniform3fv(this.addr,t),as(r,t)}}function B3(p,t){const r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z||r[3]!==t.w)&&(p.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(os(r,t))return;p.uniform4fv(this.addr,t),as(r,t)}}function D3(p,t){const r=this.cache,o=t.elements;if(o===void 0){if(os(r,t))return;p.uniformMatrix2fv(this.addr,!1,t),as(r,t)}else{if(os(r,o))return;SS.set(o),p.uniformMatrix2fv(this.addr,!1,SS),as(r,o)}}function k3(p,t){const r=this.cache,o=t.elements;if(o===void 0){if(os(r,t))return;p.uniformMatrix3fv(this.addr,!1,t),as(r,t)}else{if(os(r,o))return;bS.set(o),p.uniformMatrix3fv(this.addr,!1,bS),as(r,o)}}function L3(p,t){const r=this.cache,o=t.elements;if(o===void 0){if(os(r,t))return;p.uniformMatrix4fv(this.addr,!1,t),as(r,t)}else{if(os(r,o))return;yS.set(o),p.uniformMatrix4fv(this.addr,!1,yS),as(r,o)}}function O3(p,t){const r=this.cache;r[0]!==t&&(p.uniform1i(this.addr,t),r[0]=t)}function F3(p,t){const r=this.cache;os(r,t)||(p.uniform2iv(this.addr,t),as(r,t))}function V3(p,t){const r=this.cache;os(r,t)||(p.uniform3iv(this.addr,t),as(r,t))}function G3(p,t){const r=this.cache;os(r,t)||(p.uniform4iv(this.addr,t),as(r,t))}function U3(p,t){const r=this.cache;r[0]!==t&&(p.uniform1ui(this.addr,t),r[0]=t)}function H3(p,t){const r=this.cache;os(r,t)||(p.uniform2uiv(this.addr,t),as(r,t))}function Q3(p,t){const r=this.cache;os(r,t)||(p.uniform3uiv(this.addr,t),as(r,t))}function X3(p,t){const r=this.cache;os(r,t)||(p.uniform4uiv(this.addr,t),as(r,t))}function z3(p,t,r){const o=this.cache,l=r.allocateTextureUnit();o[0]!==l&&(p.uniform1i(this.addr,l),o[0]=l),r.setTexture2D(t||pS,l)}function $3(p,t,r){const o=this.cache,l=r.allocateTextureUnit();o[0]!==l&&(p.uniform1i(this.addr,l),o[0]=l),r.setTexture3D(t||gS,l)}function W3(p,t,r){const o=this.cache,l=r.allocateTextureUnit();o[0]!==l&&(p.uniform1i(this.addr,l),o[0]=l),r.setTextureCube(t||vS,l)}function K3(p,t,r){const o=this.cache,l=r.allocateTextureUnit();o[0]!==l&&(p.uniform1i(this.addr,l),o[0]=l),r.setTexture2DArray(t||mS,l)}function j3(p){switch(p){case 5126:return T3;case 35664:return N3;case 35665:return P3;case 35666:return B3;case 35674:return D3;case 35675:return k3;case 35676:return L3;case 5124:case 35670:return O3;case 35667:case 35671:return F3;case 35668:case 35672:return V3;case 35669:case 35673:return G3;case 5125:return U3;case 36294:return H3;case 36295:return Q3;case 36296:return X3;case 35678:case 36198:case 36298:case 36306:case 35682:return z3;case 35679:case 36299:case 36307:return $3;case 35680:case 36300:case 36308:case 36293:return W3;case 36289:case 36303:case 36311:case 36292:return K3}}function q3(p,t){p.uniform1fv(this.addr,t)}function Y3(p,t){const r=Qu(t,this.size,2);p.uniform2fv(this.addr,r)}function J3(p,t){const r=Qu(t,this.size,3);p.uniform3fv(this.addr,r)}function Z3(p,t){const r=Qu(t,this.size,4);p.uniform4fv(this.addr,r)}function ek(p,t){const r=Qu(t,this.size,4);p.uniformMatrix2fv(this.addr,!1,r)}function tk(p,t){const r=Qu(t,this.size,9);p.uniformMatrix3fv(this.addr,!1,r)}function nk(p,t){const r=Qu(t,this.size,16);p.uniformMatrix4fv(this.addr,!1,r)}function rk(p,t){p.uniform1iv(this.addr,t)}function ik(p,t){p.uniform2iv(this.addr,t)}function sk(p,t){p.uniform3iv(this.addr,t)}function ok(p,t){p.uniform4iv(this.addr,t)}function ak(p,t){p.uniform1uiv(this.addr,t)}function lk(p,t){p.uniform2uiv(this.addr,t)}function ck(p,t){p.uniform3uiv(this.addr,t)}function uk(p,t){p.uniform4uiv(this.addr,t)}function dk(p,t,r){const o=t.length,l=Lp(r,o);p.uniform1iv(this.addr,l);for(let d=0;d!==o;++d)r.setTexture2D(t[d]||pS,l[d])}function fk(p,t,r){const o=t.length,l=Lp(r,o);p.uniform1iv(this.addr,l);for(let d=0;d!==o;++d)r.setTexture3D(t[d]||gS,l[d])}function hk(p,t,r){const o=t.length,l=Lp(r,o);p.uniform1iv(this.addr,l);for(let d=0;d!==o;++d)r.setTextureCube(t[d]||vS,l[d])}function pk(p,t,r){const o=t.length,l=Lp(r,o);p.uniform1iv(this.addr,l);for(let d=0;d!==o;++d)r.setTexture2DArray(t[d]||mS,l[d])}function mk(p){switch(p){case 5126:return q3;case 35664:return Y3;case 35665:return J3;case 35666:return Z3;case 35674:return ek;case 35675:return tk;case 35676:return nk;case 5124:case 35670:return rk;case 35667:case 35671:return ik;case 35668:case 35672:return sk;case 35669:case 35673:return ok;case 5125:return ak;case 36294:return lk;case 36295:return ck;case 36296:return uk;case 35678:case 36198:case 36298:case 36306:case 35682:return dk;case 35679:case 36299:case 36307:return fk;case 35680:case 36300:case 36308:case 36293:return hk;case 36289:case 36303:case 36311:case 36292:return pk}}class gk{constructor(t,r,o){this.id=t,this.addr=o,this.cache=[],this.setValue=j3(r.type)}}class vk{constructor(t,r,o){this.id=t,this.addr=o,this.cache=[],this.size=r.size,this.setValue=mk(r.type)}}class _k{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,r,o){const l=this.seq;for(let d=0,m=l.length;d!==m;++d){const _=l[d];_.setValue(t,r[_.id],o)}}}const l_=/(\w+)(\])?(\[|\.)?/g;function ES(p,t){p.seq.push(t),p.map[t.id]=t}function Ak(p,t,r){const o=p.name,l=o.length;for(l_.lastIndex=0;;){const d=l_.exec(o),m=l_.lastIndex;let _=d[1];const A=d[2]==="]",S=d[3];if(A&&(_=_|0),S===void 0||S==="["&&m+2===l){ES(r,S===void 0?new gk(_,p,t):new vk(_,p,t));break}else{let I=r.map[_];I===void 0&&(I=new _k(_),ES(r,I)),r=I}}}class Op{constructor(t,r){this.seq=[],this.map={};const o=t.getProgramParameter(r,35718);for(let l=0;l<o;++l){const d=t.getActiveUniform(r,l),m=t.getUniformLocation(r,d.name);Ak(d,m,this)}}setValue(t,r,o,l){const d=this.map[r];d!==void 0&&d.setValue(t,o,l)}setOptional(t,r,o){const l=r[o];l!==void 0&&this.setValue(t,o,l)}static upload(t,r,o,l){for(let d=0,m=r.length;d!==m;++d){const _=r[d],A=o[_.id];A.needsUpdate!==!1&&_.setValue(t,A.value,l)}}static seqWithValue(t,r){const o=[];for(let l=0,d=t.length;l!==d;++l){const m=t[l];m.id in r&&o.push(m)}return o}}function wS(p,t,r){const o=p.createShader(t);return p.shaderSource(o,r),p.compileShader(o),o}let yk=0;function bk(p,t){const r=p.split(`
`),o=[],l=Math.max(t-6,0),d=Math.min(t+6,r.length);for(let m=l;m<d;m++){const _=m+1;o.push(`${_===t?">":" "} ${_}: ${r[m]}`)}return o.join(`
`)}function Sk(p){switch(p){case _o:return["Linear","( value )"];case Or:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",p),["Linear","( value )"]}}function CS(p,t,r){const o=p.getShaderParameter(t,35713),l=p.getShaderInfoLog(t).trim();if(o&&l==="")return"";const d=/ERROR: 0:(\d+)/.exec(l);if(d){const m=parseInt(d[1]);return r.toUpperCase()+`

`+l+`

`+bk(p.getShaderSource(t),m)}else return l}function Ek(p,t){const r=Sk(t);return"vec4 "+p+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function wk(p,t){let r;switch(t){case mt:r="Linear";break;case Et:r="Reinhard";break;case rn:r="OptimizedCineon";break;case it:r="ACESFilmic";break;case Xt:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),r="Linear"}return"vec3 "+p+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function Ck(p){return[p.extensionDerivatives||!!p.envMapCubeUVHeight||p.bumpMap||p.tangentSpaceNormalMap||p.clearcoatNormalMap||p.flatShading||p.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(p.extensionFragDepth||p.logarithmicDepthBuffer)&&p.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",p.extensionDrawBuffers&&p.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(p.extensionShaderTextureLOD||p.envMap||p.transmission)&&p.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(sf).join(`
`)}function Ik(p){const t=[];for(const r in p){const o=p[r];o!==!1&&t.push("#define "+r+" "+o)}return t.join(`
`)}function Mk(p,t){const r={},o=p.getProgramParameter(t,35721);for(let l=0;l<o;l++){const d=p.getActiveAttrib(t,l),m=d.name;let _=1;d.type===35674&&(_=2),d.type===35675&&(_=3),d.type===35676&&(_=4),r[m]={type:d.type,location:p.getAttribLocation(t,m),locationSize:_}}return r}function sf(p){return p!==""}function IS(p,t){const r=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return p.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function MS(p,t){return p.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const xk=/^[ \t]*#include +<([\w\d./]+)>/gm;function c_(p){return p.replace(xk,Rk)}function Rk(p,t){const r=Br[t];if(r===void 0)throw new Error("Can not resolve #include <"+t+">");return c_(r)}const Tk=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function xS(p){return p.replace(Tk,Nk)}function Nk(p,t,r,o){let l="";for(let d=parseInt(t);d<parseInt(r);d++)l+=o.replace(/\[\s*i\s*\]/g,"[ "+d+" ]").replace(/UNROLLED_LOOP_INDEX/g,d);return l}function RS(p){let t="precision "+p.precision+` float;
precision `+p.precision+" int;";return p.precision==="highp"?t+=`
#define HIGH_PRECISION`:p.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:p.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function Pk(p){let t="SHADOWMAP_TYPE_BASIC";return p.shadowMapType===P?t="SHADOWMAP_TYPE_PCF":p.shadowMapType===F?t="SHADOWMAP_TYPE_PCF_SOFT":p.shadowMapType===B&&(t="SHADOWMAP_TYPE_VSM"),t}function Bk(p){let t="ENVMAP_TYPE_CUBE";if(p.envMap)switch(p.envMapMode){case Mn:case Ke:t="ENVMAP_TYPE_CUBE";break;case Rt:t="ENVMAP_TYPE_CUBE_UV";break}return t}function Dk(p){let t="ENVMAP_MODE_REFLECTION";if(p.envMap)switch(p.envMapMode){case Ke:t="ENVMAP_MODE_REFRACTION";break}return t}function kk(p){let t="ENVMAP_BLENDING_NONE";if(p.envMap)switch(p.combine){case et:t="ENVMAP_BLENDING_MULTIPLY";break;case xt:t="ENVMAP_BLENDING_MIX";break;case qe:t="ENVMAP_BLENDING_ADD";break}return t}function Lk(p){const t=p.envMapCubeUVHeight;if(t===null)return null;const r=Math.log2(t)-2,o=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,r),7*16)),texelHeight:o,maxMip:r}}function Ok(p,t,r,o){const l=p.getContext(),d=r.defines;let m=r.vertexShader,_=r.fragmentShader;const A=Pk(r),S=Bk(r),R=Dk(r),I=kk(r),N=Lk(r),D=r.isWebGL2?"":Ck(r),V=Ik(d),O=l.createProgram();let k,U,W=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(k=[V].filter(sf).join(`
`),k.length>0&&(k+=`
`),U=[D,V].filter(sf).join(`
`),U.length>0&&(U+=`
`)):(k=[RS(r),"#define SHADER_NAME "+r.shaderName,V,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+R:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+A:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(sf).join(`
`),U=[D,RS(r),"#define SHADER_NAME "+r.shaderName,V,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+S:"",r.envMap?"#define "+R:"",r.envMap?"#define "+I:"",N?"#define CUBEUV_TEXEL_WIDTH "+N.texelWidth:"",N?"#define CUBEUV_TEXEL_HEIGHT "+N.texelHeight:"",N?"#define CUBEUV_MAX_MIP "+N.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+A:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==rt?"#define TONE_MAPPING":"",r.toneMapping!==rt?Br.tonemapping_pars_fragment:"",r.toneMapping!==rt?wk("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",Br.encodings_pars_fragment,Ek("linearToOutputTexel",r.outputEncoding),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(sf).join(`
`)),m=c_(m),m=IS(m,r),m=MS(m,r),_=c_(_),_=IS(_,r),_=MS(_,r),m=xS(m),_=xS(_),r.isWebGL2&&r.isRawShaderMaterial!==!0&&(W=`#version 300 es
`,k=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+k,U=["#define varying in",r.glslVersion===cp?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===cp?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+U);const Z=W+k+m,ne=W+U+_,j=wS(l,35633,Z),re=wS(l,35632,ne);if(l.attachShader(O,j),l.attachShader(O,re),r.index0AttributeName!==void 0?l.bindAttribLocation(O,0,r.index0AttributeName):r.morphTargets===!0&&l.bindAttribLocation(O,0,"position"),l.linkProgram(O),p.debug.checkShaderErrors){const pe=l.getProgramInfoLog(O).trim(),we=l.getShaderInfoLog(j).trim(),Oe=l.getShaderInfoLog(re).trim();let tt=!0,Re=!0;if(l.getProgramParameter(O,35714)===!1){tt=!1;const ke=CS(l,j,"vertex"),st=CS(l,re,"fragment");console.error("THREE.WebGLProgram: Shader Error "+l.getError()+" - VALIDATE_STATUS "+l.getProgramParameter(O,35715)+`

Program Info Log: `+pe+`
`+ke+`
`+st)}else pe!==""?console.warn("THREE.WebGLProgram: Program Info Log:",pe):(we===""||Oe==="")&&(Re=!1);Re&&(this.diagnostics={runnable:tt,programLog:pe,vertexShader:{log:we,prefix:k},fragmentShader:{log:Oe,prefix:U}})}l.deleteShader(j),l.deleteShader(re);let Ae;this.getUniforms=function(){return Ae===void 0&&(Ae=new Op(l,O)),Ae};let Y;return this.getAttributes=function(){return Y===void 0&&(Y=Mk(l,O)),Y},this.destroy=function(){o.releaseStatesOfProgram(this),l.deleteProgram(O),this.program=void 0},this.name=r.shaderName,this.id=yk++,this.cacheKey=t,this.usedTimes=1,this.program=O,this.vertexShader=j,this.fragmentShader=re,this}let Fk=0;class Vk{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const r=t.vertexShader,o=t.fragmentShader,l=this._getShaderStage(r),d=this._getShaderStage(o),m=this._getShaderCacheForMaterial(t);return m.has(l)===!1&&(m.add(l),l.usedTimes++),m.has(d)===!1&&(m.add(d),d.usedTimes++),this}remove(t){const r=this.materialCache.get(t);for(const o of r)o.usedTimes--,o.usedTimes===0&&this.shaderCache.delete(o.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const r=this.materialCache;let o=r.get(t);return o===void 0&&(o=new Set,r.set(t,o)),o}_getShaderStage(t){const r=this.shaderCache;let o=r.get(t);return o===void 0&&(o=new Gk(t),r.set(t,o)),o}}class Gk{constructor(t){this.id=Fk++,this.code=t,this.usedTimes=0}}function Uk(p,t,r,o,l,d,m){const _=new $v,A=new Vk,S=[],R=l.isWebGL2,I=l.logarithmicDepthBuffer,N=l.vertexTextures;let D=l.precision;const V={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function O(Y,pe,we,Oe,tt){const Re=Oe.fog,ke=tt.geometry,st=Y.isMeshStandardMaterial?Oe.environment:null,ht=(Y.isMeshStandardMaterial?r:t).get(Y.envMap||st),dt=!!ht&&ht.mapping===Rt?ht.image.height:null,De=V[Y.type];Y.precision!==null&&(D=l.getMaxPrecision(Y.precision),D!==Y.precision&&console.warn("THREE.WebGLProgram.getParameters:",Y.precision,"not supported, using",D,"instead."));const Je=ke.morphAttributes.position||ke.morphAttributes.normal||ke.morphAttributes.color,ct=Je!==void 0?Je.length:0;let Gt=0;ke.morphAttributes.position!==void 0&&(Gt=1),ke.morphAttributes.normal!==void 0&&(Gt=2),ke.morphAttributes.color!==void 0&&(Gt=3);let Ft,Kt,c,Ln;if(De){const Cn=ea[De];Ft=Cn.vertexShader,Kt=Cn.fragmentShader}else Ft=Y.vertexShader,Kt=Y.fragmentShader,A.update(Y),c=A.getVertexShaderID(Y),Ln=A.getFragmentShaderID(Y);const ut=p.getRenderTarget(),Xe=Y.alphaTest>0,Bt=Y.clearcoat>0,qt=Y.iridescence>0;return{isWebGL2:R,shaderID:De,shaderName:Y.type,vertexShader:Ft,fragmentShader:Kt,defines:Y.defines,customVertexShaderID:c,customFragmentShaderID:Ln,isRawShaderMaterial:Y.isRawShaderMaterial===!0,glslVersion:Y.glslVersion,precision:D,instancing:tt.isInstancedMesh===!0,instancingColor:tt.isInstancedMesh===!0&&tt.instanceColor!==null,supportsVertexTextures:N,outputEncoding:ut===null?p.outputEncoding:ut.isXRRenderTarget===!0?ut.texture.encoding:_o,map:!!Y.map,matcap:!!Y.matcap,envMap:!!ht,envMapMode:ht&&ht.mapping,envMapCubeUVHeight:dt,lightMap:!!Y.lightMap,aoMap:!!Y.aoMap,emissiveMap:!!Y.emissiveMap,bumpMap:!!Y.bumpMap,normalMap:!!Y.normalMap,objectSpaceNormalMap:Y.normalMapType===kB,tangentSpaceNormalMap:Y.normalMapType===lp,decodeVideoTexture:!!Y.map&&Y.map.isVideoTexture===!0&&Y.map.encoding===Or,clearcoat:Bt,clearcoatMap:Bt&&!!Y.clearcoatMap,clearcoatRoughnessMap:Bt&&!!Y.clearcoatRoughnessMap,clearcoatNormalMap:Bt&&!!Y.clearcoatNormalMap,iridescence:qt,iridescenceMap:qt&&!!Y.iridescenceMap,iridescenceThicknessMap:qt&&!!Y.iridescenceThicknessMap,displacementMap:!!Y.displacementMap,roughnessMap:!!Y.roughnessMap,metalnessMap:!!Y.metalnessMap,specularMap:!!Y.specularMap,specularIntensityMap:!!Y.specularIntensityMap,specularColorMap:!!Y.specularColorMap,opaque:Y.transparent===!1&&Y.blending===te,alphaMap:!!Y.alphaMap,alphaTest:Xe,gradientMap:!!Y.gradientMap,sheen:Y.sheen>0,sheenColorMap:!!Y.sheenColorMap,sheenRoughnessMap:!!Y.sheenRoughnessMap,transmission:Y.transmission>0,transmissionMap:!!Y.transmissionMap,thicknessMap:!!Y.thicknessMap,combine:Y.combine,vertexTangents:!!Y.normalMap&&!!ke.attributes.tangent,vertexColors:Y.vertexColors,vertexAlphas:Y.vertexColors===!0&&!!ke.attributes.color&&ke.attributes.color.itemSize===4,vertexUvs:!!Y.map||!!Y.bumpMap||!!Y.normalMap||!!Y.specularMap||!!Y.alphaMap||!!Y.emissiveMap||!!Y.roughnessMap||!!Y.metalnessMap||!!Y.clearcoatMap||!!Y.clearcoatRoughnessMap||!!Y.clearcoatNormalMap||!!Y.iridescenceMap||!!Y.iridescenceThicknessMap||!!Y.displacementMap||!!Y.transmissionMap||!!Y.thicknessMap||!!Y.specularIntensityMap||!!Y.specularColorMap||!!Y.sheenColorMap||!!Y.sheenRoughnessMap,uvsVertexOnly:!(!!Y.map||!!Y.bumpMap||!!Y.normalMap||!!Y.specularMap||!!Y.alphaMap||!!Y.emissiveMap||!!Y.roughnessMap||!!Y.metalnessMap||!!Y.clearcoatNormalMap||!!Y.iridescenceMap||!!Y.iridescenceThicknessMap||Y.transmission>0||!!Y.transmissionMap||!!Y.thicknessMap||!!Y.specularIntensityMap||!!Y.specularColorMap||Y.sheen>0||!!Y.sheenColorMap||!!Y.sheenRoughnessMap)&&!!Y.displacementMap,fog:!!Re,useFog:Y.fog===!0,fogExp2:Re&&Re.isFogExp2,flatShading:!!Y.flatShading,sizeAttenuation:Y.sizeAttenuation,logarithmicDepthBuffer:I,skinning:tt.isSkinnedMesh===!0,morphTargets:ke.morphAttributes.position!==void 0,morphNormals:ke.morphAttributes.normal!==void 0,morphColors:ke.morphAttributes.color!==void 0,morphTargetsCount:ct,morphTextureStride:Gt,numDirLights:pe.directional.length,numPointLights:pe.point.length,numSpotLights:pe.spot.length,numSpotLightMaps:pe.spotLightMap.length,numRectAreaLights:pe.rectArea.length,numHemiLights:pe.hemi.length,numDirLightShadows:pe.directionalShadowMap.length,numPointLightShadows:pe.pointShadowMap.length,numSpotLightShadows:pe.spotShadowMap.length,numSpotLightShadowsWithMaps:pe.numSpotLightShadowsWithMaps,numClippingPlanes:m.numPlanes,numClipIntersection:m.numIntersection,dithering:Y.dithering,shadowMapEnabled:p.shadowMap.enabled&&we.length>0,shadowMapType:p.shadowMap.type,toneMapping:Y.toneMapped?p.toneMapping:rt,physicallyCorrectLights:p.physicallyCorrectLights,premultipliedAlpha:Y.premultipliedAlpha,doubleSided:Y.side===H,flipSided:Y.side===Q,useDepthPacking:!!Y.depthPacking,depthPacking:Y.depthPacking||0,index0AttributeName:Y.index0AttributeName,extensionDerivatives:Y.extensions&&Y.extensions.derivatives,extensionFragDepth:Y.extensions&&Y.extensions.fragDepth,extensionDrawBuffers:Y.extensions&&Y.extensions.drawBuffers,extensionShaderTextureLOD:Y.extensions&&Y.extensions.shaderTextureLOD,rendererExtensionFragDepth:R||o.has("EXT_frag_depth"),rendererExtensionDrawBuffers:R||o.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:R||o.has("EXT_shader_texture_lod"),customProgramCacheKey:Y.customProgramCacheKey()}}function k(Y){const pe=[];if(Y.shaderID?pe.push(Y.shaderID):(pe.push(Y.customVertexShaderID),pe.push(Y.customFragmentShaderID)),Y.defines!==void 0)for(const we in Y.defines)pe.push(we),pe.push(Y.defines[we]);return Y.isRawShaderMaterial===!1&&(U(pe,Y),W(pe,Y),pe.push(p.outputEncoding)),pe.push(Y.customProgramCacheKey),pe.join()}function U(Y,pe){Y.push(pe.precision),Y.push(pe.outputEncoding),Y.push(pe.envMapMode),Y.push(pe.envMapCubeUVHeight),Y.push(pe.combine),Y.push(pe.vertexUvs),Y.push(pe.fogExp2),Y.push(pe.sizeAttenuation),Y.push(pe.morphTargetsCount),Y.push(pe.morphAttributeCount),Y.push(pe.numDirLights),Y.push(pe.numPointLights),Y.push(pe.numSpotLights),Y.push(pe.numSpotLightMaps),Y.push(pe.numHemiLights),Y.push(pe.numRectAreaLights),Y.push(pe.numDirLightShadows),Y.push(pe.numPointLightShadows),Y.push(pe.numSpotLightShadows),Y.push(pe.numSpotLightShadowsWithMaps),Y.push(pe.shadowMapType),Y.push(pe.toneMapping),Y.push(pe.numClippingPlanes),Y.push(pe.numClipIntersection),Y.push(pe.depthPacking)}function W(Y,pe){_.disableAll(),pe.isWebGL2&&_.enable(0),pe.supportsVertexTextures&&_.enable(1),pe.instancing&&_.enable(2),pe.instancingColor&&_.enable(3),pe.map&&_.enable(4),pe.matcap&&_.enable(5),pe.envMap&&_.enable(6),pe.lightMap&&_.enable(7),pe.aoMap&&_.enable(8),pe.emissiveMap&&_.enable(9),pe.bumpMap&&_.enable(10),pe.normalMap&&_.enable(11),pe.objectSpaceNormalMap&&_.enable(12),pe.tangentSpaceNormalMap&&_.enable(13),pe.clearcoat&&_.enable(14),pe.clearcoatMap&&_.enable(15),pe.clearcoatRoughnessMap&&_.enable(16),pe.clearcoatNormalMap&&_.enable(17),pe.iridescence&&_.enable(18),pe.iridescenceMap&&_.enable(19),pe.iridescenceThicknessMap&&_.enable(20),pe.displacementMap&&_.enable(21),pe.specularMap&&_.enable(22),pe.roughnessMap&&_.enable(23),pe.metalnessMap&&_.enable(24),pe.gradientMap&&_.enable(25),pe.alphaMap&&_.enable(26),pe.alphaTest&&_.enable(27),pe.vertexColors&&_.enable(28),pe.vertexAlphas&&_.enable(29),pe.vertexUvs&&_.enable(30),pe.vertexTangents&&_.enable(31),pe.uvsVertexOnly&&_.enable(32),Y.push(_.mask),_.disableAll(),pe.fog&&_.enable(0),pe.useFog&&_.enable(1),pe.flatShading&&_.enable(2),pe.logarithmicDepthBuffer&&_.enable(3),pe.skinning&&_.enable(4),pe.morphTargets&&_.enable(5),pe.morphNormals&&_.enable(6),pe.morphColors&&_.enable(7),pe.premultipliedAlpha&&_.enable(8),pe.shadowMapEnabled&&_.enable(9),pe.physicallyCorrectLights&&_.enable(10),pe.doubleSided&&_.enable(11),pe.flipSided&&_.enable(12),pe.useDepthPacking&&_.enable(13),pe.dithering&&_.enable(14),pe.specularIntensityMap&&_.enable(15),pe.specularColorMap&&_.enable(16),pe.transmission&&_.enable(17),pe.transmissionMap&&_.enable(18),pe.thicknessMap&&_.enable(19),pe.sheen&&_.enable(20),pe.sheenColorMap&&_.enable(21),pe.sheenRoughnessMap&&_.enable(22),pe.decodeVideoTexture&&_.enable(23),pe.opaque&&_.enable(24),Y.push(_.mask)}function Z(Y){const pe=V[Y.type];let we;if(pe){const Oe=ea[pe];we=iS.clone(Oe.uniforms)}else we=Y.uniforms;return we}function ne(Y,pe){let we;for(let Oe=0,tt=S.length;Oe<tt;Oe++){const Re=S[Oe];if(Re.cacheKey===pe){we=Re,++we.usedTimes;break}}return we===void 0&&(we=new Ok(p,pe,Y,d),S.push(we)),we}function j(Y){if(--Y.usedTimes===0){const pe=S.indexOf(Y);S[pe]=S[S.length-1],S.pop(),Y.destroy()}}function re(Y){A.remove(Y)}function Ae(){A.dispose()}return{getParameters:O,getProgramCacheKey:k,getUniforms:Z,acquireProgram:ne,releaseProgram:j,releaseShaderCache:re,programs:S,dispose:Ae}}function Hk(){let p=new WeakMap;function t(d){let m=p.get(d);return m===void 0&&(m={},p.set(d,m)),m}function r(d){p.delete(d)}function o(d,m,_){p.get(d)[m]=_}function l(){p=new WeakMap}return{get:t,remove:r,update:o,dispose:l}}function Qk(p,t){return p.groupOrder!==t.groupOrder?p.groupOrder-t.groupOrder:p.renderOrder!==t.renderOrder?p.renderOrder-t.renderOrder:p.material.id!==t.material.id?p.material.id-t.material.id:p.z!==t.z?p.z-t.z:p.id-t.id}function TS(p,t){return p.groupOrder!==t.groupOrder?p.groupOrder-t.groupOrder:p.renderOrder!==t.renderOrder?p.renderOrder-t.renderOrder:p.z!==t.z?t.z-p.z:p.id-t.id}function NS(){const p=[];let t=0;const r=[],o=[],l=[];function d(){t=0,r.length=0,o.length=0,l.length=0}function m(I,N,D,V,O,k){let U=p[t];return U===void 0?(U={id:I.id,object:I,geometry:N,material:D,groupOrder:V,renderOrder:I.renderOrder,z:O,group:k},p[t]=U):(U.id=I.id,U.object=I,U.geometry=N,U.material=D,U.groupOrder=V,U.renderOrder=I.renderOrder,U.z=O,U.group=k),t++,U}function _(I,N,D,V,O,k){const U=m(I,N,D,V,O,k);D.transmission>0?o.push(U):D.transparent===!0?l.push(U):r.push(U)}function A(I,N,D,V,O,k){const U=m(I,N,D,V,O,k);D.transmission>0?o.unshift(U):D.transparent===!0?l.unshift(U):r.unshift(U)}function S(I,N){r.length>1&&r.sort(I||Qk),o.length>1&&o.sort(N||TS),l.length>1&&l.sort(N||TS)}function R(){for(let I=t,N=p.length;I<N;I++){const D=p[I];if(D.id===null)break;D.id=null,D.object=null,D.geometry=null,D.material=null,D.group=null}}return{opaque:r,transmissive:o,transparent:l,init:d,push:_,unshift:A,finish:R,sort:S}}function Xk(){let p=new WeakMap;function t(o,l){const d=p.get(o);let m;return d===void 0?(m=new NS,p.set(o,[m])):l>=d.length?(m=new NS,d.push(m)):m=d[l],m}function r(){p=new WeakMap}return{get:t,dispose:r}}function zk(){const p={};return{get:function(t){if(p[t.id]!==void 0)return p[t.id];let r;switch(t.type){case"DirectionalLight":r={direction:new Ze,color:new sr};break;case"SpotLight":r={position:new Ze,direction:new Ze,color:new sr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new Ze,color:new sr,distance:0,decay:0};break;case"HemisphereLight":r={direction:new Ze,skyColor:new sr,groundColor:new sr};break;case"RectAreaLight":r={color:new sr,position:new Ze,halfWidth:new Ze,halfHeight:new Ze};break}return p[t.id]=r,r}}}function $k(){const p={};return{get:function(t){if(p[t.id]!==void 0)return p[t.id];let r;switch(t.type){case"DirectionalLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fn};break;case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fn};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fn,shadowCameraNear:1,shadowCameraFar:1e3};break}return p[t.id]=r,r}}}let Wk=0;function Kk(p,t){return(t.castShadow?2:0)-(p.castShadow?2:0)+(t.map?1:0)-(p.map?1:0)}function jk(p,t){const r=new zk,o=$k(),l={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let R=0;R<9;R++)l.probe.push(new Ze);const d=new Ze,m=new br,_=new br;function A(R,I){let N=0,D=0,V=0;for(let Oe=0;Oe<9;Oe++)l.probe[Oe].set(0,0,0);let O=0,k=0,U=0,W=0,Z=0,ne=0,j=0,re=0,Ae=0,Y=0;R.sort(Kk);const pe=I!==!0?Math.PI:1;for(let Oe=0,tt=R.length;Oe<tt;Oe++){const Re=R[Oe],ke=Re.color,st=Re.intensity,ht=Re.distance,dt=Re.shadow&&Re.shadow.map?Re.shadow.map.texture:null;if(Re.isAmbientLight)N+=ke.r*st*pe,D+=ke.g*st*pe,V+=ke.b*st*pe;else if(Re.isLightProbe)for(let De=0;De<9;De++)l.probe[De].addScaledVector(Re.sh.coefficients[De],st);else if(Re.isDirectionalLight){const De=r.get(Re);if(De.color.copy(Re.color).multiplyScalar(Re.intensity*pe),Re.castShadow){const Je=Re.shadow,ct=o.get(Re);ct.shadowBias=Je.bias,ct.shadowNormalBias=Je.normalBias,ct.shadowRadius=Je.radius,ct.shadowMapSize=Je.mapSize,l.directionalShadow[O]=ct,l.directionalShadowMap[O]=dt,l.directionalShadowMatrix[O]=Re.shadow.matrix,ne++}l.directional[O]=De,O++}else if(Re.isSpotLight){const De=r.get(Re);De.position.setFromMatrixPosition(Re.matrixWorld),De.color.copy(ke).multiplyScalar(st*pe),De.distance=ht,De.coneCos=Math.cos(Re.angle),De.penumbraCos=Math.cos(Re.angle*(1-Re.penumbra)),De.decay=Re.decay,l.spot[U]=De;const Je=Re.shadow;if(Re.map&&(l.spotLightMap[Ae]=Re.map,Ae++,Je.updateMatrices(Re),Re.castShadow&&Y++),l.spotLightMatrix[U]=Je.matrix,Re.castShadow){const ct=o.get(Re);ct.shadowBias=Je.bias,ct.shadowNormalBias=Je.normalBias,ct.shadowRadius=Je.radius,ct.shadowMapSize=Je.mapSize,l.spotShadow[U]=ct,l.spotShadowMap[U]=dt,re++}U++}else if(Re.isRectAreaLight){const De=r.get(Re);De.color.copy(ke).multiplyScalar(st),De.halfWidth.set(Re.width*.5,0,0),De.halfHeight.set(0,Re.height*.5,0),l.rectArea[W]=De,W++}else if(Re.isPointLight){const De=r.get(Re);if(De.color.copy(Re.color).multiplyScalar(Re.intensity*pe),De.distance=Re.distance,De.decay=Re.decay,Re.castShadow){const Je=Re.shadow,ct=o.get(Re);ct.shadowBias=Je.bias,ct.shadowNormalBias=Je.normalBias,ct.shadowRadius=Je.radius,ct.shadowMapSize=Je.mapSize,ct.shadowCameraNear=Je.camera.near,ct.shadowCameraFar=Je.camera.far,l.pointShadow[k]=ct,l.pointShadowMap[k]=dt,l.pointShadowMatrix[k]=Re.shadow.matrix,j++}l.point[k]=De,k++}else if(Re.isHemisphereLight){const De=r.get(Re);De.skyColor.copy(Re.color).multiplyScalar(st*pe),De.groundColor.copy(Re.groundColor).multiplyScalar(st*pe),l.hemi[Z]=De,Z++}}W>0&&(t.isWebGL2||p.has("OES_texture_float_linear")===!0?(l.rectAreaLTC1=Pn.LTC_FLOAT_1,l.rectAreaLTC2=Pn.LTC_FLOAT_2):p.has("OES_texture_half_float_linear")===!0?(l.rectAreaLTC1=Pn.LTC_HALF_1,l.rectAreaLTC2=Pn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),l.ambient[0]=N,l.ambient[1]=D,l.ambient[2]=V;const we=l.hash;(we.directionalLength!==O||we.pointLength!==k||we.spotLength!==U||we.rectAreaLength!==W||we.hemiLength!==Z||we.numDirectionalShadows!==ne||we.numPointShadows!==j||we.numSpotShadows!==re||we.numSpotMaps!==Ae)&&(l.directional.length=O,l.spot.length=U,l.rectArea.length=W,l.point.length=k,l.hemi.length=Z,l.directionalShadow.length=ne,l.directionalShadowMap.length=ne,l.pointShadow.length=j,l.pointShadowMap.length=j,l.spotShadow.length=re,l.spotShadowMap.length=re,l.directionalShadowMatrix.length=ne,l.pointShadowMatrix.length=j,l.spotLightMatrix.length=re+Ae-Y,l.spotLightMap.length=Ae,l.numSpotLightShadowsWithMaps=Y,we.directionalLength=O,we.pointLength=k,we.spotLength=U,we.rectAreaLength=W,we.hemiLength=Z,we.numDirectionalShadows=ne,we.numPointShadows=j,we.numSpotShadows=re,we.numSpotMaps=Ae,l.version=Wk++)}function S(R,I){let N=0,D=0,V=0,O=0,k=0;const U=I.matrixWorldInverse;for(let W=0,Z=R.length;W<Z;W++){const ne=R[W];if(ne.isDirectionalLight){const j=l.directional[N];j.direction.setFromMatrixPosition(ne.matrixWorld),d.setFromMatrixPosition(ne.target.matrixWorld),j.direction.sub(d),j.direction.transformDirection(U),N++}else if(ne.isSpotLight){const j=l.spot[V];j.position.setFromMatrixPosition(ne.matrixWorld),j.position.applyMatrix4(U),j.direction.setFromMatrixPosition(ne.matrixWorld),d.setFromMatrixPosition(ne.target.matrixWorld),j.direction.sub(d),j.direction.transformDirection(U),V++}else if(ne.isRectAreaLight){const j=l.rectArea[O];j.position.setFromMatrixPosition(ne.matrixWorld),j.position.applyMatrix4(U),_.identity(),m.copy(ne.matrixWorld),m.premultiply(U),_.extractRotation(m),j.halfWidth.set(ne.width*.5,0,0),j.halfHeight.set(0,ne.height*.5,0),j.halfWidth.applyMatrix4(_),j.halfHeight.applyMatrix4(_),O++}else if(ne.isPointLight){const j=l.point[D];j.position.setFromMatrixPosition(ne.matrixWorld),j.position.applyMatrix4(U),D++}else if(ne.isHemisphereLight){const j=l.hemi[k];j.direction.setFromMatrixPosition(ne.matrixWorld),j.direction.transformDirection(U),k++}}}return{setup:A,setupView:S,state:l}}function PS(p,t){const r=new jk(p,t),o=[],l=[];function d(){o.length=0,l.length=0}function m(I){o.push(I)}function _(I){l.push(I)}function A(I){r.setup(o,I)}function S(I){r.setupView(o,I)}return{init:d,state:{lightsArray:o,shadowsArray:l,lights:r},setupLights:A,setupLightsView:S,pushLight:m,pushShadow:_}}function qk(p,t){let r=new WeakMap;function o(d,m=0){const _=r.get(d);let A;return _===void 0?(A=new PS(p,t),r.set(d,[A])):m>=_.length?(A=new PS(p,t),_.push(A)):A=_[m],A}function l(){r=new WeakMap}return{get:o,dispose:l}}class Yk extends js{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BB,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class Jk extends js{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Ze,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}const Zk=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,e8=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function t8(p,t,r){let o=new i_;const l=new Fn,d=new Fn,m=new Zr,_=new Yk({depthPacking:DB}),A=new Jk,S={},R=r.maxTextureSize,I={0:Q,1:G,2:H},N=new wo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Fn},radius:{value:4}},vertexShader:Zk,fragmentShader:e8}),D=N.clone();D.defines.HORIZONTAL_PASS=1;const V=new Oi;V.setAttribute("position",new ei(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const O=new Fi(V,N),k=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=P,this.render=function(ne,j,re){if(k.enabled===!1||k.autoUpdate===!1&&k.needsUpdate===!1||ne.length===0)return;const Ae=p.getRenderTarget(),Y=p.getActiveCubeFace(),pe=p.getActiveMipmapLevel(),we=p.state;we.setBlending(J),we.buffers.color.setClear(1,1,1,1),we.buffers.depth.setTest(!0),we.setScissorTest(!1);for(let Oe=0,tt=ne.length;Oe<tt;Oe++){const Re=ne[Oe],ke=Re.shadow;if(ke===void 0){console.warn("THREE.WebGLShadowMap:",Re,"has no shadow.");continue}if(ke.autoUpdate===!1&&ke.needsUpdate===!1)continue;l.copy(ke.mapSize);const st=ke.getFrameExtents();if(l.multiply(st),d.copy(ke.mapSize),(l.x>R||l.y>R)&&(l.x>R&&(d.x=Math.floor(R/st.x),l.x=d.x*st.x,ke.mapSize.x=d.x),l.y>R&&(d.y=Math.floor(R/st.y),l.y=d.y*st.y,ke.mapSize.y=d.y)),ke.map===null){const dt=this.type!==B?{minFilter:Yt,magFilter:Yt}:{};ke.map=new dc(l.x,l.y,dt),ke.map.texture.name=Re.name+".shadowMap",ke.camera.updateProjectionMatrix()}p.setRenderTarget(ke.map),p.clear();const ht=ke.getViewportCount();for(let dt=0;dt<ht;dt++){const De=ke.getViewport(dt);m.set(d.x*De.x,d.y*De.y,d.x*De.z,d.y*De.w),we.viewport(m),ke.updateMatrices(Re,dt),o=ke.getFrustum(),Z(j,re,ke.camera,Re,this.type)}ke.isPointLightShadow!==!0&&this.type===B&&U(ke,re),ke.needsUpdate=!1}k.needsUpdate=!1,p.setRenderTarget(Ae,Y,pe)};function U(ne,j){const re=t.update(O);N.defines.VSM_SAMPLES!==ne.blurSamples&&(N.defines.VSM_SAMPLES=ne.blurSamples,D.defines.VSM_SAMPLES=ne.blurSamples,N.needsUpdate=!0,D.needsUpdate=!0),ne.mapPass===null&&(ne.mapPass=new dc(l.x,l.y)),N.uniforms.shadow_pass.value=ne.map.texture,N.uniforms.resolution.value=ne.mapSize,N.uniforms.radius.value=ne.radius,p.setRenderTarget(ne.mapPass),p.clear(),p.renderBufferDirect(j,null,re,N,O,null),D.uniforms.shadow_pass.value=ne.mapPass.texture,D.uniforms.resolution.value=ne.mapSize,D.uniforms.radius.value=ne.radius,p.setRenderTarget(ne.map),p.clear(),p.renderBufferDirect(j,null,re,D,O,null)}function W(ne,j,re,Ae,Y,pe){let we=null;const Oe=re.isPointLight===!0?ne.customDistanceMaterial:ne.customDepthMaterial;if(Oe!==void 0?we=Oe:we=re.isPointLight===!0?A:_,p.localClippingEnabled&&j.clipShadows===!0&&Array.isArray(j.clippingPlanes)&&j.clippingPlanes.length!==0||j.displacementMap&&j.displacementScale!==0||j.alphaMap&&j.alphaTest>0){const tt=we.uuid,Re=j.uuid;let ke=S[tt];ke===void 0&&(ke={},S[tt]=ke);let st=ke[Re];st===void 0&&(st=we.clone(),ke[Re]=st),we=st}return we.visible=j.visible,we.wireframe=j.wireframe,pe===B?we.side=j.shadowSide!==null?j.shadowSide:j.side:we.side=j.shadowSide!==null?j.shadowSide:I[j.side],we.alphaMap=j.alphaMap,we.alphaTest=j.alphaTest,we.clipShadows=j.clipShadows,we.clippingPlanes=j.clippingPlanes,we.clipIntersection=j.clipIntersection,we.displacementMap=j.displacementMap,we.displacementScale=j.displacementScale,we.displacementBias=j.displacementBias,we.wireframeLinewidth=j.wireframeLinewidth,we.linewidth=j.linewidth,re.isPointLight===!0&&we.isMeshDistanceMaterial===!0&&(we.referencePosition.setFromMatrixPosition(re.matrixWorld),we.nearDistance=Ae,we.farDistance=Y),we}function Z(ne,j,re,Ae,Y){if(ne.visible===!1)return;if(ne.layers.test(j.layers)&&(ne.isMesh||ne.isLine||ne.isPoints)&&(ne.castShadow||ne.receiveShadow&&Y===B)&&(!ne.frustumCulled||o.intersectsObject(ne))){ne.modelViewMatrix.multiplyMatrices(re.matrixWorldInverse,ne.matrixWorld);const Oe=t.update(ne),tt=ne.material;if(Array.isArray(tt)){const Re=Oe.groups;for(let ke=0,st=Re.length;ke<st;ke++){const ht=Re[ke],dt=tt[ht.materialIndex];if(dt&&dt.visible){const De=W(ne,dt,Ae,re.near,re.far,Y);p.renderBufferDirect(re,null,Oe,De,ne,ht)}}}else if(tt.visible){const Re=W(ne,tt,Ae,re.near,re.far,Y);p.renderBufferDirect(re,null,Oe,Re,ne,null)}}const we=ne.children;for(let Oe=0,tt=we.length;Oe<tt;Oe++)Z(we[Oe],j,re,Ae,Y)}}function n8(p,t,r){const o=r.isWebGL2;function l(){let gt=!1;const xn=new Zr;let jt=null;const On=new Zr(0,0,0,0);return{setMask:function(kn){jt!==kn&&!gt&&(p.colorMask(kn,kn,kn,kn),jt=kn)},setLocked:function(kn){gt=kn},setClear:function(kn,Sr,Ai,pi,oa){oa===!0&&(kn*=pi,Sr*=pi,Ai*=pi),xn.set(kn,Sr,Ai,pi),On.equals(xn)===!1&&(p.clearColor(kn,Sr,Ai,pi),On.copy(xn))},reset:function(){gt=!1,jt=null,On.set(-1,0,0,0)}}}function d(){let gt=!1,xn=null,jt=null,On=null;return{setTest:function(kn){kn?Xe(2929):Bt(2929)},setMask:function(kn){xn!==kn&&!gt&&(p.depthMask(kn),xn=kn)},setFunc:function(kn){if(jt!==kn){if(kn)switch(kn){case at:p.depthFunc(512);break;case pt:p.depthFunc(519);break;case nn:p.depthFunc(513);break;case _n:p.depthFunc(515);break;case Be:p.depthFunc(514);break;case ze:p.depthFunc(518);break;case vt:p.depthFunc(516);break;case Lt:p.depthFunc(517);break;default:p.depthFunc(515)}else p.depthFunc(515);jt=kn}},setLocked:function(kn){gt=kn},setClear:function(kn){On!==kn&&(p.clearDepth(kn),On=kn)},reset:function(){gt=!1,xn=null,jt=null,On=null}}}function m(){let gt=!1,xn=null,jt=null,On=null,kn=null,Sr=null,Ai=null,pi=null,oa=null;return{setTest:function(ti){gt||(ti?Xe(2960):Bt(2960))},setMask:function(ti){xn!==ti&&!gt&&(p.stencilMask(ti),xn=ti)},setFunc:function(ti,Ls,_s){(jt!==ti||On!==Ls||kn!==_s)&&(p.stencilFunc(ti,Ls,_s),jt=ti,On=Ls,kn=_s)},setOp:function(ti,Ls,_s){(Sr!==ti||Ai!==Ls||pi!==_s)&&(p.stencilOp(ti,Ls,_s),Sr=ti,Ai=Ls,pi=_s)},setLocked:function(ti){gt=ti},setClear:function(ti){oa!==ti&&(p.clearStencil(ti),oa=ti)},reset:function(){gt=!1,xn=null,jt=null,On=null,kn=null,Sr=null,Ai=null,pi=null,oa=null}}}const _=new l,A=new d,S=new m,R=new WeakMap,I=new WeakMap;let N={},D={},V=new WeakMap,O=[],k=null,U=!1,W=null,Z=null,ne=null,j=null,re=null,Ae=null,Y=null,pe=!1,we=null,Oe=null,tt=null,Re=null,ke=null;const st=p.getParameter(35661);let ht=!1,dt=0;const De=p.getParameter(7938);De.indexOf("WebGL")!==-1?(dt=parseFloat(/^WebGL (\d)/.exec(De)[1]),ht=dt>=1):De.indexOf("OpenGL ES")!==-1&&(dt=parseFloat(/^OpenGL ES (\d)/.exec(De)[1]),ht=dt>=2);let Je=null,ct={};const Gt=p.getParameter(3088),Ft=p.getParameter(2978),Kt=new Zr().fromArray(Gt),c=new Zr().fromArray(Ft);function Ln(gt,xn,jt){const On=new Uint8Array(4),kn=p.createTexture();p.bindTexture(gt,kn),p.texParameteri(gt,10241,9728),p.texParameteri(gt,10240,9728);for(let Sr=0;Sr<jt;Sr++)p.texImage2D(xn+Sr,0,6408,1,1,0,6408,5121,On);return kn}const ut={};ut[3553]=Ln(3553,3553,1),ut[34067]=Ln(34067,34069,6),_.setClear(0,0,0,1),A.setClear(1),S.setClear(0),Xe(2929),A.setFunc(_n),mn(!1),Ge(M),Xe(2884),Rr(J);function Xe(gt){N[gt]!==!0&&(p.enable(gt),N[gt]=!0)}function Bt(gt){N[gt]!==!1&&(p.disable(gt),N[gt]=!1)}function qt(gt,xn){return D[gt]!==xn?(p.bindFramebuffer(gt,xn),D[gt]=xn,o&&(gt===36009&&(D[36160]=xn),gt===36160&&(D[36009]=xn)),!0):!1}function $t(gt,xn){let jt=O,On=!1;if(gt)if(jt=V.get(xn),jt===void 0&&(jt=[],V.set(xn,jt)),gt.isWebGLMultipleRenderTargets){const kn=gt.texture;if(jt.length!==kn.length||jt[0]!==36064){for(let Sr=0,Ai=kn.length;Sr<Ai;Sr++)jt[Sr]=36064+Sr;jt.length=kn.length,On=!0}}else jt[0]!==36064&&(jt[0]=36064,On=!0);else jt[0]!==1029&&(jt[0]=1029,On=!0);On&&(r.isWebGL2?p.drawBuffers(jt):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(jt))}function Cn(gt){return k!==gt?(p.useProgram(gt),k=gt,!0):!1}const Dn={[de]:32774,[ye]:32778,[ve]:32779};if(o)Dn[Ee]=32775,Dn[fe]=32776;else{const gt=t.get("EXT_blend_minmax");gt!==null&&(Dn[Ee]=gt.MIN_EXT,Dn[fe]=gt.MAX_EXT)}const Hn={[_e]:0,[oe]:1,[Te]:768,[xe]:770,[Ve]:776,[Pt]:774,[ft]:772,[Le]:769,[Fe]:771,[At]:775,[St]:773};function Rr(gt,xn,jt,On,kn,Sr,Ai,pi){if(gt===J){U===!0&&(Bt(3042),U=!1);return}if(U===!1&&(Xe(3042),U=!0),gt!==me){if(gt!==W||pi!==pe){if((Z!==de||re!==de)&&(p.blendEquation(32774),Z=de,re=de),pi)switch(gt){case te:p.blendFuncSeparate(1,771,1,771);break;case ie:p.blendFunc(1,1);break;case ue:p.blendFuncSeparate(0,769,0,1);break;case be:p.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",gt);break}else switch(gt){case te:p.blendFuncSeparate(770,771,1,771);break;case ie:p.blendFunc(770,1);break;case ue:p.blendFuncSeparate(0,769,0,1);break;case be:p.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",gt);break}ne=null,j=null,Ae=null,Y=null,W=gt,pe=pi}return}kn=kn||xn,Sr=Sr||jt,Ai=Ai||On,(xn!==Z||kn!==re)&&(p.blendEquationSeparate(Dn[xn],Dn[kn]),Z=xn,re=kn),(jt!==ne||On!==j||Sr!==Ae||Ai!==Y)&&(p.blendFuncSeparate(Hn[jt],Hn[On],Hn[Sr],Hn[Ai]),ne=jt,j=On,Ae=Sr,Y=Ai),W=gt,pe=null}function on(gt,xn){gt.side===H?Bt(2884):Xe(2884);let jt=gt.side===Q;xn&&(jt=!jt),mn(jt),gt.blending===te&&gt.transparent===!1?Rr(J):Rr(gt.blending,gt.blendEquation,gt.blendSrc,gt.blendDst,gt.blendEquationAlpha,gt.blendSrcAlpha,gt.blendDstAlpha,gt.premultipliedAlpha),A.setFunc(gt.depthFunc),A.setTest(gt.depthTest),A.setMask(gt.depthWrite),_.setMask(gt.colorWrite);const On=gt.stencilWrite;S.setTest(On),On&&(S.setMask(gt.stencilWriteMask),S.setFunc(gt.stencilFunc,gt.stencilRef,gt.stencilFuncMask),S.setOp(gt.stencilFail,gt.stencilZFail,gt.stencilZPass)),wn(gt.polygonOffset,gt.polygonOffsetFactor,gt.polygonOffsetUnits),gt.alphaToCoverage===!0?Xe(32926):Bt(32926)}function mn(gt){we!==gt&&(gt?p.frontFace(2304):p.frontFace(2305),we=gt)}function Ge(gt){gt!==x?(Xe(2884),gt!==Oe&&(gt===M?p.cullFace(1029):gt===T?p.cullFace(1028):p.cullFace(1032))):Bt(2884),Oe=gt}function zn(gt){gt!==tt&&(ht&&p.lineWidth(gt),tt=gt)}function wn(gt,xn,jt){gt?(Xe(32823),(Re!==xn||ke!==jt)&&(p.polygonOffset(xn,jt),Re=xn,ke=jt)):Bt(32823)}function Tt(gt){gt?Xe(3089):Bt(3089)}function ae(gt){gt===void 0&&(gt=33984+st-1),Je!==gt&&(p.activeTexture(gt),Je=gt)}function z(gt,xn){Je===null&&ae();let jt=ct[Je];jt===void 0&&(jt={type:void 0,texture:void 0},ct[Je]=jt),(jt.type!==gt||jt.texture!==xn)&&(p.bindTexture(gt,xn||ut[gt]),jt.type=gt,jt.texture=xn)}function K(){const gt=ct[Je];gt!==void 0&&gt.type!==void 0&&(p.bindTexture(gt.type,null),gt.type=void 0,gt.texture=void 0)}function le(){try{p.compressedTexImage2D.apply(p,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function Ne(){try{p.texSubImage2D.apply(p,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function Ye(){try{p.texSubImage3D.apply(p,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function Mt(){try{p.compressedTexSubImage2D.apply(p,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function sn(){try{p.texStorage2D.apply(p,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function Ie(){try{p.texStorage3D.apply(p,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function Jt(){try{p.texImage2D.apply(p,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function ln(){try{p.texImage3D.apply(p,arguments)}catch(gt){console.error("THREE.WebGLState:",gt)}}function Tn(gt){Kt.equals(gt)===!1&&(p.scissor(gt.x,gt.y,gt.z,gt.w),Kt.copy(gt))}function En(gt){c.equals(gt)===!1&&(p.viewport(gt.x,gt.y,gt.z,gt.w),c.copy(gt))}function Un(gt,xn){let jt=I.get(xn);jt===void 0&&(jt=new WeakMap,I.set(xn,jt));let On=jt.get(gt);On===void 0&&(On=p.getUniformBlockIndex(xn,gt.name),jt.set(gt,On))}function vr(gt,xn){const On=I.get(xn).get(gt);R.get(gt)!==On&&(p.uniformBlockBinding(xn,On,gt.__bindingPointIndex),R.set(gt,On))}function Gr(){p.disable(3042),p.disable(2884),p.disable(2929),p.disable(32823),p.disable(3089),p.disable(2960),p.disable(32926),p.blendEquation(32774),p.blendFunc(1,0),p.blendFuncSeparate(1,0,1,0),p.colorMask(!0,!0,!0,!0),p.clearColor(0,0,0,0),p.depthMask(!0),p.depthFunc(513),p.clearDepth(1),p.stencilMask(4294967295),p.stencilFunc(519,0,4294967295),p.stencilOp(7680,7680,7680),p.clearStencil(0),p.cullFace(1029),p.frontFace(2305),p.polygonOffset(0,0),p.activeTexture(33984),p.bindFramebuffer(36160,null),o===!0&&(p.bindFramebuffer(36009,null),p.bindFramebuffer(36008,null)),p.useProgram(null),p.lineWidth(1),p.scissor(0,0,p.canvas.width,p.canvas.height),p.viewport(0,0,p.canvas.width,p.canvas.height),N={},Je=null,ct={},D={},V=new WeakMap,O=[],k=null,U=!1,W=null,Z=null,ne=null,j=null,re=null,Ae=null,Y=null,pe=!1,we=null,Oe=null,tt=null,Re=null,ke=null,Kt.set(0,0,p.canvas.width,p.canvas.height),c.set(0,0,p.canvas.width,p.canvas.height),_.reset(),A.reset(),S.reset()}return{buffers:{color:_,depth:A,stencil:S},enable:Xe,disable:Bt,bindFramebuffer:qt,drawBuffers:$t,useProgram:Cn,setBlending:Rr,setMaterial:on,setFlipSided:mn,setCullFace:Ge,setLineWidth:zn,setPolygonOffset:wn,setScissorTest:Tt,activeTexture:ae,bindTexture:z,unbindTexture:K,compressedTexImage2D:le,texImage2D:Jt,texImage3D:ln,updateUBOMapping:Un,uniformBlockBinding:vr,texStorage2D:sn,texStorage3D:Ie,texSubImage2D:Ne,texSubImage3D:Ye,compressedTexSubImage2D:Mt,scissor:Tn,viewport:En,reset:Gr}}function r8(p,t,r,o,l,d,m){const _=l.isWebGL2,A=l.maxTextures,S=l.maxCubemapSize,R=l.maxTextureSize,I=l.maxSamples,N=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,D=/OculusBrowser/g.test(navigator.userAgent),V=new WeakMap;let O;const k=new WeakMap;let U=!1;try{U=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function W(z,K){return U?new OffscreenCanvas(z,K):Zd("canvas")}function Z(z,K,le,Ne){let Ye=1;if((z.width>Ne||z.height>Ne)&&(Ye=Ne/Math.max(z.width,z.height)),Ye<1||K===!0)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap){const Mt=K?up:Math.floor,sn=Mt(Ye*z.width),Ie=Mt(Ye*z.height);O===void 0&&(O=W(sn,Ie));const Jt=le?W(sn,Ie):O;return Jt.width=sn,Jt.height=Ie,Jt.getContext("2d").drawImage(z,0,0,sn,Ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+sn+"x"+Ie+")."),Jt}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}function ne(z){return Bv(z.width)&&Bv(z.height)}function j(z){return _?!1:z.wrapS!==Dt||z.wrapT!==Dt||z.minFilter!==Yt&&z.minFilter!==ir}function re(z,K){return z.generateMipmaps&&K&&z.minFilter!==Yt&&z.minFilter!==ir}function Ae(z){p.generateMipmap(z)}function Y(z,K,le,Ne,Ye=!1){if(_===!1)return K;if(z!==null){if(p[z]!==void 0)return p[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let Mt=K;return K===6403&&(le===5126&&(Mt=33326),le===5131&&(Mt=33325),le===5121&&(Mt=33321)),K===33319&&(le===5126&&(Mt=33328),le===5131&&(Mt=33327),le===5121&&(Mt=33323)),K===6408&&(le===5126&&(Mt=34836),le===5131&&(Mt=34842),le===5121&&(Mt=Ne===Or&&Ye===!1?35907:32856),le===32819&&(Mt=32854),le===32820&&(Mt=32855)),(Mt===33325||Mt===33326||Mt===33327||Mt===33328||Mt===34842||Mt===34836)&&t.get("EXT_color_buffer_float"),Mt}function pe(z,K,le){return re(z,le)===!0||z.isFramebufferTexture&&z.minFilter!==Yt&&z.minFilter!==ir?Math.log2(Math.max(K.width,K.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?K.mipmaps.length:1}function we(z){return z===Yt||z===un||z===Ar?9728:9729}function Oe(z){const K=z.target;K.removeEventListener("dispose",Oe),Re(K),K.isVideoTexture&&V.delete(K)}function tt(z){const K=z.target;K.removeEventListener("dispose",tt),st(K)}function Re(z){const K=o.get(z);if(K.__webglInit===void 0)return;const le=z.source,Ne=k.get(le);if(Ne){const Ye=Ne[K.__cacheKey];Ye.usedTimes--,Ye.usedTimes===0&&ke(z),Object.keys(Ne).length===0&&k.delete(le)}o.remove(z)}function ke(z){const K=o.get(z);p.deleteTexture(K.__webglTexture);const le=z.source,Ne=k.get(le);delete Ne[K.__cacheKey],m.memory.textures--}function st(z){const K=z.texture,le=o.get(z),Ne=o.get(K);if(Ne.__webglTexture!==void 0&&(p.deleteTexture(Ne.__webglTexture),m.memory.textures--),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let Ye=0;Ye<6;Ye++)p.deleteFramebuffer(le.__webglFramebuffer[Ye]),le.__webglDepthbuffer&&p.deleteRenderbuffer(le.__webglDepthbuffer[Ye]);else{if(p.deleteFramebuffer(le.__webglFramebuffer),le.__webglDepthbuffer&&p.deleteRenderbuffer(le.__webglDepthbuffer),le.__webglMultisampledFramebuffer&&p.deleteFramebuffer(le.__webglMultisampledFramebuffer),le.__webglColorRenderbuffer)for(let Ye=0;Ye<le.__webglColorRenderbuffer.length;Ye++)le.__webglColorRenderbuffer[Ye]&&p.deleteRenderbuffer(le.__webglColorRenderbuffer[Ye]);le.__webglDepthRenderbuffer&&p.deleteRenderbuffer(le.__webglDepthRenderbuffer)}if(z.isWebGLMultipleRenderTargets)for(let Ye=0,Mt=K.length;Ye<Mt;Ye++){const sn=o.get(K[Ye]);sn.__webglTexture&&(p.deleteTexture(sn.__webglTexture),m.memory.textures--),o.remove(K[Ye])}o.remove(K),o.remove(z)}let ht=0;function dt(){ht=0}function De(){const z=ht;return z>=A&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+A),ht+=1,z}function Je(z){const K=[];return K.push(z.wrapS),K.push(z.wrapT),K.push(z.magFilter),K.push(z.minFilter),K.push(z.anisotropy),K.push(z.internalFormat),K.push(z.format),K.push(z.type),K.push(z.generateMipmaps),K.push(z.premultiplyAlpha),K.push(z.flipY),K.push(z.unpackAlignment),K.push(z.encoding),K.join()}function ct(z,K){const le=o.get(z);if(z.isVideoTexture&&Tt(z),z.isRenderTargetTexture===!1&&z.version>0&&le.__version!==z.version){const Ne=z.image;if(Ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Bt(le,z,K);return}}r.activeTexture(33984+K),r.bindTexture(3553,le.__webglTexture)}function Gt(z,K){const le=o.get(z);if(z.version>0&&le.__version!==z.version){Bt(le,z,K);return}r.activeTexture(33984+K),r.bindTexture(35866,le.__webglTexture)}function Ft(z,K){const le=o.get(z);if(z.version>0&&le.__version!==z.version){Bt(le,z,K);return}r.activeTexture(33984+K),r.bindTexture(32879,le.__webglTexture)}function Kt(z,K){const le=o.get(z);if(z.version>0&&le.__version!==z.version){qt(le,z,K);return}r.activeTexture(33984+K),r.bindTexture(34067,le.__webglTexture)}const c={[Qe]:10497,[Dt]:33071,[Qt]:33648},Ln={[Yt]:9728,[un]:9984,[Ar]:9986,[ir]:9729,[si]:9985,[Xn]:9987};function ut(z,K,le){if(le?(p.texParameteri(z,10242,c[K.wrapS]),p.texParameteri(z,10243,c[K.wrapT]),(z===32879||z===35866)&&p.texParameteri(z,32882,c[K.wrapR]),p.texParameteri(z,10240,Ln[K.magFilter]),p.texParameteri(z,10241,Ln[K.minFilter])):(p.texParameteri(z,10242,33071),p.texParameteri(z,10243,33071),(z===32879||z===35866)&&p.texParameteri(z,32882,33071),(K.wrapS!==Dt||K.wrapT!==Dt)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),p.texParameteri(z,10240,we(K.magFilter)),p.texParameteri(z,10241,we(K.minFilter)),K.minFilter!==Yt&&K.minFilter!==ir&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),t.has("EXT_texture_filter_anisotropic")===!0){const Ne=t.get("EXT_texture_filter_anisotropic");if(K.type===Yr&&t.has("OES_texture_float_linear")===!1||_===!1&&K.type===Bi&&t.has("OES_texture_half_float_linear")===!1)return;(K.anisotropy>1||o.get(K).__currentAnisotropy)&&(p.texParameterf(z,Ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(K.anisotropy,l.getMaxAnisotropy())),o.get(K).__currentAnisotropy=K.anisotropy)}}function Xe(z,K){let le=!1;z.__webglInit===void 0&&(z.__webglInit=!0,K.addEventListener("dispose",Oe));const Ne=K.source;let Ye=k.get(Ne);Ye===void 0&&(Ye={},k.set(Ne,Ye));const Mt=Je(K);if(Mt!==z.__cacheKey){Ye[Mt]===void 0&&(Ye[Mt]={texture:p.createTexture(),usedTimes:0},m.memory.textures++,le=!0),Ye[Mt].usedTimes++;const sn=Ye[z.__cacheKey];sn!==void 0&&(Ye[z.__cacheKey].usedTimes--,sn.usedTimes===0&&ke(K)),z.__cacheKey=Mt,z.__webglTexture=Ye[Mt].texture}return le}function Bt(z,K,le){let Ne=3553;K.isDataArrayTexture&&(Ne=35866),K.isData3DTexture&&(Ne=32879);const Ye=Xe(z,K),Mt=K.source;if(r.activeTexture(33984+le),r.bindTexture(Ne,z.__webglTexture),Mt.version!==Mt.__currentVersion||Ye===!0){p.pixelStorei(37440,K.flipY),p.pixelStorei(37441,K.premultiplyAlpha),p.pixelStorei(3317,K.unpackAlignment),p.pixelStorei(37443,0);const sn=j(K)&&ne(K.image)===!1;let Ie=Z(K.image,sn,!1,R);Ie=ae(K,Ie);const Jt=ne(Ie)||_,ln=d.convert(K.format,K.encoding);let Tn=d.convert(K.type),En=Y(K.internalFormat,ln,Tn,K.encoding,K.isVideoTexture);ut(Ne,K,Jt);let Un;const vr=K.mipmaps,Gr=_&&K.isVideoTexture!==!0,gt=Mt.__currentVersion===void 0||Ye===!0,xn=pe(K,Ie,Jt);if(K.isDepthTexture)En=6402,_?K.type===Yr?En=36012:K.type===Pi?En=33190:K.type===bu?En=35056:En=33189:K.type===Yr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),K.format===ac&&En===6402&&K.type!==tr&&K.type!==Pi&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),K.type=Pi,Tn=d.convert(K.type)),K.format===Su&&En===6402&&(En=34041,K.type!==bu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),K.type=bu,Tn=d.convert(K.type))),gt&&(Gr?r.texStorage2D(3553,1,En,Ie.width,Ie.height):r.texImage2D(3553,0,En,Ie.width,Ie.height,0,ln,Tn,null));else if(K.isDataTexture)if(vr.length>0&&Jt){Gr&&gt&&r.texStorage2D(3553,xn,En,vr[0].width,vr[0].height);for(let jt=0,On=vr.length;jt<On;jt++)Un=vr[jt],Gr?r.texSubImage2D(3553,jt,0,0,Un.width,Un.height,ln,Tn,Un.data):r.texImage2D(3553,jt,En,Un.width,Un.height,0,ln,Tn,Un.data);K.generateMipmaps=!1}else Gr?(gt&&r.texStorage2D(3553,xn,En,Ie.width,Ie.height),r.texSubImage2D(3553,0,0,0,Ie.width,Ie.height,ln,Tn,Ie.data)):r.texImage2D(3553,0,En,Ie.width,Ie.height,0,ln,Tn,Ie.data);else if(K.isCompressedTexture){Gr&&gt&&r.texStorage2D(3553,xn,En,vr[0].width,vr[0].height);for(let jt=0,On=vr.length;jt<On;jt++)Un=vr[jt],K.format!==zi?ln!==null?Gr?r.compressedTexSubImage2D(3553,jt,0,0,Un.width,Un.height,ln,Un.data):r.compressedTexImage2D(3553,jt,En,Un.width,Un.height,0,Un.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Gr?r.texSubImage2D(3553,jt,0,0,Un.width,Un.height,ln,Tn,Un.data):r.texImage2D(3553,jt,En,Un.width,Un.height,0,ln,Tn,Un.data)}else if(K.isDataArrayTexture)Gr?(gt&&r.texStorage3D(35866,xn,En,Ie.width,Ie.height,Ie.depth),r.texSubImage3D(35866,0,0,0,0,Ie.width,Ie.height,Ie.depth,ln,Tn,Ie.data)):r.texImage3D(35866,0,En,Ie.width,Ie.height,Ie.depth,0,ln,Tn,Ie.data);else if(K.isData3DTexture)Gr?(gt&&r.texStorage3D(32879,xn,En,Ie.width,Ie.height,Ie.depth),r.texSubImage3D(32879,0,0,0,0,Ie.width,Ie.height,Ie.depth,ln,Tn,Ie.data)):r.texImage3D(32879,0,En,Ie.width,Ie.height,Ie.depth,0,ln,Tn,Ie.data);else if(K.isFramebufferTexture){if(gt)if(Gr)r.texStorage2D(3553,xn,En,Ie.width,Ie.height);else{let jt=Ie.width,On=Ie.height;for(let kn=0;kn<xn;kn++)r.texImage2D(3553,kn,En,jt,On,0,ln,Tn,null),jt>>=1,On>>=1}}else if(vr.length>0&&Jt){Gr&&gt&&r.texStorage2D(3553,xn,En,vr[0].width,vr[0].height);for(let jt=0,On=vr.length;jt<On;jt++)Un=vr[jt],Gr?r.texSubImage2D(3553,jt,0,0,ln,Tn,Un):r.texImage2D(3553,jt,En,ln,Tn,Un);K.generateMipmaps=!1}else Gr?(gt&&r.texStorage2D(3553,xn,En,Ie.width,Ie.height),r.texSubImage2D(3553,0,0,0,ln,Tn,Ie)):r.texImage2D(3553,0,En,ln,Tn,Ie);re(K,Jt)&&Ae(Ne),Mt.__currentVersion=Mt.version,K.onUpdate&&K.onUpdate(K)}z.__version=K.version}function qt(z,K,le){if(K.image.length!==6)return;const Ne=Xe(z,K),Ye=K.source;if(r.activeTexture(33984+le),r.bindTexture(34067,z.__webglTexture),Ye.version!==Ye.__currentVersion||Ne===!0){p.pixelStorei(37440,K.flipY),p.pixelStorei(37441,K.premultiplyAlpha),p.pixelStorei(3317,K.unpackAlignment),p.pixelStorei(37443,0);const Mt=K.isCompressedTexture||K.image[0].isCompressedTexture,sn=K.image[0]&&K.image[0].isDataTexture,Ie=[];for(let jt=0;jt<6;jt++)!Mt&&!sn?Ie[jt]=Z(K.image[jt],!1,!0,S):Ie[jt]=sn?K.image[jt].image:K.image[jt],Ie[jt]=ae(K,Ie[jt]);const Jt=Ie[0],ln=ne(Jt)||_,Tn=d.convert(K.format,K.encoding),En=d.convert(K.type),Un=Y(K.internalFormat,Tn,En,K.encoding),vr=_&&K.isVideoTexture!==!0,Gr=Ye.__currentVersion===void 0||Ne===!0;let gt=pe(K,Jt,ln);ut(34067,K,ln);let xn;if(Mt){vr&&Gr&&r.texStorage2D(34067,gt,Un,Jt.width,Jt.height);for(let jt=0;jt<6;jt++){xn=Ie[jt].mipmaps;for(let On=0;On<xn.length;On++){const kn=xn[On];K.format!==zi?Tn!==null?vr?r.compressedTexSubImage2D(34069+jt,On,0,0,kn.width,kn.height,Tn,kn.data):r.compressedTexImage2D(34069+jt,On,Un,kn.width,kn.height,0,kn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):vr?r.texSubImage2D(34069+jt,On,0,0,kn.width,kn.height,Tn,En,kn.data):r.texImage2D(34069+jt,On,Un,kn.width,kn.height,0,Tn,En,kn.data)}}}else{xn=K.mipmaps,vr&&Gr&&(xn.length>0&&gt++,r.texStorage2D(34067,gt,Un,Ie[0].width,Ie[0].height));for(let jt=0;jt<6;jt++)if(sn){vr?r.texSubImage2D(34069+jt,0,0,0,Ie[jt].width,Ie[jt].height,Tn,En,Ie[jt].data):r.texImage2D(34069+jt,0,Un,Ie[jt].width,Ie[jt].height,0,Tn,En,Ie[jt].data);for(let On=0;On<xn.length;On++){const Sr=xn[On].image[jt].image;vr?r.texSubImage2D(34069+jt,On+1,0,0,Sr.width,Sr.height,Tn,En,Sr.data):r.texImage2D(34069+jt,On+1,Un,Sr.width,Sr.height,0,Tn,En,Sr.data)}}else{vr?r.texSubImage2D(34069+jt,0,0,0,Tn,En,Ie[jt]):r.texImage2D(34069+jt,0,Un,Tn,En,Ie[jt]);for(let On=0;On<xn.length;On++){const kn=xn[On];vr?r.texSubImage2D(34069+jt,On+1,0,0,Tn,En,kn.image[jt]):r.texImage2D(34069+jt,On+1,Un,Tn,En,kn.image[jt])}}}re(K,ln)&&Ae(34067),Ye.__currentVersion=Ye.version,K.onUpdate&&K.onUpdate(K)}z.__version=K.version}function $t(z,K,le,Ne,Ye){const Mt=d.convert(le.format,le.encoding),sn=d.convert(le.type),Ie=Y(le.internalFormat,Mt,sn,le.encoding);o.get(K).__hasExternalTextures||(Ye===32879||Ye===35866?r.texImage3D(Ye,0,Ie,K.width,K.height,K.depth,0,Mt,sn,null):r.texImage2D(Ye,0,Ie,K.width,K.height,0,Mt,sn,null)),r.bindFramebuffer(36160,z),wn(K)?N.framebufferTexture2DMultisampleEXT(36160,Ne,Ye,o.get(le).__webglTexture,0,zn(K)):p.framebufferTexture2D(36160,Ne,Ye,o.get(le).__webglTexture,0),r.bindFramebuffer(36160,null)}function Cn(z,K,le){if(p.bindRenderbuffer(36161,z),K.depthBuffer&&!K.stencilBuffer){let Ne=33189;if(le||wn(K)){const Ye=K.depthTexture;Ye&&Ye.isDepthTexture&&(Ye.type===Yr?Ne=36012:Ye.type===Pi&&(Ne=33190));const Mt=zn(K);wn(K)?N.renderbufferStorageMultisampleEXT(36161,Mt,Ne,K.width,K.height):p.renderbufferStorageMultisample(36161,Mt,Ne,K.width,K.height)}else p.renderbufferStorage(36161,Ne,K.width,K.height);p.framebufferRenderbuffer(36160,36096,36161,z)}else if(K.depthBuffer&&K.stencilBuffer){const Ne=zn(K);le&&wn(K)===!1?p.renderbufferStorageMultisample(36161,Ne,35056,K.width,K.height):wn(K)?N.renderbufferStorageMultisampleEXT(36161,Ne,35056,K.width,K.height):p.renderbufferStorage(36161,34041,K.width,K.height),p.framebufferRenderbuffer(36160,33306,36161,z)}else{const Ne=K.isWebGLMultipleRenderTargets===!0?K.texture:[K.texture];for(let Ye=0;Ye<Ne.length;Ye++){const Mt=Ne[Ye],sn=d.convert(Mt.format,Mt.encoding),Ie=d.convert(Mt.type),Jt=Y(Mt.internalFormat,sn,Ie,Mt.encoding),ln=zn(K);le&&wn(K)===!1?p.renderbufferStorageMultisample(36161,ln,Jt,K.width,K.height):wn(K)?N.renderbufferStorageMultisampleEXT(36161,ln,Jt,K.width,K.height):p.renderbufferStorage(36161,Jt,K.width,K.height)}}p.bindRenderbuffer(36161,null)}function Dn(z,K){if(K&&K.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(36160,z),!(K.depthTexture&&K.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!o.get(K.depthTexture).__webglTexture||K.depthTexture.image.width!==K.width||K.depthTexture.image.height!==K.height)&&(K.depthTexture.image.width=K.width,K.depthTexture.image.height=K.height,K.depthTexture.needsUpdate=!0),ct(K.depthTexture,0);const Ne=o.get(K.depthTexture).__webglTexture,Ye=zn(K);if(K.depthTexture.format===ac)wn(K)?N.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ne,0,Ye):p.framebufferTexture2D(36160,36096,3553,Ne,0);else if(K.depthTexture.format===Su)wn(K)?N.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ne,0,Ye):p.framebufferTexture2D(36160,33306,3553,Ne,0);else throw new Error("Unknown depthTexture format")}function Hn(z){const K=o.get(z),le=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!K.__autoAllocateDepthBuffer){if(le)throw new Error("target.depthTexture not supported in Cube render targets");Dn(K.__webglFramebuffer,z)}else if(le){K.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)r.bindFramebuffer(36160,K.__webglFramebuffer[Ne]),K.__webglDepthbuffer[Ne]=p.createRenderbuffer(),Cn(K.__webglDepthbuffer[Ne],z,!1)}else r.bindFramebuffer(36160,K.__webglFramebuffer),K.__webglDepthbuffer=p.createRenderbuffer(),Cn(K.__webglDepthbuffer,z,!1);r.bindFramebuffer(36160,null)}function Rr(z,K,le){const Ne=o.get(z);K!==void 0&&$t(Ne.__webglFramebuffer,z,z.texture,36064,3553),le!==void 0&&Hn(z)}function on(z){const K=z.texture,le=o.get(z),Ne=o.get(K);z.addEventListener("dispose",tt),z.isWebGLMultipleRenderTargets!==!0&&(Ne.__webglTexture===void 0&&(Ne.__webglTexture=p.createTexture()),Ne.__version=K.version,m.memory.textures++);const Ye=z.isWebGLCubeRenderTarget===!0,Mt=z.isWebGLMultipleRenderTargets===!0,sn=ne(z)||_;if(Ye){le.__webglFramebuffer=[];for(let Ie=0;Ie<6;Ie++)le.__webglFramebuffer[Ie]=p.createFramebuffer()}else{if(le.__webglFramebuffer=p.createFramebuffer(),Mt)if(l.drawBuffers){const Ie=z.texture;for(let Jt=0,ln=Ie.length;Jt<ln;Jt++){const Tn=o.get(Ie[Jt]);Tn.__webglTexture===void 0&&(Tn.__webglTexture=p.createTexture(),m.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(_&&z.samples>0&&wn(z)===!1){const Ie=Mt?K:[K];le.__webglMultisampledFramebuffer=p.createFramebuffer(),le.__webglColorRenderbuffer=[],r.bindFramebuffer(36160,le.__webglMultisampledFramebuffer);for(let Jt=0;Jt<Ie.length;Jt++){const ln=Ie[Jt];le.__webglColorRenderbuffer[Jt]=p.createRenderbuffer(),p.bindRenderbuffer(36161,le.__webglColorRenderbuffer[Jt]);const Tn=d.convert(ln.format,ln.encoding),En=d.convert(ln.type),Un=Y(ln.internalFormat,Tn,En,ln.encoding),vr=zn(z);p.renderbufferStorageMultisample(36161,vr,Un,z.width,z.height),p.framebufferRenderbuffer(36160,36064+Jt,36161,le.__webglColorRenderbuffer[Jt])}p.bindRenderbuffer(36161,null),z.depthBuffer&&(le.__webglDepthRenderbuffer=p.createRenderbuffer(),Cn(le.__webglDepthRenderbuffer,z,!0)),r.bindFramebuffer(36160,null)}}if(Ye){r.bindTexture(34067,Ne.__webglTexture),ut(34067,K,sn);for(let Ie=0;Ie<6;Ie++)$t(le.__webglFramebuffer[Ie],z,K,36064,34069+Ie);re(K,sn)&&Ae(34067),r.unbindTexture()}else if(Mt){const Ie=z.texture;for(let Jt=0,ln=Ie.length;Jt<ln;Jt++){const Tn=Ie[Jt],En=o.get(Tn);r.bindTexture(3553,En.__webglTexture),ut(3553,Tn,sn),$t(le.__webglFramebuffer,z,Tn,36064+Jt,3553),re(Tn,sn)&&Ae(3553)}r.unbindTexture()}else{let Ie=3553;(z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(_?Ie=z.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(Ie,Ne.__webglTexture),ut(Ie,K,sn),$t(le.__webglFramebuffer,z,K,36064,Ie),re(K,sn)&&Ae(Ie),r.unbindTexture()}z.depthBuffer&&Hn(z)}function mn(z){const K=ne(z)||_,le=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let Ne=0,Ye=le.length;Ne<Ye;Ne++){const Mt=le[Ne];if(re(Mt,K)){const sn=z.isWebGLCubeRenderTarget?34067:3553,Ie=o.get(Mt).__webglTexture;r.bindTexture(sn,Ie),Ae(sn),r.unbindTexture()}}}function Ge(z){if(_&&z.samples>0&&wn(z)===!1){const K=z.isWebGLMultipleRenderTargets?z.texture:[z.texture],le=z.width,Ne=z.height;let Ye=16384;const Mt=[],sn=z.stencilBuffer?33306:36096,Ie=o.get(z),Jt=z.isWebGLMultipleRenderTargets===!0;if(Jt)for(let ln=0;ln<K.length;ln++)r.bindFramebuffer(36160,Ie.__webglMultisampledFramebuffer),p.framebufferRenderbuffer(36160,36064+ln,36161,null),r.bindFramebuffer(36160,Ie.__webglFramebuffer),p.framebufferTexture2D(36009,36064+ln,3553,null,0);r.bindFramebuffer(36008,Ie.__webglMultisampledFramebuffer),r.bindFramebuffer(36009,Ie.__webglFramebuffer);for(let ln=0;ln<K.length;ln++){Mt.push(36064+ln),z.depthBuffer&&Mt.push(sn);const Tn=Ie.__ignoreDepthValues!==void 0?Ie.__ignoreDepthValues:!1;if(Tn===!1&&(z.depthBuffer&&(Ye|=256),z.stencilBuffer&&(Ye|=1024)),Jt&&p.framebufferRenderbuffer(36008,36064,36161,Ie.__webglColorRenderbuffer[ln]),Tn===!0&&(p.invalidateFramebuffer(36008,[sn]),p.invalidateFramebuffer(36009,[sn])),Jt){const En=o.get(K[ln]).__webglTexture;p.framebufferTexture2D(36009,36064,3553,En,0)}p.blitFramebuffer(0,0,le,Ne,0,0,le,Ne,Ye,9728),D&&p.invalidateFramebuffer(36008,Mt)}if(r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),Jt)for(let ln=0;ln<K.length;ln++){r.bindFramebuffer(36160,Ie.__webglMultisampledFramebuffer),p.framebufferRenderbuffer(36160,36064+ln,36161,Ie.__webglColorRenderbuffer[ln]);const Tn=o.get(K[ln]).__webglTexture;r.bindFramebuffer(36160,Ie.__webglFramebuffer),p.framebufferTexture2D(36009,36064+ln,3553,Tn,0)}r.bindFramebuffer(36009,Ie.__webglMultisampledFramebuffer)}}function zn(z){return Math.min(I,z.samples)}function wn(z){const K=o.get(z);return _&&z.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&K.__useRenderToTexture!==!1}function Tt(z){const K=m.render.frame;V.get(z)!==K&&(V.set(z,K),z.update())}function ae(z,K){const le=z.encoding,Ne=z.format,Ye=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||z.format===Nv||le!==_o&&(le===Or?_===!1?t.has("EXT_sRGB")===!0&&Ne===zi?(z.format=Nv,z.minFilter=ir,z.generateMipmaps=!1):K=X1.sRGBToLinear(K):(Ne!==zi||Ye!==Ir)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",le)),K}this.allocateTextureUnit=De,this.resetTextureUnits=dt,this.setTexture2D=ct,this.setTexture2DArray=Gt,this.setTexture3D=Ft,this.setTextureCube=Kt,this.rebindTextures=Rr,this.setupRenderTarget=on,this.updateRenderTargetMipmap=mn,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=Hn,this.setupFrameBufferTexture=$t,this.useMultisampledRTT=wn}function i8(p,t,r){const o=r.isWebGL2;function l(d,m=null){let _;if(d===Ir)return 5121;if(d===AB)return 32819;if(d===yB)return 32820;if(d===zt)return 5120;if(d===Nn)return 5122;if(d===tr)return 5123;if(d===Tr)return 5124;if(d===Pi)return 5125;if(d===Yr)return 5126;if(d===Bi)return o?5131:(_=t.get("OES_texture_half_float"),_!==null?_.HALF_FLOAT_OES:null);if(d===bB)return 6406;if(d===zi)return 6408;if(d===EB)return 6409;if(d===wB)return 6410;if(d===ac)return 6402;if(d===Su)return 34041;if(d===ul)return 6403;if(d===SB)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(d===Nv)return _=t.get("EXT_sRGB"),_!==null?_.SRGB_ALPHA_EXT:null;if(d===CB)return 36244;if(d===jd)return 33319;if(d===IB)return 33320;if(d===MB)return 36249;if(d===sp||d===Av||d===yv||d===op)if(m===Or)if(_=t.get("WEBGL_compressed_texture_s3tc_srgb"),_!==null){if(d===sp)return _.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(d===Av)return _.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(d===yv)return _.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(d===op)return _.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(_=t.get("WEBGL_compressed_texture_s3tc"),_!==null){if(d===sp)return _.COMPRESSED_RGB_S3TC_DXT1_EXT;if(d===Av)return _.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(d===yv)return _.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(d===op)return _.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(d===bv||d===S1||d===Sv||d===E1)if(_=t.get("WEBGL_compressed_texture_pvrtc"),_!==null){if(d===bv)return _.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(d===S1)return _.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(d===Sv)return _.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(d===E1)return _.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(d===w1)return _=t.get("WEBGL_compressed_texture_etc1"),_!==null?_.COMPRESSED_RGB_ETC1_WEBGL:null;if(d===Ev||d===wv)if(_=t.get("WEBGL_compressed_texture_etc"),_!==null){if(d===Ev)return m===Or?_.COMPRESSED_SRGB8_ETC2:_.COMPRESSED_RGB8_ETC2;if(d===wv)return m===Or?_.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:_.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(d===Cv||d===C1||d===I1||d===M1||d===x1||d===R1||d===T1||d===N1||d===P1||d===B1||d===D1||d===k1||d===L1||d===O1)if(_=t.get("WEBGL_compressed_texture_astc"),_!==null){if(d===Cv)return m===Or?_.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:_.COMPRESSED_RGBA_ASTC_4x4_KHR;if(d===C1)return m===Or?_.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:_.COMPRESSED_RGBA_ASTC_5x4_KHR;if(d===I1)return m===Or?_.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:_.COMPRESSED_RGBA_ASTC_5x5_KHR;if(d===M1)return m===Or?_.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:_.COMPRESSED_RGBA_ASTC_6x5_KHR;if(d===x1)return m===Or?_.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:_.COMPRESSED_RGBA_ASTC_6x6_KHR;if(d===R1)return m===Or?_.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:_.COMPRESSED_RGBA_ASTC_8x5_KHR;if(d===T1)return m===Or?_.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:_.COMPRESSED_RGBA_ASTC_8x6_KHR;if(d===N1)return m===Or?_.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:_.COMPRESSED_RGBA_ASTC_8x8_KHR;if(d===P1)return m===Or?_.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:_.COMPRESSED_RGBA_ASTC_10x5_KHR;if(d===B1)return m===Or?_.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:_.COMPRESSED_RGBA_ASTC_10x6_KHR;if(d===D1)return m===Or?_.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:_.COMPRESSED_RGBA_ASTC_10x8_KHR;if(d===k1)return m===Or?_.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:_.COMPRESSED_RGBA_ASTC_10x10_KHR;if(d===L1)return m===Or?_.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:_.COMPRESSED_RGBA_ASTC_12x10_KHR;if(d===O1)return m===Or?_.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:_.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(d===Iv)if(_=t.get("EXT_texture_compression_bptc"),_!==null){if(d===Iv)return m===Or?_.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:_.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return d===bu?o?34042:(_=t.get("WEBGL_depth_texture"),_!==null?_.UNSIGNED_INT_24_8_WEBGL:null):p[d]!==void 0?p[d]:null}return{convert:l}}class s8 extends Wi{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class Ps extends _i{constructor(){super(),this.isGroup=!0,this.type="Group"}}const o8={type:"move"};class u_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ps,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ps,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ze,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ze),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ps,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ze,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ze),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,r,o){let l=null,d=null,m=null;const _=this._targetRay,A=this._grip,S=this._hand;if(t&&r.session.visibilityState!=="visible-blurred"){if(S&&t.hand){m=!0;for(const O of t.hand.values()){const k=r.getJointPose(O,o);if(S.joints[O.jointName]===void 0){const W=new Ps;W.matrixAutoUpdate=!1,W.visible=!1,S.joints[O.jointName]=W,S.add(W)}const U=S.joints[O.jointName];k!==null&&(U.matrix.fromArray(k.transform.matrix),U.matrix.decompose(U.position,U.rotation,U.scale),U.jointRadius=k.radius),U.visible=k!==null}const R=S.joints["index-finger-tip"],I=S.joints["thumb-tip"],N=R.position.distanceTo(I.position),D=.02,V=.005;S.inputState.pinching&&N>D+V?(S.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!S.inputState.pinching&&N<=D-V&&(S.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else A!==null&&t.gripSpace&&(d=r.getPose(t.gripSpace,o),d!==null&&(A.matrix.fromArray(d.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),d.linearVelocity?(A.hasLinearVelocity=!0,A.linearVelocity.copy(d.linearVelocity)):A.hasLinearVelocity=!1,d.angularVelocity?(A.hasAngularVelocity=!0,A.angularVelocity.copy(d.angularVelocity)):A.hasAngularVelocity=!1));_!==null&&(l=r.getPose(t.targetRaySpace,o),l===null&&d!==null&&(l=d),l!==null&&(_.matrix.fromArray(l.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),l.linearVelocity?(_.hasLinearVelocity=!0,_.linearVelocity.copy(l.linearVelocity)):_.hasLinearVelocity=!1,l.angularVelocity?(_.hasAngularVelocity=!0,_.angularVelocity.copy(l.angularVelocity)):_.hasAngularVelocity=!1,this.dispatchEvent(o8)))}return _!==null&&(_.visible=l!==null),A!==null&&(A.visible=d!==null),S!==null&&(S.visible=m!==null),this}}class a8 extends Di{constructor(t,r,o,l,d,m,_,A,S,R){if(R=R!==void 0?R:ac,R!==ac&&R!==Su)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");o===void 0&&R===ac&&(o=Pi),o===void 0&&R===Su&&(o=bu),super(null,l,d,m,_,A,R,o,S),this.isDepthTexture=!0,this.image={width:t,height:r},this.magFilter=_!==void 0?_:Yt,this.minFilter=A!==void 0?A:Yt,this.flipY=!1,this.generateMipmaps=!1}}class l8 extends Ea{constructor(t,r){super();const o=this;let l=null,d=1,m=null,_="local-floor",A=null,S=null,R=null,I=null,N=null,D=null;const V=r.getContextAttributes();let O=null,k=null;const U=[],W=[],Z=new Wi;Z.layers.enable(1),Z.viewport=new Zr;const ne=new Wi;ne.layers.enable(2),ne.viewport=new Zr;const j=[Z,ne],re=new s8;re.layers.enable(1),re.layers.enable(2);let Ae=null,Y=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Je){let ct=U[Je];return ct===void 0&&(ct=new u_,U[Je]=ct),ct.getTargetRaySpace()},this.getControllerGrip=function(Je){let ct=U[Je];return ct===void 0&&(ct=new u_,U[Je]=ct),ct.getGripSpace()},this.getHand=function(Je){let ct=U[Je];return ct===void 0&&(ct=new u_,U[Je]=ct),ct.getHandSpace()};function pe(Je){const ct=W.indexOf(Je.inputSource);if(ct===-1)return;const Gt=U[ct];Gt!==void 0&&Gt.dispatchEvent({type:Je.type,data:Je.inputSource})}function we(){l.removeEventListener("select",pe),l.removeEventListener("selectstart",pe),l.removeEventListener("selectend",pe),l.removeEventListener("squeeze",pe),l.removeEventListener("squeezestart",pe),l.removeEventListener("squeezeend",pe),l.removeEventListener("end",we),l.removeEventListener("inputsourceschange",Oe);for(let Je=0;Je<U.length;Je++){const ct=W[Je];ct!==null&&(W[Je]=null,U[Je].disconnect(ct))}Ae=null,Y=null,t.setRenderTarget(O),N=null,I=null,R=null,l=null,k=null,De.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Je){d=Je,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Je){_=Je,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return A||m},this.setReferenceSpace=function(Je){A=Je},this.getBaseLayer=function(){return I!==null?I:N},this.getBinding=function(){return R},this.getFrame=function(){return D},this.getSession=function(){return l},this.setSession=async function(Je){if(l=Je,l!==null){if(O=t.getRenderTarget(),l.addEventListener("select",pe),l.addEventListener("selectstart",pe),l.addEventListener("selectend",pe),l.addEventListener("squeeze",pe),l.addEventListener("squeezestart",pe),l.addEventListener("squeezeend",pe),l.addEventListener("end",we),l.addEventListener("inputsourceschange",Oe),V.xrCompatible!==!0&&await r.makeXRCompatible(),l.renderState.layers===void 0||t.capabilities.isWebGL2===!1){const ct={antialias:l.renderState.layers===void 0?V.antialias:!0,alpha:V.alpha,depth:V.depth,stencil:V.stencil,framebufferScaleFactor:d};N=new XRWebGLLayer(l,r,ct),l.updateRenderState({baseLayer:N}),k=new dc(N.framebufferWidth,N.framebufferHeight,{format:zi,type:Ir,encoding:t.outputEncoding,stencilBuffer:V.stencil})}else{let ct=null,Gt=null,Ft=null;V.depth&&(Ft=V.stencil?35056:33190,ct=V.stencil?Su:ac,Gt=V.stencil?bu:Pi);const Kt={colorFormat:32856,depthFormat:Ft,scaleFactor:d};R=new XRWebGLBinding(l,r),I=R.createProjectionLayer(Kt),l.updateRenderState({layers:[I]}),k=new dc(I.textureWidth,I.textureHeight,{format:zi,type:Ir,depthTexture:new a8(I.textureWidth,I.textureHeight,Gt,void 0,void 0,void 0,void 0,void 0,void 0,ct),stencilBuffer:V.stencil,encoding:t.outputEncoding,samples:V.antialias?4:0});const c=t.properties.get(k);c.__ignoreDepthValues=I.ignoreDepthValues}k.isXRRenderTarget=!0,this.setFoveation(1),A=null,m=await l.requestReferenceSpace(_),De.setContext(l),De.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"})}};function Oe(Je){for(let ct=0;ct<Je.removed.length;ct++){const Gt=Je.removed[ct],Ft=W.indexOf(Gt);Ft>=0&&(W[Ft]=null,U[Ft].dispatchEvent({type:"disconnected",data:Gt}))}for(let ct=0;ct<Je.added.length;ct++){const Gt=Je.added[ct];let Ft=W.indexOf(Gt);if(Ft===-1){for(let c=0;c<U.length;c++)if(c>=W.length){W.push(Gt),Ft=c;break}else if(W[c]===null){W[c]=Gt,Ft=c;break}if(Ft===-1)break}const Kt=U[Ft];Kt&&Kt.dispatchEvent({type:"connected",data:Gt})}}const tt=new Ze,Re=new Ze;function ke(Je,ct,Gt){tt.setFromMatrixPosition(ct.matrixWorld),Re.setFromMatrixPosition(Gt.matrixWorld);const Ft=tt.distanceTo(Re),Kt=ct.projectionMatrix.elements,c=Gt.projectionMatrix.elements,Ln=Kt[14]/(Kt[10]-1),ut=Kt[14]/(Kt[10]+1),Xe=(Kt[9]+1)/Kt[5],Bt=(Kt[9]-1)/Kt[5],qt=(Kt[8]-1)/Kt[0],$t=(c[8]+1)/c[0],Cn=Ln*qt,Dn=Ln*$t,Hn=Ft/(-qt+$t),Rr=Hn*-qt;ct.matrixWorld.decompose(Je.position,Je.quaternion,Je.scale),Je.translateX(Rr),Je.translateZ(Hn),Je.matrixWorld.compose(Je.position,Je.quaternion,Je.scale),Je.matrixWorldInverse.copy(Je.matrixWorld).invert();const on=Ln+Hn,mn=ut+Hn,Ge=Cn-Rr,zn=Dn+(Ft-Rr),wn=Xe*ut/mn*on,Tt=Bt*ut/mn*on;Je.projectionMatrix.makePerspective(Ge,zn,wn,Tt,on,mn)}function st(Je,ct){ct===null?Je.matrixWorld.copy(Je.matrix):Je.matrixWorld.multiplyMatrices(ct.matrixWorld,Je.matrix),Je.matrixWorldInverse.copy(Je.matrixWorld).invert()}this.updateCamera=function(Je){if(l===null)return;re.near=ne.near=Z.near=Je.near,re.far=ne.far=Z.far=Je.far,(Ae!==re.near||Y!==re.far)&&(l.updateRenderState({depthNear:re.near,depthFar:re.far}),Ae=re.near,Y=re.far);const ct=Je.parent,Gt=re.cameras;st(re,ct);for(let Kt=0;Kt<Gt.length;Kt++)st(Gt[Kt],ct);re.matrixWorld.decompose(re.position,re.quaternion,re.scale),Je.matrix.copy(re.matrix),Je.matrix.decompose(Je.position,Je.quaternion,Je.scale);const Ft=Je.children;for(let Kt=0,c=Ft.length;Kt<c;Kt++)Ft[Kt].updateMatrixWorld(!0);Gt.length===2?ke(re,Z,ne):re.projectionMatrix.copy(Z.projectionMatrix)},this.getCamera=function(){return re},this.getFoveation=function(){if(I!==null)return I.fixedFoveation;if(N!==null)return N.fixedFoveation},this.setFoveation=function(Je){I!==null&&(I.fixedFoveation=Je),N!==null&&N.fixedFoveation!==void 0&&(N.fixedFoveation=Je)};let ht=null;function dt(Je,ct){if(S=ct.getViewerPose(A||m),D=ct,S!==null){const Gt=S.views;N!==null&&(t.setRenderTargetFramebuffer(k,N.framebuffer),t.setRenderTarget(k));let Ft=!1;Gt.length!==re.cameras.length&&(re.cameras.length=0,Ft=!0);for(let Kt=0;Kt<Gt.length;Kt++){const c=Gt[Kt];let Ln=null;if(N!==null)Ln=N.getViewport(c);else{const Xe=R.getViewSubImage(I,c);Ln=Xe.viewport,Kt===0&&(t.setRenderTargetTextures(k,Xe.colorTexture,I.ignoreDepthValues?void 0:Xe.depthStencilTexture),t.setRenderTarget(k))}let ut=j[Kt];ut===void 0&&(ut=new Wi,ut.layers.enable(Kt),ut.viewport=new Zr,j[Kt]=ut),ut.matrix.fromArray(c.transform.matrix),ut.projectionMatrix.fromArray(c.projectionMatrix),ut.viewport.set(Ln.x,Ln.y,Ln.width,Ln.height),Kt===0&&re.matrix.copy(ut.matrix),Ft===!0&&re.cameras.push(ut)}}for(let Gt=0;Gt<U.length;Gt++){const Ft=W[Gt],Kt=U[Gt];Ft!==null&&Kt!==void 0&&Kt.update(Ft,ct,A||m)}ht&&ht(Je,ct),D=null}const De=new aS;De.setAnimationLoop(dt),this.setAnimationLoop=function(Je){ht=Je},this.dispose=function(){}}}function c8(p,t){function r(O,k){O.fogColor.value.copy(k.color),k.isFog?(O.fogNear.value=k.near,O.fogFar.value=k.far):k.isFogExp2&&(O.fogDensity.value=k.density)}function o(O,k,U,W,Z){k.isMeshBasicMaterial||k.isMeshLambertMaterial?l(O,k):k.isMeshToonMaterial?(l(O,k),R(O,k)):k.isMeshPhongMaterial?(l(O,k),S(O,k)):k.isMeshStandardMaterial?(l(O,k),I(O,k),k.isMeshPhysicalMaterial&&N(O,k,Z)):k.isMeshMatcapMaterial?(l(O,k),D(O,k)):k.isMeshDepthMaterial?l(O,k):k.isMeshDistanceMaterial?(l(O,k),V(O,k)):k.isMeshNormalMaterial?l(O,k):k.isLineBasicMaterial?(d(O,k),k.isLineDashedMaterial&&m(O,k)):k.isPointsMaterial?_(O,k,U,W):k.isSpriteMaterial?A(O,k):k.isShadowMaterial?(O.color.value.copy(k.color),O.opacity.value=k.opacity):k.isShaderMaterial&&(k.uniformsNeedUpdate=!1)}function l(O,k){O.opacity.value=k.opacity,k.color&&O.diffuse.value.copy(k.color),k.emissive&&O.emissive.value.copy(k.emissive).multiplyScalar(k.emissiveIntensity),k.map&&(O.map.value=k.map),k.alphaMap&&(O.alphaMap.value=k.alphaMap),k.bumpMap&&(O.bumpMap.value=k.bumpMap,O.bumpScale.value=k.bumpScale,k.side===Q&&(O.bumpScale.value*=-1)),k.displacementMap&&(O.displacementMap.value=k.displacementMap,O.displacementScale.value=k.displacementScale,O.displacementBias.value=k.displacementBias),k.emissiveMap&&(O.emissiveMap.value=k.emissiveMap),k.normalMap&&(O.normalMap.value=k.normalMap,O.normalScale.value.copy(k.normalScale),k.side===Q&&O.normalScale.value.negate()),k.specularMap&&(O.specularMap.value=k.specularMap),k.alphaTest>0&&(O.alphaTest.value=k.alphaTest);const U=t.get(k).envMap;if(U&&(O.envMap.value=U,O.flipEnvMap.value=U.isCubeTexture&&U.isRenderTargetTexture===!1?-1:1,O.reflectivity.value=k.reflectivity,O.ior.value=k.ior,O.refractionRatio.value=k.refractionRatio),k.lightMap){O.lightMap.value=k.lightMap;const ne=p.physicallyCorrectLights!==!0?Math.PI:1;O.lightMapIntensity.value=k.lightMapIntensity*ne}k.aoMap&&(O.aoMap.value=k.aoMap,O.aoMapIntensity.value=k.aoMapIntensity);let W;k.map?W=k.map:k.specularMap?W=k.specularMap:k.displacementMap?W=k.displacementMap:k.normalMap?W=k.normalMap:k.bumpMap?W=k.bumpMap:k.roughnessMap?W=k.roughnessMap:k.metalnessMap?W=k.metalnessMap:k.alphaMap?W=k.alphaMap:k.emissiveMap?W=k.emissiveMap:k.clearcoatMap?W=k.clearcoatMap:k.clearcoatNormalMap?W=k.clearcoatNormalMap:k.clearcoatRoughnessMap?W=k.clearcoatRoughnessMap:k.iridescenceMap?W=k.iridescenceMap:k.iridescenceThicknessMap?W=k.iridescenceThicknessMap:k.specularIntensityMap?W=k.specularIntensityMap:k.specularColorMap?W=k.specularColorMap:k.transmissionMap?W=k.transmissionMap:k.thicknessMap?W=k.thicknessMap:k.sheenColorMap?W=k.sheenColorMap:k.sheenRoughnessMap&&(W=k.sheenRoughnessMap),W!==void 0&&(W.isWebGLRenderTarget&&(W=W.texture),W.matrixAutoUpdate===!0&&W.updateMatrix(),O.uvTransform.value.copy(W.matrix));let Z;k.aoMap?Z=k.aoMap:k.lightMap&&(Z=k.lightMap),Z!==void 0&&(Z.isWebGLRenderTarget&&(Z=Z.texture),Z.matrixAutoUpdate===!0&&Z.updateMatrix(),O.uv2Transform.value.copy(Z.matrix))}function d(O,k){O.diffuse.value.copy(k.color),O.opacity.value=k.opacity}function m(O,k){O.dashSize.value=k.dashSize,O.totalSize.value=k.dashSize+k.gapSize,O.scale.value=k.scale}function _(O,k,U,W){O.diffuse.value.copy(k.color),O.opacity.value=k.opacity,O.size.value=k.size*U,O.scale.value=W*.5,k.map&&(O.map.value=k.map),k.alphaMap&&(O.alphaMap.value=k.alphaMap),k.alphaTest>0&&(O.alphaTest.value=k.alphaTest);let Z;k.map?Z=k.map:k.alphaMap&&(Z=k.alphaMap),Z!==void 0&&(Z.matrixAutoUpdate===!0&&Z.updateMatrix(),O.uvTransform.value.copy(Z.matrix))}function A(O,k){O.diffuse.value.copy(k.color),O.opacity.value=k.opacity,O.rotation.value=k.rotation,k.map&&(O.map.value=k.map),k.alphaMap&&(O.alphaMap.value=k.alphaMap),k.alphaTest>0&&(O.alphaTest.value=k.alphaTest);let U;k.map?U=k.map:k.alphaMap&&(U=k.alphaMap),U!==void 0&&(U.matrixAutoUpdate===!0&&U.updateMatrix(),O.uvTransform.value.copy(U.matrix))}function S(O,k){O.specular.value.copy(k.specular),O.shininess.value=Math.max(k.shininess,1e-4)}function R(O,k){k.gradientMap&&(O.gradientMap.value=k.gradientMap)}function I(O,k){O.roughness.value=k.roughness,O.metalness.value=k.metalness,k.roughnessMap&&(O.roughnessMap.value=k.roughnessMap),k.metalnessMap&&(O.metalnessMap.value=k.metalnessMap),t.get(k).envMap&&(O.envMapIntensity.value=k.envMapIntensity)}function N(O,k,U){O.ior.value=k.ior,k.sheen>0&&(O.sheenColor.value.copy(k.sheenColor).multiplyScalar(k.sheen),O.sheenRoughness.value=k.sheenRoughness,k.sheenColorMap&&(O.sheenColorMap.value=k.sheenColorMap),k.sheenRoughnessMap&&(O.sheenRoughnessMap.value=k.sheenRoughnessMap)),k.clearcoat>0&&(O.clearcoat.value=k.clearcoat,O.clearcoatRoughness.value=k.clearcoatRoughness,k.clearcoatMap&&(O.clearcoatMap.value=k.clearcoatMap),k.clearcoatRoughnessMap&&(O.clearcoatRoughnessMap.value=k.clearcoatRoughnessMap),k.clearcoatNormalMap&&(O.clearcoatNormalScale.value.copy(k.clearcoatNormalScale),O.clearcoatNormalMap.value=k.clearcoatNormalMap,k.side===Q&&O.clearcoatNormalScale.value.negate())),k.iridescence>0&&(O.iridescence.value=k.iridescence,O.iridescenceIOR.value=k.iridescenceIOR,O.iridescenceThicknessMinimum.value=k.iridescenceThicknessRange[0],O.iridescenceThicknessMaximum.value=k.iridescenceThicknessRange[1],k.iridescenceMap&&(O.iridescenceMap.value=k.iridescenceMap),k.iridescenceThicknessMap&&(O.iridescenceThicknessMap.value=k.iridescenceThicknessMap)),k.transmission>0&&(O.transmission.value=k.transmission,O.transmissionSamplerMap.value=U.texture,O.transmissionSamplerSize.value.set(U.width,U.height),k.transmissionMap&&(O.transmissionMap.value=k.transmissionMap),O.thickness.value=k.thickness,k.thicknessMap&&(O.thicknessMap.value=k.thicknessMap),O.attenuationDistance.value=k.attenuationDistance,O.attenuationColor.value.copy(k.attenuationColor)),O.specularIntensity.value=k.specularIntensity,O.specularColor.value.copy(k.specularColor),k.specularIntensityMap&&(O.specularIntensityMap.value=k.specularIntensityMap),k.specularColorMap&&(O.specularColorMap.value=k.specularColorMap)}function D(O,k){k.matcap&&(O.matcap.value=k.matcap)}function V(O,k){O.referencePosition.value.copy(k.referencePosition),O.nearDistance.value=k.nearDistance,O.farDistance.value=k.farDistance}return{refreshFogUniforms:r,refreshMaterialUniforms:o}}function u8(p,t,r,o){let l={},d={},m=[];const _=r.isWebGL2?p.getParameter(35375):0;function A(W,Z){const ne=Z.program;o.uniformBlockBinding(W,ne)}function S(W,Z){let ne=l[W.id];ne===void 0&&(V(W),ne=R(W),l[W.id]=ne,W.addEventListener("dispose",k));const j=Z.program;o.updateUBOMapping(W,j);const re=t.render.frame;d[W.id]!==re&&(N(W),d[W.id]=re)}function R(W){const Z=I();W.__bindingPointIndex=Z;const ne=p.createBuffer(),j=W.__size,re=W.usage;return p.bindBuffer(35345,ne),p.bufferData(35345,j,re),p.bindBuffer(35345,null),p.bindBufferBase(35345,Z,ne),ne}function I(){for(let W=0;W<_;W++)if(m.indexOf(W)===-1)return m.push(W),W;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function N(W){const Z=l[W.id],ne=W.uniforms,j=W.__cache;p.bindBuffer(35345,Z);for(let re=0,Ae=ne.length;re<Ae;re++){const Y=ne[re];if(D(Y,re,j)===!0){const pe=Y.value,we=Y.__offset;typeof pe=="number"?(Y.__data[0]=pe,p.bufferSubData(35345,we,Y.__data)):(Y.value.isMatrix3?(Y.__data[0]=Y.value.elements[0],Y.__data[1]=Y.value.elements[1],Y.__data[2]=Y.value.elements[2],Y.__data[3]=Y.value.elements[0],Y.__data[4]=Y.value.elements[3],Y.__data[5]=Y.value.elements[4],Y.__data[6]=Y.value.elements[5],Y.__data[7]=Y.value.elements[0],Y.__data[8]=Y.value.elements[6],Y.__data[9]=Y.value.elements[7],Y.__data[10]=Y.value.elements[8],Y.__data[11]=Y.value.elements[0]):pe.toArray(Y.__data),p.bufferSubData(35345,we,Y.__data))}}p.bindBuffer(35345,null)}function D(W,Z,ne){const j=W.value;if(ne[Z]===void 0)return typeof j=="number"?ne[Z]=j:ne[Z]=j.clone(),!0;if(typeof j=="number"){if(ne[Z]!==j)return ne[Z]=j,!0}else{const re=ne[Z];if(re.equals(j)===!1)return re.copy(j),!0}return!1}function V(W){const Z=W.uniforms;let ne=0;const j=16;let re=0;for(let Ae=0,Y=Z.length;Ae<Y;Ae++){const pe=Z[Ae],we=O(pe);if(pe.__data=new Float32Array(we.storage/Float32Array.BYTES_PER_ELEMENT),pe.__offset=ne,Ae>0){re=ne%j;const Oe=j-re;re!==0&&Oe-we.boundary<0&&(ne+=j-re,pe.__offset=ne)}ne+=we.storage}return re=ne%j,re>0&&(ne+=j-re),W.__size=ne,W.__cache={},this}function O(W){const Z=W.value,ne={boundary:0,storage:0};return typeof Z=="number"?(ne.boundary=4,ne.storage=4):Z.isVector2?(ne.boundary=8,ne.storage=8):Z.isVector3||Z.isColor?(ne.boundary=16,ne.storage=12):Z.isVector4?(ne.boundary=16,ne.storage=16):Z.isMatrix3?(ne.boundary=48,ne.storage=48):Z.isMatrix4?(ne.boundary=64,ne.storage=64):Z.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Z),ne}function k(W){const Z=W.target;Z.removeEventListener("dispose",k);const ne=m.indexOf(Z.__bindingPointIndex);m.splice(ne,1),p.deleteBuffer(l[Z.id]),delete l[Z.id],delete d[Z.id]}function U(){for(const W in l)p.deleteBuffer(l[W]);m=[],l={},d={}}return{bind:A,update:S,dispose:U}}function d8(){const p=Zd("canvas");return p.style.display="block",p}function Fp(p={}){this.isWebGLRenderer=!0;const t=p.canvas!==void 0?p.canvas:d8(),r=p.context!==void 0?p.context:null,o=p.depth!==void 0?p.depth:!0,l=p.stencil!==void 0?p.stencil:!0,d=p.antialias!==void 0?p.antialias:!1,m=p.premultipliedAlpha!==void 0?p.premultipliedAlpha:!0,_=p.preserveDrawingBuffer!==void 0?p.preserveDrawingBuffer:!1,A=p.powerPreference!==void 0?p.powerPreference:"default",S=p.failIfMajorPerformanceCaveat!==void 0?p.failIfMajorPerformanceCaveat:!1;let R;r!==null?R=r.getContextAttributes().alpha:R=p.alpha!==void 0?p.alpha:!1;let I=null,N=null;const D=[],V=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=_o,this.physicallyCorrectLights=!1,this.toneMapping=rt,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const O=this;let k=!1,U=0,W=0,Z=null,ne=-1,j=null;const re=new Zr,Ae=new Zr;let Y=null,pe=t.width,we=t.height,Oe=1,tt=null,Re=null;const ke=new Zr(0,0,pe,we),st=new Zr(0,0,pe,we);let ht=!1;const dt=new i_;let De=!1,Je=!1,ct=null;const Gt=new br,Ft=new Fn,Kt=new Ze,c={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ln(){return Z===null?Oe:1}let ut=r;function Xe(He,kt){for(let en=0;en<He.length;en++){const Nt=He[en],tn=t.getContext(Nt,kt);if(tn!==null)return tn}return null}try{const He={alpha:!0,depth:o,stencil:l,antialias:d,premultipliedAlpha:m,preserveDrawingBuffer:_,powerPreference:A,failIfMajorPerformanceCaveat:S};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${E}`),t.addEventListener("webglcontextlost",Un,!1),t.addEventListener("webglcontextrestored",vr,!1),t.addEventListener("webglcontextcreationerror",Gr,!1),ut===null){const kt=["webgl2","webgl","experimental-webgl"];if(O.isWebGL1Renderer===!0&&kt.shift(),ut=Xe(kt,He),ut===null)throw Xe(kt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ut.getShaderPrecisionFormat===void 0&&(ut.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(He){throw console.error("THREE.WebGLRenderer: "+He.message),He}let Bt,qt,$t,Cn,Dn,Hn,Rr,on,mn,Ge,zn,wn,Tt,ae,z,K,le,Ne,Ye,Mt,sn,Ie,Jt,ln;function Tn(){Bt=new S3(ut),qt=new g3(ut,Bt,p),Bt.init(qt),Ie=new i8(ut,Bt,qt),$t=new n8(ut,Bt,qt),Cn=new C3,Dn=new Hk,Hn=new r8(ut,Bt,$t,Dn,qt,Ie,Cn),Rr=new _3(O),on=new b3(O),mn=new pD(ut,qt),Jt=new p3(ut,Bt,mn,qt),Ge=new E3(ut,mn,Cn,Jt),zn=new R3(ut,Ge,mn,Cn),Ye=new x3(ut,qt,Hn),K=new v3(Dn),wn=new Uk(O,Rr,on,Bt,qt,Jt,K),Tt=new c8(O,Dn),ae=new Xk,z=new qk(Bt,qt),Ne=new h3(O,Rr,$t,zn,R,m),le=new t8(O,zn,qt),ln=new u8(ut,Cn,qt,$t),Mt=new m3(ut,Bt,Cn,qt),sn=new w3(ut,Bt,Cn,qt),Cn.programs=wn.programs,O.capabilities=qt,O.extensions=Bt,O.properties=Dn,O.renderLists=ae,O.shadowMap=le,O.state=$t,O.info=Cn}Tn();const En=new l8(O,ut);this.xr=En,this.getContext=function(){return ut},this.getContextAttributes=function(){return ut.getContextAttributes()},this.forceContextLoss=function(){const He=Bt.get("WEBGL_lose_context");He&&He.loseContext()},this.forceContextRestore=function(){const He=Bt.get("WEBGL_lose_context");He&&He.restoreContext()},this.getPixelRatio=function(){return Oe},this.setPixelRatio=function(He){He!==void 0&&(Oe=He,this.setSize(pe,we,!1))},this.getSize=function(He){return He.set(pe,we)},this.setSize=function(He,kt,en){if(En.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}pe=He,we=kt,t.width=Math.floor(He*Oe),t.height=Math.floor(kt*Oe),en!==!1&&(t.style.width=He+"px",t.style.height=kt+"px"),this.setViewport(0,0,He,kt)},this.getDrawingBufferSize=function(He){return He.set(pe*Oe,we*Oe).floor()},this.setDrawingBufferSize=function(He,kt,en){pe=He,we=kt,Oe=en,t.width=Math.floor(He*en),t.height=Math.floor(kt*en),this.setViewport(0,0,He,kt)},this.getCurrentViewport=function(He){return He.copy(re)},this.getViewport=function(He){return He.copy(ke)},this.setViewport=function(He,kt,en,Nt){He.isVector4?ke.set(He.x,He.y,He.z,He.w):ke.set(He,kt,en,Nt),$t.viewport(re.copy(ke).multiplyScalar(Oe).floor())},this.getScissor=function(He){return He.copy(st)},this.setScissor=function(He,kt,en,Nt){He.isVector4?st.set(He.x,He.y,He.z,He.w):st.set(He,kt,en,Nt),$t.scissor(Ae.copy(st).multiplyScalar(Oe).floor())},this.getScissorTest=function(){return ht},this.setScissorTest=function(He){$t.setScissorTest(ht=He)},this.setOpaqueSort=function(He){tt=He},this.setTransparentSort=function(He){Re=He},this.getClearColor=function(He){return He.copy(Ne.getClearColor())},this.setClearColor=function(){Ne.setClearColor.apply(Ne,arguments)},this.getClearAlpha=function(){return Ne.getClearAlpha()},this.setClearAlpha=function(){Ne.setClearAlpha.apply(Ne,arguments)},this.clear=function(He=!0,kt=!0,en=!0){let Nt=0;He&&(Nt|=16384),kt&&(Nt|=256),en&&(Nt|=1024),ut.clear(Nt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Un,!1),t.removeEventListener("webglcontextrestored",vr,!1),t.removeEventListener("webglcontextcreationerror",Gr,!1),ae.dispose(),z.dispose(),Dn.dispose(),Rr.dispose(),on.dispose(),zn.dispose(),Jt.dispose(),ln.dispose(),wn.dispose(),En.dispose(),En.removeEventListener("sessionstart",Sr),En.removeEventListener("sessionend",Ai),ct&&(ct.dispose(),ct=null),pi.stop()};function Un(He){He.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),k=!0}function vr(){console.log("THREE.WebGLRenderer: Context Restored."),k=!1;const He=Cn.autoReset,kt=le.enabled,en=le.autoUpdate,Nt=le.needsUpdate,tn=le.type;Tn(),Cn.autoReset=He,le.enabled=kt,le.autoUpdate=en,le.needsUpdate=Nt,le.type=tn}function Gr(He){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",He.statusMessage)}function gt(He){const kt=He.target;kt.removeEventListener("dispose",gt),xn(kt)}function xn(He){jt(He),Dn.remove(He)}function jt(He){const kt=Dn.get(He).programs;kt!==void 0&&(kt.forEach(function(en){wn.releaseProgram(en)}),He.isShaderMaterial&&wn.releaseShaderCache(He))}this.renderBufferDirect=function(He,kt,en,Nt,tn,Wn){kt===null&&(kt=c);const lr=tn.isMesh&&tn.matrixWorld.determinant()<0,Er=Ml(He,kt,en,Nt,tn);$t.setMaterial(Nt,lr);let Rn=en.index;const Hr=en.attributes.position;if(Rn===null){if(Hr===void 0||Hr.count===0)return}else if(Rn.count===0)return;let kr=1;Nt.wireframe===!0&&(Rn=Ge.getWireframeAttribute(en),kr=2),Jt.setup(tn,Nt,Er,en,Rn);let Fr,Mr=Mt;Rn!==null&&(Fr=mn.get(Rn),Mr=sn,Mr.setIndex(Fr));const aa=Rn!==null?Rn.count:Hr.count,ka=en.drawRange.start*kr,La=en.drawRange.count*kr,Zs=Wn!==null?Wn.start*kr:0,Xr=Wn!==null?Wn.count*kr:1/0,xl=Math.max(ka,Zs),Si=Math.min(aa,ka+La,Zs+Xr)-1,As=Math.max(0,Si-xl+1);if(As!==0){if(tn.isMesh)Nt.wireframe===!0?($t.setLineWidth(Nt.wireframeLinewidth*Ln()),Mr.setMode(1)):Mr.setMode(4);else if(tn.isLine){let la=Nt.linewidth;la===void 0&&(la=1),$t.setLineWidth(la*Ln()),tn.isLineSegments?Mr.setMode(1):tn.isLineLoop?Mr.setMode(2):Mr.setMode(3)}else tn.isPoints?Mr.setMode(0):tn.isSprite&&Mr.setMode(4);if(tn.isInstancedMesh)Mr.renderInstances(xl,As,tn.count);else if(en.isInstancedBufferGeometry){const la=Math.min(en.instanceCount,en._maxInstanceCount);Mr.renderInstances(xl,As,la)}else Mr.render(xl,As)}},this.compile=function(He,kt){function en(Nt,tn,Wn){Nt.transparent===!0&&Nt.side===H?(Nt.side=Q,Nt.needsUpdate=!0,ed(Nt,tn,Wn),Nt.side=G,Nt.needsUpdate=!0,ed(Nt,tn,Wn),Nt.side=H):ed(Nt,tn,Wn)}N=z.get(He),N.init(),V.push(N),He.traverseVisible(function(Nt){Nt.isLight&&Nt.layers.test(kt.layers)&&(N.pushLight(Nt),Nt.castShadow&&N.pushShadow(Nt))}),N.setupLights(O.physicallyCorrectLights),He.traverse(function(Nt){const tn=Nt.material;if(tn)if(Array.isArray(tn))for(let Wn=0;Wn<tn.length;Wn++){const lr=tn[Wn];en(lr,He,Nt)}else en(tn,He,Nt)}),V.pop(),N=null};let On=null;function kn(He){On&&On(He)}function Sr(){pi.stop()}function Ai(){pi.start()}const pi=new aS;pi.setAnimationLoop(kn),typeof self<"u"&&pi.setContext(self),this.setAnimationLoop=function(He){On=He,En.setAnimationLoop(He),He===null?pi.stop():pi.start()},En.addEventListener("sessionstart",Sr),En.addEventListener("sessionend",Ai),this.render=function(He,kt){if(kt!==void 0&&kt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(k===!0)return;He.matrixWorldAutoUpdate===!0&&He.updateMatrixWorld(),kt.parent===null&&kt.matrixWorldAutoUpdate===!0&&kt.updateMatrixWorld(),En.enabled===!0&&En.isPresenting===!0&&(En.cameraAutoUpdate===!0&&En.updateCamera(kt),kt=En.getCamera()),He.isScene===!0&&He.onBeforeRender(O,He,kt,Z),N=z.get(He,V.length),N.init(),V.push(N),Gt.multiplyMatrices(kt.projectionMatrix,kt.matrixWorldInverse),dt.setFromProjectionMatrix(Gt),Je=this.localClippingEnabled,De=K.init(this.clippingPlanes,Je,kt),I=ae.get(He,D.length),I.init(),D.push(I),oa(He,kt,0,O.sortObjects),I.finish(),O.sortObjects===!0&&I.sort(tt,Re),De===!0&&K.beginShadows();const en=N.state.shadowsArray;if(le.render(en,He,kt),De===!0&&K.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ne.render(I,He),N.setupLights(O.physicallyCorrectLights),kt.isArrayCamera){const Nt=kt.cameras;for(let tn=0,Wn=Nt.length;tn<Wn;tn++){const lr=Nt[tn];ti(I,He,lr,lr.viewport)}}else ti(I,He,kt);Z!==null&&(Hn.updateMultisampleRenderTarget(Z),Hn.updateRenderTargetMipmap(Z)),He.isScene===!0&&He.onAfterRender(O,He,kt),Jt.resetDefaultState(),ne=-1,j=null,V.pop(),V.length>0?N=V[V.length-1]:N=null,D.pop(),D.length>0?I=D[D.length-1]:I=null};function oa(He,kt,en,Nt){if(He.visible===!1)return;if(He.layers.test(kt.layers)){if(He.isGroup)en=He.renderOrder;else if(He.isLOD)He.autoUpdate===!0&&He.update(kt);else if(He.isLight)N.pushLight(He),He.castShadow&&N.pushShadow(He);else if(He.isSprite){if(!He.frustumCulled||dt.intersectsSprite(He)){Nt&&Kt.setFromMatrixPosition(He.matrixWorld).applyMatrix4(Gt);const lr=zn.update(He),Er=He.material;Er.visible&&I.push(He,lr,Er,en,Kt.z,null)}}else if((He.isMesh||He.isLine||He.isPoints)&&(He.isSkinnedMesh&&He.skeleton.frame!==Cn.render.frame&&(He.skeleton.update(),He.skeleton.frame=Cn.render.frame),!He.frustumCulled||dt.intersectsObject(He))){Nt&&Kt.setFromMatrixPosition(He.matrixWorld).applyMatrix4(Gt);const lr=zn.update(He),Er=He.material;if(Array.isArray(Er)){const Rn=lr.groups;for(let Hr=0,kr=Rn.length;Hr<kr;Hr++){const Fr=Rn[Hr],Mr=Er[Fr.materialIndex];Mr&&Mr.visible&&I.push(He,lr,Mr,en,Kt.z,Fr)}}else Er.visible&&I.push(He,lr,Er,en,Kt.z,null)}}const Wn=He.children;for(let lr=0,Er=Wn.length;lr<Er;lr++)oa(Wn[lr],kt,en,Nt)}function ti(He,kt,en,Nt){const tn=He.opaque,Wn=He.transmissive,lr=He.transparent;N.setupLightsView(en),Wn.length>0&&Ls(tn,kt,en),Nt&&$t.viewport(re.copy(Nt)),tn.length>0&&_s(tn,kt,en),Wn.length>0&&_s(Wn,kt,en),lr.length>0&&_s(lr,kt,en),$t.buffers.depth.setTest(!0),$t.buffers.depth.setMask(!0),$t.buffers.color.setMask(!0),$t.setPolygonOffset(!1)}function Ls(He,kt,en){const Nt=qt.isWebGL2;ct===null&&(ct=new dc(1,1,{generateMipmaps:!0,type:Bt.has("EXT_color_buffer_half_float")?Bi:Ir,minFilter:Xn,samples:Nt&&d===!0?4:0})),O.getDrawingBufferSize(Ft),Nt?ct.setSize(Ft.x,Ft.y):ct.setSize(up(Ft.x),up(Ft.y));const tn=O.getRenderTarget();O.setRenderTarget(ct),O.clear();const Wn=O.toneMapping;O.toneMapping=rt,_s(He,kt,en),O.toneMapping=Wn,Hn.updateMultisampleRenderTarget(ct),Hn.updateRenderTargetMipmap(ct),O.setRenderTarget(tn)}function _s(He,kt,en){const Nt=kt.isScene===!0?kt.overrideMaterial:null;for(let tn=0,Wn=He.length;tn<Wn;tn++){const lr=He[tn],Er=lr.object,Rn=lr.geometry,Hr=Nt===null?lr.material:Nt,kr=lr.group;Er.layers.test(en.layers)&&SA(Er,kt,en,Rn,Hr,kr)}}function SA(He,kt,en,Nt,tn,Wn){He.onBeforeRender(O,kt,en,Nt,tn,Wn),He.modelViewMatrix.multiplyMatrices(en.matrixWorldInverse,He.matrixWorld),He.normalMatrix.getNormalMatrix(He.modelViewMatrix),tn.onBeforeRender(O,kt,en,Nt,He,Wn),tn.transparent===!0&&tn.side===H?(tn.side=Q,tn.needsUpdate=!0,O.renderBufferDirect(en,kt,Nt,tn,He,Wn),tn.side=G,tn.needsUpdate=!0,O.renderBufferDirect(en,kt,Nt,tn,He,Wn),tn.side=H):O.renderBufferDirect(en,kt,Nt,tn,He,Wn),He.onAfterRender(O,kt,en,Nt,tn,Wn)}function ed(He,kt,en){kt.isScene!==!0&&(kt=c);const Nt=Dn.get(He),tn=N.state.lights,Wn=N.state.shadowsArray,lr=tn.state.version,Er=wn.getParameters(He,tn.state,Wn,kt,en),Rn=wn.getProgramCacheKey(Er);let Hr=Nt.programs;Nt.environment=He.isMeshStandardMaterial?kt.environment:null,Nt.fog=kt.fog,Nt.envMap=(He.isMeshStandardMaterial?on:Rr).get(He.envMap||Nt.environment),Hr===void 0&&(He.addEventListener("dispose",gt),Hr=new Map,Nt.programs=Hr);let kr=Hr.get(Rn);if(kr!==void 0){if(Nt.currentProgram===kr&&Nt.lightsStateVersion===lr)return kf(He,Er),kr}else Er.uniforms=wn.getUniforms(He),He.onBuild(en,Er,O),He.onBeforeCompile(Er,O),kr=wn.acquireProgram(Er,Rn),Hr.set(Rn,kr),Nt.uniforms=Er.uniforms;const Fr=Nt.uniforms;(!He.isShaderMaterial&&!He.isRawShaderMaterial||He.clipping===!0)&&(Fr.clippingPlanes=K.uniform),kf(He,Er),Nt.needsLights=Lf(He),Nt.lightsStateVersion=lr,Nt.needsLights&&(Fr.ambientLightColor.value=tn.state.ambient,Fr.lightProbe.value=tn.state.probe,Fr.directionalLights.value=tn.state.directional,Fr.directionalLightShadows.value=tn.state.directionalShadow,Fr.spotLights.value=tn.state.spot,Fr.spotLightShadows.value=tn.state.spotShadow,Fr.rectAreaLights.value=tn.state.rectArea,Fr.ltc_1.value=tn.state.rectAreaLTC1,Fr.ltc_2.value=tn.state.rectAreaLTC2,Fr.pointLights.value=tn.state.point,Fr.pointLightShadows.value=tn.state.pointShadow,Fr.hemisphereLights.value=tn.state.hemi,Fr.directionalShadowMap.value=tn.state.directionalShadowMap,Fr.directionalShadowMatrix.value=tn.state.directionalShadowMatrix,Fr.spotShadowMap.value=tn.state.spotShadowMap,Fr.spotLightMatrix.value=tn.state.spotLightMatrix,Fr.spotLightMap.value=tn.state.spotLightMap,Fr.pointShadowMap.value=tn.state.pointShadowMap,Fr.pointShadowMatrix.value=tn.state.pointShadowMatrix);const Mr=kr.getUniforms(),aa=Op.seqWithValue(Mr.seq,Fr);return Nt.currentProgram=kr,Nt.uniformsList=aa,kr}function kf(He,kt){const en=Dn.get(He);en.outputEncoding=kt.outputEncoding,en.instancing=kt.instancing,en.skinning=kt.skinning,en.morphTargets=kt.morphTargets,en.morphNormals=kt.morphNormals,en.morphColors=kt.morphColors,en.morphTargetsCount=kt.morphTargetsCount,en.numClippingPlanes=kt.numClippingPlanes,en.numIntersection=kt.numClipIntersection,en.vertexAlphas=kt.vertexAlphas,en.vertexTangents=kt.vertexTangents,en.toneMapping=kt.toneMapping}function Ml(He,kt,en,Nt,tn){kt.isScene!==!0&&(kt=c),Hn.resetTextureUnits();const Wn=kt.fog,lr=Nt.isMeshStandardMaterial?kt.environment:null,Er=Z===null?O.outputEncoding:Z.isXRRenderTarget===!0?Z.texture.encoding:_o,Rn=(Nt.isMeshStandardMaterial?on:Rr).get(Nt.envMap||lr),Hr=Nt.vertexColors===!0&&!!en.attributes.color&&en.attributes.color.itemSize===4,kr=!!Nt.normalMap&&!!en.attributes.tangent,Fr=!!en.morphAttributes.position,Mr=!!en.morphAttributes.normal,aa=!!en.morphAttributes.color,ka=Nt.toneMapped?O.toneMapping:rt,La=en.morphAttributes.position||en.morphAttributes.normal||en.morphAttributes.color,Zs=La!==void 0?La.length:0,Xr=Dn.get(Nt),xl=N.state.lights;if(De===!0&&(Je===!0||He!==j)){const us=He===j&&Nt.id===ne;K.setState(Nt,He,us)}let Si=!1;Nt.version===Xr.__version?(Xr.needsLights&&Xr.lightsStateVersion!==xl.state.version||Xr.outputEncoding!==Er||tn.isInstancedMesh&&Xr.instancing===!1||!tn.isInstancedMesh&&Xr.instancing===!0||tn.isSkinnedMesh&&Xr.skinning===!1||!tn.isSkinnedMesh&&Xr.skinning===!0||Xr.envMap!==Rn||Nt.fog===!0&&Xr.fog!==Wn||Xr.numClippingPlanes!==void 0&&(Xr.numClippingPlanes!==K.numPlanes||Xr.numIntersection!==K.numIntersection)||Xr.vertexAlphas!==Hr||Xr.vertexTangents!==kr||Xr.morphTargets!==Fr||Xr.morphNormals!==Mr||Xr.morphColors!==aa||Xr.toneMapping!==ka||qt.isWebGL2===!0&&Xr.morphTargetsCount!==Zs)&&(Si=!0):(Si=!0,Xr.__version=Nt.version);let As=Xr.currentProgram;Si===!0&&(As=ed(Nt,kt,tn));let la=!1,Os=!1,Oa=!1;const Gi=As.getUniforms(),No=Xr.uniforms;if($t.useProgram(As.program)&&(la=!0,Os=!0,Oa=!0),Nt.id!==ne&&(ne=Nt.id,Os=!0),la||j!==He){if(Gi.setValue(ut,"projectionMatrix",He.projectionMatrix),qt.logarithmicDepthBuffer&&Gi.setValue(ut,"logDepthBufFC",2/(Math.log(He.far+1)/Math.LN2)),j!==He&&(j=He,Os=!0,Oa=!0),Nt.isShaderMaterial||Nt.isMeshPhongMaterial||Nt.isMeshToonMaterial||Nt.isMeshStandardMaterial||Nt.envMap){const us=Gi.map.cameraPosition;us!==void 0&&us.setValue(ut,Kt.setFromMatrixPosition(He.matrixWorld))}(Nt.isMeshPhongMaterial||Nt.isMeshToonMaterial||Nt.isMeshLambertMaterial||Nt.isMeshBasicMaterial||Nt.isMeshStandardMaterial||Nt.isShaderMaterial)&&Gi.setValue(ut,"isOrthographic",He.isOrthographicCamera===!0),(Nt.isMeshPhongMaterial||Nt.isMeshToonMaterial||Nt.isMeshLambertMaterial||Nt.isMeshBasicMaterial||Nt.isMeshStandardMaterial||Nt.isShaderMaterial||Nt.isShadowMaterial||tn.isSkinnedMesh)&&Gi.setValue(ut,"viewMatrix",He.matrixWorldInverse)}if(tn.isSkinnedMesh){Gi.setOptional(ut,tn,"bindMatrix"),Gi.setOptional(ut,tn,"bindMatrixInverse");const us=tn.skeleton;us&&(qt.floatVertexTextures?(us.boneTexture===null&&us.computeBoneTexture(),Gi.setValue(ut,"boneTexture",us.boneTexture,Hn),Gi.setValue(ut,"boneTextureSize",us.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ui=en.morphAttributes;if((Ui.position!==void 0||Ui.normal!==void 0||Ui.color!==void 0&&qt.isWebGL2===!0)&&Ye.update(tn,en,Nt,As),(Os||Xr.receiveShadow!==tn.receiveShadow)&&(Xr.receiveShadow=tn.receiveShadow,Gi.setValue(ut,"receiveShadow",tn.receiveShadow)),Nt.isMeshGouraudMaterial&&Nt.envMap!==null&&(No.envMap.value=Rn,No.flipEnvMap.value=Rn.isCubeTexture&&Rn.isRenderTargetTexture===!1?-1:1),Os&&(Gi.setValue(ut,"toneMappingExposure",O.toneMappingExposure),Xr.needsLights&&Mc(No,Oa),Wn&&Nt.fog===!0&&Tt.refreshFogUniforms(No,Wn),Tt.refreshMaterialUniforms(No,Nt,Oe,we,ct),Op.upload(ut,Xr.uniformsList,No,Hn)),Nt.isShaderMaterial&&Nt.uniformsNeedUpdate===!0&&(Op.upload(ut,Xr.uniformsList,No,Hn),Nt.uniformsNeedUpdate=!1),Nt.isSpriteMaterial&&Gi.setValue(ut,"center",tn.center),Gi.setValue(ut,"modelViewMatrix",tn.modelViewMatrix),Gi.setValue(ut,"normalMatrix",tn.normalMatrix),Gi.setValue(ut,"modelMatrix",tn.matrixWorld),Nt.isShaderMaterial||Nt.isRawShaderMaterial){const us=Nt.uniformsGroups;for(let td=0,eo=us.length;td<eo;td++)if(qt.isWebGL2){const Of=us[td];ln.update(Of,As),ln.bind(Of,As)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return As}function Mc(He,kt){He.ambientLightColor.needsUpdate=kt,He.lightProbe.needsUpdate=kt,He.directionalLights.needsUpdate=kt,He.directionalLightShadows.needsUpdate=kt,He.pointLights.needsUpdate=kt,He.pointLightShadows.needsUpdate=kt,He.spotLights.needsUpdate=kt,He.spotLightShadows.needsUpdate=kt,He.rectAreaLights.needsUpdate=kt,He.hemisphereLights.needsUpdate=kt}function Lf(He){return He.isMeshLambertMaterial||He.isMeshToonMaterial||He.isMeshPhongMaterial||He.isMeshStandardMaterial||He.isShadowMaterial||He.isShaderMaterial&&He.lights===!0}this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return W},this.getRenderTarget=function(){return Z},this.setRenderTargetTextures=function(He,kt,en){Dn.get(He.texture).__webglTexture=kt,Dn.get(He.depthTexture).__webglTexture=en;const Nt=Dn.get(He);Nt.__hasExternalTextures=!0,Nt.__hasExternalTextures&&(Nt.__autoAllocateDepthBuffer=en===void 0,Nt.__autoAllocateDepthBuffer||Bt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Nt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(He,kt){const en=Dn.get(He);en.__webglFramebuffer=kt,en.__useDefaultFramebuffer=kt===void 0},this.setRenderTarget=function(He,kt=0,en=0){Z=He,U=kt,W=en;let Nt=!0;if(He){const Rn=Dn.get(He);Rn.__useDefaultFramebuffer!==void 0?($t.bindFramebuffer(36160,null),Nt=!1):Rn.__webglFramebuffer===void 0?Hn.setupRenderTarget(He):Rn.__hasExternalTextures&&Hn.rebindTextures(He,Dn.get(He.texture).__webglTexture,Dn.get(He.depthTexture).__webglTexture)}let tn=null,Wn=!1,lr=!1;if(He){const Rn=He.texture;(Rn.isData3DTexture||Rn.isDataArrayTexture)&&(lr=!0);const Hr=Dn.get(He).__webglFramebuffer;He.isWebGLCubeRenderTarget?(tn=Hr[kt],Wn=!0):qt.isWebGL2&&He.samples>0&&Hn.useMultisampledRTT(He)===!1?tn=Dn.get(He).__webglMultisampledFramebuffer:tn=Hr,re.copy(He.viewport),Ae.copy(He.scissor),Y=He.scissorTest}else re.copy(ke).multiplyScalar(Oe).floor(),Ae.copy(st).multiplyScalar(Oe).floor(),Y=ht;if($t.bindFramebuffer(36160,tn)&&qt.drawBuffers&&Nt&&$t.drawBuffers(He,tn),$t.viewport(re),$t.scissor(Ae),$t.setScissorTest(Y),Wn){const Rn=Dn.get(He.texture);ut.framebufferTexture2D(36160,36064,34069+kt,Rn.__webglTexture,en)}else if(lr){const Rn=Dn.get(He.texture),Hr=kt||0;ut.framebufferTextureLayer(36160,36064,Rn.__webglTexture,en||0,Hr)}ne=-1},this.readRenderTargetPixels=function(He,kt,en,Nt,tn,Wn,lr){if(!(He&&He.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Er=Dn.get(He).__webglFramebuffer;if(He.isWebGLCubeRenderTarget&&lr!==void 0&&(Er=Er[lr]),Er){$t.bindFramebuffer(36160,Er);try{const Rn=He.texture,Hr=Rn.format,kr=Rn.type;if(Hr!==zi&&Ie.convert(Hr)!==ut.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Fr=kr===Bi&&(Bt.has("EXT_color_buffer_half_float")||qt.isWebGL2&&Bt.has("EXT_color_buffer_float"));if(kr!==Ir&&Ie.convert(kr)!==ut.getParameter(35738)&&!(kr===Yr&&(qt.isWebGL2||Bt.has("OES_texture_float")||Bt.has("WEBGL_color_buffer_float")))&&!Fr){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}kt>=0&&kt<=He.width-Nt&&en>=0&&en<=He.height-tn&&ut.readPixels(kt,en,Nt,tn,Ie.convert(Hr),Ie.convert(kr),Wn)}finally{const Rn=Z!==null?Dn.get(Z).__webglFramebuffer:null;$t.bindFramebuffer(36160,Rn)}}},this.copyFramebufferToTexture=function(He,kt,en=0){const Nt=Math.pow(2,-en),tn=Math.floor(kt.image.width*Nt),Wn=Math.floor(kt.image.height*Nt);Hn.setTexture2D(kt,0),ut.copyTexSubImage2D(3553,en,0,0,He.x,He.y,tn,Wn),$t.unbindTexture()},this.copyTextureToTexture=function(He,kt,en,Nt=0){const tn=kt.image.width,Wn=kt.image.height,lr=Ie.convert(en.format),Er=Ie.convert(en.type);Hn.setTexture2D(en,0),ut.pixelStorei(37440,en.flipY),ut.pixelStorei(37441,en.premultiplyAlpha),ut.pixelStorei(3317,en.unpackAlignment),kt.isDataTexture?ut.texSubImage2D(3553,Nt,He.x,He.y,tn,Wn,lr,Er,kt.image.data):kt.isCompressedTexture?ut.compressedTexSubImage2D(3553,Nt,He.x,He.y,kt.mipmaps[0].width,kt.mipmaps[0].height,lr,kt.mipmaps[0].data):ut.texSubImage2D(3553,Nt,He.x,He.y,lr,Er,kt.image),Nt===0&&en.generateMipmaps&&ut.generateMipmap(3553),$t.unbindTexture()},this.copyTextureToTexture3D=function(He,kt,en,Nt,tn=0){if(O.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Wn=He.max.x-He.min.x+1,lr=He.max.y-He.min.y+1,Er=He.max.z-He.min.z+1,Rn=Ie.convert(Nt.format),Hr=Ie.convert(Nt.type);let kr;if(Nt.isData3DTexture)Hn.setTexture3D(Nt,0),kr=32879;else if(Nt.isDataArrayTexture)Hn.setTexture2DArray(Nt,0),kr=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ut.pixelStorei(37440,Nt.flipY),ut.pixelStorei(37441,Nt.premultiplyAlpha),ut.pixelStorei(3317,Nt.unpackAlignment);const Fr=ut.getParameter(3314),Mr=ut.getParameter(32878),aa=ut.getParameter(3316),ka=ut.getParameter(3315),La=ut.getParameter(32877),Zs=en.isCompressedTexture?en.mipmaps[0]:en.image;ut.pixelStorei(3314,Zs.width),ut.pixelStorei(32878,Zs.height),ut.pixelStorei(3316,He.min.x),ut.pixelStorei(3315,He.min.y),ut.pixelStorei(32877,He.min.z),en.isDataTexture||en.isData3DTexture?ut.texSubImage3D(kr,tn,kt.x,kt.y,kt.z,Wn,lr,Er,Rn,Hr,Zs.data):en.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ut.compressedTexSubImage3D(kr,tn,kt.x,kt.y,kt.z,Wn,lr,Er,Rn,Zs.data)):ut.texSubImage3D(kr,tn,kt.x,kt.y,kt.z,Wn,lr,Er,Rn,Hr,Zs),ut.pixelStorei(3314,Fr),ut.pixelStorei(32878,Mr),ut.pixelStorei(3316,aa),ut.pixelStorei(3315,ka),ut.pixelStorei(32877,La),tn===0&&Nt.generateMipmaps&&ut.generateMipmap(kr),$t.unbindTexture()},this.initTexture=function(He){He.isCubeTexture?Hn.setTextureCube(He,0):He.isData3DTexture?Hn.setTexture3D(He,0):He.isDataArrayTexture?Hn.setTexture2DArray(He,0):Hn.setTexture2D(He,0),$t.unbindTexture()},this.resetState=function(){U=0,W=0,Z=null,$t.reset(),Jt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class f8 extends Fp{}f8.prototype.isWebGL1Renderer=!0;class Vp extends _i{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,r){return super.copy(t,r),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const r=super.toJSON(t);return this.fog!==null&&(r.object.fog=this.fog.toJSON()),r}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(t){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=t}}class BS{constructor(t,r){this.isInterleavedBuffer=!0,this.array=t,this.stride=r,this.count=t!==void 0?t.length/r:0,this.usage=Tv,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ao()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,r,o){t*=this.stride,o*=r.stride;for(let l=0,d=this.stride;l<d;l++)this.array[t+l]=r.array[o+l];return this}set(t,r=0){return this.array.set(t,r),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ao()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const r=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),o=new this.constructor(r,this.stride);return o.setUsage(this.usage),o}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ao()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ls=new Ze;class of{constructor(t,r,o,l=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=r,this.offset=o,this.normalized=l===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let r=0,o=this.data.count;r<o;r++)ls.fromBufferAttribute(this,r),ls.applyMatrix4(t),this.setXYZ(r,ls.x,ls.y,ls.z);return this}applyNormalMatrix(t){for(let r=0,o=this.count;r<o;r++)ls.fromBufferAttribute(this,r),ls.applyNormalMatrix(t),this.setXYZ(r,ls.x,ls.y,ls.z);return this}transformDirection(t){for(let r=0,o=this.count;r<o;r++)ls.fromBufferAttribute(this,r),ls.transformDirection(t),this.setXYZ(r,ls.x,ls.y,ls.z);return this}setX(t,r){return this.normalized&&(r=Jr(r,this.array)),this.data.array[t*this.data.stride+this.offset]=r,this}setY(t,r){return this.normalized&&(r=Jr(r,this.array)),this.data.array[t*this.data.stride+this.offset+1]=r,this}setZ(t,r){return this.normalized&&(r=Jr(r,this.array)),this.data.array[t*this.data.stride+this.offset+2]=r,this}setW(t,r){return this.normalized&&(r=Jr(r,this.array)),this.data.array[t*this.data.stride+this.offset+3]=r,this}getX(t){let r=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(r=wa(r,this.array)),r}getY(t){let r=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(r=wa(r,this.array)),r}getZ(t){let r=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(r=wa(r,this.array)),r}getW(t){let r=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(r=wa(r,this.array)),r}setXY(t,r,o){return t=t*this.data.stride+this.offset,this.normalized&&(r=Jr(r,this.array),o=Jr(o,this.array)),this.data.array[t+0]=r,this.data.array[t+1]=o,this}setXYZ(t,r,o,l){return t=t*this.data.stride+this.offset,this.normalized&&(r=Jr(r,this.array),o=Jr(o,this.array),l=Jr(l,this.array)),this.data.array[t+0]=r,this.data.array[t+1]=o,this.data.array[t+2]=l,this}setXYZW(t,r,o,l,d){return t=t*this.data.stride+this.offset,this.normalized&&(r=Jr(r,this.array),o=Jr(o,this.array),l=Jr(l,this.array),d=Jr(d,this.array)),this.data.array[t+0]=r,this.data.array[t+1]=o,this.data.array[t+2]=l,this.data.array[t+3]=d,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const r=[];for(let o=0;o<this.count;o++){const l=o*this.data.stride+this.offset;for(let d=0;d<this.itemSize;d++)r.push(this.data.array[l+d])}return new ei(new this.array.constructor(r),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new of(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const r=[];for(let o=0;o<this.count;o++){const l=o*this.data.stride+this.offset;for(let d=0;d<this.itemSize;d++)r.push(this.data.array[l+d])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:r,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class DS extends js{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new sr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let Xu;const af=new Ze,zu=new Ze,$u=new Ze,Wu=new Fn,lf=new Fn,kS=new br,Gp=new Ze,cf=new Ze,Up=new Ze,LS=new Fn,d_=new Fn,OS=new Fn;class h8 extends _i{constructor(t){if(super(),this.isSprite=!0,this.type="Sprite",Xu===void 0){Xu=new Oi;const r=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),o=new BS(r,5);Xu.setIndex([0,1,2,0,2,3]),Xu.setAttribute("position",new of(o,3,0,!1)),Xu.setAttribute("uv",new of(o,2,3,!1))}this.geometry=Xu,this.material=t!==void 0?t:new DS,this.center=new Fn(.5,.5)}raycast(t,r){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),zu.setFromMatrixScale(this.matrixWorld),kS.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),$u.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&zu.multiplyScalar(-$u.z);const o=this.material.rotation;let l,d;o!==0&&(d=Math.cos(o),l=Math.sin(o));const m=this.center;Hp(Gp.set(-.5,-.5,0),$u,m,zu,l,d),Hp(cf.set(.5,-.5,0),$u,m,zu,l,d),Hp(Up.set(.5,.5,0),$u,m,zu,l,d),LS.set(0,0),d_.set(1,0),OS.set(1,1);let _=t.ray.intersectTriangle(Gp,cf,Up,!1,af);if(_===null&&(Hp(cf.set(-.5,.5,0),$u,m,zu,l,d),d_.set(0,1),_=t.ray.intersectTriangle(Gp,Up,cf,!1,af),_===null))return;const A=t.ray.origin.distanceTo(af);A<t.near||A>t.far||r.push({distance:A,point:af.clone(),uv:Jo.getUV(af,Gp,cf,Up,LS,d_,OS,new Fn),face:null,object:this})}copy(t,r){return super.copy(t,r),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function Hp(p,t,r,o,l,d){Wu.subVectors(p,r).addScalar(.5).multiply(o),l!==void 0?(lf.x=d*Wu.x-l*Wu.y,lf.y=l*Wu.x+d*Wu.y):lf.copy(Wu),p.copy(t),p.x+=lf.x,p.y+=lf.y,p.applyMatrix4(kS)}const FS=new Ze,VS=new Zr,GS=new Zr,p8=new Ze,US=new br;class m8 extends Fi{constructor(t,r){super(t,r),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new br,this.bindMatrixInverse=new br}copy(t,r){return super.copy(t,r),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,r){this.skeleton=t,r===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),r=this.matrixWorld),this.bindMatrix.copy(r),this.bindMatrixInverse.copy(r).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Zr,r=this.geometry.attributes.skinWeight;for(let o=0,l=r.count;o<l;o++){t.fromBufferAttribute(r,o);const d=1/t.manhattanLength();d!==1/0?t.multiplyScalar(d):t.set(1,0,0,0),r.setXYZW(o,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,r){const o=this.skeleton,l=this.geometry;VS.fromBufferAttribute(l.attributes.skinIndex,t),GS.fromBufferAttribute(l.attributes.skinWeight,t),FS.copy(r).applyMatrix4(this.bindMatrix),r.set(0,0,0);for(let d=0;d<4;d++){const m=GS.getComponent(d);if(m!==0){const _=VS.getComponent(d);US.multiplyMatrices(o.bones[_].matrixWorld,o.boneInverses[_]),r.addScaledVector(p8.copy(FS).applyMatrix4(US),m)}}return r.applyMatrix4(this.bindMatrixInverse)}}class HS extends _i{constructor(){super(),this.isBone=!0,this.type="Bone"}}class f_ extends Di{constructor(t=null,r=1,o=1,l,d,m,_,A,S=Yt,R=Yt,I,N){super(null,m,_,A,S,R,l,d,I,N),this.isDataTexture=!0,this.image={data:t,width:r,height:o},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const QS=new br,g8=new br;class h_{constructor(t=[],r=[]){this.uuid=Ao(),this.bones=t.slice(0),this.boneInverses=r,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const t=this.bones,r=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),r.length===0)this.calculateInverses();else if(t.length!==r.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let o=0,l=this.bones.length;o<l;o++)this.boneInverses.push(new br)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,r=this.bones.length;t<r;t++){const o=new br;this.bones[t]&&o.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(o)}}pose(){for(let t=0,r=this.bones.length;t<r;t++){const o=this.bones[t];o&&o.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,r=this.bones.length;t<r;t++){const o=this.bones[t];o&&(o.parent&&o.parent.isBone?(o.matrix.copy(o.parent.matrixWorld).invert(),o.matrix.multiply(o.matrixWorld)):o.matrix.copy(o.matrixWorld),o.matrix.decompose(o.position,o.quaternion,o.scale))}}update(){const t=this.bones,r=this.boneInverses,o=this.boneMatrices,l=this.boneTexture;for(let d=0,m=t.length;d<m;d++){const _=t[d]?t[d].matrixWorld:g8;QS.multiplyMatrices(_,r[d]),QS.toArray(o,d*16)}l!==null&&(l.needsUpdate=!0)}clone(){return new h_(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=G1(t),t=Math.max(t,4);const r=new Float32Array(t*t*4);r.set(this.boneMatrices);const o=new f_(r,t,t,zi,Yr);return o.needsUpdate=!0,this.boneMatrices=r,this.boneTexture=o,this.boneTextureSize=t,this}getBoneByName(t){for(let r=0,o=this.bones.length;r<o;r++){const l=this.bones[r];if(l.name===t)return l}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,r){this.uuid=t.uuid;for(let o=0,l=t.bones.length;o<l;o++){const d=t.bones[o];let m=r[d];m===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",d),m=new HS),this.bones.push(m),this.boneInverses.push(new br().fromArray(t.boneInverses[o]))}return this.init(),this}toJSON(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const r=this.bones,o=this.boneInverses;for(let l=0,d=r.length;l<d;l++){const m=r[l];t.bones.push(m.uuid);const _=o[l];t.boneInverses.push(_.toArray())}return t}}class Qp extends js{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new sr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const XS=new Ze,zS=new Ze,$S=new br,p_=new yp,Xp=new Tu;class m_ extends _i{constructor(t=new Oi,r=new Qp){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=r,this.updateMorphTargets()}copy(t,r){return super.copy(t,r),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const r=t.attributes.position,o=[0];for(let l=1,d=r.count;l<d;l++)XS.fromBufferAttribute(r,l-1),zS.fromBufferAttribute(r,l),o[l]=o[l-1],o[l]+=XS.distanceTo(zS);t.setAttribute("lineDistance",new ki(o,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,r){const o=this.geometry,l=this.matrixWorld,d=t.params.Line.threshold,m=o.drawRange;if(o.boundingSphere===null&&o.computeBoundingSphere(),Xp.copy(o.boundingSphere),Xp.applyMatrix4(l),Xp.radius+=d,t.ray.intersectsSphere(Xp)===!1)return;$S.copy(l).invert(),p_.copy(t.ray).applyMatrix4($S);const _=d/((this.scale.x+this.scale.y+this.scale.z)/3),A=_*_,S=new Ze,R=new Ze,I=new Ze,N=new Ze,D=this.isLineSegments?2:1,V=o.index,k=o.attributes.position;if(V!==null){const U=Math.max(0,m.start),W=Math.min(V.count,m.start+m.count);for(let Z=U,ne=W-1;Z<ne;Z+=D){const j=V.getX(Z),re=V.getX(Z+1);if(S.fromBufferAttribute(k,j),R.fromBufferAttribute(k,re),p_.distanceSqToSegment(S,R,N,I)>A)continue;N.applyMatrix4(this.matrixWorld);const Y=t.ray.origin.distanceTo(N);Y<t.near||Y>t.far||r.push({distance:Y,point:I.clone().applyMatrix4(this.matrixWorld),index:Z,face:null,faceIndex:null,object:this})}}else{const U=Math.max(0,m.start),W=Math.min(k.count,m.start+m.count);for(let Z=U,ne=W-1;Z<ne;Z+=D){if(S.fromBufferAttribute(k,Z),R.fromBufferAttribute(k,Z+1),p_.distanceSqToSegment(S,R,N,I)>A)continue;N.applyMatrix4(this.matrixWorld);const re=t.ray.origin.distanceTo(N);re<t.near||re>t.far||r.push({distance:re,point:I.clone().applyMatrix4(this.matrixWorld),index:Z,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const r=this.geometry.morphAttributes,o=Object.keys(r);if(o.length>0){const l=r[o[0]];if(l!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let d=0,m=l.length;d<m;d++){const _=l[d].name||String(d);this.morphTargetInfluences.push(0),this.morphTargetDictionary[_]=d}}}}}const WS=new Ze,KS=new Ze;class g_ extends m_{constructor(t,r){super(t,r),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const r=t.attributes.position,o=[];for(let l=0,d=r.count;l<d;l+=2)WS.fromBufferAttribute(r,l),KS.fromBufferAttribute(r,l+1),o[l]=l===0?0:o[l-1],o[l+1]=o[l]+WS.distanceTo(KS);t.setAttribute("lineDistance",new ki(o,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class v8 extends m_{constructor(t,r){super(t,r),this.isLineLoop=!0,this.type="LineLoop"}}class jS extends js{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new sr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const qS=new br,v_=new yp,zp=new Tu,$p=new Ze;class _8 extends _i{constructor(t=new Oi,r=new jS){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=r,this.updateMorphTargets()}copy(t,r){return super.copy(t,r),this.material=t.material,this.geometry=t.geometry,this}raycast(t,r){const o=this.geometry,l=this.matrixWorld,d=t.params.Points.threshold,m=o.drawRange;if(o.boundingSphere===null&&o.computeBoundingSphere(),zp.copy(o.boundingSphere),zp.applyMatrix4(l),zp.radius+=d,t.ray.intersectsSphere(zp)===!1)return;qS.copy(l).invert(),v_.copy(t.ray).applyMatrix4(qS);const _=d/((this.scale.x+this.scale.y+this.scale.z)/3),A=_*_,S=o.index,I=o.attributes.position;if(S!==null){const N=Math.max(0,m.start),D=Math.min(S.count,m.start+m.count);for(let V=N,O=D;V<O;V++){const k=S.getX(V);$p.fromBufferAttribute(I,k),YS($p,k,A,l,t,r,this)}}else{const N=Math.max(0,m.start),D=Math.min(I.count,m.start+m.count);for(let V=N,O=D;V<O;V++)$p.fromBufferAttribute(I,V),YS($p,V,A,l,t,r,this)}}updateMorphTargets(){const r=this.geometry.morphAttributes,o=Object.keys(r);if(o.length>0){const l=r[o[0]];if(l!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let d=0,m=l.length;d<m;d++){const _=l[d].name||String(d);this.morphTargetInfluences.push(0),this.morphTargetDictionary[_]=d}}}}}function YS(p,t,r,o,l,d,m){const _=v_.distanceSqToPoint(p);if(_<r){const A=new Ze;v_.closestPointToPoint(p,A),A.applyMatrix4(o);const S=l.ray.origin.distanceTo(A);if(S<l.near||S>l.far)return;d.push({distance:S,distanceToRay:Math.sqrt(_),point:A,index:t,face:null,object:m})}}class A8 extends Di{constructor(t,r,o,l,d,m,_,A,S,R,I,N){super(null,m,_,A,S,R,l,d,I,N),this.isCompressedTexture=!0,this.image={width:r,height:o},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class __ extends Oi{constructor(t=.5,r=1,o=8,l=1,d=0,m=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:r,thetaSegments:o,phiSegments:l,thetaStart:d,thetaLength:m},o=Math.max(3,o),l=Math.max(1,l);const _=[],A=[],S=[],R=[];let I=t;const N=(r-t)/l,D=new Ze,V=new Fn;for(let O=0;O<=l;O++){for(let k=0;k<=o;k++){const U=d+k/o*m;D.x=I*Math.cos(U),D.y=I*Math.sin(U),A.push(D.x,D.y,D.z),S.push(0,0,1),V.x=(D.x/r+1)/2,V.y=(D.y/r+1)/2,R.push(V.x,V.y)}I+=N}for(let O=0;O<l;O++){const k=O*(o+1);for(let U=0;U<o;U++){const W=U+k,Z=W,ne=W+o+1,j=W+o+2,re=W+1;_.push(Z,ne,re),_.push(ne,j,re)}}this.setIndex(_),this.setAttribute("position",new ki(A,3)),this.setAttribute("normal",new ki(S,3)),this.setAttribute("uv",new ki(R,2))}static fromJSON(t){return new __(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class y8 extends wo{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class uf extends js{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new sr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new sr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lp,this.normalScale=new Fn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class yc extends uf{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Fn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return $i(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(r){this.ior=(1+.4*r)/(1-.4*r)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new sr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new sr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new sr(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class b8 extends js{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new sr(16777215),this.specular=new sr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new sr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lp,this.normalScale=new Fn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=et,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}function _l(p,t,r){return JS(p)?new p.constructor(p.subarray(t,r!==void 0?r:p.length)):p.slice(t,r)}function Wp(p,t,r){return!p||!r&&p.constructor===t?p:typeof t.BYTES_PER_ELEMENT=="number"?new t(p):Array.prototype.slice.call(p)}function JS(p){return ArrayBuffer.isView(p)&&!(p instanceof DataView)}function S8(p){function t(l,d){return p[l]-p[d]}const r=p.length,o=new Array(r);for(let l=0;l!==r;++l)o[l]=l;return o.sort(t),o}function ZS(p,t,r){const o=p.length,l=new p.constructor(o);for(let d=0,m=0;m!==o;++d){const _=r[d]*t;for(let A=0;A!==t;++A)l[m++]=p[_+A]}return l}function eE(p,t,r,o){let l=1,d=p[0];for(;d!==void 0&&d[o]===void 0;)d=p[l++];if(d===void 0)return;let m=d[o];if(m!==void 0)if(Array.isArray(m))do m=d[o],m!==void 0&&(t.push(d.time),r.push.apply(r,m)),d=p[l++];while(d!==void 0);else if(m.toArray!==void 0)do m=d[o],m!==void 0&&(t.push(d.time),m.toArray(r,r.length)),d=p[l++];while(d!==void 0);else do m=d[o],m!==void 0&&(t.push(d.time),r.push(m)),d=p[l++];while(d!==void 0)}class df{constructor(t,r,o,l){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=l!==void 0?l:new r.constructor(o),this.sampleValues=r,this.valueSize=o,this.settings=null,this.DefaultSettings_={}}evaluate(t){const r=this.parameterPositions;let o=this._cachedIndex,l=r[o],d=r[o-1];e:{t:{let m;n:{r:if(!(t<l)){for(let _=o+2;;){if(l===void 0){if(t<d)break r;return o=r.length,this._cachedIndex=o,this.copySampleValue_(o-1)}if(o===_)break;if(d=l,l=r[++o],t<l)break t}m=r.length;break n}if(!(t>=d)){const _=r[1];t<_&&(o=2,d=_);for(let A=o-2;;){if(d===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(o===A)break;if(l=d,d=r[--o-1],t>=d)break t}m=o,o=0;break n}break e}for(;o<m;){const _=o+m>>>1;t<r[_]?m=_:o=_+1}if(l=r[o],d=r[o-1],d===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(l===void 0)return o=r.length,this._cachedIndex=o,this.copySampleValue_(o-1)}this._cachedIndex=o,this.intervalChanged_(o,d,l)}return this.interpolate_(o,d,t,l)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const r=this.resultBuffer,o=this.sampleValues,l=this.valueSize,d=t*l;for(let m=0;m!==l;++m)r[m]=o[d+m];return r}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class E8 extends df{constructor(t,r,o,l){super(t,r,o,l),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:wu,endingEnd:wu}}intervalChanged_(t,r,o){const l=this.parameterPositions;let d=t-2,m=t+1,_=l[d],A=l[m];if(_===void 0)switch(this.getSettings_().endingStart){case Cu:d=t,_=2*r-o;break;case ap:d=l.length-2,_=r+l[d]-l[d+1];break;default:d=t,_=o}if(A===void 0)switch(this.getSettings_().endingEnd){case Cu:m=t,A=2*o-r;break;case ap:m=1,A=o+l[1]-l[0];break;default:m=t-1,A=r}const S=(o-r)*.5,R=this.valueSize;this._weightPrev=S/(r-_),this._weightNext=S/(A-o),this._offsetPrev=d*R,this._offsetNext=m*R}interpolate_(t,r,o,l){const d=this.resultBuffer,m=this.sampleValues,_=this.valueSize,A=t*_,S=A-_,R=this._offsetPrev,I=this._offsetNext,N=this._weightPrev,D=this._weightNext,V=(o-r)/(l-r),O=V*V,k=O*V,U=-N*k+2*N*O-N*V,W=(1+N)*k+(-1.5-2*N)*O+(-.5+N)*V+1,Z=(-1-D)*k+(1.5+D)*O+.5*V,ne=D*k-D*O;for(let j=0;j!==_;++j)d[j]=U*m[R+j]+W*m[S+j]+Z*m[A+j]+ne*m[I+j];return d}}class tE extends df{constructor(t,r,o,l){super(t,r,o,l)}interpolate_(t,r,o,l){const d=this.resultBuffer,m=this.sampleValues,_=this.valueSize,A=t*_,S=A-_,R=(o-r)/(l-r),I=1-R;for(let N=0;N!==_;++N)d[N]=m[S+N]*I+m[A+N]*R;return d}}class w8 extends df{constructor(t,r,o,l){super(t,r,o,l)}interpolate_(t){return this.copySampleValue_(t-1)}}class Co{constructor(t,r,o,l){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(r===void 0||r.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Wp(r,this.TimeBufferType),this.values=Wp(o,this.ValueBufferType),this.setInterpolation(l||this.DefaultInterpolation)}static toJSON(t){const r=t.constructor;let o;if(r.toJSON!==this.toJSON)o=r.toJSON(t);else{o={name:t.name,times:Wp(t.times,Array),values:Wp(t.values,Array)};const l=t.getInterpolation();l!==t.DefaultInterpolation&&(o.interpolation=l)}return o.type=t.ValueTypeName,o}InterpolantFactoryMethodDiscrete(t){return new w8(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new tE(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new E8(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let r;switch(t){case Eu:r=this.InterpolantFactoryMethodDiscrete;break;case lc:r=this.InterpolantFactoryMethodLinear;break;case Mv:r=this.InterpolantFactoryMethodSmooth;break}if(r===void 0){const o="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(o);return console.warn("THREE.KeyframeTrack:",o),this}return this.createInterpolant=r,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Eu;case this.InterpolantFactoryMethodLinear:return lc;case this.InterpolantFactoryMethodSmooth:return Mv}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const r=this.times;for(let o=0,l=r.length;o!==l;++o)r[o]+=t}return this}scale(t){if(t!==1){const r=this.times;for(let o=0,l=r.length;o!==l;++o)r[o]*=t}return this}trim(t,r){const o=this.times,l=o.length;let d=0,m=l-1;for(;d!==l&&o[d]<t;)++d;for(;m!==-1&&o[m]>r;)--m;if(++m,d!==0||m!==l){d>=m&&(m=Math.max(m,1),d=m-1);const _=this.getValueSize();this.times=_l(o,d,m),this.values=_l(this.values,d*_,m*_)}return this}validate(){let t=!0;const r=this.getValueSize();r-Math.floor(r)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const o=this.times,l=this.values,d=o.length;d===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let m=null;for(let _=0;_!==d;_++){const A=o[_];if(typeof A=="number"&&isNaN(A)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,_,A),t=!1;break}if(m!==null&&m>A){console.error("THREE.KeyframeTrack: Out of order keys.",this,_,A,m),t=!1;break}m=A}if(l!==void 0&&JS(l))for(let _=0,A=l.length;_!==A;++_){const S=l[_];if(isNaN(S)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,_,S),t=!1;break}}return t}optimize(){const t=_l(this.times),r=_l(this.values),o=this.getValueSize(),l=this.getInterpolation()===Mv,d=t.length-1;let m=1;for(let _=1;_<d;++_){let A=!1;const S=t[_],R=t[_+1];if(S!==R&&(_!==1||S!==t[0]))if(l)A=!0;else{const I=_*o,N=I-o,D=I+o;for(let V=0;V!==o;++V){const O=r[I+V];if(O!==r[N+V]||O!==r[D+V]){A=!0;break}}}if(A){if(_!==m){t[m]=t[_];const I=_*o,N=m*o;for(let D=0;D!==o;++D)r[N+D]=r[I+D]}++m}}if(d>0){t[m]=t[d];for(let _=d*o,A=m*o,S=0;S!==o;++S)r[A+S]=r[_+S];++m}return m!==t.length?(this.times=_l(t,0,m),this.values=_l(r,0,m*o)):(this.times=t,this.values=r),this}clone(){const t=_l(this.times,0),r=_l(this.values,0),o=this.constructor,l=new o(this.name,t,r);return l.createInterpolant=this.createInterpolant,l}}Co.prototype.TimeBufferType=Float32Array,Co.prototype.ValueBufferType=Float32Array,Co.prototype.DefaultInterpolation=lc;class Ku extends Co{}Ku.prototype.ValueTypeName="bool",Ku.prototype.ValueBufferType=Array,Ku.prototype.DefaultInterpolation=Eu,Ku.prototype.InterpolantFactoryMethodLinear=void 0,Ku.prototype.InterpolantFactoryMethodSmooth=void 0;class nE extends Co{}nE.prototype.ValueTypeName="color";class ff extends Co{}ff.prototype.ValueTypeName="number";class C8 extends df{constructor(t,r,o,l){super(t,r,o,l)}interpolate_(t,r,o,l){const d=this.resultBuffer,m=this.sampleValues,_=this.valueSize,A=(o-r)/(l-r);let S=t*_;for(let R=S+_;S!==R;S+=4)Rs.slerpFlat(d,0,m,S-_,m,S,A);return d}}class bc extends Co{InterpolantFactoryMethodLinear(t){return new C8(this.times,this.values,this.getValueSize(),t)}}bc.prototype.ValueTypeName="quaternion",bc.prototype.DefaultInterpolation=lc,bc.prototype.InterpolantFactoryMethodSmooth=void 0;class ju extends Co{}ju.prototype.ValueTypeName="string",ju.prototype.ValueBufferType=Array,ju.prototype.DefaultInterpolation=Eu,ju.prototype.InterpolantFactoryMethodLinear=void 0,ju.prototype.InterpolantFactoryMethodSmooth=void 0;class hf extends Co{}hf.prototype.ValueTypeName="vector";class Kp{constructor(t,r=-1,o,l=xv){this.name=t,this.tracks=o,this.duration=r,this.blendMode=l,this.uuid=Ao(),this.duration<0&&this.resetDuration()}static parse(t){const r=[],o=t.tracks,l=1/(t.fps||1);for(let m=0,_=o.length;m!==_;++m)r.push(M8(o[m]).scale(l));const d=new this(t.name,t.duration,r,t.blendMode);return d.uuid=t.uuid,d}static toJSON(t){const r=[],o=t.tracks,l={name:t.name,duration:t.duration,tracks:r,uuid:t.uuid,blendMode:t.blendMode};for(let d=0,m=o.length;d!==m;++d)r.push(Co.toJSON(o[d]));return l}static CreateFromMorphTargetSequence(t,r,o,l){const d=r.length,m=[];for(let _=0;_<d;_++){let A=[],S=[];A.push((_+d-1)%d,_,(_+1)%d),S.push(0,1,0);const R=S8(A);A=ZS(A,1,R),S=ZS(S,1,R),!l&&A[0]===0&&(A.push(d),S.push(S[0])),m.push(new ff(".morphTargetInfluences["+r[_].name+"]",A,S).scale(1/o))}return new this(t,-1,m)}static findByName(t,r){let o=t;if(!Array.isArray(t)){const l=t;o=l.geometry&&l.geometry.animations||l.animations}for(let l=0;l<o.length;l++)if(o[l].name===r)return o[l];return null}static CreateClipsFromMorphTargetSequences(t,r,o){const l={},d=/^([\w-]*?)([\d]+)$/;for(let _=0,A=t.length;_<A;_++){const S=t[_],R=S.name.match(d);if(R&&R.length>1){const I=R[1];let N=l[I];N||(l[I]=N=[]),N.push(S)}}const m=[];for(const _ in l)m.push(this.CreateFromMorphTargetSequence(_,l[_],r,o));return m}static parseAnimation(t,r){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const o=function(I,N,D,V,O){if(D.length!==0){const k=[],U=[];eE(D,k,U,V),k.length!==0&&O.push(new I(N,k,U))}},l=[],d=t.name||"default",m=t.fps||30,_=t.blendMode;let A=t.length||-1;const S=t.hierarchy||[];for(let I=0;I<S.length;I++){const N=S[I].keys;if(!(!N||N.length===0))if(N[0].morphTargets){const D={};let V;for(V=0;V<N.length;V++)if(N[V].morphTargets)for(let O=0;O<N[V].morphTargets.length;O++)D[N[V].morphTargets[O]]=-1;for(const O in D){const k=[],U=[];for(let W=0;W!==N[V].morphTargets.length;++W){const Z=N[V];k.push(Z.time),U.push(Z.morphTarget===O?1:0)}l.push(new ff(".morphTargetInfluence["+O+"]",k,U))}A=D.length*m}else{const D=".bones["+r[I].name+"]";o(hf,D+".position",N,"pos",l),o(bc,D+".quaternion",N,"rot",l),o(hf,D+".scale",N,"scl",l)}}return l.length===0?null:new this(d,A,l,_)}resetDuration(){const t=this.tracks;let r=0;for(let o=0,l=t.length;o!==l;++o){const d=this.tracks[o];r=Math.max(r,d.times[d.times.length-1])}return this.duration=r,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let r=0;r<this.tracks.length;r++)t=t&&this.tracks[r].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let r=0;r<this.tracks.length;r++)t.push(this.tracks[r].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function I8(p){switch(p.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ff;case"vector":case"vector2":case"vector3":case"vector4":return hf;case"color":return nE;case"quaternion":return bc;case"bool":case"boolean":return Ku;case"string":return ju}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+p)}function M8(p){if(p.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=I8(p.type);if(p.times===void 0){const r=[],o=[];eE(p.keys,r,o,"value"),p.times=r,p.values=o}return t.parse!==void 0?t.parse(p):new t(p.name,p.times,p.values,p.interpolation)}const qu={enabled:!1,files:{},add:function(p,t){this.enabled!==!1&&(this.files[p]=t)},get:function(p){if(this.enabled!==!1)return this.files[p]},remove:function(p){delete this.files[p]},clear:function(){this.files={}}};class rE{constructor(t,r,o){const l=this;let d=!1,m=0,_=0,A;const S=[];this.onStart=void 0,this.onLoad=t,this.onProgress=r,this.onError=o,this.itemStart=function(R){_++,d===!1&&l.onStart!==void 0&&l.onStart(R,m,_),d=!0},this.itemEnd=function(R){m++,l.onProgress!==void 0&&l.onProgress(R,m,_),m===_&&(d=!1,l.onLoad!==void 0&&l.onLoad())},this.itemError=function(R){l.onError!==void 0&&l.onError(R)},this.resolveURL=function(R){return A?A(R):R},this.setURLModifier=function(R){return A=R,this},this.addHandler=function(R,I){return S.push(R,I),this},this.removeHandler=function(R){const I=S.indexOf(R);return I!==-1&&S.splice(I,2),this},this.getHandler=function(R){for(let I=0,N=S.length;I<N;I+=2){const D=S[I],V=S[I+1];if(D.global&&(D.lastIndex=0),D.test(R))return V}return null}}}const x8=new rE;class ta{constructor(t){this.manager=t!==void 0?t:x8,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,r){const o=this;return new Promise(function(l,d){o.load(t,l,r,d)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const Ta={};class R8 extends Error{constructor(t,r){super(t),this.response=r}}class Ys extends ta{constructor(t){super(t)}load(t,r,o,l){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const d=qu.get(t);if(d!==void 0)return this.manager.itemStart(t),setTimeout(()=>{r&&r(d),this.manager.itemEnd(t)},0),d;if(Ta[t]!==void 0){Ta[t].push({onLoad:r,onProgress:o,onError:l});return}Ta[t]=[],Ta[t].push({onLoad:r,onProgress:o,onError:l});const m=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),_=this.mimeType,A=this.responseType;fetch(m).then(S=>{if(S.status===200||S.status===0){if(S.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||S.body===void 0||S.body.getReader===void 0)return S;const R=Ta[t],I=S.body.getReader(),N=S.headers.get("Content-Length"),D=N?parseInt(N):0,V=D!==0;let O=0;const k=new ReadableStream({start(U){W();function W(){I.read().then(({done:Z,value:ne})=>{if(Z)U.close();else{O+=ne.byteLength;const j=new ProgressEvent("progress",{lengthComputable:V,loaded:O,total:D});for(let re=0,Ae=R.length;re<Ae;re++){const Y=R[re];Y.onProgress&&Y.onProgress(j)}U.enqueue(ne),W()}})}}});return new Response(k)}else throw new R8(`fetch for "${S.url}" responded with ${S.status}: ${S.statusText}`,S)}).then(S=>{switch(A){case"arraybuffer":return S.arrayBuffer();case"blob":return S.blob();case"document":return S.text().then(R=>new DOMParser().parseFromString(R,_));case"json":return S.json();default:if(_===void 0)return S.text();{const I=/charset="?([^;"\s]*)"?/i.exec(_),N=I&&I[1]?I[1].toLowerCase():void 0,D=new TextDecoder(N);return S.arrayBuffer().then(V=>D.decode(V))}}}).then(S=>{qu.add(t,S);const R=Ta[t];delete Ta[t];for(let I=0,N=R.length;I<N;I++){const D=R[I];D.onLoad&&D.onLoad(S)}}).catch(S=>{const R=Ta[t];if(R===void 0)throw this.manager.itemError(t),S;delete Ta[t];for(let I=0,N=R.length;I<N;I++){const D=R[I];D.onError&&D.onError(S)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class T8 extends ta{constructor(t){super(t)}load(t,r,o,l){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const d=this,m=qu.get(t);if(m!==void 0)return d.manager.itemStart(t),setTimeout(function(){r&&r(m),d.manager.itemEnd(t)},0),m;const _=Zd("img");function A(){R(),qu.add(t,this),r&&r(this),d.manager.itemEnd(t)}function S(I){R(),l&&l(I),d.manager.itemError(t),d.manager.itemEnd(t)}function R(){_.removeEventListener("load",A,!1),_.removeEventListener("error",S,!1)}return _.addEventListener("load",A,!1),_.addEventListener("error",S,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(_.crossOrigin=this.crossOrigin),d.manager.itemStart(t),_.src=t,_}}class N8 extends ta{constructor(t){super(t)}load(t,r,o,l){const d=this,m=new f_,_=new Ys(this.manager);return _.setResponseType("arraybuffer"),_.setRequestHeader(this.requestHeader),_.setPath(this.path),_.setWithCredentials(d.withCredentials),_.load(t,function(A){const S=d.parse(A);!S||(S.image!==void 0?m.image=S.image:S.data!==void 0&&(m.image.width=S.width,m.image.height=S.height,m.image.data=S.data),m.wrapS=S.wrapS!==void 0?S.wrapS:Dt,m.wrapT=S.wrapT!==void 0?S.wrapT:Dt,m.magFilter=S.magFilter!==void 0?S.magFilter:ir,m.minFilter=S.minFilter!==void 0?S.minFilter:ir,m.anisotropy=S.anisotropy!==void 0?S.anisotropy:1,S.encoding!==void 0&&(m.encoding=S.encoding),S.flipY!==void 0&&(m.flipY=S.flipY),S.format!==void 0&&(m.format=S.format),S.type!==void 0&&(m.type=S.type),S.mipmaps!==void 0&&(m.mipmaps=S.mipmaps,m.minFilter=Xn),S.mipmapCount===1&&(m.minFilter=ir),S.generateMipmaps!==void 0&&(m.generateMipmaps=S.generateMipmaps),m.needsUpdate=!0,r&&r(m,S))},o,l),m}}class A_ extends ta{constructor(t){super(t)}load(t,r,o,l){const d=new Di,m=new T8(this.manager);return m.setCrossOrigin(this.crossOrigin),m.setPath(this.path),m.load(t,function(_){d.image=_,d.needsUpdate=!0,r!==void 0&&r(d)},o,l),d}}class pf extends _i{constructor(t,r=1){super(),this.isLight=!0,this.type="Light",this.color=new sr(t),this.intensity=r}dispose(){}copy(t,r){return super.copy(t,r),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const r=super.toJSON(t);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,this.groundColor!==void 0&&(r.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(r.object.distance=this.distance),this.angle!==void 0&&(r.object.angle=this.angle),this.decay!==void 0&&(r.object.decay=this.decay),this.penumbra!==void 0&&(r.object.penumbra=this.penumbra),this.shadow!==void 0&&(r.object.shadow=this.shadow.toJSON()),r}}class iE extends pf{constructor(t,r,o){super(t,o),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(_i.DefaultUp),this.updateMatrix(),this.groundColor=new sr(r)}copy(t,r){return super.copy(t,r),this.groundColor.copy(t.groundColor),this}}const sE=new br,oE=new Ze,aE=new Ze;class y_{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Fn(512,512),this.map=null,this.mapPass=null,this.matrix=new br,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new i_,this._frameExtents=new Fn(1,1),this._viewportCount=1,this._viewports=[new Zr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const r=this.camera,o=this.matrix;oE.setFromMatrixPosition(t.matrixWorld),r.position.copy(oE),aE.setFromMatrixPosition(t.target.matrixWorld),r.lookAt(aE),r.updateMatrixWorld(),sE.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(sE),o.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),o.multiply(r.projectionMatrix),o.multiply(r.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class P8 extends y_{constructor(){super(new Wi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const r=this.camera,o=Yd*2*t.angle*this.focus,l=this.mapSize.width/this.mapSize.height,d=t.distance||r.far;(o!==r.fov||l!==r.aspect||d!==r.far)&&(r.fov=o,r.aspect=l,r.far=d,r.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class B8 extends pf{constructor(t,r,o=0,l=Math.PI/3,d=0,m=1){super(t,r),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(_i.DefaultUp),this.updateMatrix(),this.target=new _i,this.distance=o,this.angle=l,this.penumbra=d,this.decay=m,this.map=null,this.shadow=new P8}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,r){return super.copy(t,r),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const lE=new br,mf=new Ze,b_=new Ze;class D8 extends y_{constructor(){super(new Wi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Fn(4,2),this._viewportCount=6,this._viewports=[new Zr(2,1,1,1),new Zr(0,1,1,1),new Zr(3,1,1,1),new Zr(1,1,1,1),new Zr(3,0,1,1),new Zr(1,0,1,1)],this._cubeDirections=[new Ze(1,0,0),new Ze(-1,0,0),new Ze(0,0,1),new Ze(0,0,-1),new Ze(0,1,0),new Ze(0,-1,0)],this._cubeUps=[new Ze(0,1,0),new Ze(0,1,0),new Ze(0,1,0),new Ze(0,1,0),new Ze(0,0,1),new Ze(0,0,-1)]}updateMatrices(t,r=0){const o=this.camera,l=this.matrix,d=t.distance||o.far;d!==o.far&&(o.far=d,o.updateProjectionMatrix()),mf.setFromMatrixPosition(t.matrixWorld),o.position.copy(mf),b_.copy(o.position),b_.add(this._cubeDirections[r]),o.up.copy(this._cubeUps[r]),o.lookAt(b_),o.updateMatrixWorld(),l.makeTranslation(-mf.x,-mf.y,-mf.z),lE.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lE)}}class k8 extends pf{constructor(t,r,o=0,l=1){super(t,r),this.isPointLight=!0,this.type="PointLight",this.distance=o,this.decay=l,this.shadow=new D8}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,r){return super.copy(t,r),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class L8 extends y_{constructor(){super(new Bp(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class S_ extends pf{constructor(t,r){super(t,r),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(_i.DefaultUp),this.updateMatrix(),this.target=new _i,this.shadow=new L8}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class cE extends pf{constructor(t,r){super(t,r),this.isAmbientLight=!0,this.type="AmbientLight"}}class na{static decodeText(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let r="";for(let o=0,l=t.length;o<l;o++)r+=String.fromCharCode(t[o]);try{return decodeURIComponent(escape(r))}catch{return r}}static extractUrlBase(t){const r=t.lastIndexOf("/");return r===-1?"./":t.slice(0,r+1)}static resolveURL(t,r){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(r)&&/^\//.test(t)&&(r=r.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:r+t)}}class O8 extends ta{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,r,o,l){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const d=this,m=qu.get(t);if(m!==void 0)return d.manager.itemStart(t),setTimeout(function(){r&&r(m),d.manager.itemEnd(t)},0),m;const _={};_.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",_.headers=this.requestHeader,fetch(t,_).then(function(A){return A.blob()}).then(function(A){return createImageBitmap(A,Object.assign(d.options,{colorSpaceConversion:"none"}))}).then(function(A){qu.add(t,A),r&&r(A),d.manager.itemEnd(t)}).catch(function(A){l&&l(A),d.manager.itemError(t),d.manager.itemEnd(t)}),d.manager.itemStart(t)}}class F8{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=uE(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const r=uE();t=(r-this.oldTime)/1e3,this.oldTime=r,this.elapsedTime+=t}return t}}function uE(){return(typeof performance>"u"?Date:performance).now()}class V8{constructor(t,r,o){this.binding=t,this.valueSize=o;let l,d,m;switch(r){case"quaternion":l=this._slerp,d=this._slerpAdditive,m=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(o*6),this._workIndex=5;break;case"string":case"bool":l=this._select,d=this._select,m=this._setAdditiveIdentityOther,this.buffer=new Array(o*5);break;default:l=this._lerp,d=this._lerpAdditive,m=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(o*5)}this._mixBufferRegion=l,this._mixBufferRegionAdditive=d,this._setIdentity=m,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,r){const o=this.buffer,l=this.valueSize,d=t*l+l;let m=this.cumulativeWeight;if(m===0){for(let _=0;_!==l;++_)o[d+_]=o[_];m=r}else{m+=r;const _=r/m;this._mixBufferRegion(o,d,0,_,l)}this.cumulativeWeight=m}accumulateAdditive(t){const r=this.buffer,o=this.valueSize,l=o*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(r,l,0,t,o),this.cumulativeWeightAdditive+=t}apply(t){const r=this.valueSize,o=this.buffer,l=t*r+r,d=this.cumulativeWeight,m=this.cumulativeWeightAdditive,_=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,d<1){const A=r*this._origIndex;this._mixBufferRegion(o,l,A,1-d,r)}m>0&&this._mixBufferRegionAdditive(o,l,this._addIndex*r,1,r);for(let A=r,S=r+r;A!==S;++A)if(o[A]!==o[A+r]){_.setValue(o,l);break}}saveOriginalState(){const t=this.binding,r=this.buffer,o=this.valueSize,l=o*this._origIndex;t.getValue(r,l);for(let d=o,m=l;d!==m;++d)r[d]=r[l+d%o];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,r=t+this.valueSize;for(let o=t;o<r;o++)this.buffer[o]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,r=this._addIndex*this.valueSize;for(let o=0;o<this.valueSize;o++)this.buffer[r+o]=this.buffer[t+o]}_select(t,r,o,l,d){if(l>=.5)for(let m=0;m!==d;++m)t[r+m]=t[o+m]}_slerp(t,r,o,l){Rs.slerpFlat(t,r,t,r,t,o,l)}_slerpAdditive(t,r,o,l,d){const m=this._workIndex*d;Rs.multiplyQuaternionsFlat(t,m,t,r,t,o),Rs.slerpFlat(t,r,t,r,t,m,l)}_lerp(t,r,o,l,d){const m=1-l;for(let _=0;_!==d;++_){const A=r+_;t[A]=t[A]*m+t[o+_]*l}}_lerpAdditive(t,r,o,l,d){for(let m=0;m!==d;++m){const _=r+m;t[_]=t[_]+t[o+m]*l}}}const E_="\\[\\]\\.:\\/",G8=new RegExp("["+E_+"]","g"),w_="[^"+E_+"]",U8="[^"+E_.replace("\\.","")+"]",H8=/((?:WC+[\/:])*)/.source.replace("WC",w_),Q8=/(WCOD+)?/.source.replace("WCOD",U8),X8=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",w_),z8=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",w_),$8=new RegExp("^"+H8+Q8+X8+z8+"$"),W8=["material","materials","bones","map"];class K8{constructor(t,r,o){const l=o||Ur.parseTrackName(r);this._targetGroup=t,this._bindings=t.subscribe_(r,l)}getValue(t,r){this.bind();const o=this._targetGroup.nCachedObjects_,l=this._bindings[o];l!==void 0&&l.getValue(t,r)}setValue(t,r){const o=this._bindings;for(let l=this._targetGroup.nCachedObjects_,d=o.length;l!==d;++l)o[l].setValue(t,r)}bind(){const t=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=t.length;r!==o;++r)t[r].bind()}unbind(){const t=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=t.length;r!==o;++r)t[r].unbind()}}class Ur{constructor(t,r,o){this.path=r,this.parsedPath=o||Ur.parseTrackName(r),this.node=Ur.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,r,o){return t&&t.isAnimationObjectGroup?new Ur.Composite(t,r,o):new Ur(t,r,o)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(G8,"")}static parseTrackName(t){const r=$8.exec(t);if(r===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const o={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},l=o.nodeName&&o.nodeName.lastIndexOf(".");if(l!==void 0&&l!==-1){const d=o.nodeName.substring(l+1);W8.indexOf(d)!==-1&&(o.nodeName=o.nodeName.substring(0,l),o.objectName=d)}if(o.propertyName===null||o.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return o}static findNode(t,r){if(r===void 0||r===""||r==="."||r===-1||r===t.name||r===t.uuid)return t;if(t.skeleton){const o=t.skeleton.getBoneByName(r);if(o!==void 0)return o}if(t.children){const o=function(d){for(let m=0;m<d.length;m++){const _=d[m];if(_.name===r||_.uuid===r)return _;const A=o(_.children);if(A)return A}return null},l=o(t.children);if(l)return l}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,r){t[r]=this.targetObject[this.propertyName]}_getValue_array(t,r){const o=this.resolvedProperty;for(let l=0,d=o.length;l!==d;++l)t[r++]=o[l]}_getValue_arrayElement(t,r){t[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,r){this.resolvedProperty.toArray(t,r)}_setValue_direct(t,r){this.targetObject[this.propertyName]=t[r]}_setValue_direct_setNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,r){const o=this.resolvedProperty;for(let l=0,d=o.length;l!==d;++l)o[l]=t[r++]}_setValue_array_setNeedsUpdate(t,r){const o=this.resolvedProperty;for(let l=0,d=o.length;l!==d;++l)o[l]=t[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,r){const o=this.resolvedProperty;for(let l=0,d=o.length;l!==d;++l)o[l]=t[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,r){this.resolvedProperty[this.propertyIndex]=t[r]}_setValue_arrayElement_setNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,r){this.resolvedProperty.fromArray(t,r)}_setValue_fromArray_setNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,r){this.bind(),this.getValue(t,r)}_setValue_unbound(t,r){this.bind(),this.setValue(t,r)}bind(){let t=this.node;const r=this.parsedPath,o=r.objectName,l=r.propertyName;let d=r.propertyIndex;if(t||(t=Ur.findNode(this.rootNode,r.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(o){let S=r.objectIndex;switch(o){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let R=0;R<t.length;R++)if(t[R].name===S){S=R;break}break;case"map":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[o]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[o]}if(S!==void 0){if(t[S]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[S]}}const m=t[l];if(m===void 0){const S=r.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+S+"."+l+" but it wasn't found.",t);return}let _=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?_=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(_=this.Versioning.MatrixWorldNeedsUpdate);let A=this.BindingType.Direct;if(d!==void 0){if(l==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[d]!==void 0&&(d=t.morphTargetDictionary[d])}A=this.BindingType.ArrayElement,this.resolvedProperty=m,this.propertyIndex=d}else m.fromArray!==void 0&&m.toArray!==void 0?(A=this.BindingType.HasFromToArray,this.resolvedProperty=m):Array.isArray(m)?(A=this.BindingType.EntireArray,this.resolvedProperty=m):this.propertyName=l;this.getValue=this.GetterByBindingType[A],this.setValue=this.SetterByBindingTypeAndVersioning[A][_]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ur.Composite=K8,Ur.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Ur.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Ur.prototype.GetterByBindingType=[Ur.prototype._getValue_direct,Ur.prototype._getValue_array,Ur.prototype._getValue_arrayElement,Ur.prototype._getValue_toArray],Ur.prototype.SetterByBindingTypeAndVersioning=[[Ur.prototype._setValue_direct,Ur.prototype._setValue_direct_setNeedsUpdate,Ur.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ur.prototype._setValue_array,Ur.prototype._setValue_array_setNeedsUpdate,Ur.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ur.prototype._setValue_arrayElement,Ur.prototype._setValue_arrayElement_setNeedsUpdate,Ur.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ur.prototype._setValue_fromArray,Ur.prototype._setValue_fromArray_setNeedsUpdate,Ur.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class j8{constructor(t,r,o=null,l=r.blendMode){this._mixer=t,this._clip=r,this._localRoot=o,this.blendMode=l;const d=r.tracks,m=d.length,_=new Array(m),A={endingStart:wu,endingEnd:wu};for(let S=0;S!==m;++S){const R=d[S].createInterpolant(null);_[S]=R,R.settings=A}this._interpolantSettings=A,this._interpolants=_,this._propertyBindings=new Array(m),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=RB,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,r){return this.loop=t,this.repetitions=r,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,r,o){if(t.fadeOut(r),this.fadeIn(r),o){const l=this._clip.duration,d=t._clip.duration,m=d/l,_=l/d;t.warp(1,m,r),this.warp(_,1,r)}return this}crossFadeTo(t,r,o){return t.crossFadeFrom(this,r,o)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,r,o){const l=this._mixer,d=l.time,m=this.timeScale;let _=this._timeScaleInterpolant;_===null&&(_=l._lendControlInterpolant(),this._timeScaleInterpolant=_);const A=_.parameterPositions,S=_.sampleValues;return A[0]=d,A[1]=d+o,S[0]=t/m,S[1]=r/m,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,r,o,l){if(!this.enabled){this._updateWeight(t);return}const d=this._startTime;if(d!==null){const A=(t-d)*o;A<0||o===0?r=0:(this._startTime=null,r=o*A)}r*=this._updateTimeScale(t);const m=this._updateTime(r),_=this._updateWeight(t);if(_>0){const A=this._interpolants,S=this._propertyBindings;switch(this.blendMode){case NB:for(let R=0,I=A.length;R!==I;++R)A[R].evaluate(m),S[R].accumulateAdditive(_);break;case xv:default:for(let R=0,I=A.length;R!==I;++R)A[R].evaluate(m),S[R].accumulate(l,_)}}}_updateWeight(t){let r=0;if(this.enabled){r=this.weight;const o=this._weightInterpolant;if(o!==null){const l=o.evaluate(t)[0];r*=l,t>o.parameterPositions[1]&&(this.stopFading(),l===0&&(this.enabled=!1))}}return this._effectiveWeight=r,r}_updateTimeScale(t){let r=0;if(!this.paused){r=this.timeScale;const o=this._timeScaleInterpolant;o!==null&&(r*=o.evaluate(t)[0],t>o.parameterPositions[1]&&(this.stopWarping(),r===0?this.paused=!0:this.timeScale=r))}return this._effectiveTimeScale=r,r}_updateTime(t){const r=this._clip.duration,o=this.loop;let l=this.time+t,d=this._loopCount;const m=o===TB;if(t===0)return d===-1?l:m&&(d&1)===1?r-l:l;if(o===xB){d===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(l>=r)l=r;else if(l<0)l=0;else{this.time=l;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(d===-1&&(t>=0?(d=0,this._setEndings(!0,this.repetitions===0,m)):this._setEndings(this.repetitions===0,!0,m)),l>=r||l<0){const _=Math.floor(l/r);l-=r*_,d+=Math.abs(_);const A=this.repetitions-d;if(A<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,l=t>0?r:0,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(A===1){const S=t<0;this._setEndings(S,!S,m)}else this._setEndings(!1,!1,m);this._loopCount=d,this.time=l,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:_})}}else this.time=l;if(m&&(d&1)===1)return r-l}return l}_setEndings(t,r,o){const l=this._interpolantSettings;o?(l.endingStart=Cu,l.endingEnd=Cu):(t?l.endingStart=this.zeroSlopeAtStart?Cu:wu:l.endingStart=ap,r?l.endingEnd=this.zeroSlopeAtEnd?Cu:wu:l.endingEnd=ap)}_scheduleFading(t,r,o){const l=this._mixer,d=l.time;let m=this._weightInterpolant;m===null&&(m=l._lendControlInterpolant(),this._weightInterpolant=m);const _=m.parameterPositions,A=m.sampleValues;return _[0]=d,A[0]=r,_[1]=d+t,A[1]=o,this}}const q8=new Float32Array(1);class dE extends Ea{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,r){const o=t._localRoot||this._root,l=t._clip.tracks,d=l.length,m=t._propertyBindings,_=t._interpolants,A=o.uuid,S=this._bindingsByRootAndName;let R=S[A];R===void 0&&(R={},S[A]=R);for(let I=0;I!==d;++I){const N=l[I],D=N.name;let V=R[D];if(V!==void 0)++V.referenceCount,m[I]=V;else{if(V=m[I],V!==void 0){V._cacheIndex===null&&(++V.referenceCount,this._addInactiveBinding(V,A,D));continue}const O=r&&r._propertyBindings[I].binding.parsedPath;V=new V8(Ur.create(o,D,O),N.ValueTypeName,N.getValueSize()),++V.referenceCount,this._addInactiveBinding(V,A,D),m[I]=V}_[I].resultBuffer=V.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const o=(t._localRoot||this._root).uuid,l=t._clip.uuid,d=this._actionsByClip[l];this._bindAction(t,d&&d.knownActions[0]),this._addInactiveAction(t,l,o)}const r=t._propertyBindings;for(let o=0,l=r.length;o!==l;++o){const d=r[o];d.useCount++===0&&(this._lendBinding(d),d.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const r=t._propertyBindings;for(let o=0,l=r.length;o!==l;++o){const d=r[o];--d.useCount===0&&(d.restoreOriginalState(),this._takeBackBinding(d))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const r=t._cacheIndex;return r!==null&&r<this._nActiveActions}_addInactiveAction(t,r,o){const l=this._actions,d=this._actionsByClip;let m=d[r];if(m===void 0)m={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,d[r]=m;else{const _=m.knownActions;t._byClipCacheIndex=_.length,_.push(t)}t._cacheIndex=l.length,l.push(t),m.actionByRoot[o]=t}_removeInactiveAction(t){const r=this._actions,o=r[r.length-1],l=t._cacheIndex;o._cacheIndex=l,r[l]=o,r.pop(),t._cacheIndex=null;const d=t._clip.uuid,m=this._actionsByClip,_=m[d],A=_.knownActions,S=A[A.length-1],R=t._byClipCacheIndex;S._byClipCacheIndex=R,A[R]=S,A.pop(),t._byClipCacheIndex=null;const I=_.actionByRoot,N=(t._localRoot||this._root).uuid;delete I[N],A.length===0&&delete m[d],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const r=t._propertyBindings;for(let o=0,l=r.length;o!==l;++o){const d=r[o];--d.referenceCount===0&&this._removeInactiveBinding(d)}}_lendAction(t){const r=this._actions,o=t._cacheIndex,l=this._nActiveActions++,d=r[l];t._cacheIndex=l,r[l]=t,d._cacheIndex=o,r[o]=d}_takeBackAction(t){const r=this._actions,o=t._cacheIndex,l=--this._nActiveActions,d=r[l];t._cacheIndex=l,r[l]=t,d._cacheIndex=o,r[o]=d}_addInactiveBinding(t,r,o){const l=this._bindingsByRootAndName,d=this._bindings;let m=l[r];m===void 0&&(m={},l[r]=m),m[o]=t,t._cacheIndex=d.length,d.push(t)}_removeInactiveBinding(t){const r=this._bindings,o=t.binding,l=o.rootNode.uuid,d=o.path,m=this._bindingsByRootAndName,_=m[l],A=r[r.length-1],S=t._cacheIndex;A._cacheIndex=S,r[S]=A,r.pop(),delete _[d],Object.keys(_).length===0&&delete m[l]}_lendBinding(t){const r=this._bindings,o=t._cacheIndex,l=this._nActiveBindings++,d=r[l];t._cacheIndex=l,r[l]=t,d._cacheIndex=o,r[o]=d}_takeBackBinding(t){const r=this._bindings,o=t._cacheIndex,l=--this._nActiveBindings,d=r[l];t._cacheIndex=l,r[l]=t,d._cacheIndex=o,r[o]=d}_lendControlInterpolant(){const t=this._controlInterpolants,r=this._nActiveControlInterpolants++;let o=t[r];return o===void 0&&(o=new tE(new Float32Array(2),new Float32Array(2),1,q8),o.__cacheIndex=r,t[r]=o),o}_takeBackControlInterpolant(t){const r=this._controlInterpolants,o=t.__cacheIndex,l=--this._nActiveControlInterpolants,d=r[l];t.__cacheIndex=l,r[l]=t,d.__cacheIndex=o,r[o]=d}clipAction(t,r,o){const l=r||this._root,d=l.uuid;let m=typeof t=="string"?Kp.findByName(l,t):t;const _=m!==null?m.uuid:t,A=this._actionsByClip[_];let S=null;if(o===void 0&&(m!==null?o=m.blendMode:o=xv),A!==void 0){const I=A.actionByRoot[d];if(I!==void 0&&I.blendMode===o)return I;S=A.knownActions[0],m===null&&(m=S._clip)}if(m===null)return null;const R=new j8(this,m,r,o);return this._bindAction(R,S),this._addInactiveAction(R,_,d),R}existingAction(t,r){const o=r||this._root,l=o.uuid,d=typeof t=="string"?Kp.findByName(o,t):t,m=d?d.uuid:t,_=this._actionsByClip[m];return _!==void 0&&_.actionByRoot[l]||null}stopAllAction(){const t=this._actions,r=this._nActiveActions;for(let o=r-1;o>=0;--o)t[o].stop();return this}update(t){t*=this.timeScale;const r=this._actions,o=this._nActiveActions,l=this.time+=t,d=Math.sign(t),m=this._accuIndex^=1;for(let S=0;S!==o;++S)r[S]._update(l,t,d,m);const _=this._bindings,A=this._nActiveBindings;for(let S=0;S!==A;++S)_[S].apply(m);return this}setTime(t){this.time=0;for(let r=0;r<this._actions.length;r++)this._actions[r].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const r=this._actions,o=t.uuid,l=this._actionsByClip,d=l[o];if(d!==void 0){const m=d.knownActions;for(let _=0,A=m.length;_!==A;++_){const S=m[_];this._deactivateAction(S);const R=S._cacheIndex,I=r[r.length-1];S._cacheIndex=null,S._byClipCacheIndex=null,I._cacheIndex=R,r[R]=I,r.pop(),this._removeInactiveBindingsForAction(S)}delete l[o]}}uncacheRoot(t){const r=t.uuid,o=this._actionsByClip;for(const m in o){const _=o[m].actionByRoot,A=_[r];A!==void 0&&(this._deactivateAction(A),this._removeInactiveAction(A))}const l=this._bindingsByRootAndName,d=l[r];if(d!==void 0)for(const m in d){const _=d[m];_.restoreOriginalState(),this._removeInactiveBinding(_)}}uncacheAction(t,r){const o=this.existingAction(t,r);o!==null&&(this._deactivateAction(o),this._removeInactiveAction(o))}}class Y8{constructor(t,r,o=0,l=1/0){this.ray=new yp(t,r),this.near=o,this.far=l,this.camera=null,this.layers=new $v,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,r){this.ray.set(t,r)}setFromCamera(t,r){r.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(r).sub(this.ray.origin).normalize(),this.camera=r):r.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(r.near+r.far)/(r.near-r.far)).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld),this.camera=r):console.error("THREE.Raycaster: Unsupported camera type: "+r.type)}intersectObject(t,r=!0,o=[]){return C_(t,this,o,r),o.sort(fE),o}intersectObjects(t,r=!0,o=[]){for(let l=0,d=t.length;l<d;l++)C_(t[l],this,o,r);return o.sort(fE),o}}function fE(p,t){return p.distance-t.distance}function C_(p,t,r,o){if(p.layers.test(t.layers)&&p.raycast(t,r),o===!0){const l=p.children;for(let d=0,m=l.length;d<m;d++)C_(l[d],t,r,!0)}}class hE{constructor(t=1,r=0,o=0){return this.radius=t,this.phi=r,this.theta=o,this}set(t,r,o){return this.radius=t,this.phi=r,this.theta=o,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,r,o){return this.radius=Math.sqrt(t*t+r*r+o*o),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,o),this.phi=Math.acos($i(r/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const jp=new Yo;class pE extends g_{constructor(t,r=16776960){const o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),l=new Float32Array(8*3),d=new Oi;d.setIndex(new ei(o,1)),d.setAttribute("position",new ei(l,3)),super(d,new Qp({color:r,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(t!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&jp.setFromObject(this.object),jp.isEmpty())return;const r=jp.min,o=jp.max,l=this.geometry.attributes.position,d=l.array;d[0]=o.x,d[1]=o.y,d[2]=o.z,d[3]=r.x,d[4]=o.y,d[5]=o.z,d[6]=r.x,d[7]=r.y,d[8]=o.z,d[9]=o.x,d[10]=r.y,d[11]=o.z,d[12]=o.x,d[13]=o.y,d[14]=r.z,d[15]=r.x,d[16]=o.y,d[17]=r.z,d[18]=r.x,d[19]=r.y,d[20]=r.z,d[21]=o.x,d[22]=r.y,d[23]=r.z,l.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,r){return super.copy(t,r),this.object=t.object,this}}class J8 extends g_{constructor(t=1){const r=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],o=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],l=new Oi;l.setAttribute("position",new ki(r,3)),l.setAttribute("color",new ki(o,3));const d=new Qp({vertexColors:!0,toneMapped:!1});super(l,d),this.type="AxesHelper"}setColors(t,r,o){const l=new sr,d=this.geometry.attributes.color.array;return l.set(t),l.toArray(d,0),l.toArray(d,3),l.set(r),l.toArray(d,6),l.toArray(d,9),l.set(o),l.toArray(d,12),l.toArray(d,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const Na=Z8();function Z8(){const p=new ArrayBuffer(4),t=new Float32Array(p),r=new Uint32Array(p),o=new Uint32Array(512),l=new Uint32Array(512);for(let A=0;A<256;++A){const S=A-127;S<-27?(o[A]=0,o[A|256]=32768,l[A]=24,l[A|256]=24):S<-14?(o[A]=1024>>-S-14,o[A|256]=1024>>-S-14|32768,l[A]=-S-1,l[A|256]=-S-1):S<=15?(o[A]=S+15<<10,o[A|256]=S+15<<10|32768,l[A]=13,l[A|256]=13):S<128?(o[A]=31744,o[A|256]=64512,l[A]=24,l[A|256]=24):(o[A]=31744,o[A|256]=64512,l[A]=13,l[A|256]=13)}const d=new Uint32Array(2048),m=new Uint32Array(64),_=new Uint32Array(64);for(let A=1;A<1024;++A){let S=A<<13,R=0;for(;(S&8388608)===0;)S<<=1,R-=8388608;S&=-8388609,R+=947912704,d[A]=S|R}for(let A=1024;A<2048;++A)d[A]=939524096+(A-1024<<13);for(let A=1;A<31;++A)m[A]=A<<23;m[31]=1199570944,m[32]=2147483648;for(let A=33;A<63;++A)m[A]=2147483648+(A-32<<23);m[63]=3347054592;for(let A=1;A<64;++A)A!==32&&(_[A]=1024);return{floatView:t,uint32View:r,baseTable:o,shiftTable:l,mantissaTable:d,exponentTable:m,offsetTable:_}}function e4(p){Math.abs(p)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),p=$i(p,-65504,65504),Na.floatView[0]=p;const t=Na.uint32View[0],r=t>>23&511;return Na.baseTable[r]+((t&8388607)>>Na.shiftTable[r])}function t4(p){const t=p>>10;return Na.uint32View[0]=Na.mantissaTable[Na.offsetTable[t]+(p&1023)]+Na.exponentTable[t],Na.floatView[0]}var qp=Object.freeze({__proto__:null,toHalfFloat:e4,fromHalfFloat:t4});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:E}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=E);var I_=function(){function p(t){this.directionalLight=null,this.currentCamera=t,this.viewpoint=new Al}return p.prototype.setCameraViewPoint=function(){this.currentCamera.near=this.viewpoint.nearPlane,this.currentCamera.far=this.viewpoint.farPlane,this.currentCamera.position.set(this.viewpoint.eyePosition[0],this.viewpoint.eyePosition[1],this.viewpoint.eyePosition[2]),this.currentCamera.lookAt(this.viewpoint.targetPosition[0],this.viewpoint.targetPosition[1],this.viewpoint.targetPosition[2]),this.currentCamera.up.set(this.viewpoint.upVector[0],this.viewpoint.upVector[1],this.viewpoint.upVector[2]),this.currentCamera.updateProjectionMatrix(),this.updateDirectionalLight()},p.prototype.updateCameraViewPoint=function(t){this.viewpoint=t,this.setCameraViewPoint()},p.prototype.updateDirectionalLight=function(t){t&&(this.directionalLight=t,this.directionalLight.position.set(this.currentCamera.position.x,this.currentCamera.position.y,this.currentCamera.position.z))},p}(),Al=function(){function p(){this.nearPlane=.1,this.farPlane=2e3,this.eyePosition=[0,0,0],this.targetPosition=[0,0,0],this.upVector=[0,1,0]}return p}(),n4=`#define GLSLIFY 1
attribute vec3 position;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;varying vec2 vUv;void main(){gl_Position=vec4(position,1.0);vUv=vec2(position.x,position.y)*0.5+0.5;}`,r4=`precision mediump float;
#define GLSLIFY 1
vec3 mod289_0(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289_0(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute_0(vec4 x){return mod289_0(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt_0(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float pnoise(vec3 P,vec3 rep){vec3 Pi0=mod(floor(P),rep);vec3 Pi1=mod(Pi0+vec3(1.0),rep);Pi0=mod289_0(Pi0);Pi1=mod289_0(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute_0(permute_0(ix)+iy);vec4 ixy0=permute_0(ixy+iz0);vec4 ixy1=permute_0(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt_0(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt_0(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}vec3 mod289_1(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289_1(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute_1(vec4 x){return mod289_1(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt_1(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g_0=step(x0.yzx,x0.xyz);vec3 l=1.0-g_0;vec3 i1=min(g_0.xyz,l.zxy);vec3 i2=max(g_0.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289_1(i);vec4 p=permute_1(permute_1(permute_1(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt_1(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}float grain(vec2 texCoord,vec2 resolution,float frame,float multiplier){vec2 mult=texCoord*resolution;float offset=snoise(vec3(mult/multiplier,frame));float n1=pnoise(vec3(mult,offset),vec3(1.0/texCoord*resolution,1.0));return n1/2.0+0.5;}float grain(vec2 texCoord,vec2 resolution,float frame){return grain(texCoord,resolution,frame,2.5);}float grain(vec2 texCoord,vec2 resolution){return grain(texCoord,resolution,0.0);}vec3 blendSoftLight(vec3 base,vec3 blend){return mix(sqrt(base)*(2.0*blend-1.0)+2.0*base*(1.0-blend),2.0*base*blend+base*base*(1.0-2.0*blend),step(base,vec3(0.5)));}uniform vec3 color1;uniform vec3 color2;uniform float aspect;uniform vec2 offset;uniform vec2 scale;uniform float noiseAlpha;uniform bool aspectCorrection;uniform float grainScale;uniform float grainTime;uniform vec2 smooth;varying vec2 vUv;void main(){vec2 q=vec2(vUv-0.5);if(aspectCorrection){q.x*=aspect;}q/=scale;q-=offset;float dst=length(q);dst=smoothstep(smooth.x,smooth.y,dst);vec3 color=mix(color1,color2,dst);if(noiseAlpha>0.0&&grainScale>0.0){float gSize=1.0/grainScale;float g=grain(vUv,vec2(gSize*aspect,gSize),grainTime);vec3 noiseColor=blendSoftLight(color,vec3(g));gl_FragColor.rgb=mix(color,noiseColor,noiseAlpha);}else{gl_FragColor.rgb=color;}gl_FragColor.a=1.0;}`;function mE(p){p=p||{};var t=p.geometry||new vc(2,2,1),r=new y8({vertexShader:n4,fragmentShader:r4,side:H,uniforms:{aspectCorrection:{value:!1},aspect:{value:1},grainScale:{value:.005},grainTime:{value:0},noiseAlpha:{value:.25},offset:{value:new Fn(0,0)},scale:{value:new Fn(1,1)},smooth:{value:new Fn(0,1)},color1:{value:new sr("#fff")},color2:{value:new sr("#283844")}},depthTest:!1}),o=new Fi(t,r);o.frustumCulled=!1;var l={mesh:o,style:function(){}};l.style=function(m){if(m=m||{},Array.isArray(m.colors)){var _=m.colors.map(function(D){return typeof D=="string"||typeof D=="number"?new sr(D):D});r.uniforms.color1.value.copy(_[0]),r.uniforms.color2.value.copy(_[1])}if(typeof m.aspect=="number"&&(r.uniforms.aspect.value=m.aspect),typeof m.grainScale=="number"&&(r.uniforms.grainScale.value=m.grainScale),typeof m.grainTime=="number"&&(r.uniforms.grainTime.value=m.grainTime),m.smooth){var A=d(m.smooth);r.uniforms.smooth.value.copy(A)}if(m.offset){var S=d(m.offset);r.uniforms.offset.value.copy(S)}if(typeof m.noiseAlpha=="number"&&(r.uniforms.noiseAlpha.value=m.noiseAlpha),typeof m.scale<"u"){var R=m.scale,I=[];typeof R=="number"&&(I=[R,R]);var N=d(I);r.uniforms.scale.value.copy(N)}typeof m.aspectCorrection<"u"&&(r.uniforms.aspectCorrection.value=Boolean(m.aspectCorrection))};function d(m){return Array.isArray(m)?new Fn().fromArray(m):m}return p?l.style(p):l.style(),l}function i4(p){var t=document.fullscreenElement||document.webkitFullscreenElement;t?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():p.requestFullscreen?p.requestFullscreen():p.webkitRequestFullscreen&&p.webkitRequestFullscreen()}function gE(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function s4(p,t){p.traverse(function(r){!r.isMesh||(Array.isArray(r.material)?t(r.material):[r.material].forEach(t))})}function vE(){var p=document.createElement("div"),t=document.createElement("div"),r=document.createElement("div");return p.style.position="relative",p.style.display="none",r.style.color="#000",p.style.zIndex="1000",p.className="copper3D_flex-center",t.className="copper3D_three-balls-bounce",r.className="copper3D_loading_progress",t.innerHTML="<div class='copper3D_circle'></div><div class='copper3D_circle'></div><div class='copper3D_circle'></div><div class='copper3D_shadow'></div><div class='copper3D_shadow'></div><div class='copper3D_shadow'></div>",p.appendChild(t),p.appendChild(r),{loadingContainer:p,progress:r}}function o4(p,t){return function(r){return((r-t)/p+.5)*255}}function a4(p,t){var r=Math.max.apply(Math,p.lut).toString(2).length,o=r-8,l=p.lut[0]>>o,d=p.lut[p.lut.length-1]>>o,m=p.firstValueMapped+p.lut.length-1;return function(_){return _<p.firstValueMapped?l:_>=m?d:t?p.lut[Math.round(_)-p.firstValueMapped]>>o:p.lut[_-p.firstValueMapped]>>o}}function l4(p,t,r,o){return r?a4(r,o):o4(p,t)}var c4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof lo<"u"?lo:typeof self<"u"?self:{};function _E(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}function AE(p,t){return t={exports:{}},p(t,t.exports),t.exports}var u4=AE(function(p,t){/*! dicom-parser - 1.8.12 - 2022-02-07 | (c) 2017 Chris Hafey | https://github.com/cornerstonejs/dicomParser */(function(r,o){p.exports=o(u.default)})(c4,function(r){return l=[function(m,_){m.exports=r},function(m,_,A){A.r(_),A.d(_,"isStringVr",function(){return R}),A.d(_,"isPrivateTag",function(){return I}),A.d(_,"parsePN",function(){return N}),A.d(_,"parseTM",function(){return D}),A.d(_,"parseDA",function(){return O}),A.d(_,"explicitElementToString",function(){return k}),A.d(_,"explicitDataSetToJS",function(){return U}),A.d(_,"createJPEGBasicOffsetTable",function(){return ne}),A.d(_,"parseDicomDataSetExplicit",function(){return Ft}),A.d(_,"parseDicomDataSetImplicit",function(){return Kt}),A.d(_,"readFixedString",function(){return Y}),A.d(_,"alloc",function(){return c}),A.d(_,"version",function(){return Ln}),A.d(_,"bigEndianByteArrayParser",function(){return ut}),A.d(_,"ByteStream",function(){return qt}),A.d(_,"sharedCopy",function(){return Xe}),A.d(_,"DataSet",function(){return Oe}),A.d(_,"findAndSetUNElementLength",function(){return Ae}),A.d(_,"findEndOfEncapsulatedElement",function(){return re}),A.d(_,"findItemDelimitationItemAndSetElementLength",function(){return tt}),A.d(_,"littleEndianByteArrayParser",function(){return $t}),A.d(_,"parseDicom",function(){return Hn}),A.d(_,"readDicomElementExplicit",function(){return Gt}),A.d(_,"readDicomElementImplicit",function(){return ke}),A.d(_,"readEncapsulatedImageFrame",function(){return zn}),A.d(_,"readEncapsulatedPixelData",function(){return Tt}),A.d(_,"readEncapsulatedPixelDataFromFragments",function(){return on}),A.d(_,"readPart10Header",function(){return Cn}),A.d(_,"readSequenceItemsExplicit",function(){return Je}),A.d(_,"readSequenceItemsImplicit",function(){return dt}),A.d(_,"readSequenceItem",function(){return st}),A.d(_,"readTag",function(){return j});var S={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:void 0,UR:!0,US:!1,UT:!0},R=function(ae){return S[ae]},I=function(ae){return parseInt(ae[4],10)%2==1},N=function(ae){if(ae!==void 0)return ae=ae.split("^"),{familyName:ae[0],givenName:ae[1],middleName:ae[2],prefix:ae[3],suffix:ae[4]}};function D(ae,z){if(2<=ae.length){var K=parseInt(ae.substring(0,2),10),le=4<=ae.length?parseInt(ae.substring(2,4),10):void 0,Ne=6<=ae.length?parseInt(ae.substring(4,6),10):void 0,Ye=8<=ae.length?ae.substring(7,13):void 0,Ye=Ye?parseInt(Ye,10)*Math.pow(10,6-Ye.length):void 0;if(z&&(isNaN(K)||le!==void 0&&isNaN(le)||Ne!==void 0&&isNaN(Ne)||Ye!==void 0&&isNaN(Ye)||K<0||23<K||le&&(le<0||59<le)||Ne&&(Ne<0||59<Ne)||Ye&&(Ye<0||999999<Ye)))throw"invalid TM '".concat(ae,"'");return{hours:K,minutes:le,seconds:Ne,fractionalSeconds:Ye}}if(z)throw"invalid TM '".concat(ae,"'")}function V(ae,z,K){return!isNaN(K)&&0<z&&z<=12&&0<ae&&ae<=function(le,Ne){switch(le){case 2:return Ne%4==0&&Ne%100||Ne%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}}(z,K)}function O(ae,z){if(ae&&ae.length===8){var K=parseInt(ae.substring(0,4),10),le=parseInt(ae.substring(4,6),10),Ne=parseInt(ae.substring(6,8),10);if(z&&V(Ne,le,K)!==!0)throw"invalid DA '".concat(ae,"'");return{year:K,month:le,day:Ne}}if(z)throw"invalid DA '".concat(ae,"'")}function k(ae,z){if(ae===void 0||z===void 0)throw"dicomParser.explicitElementToString: missing required parameters";if(z.vr===void 0)throw"dicomParser.explicitElementToString: cannot convert implicit element to string";var K,le=z.vr,Ne=z.tag;function Ye(sn,Ie){for(var Jt="",ln=0;ln<sn;ln++)ln!==0&&(Jt+="/"),Jt+=Ie.call(ae,Ne,ln).toString();return Jt}if(R(le)===!0)K=ae.string(Ne);else{if(le==="AT"){var Mt=ae.uint32(Ne);return Mt===void 0?void 0:"x".concat((Mt=Mt<0?4294967295+Mt+1:Mt).toString(16).toUpperCase())}le==="US"?K=Ye(z.length/2,ae.uint16):le==="SS"?K=Ye(z.length/2,ae.int16):le==="UL"?K=Ye(z.length/4,ae.uint32):le==="SL"?K=Ye(z.length/4,ae.int32):le==="FD"?K=Ye(z.length/8,ae.double):le==="FL"&&(K=Ye(z.length/4,ae.float))}return K}function U(ae,z){if(ae===void 0)throw"dicomParser.explicitDataSetToJS: missing required parameter dataSet";z=z||{omitPrivateAttibutes:!0,maxElementLength:128};var K,le={};for(K in ae.elements){var Ne=ae.elements[K];if(z.omitPrivateAttibutes!==!0||!I(K))if(Ne.items){for(var Ye=[],Mt=0;Mt<Ne.items.length;Mt++)Ye.push(U(Ne.items[Mt].dataSet,z));le[K]=Ye}else{var sn=void 0;Ne.length<z.maxElementLength&&(sn=k(ae,Ne)),le[K]=sn!==void 0?sn:{dataOffset:Ne.dataOffset,length:Ne.length}}}return le}function W(ae,z){return ae.byteArray[z]===255&&ae.byteArray[z+1]===217}function Z(ae,z,K){for(var le,Ne,Ye=K;Ye<z.fragments.length;Ye++)if(le=ae,Ne=Ye,Ne=z.fragments[Ne],!(!W(le,Ne.position+Ne.length-2)&&!W(le,Ne.position+Ne.length-3)))return Ye}function ne(ae,z,K){if(ae===void 0)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet";if(z===void 0)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement";if(z.tag!=="x7fe00010")throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'";if(z.encapsulatedPixelData!==!0||z.hadUndefinedLength!==!0||z.basicOffsetTable===void 0||z.fragments===void 0||z.fragments.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(K&&K.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length";K=K||z.fragments;for(var le=[],Ne=0;;){le.push(z.fragments[Ne].offset);var Ye=Z(ae,z,Ne);if(Ye===void 0||Ye===z.fragments.length-1)return le;Ne=Ye+1}}function j(K){if(K===void 0)throw"dicomParser.readTag: missing required parameter 'byteStream'";var z=256*K.readUint16()*256,K=K.readUint16();return"x".concat("00000000".concat((z+K).toString(16)).substr(-8))}function re(ae,z,K){if(ae===void 0)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'";if(z===void 0)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'";if(z.encapsulatedPixelData=!0,z.basicOffsetTable=[],z.fragments=[],j(ae)!=="xfffee000")throw"dicomParser.findEndOfEncapsulatedElement: basic offset table not found";for(var le=ae.readUint32()/4,Ne=0;Ne<le;Ne++){var Ye=ae.readUint32();z.basicOffsetTable.push(Ye)}for(var Mt=ae.position;ae.position<ae.byteArray.length;){var sn=j(ae),Ie=ae.readUint32();if(sn==="xfffee0dd")return ae.seek(Ie),void(z.length=ae.position-z.dataOffset);if(sn!=="xfffee000")return K&&K.push("unexpected tag ".concat(sn," while searching for end of pixel data element with undefined length")),Ie>ae.byteArray.length-ae.position&&(Ie=ae.byteArray.length-ae.position),z.fragments.push({offset:ae.position-Mt-8,position:ae.position,length:Ie}),ae.seek(Ie),void(z.length=ae.position-z.dataOffset);z.fragments.push({offset:ae.position-Mt-8,position:ae.position,length:Ie}),ae.seek(Ie)}K&&K.push("pixel data element ".concat(z.tag," missing sequence delimiter tag xfffee0dd"))}function Ae(ae,z){if(ae===void 0)throw"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'";for(var K=ae.byteArray.length-8;ae.position<=K;)if(ae.readUint16()===65534){var le=ae.readUint16();if(le===57565)return ae.readUint32()!==0&&ae.warnings("encountered non zero length following item delimiter at position ".concat(ae.position-4," while reading element of undefined length with tag ").concat(z.tag)),void(z.length=ae.position-z.dataOffset)}z.length=ae.byteArray.length-z.dataOffset,ae.seek(ae.byteArray.length-ae.position)}function Y(ae,z,K){if(K<0)throw"dicomParser.readFixedString - length cannot be less than 0";if(z+K>ae.length)throw"dicomParser.readFixedString: attempt to read past end of buffer";for(var le,Ne="",Ye=0;Ye<K;Ye++){if((le=ae[z+Ye])===0)return z+=K,Ne;Ne+=String.fromCharCode(le)}return Ne}function pe(ae,z){for(var K=0;K<z.length;K++){var le=z[K];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(ae,le.key,le)}}function we(ae,z){return ae.parser!==void 0?ae.parser:z}var Oe=function(){function ae(le,Ne,Ye){(function(Mt,sn){if(!(Mt instanceof sn))throw new TypeError("Cannot call a class as a function")})(this,ae),this.byteArrayParser=le,this.byteArray=Ne,this.elements=Ye}var z,K;return z=ae,(K=[{key:"uint16",value:function(le,Ne){if(le=this.elements[le],Ne=Ne!==void 0?Ne:0,le&&le.length!==0)return we(le,this.byteArrayParser).readUint16(this.byteArray,le.dataOffset+2*Ne)}},{key:"int16",value:function(le,Ne){if(le=this.elements[le],Ne=Ne!==void 0?Ne:0,le&&le.length!==0)return we(le,this.byteArrayParser).readInt16(this.byteArray,le.dataOffset+2*Ne)}},{key:"uint32",value:function(le,Ne){if(le=this.elements[le],Ne=Ne!==void 0?Ne:0,le&&le.length!==0)return we(le,this.byteArrayParser).readUint32(this.byteArray,le.dataOffset+4*Ne)}},{key:"int32",value:function(le,Ne){if(le=this.elements[le],Ne=Ne!==void 0?Ne:0,le&&le.length!==0)return we(le,this.byteArrayParser).readInt32(this.byteArray,le.dataOffset+4*Ne)}},{key:"float",value:function(le,Ne){if(le=this.elements[le],Ne=Ne!==void 0?Ne:0,le&&le.length!==0)return we(le,this.byteArrayParser).readFloat(this.byteArray,le.dataOffset+4*Ne)}},{key:"double",value:function(le,Ne){if(le=this.elements[le],Ne=Ne!==void 0?Ne:0,le&&le.length!==0)return we(le,this.byteArrayParser).readDouble(this.byteArray,le.dataOffset+8*Ne)}},{key:"numStringValues",value:function(le){if(le=this.elements[le],le&&0<le.length)return le=Y(this.byteArray,le.dataOffset,le.length).match(/\\/g),le===null?1:le.length+1}},{key:"string",value:function(le,Ne){if(le=this.elements[le],le&&le.Value)return le.Value;if(le&&0<le.length)return le=Y(this.byteArray,le.dataOffset,le.length),0<=Ne?le.split("\\")[Ne].trim():le.trim()}},{key:"text",value:function(le,Ne){if(le=this.elements[le],le&&0<le.length)return le=Y(this.byteArray,le.dataOffset,le.length),0<=Ne?le.split("\\")[Ne].replace(/ +$/,""):le.replace(/ +$/,"")}},{key:"floatString",value:function(le,Ne){var Ye=this.elements[le];if(Ye&&0<Ye.length&&(Ne=this.string(le,Ne=Ne!==void 0?Ne:0),Ne!==void 0))return parseFloat(Ne)}},{key:"intString",value:function(le,Ne){var Ye=this.elements[le];if(Ye&&0<Ye.length&&(Ne=this.string(le,Ne=Ne!==void 0?Ne:0),Ne!==void 0))return parseInt(Ne)}},{key:"attributeTag",value:function(le){var Ne=this.elements[le];if(Ne&&Ne.length===4){var Ye=we(Ne,this.byteArrayParser).readUint16,le=this.byteArray,Ne=Ne.dataOffset;return"x".concat("00000000".concat((256*Ye(le,Ne)*256+Ye(le,Ne+2)).toString(16)).substr(-8))}}}])&&pe(z.prototype,K),Object.defineProperty(z,"prototype",{writable:!1}),ae}();function tt(ae,z){if(ae===void 0)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";for(var K=ae.byteArray.length-8;ae.position<=K;)if(ae.readUint16()===65534){var le=ae.readUint16();if(le===57357)return ae.readUint32()!==0&&ae.warnings("encountered non zero length following item delimiter at position ".concat(ae.position-4," while reading element of undefined length with tag ").concat(z.tag)),void(z.length=ae.position-z.dataOffset)}z.length=ae.byteArray.length-z.dataOffset,ae.seek(ae.byteArray.length-ae.position)}var Re=function(ae,z,K){return K!==void 0?K(ae.tag)==="SQ":z.position+4<=z.byteArray.length?(ae=j(z),z.seek(-4),ae==="xfffee000"||ae==="xfffee0dd"):(z.warnings.push("eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR"),!1)};function ke(ae,z,K){if(ae===void 0)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";var le={tag:j(ae),length:ae.readUint32(),dataOffset:ae.position};return le.length===4294967295&&(le.hadUndefinedLength=!0),le.tag===z||(Re(le,ae,K)&&!I(le.tag)?dt(ae,le):le.hadUndefinedLength?tt(ae,le):ae.seek(le.length)),le}function st(ae){if(ae===void 0)throw"dicomParser.readSequenceItem: missing required parameter 'byteStream'";var z={tag:j(ae),length:ae.readUint32(),dataOffset:ae.position};if(z.tag!=="xfffee000")throw"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset ".concat(ae.position);return z}function ht(ae,z){var K=st(ae);return K.length===4294967295?(K.hadUndefinedLength=!0,K.dataSet=function(le,Ne){for(var Ye={};le.position<le.byteArray.length;){var Mt=ke(le,void 0,Ne);if((Ye[Mt.tag]=Mt).tag==="xfffee00d")return new Oe(le.byteArrayParser,le.byteArray,Ye)}return le.warnings.push("eof encountered before finding sequence item delimiter in sequence item of undefined length"),new Oe(le.byteArrayParser,le.byteArray,Ye)}(ae,z),K.length=ae.position-K.dataOffset):(K.dataSet=new Oe(ae.byteArrayParser,ae.byteArray,{}),Kt(K.dataSet,ae,ae.position+K.length,{vrCallback:z})),K}function dt(ae,z,K){if(ae===void 0)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'";if(z===void 0)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'";z.items=[],(z.length===4294967295?function(le,Ne,Ye){for(;le.position+4<=le.byteArray.length;){var Mt=j(le);if(le.seek(-4),Mt==="xfffee0dd")return Ne.length=le.position-Ne.dataOffset,le.seek(8);Mt=ht(le,Ye),Ne.items.push(Mt)}le.warnings.push("eof encountered before finding sequence delimiter in sequence of undefined length"),Ne.length=le.byteArray.length-Ne.dataOffset}:function(le,Ne,Ye){for(var Mt=Ne.dataOffset+Ne.length;le.position<Mt;){var sn=ht(le,Ye);Ne.items.push(sn)}})(ae,z,K)}function De(ae,z){var K=st(ae);return K.length===4294967295?(K.hadUndefinedLength=!0,K.dataSet=function(le,Ne){for(var Ye={};le.position<le.byteArray.length;){var Mt=Gt(le,Ne);if((Ye[Mt.tag]=Mt).tag==="xfffee00d")return new Oe(le.byteArrayParser,le.byteArray,Ye)}return Ne.push("eof encountered before finding item delimiter tag while reading sequence item of undefined length"),new Oe(le.byteArrayParser,le.byteArray,Ye)}(ae,z),K.length=ae.position-K.dataOffset):(K.dataSet=new Oe(ae.byteArrayParser,ae.byteArray,{}),Ft(K.dataSet,ae,ae.position+K.length)),K}function Je(ae,z,K){if(ae===void 0)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'";if(z===void 0)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'";z.items=[],(z.length===4294967295?function(le,Ne,Ye){for(;le.position+4<=le.byteArray.length;){var Mt=j(le);if(le.seek(-4),Mt==="xfffee0dd")return Ne.length=le.position-Ne.dataOffset,le.seek(8);Mt=De(le,Ye),Ne.items.push(Mt)}Ye.push("eof encountered before finding sequence delimitation tag while reading sequence of undefined length"),Ne.length=le.position-Ne.dataOffset}:function(le,Ne,Ye){for(var Mt=Ne.dataOffset+Ne.length;le.position<Mt;){var sn=De(le,Ye);Ne.items.push(sn)}})(ae,z,K)}var ct=function(ae){return ae==="OB"||ae==="OD"||ae==="OL"||ae==="OW"||ae==="SQ"||ae==="OF"||ae==="UC"||ae==="UR"||ae==="UT"||ae==="UN"?4:2};function Gt(ae,z,K){if(ae===void 0)throw"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'";var le={tag:j(ae),vr:ae.readFixedString(2)};return ct(le.vr)===2?le.length=ae.readUint16():(ae.seek(2),le.length=ae.readUint32()),le.dataOffset=ae.position,le.length===4294967295&&(le.hadUndefinedLength=!0),le.tag===K||(le.vr==="SQ"?Je(ae,le,z):le.length===4294967295?le.tag==="x7fe00010"?re(ae,le,z):(le.vr==="UN"?dt:tt)(ae,le):ae.seek(le.length)),le}function Ft(ae,z,K){var le=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};if(K=K===void 0?z.byteArray.length:K,z===void 0)throw"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'";if(K<z.position||K>z.byteArray.length)throw"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'";for(var Ne=ae.elements;z.position<K;){var Ye=Gt(z,ae.warnings,le.untilTag);if((Ne[Ye.tag]=Ye).tag===le.untilTag)return}if(z.position>K)throw"dicomParser:parseDicomDataSetExplicit: buffer overrun"}function Kt(ae,z,K){var le=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};if(K=K===void 0?ae.byteArray.length:K,z===void 0)throw"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'";if(K<z.position||K>z.byteArray.length)throw"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'";for(var Ne=ae.elements;z.position<K;){var Ye=ke(z,le.untilTag,le.vrCallback);if((Ne[Ye.tag]=Ye).tag===le.untilTag)return}}function c(ae,z){if(typeof Buffer<"u"&&ae instanceof Buffer)return Buffer.alloc(z);if(ae instanceof Uint8Array)return new Uint8Array(z);throw"dicomParser.alloc: unknown type for byteArray"}var Ln="1.8.12",ut={readUint16:function(ae,z){if(z<0)throw"bigEndianByteArrayParser.readUint16: position cannot be less than 0";if(z+2>ae.length)throw"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer";return(ae[z]<<8)+ae[z+1]},readInt16:function(ae,z){if(z<0)throw"bigEndianByteArrayParser.readInt16: position cannot be less than 0";if(z+2>ae.length)throw"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer";return z=(ae[z]<<8)+ae[z+1],z=32768&z?z-65535-1:z},readUint32:function(ae,z){if(z<0)throw"bigEndianByteArrayParser.readUint32: position cannot be less than 0";if(z+4>ae.length)throw"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer";return 256*(256*(256*ae[z]+ae[z+1])+ae[z+2])+ae[z+3]},readInt32:function(ae,z){if(z<0)throw"bigEndianByteArrayParser.readInt32: position cannot be less than 0";if(z+4>ae.length)throw"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer";return(ae[z]<<24)+(ae[z+1]<<16)+(ae[z+2]<<8)+ae[z+3]},readFloat:function(ae,z){if(z<0)throw"bigEndianByteArrayParser.readFloat: position cannot be less than 0";if(z+4>ae.length)throw"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer";var K=new Uint8Array(4);return K[3]=ae[z],K[2]=ae[z+1],K[1]=ae[z+2],K[0]=ae[z+3],new Float32Array(K.buffer)[0]},readDouble:function(ae,z){if(z<0)throw"bigEndianByteArrayParser.readDouble: position cannot be less than 0";if(z+8>ae.length)throw"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer";var K=new Uint8Array(8);return K[7]=ae[z],K[6]=ae[z+1],K[5]=ae[z+2],K[4]=ae[z+3],K[3]=ae[z+4],K[2]=ae[z+5],K[1]=ae[z+6],K[0]=ae[z+7],new Float64Array(K.buffer)[0]}};function Xe(ae,z,K){if(typeof Buffer<"u"&&ae instanceof Buffer)return ae.slice(z,z+K);if(ae instanceof Uint8Array)return new Uint8Array(ae.buffer,ae.byteOffset+z,K);throw"dicomParser.from: unknown type for byteArray"}function Bt(ae,z){for(var K=0;K<z.length;K++){var le=z[K];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(ae,le.key,le)}}var qt=function(){function ae(le,Ne,Ye){if(function(Mt,sn){if(!(Mt instanceof sn))throw new TypeError("Cannot call a class as a function")}(this,ae),le===void 0)throw"dicomParser.ByteStream: missing required parameter 'byteArrayParser'";if(Ne===void 0)throw"dicomParser.ByteStream: missing required parameter 'byteArray'";if(!(Ne instanceof Uint8Array)&&(typeof Buffer>"u"||!(Ne instanceof Buffer)))throw"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer";if(Ye<0)throw"dicomParser.ByteStream: parameter 'position' cannot be less than 0";if(Ye>=Ne.length)throw"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length";this.byteArrayParser=le,this.byteArray=Ne,this.position=Ye||0,this.warnings=[]}var z,K;return z=ae,(K=[{key:"seek",value:function(le){if(this.position+le<0)throw"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0";this.position+=le}},{key:"readByteStream",value:function(le){if(this.position+le>this.byteArray.length)throw"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread";var Ne=Xe(this.byteArray,this.position,le);return this.position+=le,new ae(this.byteArrayParser,Ne)}},{key:"getSize",value:function(){return this.byteArray.length}},{key:"readUint16",value:function(){var le=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,le}},{key:"readUint32",value:function(){var le=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,le}},{key:"readFixedString",value:function(le){var Ne=Y(this.byteArray,this.position,le);return this.position+=le,Ne}}])&&Bt(z.prototype,K),Object.defineProperty(z,"prototype",{writable:!1}),ae}(),$t={readUint16:function(ae,z){if(z<0)throw"littleEndianByteArrayParser.readUint16: position cannot be less than 0";if(z+2>ae.length)throw"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer";return ae[z]+256*ae[z+1]},readInt16:function(ae,z){if(z<0)throw"littleEndianByteArrayParser.readInt16: position cannot be less than 0";if(z+2>ae.length)throw"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer";return z=ae[z]+(ae[z+1]<<8),z=32768&z?z-65535-1:z},readUint32:function(ae,z){if(z<0)throw"littleEndianByteArrayParser.readUint32: position cannot be less than 0";if(z+4>ae.length)throw"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer";return ae[z]+256*ae[z+1]+256*ae[z+2]*256+256*ae[z+3]*256*256},readInt32:function(ae,z){if(z<0)throw"littleEndianByteArrayParser.readInt32: position cannot be less than 0";if(z+4>ae.length)throw"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer";return ae[z]+(ae[z+1]<<8)+(ae[z+2]<<16)+(ae[z+3]<<24)},readFloat:function(ae,z){if(z<0)throw"littleEndianByteArrayParser.readFloat: position cannot be less than 0";if(z+4>ae.length)throw"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer";var K=new Uint8Array(4);return K[0]=ae[z],K[1]=ae[z+1],K[2]=ae[z+2],K[3]=ae[z+3],new Float32Array(K.buffer)[0]},readDouble:function(ae,z){if(z<0)throw"littleEndianByteArrayParser.readDouble: position cannot be less than 0";if(z+8>ae.length)throw"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer";var K=new Uint8Array(8);return K[0]=ae[z],K[1]=ae[z+1],K[2]=ae[z+2],K[3]=ae[z+3],K[4]=ae[z+4],K[5]=ae[z+5],K[6]=ae[z+6],K[7]=ae[z+7],new Float64Array(K.buffer)[0]}};function Cn(ae){var z=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(ae===void 0)throw"dicomParser.readPart10Header: missing required parameter 'byteArray'";var K=z.TransferSyntaxUID,le=new qt($t,ae);return function(){var Ne=function(){if(le.getSize()<=132&&K)return!1;if(le.seek(128),le.readFixedString(4)==="DICM")return!0;if(!(z||{}).TransferSyntaxUID)throw"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file.";return le.seek(0),!1}(),Ye=[],Mt={};if(!Ne)return le.position=0,{elements:{x00020010:{tag:"x00020010",vr:"UI",Value:K}},warnings:Ye};for(;le.position<le.byteArray.length;){var sn=le.position,Ie=Gt(le,Ye);if("x0002ffff"<Ie.tag){le.position=sn;break}Ie.parser=$t,Mt[Ie.tag]=Ie}return(Ne=new Oe(le.byteArrayParser,le.byteArray,Mt)).warnings=le.warnings,Ne.position=le.position,Ne}()}var Dn="1.2.840.10008.1.2.2";function Hn(ae){var z=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(ae===void 0)throw new Error("dicomParser.parseDicom: missing required parameter 'byteArray'");var K,le=function(Ye){if(Ye.elements.x00020010===void 0)throw new Error("dicomParser.parseDicom: missing required meta header attribute 0002,0010");return Ye=Ye.elements.x00020010,Ye&&Ye.Value||Y(ae,Ye.dataOffset,Ye.length)};function Ne(Ie){var sn=le(Ie),Mt=sn!=="1.2.840.10008.1.2",sn=function(Jt,ln){var Tn=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";if(Jt!=="1.2.840.10008.1.2.1.99")return new qt(Jt===Dn?ut:$t,ae,ln);if(z&&z.inflater)return Jt=z.inflater(ae,ln),new qt($t,Jt,0);if(Tn==!0){var En=A(0),Un=Xe(ae,ln,ae.length-ln),En=En.inflateRawSync(Un),Un=c(ae,En.length+ln);return ae.copy(Un,0,0,ln),En.copy(Un,ln),new qt($t,Un,0)}if(typeof pako>"u")throw"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax";return En=ae.slice(ln),Un=pako.inflateRaw(En),(En=c(ae,Un.length+ln)).set(ae.slice(0,ln),0),En.set(Un,ln),new qt($t,En,0)}(sn,Ie.position),Ie=new Oe(sn.byteArrayParser,sn.byteArray,{});Ie.warnings=sn.warnings;try{(Mt?Ft:Kt)(Ie,sn,sn.byteArray.length,z)}catch(Jt){throw{exception:Jt,dataSet:Ie}}return Ie}return function(Ye,Mt){for(var sn in Ye.elements)Ye.elements.hasOwnProperty(sn)&&(Mt.elements[sn]=Ye.elements[sn]);return Ye.warnings!==void 0&&(Mt.warnings=Ye.warnings.concat(Mt.warnings)),Mt}(K=Cn(ae,z),Ne(K))}var Rr=function(ae,z,K){for(var le=0,Ne=z;Ne<z+K;Ne++)le+=ae[Ne].length;return le};function on(ae,Mt,K,le,Ne){if(Ne=Ne||Mt.fragments,ae===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'";if(Mt===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'";if(K===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'";if((le=le||1)===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'";if(Mt.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010";if(Mt.encapsulatedPixelData!==!0||Mt.hadUndefinedLength!==!0||Mt.basicOffsetTable===void 0||Mt.fragments===void 0||Mt.fragments.length<=0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(K<0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0";if(K>=Mt.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments";if(le<1)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0";if(K+le>Mt.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments";var Ye=new qt(ae.byteArrayParser,ae.byteArray,Mt.dataOffset),Mt=st(Ye);if(Mt.tag!=="xfffee000")throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000";Ye.seek(Mt.length);var sn=Ye.position;if(le===1)return Xe(Ye.byteArray,sn+Ne[K].offset+8,Ne[K].length);for(var Mt=Rr(Ne,K,le),Ie=c(Ye.byteArray,Mt),Jt=0,ln=K;ln<K+le;ln++)for(var Tn=sn+Ne[ln].offset+8,En=0;En<Ne[ln].length;En++)Ie[Jt++]=Ye.byteArray[Tn++];return Ie}var mn=function(ae,z){for(var K=0;K<ae.length;K++)if(ae[K].offset===z)return K},Ge=function(ae,z,K,le){if(ae===z.length-1)return K.length-le;for(var Ne=z[ae+1],Ye=le+1;Ye<K.length;Ye++)if(K[Ye].offset===Ne)return Ye-le;throw"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table"};function zn(ae,z,K,le,Ne){if(le=le||z.basicOffsetTable,Ne=Ne||z.fragments,ae===void 0)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'";if(z===void 0)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'";if(K===void 0)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'";if(le===void 0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable";if(z.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)";if(z.encapsulatedPixelData!==!0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(z.hadUndefinedLength!==!0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length";if(z.fragments===void 0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments";if(le.length===0)throw"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries";if(K<0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0";if(K>=le.length)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length";var Ye=le[K],Ye=mn(Ne,Ye);if(Ye===void 0)throw"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry";return on(ae,z,Ye,Ge(K,le,Ne,Ye),Ne)}var wn=!1;function Tt(ae,z,K){if(wn||(wn=!0,console&&console.log&&console.log("WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated")),ae===void 0)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'";if(z===void 0)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'";if(K===void 0)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'";if(z.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)";if(z.encapsulatedPixelData!==!0||z.hadUndefinedLength!==!0||z.basicOffsetTable===void 0||z.fragments===void 0)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(K<0)throw"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0";return z.basicOffsetTable.length!==0?zn(ae,z,K):on(ae,z,0,z.fragments.length)}_.default={isStringVr:R,isPrivateTag:I,parsePN:N,parseTM:D,parseDA:O,explicitElementToString:k,explicitDataSetToJS:U,createJPEGBasicOffsetTable:ne,parseDicomDataSetExplicit:Ft,parseDicomDataSetImplicit:Kt,readFixedString:Y,alloc:c,version:Ln,bigEndianByteArrayParser:ut,ByteStream:qt,sharedCopy:Xe,DataSet:Oe,findAndSetUNElementLength:Ae,findEndOfEncapsulatedElement:re,findItemDelimitationItemAndSetElementLength:tt,littleEndianByteArrayParser:$t,parseDicom:Hn,readDicomElementExplicit:Gt,readDicomElementImplicit:ke,readEncapsulatedImageFrame:zn,readEncapsulatedPixelData:Tt,readEncapsulatedPixelDataFromFragments:on,readPart10Header:Cn,readSequenceItemsExplicit:Je,readSequenceItemsImplicit:dt,readSequenceItem:st,readTag:j,LEI:"1.2.840.10008.1.2",LEE:"1.2.840.10008.1.2.1"}}],d={},o.m=l,o.c=d,o.d=function(m,_,A){o.o(m,_)||Object.defineProperty(m,_,{enumerable:!0,get:A})},o.r=function(m){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},o.t=function(m,_){if(1&_&&(m=o(m)),8&_||4&_&&typeof m=="object"&&m&&m.__esModule)return m;var A=Object.create(null);if(o.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:m}),2&_&&typeof m!="string")for(var S in m)o.d(A,S,function(R){return m[R]}.bind(null,S));return A},o.n=function(m){var _=m&&m.__esModule?function(){return m.default}:function(){return m};return o.d(_,"a",_),_},o.o=function(m,_){return Object.prototype.hasOwnProperty.call(m,_)},o.p="",o(o.s=1);function o(m){if(d[m])return d[m].exports;var _=d[m]={i:m,l:!1,exports:{}};return l[m].call(_.exports,_,_.exports,o),_.l=!0,_.exports}var l,d})}),M_=_E(u4),d4=new Ys().setResponseType("arraybuffer");function yE(p,t){d4.load(p,function(r){var o=new Uint8Array(r),l=M_.parseDicom(o),d=null,m,_,A,S,R,I=0;try{d=M_.explicitDataSetToJS(l),l.elements.x00181060?I=parseInt(d.x00181060):l.elements.x00201041&&(I=parseInt(d.x00201041)),m=parseInt(d.x00280011),_=parseInt(d.x00280010),A=d.x00280004==="MONOCHROME1",S=parseInt(d.x00281050),R=parseInt(d.x00281051)}catch{m=l.uint16("x00280011"),_=l.uint16("x00280010"),A=l.string("x00280004")==="MONOCHROME1",S=parseInt(l.string("x00281050")),R=parseInt(l.string("x00281051")),l.elements.x00181060?I=parseInt(l.string("x00181060")):l.elements.x00201041&&(I=parseInt(l.string("x00201041")))}(S==0||R==0)&&(S=226,R=537);for(var N=l.elements.x7fe00010,D=f4(N,o),V,O=bE(D,R,S,A,V),k=new Uint8ClampedArray(D.length),U=0,W=D.length;U<W;U++)k[U]=O.lutArray[D[U]];var Z={tags:d,width:m,height:_,windowCenter:S,windowWidth:R,invert:A,uint16:D,uint8:k,order:I};t&&t(Z)})}function f4(p,t){var r=M_.sharedCopy(t,p.dataOffset,p.length),o=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/Uint16Array.BYTES_PER_ELEMENT);return o}function bE(p,t,r,o,l){for(var d=0,m=0,_=0,A=p.length;_<A;_++)d>p[_]&&(d=p[_]),m<p[_]&&(m=p[_]);var S=Math.min(d,0),R=new Uint8ClampedArray(m-S+1),I=l4(t,r,l,!0);if(o===!0)for(var N=d;N<=m;N++)R[N+-S]=255-I(N);else for(var N=d;N<=m;N++)R[N+-S]=I(N);return{minPixelValue:d,maxPixelValue:m,lutArray:R}}var Bs=Uint8Array,Sc=Uint16Array,SE=Uint32Array,EE=new Bs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),wE=new Bs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),h4=new Bs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),CE=function(p,t){for(var r=new Sc(31),o=0;o<31;++o)r[o]=t+=1<<p[o-1];for(var l=new SE(r[30]),o=1;o<30;++o)for(var d=r[o];d<r[o+1];++d)l[d]=d-r[o]<<5|o;return[r,l]},IE=CE(EE,2),ME=IE[0],p4=IE[1];ME[28]=258,p4[258]=28;for(var m4=CE(wE,0),g4=m4[0],x_=new Sc(32768),fi=0;fi<32768;++fi){var yl=(fi&43690)>>>1|(fi&21845)<<1;yl=(yl&52428)>>>2|(yl&13107)<<2,yl=(yl&61680)>>>4|(yl&3855)<<4,x_[fi]=((yl&65280)>>>8|(yl&255)<<8)>>>1}for(var gf=function(p,t,r){for(var o=p.length,l=0,d=new Sc(t);l<o;++l)p[l]&&++d[p[l]-1];var m=new Sc(t);for(l=0;l<t;++l)m[l]=m[l-1]+d[l-1]<<1;var _;if(r){_=new Sc(1<<t);var A=15-t;for(l=0;l<o;++l)if(p[l])for(var S=l<<4|p[l],R=t-p[l],I=m[p[l]-1]++<<R,N=I|(1<<R)-1;I<=N;++I)_[x_[I]>>>A]=S}else for(_=new Sc(o),l=0;l<o;++l)p[l]&&(_[l]=x_[m[p[l]-1]++]>>>15-p[l]);return _},vf=new Bs(288),fi=0;fi<144;++fi)vf[fi]=8;for(var fi=144;fi<256;++fi)vf[fi]=9;for(var fi=256;fi<280;++fi)vf[fi]=7;for(var fi=280;fi<288;++fi)vf[fi]=8;for(var xE=new Bs(32),fi=0;fi<32;++fi)xE[fi]=5;var v4=gf(vf,9,1),_4=gf(xE,5,1),R_=function(p){for(var t=p[0],r=1;r<p.length;++r)p[r]>t&&(t=p[r]);return t},Io=function(p,t,r){var o=t/8|0;return(p[o]|p[o+1]<<8)>>(t&7)&r},T_=function(p,t){var r=t/8|0;return(p[r]|p[r+1]<<8|p[r+2]<<16)>>(t&7)},A4=function(p){return(p+7)/8|0},N_=function(p,t,r){(t==null||t<0)&&(t=0),(r==null||r>p.length)&&(r=p.length);var o=new(p.BYTES_PER_ELEMENT==2?Sc:p.BYTES_PER_ELEMENT==4?SE:Bs)(r-t);return o.set(p.subarray(t,r)),o},y4=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Js=function(p,t,r){var o=new Error(t||y4[p]);if(o.code=p,Error.captureStackTrace&&Error.captureStackTrace(o,Js),!r)throw o;return o},b4=function(p,t,r){var o=p.length;if(!o||r&&r.f&&!r.l)return t||new Bs(0);var l=!t||r,d=!r||r.i;r||(r={}),t||(t=new Bs(o*3));var m=function(ut){var Xe=t.length;if(ut>Xe){var Bt=new Bs(Math.max(Xe*2,ut));Bt.set(t),t=Bt}},_=r.f||0,A=r.p||0,S=r.b||0,R=r.l,I=r.d,N=r.m,D=r.n,V=o*8;do{if(!R){_=Io(p,A,1);var O=Io(p,A+1,3);if(A+=3,O)if(O==1)R=v4,I=_4,N=9,D=5;else if(O==2){var Z=Io(p,A,31)+257,ne=Io(p,A+10,15)+4,j=Z+Io(p,A+5,31)+1;A+=14;for(var re=new Bs(j),Ae=new Bs(19),Y=0;Y<ne;++Y)Ae[h4[Y]]=Io(p,A+Y*3,7);A+=ne*3;for(var pe=R_(Ae),we=(1<<pe)-1,Oe=gf(Ae,pe,1),Y=0;Y<j;){var tt=Oe[Io(p,A,we)];A+=tt&15;var k=tt>>>4;if(k<16)re[Y++]=k;else{var Re=0,ke=0;for(k==16?(ke=3+Io(p,A,3),A+=2,Re=re[Y-1]):k==17?(ke=3+Io(p,A,7),A+=3):k==18&&(ke=11+Io(p,A,127),A+=7);ke--;)re[Y++]=Re}}var st=re.subarray(0,Z),ht=re.subarray(Z);N=R_(st),D=R_(ht),R=gf(st,N,1),I=gf(ht,D,1)}else Js(1);else{var k=A4(A)+4,U=p[k-4]|p[k-3]<<8,W=k+U;if(W>o){d&&Js(0);break}l&&m(S+U),t.set(p.subarray(k,W),S),r.b=S+=U,r.p=A=W*8,r.f=_;continue}if(A>V){d&&Js(0);break}}l&&m(S+131072);for(var dt=(1<<N)-1,De=(1<<D)-1,Je=A;;Je=A){var Re=R[T_(p,A)&dt],ct=Re>>>4;if(A+=Re&15,A>V){d&&Js(0);break}if(Re||Js(2),ct<256)t[S++]=ct;else if(ct==256){Je=A,R=null;break}else{var Gt=ct-254;if(ct>264){var Y=ct-257,Ft=EE[Y];Gt=Io(p,A,(1<<Ft)-1)+ME[Y],A+=Ft}var Kt=I[T_(p,A)&De],c=Kt>>>4;Kt||Js(3),A+=Kt&15;var ht=g4[c];if(c>3){var Ft=wE[c];ht+=T_(p,A)&(1<<Ft)-1,A+=Ft}if(A>V){d&&Js(0);break}l&&m(S+131072);for(var Ln=S+Gt;S<Ln;S+=4)t[S]=t[S-ht],t[S+1]=t[S+1-ht],t[S+2]=t[S+2-ht],t[S+3]=t[S+3-ht];S=Ln}}r.l=R,r.p=Je,r.b=S,r.f=_,R&&(_=1,r.m=N,r.d=I,r.n=D)}while(!_);return S==t.length?t:N_(t,0,S)},S4=new Bs(0),ra=function(p,t){return p[t]|p[t+1]<<8},Mo=function(p,t){return(p[t]|p[t+1]<<8|p[t+2]<<16|p[t+3]<<24)>>>0},P_=function(p,t){return Mo(p,t)+Mo(p,t+4)*4294967296};function E4(p,t){return b4(p,t)}var B_=typeof TextDecoder<"u"&&new TextDecoder,w4=0;try{B_.decode(S4,{stream:!0}),w4=1}catch{}var C4=function(p){for(var t="",r=0;;){var o=p[r++],l=(o>127)+(o>223)+(o>239);if(r+l>p.length)return[t,N_(p,r-1)];l?l==3?(o=((o&15)<<18|(p[r++]&63)<<12|(p[r++]&63)<<6|p[r++]&63)-65536,t+=String.fromCharCode(55296|o>>10,56320|o&1023)):l&1?t+=String.fromCharCode((o&31)<<6|p[r++]&63):t+=String.fromCharCode((o&15)<<12|(p[r++]&63)<<6|p[r++]&63):t+=String.fromCharCode(o)}};function I4(p,t){if(t){for(var r="",o=0;o<p.length;o+=16384)r+=String.fromCharCode.apply(null,p.subarray(o,o+16384));return r}else{if(B_)return B_.decode(p);var l=C4(p),d=l[0],m=l[1];return m.length&&Js(8),d}}var M4=function(p,t){return t+30+ra(p,t+26)+ra(p,t+28)},x4=function(p,t,r){var o=ra(p,t+28),l=I4(p.subarray(t+46,t+46+o),!(ra(p,t+8)&2048)),d=t+46+o,m=Mo(p,t+20),_=r&&m==4294967295?R4(p,d):[m,Mo(p,t+24),Mo(p,t+42)],A=_[0],S=_[1],R=_[2];return[ra(p,t+10),A,S,l,d+ra(p,t+30)+ra(p,t+32),R]},R4=function(p,t){for(;ra(p,t)!=1;t+=4+ra(p,t+2));return[P_(p,t+12),P_(p,t+4),P_(p,t+20)]};function T4(p,t){for(var r={},o=p.length-22;Mo(p,o)!=101010256;--o)(!o||p.length-o>65558)&&Js(13);var l=ra(p,o+8);if(!l)return{};var d=Mo(p,o+16),m=d==4294967295;m&&(o=Mo(p,o-12),Mo(p,o)!=101075792&&Js(13),l=Mo(p,o+32),d=Mo(p,o+48));for(var _=t&&t.filter,A=0;A<l;++A){var S=x4(p,d,m),R=S[0],I=S[1],N=S[2],D=S[3],V=S[4],O=S[5],k=M4(p,O);d=V,(!_||_({name:D,size:I,originalSize:N,compression:R}))&&(R?R==8?r[D]=E4(p.subarray(k,k+I),new Bs(N)):Js(14,"unknown compression type "+R):r[D]=N_(p,k,k+I))}return r}var RE=`#define GLSLIFY 1
uniform vec2 size;out vec2 vUv;void main(){gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);vUv.xy=position.xy/size+0.5;vUv.y=1.0-vUv.y;}`,TE=`precision highp float;precision highp int;precision highp sampler2DArray;
#define GLSLIFY 1
uniform sampler2DArray diffuse;in vec2 vUv;uniform int depth;out vec4 outColor;void main(){vec4 color=texture(diffuse,vec3(vUv,depth));outColor=vec4(color.rrr*1.5,1.0);}`,_f=80,Af=80;function N4(p,t){new Ys().setResponseType("arraybuffer").load(p,function(r){var o=T4(new Uint8Array(r)),l=new Uint8Array(o.head256x256x109.buffer),d=new pp(l,256,256,109);d.format=ul,d.needsUpdate=!0;var m=new wo({uniforms:{diffuse:{value:d},depth:{value:1},size:{value:new Fn(_f,Af)}},vertexShader:RE,fragmentShader:TE,glslVersion:cp,side:H}),_=new vc(_f,Af),A=new Fi(_,m);A.name="texture2d_mesh_zip",t.add(A)})}function NE(p,t,r,o){_f=p.width/2,Af=p.height/2;var l={windowWidth:p.windowWidth,windowCenter:p.windowCenter},d=new pp(p.uint8,p.width,p.height,t);d.format=ul,d.needsUpdate=!0,o&&(o.add(l,"windowWidth").min(1).max(p.windowWidth*2).step(1).onChange(function(){S()}),o.add(l,"windowCenter").min(1).max(p.windowCenter*2).step(1).onChange(function(){S()}));var m=new wo({uniforms:{diffuse:{value:d},depth:{value:1},size:{value:new Fn(_f,Af)}},vertexShader:RE,fragmentShader:TE,glslVersion:cp,side:H}),_=new vc(_f,Af),A=new Fi(_,m);r.add(A),A.name="texture2d_mesh_array";function S(){for(var R,I=bE(p.uint16,l.windowWidth,l.windowCenter,p.invert,R),N=0,D=p.uint16.length;N<D;N++)p.uint8[N]=I.lutArray[p.uint16[N]];d.needsUpdate=!0}return A}/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var PE=function(p){return URL.createObjectURL(new Blob([p],{type:"text/javascript"}))};try{URL.revokeObjectURL(PE(""))}catch{PE=function(t){return"data:application/javascript;charset=UTF-8,"+encodeURI(t)}}var Ds=Uint8Array,bl=Uint16Array,D_=Uint32Array,BE=new Ds([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),DE=new Ds([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),P4=new Ds([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),kE=function(p,t){for(var r=new bl(31),o=0;o<31;++o)r[o]=t+=1<<p[o-1];for(var l=new D_(r[30]),o=1;o<30;++o)for(var d=r[o];d<r[o+1];++d)l[d]=d-r[o]<<5|o;return[r,l]},LE=kE(BE,2),OE=LE[0],B4=LE[1];OE[28]=258,B4[258]=28;for(var D4=kE(DE,0),k4=D4[0],k_=new bl(32768),hi=0;hi<32768;++hi){var Sl=(hi&43690)>>>1|(hi&21845)<<1;Sl=(Sl&52428)>>>2|(Sl&13107)<<2,Sl=(Sl&61680)>>>4|(Sl&3855)<<4,k_[hi]=((Sl&65280)>>>8|(Sl&255)<<8)>>>1}for(var yf=function(p,t,r){for(var o=p.length,l=0,d=new bl(t);l<o;++l)++d[p[l]-1];var m=new bl(t);for(l=0;l<t;++l)m[l]=m[l-1]+d[l-1]<<1;var _;if(r){_=new bl(1<<t);var A=15-t;for(l=0;l<o;++l)if(p[l])for(var S=l<<4|p[l],R=t-p[l],I=m[p[l]-1]++<<R,N=I|(1<<R)-1;I<=N;++I)_[k_[I]>>>A]=S}else for(_=new bl(o),l=0;l<o;++l)p[l]&&(_[l]=k_[m[p[l]-1]++]>>>15-p[l]);return _},bf=new Ds(288),hi=0;hi<144;++hi)bf[hi]=8;for(var hi=144;hi<256;++hi)bf[hi]=9;for(var hi=256;hi<280;++hi)bf[hi]=7;for(var hi=280;hi<288;++hi)bf[hi]=8;for(var FE=new Ds(32),hi=0;hi<32;++hi)FE[hi]=5;var L4=yf(bf,9,1),O4=yf(FE,5,1),L_=function(p){for(var t=p[0],r=1;r<p.length;++r)p[r]>t&&(t=p[r]);return t},xo=function(p,t,r){var o=t/8|0;return(p[o]|p[o+1]<<8)>>(t&7)&r},O_=function(p,t){var r=t/8|0;return(p[r]|p[r+1]<<8|p[r+2]<<16)>>(t&7)},F4=function(p){return(p/8|0)+(p&7&&1)},V4=function(p,t,r){(t==null||t<0)&&(t=0),(r==null||r>p.length)&&(r=p.length);var o=new(p instanceof bl?bl:p instanceof D_?D_:Ds)(r-t);return o.set(p.subarray(t,r)),o},VE=function(p,t,r){var o=p.length;if(!o||r&&!r.l&&o<5)return t||new Ds(0);var l=!t||r,d=!r||r.i;r||(r={}),t||(t=new Ds(o*3));var m=function(ut){var Xe=t.length;if(ut>Xe){var Bt=new Ds(Math.max(Xe*2,ut));Bt.set(t),t=Bt}},_=r.f||0,A=r.p||0,S=r.b||0,R=r.l,I=r.d,N=r.m,D=r.n,V=o*8;do{if(!R){r.f=_=xo(p,A,1);var O=xo(p,A+1,3);if(A+=3,O)if(O==1)R=L4,I=O4,N=9,D=5;else if(O==2){var Z=xo(p,A,31)+257,ne=xo(p,A+10,15)+4,j=Z+xo(p,A+5,31)+1;A+=14;for(var re=new Ds(j),Ae=new Ds(19),Y=0;Y<ne;++Y)Ae[P4[Y]]=xo(p,A+Y*3,7);A+=ne*3;for(var pe=L_(Ae),we=(1<<pe)-1,Oe=yf(Ae,pe,1),Y=0;Y<j;){var tt=Oe[xo(p,A,we)];A+=tt&15;var k=tt>>>4;if(k<16)re[Y++]=k;else{var Re=0,ke=0;for(k==16?(ke=3+xo(p,A,3),A+=2,Re=re[Y-1]):k==17?(ke=3+xo(p,A,7),A+=3):k==18&&(ke=11+xo(p,A,127),A+=7);ke--;)re[Y++]=Re}}var st=re.subarray(0,Z),ht=re.subarray(Z);N=L_(st),D=L_(ht),R=yf(st,N,1),I=yf(ht,D,1)}else throw"invalid block type";else{var k=F4(A)+4,U=p[k-4]|p[k-3]<<8,W=k+U;if(W>o){if(d)throw"unexpected EOF";break}l&&m(S+U),t.set(p.subarray(k,W),S),r.b=S+=U,r.p=A=W*8;continue}if(A>V){if(d)throw"unexpected EOF";break}}l&&m(S+131072);for(var dt=(1<<N)-1,De=(1<<D)-1,Je=A;;Je=A){var Re=R[O_(p,A)&dt],ct=Re>>>4;if(A+=Re&15,A>V){if(d)throw"unexpected EOF";break}if(!Re)throw"invalid length/literal";if(ct<256)t[S++]=ct;else if(ct==256){Je=A,R=null;break}else{var Gt=ct-254;if(ct>264){var Y=ct-257,Ft=BE[Y];Gt=xo(p,A,(1<<Ft)-1)+OE[Y],A+=Ft}var Kt=I[O_(p,A)&De],c=Kt>>>4;if(!Kt)throw"invalid distance";A+=Kt&15;var ht=k4[c];if(c>3){var Ft=DE[c];ht+=O_(p,A)&(1<<Ft)-1,A+=Ft}if(A>V){if(d)throw"unexpected EOF";break}l&&m(S+131072);for(var Ln=S+Gt;S<Ln;S+=4)t[S]=t[S-ht],t[S+1]=t[S+1-ht],t[S+2]=t[S+2-ht],t[S+3]=t[S+3-ht];S=Ln}}r.l=R,r.p=Je,r.b=S,R&&(_=1,r.m=N,r.d=I,r.n=D)}while(!_);return S==t.length?t:V4(t,0,S)},G4=new Ds(0),U4=function(p){if(p[0]!=31||p[1]!=139||p[2]!=8)throw"invalid gzip data";var t=p[3],r=10;t&4&&(r+=p[10]|(p[11]<<8)+2);for(var o=(t>>3&1)+(t>>4&1);o>0;o-=!p[r++]);return r+(t&2)},H4=function(p){var t=p.length;return(p[t-4]|p[t-3]<<8|p[t-2]<<16|p[t-1]<<24)>>>0},Q4=function(p){if((p[0]&15)!=8||p[0]>>>4>7||(p[0]<<8|p[1])%31)throw"invalid zlib data";if(p[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function X4(p,t){return VE(p.subarray(U4(p),-8),t||new Ds(H4(p)))}function z4(p,t){return VE((Q4(p),p.subarray(2,-4)),t)}var $4=typeof TextDecoder<"u"&&new TextDecoder,W4=0;try{$4.decode(G4,{stream:!0}),W4=1}catch{}class K4{constructor(t,r,o){const l=this;this.volume=t,r=r||0,Object.defineProperty(this,"index",{get:function(){return r},set:function(_){return r=_,l.geometryNeedsUpdate=!0,r}}),this.axis=o||"z",this.canvas=document.createElement("canvas"),this.canvasBuffer=document.createElement("canvas"),this.updateGeometry();const d=new Di(this.canvas);d.minFilter=ir,d.wrapS=d.wrapT=Dt;const m=new Zo({map:d,side:H,transparent:!0});this.mesh=new Fi(this.geometry,m),this.mesh.matrixAutoUpdate=!1,this.geometryNeedsUpdate=!0,this.repaint()}repaint(){this.geometryNeedsUpdate&&this.updateGeometry();const t=this.iLength,r=this.jLength,o=this.sliceAccess,l=this.volume,d=this.canvasBuffer,m=this.ctxBuffer,_=m.getImageData(0,0,t,r),A=_.data,S=l.data,R=l.upperThreshold,I=l.lowerThreshold,N=l.windowLow,D=l.windowHigh;let V=0;if(l.dataType==="label")for(let O=0;O<r;O++)for(let k=0;k<t;k++){let U=S[o(k,O)];U=U>=this.colorMap.length?U%this.colorMap.length+1:U;const W=this.colorMap[U];A[4*V]=W>>24&255,A[4*V+1]=W>>16&255,A[4*V+2]=W>>8&255,A[4*V+3]=W&255,V++}else for(let O=0;O<r;O++)for(let k=0;k<t;k++){let U=S[o(k,O)],W=255;W=R>=U&&I<=U?W:0,U=Math.floor(255*(U-N)/(D-N)),U=U>255?255:U<0?0:U|0,A[4*V]=U,A[4*V+1]=U,A[4*V+2]=U,A[4*V+3]=W,V++}m.putImageData(_,0,0),this.ctx.drawImage(d,0,0,t,r,0,0,this.canvas.width,this.canvas.height),this.mesh.material.map.needsUpdate=!0}updateGeometry(){const t=this.volume.extractPerpendicularPlane(this.axis,this.index);this.sliceAccess=t.sliceAccess,this.jLength=t.jLength,this.iLength=t.iLength,this.matrix=t.matrix,this.canvas.width=t.planeWidth,this.canvas.height=t.planeHeight,this.canvasBuffer.width=this.iLength,this.canvasBuffer.height=this.jLength,this.ctx=this.canvas.getContext("2d"),this.ctxBuffer=this.canvasBuffer.getContext("2d"),this.geometry&&this.geometry.dispose(),this.geometry=new vc(t.planeWidth,t.planeHeight),this.mesh&&(this.mesh.geometry=this.geometry,this.mesh.matrix.identity(),this.mesh.applyMatrix4(this.matrix)),this.geometryNeedsUpdate=!1}}class j4{constructor(t,r,o,l,d){if(t!==void 0){switch(this.xLength=Number(t)||1,this.yLength=Number(r)||1,this.zLength=Number(o)||1,this.axisOrder=["x","y","z"],l){case"Uint8":case"uint8":case"uchar":case"unsigned char":case"uint8_t":this.data=new Uint8Array(d);break;case"Int8":case"int8":case"signed char":case"int8_t":this.data=new Int8Array(d);break;case"Int16":case"int16":case"short":case"short int":case"signed short":case"signed short int":case"int16_t":this.data=new Int16Array(d);break;case"Uint16":case"uint16":case"ushort":case"unsigned short":case"unsigned short int":case"uint16_t":this.data=new Uint16Array(d);break;case"Int32":case"int32":case"int":case"signed int":case"int32_t":this.data=new Int32Array(d);break;case"Uint32":case"uint32":case"uint":case"unsigned int":case"uint32_t":this.data=new Uint32Array(d);break;case"longlong":case"long long":case"long long int":case"signed long long":case"signed long long int":case"int64":case"int64_t":case"ulonglong":case"unsigned long long":case"unsigned long long int":case"uint64":case"uint64_t":throw new Error("Error in Volume constructor : this type is not supported in JavaScript");case"Float32":case"float32":case"float":this.data=new Float32Array(d);break;case"Float64":case"float64":case"double":this.data=new Float64Array(d);break;default:this.data=new Uint8Array(d)}if(this.data.length!==this.xLength*this.yLength*this.zLength)throw new Error("Error in Volume constructor, lengths are not matching arrayBuffer size")}this.spacing=[1,1,1],this.offset=[0,0,0],this.matrix=new xs,this.matrix.identity();let m=-1/0;Object.defineProperty(this,"lowerThreshold",{get:function(){return m},set:function(A){m=A,this.sliceList.forEach(function(S){S.geometryNeedsUpdate=!0})}});let _=1/0;Object.defineProperty(this,"upperThreshold",{get:function(){return _},set:function(A){_=A,this.sliceList.forEach(function(S){S.geometryNeedsUpdate=!0})}}),this.sliceList=[]}getData(t,r,o){return this.data[o*this.xLength*this.yLength+r*this.xLength+t]}access(t,r,o){return o*this.xLength*this.yLength+r*this.xLength+t}reverseAccess(t){const r=Math.floor(t/(this.yLength*this.xLength)),o=Math.floor((t-r*this.yLength*this.xLength)/this.xLength);return[t-r*this.yLength*this.xLength-o*this.xLength,o,r]}map(t,r){const o=this.data.length;r=r||this;for(let l=0;l<o;l++)this.data[l]=t.call(r,this.data[l],l,this.data);return this}extractPerpendicularPlane(t,r){let o,l,d,m;const _=new Ze,A=new Ze,S=new Ze,R=new br().identity(),I=this,N=new Ze(this.xLength,this.yLength,this.zLength);switch(t){case"x":_.set(1,0,0),A.set(0,0,-1),S.set(0,-1,0),o=this.spacing[this.axisOrder.indexOf("z")],l=this.spacing[this.axisOrder.indexOf("y")],m=new Ze(r,0,0),R.multiply(new br().makeRotationY(Math.PI/2)),d=(I.RASDimensions[0]-1)/2,R.setPosition(new Ze(r-d,0,0));break;case"y":_.set(0,1,0),A.set(1,0,0),S.set(0,0,1),o=this.spacing[this.axisOrder.indexOf("x")],l=this.spacing[this.axisOrder.indexOf("z")],m=new Ze(0,r,0),R.multiply(new br().makeRotationX(-Math.PI/2)),d=(I.RASDimensions[1]-1)/2,R.setPosition(new Ze(0,r-d,0));break;case"z":default:_.set(0,0,1),A.set(1,0,0),S.set(0,-1,0),o=this.spacing[this.axisOrder.indexOf("x")],l=this.spacing[this.axisOrder.indexOf("y")],m=new Ze(0,0,r),d=(I.RASDimensions[2]-1)/2,R.setPosition(new Ze(0,0,r-d));break}A.applyMatrix4(I.inverseMatrix).normalize(),A.arglet="i",S.applyMatrix4(I.inverseMatrix).normalize(),S.arglet="j",_.applyMatrix4(I.inverseMatrix).normalize();const D=Math.floor(Math.abs(A.dot(N))),V=Math.floor(Math.abs(S.dot(N))),O=Math.abs(D*o),k=Math.abs(V*l);m=Math.abs(Math.round(m.applyMatrix4(I.inverseMatrix).dot(_)));const U=[new Ze(1,0,0),new Ze(0,1,0),new Ze(0,0,1)],W=[A,S,_].find(function(re){return Math.abs(re.dot(U[0]))>.9}),Z=[A,S,_].find(function(re){return Math.abs(re.dot(U[1]))>.9}),ne=[A,S,_].find(function(re){return Math.abs(re.dot(U[2]))>.9});function j(re,Ae){const Y=W===_?m:W.arglet==="i"?re:Ae,pe=Z===_?m:Z.arglet==="i"?re:Ae,we=ne===_?m:ne.arglet==="i"?re:Ae,Oe=W.dot(U[0])>0?Y:I.xLength-1-Y,tt=Z.dot(U[1])>0?pe:I.yLength-1-pe,Re=ne.dot(U[2])>0?we:I.zLength-1-we;return I.access(Oe,tt,Re)}return{iLength:D,jLength:V,sliceAccess:j,matrix:R,planeWidth:O,planeHeight:k}}extractSlice(t,r){const o=new K4(this,r,t);return this.sliceList.push(o),o}repaintAllSlices(){return this.sliceList.forEach(function(t){t.repaint()}),this}computeMinMax(){let t=1/0,r=-1/0;const o=this.data.length;let l=0;for(l=0;l<o;l++)if(!isNaN(this.data[l])){const d=this.data[l];t=Math.min(t,d),r=Math.max(r,d)}return this.min=t,this.max=r,[t,r]}}class GE extends ta{constructor(t){super(t)}load(t,r,o,l){const d=this,m=new Ys(d.manager);m.setPath(d.path),m.setResponseType("arraybuffer"),m.setRequestHeader(d.requestHeader),m.setWithCredentials(d.withCredentials),m.load(t,function(_){try{r(d.parse(_))}catch(A){l?l(A):console.error(A),d.manager.itemError(t)}},o,l)}parse(t){let r=t,o=0;const l=new Int8Array(new Int16Array([1]).buffer)[0]>0,d=!0,m={};function _(Y,pe){pe==null&&(pe=1);let we=1,Oe=Uint8Array;switch(Y){case"uchar":break;case"schar":Oe=Int8Array;break;case"ushort":Oe=Uint16Array,we=2;break;case"sshort":Oe=Int16Array,we=2;break;case"uint":Oe=Uint32Array,we=4;break;case"sint":Oe=Int32Array,we=4;break;case"float":Oe=Float32Array,we=4;break;case"complex":Oe=Float64Array,we=8;break;case"double":Oe=Float64Array,we=8;break}let tt=new Oe(r.slice(o,o+=pe*we));return l!=d&&(tt=A(tt,we)),pe==1?tt[0]:tt}function A(Y,pe){const we=new Uint8Array(Y.buffer,Y.byteOffset,Y.byteLength);for(let Oe=0;Oe<Y.byteLength;Oe+=pe)for(let tt=Oe+pe-1,Re=Oe;tt>Re;tt--,Re++){const ke=we[Re];we[Re]=we[tt],we[tt]=ke}return Y}function S(Y){let pe,we,Oe,tt,Re,ke,st,ht;const dt=Y.split(/\r?\n/);for(st=0,ht=dt.length;st<ht;st++)Re=dt[st],Re.match(/NRRD\d+/)?m.isNrrd=!0:!Re.match(/^#/)&&(ke=Re.match(/(.*):(.*)/))&&(we=ke[1].trim(),pe=ke[2].trim(),Oe=q4[we],Oe?Oe.call(m,pe):m[we]=pe);if(!m.isNrrd)throw new Error("Not an NRRD file");if(m.encoding==="bz2"||m.encoding==="bzip2")throw new Error("Bzip is not supported");if(!m.vectors&&(m.vectors=[],m.vectors.push([1,0,0]),m.vectors.push([0,1,0]),m.vectors.push([0,0,1]),m.spacings)){for(tt=0;tt<=2;tt++)if(!isNaN(m.spacings[tt]))for(let De=0;De<=2;De++)m.vectors[tt][De]*=m.spacings[tt]}}function R(Y,pe,we){let Oe="";pe=pe||0,we=we||Y.length;let tt;const Re=m.sizes.reduce(function(De,Je){return De*Je},1);let ke=10;m.encoding==="hex"&&(ke=16);const st=new m.__array(Re);let ht=0,dt=parseInt;(m.__array===Float32Array||m.__array===Float64Array)&&(dt=parseFloat);for(let De=pe;De<we;De++)tt=Y[De],(tt<9||tt>13)&&tt!==32?Oe+=String.fromCharCode(tt):(Oe!==""&&(st[ht]=dt(Oe,ke),ht++),Oe="");return Oe!==""&&(st[ht]=dt(Oe,ke),ht++),st}const I=_("uchar",t.byteLength),N=I.length;let D=null,V=0,O;for(O=1;O<N;O++)if(I[O-1]==10&&I[O]==10){D=this.parseChars(I,0,O-2),V=O+1;break}if(S(D),r=I.subarray(V),m.encoding.substring(0,2)==="gz")r=X4(new Uint8Array(r));else if(m.encoding==="ascii"||m.encoding==="text"||m.encoding==="txt"||m.encoding==="hex")r=R(r);else if(m.encoding==="raw"){const Y=new Uint8Array(r.length);for(let pe=0;pe<r.length;pe++)Y[pe]=r[pe];r=Y}r=r.buffer;const k=new j4;k.header=m,k.data=new m.__array(r);const U=k.computeMinMax(),W=U[0],Z=U[1];if(k.windowLow=W,k.windowHigh=Z,k.dimensions=[m.sizes[0],m.sizes[1],m.sizes[2]],k.xLength=k.dimensions[0],k.yLength=k.dimensions[1],k.zLength=k.dimensions[2],m.vectors){const Y=m.vectors.findIndex(tt=>tt[0]!==0),pe=m.vectors.findIndex(tt=>tt[1]!==0),we=m.vectors.findIndex(tt=>tt[2]!==0),Oe=[];Oe[Y]="x",Oe[pe]="y",Oe[we]="z",k.axisOrder=Oe}else k.axisOrder=["x","y","z"];const ne=new Ze().fromArray(m.vectors[0]).length(),j=new Ze().fromArray(m.vectors[1]).length(),re=new Ze().fromArray(m.vectors[2]).length();k.spacing=[ne,j,re],k.matrix=new br;const Ae=new br;if(m.space==="left-posterior-superior"?Ae.set(-1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1):m.space==="left-anterior-superior"&&Ae.set(1,0,0,0,0,1,0,0,0,0,-1,0,0,0,0,1),!m.vectors)k.matrix.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);else{const Y=m.vectors,pe=new br().set(Y[0][0],Y[1][0],Y[2][0],0,Y[0][1],Y[1][1],Y[2][1],0,Y[0][2],Y[1][2],Y[2][2],0,0,0,0,1),we=new br().multiplyMatrices(pe,Ae);k.matrix=we}return k.inverseMatrix=new br,k.inverseMatrix.copy(k.matrix).invert(),k.RASDimensions=new Ze(k.xLength,k.yLength,k.zLength).applyMatrix4(k.matrix).round().toArray().map(Math.abs),k.lowerThreshold===-1/0&&(k.lowerThreshold=W),k.upperThreshold===1/0&&(k.upperThreshold=Z),k}parseChars(t,r,o){r===void 0&&(r=0),o===void 0&&(o=t.length);let l="",d=0;for(d=r;d<o;++d)l+=String.fromCharCode(t[d]);return l}}const q4={type:function(p){switch(p){case"uchar":case"unsigned char":case"uint8":case"uint8_t":this.__array=Uint8Array;break;case"signed char":case"int8":case"int8_t":this.__array=Int8Array;break;case"short":case"short int":case"signed short":case"signed short int":case"int16":case"int16_t":this.__array=Int16Array;break;case"ushort":case"unsigned short":case"unsigned short int":case"uint16":case"uint16_t":this.__array=Uint16Array;break;case"int":case"signed int":case"int32":case"int32_t":this.__array=Int32Array;break;case"uint":case"unsigned int":case"uint32":case"uint32_t":this.__array=Uint32Array;break;case"float":this.__array=Float32Array;break;case"double":this.__array=Float64Array;break;default:throw new Error("Unsupported NRRD data type: "+p)}return this.type=p},endian:function(p){return this.endian=p},encoding:function(p){return this.encoding=p},dimension:function(p){return this.dim=parseInt(p,10)},sizes:function(p){let t;return this.sizes=function(){const r=p.split(/\s+/),o=[];for(let l=0,d=r.length;l<d;l++)t=r[l],o.push(parseInt(t,10));return o}()},space:function(p){return this.space=p},"space origin":function(p){return this.space_origin=p.split("(")[1].split(")")[0].split(",")},"space directions":function(p){let t,r;const o=p.match(/\(.*?\)/g);return this.vectors=function(){const l=[];for(let d=0,m=o.length;d<m;d++)r=o[d],l.push(function(){const _=r.slice(1,-1).split(/,/),A=[];for(let S=0,R=_.length;S<R;S++)t=_[S],A.push(parseFloat(t));return A}());return l}()},spacings:function(p){let t;const r=p.split(/\s+/);return this.spacings=function(){const o=[];for(let l=0,d=r.length;l<d;l++)t=r[l],o.push(parseFloat(t));return o}()}},Y4={uniforms:{u_size:{value:new Ze(1,1,1)},u_renderstyle:{value:0},u_renderthreshold:{value:.5},u_clim:{value:new Fn(1,1)},u_data:{value:null},u_cmdata:{value:null}},vertexShader:`

		varying vec4 v_nearpos;
		varying vec4 v_farpos;
		varying vec3 v_position;

		void main() {
				// Prepare transforms to map to "camera view". See also:
				// https://threejs.org/docs/#api/renderers/webgl/WebGLProgram
				mat4 viewtransformf = modelViewMatrix;
				mat4 viewtransformi = inverse(modelViewMatrix);

				// Project local vertex coordinate to camera position. Then do a step
				// backward (in cam coords) to the near clipping plane, and project back. Do
				// the same for the far clipping plane. This gives us all the information we
				// need to calculate the ray and truncate it to the viewing cone.
				vec4 position4 = vec4(position, 1.0);
				vec4 pos_in_cam = viewtransformf * position4;

				// Intersection of ray and near clipping plane (z = -1 in clip coords)
				pos_in_cam.z = -pos_in_cam.w;
				v_nearpos = viewtransformi * pos_in_cam;

				// Intersection of ray and far clipping plane (z = +1 in clip coords)
				pos_in_cam.z = pos_in_cam.w;
				v_farpos = viewtransformi * pos_in_cam;

				// Set varyings and output pos
				v_position = position;
				gl_Position = projectionMatrix * viewMatrix * modelMatrix * position4;
		}`,fragmentShader:`

				precision highp float;
				precision mediump sampler3D;

				uniform vec3 u_size;
				uniform int u_renderstyle;
				uniform float u_renderthreshold;
				uniform vec2 u_clim;

				uniform sampler3D u_data;
				uniform sampler2D u_cmdata;

				varying vec3 v_position;
				varying vec4 v_nearpos;
				varying vec4 v_farpos;

				// The maximum distance through our rendering volume is sqrt(3).
				const int MAX_STEPS = 887;	// 887 for 512^3, 1774 for 1024^3
				const int REFINEMENT_STEPS = 4;
				const float relative_step_size = 1.0;
				const vec4 ambient_color = vec4(0.2, 0.4, 0.2, 1.0);
				const vec4 diffuse_color = vec4(0.8, 0.2, 0.2, 1.0);
				const vec4 specular_color = vec4(1.0, 1.0, 1.0, 1.0);
				const float shininess = 40.0;

				void cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);
				void cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);

				float sample1(vec3 texcoords);
				vec4 apply_colormap(float val);
				vec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray);


				void main() {
						// Normalize clipping plane info
						vec3 farpos = v_farpos.xyz / v_farpos.w;
						vec3 nearpos = v_nearpos.xyz / v_nearpos.w;

						// Calculate unit vector pointing in the view direction through this fragment.
						vec3 view_ray = normalize(nearpos.xyz - farpos.xyz);

						// Compute the (negative) distance to the front surface or near clipping plane.
						// v_position is the back face of the cuboid, so the initial distance calculated in the dot
						// product below is the distance from near clip plane to the back of the cuboid
						float distance = dot(nearpos - v_position, view_ray);
						distance = max(distance, min((-0.5 - v_position.x) / view_ray.x,
																				(u_size.x - 0.5 - v_position.x) / view_ray.x));
						distance = max(distance, min((-0.5 - v_position.y) / view_ray.y,
																				(u_size.y - 0.5 - v_position.y) / view_ray.y));
						distance = max(distance, min((-0.5 - v_position.z) / view_ray.z,
																				(u_size.z - 0.5 - v_position.z) / view_ray.z));

						// Now we have the starting position on the front surface
						vec3 front = v_position + view_ray * distance;

						// Decide how many steps to take
						int nsteps = int(-distance / relative_step_size + 0.5);
						if ( nsteps < 1 )
								discard;

						// Get starting location and step vector in texture coordinates
						vec3 step = ((v_position - front) / u_size) / float(nsteps);
						vec3 start_loc = front / u_size;

						// For testing: show the number of steps. This helps to establish
						// whether the rays are correctly oriented
						//'gl_FragColor = vec4(0.0, float(nsteps) / 1.0 / u_size.x, 1.0, 1.0);
						//'return;

						if (u_renderstyle == 0)
								cast_mip(start_loc, step, nsteps, view_ray);
						else if (u_renderstyle == 1)
								cast_iso(start_loc, step, nsteps, view_ray);

						if (gl_FragColor.a < 0.05)
								discard;
				}


				float sample1(vec3 texcoords) {
						/* Sample float value from a 3D texture. Assumes intensity data. */
						return texture(u_data, texcoords.xyz).r;
				}


				vec4 apply_colormap(float val) {
						val = (val - u_clim[0]) / (u_clim[1] - u_clim[0]);
						return texture2D(u_cmdata, vec2(val, 0.5));
				}


				void cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {

						float max_val = -1e6;
						int max_i = 100;
						vec3 loc = start_loc;

						// Enter the raycasting loop. In WebGL 1 the loop index cannot be compared with
						// non-constant expression. So we use a hard-coded max, and an additional condition
						// inside the loop.
						for (int iter=0; iter<MAX_STEPS; iter++) {
								if (iter >= nsteps)
										break;
								// Sample from the 3D texture
								float val = sample1(loc);
								// Apply MIP operation
								if (val > max_val) {
										max_val = val;
										max_i = iter;
								}
								// Advance location deeper into the volume
								loc += step;
						}

						// Refine location, gives crispier images
						vec3 iloc = start_loc + step * (float(max_i) - 0.5);
						vec3 istep = step / float(REFINEMENT_STEPS);
						for (int i=0; i<REFINEMENT_STEPS; i++) {
								max_val = max(max_val, sample1(iloc));
								iloc += istep;
						}

						// Resolve final color
						gl_FragColor = apply_colormap(max_val);
				}


				void cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {

						gl_FragColor = vec4(0.0);	// init transparent
						vec4 color3 = vec4(0.0);	// final color
						vec3 dstep = 1.5 / u_size;	// step to sample derivative
						vec3 loc = start_loc;

						float low_threshold = u_renderthreshold - 0.02 * (u_clim[1] - u_clim[0]);

						// Enter the raycasting loop. In WebGL 1 the loop index cannot be compared with
						// non-constant expression. So we use a hard-coded max, and an additional condition
						// inside the loop.
						for (int iter=0; iter<MAX_STEPS; iter++) {
								if (iter >= nsteps)
										break;

								// Sample from the 3D texture
								float val = sample1(loc);

								if (val > low_threshold) {
										// Take the last interval in smaller steps
										vec3 iloc = loc - 0.5 * step;
										vec3 istep = step / float(REFINEMENT_STEPS);
										for (int i=0; i<REFINEMENT_STEPS; i++) {
												val = sample1(iloc);
												if (val > u_renderthreshold) {
														gl_FragColor = add_lighting(val, iloc, dstep, view_ray);
														return;
												}
												iloc += istep;
										}
								}

								// Advance location deeper into the volume
								loc += step;
						}
				}


				vec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray)
				{
					// Calculate color by incorporating lighting

						// View direction
						vec3 V = normalize(view_ray);

						// calculate normal vector from gradient
						vec3 N;
						float val1, val2;
						val1 = sample1(loc + vec3(-step[0], 0.0, 0.0));
						val2 = sample1(loc + vec3(+step[0], 0.0, 0.0));
						N[0] = val1 - val2;
						val = max(max(val1, val2), val);
						val1 = sample1(loc + vec3(0.0, -step[1], 0.0));
						val2 = sample1(loc + vec3(0.0, +step[1], 0.0));
						N[1] = val1 - val2;
						val = max(max(val1, val2), val);
						val1 = sample1(loc + vec3(0.0, 0.0, -step[2]));
						val2 = sample1(loc + vec3(0.0, 0.0, +step[2]));
						N[2] = val1 - val2;
						val = max(max(val1, val2), val);

						float gm = length(N); // gradient magnitude
						N = normalize(N);

						// Flip normal so it points towards viewer
						float Nselect = float(dot(N, V) > 0.0);
						N = (2.0 * Nselect - 1.0) * N;	// ==	Nselect * N - (1.0-Nselect)*N;

						// Init colors
						vec4 ambient_color = vec4(0.0, 0.0, 0.0, 0.0);
						vec4 diffuse_color = vec4(0.0, 0.0, 0.0, 0.0);
						vec4 specular_color = vec4(0.0, 0.0, 0.0, 0.0);

						// note: could allow multiple lights
						for (int i=0; i<1; i++)
						{
								 // Get light direction (make sure to prevent zero devision)
								vec3 L = normalize(view_ray);	//lightDirs[i];
								float lightEnabled = float( length(L) > 0.0 );
								L = normalize(L + (1.0 - lightEnabled));

								// Calculate lighting properties
								float lambertTerm = clamp(dot(N, L), 0.0, 1.0);
								vec3 H = normalize(L+V); // Halfway vector
								float specularTerm = pow(max(dot(H, N), 0.0), shininess);

								// Calculate mask
								float mask1 = lightEnabled;

								// Calculate colors
								ambient_color +=	mask1 * ambient_color;	// * gl_LightSource[i].ambient;
								diffuse_color +=	mask1 * lambertTerm;
								specular_color += mask1 * specularTerm * specular_color;
						}

						// Calculate final color by componing different components
						vec4 final_color;
						vec4 color = apply_colormap(val);
						final_color = color * (ambient_color + diffuse_color) + specular_color;
						final_color.a = color.a;
						return final_color;
				}`};var J4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAABCAIAAAC+O+cgAAAAEklEQVR42mNkYGBgHAWjYKQCAH7BAv8WAlmwAAAAAElFTkSuQmCC",Z4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAABCAIAAAC+O+cgAAAAtUlEQVR42n2Q0W3FMAzEyNNqHaH7j2L1w3ZenDwUMAwedXKA+MMvSqJiiBoiCWqWxKBEXaMZ8Sqs0zcmIv1p2nKwEvpLZMYOe3R4wku+TO7es/O8H+vHlH/KR9zQT8+z8F4531kRe379MIK4oD3v/SP7iplyHTKB5WNPs4AFH3kzO446Y+y6wA4TxqfMXBmzVrtwREY5ZrMY069dxr28Yb+wVjp02QWhSwKFJcHCaGGwTLBIzB9eyYkORwhbNAAAAABJRU5ErkJggg==";function eL(p){if(!!p&&!(typeof window>"u")){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=p,document.head.appendChild(t),p}}function Yu(p,t){var r=p.__state.conversionName.toString(),o=Math.round(p.r),l=Math.round(p.g),d=Math.round(p.b),m=p.a,_=Math.round(p.h),A=p.s.toFixed(1),S=p.v.toFixed(1);if(t||r==="THREE_CHAR_HEX"||r==="SIX_CHAR_HEX"){for(var R=p.hex.toString(16);R.length<6;)R="0"+R;return"#"+R}else{if(r==="CSS_RGB")return"rgb("+o+","+l+","+d+")";if(r==="CSS_RGBA")return"rgba("+o+","+l+","+d+","+m+")";if(r==="HEX")return"0x"+p.hex.toString(16);if(r==="RGB_ARRAY")return"["+o+","+l+","+d+"]";if(r==="RGBA_ARRAY")return"["+o+","+l+","+d+","+m+"]";if(r==="RGB_OBJ")return"{r:"+o+",g:"+l+",b:"+d+"}";if(r==="RGBA_OBJ")return"{r:"+o+",g:"+l+",b:"+d+",a:"+m+"}";if(r==="HSV_OBJ")return"{h:"+_+",s:"+A+",v:"+S+"}";if(r==="HSVA_OBJ")return"{h:"+_+",s:"+A+",v:"+S+",a:"+m+"}"}return"unknown format"}var UE=Array.prototype.forEach,Sf=Array.prototype.slice,an={BREAK:{},extend:function(t){return this.each(Sf.call(arguments,1),function(r){var o=this.isObject(r)?Object.keys(r):[];o.forEach(function(l){this.isUndefined(r[l])||(t[l]=r[l])}.bind(this))},this),t},defaults:function(t){return this.each(Sf.call(arguments,1),function(r){var o=this.isObject(r)?Object.keys(r):[];o.forEach(function(l){this.isUndefined(t[l])&&(t[l]=r[l])}.bind(this))},this),t},compose:function(){var t=Sf.call(arguments);return function(){for(var r=Sf.call(arguments),o=t.length-1;o>=0;o--)r=[t[o].apply(this,r)];return r[0]}},each:function(t,r,o){if(!!t){if(UE&&t.forEach&&t.forEach===UE)t.forEach(r,o);else if(t.length===t.length+0){var l=void 0,d=void 0;for(l=0,d=t.length;l<d;l++)if(l in t&&r.call(o,t[l],l)===this.BREAK)return}else for(var m in t)if(r.call(o,t[m],m)===this.BREAK)return}},defer:function(t){setTimeout(t,0)},debounce:function(t,r,o){var l=void 0;return function(){var d=this,m=arguments;function _(){l=null,o||t.apply(d,m)}var A=o||!l;clearTimeout(l),l=setTimeout(_,r),A&&t.apply(d,m)}},toArray:function(t){return t.toArray?t.toArray():Sf.call(t)},isUndefined:function(t){return t===void 0},isNull:function(t){return t===null},isNaN:function(p){function t(r){return p.apply(this,arguments)}return t.toString=function(){return p.toString()},t}(function(p){return isNaN(p)}),isArray:Array.isArray||function(p){return p.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return t===!1||t===!0},isFunction:function(t){return t instanceof Function}},tL=[{litmus:an.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var r=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return r===null?!1:{space:"HEX",hex:parseInt("0x"+r[1].toString()+r[1].toString()+r[2].toString()+r[2].toString()+r[3].toString()+r[3].toString(),0)}},write:Yu},SIX_CHAR_HEX:{read:function(t){var r=t.match(/^#([A-F0-9]{6})$/i);return r===null?!1:{space:"HEX",hex:parseInt("0x"+r[1].toString(),0)}},write:Yu},CSS_RGB:{read:function(t){var r=t.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return r===null?!1:{space:"RGB",r:parseFloat(r[1]),g:parseFloat(r[2]),b:parseFloat(r[3])}},write:Yu},CSS_RGBA:{read:function(t){var r=t.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return r===null?!1:{space:"RGB",r:parseFloat(r[1]),g:parseFloat(r[2]),b:parseFloat(r[3]),a:parseFloat(r[4])}},write:Yu}}},{litmus:an.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:an.isArray,conversions:{RGB_ARRAY:{read:function(t){return t.length!==3?!1:{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return t.length!==4?!1:{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:an.isObject,conversions:{RGBA_OBJ:{read:function(t){return an.isNumber(t.r)&&an.isNumber(t.g)&&an.isNumber(t.b)&&an.isNumber(t.a)?{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return an.isNumber(t.r)&&an.isNumber(t.g)&&an.isNumber(t.b)?{space:"RGB",r:t.r,g:t.g,b:t.b}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return an.isNumber(t.h)&&an.isNumber(t.s)&&an.isNumber(t.v)&&an.isNumber(t.a)?{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return an.isNumber(t.h)&&an.isNumber(t.s)&&an.isNumber(t.v)?{space:"HSV",h:t.h,s:t.s,v:t.v}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],Ef=void 0,Yp=void 0,F_=function(){Yp=!1;var t=arguments.length>1?an.toArray(arguments):arguments[0];return an.each(tL,function(r){if(r.litmus(t))return an.each(r.conversions,function(o,l){if(Ef=o.read(t),Yp===!1&&Ef!==!1)return Yp=Ef,Ef.conversionName=l,Ef.conversion=o,an.BREAK}),an.BREAK}),Yp},HE=void 0,Jp={hsv_to_rgb:function(t,r,o){var l=Math.floor(t/60)%6,d=t/60-Math.floor(t/60),m=o*(1-r),_=o*(1-d*r),A=o*(1-(1-d)*r),S=[[o,A,m],[_,o,m],[m,o,A],[m,_,o],[A,m,o],[o,m,_]][l];return{r:S[0]*255,g:S[1]*255,b:S[2]*255}},rgb_to_hsv:function(t,r,o){var l=Math.min(t,r,o),d=Math.max(t,r,o),m=d-l,_=void 0,A=void 0;if(d!==0)A=m/d;else return{h:NaN,s:0,v:0};return t===d?_=(r-o)/m:r===d?_=2+(o-t)/m:_=4+(t-r)/m,_/=6,_<0&&(_+=1),{h:_*360,s:A,v:d/255}},rgb_to_hex:function(t,r,o){var l=this.hex_with_component(0,2,t);return l=this.hex_with_component(l,1,r),l=this.hex_with_component(l,0,o),l},component_from_hex:function(t,r){return t>>r*8&255},hex_with_component:function(t,r,o){return o<<(HE=r*8)|t&~(255<<HE)}},nL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Ro=function(p,t){if(!(p instanceof t))throw new TypeError("Cannot call a class as a function")},To=function(){function p(t,r){for(var o=0;o<r.length;o++){var l=r[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,o){return r&&p(t.prototype,r),o&&p(t,o),t}}(),El=function p(t,r,o){t===null&&(t=Function.prototype);var l=Object.getOwnPropertyDescriptor(t,r);if(l===void 0){var d=Object.getPrototypeOf(t);return d===null?void 0:p(d,r,o)}else{if("value"in l)return l.value;var m=l.get;return m===void 0?void 0:m.call(o)}},wl=function(p,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);p.prototype=Object.create(t&&t.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(p,t):p.__proto__=t)},Cl=function(p,t){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:p},Vi=function(){function p(){if(Ro(this,p),this.__state=F_.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return To(p,[{key:"toString",value:function(){return Yu(this)}},{key:"toHexString",value:function(){return Yu(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),p}();function V_(p,t,r){Object.defineProperty(p,t,{get:function(){return this.__state.space==="RGB"?this.__state[t]:(Vi.recalculateRGB(this,t,r),this.__state[t])},set:function(l){this.__state.space!=="RGB"&&(Vi.recalculateRGB(this,t,r),this.__state.space="RGB"),this.__state[t]=l}})}function G_(p,t){Object.defineProperty(p,t,{get:function(){return this.__state.space==="HSV"?this.__state[t]:(Vi.recalculateHSV(this),this.__state[t])},set:function(o){this.__state.space!=="HSV"&&(Vi.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=o}})}Vi.recalculateRGB=function(p,t,r){if(p.__state.space==="HEX")p.__state[t]=Jp.component_from_hex(p.__state.hex,r);else if(p.__state.space==="HSV")an.extend(p.__state,Jp.hsv_to_rgb(p.__state.h,p.__state.s,p.__state.v));else throw new Error("Corrupted color state")},Vi.recalculateHSV=function(p){var t=Jp.rgb_to_hsv(p.r,p.g,p.b);an.extend(p.__state,{s:t.s,v:t.v}),an.isNaN(t.h)?an.isUndefined(p.__state.h)&&(p.__state.h=0):p.__state.h=t.h},Vi.COMPONENTS=["r","g","b","h","s","v","hex","a"],V_(Vi.prototype,"r",2),V_(Vi.prototype,"g",1),V_(Vi.prototype,"b",0),G_(Vi.prototype,"h"),G_(Vi.prototype,"s"),G_(Vi.prototype,"v"),Object.defineProperty(Vi.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(Vi.prototype,"hex",{get:function(){return this.__state.space!=="HEX"&&(this.__state.hex=Jp.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var Ec=function(){function p(t,r){Ro(this,p),this.initialValue=t[r],this.domElement=document.createElement("div"),this.object=t,this.property=r,this.__onChange=void 0,this.__onFinishChange=void 0}return To(p,[{key:"onChange",value:function(r){return this.__onChange=r,this}},{key:"onFinishChange",value:function(r){return this.__onFinishChange=r,this}},{key:"setValue",value:function(r){return this.object[this.property]=r,this.__onChange&&this.__onChange.call(this,r),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),p}(),rL={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},QE={};an.each(rL,function(p,t){an.each(p,function(r){QE[r]=t})});var iL=/(\d+(\.\d+)?)px/;function ia(p){if(p==="0"||an.isUndefined(p))return 0;var t=p.match(iL);return an.isNull(t)?0:parseFloat(t[1])}var Ot={makeSelectable:function(t,r){t===void 0||t.style===void 0||(t.onselectstart=r?function(){return!1}:function(){},t.style.MozUserSelect=r?"auto":"none",t.style.KhtmlUserSelect=r?"auto":"none",t.unselectable=r?"on":"off")},makeFullscreen:function(t,r,o){var l=o,d=r;an.isUndefined(d)&&(d=!0),an.isUndefined(l)&&(l=!0),t.style.position="absolute",d&&(t.style.left=0,t.style.right=0),l&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,r,o,l){var d=o||{},m=QE[r];if(!m)throw new Error("Event type "+r+" not supported.");var _=document.createEvent(m);switch(m){case"MouseEvents":{var A=d.x||d.clientX||0,S=d.y||d.clientY||0;_.initMouseEvent(r,d.bubbles||!1,d.cancelable||!0,window,d.clickCount||1,0,0,A,S,!1,!1,!1,!1,0,null);break}case"KeyboardEvents":{var R=_.initKeyboardEvent||_.initKeyEvent;an.defaults(d,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),R(r,d.bubbles||!1,d.cancelable,window,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.keyCode,d.charCode);break}default:{_.initEvent(r,d.bubbles||!1,d.cancelable||!0);break}}an.defaults(_,l),t.dispatchEvent(_)},bind:function(t,r,o,l){var d=l||!1;return t.addEventListener?t.addEventListener(r,o,d):t.attachEvent&&t.attachEvent("on"+r,o),Ot},unbind:function(t,r,o,l){var d=l||!1;return t.removeEventListener?t.removeEventListener(r,o,d):t.detachEvent&&t.detachEvent("on"+r,o),Ot},addClass:function(t,r){if(t.className===void 0)t.className=r;else if(t.className!==r){var o=t.className.split(/ +/);o.indexOf(r)===-1&&(o.push(r),t.className=o.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return Ot},removeClass:function(t,r){if(r)if(t.className===r)t.removeAttribute("class");else{var o=t.className.split(/ +/),l=o.indexOf(r);l!==-1&&(o.splice(l,1),t.className=o.join(" "))}else t.className=void 0;return Ot},hasClass:function(t,r){return new RegExp("(?:^|\\s+)"+r+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var r=getComputedStyle(t);return ia(r["border-left-width"])+ia(r["border-right-width"])+ia(r["padding-left"])+ia(r["padding-right"])+ia(r.width)},getHeight:function(t){var r=getComputedStyle(t);return ia(r["border-top-width"])+ia(r["border-bottom-width"])+ia(r["padding-top"])+ia(r["padding-bottom"])+ia(r.height)},getOffset:function(t){var r=t,o={left:0,top:0};if(r.offsetParent)do o.left+=r.offsetLeft,o.top+=r.offsetTop,r=r.offsetParent;while(r);return o},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},XE=function(p){wl(t,p);function t(r,o){Ro(this,t);var l=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o)),d=l;l.__prev=l.getValue(),l.__checkbox=document.createElement("input"),l.__checkbox.setAttribute("type","checkbox");function m(){d.setValue(!d.__prev)}return Ot.bind(l.__checkbox,"change",m,!1),l.domElement.appendChild(l.__checkbox),l.updateDisplay(),l}return To(t,[{key:"setValue",value:function(o){var l=El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,o);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),l}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(Ec),sL=function(p){wl(t,p);function t(r,o,l){Ro(this,t);var d=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o)),m=l,_=d;if(d.__select=document.createElement("select"),an.isArray(m)){var A={};an.each(m,function(S){A[S]=S}),m=A}return an.each(m,function(S,R){var I=document.createElement("option");I.innerHTML=R,I.setAttribute("value",S),_.__select.appendChild(I)}),d.updateDisplay(),Ot.bind(d.__select,"change",function(){var S=this.options[this.selectedIndex].value;_.setValue(S)}),d.domElement.appendChild(d.__select),d}return To(t,[{key:"setValue",value:function(o){var l=El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,o);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),l}},{key:"updateDisplay",value:function(){return Ot.isActive(this.__select)?this:(this.__select.value=this.getValue(),El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(Ec),oL=function(p){wl(t,p);function t(r,o){Ro(this,t);var l=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o)),d=l;function m(){d.setValue(d.__input.value)}function _(){d.__onFinishChange&&d.__onFinishChange.call(d,d.getValue())}return l.__input=document.createElement("input"),l.__input.setAttribute("type","text"),Ot.bind(l.__input,"keyup",m),Ot.bind(l.__input,"change",m),Ot.bind(l.__input,"blur",_),Ot.bind(l.__input,"keydown",function(A){A.keyCode===13&&this.blur()}),l.updateDisplay(),l.domElement.appendChild(l.__input),l}return To(t,[{key:"updateDisplay",value:function(){return Ot.isActive(this.__input)||(this.__input.value=this.getValue()),El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(Ec);function zE(p){var t=p.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var $E=function(p){wl(t,p);function t(r,o,l){Ro(this,t);var d=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o)),m=l||{};return d.__min=m.min,d.__max=m.max,d.__step=m.step,an.isUndefined(d.__step)?d.initialValue===0?d.__impliedStep=1:d.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(d.initialValue))/Math.LN10))/10:d.__impliedStep=d.__step,d.__precision=zE(d.__impliedStep),d}return To(t,[{key:"setValue",value:function(o){var l=o;return this.__min!==void 0&&l<this.__min?l=this.__min:this.__max!==void 0&&l>this.__max&&(l=this.__max),this.__step!==void 0&&l%this.__step!==0&&(l=Math.round(l/this.__step)*this.__step),El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,l)}},{key:"min",value:function(o){return this.__min=o,this}},{key:"max",value:function(o){return this.__max=o,this}},{key:"step",value:function(o){return this.__step=o,this.__impliedStep=o,this.__precision=zE(o),this}}]),t}(Ec);function aL(p,t){var r=Math.pow(10,t);return Math.round(p*r)/r}var Zp=function(p){wl(t,p);function t(r,o,l){Ro(this,t);var d=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o,l));d.__truncationSuspended=!1;var m=d,_=void 0;function A(){var V=parseFloat(m.__input.value);an.isNaN(V)||m.setValue(V)}function S(){m.__onFinishChange&&m.__onFinishChange.call(m,m.getValue())}function R(){S()}function I(V){var O=_-V.clientY;m.setValue(m.getValue()+O*m.__impliedStep),_=V.clientY}function N(){Ot.unbind(window,"mousemove",I),Ot.unbind(window,"mouseup",N),S()}function D(V){Ot.bind(window,"mousemove",I),Ot.bind(window,"mouseup",N),_=V.clientY}return d.__input=document.createElement("input"),d.__input.setAttribute("type","text"),Ot.bind(d.__input,"change",A),Ot.bind(d.__input,"blur",R),Ot.bind(d.__input,"mousedown",D),Ot.bind(d.__input,"keydown",function(V){V.keyCode===13&&(m.__truncationSuspended=!0,this.blur(),m.__truncationSuspended=!1,S())}),d.updateDisplay(),d.domElement.appendChild(d.__input),d}return To(t,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():aL(this.getValue(),this.__precision),El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}($E);function WE(p,t,r,o,l){return o+(l-o)*((p-t)/(r-t))}var U_=function(p){wl(t,p);function t(r,o,l,d,m){Ro(this,t);var _=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o,{min:l,max:d,step:m})),A=_;_.__background=document.createElement("div"),_.__foreground=document.createElement("div"),Ot.bind(_.__background,"mousedown",S),Ot.bind(_.__background,"touchstart",N),Ot.addClass(_.__background,"slider"),Ot.addClass(_.__foreground,"slider-fg");function S(O){document.activeElement.blur(),Ot.bind(window,"mousemove",R),Ot.bind(window,"mouseup",I),R(O)}function R(O){O.preventDefault();var k=A.__background.getBoundingClientRect();return A.setValue(WE(O.clientX,k.left,k.right,A.__min,A.__max)),!1}function I(){Ot.unbind(window,"mousemove",R),Ot.unbind(window,"mouseup",I),A.__onFinishChange&&A.__onFinishChange.call(A,A.getValue())}function N(O){O.touches.length===1&&(Ot.bind(window,"touchmove",D),Ot.bind(window,"touchend",V),D(O))}function D(O){var k=O.touches[0].clientX,U=A.__background.getBoundingClientRect();A.setValue(WE(k,U.left,U.right,A.__min,A.__max))}function V(){Ot.unbind(window,"touchmove",D),Ot.unbind(window,"touchend",V),A.__onFinishChange&&A.__onFinishChange.call(A,A.getValue())}return _.updateDisplay(),_.__background.appendChild(_.__foreground),_.domElement.appendChild(_.__background),_}return To(t,[{key:"updateDisplay",value:function(){var o=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=o*100+"%",El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}($E),KE=function(p){wl(t,p);function t(r,o,l){Ro(this,t);var d=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o)),m=d;return d.__button=document.createElement("div"),d.__button.innerHTML=l===void 0?"Fire":l,Ot.bind(d.__button,"click",function(_){return _.preventDefault(),m.fire(),!1}),Ot.addClass(d.__button,"button"),d.domElement.appendChild(d.__button),d}return To(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(Ec),H_=function(p){wl(t,p);function t(r,o){Ro(this,t);var l=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o));l.__color=new Vi(l.getValue()),l.__temp=new Vi(0);var d=l;l.domElement=document.createElement("div"),Ot.makeSelectable(l.domElement,!1),l.__selector=document.createElement("div"),l.__selector.className="selector",l.__saturation_field=document.createElement("div"),l.__saturation_field.className="saturation-field",l.__field_knob=document.createElement("div"),l.__field_knob.className="field-knob",l.__field_knob_border="2px solid ",l.__hue_knob=document.createElement("div"),l.__hue_knob.className="hue-knob",l.__hue_field=document.createElement("div"),l.__hue_field.className="hue-field",l.__input=document.createElement("input"),l.__input.type="text",l.__input_textShadow="0 1px 1px ",Ot.bind(l.__input,"keydown",function(O){O.keyCode===13&&I.call(this)}),Ot.bind(l.__input,"blur",I),Ot.bind(l.__selector,"mousedown",function(){Ot.addClass(this,"drag").bind(window,"mouseup",function(){Ot.removeClass(d.__selector,"drag")})}),Ot.bind(l.__selector,"touchstart",function(){Ot.addClass(this,"drag").bind(window,"touchend",function(){Ot.removeClass(d.__selector,"drag")})});var m=document.createElement("div");an.extend(l.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),an.extend(l.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:l.__field_knob_border+(l.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),an.extend(l.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),an.extend(l.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),an.extend(m.style,{width:"100%",height:"100%",background:"none"}),jE(m,"top","rgba(0,0,0,0)","#000"),an.extend(l.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),cL(l.__hue_field),an.extend(l.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:l.__input_textShadow+"rgba(0,0,0,0.7)"}),Ot.bind(l.__saturation_field,"mousedown",_),Ot.bind(l.__saturation_field,"touchstart",_),Ot.bind(l.__field_knob,"mousedown",_),Ot.bind(l.__field_knob,"touchstart",_),Ot.bind(l.__hue_field,"mousedown",A),Ot.bind(l.__hue_field,"touchstart",A);function _(O){D(O),Ot.bind(window,"mousemove",D),Ot.bind(window,"touchmove",D),Ot.bind(window,"mouseup",S),Ot.bind(window,"touchend",S)}function A(O){V(O),Ot.bind(window,"mousemove",V),Ot.bind(window,"touchmove",V),Ot.bind(window,"mouseup",R),Ot.bind(window,"touchend",R)}function S(){Ot.unbind(window,"mousemove",D),Ot.unbind(window,"touchmove",D),Ot.unbind(window,"mouseup",S),Ot.unbind(window,"touchend",S),N()}function R(){Ot.unbind(window,"mousemove",V),Ot.unbind(window,"touchmove",V),Ot.unbind(window,"mouseup",R),Ot.unbind(window,"touchend",R),N()}function I(){var O=F_(this.value);O!==!1?(d.__color.__state=O,d.setValue(d.__color.toOriginal())):this.value=d.__color.toString()}function N(){d.__onFinishChange&&d.__onFinishChange.call(d,d.__color.toOriginal())}l.__saturation_field.appendChild(m),l.__selector.appendChild(l.__field_knob),l.__selector.appendChild(l.__saturation_field),l.__selector.appendChild(l.__hue_field),l.__hue_field.appendChild(l.__hue_knob),l.domElement.appendChild(l.__input),l.domElement.appendChild(l.__selector),l.updateDisplay();function D(O){O.type.indexOf("touch")===-1&&O.preventDefault();var k=d.__saturation_field.getBoundingClientRect(),U=O.touches&&O.touches[0]||O,W=U.clientX,Z=U.clientY,ne=(W-k.left)/(k.right-k.left),j=1-(Z-k.top)/(k.bottom-k.top);return j>1?j=1:j<0&&(j=0),ne>1?ne=1:ne<0&&(ne=0),d.__color.v=j,d.__color.s=ne,d.setValue(d.__color.toOriginal()),!1}function V(O){O.type.indexOf("touch")===-1&&O.preventDefault();var k=d.__hue_field.getBoundingClientRect(),U=O.touches&&O.touches[0]||O,W=U.clientY,Z=1-(W-k.top)/(k.bottom-k.top);return Z>1?Z=1:Z<0&&(Z=0),d.__color.h=Z*360,d.setValue(d.__color.toOriginal()),!1}return l}return To(t,[{key:"updateDisplay",value:function(){var o=F_(this.getValue());if(o!==!1){var l=!1;an.each(Vi.COMPONENTS,function(_){if(!an.isUndefined(o[_])&&!an.isUndefined(this.__color.__state[_])&&o[_]!==this.__color.__state[_])return l=!0,{}},this),l&&an.extend(this.__color.__state,o)}an.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var d=this.__color.v<.5||this.__color.s>.5?255:0,m=255-d;an.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+d+","+d+","+d+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,jE(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),an.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+d+","+d+","+d+")",textShadow:this.__input_textShadow+"rgba("+m+","+m+","+m+",.7)"})}}]),t}(Ec),lL=["-moz-","-o-","-webkit-","-ms-",""];function jE(p,t,r,o){p.style.background="",an.each(lL,function(l){p.style.cssText+="background: "+l+"linear-gradient("+t+", "+r+" 0%, "+o+" 100%); "})}function cL(p){p.style.background="",p.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",p.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",p.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",p.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",p.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var uL={load:function(t,r){var o=r||document,l=o.createElement("link");l.type="text/css",l.rel="stylesheet",l.href=t,o.getElementsByTagName("head")[0].appendChild(l)},inject:function(t,r){var o=r||document,l=document.createElement("style");l.type="text/css",l.innerHTML=t;var d=o.getElementsByTagName("head")[0];try{d.appendChild(l)}catch{}}},dL=`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.

    </div>

  </div>

</div>`,fL=function(t,r){var o=t[r];return an.isArray(arguments[2])||an.isObject(arguments[2])?new sL(t,r,arguments[2]):an.isNumber(o)?an.isNumber(arguments[2])&&an.isNumber(arguments[3])?an.isNumber(arguments[4])?new U_(t,r,arguments[2],arguments[3],arguments[4]):new U_(t,r,arguments[2],arguments[3]):an.isNumber(arguments[4])?new Zp(t,r,{min:arguments[2],max:arguments[3],step:arguments[4]}):new Zp(t,r,{min:arguments[2],max:arguments[3]}):an.isString(o)?new oL(t,r):an.isFunction(o)?new KE(t,r,""):an.isBoolean(o)?new XE(t,r):null};function hL(p){setTimeout(p,1e3/60)}var pL=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||hL,mL=function(){function p(){Ro(this,p),this.backgroundElement=document.createElement("div"),an.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),Ot.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),an.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;Ot.bind(this.backgroundElement,"click",function(){t.hide()})}return To(p,[{key:"show",value:function(){var r=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),an.defer(function(){r.backgroundElement.style.opacity=1,r.domElement.style.opacity=1,r.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var r=this,o=function l(){r.domElement.style.display="none",r.backgroundElement.style.display="none",Ot.unbind(r.domElement,"webkitTransitionEnd",l),Ot.unbind(r.domElement,"transitionend",l),Ot.unbind(r.domElement,"oTransitionEnd",l)};Ot.bind(this.domElement,"webkitTransitionEnd",o),Ot.bind(this.domElement,"transitionend",o),Ot.bind(this.domElement,"oTransitionEnd",o),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-Ot.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-Ot.getHeight(this.domElement)/2+"px"}}]),p}(),gL=eL(`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`);uL.inject(gL);var qE="dg",YE=72,JE=20,wf="Default",Cf=function(){try{return!!window.localStorage}catch{return!1}}(),If=void 0,ZE=!0,Ju=void 0,Q_=!1,ew=[],oi=function p(t){var r=this,o=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),Ot.addClass(this.domElement,qE),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],o=an.defaults(o,{closeOnTop:!1,autoPlace:!0,width:p.DEFAULT_WIDTH}),o=an.defaults(o,{resizable:o.autoPlace,hideable:o.autoPlace}),an.isUndefined(o.load)?o.load={preset:wf}:o.preset&&(o.load.preset=o.preset),an.isUndefined(o.parent)&&o.hideable&&ew.push(this),o.resizable=an.isUndefined(o.parent)&&o.resizable,o.autoPlace&&an.isUndefined(o.scrollable)&&(o.scrollable=!0);var l=Cf&&localStorage.getItem(Zu(this,"isLocal"))==="true",d=void 0,m=void 0;if(Object.defineProperties(this,{parent:{get:function(){return o.parent}},scrollable:{get:function(){return o.scrollable}},autoPlace:{get:function(){return o.autoPlace}},closeOnTop:{get:function(){return o.closeOnTop}},preset:{get:function(){return r.parent?r.getRoot().preset:o.load.preset},set:function(N){r.parent?r.getRoot().preset=N:o.load.preset=N,yL(this),r.revert()}},width:{get:function(){return o.width},set:function(N){o.width=N,W_(r,N)}},name:{get:function(){return o.name},set:function(N){o.name=N,m&&(m.innerHTML=o.name)}},closed:{get:function(){return o.closed},set:function(N){o.closed=N,o.closed?Ot.addClass(r.__ul,p.CLASS_CLOSED):Ot.removeClass(r.__ul,p.CLASS_CLOSED),this.onResize(),r.__closeButton&&(r.__closeButton.innerHTML=N?p.TEXT_OPEN:p.TEXT_CLOSED)}},load:{get:function(){return o.load}},useLocalStorage:{get:function(){return l},set:function(N){Cf&&(l=N,N?Ot.bind(window,"unload",d):Ot.unbind(window,"unload",d),localStorage.setItem(Zu(r,"isLocal"),N))}}}),an.isUndefined(o.parent)){if(this.closed=o.closed||!1,Ot.addClass(this.domElement,p.CLASS_MAIN),Ot.makeSelectable(this.domElement,!1),Cf&&l){r.useLocalStorage=!0;var _=localStorage.getItem(Zu(this,"gui"));_&&(o.load=JSON.parse(_))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=p.TEXT_CLOSED,Ot.addClass(this.__closeButton,p.CLASS_CLOSE_BUTTON),o.closeOnTop?(Ot.addClass(this.__closeButton,p.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(Ot.addClass(this.__closeButton,p.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),Ot.bind(this.__closeButton,"click",function(){r.closed=!r.closed})}else{o.closed===void 0&&(o.closed=!0);var A=document.createTextNode(o.name);Ot.addClass(A,"controller-name"),m=X_(r,A);var S=function(N){return N.preventDefault(),r.closed=!r.closed,!1};Ot.addClass(this.__ul,p.CLASS_CLOSED),Ot.addClass(m,"title"),Ot.bind(m,"click",S),o.closed||(this.closed=!1)}o.autoPlace&&(an.isUndefined(o.parent)&&(ZE&&(Ju=document.createElement("div"),Ot.addClass(Ju,qE),Ot.addClass(Ju,p.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(Ju),ZE=!1),Ju.appendChild(this.domElement),Ot.addClass(this.domElement,p.CLASS_AUTO_PLACE)),this.parent||W_(r,o.width)),this.__resizeHandler=function(){r.onResizeDebounced()},Ot.bind(window,"resize",this.__resizeHandler),Ot.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),Ot.bind(this.__ul,"transitionend",this.__resizeHandler),Ot.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),o.resizable&&AL(this),d=function(){Cf&&localStorage.getItem(Zu(r,"isLocal"))==="true"&&localStorage.setItem(Zu(r,"gui"),JSON.stringify(r.getSaveObject()))},this.saveToLocalStorageIfPossible=d;function R(){var I=r.getRoot();I.width+=1,an.defer(function(){I.width-=1})}o.parent||R()};oi.toggleHide=function(){Q_=!Q_,an.each(ew,function(p){p.domElement.style.display=Q_?"none":""})},oi.CLASS_AUTO_PLACE="a",oi.CLASS_AUTO_PLACE_CONTAINER="ac",oi.CLASS_MAIN="main",oi.CLASS_CONTROLLER_ROW="cr",oi.CLASS_TOO_TALL="taller-than-window",oi.CLASS_CLOSED="closed",oi.CLASS_CLOSE_BUTTON="close-button",oi.CLASS_CLOSE_TOP="close-top",oi.CLASS_CLOSE_BOTTOM="close-bottom",oi.CLASS_DRAG="drag",oi.DEFAULT_WIDTH=245,oi.TEXT_CLOSED="Close Controls",oi.TEXT_OPEN="Open Controls",oi._keydownHandler=function(p){document.activeElement.type!=="text"&&(p.which===YE||p.keyCode===YE)&&oi.toggleHide()},Ot.bind(window,"keydown",oi._keydownHandler,!1),an.extend(oi.prototype,{add:function(t,r){return Mf(this,t,r,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,r){return Mf(this,t,r,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var r=this;an.defer(function(){r.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&Ju.removeChild(this.domElement);var t=this;an.each(this.__folders,function(r){t.removeFolder(r)}),Ot.unbind(window,"keydown",oi._keydownHandler,!1),tw(this)},addFolder:function(t){if(this.__folders[t]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+t+'"');var r={name:t,parent:this};r.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(r.closed=this.load.folders[t].closed,r.load=this.load.folders[t]);var o=new oi(r);this.__folders[t]=o;var l=X_(this,o.domElement);return Ot.addClass(l,"folder"),o},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],tw(t);var r=this;an.each(t.__folders,function(o){t.removeFolder(o)}),an.defer(function(){r.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var t=this.getRoot();if(t.scrollable){var r=Ot.getOffset(t.__ul).top,o=0;an.each(t.__ul.childNodes,function(l){t.autoPlace&&l===t.__save_row||(o+=Ot.getHeight(l))}),window.innerHeight-r-JE<o?(Ot.addClass(t.domElement,oi.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-r-JE+"px"):(Ot.removeClass(t.domElement,oi.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&an.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:an.debounce(function(){this.onResize()},50),remember:function(){if(an.isUndefined(If)&&(If=new mL,If.domElement.innerHTML=dL),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;an.each(Array.prototype.slice.call(arguments),function(r){t.__rememberedObjects.length===0&&_L(t),t.__rememberedObjects.indexOf(r)===-1&&t.__rememberedObjects.push(r)}),this.autoPlace&&W_(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=em(this)),t.folders={},an.each(this.__folders,function(r,o){t.folders[o]=r.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=em(this),z_(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[wf]=em(this,!0)),this.load.remembered[t]=em(this),this.preset=t,$_(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){an.each(this.__controllers,function(r){this.getRoot().load.remembered?nw(t||this.getRoot(),r):r.setValue(r.initialValue),r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())},this),an.each(this.__folders,function(r){r.revert(r)}),t||z_(this.getRoot(),!1)},listen:function(t){var r=this.__listening.length===0;this.__listening.push(t),r&&iw(this.__listening)},updateDisplay:function(){an.each(this.__controllers,function(t){t.updateDisplay()}),an.each(this.__folders,function(t){t.updateDisplay()})}});function X_(p,t,r){var o=document.createElement("li");return t&&o.appendChild(t),r?p.__ul.insertBefore(o,r):p.__ul.appendChild(o),p.onResize(),o}function tw(p){Ot.unbind(window,"resize",p.__resizeHandler),p.saveToLocalStorageIfPossible&&Ot.unbind(window,"unload",p.saveToLocalStorageIfPossible)}function z_(p,t){var r=p.__preset_select[p.__preset_select.selectedIndex];t?r.innerHTML=r.value+"*":r.innerHTML=r.value}function vL(p,t,r){if(r.__li=t,r.__gui=p,an.extend(r,{options:function(m){if(arguments.length>1){var _=r.__li.nextElementSibling;return r.remove(),Mf(p,r.object,r.property,{before:_,factoryArgs:[an.toArray(arguments)]})}if(an.isArray(m)||an.isObject(m)){var A=r.__li.nextElementSibling;return r.remove(),Mf(p,r.object,r.property,{before:A,factoryArgs:[m]})}},name:function(m){return r.__li.firstElementChild.firstElementChild.innerHTML=m,r},listen:function(){return r.__gui.listen(r),r},remove:function(){return r.__gui.remove(r),r}}),r instanceof U_){var o=new Zp(r.object,r.property,{min:r.__min,max:r.__max,step:r.__step});an.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(d){var m=r[d],_=o[d];r[d]=o[d]=function(){var A=Array.prototype.slice.call(arguments);return _.apply(o,A),m.apply(r,A)}}),Ot.addClass(t,"has-slider"),r.domElement.insertBefore(o.domElement,r.domElement.firstElementChild)}else if(r instanceof Zp){var l=function(m){if(an.isNumber(r.__min)&&an.isNumber(r.__max)){var _=r.__li.firstElementChild.firstElementChild.innerHTML,A=r.__gui.__listening.indexOf(r)>-1;r.remove();var S=Mf(p,r.object,r.property,{before:r.__li.nextElementSibling,factoryArgs:[r.__min,r.__max,r.__step]});return S.name(_),A&&S.listen(),S}return m};r.min=an.compose(l,r.min),r.max=an.compose(l,r.max)}else r instanceof XE?(Ot.bind(t,"click",function(){Ot.fakeEvent(r.__checkbox,"click")}),Ot.bind(r.__checkbox,"click",function(d){d.stopPropagation()})):r instanceof KE?(Ot.bind(t,"click",function(){Ot.fakeEvent(r.__button,"click")}),Ot.bind(t,"mouseover",function(){Ot.addClass(r.__button,"hover")}),Ot.bind(t,"mouseout",function(){Ot.removeClass(r.__button,"hover")})):r instanceof H_&&(Ot.addClass(t,"color"),r.updateDisplay=an.compose(function(d){return t.style.borderLeftColor=r.__color.toString(),d},r.updateDisplay),r.updateDisplay());r.setValue=an.compose(function(d){return p.getRoot().__preset_select&&r.isModified()&&z_(p.getRoot(),!0),d},r.setValue)}function nw(p,t){var r=p.getRoot(),o=r.__rememberedObjects.indexOf(t.object);if(o!==-1){var l=r.__rememberedObjectIndecesToControllers[o];if(l===void 0&&(l={},r.__rememberedObjectIndecesToControllers[o]=l),l[t.property]=t,r.load&&r.load.remembered){var d=r.load.remembered,m=void 0;if(d[p.preset])m=d[p.preset];else if(d[wf])m=d[wf];else return;if(m[o]&&m[o][t.property]!==void 0){var _=m[o][t.property];t.initialValue=_,t.setValue(_)}}}}function Mf(p,t,r,o){if(t[r]===void 0)throw new Error('Object "'+t+'" has no property "'+r+'"');var l=void 0;if(o.color)l=new H_(t,r);else{var d=[t,r].concat(o.factoryArgs);l=fL.apply(p,d)}o.before instanceof Ec&&(o.before=o.before.__li),nw(p,l),Ot.addClass(l.domElement,"c");var m=document.createElement("span");Ot.addClass(m,"property-name"),m.innerHTML=l.property;var _=document.createElement("div");_.appendChild(m),_.appendChild(l.domElement);var A=X_(p,_,o.before);return Ot.addClass(A,oi.CLASS_CONTROLLER_ROW),l instanceof H_?Ot.addClass(A,"color"):Ot.addClass(A,nL(l.getValue())),vL(p,A,l),p.__controllers.push(l),l}function Zu(p,t){return document.location.href+"."+t}function $_(p,t,r){var o=document.createElement("option");o.innerHTML=t,o.value=t,p.__preset_select.appendChild(o),r&&(p.__preset_select.selectedIndex=p.__preset_select.length-1)}function rw(p,t){t.style.display=p.useLocalStorage?"block":"none"}function _L(p){var t=p.__save_row=document.createElement("li");Ot.addClass(p.domElement,"has-save"),p.__ul.insertBefore(t,p.__ul.firstChild),Ot.addClass(t,"save-row");var r=document.createElement("span");r.innerHTML="&nbsp;",Ot.addClass(r,"button gears");var o=document.createElement("span");o.innerHTML="Save",Ot.addClass(o,"button"),Ot.addClass(o,"save");var l=document.createElement("span");l.innerHTML="New",Ot.addClass(l,"button"),Ot.addClass(l,"save-as");var d=document.createElement("span");d.innerHTML="Revert",Ot.addClass(d,"button"),Ot.addClass(d,"revert");var m=p.__preset_select=document.createElement("select");if(p.load&&p.load.remembered?an.each(p.load.remembered,function(I,N){$_(p,N,N===p.preset)}):$_(p,wf,!1),Ot.bind(m,"change",function(){for(var I=0;I<p.__preset_select.length;I++)p.__preset_select[I].innerHTML=p.__preset_select[I].value;p.preset=this.value}),t.appendChild(m),t.appendChild(r),t.appendChild(o),t.appendChild(l),t.appendChild(d),Cf){var _=document.getElementById("dg-local-explain"),A=document.getElementById("dg-local-storage"),S=document.getElementById("dg-save-locally");S.style.display="block",localStorage.getItem(Zu(p,"isLocal"))==="true"&&A.setAttribute("checked","checked"),rw(p,_),Ot.bind(A,"change",function(){p.useLocalStorage=!p.useLocalStorage,rw(p,_)})}var R=document.getElementById("dg-new-constructor");Ot.bind(R,"keydown",function(I){I.metaKey&&(I.which===67||I.keyCode===67)&&If.hide()}),Ot.bind(r,"click",function(){R.innerHTML=JSON.stringify(p.getSaveObject(),void 0,2),If.show(),R.focus(),R.select()}),Ot.bind(o,"click",function(){p.save()}),Ot.bind(l,"click",function(){var I=prompt("Enter a new preset name.");I&&p.saveAs(I)}),Ot.bind(d,"click",function(){p.revert()})}function AL(p){var t=void 0;p.__resize_handle=document.createElement("div"),an.extend(p.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function r(d){return d.preventDefault(),p.width+=t-d.clientX,p.onResize(),t=d.clientX,!1}function o(){Ot.removeClass(p.__closeButton,oi.CLASS_DRAG),Ot.unbind(window,"mousemove",r),Ot.unbind(window,"mouseup",o)}function l(d){return d.preventDefault(),t=d.clientX,Ot.addClass(p.__closeButton,oi.CLASS_DRAG),Ot.bind(window,"mousemove",r),Ot.bind(window,"mouseup",o),!1}Ot.bind(p.__resize_handle,"mousedown",l),Ot.bind(p.__closeButton,"mousedown",l),p.domElement.insertBefore(p.__resize_handle,p.domElement.firstElementChild)}function W_(p,t){p.domElement.style.width=t+"px",p.__save_row&&p.autoPlace&&(p.__save_row.style.width=t+"px"),p.__closeButton&&(p.__closeButton.style.width=t+"px")}function em(p,t){var r={};return an.each(p.__rememberedObjects,function(o,l){var d={},m=p.__rememberedObjectIndecesToControllers[l];an.each(m,function(_,A){d[A]=t?_.initialValue:_.getValue()}),r[l]=d}),r}function yL(p){for(var t=0;t<p.__preset_select.length;t++)p.__preset_select[t].value===p.preset&&(p.__preset_select.selectedIndex=t)}function iw(p){p.length!==0&&pL.call(window,function(){iw(p)}),an.each(p,function(t){t.updateDisplay()})}var xf=oi,bL=new GE,SL,vs;new __(5,6,30),new Zo({transparent:!0,side:H});function EL(p,t,r,o){var l,d,m=t.loadingContainer,_=t.progress,A=p.split("/").pop();bL.load(p,function(S){ML(o),S.axisOrder=["x","y","z"];var R=S.RASDimensions,I=S.dimensions,N=S.spacing,D=Math.floor(I[2]/2),V=Math.floor(I[1]/2),O=Math.floor(I[0]/2),k=S.extractSlice("z",D*N[2]),U=S.extractSlice("y",V*N[1]),W=S.extractSlice("x",O*N[0]);k.initIndex=D,U.initIndex=V,W.initIndex=O,k.MaxIndex=I[2]-1,U.MaxIndex=I[1]-1,W.MaxIndex=I[0]-1,k.RSARatio=N[2],U.RSARatio=N[1],W.RSARatio=N[0],k.RSAMaxIndex=R[2]-1,U.RSAMaxIndex=R[1]-1,W.RSAMaxIndex=R[0]-1,l={x:W.mesh,y:U.mesh,z:k.mesh},d={x:W,y:U,z:k},vs&&(vs.add(W,"index",0,S.RASDimensions[0],1).name("indexX").onChange(function(){W.repaint.call(W)}),vs.add(U,"index",0,S.RASDimensions[1],1).name("indexY").onChange(function(){U.repaint.call(U)}),vs.add(k,"index",0,S.RASDimensions[2]-1,1).name("indexZ").onChange(function(){k.repaint.call(k)}),vs.add(S,"lowerThreshold",S.min,S.max,1).name("Lower Threshold").onChange(function(){S.repaintAllSlices()}),vs.add(S,"upperThreshold",S.min,S.max,1).name("Upper Threshold").onChange(function(){S.repaintAllSlices()}),vs.add(S,"windowLow",S.min,S.max,1).name("Window Low").onChange(function(){S.repaintAllSlices()}),vs.add(S,"windowHigh",S.min,S.max,1).name("Window High").onChange(function(){S.repaintAllSlices()})),vs?r&&r(S,l,d,vs):r&&r(S,l,d)},function(S){m.style.display="flex",_.innerText="File: ".concat(A," ").concat(Math.ceil(S.loaded/S.total*100)," % loaded"),S.loaded/S.total===1&&(m.style.display="none")})}function wL(p,t,r,o){var l={clim1:0,clim2:1,renderStyle:"iso",isothreshold:-.15,colormap:"viridis"},d=vE(),m=d.loadingContainer,_=d.progress;r.appendChild(m);var A,S,R;new GE().load(p,function(I){I.axisOrder=["x","y","z"];var N=I.data.byteLength/I.data.length===2;I.lowerThreshold=19,I.upperThreshold=498,I.windowLow=0,I.windowHigh=354;var D=N?xL(I.data,0,I.data.length):I.data,V=new Fv(D,I.xLength,I.yLength,I.zLength);V.format=ul,V.type=Yr,V.minFilter=V.magFilter=ir,V.unpackAlignment=1,V.needsUpdate=!0,A={viridis:new A_().load(Z4),gray:new A_().load(J4)};var O=Y4,k=iS.clone(O.uniforms);k.u_data.value=V,k.u_size.value.set(I.xLength,I.yLength,I.zLength),k.u_clim.value.set(l.clim1,l.clim2),k.u_renderstyle.value=l.renderStyle==="mip"?0:1,k.u_renderthreshold.value=l.isothreshold,k.u_cmdata.value=A[l.colormap],S=new wo({uniforms:k,vertexShader:O.vertexShader,fragmentShader:O.fragmentShader,side:Q});var U=new mc(I.xLength,I.yLength,I.zLength);U.translate(I.xLength/2-.5,I.yLength/2-.5,I.zLength/2-.5),R=new Fi(U,S);var W=new pE(R);t.add(W),W.applyMatrix4(I.matrix),t.add(R);var Z=new xf;Z.add(l,"clim1",-1,1,.01).onChange(ne),Z.add(l,"clim2",-1,1,.01).onChange(ne),Z.add(l,"colormap",{gray:"gray",viridis:"viridis"}).onChange(ne),Z.add(l,"renderStyle",{mip:"mip",iso:"iso"}).onChange(ne),Z.add(l,"isothreshold",-1,1,.01).onChange(ne);function ne(){S.uniforms.u_clim.value.set(l.clim1,l.clim2),S.uniforms.u_renderstyle.value=l.renderStyle=="mip"?0:1,S.uniforms.u_renderthreshold.value=l.isothreshold,S.uniforms.u_cmdata.value=A[l.colormap]}o&&o(I,Z)},function(I){m.style.display="flex",_.innerText="".concat(Math.ceil(I.loaded/I.total*100)," % loaded"),I.loaded/I.total===1&&(m.style.display="none")})}function CL(p,t,r,o){var l=0;p.x.volume.RASDimensions[0],p.y.volume.RASDimensions[1];var d=p.z.volume.RASDimensions[2];new Ps,t.add(p.z.mesh);var m=!0;function _(){requestAnimationFrame(_),l<0&&(l=0,m=!0),l>d&&(l=d,m=!1),setTimeout(function(){p.z.index=l,p.z.repaint(p.z),p.z.mesh.position.set(0,0,.5)},100),m?l++:l--}_();var A={indexX:0};r.add(A,"indexX",0,50,1).name("indexZ").onChange(function(S){o.enabled=!1}),r.add(o,"enabled").name("controls")}function IL(p,t,r){var o;r?o=r:o=SL;var l=new pE(o);p.addObject(l),l.applyMatrix4(t.matrix)}function ML(p){p&&p.openGui&&(p.container?(vs=new xf({width:260,autoPlace:!1}),p.container.appendChild(vs.domElement)):(vs=new xf,vs.closed=!0))}function xL(p,t,r){for(var o=new Float32Array(p.length-t),l=t;l<r;l++){var d=p[l],m=d>=32768?-(65536-d)/32768:d/32767;o[l]=m}return o}var sw=new Y8,Pa,wc;function RL(p,t,r,o){var l=new Zo({wireframe:!0,color:65382}),d={},m="";r.forEach(function(A){d[A.name]=A.material});var _=function(A){var S=new Fn(A.offsetX,A.offsetY);Pa=ow(p,t,r,S.x,S.y),Pa.length>0?wc=Pa[0].object:(wc=null,m="",o(void 0)),r.forEach(function(R,I){wc&&wc.name===R.name?m!=R.name&&(m=R.name,r[I].material=l,o(r[I])):r[I].material=d[R.name]})};t.addEventListener("mousemove",tm(_,80),!1)}function tm(p,t){var r=0;return function(o){var l=Date.now();l-r>t&&(p.call(null,o),r=l)}}function ow(p,t,r,o,l){return sw.setFromCamera({x:o/t.clientWidth*2-1,y:-(l/t.clientHeight)*2+1},p),Pa=sw.intersectObjects(r,!1),Pa}function TL(p,t,r,o){return Pa=ow(p,t,r,o.x,o.y),Pa.length>0?wc=Pa[0].object:wc=null,{intersectedObject:wc,intersects:Pa}}var aw=function(){function p(t){this.subDiv=null,this.subScene=new Vp,this.subCamera=null,this.subRender=null,this.subCopperControl=null,this.sort=!0,this.depthStep=.4,this.pickableObjects=[],this.container=t,this.scene=new Vp,this.camera=new Wi(75,t.clientWidth/t.clientHeight,.1,500),this.preRenderCallbackFunctions={index:0,cache:{},add:function(r){if(!r.id){r.id=++this.index,this.cache[r.id]=r;return}}}}return p.prototype.createDemoMesh=function(){var t=new mc,r=new b8({color:16711935,wireframe:!0}),o=new Fi(t,r);this.scene.add(o),this.scene.add(new J8(5))},p.prototype.addObject=function(t){this.scene.add(t)},p.prototype.setDepth=function(t){this.depthStep=t},p.prototype.setDicomFilesOrder=function(t){t==="ascending"?this.sort=!0:t==="descending"&&(this.sort=!1)},p.prototype.addPreRenderCallbackFunction=function(t){this.preRenderCallbackFunctions.add(t);var r=this.preRenderCallbackFunctions.index;return r},p.prototype.pickModel=function(t,r,o){var l=this;t.traverse(function(d){if(d.isMesh){var m=d;o&&o.includes(m.name)||l.pickableObjects.push(m)}}),RL(this.camera,this.container,this.pickableObjects,r)},p.prototype.addSubView=function(){this.subDiv=document.createElement("div"),this.container.appendChild(this.subDiv),this.subDiv.classList.add("copper3D_sub_axes");var t=this.subDiv,r=t.clientWidth,o=t.clientHeight;return this.subCamera=new Wi(50,r/o,.1,10),this.subScene.add(this.subCamera),this.subCopperControl=new I_(this.subCamera),this.subRender=new Fp({alpha:!0}),this.subRender.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.subRender.setSize(this.subDiv.clientWidth,this.subDiv.clientWidth),this.subCamera.up=this.camera.up,this.subDiv.appendChild(this.subRender.domElement),this.subDiv},p.prototype.loadDicom=function(t,r){var o=this,l;if(r&&(l=r.gui),Array.isArray(t)){var d=t.length,m=[],_=[],A=[];t.forEach(function(I){yE(I,function(N){if(m.push(N),m.length===d){m.sort(function(U,W){return o.sort?U.order-W.order:W.order-U.order}),m.forEach(function(U){_.push(U.uint8),A.push(U.uint16)});var D=new Uint8ClampedArray(N.width*N.height*d),V=new Uint16Array(D.length),O=0,k=0;_.forEach(function(U,W){O=W*N.width*N.height;for(var Z=0;Z<U.length;Z++)D[Z+O]=U[Z]}),A.forEach(function(U,W){k=W*N.width*N.height;for(var Z=0;Z<U.length;Z++)V[Z+k]=U[Z]}),N.uint8=D,N.uint16=V,S(N)}})});var S=function(I){l&&l.add(o,"depthStep").min(.01).max(1).step(.01);var N=NE(I,d,o.scene,l),D=N.material.uniforms.depth.value,V=function(){r!=null&&r.setAnimation?D=r.setAnimation(D,d,o.depthStep):(D+=o.depthStep,(D>d||D<0)&&(D>1&&(D=d*2-D),D<0&&(D=-D),o.depthStep=-o.depthStep)),N.material.uniforms.depth.value=D};o.addPreRenderCallbackFunction(V)}}else{var R=t;yE(R,function(I){NE(I,1,o.scene)})}},p.prototype.loadNrrd=function(t,r,o,l){EL(t,r,o,l)},p}(),NL=gE(),K_=function(p){h(t,p);function t(r,o){var l=p.call(this,r)||this;return l.sceneName="",l.cameraPositionFlag=!1,l.content=new Ps,l.exportContent=new Ps,l.isHalfed=!1,l.viewPoint=new Al,l.color1="#5454ad",l.color2="#18e5a7",l.lights=[],l.onWindowResize=function(){l.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),l.camera.aspect=l.container.clientWidth/l.container.clientHeight,l.camera.updateProjectionMatrix(),l.vignette.style({aspect:l.camera.aspect}),l.renderer.setSize(l.container.clientWidth,l.container.clientHeight)},l.renderer=o,l.ambientLight=new cE(2105376,.3),l.directionalLight=new S_(16777215,.3),l.vignette=mE({aspect:l.container.clientWidth/l.container.clientHeight,grainScale:NL?0:.001,colors:[l.color1,l.color2]}),l.vignette.mesh.name="Vignette",l.vignette.mesh.renderOrder=-1,l.copperControl=new I_(l.camera),l.init(),l}return t.prototype.init=function(){this.copperControl.setCameraViewPoint(),this.camera.position.z=2,this.scene.add(this.camera),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.addLights()},t.prototype.loadMetadataUrl=function(r){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState==4&&o.status==200){var l=JSON.parse(o.responseText),d=l.length;d===1||d>1||console.error("Empty metadata!")}},o.open("GET",r,!0),o.send()},t.prototype.loadViewUrl=function(r){var o=this,l=new XMLHttpRequest;l.onreadystatechange=function(){if(l.readyState==4&&l.status==200){var d=JSON.parse(l.responseText);o.loadView(d)}},l.open("GET",r,!0),l.send()},t.prototype.loadView=function(r){this.cameraPositionFlag=!0,this.viewPoint=r;var o=new Al;o.farPlane=r.farPlane,o.nearPlane=r.nearPlane,o.eyePosition=r.eyePosition,o.targetPosition=r.targetPosition,o.upVector=r.upVector,this.copperControl.updateCameraViewPoint(o)},t.prototype.getDefaultViewPoint=function(){return this.viewPoint},t.prototype.setViewPoint=function(r,o){var l=new Al;return l.farPlane=r.far,l.nearPlane=r.near,l.eyePosition=[r.position.x,r.position.y,r.position.z],o?l.targetPosition=[o[0],o[1],o[2]]:l.targetPosition=[0,0,0],l.upVector=[r.up.x,r.up.y,r.up.z],l},t.prototype.addObject=function(r){this.scene.add(r)},t.prototype.addLights=function(){var r=new iE;r.name="hemi_light",this.scene.add(r),this.ambientLight.name="ambient_light",this.directionalLight.name="main_light",this.directionalLight.position.set(.5,0,.866),this.camera.add(this.ambientLight),this.camera.add(this.directionalLight),this.lights.push(this.ambientLight),this.lights.push(this.directionalLight),this.lights.push(r)},t.prototype.removeLights=function(){this.lights&&(this.lights.forEach(function(r){return r.parent.remove(r)}),this.lights.length=0)},t.prototype.updateLights=function(r){var o=this.lights;r.addLights&&!o.length?this.addLights():!r.addLights&&o.length&&this.removeLights(),o.length===3&&(o[0].intensity=r.ambientIntensity,o[0].color.setHex(r.ambientColor),o[1].intensity=r.directIntensity,o[1].color.setHex(r.directColor))},t.prototype.updateDisplay=function(r){s4(this.content,function(o){o.wireframe=r.wireframe})},t.prototype.updateBackground=function(r,o){this.vignette.style({colors:[r,o]})},t.prototype.updateModelChildrenVisualisation=function(r){r.visible=!r.visible;var o=[];this.content.traverse(function(l){o.push(l.visible)}),o.includes(!1)?this.isHalfed=!0:this.isHalfed=!1},t.prototype.render=function(){this.renderer.render(this.scene,this.camera)},t}(aw),PL="",BL="";function DL(p){j_[1].path=p}var j_=[{id:"",name:"None",path:null,format:".hdr"},{id:"venice-sunset",name:"Venice Sunset",path:BL,format:".hdr"},{id:"footprint-court",name:"Footprint Court (HDR Labs)",path:PL,format:".hdr"}];class lw extends N8{constructor(t){super(t),this.type=Bi}parse(t){const _=function(Z,ne){switch(Z){case 1:console.error("THREE.RGBELoader Read Error: "+(ne||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(ne||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(ne||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(ne||""))}return-1},I=`
`,N=function(Z,ne,j){ne=ne||1024;let Ae=Z.pos,Y=-1,pe=0,we="",Oe=String.fromCharCode.apply(null,new Uint16Array(Z.subarray(Ae,Ae+128)));for(;0>(Y=Oe.indexOf(I))&&pe<ne&&Ae<Z.byteLength;)we+=Oe,pe+=Oe.length,Ae+=128,Oe+=String.fromCharCode.apply(null,new Uint16Array(Z.subarray(Ae,Ae+128)));return-1<Y?(j!==!1&&(Z.pos+=pe+Y+1),we+Oe.slice(0,Y)):!1},D=function(Z){const ne=/^#\?(\S+)/,j=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,re=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Ae=/^\s*FORMAT=(\S+)\s*$/,Y=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,pe={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let we,Oe;if(Z.pos>=Z.byteLength||!(we=N(Z)))return _(1,"no header found");if(!(Oe=we.match(ne)))return _(3,"bad initial token");for(pe.valid|=1,pe.programtype=Oe[1],pe.string+=we+`
`;we=N(Z),we!==!1;){if(pe.string+=we+`
`,we.charAt(0)==="#"){pe.comments+=we+`
`;continue}if((Oe=we.match(j))&&(pe.gamma=parseFloat(Oe[1])),(Oe=we.match(re))&&(pe.exposure=parseFloat(Oe[1])),(Oe=we.match(Ae))&&(pe.valid|=2,pe.format=Oe[1]),(Oe=we.match(Y))&&(pe.valid|=4,pe.height=parseInt(Oe[1],10),pe.width=parseInt(Oe[2],10)),pe.valid&2&&pe.valid&4)break}return pe.valid&2?pe.valid&4?pe:_(3,"missing image size specifier"):_(3,"missing format specifier")},V=function(Z,ne,j){const re=ne;if(re<8||re>32767||Z[0]!==2||Z[1]!==2||Z[2]&128)return new Uint8Array(Z);if(re!==(Z[2]<<8|Z[3]))return _(3,"wrong scanline width");const Ae=new Uint8Array(4*ne*j);if(!Ae.length)return _(4,"unable to allocate buffer space");let Y=0,pe=0;const we=4*re,Oe=new Uint8Array(4),tt=new Uint8Array(we);let Re=j;for(;Re>0&&pe<Z.byteLength;){if(pe+4>Z.byteLength)return _(1);if(Oe[0]=Z[pe++],Oe[1]=Z[pe++],Oe[2]=Z[pe++],Oe[3]=Z[pe++],Oe[0]!=2||Oe[1]!=2||(Oe[2]<<8|Oe[3])!=re)return _(3,"bad rgbe scanline format");let ke=0,st;for(;ke<we&&pe<Z.byteLength;){st=Z[pe++];const dt=st>128;if(dt&&(st-=128),st===0||ke+st>we)return _(3,"bad scanline data");if(dt){const De=Z[pe++];for(let Je=0;Je<st;Je++)tt[ke++]=De}else tt.set(Z.subarray(pe,pe+st),ke),ke+=st,pe+=st}const ht=re;for(let dt=0;dt<ht;dt++){let De=0;Ae[Y]=tt[dt+De],De+=re,Ae[Y+1]=tt[dt+De],De+=re,Ae[Y+2]=tt[dt+De],De+=re,Ae[Y+3]=tt[dt+De],Y+=4}Re--}return Ae},O=function(Z,ne,j,re){const Ae=Z[ne+3],Y=Math.pow(2,Ae-128)/255;j[re+0]=Z[ne+0]*Y,j[re+1]=Z[ne+1]*Y,j[re+2]=Z[ne+2]*Y,j[re+3]=1},k=function(Z,ne,j,re){const Ae=Z[ne+3],Y=Math.pow(2,Ae-128)/255;j[re+0]=qp.toHalfFloat(Math.min(Z[ne+0]*Y,65504)),j[re+1]=qp.toHalfFloat(Math.min(Z[ne+1]*Y,65504)),j[re+2]=qp.toHalfFloat(Math.min(Z[ne+2]*Y,65504)),j[re+3]=qp.toHalfFloat(1)},U=new Uint8Array(t);U.pos=0;const W=D(U);if(W!==-1){const Z=W.width,ne=W.height,j=V(U.subarray(U.pos),Z,ne);if(j!==-1){let re,Ae,Y;switch(this.type){case Yr:Y=j.length/4;const pe=new Float32Array(Y*4);for(let Oe=0;Oe<Y;Oe++)O(j,Oe*4,pe,Oe*4);re=pe,Ae=Yr;break;case Bi:Y=j.length/4;const we=new Uint16Array(Y*4);for(let Oe=0;Oe<Y;Oe++)k(j,Oe*4,we,Oe*4);re=we,Ae=Bi;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:Z,height:ne,data:re,header:W.string,gamma:W.gamma,exposure:W.exposure,type:Ae}}}return null}setDataType(t){return this.type=t,this}load(t,r,o,l){function d(m,_){switch(m.type){case Yr:case Bi:m.encoding=_o,m.minFilter=ir,m.magFilter=ir,m.generateMipmaps=!1,m.flipY=!0;break}r&&r(m,_)}return super.load(t,d,o,l)}}var Rf=function(){var p=0,t=document.createElement("div");t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",function(R){R.preventDefault(),o(++p%t.children.length)},!1);function r(R){return t.appendChild(R.dom),R}function o(R){for(var I=0;I<t.children.length;I++)t.children[I].style.display=I===R?"block":"none";p=R}var l=(performance||Date).now(),d=l,m=0,_=r(new Rf.Panel("FPS","#0ff","#002")),A=r(new Rf.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var S=r(new Rf.Panel("MB","#f08","#201"));return o(0),{REVISION:16,dom:t,addPanel:r,showPanel:o,begin:function(){l=(performance||Date).now()},end:function(){m++;var R=(performance||Date).now();if(A.update(R-l,200),R>=d+1e3&&(_.update(m*1e3/(R-d),100),d=R,m=0,S)){var I=performance.memory;S.update(I.usedJSHeapSize/1048576,I.jsHeapSizeLimit/1048576)}return R},update:function(){l=this.end()},domElement:t,setMode:o}};Rf.Panel=function(p,t,r){var o=1/0,l=0,d=Math.round,m=d(window.devicePixelRatio||1),_=80*m,A=48*m,S=3*m,R=2*m,I=3*m,N=15*m,D=74*m,V=30*m,O=document.createElement("canvas");O.width=_,O.height=A,O.style.cssText="width:80px;height:48px";var k=O.getContext("2d");return k.font="bold "+9*m+"px Helvetica,Arial,sans-serif",k.textBaseline="top",k.fillStyle=r,k.fillRect(0,0,_,A),k.fillStyle=t,k.fillText(p,S,R),k.fillRect(I,N,D,V),k.fillStyle=r,k.globalAlpha=.9,k.fillRect(I,N,D,V),{dom:O,update:function(U,W){o=Math.min(o,U),l=Math.max(l,U),k.fillStyle=r,k.globalAlpha=1,k.fillRect(0,0,_,N),k.fillStyle=t,k.fillText(d(U)+" "+p+" ("+d(o)+"-"+d(l)+")",S,R),k.drawImage(O,I+m,N,D-m,V,I,N,D-m,V),k.fillRect(I+D-m,N,m,V),k.fillStyle=r,k.globalAlpha=.9,k.fillRect(I+D-m,N,m,d((1-U/W)*V))}}};var kL=Rf;class q_{constructor(){this.pluginCallbacks=[],this.register(function(t){return new XL(t)}),this.register(function(t){return new zL(t)}),this.register(function(t){return new $L(t)}),this.register(function(t){return new jL(t)}),this.register(function(t){return new qL(t)}),this.register(function(t){return new WL(t)}),this.register(function(t){return new KL(t)})}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,r,o,l){const d=new QL,m=[];for(let _=0,A=this.pluginCallbacks.length;_<A;_++)m.push(this.pluginCallbacks[_](d));d.setPlugins(m),d.write(t,r,l).catch(o)}parseAsync(t,r){const o=this;return new Promise(function(l,d){o.parse(t,l,d,r)})}}const jr={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,FLOAT:5126,UNSIGNED_INT:5125,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},ks={};ks[Yt]=jr.NEAREST,ks[un]=jr.NEAREST_MIPMAP_NEAREST,ks[Ar]=jr.NEAREST_MIPMAP_LINEAR,ks[ir]=jr.LINEAR,ks[si]=jr.LINEAR_MIPMAP_NEAREST,ks[Xn]=jr.LINEAR_MIPMAP_LINEAR,ks[Dt]=jr.CLAMP_TO_EDGE,ks[Qe]=jr.REPEAT,ks[Qt]=jr.MIRRORED_REPEAT;const cw={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},uw=12,LL=1179937895,OL=2,dw=8,FL=1313821514,VL=5130562;function Tf(p,t){return p.length===t.length&&p.every(function(r,o){return r===t[o]})}function GL(p){return new TextEncoder().encode(p).buffer}function UL(p){return Tf(p.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function HL(p,t,r){const o={min:new Array(p.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(p.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let l=t;l<t+r;l++)for(let d=0;d<p.itemSize;d++){let m;p.itemSize>4?m=p.array[l*p.itemSize+d]:d===0?m=p.getX(l):d===1?m=p.getY(l):d===2?m=p.getZ(l):d===3&&(m=p.getW(l)),o.min[d]=Math.min(o.min[d],m),o.max[d]=Math.max(o.max[d],m)}return o}function fw(p){return Math.ceil(p/4)*4}function Y_(p,t=0){const r=fw(p.byteLength);if(r!==p.byteLength){const o=new Uint8Array(r);if(o.set(new Uint8Array(p)),t!==0)for(let l=p.byteLength;l<r;l++)o[l]=t;return o.buffer}return p}function hw(){return typeof document>"u"&&typeof OffscreenCanvas<"u"?new OffscreenCanvas(1,1):document.createElement("canvas")}function pw(p,t){if(p.toBlob!==void 0)return new Promise(o=>p.toBlob(o,t));let r;return t==="image/jpeg"?r=.92:t==="image/webp"&&(r=.8),p.convertToBlob({type:t,quality:r})}class QL{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(t){this.plugins=t}async write(t,r,o){this.options=Object.assign({},{binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},o),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(t),await Promise.all(this.pending);const l=this,d=l.buffers,m=l.json;o=l.options;const _=l.extensionsUsed,A=new Blob(d,{type:"application/octet-stream"}),S=Object.keys(_);if(S.length>0&&(m.extensionsUsed=S),m.buffers&&m.buffers.length>0&&(m.buffers[0].byteLength=A.size),o.binary===!0){const R=new FileReader;R.readAsArrayBuffer(A),R.onloadend=function(){const I=Y_(R.result),N=new DataView(new ArrayBuffer(dw));N.setUint32(0,I.byteLength,!0),N.setUint32(4,VL,!0);const D=Y_(GL(JSON.stringify(m)),32),V=new DataView(new ArrayBuffer(dw));V.setUint32(0,D.byteLength,!0),V.setUint32(4,FL,!0);const O=new ArrayBuffer(uw),k=new DataView(O);k.setUint32(0,LL,!0),k.setUint32(4,OL,!0);const U=uw+V.byteLength+D.byteLength+N.byteLength+I.byteLength;k.setUint32(8,U,!0);const W=new Blob([O,V,D,N,I],{type:"application/octet-stream"}),Z=new FileReader;Z.readAsArrayBuffer(W),Z.onloadend=function(){r(Z.result)}}}else if(m.buffers&&m.buffers.length>0){const R=new FileReader;R.readAsDataURL(A),R.onloadend=function(){const I=R.result;m.buffers[0].uri=I,r(m)}}else r(m)}serializeUserData(t,r){if(Object.keys(t.userData).length===0)return;const o=this.options,l=this.extensionsUsed;try{const d=JSON.parse(JSON.stringify(t.userData));if(o.includeCustomExtensions&&d.gltfExtensions){r.extensions===void 0&&(r.extensions={});for(const m in d.gltfExtensions)r.extensions[m]=d.gltfExtensions[m],l[m]=!0;delete d.gltfExtensions}Object.keys(d).length>0&&(r.extras=d)}catch(d){console.warn("THREE.GLTFExporter: userData of '"+t.name+"' won't be serialized because of JSON.stringify error - "+d.message)}}getUID(t,r=!1){if(this.uids.has(t)===!1){const l=new Map;l.set(!0,this.uid++),l.set(!1,this.uid++),this.uids.set(t,l)}return this.uids.get(t).get(r)}isNormalizedNormalAttribute(t){if(this.cache.attributesNormalized.has(t))return!1;const o=new Ze;for(let l=0,d=t.count;l<d;l++)if(Math.abs(o.fromBufferAttribute(t,l).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(t){const r=this.cache;if(r.attributesNormalized.has(t))return r.attributesNormalized.get(t);const o=t.clone(),l=new Ze;for(let d=0,m=o.count;d<m;d++)l.fromBufferAttribute(o,d),l.x===0&&l.y===0&&l.z===0?l.setX(1):l.normalize(),o.setXYZ(d,l.x,l.y,l.z);return r.attributesNormalized.set(t,o),o}applyTextureTransform(t,r){let o=!1;const l={};(r.offset.x!==0||r.offset.y!==0)&&(l.offset=r.offset.toArray(),o=!0),r.rotation!==0&&(l.rotation=r.rotation,o=!0),(r.repeat.x!==1||r.repeat.y!==1)&&(l.scale=r.repeat.toArray(),o=!0),o&&(t.extensions=t.extensions||{},t.extensions.KHR_texture_transform=l,this.extensionsUsed.KHR_texture_transform=!0)}buildMetalRoughTexture(t,r){if(t===r)return t;function o(D){return D.encoding===Or?function(O){return O<.04045?O*.0773993808:Math.pow(O*.9478672986+.0521327014,2.4)}:function(O){return O}}console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.");const l=t==null?void 0:t.image,d=r==null?void 0:r.image,m=Math.max((l==null?void 0:l.width)||0,(d==null?void 0:d.width)||0),_=Math.max((l==null?void 0:l.height)||0,(d==null?void 0:d.height)||0),A=hw();A.width=m,A.height=_;const S=A.getContext("2d");S.fillStyle="#00ffff",S.fillRect(0,0,m,_);const R=S.getImageData(0,0,m,_);if(l){S.drawImage(l,0,0,m,_);const D=o(t),V=S.getImageData(0,0,m,_).data;for(let O=2;O<V.length;O+=4)R.data[O]=D(V[O]/256)*256}if(d){S.drawImage(d,0,0,m,_);const D=o(r),V=S.getImageData(0,0,m,_).data;for(let O=1;O<V.length;O+=4)R.data[O]=D(V[O]/256)*256}S.putImageData(R,0,0);const N=(t||r).clone();return N.source=new Lv(A),N.encoding=_o,N}processBuffer(t){const r=this.json,o=this.buffers;return r.buffers||(r.buffers=[{byteLength:0}]),o.push(t),0}processBufferView(t,r,o,l,d){const m=this.json;m.bufferViews||(m.bufferViews=[]);let _;r===jr.UNSIGNED_BYTE?_=1:r===jr.UNSIGNED_SHORT?_=2:_=4;const A=fw(l*t.itemSize*_),S=new DataView(new ArrayBuffer(A));let R=0;for(let D=o;D<o+l;D++)for(let V=0;V<t.itemSize;V++){let O;t.itemSize>4?O=t.array[D*t.itemSize+V]:V===0?O=t.getX(D):V===1?O=t.getY(D):V===2?O=t.getZ(D):V===3&&(O=t.getW(D)),r===jr.FLOAT?S.setFloat32(R,O,!0):r===jr.UNSIGNED_INT?S.setUint32(R,O,!0):r===jr.UNSIGNED_SHORT?S.setUint16(R,O,!0):r===jr.UNSIGNED_BYTE&&S.setUint8(R,O),R+=_}const I={buffer:this.processBuffer(S.buffer),byteOffset:this.byteOffset,byteLength:A};return d!==void 0&&(I.target=d),d===jr.ARRAY_BUFFER&&(I.byteStride=t.itemSize*_),this.byteOffset+=A,m.bufferViews.push(I),{id:m.bufferViews.length-1,byteLength:0}}processBufferViewImage(t){const r=this,o=r.json;return o.bufferViews||(o.bufferViews=[]),new Promise(function(l){const d=new FileReader;d.readAsArrayBuffer(t),d.onloadend=function(){const m=Y_(d.result),_={buffer:r.processBuffer(m),byteOffset:r.byteOffset,byteLength:m.byteLength};r.byteOffset+=m.byteLength,l(o.bufferViews.push(_)-1)}})}processAccessor(t,r,o,l){const d=this.options,m=this.json,_={1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"};let A;if(t.array.constructor===Float32Array)A=jr.FLOAT;else if(t.array.constructor===Uint32Array)A=jr.UNSIGNED_INT;else if(t.array.constructor===Uint16Array)A=jr.UNSIGNED_SHORT;else if(t.array.constructor===Uint8Array)A=jr.UNSIGNED_BYTE;else throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");if(o===void 0&&(o=0),l===void 0&&(l=t.count),d.truncateDrawRange&&r!==void 0&&r.index===null){const D=o+l,V=r.drawRange.count===1/0?t.count:r.drawRange.start+r.drawRange.count;o=Math.max(o,r.drawRange.start),l=Math.min(D,V)-o,l<0&&(l=0)}if(l===0)return null;const S=HL(t,o,l);let R;r!==void 0&&(R=t===r.index?jr.ELEMENT_ARRAY_BUFFER:jr.ARRAY_BUFFER);const I=this.processBufferView(t,A,o,l,R),N={bufferView:I.id,byteOffset:I.byteOffset,componentType:A,count:l,max:S.max,min:S.min,type:_[t.itemSize]};return t.normalized===!0&&(N.normalized=!0),m.accessors||(m.accessors=[]),m.accessors.push(N)-1}processImage(t,r,o,l="image/png"){const d=this,m=d.cache,_=d.json,A=d.options,S=d.pending;m.images.has(t)||m.images.set(t,{});const R=m.images.get(t),I=l+":flipY/"+o.toString();if(R[I]!==void 0)return R[I];_.images||(_.images=[]);const N={mimeType:l},D=hw();D.width=Math.min(t.width,A.maxTextureSize),D.height=Math.min(t.height,A.maxTextureSize);const V=D.getContext("2d");if(o===!0&&(V.translate(0,D.height),V.scale(1,-1)),t.data!==void 0){r!==zi&&console.error("GLTFExporter: Only RGBAFormat is supported."),(t.width>A.maxTextureSize||t.height>A.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",t);const k=new Uint8ClampedArray(t.height*t.width*4);for(let U=0;U<k.length;U+=4)k[U+0]=t.data[U+0],k[U+1]=t.data[U+1],k[U+2]=t.data[U+2],k[U+3]=t.data[U+3];V.putImageData(new ImageData(k,t.width,t.height),0,0)}else V.drawImage(t,0,0,D.width,D.height);A.binary===!0?S.push(pw(D,l).then(k=>d.processBufferViewImage(k)).then(k=>{N.bufferView=k})):D.toDataURL!==void 0?N.uri=D.toDataURL(l):S.push(pw(D,l).then(k=>new FileReader().readAsDataURL(k)).then(k=>{N.uri=k}));const O=_.images.push(N)-1;return R[I]=O,O}processSampler(t){const r=this.json;r.samplers||(r.samplers=[]);const o={magFilter:ks[t.magFilter],minFilter:ks[t.minFilter],wrapS:ks[t.wrapS],wrapT:ks[t.wrapT]};return r.samplers.push(o)-1}processTexture(t){const r=this.cache,o=this.json;if(r.textures.has(t))return r.textures.get(t);o.textures||(o.textures=[]);let l=t.userData.mimeType;l==="image/webp"&&(l="image/png");const d={sampler:this.processSampler(t),source:this.processImage(t.image,t.format,t.flipY,l)};t.name&&(d.name=t.name),this._invokeAll(function(_){_.writeTexture&&_.writeTexture(t,d)});const m=o.textures.push(d)-1;return r.textures.set(t,m),m}processMaterial(t){const r=this.cache,o=this.json;if(r.materials.has(t))return r.materials.get(t);if(t.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;o.materials||(o.materials=[]);const l={pbrMetallicRoughness:{}};t.isMeshStandardMaterial!==!0&&t.isMeshBasicMaterial!==!0&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const d=t.color.toArray().concat([t.opacity]);if(Tf(d,[1,1,1,1])||(l.pbrMetallicRoughness.baseColorFactor=d),t.isMeshStandardMaterial?(l.pbrMetallicRoughness.metallicFactor=t.metalness,l.pbrMetallicRoughness.roughnessFactor=t.roughness):(l.pbrMetallicRoughness.metallicFactor=.5,l.pbrMetallicRoughness.roughnessFactor=.5),t.metalnessMap||t.roughnessMap){const _=this.buildMetalRoughTexture(t.metalnessMap,t.roughnessMap),A={index:this.processTexture(_)};this.applyTextureTransform(A,_),l.pbrMetallicRoughness.metallicRoughnessTexture=A}if(t.map){const _={index:this.processTexture(t.map)};this.applyTextureTransform(_,t.map),l.pbrMetallicRoughness.baseColorTexture=_}if(t.emissive){const _=t.emissive.clone().multiplyScalar(t.emissiveIntensity),A=Math.max(_.r,_.g,_.b);if(A>1&&(_.multiplyScalar(1/A),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),A>0&&(l.emissiveFactor=_.toArray()),t.emissiveMap){const S={index:this.processTexture(t.emissiveMap)};this.applyTextureTransform(S,t.emissiveMap),l.emissiveTexture=S}}if(t.normalMap){const _={index:this.processTexture(t.normalMap)};t.normalScale&&t.normalScale.x!==1&&(_.scale=t.normalScale.x),this.applyTextureTransform(_,t.normalMap),l.normalTexture=_}if(t.aoMap){const _={index:this.processTexture(t.aoMap),texCoord:1};t.aoMapIntensity!==1&&(_.strength=t.aoMapIntensity),this.applyTextureTransform(_,t.aoMap),l.occlusionTexture=_}t.transparent?l.alphaMode="BLEND":t.alphaTest>0&&(l.alphaMode="MASK",l.alphaCutoff=t.alphaTest),t.side===H&&(l.doubleSided=!0),t.name!==""&&(l.name=t.name),this.serializeUserData(t,l),this._invokeAll(function(_){_.writeMaterial&&_.writeMaterial(t,l)});const m=o.materials.push(l)-1;return r.materials.set(t,m),m}processMesh(t){const r=this.cache,o=this.json,l=[t.geometry.uuid];if(Array.isArray(t.material))for(let Z=0,ne=t.material.length;Z<ne;Z++)l.push(t.material[Z].uuid);else l.push(t.material.uuid);const d=l.join(":");if(r.meshes.has(d))return r.meshes.get(d);const m=t.geometry;let _;t.isLineSegments?_=jr.LINES:t.isLineLoop?_=jr.LINE_LOOP:t.isLine?_=jr.LINE_STRIP:t.isPoints?_=jr.POINTS:_=t.material.wireframe?jr.LINES:jr.TRIANGLES;const A={},S={},R=[],I=[],N={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},D=m.getAttribute("normal");D!==void 0&&!this.isNormalizedNormalAttribute(D)&&(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),m.setAttribute("normal",this.createNormalizedNormalAttribute(D)));let V=null;for(let Z in m.attributes){if(Z.slice(0,5)==="morph")continue;const ne=m.attributes[Z];if(Z=N[Z]||Z.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(Z)||(Z="_"+Z),r.attributes.has(this.getUID(ne))){S[Z]=r.attributes.get(this.getUID(ne));continue}V=null;const re=ne.array;Z==="JOINTS_0"&&!(re instanceof Uint16Array)&&!(re instanceof Uint8Array)&&(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),V=new ei(new Uint16Array(re),ne.itemSize,ne.normalized));const Ae=this.processAccessor(V||ne,m);Ae!==null&&(S[Z]=Ae,r.attributes.set(this.getUID(ne),Ae))}if(D!==void 0&&m.setAttribute("normal",D),Object.keys(S).length===0)return null;if(t.morphTargetInfluences!==void 0&&t.morphTargetInfluences.length>0){const Z=[],ne=[],j={};if(t.morphTargetDictionary!==void 0)for(const re in t.morphTargetDictionary)j[t.morphTargetDictionary[re]]=re;for(let re=0;re<t.morphTargetInfluences.length;++re){const Ae={};let Y=!1;for(const pe in m.morphAttributes){if(pe!=="position"&&pe!=="normal"){Y||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),Y=!0);continue}const we=m.morphAttributes[pe][re],Oe=pe.toUpperCase(),tt=m.attributes[pe];if(r.attributes.has(this.getUID(we,!0))){Ae[Oe]=r.attributes.get(this.getUID(we,!0));continue}const Re=we.clone();if(!m.morphTargetsRelative)for(let ke=0,st=we.count;ke<st;ke++)Re.setXYZ(ke,we.getX(ke)-tt.getX(ke),we.getY(ke)-tt.getY(ke),we.getZ(ke)-tt.getZ(ke));Ae[Oe]=this.processAccessor(Re,m),r.attributes.set(this.getUID(tt,!0),Ae[Oe])}I.push(Ae),Z.push(t.morphTargetInfluences[re]),t.morphTargetDictionary!==void 0&&ne.push(j[re])}A.weights=Z,ne.length>0&&(A.extras={},A.extras.targetNames=ne)}const O=Array.isArray(t.material);if(O&&m.groups.length===0)return null;const k=O?t.material:[t.material],U=O?m.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let Z=0,ne=U.length;Z<ne;Z++){const j={mode:_,attributes:S};if(this.serializeUserData(m,j),I.length>0&&(j.targets=I),m.index!==null){let Ae=this.getUID(m.index);(U[Z].start!==void 0||U[Z].count!==void 0)&&(Ae+=":"+U[Z].start+":"+U[Z].count),r.attributes.has(Ae)?j.indices=r.attributes.get(Ae):(j.indices=this.processAccessor(m.index,m,U[Z].start,U[Z].count),r.attributes.set(Ae,j.indices)),j.indices===null&&delete j.indices}const re=this.processMaterial(k[U[Z].materialIndex]);re!==null&&(j.material=re),R.push(j)}A.primitives=R,o.meshes||(o.meshes=[]),this._invokeAll(function(Z){Z.writeMesh&&Z.writeMesh(t,A)});const W=o.meshes.push(A)-1;return r.meshes.set(d,W),W}processCamera(t){const r=this.json;r.cameras||(r.cameras=[]);const o=t.isOrthographicCamera,l={type:o?"orthographic":"perspective"};return o?l.orthographic={xmag:t.right*2,ymag:t.top*2,zfar:t.far<=0?.001:t.far,znear:t.near<0?0:t.near}:l.perspective={aspectRatio:t.aspect,yfov:U1.degToRad(t.fov),zfar:t.far<=0?.001:t.far,znear:t.near<0?0:t.near},t.name!==""&&(l.name=t.type),r.cameras.push(l)-1}processAnimation(t,r){const o=this.json,l=this.nodeMap;o.animations||(o.animations=[]),t=q_.Utils.mergeMorphTargetTracks(t.clone(),r);const d=t.tracks,m=[],_=[];for(let A=0;A<d.length;++A){const S=d[A],R=Ur.parseTrackName(S.name);let I=Ur.findNode(r,R.nodeName);const N=cw[R.propertyName];if(R.objectName==="bones"&&(I.isSkinnedMesh===!0?I=I.skeleton.getBoneByName(R.objectIndex):I=void 0),!I||!N)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',S.name),null;const D=1;let V=S.values.length/S.times.length;N===cw.morphTargetInfluences&&(V/=I.morphTargetInfluences.length);let O;S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(O="CUBICSPLINE",V/=3):S.getInterpolation()===Eu?O="STEP":O="LINEAR",_.push({input:this.processAccessor(new ei(S.times,D)),output:this.processAccessor(new ei(S.values,V)),interpolation:O}),m.push({sampler:_.length-1,target:{node:l.get(I),path:N}})}return o.animations.push({name:t.name||"clip_"+o.animations.length,samplers:_,channels:m}),o.animations.length-1}processSkin(t){const r=this.json,o=this.nodeMap,l=r.nodes[o.get(t)],d=t.skeleton;if(d===void 0)return null;const m=t.skeleton.bones[0];if(m===void 0)return null;const _=[],A=new Float32Array(d.bones.length*16),S=new br;for(let I=0;I<d.bones.length;++I)_.push(o.get(d.bones[I])),S.copy(d.boneInverses[I]),S.multiply(t.bindMatrix).toArray(A,I*16);return r.skins===void 0&&(r.skins=[]),r.skins.push({inverseBindMatrices:this.processAccessor(new ei(A,16)),joints:_,skeleton:o.get(m)}),l.skin=r.skins.length-1}processNode(t){const r=this.json,o=this.options,l=this.nodeMap;r.nodes||(r.nodes=[]);const d={};if(o.trs){const _=t.quaternion.toArray(),A=t.position.toArray(),S=t.scale.toArray();Tf(_,[0,0,0,1])||(d.rotation=_),Tf(A,[0,0,0])||(d.translation=A),Tf(S,[1,1,1])||(d.scale=S)}else t.matrixAutoUpdate&&t.updateMatrix(),UL(t.matrix)===!1&&(d.matrix=t.matrix.elements);if(t.name!==""&&(d.name=String(t.name)),this.serializeUserData(t,d),t.isMesh||t.isLine||t.isPoints){const _=this.processMesh(t);_!==null&&(d.mesh=_)}else t.isCamera&&(d.camera=this.processCamera(t));if(t.isSkinnedMesh&&this.skins.push(t),t.children.length>0){const _=[];for(let A=0,S=t.children.length;A<S;A++){const R=t.children[A];if(R.visible||o.onlyVisible===!1){const I=this.processNode(R);I!==null&&_.push(I)}}_.length>0&&(d.children=_)}this._invokeAll(function(_){_.writeNode&&_.writeNode(t,d)});const m=r.nodes.push(d)-1;return l.set(t,m),m}processScene(t){const r=this.json,o=this.options;r.scenes||(r.scenes=[],r.scene=0);const l={};t.name!==""&&(l.name=t.name),r.scenes.push(l);const d=[];for(let m=0,_=t.children.length;m<_;m++){const A=t.children[m];if(A.visible||o.onlyVisible===!1){const S=this.processNode(A);S!==null&&d.push(S)}}d.length>0&&(l.nodes=d),this.serializeUserData(t,l)}processObjects(t){const r=new Vp;r.name="AuxScene";for(let o=0;o<t.length;o++)r.children.push(t[o]);this.processScene(r)}processInput(t){const r=this.options;t=t instanceof Array?t:[t],this._invokeAll(function(l){l.beforeParse&&l.beforeParse(t)});const o=[];for(let l=0;l<t.length;l++)t[l]instanceof Vp?this.processScene(t[l]):o.push(t[l]);o.length>0&&this.processObjects(o);for(let l=0;l<this.skins.length;++l)this.processSkin(this.skins[l]);for(let l=0;l<r.animations.length;++l)this.processAnimation(r.animations[l],t[0]);this._invokeAll(function(l){l.afterParse&&l.afterParse(t)})}_invokeAll(t){for(let r=0,o=this.plugins.length;r<o;r++)t(this.plugins[r])}}class XL{constructor(t){this.writer=t,this.name="KHR_lights_punctual"}writeNode(t,r){if(!t.isLight)return;if(!t.isDirectionalLight&&!t.isPointLight&&!t.isSpotLight){console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",t);return}const o=this.writer,l=o.json,d=o.extensionsUsed,m={};t.name&&(m.name=t.name),m.color=t.color.toArray(),m.intensity=t.intensity,t.isDirectionalLight?m.type="directional":t.isPointLight?(m.type="point",t.distance>0&&(m.range=t.distance)):t.isSpotLight&&(m.type="spot",t.distance>0&&(m.range=t.distance),m.spot={},m.spot.innerConeAngle=(t.penumbra-1)*t.angle*-1,m.spot.outerConeAngle=t.angle),t.decay!==void 0&&t.decay!==2&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),t.target&&(t.target.parent!==t||t.target.position.x!==0||t.target.position.y!==0||t.target.position.z!==-1)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),d[this.name]||(l.extensions=l.extensions||{},l.extensions[this.name]={lights:[]},d[this.name]=!0);const _=l.extensions[this.name].lights;_.push(m),r.extensions=r.extensions||{},r.extensions[this.name]={light:_.length-1}}}class zL{constructor(t){this.writer=t,this.name="KHR_materials_unlit"}writeMaterial(t,r){if(!t.isMeshBasicMaterial)return;const l=this.writer.extensionsUsed;r.extensions=r.extensions||{},r.extensions[this.name]={},l[this.name]=!0,r.pbrMetallicRoughness.metallicFactor=0,r.pbrMetallicRoughness.roughnessFactor=.9}}class $L{constructor(t){this.writer=t,this.name="KHR_materials_pbrSpecularGlossiness"}writeMaterial(t,r){if(!t.isGLTFSpecularGlossinessMaterial)return;const o=this.writer,l=o.extensionsUsed,d={};r.pbrMetallicRoughness.baseColorFactor&&(d.diffuseFactor=r.pbrMetallicRoughness.baseColorFactor);const m=[1,1,1];if(t.specular.toArray(m,0),d.specularFactor=m,d.glossinessFactor=t.glossiness,r.pbrMetallicRoughness.baseColorTexture&&(d.diffuseTexture=r.pbrMetallicRoughness.baseColorTexture),t.specularMap){const _={index:o.processTexture(t.specularMap)};o.applyTextureTransform(_,t.specularMap),d.specularGlossinessTexture=_}r.extensions=r.extensions||{},r.extensions[this.name]=d,l[this.name]=!0}}class WL{constructor(t){this.writer=t,this.name="KHR_materials_clearcoat"}writeMaterial(t,r){if(!t.isMeshPhysicalMaterial)return;const o=this.writer,l=o.extensionsUsed,d={};if(d.clearcoatFactor=t.clearcoat,t.clearcoatMap){const m={index:o.processTexture(t.clearcoatMap)};o.applyTextureTransform(m,t.clearcoatMap),d.clearcoatTexture=m}if(d.clearcoatRoughnessFactor=t.clearcoatRoughness,t.clearcoatRoughnessMap){const m={index:o.processTexture(t.clearcoatRoughnessMap)};o.applyTextureTransform(m,t.clearcoatRoughnessMap),d.clearcoatRoughnessTexture=m}if(t.clearcoatNormalMap){const m={index:o.processTexture(t.clearcoatNormalMap)};o.applyTextureTransform(m,t.clearcoatNormalMap),d.clearcoatNormalTexture=m}r.extensions=r.extensions||{},r.extensions[this.name]=d,l[this.name]=!0}}class KL{constructor(t){this.writer=t,this.name="KHR_materials_iridescence"}writeMaterial(t,r){if(!t.isMeshPhysicalMaterial)return;const o=this.writer,l=o.extensionsUsed,d={};if(d.iridescenceFactor=t.iridescence,t.iridescenceMap){const m={index:o.processTexture(t.iridescenceMap)};o.applyTextureTransform(m,t.iridescenceMap),d.iridescenceTexture=m}if(d.iridescenceIor=t.iridescenceIOR,d.iridescenceThicknessMinimum=t.iridescenceThicknessRange[0],d.iridescenceThicknessMaximum=t.iridescenceThicknessRange[1],t.iridescenceThicknessMap){const m={index:o.processTexture(t.iridescenceThicknessMap)};o.applyTextureTransform(m,t.iridescenceThicknessMap),d.iridescenceThicknessTexture=m}r.extensions=r.extensions||{},r.extensions[this.name]=d,l[this.name]=!0}}class jL{constructor(t){this.writer=t,this.name="KHR_materials_transmission"}writeMaterial(t,r){if(!t.isMeshPhysicalMaterial||t.transmission===0)return;const o=this.writer,l=o.extensionsUsed,d={};if(d.transmissionFactor=t.transmission,t.transmissionMap){const m={index:o.processTexture(t.transmissionMap)};o.applyTextureTransform(m,t.transmissionMap),d.transmissionTexture=m}r.extensions=r.extensions||{},r.extensions[this.name]=d,l[this.name]=!0}}class qL{constructor(t){this.writer=t,this.name="KHR_materials_volume"}writeMaterial(t,r){if(!t.isMeshPhysicalMaterial||t.transmission===0)return;const o=this.writer,l=o.extensionsUsed,d={};if(d.thicknessFactor=t.thickness,t.thicknessMap){const m={index:o.processTexture(t.thicknessMap)};o.applyTextureTransform(m,t.thicknessMap),d.thicknessTexture=m}d.attenuationDistance=t.attenuationDistance,d.attenuationColor=t.attenuationColor.toArray(),r.extensions=r.extensions||{},r.extensions[this.name]=d,l[this.name]=!0}}q_.Utils={insertKeyframe:function(p,t){const o=p.getValueSize(),l=new p.TimeBufferType(p.times.length+1),d=new p.ValueBufferType(p.values.length+o),m=p.createInterpolant(new p.ValueBufferType(o));let _;if(p.times.length===0){l[0]=t;for(let A=0;A<o;A++)d[A]=0;_=0}else if(t<p.times[0]){if(Math.abs(p.times[0]-t)<.001)return 0;l[0]=t,l.set(p.times,1),d.set(m.evaluate(t),0),d.set(p.values,o),_=0}else if(t>p.times[p.times.length-1]){if(Math.abs(p.times[p.times.length-1]-t)<.001)return p.times.length-1;l[l.length-1]=t,l.set(p.times,0),d.set(p.values,0),d.set(m.evaluate(t),p.values.length),_=l.length-1}else for(let A=0;A<p.times.length;A++){if(Math.abs(p.times[A]-t)<.001)return A;if(p.times[A]<t&&p.times[A+1]>t){l.set(p.times.slice(0,A+1),0),l[A+1]=t,l.set(p.times.slice(A+1),A+2),d.set(p.values.slice(0,(A+1)*o),0),d.set(m.evaluate(t),(A+1)*o),d.set(p.values.slice((A+1)*o),(A+2)*o),_=A+1;break}}return p.times=l,p.values=d,_},mergeMorphTargetTracks:function(p,t){const r=[],o={},l=p.tracks;for(let d=0;d<l.length;++d){let m=l[d];const _=Ur.parseTrackName(m.name),A=Ur.findNode(t,_.nodeName);if(_.propertyName!=="morphTargetInfluences"||_.propertyIndex===void 0){r.push(m);continue}if(m.createInterpolant!==m.InterpolantFactoryMethodDiscrete&&m.createInterpolant!==m.InterpolantFactoryMethodLinear){if(m.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),m=m.clone(),m.setInterpolation(lc)}const S=A.morphTargetInfluences.length,R=A.morphTargetDictionary[_.propertyIndex];if(R===void 0)throw new Error("THREE.GLTFExporter: Morph target name not found: "+_.propertyIndex);let I;if(o[A.uuid]===void 0){I=m.clone();const D=new I.ValueBufferType(S*I.times.length);for(let V=0;V<I.times.length;V++)D[V*S+R]=I.values[V];I.name=(_.nodeName||"")+".morphTargetInfluences",I.values=D,o[A.uuid]=I,r.push(I);continue}const N=m.createInterpolant(new m.ValueBufferType(1));I=o[A.uuid];for(let D=0;D<I.times.length;D++)I.values[D*S+R]=N.evaluate(I.times[D]);for(let D=0;D<m.times.length;D++){const V=this.insertKeyframe(I,m.times[D]);I.values[V*S+R]=m.values[D]}}return p.tracks=r,p}};var YL=function(){function p(t){this.gltfExporter=new q_,this.options={trs:!1,onlyVisible:!0,truncateDrawRange:!0,binary:!1,maxTextureSize:4096e7,animations:[]},Object.assign(this.options,t),this.link=document.createElement("a"),this.link.style.display="none",document.body.appendChild(this.link)}return p.prototype.export=function(t){var r=this,o=t.name?t.name:"export";this.gltfExporter.parse(t,function(l){if(l instanceof ArrayBuffer)r.saveArrayBuffer(l,o+".glb");else{var d=JSON.stringify(l,null,2);r.saveString(d,o+".gltf")}},function(l){console.log("An error happened during parsing",l)},this.options)},p.prototype.save=function(t,r){this.link.href=URL.createObjectURL(t),this.link.download=r,this.link.click()},p.prototype.saveString=function(t,r){this.save(new Blob([t],{type:"text/plain"}),r)},p.prototype.saveArrayBuffer=function(t,r){this.save(new Blob([t],{type:"application/octet-stream"}),r)},p}(),mw=function(){function p(t,r){var o=this;this.visualCtrls=[],this.exporter=null,this.container=t,this.options=r,this.renderer=new Fp({antialias:!0}),this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=Or,this.gui=null,this.stats=kL(),this.pmremGenerator=new Dp(this.renderer),this.pmremGenerator.compileEquirectangularShader(),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.currentScene=new K_(this.container,this.renderer),this.currentScene.sceneName="default",this.updateEnvironment(this.currentScene.vignette),this.state={playbackSpeed:1,wireframe:!1,skeleton:!1,grid:!1,addLights:!0,exposure:1,ambientIntensity:.3,ambientColor:2105376,directIntensity:.8*Math.PI,directColor:16777215,bgColor1:"#5454ad",bgColor2:"#18e5a7",exportGltf:function(){o.exporter||(o.exporter=new YL({animations:o.currentScene.exportContent.animations})),o.exporter.export(o.currentScene.exportContent)}},this.visualiseFolder=null,this.cameraFolder=null,this.init()}return p.prototype.init=function(){var t;this.currentScene.sceneName===""&&(this.currentScene.sceneName="default"),((t=this.options)===null||t===void 0?void 0:t.guiOpen)&&!this.gui&&this.addGui(),[].forEach.call(this.stats.dom.children,function(r){return r.style.display=""}),this.container.appendChild(this.renderer.domElement)},p.prototype.updateEnvironment=function(t){var r=this,o=j_.filter(function(l){return l.name==="Venice Sunset"})[0];this.getCubeMapTexture(o).then(function(l){var d=r.getCurrentScene();l&&t&&(d==null||d.scene.add(t.mesh)),d.scene.environment=l,d.scene.background=l})},p.prototype.getCubeMapTexture=function(t){var r=this,o=t.path;return o?new Promise(function(l,d){new lw().load(o,function(m){var _=r.pmremGenerator.fromEquirectangular(m).texture;r.pmremGenerator.dispose(),l(_)},void 0,d)}):Promise.resolve({envMap:null})},p.prototype.getCurrentScene=function(){return this.currentScene},p.prototype.hideGui=function(){this.gui&&this.gui.hide()},p.prototype.closeGui=function(){this.gui&&(this.gui.closed=!0)},p.prototype.addGui=function(){var t=this,r,o,l,d=this.gui=new xf({width:260}),m=d.addFolder("Visualisation settings"),_=m.add(this.state,"wireframe");_.onChange(function(){return t.currentScene.updateDisplay(t.state)}),this.visualiseFolder=m.addFolder("ModelVisualisation");var A=m.addColor(this.state,"bgColor1"),S=m.addColor(this.state,"bgColor2");if(A.onChange(function(){return t.currentScene.updateBackground(t.state.bgColor1,t.state.bgColor2)}),S.onChange(function(){return t.currentScene.updateBackground(t.state.bgColor1,t.state.bgColor2)}),!((r=this.options)===null||r===void 0)&&r.camera&&(this.cameraFolder=d.addFolder("Camera")),!((o=this.options)===null||o===void 0)&&o.performance){var R=d.addFolder("Performance"),I=document.createElement("li");this.stats.dom.style.position="static",I.appendChild(this.stats.dom),I.style.height="50px",R.__ul.appendChild(I)}if(!((l=this.options)===null||l===void 0)&&l.light){var N=d.addFolder("LightsFolder");[N.add(this.state,"addLights").listen(),N.add(this.state,"ambientIntensity",0,2),N.addColor(this.state,"ambientColor"),N.add(this.state,"directIntensity",0,4),N.addColor(this.state,"directColor")].forEach(function(D){return D.onChange(function(){return t.currentScene.updateLights(t.state)})})}d.add(this.state,"exportGltf")},p.prototype.updateGui=function(){var t=this;this.visualCtrls.length!==0&&this.visualCtrls.forEach(function(r){var o;(o=t.visualiseFolder)===null||o===void 0||o.remove(r)}),this.visualCtrls=[],setTimeout(function(){var r,o,l,d,m,_,A,S,R=[];(r=t.currentScene.content)===null||r===void 0||r.children;var I=function(W){if(W.isMesh){var Z={name:W.name||"Untitled",visible:W.visible,mesh:W};R.push(Z)}};if((o=t.currentScene.content)===null||o===void 0||o.traverse(function(W){W.isMesh&&I(W)}),R.forEach(function(W){var Z=t.visualiseFolder.add(W,"visible").name(W.name).onChange(function(){t.currentScene.updateModelChildrenVisualisation(W.mesh)});t.visualCtrls.push(Z)}),t.cameraFolder){if(t.cameraFolder.__controllers.length>0){var N=[];t.cameraFolder.__controllers.forEach(function(W){N.push(W)}),N.forEach(function(W){var Z;(Z=t.cameraFolder)===null||Z===void 0||Z.remove(W)})}(l=t.cameraFolder)===null||l===void 0||l.add(t.currentScene.camera,"near"),(d=t.cameraFolder)===null||d===void 0||d.add(t.currentScene.camera,"far");var D=(m=t.cameraFolder)===null||m===void 0?void 0:m.__folders;for(var V in D)if(Object.prototype.hasOwnProperty.call(D,V)){var O=D[V];(_=t.cameraFolder)===null||_===void 0||_.removeFolder(O)}var k=(A=t.cameraFolder)===null||A===void 0?void 0:A.addFolder("position");k.add(t.currentScene.camera.position,"x"),k.add(t.currentScene.camera.position,"y"),k.add(t.currentScene.camera.position,"z");var U=(S=t.cameraFolder)===null||S===void 0?void 0:S.addFolder("up");U.add(t.currentScene.camera.up,"x"),U.add(t.currentScene.camera.up,"y"),U.add(t.currentScene.camera.up,"z")}},1500)},p}();const J_={type:"change"},Z_={type:"start"},eA={type:"end"};class gw extends Ea{constructor(t,r){super();const o=this,l={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=t,this.domElement=r,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:w.ROTATE,MIDDLE:w.DOLLY,RIGHT:w.PAN},this.target=new Ze;const d=1e-6,m=new Ze;let _=1,A=l.NONE,S=l.NONE,R=0,I=0,N=0;const D=new Ze,V=new Fn,O=new Fn,k=new Ze,U=new Fn,W=new Fn,Z=new Fn,ne=new Fn,j=[],re={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const Xe=o.domElement.getBoundingClientRect(),Bt=o.domElement.ownerDocument.documentElement;o.screen.left=Xe.left+window.pageXOffset-Bt.clientLeft,o.screen.top=Xe.top+window.pageYOffset-Bt.clientTop,o.screen.width=Xe.width,o.screen.height=Xe.height};const Ae=function(){const Xe=new Fn;return function(qt,$t){return Xe.set((qt-o.screen.left)/o.screen.width,($t-o.screen.top)/o.screen.height),Xe}}(),Y=function(){const Xe=new Fn;return function(qt,$t){return Xe.set((qt-o.screen.width*.5-o.screen.left)/(o.screen.width*.5),(o.screen.height+2*(o.screen.top-$t))/o.screen.width),Xe}}();this.rotateCamera=function(){const Xe=new Ze,Bt=new Rs,qt=new Ze,$t=new Ze,Cn=new Ze,Dn=new Ze;return function(){Dn.set(O.x-V.x,O.y-V.y,0);let Rr=Dn.length();Rr?(D.copy(o.object.position).sub(o.target),qt.copy(D).normalize(),$t.copy(o.object.up).normalize(),Cn.crossVectors($t,qt).normalize(),$t.setLength(O.y-V.y),Cn.setLength(O.x-V.x),Dn.copy($t.add(Cn)),Xe.crossVectors(Dn,D).normalize(),Rr*=o.rotateSpeed,Bt.setFromAxisAngle(Xe,Rr),D.applyQuaternion(Bt),o.object.up.applyQuaternion(Bt),k.copy(Xe),N=Rr):!o.staticMoving&&N&&(N*=Math.sqrt(1-o.dynamicDampingFactor),D.copy(o.object.position).sub(o.target),Bt.setFromAxisAngle(k,N),D.applyQuaternion(Bt),o.object.up.applyQuaternion(Bt)),V.copy(O)}}(),this.zoomCamera=function(){let Xe;A===l.TOUCH_ZOOM_PAN?(Xe=R/I,R=I,o.object.isPerspectiveCamera?D.multiplyScalar(Xe):o.object.isOrthographicCamera?(o.object.zoom/=Xe,o.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(Xe=1+(W.y-U.y)*o.zoomSpeed,Xe!==1&&Xe>0&&(o.object.isPerspectiveCamera?D.multiplyScalar(Xe):o.object.isOrthographicCamera?(o.object.zoom/=Xe,o.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),o.staticMoving?U.copy(W):U.y+=(W.y-U.y)*this.dynamicDampingFactor)},this.panCamera=function(){const Xe=new Fn,Bt=new Ze,qt=new Ze;return function(){if(Xe.copy(ne).sub(Z),Xe.lengthSq()){if(o.object.isOrthographicCamera){const Cn=(o.object.right-o.object.left)/o.object.zoom/o.domElement.clientWidth,Dn=(o.object.top-o.object.bottom)/o.object.zoom/o.domElement.clientWidth;Xe.x*=Cn,Xe.y*=Dn}Xe.multiplyScalar(D.length()*o.panSpeed),qt.copy(D).cross(o.object.up).setLength(Xe.x),qt.add(Bt.copy(o.object.up).setLength(Xe.y)),o.object.position.add(qt),o.target.add(qt),o.staticMoving?Z.copy(ne):Z.add(Xe.subVectors(ne,Z).multiplyScalar(o.dynamicDampingFactor))}}}(),this.checkDistances=function(){(!o.noZoom||!o.noPan)&&(D.lengthSq()>o.maxDistance*o.maxDistance&&(o.object.position.addVectors(o.target,D.setLength(o.maxDistance)),U.copy(W)),D.lengthSq()<o.minDistance*o.minDistance&&(o.object.position.addVectors(o.target,D.setLength(o.minDistance)),U.copy(W)))},this.update=function(){D.subVectors(o.object.position,o.target),o.noRotate||o.rotateCamera(),o.noZoom||o.zoomCamera(),o.noPan||o.panCamera(),o.object.position.addVectors(o.target,D),o.object.isPerspectiveCamera?(o.checkDistances(),o.object.lookAt(o.target),m.distanceToSquared(o.object.position)>d&&(o.dispatchEvent(J_),m.copy(o.object.position))):o.object.isOrthographicCamera?(o.object.lookAt(o.target),(m.distanceToSquared(o.object.position)>d||_!==o.object.zoom)&&(o.dispatchEvent(J_),m.copy(o.object.position),_=o.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){A=l.NONE,S=l.NONE,o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.up.copy(o.up0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),D.subVectors(o.object.position,o.target),o.object.lookAt(o.target),o.dispatchEvent(J_),m.copy(o.object.position),_=o.object.zoom};function pe(Xe){o.enabled!==!1&&(j.length===0&&(o.domElement.setPointerCapture(Xe.pointerId),o.domElement.addEventListener("pointermove",we),o.domElement.addEventListener("pointerup",Oe)),Kt(Xe),Xe.pointerType==="touch"?Je(Xe):st(Xe))}function we(Xe){o.enabled!==!1&&(Xe.pointerType==="touch"?ct(Xe):ht(Xe))}function Oe(Xe){o.enabled!==!1&&(Xe.pointerType==="touch"?Gt(Xe):dt(),c(Xe),j.length===0&&(o.domElement.releasePointerCapture(Xe.pointerId),o.domElement.removeEventListener("pointermove",we),o.domElement.removeEventListener("pointerup",Oe)))}function tt(Xe){c(Xe)}function Re(Xe){o.enabled!==!1&&(window.removeEventListener("keydown",Re),S===l.NONE&&(Xe.code===o.keys[l.ROTATE]&&!o.noRotate?S=l.ROTATE:Xe.code===o.keys[l.ZOOM]&&!o.noZoom?S=l.ZOOM:Xe.code===o.keys[l.PAN]&&!o.noPan&&(S=l.PAN)))}function ke(){o.enabled!==!1&&(S=l.NONE,window.addEventListener("keydown",Re))}function st(Xe){if(A===l.NONE)switch(Xe.button){case o.mouseButtons.LEFT:A=l.ROTATE;break;case o.mouseButtons.MIDDLE:A=l.ZOOM;break;case o.mouseButtons.RIGHT:A=l.PAN;break}const Bt=S!==l.NONE?S:A;Bt===l.ROTATE&&!o.noRotate?(O.copy(Y(Xe.pageX,Xe.pageY)),V.copy(O)):Bt===l.ZOOM&&!o.noZoom?(U.copy(Ae(Xe.pageX,Xe.pageY)),W.copy(U)):Bt===l.PAN&&!o.noPan&&(Z.copy(Ae(Xe.pageX,Xe.pageY)),ne.copy(Z)),o.dispatchEvent(Z_)}function ht(Xe){const Bt=S!==l.NONE?S:A;Bt===l.ROTATE&&!o.noRotate?(V.copy(O),O.copy(Y(Xe.pageX,Xe.pageY))):Bt===l.ZOOM&&!o.noZoom?W.copy(Ae(Xe.pageX,Xe.pageY)):Bt===l.PAN&&!o.noPan&&ne.copy(Ae(Xe.pageX,Xe.pageY))}function dt(){A=l.NONE,o.dispatchEvent(eA)}function De(Xe){if(o.enabled!==!1&&o.noZoom!==!0){switch(Xe.preventDefault(),Xe.deltaMode){case 2:U.y-=Xe.deltaY*.025;break;case 1:U.y-=Xe.deltaY*.01;break;default:U.y-=Xe.deltaY*25e-5;break}o.dispatchEvent(Z_),o.dispatchEvent(eA)}}function Je(Xe){switch(Ln(Xe),j.length){case 1:A=l.TOUCH_ROTATE,O.copy(Y(j[0].pageX,j[0].pageY)),V.copy(O);break;default:A=l.TOUCH_ZOOM_PAN;const Bt=j[0].pageX-j[1].pageX,qt=j[0].pageY-j[1].pageY;I=R=Math.sqrt(Bt*Bt+qt*qt);const $t=(j[0].pageX+j[1].pageX)/2,Cn=(j[0].pageY+j[1].pageY)/2;Z.copy(Ae($t,Cn)),ne.copy(Z);break}o.dispatchEvent(Z_)}function ct(Xe){switch(Ln(Xe),j.length){case 1:V.copy(O),O.copy(Y(Xe.pageX,Xe.pageY));break;default:const Bt=ut(Xe),qt=Xe.pageX-Bt.x,$t=Xe.pageY-Bt.y;I=Math.sqrt(qt*qt+$t*$t);const Cn=(Xe.pageX+Bt.x)/2,Dn=(Xe.pageY+Bt.y)/2;ne.copy(Ae(Cn,Dn));break}}function Gt(Xe){switch(j.length){case 0:A=l.NONE;break;case 1:A=l.TOUCH_ROTATE,O.copy(Y(Xe.pageX,Xe.pageY)),V.copy(O);break;case 2:A=l.TOUCH_ZOOM_PAN,O.copy(Y(Xe.pageX-V.x,Xe.pageY-V.y)),V.copy(O);break}o.dispatchEvent(eA)}function Ft(Xe){o.enabled!==!1&&Xe.preventDefault()}function Kt(Xe){j.push(Xe)}function c(Xe){delete re[Xe.pointerId];for(let Bt=0;Bt<j.length;Bt++)if(j[Bt].pointerId==Xe.pointerId){j.splice(Bt,1);return}}function Ln(Xe){let Bt=re[Xe.pointerId];Bt===void 0&&(Bt=new Fn,re[Xe.pointerId]=Bt),Bt.set(Xe.pageX,Xe.pageY)}function ut(Xe){const Bt=Xe.pointerId===j[0].pointerId?j[1]:j[0];return re[Bt.pointerId]}this.dispose=function(){o.domElement.removeEventListener("contextmenu",Ft),o.domElement.removeEventListener("pointerdown",pe),o.domElement.removeEventListener("pointercancel",tt),o.domElement.removeEventListener("wheel",De),o.domElement.removeEventListener("pointermove",we),o.domElement.removeEventListener("pointerup",Oe),window.removeEventListener("keydown",Re),window.removeEventListener("keyup",ke)},this.domElement.addEventListener("contextmenu",Ft),this.domElement.addEventListener("pointerdown",pe),this.domElement.addEventListener("pointercancel",tt),this.domElement.addEventListener("wheel",De,{passive:!1}),window.addEventListener("keydown",Re),window.addEventListener("keyup",ke),this.handleResize(),this.update()}}class JL extends ta{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(r){return new rO(r)}),this.register(function(r){return new uO(r)}),this.register(function(r){return new dO(r)}),this.register(function(r){return new sO(r)}),this.register(function(r){return new oO(r)}),this.register(function(r){return new aO(r)}),this.register(function(r){return new lO(r)}),this.register(function(r){return new nO(r)}),this.register(function(r){return new cO(r)}),this.register(function(r){return new iO(r)}),this.register(function(r){return new eO(r)}),this.register(function(r){return new fO(r)})}load(t,r,o,l){const d=this;let m;this.resourcePath!==""?m=this.resourcePath:this.path!==""?m=this.path:m=na.extractUrlBase(t),this.manager.itemStart(t);const _=function(S){l?l(S):console.error(S),d.manager.itemError(t),d.manager.itemEnd(t)},A=new Ys(this.manager);A.setPath(this.path),A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setWithCredentials(this.withCredentials),A.load(t,function(S){try{d.parse(S,m,function(R){r(R),d.manager.itemEnd(t)},_)}catch(R){_(R)}},o,_)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,r,o,l){let d;const m={},_={};if(typeof t=="string")d=t;else if(na.decodeText(new Uint8Array(t,0,4))===vw){try{m[Dr.KHR_BINARY_GLTF]=new hO(t)}catch(I){l&&l(I);return}d=m[Dr.KHR_BINARY_GLTF].content}else d=na.decodeText(new Uint8Array(t));const A=JSON.parse(d);if(A.asset===void 0||A.asset.version[0]<2){l&&l(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const S=new IO(A,{path:r||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});S.fileLoader.setRequestHeader(this.requestHeader);for(let R=0;R<this.pluginCallbacks.length;R++){const I=this.pluginCallbacks[R](S);_[I.name]=I,m[I.name]=!0}if(A.extensionsUsed)for(let R=0;R<A.extensionsUsed.length;++R){const I=A.extensionsUsed[R],N=A.extensionsRequired||[];switch(I){case Dr.KHR_MATERIALS_UNLIT:m[I]=new tO;break;case Dr.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:m[I]=new gO;break;case Dr.KHR_DRACO_MESH_COMPRESSION:m[I]=new pO(A,this.dracoLoader);break;case Dr.KHR_TEXTURE_TRANSFORM:m[I]=new mO;break;case Dr.KHR_MESH_QUANTIZATION:m[I]=new vO;break;default:N.indexOf(I)>=0&&_[I]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+I+'".')}}S.setExtensions(m),S.setPlugins(_),S.parse(o,l)}parseAsync(t,r){const o=this;return new Promise(function(l,d){o.parse(t,r,l,d)})}}function ZL(){let p={};return{get:function(t){return p[t]},add:function(t,r){p[t]=r},remove:function(t){delete p[t]},removeAll:function(){p={}}}}const Dr={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class eO{constructor(t){this.parser=t,this.name=Dr.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,r=this.parser.json.nodes||[];for(let o=0,l=r.length;o<l;o++){const d=r[o];d.extensions&&d.extensions[this.name]&&d.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,d.extensions[this.name].light)}}_loadLight(t){const r=this.parser,o="light:"+t;let l=r.cache.get(o);if(l)return l;const d=r.json,A=((d.extensions&&d.extensions[this.name]||{}).lights||[])[t];let S;const R=new sr(16777215);A.color!==void 0&&R.fromArray(A.color);const I=A.range!==void 0?A.range:0;switch(A.type){case"directional":S=new S_(R),S.target.position.set(0,0,-1),S.add(S.target);break;case"point":S=new k8(R),S.distance=I;break;case"spot":S=new B8(R),S.distance=I,A.spot=A.spot||{},A.spot.innerConeAngle=A.spot.innerConeAngle!==void 0?A.spot.innerConeAngle:0,A.spot.outerConeAngle=A.spot.outerConeAngle!==void 0?A.spot.outerConeAngle:Math.PI/4,S.angle=A.spot.outerConeAngle,S.penumbra=1-A.spot.innerConeAngle/A.spot.outerConeAngle,S.target.position.set(0,0,-1),S.add(S.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+A.type)}return S.position.set(0,0,0),S.decay=2,A.intensity!==void 0&&(S.intensity=A.intensity),S.name=r.createUniqueName(A.name||"light_"+t),l=Promise.resolve(S),r.cache.add(o,l),l}createNodeAttachment(t){const r=this,o=this.parser,d=o.json.nodes[t],_=(d.extensions&&d.extensions[this.name]||{}).light;return _===void 0?null:this._loadLight(_).then(function(A){return o._getNodeRef(r.cache,_,A)})}}class tO{constructor(){this.name=Dr.KHR_MATERIALS_UNLIT}getMaterialType(){return Zo}extendParams(t,r,o){const l=[];t.color=new sr(1,1,1),t.opacity=1;const d=r.pbrMetallicRoughness;if(d){if(Array.isArray(d.baseColorFactor)){const m=d.baseColorFactor;t.color.fromArray(m),t.opacity=m[3]}d.baseColorTexture!==void 0&&l.push(o.assignTexture(t,"map",d.baseColorTexture,Or))}return Promise.all(l)}}class nO{constructor(t){this.parser=t,this.name=Dr.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,r){const l=this.parser.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=l.extensions[this.name].emissiveStrength;return d!==void 0&&(r.emissiveIntensity=d),Promise.resolve()}}class rO{constructor(t){this.parser=t,this.name=Dr.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:yc}extendMaterialParams(t,r){const o=this.parser,l=o.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=[],m=l.extensions[this.name];if(m.clearcoatFactor!==void 0&&(r.clearcoat=m.clearcoatFactor),m.clearcoatTexture!==void 0&&d.push(o.assignTexture(r,"clearcoatMap",m.clearcoatTexture)),m.clearcoatRoughnessFactor!==void 0&&(r.clearcoatRoughness=m.clearcoatRoughnessFactor),m.clearcoatRoughnessTexture!==void 0&&d.push(o.assignTexture(r,"clearcoatRoughnessMap",m.clearcoatRoughnessTexture)),m.clearcoatNormalTexture!==void 0&&(d.push(o.assignTexture(r,"clearcoatNormalMap",m.clearcoatNormalTexture)),m.clearcoatNormalTexture.scale!==void 0)){const _=m.clearcoatNormalTexture.scale;r.clearcoatNormalScale=new Fn(_,_)}return Promise.all(d)}}class iO{constructor(t){this.parser=t,this.name=Dr.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:yc}extendMaterialParams(t,r){const o=this.parser,l=o.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=[],m=l.extensions[this.name];return m.iridescenceFactor!==void 0&&(r.iridescence=m.iridescenceFactor),m.iridescenceTexture!==void 0&&d.push(o.assignTexture(r,"iridescenceMap",m.iridescenceTexture)),m.iridescenceIor!==void 0&&(r.iridescenceIOR=m.iridescenceIor),r.iridescenceThicknessRange===void 0&&(r.iridescenceThicknessRange=[100,400]),m.iridescenceThicknessMinimum!==void 0&&(r.iridescenceThicknessRange[0]=m.iridescenceThicknessMinimum),m.iridescenceThicknessMaximum!==void 0&&(r.iridescenceThicknessRange[1]=m.iridescenceThicknessMaximum),m.iridescenceThicknessTexture!==void 0&&d.push(o.assignTexture(r,"iridescenceThicknessMap",m.iridescenceThicknessTexture)),Promise.all(d)}}class sO{constructor(t){this.parser=t,this.name=Dr.KHR_MATERIALS_SHEEN}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:yc}extendMaterialParams(t,r){const o=this.parser,l=o.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=[];r.sheenColor=new sr(0,0,0),r.sheenRoughness=0,r.sheen=1;const m=l.extensions[this.name];return m.sheenColorFactor!==void 0&&r.sheenColor.fromArray(m.sheenColorFactor),m.sheenRoughnessFactor!==void 0&&(r.sheenRoughness=m.sheenRoughnessFactor),m.sheenColorTexture!==void 0&&d.push(o.assignTexture(r,"sheenColorMap",m.sheenColorTexture,Or)),m.sheenRoughnessTexture!==void 0&&d.push(o.assignTexture(r,"sheenRoughnessMap",m.sheenRoughnessTexture)),Promise.all(d)}}class oO{constructor(t){this.parser=t,this.name=Dr.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:yc}extendMaterialParams(t,r){const o=this.parser,l=o.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=[],m=l.extensions[this.name];return m.transmissionFactor!==void 0&&(r.transmission=m.transmissionFactor),m.transmissionTexture!==void 0&&d.push(o.assignTexture(r,"transmissionMap",m.transmissionTexture)),Promise.all(d)}}class aO{constructor(t){this.parser=t,this.name=Dr.KHR_MATERIALS_VOLUME}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:yc}extendMaterialParams(t,r){const o=this.parser,l=o.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=[],m=l.extensions[this.name];r.thickness=m.thicknessFactor!==void 0?m.thicknessFactor:0,m.thicknessTexture!==void 0&&d.push(o.assignTexture(r,"thicknessMap",m.thicknessTexture)),r.attenuationDistance=m.attenuationDistance||0;const _=m.attenuationColor||[1,1,1];return r.attenuationColor=new sr(_[0],_[1],_[2]),Promise.all(d)}}class lO{constructor(t){this.parser=t,this.name=Dr.KHR_MATERIALS_IOR}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:yc}extendMaterialParams(t,r){const l=this.parser.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=l.extensions[this.name];return r.ior=d.ior!==void 0?d.ior:1.5,Promise.resolve()}}class cO{constructor(t){this.parser=t,this.name=Dr.KHR_MATERIALS_SPECULAR}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:yc}extendMaterialParams(t,r){const o=this.parser,l=o.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=[],m=l.extensions[this.name];r.specularIntensity=m.specularFactor!==void 0?m.specularFactor:1,m.specularTexture!==void 0&&d.push(o.assignTexture(r,"specularIntensityMap",m.specularTexture));const _=m.specularColorFactor||[1,1,1];return r.specularColor=new sr(_[0],_[1],_[2]),m.specularColorTexture!==void 0&&d.push(o.assignTexture(r,"specularColorMap",m.specularColorTexture,Or)),Promise.all(d)}}class uO{constructor(t){this.parser=t,this.name=Dr.KHR_TEXTURE_BASISU}loadTexture(t){const r=this.parser,o=r.json,l=o.textures[t];if(!l.extensions||!l.extensions[this.name])return null;const d=l.extensions[this.name],m=r.options.ktx2Loader;if(!m){if(o.extensionsRequired&&o.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return r.loadTextureImage(t,d.source,m)}}class dO{constructor(t){this.parser=t,this.name=Dr.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const r=this.name,o=this.parser,l=o.json,d=l.textures[t];if(!d.extensions||!d.extensions[r])return null;const m=d.extensions[r],_=l.images[m.source];let A=o.textureLoader;if(_.uri){const S=o.options.manager.getHandler(_.uri);S!==null&&(A=S)}return this.detectSupport().then(function(S){if(S)return o.loadTextureImage(t,m.source,A);if(l.extensionsRequired&&l.extensionsRequired.indexOf(r)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return o.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const r=new Image;r.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",r.onload=r.onerror=function(){t(r.height===1)}})),this.isSupported}}class fO{constructor(t){this.name=Dr.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const r=this.parser.json,o=r.bufferViews[t];if(o.extensions&&o.extensions[this.name]){const l=o.extensions[this.name],d=this.parser.getDependency("buffer",l.buffer),m=this.parser.options.meshoptDecoder;if(!m||!m.supported){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return d.then(function(_){const A=l.byteOffset||0,S=l.byteLength||0,R=l.count,I=l.byteStride,N=new Uint8Array(_,A,S);return m.decodeGltfBufferAsync?m.decodeGltfBufferAsync(R,I,N,l.mode,l.filter).then(function(D){return D.buffer}):m.ready.then(function(){const D=new ArrayBuffer(R*I);return m.decodeGltfBuffer(new Uint8Array(D),R,I,N,l.mode,l.filter),D})})}else return null}}const vw="glTF",Nf=12,_w={JSON:1313821514,BIN:5130562};class hO{constructor(t){this.name=Dr.KHR_BINARY_GLTF,this.content=null,this.body=null;const r=new DataView(t,0,Nf);if(this.header={magic:na.decodeText(new Uint8Array(t.slice(0,4))),version:r.getUint32(4,!0),length:r.getUint32(8,!0)},this.header.magic!==vw)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const o=this.header.length-Nf,l=new DataView(t,Nf);let d=0;for(;d<o;){const m=l.getUint32(d,!0);d+=4;const _=l.getUint32(d,!0);if(d+=4,_===_w.JSON){const A=new Uint8Array(t,Nf+d,m);this.content=na.decodeText(A)}else if(_===_w.BIN){const A=Nf+d;this.body=t.slice(A,A+m)}d+=m}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class pO{constructor(t,r){if(!r)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Dr.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=r,this.dracoLoader.preload()}decodePrimitive(t,r){const o=this.json,l=this.dracoLoader,d=t.extensions[this.name].bufferView,m=t.extensions[this.name].attributes,_={},A={},S={};for(const R in m){const I=nA[R]||R.toLowerCase();_[I]=m[R]}for(const R in t.attributes){const I=nA[R]||R.toLowerCase();if(m[R]!==void 0){const N=o.accessors[t.attributes[R]],D=Pf[N.componentType];S[I]=D.name,A[I]=N.normalized===!0}}return r.getDependency("bufferView",d).then(function(R){return new Promise(function(I){l.decodeDracoFile(R,function(N){for(const D in N.attributes){const V=N.attributes[D],O=A[D];O!==void 0&&(V.normalized=O)}I(N)},_,S)})})}}class mO{constructor(){this.name=Dr.KHR_TEXTURE_TRANSFORM}extendTexture(t,r){return r.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),r.offset===void 0&&r.rotation===void 0&&r.scale===void 0||(t=t.clone(),r.offset!==void 0&&t.offset.fromArray(r.offset),r.rotation!==void 0&&(t.rotation=r.rotation),r.scale!==void 0&&t.repeat.fromArray(r.scale),t.needsUpdate=!0),t}}class tA extends uf{constructor(t){super(),this.isGLTFSpecularGlossinessMaterial=!0;const r=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),o=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),l=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),d=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),m=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),_={specular:{value:new sr().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=_,this.onBeforeCompile=function(A){for(const S in _)A.uniforms[S]=_[S];A.fragmentShader=A.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",r).replace("#include <metalnessmap_pars_fragment>",o).replace("#include <roughnessmap_fragment>",l).replace("#include <metalnessmap_fragment>",d).replace("#include <lights_physical_fragment>",m)},Object.defineProperties(this,{specular:{get:function(){return _.specular.value},set:function(A){_.specular.value=A}},specularMap:{get:function(){return _.specularMap.value},set:function(A){_.specularMap.value=A,A?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return _.glossiness.value},set:function(A){_.glossiness.value=A}},glossinessMap:{get:function(){return _.glossinessMap.value},set:function(A){_.glossinessMap.value=A,A?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}copy(t){return super.copy(t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class gO{constructor(){this.name=Dr.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return tA}extendParams(t,r,o){const l=r.extensions[this.name];t.color=new sr(1,1,1),t.opacity=1;const d=[];if(Array.isArray(l.diffuseFactor)){const m=l.diffuseFactor;t.color.fromArray(m),t.opacity=m[3]}if(l.diffuseTexture!==void 0&&d.push(o.assignTexture(t,"map",l.diffuseTexture,Or)),t.emissive=new sr(0,0,0),t.glossiness=l.glossinessFactor!==void 0?l.glossinessFactor:1,t.specular=new sr(1,1,1),Array.isArray(l.specularFactor)&&t.specular.fromArray(l.specularFactor),l.specularGlossinessTexture!==void 0){const m=l.specularGlossinessTexture;d.push(o.assignTexture(t,"glossinessMap",m)),d.push(o.assignTexture(t,"specularMap",m,Or))}return Promise.all(d)}createMaterial(t){const r=new tA(t);return r.fog=!0,r.color=t.color,r.map=t.map===void 0?null:t.map,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=t.aoMap===void 0?null:t.aoMap,r.aoMapIntensity=1,r.emissive=t.emissive,r.emissiveIntensity=t.emissiveIntensity===void 0?1:t.emissiveIntensity,r.emissiveMap=t.emissiveMap===void 0?null:t.emissiveMap,r.bumpMap=t.bumpMap===void 0?null:t.bumpMap,r.bumpScale=1,r.normalMap=t.normalMap===void 0?null:t.normalMap,r.normalMapType=lp,t.normalScale&&(r.normalScale=t.normalScale),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=t.specularMap===void 0?null:t.specularMap,r.specular=t.specular,r.glossinessMap=t.glossinessMap===void 0?null:t.glossinessMap,r.glossiness=t.glossiness,r.alphaMap=null,r.envMap=t.envMap===void 0?null:t.envMap,r.envMapIntensity=1,r}}class vO{constructor(){this.name=Dr.KHR_MESH_QUANTIZATION}}class Aw extends df{constructor(t,r,o,l){super(t,r,o,l)}copySampleValue_(t){const r=this.resultBuffer,o=this.sampleValues,l=this.valueSize,d=t*l*3+l;for(let m=0;m!==l;m++)r[m]=o[d+m];return r}interpolate_(t,r,o,l){const d=this.resultBuffer,m=this.sampleValues,_=this.valueSize,A=_*2,S=_*3,R=l-r,I=(o-r)/R,N=I*I,D=N*I,V=t*S,O=V-S,k=-2*D+3*N,U=D-N,W=1-k,Z=U-N+I;for(let ne=0;ne!==_;ne++){const j=m[O+ne+_],re=m[O+ne+A]*R,Ae=m[V+ne+_],Y=m[V+ne]*R;d[ne]=W*j+Z*re+k*Ae+U*Y}return d}}const _O=new Rs;class AO extends Aw{interpolate_(t,r,o,l){const d=super.interpolate_(t,r,o,l);return _O.fromArray(d).normalize().toArray(d),d}}const Ba={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Pf={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},yw={9728:Yt,9729:ir,9984:un,9985:si,9986:Ar,9987:Xn},bw={33071:Dt,33648:Qt,10497:Qe},Sw={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},nA={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Il={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},yO={CUBICSPLINE:void 0,LINEAR:lc,STEP:Eu},rA={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function bO(p){return p.DefaultMaterial===void 0&&(p.DefaultMaterial=new uf({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:G})),p.DefaultMaterial}function Bf(p,t,r){for(const o in r.extensions)p[o]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[o]=r.extensions[o])}function Cc(p,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(p.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function SO(p,t,r){let o=!1,l=!1,d=!1;for(let S=0,R=t.length;S<R;S++){const I=t[S];if(I.POSITION!==void 0&&(o=!0),I.NORMAL!==void 0&&(l=!0),I.COLOR_0!==void 0&&(d=!0),o&&l&&d)break}if(!o&&!l&&!d)return Promise.resolve(p);const m=[],_=[],A=[];for(let S=0,R=t.length;S<R;S++){const I=t[S];if(o){const N=I.POSITION!==void 0?r.getDependency("accessor",I.POSITION):p.attributes.position;m.push(N)}if(l){const N=I.NORMAL!==void 0?r.getDependency("accessor",I.NORMAL):p.attributes.normal;_.push(N)}if(d){const N=I.COLOR_0!==void 0?r.getDependency("accessor",I.COLOR_0):p.attributes.color;A.push(N)}}return Promise.all([Promise.all(m),Promise.all(_),Promise.all(A)]).then(function(S){const R=S[0],I=S[1],N=S[2];return o&&(p.morphAttributes.position=R),l&&(p.morphAttributes.normal=I),d&&(p.morphAttributes.color=N),p.morphTargetsRelative=!0,p})}function EO(p,t){if(p.updateMorphTargets(),t.weights!==void 0)for(let r=0,o=t.weights.length;r<o;r++)p.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){const r=t.extras.targetNames;if(p.morphTargetInfluences.length===r.length){p.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++)p.morphTargetDictionary[r[o]]=o}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function wO(p){const t=p.extensions&&p.extensions[Dr.KHR_DRACO_MESH_COMPRESSION];let r;return t?r="draco:"+t.bufferView+":"+t.indices+":"+Ew(t.attributes):r=p.indices+":"+Ew(p.attributes)+":"+p.mode,r}function Ew(p){let t="";const r=Object.keys(p).sort();for(let o=0,l=r.length;o<l;o++)t+=r[o]+":"+p[r[o]]+";";return t}function iA(p){switch(p){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function CO(p){return p.search(/\.jpe?g($|\?)/i)>0||p.search(/^data\:image\/jpeg/)===0?"image/jpeg":p.search(/\.webp($|\?)/i)>0||p.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class IO{constructor(t={},r={}){this.json=t,this.extensions={},this.plugins={},this.options=r,this.cache=new ZL,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const o=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,l=navigator.userAgent.indexOf("Firefox")>-1,d=l?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||o||l&&d<98?this.textureLoader=new A_(this.options.manager):this.textureLoader=new O8(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ys(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,r){const o=this,l=this.json,d=this.extensions;this.cache.removeAll(),this._invokeAll(function(m){return m._markDefs&&m._markDefs()}),Promise.all(this._invokeAll(function(m){return m.beforeRoot&&m.beforeRoot()})).then(function(){return Promise.all([o.getDependencies("scene"),o.getDependencies("animation"),o.getDependencies("camera")])}).then(function(m){const _={scene:m[0][l.scene||0],scenes:m[0],animations:m[1],cameras:m[2],asset:l.asset,parser:o,userData:{}};Bf(d,_,l),Cc(_,l),Promise.all(o._invokeAll(function(A){return A.afterRoot&&A.afterRoot(_)})).then(function(){t(_)})}).catch(r)}_markDefs(){const t=this.json.nodes||[],r=this.json.skins||[],o=this.json.meshes||[];for(let l=0,d=r.length;l<d;l++){const m=r[l].joints;for(let _=0,A=m.length;_<A;_++)t[m[_]].isBone=!0}for(let l=0,d=t.length;l<d;l++){const m=t[l];m.mesh!==void 0&&(this._addNodeRef(this.meshCache,m.mesh),m.skin!==void 0&&(o[m.mesh].isSkinnedMesh=!0)),m.camera!==void 0&&this._addNodeRef(this.cameraCache,m.camera)}}_addNodeRef(t,r){r!==void 0&&(t.refs[r]===void 0&&(t.refs[r]=t.uses[r]=0),t.refs[r]++)}_getNodeRef(t,r,o){if(t.refs[r]<=1)return o;const l=o.clone(),d=(m,_)=>{const A=this.associations.get(m);A!=null&&this.associations.set(_,A);for(const[S,R]of m.children.entries())d(R,_.children[S])};return d(o,l),l.name+="_instance_"+t.uses[r]++,l}_invokeOne(t){const r=Object.values(this.plugins);r.push(this);for(let o=0;o<r.length;o++){const l=t(r[o]);if(l)return l}return null}_invokeAll(t){const r=Object.values(this.plugins);r.unshift(this);const o=[];for(let l=0;l<r.length;l++){const d=t(r[l]);d&&o.push(d)}return o}getDependency(t,r){const o=t+":"+r;let l=this.cache.get(o);if(!l){switch(t){case"scene":l=this.loadScene(r);break;case"node":l=this.loadNode(r);break;case"mesh":l=this._invokeOne(function(d){return d.loadMesh&&d.loadMesh(r)});break;case"accessor":l=this.loadAccessor(r);break;case"bufferView":l=this._invokeOne(function(d){return d.loadBufferView&&d.loadBufferView(r)});break;case"buffer":l=this.loadBuffer(r);break;case"material":l=this._invokeOne(function(d){return d.loadMaterial&&d.loadMaterial(r)});break;case"texture":l=this._invokeOne(function(d){return d.loadTexture&&d.loadTexture(r)});break;case"skin":l=this.loadSkin(r);break;case"animation":l=this._invokeOne(function(d){return d.loadAnimation&&d.loadAnimation(r)});break;case"camera":l=this.loadCamera(r);break;default:throw new Error("Unknown type: "+t)}this.cache.add(o,l)}return l}getDependencies(t){let r=this.cache.get(t);if(!r){const o=this,l=this.json[t+(t==="mesh"?"es":"s")]||[];r=Promise.all(l.map(function(d,m){return o.getDependency(t,m)})),this.cache.add(t,r)}return r}loadBuffer(t){const r=this.json.buffers[t],o=this.fileLoader;if(r.type&&r.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+r.type+" buffer type is not supported.");if(r.uri===void 0&&t===0)return Promise.resolve(this.extensions[Dr.KHR_BINARY_GLTF].body);const l=this.options;return new Promise(function(d,m){o.load(na.resolveURL(r.uri,l.path),d,void 0,function(){m(new Error('THREE.GLTFLoader: Failed to load buffer "'+r.uri+'".'))})})}loadBufferView(t){const r=this.json.bufferViews[t];return this.getDependency("buffer",r.buffer).then(function(o){const l=r.byteLength||0,d=r.byteOffset||0;return o.slice(d,d+l)})}loadAccessor(t){const r=this,o=this.json,l=this.json.accessors[t];if(l.bufferView===void 0&&l.sparse===void 0)return Promise.resolve(null);const d=[];return l.bufferView!==void 0?d.push(this.getDependency("bufferView",l.bufferView)):d.push(null),l.sparse!==void 0&&(d.push(this.getDependency("bufferView",l.sparse.indices.bufferView)),d.push(this.getDependency("bufferView",l.sparse.values.bufferView))),Promise.all(d).then(function(m){const _=m[0],A=Sw[l.type],S=Pf[l.componentType],R=S.BYTES_PER_ELEMENT,I=R*A,N=l.byteOffset||0,D=l.bufferView!==void 0?o.bufferViews[l.bufferView].byteStride:void 0,V=l.normalized===!0;let O,k;if(D&&D!==I){const U=Math.floor(N/D),W="InterleavedBuffer:"+l.bufferView+":"+l.componentType+":"+U+":"+l.count;let Z=r.cache.get(W);Z||(O=new S(_,U*D,l.count*D/R),Z=new BS(O,D/R),r.cache.add(W,Z)),k=new of(Z,A,N%D/R,V)}else _===null?O=new S(l.count*A):O=new S(_,N,l.count*A),k=new ei(O,A,V);if(l.sparse!==void 0){const U=Sw.SCALAR,W=Pf[l.sparse.indices.componentType],Z=l.sparse.indices.byteOffset||0,ne=l.sparse.values.byteOffset||0,j=new W(m[1],Z,l.sparse.count*U),re=new S(m[2],ne,l.sparse.count*A);_!==null&&(k=new ei(k.array.slice(),k.itemSize,k.normalized));for(let Ae=0,Y=j.length;Ae<Y;Ae++){const pe=j[Ae];if(k.setX(pe,re[Ae*A]),A>=2&&k.setY(pe,re[Ae*A+1]),A>=3&&k.setZ(pe,re[Ae*A+2]),A>=4&&k.setW(pe,re[Ae*A+3]),A>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return k})}loadTexture(t){const r=this.json,o=this.options,d=r.textures[t].source,m=r.images[d];let _=this.textureLoader;if(m.uri){const A=o.manager.getHandler(m.uri);A!==null&&(_=A)}return this.loadTextureImage(t,d,_)}loadTextureImage(t,r,o){const l=this,d=this.json,m=d.textures[t],_=d.images[r],A=(_.uri||_.bufferView)+":"+m.sampler;if(this.textureCache[A])return this.textureCache[A];const S=this.loadImageSource(r,o).then(function(R){R.flipY=!1,m.name&&(R.name=m.name);const N=(d.samplers||{})[m.sampler]||{};return R.magFilter=yw[N.magFilter]||ir,R.minFilter=yw[N.minFilter]||Xn,R.wrapS=bw[N.wrapS]||Qe,R.wrapT=bw[N.wrapT]||Qe,l.associations.set(R,{textures:t}),R}).catch(function(){return null});return this.textureCache[A]=S,S}loadImageSource(t,r){const o=this,l=this.json,d=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(I=>I.clone());const m=l.images[t],_=self.URL||self.webkitURL;let A=m.uri||"",S=!1;if(m.bufferView!==void 0)A=o.getDependency("bufferView",m.bufferView).then(function(I){S=!0;const N=new Blob([I],{type:m.mimeType});return A=_.createObjectURL(N),A});else if(m.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const R=Promise.resolve(A).then(function(I){return new Promise(function(N,D){let V=N;r.isImageBitmapLoader===!0&&(V=function(O){const k=new Di(O);k.needsUpdate=!0,N(k)}),r.load(na.resolveURL(I,d.path),V,void 0,D)})}).then(function(I){return S===!0&&_.revokeObjectURL(A),I.userData.mimeType=m.mimeType||CO(m.uri),I}).catch(function(I){throw console.error("THREE.GLTFLoader: Couldn't load texture",A),I});return this.sourceCache[t]=R,R}assignTexture(t,r,o,l){const d=this;return this.getDependency("texture",o.index).then(function(m){if(o.texCoord!==void 0&&o.texCoord!=0&&!(r==="aoMap"&&o.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+o.texCoord+" for texture "+r+" not yet supported."),d.extensions[Dr.KHR_TEXTURE_TRANSFORM]){const _=o.extensions!==void 0?o.extensions[Dr.KHR_TEXTURE_TRANSFORM]:void 0;if(_){const A=d.associations.get(m);m=d.extensions[Dr.KHR_TEXTURE_TRANSFORM].extendTexture(m,_),d.associations.set(m,A)}}return l!==void 0&&(m.encoding=l),t[r]=m,m})}assignFinalMaterial(t){const r=t.geometry;let o=t.material;const l=r.attributes.tangent===void 0,d=r.attributes.color!==void 0,m=r.attributes.normal===void 0;if(t.isPoints){const _="PointsMaterial:"+o.uuid;let A=this.cache.get(_);A||(A=new jS,js.prototype.copy.call(A,o),A.color.copy(o.color),A.map=o.map,A.sizeAttenuation=!1,this.cache.add(_,A)),o=A}else if(t.isLine){const _="LineBasicMaterial:"+o.uuid;let A=this.cache.get(_);A||(A=new Qp,js.prototype.copy.call(A,o),A.color.copy(o.color),this.cache.add(_,A)),o=A}if(l||d||m){let _="ClonedMaterial:"+o.uuid+":";o.isGLTFSpecularGlossinessMaterial&&(_+="specular-glossiness:"),l&&(_+="derivative-tangents:"),d&&(_+="vertex-colors:"),m&&(_+="flat-shading:");let A=this.cache.get(_);A||(A=o.clone(),d&&(A.vertexColors=!0),m&&(A.flatShading=!0),l&&(A.normalScale&&(A.normalScale.y*=-1),A.clearcoatNormalScale&&(A.clearcoatNormalScale.y*=-1)),this.cache.add(_,A),this.associations.set(A,this.associations.get(o))),o=A}o.aoMap&&r.attributes.uv2===void 0&&r.attributes.uv!==void 0&&r.setAttribute("uv2",r.attributes.uv),t.material=o}getMaterialType(){return uf}loadMaterial(t){const r=this,o=this.json,l=this.extensions,d=o.materials[t];let m;const _={},A=d.extensions||{},S=[];if(A[Dr.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const I=l[Dr.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];m=I.getMaterialType(),S.push(I.extendParams(_,d,r))}else if(A[Dr.KHR_MATERIALS_UNLIT]){const I=l[Dr.KHR_MATERIALS_UNLIT];m=I.getMaterialType(),S.push(I.extendParams(_,d,r))}else{const I=d.pbrMetallicRoughness||{};if(_.color=new sr(1,1,1),_.opacity=1,Array.isArray(I.baseColorFactor)){const N=I.baseColorFactor;_.color.fromArray(N),_.opacity=N[3]}I.baseColorTexture!==void 0&&S.push(r.assignTexture(_,"map",I.baseColorTexture,Or)),_.metalness=I.metallicFactor!==void 0?I.metallicFactor:1,_.roughness=I.roughnessFactor!==void 0?I.roughnessFactor:1,I.metallicRoughnessTexture!==void 0&&(S.push(r.assignTexture(_,"metalnessMap",I.metallicRoughnessTexture)),S.push(r.assignTexture(_,"roughnessMap",I.metallicRoughnessTexture))),m=this._invokeOne(function(N){return N.getMaterialType&&N.getMaterialType(t)}),S.push(Promise.all(this._invokeAll(function(N){return N.extendMaterialParams&&N.extendMaterialParams(t,_)})))}d.doubleSided===!0&&(_.side=H);const R=d.alphaMode||rA.OPAQUE;if(R===rA.BLEND?(_.transparent=!0,_.depthWrite=!1):(_.transparent=!1,R===rA.MASK&&(_.alphaTest=d.alphaCutoff!==void 0?d.alphaCutoff:.5)),d.normalTexture!==void 0&&m!==Zo&&(S.push(r.assignTexture(_,"normalMap",d.normalTexture)),_.normalScale=new Fn(1,1),d.normalTexture.scale!==void 0)){const I=d.normalTexture.scale;_.normalScale.set(I,I)}return d.occlusionTexture!==void 0&&m!==Zo&&(S.push(r.assignTexture(_,"aoMap",d.occlusionTexture)),d.occlusionTexture.strength!==void 0&&(_.aoMapIntensity=d.occlusionTexture.strength)),d.emissiveFactor!==void 0&&m!==Zo&&(_.emissive=new sr().fromArray(d.emissiveFactor)),d.emissiveTexture!==void 0&&m!==Zo&&S.push(r.assignTexture(_,"emissiveMap",d.emissiveTexture,Or)),Promise.all(S).then(function(){let I;return m===tA?I=l[Dr.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(_):I=new m(_),d.name&&(I.name=d.name),Cc(I,d),r.associations.set(I,{materials:t}),d.extensions&&Bf(l,I,d),I})}createUniqueName(t){const r=Ur.sanitizeNodeName(t||"");let o=r;for(let l=1;this.nodeNamesUsed[o];++l)o=r+"_"+l;return this.nodeNamesUsed[o]=!0,o}loadGeometries(t){const r=this,o=this.extensions,l=this.primitiveCache;function d(_){return o[Dr.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(_,r).then(function(A){return Cw(A,_,r)})}const m=[];for(let _=0,A=t.length;_<A;_++){const S=t[_],R=wO(S),I=l[R];if(I)m.push(I.promise);else{let N;S.extensions&&S.extensions[Dr.KHR_DRACO_MESH_COMPRESSION]?N=d(S):N=Cw(new Oi,S,r),l[R]={primitive:S,promise:N},m.push(N)}}return Promise.all(m)}loadMesh(t){const r=this,o=this.json,l=this.extensions,d=o.meshes[t],m=d.primitives,_=[];for(let A=0,S=m.length;A<S;A++){const R=m[A].material===void 0?bO(this.cache):this.getDependency("material",m[A].material);_.push(R)}return _.push(r.loadGeometries(m)),Promise.all(_).then(function(A){const S=A.slice(0,A.length-1),R=A[A.length-1],I=[];for(let D=0,V=R.length;D<V;D++){const O=R[D],k=m[D];let U;const W=S[D];if(k.mode===Ba.TRIANGLES||k.mode===Ba.TRIANGLE_STRIP||k.mode===Ba.TRIANGLE_FAN||k.mode===void 0)U=d.isSkinnedMesh===!0?new m8(O,W):new Fi(O,W),U.isSkinnedMesh===!0&&!U.geometry.attributes.skinWeight.normalized&&U.normalizeSkinWeights(),k.mode===Ba.TRIANGLE_STRIP?U.geometry=Iw(U.geometry,PB):k.mode===Ba.TRIANGLE_FAN&&(U.geometry=Iw(U.geometry,F1));else if(k.mode===Ba.LINES)U=new g_(O,W);else if(k.mode===Ba.LINE_STRIP)U=new m_(O,W);else if(k.mode===Ba.LINE_LOOP)U=new v8(O,W);else if(k.mode===Ba.POINTS)U=new _8(O,W);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+k.mode);Object.keys(U.geometry.morphAttributes).length>0&&EO(U,d),U.name=r.createUniqueName(d.name||"mesh_"+t),Cc(U,d),k.extensions&&Bf(l,U,k),r.assignFinalMaterial(U),I.push(U)}for(let D=0,V=I.length;D<V;D++)r.associations.set(I[D],{meshes:t,primitives:D});if(I.length===1)return I[0];const N=new Ps;r.associations.set(N,{meshes:t});for(let D=0,V=I.length;D<V;D++)N.add(I[D]);return N})}loadCamera(t){let r;const o=this.json.cameras[t],l=o[o.type];if(!l){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return o.type==="perspective"?r=new Wi(U1.radToDeg(l.yfov),l.aspectRatio||1,l.znear||1,l.zfar||2e6):o.type==="orthographic"&&(r=new Bp(-l.xmag,l.xmag,l.ymag,-l.ymag,l.znear,l.zfar)),o.name&&(r.name=this.createUniqueName(o.name)),Cc(r,o),Promise.resolve(r)}loadSkin(t){const r=this.json.skins[t],o={joints:r.joints};return r.inverseBindMatrices===void 0?Promise.resolve(o):this.getDependency("accessor",r.inverseBindMatrices).then(function(l){return o.inverseBindMatrices=l,o})}loadAnimation(t){const o=this.json.animations[t],l=[],d=[],m=[],_=[],A=[];for(let S=0,R=o.channels.length;S<R;S++){const I=o.channels[S],N=o.samplers[I.sampler],D=I.target,V=D.node,O=o.parameters!==void 0?o.parameters[N.input]:N.input,k=o.parameters!==void 0?o.parameters[N.output]:N.output;l.push(this.getDependency("node",V)),d.push(this.getDependency("accessor",O)),m.push(this.getDependency("accessor",k)),_.push(N),A.push(D)}return Promise.all([Promise.all(l),Promise.all(d),Promise.all(m),Promise.all(_),Promise.all(A)]).then(function(S){const R=S[0],I=S[1],N=S[2],D=S[3],V=S[4],O=[];for(let U=0,W=R.length;U<W;U++){const Z=R[U],ne=I[U],j=N[U],re=D[U],Ae=V[U];if(Z===void 0)continue;Z.updateMatrix();let Y;switch(Il[Ae.path]){case Il.weights:Y=ff;break;case Il.rotation:Y=bc;break;case Il.position:case Il.scale:default:Y=hf;break}const pe=Z.name?Z.name:Z.uuid,we=re.interpolation!==void 0?yO[re.interpolation]:lc,Oe=[];Il[Ae.path]===Il.weights?Z.traverse(function(Re){Re.morphTargetInfluences&&Oe.push(Re.name?Re.name:Re.uuid)}):Oe.push(pe);let tt=j.array;if(j.normalized){const Re=iA(tt.constructor),ke=new Float32Array(tt.length);for(let st=0,ht=tt.length;st<ht;st++)ke[st]=tt[st]*Re;tt=ke}for(let Re=0,ke=Oe.length;Re<ke;Re++){const st=new Y(Oe[Re]+"."+Il[Ae.path],ne.array,tt,we);re.interpolation==="CUBICSPLINE"&&(st.createInterpolant=function(dt){const De=this instanceof bc?AO:Aw;return new De(this.times,this.values,this.getValueSize()/3,dt)},st.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),O.push(st)}}const k=o.name?o.name:"animation_"+t;return new Kp(k,void 0,O)})}createNodeMesh(t){const r=this.json,o=this,l=r.nodes[t];return l.mesh===void 0?null:o.getDependency("mesh",l.mesh).then(function(d){const m=o._getNodeRef(o.meshCache,l.mesh,d);return l.weights!==void 0&&m.traverse(function(_){if(!!_.isMesh)for(let A=0,S=l.weights.length;A<S;A++)_.morphTargetInfluences[A]=l.weights[A]}),m})}loadNode(t){const r=this.json,o=this.extensions,l=this,d=r.nodes[t],m=d.name?l.createUniqueName(d.name):"";return function(){const _=[],A=l._invokeOne(function(S){return S.createNodeMesh&&S.createNodeMesh(t)});return A&&_.push(A),d.camera!==void 0&&_.push(l.getDependency("camera",d.camera).then(function(S){return l._getNodeRef(l.cameraCache,d.camera,S)})),l._invokeAll(function(S){return S.createNodeAttachment&&S.createNodeAttachment(t)}).forEach(function(S){_.push(S)}),Promise.all(_)}().then(function(_){let A;if(d.isBone===!0?A=new HS:_.length>1?A=new Ps:_.length===1?A=_[0]:A=new _i,A!==_[0])for(let S=0,R=_.length;S<R;S++)A.add(_[S]);if(d.name&&(A.userData.name=d.name,A.name=m),Cc(A,d),d.extensions&&Bf(o,A,d),d.matrix!==void 0){const S=new br;S.fromArray(d.matrix),A.applyMatrix4(S)}else d.translation!==void 0&&A.position.fromArray(d.translation),d.rotation!==void 0&&A.quaternion.fromArray(d.rotation),d.scale!==void 0&&A.scale.fromArray(d.scale);return l.associations.has(A)||l.associations.set(A,{}),l.associations.get(A).nodes=t,A})}loadScene(t){const r=this.json,o=this.extensions,l=this.json.scenes[t],d=this,m=new Ps;l.name&&(m.name=d.createUniqueName(l.name)),Cc(m,l),l.extensions&&Bf(o,m,l);const _=l.nodes||[],A=[];for(let S=0,R=_.length;S<R;S++)A.push(ww(_[S],m,r,d));return Promise.all(A).then(function(){const S=R=>{const I=new Map;for(const[N,D]of d.associations)(N instanceof js||N instanceof Di)&&I.set(N,D);return R.traverse(N=>{const D=d.associations.get(N);D!=null&&I.set(N,D)}),I};return d.associations=S(m),m})}}function ww(p,t,r,o){const l=r.nodes[p];return o.getDependency("node",p).then(function(d){if(l.skin===void 0)return d;let m;return o.getDependency("skin",l.skin).then(function(_){m=_;const A=[];for(let S=0,R=m.joints.length;S<R;S++)A.push(o.getDependency("node",m.joints[S]));return Promise.all(A)}).then(function(_){return d.traverse(function(A){if(!A.isMesh)return;const S=[],R=[];for(let I=0,N=_.length;I<N;I++){const D=_[I];if(D){S.push(D);const V=new br;m.inverseBindMatrices!==void 0&&V.fromArray(m.inverseBindMatrices.array,I*16),R.push(V)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',m.joints[I])}A.bind(new h_(S,R),A.matrixWorld)}),d})}).then(function(d){t.add(d);const m=[];if(l.children){const _=l.children;for(let A=0,S=_.length;A<S;A++){const R=_[A];m.push(ww(R,d,r,o))}}return Promise.all(m)})}function MO(p,t,r){const o=t.attributes,l=new Yo;if(o.POSITION!==void 0){const _=r.json.accessors[o.POSITION],A=_.min,S=_.max;if(A!==void 0&&S!==void 0){if(l.set(new Ze(A[0],A[1],A[2]),new Ze(S[0],S[1],S[2])),_.normalized){const R=iA(Pf[_.componentType]);l.min.multiplyScalar(R),l.max.multiplyScalar(R)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const d=t.targets;if(d!==void 0){const _=new Ze,A=new Ze;for(let S=0,R=d.length;S<R;S++){const I=d[S];if(I.POSITION!==void 0){const N=r.json.accessors[I.POSITION],D=N.min,V=N.max;if(D!==void 0&&V!==void 0){if(A.setX(Math.max(Math.abs(D[0]),Math.abs(V[0]))),A.setY(Math.max(Math.abs(D[1]),Math.abs(V[1]))),A.setZ(Math.max(Math.abs(D[2]),Math.abs(V[2]))),N.normalized){const O=iA(Pf[N.componentType]);A.multiplyScalar(O)}_.max(A)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}l.expandByVector(_)}p.boundingBox=l;const m=new Tu;l.getCenter(m.center),m.radius=l.min.distanceTo(l.max)/2,p.boundingSphere=m}function Cw(p,t,r){const o=t.attributes,l=[];function d(m,_){return r.getDependency("accessor",m).then(function(A){p.setAttribute(_,A)})}for(const m in o){const _=nA[m]||m.toLowerCase();_ in p.attributes||l.push(d(o[m],_))}if(t.indices!==void 0&&!p.index){const m=r.getDependency("accessor",t.indices).then(function(_){p.setIndex(_)});l.push(m)}return Cc(p,t),MO(p,t,r),Promise.all(l).then(function(){return t.targets!==void 0?SO(p,t.targets,r):p})}function Iw(p,t){let r=p.getIndex();if(r===null){const m=[],_=p.getAttribute("position");if(_!==void 0){for(let A=0;A<_.count;A++)m.push(A);p.setIndex(m),r=p.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),p}const o=r.count-2,l=[];if(t===F1)for(let m=1;m<=o;m++)l.push(r.getX(0)),l.push(r.getX(m)),l.push(r.getX(m+1));else for(let m=0;m<o;m++)m%2===0?(l.push(r.getX(m)),l.push(r.getX(m+1)),l.push(r.getX(m+2))):(l.push(r.getX(m+2)),l.push(r.getX(m+1)),l.push(r.getX(m)));l.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const d=p.clone();return d.setIndex(l),d}class xO{constructor(t=4){this.pool=t,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(t){if(!this.workers[t]){const r=this.workerCreator();r.addEventListener("message",this._onMessage.bind(this,t)),this.workers[t]=r}}_getIdleWorker(){for(let t=0;t<this.pool;t++)if(!(this.workerStatus&1<<t))return t;return-1}_onMessage(t,r){const o=this.workersResolve[t];if(o&&o(r),this.queue.length){const{resolve:l,msg:d,transfer:m}=this.queue.shift();this.workersResolve[t]=l,this.workers[t].postMessage(d,m)}else this.workerStatus^=1<<t}setWorkerCreator(t){this.workerCreator=t}setWorkerLimit(t){this.pool=t}postMessage(t,r){return new Promise(o=>{const l=this._getIdleWorker();l!==-1?(this._initWorker(l),this.workerStatus|=1<<l,this.workersResolve[l]=o,this.workers[l].postMessage(t,r)):this.queue.push({resolve:o,msg:t,transfer:r})})}dispose(){this.workers.forEach(t=>t.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const RO=0,TO=2,NO=1,PO=2,BO=0,Mw=9,sA=15,xw=16,oA=22,Rw=37,aA=43,Tw=76,Nw=83,Pw=97,Bw=100,Dw=103,kw=109;class DO{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class Df{constructor(t,r,o,l){this._dataView=new DataView(t.buffer,t.byteOffset+r,o),this._littleEndian=l,this._offset=0}_nextUint8(){const t=this._dataView.getUint8(this._offset);return this._offset+=1,t}_nextUint16(){const t=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,t}_nextUint32(){const t=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,t}_nextUint64(){const t=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,t}_nextInt32(){const t=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,t}_skip(t){return this._offset+=t,this}_scan(t,r=0){const o=this._offset;let l=0;for(;this._dataView.getUint8(this._offset)!==r&&l<t;)l++,this._offset++;return l<t&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+o,l)}}const cs=[171,75,84,88,32,50,48,187,13,10,26,10];function Lw(p){return typeof TextDecoder<"u"?new TextDecoder().decode(p):Buffer.from(p).toString("utf8")}function kO(p){const t=new Uint8Array(p.buffer,p.byteOffset,cs.length);if(t[0]!==cs[0]||t[1]!==cs[1]||t[2]!==cs[2]||t[3]!==cs[3]||t[4]!==cs[4]||t[5]!==cs[5]||t[6]!==cs[6]||t[7]!==cs[7]||t[8]!==cs[8]||t[9]!==cs[9]||t[10]!==cs[10]||t[11]!==cs[11])throw new Error("Missing KTX 2.0 identifier.");const r=new DO,o=17*Uint32Array.BYTES_PER_ELEMENT,l=new Df(p,cs.length,o,!0);r.vkFormat=l._nextUint32(),r.typeSize=l._nextUint32(),r.pixelWidth=l._nextUint32(),r.pixelHeight=l._nextUint32(),r.pixelDepth=l._nextUint32(),r.layerCount=l._nextUint32(),r.faceCount=l._nextUint32();const d=l._nextUint32();r.supercompressionScheme=l._nextUint32();const m=l._nextUint32(),_=l._nextUint32(),A=l._nextUint32(),S=l._nextUint32(),R=l._nextUint64(),I=l._nextUint64(),N=new Df(p,cs.length+o,3*d*8,!0);for(let dt=0;dt<d;dt++)r.levels.push({levelData:new Uint8Array(p.buffer,p.byteOffset+N._nextUint64(),N._nextUint64()),uncompressedByteLength:N._nextUint64()});const D=new Df(p,m,_,!0),V={vendorId:D._skip(4)._nextUint16(),descriptorType:D._nextUint16(),versionNumber:D._nextUint16(),descriptorBlockSize:D._nextUint16(),colorModel:D._nextUint8(),colorPrimaries:D._nextUint8(),transferFunction:D._nextUint8(),flags:D._nextUint8(),texelBlockDimension:[D._nextUint8(),D._nextUint8(),D._nextUint8(),D._nextUint8()],bytesPlane:[D._nextUint8(),D._nextUint8(),D._nextUint8(),D._nextUint8(),D._nextUint8(),D._nextUint8(),D._nextUint8(),D._nextUint8()],samples:[]},O=(V.descriptorBlockSize/4-6)/4;for(let dt=0;dt<O;dt++){const De={bitOffset:D._nextUint16(),bitLength:D._nextUint8(),channelType:D._nextUint8(),samplePosition:[D._nextUint8(),D._nextUint8(),D._nextUint8(),D._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&De.channelType?(De.sampleLower=D._nextInt32(),De.sampleUpper=D._nextInt32()):(De.sampleLower=D._nextUint32(),De.sampleUpper=D._nextUint32()),V.samples[dt]=De}r.dataFormatDescriptor.length=0,r.dataFormatDescriptor.push(V);const k=new Df(p,A,S,!0);for(;k._offset<S;){const dt=k._nextUint32(),De=k._scan(dt),Je=Lw(De),ct=k._scan(dt-De.byteLength);r.keyValue[Je]=Je.match(/^ktx/i)?Lw(ct):ct,k._offset%4&&k._skip(4-k._offset%4)}if(I<=0)return r;const U=new Df(p,R,I,!0),W=U._nextUint16(),Z=U._nextUint16(),ne=U._nextUint32(),j=U._nextUint32(),re=U._nextUint32(),Ae=U._nextUint32(),Y=[];for(let dt=0;dt<d;dt++)Y.push({imageFlags:U._nextUint32(),rgbSliceByteOffset:U._nextUint32(),rgbSliceByteLength:U._nextUint32(),alphaSliceByteOffset:U._nextUint32(),alphaSliceByteLength:U._nextUint32()});const pe=R+U._offset,we=pe+ne,Oe=we+j,tt=Oe+re,Re=new Uint8Array(p.buffer,p.byteOffset+pe,ne),ke=new Uint8Array(p.buffer,p.byteOffset+we,j),st=new Uint8Array(p.buffer,p.byteOffset+Oe,re),ht=new Uint8Array(p.buffer,p.byteOffset+tt,Ae);return r.globalData={endpointCount:W,selectorCount:Z,imageDescs:Y,endpointsData:Re,selectorsData:ke,tablesData:st,extendedData:ht},r}let lA,Da,cA;const uA={env:{emscripten_notify_memory_growth:function(p){cA=new Uint8Array(Da.exports.memory.buffer)}}};class LO{init(){return lA||(lA=typeof fetch<"u"?fetch("data:application/wasm;base64,"+Ow).then(t=>t.arrayBuffer()).then(t=>WebAssembly.instantiate(t,uA)).then(this._init):WebAssembly.instantiate(Buffer.from(Ow,"base64"),uA).then(this._init),lA)}_init(t){Da=t.instance,uA.env.emscripten_notify_memory_growth(0)}decode(t,r=0){if(!Da)throw new Error("ZSTDDecoder: Await .init() before decoding.");const o=t.byteLength,l=Da.exports.malloc(o);cA.set(t,l),r=r||Number(Da.exports.ZSTD_findDecompressedSize(l,o));const d=Da.exports.malloc(r),m=Da.exports.ZSTD_decompress(d,r,l,o),_=cA.slice(d,d+m);return Da.exports.free(l),Da.exports.free(d),_}}const Ow="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ",dA=new WeakMap;let fA=0,hA;class sa extends ta{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new xO,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerPool.setWorkerLimit(t),this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},t.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const t=new Ys(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const r=t.loadAsync("basis_transcoder.js"),o=new Ys(this.manager);o.setPath(this.transcoderPath),o.setResponseType("arraybuffer"),o.setWithCredentials(this.withCredentials);const l=o.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([r,l]).then(([d,m])=>{const _=sa.BasisWorker.toString(),A=["/* constants */","let _EngineFormat = "+JSON.stringify(sa.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(sa.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(sa.BasisFormat),"/* basis_transcoder.js */",d,"/* worker */",_.substring(_.indexOf("{")+1,_.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([A])),this.transcoderBinary=m,this.workerPool.setWorkerCreator(()=>{const S=new Worker(this.workerSourceURL),R=this.transcoderBinary.slice(0);return S.postMessage({type:"init",config:this.workerConfig,transcoderBinary:R},[R]),S})}),fA>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),fA++}return this.transcoderPending}load(t,r,o,l){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const d=new Ys(this.manager);d.setResponseType("arraybuffer"),d.setWithCredentials(this.withCredentials),d.load(t,m=>{if(dA.has(m))return dA.get(m).promise.then(r).catch(l);this._createTexture(m).then(_=>r?r(_):null).catch(l)},o,l)}_createTextureFrom(t){const{mipmaps:r,width:o,height:l,format:d,type:m,error:_,dfdTransferFn:A,dfdFlags:S}=t;if(m==="error")return Promise.reject(_);const R=new A8(r,o,l,d,Ir);return R.minFilter=r.length===1?ir:Xn,R.magFilter=ir,R.generateMipmaps=!1,R.needsUpdate=!0,R.encoding=A===PO?Or:_o,R.premultiplyAlpha=!!(S&NO),R}_createTexture(t,r={}){const o=kO(new Uint8Array(t));if(o.vkFormat!==BO)return FO(o);const l=r,d=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:l},[t])).then(m=>this._createTextureFrom(m.data));return dA.set(t,{promise:d}),d}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),fA--,this}}sa.BasisFormat={ETC1S:0,UASTC_4x4:1},sa.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},sa.EngineFormat={RGBAFormat:zi,RGBA_ASTC_4x4_Format:Cv,RGBA_BPTC_Format:Iv,RGBA_ETC2_EAC_Format:wv,RGBA_PVRTC_4BPPV1_Format:Sv,RGBA_S3TC_DXT5_Format:op,RGB_ETC1_Format:w1,RGB_ETC2_Format:Ev,RGB_PVRTC_4BPPV1_Format:bv,RGB_S3TC_DXT1_Format:sp},sa.BasisWorker=function(){let p,t,r;const o=_EngineFormat,l=_TranscoderFormat,d=_BasisFormat;self.addEventListener("message",function(D){const V=D.data;switch(V.type){case"init":p=V.config,m(V.transcoderBinary);break;case"transcode":t.then(()=>{try{const{width:O,height:k,hasAlpha:U,mipmaps:W,format:Z,dfdTransferFn:ne,dfdFlags:j}=_(V.buffer),re=[];for(let Ae=0;Ae<W.length;++Ae)re.push(W[Ae].data.buffer);self.postMessage({type:"transcode",id:V.id,width:O,height:k,hasAlpha:U,mipmaps:W,format:Z,dfdTransferFn:ne,dfdFlags:j},re)}catch(O){console.error(O),self.postMessage({type:"error",id:V.id,error:O.message})}});break}});function m(D){t=new Promise(V=>{r={wasmBinary:D,onRuntimeInitialized:V},BASIS(r)}).then(()=>{r.initializeBasis(),r.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function _(D){const V=new r.KTX2File(new Uint8Array(D));function O(){V.close(),V.delete()}if(!V.isValid())throw O(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const k=V.isUASTC()?d.UASTC_4x4:d.ETC1S,U=V.getWidth(),W=V.getHeight(),Z=V.getLevels(),ne=V.getHasAlpha(),j=V.getDFDTransferFunc(),re=V.getDFDFlags(),{transcoderFormat:Ae,engineFormat:Y}=I(k,U,W,ne);if(!U||!W||!Z)throw O(),new Error("THREE.KTX2Loader:	Invalid texture");if(!V.startTranscoding())throw O(),new Error("THREE.KTX2Loader: .startTranscoding failed");const pe=[];for(let we=0;we<Z;we++){const Oe=V.getImageLevelInfo(we,0,0),tt=Oe.origWidth,Re=Oe.origHeight,ke=new Uint8Array(V.getImageTranscodedSizeInBytes(we,0,0,Ae));if(!V.transcodeImage(ke,we,0,0,Ae,0,-1,-1))throw O(),new Error("THREE.KTX2Loader: .transcodeImage failed.");pe.push({data:ke,width:tt,height:Re})}return O(),{width:U,height:W,hasAlpha:ne,mipmaps:pe,format:Y,dfdTransferFn:j,dfdFlags:re}}const A=[{if:"astcSupported",basisFormat:[d.UASTC_4x4],transcoderFormat:[l.ASTC_4x4,l.ASTC_4x4],engineFormat:[o.RGBA_ASTC_4x4_Format,o.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[d.ETC1S,d.UASTC_4x4],transcoderFormat:[l.BC7_M5,l.BC7_M5],engineFormat:[o.RGBA_BPTC_Format,o.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[d.ETC1S,d.UASTC_4x4],transcoderFormat:[l.BC1,l.BC3],engineFormat:[o.RGB_S3TC_DXT1_Format,o.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[d.ETC1S,d.UASTC_4x4],transcoderFormat:[l.ETC1,l.ETC2],engineFormat:[o.RGB_ETC2_Format,o.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[d.ETC1S,d.UASTC_4x4],transcoderFormat:[l.ETC1],engineFormat:[o.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[d.ETC1S,d.UASTC_4x4],transcoderFormat:[l.PVRTC1_4_RGB,l.PVRTC1_4_RGBA],engineFormat:[o.RGB_PVRTC_4BPPV1_Format,o.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],S=A.sort(function(D,V){return D.priorityETC1S-V.priorityETC1S}),R=A.sort(function(D,V){return D.priorityUASTC-V.priorityUASTC});function I(D,V,O,k){let U,W;const Z=D===d.ETC1S?S:R;for(let ne=0;ne<Z.length;ne++){const j=Z[ne];if(!!p[j.if]&&!!j.basisFormat.includes(D)&&!(k&&j.transcoderFormat.length<2)&&!(j.needsPowerOfTwo&&!(N(V)&&N(O))))return U=j.transcoderFormat[k?1:0],W=j.engineFormat[k?1:0],{transcoderFormat:U,engineFormat:W}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),U=l.RGBA32,W=o.RGBAFormat,{transcoderFormat:U,engineFormat:W}}function N(D){return D<=2?!0:(D&D-1)===0&&D!==0}};const Fw={[kw]:zi,[Pw]:zi,[Rw]:zi,[aA]:zi,[Dw]:jd,[Nw]:jd,[xw]:jd,[oA]:jd,[Bw]:ul,[Tw]:ul,[sA]:ul,[Mw]:ul},pA={[kw]:Yr,[Pw]:Bi,[Rw]:Ir,[aA]:Ir,[Dw]:Yr,[Nw]:Bi,[xw]:Ir,[oA]:Ir,[Bw]:Yr,[Tw]:Bi,[sA]:Ir,[Mw]:Ir},OO={[aA]:Or,[oA]:Or,[sA]:Or};async function FO(p){const{vkFormat:t,pixelWidth:r,pixelHeight:o,pixelDepth:l}=p;if(Fw[t]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const d=p.levels[0];let m,_;if(p.supercompressionScheme===RO)m=d.levelData;else if(p.supercompressionScheme===TO)hA||(hA=new Promise(async S=>{const R=new LO;await R.init(),S(R)})),m=(await hA).decode(d.levelData,d.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");pA[t]===Yr?_=new Float32Array(m.buffer,m.byteOffset,m.byteLength/Float32Array.BYTES_PER_ELEMENT):pA[t]===Bi?_=new Uint16Array(m.buffer,m.byteOffset,m.byteLength/Uint16Array.BYTES_PER_ELEMENT):_=m;const A=l===0?new f_(_,r,o):new Fv(_,r,o,l);return A.type=pA[t],A.format=Fw[t],A.encoding=OO[t]||_o,A.needsUpdate=!0,Promise.resolve(A)}const mA=new WeakMap;class VO extends ta{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,r,o,l){const d=new Ys(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(t,m=>{this.decodeDracoFile(m,r).catch(l)},o,l)}decodeDracoFile(t,r,o,l){const d={attributeIDs:o||this.defaultAttributeIDs,attributeTypes:l||this.defaultAttributeTypes,useUniqueIDs:!!o};return this.decodeGeometry(t,d).then(r)}decodeGeometry(t,r){const o=JSON.stringify(r);if(mA.has(t)){const A=mA.get(t);if(A.key===o)return A.promise;if(t.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let l;const d=this.workerNextTaskID++,m=t.byteLength,_=this._getWorker(d,m).then(A=>(l=A,new Promise((S,R)=>{l._callbacks[d]={resolve:S,reject:R},l.postMessage({type:"decode",id:d,taskConfig:r,buffer:t},[t])}))).then(A=>this._createGeometry(A.geometry));return _.catch(()=>!0).then(()=>{l&&d&&this._releaseTask(l,d)}),mA.set(t,{key:o,promise:_}),_}_createGeometry(t){const r=new Oi;t.index&&r.setIndex(new ei(t.index.array,1));for(let o=0;o<t.attributes.length;o++){const l=t.attributes[o],d=l.name,m=l.array,_=l.itemSize;r.setAttribute(d,new ei(m,_))}return r}_loadLibrary(t,r){const o=new Ys(this.manager);return o.setPath(this.decoderPath),o.setResponseType(r),o.setWithCredentials(this.withCredentials),new Promise((l,d)=>{o.load(t,l,void 0,d)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t=typeof WebAssembly!="object"||this.decoderConfig.type==="js",r=[];return t?r.push(this._loadLibrary("draco_decoder.js","text")):(r.push(this._loadLibrary("draco_wasm_wrapper.js","text")),r.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(r).then(o=>{const l=o[0];t||(this.decoderConfig.wasmBinary=o[1]);const d=GO.toString(),m=["/* draco decoder */",l,"","/* worker */",d.substring(d.indexOf("{")+1,d.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([m]))}),this.decoderPending}_getWorker(t,r){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const l=new Worker(this.workerSourceURL);l._callbacks={},l._taskCosts={},l._taskLoad=0,l.postMessage({type:"init",decoderConfig:this.decoderConfig}),l.onmessage=function(d){const m=d.data;switch(m.type){case"decode":l._callbacks[m.id].resolve(m);break;case"error":l._callbacks[m.id].reject(m);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+m.type+'"')}},this.workerPool.push(l)}else this.workerPool.sort(function(l,d){return l._taskLoad>d._taskLoad?-1:1});const o=this.workerPool[this.workerPool.length-1];return o._taskCosts[t]=r,o._taskLoad+=r,o})}_releaseTask(t,r){t._taskLoad-=t._taskCosts[r],delete t._callbacks[r],delete t._taskCosts[r]}debug(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}}function GO(){let p,t;onmessage=function(m){const _=m.data;switch(_.type){case"init":p=_.decoderConfig,t=new Promise(function(R){p.onModuleLoaded=function(I){R({draco:I})},DracoDecoderModule(p)});break;case"decode":const A=_.buffer,S=_.taskConfig;t.then(R=>{const I=R.draco,N=new I.Decoder,D=new I.DecoderBuffer;D.Init(new Int8Array(A),A.byteLength);try{const V=r(I,N,D,S),O=V.attributes.map(k=>k.array.buffer);V.index&&O.push(V.index.array.buffer),self.postMessage({type:"decode",id:_.id,geometry:V},O)}catch(V){console.error(V),self.postMessage({type:"error",id:_.id,error:V.message})}finally{I.destroy(D),I.destroy(N)}});break}};function r(m,_,A,S){const R=S.attributeIDs,I=S.attributeTypes;let N,D;const V=_.GetEncodedGeometryType(A);if(V===m.TRIANGULAR_MESH)N=new m.Mesh,D=_.DecodeBufferToMesh(A,N);else if(V===m.POINT_CLOUD)N=new m.PointCloud,D=_.DecodeBufferToPointCloud(A,N);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!D.ok()||N.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+D.error_msg());const O={index:null,attributes:[]};for(const k in R){const U=self[I[k]];let W,Z;if(S.useUniqueIDs)Z=R[k],W=_.GetAttributeByUniqueId(N,Z);else{if(Z=_.GetAttributeId(N,m[R[k]]),Z===-1)continue;W=_.GetAttribute(N,Z)}O.attributes.push(l(m,_,N,k,U,W))}return V===m.TRIANGULAR_MESH&&(O.index=o(m,_,N)),m.destroy(N),O}function o(m,_,A){const R=A.num_faces()*3,I=R*4,N=m._malloc(I);_.GetTrianglesUInt32Array(A,I,N);const D=new Uint32Array(m.HEAPF32.buffer,N,R).slice();return m._free(N),{array:D,itemSize:1}}function l(m,_,A,S,R,I){const N=I.num_components(),V=A.num_points()*N,O=V*R.BYTES_PER_ELEMENT,k=d(m,R),U=m._malloc(O);_.GetAttributeDataArrayForAllPoints(A,I,k,O,U);const W=new R(m.HEAPF32.buffer,U,V).slice();return m._free(U),{name:S,array:W,itemSize:N}}function d(m,_){switch(_){case Float32Array:return m.DT_FLOAT32;case Int8Array:return m.DT_INT8;case Int16Array:return m.DT_INT16;case Int32Array:return m.DT_INT32;case Uint8Array:return m.DT_UINT8;case Uint16Array:return m.DT_UINT16;case Uint32Array:return m.DT_UINT32}}}var Vw="https://unpkg.com/three@0.".concat(E,".x"),gA=new rE,UO=new VO(gA).setDecoderPath("".concat(Vw,"/examples/js/libs/draco/gltf/")),HO=new sa(gA).setTranscoderPath("".concat(Vw,"/examples/js/libs/basis"));function vA(p){var t=new JL(gA).setCrossOrigin("anonymous").setDRACOLoader(UO).setKTX2Loader(HO.detectSupport(p));return t}class QO extends ta{constructor(t){super(t)}load(t,r,o,l){const d=this,m=new Ys(d.manager);m.setPath(d.path),m.setResponseType("arraybuffer"),m.setRequestHeader(d.requestHeader),m.setWithCredentials(d.withCredentials),m.load(t,function(_){try{r(d.parse(_))}catch(A){l?l(A):console.error(A),d.manager.itemError(t)}},o,l)}parse(t){function r(A){const S=[],R=[],I=[],N=[];let D;const V=/^[^\d.\s-]+/,O=/(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)/g,k=/^(\d+)\s+([\s\d]*)/,U=/^POINTS /,W=/^POLYGONS /,Z=/^TRIANGLE_STRIPS /,ne=/^POINT_DATA[ ]+(\d+)/,j=/^CELL_DATA[ ]+(\d+)/,re=/^COLOR_SCALARS[ ]+(\w+)[ ]+3/,Ae=/^NORMALS[ ]+(\w+)[ ]+(\w+)/;let Y=!1,pe=!1,we=!1,Oe=!1,tt=!1,Re=!1,ke=!1;const st=A.split(`
`);for(const dt in st){const De=st[dt].trim();if(De.indexOf("DATASET")===0){const Je=De.split(" ")[1];if(Je!=="POLYDATA")throw new Error("Unsupported DATASET type: "+Je)}else if(Y)for(;(D=O.exec(De))!==null&&V.exec(De)===null;){const Je=parseFloat(D[1]),ct=parseFloat(D[2]),Gt=parseFloat(D[3]);R.push(Je,ct,Gt)}else if(pe){if((D=k.exec(De))!==null){const Je=parseInt(D[1]),ct=D[2].split(/\s+/);if(Je>=3){const Gt=parseInt(ct[0]);let Ft=1;for(let Kt=0;Kt<Je-2;++Kt){const c=parseInt(ct[Ft]),Ln=parseInt(ct[Ft+1]);S.push(Gt,c,Ln),Ft++}}}}else if(we){if((D=k.exec(De))!==null){const Je=parseInt(D[1]),ct=D[2].split(/\s+/);if(Je>=3)for(let Gt=0;Gt<Je-2;Gt++)if(Gt%2===1){const Ft=parseInt(ct[Gt]),Kt=parseInt(ct[Gt+2]),c=parseInt(ct[Gt+1]);S.push(Ft,Kt,c)}else{const Ft=parseInt(ct[Gt]),Kt=parseInt(ct[Gt+1]),c=parseInt(ct[Gt+2]);S.push(Ft,Kt,c)}}}else if(Oe||tt){if(Re)for(;(D=O.exec(De))!==null&&V.exec(De)===null;){const Je=parseFloat(D[1]),ct=parseFloat(D[2]),Gt=parseFloat(D[3]);I.push(Je,ct,Gt)}else if(ke)for(;(D=O.exec(De))!==null&&V.exec(De)===null;){const Je=parseFloat(D[1]),ct=parseFloat(D[2]),Gt=parseFloat(D[3]);N.push(Je,ct,Gt)}}W.exec(De)!==null?(pe=!0,Y=!1,we=!1):U.exec(De)!==null?(pe=!1,Y=!0,we=!1):Z.exec(De)!==null?(pe=!1,Y=!1,we=!0):ne.exec(De)!==null?(Oe=!0,Y=!1,pe=!1,we=!1):j.exec(De)!==null?(tt=!0,Y=!1,pe=!1,we=!1):re.exec(De)!==null?(Re=!0,ke=!1,Y=!1,pe=!1,we=!1):Ae.exec(De)!==null&&(ke=!0,Re=!1,Y=!1,pe=!1,we=!1)}let ht=new Oi;if(ht.setIndex(S),ht.setAttribute("position",new ki(R,3)),N.length===R.length&&ht.setAttribute("normal",new ki(N,3)),I.length!==S.length)I.length===R.length&&ht.setAttribute("color",new ki(I,3));else{ht=ht.toNonIndexed();const dt=ht.attributes.position.count/3;if(I.length===dt*3){const De=[];for(let Je=0;Je<dt;Je++){const ct=I[3*Je+0],Gt=I[3*Je+1],Ft=I[3*Je+2];De.push(ct,Gt,Ft),De.push(ct,Gt,Ft),De.push(ct,Gt,Ft)}ht.setAttribute("color",new ki(De,3))}}return ht}function o(A){const S=new Uint8Array(A),R=new DataView(A);let I=[],N=[],D=[],V=0;function O(Z,ne){let j=ne,re=Z[j];const Ae=[];for(;re!==10;)Ae.push(String.fromCharCode(re)),j++,re=Z[j];return{start:ne,end:j,next:j+1,parsedString:Ae.join("")}}let k,U;for(;;){if(k=O(S,V),U=k.parsedString,U.indexOf("DATASET")===0){const Z=U.split(" ")[1];if(Z!=="POLYDATA")throw new Error("Unsupported DATASET type: "+Z)}else if(U.indexOf("POINTS")===0){const Z=parseInt(U.split(" ")[1],10),ne=Z*4*3;I=new Float32Array(Z*3);let j=k.next;for(let re=0;re<Z;re++)I[3*re]=R.getFloat32(j,!1),I[3*re+1]=R.getFloat32(j+4,!1),I[3*re+2]=R.getFloat32(j+8,!1),j=j+12;k.next=k.next+ne+1}else if(U.indexOf("TRIANGLE_STRIPS")===0){const Z=parseInt(U.split(" ")[1],10),ne=parseInt(U.split(" ")[2],10),j=ne*4;D=new Uint32Array(3*ne-9*Z);let re=0,Ae=k.next;for(let Y=0;Y<Z;Y++){const pe=R.getInt32(Ae,!1),we=[];Ae+=4;for(let Oe=0;Oe<pe;Oe++)we.push(R.getInt32(Ae,!1)),Ae+=4;for(let Oe=0;Oe<pe-2;Oe++)Oe%2?(D[re++]=we[Oe],D[re++]=we[Oe+2],D[re++]=we[Oe+1]):(D[re++]=we[Oe],D[re++]=we[Oe+1],D[re++]=we[Oe+2])}k.next=k.next+j+1}else if(U.indexOf("POLYGONS")===0){const Z=parseInt(U.split(" ")[1],10),ne=parseInt(U.split(" ")[2],10),j=ne*4;D=new Uint32Array(3*ne-9*Z);let re=0,Ae=k.next;for(let Y=0;Y<Z;Y++){const pe=R.getInt32(Ae,!1),we=[];Ae+=4;for(let Oe=0;Oe<pe;Oe++)we.push(R.getInt32(Ae,!1)),Ae+=4;for(let Oe=1;Oe<pe-1;Oe++)D[re++]=we[0],D[re++]=we[Oe],D[re++]=we[Oe+1]}k.next=k.next+j+1}else if(U.indexOf("POINT_DATA")===0){const Z=parseInt(U.split(" ")[1],10);k=O(S,k.next);const ne=Z*4*3;N=new Float32Array(Z*3);let j=k.next;for(let re=0;re<Z;re++)N[3*re]=R.getFloat32(j,!1),N[3*re+1]=R.getFloat32(j+4,!1),N[3*re+2]=R.getFloat32(j+8,!1),j+=12;k.next=k.next+ne}if(V=k.next,V>=S.byteLength)break}const W=new Oi;return W.setIndex(new ei(D,1)),W.setAttribute("position",new ei(I,3)),N.length===I.length&&W.setAttribute("normal",new ei(N,3)),W}function l(A,S){const R=A.length,I=new Float32Array(R+S.length);return I.set(A),I.set(S,R),I}function d(A,S){const R=A.length,I=new Int32Array(R+S.length);return I.set(A),I.set(S,R),I}function m(A){function S(W){let Z={};if(W.nodeType===1){if(W.attributes&&W.attributes.length>0){Z.attributes={};for(let ne=0;ne<W.attributes.length;ne++){const j=W.attributes.item(ne);Z.attributes[j.nodeName]=j.nodeValue.trim()}}}else W.nodeType===3&&(Z=W.nodeValue.trim());if(W.hasChildNodes())for(let ne=0;ne<W.childNodes.length;ne++){const j=W.childNodes.item(ne),re=j.nodeName;if(typeof Z[re]>"u"){const Ae=S(j);Ae!==""&&(Z[re]=Ae)}else{if(typeof Z[re].push>"u"){const Y=Z[re];Z[re]=[Y]}const Ae=S(j);Ae!==""&&Z[re].push(Ae)}}return Z}function R(W){const Z=typeof Uint8Array<"u"?Uint8Array:Array,ne=[],j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(let Re=0,ke=j.length;Re<ke;++Re)ne[j.charCodeAt(Re)]=Re;ne["-".charCodeAt(0)]=62,ne["_".charCodeAt(0)]=63;const re=W.length;if(re%4>0)throw new Error("Invalid string. Length must be a multiple of 4");const Ae=W[re-2]==="="?2:W[re-1]==="="?1:0,Y=new Z(re*3/4-Ae),pe=Ae>0?re-4:re;let we=0,Oe,tt;for(Oe=0,tt=0;Oe<pe;Oe+=4,tt+=3){const Re=ne[W.charCodeAt(Oe)]<<18|ne[W.charCodeAt(Oe+1)]<<12|ne[W.charCodeAt(Oe+2)]<<6|ne[W.charCodeAt(Oe+3)];Y[we++]=(Re&16711680)>>16,Y[we++]=(Re&65280)>>8,Y[we++]=Re&255}if(Ae===2){const Re=ne[W.charCodeAt(Oe)]<<2|ne[W.charCodeAt(Oe+1)]>>4;Y[we++]=Re&255}else if(Ae===1){const Re=ne[W.charCodeAt(Oe)]<<10|ne[W.charCodeAt(Oe+1)]<<4|ne[W.charCodeAt(Oe+2)]>>2;Y[we++]=Re>>8&255,Y[we++]=Re&255}return Y}function I(W,Z){let ne=0;V.attributes.header_type==="UInt64"?ne=8:V.attributes.header_type==="UInt32"&&(ne=4);let j,re;if(W.attributes.format==="binary"&&Z){W.attributes.type==="Float32"?j=new Float32Array:(W.attributes.type==="Int32"||W.attributes.type==="Int64")&&(j=new Int32Array);const Ae=W["#text"],Y=Array.isArray(Ae)?Ae[0]:Ae,pe=R(Y),we=8;let Oe=pe[0];for(let dt=1;dt<ne-1;dt++)Oe=Oe|pe[dt]<<dt*we;let tt=(Oe+3)*ne;const Re=tt%3>0?3-tt%3:0;tt=tt+Re;const ke=[];let st=tt;ke.push(st);const ht=3*ne;for(let dt=0;dt<Oe;dt++){let De=pe[dt*ne+ht];for(let Je=1;Je<ne-1;Je++)De=De|pe[dt*ne+ht+Je]<<Je*we;st=st+De,ke.push(st)}for(let dt=0;dt<ke.length-1;dt++)re=z4(pe.slice(ke[dt],ke[dt+1])).buffer,W.attributes.type==="Float32"?(re=new Float32Array(re),j=l(j,re)):(W.attributes.type==="Int32"||W.attributes.type==="Int64")&&(re=new Int32Array(re),j=d(j,re));delete W["#text"],W.attributes.type==="Int64"&&W.attributes.format==="binary"&&(j=j.filter(function(dt,De){if(De%2!==1)return!0}))}else W.attributes.format==="binary"&&!Z?(re=R(W["#text"]),re=re.slice(ne).buffer):W["#text"]?re=W["#text"].split(/\s+/).filter(function(Ae){if(Ae!=="")return Ae}):re=new Int32Array(0).buffer,delete W["#text"],W.attributes.type==="Float32"?j=new Float32Array(re):W.attributes.type==="Int32"?j=new Int32Array(re):W.attributes.type==="Int64"&&(j=new Int32Array(re),W.attributes.format==="binary"&&(j=j.filter(function(Ae,Y){if(Y%2!==1)return!0})));return j}const D=new DOMParser().parseFromString(A,"application/xml").documentElement,V=S(D);let O=[],k=[],U=[];if(V.PolyData){const W=V.PolyData.Piece,Z=V.attributes.hasOwnProperty("compressor"),ne=["PointData","Points","Strips","Polys"];let j=0;const re=ne.length;for(;j<re;){const Y=W[ne[j]];if(Y&&Y.DataArray){let pe;Array.isArray(Y.DataArray)?pe=Y.DataArray:pe=[Y.DataArray];let we=0;const Oe=pe.length;for(;we<Oe;)"#text"in pe[we]&&pe[we]["#text"].length>0&&(pe[we].text=I(pe[we],Z)),we++;switch(ne[j]){case"PointData":{const tt=parseInt(W.attributes.NumberOfPoints),Re=Y.attributes.Normals;if(tt>0){for(let ke=0,st=pe.length;ke<st;ke++)if(Re===pe[ke].attributes.Name){const ht=pe[ke].attributes.NumberOfComponents;k=new Float32Array(tt*ht),k.set(pe[ke].text,0)}}}break;case"Points":{const tt=parseInt(W.attributes.NumberOfPoints);if(tt>0){const Re=Y.DataArray.attributes.NumberOfComponents;O=new Float32Array(tt*Re),O.set(Y.DataArray.text,0)}}break;case"Strips":{const tt=parseInt(W.attributes.NumberOfStrips);if(tt>0){const Re=new Int32Array(Y.DataArray[0].text.length),ke=new Int32Array(Y.DataArray[1].text.length);Re.set(Y.DataArray[0].text,0),ke.set(Y.DataArray[1].text,0);const st=tt+Re.length;U=new Uint32Array(3*st-9*tt);let ht=0;for(let dt=0,De=tt;dt<De;dt++){const Je=[];for(let ct=0,Gt=ke[dt],Ft=0;ct<Gt-Ft;ct++)Je.push(Re[ct]),dt>0&&(Ft=ke[dt-1]);for(let ct=0,Gt=ke[dt],Ft=0;ct<Gt-Ft-2;ct++)ct%2?(U[ht++]=Je[ct],U[ht++]=Je[ct+2],U[ht++]=Je[ct+1]):(U[ht++]=Je[ct],U[ht++]=Je[ct+1],U[ht++]=Je[ct+2]),dt>0&&(Ft=ke[dt-1])}}}break;case"Polys":{const tt=parseInt(W.attributes.NumberOfPolys);if(tt>0){const Re=new Int32Array(Y.DataArray[0].text.length),ke=new Int32Array(Y.DataArray[1].text.length);Re.set(Y.DataArray[0].text,0),ke.set(Y.DataArray[1].text,0);const st=tt+Re.length;U=new Uint32Array(3*st-9*tt);let ht=0,dt=0,De=0,Je=0;const ct=tt;for(;De<ct;){const Gt=[];let Ft=0;const Kt=ke[De];for(;Ft<Kt-Je;)Gt.push(Re[dt++]),Ft++;let c=1;for(;c<Kt-Je-1;)U[ht++]=Gt[0],U[ht++]=Gt[c],U[ht++]=Gt[c+1],c++;De++,Je=ke[De-1]}}}break}}j++}const Ae=new Oi;return Ae.setIndex(new ei(U,1)),Ae.setAttribute("position",new ei(O,3)),k.length===O.length&&Ae.setAttribute("normal",new ei(k,3)),Ae}else throw new Error("Unsupported DATASET type")}const _=na.decodeText(new Uint8Array(t,0,250)).split(`
`);return _[0].indexOf("xml")!==-1?m(na.decodeText(t)):_[2].includes("ASCII")?r(na.decodeText(t)):o(t)}}var Gw=new QO,Uw=new uf({wireframe:!1,side:H,color:16773120});function XO(p,t,r){Gw.load(p,function(o){o.center(),o.computeVertexNormals();var l=new Fi(o,Uw);l.scale.multiplyScalar(.1),r.add(l),t.add(r)})}function zO(){return{vtkLoader:Gw,vtkmaterial:Uw}}var Hw=function(p){h(t,p);function t(r,o){var l=p.call(this,r,o)||this;return l.clock=new F8,l.mixer=null,l.playRate=1,l.modelReady=!1,l.texture2dMesh=null,l.controls=new gw(l.camera,l.renderer.domElement),window.addEventListener("resize",l.onWindowResize,!1),l}return t.prototype.loadGltf=function(r,o){var l=this,d=vA(this.renderer);d.load(r,function(m){var _=new Yo().setFromObject(m.scene),A=_.getSize(new Ze).length(),S=_.getCenter(new Ze);l.controls.maxDistance=A*10,m.scene.position.x+=m.scene.position.x-S.x,m.scene.position.y+=m.scene.position.y-S.y,m.scene.position.z+=m.scene.position.z-S.z,l.cameraPositionFlag||(l.camera.position.copy(S),l.camera.position.x+=A/2,l.camera.position.y+=A/5,l.camera.position.z+=A/2,l.camera.lookAt(S),l.viewPoint=l.setViewPoint(l.camera,[S.x,S.y,S.z])),l.mixer=new dE(m.scene),m.animations.forEach(function(R,I){var N,D;I===0?l.clipAction=(N=l.mixer)===null||N===void 0?void 0:N.clipAction(R).play():(D=l.mixer)===null||D===void 0||D.clipAction(R).play()}),l.content=m.scene,l.exportContent.copy(m.scene),l.exportContent.animations=m.animations,l.scene.add(m.scene),l.modelReady=!0,o&&o(m.scene)},function(m){})},t.prototype.loadVtk=function(r){XO(r,this.scene,this.content)},t.prototype.loadVtks=function(r){var o=this,l=0,d=zO(),m=d.vtkLoader,_=d.vtkmaterial,A=new Ps,S=setInterval(function(){l===r.length&&(o.scene.add(o.exportContent),o.mixer=new dE(A),o.exportContent.animations.forEach(function(I){var N,D=(N=o.mixer)===null||N===void 0?void 0:N.clipAction(I);D.timeScale=3,D.play()}),o.modelReady=!0,clearInterval(S))},100);r.forEach(function(I){var N=[];I.urls.forEach(function(D,V){m.load(D,function(O){O.center(),O.computeVertexNormals(),O.name=V.toString(),N.push(O),N.length===I.urls.length&&(N.sort(function(k,U){return o.sort?parseInt(k.name)-parseInt(U.name):parseInt(U.name)-parseInt(k.name)}),R(N,I),l+=1)})})});var R=function(I,N){var D=I[0];I.forEach(function(j,re){re===0?(D=j,D.morphAttributes.position=[]):D.morphAttributes.position.push(j.attributes.position)});var V=new Fi(D,_);V.scale.multiplyScalar(.1),A.add(V),o.exportContent.add(A),V.morphTargetInfluences=[],V.name=N.name;for(var O=0,k=[],U=I.length-1,W=0;W<U;W++){var Z=new Co("".concat(V.name,".morphTargetInfluences[").concat(W,"]"),[O,O+1,O+2],[0,1,0]);k.push(Z),O=O+2}var ne=new Kp("copper3d_heart_morph_".concat(V.name),U,k);o.exportContent.animations.push(ne)}},t.prototype.texture2d=function(r){var o=this;N4(r,this.scene);var l=setInterval(function(){var d;o.scene.children.forEach(function(m){if(m.isMesh&&m.name==="texture2d_mesh_zip"){o.texture2dMesh=m;var _=function(){if(o.texture2dMesh){var A=o.texture2dMesh.material.uniforms.depth.value;A+=o.depthStep,(A>109||A<0)&&(A>1&&(A=109*2-A),A<0&&(A=-A),o.depthStep=-o.depthStep),o.texture2dMesh.material.uniforms.depth.value=A}};o.addPreRenderCallbackFunction(_)}}),((d=o.texture2dMesh)===null||d===void 0?void 0:d.name)==="texture2d_mesh_zip"&&clearInterval(l)},500)},t.prototype.getPlayRate=function(){return this.playRate},t.prototype.setPlayRate=function(r){this.playRate=r},t.prototype.setModelPosition=function(r,o){o.x&&(r.position.x=o.x),o.y&&(r.position.y=o.y),o.z&&(r.position.z=o.z)},t.prototype.resetView=function(){this.controls.reset(),this.updateCamera(this.viewPoint)},t.prototype.updateCamera=function(r){this.cameraPositionFlag=!0,this.copperControl.updateCameraViewPoint(r)},t.prototype.getCurrentTime=function(){var r=0;return this.clipAction&&(r=this.clipAction.time/this.clipAction._clip.duration),r},t.prototype.getCurrentMixer=function(){return this.mixer},t.prototype.render=function(){this.controls.update(),this.modelReady&&this.mixer&&this.mixer.update(this.clock.getDelta()*this.playRate),Object.values(this.preRenderCallbackFunctions.cache).forEach(function(r){r&&r.call(null)}),this.subDiv&&this.subCamera&&this.subRender&&(this.subCamera.aspect=this.subDiv.clientWidth/this.subDiv.clientHeight,this.subCamera.updateProjectionMatrix(),this.subRender.setSize(this.subDiv.clientWidth,this.subDiv.clientHeight),this.subCamera.position.copy(this.camera.position),this.subCamera.lookAt(this.subScene.position),this.subRender.render(this.subScene,this.subCamera)),this.renderer.render(this.scene,this.camera)},t}(K_),$O=function(p){h(t,p);function t(r,o){var l=p.call(this,r,o)||this;return l.sceneMap={},l.animate=function(){l.render(),l.stats.update(),requestAnimationFrame(l.animate)},l}return t.prototype.getSceneByName=function(r){return this.sceneMap[r]},t.prototype.setCurrentScene=function(r){var o;r&&(this.currentScene=r,!((o=this.options)===null||o===void 0)&&o.guiOpen&&this.updateGui(),this.onWindowResize())},t.prototype.createScene=function(r){if(this.sceneMap[r]==null){var o=new Hw(this.container,this.renderer);return o.sceneName=r,this.updateEnvironment(o.vignette),this.sceneMap[r]=o,o}},t.prototype.onWindowResize=function(){},t.prototype.render=function(){this.currentScene.render()},t}(mw);function WO(p,t,r,o,l,d){var m=document.createElement("canvas");m.width=512,m.height=512;var _=m.getContext("2d");_.textBaseline="alphabetic";var A=_.measureText(p);A.width,_.fillStyle="rgb(255,255,255)",_.textAlign="center",d?_.font=d.font_size+" "+d.font:_.font="30px Helvetica",_.fillText(p,256,256),_.strokeStyle="rgb(255,255,255)",_.strokeText(p,256,256);var S=new Di(m);S.needsUpdate=!0;var R=new DS({map:S,color:"#ffffff"}),I=new h8(R);return I.scale.set(l,l,1),I.position.set(t,r,o),I}function KO(p,t,r,o,l,d,m){var _=WO(t,r,o,l,d,m);p.addObject(_)}function jO(p,t,r){var o=new Ze,l,d=new Ze;o.set(r.x/p.clientWidth*2-1,-(r.y/p.clientHeight)*2+1,.5),o.unproject(t),o.sub(t.position).normalize();var m=(.2-t.position.z)/o.z;return d.copy(t.position).add(o.multiplyScalar(m)),l={x:d.x,y:d.y,z:d.z},l}function qO(p,t,r){var o=new Ze;r.getWorldPosition(o);var l=o.project(t),d=p.clientWidth/2,m=p.clientHeight/2,_=Math.round(d*l.x+d),A=Math.round(m*l.y+m),S={x:_,y:A};return S}const Qw={type:"change"},_A={type:"start"},Xw={type:"end"};class nm extends Ea{constructor(t,r){super(),this.object=t,this.domElement=r,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Ze,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:w.ROTATE,MIDDLE:w.DOLLY,RIGHT:w.PAN},this.touches={ONE:C.ROTATE,TWO:C.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return _.phi},this.getAzimuthalAngle=function(){return _.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Ie){Ie.addEventListener("keydown",ae),this._domElementKeyEvents=Ie},this.saveState=function(){o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},this.reset=function(){o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(Qw),o.update(),d=l.NONE},this.update=function(){const Ie=new Ze,Jt=new Rs().setFromUnitVectors(t.up,new Ze(0,1,0)),ln=Jt.clone().invert(),Tn=new Ze,En=new Rs,Un=2*Math.PI;return function(){const Gr=o.object.position;Ie.copy(Gr).sub(o.target),Ie.applyQuaternion(Jt),_.setFromVector3(Ie),o.autoRotate&&d===l.NONE&&pe(Ae()),o.enableDamping?(_.theta+=A.theta*o.dampingFactor,_.phi+=A.phi*o.dampingFactor):(_.theta+=A.theta,_.phi+=A.phi);let gt=o.minAzimuthAngle,xn=o.maxAzimuthAngle;return isFinite(gt)&&isFinite(xn)&&(gt<-Math.PI?gt+=Un:gt>Math.PI&&(gt-=Un),xn<-Math.PI?xn+=Un:xn>Math.PI&&(xn-=Un),gt<=xn?_.theta=Math.max(gt,Math.min(xn,_.theta)):_.theta=_.theta>(gt+xn)/2?Math.max(gt,_.theta):Math.min(xn,_.theta)),_.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,_.phi)),_.makeSafe(),_.radius*=S,_.radius=Math.max(o.minDistance,Math.min(o.maxDistance,_.radius)),o.enableDamping===!0?o.target.addScaledVector(R,o.dampingFactor):o.target.add(R),Ie.setFromSpherical(_),Ie.applyQuaternion(ln),Gr.copy(o.target).add(Ie),o.object.lookAt(o.target),o.enableDamping===!0?(A.theta*=1-o.dampingFactor,A.phi*=1-o.dampingFactor,R.multiplyScalar(1-o.dampingFactor)):(A.set(0,0,0),R.set(0,0,0)),S=1,I||Tn.distanceToSquared(o.object.position)>m||8*(1-En.dot(o.object.quaternion))>m?(o.dispatchEvent(Qw),Tn.copy(o.object.position),En.copy(o.object.quaternion),I=!1,!0):!1}}(),this.dispose=function(){o.domElement.removeEventListener("contextmenu",le),o.domElement.removeEventListener("pointerdown",Rr),o.domElement.removeEventListener("pointercancel",Ge),o.domElement.removeEventListener("wheel",Tt),o.domElement.removeEventListener("pointermove",on),o.domElement.removeEventListener("pointerup",mn),o._domElementKeyEvents!==null&&o._domElementKeyEvents.removeEventListener("keydown",ae)};const o=this,l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let d=l.NONE;const m=1e-6,_=new hE,A=new hE;let S=1;const R=new Ze;let I=!1;const N=new Fn,D=new Fn,V=new Fn,O=new Fn,k=new Fn,U=new Fn,W=new Fn,Z=new Fn,ne=new Fn,j=[],re={};function Ae(){return 2*Math.PI/60/60*o.autoRotateSpeed}function Y(){return Math.pow(.95,o.zoomSpeed)}function pe(Ie){A.theta-=Ie}function we(Ie){A.phi-=Ie}const Oe=function(){const Ie=new Ze;return function(ln,Tn){Ie.setFromMatrixColumn(Tn,0),Ie.multiplyScalar(-ln),R.add(Ie)}}(),tt=function(){const Ie=new Ze;return function(ln,Tn){o.screenSpacePanning===!0?Ie.setFromMatrixColumn(Tn,1):(Ie.setFromMatrixColumn(Tn,0),Ie.crossVectors(o.object.up,Ie)),Ie.multiplyScalar(ln),R.add(Ie)}}(),Re=function(){const Ie=new Ze;return function(ln,Tn){const En=o.domElement;if(o.object.isPerspectiveCamera){const Un=o.object.position;Ie.copy(Un).sub(o.target);let vr=Ie.length();vr*=Math.tan(o.object.fov/2*Math.PI/180),Oe(2*ln*vr/En.clientHeight,o.object.matrix),tt(2*Tn*vr/En.clientHeight,o.object.matrix)}else o.object.isOrthographicCamera?(Oe(ln*(o.object.right-o.object.left)/o.object.zoom/En.clientWidth,o.object.matrix),tt(Tn*(o.object.top-o.object.bottom)/o.object.zoom/En.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}}();function ke(Ie){o.object.isPerspectiveCamera?S/=Ie:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom*Ie)),o.object.updateProjectionMatrix(),I=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function st(Ie){o.object.isPerspectiveCamera?S*=Ie:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/Ie)),o.object.updateProjectionMatrix(),I=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function ht(Ie){N.set(Ie.clientX,Ie.clientY)}function dt(Ie){W.set(Ie.clientX,Ie.clientY)}function De(Ie){O.set(Ie.clientX,Ie.clientY)}function Je(Ie){D.set(Ie.clientX,Ie.clientY),V.subVectors(D,N).multiplyScalar(o.rotateSpeed);const Jt=o.domElement;pe(2*Math.PI*V.x/Jt.clientHeight),we(2*Math.PI*V.y/Jt.clientHeight),N.copy(D),o.update()}function ct(Ie){Z.set(Ie.clientX,Ie.clientY),ne.subVectors(Z,W),ne.y>0?ke(Y()):ne.y<0&&st(Y()),W.copy(Z),o.update()}function Gt(Ie){k.set(Ie.clientX,Ie.clientY),U.subVectors(k,O).multiplyScalar(o.panSpeed),Re(U.x,U.y),O.copy(k),o.update()}function Ft(Ie){Ie.deltaY<0?st(Y()):Ie.deltaY>0&&ke(Y()),o.update()}function Kt(Ie){let Jt=!1;switch(Ie.code){case o.keys.UP:Re(0,o.keyPanSpeed),Jt=!0;break;case o.keys.BOTTOM:Re(0,-o.keyPanSpeed),Jt=!0;break;case o.keys.LEFT:Re(o.keyPanSpeed,0),Jt=!0;break;case o.keys.RIGHT:Re(-o.keyPanSpeed,0),Jt=!0;break}Jt&&(Ie.preventDefault(),o.update())}function c(){if(j.length===1)N.set(j[0].pageX,j[0].pageY);else{const Ie=.5*(j[0].pageX+j[1].pageX),Jt=.5*(j[0].pageY+j[1].pageY);N.set(Ie,Jt)}}function Ln(){if(j.length===1)O.set(j[0].pageX,j[0].pageY);else{const Ie=.5*(j[0].pageX+j[1].pageX),Jt=.5*(j[0].pageY+j[1].pageY);O.set(Ie,Jt)}}function ut(){const Ie=j[0].pageX-j[1].pageX,Jt=j[0].pageY-j[1].pageY,ln=Math.sqrt(Ie*Ie+Jt*Jt);W.set(0,ln)}function Xe(){o.enableZoom&&ut(),o.enablePan&&Ln()}function Bt(){o.enableZoom&&ut(),o.enableRotate&&c()}function qt(Ie){if(j.length==1)D.set(Ie.pageX,Ie.pageY);else{const ln=sn(Ie),Tn=.5*(Ie.pageX+ln.x),En=.5*(Ie.pageY+ln.y);D.set(Tn,En)}V.subVectors(D,N).multiplyScalar(o.rotateSpeed);const Jt=o.domElement;pe(2*Math.PI*V.x/Jt.clientHeight),we(2*Math.PI*V.y/Jt.clientHeight),N.copy(D)}function $t(Ie){if(j.length===1)k.set(Ie.pageX,Ie.pageY);else{const Jt=sn(Ie),ln=.5*(Ie.pageX+Jt.x),Tn=.5*(Ie.pageY+Jt.y);k.set(ln,Tn)}U.subVectors(k,O).multiplyScalar(o.panSpeed),Re(U.x,U.y),O.copy(k)}function Cn(Ie){const Jt=sn(Ie),ln=Ie.pageX-Jt.x,Tn=Ie.pageY-Jt.y,En=Math.sqrt(ln*ln+Tn*Tn);Z.set(0,En),ne.set(0,Math.pow(Z.y/W.y,o.zoomSpeed)),ke(ne.y),W.copy(Z)}function Dn(Ie){o.enableZoom&&Cn(Ie),o.enablePan&&$t(Ie)}function Hn(Ie){o.enableZoom&&Cn(Ie),o.enableRotate&&qt(Ie)}function Rr(Ie){o.enabled!==!1&&(j.length===0&&(o.domElement.setPointerCapture(Ie.pointerId),o.domElement.addEventListener("pointermove",on),o.domElement.addEventListener("pointerup",mn)),Ne(Ie),Ie.pointerType==="touch"?z(Ie):zn(Ie))}function on(Ie){o.enabled!==!1&&(Ie.pointerType==="touch"?K(Ie):wn(Ie))}function mn(Ie){Ye(Ie),j.length===0&&(o.domElement.releasePointerCapture(Ie.pointerId),o.domElement.removeEventListener("pointermove",on),o.domElement.removeEventListener("pointerup",mn)),o.dispatchEvent(Xw),d=l.NONE}function Ge(Ie){Ye(Ie)}function zn(Ie){let Jt;switch(Ie.button){case 0:Jt=o.mouseButtons.LEFT;break;case 1:Jt=o.mouseButtons.MIDDLE;break;case 2:Jt=o.mouseButtons.RIGHT;break;default:Jt=-1}switch(Jt){case w.DOLLY:if(o.enableZoom===!1)return;dt(Ie),d=l.DOLLY;break;case w.ROTATE:if(Ie.ctrlKey||Ie.metaKey||Ie.shiftKey){if(o.enablePan===!1)return;De(Ie),d=l.PAN}else{if(o.enableRotate===!1)return;ht(Ie),d=l.ROTATE}break;case w.PAN:if(Ie.ctrlKey||Ie.metaKey||Ie.shiftKey){if(o.enableRotate===!1)return;ht(Ie),d=l.ROTATE}else{if(o.enablePan===!1)return;De(Ie),d=l.PAN}break;default:d=l.NONE}d!==l.NONE&&o.dispatchEvent(_A)}function wn(Ie){switch(d){case l.ROTATE:if(o.enableRotate===!1)return;Je(Ie);break;case l.DOLLY:if(o.enableZoom===!1)return;ct(Ie);break;case l.PAN:if(o.enablePan===!1)return;Gt(Ie);break}}function Tt(Ie){o.enabled===!1||o.enableZoom===!1||d!==l.NONE||(Ie.preventDefault(),o.dispatchEvent(_A),Ft(Ie),o.dispatchEvent(Xw))}function ae(Ie){o.enabled===!1||o.enablePan===!1||Kt(Ie)}function z(Ie){switch(Mt(Ie),j.length){case 1:switch(o.touches.ONE){case C.ROTATE:if(o.enableRotate===!1)return;c(),d=l.TOUCH_ROTATE;break;case C.PAN:if(o.enablePan===!1)return;Ln(),d=l.TOUCH_PAN;break;default:d=l.NONE}break;case 2:switch(o.touches.TWO){case C.DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;Xe(),d=l.TOUCH_DOLLY_PAN;break;case C.DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;Bt(),d=l.TOUCH_DOLLY_ROTATE;break;default:d=l.NONE}break;default:d=l.NONE}d!==l.NONE&&o.dispatchEvent(_A)}function K(Ie){switch(Mt(Ie),d){case l.TOUCH_ROTATE:if(o.enableRotate===!1)return;qt(Ie),o.update();break;case l.TOUCH_PAN:if(o.enablePan===!1)return;$t(Ie),o.update();break;case l.TOUCH_DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;Dn(Ie),o.update();break;case l.TOUCH_DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;Hn(Ie),o.update();break;default:d=l.NONE}}function le(Ie){o.enabled!==!1&&Ie.preventDefault()}function Ne(Ie){j.push(Ie)}function Ye(Ie){delete re[Ie.pointerId];for(let Jt=0;Jt<j.length;Jt++)if(j[Jt].pointerId==Ie.pointerId){j.splice(Jt,1);return}}function Mt(Ie){let Jt=re[Ie.pointerId];Jt===void 0&&(Jt=new Fn,re[Ie.pointerId]=Jt),Jt.set(Ie.pageX,Ie.pageY)}function sn(Ie){const Jt=Ie.pointerId===j[0].pointerId?j[1]:j[0];return re[Jt.pointerId]}o.domElement.addEventListener("contextmenu",le),o.domElement.addEventListener("pointerdown",Rr),o.domElement.addEventListener("pointercancel",Ge),o.domElement.addEventListener("wheel",Tt,{passive:!1}),this.update()}}var zw=function(p){h(t,p);function t(r,o){var l=p.call(this,r,o)||this;return l.renderRequested=!1,l.isResize=!1,l.confirmResize=function(){l.isResize=!0,l.requestRenderIfNotRequested()},l.render=function(){l.renderRequested=void 0,l.controls.update(),l.renderer.render(l.scene,l.camera)},l.requestRenderIfNotRequested=function(){l.renderRequested||(l.isResize&&(l.isResize=!1,l.onWindowResize()),l.renderRequested=!0,requestAnimationFrame(l.render))},l.controls=new nm(l.camera,o.domElement),l.controls.addEventListener("change",l.requestRenderIfNotRequested),window.addEventListener("resize",l.confirmResize,!1),requestAnimationFrame(l.render),l}return t.prototype.loadGltf=function(r,o){var l=this,d=vA(this.renderer);d.load(r,function(m){var _=new Yo().setFromObject(m.scene),A=_.getSize(new Ze).length(),S=_.getCenter(new Ze);l.controls.maxDistance=A*10,m.scene.position.x+=m.scene.position.x-S.x,m.scene.position.y+=m.scene.position.y-S.y,m.scene.position.z+=m.scene.position.z-S.z,l.cameraPositionFlag||(l.camera.position.copy(S),l.camera.position.x+=A/2,l.camera.position.y+=A/5,l.camera.position.z+=A/2,l.camera.lookAt(S),l.viewPoint=l.setViewPoint(l.camera,[S.x,S.y,S.z])),l.content=m.scene,l.scene.add(m.scene),o&&o(m.scene)},function(m){})},t}(K_),YO=function(p){h(t,p);function t(r,o){var l=p.call(this,r,o)||this;return l.sceneMap={},l.animate=function(){l.render(),l.stats.update()},l}return t.prototype.getSceneByName=function(r){return this.sceneMap[r]},t.prototype.setCurrentScene=function(r){var o;r&&(this.currentScene=r,!((o=this.options)===null||o===void 0)&&o.guiOpen&&this.updateGui())},t.prototype.createScene=function(r){if(this.sceneMap[r]==null){var o=new zw(this.container,this.renderer);return o.sceneName=r,this.updateEnvironment(o.vignette),this.sceneMap[r]=o,o}},t.prototype.render=function(){this.currentScene.render()},t}(mw);gE();var $w=function(p){h(t,p);function t(r,o){var l=p.call(this,r)||this;return l.gui=new xf({width:260,autoPlace:!1}),l.sceneName="",l.viewPoint=new Al,l.cameraPositionFlag=!1,l.content=new Ps,l.isHalfed=!1,l.color1="#5454ad",l.color2="#18e5a7",l.lights=[],l.renderNrrdVolume=!1,l.guiContainer=document.createElement("div"),l.onWindowResize=function(){var d=l.container.getBoundingClientRect(),m=d.width,_=d.height,A=m/_;if(l.renderNrrdVolume){var S=l.camera,R=S.top-S.bottom;S.left=-R*A/2,S.right=R*A/2}else l.camera.aspect=A;l.camera.updateProjectionMatrix(),l.subDiv&&l.subCamera&&l.subRender&&(l.subCamera.aspect=l.subDiv.clientWidth/l.subDiv.clientHeight,l.subCamera.updateProjectionMatrix(),l.subRender.setSize(l.subDiv.clientWidth,l.subDiv.clientHeight)),l.controls.update()},l.container=r,l.renderer=o,l.camera=new Wi(75,r.clientWidth/r.clientHeight,.1,500),l.ambientLight=new cE(2105376,1),l.directionalLight=new S_(16777215,2.5),l.vignette=mE({aspect:l.container.clientWidth/l.container.clientHeight,grainScale:0,colors:[l.color1,l.color2]}),l.vignette.mesh.name="Vignette",l.vignette.mesh.renderOrder=-1,l.copperControl=new I_(l.camera),l.controls=new nm(l.camera,l.container),l.preRenderCallbackFunctions={index:0,cache:{},add:function(d){if(!d.id){d.id=++this.index,this.cache[d.id]=d;return}}},l.init(),l}return t.prototype.init=function(){var r=this;this.copperControl.setCameraViewPoint(),this.camera.position.z=2,this.guiContainer.style.position="fixed",this.guiContainer.style.top="0",this.guiContainer.style.right="0",this.guiContainer.style.zIndex="100",this.guiContainer.appendChild(this.gui.domElement),this.container.appendChild(this.guiContainer),this.guiContainer.addEventListener("pointerover",tm(function(){r.controls.enabled=!1},100),!1),this.guiContainer.addEventListener("pointerleave",function(){r.controls.enabled=!0},!1),this.addLights()},t.prototype.setControls=function(r){switch(r){case 0:this.controls=new nm(this.camera,this.container);break;default:this.controls=new gw(this.camera,this.container),this.controls.rotateSpeed=.01;break}},t.prototype.loadGltf=function(r,o){var l=this,d=vA(this.renderer);d.load(r,function(m){var _,A,S,R=new Yo().setFromObject(m.scene),I=R.getSize(new Ze).length(),N=R.getCenter(new Ze);if(l.controls.maxDistance=I*10,m.scene.position.x+=m.scene.position.x-N.x,m.scene.position.y+=m.scene.position.y-N.y,m.scene.position.z+=m.scene.position.z-N.z,!l.cameraPositionFlag&&(l.camera.position.copy(N),l.camera.position.x+=I/2,l.camera.position.y+=I/5,l.camera.position.z+=I/2,l.camera.lookAt(N),l.viewPoint=l.setViewPoint(l.camera,[N.x,N.y,N.z]),l.subCamera)){(_=l.subCamera)===null||_===void 0||_.position.copy(l.camera.position),(A=l.subCamera)===null||A===void 0||A.lookAt(l.subScene.position),l.subCamera.near=I/100,l.subCamera.far=I*100,(S=l.subCamera)===null||S===void 0||S.updateProjectionMatrix();var D=new Ps().copy(m.scene);D.scale.set(I,I,I),l.subScene.add(D)}l.content=m.scene,l.scene.add(m.scene),o&&o(m.scene)},function(m){})},t.prototype.pickSpecifiedModel=function(r,o){return Array.isArray(r)?this.pickableObjects=r:this.pickableObjects.push(r),TL(this.camera,this.container,this.pickableObjects,o)},t.prototype.setViewPoint=function(r,o){var l=new Al;return l.farPlane=r.far,l.nearPlane=r.near,l.eyePosition=[r.position.x,r.position.y,r.position.z],o?l.targetPosition=[o[0],o[1],o[2]]:l.targetPosition=[0,0,0],l.upVector=[r.up.x,r.up.y,r.up.z],this.viewPoint=l,l},t.prototype.loadNrrd1=function(r,o){var l=1024,d=window.innerWidth/window.innerHeight;this.camera=new Bp(-l*d/2,l*d/2,l/2,-l/2,1,1e3),this.camera.position.set(0,0,128),this.camera.up.set(0,0,1),this.controls.dispose(),this.controls=new nm(this.camera,this.container),this.controls.target.set(64,64,128),this.controls.minZoom=.5,this.controls.maxZoom=4,this.controls.enablePan=!1,this.renderNrrdVolume=!0,wL(r,this.scene,this.container,o)},t.prototype.drawWholeNrrd=function(r){CL(r,this.scene,this.gui,this.controls)},t.prototype.updateBackground=function(r,o){this.vignette.style({colors:[r,o]})},t.prototype.addLights=function(){var r=new iE;r.name="hemi_light",this.scene.add(r),this.ambientLight.name="ambient_light",this.directionalLight.name="main_light",this.directionalLight.position.set(.5,0,.866),this.camera.add(this.ambientLight),this.camera.add(this.directionalLight),this.lights.push(r),this.lights.push(this.ambientLight),this.lights.push(this.directionalLight)},t.prototype.removeLights=function(){this.lights&&(this.lights.forEach(function(r){return r.parent.remove(r)}),this.lights.length=0)},t.prototype.loadViewUrl=function(r){var o=this,l=new XMLHttpRequest;l.onreadystatechange=function(){if(l.readyState==4&&l.status==200){var d=JSON.parse(l.responseText);o.loadView(d)}},l.open("GET",r,!0),l.send()},t.prototype.loadView=function(r){this.cameraPositionFlag=!0,this.viewPoint=r;var o=new Al;o.farPlane=r.farPlane,o.nearPlane=r.nearPlane,o.eyePosition=r.eyePosition,o.targetPosition=r.targetPosition,o.upVector=r.upVector,this.copperControl.updateCameraViewPoint(o),this.subCopperControl&&this.subCopperControl.updateCameraViewPoint(o)},t.prototype.updateCamera=function(r){this.cameraPositionFlag=!0,this.copperControl.updateCameraViewPoint(r)},t.prototype.setCameraPosition=function(r){typeof r.x=="number"&&(this.camera.position.x=r.x),typeof r.y=="number"&&(this.camera.position.y=r.y),typeof r.z=="number"&&(this.camera.position.z=r.z),this.setViewPoint(this.camera)},t.prototype.resetView=function(){this.controls.reset(),this.updateCamera(this.viewPoint)},t.prototype.render=function(){this.controls.update(),this.onWindowResize(),this.renderer.render(this.scene,this.camera),Object.values(this.preRenderCallbackFunctions.cache).forEach(function(r){r&&r.call(null)}),this.subDiv&&this.subCamera&&this.subRender&&(this.subCamera.position.copy(this.camera.position),this.subCamera.lookAt(this.subScene.position),this.subRender.render(this.subScene,this.subCamera))},t}(aw),JO=function(){function p(t,r,o){var l=this;this.renderer=new Fp({alpha:!0,antialias:!0}),this.renderSceneInfo=function(d){var m=d.container,_=m.getBoundingClientRect(),A=_.left,S=_.right,R=_.top,I=_.bottom,N=_.width,D=_.height,V=I<0||R>l.renderer.domElement.clientHeight||S<0||A>l.renderer.domElement.clientWidth;if(!V){var O=l.renderer.domElement.clientHeight-I;l.renderer.setScissor(A,O,N,D),l.renderer.setViewport(A,O,N,D),d.render()}},this.resizeRendererToDisplaySize=function(){var d=l.renderer.domElement.clientWidth,m=l.renderer.domElement.clientHeight,_=l.renderer.domElement.width!==d||l.renderer.domElement.height!==m;_&&(l.elems.map(function(A,S){S===l.numberOfScene-1&&l.numberOfScene%2!==0?A.style.width=l.container.clientWidth+"px":A.style.width=l.container.clientWidth/2-2+"px",A.style.height=l.container.clientHeight/Math.ceil(l.numberOfScene/2)+"px"}),l.renderer.setSize(d,m,!1))},this.animate=function(){var d=new sr("#000");l.renderer.setScissorTest(!1),l.renderer.setClearColor(d,0),l.renderer.clear(!0,!0),l.renderer.setScissorTest(!0),l.resizeRendererToDisplaySize(),l.sceneInfos.forEach(function(_){l.renderSceneInfo(_)});var m="translateY(".concat(window.scrollY,"px)");l.renderer.domElement.style.transform=m,window.requestAnimationFrame(l.animate)},this.numberOfScene=r>0?r:1,this.container=t,this.elems=[],this.scenes=[],this.cameras=[],this.sceneInfos=[],this.canvas=this.renderer.domElement,this.pmremGenerator=new Dp(this.renderer),this.init()}return p.prototype.init=function(){this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=Or,this.pmremGenerator.compileEquirectangularShader(),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.canvas.className="copper3D_canvas",this.container.className="copper3D_container_root",this.container.appendChild(this.canvas);for(var t=0;t<this.numberOfScene;t++){var r=document.createElement("div");r.className="copper3D_scene_div",this.container.appendChild(r),this.elems.push(r);var o=new $w(r,this.renderer);this.updateEnvironment(o),this.sceneInfos.push(o)}},p.prototype.updateEnvironment=function(t){var r=j_.filter(function(o){return o.name==="Venice Sunset"})[0];this.getCubeMapTexture(r).then(function(o){o&&t.vignette&&t.scene.add(t.vignette.mesh),t.scene.environment=o,t.scene.background=o})},p.prototype.getCubeMapTexture=function(t){var r=this,o=t.path;return o?new Promise(function(l,d){new lw().load(o,function(m){var _=r.pmremGenerator.fromEquirectangular(m).texture;r.pmremGenerator.dispose(),l(_)},void 0,d)}):Promise.resolve({envMap:null})},p}(),ZO=AE(function(p,t){(function(o,l){p.exports=l()})(self,function(){return(()=>{var r={"./node_modules/copper3d_plugin_heartjs_config/dist/copper3d_plugin_heartjs_config.js":m=>{(function(A,S){m.exports=S()})(self,()=>(()=>{var _={591:(I,N,D)=>{var V=D(8).default;function O(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */I.exports=O=function(){return k},I.exports.__esModule=!0,I.exports.default=I.exports;var k={},U=Object.prototype,W=U.hasOwnProperty,Z=typeof Symbol=="function"?Symbol:{},ne=Z.iterator||"@@iterator",j=Z.asyncIterator||"@@asyncIterator",re=Z.toStringTag||"@@toStringTag";function Ae(ut,Xe,Bt){return Object.defineProperty(ut,Xe,{value:Bt,enumerable:!0,configurable:!0,writable:!0}),ut[Xe]}try{Ae({},"")}catch{Ae=function(Bt,qt,$t){return Bt[qt]=$t}}function Y(ut,Xe,Bt,qt){var $t=Xe&&Xe.prototype instanceof Oe?Xe:Oe,Cn=Object.create($t.prototype),Dn=new Kt(qt||[]);return Cn._invoke=function(Hn,Rr,on){var mn="suspendedStart";return function(Ge,zn){if(mn==="executing")throw new Error("Generator is already running");if(mn==="completed"){if(Ge==="throw")throw zn;return Ln()}for(on.method=Ge,on.arg=zn;;){var wn=on.delegate;if(wn){var Tt=ct(wn,on);if(Tt){if(Tt===we)continue;return Tt}}if(on.method==="next")on.sent=on._sent=on.arg;else if(on.method==="throw"){if(mn==="suspendedStart")throw mn="completed",on.arg;on.dispatchException(on.arg)}else on.method==="return"&&on.abrupt("return",on.arg);mn="executing";var ae=pe(Hn,Rr,on);if(ae.type==="normal"){if(mn=on.done?"completed":"suspendedYield",ae.arg===we)continue;return{value:ae.arg,done:on.done}}ae.type==="throw"&&(mn="completed",on.method="throw",on.arg=ae.arg)}}}(ut,Bt,Dn),Cn}function pe(ut,Xe,Bt){try{return{type:"normal",arg:ut.call(Xe,Bt)}}catch(qt){return{type:"throw",arg:qt}}}k.wrap=Y;var we={};function Oe(){}function tt(){}function Re(){}var ke={};Ae(ke,ne,function(){return this});var st=Object.getPrototypeOf,ht=st&&st(st(c([])));ht&&ht!==U&&W.call(ht,ne)&&(ke=ht);var dt=Re.prototype=Oe.prototype=Object.create(ke);function De(ut){["next","throw","return"].forEach(function(Xe){Ae(ut,Xe,function(Bt){return this._invoke(Xe,Bt)})})}function Je(ut,Xe){function Bt($t,Cn,Dn,Hn){var Rr=pe(ut[$t],ut,Cn);if(Rr.type!=="throw"){var on=Rr.arg,mn=on.value;return mn&&V(mn)=="object"&&W.call(mn,"__await")?Xe.resolve(mn.__await).then(function(Ge){Bt("next",Ge,Dn,Hn)},function(Ge){Bt("throw",Ge,Dn,Hn)}):Xe.resolve(mn).then(function(Ge){on.value=Ge,Dn(on)},function(Ge){return Bt("throw",Ge,Dn,Hn)})}Hn(Rr.arg)}var qt;this._invoke=function($t,Cn){function Dn(){return new Xe(function(Hn,Rr){Bt($t,Cn,Hn,Rr)})}return qt=qt?qt.then(Dn,Dn):Dn()}}function ct(ut,Xe){var Bt=ut.iterator[Xe.method];if(Bt===void 0){if(Xe.delegate=null,Xe.method==="throw"){if(ut.iterator.return&&(Xe.method="return",Xe.arg=void 0,ct(ut,Xe),Xe.method==="throw"))return we;Xe.method="throw",Xe.arg=new TypeError("The iterator does not provide a 'throw' method")}return we}var qt=pe(Bt,ut.iterator,Xe.arg);if(qt.type==="throw")return Xe.method="throw",Xe.arg=qt.arg,Xe.delegate=null,we;var $t=qt.arg;return $t?$t.done?(Xe[ut.resultName]=$t.value,Xe.next=ut.nextLoc,Xe.method!=="return"&&(Xe.method="next",Xe.arg=void 0),Xe.delegate=null,we):$t:(Xe.method="throw",Xe.arg=new TypeError("iterator result is not an object"),Xe.delegate=null,we)}function Gt(ut){var Xe={tryLoc:ut[0]};1 in ut&&(Xe.catchLoc=ut[1]),2 in ut&&(Xe.finallyLoc=ut[2],Xe.afterLoc=ut[3]),this.tryEntries.push(Xe)}function Ft(ut){var Xe=ut.completion||{};Xe.type="normal",delete Xe.arg,ut.completion=Xe}function Kt(ut){this.tryEntries=[{tryLoc:"root"}],ut.forEach(Gt,this),this.reset(!0)}function c(ut){if(ut){var Xe=ut[ne];if(Xe)return Xe.call(ut);if(typeof ut.next=="function")return ut;if(!isNaN(ut.length)){var Bt=-1,qt=function $t(){for(;++Bt<ut.length;)if(W.call(ut,Bt))return $t.value=ut[Bt],$t.done=!1,$t;return $t.value=void 0,$t.done=!0,$t};return qt.next=qt}}return{next:Ln}}function Ln(){return{value:void 0,done:!0}}return tt.prototype=Re,Ae(dt,"constructor",Re),Ae(Re,"constructor",tt),tt.displayName=Ae(Re,re,"GeneratorFunction"),k.isGeneratorFunction=function(ut){var Xe=typeof ut=="function"&&ut.constructor;return!!Xe&&(Xe===tt||(Xe.displayName||Xe.name)==="GeneratorFunction")},k.mark=function(ut){return Object.setPrototypeOf?Object.setPrototypeOf(ut,Re):(ut.__proto__=Re,Ae(ut,re,"GeneratorFunction")),ut.prototype=Object.create(dt),ut},k.awrap=function(ut){return{__await:ut}},De(Je.prototype),Ae(Je.prototype,j,function(){return this}),k.AsyncIterator=Je,k.async=function(ut,Xe,Bt,qt,$t){$t===void 0&&($t=Promise);var Cn=new Je(Y(ut,Xe,Bt,qt),$t);return k.isGeneratorFunction(Xe)?Cn:Cn.next().then(function(Dn){return Dn.done?Dn.value:Cn.next()})},De(dt),Ae(dt,re,"Generator"),Ae(dt,ne,function(){return this}),Ae(dt,"toString",function(){return"[object Generator]"}),k.keys=function(ut){var Xe=[];for(var Bt in ut)Xe.push(Bt);return Xe.reverse(),function qt(){for(;Xe.length;){var $t=Xe.pop();if($t in ut)return qt.value=$t,qt.done=!1,qt}return qt.done=!0,qt}},k.values=c,Kt.prototype={constructor:Kt,reset:function(Xe){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Ft),!Xe)for(var Bt in this)Bt.charAt(0)==="t"&&W.call(this,Bt)&&!isNaN(+Bt.slice(1))&&(this[Bt]=void 0)},stop:function(){this.done=!0;var Xe=this.tryEntries[0].completion;if(Xe.type==="throw")throw Xe.arg;return this.rval},dispatchException:function(Xe){if(this.done)throw Xe;var Bt=this;function qt(on,mn){return Dn.type="throw",Dn.arg=Xe,Bt.next=on,mn&&(Bt.method="next",Bt.arg=void 0),!!mn}for(var $t=this.tryEntries.length-1;$t>=0;--$t){var Cn=this.tryEntries[$t],Dn=Cn.completion;if(Cn.tryLoc==="root")return qt("end");if(Cn.tryLoc<=this.prev){var Hn=W.call(Cn,"catchLoc"),Rr=W.call(Cn,"finallyLoc");if(Hn&&Rr){if(this.prev<Cn.catchLoc)return qt(Cn.catchLoc,!0);if(this.prev<Cn.finallyLoc)return qt(Cn.finallyLoc)}else if(Hn){if(this.prev<Cn.catchLoc)return qt(Cn.catchLoc,!0)}else{if(!Rr)throw new Error("try statement without catch or finally");if(this.prev<Cn.finallyLoc)return qt(Cn.finallyLoc)}}}},abrupt:function(Xe,Bt){for(var qt=this.tryEntries.length-1;qt>=0;--qt){var $t=this.tryEntries[qt];if($t.tryLoc<=this.prev&&W.call($t,"finallyLoc")&&this.prev<$t.finallyLoc){var Cn=$t;break}}Cn&&(Xe==="break"||Xe==="continue")&&Cn.tryLoc<=Bt&&Bt<=Cn.finallyLoc&&(Cn=null);var Dn=Cn?Cn.completion:{};return Dn.type=Xe,Dn.arg=Bt,Cn?(this.method="next",this.next=Cn.finallyLoc,we):this.complete(Dn)},complete:function(Xe,Bt){if(Xe.type==="throw")throw Xe.arg;return Xe.type==="break"||Xe.type==="continue"?this.next=Xe.arg:Xe.type==="return"?(this.rval=this.arg=Xe.arg,this.method="return",this.next="end"):Xe.type==="normal"&&Bt&&(this.next=Bt),we},finish:function(Xe){for(var Bt=this.tryEntries.length-1;Bt>=0;--Bt){var qt=this.tryEntries[Bt];if(qt.finallyLoc===Xe)return this.complete(qt.completion,qt.afterLoc),Ft(qt),we}},catch:function(Xe){for(var Bt=this.tryEntries.length-1;Bt>=0;--Bt){var qt=this.tryEntries[Bt];if(qt.tryLoc===Xe){var $t=qt.completion;if($t.type==="throw"){var Cn=$t.arg;Ft(qt)}return Cn}}throw new Error("illegal catch attempt")},delegateYield:function(Xe,Bt,qt){return this.delegate={iterator:c(Xe),resultName:Bt,nextLoc:qt},this.method==="next"&&(this.arg=void 0),we}},k}I.exports=O,I.exports.__esModule=!0,I.exports.default=I.exports},8:I=>{function N(D){return I.exports=N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},I.exports.__esModule=!0,I.exports.default=I.exports,N(D)}I.exports=N,I.exports.__esModule=!0,I.exports.default=I.exports},757:(I,N,D)=>{var V=D(591)();I.exports=V;try{regeneratorRuntime=V}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=V:Function("r","regeneratorRuntime = r")(V)}},140:(I,N,D)=>{I.exports=D.p+"791f4146c35521990ba3e84e823a55f3.wasm"},915:(I,N,D)=>{I.exports=D.p+"f1877cdf3dec53d47652f14c1e1b12c1.bin"}},A={};function S(I){var N=A[I];if(N!==void 0)return N.exports;var D=A[I]={exports:{}};return _[I](D,D.exports,S),D.exports}S.n=I=>{var N=I&&I.__esModule?()=>I.default:()=>I;return S.d(N,{a:N}),N},S.d=(I,N)=>{for(var D in N)S.o(N,D)&&!S.o(I,D)&&Object.defineProperty(I,D,{enumerable:!0,get:N[D]})},S.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),S.o=(I,N)=>Object.prototype.hasOwnProperty.call(I,N),S.r=I=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},(()=>{var I;S.g.importScripts&&(I=S.g.location+"");var N=S.g.document;if(!I&&N&&(N.currentScript&&(I=N.currentScript.src),!I)){var D=N.getElementsByTagName("script");D.length&&(I=D[D.length-1].src)}if(!I)throw new Error("Automatic publicPath is not supported in this browser");I=I.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),S.p=I})();var R={};return(()=>{S.r(R),S.d(R,{HeartRateDetector:()=>Rr,setBinUrl:()=>Hn,setWasm:()=>D});function I(on){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(mn){return typeof mn}:function(mn){return mn&&typeof Symbol=="function"&&mn.constructor===Symbol&&mn!==Symbol.prototype?"symbol":typeof mn},I(on)}S(140);var N;function D(on){N=on}var V=function(){var on=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(mn){mn=mn||{};var Ge=typeof mn<"u"?mn:{},zn,wn;Ge.ready=new Promise(function(Se,L){zn=Se,wn=L});var Tt={},ae;for(ae in Ge)Ge.hasOwnProperty(ae)&&(Tt[ae]=Ge[ae]);var z=function(L,ee){throw ee},K=!0,le="";function Ne(Se){return Ge.locateFile?Ge.locateFile(Se,le):le+Se}var Ye,Mt;typeof document<"u"&&document.currentScript&&(le=document.currentScript.src),on&&(le=on),le.indexOf("blob:")!==0?le=le.substr(0,le.lastIndexOf("/")+1):le="",Ye=function(L){var ee=new XMLHttpRequest;return ee.open("GET",L,!1),ee.send(null),ee.responseText};var sn=Ge.print||console.log.bind(console),Ie=Ge.printErr||console.warn.bind(console);for(ae in Tt)Tt.hasOwnProperty(ae)&&(Ge[ae]=Tt[ae]);Tt=null,Ge.arguments&&Ge.arguments,Ge.thisProgram&&Ge.thisProgram,Ge.quit&&(z=Ge.quit);var Jt=16;function ln(Se,L){return L||(L=Jt),Math.ceil(Se/L)*L}function Tn(Se,L){if(typeof WebAssembly.Function=="function"){for(var ee={i:"i32",j:"i64",f:"f32",d:"f64"},he={parameters:[],results:L[0]=="v"?[]:[ee[L[0]]]},Pe=1;Pe<L.length;++Pe)he.parameters.push(ee[L[Pe]]);return new WebAssembly.Function(he,Se)}var We=[1,0,1,96],lt=L.slice(0,1),wt=L.slice(1),Zt={i:127,j:126,f:125,d:124};We.push(wt.length);for(var Pe=0;Pe<wt.length;++Pe)We.push(Zt[wt[Pe]]);lt=="v"?We.push(0):We=We.concat([1,Zt[lt]]),We[1]=We.length-2;var yn=new Uint8Array([0,97,115,109,1,0,0,0].concat(We,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),or=new WebAssembly.Module(yn),gr=new WebAssembly.Instance(or,{e:{f:Se}}),mr=gr.exports.f;return mr}var En=[],Un;function vr(){if(En.length)return En.pop();try{Mr.grow(1)}catch(Se){throw Se instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Se}return Mr.length-1}function Gr(Se,L){if(!Un){Un=new WeakMap;for(var ee=0;ee<Mr.length;ee++){var he=Mr.get(ee);he&&Un.set(he,ee)}}if(Un.has(Se))return Un.get(Se);var Pe=vr();try{Mr.set(Pe,Se)}catch(lt){if(!(lt instanceof TypeError))throw lt;var We=Tn(Se,L);Mr.set(Pe,We)}return Un.set(Se,Pe),Pe}function gt(Se){Un.delete(Mr.get(Se)),En.push(Se)}function xn(Se,L){return Gr(Se,L)}var jt=0,On=function(L){jt=L},kn=function(){return jt},Sr;Ge.wasmBinary&&(Sr=Ge.wasmBinary);var Ai=Ge.noExitRuntime||!0;(typeof WebAssembly>"u"?"undefined":I(WebAssembly))!=="object"&&Ui("no native wasm support detected");function pi(Se,L,ee,he){switch(ee=ee||"i8",ee.charAt(ee.length-1)==="*"&&(ee="i32"),ee){case"i1":Wn[Se>>0]=L;break;case"i8":Wn[Se>>0]=L;break;case"i16":Er[Se>>1]=L;break;case"i32":Rn[Se>>2]=L;break;case"i64":to=[L>>>0,(yi=L,+Math.abs(yi)>=1?yi>0?(Math.min(+Math.floor(yi/4294967296),4294967295)|0)>>>0:~~+Math.ceil((yi-+(~~yi>>>0))/4294967296)>>>0:0)],Rn[Se>>2]=to[0],Rn[Se+4>>2]=to[1];break;case"float":Hr[Se>>2]=L;break;case"double":kr[Se>>3]=L;break;default:Ui("invalid type for setValue: "+ee)}}function oa(Se,L,ee){switch(L=L||"i8",L.charAt(L.length-1)==="*"&&(L="i32"),L){case"i1":return Wn[Se>>0];case"i8":return Wn[Se>>0];case"i16":return Er[Se>>1];case"i32":return Rn[Se>>2];case"i64":return Rn[Se>>2];case"float":return Hr[Se>>2];case"double":return kr[Se>>3];default:Ui("invalid type for getValue: "+L)}return null}var ti,Ls=!1;function _s(Se,L){Se||Ui("Assertion failed: "+L)}function SA(Se){var L=Ge["_"+Se];return _s(L,"Cannot call unknown function "+Se+", make sure it is exported"),L}function ed(Se,L,ee,he,Pe){var We={string:function(Jn){var Nr=0;if(Jn!=null&&Jn!==0){var wi=(Jn.length<<2)+1;Nr=IA(wi),He(Jn,Nr,wi)}return Nr},array:function(Jn){var Nr=IA(Jn.length);return en(Jn,Nr),Nr}};function lt(fr){return L==="string"?Mc(fr):L==="boolean"?Boolean(fr):fr}var wt=SA(Se),Zt=[],yn=0;if(he)for(var or=0;or<he.length;or++){var gr=We[ee[or]];gr?(yn===0&&(yn=Po()),Zt[or]=gr(he[or])):Zt[or]=he[or]}var mr=wt.apply(null,Zt);return mr=lt(mr),yn!==0&&Bo(yn),mr}var kf=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ml(Se,L,ee){for(var he=L+ee,Pe=L;Se[Pe]&&!(Pe>=he);)++Pe;if(Pe-L>16&&Se.subarray&&kf)return kf.decode(Se.subarray(L,Pe));for(var We="";L<Pe;){var lt=Se[L++];if(!(lt&128)){We+=String.fromCharCode(lt);continue}var wt=Se[L++]&63;if((lt&224)==192){We+=String.fromCharCode((lt&31)<<6|wt);continue}var Zt=Se[L++]&63;if((lt&240)==224?lt=(lt&15)<<12|wt<<6|Zt:lt=(lt&7)<<18|wt<<12|Zt<<6|Se[L++]&63,lt<65536)We+=String.fromCharCode(lt);else{var yn=lt-65536;We+=String.fromCharCode(55296|yn>>10,56320|yn&1023)}}return We}function Mc(Se,L){return Se?Ml(lr,Se,L):""}function Lf(Se,L,ee,he){if(!(he>0))return 0;for(var Pe=ee,We=ee+he-1,lt=0;lt<Se.length;++lt){var wt=Se.charCodeAt(lt);if(wt>=55296&&wt<=57343){var Zt=Se.charCodeAt(++lt);wt=65536+((wt&1023)<<10)|Zt&1023}if(wt<=127){if(ee>=We)break;L[ee++]=wt}else if(wt<=2047){if(ee+1>=We)break;L[ee++]=192|wt>>6,L[ee++]=128|wt&63}else if(wt<=65535){if(ee+2>=We)break;L[ee++]=224|wt>>12,L[ee++]=128|wt>>6&63,L[ee++]=128|wt&63}else{if(ee+3>=We)break;L[ee++]=240|wt>>18,L[ee++]=128|wt>>12&63,L[ee++]=128|wt>>6&63,L[ee++]=128|wt&63}}return L[ee]=0,ee-Pe}function He(Se,L,ee){return Lf(Se,lr,L,ee)}function kt(Se){for(var L=0,ee=0;ee<Se.length;++ee){var he=Se.charCodeAt(ee);he>=55296&&he<=57343&&(he=65536+((he&1023)<<10)|Se.charCodeAt(++ee)&1023),he<=127?++L:he<=2047?L+=2:he<=65535?L+=3:L+=4}return L}function en(Se,L){Wn.set(Se,L)}function Nt(Se,L){return Se%L>0&&(Se+=L-Se%L),Se}var tn,Wn,lr,Er,Rn,Hr,kr;function Fr(Se){tn=Se,Ge.HEAP8=Wn=new Int8Array(Se),Ge.HEAP16=Er=new Int16Array(Se),Ge.HEAP32=Rn=new Int32Array(Se),Ge.HEAPU8=lr=new Uint8Array(Se),Ge.HEAPU16=new Uint16Array(Se),Ge.HEAPU32=new Uint32Array(Se),Ge.HEAPF32=Hr=new Float32Array(Se),Ge.HEAPF64=kr=new Float64Array(Se)}Ge.INITIAL_MEMORY;var Mr,aa=[],ka=[],La=[];function Zs(){if(Ge.preRun)for(typeof Ge.preRun=="function"&&(Ge.preRun=[Ge.preRun]);Ge.preRun.length;)Si(Ge.preRun.shift());EA(aa)}function Xr(){!Ge.noFSInit&&!ce.init.initialized&&ce.init(),EA(ka)}function xl(){if(Ge.postRun)for(typeof Ge.postRun=="function"&&(Ge.postRun=[Ge.postRun]);Ge.postRun.length;)la(Ge.postRun.shift());EA(La)}function Si(Se){aa.unshift(Se)}function As(Se){ka.unshift(Se)}function la(Se){La.unshift(Se)}var Os=0,Oa=null;function Gi(Se){Os++,Ge.monitorRunDependencies&&Ge.monitorRunDependencies(Os)}function No(Se){if(Os--,Ge.monitorRunDependencies&&Ge.monitorRunDependencies(Os),Os==0&&Oa){var L=Oa;Oa=null,L()}}Ge.preloadedImages={},Ge.preloadedAudios={};function Ui(Se){Ge.onAbort&&Ge.onAbort(Se),Se+="",Ie(Se),Ls=!0,Se="abort("+Se+"). Build with -s ASSERTIONS=1 for more info.";var L=new WebAssembly.RuntimeError(Se);throw wn(L),L}var us="data:application/octet-stream;base64,";function td(Se){return Se.startsWith(us)}var eo=N;td(eo)||(eo=Ne(eo));function Of(Se){try{if(Se==eo&&Sr)return new Uint8Array(Sr);if(!Mt)throw"both async and sync fetching of the wasm failed"}catch(L){Ui(L)}}function rF(){return!Sr&&K&&typeof fetch=="function"?fetch(eo,{credentials:"same-origin"}).then(function(Se){if(!Se.ok)throw"failed to load wasm binary file at '"+eo+"'";return Se.arrayBuffer()}).catch(function(){return Of(eo)}):Promise.resolve().then(function(){return Of(eo)})}function iF(){var Se={a:PF};function L(lt,wt){var Zt=lt.exports;Ge.asm=Zt,ti=Ge.asm.D,Fr(ti.buffer),Mr=Ge.asm.la,As(Ge.asm.E),No()}Gi();function ee(lt){L(lt.instance)}function he(lt){return rF().then(function(wt){var Zt=WebAssembly.instantiate(wt,Se);return Zt}).then(lt,function(wt){Ie("failed to asynchronously prepare wasm: "+wt),Ui(wt)})}function Pe(){return!Sr&&typeof WebAssembly.instantiateStreaming=="function"&&!td(eo)&&typeof fetch=="function"?fetch(eo,{credentials:"same-origin"}).then(function(lt){var wt=WebAssembly.instantiateStreaming(lt,Se);return wt.then(ee,function(Zt){return Ie("wasm streaming compile failed: "+Zt),Ie("falling back to ArrayBuffer instantiation"),he(ee)})}):he(ee)}if(Ge.instantiateWasm)try{var We=Ge.instantiateWasm(Se,L);return We}catch(lt){return Ie("Module.instantiateWasm callback failed with error: "+lt),!1}return Pe().catch(wn),{}}var yi,to;function EA(Se){for(;Se.length>0;){var L=Se.shift();if(typeof L=="function"){L(Ge);continue}var ee=L.func;typeof ee=="number"?L.arg===void 0?Mr.get(ee)():Mr.get(ee)(L.arg):ee(L.arg===void 0?null:L.arg)}}var sF=0;function Ww(){return Ai||sF>0}function oF(Se,L,ee,he){Ui("Assertion failed: "+Mc(Se)+", at: "+[L?Mc(L):"unknown filename",ee,he?Mc(he):"unknown function"])}var zr={splitPath:function(L){var ee=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return ee.exec(L).slice(1)},normalizeArray:function(L,ee){for(var he=0,Pe=L.length-1;Pe>=0;Pe--){var We=L[Pe];We==="."?L.splice(Pe,1):We===".."?(L.splice(Pe,1),he++):he&&(L.splice(Pe,1),he--)}if(ee)for(;he;he--)L.unshift("..");return L},normalize:function(L){var ee=L.charAt(0)==="/",he=L.substr(-1)==="/";return L=zr.normalizeArray(L.split("/").filter(function(Pe){return!!Pe}),!ee).join("/"),!L&&!ee&&(L="."),L&&he&&(L+="/"),(ee?"/":"")+L},dirname:function(L){var ee=zr.splitPath(L),he=ee[0],Pe=ee[1];return!he&&!Pe?".":(Pe&&(Pe=Pe.substr(0,Pe.length-1)),he+Pe)},basename:function(L){if(L==="/")return"/";L=zr.normalize(L),L=L.replace(/\/$/,"");var ee=L.lastIndexOf("/");return ee===-1?L:L.substr(ee+1)},extname:function(L){return zr.splitPath(L)[3]},join:function(){var L=Array.prototype.slice.call(arguments,0);return zr.normalize(L.join("/"))},join2:function(L,ee){return zr.normalize(L+"/"+ee)}};function aF(){if((typeof crypto>"u"?"undefined":I(crypto))==="object"&&typeof crypto.getRandomValues=="function"){var Se=new Uint8Array(1);return function(){return crypto.getRandomValues(Se),Se[0]}}else return function(){Ui("randomDevice")}}var Fa={resolve:function(){for(var L="",ee=!1,he=arguments.length-1;he>=-1&&!ee;he--){var Pe=he>=0?arguments[he]:ce.cwd();if(typeof Pe!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!Pe)return"";L=Pe+"/"+L,ee=Pe.charAt(0)==="/"}return L=zr.normalizeArray(L.split("/").filter(function(We){return!!We}),!ee).join("/"),(ee?"/":"")+L||"."},relative:function(L,ee){L=Fa.resolve(L).substr(1),ee=Fa.resolve(ee).substr(1);function he(or){for(var gr=0;gr<or.length&&or[gr]==="";gr++);for(var mr=or.length-1;mr>=0&&or[mr]==="";mr--);return gr>mr?[]:or.slice(gr,mr-gr+1)}for(var Pe=he(L.split("/")),We=he(ee.split("/")),lt=Math.min(Pe.length,We.length),wt=lt,Zt=0;Zt<lt;Zt++)if(Pe[Zt]!==We[Zt]){wt=Zt;break}for(var yn=[],Zt=wt;Zt<Pe.length;Zt++)yn.push("..");return yn=yn.concat(We.slice(wt)),yn.join("/")}},xc={ttys:[],init:function(){},shutdown:function(){},register:function(L,ee){xc.ttys[L]={input:[],output:[],ops:ee},ce.registerDevice(L,xc.stream_ops)},stream_ops:{open:function(L){var ee=xc.ttys[L.node.rdev];if(!ee)throw new ce.ErrnoError(43);L.tty=ee,L.seekable=!1},close:function(L){L.tty.ops.flush(L.tty)},flush:function(L){L.tty.ops.flush(L.tty)},read:function(L,ee,he,Pe,We){if(!L.tty||!L.tty.ops.get_char)throw new ce.ErrnoError(60);for(var lt=0,wt=0;wt<Pe;wt++){var Zt;try{Zt=L.tty.ops.get_char(L.tty)}catch{throw new ce.ErrnoError(29)}if(Zt===void 0&&lt===0)throw new ce.ErrnoError(6);if(Zt==null)break;lt++,ee[he+wt]=Zt}return lt&&(L.node.timestamp=Date.now()),lt},write:function(L,ee,he,Pe,We){if(!L.tty||!L.tty.ops.put_char)throw new ce.ErrnoError(60);try{for(var lt=0;lt<Pe;lt++)L.tty.ops.put_char(L.tty,ee[he+lt])}catch{throw new ce.ErrnoError(29)}return Pe&&(L.node.timestamp=Date.now()),lt}},default_tty_ops:{get_char:function(L){if(!L.input.length){var ee=null;if(typeof window<"u"&&typeof window.prompt=="function"?(ee=window.prompt("Input: "),ee!==null&&(ee+=`
`)):typeof readline=="function"&&(ee=readline(),ee!==null&&(ee+=`
`)),!ee)return null;L.input=CA(ee,!0)}return L.input.shift()},put_char:function(L,ee){ee===null||ee===10?(sn(Ml(L.output,0)),L.output=[]):ee!=0&&L.output.push(ee)},flush:function(L){L.output&&L.output.length>0&&(sn(Ml(L.output,0)),L.output=[])}},default_tty1_ops:{put_char:function(L,ee){ee===null||ee===10?(Ie(Ml(L.output,0)),L.output=[]):ee!=0&&L.output.push(ee)},flush:function(L){L.output&&L.output.length>0&&(Ie(Ml(L.output,0)),L.output=[])}}};function lF(Se){for(var L=ln(Se,65536),ee=jw(L);Se<L;)Wn[ee+Se++]=0;return ee}var wr={ops_table:null,mount:function(L){return wr.createNode(null,"/",16895,0)},createNode:function(L,ee,he,Pe){if(ce.isBlkdev(he)||ce.isFIFO(he))throw new ce.ErrnoError(63);wr.ops_table||(wr.ops_table={dir:{node:{getattr:wr.node_ops.getattr,setattr:wr.node_ops.setattr,lookup:wr.node_ops.lookup,mknod:wr.node_ops.mknod,rename:wr.node_ops.rename,unlink:wr.node_ops.unlink,rmdir:wr.node_ops.rmdir,readdir:wr.node_ops.readdir,symlink:wr.node_ops.symlink},stream:{llseek:wr.stream_ops.llseek}},file:{node:{getattr:wr.node_ops.getattr,setattr:wr.node_ops.setattr},stream:{llseek:wr.stream_ops.llseek,read:wr.stream_ops.read,write:wr.stream_ops.write,allocate:wr.stream_ops.allocate,mmap:wr.stream_ops.mmap,msync:wr.stream_ops.msync}},link:{node:{getattr:wr.node_ops.getattr,setattr:wr.node_ops.setattr,readlink:wr.node_ops.readlink},stream:{}},chrdev:{node:{getattr:wr.node_ops.getattr,setattr:wr.node_ops.setattr},stream:ce.chrdev_stream_ops}});var We=ce.createNode(L,ee,he,Pe);return ce.isDir(We.mode)?(We.node_ops=wr.ops_table.dir.node,We.stream_ops=wr.ops_table.dir.stream,We.contents={}):ce.isFile(We.mode)?(We.node_ops=wr.ops_table.file.node,We.stream_ops=wr.ops_table.file.stream,We.usedBytes=0,We.contents=null):ce.isLink(We.mode)?(We.node_ops=wr.ops_table.link.node,We.stream_ops=wr.ops_table.link.stream):ce.isChrdev(We.mode)&&(We.node_ops=wr.ops_table.chrdev.node,We.stream_ops=wr.ops_table.chrdev.stream),We.timestamp=Date.now(),L&&(L.contents[ee]=We,L.timestamp=We.timestamp),We},getFileDataAsTypedArray:function(L){return L.contents?L.contents.subarray?L.contents.subarray(0,L.usedBytes):new Uint8Array(L.contents):new Uint8Array(0)},expandFileStorage:function(L,ee){var he=L.contents?L.contents.length:0;if(!(he>=ee)){var Pe=1024*1024;ee=Math.max(ee,he*(he<Pe?2:1.125)>>>0),he!=0&&(ee=Math.max(ee,256));var We=L.contents;L.contents=new Uint8Array(ee),L.usedBytes>0&&L.contents.set(We.subarray(0,L.usedBytes),0)}},resizeFileStorage:function(L,ee){if(L.usedBytes!=ee)if(ee==0)L.contents=null,L.usedBytes=0;else{var he=L.contents;L.contents=new Uint8Array(ee),he&&L.contents.set(he.subarray(0,Math.min(ee,L.usedBytes))),L.usedBytes=ee}},node_ops:{getattr:function(L){var ee={};return ee.dev=ce.isChrdev(L.mode)?L.id:1,ee.ino=L.id,ee.mode=L.mode,ee.nlink=1,ee.uid=0,ee.gid=0,ee.rdev=L.rdev,ce.isDir(L.mode)?ee.size=4096:ce.isFile(L.mode)?ee.size=L.usedBytes:ce.isLink(L.mode)?ee.size=L.link.length:ee.size=0,ee.atime=new Date(L.timestamp),ee.mtime=new Date(L.timestamp),ee.ctime=new Date(L.timestamp),ee.blksize=4096,ee.blocks=Math.ceil(ee.size/ee.blksize),ee},setattr:function(L,ee){ee.mode!==void 0&&(L.mode=ee.mode),ee.timestamp!==void 0&&(L.timestamp=ee.timestamp),ee.size!==void 0&&wr.resizeFileStorage(L,ee.size)},lookup:function(L,ee){throw ce.genericErrors[44]},mknod:function(L,ee,he,Pe){return wr.createNode(L,ee,he,Pe)},rename:function(L,ee,he){if(ce.isDir(L.mode)){var Pe;try{Pe=ce.lookupNode(ee,he)}catch{}if(Pe)for(var We in Pe.contents)throw new ce.ErrnoError(55)}delete L.parent.contents[L.name],L.parent.timestamp=Date.now(),L.name=he,ee.contents[he]=L,ee.timestamp=L.parent.timestamp,L.parent=ee},unlink:function(L,ee){delete L.contents[ee],L.timestamp=Date.now()},rmdir:function(L,ee){var he=ce.lookupNode(L,ee);for(var Pe in he.contents)throw new ce.ErrnoError(55);delete L.contents[ee],L.timestamp=Date.now()},readdir:function(L){var ee=[".",".."];for(var he in L.contents)!L.contents.hasOwnProperty(he)||ee.push(he);return ee},symlink:function(L,ee,he){var Pe=wr.createNode(L,ee,41471,0);return Pe.link=he,Pe},readlink:function(L){if(!ce.isLink(L.mode))throw new ce.ErrnoError(28);return L.link}},stream_ops:{read:function(L,ee,he,Pe,We){var lt=L.node.contents;if(We>=L.node.usedBytes)return 0;var wt=Math.min(L.node.usedBytes-We,Pe);if(wt>8&&lt.subarray)ee.set(lt.subarray(We,We+wt),he);else for(var Zt=0;Zt<wt;Zt++)ee[he+Zt]=lt[We+Zt];return wt},write:function(L,ee,he,Pe,We,lt){if(ee.buffer===Wn.buffer&&(lt=!1),!Pe)return 0;var wt=L.node;if(wt.timestamp=Date.now(),ee.subarray&&(!wt.contents||wt.contents.subarray)){if(lt)return wt.contents=ee.subarray(he,he+Pe),wt.usedBytes=Pe,Pe;if(wt.usedBytes===0&&We===0)return wt.contents=ee.slice(he,he+Pe),wt.usedBytes=Pe,Pe;if(We+Pe<=wt.usedBytes)return wt.contents.set(ee.subarray(he,he+Pe),We),Pe}if(wr.expandFileStorage(wt,We+Pe),wt.contents.subarray&&ee.subarray)wt.contents.set(ee.subarray(he,he+Pe),We);else for(var Zt=0;Zt<Pe;Zt++)wt.contents[We+Zt]=ee[he+Zt];return wt.usedBytes=Math.max(wt.usedBytes,We+Pe),Pe},llseek:function(L,ee,he){var Pe=ee;if(he===1?Pe+=L.position:he===2&&ce.isFile(L.node.mode)&&(Pe+=L.node.usedBytes),Pe<0)throw new ce.ErrnoError(28);return Pe},allocate:function(L,ee,he){wr.expandFileStorage(L.node,ee+he),L.node.usedBytes=Math.max(L.node.usedBytes,ee+he)},mmap:function(L,ee,he,Pe,We,lt){if(ee!==0)throw new ce.ErrnoError(28);if(!ce.isFile(L.node.mode))throw new ce.ErrnoError(43);var wt,Zt,yn=L.node.contents;if(!(lt&2)&&yn.buffer===tn)Zt=!1,wt=yn.byteOffset;else{if((Pe>0||Pe+he<yn.length)&&(yn.subarray?yn=yn.subarray(Pe,Pe+he):yn=Array.prototype.slice.call(yn,Pe,Pe+he)),Zt=!0,wt=lF(he),!wt)throw new ce.ErrnoError(48);Wn.set(yn,wt)}return{ptr:wt,allocated:Zt}},msync:function(L,ee,he,Pe,We){if(!ce.isFile(L.node.mode))throw new ce.ErrnoError(43);return We&2||wr.stream_ops.write(L,ee,0,Pe,he,!1),0}}},ce={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(L,ee){if(L=Fa.resolve(ce.cwd(),L),ee=ee||{},!L)return{path:"",node:null};var he={follow_mount:!0,recurse_count:0};for(var Pe in he)ee[Pe]===void 0&&(ee[Pe]=he[Pe]);if(ee.recurse_count>8)throw new ce.ErrnoError(32);for(var We=zr.normalizeArray(L.split("/").filter(function(fr){return!!fr}),!1),lt=ce.root,wt="/",Zt=0;Zt<We.length;Zt++){var yn=Zt===We.length-1;if(yn&&ee.parent)break;if(lt=ce.lookupNode(lt,We[Zt]),wt=zr.join2(wt,We[Zt]),ce.isMountpoint(lt)&&(!yn||yn&&ee.follow_mount)&&(lt=lt.mounted.root),!yn||ee.follow)for(var or=0;ce.isLink(lt.mode);){var gr=ce.readlink(wt);wt=Fa.resolve(zr.dirname(wt),gr);var mr=ce.lookupPath(wt,{recurse_count:ee.recurse_count});if(lt=mr.node,or++>40)throw new ce.ErrnoError(32)}}return{path:wt,node:lt}},getPath:function(L){for(var ee;;){if(ce.isRoot(L)){var he=L.mount.mountpoint;return ee?he[he.length-1]!=="/"?he+"/"+ee:he+ee:he}ee=ee?L.name+"/"+ee:L.name,L=L.parent}},hashName:function(L,ee){for(var he=0,Pe=0;Pe<ee.length;Pe++)he=(he<<5)-he+ee.charCodeAt(Pe)|0;return(L+he>>>0)%ce.nameTable.length},hashAddNode:function(L){var ee=ce.hashName(L.parent.id,L.name);L.name_next=ce.nameTable[ee],ce.nameTable[ee]=L},hashRemoveNode:function(L){var ee=ce.hashName(L.parent.id,L.name);if(ce.nameTable[ee]===L)ce.nameTable[ee]=L.name_next;else for(var he=ce.nameTable[ee];he;){if(he.name_next===L){he.name_next=L.name_next;break}he=he.name_next}},lookupNode:function(L,ee){var he=ce.mayLookup(L);if(he)throw new ce.ErrnoError(he,L);for(var Pe=ce.hashName(L.id,ee),We=ce.nameTable[Pe];We;We=We.name_next){var lt=We.name;if(We.parent.id===L.id&&lt===ee)return We}return ce.lookup(L,ee)},createNode:function(L,ee,he,Pe){var We=new ce.FSNode(L,ee,he,Pe);return ce.hashAddNode(We),We},destroyNode:function(L){ce.hashRemoveNode(L)},isRoot:function(L){return L===L.parent},isMountpoint:function(L){return!!L.mounted},isFile:function(L){return(L&61440)===32768},isDir:function(L){return(L&61440)===16384},isLink:function(L){return(L&61440)===40960},isChrdev:function(L){return(L&61440)===8192},isBlkdev:function(L){return(L&61440)===24576},isFIFO:function(L){return(L&61440)===4096},isSocket:function(L){return(L&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(L){var ee=ce.flagModes[L];if(typeof ee>"u")throw new Error("Unknown file open mode: "+L);return ee},flagsToPermissionString:function(L){var ee=["r","w","rw"][L&3];return L&512&&(ee+="w"),ee},nodePermissions:function(L,ee){return 0},mayLookup:function(L){var ee=ce.nodePermissions(L,"x");return ee||(L.node_ops.lookup?0:2)},mayCreate:function(L,ee){try{var he=ce.lookupNode(L,ee);return 20}catch{}return ce.nodePermissions(L,"wx")},mayDelete:function(L,ee,he){var Pe;try{Pe=ce.lookupNode(L,ee)}catch(lt){return lt.errno}var We=ce.nodePermissions(L,"wx");if(We)return We;if(he){if(!ce.isDir(Pe.mode))return 54;if(ce.isRoot(Pe)||ce.getPath(Pe)===ce.cwd())return 10}else if(ce.isDir(Pe.mode))return 31;return 0},mayOpen:function(L,ee){return L?ce.isLink(L.mode)?32:ce.isDir(L.mode)&&(ce.flagsToPermissionString(ee)!=="r"||ee&512)?31:ce.nodePermissions(L,ce.flagsToPermissionString(ee)):44},MAX_OPEN_FDS:4096,nextfd:function(L,ee){L=L||0,ee=ee||ce.MAX_OPEN_FDS;for(var he=L;he<=ee;he++)if(!ce.streams[he])return he;throw new ce.ErrnoError(33)},getStream:function(L){return ce.streams[L]},createStream:function(L,ee,he){ce.FSStream||(ce.FSStream=function(){},ce.FSStream.prototype={object:{get:function(){return this.node},set:function(Zt){this.node=Zt}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var Pe=new ce.FSStream;for(var We in L)Pe[We]=L[We];L=Pe;var lt=ce.nextfd(ee,he);return L.fd=lt,ce.streams[lt]=L,L},closeStream:function(L){ce.streams[L]=null},chrdev_stream_ops:{open:function(L){var ee=ce.getDevice(L.node.rdev);L.stream_ops=ee.stream_ops,L.stream_ops.open&&L.stream_ops.open(L)},llseek:function(){throw new ce.ErrnoError(70)}},major:function(L){return L>>8},minor:function(L){return L&255},makedev:function(L,ee){return L<<8|ee},registerDevice:function(L,ee){ce.devices[L]={stream_ops:ee}},getDevice:function(L){return ce.devices[L]},getMounts:function(L){for(var ee=[],he=[L];he.length;){var Pe=he.pop();ee.push(Pe),he.push.apply(he,Pe.mounts)}return ee},syncfs:function(L,ee){typeof L=="function"&&(ee=L,L=!1),ce.syncFSRequests++,ce.syncFSRequests>1&&Ie("warning: "+ce.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var he=ce.getMounts(ce.root.mount),Pe=0;function We(wt){return ce.syncFSRequests--,ee(wt)}function lt(wt){if(wt)return lt.errored?void 0:(lt.errored=!0,We(wt));++Pe>=he.length&&We(null)}he.forEach(function(wt){if(!wt.type.syncfs)return lt(null);wt.type.syncfs(wt,L,lt)})},mount:function(L,ee,he){var Pe=he==="/",We=!he,lt;if(Pe&&ce.root)throw new ce.ErrnoError(10);if(!Pe&&!We){var wt=ce.lookupPath(he,{follow_mount:!1});if(he=wt.path,lt=wt.node,ce.isMountpoint(lt))throw new ce.ErrnoError(10);if(!ce.isDir(lt.mode))throw new ce.ErrnoError(54)}var Zt={type:L,opts:ee,mountpoint:he,mounts:[]},yn=L.mount(Zt);return yn.mount=Zt,Zt.root=yn,Pe?ce.root=yn:lt&&(lt.mounted=Zt,lt.mount&&lt.mount.mounts.push(Zt)),yn},unmount:function(L){var ee=ce.lookupPath(L,{follow_mount:!1});if(!ce.isMountpoint(ee.node))throw new ce.ErrnoError(28);var he=ee.node,Pe=he.mounted,We=ce.getMounts(Pe);Object.keys(ce.nameTable).forEach(function(wt){for(var Zt=ce.nameTable[wt];Zt;){var yn=Zt.name_next;We.includes(Zt.mount)&&ce.destroyNode(Zt),Zt=yn}}),he.mounted=null;var lt=he.mount.mounts.indexOf(Pe);he.mount.mounts.splice(lt,1)},lookup:function(L,ee){return L.node_ops.lookup(L,ee)},mknod:function(L,ee,he){var Pe=ce.lookupPath(L,{parent:!0}),We=Pe.node,lt=zr.basename(L);if(!lt||lt==="."||lt==="..")throw new ce.ErrnoError(28);var wt=ce.mayCreate(We,lt);if(wt)throw new ce.ErrnoError(wt);if(!We.node_ops.mknod)throw new ce.ErrnoError(63);return We.node_ops.mknod(We,lt,ee,he)},create:function(L,ee){return ee=ee!==void 0?ee:438,ee&=4095,ee|=32768,ce.mknod(L,ee,0)},mkdir:function(L,ee){return ee=ee!==void 0?ee:511,ee&=1023,ee|=16384,ce.mknod(L,ee,0)},mkdirTree:function(L,ee){for(var he=L.split("/"),Pe="",We=0;We<he.length;++We)if(!!he[We]){Pe+="/"+he[We];try{ce.mkdir(Pe,ee)}catch(lt){if(lt.errno!=20)throw lt}}},mkdev:function(L,ee,he){return typeof he>"u"&&(he=ee,ee=438),ee|=8192,ce.mknod(L,ee,he)},symlink:function(L,ee){if(!Fa.resolve(L))throw new ce.ErrnoError(44);var he=ce.lookupPath(ee,{parent:!0}),Pe=he.node;if(!Pe)throw new ce.ErrnoError(44);var We=zr.basename(ee),lt=ce.mayCreate(Pe,We);if(lt)throw new ce.ErrnoError(lt);if(!Pe.node_ops.symlink)throw new ce.ErrnoError(63);return Pe.node_ops.symlink(Pe,We,L)},rename:function(L,ee){var he=zr.dirname(L),Pe=zr.dirname(ee),We=zr.basename(L),lt=zr.basename(ee),wt,Zt,yn;if(wt=ce.lookupPath(L,{parent:!0}),Zt=wt.node,wt=ce.lookupPath(ee,{parent:!0}),yn=wt.node,!Zt||!yn)throw new ce.ErrnoError(44);if(Zt.mount!==yn.mount)throw new ce.ErrnoError(75);var or=ce.lookupNode(Zt,We),gr=Fa.relative(L,Pe);if(gr.charAt(0)!==".")throw new ce.ErrnoError(28);if(gr=Fa.relative(ee,he),gr.charAt(0)!==".")throw new ce.ErrnoError(55);var mr;try{mr=ce.lookupNode(yn,lt)}catch{}if(or!==mr){var fr=ce.isDir(or.mode),Jn=ce.mayDelete(Zt,We,fr);if(Jn)throw new ce.ErrnoError(Jn);if(Jn=mr?ce.mayDelete(yn,lt,fr):ce.mayCreate(yn,lt),Jn)throw new ce.ErrnoError(Jn);if(!Zt.node_ops.rename)throw new ce.ErrnoError(63);if(ce.isMountpoint(or)||mr&&ce.isMountpoint(mr))throw new ce.ErrnoError(10);if(yn!==Zt&&(Jn=ce.nodePermissions(Zt,"w"),Jn))throw new ce.ErrnoError(Jn);try{ce.trackingDelegate.willMovePath&&ce.trackingDelegate.willMovePath(L,ee)}catch(Nr){Ie("FS.trackingDelegate['willMovePath']('"+L+"', '"+ee+"') threw an exception: "+Nr.message)}ce.hashRemoveNode(or);try{Zt.node_ops.rename(or,yn,lt)}catch(Nr){throw Nr}finally{ce.hashAddNode(or)}try{ce.trackingDelegate.onMovePath&&ce.trackingDelegate.onMovePath(L,ee)}catch(Nr){Ie("FS.trackingDelegate['onMovePath']('"+L+"', '"+ee+"') threw an exception: "+Nr.message)}}},rmdir:function(L){var ee=ce.lookupPath(L,{parent:!0}),he=ee.node,Pe=zr.basename(L),We=ce.lookupNode(he,Pe),lt=ce.mayDelete(he,Pe,!0);if(lt)throw new ce.ErrnoError(lt);if(!he.node_ops.rmdir)throw new ce.ErrnoError(63);if(ce.isMountpoint(We))throw new ce.ErrnoError(10);try{ce.trackingDelegate.willDeletePath&&ce.trackingDelegate.willDeletePath(L)}catch(wt){Ie("FS.trackingDelegate['willDeletePath']('"+L+"') threw an exception: "+wt.message)}he.node_ops.rmdir(he,Pe),ce.destroyNode(We);try{ce.trackingDelegate.onDeletePath&&ce.trackingDelegate.onDeletePath(L)}catch(wt){Ie("FS.trackingDelegate['onDeletePath']('"+L+"') threw an exception: "+wt.message)}},readdir:function(L){var ee=ce.lookupPath(L,{follow:!0}),he=ee.node;if(!he.node_ops.readdir)throw new ce.ErrnoError(54);return he.node_ops.readdir(he)},unlink:function(L){var ee=ce.lookupPath(L,{parent:!0}),he=ee.node,Pe=zr.basename(L),We=ce.lookupNode(he,Pe),lt=ce.mayDelete(he,Pe,!1);if(lt)throw new ce.ErrnoError(lt);if(!he.node_ops.unlink)throw new ce.ErrnoError(63);if(ce.isMountpoint(We))throw new ce.ErrnoError(10);try{ce.trackingDelegate.willDeletePath&&ce.trackingDelegate.willDeletePath(L)}catch(wt){Ie("FS.trackingDelegate['willDeletePath']('"+L+"') threw an exception: "+wt.message)}he.node_ops.unlink(he,Pe),ce.destroyNode(We);try{ce.trackingDelegate.onDeletePath&&ce.trackingDelegate.onDeletePath(L)}catch(wt){Ie("FS.trackingDelegate['onDeletePath']('"+L+"') threw an exception: "+wt.message)}},readlink:function(L){var ee=ce.lookupPath(L),he=ee.node;if(!he)throw new ce.ErrnoError(44);if(!he.node_ops.readlink)throw new ce.ErrnoError(28);return Fa.resolve(ce.getPath(he.parent),he.node_ops.readlink(he))},stat:function(L,ee){var he=ce.lookupPath(L,{follow:!ee}),Pe=he.node;if(!Pe)throw new ce.ErrnoError(44);if(!Pe.node_ops.getattr)throw new ce.ErrnoError(63);return Pe.node_ops.getattr(Pe)},lstat:function(L){return ce.stat(L,!0)},chmod:function(L,ee,he){var Pe;if(typeof L=="string"){var We=ce.lookupPath(L,{follow:!he});Pe=We.node}else Pe=L;if(!Pe.node_ops.setattr)throw new ce.ErrnoError(63);Pe.node_ops.setattr(Pe,{mode:ee&4095|Pe.mode&-4096,timestamp:Date.now()})},lchmod:function(L,ee){ce.chmod(L,ee,!0)},fchmod:function(L,ee){var he=ce.getStream(L);if(!he)throw new ce.ErrnoError(8);ce.chmod(he.node,ee)},chown:function(L,ee,he,Pe){var We;if(typeof L=="string"){var lt=ce.lookupPath(L,{follow:!Pe});We=lt.node}else We=L;if(!We.node_ops.setattr)throw new ce.ErrnoError(63);We.node_ops.setattr(We,{timestamp:Date.now()})},lchown:function(L,ee,he){ce.chown(L,ee,he,!0)},fchown:function(L,ee,he){var Pe=ce.getStream(L);if(!Pe)throw new ce.ErrnoError(8);ce.chown(Pe.node,ee,he)},truncate:function(L,ee){if(ee<0)throw new ce.ErrnoError(28);var he;if(typeof L=="string"){var Pe=ce.lookupPath(L,{follow:!0});he=Pe.node}else he=L;if(!he.node_ops.setattr)throw new ce.ErrnoError(63);if(ce.isDir(he.mode))throw new ce.ErrnoError(31);if(!ce.isFile(he.mode))throw new ce.ErrnoError(28);var We=ce.nodePermissions(he,"w");if(We)throw new ce.ErrnoError(We);he.node_ops.setattr(he,{size:ee,timestamp:Date.now()})},ftruncate:function(L,ee){var he=ce.getStream(L);if(!he)throw new ce.ErrnoError(8);if((he.flags&2097155)===0)throw new ce.ErrnoError(28);ce.truncate(he.node,ee)},utime:function(L,ee,he){var Pe=ce.lookupPath(L,{follow:!0}),We=Pe.node;We.node_ops.setattr(We,{timestamp:Math.max(ee,he)})},open:function(L,ee,he,Pe,We){if(L==="")throw new ce.ErrnoError(44);ee=typeof ee=="string"?ce.modeStringToFlags(ee):ee,he=typeof he>"u"?438:he,ee&64?he=he&4095|32768:he=0;var lt;if(I(L)==="object")lt=L;else{L=zr.normalize(L);try{var wt=ce.lookupPath(L,{follow:!(ee&131072)});lt=wt.node}catch{}}var Zt=!1;if(ee&64)if(lt){if(ee&128)throw new ce.ErrnoError(20)}else lt=ce.mknod(L,he,0),Zt=!0;if(!lt)throw new ce.ErrnoError(44);if(ce.isChrdev(lt.mode)&&(ee&=-513),ee&65536&&!ce.isDir(lt.mode))throw new ce.ErrnoError(54);if(!Zt){var yn=ce.mayOpen(lt,ee);if(yn)throw new ce.ErrnoError(yn)}ee&512&&ce.truncate(lt,0),ee&=-131713;var or=ce.createStream({node:lt,path:ce.getPath(lt),flags:ee,seekable:!0,position:0,stream_ops:lt.stream_ops,ungotten:[],error:!1},Pe,We);or.stream_ops.open&&or.stream_ops.open(or),Ge.logReadFiles&&!(ee&1)&&(ce.readFiles||(ce.readFiles={}),L in ce.readFiles||(ce.readFiles[L]=1,Ie("FS.trackingDelegate error on read file: "+L)));try{if(ce.trackingDelegate.onOpenFile){var gr=0;(ee&2097155)!==1&&(gr|=ce.tracking.openFlags.READ),(ee&2097155)!==0&&(gr|=ce.tracking.openFlags.WRITE),ce.trackingDelegate.onOpenFile(L,gr)}}catch(mr){Ie("FS.trackingDelegate['onOpenFile']('"+L+"', flags) threw an exception: "+mr.message)}return or},close:function(L){if(ce.isClosed(L))throw new ce.ErrnoError(8);L.getdents&&(L.getdents=null);try{L.stream_ops.close&&L.stream_ops.close(L)}catch(ee){throw ee}finally{ce.closeStream(L.fd)}L.fd=null},isClosed:function(L){return L.fd===null},llseek:function(L,ee,he){if(ce.isClosed(L))throw new ce.ErrnoError(8);if(!L.seekable||!L.stream_ops.llseek)throw new ce.ErrnoError(70);if(he!=0&&he!=1&&he!=2)throw new ce.ErrnoError(28);return L.position=L.stream_ops.llseek(L,ee,he),L.ungotten=[],L.position},read:function(L,ee,he,Pe,We){if(Pe<0||We<0)throw new ce.ErrnoError(28);if(ce.isClosed(L))throw new ce.ErrnoError(8);if((L.flags&2097155)===1)throw new ce.ErrnoError(8);if(ce.isDir(L.node.mode))throw new ce.ErrnoError(31);if(!L.stream_ops.read)throw new ce.ErrnoError(28);var lt=typeof We<"u";if(!lt)We=L.position;else if(!L.seekable)throw new ce.ErrnoError(70);var wt=L.stream_ops.read(L,ee,he,Pe,We);return lt||(L.position+=wt),wt},write:function(L,ee,he,Pe,We,lt){if(Pe<0||We<0)throw new ce.ErrnoError(28);if(ce.isClosed(L))throw new ce.ErrnoError(8);if((L.flags&2097155)===0)throw new ce.ErrnoError(8);if(ce.isDir(L.node.mode))throw new ce.ErrnoError(31);if(!L.stream_ops.write)throw new ce.ErrnoError(28);L.seekable&&L.flags&1024&&ce.llseek(L,0,2);var wt=typeof We<"u";if(!wt)We=L.position;else if(!L.seekable)throw new ce.ErrnoError(70);var Zt=L.stream_ops.write(L,ee,he,Pe,We,lt);wt||(L.position+=Zt);try{L.path&&ce.trackingDelegate.onWriteToFile&&ce.trackingDelegate.onWriteToFile(L.path)}catch(yn){Ie("FS.trackingDelegate['onWriteToFile']('"+L.path+"') threw an exception: "+yn.message)}return Zt},allocate:function(L,ee,he){if(ce.isClosed(L))throw new ce.ErrnoError(8);if(ee<0||he<=0)throw new ce.ErrnoError(28);if((L.flags&2097155)===0)throw new ce.ErrnoError(8);if(!ce.isFile(L.node.mode)&&!ce.isDir(L.node.mode))throw new ce.ErrnoError(43);if(!L.stream_ops.allocate)throw new ce.ErrnoError(138);L.stream_ops.allocate(L,ee,he)},mmap:function(L,ee,he,Pe,We,lt){if((We&2)!==0&&(lt&2)===0&&(L.flags&2097155)!==2)throw new ce.ErrnoError(2);if((L.flags&2097155)===1)throw new ce.ErrnoError(2);if(!L.stream_ops.mmap)throw new ce.ErrnoError(43);return L.stream_ops.mmap(L,ee,he,Pe,We,lt)},msync:function(L,ee,he,Pe,We){return!L||!L.stream_ops.msync?0:L.stream_ops.msync(L,ee,he,Pe,We)},munmap:function(L){return 0},ioctl:function(L,ee,he){if(!L.stream_ops.ioctl)throw new ce.ErrnoError(59);return L.stream_ops.ioctl(L,ee,he)},readFile:function(L,ee){if(ee=ee||{},ee.flags=ee.flags||0,ee.encoding=ee.encoding||"binary",ee.encoding!=="utf8"&&ee.encoding!=="binary")throw new Error('Invalid encoding type "'+ee.encoding+'"');var he,Pe=ce.open(L,ee.flags),We=ce.stat(L),lt=We.size,wt=new Uint8Array(lt);return ce.read(Pe,wt,0,lt,0),ee.encoding==="utf8"?he=Ml(wt,0):ee.encoding==="binary"&&(he=wt),ce.close(Pe),he},writeFile:function(L,ee,he){he=he||{},he.flags=he.flags||577;var Pe=ce.open(L,he.flags,he.mode);if(typeof ee=="string"){var We=new Uint8Array(kt(ee)+1),lt=Lf(ee,We,0,We.length);ce.write(Pe,We,0,lt,void 0,he.canOwn)}else if(ArrayBuffer.isView(ee))ce.write(Pe,ee,0,ee.byteLength,void 0,he.canOwn);else throw new Error("Unsupported data type");ce.close(Pe)},cwd:function(){return ce.currentPath},chdir:function(L){var ee=ce.lookupPath(L,{follow:!0});if(ee.node===null)throw new ce.ErrnoError(44);if(!ce.isDir(ee.node.mode))throw new ce.ErrnoError(54);var he=ce.nodePermissions(ee.node,"x");if(he)throw new ce.ErrnoError(he);ce.currentPath=ee.path},createDefaultDirectories:function(){ce.mkdir("/tmp"),ce.mkdir("/home"),ce.mkdir("/home/web_user")},createDefaultDevices:function(){ce.mkdir("/dev"),ce.registerDevice(ce.makedev(1,3),{read:function(){return 0},write:function(he,Pe,We,lt,wt){return lt}}),ce.mkdev("/dev/null",ce.makedev(1,3)),xc.register(ce.makedev(5,0),xc.default_tty_ops),xc.register(ce.makedev(6,0),xc.default_tty1_ops),ce.mkdev("/dev/tty",ce.makedev(5,0)),ce.mkdev("/dev/tty1",ce.makedev(6,0));var L=aF();ce.createDevice("/dev","random",L),ce.createDevice("/dev","urandom",L),ce.mkdir("/dev/shm"),ce.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){ce.mkdir("/proc");var L=ce.mkdir("/proc/self");ce.mkdir("/proc/self/fd"),ce.mount({mount:function(){var he=ce.createNode(L,"fd",16895,73);return he.node_ops={lookup:function(We,lt){var wt=+lt,Zt=ce.getStream(wt);if(!Zt)throw new ce.ErrnoError(8);var yn={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return Zt.path}}};return yn.parent=yn,yn}},he}},{},"/proc/self/fd")},createStandardStreams:function(){Ge.stdin?ce.createDevice("/dev","stdin",Ge.stdin):ce.symlink("/dev/tty","/dev/stdin"),Ge.stdout?ce.createDevice("/dev","stdout",null,Ge.stdout):ce.symlink("/dev/tty","/dev/stdout"),Ge.stderr?ce.createDevice("/dev","stderr",null,Ge.stderr):ce.symlink("/dev/tty1","/dev/stderr"),ce.open("/dev/stdin",0),ce.open("/dev/stdout",1),ce.open("/dev/stderr",1)},ensureErrnoError:function(){ce.ErrnoError||(ce.ErrnoError=function(ee,he){this.node=he,this.setErrno=function(Pe){this.errno=Pe},this.setErrno(ee),this.message="FS error"},ce.ErrnoError.prototype=new Error,ce.ErrnoError.prototype.constructor=ce.ErrnoError,[44].forEach(function(L){ce.genericErrors[L]=new ce.ErrnoError(L),ce.genericErrors[L].stack="<generic error, no stack>"}))},staticInit:function(){ce.ensureErrnoError(),ce.nameTable=new Array(4096),ce.mount(wr,{},"/"),ce.createDefaultDirectories(),ce.createDefaultDevices(),ce.createSpecialDirectories(),ce.filesystems={MEMFS:wr}},init:function(L,ee,he){ce.init.initialized=!0,ce.ensureErrnoError(),Ge.stdin=L||Ge.stdin,Ge.stdout=ee||Ge.stdout,Ge.stderr=he||Ge.stderr,ce.createStandardStreams()},quit:function(){ce.init.initialized=!1;var L=Ge._fflush;L&&L(0);for(var ee=0;ee<ce.streams.length;ee++){var he=ce.streams[ee];!he||ce.close(he)}},getMode:function(L,ee){var he=0;return L&&(he|=365),ee&&(he|=146),he},findObject:function(L,ee){var he=ce.analyzePath(L,ee);return he.exists?he.object:null},analyzePath:function(L,ee){try{var he=ce.lookupPath(L,{follow:!ee});L=he.path}catch{}var Pe={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var he=ce.lookupPath(L,{parent:!0});Pe.parentExists=!0,Pe.parentPath=he.path,Pe.parentObject=he.node,Pe.name=zr.basename(L),he=ce.lookupPath(L,{follow:!ee}),Pe.exists=!0,Pe.path=he.path,Pe.object=he.node,Pe.name=he.node.name,Pe.isRoot=he.path==="/"}catch(We){Pe.error=We.errno}return Pe},createPath:function(L,ee,he,Pe){L=typeof L=="string"?L:ce.getPath(L);for(var We=ee.split("/").reverse();We.length;){var lt=We.pop();if(!!lt){var wt=zr.join2(L,lt);try{ce.mkdir(wt)}catch{}L=wt}}return wt},createFile:function(L,ee,he,Pe,We){var lt=zr.join2(typeof L=="string"?L:ce.getPath(L),ee),wt=ce.getMode(Pe,We);return ce.create(lt,wt)},createDataFile:function(L,ee,he,Pe,We,lt){var wt=ee?zr.join2(typeof L=="string"?L:ce.getPath(L),ee):L,Zt=ce.getMode(Pe,We),yn=ce.create(wt,Zt);if(he){if(typeof he=="string"){for(var or=new Array(he.length),gr=0,mr=he.length;gr<mr;++gr)or[gr]=he.charCodeAt(gr);he=or}ce.chmod(yn,Zt|146);var fr=ce.open(yn,577);ce.write(fr,he,0,he.length,0,lt),ce.close(fr),ce.chmod(yn,Zt)}return yn},createDevice:function(L,ee,he,Pe){var We=zr.join2(typeof L=="string"?L:ce.getPath(L),ee),lt=ce.getMode(!!he,!!Pe);ce.createDevice.major||(ce.createDevice.major=64);var wt=ce.makedev(ce.createDevice.major++,0);return ce.registerDevice(wt,{open:function(yn){yn.seekable=!1},close:function(yn){Pe&&Pe.buffer&&Pe.buffer.length&&Pe(10)},read:function(yn,or,gr,mr,fr){for(var Jn=0,Nr=0;Nr<mr;Nr++){var wi;try{wi=he()}catch{throw new ce.ErrnoError(29)}if(wi===void 0&&Jn===0)throw new ce.ErrnoError(6);if(wi==null)break;Jn++,or[gr+Nr]=wi}return Jn&&(yn.node.timestamp=Date.now()),Jn},write:function(yn,or,gr,mr,fr){for(var Jn=0;Jn<mr;Jn++)try{Pe(or[gr+Jn])}catch{throw new ce.ErrnoError(29)}return mr&&(yn.node.timestamp=Date.now()),Jn}}),ce.mkdev(We,lt,wt)},forceLoadFile:function(L){if(L.isDevice||L.isFolder||L.link||L.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(Ye)try{L.contents=CA(Ye(L.url),!0),L.usedBytes=L.contents.length}catch{throw new ce.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(L,ee,he,Pe,We){function lt(){this.lengthKnown=!1,this.chunks=[]}if(lt.prototype.get=function(fr){if(!(fr>this.length-1||fr<0)){var Jn=fr%this.chunkSize,Nr=fr/this.chunkSize|0;return this.getter(Nr)[Jn]}},lt.prototype.setDataGetter=function(fr){this.getter=fr},lt.prototype.cacheLength=function(){var fr=new XMLHttpRequest;if(fr.open("HEAD",he,!1),fr.send(null),!(fr.status>=200&&fr.status<300||fr.status===304))throw new Error("Couldn't load "+he+". Status: "+fr.status);var Jn=Number(fr.getResponseHeader("Content-length")),Nr,wi=(Nr=fr.getResponseHeader("Accept-Ranges"))&&Nr==="bytes",Rc=(Nr=fr.getResponseHeader("Content-Encoding"))&&Nr==="gzip",Fs=1024*1024;wi||(Fs=Jn);var Ff=function(Vf,Rl){if(Vf>Rl)throw new Error("invalid range ("+Vf+", "+Rl+") or no bytes requested!");if(Rl>Jn-1)throw new Error("only "+Jn+" bytes available! programmer error!");var Vs=new XMLHttpRequest;if(Vs.open("GET",he,!1),Jn!==Fs&&Vs.setRequestHeader("Range","bytes="+Vf+"-"+Rl),typeof Uint8Array<"u"&&(Vs.responseType="arraybuffer"),Vs.overrideMimeType&&Vs.overrideMimeType("text/plain; charset=x-user-defined"),Vs.send(null),!(Vs.status>=200&&Vs.status<300||Vs.status===304))throw new Error("Couldn't load "+he+". Status: "+Vs.status);return Vs.response!==void 0?new Uint8Array(Vs.response||[]):CA(Vs.responseText||"",!0)},ds=this;ds.setDataGetter(function(Tc){var Vf=Tc*Fs,Rl=(Tc+1)*Fs-1;if(Rl=Math.min(Rl,Jn-1),typeof ds.chunks[Tc]>"u"&&(ds.chunks[Tc]=Ff(Vf,Rl)),typeof ds.chunks[Tc]>"u")throw new Error("doXHR failed!");return ds.chunks[Tc]}),(Rc||!Jn)&&(Fs=Jn=1,Jn=this.getter(0).length,Fs=Jn,sn("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Jn,this._chunkSize=Fs,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var wt,Zt}else var Zt={isDevice:!1,url:he};var yn=ce.createFile(L,ee,Zt,Pe,We);Zt.contents?yn.contents=Zt.contents:Zt.url&&(yn.contents=null,yn.url=Zt.url),Object.defineProperties(yn,{usedBytes:{get:function(){return this.contents.length}}});var or={},gr=Object.keys(yn.stream_ops);return gr.forEach(function(mr){var fr=yn.stream_ops[mr];or[mr]=function(){return ce.forceLoadFile(yn),fr.apply(null,arguments)}}),or.read=function(fr,Jn,Nr,wi,Rc){ce.forceLoadFile(yn);var Fs=fr.node.contents;if(Rc>=Fs.length)return 0;var Ff=Math.min(Fs.length-Rc,wi);if(Fs.slice)for(var ds=0;ds<Ff;ds++)Jn[Nr+ds]=Fs[Rc+ds];else for(var ds=0;ds<Ff;ds++)Jn[Nr+ds]=Fs.get(Rc+ds);return Ff},yn.stream_ops=or,yn},createPreloadedFile:function(L,ee,he,Pe,We,lt,wt,Zt,yn,or){Browser.init();var gr=ee?Fa.resolve(zr.join2(L,ee)):L;function mr(fr){function Jn(wi){or&&or(),Zt||ce.createDataFile(L,ee,wi,Pe,We,yn),lt&&lt(),No()}var Nr=!1;Ge.preloadPlugins.forEach(function(wi){Nr||wi.canHandle(gr)&&(wi.handle(fr,gr,Jn,function(){wt&&wt(),No()}),Nr=!0)}),Nr||Jn(fr)}Gi(),typeof he=="string"?Browser.asyncLoad(he,function(fr){mr(fr)},wt):mr(he)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(L,ee,he){ee=ee||function(){},he=he||function(){};var Pe=ce.indexedDB();try{var We=Pe.open(ce.DB_NAME(),ce.DB_VERSION)}catch(lt){return he(lt)}We.onupgradeneeded=function(){sn("creating db");var wt=We.result;wt.createObjectStore(ce.DB_STORE_NAME)},We.onsuccess=function(){var wt=We.result,Zt=wt.transaction([ce.DB_STORE_NAME],"readwrite"),yn=Zt.objectStore(ce.DB_STORE_NAME),or=0,gr=0,mr=L.length;function fr(){gr==0?ee():he()}L.forEach(function(Jn){var Nr=yn.put(ce.analyzePath(Jn).object.contents,Jn);Nr.onsuccess=function(){or++,or+gr==mr&&fr()},Nr.onerror=function(){gr++,or+gr==mr&&fr()}}),Zt.onerror=he},We.onerror=he},loadFilesFromDB:function(L,ee,he){ee=ee||function(){},he=he||function(){};var Pe=ce.indexedDB();try{var We=Pe.open(ce.DB_NAME(),ce.DB_VERSION)}catch(lt){return he(lt)}We.onupgradeneeded=he,We.onsuccess=function(){var wt=We.result;try{var Zt=wt.transaction([ce.DB_STORE_NAME],"readonly")}catch(Jn){he(Jn);return}var yn=Zt.objectStore(ce.DB_STORE_NAME),or=0,gr=0,mr=L.length;function fr(){gr==0?ee():he()}L.forEach(function(Jn){var Nr=yn.get(Jn);Nr.onsuccess=function(){ce.analyzePath(Jn).exists&&ce.unlink(Jn),ce.createDataFile(zr.dirname(Jn),zr.basename(Jn),Nr.result,!0,!0,!0),or++,or+gr==mr&&fr()},Nr.onerror=function(){gr++,or+gr==mr&&fr()}}),Zt.onerror=he},We.onerror=he}},ca={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(L,ee,he){if(ee[0]==="/")return ee;var Pe;if(L===-100)Pe=ce.cwd();else{var We=ce.getStream(L);if(!We)throw new ce.ErrnoError(8);Pe=We.path}if(ee.length==0){if(!he)throw new ce.ErrnoError(44);return Pe}return zr.join2(Pe,ee)},doStat:function(L,ee,he){try{var Pe=L(ee)}catch(We){if(We&&We.node&&zr.normalize(ee)!==zr.normalize(ce.getPath(We.node)))return-54;throw We}return Rn[he>>2]=Pe.dev,Rn[he+4>>2]=0,Rn[he+8>>2]=Pe.ino,Rn[he+12>>2]=Pe.mode,Rn[he+16>>2]=Pe.nlink,Rn[he+20>>2]=Pe.uid,Rn[he+24>>2]=Pe.gid,Rn[he+28>>2]=Pe.rdev,Rn[he+32>>2]=0,to=[Pe.size>>>0,(yi=Pe.size,+Math.abs(yi)>=1?yi>0?(Math.min(+Math.floor(yi/4294967296),4294967295)|0)>>>0:~~+Math.ceil((yi-+(~~yi>>>0))/4294967296)>>>0:0)],Rn[he+40>>2]=to[0],Rn[he+44>>2]=to[1],Rn[he+48>>2]=4096,Rn[he+52>>2]=Pe.blocks,Rn[he+56>>2]=Pe.atime.getTime()/1e3|0,Rn[he+60>>2]=0,Rn[he+64>>2]=Pe.mtime.getTime()/1e3|0,Rn[he+68>>2]=0,Rn[he+72>>2]=Pe.ctime.getTime()/1e3|0,Rn[he+76>>2]=0,to=[Pe.ino>>>0,(yi=Pe.ino,+Math.abs(yi)>=1?yi>0?(Math.min(+Math.floor(yi/4294967296),4294967295)|0)>>>0:~~+Math.ceil((yi-+(~~yi>>>0))/4294967296)>>>0:0)],Rn[he+80>>2]=to[0],Rn[he+84>>2]=to[1],0},doMsync:function(L,ee,he,Pe,We){var lt=lr.slice(L,L+he);ce.msync(ee,lt,We,he,Pe)},doMkdir:function(L,ee){return L=zr.normalize(L),L[L.length-1]==="/"&&(L=L.substr(0,L.length-1)),ce.mkdir(L,ee,0),0},doMknod:function(L,ee,he){switch(ee&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return ce.mknod(L,ee,he),0},doReadlink:function(L,ee,he){if(he<=0)return-28;var Pe=ce.readlink(L),We=Math.min(he,kt(Pe)),lt=Wn[ee+We];return He(Pe,ee,he+1),Wn[ee+We]=lt,We},doAccess:function(L,ee){if(ee&-8)return-28;var he,Pe=ce.lookupPath(L,{follow:!0});if(he=Pe.node,!he)return-44;var We="";return ee&4&&(We+="r"),ee&2&&(We+="w"),ee&1&&(We+="x"),We&&ce.nodePermissions(he,We)?-2:0},doDup:function(L,ee,he){var Pe=ce.getStream(he);return Pe&&ce.close(Pe),ce.open(L,ee,0,he,he).fd},doReadv:function(L,ee,he,Pe){for(var We=0,lt=0;lt<he;lt++){var wt=Rn[ee+lt*8>>2],Zt=Rn[ee+(lt*8+4)>>2],yn=ce.read(L,Wn,wt,Zt,Pe);if(yn<0)return-1;if(We+=yn,yn<Zt)break}return We},doWritev:function(L,ee,he,Pe){for(var We=0,lt=0;lt<he;lt++){var wt=Rn[ee+lt*8>>2],Zt=Rn[ee+(lt*8+4)>>2],yn=ce.write(L,Wn,wt,Zt,Pe);if(yn<0)return-1;We+=yn}return We},varargs:void 0,get:function(){ca.varargs+=4;var L=Rn[ca.varargs-4>>2];return L},getStr:function(L){var ee=Mc(L);return ee},getStreamFromFD:function(L){var ee=ce.getStream(L);if(!ee)throw new ce.ErrnoError(8);return ee},get64:function(L,ee){return L}};function cF(Se,L,ee,he,Pe,We){We<<=12;var lt,wt=!1;if((he&16)!==0&&Se%65536!==0)return-28;if((he&32)!==0){if(lt=Yw(65536,L),!lt)return-48;Jw(lt,0,L),wt=!0}else{var Zt=ce.getStream(Pe);if(!Zt)return-8;var yn=ce.mmap(Zt,Se,L,We,ee,he);lt=yn.ptr,wt=yn.allocated}return ca.mappings[lt]={malloc:lt,len:L,allocated:wt,fd:Pe,prot:ee,flags:he,offset:We},lt}function uF(Se,L,ee,he,Pe,We){try{return cF(Se,L,ee,he,Pe,We)}catch(lt){return(typeof ce>"u"||!(lt instanceof ce.ErrnoError))&&Ui(lt),-lt.errno}}function dF(Se,L,ee){return 0}function fF(Se,L){if((Se|0)===-1||L===0)return-28;var ee=ca.mappings[Se];if(!ee)return 0;if(L===ee.len){var he=ce.getStream(ee.fd);he&&ee.prot&2&&ca.doMsync(Se,he,L,ee.flags,ee.offset),ca.mappings[Se]=null,ee.allocated&&qw(ee.malloc)}return 0}function hF(Se,L){try{return fF(Se,L)}catch(ee){return(typeof ce>"u"||!(ee instanceof ce.ErrnoError))&&Ui(ee),-ee.errno}}function pF(){Ui()}function mF(Se,L){throw Do(Se,L||1),"longjmp"}function gF(Se,L){return mF(Se,L)}function vF(Se,L,ee){lr.copyWithin(Se,L,L+ee)}function _F(Se){try{return ti.grow(Se-tn.byteLength+65535>>>16),Fr(ti.buffer),1}catch{}}function AF(Se){var L=lr.length;Se=Se>>>0;var ee=2147483648;if(Se>ee)return!1;for(var he=1;he<=4;he*=2){var Pe=L*(1+.2/he);Pe=Math.min(Pe,Se+100663296);var We=Math.min(ee,Nt(Math.max(Se,Pe),65536)),lt=_F(We);if(lt)return!0}return!1}var wA;wA=function(){return performance.now()};function yF(Se){for(var L=wA();wA()-L<Se;);}function bF(Se){QF(Se)}function SF(Se){try{var L=ca.getStreamFromFD(Se);return ce.close(L),0}catch(ee){return(typeof ce>"u"||!(ee instanceof ce.ErrnoError))&&Ui(ee),ee.errno}}function EF(Se,L,ee,he,Pe){try{var We=ca.getStreamFromFD(Se),lt=4294967296,wt=ee*lt+(L>>>0),Zt=9007199254740992;return wt<=-Zt||wt>=Zt?-61:(ce.llseek(We,wt,he),to=[We.position>>>0,(yi=We.position,+Math.abs(yi)>=1?yi>0?(Math.min(+Math.floor(yi/4294967296),4294967295)|0)>>>0:~~+Math.ceil((yi-+(~~yi>>>0))/4294967296)>>>0:0)],Rn[Pe>>2]=to[0],Rn[Pe+4>>2]=to[1],We.getdents&&wt===0&&he===0&&(We.getdents=null),0)}catch(yn){return(typeof ce>"u"||!(yn instanceof ce.ErrnoError))&&Ui(yn),yn.errno}}function wF(Se,L,ee,he){try{var Pe=ca.getStreamFromFD(Se),We=ca.doWritev(Pe,L,ee);return Rn[he>>2]=We,0}catch(lt){return(typeof ce>"u"||!(lt instanceof ce.ErrnoError))&&Ui(lt),lt.errno}}function CF(){return kn()}function IF(Se){var L=Date.now();return Rn[Se>>2]=L/1e3|0,Rn[Se+4>>2]=L%1e3*1e3|0,0}function MF(){return 6}function xF(){return 28}function RF(Se,L,ee){return Ie("pthread_sigmask() is not supported: this is a no-op."),0}function TF(Se){On(Se)}function NF(Se){return Rn[Se>>2]=-1>>>0,0}var Kw=function(L,ee,he,Pe){L||(L=this),this.parent=L,this.mount=L.mount,this.mounted=null,this.id=ce.nextInode++,this.name=ee,this.mode=he,this.node_ops={},this.stream_ops={},this.rdev=Pe},im=365,sm=146;Object.defineProperties(Kw.prototype,{read:{get:function(){return(this.mode&im)===im},set:function(L){L?this.mode|=im:this.mode&=~im}},write:{get:function(){return(this.mode&sm)===sm},set:function(L){L?this.mode|=sm:this.mode&=~sm}},isFolder:{get:function(){return ce.isDir(this.mode)}},isDevice:{get:function(){return ce.isChrdev(this.mode)}}}),ce.FSNode=Kw,ce.staticInit();function CA(Se,L,ee){var he=ee>0?ee:kt(Se)+1,Pe=new Array(he),We=Lf(Se,Pe,0,Pe.length);return L&&(Pe.length=We),Pe}var PF={a:oF,v:uF,x:dF,w:hF,b:pF,f:gF,B:vF,C:AF,r:yF,e:bF,m:SF,q:EF,l:wF,d:CF,k:IF,h:BF,i:OF,z:VF,j:DF,g:LF,y:GF,A:FF,o:kF,p:UF,t:MF,s:xF,n:RF,c:TF,u:NF};iF(),Ge.___wasm_call_ctors=function(){return(Ge.___wasm_call_ctors=Ge.asm.E).apply(null,arguments)},Ge._uc_version=function(){return(Ge._uc_version=Ge.asm.F).apply(null,arguments)},Ge._uc_errno=function(){return(Ge._uc_errno=Ge.asm.G).apply(null,arguments)},Ge._uc_strerror=function(){return(Ge._uc_strerror=Ge.asm.H).apply(null,arguments)},Ge._uc_arch_supported=function(){return(Ge._uc_arch_supported=Ge.asm.I).apply(null,arguments)},Ge._uc_open=function(){return(Ge._uc_open=Ge.asm.J).apply(null,arguments)},Ge._uc_close=function(){return(Ge._uc_close=Ge.asm.K).apply(null,arguments)},Ge._uc_reg_read_batch=function(){return(Ge._uc_reg_read_batch=Ge.asm.L).apply(null,arguments)},Ge._uc_reg_write_batch=function(){return(Ge._uc_reg_write_batch=Ge.asm.M).apply(null,arguments)},Ge._uc_reg_read=function(){return(Ge._uc_reg_read=Ge.asm.N).apply(null,arguments)},Ge._uc_reg_write=function(){return(Ge._uc_reg_write=Ge.asm.O).apply(null,arguments)},Ge._uc_mem_read=function(){return(Ge._uc_mem_read=Ge.asm.P).apply(null,arguments)},Ge._uc_mem_write=function(){return(Ge._uc_mem_write=Ge.asm.Q).apply(null,arguments)},Ge._uc_emu_start=function(){return(Ge._uc_emu_start=Ge.asm.R).apply(null,arguments)},Ge._uc_hook_del=function(){return(Ge._uc_hook_del=Ge.asm.S).apply(null,arguments)},Ge._uc_hook_add=function(){return(Ge._uc_hook_add=Ge.asm.T).apply(null,arguments)},Ge._uc_emu_stop=function(){return(Ge._uc_emu_stop=Ge.asm.U).apply(null,arguments)},Ge._uc_mem_map=function(){return(Ge._uc_mem_map=Ge.asm.V).apply(null,arguments)},Ge._uc_mem_map_ptr=function(){return(Ge._uc_mem_map_ptr=Ge.asm.W).apply(null,arguments)},Ge._uc_mem_protect=function(){return(Ge._uc_mem_protect=Ge.asm.X).apply(null,arguments)},Ge._uc_mem_unmap=function(){return(Ge._uc_mem_unmap=Ge.asm.Y).apply(null,arguments)},Ge._uc_mem_regions=function(){return(Ge._uc_mem_regions=Ge.asm.Z).apply(null,arguments)},Ge._uc_query=function(){return(Ge._uc_query=Ge.asm._).apply(null,arguments)},Ge._uc_context_alloc=function(){return(Ge._uc_context_alloc=Ge.asm.$).apply(null,arguments)},Ge._uc_free=function(){return(Ge._uc_free=Ge.asm.aa).apply(null,arguments)},Ge._uc_context_save=function(){return(Ge._uc_context_save=Ge.asm.ba).apply(null,arguments)},Ge._uc_context_restore=function(){return(Ge._uc_context_restore=Ge.asm.ca).apply(null,arguments)};var Po=Ge.stackSave=function(){return(Po=Ge.stackSave=Ge.asm.da).apply(null,arguments)},Bo=Ge.stackRestore=function(){return(Bo=Ge.stackRestore=Ge.asm.ea).apply(null,arguments)},IA=Ge.stackAlloc=function(){return(IA=Ge.stackAlloc=Ge.asm.fa).apply(null,arguments)},Do=Ge._setThrew=function(){return(Do=Ge._setThrew=Ge.asm.ga).apply(null,arguments)},jw=Ge._malloc=function(){return(jw=Ge._malloc=Ge.asm.ha).apply(null,arguments)},qw=Ge._free=function(){return(qw=Ge._free=Ge.asm.ia).apply(null,arguments)},Yw=Ge._memalign=function(){return(Yw=Ge._memalign=Ge.asm.ja).apply(null,arguments)},Jw=Ge._memset=function(){return(Jw=Ge._memset=Ge.asm.ka).apply(null,arguments)},Zw=Ge.dynCall_vij=function(){return(Zw=Ge.dynCall_vij=Ge.asm.ma).apply(null,arguments)};function BF(Se,L){var ee=Po();try{return Mr.get(Se)(L)}catch(he){if(Bo(ee),he!==he+0&&he!=="longjmp")throw he;Do(1,0)}}function DF(Se,L,ee,he,Pe,We,lt){var wt=Po();try{return Mr.get(Se)(L,ee,he,Pe,We,lt)}catch(Zt){if(Bo(wt),Zt!==Zt+0&&Zt!=="longjmp")throw Zt;Do(1,0)}}function kF(Se,L,ee,he,Pe){var We=Po();try{Mr.get(Se)(L,ee,he,Pe)}catch(lt){if(Bo(We),lt!==lt+0&&lt!=="longjmp")throw lt;Do(1,0)}}function LF(Se,L){var ee=Po();try{Mr.get(Se)(L)}catch(he){if(Bo(ee),he!==he+0&&he!=="longjmp")throw he;Do(1,0)}}function OF(Se,L,ee){var he=Po();try{return Mr.get(Se)(L,ee)}catch(Pe){if(Bo(he),Pe!==Pe+0&&Pe!=="longjmp")throw Pe;Do(1,0)}}function FF(Se,L,ee,he){var Pe=Po();try{Mr.get(Se)(L,ee,he)}catch(We){if(Bo(Pe),We!==We+0&&We!=="longjmp")throw We;Do(1,0)}}function VF(Se,L,ee,he,Pe,We){var lt=Po();try{return Mr.get(Se)(L,ee,he,Pe,We)}catch(wt){if(Bo(lt),wt!==wt+0&&wt!=="longjmp")throw wt;Do(1,0)}}function GF(Se,L,ee){var he=Po();try{Mr.get(Se)(L,ee)}catch(Pe){if(Bo(he),Pe!==Pe+0&&Pe!=="longjmp")throw Pe;Do(1,0)}}function UF(Se,L,ee,he){var Pe=Po();try{Zw(Se,L,ee,he)}catch(We){if(Bo(Pe),We!==We+0&&We!=="longjmp")throw We;Do(1,0)}}Ge.ccall=ed,Ge.setValue=pi,Ge.getValue=oa,Ge.writeArrayToMemory=en,Ge.addFunction=xn,Ge.removeFunction=gt;var om;function HF(Se){this.name="ExitStatus",this.message="Program terminated with exit("+Se+")",this.status=Se}Oa=function Se(){om||MA(),om||(Oa=Se)};function MA(Se){if(Os>0||(Zs(),Os>0))return;function L(){om||(om=!0,Ge.calledRun=!0,!Ls&&(Xr(),zn(Ge),Ge.onRuntimeInitialized&&Ge.onRuntimeInitialized(),xl()))}Ge.setStatus?(Ge.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Ge.setStatus("")},1),L()},1)):L()}Ge.run=MA;function QF(Se,L){L&&Ww()&&Se===0||(Ww()||(Ge.onExit&&Ge.onExit(Se),Ls=!0),z(Se,new HF(Se)))}if(Ge.preInit)for(typeof Ge.preInit=="function"&&(Ge.preInit=[Ge.preInit]);Ge.preInit.length>0;)Ge.preInit.pop()();return MA(),mn.ready}}();function O(on,mn,Ge,zn,wn,Tt,ae){try{var z=on[Tt](ae),K=z.value}catch(le){Ge(le);return}z.done?mn(K):Promise.resolve(K).then(zn,wn)}function k(on){return function(){var mn=this,Ge=arguments;return new Promise(function(zn,wn){var Tt=on.apply(mn,Ge);function ae(K){O(Tt,zn,wn,ae,z,"next",K)}function z(K){O(Tt,zn,wn,ae,z,"throw",K)}ae(void 0)})}}function U(on,mn){if(!(on instanceof mn))throw new TypeError("Cannot call a class as a function")}function W(on,mn){for(var Ge=0;Ge<mn.length;Ge++){var zn=mn[Ge];zn.enumerable=zn.enumerable||!1,zn.configurable=!0,"value"in zn&&(zn.writable=!0),Object.defineProperty(on,zn.key,zn)}}function Z(on,mn,Ge){return mn&&W(on.prototype,mn),Ge&&W(on,Ge),Object.defineProperty(on,"prototype",{writable:!1}),on}function ne(on,mn,Ge){return mn in on?Object.defineProperty(on,mn,{value:Ge,enumerable:!0,configurable:!0,writable:!0}):on[mn]=Ge,on}var j=S(757),re=S.n(j);function Ae(on){if(Array.isArray(on))return on}function Y(on,mn){var Ge=on==null?null:typeof Symbol<"u"&&on[Symbol.iterator]||on["@@iterator"];if(Ge!=null){var zn=[],wn=!0,Tt=!1,ae,z;try{for(Ge=Ge.call(on);!(wn=(ae=Ge.next()).done)&&(zn.push(ae.value),!(mn&&zn.length===mn));wn=!0);}catch(K){Tt=!0,z=K}finally{try{!wn&&Ge.return!=null&&Ge.return()}finally{if(Tt)throw z}}return zn}}function pe(on,mn){(mn==null||mn>on.length)&&(mn=on.length);for(var Ge=0,zn=new Array(mn);Ge<mn;Ge++)zn[Ge]=on[Ge];return zn}function we(on,mn){if(!!on){if(typeof on=="string")return pe(on,mn);var Ge=Object.prototype.toString.call(on).slice(8,-1);if(Ge==="Object"&&on.constructor&&(Ge=on.constructor.name),Ge==="Map"||Ge==="Set")return Array.from(on);if(Ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ge))return pe(on,mn)}}function Oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tt(on,mn){return Ae(on)||Y(on,mn)||we(on,mn)||Oe()}var Re=function(mn){var Ge=(1<<(mn-1)%16+1)-1,zn=(mn+15)/16;return function(wn){if(this.width=mn,this.chunks=new Uint16Array(zn),this.mask=Ge,wn==null)this.chunks.fill(0);else{if(typeof wn=="number"){Number.isSafeInteger(wn)||console.warn("Libelf.js: number "+wn+" is beyond 53 bits integer precision, use other initialization formats for better precision"),(wn>Math.pow(2,this.width)-1||wn<-Math.pow(2,this.width-1))&&console.warn("Libelf.js: number "+wn+" overflows "+this.width+" bits width, use larger width to keep higher bits");for(var Tt=0;Tt<this.chunks.length;Tt++)this.chunks[Tt]=wn&(Tt===this.chunks.length-1?this.mask:65535),wn<0&&(wn-=65535),wn/=65536}if(typeof wn=="string"){wn.toLowerCase().startsWith("0x")&&(wn=wn.slice(2));for(var Tt=0;Tt<this.chunks.length;Tt++)this.chunks[Tt]=parseInt(wn.slice(-4),16)|0,wn.slice(0,-4)}if(I(wn)==="object"&&Array.isArray(wn))for(var Tt=0;Tt<this.chunks.length;Tt++)Tt%2==0?this.chunks[Tt]=wn[Tt/2|0]>>>0&65535:this.chunks[Tt]=wn[Tt/2|0]>>>16&65535;if(I(wn)==="object"&&!Array.isArray(wn))for(var Tt=0;Tt<this.chunks.length;Tt++)this.chunks[Tt]=wn.chunks[Tt]}this.clone=function(){},this.neg=function(){return this.not().add(1)},this.not=function(){for(var ae=new this.constructor(this),z=0;z<this.chunks.length;z++)ae.chunks[z]=~this.chunks[z];return ae},this.add=function(K){for(var z=new this.constructor(this),K=new this.constructor(K),le=0,Ne=0;Ne<this.chunks.length;Ne++){var Ye=z.chunks[Ne],Mt=K.chunks[Ne];z.chunks[Ne]=Ye+Mt+le,le=Ye+Mt+le>65535?1:0}return z},this.sub=function(z){new this.constructor(this);var z=new this.constructor(z);return this.add(z.neg())},this.mul=function(K){var z=new this.constructor(this),K=new this.constructor(K);return z},this.div=function(K){var z=new this.constructor(this),K=new this.constructor(K);return z},this.shl=function(ae){var z=new this.constructor(this);return z},this.shr=function(ae){var z=new this.constructor(this);return z},this.ror=function(ae){var z=new this.constructor(this);return z},this.rol=function(ae){var z=new this.constructor(this);return z},this.hex=function(){for(var ae="0x",z=this.chunks.length-1;z>=0;z--){var K=this.chunks[z].toString(16);K="0".repeat(4-K.length)+K,ae+=K}return ae},this.num=function(){for(var ae=0,z=this.chunks.length-1;z>=0;z--)ae=ae*65536+this.chunks[z];return Number.isSafeInteger(ae)||console.warn("Libelf.js: number "+ae+" is beyond 53 bits integer precision, use other conversion formats for better precision"),ae},this.valueOf=this.num}},ke=Re(8),st=Re(16),ht=Re(32),dt=Re(64),De=void 0;function Je(){return ct.apply(this,arguments)}function ct(){return ct=k(re().mark(function on(){return re().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:return Ge.next=2,V();case 2:De=Ge.sent;case 3:case"end":return Ge.stop()}},on)})),ct.apply(this,arguments)}var Gt=1,Ft=2,Kt=3,c={version:function(){major_ptr=De._malloc(4),minor_ptr=De._malloc(4);var mn=De.ccall("uc_version","number",["pointer","pointer"],[major_ptr,minor_ptr]);return major=De.getValue(major_ptr,"i32"),minor=De.getValue(minor_ptr,"i32"),De._free(major_ptr),De._free(minor_ptr),mn},arch_supported:function(mn){var Ge=De.ccall("uc_arch_supported","number",["number"],[mn]);return Ge},strerror:function(mn){var Ge=De.ccall("uc_strerror","string",["number"],[mn]);return Ge},Unicorn:function(mn,Ge){this.arch=mn,this.mode=Ge,this.handle_ptr=De._malloc(4),this.reg_write=function(Tt,ae){var z=ae.length,K=De._malloc(z);De.writeArrayToMemory(ae,K);var le=De.getValue(this.handle_ptr,"*"),Ne=De.ccall("uc_reg_write","number",["pointer","number","pointer"],[le,Tt,K]);if(De._free(K),Ne!=c.ERR_OK){var Ye="Unicorn.js: Function uc_reg_write failed with code "+Ne+`:
`+c.strerror(Ne);throw Ye}},this.reg_read=function(Tt,ae){for(var z=De._malloc(ae),K=0;K<ae;K++)De.setValue(z+K,0,"i8");for(var le=De.getValue(this.handle_ptr,"*"),Ne=De.ccall("uc_reg_read","number",["pointer","number","pointer"],[le,Tt,z]),Ye=new Uint8Array(ae),K=0;K<ae;K++)Ye[K]=De.getValue(z+K,"i8");if(De._free(z),Ne!=c.ERR_OK){var Mt="Unicorn.js: Function uc_reg_read failed with code "+Ne+`:
`+c.strerror(Ne);throw Mt}return Ye},this.mem_write=function(Tt,ae){var z=ae.length,K=De._malloc(z);De.writeArrayToMemory(ae,K);var le=this.__address(Tt),Ne=tt(le,2),Ye=Ne[0],Mt=Ne[1],sn=De.getValue(this.handle_ptr,"*"),Ie=De.ccall("uc_mem_write","number",["pointer","number","number","pointer","number"],[sn,Ye,Mt,K,z]);if(De._free(K),Ie!=c.ERR_OK){var Jt="Unicorn.js: Function uc_mem_write failed with code "+Ie+`:
`+c.strerror(Ie);throw Jt}},this.mem_read=function(Tt,ae){for(var z=De._malloc(ae),K=0;K<ae;K++)De.setValue(z+K,0,"i8");for(var le=this.__address(Tt),Ne=tt(le,2),Ye=Ne[0],Mt=Ne[1],sn=De.getValue(this.handle_ptr,"*"),Ie=De.ccall("uc_mem_read","number",["pointer","number","number","pointer","number"],[sn,Ye,Mt,z,ae]),Jt=new Uint8Array(ae),K=0;K<ae;K++)Jt[K]=De.getValue(z+K,"i8");if(De._free(z),Ie!=c.ERR_OK){var ln="Unicorn.js: Function uc_mem_read failed with code "+Ie+`:
`+c.strerror(Ie);throw ln}return Jt},this.mem_map=function(Tt,ae,z){var K=this.__address(Tt),le=tt(K,2),Ne=le[0],Ye=le[1],Mt=De.getValue(this.handle_ptr,"*"),sn=De.ccall("uc_mem_map","number",["pointer","number","number","number","number"],[Mt,Ne,Ye,ae,z]);if(sn!=c.ERR_OK){var Ie="Unicorn.js: Function uc_mem_map failed with code "+sn+`:
`+c.strerror(sn);throw Ie}},this.mem_protect=function(Tt,ae,z){var K=this.__address(Tt),le=tt(K,2),Ne=le[0],Ye=le[1],Mt=De.getValue(this.handle_ptr,"*"),sn=De.ccall("uc_mem_protect","number",["pointer","number","number","number","number"],[Mt,Ne,Ye,ae,z]);if(sn!=c.ERR_OK){var Ie="Unicorn.js: Function uc_mem_protect failed with code "+sn+`:
`+c.strerror(sn);throw Ie}},this.mem_regions=function(){console.error("Unicorn.js: Method mem_regions unimplemented")},this.mem_unmap=function(Tt,ae){var z=this.__address(Tt),K=tt(z,2),le=K[0],Ne=K[1],Ye=De.getValue(this.handle_ptr,"*"),Mt=De.ccall("uc_mem_unmap","number",["pointer","number","number","number"],[Ye,le,Ne,ae]);if(Mt!=c.ERR_OK){var sn="Unicorn.js: Function uc_mem_unmap failed with code "+Mt+`:
`+c.strerror(Mt);throw sn}},this.hook_add=function(Tt,ae,z,K,le,Ne){var Ye=De.getValue(this.handle_ptr,"*");switch(typeof z>"u"&&(z={}),typeof K>"u"&&typeof le>"u"&&(K=1,le=0),Tt){case c.HOOK_INSN:var Mt=function(En,Un){return function(vr,Gr){ae(En,Un)}}(this,z),sn=De.addFunction(Mt,"vii");break;case c.HOOK_INTR:var Mt=function(En,Un){return function(vr,Gr,gt){ae(En,Gr,Un)}}(this,z),sn=De.addFunction(Mt,"viii");break;case c.HOOK_CODE:case c.HOOK_BLOCK:var Mt=function(En,Un){return function(vr,Gr,gt,xn,jt){ae(En,Gr,gt,xn,Un)}}(this,z),sn=De.addFunction(Mt,"viiii");break;default:if(Tt&c.HOOK_MEM_READ||Tt&c.HOOK_MEM_WRITE||Tt&c.HOOK_MEM_FETCH||Tt&c.HOOK_MEM_READ_AFTER)var Mt=function(vr,Gr){return function(gt,xn,jt,On,kn,Sr,Ai,pi){ae(vr,xn,jt,On,kn,Sr,Ai,Gr)}}(this,z),sn=De.addFunction(Mt,"viiiiiiii");if(Tt&c.HOOK_MEM_READ_UNMAPPED||Tt&c.HOOK_MEM_WRITE_UNMAPPED||Tt&c.HOOK_MEM_FETCH_UNMAPPED||Tt&c.HOOK_MEM_READ_PROT||Tt&c.HOOK_MEM_WRITE_PROT||Tt&c.HOOK_MEM_FETCH_PROT)var Mt=function(vr,Gr){return function(gt,xn,jt,On,kn,Sr,Ai,pi){return ae(vr,xn,jt,On,kn,Sr,Ai,Gr)}}(this,z),sn=De.addFunction(Mt,"iiiiiiiii")}if(typeof Mt>"u")throw"Unicorn.js: Unimplemented hook type";var Ie=De._malloc(4),Jt=De.ccall("uc_hook_add","number",["pointer","pointer","number","pointer","pointer","number","number","number","number","number"],[Ye,Ie,Tt,sn,0,K,0,le,0,Ne]);if(Jt!=c.ERR_OK){De.removeFunction(sn),De._free(Ie);var ln="Unicorn.js: Function uc_mem_unmap failed with code "+Jt+`:
`+c.strerror(Jt);throw ln}var Tn={handle:De.getValue(Ie,"*"),callback:sn};return De._free(Ie),Tn},this.hook_del=function(Tt){var ae=De.getValue(this.handle_ptr,"*"),z=De.ccall("uc_hook_del","number",["pointer","pointer"],[ae,Tt.handle]);if(z!=c.ERR_OK){var K="Unicorn.js: Function uc_mem_unmap failed with code "+z+`:
`+c.strerror(z);throw K}De.removeFunction(Tt.callback)},this.emu_start=function(Tt,ae,z,K){var le=De.getValue(this.handle_ptr,"*"),Ne=De.ccall("uc_emu_start","number",["pointer","number","number","number","number","number","number","number"],[le,Tt,0,ae,0,z,0,K]);if(Ne!=c.ERR_OK){var Ye="Unicorn.js: Function uc_emu_start failed with code "+Ne+`:
`+c.strerror(Ne);throw Ye}},this.emu_stop=function(Tt,ae,z,K){var le=De.getValue(this.handle_ptr,"*"),Ne=De.ccall("uc_emu_stop","number",["pointer"],[le]);if(Ne!=c.ERR_OK){var Ye="Unicorn.js: Function uc_emu_stop failed with code "+Ne+`:
`+c.strerror(Ne);throw Ye}},this.context_alloc=function(){console.error("Unicorn.js: Contexts not implemented")},this.context_free=function(){console.error("Unicorn.js: Contexts not implemented")},this.context_save=function(){console.error("Unicorn.js: Contexts not implemented")},this.context_restore=function(){console.error("Unicorn.js: Contexts not implemented")},this.errno=function(){var Tt=De.getValue(this.handle_ptr,"*"),ae=De.ccall("uc_errno","number",["pointer"],[Tt]);return ae},this.close=function(){var Tt=De.getValue(this.handle_ptr,"*"),ae=De.ccall("uc_close","number",["pointer"],[Tt]);if(ae!=c.ERR_OK){var z="Unicorn.js: Function uc_close failed with code "+ae+`:
`+c.strerror(ae);throw z}},this.__integer=function(Tt,ae){switch(typeof Tt=="number"&&(Tt=[Tt]),this.get_integer_type()){case Gt:return Tt[0];case Ft:return Tt.map(function(K){return K.toString(16).toUpperCase()}).map(function(K){return"0".repeat(ae/4-K.length)+K}).reverse().join("");case Kt:switch(ae){case 8:return new ke(Tt);case 16:return new st(Tt);case 32:return new ht(Tt);case 64:return new dt(Tt);default:throw"Unexpected width"}default:var z="Unimplemented integer type";throw z}},this.__address=function(Tt){var ae=new dt(Tt);return[ae.chunks[0]+(ae.chunks[1]<<16),ae.chunks[2]+(ae.chunks[3]<<16)]},this._sizeof=function(Tt){switch(Tt){case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:return 0}},this.reg_write_type=function(Tt,ae,z){for(var K=this._sizeof(ae),le=De._malloc(K),Ne=new(Re(K*8))(z),Ye=0;Ye<K/2;Ye++)De.setValue(le+Ye*2,Ne.chunks[Ye],"i16");var Mt=De.getValue(this.handle_ptr,"*"),sn=De.ccall("uc_reg_write","number",["pointer","number","pointer"],[Mt,Tt,le]);if(De._free(le),sn!=c.ERR_OK){var Ie="Unicorn.js: Function uc_reg_write failed with code "+sn+`:
`+c.strerror(sn);throw Ie}},this.reg_write_i8=function(Tt,ae){this.reg_write_type(Tt,"i8",ae)},this.reg_write_i16=function(Tt,ae){this.reg_write_type(Tt,"i16",ae)},this.reg_write_i32=function(Tt,ae){this.reg_write_type(Tt,"i32",ae)},this.reg_write_i64=function(Tt,ae){this.reg_write_type(Tt,"i64",ae)},this.reg_write_float=function(Tt,ae){this.reg_write_type(Tt,"float",ae)},this.reg_write_double=function(Tt,ae){this.reg_write_type(Tt,"double",ae)},this.reg_read_type=function(Tt,ae){var z=this._sizeof(ae),K=De._malloc(z);De.setValue(K,0,ae);var le=De.getValue(this.handle_ptr,"*"),Ne=De.ccall("uc_reg_read","number",["pointer","number","pointer"],[le,Tt,K]),Ye=De.getValue(K,ae);if(ae==="i64"&&(Ye=[Ye,De.getValue(K+4,"i32")]),ae.includes("i")&&(Ye=this.__integer(Ye,z*8)),De._free(K),Ne!=c.ERR_OK){var Mt="Unicorn.js: Function uc_reg_read failed with code "+Ne+`:
`+c.strerror(Ne);throw Mt}return Ye},this.reg_read_i8=function(Tt){return this.reg_read_type(Tt,"i8")},this.reg_read_i16=function(Tt){return this.reg_read_type(Tt,"i16")},this.reg_read_i32=function(Tt){return this.reg_read_type(Tt,"i32")},this.reg_read_i64=function(Tt){return this.reg_read_type(Tt,"i64")},this.reg_read_float=function(Tt){return this.reg_read_type(Tt,"float")},this.reg_read_double=function(Tt){return this.reg_read_type(Tt,"double")},this.query_type=function(Tt,ae){var z=this._sizeof(ae),K=De._malloc(z);De.setValue(value_ptr,0,ae);var le=De.getValue(this.handle_ptr,"*"),Ne=De.ccall("uc_query","number",["pointer","number","pointer"],[le,Tt,K]),Ye=De.getValue(K,ae);if(type==="i64"&&(Ye=[Ye,De.getValue(K+4,"i32")]),type.includes("i")&&(Ye=this.__integer(Ye,z*8)),De._free(K),Ne!=c.ERR_OK){var Mt="Unicorn.js: Function uc_query failed with code "+Ne+`:
`+c.strerror(Ne);throw Mt}return Ye},this.query_i8=function(Tt){return this.query_type(Tt,"i8")},this.query_i16=function(Tt){return this.query_type(Tt,"i16")},this.query_i32=function(Tt){return this.query_type(Tt,"i32")},this.query_i64=function(Tt){return this.query_type(Tt,"i64")},this.query_float=function(Tt){return this.query_type(Tt,"float")},this.query_double=function(Tt){return this.query_type(Tt,"double")},this.get_integer_type=function(){return this.integer_type==null?Gt:this.integer_type},this.set_integer_type=function(Tt){this.integer_type=Tt};var zn=De.ccall("uc_open","number",["number","number","pointer"],[this.arch,this.mode,this.handle_ptr]);if(zn!=c.ERR_OK){De.setValue(this.handle_ptr,0,"*");var wn="Unicorn.js: Function uc_open failed with code "+zn+`:
`+c.strerror(zn);throw wn}}};S(915),c.ARM64_REG_INVALID=0,c.ARM64_REG_X29=1,c.ARM64_REG_X30=2,c.ARM64_REG_NZCV=3,c.ARM64_REG_SP=4,c.ARM64_REG_WSP=5,c.ARM64_REG_WZR=6,c.ARM64_REG_XZR=7,c.ARM64_REG_B0=8,c.ARM64_REG_B1=9,c.ARM64_REG_B2=10,c.ARM64_REG_B3=11,c.ARM64_REG_B4=12,c.ARM64_REG_B5=13,c.ARM64_REG_B6=14,c.ARM64_REG_B7=15,c.ARM64_REG_B8=16,c.ARM64_REG_B9=17,c.ARM64_REG_B10=18,c.ARM64_REG_B11=19,c.ARM64_REG_B12=20,c.ARM64_REG_B13=21,c.ARM64_REG_B14=22,c.ARM64_REG_B15=23,c.ARM64_REG_B16=24,c.ARM64_REG_B17=25,c.ARM64_REG_B18=26,c.ARM64_REG_B19=27,c.ARM64_REG_B20=28,c.ARM64_REG_B21=29,c.ARM64_REG_B22=30,c.ARM64_REG_B23=31,c.ARM64_REG_B24=32,c.ARM64_REG_B25=33,c.ARM64_REG_B26=34,c.ARM64_REG_B27=35,c.ARM64_REG_B28=36,c.ARM64_REG_B29=37,c.ARM64_REG_B30=38,c.ARM64_REG_B31=39,c.ARM64_REG_D0=40,c.ARM64_REG_D1=41,c.ARM64_REG_D2=42,c.ARM64_REG_D3=43,c.ARM64_REG_D4=44,c.ARM64_REG_D5=45,c.ARM64_REG_D6=46,c.ARM64_REG_D7=47,c.ARM64_REG_D8=48,c.ARM64_REG_D9=49,c.ARM64_REG_D10=50,c.ARM64_REG_D11=51,c.ARM64_REG_D12=52,c.ARM64_REG_D13=53,c.ARM64_REG_D14=54,c.ARM64_REG_D15=55,c.ARM64_REG_D16=56,c.ARM64_REG_D17=57,c.ARM64_REG_D18=58,c.ARM64_REG_D19=59,c.ARM64_REG_D20=60,c.ARM64_REG_D21=61,c.ARM64_REG_D22=62,c.ARM64_REG_D23=63,c.ARM64_REG_D24=64,c.ARM64_REG_D25=65,c.ARM64_REG_D26=66,c.ARM64_REG_D27=67,c.ARM64_REG_D28=68,c.ARM64_REG_D29=69,c.ARM64_REG_D30=70,c.ARM64_REG_D31=71,c.ARM64_REG_H0=72,c.ARM64_REG_H1=73,c.ARM64_REG_H2=74,c.ARM64_REG_H3=75,c.ARM64_REG_H4=76,c.ARM64_REG_H5=77,c.ARM64_REG_H6=78,c.ARM64_REG_H7=79,c.ARM64_REG_H8=80,c.ARM64_REG_H9=81,c.ARM64_REG_H10=82,c.ARM64_REG_H11=83,c.ARM64_REG_H12=84,c.ARM64_REG_H13=85,c.ARM64_REG_H14=86,c.ARM64_REG_H15=87,c.ARM64_REG_H16=88,c.ARM64_REG_H17=89,c.ARM64_REG_H18=90,c.ARM64_REG_H19=91,c.ARM64_REG_H20=92,c.ARM64_REG_H21=93,c.ARM64_REG_H22=94,c.ARM64_REG_H23=95,c.ARM64_REG_H24=96,c.ARM64_REG_H25=97,c.ARM64_REG_H26=98,c.ARM64_REG_H27=99,c.ARM64_REG_H28=100,c.ARM64_REG_H29=101,c.ARM64_REG_H30=102,c.ARM64_REG_H31=103,c.ARM64_REG_Q0=104,c.ARM64_REG_Q1=105,c.ARM64_REG_Q2=106,c.ARM64_REG_Q3=107,c.ARM64_REG_Q4=108,c.ARM64_REG_Q5=109,c.ARM64_REG_Q6=110,c.ARM64_REG_Q7=111,c.ARM64_REG_Q8=112,c.ARM64_REG_Q9=113,c.ARM64_REG_Q10=114,c.ARM64_REG_Q11=115,c.ARM64_REG_Q12=116,c.ARM64_REG_Q13=117,c.ARM64_REG_Q14=118,c.ARM64_REG_Q15=119,c.ARM64_REG_Q16=120,c.ARM64_REG_Q17=121,c.ARM64_REG_Q18=122,c.ARM64_REG_Q19=123,c.ARM64_REG_Q20=124,c.ARM64_REG_Q21=125,c.ARM64_REG_Q22=126,c.ARM64_REG_Q23=127,c.ARM64_REG_Q24=128,c.ARM64_REG_Q25=129,c.ARM64_REG_Q26=130,c.ARM64_REG_Q27=131,c.ARM64_REG_Q28=132,c.ARM64_REG_Q29=133,c.ARM64_REG_Q30=134,c.ARM64_REG_Q31=135,c.ARM64_REG_S0=136,c.ARM64_REG_S1=137,c.ARM64_REG_S2=138,c.ARM64_REG_S3=139,c.ARM64_REG_S4=140,c.ARM64_REG_S5=141,c.ARM64_REG_S6=142,c.ARM64_REG_S7=143,c.ARM64_REG_S8=144,c.ARM64_REG_S9=145,c.ARM64_REG_S10=146,c.ARM64_REG_S11=147,c.ARM64_REG_S12=148,c.ARM64_REG_S13=149,c.ARM64_REG_S14=150,c.ARM64_REG_S15=151,c.ARM64_REG_S16=152,c.ARM64_REG_S17=153,c.ARM64_REG_S18=154,c.ARM64_REG_S19=155,c.ARM64_REG_S20=156,c.ARM64_REG_S21=157,c.ARM64_REG_S22=158,c.ARM64_REG_S23=159,c.ARM64_REG_S24=160,c.ARM64_REG_S25=161,c.ARM64_REG_S26=162,c.ARM64_REG_S27=163,c.ARM64_REG_S28=164,c.ARM64_REG_S29=165,c.ARM64_REG_S30=166,c.ARM64_REG_S31=167,c.ARM64_REG_W0=168,c.ARM64_REG_W1=169,c.ARM64_REG_W2=170,c.ARM64_REG_W3=171,c.ARM64_REG_W4=172,c.ARM64_REG_W5=173,c.ARM64_REG_W6=174,c.ARM64_REG_W7=175,c.ARM64_REG_W8=176,c.ARM64_REG_W9=177,c.ARM64_REG_W10=178,c.ARM64_REG_W11=179,c.ARM64_REG_W12=180,c.ARM64_REG_W13=181,c.ARM64_REG_W14=182,c.ARM64_REG_W15=183,c.ARM64_REG_W16=184,c.ARM64_REG_W17=185,c.ARM64_REG_W18=186,c.ARM64_REG_W19=187,c.ARM64_REG_W20=188,c.ARM64_REG_W21=189,c.ARM64_REG_W22=190,c.ARM64_REG_W23=191,c.ARM64_REG_W24=192,c.ARM64_REG_W25=193,c.ARM64_REG_W26=194,c.ARM64_REG_W27=195,c.ARM64_REG_W28=196,c.ARM64_REG_W29=197,c.ARM64_REG_W30=198,c.ARM64_REG_X0=199,c.ARM64_REG_X1=200,c.ARM64_REG_X2=201,c.ARM64_REG_X3=202,c.ARM64_REG_X4=203,c.ARM64_REG_X5=204,c.ARM64_REG_X6=205,c.ARM64_REG_X7=206,c.ARM64_REG_X8=207,c.ARM64_REG_X9=208,c.ARM64_REG_X10=209,c.ARM64_REG_X11=210,c.ARM64_REG_X12=211,c.ARM64_REG_X13=212,c.ARM64_REG_X14=213,c.ARM64_REG_X15=214,c.ARM64_REG_X16=215,c.ARM64_REG_X17=216,c.ARM64_REG_X18=217,c.ARM64_REG_X19=218,c.ARM64_REG_X20=219,c.ARM64_REG_X21=220,c.ARM64_REG_X22=221,c.ARM64_REG_X23=222,c.ARM64_REG_X24=223,c.ARM64_REG_X25=224,c.ARM64_REG_X26=225,c.ARM64_REG_X27=226,c.ARM64_REG_X28=227,c.ARM64_REG_V0=228,c.ARM64_REG_V1=229,c.ARM64_REG_V2=230,c.ARM64_REG_V3=231,c.ARM64_REG_V4=232,c.ARM64_REG_V5=233,c.ARM64_REG_V6=234,c.ARM64_REG_V7=235,c.ARM64_REG_V8=236,c.ARM64_REG_V9=237,c.ARM64_REG_V10=238,c.ARM64_REG_V11=239,c.ARM64_REG_V12=240,c.ARM64_REG_V13=241,c.ARM64_REG_V14=242,c.ARM64_REG_V15=243,c.ARM64_REG_V16=244,c.ARM64_REG_V17=245,c.ARM64_REG_V18=246,c.ARM64_REG_V19=247,c.ARM64_REG_V20=248,c.ARM64_REG_V21=249,c.ARM64_REG_V22=250,c.ARM64_REG_V23=251,c.ARM64_REG_V24=252,c.ARM64_REG_V25=253,c.ARM64_REG_V26=254,c.ARM64_REG_V27=255,c.ARM64_REG_V28=256,c.ARM64_REG_V29=257,c.ARM64_REG_V30=258,c.ARM64_REG_V31=259,c.ARM64_REG_PC=260,c.ARM64_REG_CPACR_EL1=261,c.ARM64_REG_TPIDR_EL0=262,c.ARM64_REG_TPIDRRO_EL0=263,c.ARM64_REG_TPIDR_EL1=264,c.ARM64_REG_PSTATE=265,c.ARM64_REG_ELR_EL0=266,c.ARM64_REG_ELR_EL1=267,c.ARM64_REG_ELR_EL2=268,c.ARM64_REG_ELR_EL3=269,c.ARM64_REG_SP_EL0=270,c.ARM64_REG_SP_EL1=271,c.ARM64_REG_SP_EL2=272,c.ARM64_REG_SP_EL3=273,c.ARM64_REG_TTBR0_EL1=274,c.ARM64_REG_TTBR1_EL1=275,c.ARM64_REG_ESR_EL0=276,c.ARM64_REG_ESR_EL1=277,c.ARM64_REG_ESR_EL2=278,c.ARM64_REG_ESR_EL3=279,c.ARM64_REG_FAR_EL0=280,c.ARM64_REG_FAR_EL1=281,c.ARM64_REG_FAR_EL2=282,c.ARM64_REG_FAR_EL3=283,c.ARM64_REG_PAR_EL1=284,c.ARM64_REG_MAIR_EL1=285,c.ARM64_REG_VBAR_EL0=286,c.ARM64_REG_VBAR_EL1=287,c.ARM64_REG_VBAR_EL2=288,c.ARM64_REG_VBAR_EL3=289,c.ARM64_REG_ENDING=290,c.ARM64_REG_IP0=215,c.ARM64_REG_IP1=216,c.ARM64_REG_FP=1,c.ARM64_REG_LR=2,c.ARM_REG_INVALID=0,c.ARM_REG_APSR=1,c.ARM_REG_APSR_NZCV=2,c.ARM_REG_CPSR=3,c.ARM_REG_FPEXC=4,c.ARM_REG_FPINST=5,c.ARM_REG_FPSCR=6,c.ARM_REG_FPSCR_NZCV=7,c.ARM_REG_FPSID=8,c.ARM_REG_ITSTATE=9,c.ARM_REG_LR=10,c.ARM_REG_PC=11,c.ARM_REG_SP=12,c.ARM_REG_SPSR=13,c.ARM_REG_D0=14,c.ARM_REG_D1=15,c.ARM_REG_D2=16,c.ARM_REG_D3=17,c.ARM_REG_D4=18,c.ARM_REG_D5=19,c.ARM_REG_D6=20,c.ARM_REG_D7=21,c.ARM_REG_D8=22,c.ARM_REG_D9=23,c.ARM_REG_D10=24,c.ARM_REG_D11=25,c.ARM_REG_D12=26,c.ARM_REG_D13=27,c.ARM_REG_D14=28,c.ARM_REG_D15=29,c.ARM_REG_D16=30,c.ARM_REG_D17=31,c.ARM_REG_D18=32,c.ARM_REG_D19=33,c.ARM_REG_D20=34,c.ARM_REG_D21=35,c.ARM_REG_D22=36,c.ARM_REG_D23=37,c.ARM_REG_D24=38,c.ARM_REG_D25=39,c.ARM_REG_D26=40,c.ARM_REG_D27=41,c.ARM_REG_D28=42,c.ARM_REG_D29=43,c.ARM_REG_D30=44,c.ARM_REG_D31=45,c.ARM_REG_FPINST2=46,c.ARM_REG_MVFR0=47,c.ARM_REG_MVFR1=48,c.ARM_REG_MVFR2=49,c.ARM_REG_Q0=50,c.ARM_REG_Q1=51,c.ARM_REG_Q2=52,c.ARM_REG_Q3=53,c.ARM_REG_Q4=54,c.ARM_REG_Q5=55,c.ARM_REG_Q6=56,c.ARM_REG_Q7=57,c.ARM_REG_Q8=58,c.ARM_REG_Q9=59,c.ARM_REG_Q10=60,c.ARM_REG_Q11=61,c.ARM_REG_Q12=62,c.ARM_REG_Q13=63,c.ARM_REG_Q14=64,c.ARM_REG_Q15=65,c.ARM_REG_R0=66,c.ARM_REG_R1=67,c.ARM_REG_R2=68,c.ARM_REG_R3=69,c.ARM_REG_R4=70,c.ARM_REG_R5=71,c.ARM_REG_R6=72,c.ARM_REG_R7=73,c.ARM_REG_R8=74,c.ARM_REG_R9=75,c.ARM_REG_R10=76,c.ARM_REG_R11=77,c.ARM_REG_R12=78,c.ARM_REG_S0=79,c.ARM_REG_S1=80,c.ARM_REG_S2=81,c.ARM_REG_S3=82,c.ARM_REG_S4=83,c.ARM_REG_S5=84,c.ARM_REG_S6=85,c.ARM_REG_S7=86,c.ARM_REG_S8=87,c.ARM_REG_S9=88,c.ARM_REG_S10=89,c.ARM_REG_S11=90,c.ARM_REG_S12=91,c.ARM_REG_S13=92,c.ARM_REG_S14=93,c.ARM_REG_S15=94,c.ARM_REG_S16=95,c.ARM_REG_S17=96,c.ARM_REG_S18=97,c.ARM_REG_S19=98,c.ARM_REG_S20=99,c.ARM_REG_S21=100,c.ARM_REG_S22=101,c.ARM_REG_S23=102,c.ARM_REG_S24=103,c.ARM_REG_S25=104,c.ARM_REG_S26=105,c.ARM_REG_S27=106,c.ARM_REG_S28=107,c.ARM_REG_S29=108,c.ARM_REG_S30=109,c.ARM_REG_S31=110,c.ARM_REG_C1_C0_2=111,c.ARM_REG_C13_C0_2=112,c.ARM_REG_C13_C0_3=113,c.ARM_REG_IPSR=114,c.ARM_REG_MSP=115,c.ARM_REG_PSP=116,c.ARM_REG_CONTROL=117,c.ARM_REG_ENDING=118,c.ARM_REG_R13=12,c.ARM_REG_R14=10,c.ARM_REG_R15=11,c.ARM_REG_SB=75,c.ARM_REG_SL=76,c.ARM_REG_FP=77,c.ARM_REG_IP=78,c.M68K_REG_INVALID=0,c.M68K_REG_A0=1,c.M68K_REG_A1=2,c.M68K_REG_A2=3,c.M68K_REG_A3=4,c.M68K_REG_A4=5,c.M68K_REG_A5=6,c.M68K_REG_A6=7,c.M68K_REG_A7=8,c.M68K_REG_D0=9,c.M68K_REG_D1=10,c.M68K_REG_D2=11,c.M68K_REG_D3=12,c.M68K_REG_D4=13,c.M68K_REG_D5=14,c.M68K_REG_D6=15,c.M68K_REG_D7=16,c.M68K_REG_SR=17,c.M68K_REG_PC=18,c.M68K_REG_ENDING=19,c.MIPS_REG_INVALID=0,c.MIPS_REG_PC=1,c.MIPS_REG_0=2,c.MIPS_REG_1=3,c.MIPS_REG_2=4,c.MIPS_REG_3=5,c.MIPS_REG_4=6,c.MIPS_REG_5=7,c.MIPS_REG_6=8,c.MIPS_REG_7=9,c.MIPS_REG_8=10,c.MIPS_REG_9=11,c.MIPS_REG_10=12,c.MIPS_REG_11=13,c.MIPS_REG_12=14,c.MIPS_REG_13=15,c.MIPS_REG_14=16,c.MIPS_REG_15=17,c.MIPS_REG_16=18,c.MIPS_REG_17=19,c.MIPS_REG_18=20,c.MIPS_REG_19=21,c.MIPS_REG_20=22,c.MIPS_REG_21=23,c.MIPS_REG_22=24,c.MIPS_REG_23=25,c.MIPS_REG_24=26,c.MIPS_REG_25=27,c.MIPS_REG_26=28,c.MIPS_REG_27=29,c.MIPS_REG_28=30,c.MIPS_REG_29=31,c.MIPS_REG_30=32,c.MIPS_REG_31=33,c.MIPS_REG_DSPCCOND=34,c.MIPS_REG_DSPCARRY=35,c.MIPS_REG_DSPEFI=36,c.MIPS_REG_DSPOUTFLAG=37,c.MIPS_REG_DSPOUTFLAG16_19=38,c.MIPS_REG_DSPOUTFLAG20=39,c.MIPS_REG_DSPOUTFLAG21=40,c.MIPS_REG_DSPOUTFLAG22=41,c.MIPS_REG_DSPOUTFLAG23=42,c.MIPS_REG_DSPPOS=43,c.MIPS_REG_DSPSCOUNT=44,c.MIPS_REG_AC0=45,c.MIPS_REG_AC1=46,c.MIPS_REG_AC2=47,c.MIPS_REG_AC3=48,c.MIPS_REG_CC0=49,c.MIPS_REG_CC1=50,c.MIPS_REG_CC2=51,c.MIPS_REG_CC3=52,c.MIPS_REG_CC4=53,c.MIPS_REG_CC5=54,c.MIPS_REG_CC6=55,c.MIPS_REG_CC7=56,c.MIPS_REG_F0=57,c.MIPS_REG_F1=58,c.MIPS_REG_F2=59,c.MIPS_REG_F3=60,c.MIPS_REG_F4=61,c.MIPS_REG_F5=62,c.MIPS_REG_F6=63,c.MIPS_REG_F7=64,c.MIPS_REG_F8=65,c.MIPS_REG_F9=66,c.MIPS_REG_F10=67,c.MIPS_REG_F11=68,c.MIPS_REG_F12=69,c.MIPS_REG_F13=70,c.MIPS_REG_F14=71,c.MIPS_REG_F15=72,c.MIPS_REG_F16=73,c.MIPS_REG_F17=74,c.MIPS_REG_F18=75,c.MIPS_REG_F19=76,c.MIPS_REG_F20=77,c.MIPS_REG_F21=78,c.MIPS_REG_F22=79,c.MIPS_REG_F23=80,c.MIPS_REG_F24=81,c.MIPS_REG_F25=82,c.MIPS_REG_F26=83,c.MIPS_REG_F27=84,c.MIPS_REG_F28=85,c.MIPS_REG_F29=86,c.MIPS_REG_F30=87,c.MIPS_REG_F31=88,c.MIPS_REG_FCC0=89,c.MIPS_REG_FCC1=90,c.MIPS_REG_FCC2=91,c.MIPS_REG_FCC3=92,c.MIPS_REG_FCC4=93,c.MIPS_REG_FCC5=94,c.MIPS_REG_FCC6=95,c.MIPS_REG_FCC7=96,c.MIPS_REG_W0=97,c.MIPS_REG_W1=98,c.MIPS_REG_W2=99,c.MIPS_REG_W3=100,c.MIPS_REG_W4=101,c.MIPS_REG_W5=102,c.MIPS_REG_W6=103,c.MIPS_REG_W7=104,c.MIPS_REG_W8=105,c.MIPS_REG_W9=106,c.MIPS_REG_W10=107,c.MIPS_REG_W11=108,c.MIPS_REG_W12=109,c.MIPS_REG_W13=110,c.MIPS_REG_W14=111,c.MIPS_REG_W15=112,c.MIPS_REG_W16=113,c.MIPS_REG_W17=114,c.MIPS_REG_W18=115,c.MIPS_REG_W19=116,c.MIPS_REG_W20=117,c.MIPS_REG_W21=118,c.MIPS_REG_W22=119,c.MIPS_REG_W23=120,c.MIPS_REG_W24=121,c.MIPS_REG_W25=122,c.MIPS_REG_W26=123,c.MIPS_REG_W27=124,c.MIPS_REG_W28=125,c.MIPS_REG_W29=126,c.MIPS_REG_W30=127,c.MIPS_REG_W31=128,c.MIPS_REG_HI=129,c.MIPS_REG_LO=130,c.MIPS_REG_P0=131,c.MIPS_REG_P1=132,c.MIPS_REG_P2=133,c.MIPS_REG_MPL0=134,c.MIPS_REG_MPL1=135,c.MIPS_REG_MPL2=136,c.MIPS_REG_CP0_CONFIG3=137,c.MIPS_REG_CP0_USERLOCAL=138,c.MIPS_REG_ENDING=139,c.MIPS_REG_ZERO=2,c.MIPS_REG_AT=3,c.MIPS_REG_V0=4,c.MIPS_REG_V1=5,c.MIPS_REG_A0=6,c.MIPS_REG_A1=7,c.MIPS_REG_A2=8,c.MIPS_REG_A3=9,c.MIPS_REG_T0=10,c.MIPS_REG_T1=11,c.MIPS_REG_T2=12,c.MIPS_REG_T3=13,c.MIPS_REG_T4=14,c.MIPS_REG_T5=15,c.MIPS_REG_T6=16,c.MIPS_REG_T7=17,c.MIPS_REG_S0=18,c.MIPS_REG_S1=19,c.MIPS_REG_S2=20,c.MIPS_REG_S3=21,c.MIPS_REG_S4=22,c.MIPS_REG_S5=23,c.MIPS_REG_S6=24,c.MIPS_REG_S7=25,c.MIPS_REG_T8=26,c.MIPS_REG_T9=27,c.MIPS_REG_K0=28,c.MIPS_REG_K1=29,c.MIPS_REG_GP=30,c.MIPS_REG_SP=31,c.MIPS_REG_FP=32,c.MIPS_REG_S8=32,c.MIPS_REG_RA=33,c.MIPS_REG_HI0=45,c.MIPS_REG_HI1=46,c.MIPS_REG_HI2=47,c.MIPS_REG_HI3=48,c.MIPS_REG_LO0=45,c.MIPS_REG_LO1=46,c.MIPS_REG_LO2=47,c.MIPS_REG_LO3=48,c.SPARC_REG_INVALID=0,c.SPARC_REG_F0=1,c.SPARC_REG_F1=2,c.SPARC_REG_F2=3,c.SPARC_REG_F3=4,c.SPARC_REG_F4=5,c.SPARC_REG_F5=6,c.SPARC_REG_F6=7,c.SPARC_REG_F7=8,c.SPARC_REG_F8=9,c.SPARC_REG_F9=10,c.SPARC_REG_F10=11,c.SPARC_REG_F11=12,c.SPARC_REG_F12=13,c.SPARC_REG_F13=14,c.SPARC_REG_F14=15,c.SPARC_REG_F15=16,c.SPARC_REG_F16=17,c.SPARC_REG_F17=18,c.SPARC_REG_F18=19,c.SPARC_REG_F19=20,c.SPARC_REG_F20=21,c.SPARC_REG_F21=22,c.SPARC_REG_F22=23,c.SPARC_REG_F23=24,c.SPARC_REG_F24=25,c.SPARC_REG_F25=26,c.SPARC_REG_F26=27,c.SPARC_REG_F27=28,c.SPARC_REG_F28=29,c.SPARC_REG_F29=30,c.SPARC_REG_F30=31,c.SPARC_REG_F31=32,c.SPARC_REG_F32=33,c.SPARC_REG_F34=34,c.SPARC_REG_F36=35,c.SPARC_REG_F38=36,c.SPARC_REG_F40=37,c.SPARC_REG_F42=38,c.SPARC_REG_F44=39,c.SPARC_REG_F46=40,c.SPARC_REG_F48=41,c.SPARC_REG_F50=42,c.SPARC_REG_F52=43,c.SPARC_REG_F54=44,c.SPARC_REG_F56=45,c.SPARC_REG_F58=46,c.SPARC_REG_F60=47,c.SPARC_REG_F62=48,c.SPARC_REG_FCC0=49,c.SPARC_REG_FCC1=50,c.SPARC_REG_FCC2=51,c.SPARC_REG_FCC3=52,c.SPARC_REG_G0=53,c.SPARC_REG_G1=54,c.SPARC_REG_G2=55,c.SPARC_REG_G3=56,c.SPARC_REG_G4=57,c.SPARC_REG_G5=58,c.SPARC_REG_G6=59,c.SPARC_REG_G7=60,c.SPARC_REG_I0=61,c.SPARC_REG_I1=62,c.SPARC_REG_I2=63,c.SPARC_REG_I3=64,c.SPARC_REG_I4=65,c.SPARC_REG_I5=66,c.SPARC_REG_FP=67,c.SPARC_REG_I7=68,c.SPARC_REG_ICC=69,c.SPARC_REG_L0=70,c.SPARC_REG_L1=71,c.SPARC_REG_L2=72,c.SPARC_REG_L3=73,c.SPARC_REG_L4=74,c.SPARC_REG_L5=75,c.SPARC_REG_L6=76,c.SPARC_REG_L7=77,c.SPARC_REG_O0=78,c.SPARC_REG_O1=79,c.SPARC_REG_O2=80,c.SPARC_REG_O3=81,c.SPARC_REG_O4=82,c.SPARC_REG_O5=83,c.SPARC_REG_SP=84,c.SPARC_REG_O7=85,c.SPARC_REG_Y=86,c.SPARC_REG_XCC=87,c.SPARC_REG_PC=88,c.SPARC_REG_ENDING=89,c.SPARC_REG_O6=84,c.SPARC_REG_I6=67,c.X86_REG_INVALID=0,c.X86_REG_AH=1,c.X86_REG_AL=2,c.X86_REG_AX=3,c.X86_REG_BH=4,c.X86_REG_BL=5,c.X86_REG_BP=6,c.X86_REG_BPL=7,c.X86_REG_BX=8,c.X86_REG_CH=9,c.X86_REG_CL=10,c.X86_REG_CS=11,c.X86_REG_CX=12,c.X86_REG_DH=13,c.X86_REG_DI=14,c.X86_REG_DIL=15,c.X86_REG_DL=16,c.X86_REG_DS=17,c.X86_REG_DX=18,c.X86_REG_EAX=19,c.X86_REG_EBP=20,c.X86_REG_EBX=21,c.X86_REG_ECX=22,c.X86_REG_EDI=23,c.X86_REG_EDX=24,c.X86_REG_EFLAGS=25,c.X86_REG_EIP=26,c.X86_REG_EIZ=27,c.X86_REG_ES=28,c.X86_REG_ESI=29,c.X86_REG_ESP=30,c.X86_REG_FPSW=31,c.X86_REG_FS=32,c.X86_REG_GS=33,c.X86_REG_IP=34,c.X86_REG_RAX=35,c.X86_REG_RBP=36,c.X86_REG_RBX=37,c.X86_REG_RCX=38,c.X86_REG_RDI=39,c.X86_REG_RDX=40,c.X86_REG_RIP=41,c.X86_REG_RIZ=42,c.X86_REG_RSI=43,c.X86_REG_RSP=44,c.X86_REG_SI=45,c.X86_REG_SIL=46,c.X86_REG_SP=47,c.X86_REG_SPL=48,c.X86_REG_SS=49,c.X86_REG_CR0=50,c.X86_REG_CR1=51,c.X86_REG_CR2=52,c.X86_REG_CR3=53,c.X86_REG_CR4=54,c.X86_REG_CR5=55,c.X86_REG_CR6=56,c.X86_REG_CR7=57,c.X86_REG_CR8=58,c.X86_REG_CR9=59,c.X86_REG_CR10=60,c.X86_REG_CR11=61,c.X86_REG_CR12=62,c.X86_REG_CR13=63,c.X86_REG_CR14=64,c.X86_REG_CR15=65,c.X86_REG_DR0=66,c.X86_REG_DR1=67,c.X86_REG_DR2=68,c.X86_REG_DR3=69,c.X86_REG_DR4=70,c.X86_REG_DR5=71,c.X86_REG_DR6=72,c.X86_REG_DR7=73,c.X86_REG_DR8=74,c.X86_REG_DR9=75,c.X86_REG_DR10=76,c.X86_REG_DR11=77,c.X86_REG_DR12=78,c.X86_REG_DR13=79,c.X86_REG_DR14=80,c.X86_REG_DR15=81,c.X86_REG_FP0=82,c.X86_REG_FP1=83,c.X86_REG_FP2=84,c.X86_REG_FP3=85,c.X86_REG_FP4=86,c.X86_REG_FP5=87,c.X86_REG_FP6=88,c.X86_REG_FP7=89,c.X86_REG_K0=90,c.X86_REG_K1=91,c.X86_REG_K2=92,c.X86_REG_K3=93,c.X86_REG_K4=94,c.X86_REG_K5=95,c.X86_REG_K6=96,c.X86_REG_K7=97,c.X86_REG_MM0=98,c.X86_REG_MM1=99,c.X86_REG_MM2=100,c.X86_REG_MM3=101,c.X86_REG_MM4=102,c.X86_REG_MM5=103,c.X86_REG_MM6=104,c.X86_REG_MM7=105,c.X86_REG_R8=106,c.X86_REG_R9=107,c.X86_REG_R10=108,c.X86_REG_R11=109,c.X86_REG_R12=110,c.X86_REG_R13=111,c.X86_REG_R14=112,c.X86_REG_R15=113,c.X86_REG_ST0=114,c.X86_REG_ST1=115,c.X86_REG_ST2=116,c.X86_REG_ST3=117,c.X86_REG_ST4=118,c.X86_REG_ST5=119,c.X86_REG_ST6=120,c.X86_REG_ST7=121,c.X86_REG_XMM0=122,c.X86_REG_XMM1=123,c.X86_REG_XMM2=124,c.X86_REG_XMM3=125,c.X86_REG_XMM4=126,c.X86_REG_XMM5=127,c.X86_REG_XMM6=128,c.X86_REG_XMM7=129,c.X86_REG_XMM8=130,c.X86_REG_XMM9=131,c.X86_REG_XMM10=132,c.X86_REG_XMM11=133,c.X86_REG_XMM12=134,c.X86_REG_XMM13=135,c.X86_REG_XMM14=136,c.X86_REG_XMM15=137,c.X86_REG_XMM16=138,c.X86_REG_XMM17=139,c.X86_REG_XMM18=140,c.X86_REG_XMM19=141,c.X86_REG_XMM20=142,c.X86_REG_XMM21=143,c.X86_REG_XMM22=144,c.X86_REG_XMM23=145,c.X86_REG_XMM24=146,c.X86_REG_XMM25=147,c.X86_REG_XMM26=148,c.X86_REG_XMM27=149,c.X86_REG_XMM28=150,c.X86_REG_XMM29=151,c.X86_REG_XMM30=152,c.X86_REG_XMM31=153,c.X86_REG_YMM0=154,c.X86_REG_YMM1=155,c.X86_REG_YMM2=156,c.X86_REG_YMM3=157,c.X86_REG_YMM4=158,c.X86_REG_YMM5=159,c.X86_REG_YMM6=160,c.X86_REG_YMM7=161,c.X86_REG_YMM8=162,c.X86_REG_YMM9=163,c.X86_REG_YMM10=164,c.X86_REG_YMM11=165,c.X86_REG_YMM12=166,c.X86_REG_YMM13=167,c.X86_REG_YMM14=168,c.X86_REG_YMM15=169,c.X86_REG_YMM16=170,c.X86_REG_YMM17=171,c.X86_REG_YMM18=172,c.X86_REG_YMM19=173,c.X86_REG_YMM20=174,c.X86_REG_YMM21=175,c.X86_REG_YMM22=176,c.X86_REG_YMM23=177,c.X86_REG_YMM24=178,c.X86_REG_YMM25=179,c.X86_REG_YMM26=180,c.X86_REG_YMM27=181,c.X86_REG_YMM28=182,c.X86_REG_YMM29=183,c.X86_REG_YMM30=184,c.X86_REG_YMM31=185,c.X86_REG_ZMM0=186,c.X86_REG_ZMM1=187,c.X86_REG_ZMM2=188,c.X86_REG_ZMM3=189,c.X86_REG_ZMM4=190,c.X86_REG_ZMM5=191,c.X86_REG_ZMM6=192,c.X86_REG_ZMM7=193,c.X86_REG_ZMM8=194,c.X86_REG_ZMM9=195,c.X86_REG_ZMM10=196,c.X86_REG_ZMM11=197,c.X86_REG_ZMM12=198,c.X86_REG_ZMM13=199,c.X86_REG_ZMM14=200,c.X86_REG_ZMM15=201,c.X86_REG_ZMM16=202,c.X86_REG_ZMM17=203,c.X86_REG_ZMM18=204,c.X86_REG_ZMM19=205,c.X86_REG_ZMM20=206,c.X86_REG_ZMM21=207,c.X86_REG_ZMM22=208,c.X86_REG_ZMM23=209,c.X86_REG_ZMM24=210,c.X86_REG_ZMM25=211,c.X86_REG_ZMM26=212,c.X86_REG_ZMM27=213,c.X86_REG_ZMM28=214,c.X86_REG_ZMM29=215,c.X86_REG_ZMM30=216,c.X86_REG_ZMM31=217,c.X86_REG_R8B=218,c.X86_REG_R9B=219,c.X86_REG_R10B=220,c.X86_REG_R11B=221,c.X86_REG_R12B=222,c.X86_REG_R13B=223,c.X86_REG_R14B=224,c.X86_REG_R15B=225,c.X86_REG_R8D=226,c.X86_REG_R9D=227,c.X86_REG_R10D=228,c.X86_REG_R11D=229,c.X86_REG_R12D=230,c.X86_REG_R13D=231,c.X86_REG_R14D=232,c.X86_REG_R15D=233,c.X86_REG_R8W=234,c.X86_REG_R9W=235,c.X86_REG_R10W=236,c.X86_REG_R11W=237,c.X86_REG_R12W=238,c.X86_REG_R13W=239,c.X86_REG_R14W=240,c.X86_REG_R15W=241,c.X86_REG_IDTR=242,c.X86_REG_GDTR=243,c.X86_REG_LDTR=244,c.X86_REG_TR=245,c.X86_REG_FPCW=246,c.X86_REG_FPTAG=247,c.X86_REG_MSR=248,c.X86_REG_MXCSR=249,c.X86_REG_FS_BASE=250,c.X86_REG_GS_BASE=251,c.X86_REG_ENDING=252,c.X86_INS_INVALID=0,c.X86_INS_AAA=1,c.X86_INS_AAD=2,c.X86_INS_AAM=3,c.X86_INS_AAS=4,c.X86_INS_FABS=5,c.X86_INS_ADC=6,c.X86_INS_ADCX=7,c.X86_INS_ADD=8,c.X86_INS_ADDPD=9,c.X86_INS_ADDPS=10,c.X86_INS_ADDSD=11,c.X86_INS_ADDSS=12,c.X86_INS_ADDSUBPD=13,c.X86_INS_ADDSUBPS=14,c.X86_INS_FADD=15,c.X86_INS_FIADD=16,c.X86_INS_FADDP=17,c.X86_INS_ADOX=18,c.X86_INS_AESDECLAST=19,c.X86_INS_AESDEC=20,c.X86_INS_AESENCLAST=21,c.X86_INS_AESENC=22,c.X86_INS_AESIMC=23,c.X86_INS_AESKEYGENASSIST=24,c.X86_INS_AND=25,c.X86_INS_ANDN=26,c.X86_INS_ANDNPD=27,c.X86_INS_ANDNPS=28,c.X86_INS_ANDPD=29,c.X86_INS_ANDPS=30,c.X86_INS_ARPL=31,c.X86_INS_BEXTR=32,c.X86_INS_BLCFILL=33,c.X86_INS_BLCI=34,c.X86_INS_BLCIC=35,c.X86_INS_BLCMSK=36,c.X86_INS_BLCS=37,c.X86_INS_BLENDPD=38,c.X86_INS_BLENDPS=39,c.X86_INS_BLENDVPD=40,c.X86_INS_BLENDVPS=41,c.X86_INS_BLSFILL=42,c.X86_INS_BLSI=43,c.X86_INS_BLSIC=44,c.X86_INS_BLSMSK=45,c.X86_INS_BLSR=46,c.X86_INS_BOUND=47,c.X86_INS_BSF=48,c.X86_INS_BSR=49,c.X86_INS_BSWAP=50,c.X86_INS_BT=51,c.X86_INS_BTC=52,c.X86_INS_BTR=53,c.X86_INS_BTS=54,c.X86_INS_BZHI=55,c.X86_INS_CALL=56,c.X86_INS_CBW=57,c.X86_INS_CDQ=58,c.X86_INS_CDQE=59,c.X86_INS_FCHS=60,c.X86_INS_CLAC=61,c.X86_INS_CLC=62,c.X86_INS_CLD=63,c.X86_INS_CLFLUSH=64,c.X86_INS_CLFLUSHOPT=65,c.X86_INS_CLGI=66,c.X86_INS_CLI=67,c.X86_INS_CLTS=68,c.X86_INS_CLWB=69,c.X86_INS_CMC=70,c.X86_INS_CMOVA=71,c.X86_INS_CMOVAE=72,c.X86_INS_CMOVB=73,c.X86_INS_CMOVBE=74,c.X86_INS_FCMOVBE=75,c.X86_INS_FCMOVB=76,c.X86_INS_CMOVE=77,c.X86_INS_FCMOVE=78,c.X86_INS_CMOVG=79,c.X86_INS_CMOVGE=80,c.X86_INS_CMOVL=81,c.X86_INS_CMOVLE=82,c.X86_INS_FCMOVNBE=83,c.X86_INS_FCMOVNB=84,c.X86_INS_CMOVNE=85,c.X86_INS_FCMOVNE=86,c.X86_INS_CMOVNO=87,c.X86_INS_CMOVNP=88,c.X86_INS_FCMOVNU=89,c.X86_INS_CMOVNS=90,c.X86_INS_CMOVO=91,c.X86_INS_CMOVP=92,c.X86_INS_FCMOVU=93,c.X86_INS_CMOVS=94,c.X86_INS_CMP=95,c.X86_INS_CMPPD=96,c.X86_INS_CMPPS=97,c.X86_INS_CMPSB=98,c.X86_INS_CMPSD=99,c.X86_INS_CMPSQ=100,c.X86_INS_CMPSS=101,c.X86_INS_CMPSW=102,c.X86_INS_CMPXCHG16B=103,c.X86_INS_CMPXCHG=104,c.X86_INS_CMPXCHG8B=105,c.X86_INS_COMISD=106,c.X86_INS_COMISS=107,c.X86_INS_FCOMP=108,c.X86_INS_FCOMPI=109,c.X86_INS_FCOMI=110,c.X86_INS_FCOM=111,c.X86_INS_FCOS=112,c.X86_INS_CPUID=113,c.X86_INS_CQO=114,c.X86_INS_CRC32=115,c.X86_INS_CVTDQ2PD=116,c.X86_INS_CVTDQ2PS=117,c.X86_INS_CVTPD2DQ=118,c.X86_INS_CVTPD2PS=119,c.X86_INS_CVTPS2DQ=120,c.X86_INS_CVTPS2PD=121,c.X86_INS_CVTSD2SI=122,c.X86_INS_CVTSD2SS=123,c.X86_INS_CVTSI2SD=124,c.X86_INS_CVTSI2SS=125,c.X86_INS_CVTSS2SD=126,c.X86_INS_CVTSS2SI=127,c.X86_INS_CVTTPD2DQ=128,c.X86_INS_CVTTPS2DQ=129,c.X86_INS_CVTTSD2SI=130,c.X86_INS_CVTTSS2SI=131,c.X86_INS_CWD=132,c.X86_INS_CWDE=133,c.X86_INS_DAA=134,c.X86_INS_DAS=135,c.X86_INS_DATA16=136,c.X86_INS_DEC=137,c.X86_INS_DIV=138,c.X86_INS_DIVPD=139,c.X86_INS_DIVPS=140,c.X86_INS_FDIVR=141,c.X86_INS_FIDIVR=142,c.X86_INS_FDIVRP=143,c.X86_INS_DIVSD=144,c.X86_INS_DIVSS=145,c.X86_INS_FDIV=146,c.X86_INS_FIDIV=147,c.X86_INS_FDIVP=148,c.X86_INS_DPPD=149,c.X86_INS_DPPS=150,c.X86_INS_RET=151,c.X86_INS_ENCLS=152,c.X86_INS_ENCLU=153,c.X86_INS_ENTER=154,c.X86_INS_EXTRACTPS=155,c.X86_INS_EXTRQ=156,c.X86_INS_F2XM1=157,c.X86_INS_LCALL=158,c.X86_INS_LJMP=159,c.X86_INS_FBLD=160,c.X86_INS_FBSTP=161,c.X86_INS_FCOMPP=162,c.X86_INS_FDECSTP=163,c.X86_INS_FEMMS=164,c.X86_INS_FFREE=165,c.X86_INS_FICOM=166,c.X86_INS_FICOMP=167,c.X86_INS_FINCSTP=168,c.X86_INS_FLDCW=169,c.X86_INS_FLDENV=170,c.X86_INS_FLDL2E=171,c.X86_INS_FLDL2T=172,c.X86_INS_FLDLG2=173,c.X86_INS_FLDLN2=174,c.X86_INS_FLDPI=175,c.X86_INS_FNCLEX=176,c.X86_INS_FNINIT=177,c.X86_INS_FNOP=178,c.X86_INS_FNSTCW=179,c.X86_INS_FNSTSW=180,c.X86_INS_FPATAN=181,c.X86_INS_FPREM=182,c.X86_INS_FPREM1=183,c.X86_INS_FPTAN=184,c.X86_INS_FFREEP=185,c.X86_INS_FRNDINT=186,c.X86_INS_FRSTOR=187,c.X86_INS_FNSAVE=188,c.X86_INS_FSCALE=189,c.X86_INS_FSETPM=190,c.X86_INS_FSINCOS=191,c.X86_INS_FNSTENV=192,c.X86_INS_FXAM=193,c.X86_INS_FXRSTOR=194,c.X86_INS_FXRSTOR64=195,c.X86_INS_FXSAVE=196,c.X86_INS_FXSAVE64=197,c.X86_INS_FXTRACT=198,c.X86_INS_FYL2X=199,c.X86_INS_FYL2XP1=200,c.X86_INS_MOVAPD=201,c.X86_INS_MOVAPS=202,c.X86_INS_ORPD=203,c.X86_INS_ORPS=204,c.X86_INS_VMOVAPD=205,c.X86_INS_VMOVAPS=206,c.X86_INS_XORPD=207,c.X86_INS_XORPS=208,c.X86_INS_GETSEC=209,c.X86_INS_HADDPD=210,c.X86_INS_HADDPS=211,c.X86_INS_HLT=212,c.X86_INS_HSUBPD=213,c.X86_INS_HSUBPS=214,c.X86_INS_IDIV=215,c.X86_INS_FILD=216,c.X86_INS_IMUL=217,c.X86_INS_IN=218,c.X86_INS_INC=219,c.X86_INS_INSB=220,c.X86_INS_INSERTPS=221,c.X86_INS_INSERTQ=222,c.X86_INS_INSD=223,c.X86_INS_INSW=224,c.X86_INS_INT=225,c.X86_INS_INT1=226,c.X86_INS_INT3=227,c.X86_INS_INTO=228,c.X86_INS_INVD=229,c.X86_INS_INVEPT=230,c.X86_INS_INVLPG=231,c.X86_INS_INVLPGA=232,c.X86_INS_INVPCID=233,c.X86_INS_INVVPID=234,c.X86_INS_IRET=235,c.X86_INS_IRETD=236,c.X86_INS_IRETQ=237,c.X86_INS_FISTTP=238,c.X86_INS_FIST=239,c.X86_INS_FISTP=240,c.X86_INS_UCOMISD=241,c.X86_INS_UCOMISS=242,c.X86_INS_VCOMISD=243,c.X86_INS_VCOMISS=244,c.X86_INS_VCVTSD2SS=245,c.X86_INS_VCVTSI2SD=246,c.X86_INS_VCVTSI2SS=247,c.X86_INS_VCVTSS2SD=248,c.X86_INS_VCVTTSD2SI=249,c.X86_INS_VCVTTSD2USI=250,c.X86_INS_VCVTTSS2SI=251,c.X86_INS_VCVTTSS2USI=252,c.X86_INS_VCVTUSI2SD=253,c.X86_INS_VCVTUSI2SS=254,c.X86_INS_VUCOMISD=255,c.X86_INS_VUCOMISS=256,c.X86_INS_JAE=257,c.X86_INS_JA=258,c.X86_INS_JBE=259,c.X86_INS_JB=260,c.X86_INS_JCXZ=261,c.X86_INS_JECXZ=262,c.X86_INS_JE=263,c.X86_INS_JGE=264,c.X86_INS_JG=265,c.X86_INS_JLE=266,c.X86_INS_JL=267,c.X86_INS_JMP=268,c.X86_INS_JNE=269,c.X86_INS_JNO=270,c.X86_INS_JNP=271,c.X86_INS_JNS=272,c.X86_INS_JO=273,c.X86_INS_JP=274,c.X86_INS_JRCXZ=275,c.X86_INS_JS=276,c.X86_INS_KANDB=277,c.X86_INS_KANDD=278,c.X86_INS_KANDNB=279,c.X86_INS_KANDND=280,c.X86_INS_KANDNQ=281,c.X86_INS_KANDNW=282,c.X86_INS_KANDQ=283,c.X86_INS_KANDW=284,c.X86_INS_KMOVB=285,c.X86_INS_KMOVD=286,c.X86_INS_KMOVQ=287,c.X86_INS_KMOVW=288,c.X86_INS_KNOTB=289,c.X86_INS_KNOTD=290,c.X86_INS_KNOTQ=291,c.X86_INS_KNOTW=292,c.X86_INS_KORB=293,c.X86_INS_KORD=294,c.X86_INS_KORQ=295,c.X86_INS_KORTESTB=296,c.X86_INS_KORTESTD=297,c.X86_INS_KORTESTQ=298,c.X86_INS_KORTESTW=299,c.X86_INS_KORW=300,c.X86_INS_KSHIFTLB=301,c.X86_INS_KSHIFTLD=302,c.X86_INS_KSHIFTLQ=303,c.X86_INS_KSHIFTLW=304,c.X86_INS_KSHIFTRB=305,c.X86_INS_KSHIFTRD=306,c.X86_INS_KSHIFTRQ=307,c.X86_INS_KSHIFTRW=308,c.X86_INS_KUNPCKBW=309,c.X86_INS_KXNORB=310,c.X86_INS_KXNORD=311,c.X86_INS_KXNORQ=312,c.X86_INS_KXNORW=313,c.X86_INS_KXORB=314,c.X86_INS_KXORD=315,c.X86_INS_KXORQ=316,c.X86_INS_KXORW=317,c.X86_INS_LAHF=318,c.X86_INS_LAR=319,c.X86_INS_LDDQU=320,c.X86_INS_LDMXCSR=321,c.X86_INS_LDS=322,c.X86_INS_FLDZ=323,c.X86_INS_FLD1=324,c.X86_INS_FLD=325,c.X86_INS_LEA=326,c.X86_INS_LEAVE=327,c.X86_INS_LES=328,c.X86_INS_LFENCE=329,c.X86_INS_LFS=330,c.X86_INS_LGDT=331,c.X86_INS_LGS=332,c.X86_INS_LIDT=333,c.X86_INS_LLDT=334,c.X86_INS_LMSW=335,c.X86_INS_OR=336,c.X86_INS_SUB=337,c.X86_INS_XOR=338,c.X86_INS_LODSB=339,c.X86_INS_LODSD=340,c.X86_INS_LODSQ=341,c.X86_INS_LODSW=342,c.X86_INS_LOOP=343,c.X86_INS_LOOPE=344,c.X86_INS_LOOPNE=345,c.X86_INS_RETF=346,c.X86_INS_RETFQ=347,c.X86_INS_LSL=348,c.X86_INS_LSS=349,c.X86_INS_LTR=350,c.X86_INS_XADD=351,c.X86_INS_LZCNT=352,c.X86_INS_MASKMOVDQU=353,c.X86_INS_MAXPD=354,c.X86_INS_MAXPS=355,c.X86_INS_MAXSD=356,c.X86_INS_MAXSS=357,c.X86_INS_MFENCE=358,c.X86_INS_MINPD=359,c.X86_INS_MINPS=360,c.X86_INS_MINSD=361,c.X86_INS_MINSS=362,c.X86_INS_CVTPD2PI=363,c.X86_INS_CVTPI2PD=364,c.X86_INS_CVTPI2PS=365,c.X86_INS_CVTPS2PI=366,c.X86_INS_CVTTPD2PI=367,c.X86_INS_CVTTPS2PI=368,c.X86_INS_EMMS=369,c.X86_INS_MASKMOVQ=370,c.X86_INS_MOVD=371,c.X86_INS_MOVDQ2Q=372,c.X86_INS_MOVNTQ=373,c.X86_INS_MOVQ2DQ=374,c.X86_INS_MOVQ=375,c.X86_INS_PABSB=376,c.X86_INS_PABSD=377,c.X86_INS_PABSW=378,c.X86_INS_PACKSSDW=379,c.X86_INS_PACKSSWB=380,c.X86_INS_PACKUSWB=381,c.X86_INS_PADDB=382,c.X86_INS_PADDD=383,c.X86_INS_PADDQ=384,c.X86_INS_PADDSB=385,c.X86_INS_PADDSW=386,c.X86_INS_PADDUSB=387,c.X86_INS_PADDUSW=388,c.X86_INS_PADDW=389,c.X86_INS_PALIGNR=390,c.X86_INS_PANDN=391,c.X86_INS_PAND=392,c.X86_INS_PAVGB=393,c.X86_INS_PAVGW=394,c.X86_INS_PCMPEQB=395,c.X86_INS_PCMPEQD=396,c.X86_INS_PCMPEQW=397,c.X86_INS_PCMPGTB=398,c.X86_INS_PCMPGTD=399,c.X86_INS_PCMPGTW=400,c.X86_INS_PEXTRW=401,c.X86_INS_PHADDSW=402,c.X86_INS_PHADDW=403,c.X86_INS_PHADDD=404,c.X86_INS_PHSUBD=405,c.X86_INS_PHSUBSW=406,c.X86_INS_PHSUBW=407,c.X86_INS_PINSRW=408,c.X86_INS_PMADDUBSW=409,c.X86_INS_PMADDWD=410,c.X86_INS_PMAXSW=411,c.X86_INS_PMAXUB=412,c.X86_INS_PMINSW=413,c.X86_INS_PMINUB=414,c.X86_INS_PMOVMSKB=415,c.X86_INS_PMULHRSW=416,c.X86_INS_PMULHUW=417,c.X86_INS_PMULHW=418,c.X86_INS_PMULLW=419,c.X86_INS_PMULUDQ=420,c.X86_INS_POR=421,c.X86_INS_PSADBW=422,c.X86_INS_PSHUFB=423,c.X86_INS_PSHUFW=424,c.X86_INS_PSIGNB=425,c.X86_INS_PSIGND=426,c.X86_INS_PSIGNW=427,c.X86_INS_PSLLD=428,c.X86_INS_PSLLQ=429,c.X86_INS_PSLLW=430,c.X86_INS_PSRAD=431,c.X86_INS_PSRAW=432,c.X86_INS_PSRLD=433,c.X86_INS_PSRLQ=434,c.X86_INS_PSRLW=435,c.X86_INS_PSUBB=436,c.X86_INS_PSUBD=437,c.X86_INS_PSUBQ=438,c.X86_INS_PSUBSB=439,c.X86_INS_PSUBSW=440,c.X86_INS_PSUBUSB=441,c.X86_INS_PSUBUSW=442,c.X86_INS_PSUBW=443,c.X86_INS_PUNPCKHBW=444,c.X86_INS_PUNPCKHDQ=445,c.X86_INS_PUNPCKHWD=446,c.X86_INS_PUNPCKLBW=447,c.X86_INS_PUNPCKLDQ=448,c.X86_INS_PUNPCKLWD=449,c.X86_INS_PXOR=450,c.X86_INS_MONITOR=451,c.X86_INS_MONTMUL=452,c.X86_INS_MOV=453,c.X86_INS_MOVABS=454,c.X86_INS_MOVBE=455,c.X86_INS_MOVDDUP=456,c.X86_INS_MOVDQA=457,c.X86_INS_MOVDQU=458,c.X86_INS_MOVHLPS=459,c.X86_INS_MOVHPD=460,c.X86_INS_MOVHPS=461,c.X86_INS_MOVLHPS=462,c.X86_INS_MOVLPD=463,c.X86_INS_MOVLPS=464,c.X86_INS_MOVMSKPD=465,c.X86_INS_MOVMSKPS=466,c.X86_INS_MOVNTDQA=467,c.X86_INS_MOVNTDQ=468,c.X86_INS_MOVNTI=469,c.X86_INS_MOVNTPD=470,c.X86_INS_MOVNTPS=471,c.X86_INS_MOVNTSD=472,c.X86_INS_MOVNTSS=473,c.X86_INS_MOVSB=474,c.X86_INS_MOVSD=475,c.X86_INS_MOVSHDUP=476,c.X86_INS_MOVSLDUP=477,c.X86_INS_MOVSQ=478,c.X86_INS_MOVSS=479,c.X86_INS_MOVSW=480,c.X86_INS_MOVSX=481,c.X86_INS_MOVSXD=482,c.X86_INS_MOVUPD=483,c.X86_INS_MOVUPS=484,c.X86_INS_MOVZX=485,c.X86_INS_MPSADBW=486,c.X86_INS_MUL=487,c.X86_INS_MULPD=488,c.X86_INS_MULPS=489,c.X86_INS_MULSD=490,c.X86_INS_MULSS=491,c.X86_INS_MULX=492,c.X86_INS_FMUL=493,c.X86_INS_FIMUL=494,c.X86_INS_FMULP=495,c.X86_INS_MWAIT=496,c.X86_INS_NEG=497,c.X86_INS_NOP=498,c.X86_INS_NOT=499,c.X86_INS_OUT=500,c.X86_INS_OUTSB=501,c.X86_INS_OUTSD=502,c.X86_INS_OUTSW=503,c.X86_INS_PACKUSDW=504,c.X86_INS_PAUSE=505,c.X86_INS_PAVGUSB=506,c.X86_INS_PBLENDVB=507,c.X86_INS_PBLENDW=508,c.X86_INS_PCLMULQDQ=509,c.X86_INS_PCMPEQQ=510,c.X86_INS_PCMPESTRI=511,c.X86_INS_PCMPESTRM=512,c.X86_INS_PCMPGTQ=513,c.X86_INS_PCMPISTRI=514,c.X86_INS_PCMPISTRM=515,c.X86_INS_PCOMMIT=516,c.X86_INS_PDEP=517,c.X86_INS_PEXT=518,c.X86_INS_PEXTRB=519,c.X86_INS_PEXTRD=520,c.X86_INS_PEXTRQ=521,c.X86_INS_PF2ID=522,c.X86_INS_PF2IW=523,c.X86_INS_PFACC=524,c.X86_INS_PFADD=525,c.X86_INS_PFCMPEQ=526,c.X86_INS_PFCMPGE=527,c.X86_INS_PFCMPGT=528,c.X86_INS_PFMAX=529,c.X86_INS_PFMIN=530,c.X86_INS_PFMUL=531,c.X86_INS_PFNACC=532,c.X86_INS_PFPNACC=533,c.X86_INS_PFRCPIT1=534,c.X86_INS_PFRCPIT2=535,c.X86_INS_PFRCP=536,c.X86_INS_PFRSQIT1=537,c.X86_INS_PFRSQRT=538,c.X86_INS_PFSUBR=539,c.X86_INS_PFSUB=540,c.X86_INS_PHMINPOSUW=541,c.X86_INS_PI2FD=542,c.X86_INS_PI2FW=543,c.X86_INS_PINSRB=544,c.X86_INS_PINSRD=545,c.X86_INS_PINSRQ=546,c.X86_INS_PMAXSB=547,c.X86_INS_PMAXSD=548,c.X86_INS_PMAXUD=549,c.X86_INS_PMAXUW=550,c.X86_INS_PMINSB=551,c.X86_INS_PMINSD=552,c.X86_INS_PMINUD=553,c.X86_INS_PMINUW=554,c.X86_INS_PMOVSXBD=555,c.X86_INS_PMOVSXBQ=556,c.X86_INS_PMOVSXBW=557,c.X86_INS_PMOVSXDQ=558,c.X86_INS_PMOVSXWD=559,c.X86_INS_PMOVSXWQ=560,c.X86_INS_PMOVZXBD=561,c.X86_INS_PMOVZXBQ=562,c.X86_INS_PMOVZXBW=563,c.X86_INS_PMOVZXDQ=564,c.X86_INS_PMOVZXWD=565,c.X86_INS_PMOVZXWQ=566,c.X86_INS_PMULDQ=567,c.X86_INS_PMULHRW=568,c.X86_INS_PMULLD=569,c.X86_INS_POP=570,c.X86_INS_POPAW=571,c.X86_INS_POPAL=572,c.X86_INS_POPCNT=573,c.X86_INS_POPF=574,c.X86_INS_POPFD=575,c.X86_INS_POPFQ=576,c.X86_INS_PREFETCH=577,c.X86_INS_PREFETCHNTA=578,c.X86_INS_PREFETCHT0=579,c.X86_INS_PREFETCHT1=580,c.X86_INS_PREFETCHT2=581,c.X86_INS_PREFETCHW=582,c.X86_INS_PSHUFD=583,c.X86_INS_PSHUFHW=584,c.X86_INS_PSHUFLW=585,c.X86_INS_PSLLDQ=586,c.X86_INS_PSRLDQ=587,c.X86_INS_PSWAPD=588,c.X86_INS_PTEST=589,c.X86_INS_PUNPCKHQDQ=590,c.X86_INS_PUNPCKLQDQ=591,c.X86_INS_PUSH=592,c.X86_INS_PUSHAW=593,c.X86_INS_PUSHAL=594,c.X86_INS_PUSHF=595,c.X86_INS_PUSHFD=596,c.X86_INS_PUSHFQ=597,c.X86_INS_RCL=598,c.X86_INS_RCPPS=599,c.X86_INS_RCPSS=600,c.X86_INS_RCR=601,c.X86_INS_RDFSBASE=602,c.X86_INS_RDGSBASE=603,c.X86_INS_RDMSR=604,c.X86_INS_RDPMC=605,c.X86_INS_RDRAND=606,c.X86_INS_RDSEED=607,c.X86_INS_RDTSC=608,c.X86_INS_RDTSCP=609,c.X86_INS_ROL=610,c.X86_INS_ROR=611,c.X86_INS_RORX=612,c.X86_INS_ROUNDPD=613,c.X86_INS_ROUNDPS=614,c.X86_INS_ROUNDSD=615,c.X86_INS_ROUNDSS=616,c.X86_INS_RSM=617,c.X86_INS_RSQRTPS=618,c.X86_INS_RSQRTSS=619,c.X86_INS_SAHF=620,c.X86_INS_SAL=621,c.X86_INS_SALC=622,c.X86_INS_SAR=623,c.X86_INS_SARX=624,c.X86_INS_SBB=625,c.X86_INS_SCASB=626,c.X86_INS_SCASD=627,c.X86_INS_SCASQ=628,c.X86_INS_SCASW=629,c.X86_INS_SETAE=630,c.X86_INS_SETA=631,c.X86_INS_SETBE=632,c.X86_INS_SETB=633,c.X86_INS_SETE=634,c.X86_INS_SETGE=635,c.X86_INS_SETG=636,c.X86_INS_SETLE=637,c.X86_INS_SETL=638,c.X86_INS_SETNE=639,c.X86_INS_SETNO=640,c.X86_INS_SETNP=641,c.X86_INS_SETNS=642,c.X86_INS_SETO=643,c.X86_INS_SETP=644,c.X86_INS_SETS=645,c.X86_INS_SFENCE=646,c.X86_INS_SGDT=647,c.X86_INS_SHA1MSG1=648,c.X86_INS_SHA1MSG2=649,c.X86_INS_SHA1NEXTE=650,c.X86_INS_SHA1RNDS4=651,c.X86_INS_SHA256MSG1=652,c.X86_INS_SHA256MSG2=653,c.X86_INS_SHA256RNDS2=654,c.X86_INS_SHL=655,c.X86_INS_SHLD=656,c.X86_INS_SHLX=657,c.X86_INS_SHR=658,c.X86_INS_SHRD=659,c.X86_INS_SHRX=660,c.X86_INS_SHUFPD=661,c.X86_INS_SHUFPS=662,c.X86_INS_SIDT=663,c.X86_INS_FSIN=664,c.X86_INS_SKINIT=665,c.X86_INS_SLDT=666,c.X86_INS_SMSW=667,c.X86_INS_SQRTPD=668,c.X86_INS_SQRTPS=669,c.X86_INS_SQRTSD=670,c.X86_INS_SQRTSS=671,c.X86_INS_FSQRT=672,c.X86_INS_STAC=673,c.X86_INS_STC=674,c.X86_INS_STD=675,c.X86_INS_STGI=676,c.X86_INS_STI=677,c.X86_INS_STMXCSR=678,c.X86_INS_STOSB=679,c.X86_INS_STOSD=680,c.X86_INS_STOSQ=681,c.X86_INS_STOSW=682,c.X86_INS_STR=683,c.X86_INS_FST=684,c.X86_INS_FSTP=685,c.X86_INS_FSTPNCE=686,c.X86_INS_FXCH=687,c.X86_INS_SUBPD=688,c.X86_INS_SUBPS=689,c.X86_INS_FSUBR=690,c.X86_INS_FISUBR=691,c.X86_INS_FSUBRP=692,c.X86_INS_SUBSD=693,c.X86_INS_SUBSS=694,c.X86_INS_FSUB=695,c.X86_INS_FISUB=696,c.X86_INS_FSUBP=697,c.X86_INS_SWAPGS=698,c.X86_INS_SYSCALL=699,c.X86_INS_SYSENTER=700,c.X86_INS_SYSEXIT=701,c.X86_INS_SYSRET=702,c.X86_INS_T1MSKC=703,c.X86_INS_TEST=704,c.X86_INS_UD2=705,c.X86_INS_FTST=706,c.X86_INS_TZCNT=707,c.X86_INS_TZMSK=708,c.X86_INS_FUCOMPI=709,c.X86_INS_FUCOMI=710,c.X86_INS_FUCOMPP=711,c.X86_INS_FUCOMP=712,c.X86_INS_FUCOM=713,c.X86_INS_UD2B=714,c.X86_INS_UNPCKHPD=715,c.X86_INS_UNPCKHPS=716,c.X86_INS_UNPCKLPD=717,c.X86_INS_UNPCKLPS=718,c.X86_INS_VADDPD=719,c.X86_INS_VADDPS=720,c.X86_INS_VADDSD=721,c.X86_INS_VADDSS=722,c.X86_INS_VADDSUBPD=723,c.X86_INS_VADDSUBPS=724,c.X86_INS_VAESDECLAST=725,c.X86_INS_VAESDEC=726,c.X86_INS_VAESENCLAST=727,c.X86_INS_VAESENC=728,c.X86_INS_VAESIMC=729,c.X86_INS_VAESKEYGENASSIST=730,c.X86_INS_VALIGND=731,c.X86_INS_VALIGNQ=732,c.X86_INS_VANDNPD=733,c.X86_INS_VANDNPS=734,c.X86_INS_VANDPD=735,c.X86_INS_VANDPS=736,c.X86_INS_VBLENDMPD=737,c.X86_INS_VBLENDMPS=738,c.X86_INS_VBLENDPD=739,c.X86_INS_VBLENDPS=740,c.X86_INS_VBLENDVPD=741,c.X86_INS_VBLENDVPS=742,c.X86_INS_VBROADCASTF128=743,c.X86_INS_VBROADCASTI32X4=744,c.X86_INS_VBROADCASTI64X4=745,c.X86_INS_VBROADCASTSD=746,c.X86_INS_VBROADCASTSS=747,c.X86_INS_VCMPPD=748,c.X86_INS_VCMPPS=749,c.X86_INS_VCMPSD=750,c.X86_INS_VCMPSS=751,c.X86_INS_VCOMPRESSPD=752,c.X86_INS_VCOMPRESSPS=753,c.X86_INS_VCVTDQ2PD=754,c.X86_INS_VCVTDQ2PS=755,c.X86_INS_VCVTPD2DQX=756,c.X86_INS_VCVTPD2DQ=757,c.X86_INS_VCVTPD2PSX=758,c.X86_INS_VCVTPD2PS=759,c.X86_INS_VCVTPD2UDQ=760,c.X86_INS_VCVTPH2PS=761,c.X86_INS_VCVTPS2DQ=762,c.X86_INS_VCVTPS2PD=763,c.X86_INS_VCVTPS2PH=764,c.X86_INS_VCVTPS2UDQ=765,c.X86_INS_VCVTSD2SI=766,c.X86_INS_VCVTSD2USI=767,c.X86_INS_VCVTSS2SI=768,c.X86_INS_VCVTSS2USI=769,c.X86_INS_VCVTTPD2DQX=770,c.X86_INS_VCVTTPD2DQ=771,c.X86_INS_VCVTTPD2UDQ=772,c.X86_INS_VCVTTPS2DQ=773,c.X86_INS_VCVTTPS2UDQ=774,c.X86_INS_VCVTUDQ2PD=775,c.X86_INS_VCVTUDQ2PS=776,c.X86_INS_VDIVPD=777,c.X86_INS_VDIVPS=778,c.X86_INS_VDIVSD=779,c.X86_INS_VDIVSS=780,c.X86_INS_VDPPD=781,c.X86_INS_VDPPS=782,c.X86_INS_VERR=783,c.X86_INS_VERW=784,c.X86_INS_VEXP2PD=785,c.X86_INS_VEXP2PS=786,c.X86_INS_VEXPANDPD=787,c.X86_INS_VEXPANDPS=788,c.X86_INS_VEXTRACTF128=789,c.X86_INS_VEXTRACTF32X4=790,c.X86_INS_VEXTRACTF64X4=791,c.X86_INS_VEXTRACTI128=792,c.X86_INS_VEXTRACTI32X4=793,c.X86_INS_VEXTRACTI64X4=794,c.X86_INS_VEXTRACTPS=795,c.X86_INS_VFMADD132PD=796,c.X86_INS_VFMADD132PS=797,c.X86_INS_VFMADDPD=798,c.X86_INS_VFMADD213PD=799,c.X86_INS_VFMADD231PD=800,c.X86_INS_VFMADDPS=801,c.X86_INS_VFMADD213PS=802,c.X86_INS_VFMADD231PS=803,c.X86_INS_VFMADDSD=804,c.X86_INS_VFMADD213SD=805,c.X86_INS_VFMADD132SD=806,c.X86_INS_VFMADD231SD=807,c.X86_INS_VFMADDSS=808,c.X86_INS_VFMADD213SS=809,c.X86_INS_VFMADD132SS=810,c.X86_INS_VFMADD231SS=811,c.X86_INS_VFMADDSUB132PD=812,c.X86_INS_VFMADDSUB132PS=813,c.X86_INS_VFMADDSUBPD=814,c.X86_INS_VFMADDSUB213PD=815,c.X86_INS_VFMADDSUB231PD=816,c.X86_INS_VFMADDSUBPS=817,c.X86_INS_VFMADDSUB213PS=818,c.X86_INS_VFMADDSUB231PS=819,c.X86_INS_VFMSUB132PD=820,c.X86_INS_VFMSUB132PS=821,c.X86_INS_VFMSUBADD132PD=822,c.X86_INS_VFMSUBADD132PS=823,c.X86_INS_VFMSUBADDPD=824,c.X86_INS_VFMSUBADD213PD=825,c.X86_INS_VFMSUBADD231PD=826,c.X86_INS_VFMSUBADDPS=827,c.X86_INS_VFMSUBADD213PS=828,c.X86_INS_VFMSUBADD231PS=829,c.X86_INS_VFMSUBPD=830,c.X86_INS_VFMSUB213PD=831,c.X86_INS_VFMSUB231PD=832,c.X86_INS_VFMSUBPS=833,c.X86_INS_VFMSUB213PS=834,c.X86_INS_VFMSUB231PS=835,c.X86_INS_VFMSUBSD=836,c.X86_INS_VFMSUB213SD=837,c.X86_INS_VFMSUB132SD=838,c.X86_INS_VFMSUB231SD=839,c.X86_INS_VFMSUBSS=840,c.X86_INS_VFMSUB213SS=841,c.X86_INS_VFMSUB132SS=842,c.X86_INS_VFMSUB231SS=843,c.X86_INS_VFNMADD132PD=844,c.X86_INS_VFNMADD132PS=845,c.X86_INS_VFNMADDPD=846,c.X86_INS_VFNMADD213PD=847,c.X86_INS_VFNMADD231PD=848,c.X86_INS_VFNMADDPS=849,c.X86_INS_VFNMADD213PS=850,c.X86_INS_VFNMADD231PS=851,c.X86_INS_VFNMADDSD=852,c.X86_INS_VFNMADD213SD=853,c.X86_INS_VFNMADD132SD=854,c.X86_INS_VFNMADD231SD=855,c.X86_INS_VFNMADDSS=856,c.X86_INS_VFNMADD213SS=857,c.X86_INS_VFNMADD132SS=858,c.X86_INS_VFNMADD231SS=859,c.X86_INS_VFNMSUB132PD=860,c.X86_INS_VFNMSUB132PS=861,c.X86_INS_VFNMSUBPD=862,c.X86_INS_VFNMSUB213PD=863,c.X86_INS_VFNMSUB231PD=864,c.X86_INS_VFNMSUBPS=865,c.X86_INS_VFNMSUB213PS=866,c.X86_INS_VFNMSUB231PS=867,c.X86_INS_VFNMSUBSD=868,c.X86_INS_VFNMSUB213SD=869,c.X86_INS_VFNMSUB132SD=870,c.X86_INS_VFNMSUB231SD=871,c.X86_INS_VFNMSUBSS=872,c.X86_INS_VFNMSUB213SS=873,c.X86_INS_VFNMSUB132SS=874,c.X86_INS_VFNMSUB231SS=875,c.X86_INS_VFRCZPD=876,c.X86_INS_VFRCZPS=877,c.X86_INS_VFRCZSD=878,c.X86_INS_VFRCZSS=879,c.X86_INS_VORPD=880,c.X86_INS_VORPS=881,c.X86_INS_VXORPD=882,c.X86_INS_VXORPS=883,c.X86_INS_VGATHERDPD=884,c.X86_INS_VGATHERDPS=885,c.X86_INS_VGATHERPF0DPD=886,c.X86_INS_VGATHERPF0DPS=887,c.X86_INS_VGATHERPF0QPD=888,c.X86_INS_VGATHERPF0QPS=889,c.X86_INS_VGATHERPF1DPD=890,c.X86_INS_VGATHERPF1DPS=891,c.X86_INS_VGATHERPF1QPD=892,c.X86_INS_VGATHERPF1QPS=893,c.X86_INS_VGATHERQPD=894,c.X86_INS_VGATHERQPS=895,c.X86_INS_VHADDPD=896,c.X86_INS_VHADDPS=897,c.X86_INS_VHSUBPD=898,c.X86_INS_VHSUBPS=899,c.X86_INS_VINSERTF128=900,c.X86_INS_VINSERTF32X4=901,c.X86_INS_VINSERTF32X8=902,c.X86_INS_VINSERTF64X2=903,c.X86_INS_VINSERTF64X4=904,c.X86_INS_VINSERTI128=905,c.X86_INS_VINSERTI32X4=906,c.X86_INS_VINSERTI32X8=907,c.X86_INS_VINSERTI64X2=908,c.X86_INS_VINSERTI64X4=909,c.X86_INS_VINSERTPS=910,c.X86_INS_VLDDQU=911,c.X86_INS_VLDMXCSR=912,c.X86_INS_VMASKMOVDQU=913,c.X86_INS_VMASKMOVPD=914,c.X86_INS_VMASKMOVPS=915,c.X86_INS_VMAXPD=916,c.X86_INS_VMAXPS=917,c.X86_INS_VMAXSD=918,c.X86_INS_VMAXSS=919,c.X86_INS_VMCALL=920,c.X86_INS_VMCLEAR=921,c.X86_INS_VMFUNC=922,c.X86_INS_VMINPD=923,c.X86_INS_VMINPS=924,c.X86_INS_VMINSD=925,c.X86_INS_VMINSS=926,c.X86_INS_VMLAUNCH=927,c.X86_INS_VMLOAD=928,c.X86_INS_VMMCALL=929,c.X86_INS_VMOVQ=930,c.X86_INS_VMOVDDUP=931,c.X86_INS_VMOVD=932,c.X86_INS_VMOVDQA32=933,c.X86_INS_VMOVDQA64=934,c.X86_INS_VMOVDQA=935,c.X86_INS_VMOVDQU16=936,c.X86_INS_VMOVDQU32=937,c.X86_INS_VMOVDQU64=938,c.X86_INS_VMOVDQU8=939,c.X86_INS_VMOVDQU=940,c.X86_INS_VMOVHLPS=941,c.X86_INS_VMOVHPD=942,c.X86_INS_VMOVHPS=943,c.X86_INS_VMOVLHPS=944,c.X86_INS_VMOVLPD=945,c.X86_INS_VMOVLPS=946,c.X86_INS_VMOVMSKPD=947,c.X86_INS_VMOVMSKPS=948,c.X86_INS_VMOVNTDQA=949,c.X86_INS_VMOVNTDQ=950,c.X86_INS_VMOVNTPD=951,c.X86_INS_VMOVNTPS=952,c.X86_INS_VMOVSD=953,c.X86_INS_VMOVSHDUP=954,c.X86_INS_VMOVSLDUP=955,c.X86_INS_VMOVSS=956,c.X86_INS_VMOVUPD=957,c.X86_INS_VMOVUPS=958,c.X86_INS_VMPSADBW=959,c.X86_INS_VMPTRLD=960,c.X86_INS_VMPTRST=961,c.X86_INS_VMREAD=962,c.X86_INS_VMRESUME=963,c.X86_INS_VMRUN=964,c.X86_INS_VMSAVE=965,c.X86_INS_VMULPD=966,c.X86_INS_VMULPS=967,c.X86_INS_VMULSD=968,c.X86_INS_VMULSS=969,c.X86_INS_VMWRITE=970,c.X86_INS_VMXOFF=971,c.X86_INS_VMXON=972,c.X86_INS_VPABSB=973,c.X86_INS_VPABSD=974,c.X86_INS_VPABSQ=975,c.X86_INS_VPABSW=976,c.X86_INS_VPACKSSDW=977,c.X86_INS_VPACKSSWB=978,c.X86_INS_VPACKUSDW=979,c.X86_INS_VPACKUSWB=980,c.X86_INS_VPADDB=981,c.X86_INS_VPADDD=982,c.X86_INS_VPADDQ=983,c.X86_INS_VPADDSB=984,c.X86_INS_VPADDSW=985,c.X86_INS_VPADDUSB=986,c.X86_INS_VPADDUSW=987,c.X86_INS_VPADDW=988,c.X86_INS_VPALIGNR=989,c.X86_INS_VPANDD=990,c.X86_INS_VPANDND=991,c.X86_INS_VPANDNQ=992,c.X86_INS_VPANDN=993,c.X86_INS_VPANDQ=994,c.X86_INS_VPAND=995,c.X86_INS_VPAVGB=996,c.X86_INS_VPAVGW=997,c.X86_INS_VPBLENDD=998,c.X86_INS_VPBLENDMB=999,c.X86_INS_VPBLENDMD=1e3,c.X86_INS_VPBLENDMQ=1001,c.X86_INS_VPBLENDMW=1002,c.X86_INS_VPBLENDVB=1003,c.X86_INS_VPBLENDW=1004,c.X86_INS_VPBROADCASTB=1005,c.X86_INS_VPBROADCASTD=1006,c.X86_INS_VPBROADCASTMB2Q=1007,c.X86_INS_VPBROADCASTMW2D=1008,c.X86_INS_VPBROADCASTQ=1009,c.X86_INS_VPBROADCASTW=1010,c.X86_INS_VPCLMULQDQ=1011,c.X86_INS_VPCMOV=1012,c.X86_INS_VPCMPB=1013,c.X86_INS_VPCMPD=1014,c.X86_INS_VPCMPEQB=1015,c.X86_INS_VPCMPEQD=1016,c.X86_INS_VPCMPEQQ=1017,c.X86_INS_VPCMPEQW=1018,c.X86_INS_VPCMPESTRI=1019,c.X86_INS_VPCMPESTRM=1020,c.X86_INS_VPCMPGTB=1021,c.X86_INS_VPCMPGTD=1022,c.X86_INS_VPCMPGTQ=1023,c.X86_INS_VPCMPGTW=1024,c.X86_INS_VPCMPISTRI=1025,c.X86_INS_VPCMPISTRM=1026,c.X86_INS_VPCMPQ=1027,c.X86_INS_VPCMPUB=1028,c.X86_INS_VPCMPUD=1029,c.X86_INS_VPCMPUQ=1030,c.X86_INS_VPCMPUW=1031,c.X86_INS_VPCMPW=1032,c.X86_INS_VPCOMB=1033,c.X86_INS_VPCOMD=1034,c.X86_INS_VPCOMPRESSD=1035,c.X86_INS_VPCOMPRESSQ=1036,c.X86_INS_VPCOMQ=1037,c.X86_INS_VPCOMUB=1038,c.X86_INS_VPCOMUD=1039,c.X86_INS_VPCOMUQ=1040,c.X86_INS_VPCOMUW=1041,c.X86_INS_VPCOMW=1042,c.X86_INS_VPCONFLICTD=1043,c.X86_INS_VPCONFLICTQ=1044,c.X86_INS_VPERM2F128=1045,c.X86_INS_VPERM2I128=1046,c.X86_INS_VPERMD=1047,c.X86_INS_VPERMI2D=1048,c.X86_INS_VPERMI2PD=1049,c.X86_INS_VPERMI2PS=1050,c.X86_INS_VPERMI2Q=1051,c.X86_INS_VPERMIL2PD=1052,c.X86_INS_VPERMIL2PS=1053,c.X86_INS_VPERMILPD=1054,c.X86_INS_VPERMILPS=1055,c.X86_INS_VPERMPD=1056,c.X86_INS_VPERMPS=1057,c.X86_INS_VPERMQ=1058,c.X86_INS_VPERMT2D=1059,c.X86_INS_VPERMT2PD=1060,c.X86_INS_VPERMT2PS=1061,c.X86_INS_VPERMT2Q=1062,c.X86_INS_VPEXPANDD=1063,c.X86_INS_VPEXPANDQ=1064,c.X86_INS_VPEXTRB=1065,c.X86_INS_VPEXTRD=1066,c.X86_INS_VPEXTRQ=1067,c.X86_INS_VPEXTRW=1068,c.X86_INS_VPGATHERDD=1069,c.X86_INS_VPGATHERDQ=1070,c.X86_INS_VPGATHERQD=1071,c.X86_INS_VPGATHERQQ=1072,c.X86_INS_VPHADDBD=1073,c.X86_INS_VPHADDBQ=1074,c.X86_INS_VPHADDBW=1075,c.X86_INS_VPHADDDQ=1076,c.X86_INS_VPHADDD=1077,c.X86_INS_VPHADDSW=1078,c.X86_INS_VPHADDUBD=1079,c.X86_INS_VPHADDUBQ=1080,c.X86_INS_VPHADDUBW=1081,c.X86_INS_VPHADDUDQ=1082,c.X86_INS_VPHADDUWD=1083,c.X86_INS_VPHADDUWQ=1084,c.X86_INS_VPHADDWD=1085,c.X86_INS_VPHADDWQ=1086,c.X86_INS_VPHADDW=1087,c.X86_INS_VPHMINPOSUW=1088,c.X86_INS_VPHSUBBW=1089,c.X86_INS_VPHSUBDQ=1090,c.X86_INS_VPHSUBD=1091,c.X86_INS_VPHSUBSW=1092,c.X86_INS_VPHSUBWD=1093,c.X86_INS_VPHSUBW=1094,c.X86_INS_VPINSRB=1095,c.X86_INS_VPINSRD=1096,c.X86_INS_VPINSRQ=1097,c.X86_INS_VPINSRW=1098,c.X86_INS_VPLZCNTD=1099,c.X86_INS_VPLZCNTQ=1100,c.X86_INS_VPMACSDD=1101,c.X86_INS_VPMACSDQH=1102,c.X86_INS_VPMACSDQL=1103,c.X86_INS_VPMACSSDD=1104,c.X86_INS_VPMACSSDQH=1105,c.X86_INS_VPMACSSDQL=1106,c.X86_INS_VPMACSSWD=1107,c.X86_INS_VPMACSSWW=1108,c.X86_INS_VPMACSWD=1109,c.X86_INS_VPMACSWW=1110,c.X86_INS_VPMADCSSWD=1111,c.X86_INS_VPMADCSWD=1112,c.X86_INS_VPMADDUBSW=1113,c.X86_INS_VPMADDWD=1114,c.X86_INS_VPMASKMOVD=1115,c.X86_INS_VPMASKMOVQ=1116,c.X86_INS_VPMAXSB=1117,c.X86_INS_VPMAXSD=1118,c.X86_INS_VPMAXSQ=1119,c.X86_INS_VPMAXSW=1120,c.X86_INS_VPMAXUB=1121,c.X86_INS_VPMAXUD=1122,c.X86_INS_VPMAXUQ=1123,c.X86_INS_VPMAXUW=1124,c.X86_INS_VPMINSB=1125,c.X86_INS_VPMINSD=1126,c.X86_INS_VPMINSQ=1127,c.X86_INS_VPMINSW=1128,c.X86_INS_VPMINUB=1129,c.X86_INS_VPMINUD=1130,c.X86_INS_VPMINUQ=1131,c.X86_INS_VPMINUW=1132,c.X86_INS_VPMOVDB=1133,c.X86_INS_VPMOVDW=1134,c.X86_INS_VPMOVM2B=1135,c.X86_INS_VPMOVM2D=1136,c.X86_INS_VPMOVM2Q=1137,c.X86_INS_VPMOVM2W=1138,c.X86_INS_VPMOVMSKB=1139,c.X86_INS_VPMOVQB=1140,c.X86_INS_VPMOVQD=1141,c.X86_INS_VPMOVQW=1142,c.X86_INS_VPMOVSDB=1143,c.X86_INS_VPMOVSDW=1144,c.X86_INS_VPMOVSQB=1145,c.X86_INS_VPMOVSQD=1146,c.X86_INS_VPMOVSQW=1147,c.X86_INS_VPMOVSXBD=1148,c.X86_INS_VPMOVSXBQ=1149,c.X86_INS_VPMOVSXBW=1150,c.X86_INS_VPMOVSXDQ=1151,c.X86_INS_VPMOVSXWD=1152,c.X86_INS_VPMOVSXWQ=1153,c.X86_INS_VPMOVUSDB=1154,c.X86_INS_VPMOVUSDW=1155,c.X86_INS_VPMOVUSQB=1156,c.X86_INS_VPMOVUSQD=1157,c.X86_INS_VPMOVUSQW=1158,c.X86_INS_VPMOVZXBD=1159,c.X86_INS_VPMOVZXBQ=1160,c.X86_INS_VPMOVZXBW=1161,c.X86_INS_VPMOVZXDQ=1162,c.X86_INS_VPMOVZXWD=1163,c.X86_INS_VPMOVZXWQ=1164,c.X86_INS_VPMULDQ=1165,c.X86_INS_VPMULHRSW=1166,c.X86_INS_VPMULHUW=1167,c.X86_INS_VPMULHW=1168,c.X86_INS_VPMULLD=1169,c.X86_INS_VPMULLQ=1170,c.X86_INS_VPMULLW=1171,c.X86_INS_VPMULUDQ=1172,c.X86_INS_VPORD=1173,c.X86_INS_VPORQ=1174,c.X86_INS_VPOR=1175,c.X86_INS_VPPERM=1176,c.X86_INS_VPROTB=1177,c.X86_INS_VPROTD=1178,c.X86_INS_VPROTQ=1179,c.X86_INS_VPROTW=1180,c.X86_INS_VPSADBW=1181,c.X86_INS_VPSCATTERDD=1182,c.X86_INS_VPSCATTERDQ=1183,c.X86_INS_VPSCATTERQD=1184,c.X86_INS_VPSCATTERQQ=1185,c.X86_INS_VPSHAB=1186,c.X86_INS_VPSHAD=1187,c.X86_INS_VPSHAQ=1188,c.X86_INS_VPSHAW=1189,c.X86_INS_VPSHLB=1190,c.X86_INS_VPSHLD=1191,c.X86_INS_VPSHLQ=1192,c.X86_INS_VPSHLW=1193,c.X86_INS_VPSHUFB=1194,c.X86_INS_VPSHUFD=1195,c.X86_INS_VPSHUFHW=1196,c.X86_INS_VPSHUFLW=1197,c.X86_INS_VPSIGNB=1198,c.X86_INS_VPSIGND=1199,c.X86_INS_VPSIGNW=1200,c.X86_INS_VPSLLDQ=1201,c.X86_INS_VPSLLD=1202,c.X86_INS_VPSLLQ=1203,c.X86_INS_VPSLLVD=1204,c.X86_INS_VPSLLVQ=1205,c.X86_INS_VPSLLW=1206,c.X86_INS_VPSRAD=1207,c.X86_INS_VPSRAQ=1208,c.X86_INS_VPSRAVD=1209,c.X86_INS_VPSRAVQ=1210,c.X86_INS_VPSRAW=1211,c.X86_INS_VPSRLDQ=1212,c.X86_INS_VPSRLD=1213,c.X86_INS_VPSRLQ=1214,c.X86_INS_VPSRLVD=1215,c.X86_INS_VPSRLVQ=1216,c.X86_INS_VPSRLW=1217,c.X86_INS_VPSUBB=1218,c.X86_INS_VPSUBD=1219,c.X86_INS_VPSUBQ=1220,c.X86_INS_VPSUBSB=1221,c.X86_INS_VPSUBSW=1222,c.X86_INS_VPSUBUSB=1223,c.X86_INS_VPSUBUSW=1224,c.X86_INS_VPSUBW=1225,c.X86_INS_VPTESTMD=1226,c.X86_INS_VPTESTMQ=1227,c.X86_INS_VPTESTNMD=1228,c.X86_INS_VPTESTNMQ=1229,c.X86_INS_VPTEST=1230,c.X86_INS_VPUNPCKHBW=1231,c.X86_INS_VPUNPCKHDQ=1232,c.X86_INS_VPUNPCKHQDQ=1233,c.X86_INS_VPUNPCKHWD=1234,c.X86_INS_VPUNPCKLBW=1235,c.X86_INS_VPUNPCKLDQ=1236,c.X86_INS_VPUNPCKLQDQ=1237,c.X86_INS_VPUNPCKLWD=1238,c.X86_INS_VPXORD=1239,c.X86_INS_VPXORQ=1240,c.X86_INS_VPXOR=1241,c.X86_INS_VRCP14PD=1242,c.X86_INS_VRCP14PS=1243,c.X86_INS_VRCP14SD=1244,c.X86_INS_VRCP14SS=1245,c.X86_INS_VRCP28PD=1246,c.X86_INS_VRCP28PS=1247,c.X86_INS_VRCP28SD=1248,c.X86_INS_VRCP28SS=1249,c.X86_INS_VRCPPS=1250,c.X86_INS_VRCPSS=1251,c.X86_INS_VRNDSCALEPD=1252,c.X86_INS_VRNDSCALEPS=1253,c.X86_INS_VRNDSCALESD=1254,c.X86_INS_VRNDSCALESS=1255,c.X86_INS_VROUNDPD=1256,c.X86_INS_VROUNDPS=1257,c.X86_INS_VROUNDSD=1258,c.X86_INS_VROUNDSS=1259,c.X86_INS_VRSQRT14PD=1260,c.X86_INS_VRSQRT14PS=1261,c.X86_INS_VRSQRT14SD=1262,c.X86_INS_VRSQRT14SS=1263,c.X86_INS_VRSQRT28PD=1264,c.X86_INS_VRSQRT28PS=1265,c.X86_INS_VRSQRT28SD=1266,c.X86_INS_VRSQRT28SS=1267,c.X86_INS_VRSQRTPS=1268,c.X86_INS_VRSQRTSS=1269,c.X86_INS_VSCATTERDPD=1270,c.X86_INS_VSCATTERDPS=1271,c.X86_INS_VSCATTERPF0DPD=1272,c.X86_INS_VSCATTERPF0DPS=1273,c.X86_INS_VSCATTERPF0QPD=1274,c.X86_INS_VSCATTERPF0QPS=1275,c.X86_INS_VSCATTERPF1DPD=1276,c.X86_INS_VSCATTERPF1DPS=1277,c.X86_INS_VSCATTERPF1QPD=1278,c.X86_INS_VSCATTERPF1QPS=1279,c.X86_INS_VSCATTERQPD=1280,c.X86_INS_VSCATTERQPS=1281,c.X86_INS_VSHUFPD=1282,c.X86_INS_VSHUFPS=1283,c.X86_INS_VSQRTPD=1284,c.X86_INS_VSQRTPS=1285,c.X86_INS_VSQRTSD=1286,c.X86_INS_VSQRTSS=1287,c.X86_INS_VSTMXCSR=1288,c.X86_INS_VSUBPD=1289,c.X86_INS_VSUBPS=1290,c.X86_INS_VSUBSD=1291,c.X86_INS_VSUBSS=1292,c.X86_INS_VTESTPD=1293,c.X86_INS_VTESTPS=1294,c.X86_INS_VUNPCKHPD=1295,c.X86_INS_VUNPCKHPS=1296,c.X86_INS_VUNPCKLPD=1297,c.X86_INS_VUNPCKLPS=1298,c.X86_INS_VZEROALL=1299,c.X86_INS_VZEROUPPER=1300,c.X86_INS_WAIT=1301,c.X86_INS_WBINVD=1302,c.X86_INS_WRFSBASE=1303,c.X86_INS_WRGSBASE=1304,c.X86_INS_WRMSR=1305,c.X86_INS_XABORT=1306,c.X86_INS_XACQUIRE=1307,c.X86_INS_XBEGIN=1308,c.X86_INS_XCHG=1309,c.X86_INS_XCRYPTCBC=1310,c.X86_INS_XCRYPTCFB=1311,c.X86_INS_XCRYPTCTR=1312,c.X86_INS_XCRYPTECB=1313,c.X86_INS_XCRYPTOFB=1314,c.X86_INS_XEND=1315,c.X86_INS_XGETBV=1316,c.X86_INS_XLATB=1317,c.X86_INS_XRELEASE=1318,c.X86_INS_XRSTOR=1319,c.X86_INS_XRSTOR64=1320,c.X86_INS_XRSTORS=1321,c.X86_INS_XRSTORS64=1322,c.X86_INS_XSAVE=1323,c.X86_INS_XSAVE64=1324,c.X86_INS_XSAVEC=1325,c.X86_INS_XSAVEC64=1326,c.X86_INS_XSAVEOPT=1327,c.X86_INS_XSAVEOPT64=1328,c.X86_INS_XSAVES=1329,c.X86_INS_XSAVES64=1330,c.X86_INS_XSETBV=1331,c.X86_INS_XSHA1=1332,c.X86_INS_XSHA256=1333,c.X86_INS_XSTORE=1334,c.X86_INS_XTEST=1335,c.X86_INS_FDISI8087_NOP=1336,c.X86_INS_FENI8087_NOP=1337,c.X86_INS_ENDING=1338,c.API_MAJOR=1,c.API_MINOR=0,c.VERSION_MAJOR=1,c.VERSION_MINOR=0,c.VERSION_EXTRA=3,c.SECOND_SCALE=1e6,c.MILISECOND_SCALE=1e3,c.ARCH_ARM=1,c.ARCH_ARM64=2,c.ARCH_MIPS=3,c.ARCH_X86=4,c.ARCH_PPC=5,c.ARCH_SPARC=6,c.ARCH_M68K=7,c.ARCH_MAX=8,c.MODE_LITTLE_ENDIAN=0,c.MODE_BIG_ENDIAN=1073741824,c.MODE_ARM=0,c.MODE_THUMB=16,c.MODE_MCLASS=32,c.MODE_V8=64,c.MODE_ARM926=128,c.MODE_ARM946=256,c.MODE_ARM1176=512,c.MODE_ARMBE8=1024,c.MODE_MICRO=16,c.MODE_MIPS3=32,c.MODE_MIPS32R6=64,c.MODE_MIPS32=4,c.MODE_MIPS64=8,c.MODE_16=2,c.MODE_32=4,c.MODE_64=8,c.MODE_PPC32=4,c.MODE_PPC64=8,c.MODE_QPX=16,c.MODE_SPARC32=4,c.MODE_SPARC64=8,c.MODE_V9=16,c.ERR_OK=0,c.ERR_NOMEM=1,c.ERR_ARCH=2,c.ERR_HANDLE=3,c.ERR_MODE=4,c.ERR_VERSION=5,c.ERR_READ_UNMAPPED=6,c.ERR_WRITE_UNMAPPED=7,c.ERR_FETCH_UNMAPPED=8,c.ERR_HOOK=9,c.ERR_INSN_INVALID=10,c.ERR_MAP=11,c.ERR_WRITE_PROT=12,c.ERR_READ_PROT=13,c.ERR_FETCH_PROT=14,c.ERR_ARG=15,c.ERR_READ_UNALIGNED=16,c.ERR_WRITE_UNALIGNED=17,c.ERR_FETCH_UNALIGNED=18,c.ERR_HOOK_EXIST=19,c.ERR_RESOURCE=20,c.ERR_EXCEPTION=21,c.MEM_READ=16,c.MEM_WRITE=17,c.MEM_FETCH=18,c.MEM_READ_UNMAPPED=19,c.MEM_WRITE_UNMAPPED=20,c.MEM_FETCH_UNMAPPED=21,c.MEM_WRITE_PROT=22,c.MEM_READ_PROT=23,c.MEM_FETCH_PROT=24,c.MEM_READ_AFTER=25,c.HOOK_INTR=1,c.HOOK_INSN=2,c.HOOK_CODE=4,c.HOOK_BLOCK=8,c.HOOK_MEM_READ_UNMAPPED=16,c.HOOK_MEM_WRITE_UNMAPPED=32,c.HOOK_MEM_FETCH_UNMAPPED=64,c.HOOK_MEM_READ_PROT=128,c.HOOK_MEM_WRITE_PROT=256,c.HOOK_MEM_FETCH_PROT=512,c.HOOK_MEM_READ=1024,c.HOOK_MEM_WRITE=2048,c.HOOK_MEM_FETCH=4096,c.HOOK_MEM_READ_AFTER=8192,c.HOOK_INSN_INVALID=16384,c.HOOK_MEM_UNMAPPED=112,c.HOOK_MEM_PROT=896,c.HOOK_MEM_READ_INVALID=144,c.HOOK_MEM_WRITE_INVALID=288,c.HOOK_MEM_FETCH_INVALID=576,c.HOOK_MEM_INVALID=1008,c.HOOK_MEM_VALID=7168,c.QUERY_MODE=1,c.QUERY_PAGE_SIZE=2,c.QUERY_ARCH=3,c.QUERY_TIMEOUT=4,c.PROT_NONE=0,c.PROT_READ=1,c.PROT_WRITE=2,c.PROT_EXEC=4,c.PROT_ALL=7,c.ARM64_REG_INVALID=0,c.ARM64_REG_X29=1,c.ARM64_REG_X30=2,c.ARM64_REG_NZCV=3,c.ARM64_REG_SP=4,c.ARM64_REG_WSP=5,c.ARM64_REG_WZR=6,c.ARM64_REG_XZR=7,c.ARM64_REG_B0=8,c.ARM64_REG_B1=9,c.ARM64_REG_B2=10,c.ARM64_REG_B3=11,c.ARM64_REG_B4=12,c.ARM64_REG_B5=13,c.ARM64_REG_B6=14,c.ARM64_REG_B7=15,c.ARM64_REG_B8=16,c.ARM64_REG_B9=17,c.ARM64_REG_B10=18,c.ARM64_REG_B11=19,c.ARM64_REG_B12=20,c.ARM64_REG_B13=21,c.ARM64_REG_B14=22,c.ARM64_REG_B15=23,c.ARM64_REG_B16=24,c.ARM64_REG_B17=25,c.ARM64_REG_B18=26,c.ARM64_REG_B19=27,c.ARM64_REG_B20=28,c.ARM64_REG_B21=29,c.ARM64_REG_B22=30,c.ARM64_REG_B23=31,c.ARM64_REG_B24=32,c.ARM64_REG_B25=33,c.ARM64_REG_B26=34,c.ARM64_REG_B27=35,c.ARM64_REG_B28=36,c.ARM64_REG_B29=37,c.ARM64_REG_B30=38,c.ARM64_REG_B31=39,c.ARM64_REG_D0=40,c.ARM64_REG_D1=41,c.ARM64_REG_D2=42,c.ARM64_REG_D3=43,c.ARM64_REG_D4=44,c.ARM64_REG_D5=45,c.ARM64_REG_D6=46,c.ARM64_REG_D7=47,c.ARM64_REG_D8=48,c.ARM64_REG_D9=49,c.ARM64_REG_D10=50,c.ARM64_REG_D11=51,c.ARM64_REG_D12=52,c.ARM64_REG_D13=53,c.ARM64_REG_D14=54,c.ARM64_REG_D15=55,c.ARM64_REG_D16=56,c.ARM64_REG_D17=57,c.ARM64_REG_D18=58,c.ARM64_REG_D19=59,c.ARM64_REG_D20=60,c.ARM64_REG_D21=61,c.ARM64_REG_D22=62,c.ARM64_REG_D23=63,c.ARM64_REG_D24=64,c.ARM64_REG_D25=65,c.ARM64_REG_D26=66,c.ARM64_REG_D27=67,c.ARM64_REG_D28=68,c.ARM64_REG_D29=69,c.ARM64_REG_D30=70,c.ARM64_REG_D31=71,c.ARM64_REG_H0=72,c.ARM64_REG_H1=73,c.ARM64_REG_H2=74,c.ARM64_REG_H3=75,c.ARM64_REG_H4=76,c.ARM64_REG_H5=77,c.ARM64_REG_H6=78,c.ARM64_REG_H7=79,c.ARM64_REG_H8=80,c.ARM64_REG_H9=81,c.ARM64_REG_H10=82,c.ARM64_REG_H11=83,c.ARM64_REG_H12=84,c.ARM64_REG_H13=85,c.ARM64_REG_H14=86,c.ARM64_REG_H15=87,c.ARM64_REG_H16=88,c.ARM64_REG_H17=89,c.ARM64_REG_H18=90,c.ARM64_REG_H19=91,c.ARM64_REG_H20=92,c.ARM64_REG_H21=93,c.ARM64_REG_H22=94,c.ARM64_REG_H23=95,c.ARM64_REG_H24=96,c.ARM64_REG_H25=97,c.ARM64_REG_H26=98,c.ARM64_REG_H27=99,c.ARM64_REG_H28=100,c.ARM64_REG_H29=101,c.ARM64_REG_H30=102,c.ARM64_REG_H31=103,c.ARM64_REG_Q0=104,c.ARM64_REG_Q1=105,c.ARM64_REG_Q2=106,c.ARM64_REG_Q3=107,c.ARM64_REG_Q4=108,c.ARM64_REG_Q5=109,c.ARM64_REG_Q6=110,c.ARM64_REG_Q7=111,c.ARM64_REG_Q8=112,c.ARM64_REG_Q9=113,c.ARM64_REG_Q10=114,c.ARM64_REG_Q11=115,c.ARM64_REG_Q12=116,c.ARM64_REG_Q13=117,c.ARM64_REG_Q14=118,c.ARM64_REG_Q15=119,c.ARM64_REG_Q16=120,c.ARM64_REG_Q17=121,c.ARM64_REG_Q18=122,c.ARM64_REG_Q19=123,c.ARM64_REG_Q20=124,c.ARM64_REG_Q21=125,c.ARM64_REG_Q22=126,c.ARM64_REG_Q23=127,c.ARM64_REG_Q24=128,c.ARM64_REG_Q25=129,c.ARM64_REG_Q26=130,c.ARM64_REG_Q27=131,c.ARM64_REG_Q28=132,c.ARM64_REG_Q29=133,c.ARM64_REG_Q30=134,c.ARM64_REG_Q31=135,c.ARM64_REG_S0=136,c.ARM64_REG_S1=137,c.ARM64_REG_S2=138,c.ARM64_REG_S3=139,c.ARM64_REG_S4=140,c.ARM64_REG_S5=141,c.ARM64_REG_S6=142,c.ARM64_REG_S7=143,c.ARM64_REG_S8=144,c.ARM64_REG_S9=145,c.ARM64_REG_S10=146,c.ARM64_REG_S11=147,c.ARM64_REG_S12=148,c.ARM64_REG_S13=149,c.ARM64_REG_S14=150,c.ARM64_REG_S15=151,c.ARM64_REG_S16=152,c.ARM64_REG_S17=153,c.ARM64_REG_S18=154,c.ARM64_REG_S19=155,c.ARM64_REG_S20=156,c.ARM64_REG_S21=157,c.ARM64_REG_S22=158,c.ARM64_REG_S23=159,c.ARM64_REG_S24=160,c.ARM64_REG_S25=161,c.ARM64_REG_S26=162,c.ARM64_REG_S27=163,c.ARM64_REG_S28=164,c.ARM64_REG_S29=165,c.ARM64_REG_S30=166,c.ARM64_REG_S31=167,c.ARM64_REG_W0=168,c.ARM64_REG_W1=169,c.ARM64_REG_W2=170,c.ARM64_REG_W3=171,c.ARM64_REG_W4=172,c.ARM64_REG_W5=173,c.ARM64_REG_W6=174,c.ARM64_REG_W7=175,c.ARM64_REG_W8=176,c.ARM64_REG_W9=177,c.ARM64_REG_W10=178,c.ARM64_REG_W11=179,c.ARM64_REG_W12=180,c.ARM64_REG_W13=181,c.ARM64_REG_W14=182,c.ARM64_REG_W15=183,c.ARM64_REG_W16=184,c.ARM64_REG_W17=185,c.ARM64_REG_W18=186,c.ARM64_REG_W19=187,c.ARM64_REG_W20=188,c.ARM64_REG_W21=189,c.ARM64_REG_W22=190,c.ARM64_REG_W23=191,c.ARM64_REG_W24=192,c.ARM64_REG_W25=193,c.ARM64_REG_W26=194,c.ARM64_REG_W27=195,c.ARM64_REG_W28=196,c.ARM64_REG_W29=197,c.ARM64_REG_W30=198,c.ARM64_REG_X0=199,c.ARM64_REG_X1=200,c.ARM64_REG_X2=201,c.ARM64_REG_X3=202,c.ARM64_REG_X4=203,c.ARM64_REG_X5=204,c.ARM64_REG_X6=205,c.ARM64_REG_X7=206,c.ARM64_REG_X8=207,c.ARM64_REG_X9=208,c.ARM64_REG_X10=209,c.ARM64_REG_X11=210,c.ARM64_REG_X12=211,c.ARM64_REG_X13=212,c.ARM64_REG_X14=213,c.ARM64_REG_X15=214,c.ARM64_REG_X16=215,c.ARM64_REG_X17=216,c.ARM64_REG_X18=217,c.ARM64_REG_X19=218,c.ARM64_REG_X20=219,c.ARM64_REG_X21=220,c.ARM64_REG_X22=221,c.ARM64_REG_X23=222,c.ARM64_REG_X24=223,c.ARM64_REG_X25=224,c.ARM64_REG_X26=225,c.ARM64_REG_X27=226,c.ARM64_REG_X28=227,c.ARM64_REG_V0=228,c.ARM64_REG_V1=229,c.ARM64_REG_V2=230,c.ARM64_REG_V3=231,c.ARM64_REG_V4=232,c.ARM64_REG_V5=233,c.ARM64_REG_V6=234,c.ARM64_REG_V7=235,c.ARM64_REG_V8=236,c.ARM64_REG_V9=237,c.ARM64_REG_V10=238,c.ARM64_REG_V11=239,c.ARM64_REG_V12=240,c.ARM64_REG_V13=241,c.ARM64_REG_V14=242,c.ARM64_REG_V15=243,c.ARM64_REG_V16=244,c.ARM64_REG_V17=245,c.ARM64_REG_V18=246,c.ARM64_REG_V19=247,c.ARM64_REG_V20=248,c.ARM64_REG_V21=249,c.ARM64_REG_V22=250,c.ARM64_REG_V23=251,c.ARM64_REG_V24=252,c.ARM64_REG_V25=253,c.ARM64_REG_V26=254,c.ARM64_REG_V27=255,c.ARM64_REG_V28=256,c.ARM64_REG_V29=257,c.ARM64_REG_V30=258,c.ARM64_REG_V31=259,c.ARM64_REG_PC=260,c.ARM64_REG_CPACR_EL1=261,c.ARM64_REG_TPIDR_EL0=262,c.ARM64_REG_TPIDRRO_EL0=263,c.ARM64_REG_TPIDR_EL1=264,c.ARM64_REG_PSTATE=265,c.ARM64_REG_ELR_EL0=266,c.ARM64_REG_ELR_EL1=267,c.ARM64_REG_ELR_EL2=268,c.ARM64_REG_ELR_EL3=269,c.ARM64_REG_SP_EL0=270,c.ARM64_REG_SP_EL1=271,c.ARM64_REG_SP_EL2=272,c.ARM64_REG_SP_EL3=273,c.ARM64_REG_TTBR0_EL1=274,c.ARM64_REG_TTBR1_EL1=275,c.ARM64_REG_ESR_EL0=276,c.ARM64_REG_ESR_EL1=277,c.ARM64_REG_ESR_EL2=278,c.ARM64_REG_ESR_EL3=279,c.ARM64_REG_FAR_EL0=280,c.ARM64_REG_FAR_EL1=281,c.ARM64_REG_FAR_EL2=282,c.ARM64_REG_FAR_EL3=283,c.ARM64_REG_PAR_EL1=284,c.ARM64_REG_MAIR_EL1=285,c.ARM64_REG_VBAR_EL0=286,c.ARM64_REG_VBAR_EL1=287,c.ARM64_REG_VBAR_EL2=288,c.ARM64_REG_VBAR_EL3=289,c.ARM64_REG_ENDING=290,c.ARM64_REG_IP0=215,c.ARM64_REG_IP1=216,c.ARM64_REG_FP=1,c.ARM64_REG_LR=2;var Ln=4194304,ut=32768,Xe=32781,Bt=32788,qt=2097152,$t=3670016,Cn=4128768,Dn="https://linkungao.github.io/copper3d_examples/kiwrious-config/prog.bin";function Hn(on){Dn=on}var Rr=function(){function on(){U(this,on),ne(this,"machine",void 0)}return Z(on,[{key:"loadBinary",value:function(){var mn=k(re().mark(function zn(){var wn,Tt;return re().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,fetch(Dn);case 2:return wn=z.sent,z.next=5,wn.arrayBuffer();case 5:return Tt=z.sent,z.abrupt("return",new Uint8Array(Tt));case 7:case"end":return z.stop()}},zn)}));function Ge(){return mn.apply(this,arguments)}return Ge}()},{key:"setupEmulator",value:function(){var mn=k(re().mark(function zn(){var wn,Tt,ae;return re().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,Je();case 2:return wn=new c.Unicorn(c.ARCH_ARM,c.MODE_THUMB),K.next=5,this.loadBinary();case 5:return Tt=K.sent,wn.mem_map(0,Ln,c.PROT_ALL),wn.mem_write(ut,Tt),ae=wn.reg_read_i32(c.ARM_REG_C1_C0_2),ae=ae|15728640,wn.reg_write_i32(c.ARM_REG_C1_C0_2,ae),wn.reg_write_i32(c.ARM_REG_D16,4294906129),wn.reg_write_i32(c.ARM_REG_FPEXC,1073741824),K.abrupt("return",wn);case 14:case"end":return K.stop()}},zn,this)}));function Ge(){return mn.apply(this,arguments)}return Ge}()},{key:"analyzeResult",value:function(Ge){var zn=new DataView(Ge.buffer,0),wn=zn.getUint32(0,!0),Tt=zn.getUint32(4,!0),ae=zn.getUint32(8,!0),z=zn.getUint32(12,!0),K="";return wn===4?K="Not Touched":wn===48?K="Ready":wn===0?K="Calculating":K="Unknown",{status:K,heartrate:Tt,trustlevel:ae,snr:z}}},{key:"detectHeartRate",value:function(){var mn=k(re().mark(function zn(wn){var Tt;return re().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(this.machine){z.next=4;break}return z.next=3,this.setupEmulator();case 3:this.machine=z.sent;case 4:return this.machine.mem_write($t,wn),this.machine.reg_write_i32(c.ARM_REG_SP,qt),this.machine.reg_write_i32(c.ARM_REG_LR,Xe),this.machine.emu_start(Xe,Bt,0,33554431),Tt=this.machine.mem_read(Cn,16),z.abrupt("return",this.analyzeResult(Tt));case 10:case"end":return z.stop()}},zn,this)}));function Ge(zn){return mn.apply(this,arguments)}return Ge}()}]),on}()})(),R})())},"./node_modules/jsfft/dist/complex_array.js":(m,_)=>{Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function I(N,D){for(var V=0;V<D.length;V++){var O=D[V];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,D,V){return D&&I(N.prototype,D),V&&I(N,V),N}}();function S(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}var R=function(){function I(N){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Float32Array;S(this,I),N instanceof I?(this.ArrayType=N.ArrayType,this.real=new this.ArrayType(N.real),this.imag=new this.ArrayType(N.imag)):(this.ArrayType=D,this.real=new this.ArrayType(N),this.imag=new this.ArrayType(this.real.length)),this.length=this.real.length}return A(I,[{key:"toString",value:function(){var D=[];return this.forEach(function(V,O){D.push("("+V.real.toFixed(2)+", "+V.imag.toFixed(2)+")")}),"["+D.join(", ")+"]"}},{key:"forEach",value:function(D){for(var V=this.length,O=Object.seal(Object.defineProperties({},{real:{writable:!0},imag:{writable:!0}})),k=0;k<V;k++)O.real=this.real[k],O.imag=this.imag[k],D(O,k,V)}},{key:"map",value:function(D){var V=this;return this.forEach(function(O,k,U){D(O,k,U),V.real[k]=O.real,V.imag[k]=O.imag}),this}},{key:"conjugate",value:function(){return new I(this).map(function(D){D.imag*=-1})}},{key:"magnitude",value:function(){var D=new this.ArrayType(this.length);return this.forEach(function(V,O){D[O]=Math.sqrt(V.real*V.real+V.imag*V.imag)}),D}}]),I}();_.default=R},"./node_modules/jsfft/dist/fft.js":(m,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.ComplexArray=void 0;var S=function(){function Re(ke,st){for(var ht=0;ht<st.length;ht++){var dt=st[ht];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(ke,dt.key,dt)}}return function(ke,st,ht){return st&&Re(ke.prototype,st),ht&&Re(ke,ht),ke}}();_.FFT=W,_.InvFFT=Z,_.frequencyMap=ne;var R=A("./node_modules/jsfft/dist/complex_array.js"),I=N(R);function N(Re){return Re&&Re.__esModule?Re:{default:Re}}function D(Re,ke){if(!(Re instanceof ke))throw new TypeError("Cannot call a class as a function")}function V(Re,ke){if(!Re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ke&&(typeof ke=="object"||typeof ke=="function")?ke:Re}function O(Re,ke){if(typeof ke!="function"&&ke!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ke);Re.prototype=Object.create(ke&&ke.prototype,{constructor:{value:Re,enumerable:!1,writable:!0,configurable:!0}}),ke&&(Object.setPrototypeOf?Object.setPrototypeOf(Re,ke):Re.__proto__=ke)}var k=Math.PI,U=Math.SQRT1_2;function W(Re){return re(Re).FFT()}function Z(Re){return re(Re).InvFFT()}function ne(Re,ke){return re(Re).frequencyMap(ke)}var j=_.ComplexArray=function(Re){O(ke,Re);function ke(){return D(this,ke),V(this,(ke.__proto__||Object.getPrototypeOf(ke)).apply(this,arguments))}return S(ke,[{key:"FFT",value:function(){return Ae(this,!1)}},{key:"InvFFT",value:function(){return Ae(this,!0)}},{key:"frequencyMap",value:function(ht){return this.FFT().map(ht).InvFFT()}}]),ke}(I.default);function re(Re){return Re instanceof j&&Re||new j(Re)}function Ae(Re,ke){var st=Re.length;return st&st-1?Y(Re,ke):pe(Re,ke)}function Y(Re,ke){var st=Re.length;if(st===1)return Re;for(var ht=new j(st,Re.ArrayType),dt=tt(st),De=st/dt,Je=1/Math.sqrt(dt),ct=new j(De,Re.ArrayType),Gt=0;Gt<dt;Gt++){for(var Ft=0;Ft<De;Ft++)ct.real[Ft]=Re.real[Ft*dt+Gt],ct.imag[Ft]=Re.imag[Ft*dt+Gt];De>1&&(ct=Ae(ct,ke));for(var Kt=Math.cos(2*k*Gt/st),c=(ke?-1:1)*Math.sin(2*k*Gt/st),Ln=1,ut=0,Xe=0;Xe<st;Xe++){var Bt=ct.real[Xe%De],qt=ct.imag[Xe%De];ht.real[Xe]+=Ln*Bt-ut*qt,ht.imag[Xe]+=Ln*qt+ut*Bt;var $t=[Ln*Kt-ut*c,ut=Ln*c+ut*Kt];Ln=$t[0],ut=$t[1]}}for(var Cn=0;Cn<st;Cn++)Re.real[Cn]=Je*ht.real[Cn],Re.imag[Cn]=Je*ht.imag[Cn];return Re}function pe(Re,ke){for(var st=Re.length,ht=Oe(Re),dt=ht.real,De=ht.imag,Je=1;Je<st;){for(var ct=Math.cos(k/Je),Gt=(ke?-1:1)*Math.sin(k/Je),Ft=0;Ft<st/(2*Je);Ft++)for(var Kt=1,c=0,Ln=0;Ln<Je;Ln++){var ut=2*Ft*Je+Ln,Xe=ut+Je,Bt=dt[ut],qt=De[ut],$t=Kt*dt[Xe]-c*De[Xe],Cn=c*dt[Xe]+Kt*De[Xe];dt[ut]=U*(Bt+$t),De[ut]=U*(qt+Cn),dt[Xe]=U*(Bt-$t),De[Xe]=U*(qt-Cn);var Dn=[Kt*ct-c*Gt,Kt*Gt+c*ct];Kt=Dn[0],c=Dn[1]}Je<<=1}return ht}function we(Re,ke){for(var st=0;ke>1;)st<<=1,st+=Re&1,Re>>=1,ke>>=1;return st}function Oe(Re){for(var ke=Re.length,st=new Set,ht=0;ht<ke;ht++){var dt=we(ht,ke);if(!st.has(ht)){var De=[Re.real[dt],Re.real[ht]];Re.real[ht]=De[0],Re.real[dt]=De[1];var Je=[Re.imag[dt],Re.imag[ht]];Re.imag[ht]=Je[0],Re.imag[dt]=Je[1],st.add(dt)}}return Re}function tt(Re){for(var ke=Math.sqrt(Re),st=3;st<=ke;){if(Re%st===0)return st;st+=2}return Re}},"./ts/kiwrious/service/serial/HeartRateProcessor.ts":(m,_,A)=>{A.r(_),A.d(_,{HEART_RATE_RESULT_STATUS:()=>W,HeartRateProcessor:()=>j});var S=function(re,Ae,Y){if(Y||arguments.length===2)for(var pe=0,we=Ae.length,Oe;pe<we;pe++)(Oe||!(pe in Ae))&&(Oe||(Oe=Array.prototype.slice.call(Ae,0,pe)),Oe[pe]=Ae[pe]);return re.concat(Oe||Array.prototype.slice.call(Ae))},R=A("./node_modules/jsfft/dist/fft.js"),I=3e5,N=9e5,D=200,V=2048,O=100,k=[[[1,0,-1],[1,-1.9794,.9847]],[[1,0,-1],[1,-1.9948,.9953]],[[1,0,-1],[1,-1.9537,.9583]],[[1,0,-1],[1,-1.9849,.9855]],[[1,0,-1],[1,-1.973,.9737]],[[1,0,-1],[1,-1.9392,.9426]],[[1,0,-1],[1,-1.9571,.9583]],[[1,0,-1],[1,-1.941,.9432]]],U=[.0256,.0256,.0254,.0254,.0252,.0252,.0251,.0251,1],W={TOO_LOW:"TOO_LOW",TOO_HIGH:"TOO_HIGH",PROCESSING:"PROCESSING",READY:"READY"},Z=function(){function re(Ae){this._size=Ae,this._array=[],this._sum=0}return re.prototype._log=function(){for(var Ae=[],Y=0;Y<arguments.length;Y++)Ae[Y]=arguments[Y];console.log.apply(console,S(["|FixedArray|"],Ae,!1))},Object.defineProperty(re.prototype,"isAverageReady",{get:function(){return this._array.length>=this._size},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"average",{get:function(){return re.calcAverage(this._sum,this._array.length)},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"array",{get:function(){return this._array},enumerable:!1,configurable:!0}),re.prototype._cleanup=function(){for(;this._array.length>this._size;){var Ae=this._array.shift();Ae&&(this._sum-=Ae)}},re.prototype._add=function(Ae){this._array.push(Ae),this._sum+=Ae},re.prototype.add=function(Ae){this._add(Ae),this._cleanup()},re.prototype.addItems=function(Ae){for(var Y=0,pe=Ae;Y<pe.length;Y++){var we=pe[Y];this._add(we)}this._cleanup()},re.calcSum=function(Ae){return Ae.reduce(function(Y,pe){return Y+pe},0)},re.calcAverage=function(Ae,Y){return Y?Ae/Y:0},re.createSteppedArray=function(Ae,Y,pe){for(var we=[],Oe=(Y-Ae)/(pe-1),tt=0;tt<pe;tt++)we.push(Ae+Oe*tt);return we},re}(),ne=function(){function re(Ae,Y,pe,we){this.b=Ae,this.a=Y,this.g1=pe,this.g2=we,this.w=[1,1,1]}return re.prototype._log=function(){for(var Ae=[],Y=0;Y<arguments.length;Y++)Ae[Y]=arguments[Y];console.log.apply(console,S(["|Biquad|"],Ae,!1))},re.prototype.updateFilter=function(Ae){var Y=Ae*this.g1;this.w[2]=this.w[1],this.w[1]=this.w[0],this.w[0]=Y-this.a[1]*this.w[1]-this.a[2]*this.w[2];var pe=this.b[0]*this.w[0]+this.b[1]*this.w[1]+this.b[2]*this.w[2],we=pe*this.g2;return we},re}(),j=function(){function re(){this._log("ctor"),this._initFilters();var Ae=Math.floor(D/2);this._resultArray=new Z(O),this._inputArray=new Z(V);var Y=V,pe=Math.floor(Y/2);this._xf=Z.createSteppedArray(0,Ae,pe)}return re.prototype._log=function(){for(var Ae=[],Y=0;Y<arguments.length;Y++)Ae[Y]=arguments[Y];console.log.apply(console,S(["|HeartRateProcessor|"],Ae,!1))},re.prototype._initFilters=function(){this._filters=k.map(function(Ae,Y){return new ne(Ae[0],Ae[1],U[Y],1)})},re.prototype.getStatusForInput=function(Ae){return Ae<I?W.TOO_LOW:Ae>N?W.TOO_HIGH:W.PROCESSING},re.prototype.processSingleInput=function(Ae){var Y=this.getStatusForInput(Ae);if(Y!==W.PROCESSING){var pe={status:Y};return pe}this._inputArray.add(Ae);var we=this.process();if(!we){var Oe={status:W.PROCESSING};return Oe}var tt={status:W.READY,value:we};return tt},re.prototype.processMultiInput=function(Ae){for(var Y=0,pe=Ae;Y<pe.length;Y++){var we=pe[Y],Oe=this.getStatusForInput(we);if(Oe!==W.PROCESSING){var tt={status:Oe};return tt}}this._inputArray.addItems(Ae);var Re=this.process();if(!Re){var ke={status:W.PROCESSING};return ke}var st={status:W.READY,value:Re};return st},re.prototype.process=function(){if(!this._inputArray.isAverageReady)return null;var Ae=this._process(this._inputArray);return!Ae||(this._resultArray.add(Ae),!this._resultArray.isAverageReady)?null:this._resultArray.average},re.prototype._process=function(Ae){var Y=this;if(!Ae.isAverageReady)throw new Error("average is not ready. arr len: ".concat(Ae.array.length));for(var pe=Ae.array.map(function(De){var Je=De-Ae.average;return Y._updateAllFilters(Je)}),we=new R.ComplexArray(pe.length).map(function(De,Je,ct){De.real=pe[Je]}),Oe=we.FFT(),tt=Oe.magnitude(),Re=0,ke=0,st=0;st<tt.length/2;st++){var ht=tt[st];ht>Re&&(Re=ht,ke=st)}var dt=this._xf[ke]*60;return dt},re.prototype._updateAllFilters=function(Ae){for(var Y,pe=Ae,we=0,Oe=this._filters;we<Oe.length;we++){var tt=Oe[we];Y=tt.updateFilter(pe),pe=Y}return Y},re}()},"./ts/kiwrious/service/serial/SerialDecoder.ts":(m,_,A)=>{A.r(_),A.d(_,{SerialDecoder:()=>R});var S=function(I,N,D){if(D||arguments.length===2)for(var V=0,O=N.length,k;V<O;V++)(k||!(V in N))&&(k||(k=Array.prototype.slice.call(N,0,V)),k[V]=N[V]);return I.concat(k||Array.prototype.slice.call(N))},R=function(){function I(){}return I.prototype._log=function(){for(var N=[],D=0;D<arguments.length;D++)N[D]=arguments[D];console.log.apply(console,S(["|SerialDecoder|"],N,!1))},I.prototype._err=function(){for(var N=[],D=0;D<arguments.length;D++)N[D]=arguments[D];console.error.apply(console,S(["|SerialDecoder|"],N,!1))},I}()},"./ts/kiwrious/service/serial/SerialHeartRateDecoder.ts":(m,_,A)=>{A.r(_),A.d(_,{SerialHeartRateDecoder:()=>W});var S=A("./ts/kiwrious/service/serial/HeartRateProcessor.ts"),R=A("./ts/kiwrious/service/serial/SerialDecoder.ts"),I=A("./ts/kiwrious/service/serial/SerialRawValue.ts"),N=A("./ts/kiwrious/service/serial/SerialUtil.ts"),D=A("./node_modules/copper3d_plugin_heartjs_config/dist/copper3d_plugin_heartjs_config.js"),V=function(){var Z=function(ne,j){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,Ae){re.__proto__=Ae}||function(re,Ae){for(var Y in Ae)Object.prototype.hasOwnProperty.call(Ae,Y)&&(re[Y]=Ae[Y])},Z(ne,j)};return function(ne,j){if(typeof j!="function"&&j!==null)throw new TypeError("Class extends value "+String(j)+" is not a constructor or null");Z(ne,j);function re(){this.constructor=ne}ne.prototype=j===null?Object.create(j):(re.prototype=j.prototype,new re)}}(),O=function(Z,ne,j,re){function Ae(Y){return Y instanceof j?Y:new j(function(pe){pe(Y)})}return new(j||(j=Promise))(function(Y,pe){function we(Re){try{tt(re.next(Re))}catch(ke){pe(ke)}}function Oe(Re){try{tt(re.throw(Re))}catch(ke){pe(ke)}}function tt(Re){Re.done?Y(Re.value):Ae(Re.value).then(we,Oe)}tt((re=re.apply(Z,ne||[])).next())})},k=function(Z,ne){var j={label:0,sent:function(){if(Y[0]&1)throw Y[1];return Y[1]},trys:[],ops:[]},re,Ae,Y,pe;return pe={next:we(0),throw:we(1),return:we(2)},typeof Symbol=="function"&&(pe[Symbol.iterator]=function(){return this}),pe;function we(tt){return function(Re){return Oe([tt,Re])}}function Oe(tt){if(re)throw new TypeError("Generator is already executing.");for(;j;)try{if(re=1,Ae&&(Y=tt[0]&2?Ae.return:tt[0]?Ae.throw||((Y=Ae.return)&&Y.call(Ae),0):Ae.next)&&!(Y=Y.call(Ae,tt[1])).done)return Y;switch(Ae=0,Y&&(tt=[tt[0]&2,Y.value]),tt[0]){case 0:case 1:Y=tt;break;case 4:return j.label++,{value:tt[1],done:!1};case 5:j.label++,Ae=tt[1],tt=[0];continue;case 7:tt=j.ops.pop(),j.trys.pop();continue;default:if(Y=j.trys,!(Y=Y.length>0&&Y[Y.length-1])&&(tt[0]===6||tt[0]===2)){j=0;continue}if(tt[0]===3&&(!Y||tt[1]>Y[0]&&tt[1]<Y[3])){j.label=tt[1];break}if(tt[0]===6&&j.label<Y[1]){j.label=Y[1],Y=tt;break}if(Y&&j.label<Y[2]){j.label=Y[2],j.ops.push(tt);break}Y[2]&&j.ops.pop(),j.trys.pop();continue}tt=ne.call(Z,j)}catch(Re){tt=[6,Re],Ae=0}finally{re=Y=0}if(tt[0]&5)throw tt[1];return{value:tt[0]?tt[1]:void 0,done:!0}}},U=function(Z,ne,j){if(j||arguments.length===2)for(var re=0,Ae=ne.length,Y;re<Ae;re++)(Y||!(re in ne))&&(Y||(Y=Array.prototype.slice.call(ne,0,re)),Y[re]=ne[re]);return Z.concat(Y||Array.prototype.slice.call(ne))},W=function(Z){V(ne,Z);function ne(){var j=Z.call(this)||this;return j._processor=new S.HeartRateProcessor,j._detector=new D.HeartRateDetector,j}return ne.prototype._log=function(){for(var j=[],re=0;re<arguments.length;re++)j[re]=arguments[re];console.log.apply(console,U(["|SerialHeartRateDecoder|"],j,!1))},ne.prototype.decode=function(j){return O(this,void 0,void 0,function(){var re,Ae,Y,pe,we;return k(this,function(Oe){switch(Oe.label){case 0:return re=j.map(function(tt){return tt.rawValue.subarray(6,22)}),Ae=N.SerialUtil.concatMultiArrays(re),[4,this._detector.detectHeartRate(Ae)];case 1:return Y=Oe.sent(),this._log("heartrate-result",Y),pe={label:I.SENSOR_VALUE.HEART_RATE,value:Y,type:"object"},we={sensorType:j[0].sensorType,decodedValues:[pe]},[2,we]}})})},ne}(R.SerialDecoder)},"./ts/kiwrious/service/serial/SerialHexValue.ts":(m,_,A)=>{A.r(_),A.d(_,{SerialHexValue:()=>S,SerialNumberValue:()=>R});var S=function(){function I(N){this.rawHexValue=N}return I.prototype.toFloat=function(){var N=Number(this.rawHexValue),D=N&2147483648?-1:1,V=(N>>23&255)-127,O=1+(N&8388607)/8388607;return D*O*Math.pow(2,V)},I.prototype.toInt=function(){return Number(parseInt(this.rawHexValue).toFixed())},I.prototype.divideByHundred=function(){return Number((parseInt(this.rawHexValue)/100).toFixed())},I}(),R=function(){function I(N){this._raw=N}return Object.defineProperty(I.prototype,"value",{get:function(){return this._raw},enumerable:!1,configurable:!0}),I.prototype.toInt=function(){return Number(this._raw.toFixed())},I.prototype.divideByHundred=function(){return Number((this._raw/100).toFixed())},I}()},"./ts/kiwrious/service/serial/SerialRawValue.ts":(m,_,A)=>{A.r(_),A.d(_,{SENSOR_TYPE:()=>R,SENSOR_VALUE:()=>I,SerialRawValue:()=>N});var S=A("./ts/kiwrious/service/serial/SerialHexValue.ts"),R={UNKNOWN:"UNKNOWN",UV:"UV",HUMIDITY:"HUMIDITY",VOC:"VOC",CONDUCTIVITY:"CONDUCTIVITY",HEART_RATE:"HEART_RATE",TEMPERATURE:"TEMPERATURE",TEMPERATURE2:"TEMPERATURE2"},I={UNKNOWN:"UNKNOWN",UV_INDEX:"Uv",LUX:"Lux",HUMIDITY:"Hum",TEMPERATURE:"Temp",VOC:"Voc",CONDUCTIVITY:"Con",HEART_RATE:"HeartRate",INFRARED_TEMPERATURE:"InfraredTemp",AMBIENT_TEMPERATURE:"AmbientTemp"},N=function(){function D(V){if(this.rawValue=V,this.dataView=new DataView(V.buffer),!this.isValidLength)throw new Error("invalid array length. expected [] but got [".concat(V.length,"]"))}return Object.defineProperty(D.prototype,"isValidLength",{get:function(){return this.rawValue.length===26},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"sensorTypeRaw",{get:function(){return this.rawValue[2]},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"header2Bytes",{get:function(){return this.getTwoBytesByIndex(0)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"sequence2Bytes",{get:function(){return this.getTwoBytesByIndex(22)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"footer2Bytes",{get:function(){return this.getTwoBytesByIndex(24)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"sensorType",{get:function(){switch(this.sensorTypeRaw){case 10:return R.HEART_RATE;default:throw new Error("invalid sensor type ".concat(this.sensorTypeRaw))}},enumerable:!1,configurable:!0}),D.prototype.getTwoBytesSignedByIndex=function(V){var O=this.dataView.getInt16(V,!0);return O},D.prototype.getTwoBytesUnsignedByIndex=function(V){var O=this.dataView.getUint16(V,!0);return O},D.prototype.getTwoBytesByIndex=function(V){var O=this.dataView.getUint16(V,!0);return O},D.prototype.getFourBytesByIndex=function(V){var O=this.dataView.getUint32(V,!0);return O},D.prototype.getFourBytesFloatByIndex=function(V){var O=this.dataView.getFloat32(V,!0);return O},D.prototype.sliceBytes=function(V,O){if(V+O>this.rawValue.length)throw new Error("invalid index [".concat(V,"] for array length [").concat(this.rawValue.length,"]"));var k=this.rawValue.slice(V,V+O);return k},D.prototype.getByteByIndex=function(V){if(V>=this.rawValue.length)throw new Error("invalid index [".concat(V,"] for array length [").concat(this.rawValue.length,"]"));var O=this.rawValue[V];return O},D.prototype.getHexDigitByIndex=function(V){if(V>=this.rawValue.length)throw new Error("invalid index [".concat(V,"] for array length [").concat(this.rawValue.length,"]"));var O=this.rawValue[V].toString(16).padStart(2,"0");return O},D.prototype.getHexString2=function(V,O){var k=this.getHexDigitByIndex(V),U=this.getHexDigitByIndex(O),W="0x".concat(k).concat(U);return new S.SerialHexValue(W)},D.prototype.getHexString4=function(V,O,k,U){var W=this.getHexDigitByIndex(V),Z=this.getHexDigitByIndex(O),ne=this.getHexDigitByIndex(k),j=this.getHexDigitByIndex(U),re="0x".concat(W).concat(Z).concat(ne).concat(j);return new S.SerialHexValue(re)},D}()},"./ts/kiwrious/service/serial/SerialReader.ts":(m,_,A)=>{A.r(_),A.d(_,{SerialReader:()=>O});var S=A("./ts/kiwrious/service/serial/SerialRawValue.ts"),R=A("./ts/kiwrious/service/serial/SerialUtil.ts"),I=function(k,U,W,Z){function ne(j){return j instanceof W?j:new W(function(re){re(j)})}return new(W||(W=Promise))(function(j,re){function Ae(we){try{pe(Z.next(we))}catch(Oe){re(Oe)}}function Y(we){try{pe(Z.throw(we))}catch(Oe){re(Oe)}}function pe(we){we.done?j(we.value):ne(we.value).then(Ae,Y)}pe((Z=Z.apply(k,U||[])).next())})},N=function(k,U){var W={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},Z,ne,j,re;return re={next:Ae(0),throw:Ae(1),return:Ae(2)},typeof Symbol=="function"&&(re[Symbol.iterator]=function(){return this}),re;function Ae(pe){return function(we){return Y([pe,we])}}function Y(pe){if(Z)throw new TypeError("Generator is already executing.");for(;W;)try{if(Z=1,ne&&(j=pe[0]&2?ne.return:pe[0]?ne.throw||((j=ne.return)&&j.call(ne),0):ne.next)&&!(j=j.call(ne,pe[1])).done)return j;switch(ne=0,j&&(pe=[pe[0]&2,j.value]),pe[0]){case 0:case 1:j=pe;break;case 4:return W.label++,{value:pe[1],done:!1};case 5:W.label++,ne=pe[1],pe=[0];continue;case 7:pe=W.ops.pop(),W.trys.pop();continue;default:if(j=W.trys,!(j=j.length>0&&j[j.length-1])&&(pe[0]===6||pe[0]===2)){W=0;continue}if(pe[0]===3&&(!j||pe[1]>j[0]&&pe[1]<j[3])){W.label=pe[1];break}if(pe[0]===6&&W.label<j[1]){W.label=j[1],j=pe;break}if(j&&W.label<j[2]){W.label=j[2],W.ops.push(pe);break}j[2]&&W.ops.pop(),W.trys.pop();continue}pe=U.call(k,W)}catch(we){pe=[6,we],ne=0}finally{Z=j=0}if(pe[0]&5)throw pe[1];return{value:pe[0]?pe[1]:void 0,done:!0}}},D=function(k,U,W){if(W||arguments.length===2)for(var Z=0,ne=U.length,j;Z<ne;Z++)(j||!(Z in U))&&(j||(j=Array.prototype.slice.call(U,0,Z)),j[Z]=U[Z]);return k.concat(j||Array.prototype.slice.call(U))},V=26,O=function(){function k(U){this._reader=U,this._array=new Uint8Array}return k.prototype._log=function(){for(var U=[],W=0;W<arguments.length;W++)U[W]=arguments[W];console.log.apply(console,D(["|SerialReader|"],U,!1))},k.prototype._err=function(){for(var U=[],W=0;W<arguments.length;W++)U[W]=arguments[W];console.error.apply(console,D(["|SerialReader|"],U,!1))},k.prototype._read=function(){return I(this,void 0,void 0,function(){var U,W,Z,ne;return N(this,function(j){switch(j.label){case 0:if(this._array.length>=V)return U=this._array.subarray(0,V),this._array=this._array.subarray(V),[2,new S.SerialRawValue(U)];if(!this._reader)throw this._err("readLoop - no reader. returning"),new Error("no reader");return[4,this._reader.read()];case 1:if(W=j.sent(),Z=W.value,ne=W.done,ne)throw new Error("reader done");return Z.length===V?(this._array=new Uint8Array,[2,new S.SerialRawValue(Z.subarray(0))]):(this._array=R.SerialUtil.concatArray(this._array,Z),[4,this.readOnce()]);case 2:return[2,j.sent()]}})})},k.prototype.readMultiple=function(U){return U===void 0&&(U=10),I(this,void 0,void 0,function(){var W,Z;return N(this,function(ne){switch(ne.label){case 0:W=[],ne.label=1;case 1:return W.length<U?[4,this._read()]:[3,3];case 2:return Z=ne.sent(),W.push(Z),[3,1];case 3:return[2,W]}})})},k.prototype.readOnce=function(){return I(this,void 0,void 0,function(){var U;return N(this,function(W){switch(W.label){case 0:return[4,this._read()];case 1:return U=W.sent(),[2,U]}})})},k}()},"./ts/kiwrious/service/serial/SerialService.ts":(m,_,A)=>{A.r(_),A.d(_,{default:()=>k});var S=A("./ts/kiwrious/service/serial/SerialReader.ts"),R=A("./ts/kiwrious/service/serial/SerialHeartRateDecoder.ts"),I=function(U,W,Z,ne){function j(re){return re instanceof Z?re:new Z(function(Ae){Ae(re)})}return new(Z||(Z=Promise))(function(re,Ae){function Y(Oe){try{we(ne.next(Oe))}catch(tt){Ae(tt)}}function pe(Oe){try{we(ne.throw(Oe))}catch(tt){Ae(tt)}}function we(Oe){Oe.done?re(Oe.value):j(Oe.value).then(Y,pe)}we((ne=ne.apply(U,W||[])).next())})},N=function(U,W){var Z={label:0,sent:function(){if(re[0]&1)throw re[1];return re[1]},trys:[],ops:[]},ne,j,re,Ae;return Ae={next:Y(0),throw:Y(1),return:Y(2)},typeof Symbol=="function"&&(Ae[Symbol.iterator]=function(){return this}),Ae;function Y(we){return function(Oe){return pe([we,Oe])}}function pe(we){if(ne)throw new TypeError("Generator is already executing.");for(;Z;)try{if(ne=1,j&&(re=we[0]&2?j.return:we[0]?j.throw||((re=j.return)&&re.call(j),0):j.next)&&!(re=re.call(j,we[1])).done)return re;switch(j=0,re&&(we=[we[0]&2,re.value]),we[0]){case 0:case 1:re=we;break;case 4:return Z.label++,{value:we[1],done:!1};case 5:Z.label++,j=we[1],we=[0];continue;case 7:we=Z.ops.pop(),Z.trys.pop();continue;default:if(re=Z.trys,!(re=re.length>0&&re[re.length-1])&&(we[0]===6||we[0]===2)){Z=0;continue}if(we[0]===3&&(!re||we[1]>re[0]&&we[1]<re[3])){Z.label=we[1];break}if(we[0]===6&&Z.label<re[1]){Z.label=re[1],re=we;break}if(re&&Z.label<re[2]){Z.label=re[2],Z.ops.push(we);break}re[2]&&Z.ops.pop(),Z.trys.pop();continue}we=W.call(U,Z)}catch(Oe){we=[6,Oe],j=0}finally{ne=re=0}if(we[0]&5)throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}},D=function(U,W,Z){if(Z||arguments.length===2)for(var ne=0,j=W.length,re;ne<j;ne++)(re||!(ne in W))&&(re||(re=Array.prototype.slice.call(W,0,ne)),re[ne]=W[ne]);return U.concat(re||Array.prototype.slice.call(W))},V=function(){function U(){this._isConnected=!1,this._isReading=!1,this._log("ctor")}return U.prototype._log=function(){for(var W=[],Z=0;Z<arguments.length;Z++)W[Z]=arguments[Z];console.log.apply(console,D(["|SerialService|"],W,!1))},U.prototype._err=function(){for(var W=[],Z=0;Z<arguments.length;Z++)W[Z]=arguments[Z];console.error.apply(console,D(["|SerialService|"],W,!1))},Object.defineProperty(U.prototype,"isReading",{get:function(){return this._isReading},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"canResumeReading",{get:function(){return!!this._port},enumerable:!1,configurable:!0}),U.prototype.triggerStopReading=function(){this._isReading=!1},U.prototype.closeReader=function(){if(this._log("closing reader.."),!this._reader){this._log("no reader found. exiting..");return}this.triggerStopReading(),this._log("cancelling.."),this._reader.cancel(),this._log("releasing lock.."),this._reader.releaseLock(),this._reader=null,this._log("reader closed")},U.prototype.closePortAsync=function(){return I(this,void 0,void 0,function(){var W;return N(this,function(Z){switch(Z.label){case 0:if(this._log("closing port.."),!this._port)return this._log("no port found. exiting.."),[2];this._isConnected=!1,Z.label=1;case 1:return Z.trys.push([1,3,,4]),[4,this._port.close()];case 2:return Z.sent(),this._log("port closed"),[3,4];case 3:return W=Z.sent(),this._err("failed to close port",W),[3,4];case 4:return this.onSerialConnection&&this.onSerialConnection(this._isConnected),[2]}})})},U.prototype.resumeReading=function(){return I(this,void 0,void 0,function(){return N(this,function(W){switch(W.label){case 0:return this._log("resume reading.."),this._port?[3,2]:(this._log("port not found, restarting.."),[4,this.connectAndReadAsync()]);case 1:return W.sent(),[2];case 2:return[4,this.startStage2ConnectPortAsync(this._port)];case 3:return[2,W.sent()]}})})},U.prototype.disconnectAsync=function(){return I(this,void 0,void 0,function(){var W=this;return N(this,function(Z){return this._log("disconnecting.."),this.triggerStopReading(),setTimeout(function(){return I(W,void 0,void 0,function(){return N(this,function(ne){switch(ne.label){case 0:return[4,this.stopStage2ClosePortAsync()];case 1:return ne.sent(),[2]}})})},0),[2]})})},U.prototype.connectAndReadAsync=function(){return I(this,void 0,void 0,function(){var W;return N(this,function(Z){switch(Z.label){case 0:return this._log("connect and read.."),[4,this.startStage1RequestPortAsync()];case 1:return W=Z.sent(),W?[4,this.startStage2ConnectPortAsync(W)]:(this._err("unable to request port"),[2]);case 2:return[2,Z.sent()]}})})},U.prototype.startStage1RequestPortAsync=function(){return I(this,void 0,void 0,function(){var W,Z,ne=this;return N(this,function(j){switch(j.label){case 0:return W=navigator.serial,W?(W.onconnect=function(){ne._log("serial connect")},W.ondisconnect=function(){return I(ne,void 0,void 0,function(){return N(this,function(re){switch(re.label){case 0:return this._log("serial disconnect"),[4,this.disconnectAsync()];case 1:return re.sent(),this._port=null,[2]}})})},this._log("requesting port.."),[4,W.requestPort({filters:[{usbVendorId:1240,vendorId:1240},{usbVendorId:3368,usbProductId:516}]}).catch(function(re){ne._err("failed to serial.requestPort",re)})]):(alert("This feature only works on Chrome with 'Experimental Web Platform features' enabled"),[2,null]);case 1:return Z=j.sent(),Z?[2,Z]:(this._err("unable to find port value"),[2,null])}})})},U.prototype.startStage2ConnectPortAsync=function(W){return I(this,void 0,void 0,function(){var Z;return N(this,function(ne){switch(ne.label){case 0:return this._log("startStage2ReadingAsync"),[4,this.connectPortAsync(W)];case 1:return Z=ne.sent(),Z?(this._isConnected=!0,this._port=Z.port,this._reader=Z.reader,this.onSerialConnection&&this.onSerialConnection(this._isConnected),this.startReading(),[2]):(this._err("failed to connect"),[2])}})})},U.prototype.stopStage2ClosePortAsync=function(){return I(this,void 0,void 0,function(){return N(this,function(W){switch(W.label){case 0:return this._log("stopStage2ClosePortAsync"),this.closeReader(),[4,this.closePortAsync()];case 1:return W.sent(),[2]}})})},U.prototype.connectPortAsync=function(W){return I(this,void 0,void 0,function(){var Z,ne,j=this;return N(this,function(re){switch(re.label){case 0:return Z=W.getInfo(),this._log("port info",Z),W.readable?(this._err("port is already readable"),[2,null]):(this._log("openning port.."),[4,W.open({baudrate:230400,baudRate:230400}).catch(function(Ae){j._err("failed to port.open",Ae)})]);case 1:return re.sent(),W.readable?(ne=W.readable.getReader(),ne.locked?(this._err("reader is locked"),[2,null]):[2,{port:W,reader:ne}]):(this._err("port is not readable.."),[2,null])}})})},U.prototype.startReading=function(){return I(this,void 0,void 0,function(){var W,Z,ne,j,re;return N(this,function(Ae){switch(Ae.label){case 0:Ae.trys.push([0,5,6,7]),this._log("starting reader.."),W=new S.SerialReader(this._reader),this._log("creating decoder.."),Z=new R.SerialHeartRateDecoder,this._log("starting loop.."),this._isReading=!0,Ae.label=1;case 1:return this._isReading?[4,W.readMultiple(10)]:[3,4];case 2:return ne=Ae.sent(),[4,Z.decode(ne)];case 3:return j=Ae.sent(),j&&this.onSerialData&&this.onSerialData(j),[3,1];case 4:return this._log("loop complete.."),[3,7];case 5:return re=Ae.sent(),this._err("error reading loop startReading",re),[3,7];case 6:return this.stopStage2ClosePortAsync(),this._log("startReading complete"),[7];case 7:return[2]}})})},U}(),O=new V;const k=O},"./ts/kiwrious/service/serial/SerialUtil.ts":(m,_,A)=>{A.r(_),A.d(_,{SerialUtil:()=>S});var S=function(){function R(){}return R.concatArray=function(I,N){var D=new Uint8Array(I.length+N.length);return D.set(I,0),D.set(N,I.length),D},R.concatMultiArrays=function(I){var N=I.reduce(function(V,O){return V+O.length},0),D=new Uint8Array(N);return I.reduce(function(V,O){return D.set(O,V),V+O.length},0),D},R}()}},o={};function l(m){var _=o[m];if(_!==void 0)return _.exports;var A=o[m]={exports:{}};return r[m](A,A.exports,l),A.exports}l.n=m=>{var _=m&&m.__esModule?()=>m.default:()=>m;return l.d(_,{a:_}),_},l.d=(m,_)=>{for(var A in _)l.o(_,A)&&!l.o(m,A)&&Object.defineProperty(m,A,{enumerable:!0,get:_[A]})},l.o=(m,_)=>Object.prototype.hasOwnProperty.call(m,_),l.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var d={};return(()=>{/*!********************!*\
  !*** ./ts/main.ts ***!
  \********************/l.r(d),l.d(d,{serialService:()=>m.default,setWasm:()=>_.setWasm,setBinUrl:()=>_.setBinUrl});var m=l("./ts/kiwrious/service/serial/SerialService.ts"),_=l("./node_modules/copper3d_plugin_heartjs_config/dist/copper3d_plugin_heartjs_config.js")})(),d})()})}),rm=_E(ZO),AA,yA,bA;rm?(AA=rm.serialService,yA=rm.setBinUrl,bA=rm.setWasm):(AA=void 0,yA=void 0,bA=void 0);var Ic={serialService:AA,setBinUrl:yA,setWasm:bA};function eF(p,t,r,o,l,d){var m=this;Ic.setBinUrl(r),Ic.setWasm(o),p.onclick=function(){return v(m,void 0,void 0,function(){return y(this,function(_){switch(_.label){case 0:return p.disabled=!0,[4,Ic.serialService.connectAndReadAsync()];case 1:return _.sent(),p.disabled=!1,[2]}})})},t.onclick=function(){return v(m,void 0,void 0,function(){return y(this,function(_){switch(_.label){case 0:return t.disabled=!0,[4,Ic.serialService.disconnectAsync()];case 1:return _.sent(),t.disabled=!1,[2]}})})},Ic.serialService.onSerialConnection=function(_){l(_)},Ic.serialService.onSerialData=function(_){var A=_.decodedValues,S=A[0].value;d(S,S.status,S.heartrate)}}var tF=function(){function p(t){var r=this;this.paintImages={x:[],y:[],z:[]},this.allSlicesArray=[],this.displaySlices=[],this.backUpDisplaySlices=[],this.skipSlicesDic={},this.axis="z",this.mainAreaContainer=document.createElement("div"),this.showDragNumberDiv=document.createElement("div"),this.drawingCanvas=document.createElement("canvas"),this.displayCanvas=document.createElement("canvas"),this.downloadCanvas=document.createElement("canvas"),this.emptyCanvas=document.createElement("canvas"),this.downloadImage=document.createElement("a"),this.drawingCanvasLayerOne=document.createElement("canvas"),this.Is_Shift_Pressed=!1,this.Is_Draw=!1,this.sensitiveArray=[],this.handleWheelMove=function(){},this.start=function(){},this.previousDrawingImage=new Image,this.undoArray=[],this.initState=!0,this.nrrd_states={originWidth:0,originHeight:0,changedWidth:0,changedHeight:0,oldIndex:0,currentIndex:0,maxIndex:0,minIndex:0,z_Index:0,RSARatio:0,latestNotEmptyImg:new Image,contrastNum:0,Max_sensitive:100,readyToUpdate:!0,showContrast:!1,enableCursorChoose:!1,isCursorSelect:!1,cursorPageX:0,cursorPageY:0,Mouse_Over_x:0,Mouse_Over_y:0,Mouse_Over:!1,stepClear:1,sizeFoctor:1,defaultPaintCursor:"url(https://raw.githubusercontent.com/LinkunGao/copper3d_icons/main/icons/pencil-black.svg), auto",drawStartPos:new Fn(1,1)},this.gui_states={mainAreaSize:1,dragSensitivity:75,Eraser:!1,globalAlpha:.7,lineWidth:2,color:"#f50a33",segmentation:!0,fillColor:"#3fac58",brushColor:"#3fac58",brushAndEraserSize:15,cursor:"pencil",clear:function(){r.clearPaint()},clearAll:function(){var o="Are you sure remove annotations on All slice?";confirm(o)===!0&&(r.clearPaint(),r.clearStoreImages())},undo:function(){r.undoLastPainting()},downloadCurrentImage:function(){r.enableDownload()},resetZoom:function(){r.nrrd_states.sizeFoctor=1,r.resizePaintArea(1),r.resetPaintArea()},subView:!1,subViewScale:1,resetView:function(){var o;(o=r.sceneIn)===null||o===void 0||o.resetView()}},this.drawLine=function(o,l,d,m){r.drawingCtx.beginPath(),r.drawingCtx.moveTo(o,l),r.drawingCtx.lineTo(d,m),r.drawingCtx.strokeStyle=r.gui_states.color,r.drawingCtx.stroke()},this.container=t,this.displayCtx=this.displayCanvas.getContext("2d"),this.drawingCtx=this.drawingCanvas.getContext("2d"),this.drawingLayerOneCtx=this.drawingCanvasLayerOne.getContext("2d"),this.init()}return p.prototype.init=function(){var t=this;this.showDragNumberDiv=this.createShowSliceNumberDiv(),this.mainAreaContainer.classList.add("copper3D_drawingCanvasContainer"),this.container.appendChild(this.mainAreaContainer),this.autoFocusDiv(this.container),this.downloadImage.href="",this.downloadImage.target="_blank";for(var r=0;r<this.nrrd_states.Max_sensitive;r++)this.sensitiveArray.push((r+1)/20);this.container.addEventListener("keydown",function(o){o.key==="Shift"&&(t.Is_Shift_Pressed=!0,t.nrrd_states.enableCursorChoose=!1),o.key==="s"&&(t.Is_Draw=!1,t.nrrd_states.enableCursorChoose=!t.nrrd_states.enableCursorChoose)}),this.container.addEventListener("keyup",function(o){o.key==="Shift"&&(t.Is_Shift_Pressed=!1)})},p.prototype.setAllSlices=function(t){this.allSlicesArray=b([],t,!0),this.allSlicesArray.forEach(function(r,o){r.x.contrastOrder=o,r.y.contrastOrder=o,r.z.contrastOrder=o}),this.setDisplaySlicesBaseOnAxis(),this.afterLoadSlice()},p.prototype.setSliceOrientation=function(t){this.nrrd_states.enableCursorChoose&&(this.axis==="z"&&(this.nrrd_states.z_Index=this.nrrd_states.currentIndex),t==="z"?this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=this.nrrd_states.z_Index:t==="x"?this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=Math.ceil(this.nrrd_states.cursorPageX):t==="y"&&(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=Math.ceil(this.nrrd_states.cursorPageY))),this.axis=t,this.resetDisplaySlicesStatus()},p.prototype.addSkip=function(t){this.skipSlicesDic[t]=this.backUpDisplaySlices[t],t>=this.displaySlices.length?this.nrrd_states.contrastNum=this.displaySlices.length:this.nrrd_states.contrastNum=t,this.resetDisplaySlicesStatus()},p.prototype.removeSkip=function(t){this.skipSlicesDic[t]=void 0,this.nrrd_states.contrastNum=0,this.resetDisplaySlicesStatus()},p.prototype.clear=function(){this.allSlicesArray.length=0,this.displaySlices.length=0,this.undoArray.length=0,this.paintImages.x.length=0,this.paintImages.y.length=0,this.paintImages.z.length=0,this.clearDictionary(this.skipSlicesDic),this.backUpDisplaySlices.length=0,this.mainPreSlice=void 0,this.currentShowingSlice=void 0,this.previousDrawingImage.src="",this.initState=!0,this.axis="z",this.nrrd_states.sizeFoctor=1,this.drawingCanvasLayerOne.width=this.drawingCanvasLayerOne.width,this.drawingCanvas.width=this.drawingCanvas.width,this.displayCanvas.width=this.displayCanvas.width},p.prototype.setSliceMoving=function(t){this.mainPreSlice&&(this.Is_Draw=!0,this.setSyncsliceNum(),this.updateIndex(t),this.setIsDrawFalse(1e3))},p.prototype.setShowInMainArea=function(t){this.nrrd_states.showContrast=t,this.nrrd_states.contrastNum=0,this.mainPreSlice&&(this.redrawMianPreOnDisplayCanvas(),this.updateShowNumDiv(this.nrrd_states.contrastNum))},p.prototype.setMainAreaSize=function(t){this.nrrd_states.sizeFoctor+=t,this.nrrd_states.sizeFoctor>=8?this.nrrd_states.sizeFoctor=8:this.nrrd_states.sizeFoctor<=1&&(this.nrrd_states.sizeFoctor=1),this.resizePaintArea(this.nrrd_states.sizeFoctor),this.resetPaintArea(),this.setIsDrawFalse(1e3)},p.prototype.getMaxSliceNum=function(){return this.nrrd_states.showContrast?[this.nrrd_states.maxIndex,this.nrrd_states.maxIndex*this.displaySlices.length]:[this.nrrd_states.maxIndex]},p.prototype.getCurrentSliceIndex=function(){return Math.ceil(this.mainPreSlice.index/this.nrrd_states.RSARatio)},p.prototype.getIsShowContrastState=function(){return this.nrrd_states.showContrast},p.prototype.setIsDrawFalse=function(t){var r=this;this.preTimer=setTimeout(function(){r.Is_Draw=!1,r.preTimer&&(window.clearTimeout(r.preTimer),r.preTimer=void 0)},t)},p.prototype.setDisplaySlicesBaseOnAxis=function(){var t=this;this.displaySlices.length=0,this.backUpDisplaySlices.length=0,this.allSlicesArray.forEach(function(r){t.backUpDisplaySlices.push(r[t.axis])}),this.loadDisplaySlicesArray()},p.prototype.loadDisplaySlicesArray=function(){var t=this,r=Object.values(this.skipSlicesDic);r.length===0?this.backUpDisplaySlices.forEach(function(o,l){t.skipSlicesDic[l]=o,t.displaySlices.push(o)}):r.forEach(function(o,l){o&&(t.displaySlices.push(t.backUpDisplaySlices[l]),t.skipSlicesDic[l]=t.backUpDisplaySlices[l])})},p.prototype.resetDisplaySlicesStatus=function(){this.setDisplaySlicesBaseOnAxis(),this.setupConfigs()},p.prototype.setupConfigs=function(){this.setMainPreSlice(),this.updateMaxIndex(),this.setOriginCanvasAndPre(),this.updateShowNumDiv(this.nrrd_states.contrastNum),this.repraintCurrentContrastSlice(),this.resizePaintArea(this.nrrd_states.sizeFoctor),this.resetPaintArea()},p.prototype.setMainPreSlice=function(){if(this.mainPreSlice=this.displaySlices[0],this.mainPreSlice){this.nrrd_states.RSARatio=this.mainPreSlice.RSARatio;var t=this.mainPreSlice.index;this.findLastCanvas(),this.mainPreSlice.index=t,this.mainPreSlice.repaint.call(this.mainPreSlice)}},p.prototype.findLastCanvas=function(){for(var t=this.mainPreSlice.MaxIndex;t>0;t--){this.mainPreSlice.index=t*this.nrrd_states.RSARatio,this.mainPreSlice.repaint.call(this.mainPreSlice);var r=!this.verifyCanvasIsEmpty(this.mainPreSlice.canvas);if(r){this.mainPreSlice.index=(t-1)*this.nrrd_states.RSARatio,this.mainPreSlice.repaint.call(this.mainPreSlice),this.nrrd_states.latestNotEmptyImg.src=this.mainPreSlice.canvas.toDataURL();break}}},p.prototype.setOriginCanvasAndPre=function(){this.mainPreSlice&&(this.nrrd_states.oldIndex>this.nrrd_states.maxIndex&&(this.nrrd_states.oldIndex=this.nrrd_states.maxIndex),this.initState?(this.nrrd_states.oldIndex=this.mainPreSlice.initIndex,this.nrrd_states.currentIndex=this.mainPreSlice.initIndex):this.mainPreSlice.index=this.nrrd_states.oldIndex,this.originCanvas=this.mainPreSlice.canvas,this.updateOriginAndChangedWH())},p.prototype.afterLoadSlice=function(){this.setMainPreSlice(),this.setOriginCanvasAndPre(),this.currentShowingSlice=this.mainPreSlice,this.undoArray=[{sliceIndex:this.mainPreSlice.index,undos:[]}],this.nrrd_states.oldIndex=this.mainPreSlice.initIndex,this.nrrd_states.currentIndex=this.mainPreSlice.initIndex,this.updateMaxIndex(),this.updateShowNumDiv(this.nrrd_states.contrastNum),this.initState=!1},p.prototype.updateMaxIndex=function(){this.mainPreSlice&&(this.nrrd_states.maxIndex=this.mainPreSlice.MaxIndex)},p.prototype.updateCurrentContrastSlice=function(){return this.currentShowingSlice=this.displaySlices[this.nrrd_states.contrastNum],this.currentShowingSlice},p.prototype.createShowSliceNumberDiv=function(){var t=document.createElement("div");return t.className="copper3d_sliceNumber",t.style.position="absolute",t.style.zIndex="100",t.style.top="20px",t.style.left="100px",t},p.prototype.updateOriginAndChangedWH=function(){this.nrrd_states.originWidth=this.originCanvas.width,this.nrrd_states.originHeight=this.originCanvas.height,this.nrrd_states.changedWidth=this.originCanvas.width*Number(this.gui_states.mainAreaSize),this.nrrd_states.changedHeight=this.originCanvas.height*Number(this.gui_states.mainAreaSize)},p.prototype.initAllCanvas=function(){this.displayCanvas.style.position="absolute",this.displayCanvas.style.zIndex="9",this.displayCanvas.width=this.nrrd_states.changedWidth,this.displayCanvas.height=this.nrrd_states.changedHeight,this.drawingCanvas.style.zIndex="10",this.drawingCanvas.style.position="absolute",this.drawingCanvas.width=this.nrrd_states.changedWidth,this.drawingCanvas.height=this.nrrd_states.changedHeight,this.drawingCanvas.style.cursor=this.nrrd_states.defaultPaintCursor,this.drawingCanvas.oncontextmenu=function(){return!1},this.drawingCanvasLayerOne.width=this.nrrd_states.changedWidth,this.drawingCanvasLayerOne.height=this.nrrd_states.changedHeight,this.mainAreaContainer.style.width=this.nrrd_states.originWidth*8+"px",this.mainAreaContainer.style.height=this.nrrd_states.originHeight*8+"px",this.mainAreaContainer.appendChild(this.displayCanvas),this.mainAreaContainer.appendChild(this.drawingCanvas)},p.prototype.autoFocusDiv=function(t){t.tabIndex=10,t.addEventListener("mouseover",function(){t.focus()}),t.style.outline="none"},p.prototype.setSyncsliceNum=function(){var t=this;this.displaySlices.forEach(function(r,o){o!==0&&(r.index=t.mainPreSlice.index)})},p.prototype.repraintCurrentContrastSlice=function(){this.setSyncsliceNum(),this.displaySlices.forEach(function(t,r){t.repaint.call(t)})},p.prototype.repraintAllContrastSlices=function(){this.displaySlices.forEach(function(t,r){t.volume.repaintAllSlices()})},p.prototype.updateShowNumDiv=function(t){this.mainPreSlice&&(this.nrrd_states.showContrast?this.showDragNumberDiv.innerHTML="ContrastNum: ".concat(t,"/").concat(this.displaySlices.length-1," SliceNum: ").concat(this.nrrd_states.currentIndex,"/").concat(this.nrrd_states.maxIndex):this.showDragNumberDiv.innerHTML="SliceNum: ".concat(this.nrrd_states.currentIndex,"/").concat(this.nrrd_states.maxIndex))},p.prototype.appendLoadingbar=function(t){this.mainAreaContainer.appendChild(t)},p.prototype.drag=function(t){var r=this,o,l,d=this.container.offsetHeight,m=1,_,A,S;this.sensitiveArray.reverse(),t!=null&&t.showNumber&&this.container.appendChild(this.showDragNumberDiv),A=function(I){r.drawingCanvas.removeEventListener("wheel",r.handleWheelMove),I.button===0&&(r.setSyncsliceNum(),l=I.offsetY/d,r.container.addEventListener("pointermove",S,!1),m=r.sensitiveArray[r.gui_states.dragSensitivity-1])},S=tm(function(I){l-I.offsetY/d>=0?o=-Math.ceil((l-I.offsetY/d)*10/m):o=-Math.floor((l-I.offsetY/d)*10/m),r.updateIndex(o),t!=null&&t.getSliceNum&&t.getSliceNum(r.nrrd_states.currentIndex,r.nrrd_states.contrastNum),l=I.offsetY/d},m*200),_=function(I){r.drawingCanvas.addEventListener("wheel",r.handleWheelMove),r.setSyncsliceNum(),r.container.removeEventListener("pointermove",S,!1)};var R=function(){r.container.style.cursor="pointer",r.container.addEventListener("pointerdown",A,!0),r.container.addEventListener("pointerup",_,!0)};R(),this.container.addEventListener("keydown",function(I){I.key==="Shift"&&(r.container.style.cursor="",r.container.removeEventListener("pointerdown",A,!0),r.container.removeEventListener("pointerup",_,!1),r.setIsDrawFalse(1e3))}),this.container.addEventListener("keyup",function(I){I.key==="Shift"&&R()})},p.prototype.updateIndex=function(t){var r=0,o=0;this.nrrd_states.showContrast?(o=t%this.displaySlices.length,this.nrrd_states.contrastNum+=o,t>0?(r=Math.floor(t/this.displaySlices.length),this.nrrd_states.contrastNum>this.displaySlices.length-1&&(r+=1,this.nrrd_states.contrastNum-=this.displaySlices.length)):(r=Math.ceil(t/this.displaySlices.length),this.nrrd_states.contrastNum<0&&(this.nrrd_states.contrastNum+=this.displaySlices.length,r-=1))):r=t;var l=this.nrrd_states.oldIndex+r;if(l!=this.nrrd_states.oldIndex||this.nrrd_states.showContrast){if(l>this.nrrd_states.maxIndex)l=this.nrrd_states.maxIndex,this.nrrd_states.contrastNum=4;else if(l<this.nrrd_states.minIndex)l=this.nrrd_states.minIndex,this.nrrd_states.contrastNum=0;else{this.mainPreSlice.index=l*this.nrrd_states.RSARatio,this.nrrd_states.currentIndex=l,l!=this.nrrd_states.oldIndex&&(this.drawingCanvasLayerOne.width=this.drawingCanvasLayerOne.width),this.displayCanvas.width=this.displayCanvas.width,this.nrrd_states.changedWidth===0&&(this.nrrd_states.changedWidth=this.nrrd_states.originWidth,this.nrrd_states.changedHeight=this.nrrd_states.originHeight);var d=this.updateCurrentContrastSlice();d.repaint.call(d);var m=!0;this.nrrd_states.maxIndex-this.nrrd_states.currentIndex<=30&&(m=!this.verifyCanvasIsEmpty(d.canvas)),m?this.drawDragSlice(d.canvas,l):this.drawDragSlice(this.nrrd_states.latestNotEmptyImg,l)}this.nrrd_states.oldIndex=l,this.updateShowNumDiv(this.nrrd_states.contrastNum)}},p.prototype.drawDragSlice=function(t,r){var o;this.displayCtx.drawImage(t,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight),(this.paintImages.x.length>0||this.paintImages.y.length>0||this.paintImages.z.length>0)&&r!=this.nrrd_states.oldIndex&&(this.paintedImage=this.filterDrawedImage(this.axis,this.nrrd_states.currentIndex),!((o=this.paintedImage)===null||o===void 0)&&o.image&&this.drawingLayerOneCtx.drawImage(this.paintedImage.image,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight))},p.prototype.draw=function(t,r){var o,l;this.sceneIn=t,t.controls.enabled=!1,this.gui_states.subView===!1&&t.subDiv&&(t.subDiv.style.display="none"),o=r.addFolder("Mode Parameters"),t.subDiv&&(l=r.addFolder("Sub View"),l.add(this.gui_states,"resetView"),l.add(this.gui_states,"subView").onChange(function(d){d?(t.controls.enabled=!0,t.subDiv&&(t.subDiv.style.display="block")):(t.subDiv&&(t.subDiv.style.display="none"),t.controls.enabled=!1)}),l.add(this.gui_states,"subViewScale").min(.25).max(2).step(.01).onFinishChange(function(d){t.subDiv&&(t.subDiv.style.width=200*d+"px"),t.subDiv&&(t.subDiv.style.height=200*d+"px")})),this.paintOnCanvas(o)},p.prototype.paintOnCanvas=function(t){var r=this,o,l,d=!1,m=!1,_=0,A=0,S=this.mainPreSlice.index,R=!1,I=[];this.updateOriginAndChangedWH(),this.initAllCanvas(),this.configGui(t),(o=this.displayCtx)===null||o===void 0||o.drawImage(this.originCanvas,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight),this.previousDrawingImage.src=this.drawingCanvas.toDataURL(),this.handleWheelMove=this.configMouseWheel((l=this.sceneIn)===null||l===void 0?void 0:l.controls),this.drawingCanvas.addEventListener("wheel",this.handleWheelMove,{passive:!1});var N=tm(function(U){r.drawingCanvas.style.cursor="grabbing",r.displayCanvas.style.left=r.drawingCanvas.style.left=U.clientX-_+"px",r.displayCanvas.style.top=r.drawingCanvas.style.top=U.clientY-A+"px"},80),D=function(U){r.nrrd_states.Mouse_Over_x=U.offsetX,r.nrrd_states.Mouse_Over_y=U.offsetY,r.nrrd_states.Mouse_Over_x===void 0&&(r.nrrd_states.Mouse_Over_x=U.clientX,r.nrrd_states.Mouse_Over_y=U.clientY),U.type==="mouseout"?(r.nrrd_states.Mouse_Over=!1,r.drawingCanvas.removeEventListener("mousemove",D)):U.type==="mouseover"&&(r.nrrd_states.Mouse_Over=!0,r.drawingCanvas.addEventListener("mousemove",D)),U.preventDefault()};this.drawingCanvas.addEventListener("mouseover",D),this.drawingCanvas.addEventListener("mouseout",D),this.drawingCanvas.addEventListener("pointerdown",function(U){if(d||m){r.drawingCanvas.removeEventListener("pointerup",k),r.drawingLayerOneCtx.closePath();return}if(S!==r.mainPreSlice.index&&(r.previousDrawingImage.src="",S=r.mainPreSlice.index),r.drawingCanvas.removeEventListener("wheel",r.handleWheelMove),U.button===0)r.Is_Shift_Pressed?(d=!0,I=[],R=!0,r.Is_Draw=!0,r.gui_states.Eraser?r.drawingCanvas.style.cursor="url(https://raw.githubusercontent.com/LinkunGao/copper3d_icons/main/icons/circular-cursor.png) 52 52, crosshair":r.drawingCanvas.style.cursor=r.nrrd_states.defaultPaintCursor,r.nrrd_states.drawStartPos.set(U.offsetX,U.offsetY),r.drawingLayerOneCtx.beginPath(),r.drawingCanvas.addEventListener("pointerup",k),r.drawingCanvas.addEventListener("pointermove",O)):r.nrrd_states.enableCursorChoose&&(r.nrrd_states.cursorPageX=U.offsetX/r.nrrd_states.sizeFoctor,r.nrrd_states.cursorPageY=U.offsetY/r.nrrd_states.sizeFoctor);else if(U.button===2){m=!0;var W=parseInt(r.drawingCanvas.style.left),Z=parseInt(r.drawingCanvas.style.top);_=U.clientX-W,A=U.clientY-Z,r.drawingCanvas.style.cursor="grab",r.drawingCanvas.addEventListener("pointerup",k),r.drawingCanvas.addEventListener("pointermove",N)}else return},!0);var V=this.useEraser(),O=function(U){r.Is_Draw=!0,R&&(r.gui_states.Eraser?(r.nrrd_states.stepClear=1,V(U.offsetX,U.offsetY,r.gui_states.brushAndEraserSize)):(I.push({x:U.offsetX,y:U.offsetY}),r.paintOnCanvasLayerOne(U.offsetX,U.offsetY)))},k=function(U){var W;if(U.button===0){if(r.Is_Shift_Pressed||R){if(d=!1,r.drawingLayerOneCtx.closePath(),r.drawingCanvas.removeEventListener("pointermove",O),!r.gui_states.Eraser&&r.gui_states.segmentation){r.drawingCanvasLayerOne.width=r.drawingCanvasLayerOne.width;var Z=(W=r.filterDrawedImage(r.axis,r.nrrd_states.currentIndex))===null||W===void 0?void 0:W.image;Z&&(r.previousDrawingImage=Z),r.drawingLayerOneCtx.drawImage(r.previousDrawingImage,0,0,r.nrrd_states.changedWidth,r.nrrd_states.changedHeight),r.drawingLayerOneCtx.beginPath(),r.drawingLayerOneCtx.moveTo(I[0].x,I[0].y);for(var ne=1;ne<I.length;ne++)r.drawingLayerOneCtx.lineTo(I[ne].x,I[ne].y);r.drawingLayerOneCtx.closePath(),r.drawingLayerOneCtx.lineWidth=1,r.drawingLayerOneCtx.fillStyle=r.gui_states.fillColor,r.drawingLayerOneCtx.fill()}r.previousDrawingImage.src=r.drawingCanvasLayerOne.toDataURL(),r.storeAllImages(),console.log(r.drawingCtx.getImageData(0,0,r.drawingCanvas.width,r.drawingCanvas.height)),R=!1;var j=r.getCurrentUndo(),re=r.drawingCanvasLayerOne.toDataURL(),Ae=new Image;if(Ae.src=re,j.length>0)j[0].undos.push(Ae);else{var Y={sliceIndex:r.nrrd_states.currentIndex,undos:[]};Y.undos.push(Ae),r.undoArray.push(Y)}}}else if(U.button===2)m=!1,r.drawingCanvas.style.cursor="grab",r.drawingCanvas.removeEventListener("pointermove",N);else return;r.drawingCanvas.addEventListener("wheel",r.handleWheelMove,{passive:!1}),r.gui_states.segmentation||r.setIsDrawFalse(100)};this.drawingCanvas.addEventListener("pointerleave",function(U){R=!1,d&&(d=!1,r.drawingLayerOneCtx.closePath(),r.drawingCanvas.removeEventListener("pointermove",O)),m&&(m=!1,r.drawingCanvas.style.cursor="grab",r.drawingCanvas.removeEventListener("pointermove",N)),r.setIsDrawFalse(100),r.gui_states.segmentation&&r.setIsDrawFalse(1e3)}),this.start=function(){if(r.nrrd_states.readyToUpdate){if(r.drawingCtx.clearRect(0,0,r.nrrd_states.changedWidth,r.nrrd_states.changedHeight),r.drawingCtx.globalAlpha=r.gui_states.globalAlpha,r.Is_Draw)r.drawingLayerOneCtx.lineCap="round",r.drawingLayerOneCtx.globalAlpha=1;else if(r.Is_Shift_Pressed&&!r.gui_states.segmentation&&!r.gui_states.Eraser&&r.nrrd_states.Mouse_Over&&(r.drawingCtx.clearRect(0,0,r.nrrd_states.changedWidth,r.nrrd_states.changedHeight),r.drawingCtx.fillStyle=r.gui_states.brushColor,r.drawingCtx.beginPath(),r.drawingCtx.arc(r.nrrd_states.Mouse_Over_x,r.nrrd_states.Mouse_Over_y,r.gui_states.brushAndEraserSize/2+1,0,Math.PI*2),r.drawingCtx.strokeStyle=r.gui_states.brushColor,r.drawingCtx.stroke()),r.nrrd_states.enableCursorChoose){r.drawingCtx.clearRect(0,0,r.nrrd_states.changedWidth,r.nrrd_states.changedHeight);var U=r.nrrd_states.cursorPageX*r.nrrd_states.sizeFoctor,W=r.nrrd_states.cursorPageY*r.nrrd_states.sizeFoctor;r.drawLine(U,0,U,r.drawingCanvas.height),r.drawLine(0,W,r.drawingCanvas.width,W)}r.drawingCtx.drawImage(r.drawingCanvasLayerOne,0,0)}else r.redrawDisplayCanvas()},document.addEventListener("keydown",function(U){(U.ctrlKey||U.metaKey)&&U.code==="KeyZ"&&r.undoLastPainting()})},p.prototype.undoLastPainting=function(){this.Is_Draw=!0,this.drawingCanvasLayerOne.width=this.drawingCanvasLayerOne.width,this.mainPreSlice.repaint.call(this.mainPreSlice);var t=this.getCurrentUndo();if(t.length>0){var r=t[0];if(r.undos.length===0)return;if(r.undos.pop(),r.undos.length>0){var o=r.undos[r.undos.length-1];this.drawingLayerOneCtx.drawImage(o,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight)}this.previousDrawingImage.src=this.drawingCanvasLayerOne.toDataURL(),this.storeAllImages(),this.setIsDrawFalse(1e3)}},p.prototype.getCurrentUndo=function(){var t=this;return this.undoArray.filter(function(r){return r.sliceIndex===t.nrrd_states.currentIndex})},p.prototype.configMouseWheel=function(t){var r=this,o=1,l=function(d){if(!r.Is_Shift_Pressed){d.preventDefault();var m=d.detail?d.detail>0:d.wheelDelta<0;r.Is_Draw=!0;var _=(d.clientX-r.mainAreaContainer.offsetLeft-r.drawingCanvas.offsetLeft)/r.drawingCanvas.offsetWidth,A=(d.clientY-r.mainAreaContainer.offsetTop-r.drawingCanvas.offsetTop)/r.drawingCanvas.offsetHeight,S=m?1-.1:1+.1,R=r.drawingCanvas.offsetWidth*S,I=r.drawingCanvas.offsetHeight*S,N=Math.round(d.clientX-r.mainAreaContainer.offsetLeft-R*_),D=Math.round(d.clientY-r.mainAreaContainer.offsetTop-I*A);o=R/r.nrrd_states.originWidth,o>8?o=8:o<1?o=1:(r.resizePaintArea(o),r.resetPaintArea(N,D),t&&(t.enabled=!1),r.setIsDrawFalse(1e3)),r.nrrd_states.sizeFoctor=o}};return l},p.prototype.useEraser=function(){var t=this,r=function(o,l,d){var m=d-t.nrrd_states.stepClear,_=Math.sqrt(d*d-m*m),A=o-m,S=l-_,R=2*m,I=2*_;t.nrrd_states.stepClear<=d&&(t.drawingLayerOneCtx.clearRect(A,S,R,I),t.nrrd_states.stepClear+=1,r(o,l,d))};return r},p.prototype.clearPaint=function(){this.Is_Draw=!0,this.drawingCanvasLayerOne.width=this.drawingCanvas.width,this.originCanvas.width=this.originCanvas.width,this.mainPreSlice.repaint.call(this.mainPreSlice),this.previousDrawingImage.src="",this.storeAllImages(),this.setIsDrawFalse(1e3)},p.prototype.clearStoreImages=function(){this.paintImages.x.length=0,this.paintImages.y.length=0,this.paintImages.z.length=0},p.prototype.enableDownload=function(){this.downloadImage.download="slice_".concat(this.axis,"_#").concat(this.mainPreSlice.index);var t=this.downloadCanvas.getContext("2d");this.downloadCanvas.width=this.nrrd_states.originWidth,this.downloadCanvas.height=this.nrrd_states.originHeight,t.drawImage(this.displayCanvas,0,0,this.nrrd_states.originWidth,this.nrrd_states.originHeight),t.drawImage(this.drawingCanvas,0,0,this.nrrd_states.originWidth,this.nrrd_states.originHeight),this.downloadImage.href=this.downloadCanvas.toDataURL(),this.downloadImage.click()},p.prototype.paintOnCanvasLayerOne=function(t,r){this.drawingLayerOneCtx.beginPath(),this.drawingLayerOneCtx.moveTo(this.nrrd_states.drawStartPos.x,this.nrrd_states.drawStartPos.y),this.gui_states.segmentation?(this.drawingLayerOneCtx.strokeStyle=this.gui_states.color,this.drawingLayerOneCtx.lineWidth=this.gui_states.lineWidth):(this.drawingLayerOneCtx.strokeStyle=this.gui_states.brushColor,this.drawingLayerOneCtx.lineWidth=this.gui_states.brushAndEraserSize),this.drawingLayerOneCtx.lineTo(t,r),this.drawingLayerOneCtx.stroke(),this.nrrd_states.drawStartPos.set(t,r),this.drawingLayerOneCtx.closePath(),this.mainPreSlice.mesh.material.map.needsUpdate=!0},p.prototype.configGui=function(t){var r=this;t.__controllers.length>0&&this.removeGuiFolderChilden(t),t.open();var o=t.addFolder("Default Actions");o.add(this.gui_states,"cursor",["crosshair","pencil"]).name("cursor icons").onChange(function(A){A==="crosshair"&&(r.nrrd_states.defaultPaintCursor="crosshair"),A==="pencil"&&(r.nrrd_states.defaultPaintCursor="url(https://raw.githubusercontent.com/LinkunGao/copper3d_icons/main/icons/pencil-black.svg), auto"),r.drawingCanvas.style.cursor=r.nrrd_states.defaultPaintCursor}),o.add(this.gui_states,"mainAreaSize").name("zoom").min(1).max(8).onFinishChange(function(A){r.resetPaintArea(),r.nrrd_states.sizeFoctor=A,r.resizePaintArea(A)}),o.add(this.gui_states,"resetZoom"),o.add(this.gui_states,"globalAlpha").name("opacity").min(.1).max(1).step(.01),o.add(this.gui_states,"segmentation").name("Pencil"),o.add(this.gui_states,"brushAndEraserSize").min(5).max(50).step(1),o.add(this.gui_states,"Eraser").onChange(function(A){r.gui_states.Eraser=A,r.gui_states.Eraser?r.drawingCanvas.style.cursor="url(https://raw.githubusercontent.com/LinkunGao/copper3d_icons/main/icons/circular-cursor.png) 52 52, crosshair":r.drawingCanvas.style.cursor=r.nrrd_states.defaultPaintCursor}),o.add(this.gui_states,"clear"),o.add(this.gui_states,"clearAll"),o.add(this.gui_states,"undo"),o.add(this.mainPreSlice.volume,"windowHigh",this.mainPreSlice.volume.min,this.mainPreSlice.volume.max,1).name("Image contrast").onChange(function(A){r.nrrd_states.readyToUpdate=!1,r.updateSlicesContrast(A,"windowHigh")}).onFinishChange(function(){r.repraintAllContrastSlices(),r.nrrd_states.readyToUpdate=!0});var l=t.addFolder("Advance settings");l.add(this.gui_states,"dragSensitivity").min(1).max(this.nrrd_states.Max_sensitive).step(1);var d=l.addFolder("Pencil settings");d.add(this.gui_states,"lineWidth").name("outerLineWidth").min(1.7).max(3).step(.01),d.addColor(this.gui_states,"color"),d.addColor(this.gui_states,"fillColor");var m=l.addFolder("Brush settings");m.addColor(this.gui_states,"brushColor"),l.add(this.gui_states,"downloadCurrentImage");var _=l.addFolder("contrast advance settings");_.add(this.mainPreSlice.volume,"lowerThreshold",this.mainPreSlice.volume.min,this.mainPreSlice.volume.max,1).name("Lower Threshold").onChange(function(A){r.nrrd_states.readyToUpdate=!1,r.updateSlicesContrast(A,"lowerThreshold")}).onFinishChange(function(){r.repraintAllContrastSlices(),r.nrrd_states.readyToUpdate=!0}),_.add(this.mainPreSlice.volume,"upperThreshold",this.mainPreSlice.volume.min,this.mainPreSlice.volume.max,1).name("Upper Threshold").onChange(function(A){r.nrrd_states.readyToUpdate=!1,r.updateSlicesContrast(A,"upperThreshold")}).onFinishChange(function(){r.repraintAllContrastSlices(),r.nrrd_states.readyToUpdate=!0}),_.add(this.mainPreSlice.volume,"windowLow",this.mainPreSlice.volume.min,this.mainPreSlice.volume.max,1).name("Window Low").onChange(function(A){r.nrrd_states.readyToUpdate=!1,r.updateSlicesContrast(A,"windowLow")}).onFinishChange(function(){r.repraintAllContrastSlices(),r.nrrd_states.readyToUpdate=!0}),o.open()},p.prototype.updateSlicesContrast=function(t,r){switch(r){case"lowerThreshold":this.displaySlices.forEach(function(o,l){o.volume.lowerThreshold=t});break;case"upperThreshold":this.displaySlices.forEach(function(o,l){o.volume.upperThreshold=t});break;case"windowLow":this.displaySlices.forEach(function(o,l){o.volume.windowLow=t});break;case"windowHigh":this.displaySlices.forEach(function(o,l){o.volume.windowHigh=t});break}this.repraintCurrentContrastSlice()},p.prototype.resetPaintArea=function(t,r){t&&r?(this.displayCanvas.style.left=this.drawingCanvas.style.left=t+"px",this.displayCanvas.style.top=this.drawingCanvas.style.top=r+"px"):(this.displayCanvas.style.left=this.drawingCanvas.style.left="",this.displayCanvas.style.top=this.drawingCanvas.style.top="",this.mainAreaContainer.style.justifyContent="center",this.mainAreaContainer.style.alignItems="center")},p.prototype.redrawDisplayCanvas=function(){var t;this.updateCurrentContrastSlice(),this.displayCanvas.width=this.displayCanvas.width,this.displayCanvas.height=this.displayCanvas.height,this.originCanvas.width=this.originCanvas.width,this.currentShowingSlice&&(this.currentShowingSlice.repaint.call(this.currentShowingSlice),(t=this.displayCtx)===null||t===void 0||t.drawImage(this.currentShowingSlice.canvas,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight))},p.prototype.redrawMianPreOnDisplayCanvas=function(){var t;this.displayCanvas.width=this.displayCanvas.width,this.displayCanvas.height=this.displayCanvas.height,this.originCanvas.width=this.originCanvas.width,this.mainPreSlice&&(this.mainPreSlice.repaint.call(this.mainPreSlice),(t=this.displayCtx)===null||t===void 0||t.drawImage(this.originCanvas,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight),this.resizePaintArea(this.nrrd_states.sizeFoctor))},p.prototype.resizePaintArea=function(t){var r,o,l;switch(this.originCanvas.width=this.originCanvas.width,this.displayCanvas.width=this.displayCanvas.width,this.drawingCanvas.width=this.drawingCanvas.width,this.drawingCanvasLayerOne.width=this.drawingCanvasLayerOne.width,this.nrrd_states.changedWidth=this.nrrd_states.originWidth*t,this.nrrd_states.changedHeight=this.nrrd_states.originHeight*t,this.displayCanvas.width=this.nrrd_states.changedWidth,this.displayCanvas.height=this.nrrd_states.changedHeight,this.drawingCanvas.width=this.nrrd_states.changedWidth,this.drawingCanvas.height=this.nrrd_states.changedHeight,this.drawingCanvasLayerOne.width=this.nrrd_states.changedWidth,this.drawingCanvasLayerOne.height=this.nrrd_states.changedHeight,this.redrawDisplayCanvas(),!((r=this.paintedImage)===null||r===void 0)&&r.image,this.axis){case"x":this.paintImages.x.length>0?this.paintedImage=this.filterDrawedImage("x",this.nrrd_states.currentIndex):this.paintedImage=void 0;break;case"y":this.paintImages.y.length>0?this.paintedImage=this.filterDrawedImage("y",this.nrrd_states.currentIndex):this.paintedImage=void 0;break;case"z":this.paintImages.z.length>0?this.paintedImage=this.filterDrawedImage("z",this.nrrd_states.currentIndex):this.paintedImage=void 0;break}!((o=this.paintedImage)===null||o===void 0)&&o.image&&((l=this.drawingLayerOneCtx)===null||l===void 0||l.drawImage(this.paintedImage.image,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight))},p.prototype.filterDrawedImage=function(t,r){return this.paintImages[t].filter(function(o){return o.index===r})[0]},p.prototype.removeGuiFolderChilden=function(t){var r=t.__controllers;r.length>0&&r.forEach(function(o){setTimeout(function(){t.remove(o)},100)})},p.prototype.verifyCanvasIsEmpty=function(t){this.emptyCanvas.width=t.width,this.emptyCanvas.height=t.height;var r=t.toDataURL()===this.emptyCanvas.toDataURL();return r},p.prototype.clearDictionary=function(t){for(var r in t)delete t[r]},p.prototype.storeAllImages=function(){var t,r,o,l=new Image;l.src=this.drawingCanvasLayerOne.toDataURL();var d={index:this.nrrd_states.currentIndex,image:l},m;switch(this.axis){case"x":m=this.filterDrawedImage("x",this.nrrd_states.currentIndex),m?m.image=l:(t=this.paintImages.x)===null||t===void 0||t.push(d);break;case"y":m=this.filterDrawedImage("y",this.nrrd_states.currentIndex),m?m.image=l:(r=this.paintImages.y)===null||r===void 0||r.push(d);break;case"z":m=this.filterDrawedImage("z",this.nrrd_states.currentIndex),m?m.image=l:(o=this.paintImages.z)===null||o===void 0||o.push(d);break}},p}(),nF="v1.12.15";console.log("%cCopper3D Visualisation %cBeta:v1.12.15","padding: 3px;color:white; background:#023047","padding: 3px;color:white; background:#f50a25"),i.CameraViewPoint=Al,i.REVISION=nF,i.addBoxHelper=IL,i.addLabelToScene=KO,i.configKiwriousHeart=eF,i.convert3DPostoScreenPos=qO,i.convertScreenPosto3DPos=jO,i.copperMScene=$w,i.copperMSceneRenderer=JO,i.copperRenderer=$O,i.copperRendererOnDemond=YO,i.copperScene=Hw,i.copperSceneOnDemond=zw,i.fullScreenListenner=i4,i.kiwrious=Ic,i.loading=vE,i.nrrd_tools=tF,i.setHDRFilePath=DL,Object.defineProperty(i,"__esModule",{value:!0})})})(Gc,Gc.exports);const z5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAA3XQAAN10BGYBGXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAWxSURBVHic7Z1LaB1VGIC/1LZJ0LZ620ptrUlqrS1aEt/oRhTE58JqVVz42hQEURHU6kK6cScERfFBRetjoUFFXIhUpUWk0vioFKFBq5vGqm2q0YoxD+Pin0tyZ87M3Js75/wzc88HP4TJzPyvmfM+c8Hj8Xg8Ho/H4/G0Gm3aBtTJmcDlwIXA+kA6QueMAQcCGQR2AT+5M7F89ADbgIPA9BzlB+AJoNup5QXnEmAncw+6Sf4DPgAuduhH4VgJ7ECClWXwZ8sU8AqwwpFPheFu4E/sBT4so8AdLhzLO+3AdtwFPiwvAgute5lTlgFfoBf8quwBllr2NXcsBr5EP/hV2QsssupxjugAdqMf9LDsItq3KCUvoB/sOHnWot+54E70g5wmpW0dnQocQz/AaTKCNBBKx5voB7de2WEpBmqch90ebtYyBWy0Egkl3kc/qI3Ku1YiocBaivX0z34LeizEo4Z5thUgLR8b8w6fAhdZuG+VeYjthWeIbJ/Mr4CbmEmqzbfgu6yD4ZousgnEcWTQzvTE2y6KTs8kEjHMt3lz4ErDsSHgNaSVsQFYDlSQYYBR4DBwBJnNGgzkW2DCsq1xXAG8rqS7aZ4j+kT1Z6zD9hvwTMb21mC7Ej7bcGyPZZ1ZY/IhM2wnYI3h2JBlnVlj8iEzbCdgieHYUcs6s+Zkmze3XQmfZDj2e8o1fcAtwd9vIxVwM+wDBoK/bwV6G7y+0BM140QrtQUJ528OXTOOtPmTSKpAB0L6FgDvpFwTlrF6HM0rI0QdqiSc/7Ph/EMpOpKCd5rh/FUp14TlSIr+XPMjUYfOiTl3meHcepIWd81wwjWmRMfJ98kuNoftSvig4di6mHOPIp2wMMPIRE6jjCf8798G7mPyITNsJ8DU5Lwg4fz7qe3xTgTHNClas7mGe4i+0p+nXNMHPBlIoy2WennQYFecFHqOeDVRh6aAMzSNCthKfQkwVeSF4gBRp7aqWjRDP8nBL/xwNMBjRB37BejUNCqgDXie+AQ8omdadnQBk0Sdu0/TqFmcgMyuhe2bRIrQUvAGUQdHyUf5uhqxJWxfqZam9GKemH9L06iA9zA3FM7VNMoGr2IuZzWLoodjbNquaJM14pYmTgKbFOzZhDzpYXtKuzQR4DbMT9wYcKNDO25HhiNMtmx2aIcKccvTJ4B7LetuQ5qWcQvFSr88HWRP1sfEt70HkOIqa1YAHybo/YjkuYpSkbZF6RgyCNeega5O4CFkXD9OX0ttUaqyGPiE5KGAQ8CjzG1x1FnILvm0sf+dtGDwq7QjW0WTAlRtl+8FnkIq8o3AKcE92pBWyzpkLrkf+LqOe04j65ZadpvqbG4muYjIWn5Dp+mba5YCL2P/UwUvkTzF2fKsQYol04qKucoY8DQO1vuXiZb4XE2RP9i0iJmFX8eBv/AfbPIUlQrmvQS2uArzutWWZRtSZu8HtmDnmw0dwAPIQqtp4HELOgpJJ/ArtZXnMDJodx3NJaMTuAFpeh426MhiqKMp8lAJb0GanXH8DXyDrJLeh6xUGEHGi0YQHypIP6KCzGT1IuuL+oATE+59F7JdqqUZxF0POCyfOfAv16xHL/jTSK9btXPmYqN2EtrL/tpyYIMq1RaJpuy37mVO2YB+8Kuy1rKvsWgWQdcr6g5zrZZizQRcrag7zDVairX6AfOBP0huo7tkFOlHTLlWrPUGpHWQXLMEpaWIWgm4VElvEpdpKNVKQNI+MS3O11CqlQBbe7+aQcUmjUp4ITJ7lbflIP8gs2xOK2KNN6CH/AUfZOi6y7VSjQRY/fxLkzi3TSMB3Qo666XbtUKNBDh/zRug27VCjQSsVNBZL6tcK9RIwHIFnfXifGuSRgLy/Hstzm3zCailJRJg+o5cXnC+UUMjAeprcRJw/iM+GgnIYy+4ivOHwyegljy/nR6Px+PxeDwej6ck/A9up+46a1KUwwAAAABJRU5ErkJggg==",$5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAA3XQAAN10BGYBGXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAYDSURBVHic7ZxZbBVVGIC/1tKWpDRWENyw0hLXgjap4hI1uCX64kZcMBoxGiVBUR8EfVCjPvCgRiOIIqKNqEEDicuDpkpQgzWIUQIajSIaXDGttgiU0tv68N/GcufcuWeWM2fm3vMl/8tk/jP//8/MWf9zwOFwOBwOh8PhcDgcDofDUSlU2TZAk1bgfKADODEv9QX3DADf5uVzYAOwIzkTy49pwMPAdmAkpPwAPAgcl6jlGWcW0EX4oKtkGHgHOCNBPzLHUUAnEqw4gz9WcsBLwBEJ+ZQZbgb6MRf4QukDbkzCsbRTB6wkucAXyvNArXEvU8ok4DPsBX9UuoGJhn1NHY3AZuwHf1Q2AROMepwi6oGPsB/0QtmAd2xRljxHsMAcAL4MqBNWlhr0OxXcRPCgdCJ19I8hdMNI2faOJgO9BAtGDpiZ1z8T2BtQP4z0IB2EsuNVggfj2YIyziGZ8UJnvK7bp53gI9we5K8pZDawO2BZQSUHzIjN+xTwFsECMAxc6lPedGBLwDKDyroY/E4F0wn+9S/TKHcC8ErAcoP+BdMi+J0aHiGY428A1QHK70Dm/028hIdCeZwyvkPf4Q+B8SGeUQvcGvBZOvJ1CFtSRTP6zr5L9JFoNXAl0uMK2uUtJsdEtMkq89Bz8ilgXMzPrgHOBe5FXsg24Df+H0vsA34FvgJeAx5A/QdlemC2FP/A/wVcY806L8/gtfFpqxZFpNjSYg5YRfpGnHPx2vqeVYsiopq/WQOcZNMoH9rx2vu9VYsi0oPXocOtWuTPVNTVpDFqTBYONCiu9Wvq1iJrxW3AVmR+ZtCwbq/iWqYXagbxflE6vZ1avMuV3eit30bRrVPYO6Chl1pUVdBhGnq3K/RGgNsM605S6BmtgoIM+cPQp7h2pIZeW5HrOjOUUXRVtv2joRca0y9gu+La8Rp624pc32pY9wTFNZUPmUE1EHtMQ89WG7BEYa/RgZjpXtAXimuzNfQGgfMI15OJoquybbOGXmpR9atzwLE2jSpCC+p1C502KzSm24CdyARX4TPnGn5uGK7Hu1/iG+B3C7bEyv14v6o/CDfvb4oGpLtZaOd9No2Ki2ZgCK9zC2waVcA9eO0bQqrQsmA1Xgf7MFy/anI06lSXskpNORV1A7fGplFInb8OdUeh2IAus7yMeorAZlV0dxGbVlq0yRjFUhOHkHXcpJmDum0q29REgGtRf3EDwBUJ2nFV/pkqW+YkaIcViqWnHwDmJ/D8Bai//BEqID0dZE7mA9QBGAHeRJ0TGpUpwFqf575P/JkZqaXUFqVe4C5kgSQq9Uhj+7fP8ypqi9IojUgmXLGgjAC/AIsIlxw1FViM5P74PaOLCgz+KHXIVlG/AI32yzcBjyMN+QygaUw5TchGjuuAJ/L35jTKXUYFb1Mdy9Wo52JMyS7sdH1TzUTgRcwfVbACvXXpiqUFqZZUGRVhZQBZ2SqLfP+wHIr0bLYgCbOlzipK8riaKmAh8ClwZ97WsuF0pGrZw8HBWYv+EQGtwC3Ipr31SJbz2H1iu/PX1ufvmYf+1z4FeLvAtj3IfFCHZhmp5GxgI/5f6J/YWx2rQl6UKndprGwEzrJkYyhakG1GQRrTj5Fc/qS4EMmU0LVvGJk6T3UbMg54lOKTXDrSBVwOHGLAvhqkuxvlnIoBZM+b6WySwLQS79EzPwNPIl9qlPmZWuBipAe0M0b7uonpb4jj1MQbkIavMYayVOxFXu4nyImIO4CfkIby3/w9DXlpRgJzMlKlzcLc4n8/cAfwuqHyS1KFOpOs0mRJ1ECGoRpYHsLYcpXlmM+xOogXDDiRdVkRKaIBWJyQQ1mURRHiqsVl6E3zVqrk8D9kJBKTSXbKOKuyC0MbEVelwLmsSOx5RW2YnacvNxkGTtEJrG7XaSHZOeo+DVQhU+9aN5aiCVnYTlM6eRbYhxxI7rvJT+cPuAQX/DCMBy4qdZPOC9DZ0+VQc0GpG3ReQHsMhlQqp5W6QecFtMRgSKVSMnY6jfB+XPJSWPZTIQeCOxwOh8PhcDgcDofD4XA4HA6HP/8BSHPkmGmqh+wAAAAASUVORK5CYII=",W5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAA3XQAAN10BGYBGXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAYCSURBVHic7ZxriFVVFIC/sXHmOqVlU42k0zQ2UdDTsOz9AEnJ6OFIFlH0qwikB0RZ2RRB0I8iondYaqQYUlFBZBbYj1BHp4wINdKIqYaUZpypaFKn2499L13PrH32utd77znXWR8sBvasdfZea5/HOnuvc8EwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwyk5d0gNQcgpwBTATOD0nmYjOMLA9J5uB9cCP1Rvi4Uc78ASwE8iWKD8AXcDJVR15jTMLWEfpQZfkX+Aj4IIq+lFznAiswAWrnMEvlBFgGTClSj7VDHcAQ1Qu8FEZBG6rhmNppxFYSvUCH5XXgIaKe5lSjgM2klzw87IBaK6wr6ljErCF5IOfl25gYkU9ThEZ4AuSD3pU1jP63aJmGY//3voqyQfbJy96xpwBmoqMQSI0416ePkF+y76d5IMcEl929BnwNCl9XjQADwIDOCduFHROAPpJPsAh+R2XIESZn/v/APAQLoNLBXNw6y95BzYjn/0rSSagpcgKYfx1wNcFOruABUXEqexkgJcZPfhOQXcGlX3DLbeMAGcJftwi6L5NAhlUB7BVGMwgcibxgaCbdnlP8KMJ+Y39e+BMVeTKwMX47+VvCPod1NbZX3gVtAv+vOnR3wtcqojfIXFRriPfoOcKNk/G6KddHhf8mROjP5SLUUWYBvTFdP43cu6/I8Ym7fKd4E8DbvPHZ9MHTA3EsmiOADYFBrtRsGsP2NSCtAl+hWKxIRezIOM0SsDdhDczNgltVyqPn2YuF9q6AzYXAndpDq6ZgCZgiUKvR2ibqRlEyjlfaJN8jdKFYvlCMwHXAi0KvZ1C22kKu7Qj+bBLYdcCzAspaSbgeoUOuOwoynSlbZqRfBhQ2l4XUtBMwLnKzvqFtqOVtmnmGKFN8lViRkhBMwHTlJ1JZ8VRStu0kBXapGUG7QS0hhQ0E3AoxVu1UviVZ3+ZjydN6EFoJqBX2dmxQtsfStu0IMVD8kG7J/BTKR1G+UbZ2WShbVBpmxbqhTYpuZB8ldgaUtBMwPvKzqRBSalpKRwo03FKQfJBewWsCSloJuBjYI9CT0rXdijsQvSQbBGV5EOHwq4X+DSkpJmAv4BHFXqzhDbNG2OIx4DVwP0oHmoVYIvQJr0dR1kM7CvXIOpxW41xC1DSWlBbwCYkz0eONw93NVZzMU5Kw0M1TV+iX2dT0wr8FtPpMPJy9PYYmzhZhvxQnAosJ35JuFwiLUc3Av/E2PyKKzSuCJfgMhtf59cINkti9CXZA9ypGEsL8ACu7DxfjVGq+HbsHhb6nRdznL3It2IvpbwonQGsRd50WAXcGmlrw2USofXxb4G3cMW6UuoXxzjchEzBnX1NxKeKw7gNpAHcLtZs4KmITn5LMvoetAq3OR+lF7dbtq3IsZfEqbj3g+gZMARMEPRXC7pZYDfwHP41k+OBy3J/i0Vr24J8Ba0UdCcgb8p/RQILjxngFWEwNwm65yBf5u/EHP8R3NJAFpdNLC5ibFrbOlz1Q3RcI8hVDgsF3RdIuEhrLgfv+/Yg39qWM3rwWWCRoDvbo3uVYjzF2N7n0V0q6NbhzvS8zjbgasV4qkK+NDFfMXGDoOMrTTzA6FLGZwW9LPCMYixa2wW5vqN6vtLEztz/+3EP//GKsVSdI4F7ccW5Uh4sXcJZ3EOxcNK6PHqarVGN7Xz8aaxUblgPfIgrLk5NTWgcTfhr7X3l6ftxm//gMqfow24QOEnRd8h2EfKZn8Vfnt5ASs/4UmjAlXr7cuk1uNvVebjPVftwayrB3aUCJNsW4N2YftdyGAU5ROgTpX7gHspzuWdwD9u4l7Ux9YlSnknA5/iDkgV+xtXia7dFC2nFpZ+/BPpYxxgMfp5G3KeicQHK4vLyblwmsxBXOl74pjsZOBu4GZcFdedsQsd9iTH8mWohnVR3lXM38lc8Y5pmXHl7pX+q4HXk/Wsjx3TcbWkf5Qv8MG5vQar3NzyMiZ+rqZW6HekHmybyf+HXn7jyEfvBJsMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMOA/wBRhElTRA5BGwAAAABJRU5ErkJggg==",Wg=e=>(rx("data-v-f6d90a2f"),e=e(),ix(),e),K5={class:"nav"},j5={class:"content"},q5={class:"arrows"},Y5=Wg(()=>Ce("img",{class:"image",src:z5,alt:""},null,-1)),J5=[Y5],Z5=Wg(()=>Ce("img",{class:"image",src:$5,alt:""},null,-1)),eU=[Z5],tU=Wg(()=>Ce("img",{class:"image",src:W5,alt:""},null,-1)),nU=[tU],rU=Wg(()=>Ce("ion-icon",{name:"cloud-upload-outline"},null,-1)),iU=[rU],sU=yt({__name:"NavBar",props:{fileNum:{default:0},min:{default:0},max:{default:160},showContrast:{type:Boolean,default:!1},initSliceIndex:null,immediateSliceNum:{default:0},contrastIndex:{default:0},isAxisClicked:{type:Boolean,default:!1}},emits:["onSliceChange","resetMainAreaSize","onChangeOrientation","onOpenDialog"],setup(e,{emit:n}){const i=e,s=xr(i),{immediateSliceNum:a,contrastIndex:u,initSliceIndex:f,fileNum:h}=Ci(s),v=se(0);let y=0,b=0,E=!1,w=!1;const C=()=>{n("onOpenDialog",!0)},x=P=>{E=!0,n("onChangeOrientation",P)};document.addEventListener("keydown",P=>{P.key==="ArrowUp"&&(b-=1,T(),n("onSliceChange",-1)),P.key==="ArrowDown"&&(b+=1,T(),n("onSliceChange",1))});const M=()=>{const P=v.value-b;b+=P,!E&&!w&&n("onSliceChange",P),E=!1,w=!1},T=()=>{v.value=b};return Yi(()=>{const P=y;y=h.value,P>0&&(w=!0,b=Math.floor(b/P)*y,T(),w=!1)}),Yi(()=>{b=a.value*h.value+u.value,T()}),Yi(()=>{f!=null&&f.value&&(b=(f==null?void 0:f.value)*h.value),T()}),(P,F)=>{const B=gn("el-slider");return X(),ge("div",K5,[Ce("div",j5,[Me(B,{modelValue:v.value,"onUpdate:modelValue":F[0]||(F[0]=G=>v.value=G),max:g(i).max,onInput:M,"show-input":""},null,8,["modelValue","max"]),Ce("div",q5,[Ce("span",{onClick:F[1]||(F[1]=G=>x("x"))},J5),Ce("span",{onClick:F[2]||(F[2]=G=>x("z"))},eU),Ce("span",{onClick:F[3]||(F[3]=G=>x("y"))},nU),Ce("span",{onClick:C},iU)])])])}}}),jx=(e,n)=>{const i=e.__vccOpts||e;for(const[s,a]of n)i[s]=a;return i},oU=jx(sU,[["__scopeId","data-v-f6d90a2f"]]);/*! Element Plus Icons Vue v2.0.10 */var yr=(e,n)=>{let i=e.__vccOpts||e;for(let[s,a]of n)i[s]=a;return i},aU={name:"ArrowDown"},lU={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},cU=Ce("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),uU=[cU];function dU(e,n,i,s,a,u){return X(),ge("svg",lU,uU)}var tc=yr(aU,[["render",dU],["__file","arrow-down.vue"]]),fU={name:"ArrowLeft"},hU={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},pU=Ce("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),mU=[pU];function gU(e,n,i,s,a,u){return X(),ge("svg",hU,mU)}var Kl=yr(fU,[["render",gU],["__file","arrow-left.vue"]]),vU={name:"ArrowRight"},_U={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},AU=Ce("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),yU=[AU];function bU(e,n,i,s,a,u){return X(),ge("svg",_U,yU)}var ms=yr(vU,[["render",bU],["__file","arrow-right.vue"]]),SU={name:"ArrowUp"},EU={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},wU=Ce("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),CU=[wU];function IU(e,n,i,s,a,u){return X(),ge("svg",EU,CU)}var Kg=yr(SU,[["render",IU],["__file","arrow-up.vue"]]),MU={name:"Back"},xU={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},RU=Ce("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),TU=Ce("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1),NU=[RU,TU];function PU(e,n,i,s,a,u){return X(),ge("svg",xU,NU)}var BU=yr(MU,[["render",PU],["__file","back.vue"]]),DU={name:"Calendar"},kU={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},LU=Ce("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),OU=[LU];function FU(e,n,i,s,a,u){return X(),ge("svg",kU,OU)}var VU=yr(DU,[["render",FU],["__file","calendar.vue"]]),GU={name:"CaretRight"},UU={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},HU=Ce("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),QU=[HU];function XU(e,n,i,s,a,u){return X(),ge("svg",UU,QU)}var qx=yr(GU,[["render",XU],["__file","caret-right.vue"]]),zU={name:"CaretTop"},$U={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},WU=Ce("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"},null,-1),KU=[WU];function jU(e,n,i,s,a,u){return X(),ge("svg",$U,KU)}var qU=yr(zU,[["render",jU],["__file","caret-top.vue"]]),YU={name:"Check"},JU={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ZU=Ce("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),eH=[ZU];function tH(e,n,i,s,a,u){return X(),ge("svg",JU,eH)}var Yh=yr(YU,[["render",tH],["__file","check.vue"]]),nH={name:"CircleCheckFilled"},rH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},iH=Ce("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),sH=[iH];function oH(e,n,i,s,a,u){return X(),ge("svg",rH,sH)}var aH=yr(nH,[["render",oH],["__file","circle-check-filled.vue"]]),lH={name:"CircleCheck"},cH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},uH=Ce("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),dH=Ce("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),fH=[uH,dH];function hH(e,n,i,s,a,u){return X(),ge("svg",cH,fH)}var Zy=yr(lH,[["render",hH],["__file","circle-check.vue"]]),pH={name:"CircleCloseFilled"},mH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},gH=Ce("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),vH=[gH];function _H(e,n,i,s,a,u){return X(),ge("svg",mH,vH)}var eb=yr(pH,[["render",_H],["__file","circle-close-filled.vue"]]),AH={name:"CircleClose"},yH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},bH=Ce("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),SH=Ce("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),EH=[bH,SH];function wH(e,n,i,s,a,u){return X(),ge("svg",yH,EH)}var nc=yr(AH,[["render",wH],["__file","circle-close.vue"]]),CH={name:"Clock"},IH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},MH=Ce("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),xH=Ce("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),RH=Ce("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),TH=[MH,xH,RH];function NH(e,n,i,s,a,u){return X(),ge("svg",IH,TH)}var Yx=yr(CH,[["render",NH],["__file","clock.vue"]]),PH={name:"Close"},BH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},DH=Ce("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),kH=[DH];function LH(e,n,i,s,a,u){return X(),ge("svg",BH,kH)}var Ho=yr(PH,[["render",LH],["__file","close.vue"]]),OH={name:"DArrowLeft"},FH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},VH=Ce("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),GH=[VH];function UH(e,n,i,s,a,u){return X(),ge("svg",FH,GH)}var Td=yr(OH,[["render",UH],["__file","d-arrow-left.vue"]]),HH={name:"DArrowRight"},QH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},XH=Ce("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),zH=[XH];function $H(e,n,i,s,a,u){return X(),ge("svg",QH,zH)}var Nd=yr(HH,[["render",$H],["__file","d-arrow-right.vue"]]),WH={name:"Delete"},KH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},jH=Ce("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),qH=[jH];function YH(e,n,i,s,a,u){return X(),ge("svg",KH,qH)}var JH=yr(WH,[["render",YH],["__file","delete.vue"]]),ZH={name:"Document"},eQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},tQ=Ce("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),nQ=[tQ];function rQ(e,n,i,s,a,u){return X(),ge("svg",eQ,nQ)}var iQ=yr(ZH,[["render",rQ],["__file","document.vue"]]),sQ={name:"FullScreen"},oQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},aQ=Ce("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),lQ=[aQ];function cQ(e,n,i,s,a,u){return X(),ge("svg",oQ,lQ)}var uQ=yr(sQ,[["render",cQ],["__file","full-screen.vue"]]),dQ={name:"Hide"},fQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hQ=Ce("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),pQ=Ce("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),mQ=[hQ,pQ];function gQ(e,n,i,s,a,u){return X(),ge("svg",fQ,mQ)}var vQ=yr(dQ,[["render",gQ],["__file","hide.vue"]]),_Q={name:"InfoFilled"},AQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},yQ=Ce("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),bQ=[yQ];function SQ(e,n,i,s,a,u){return X(),ge("svg",AQ,bQ)}var tb=yr(_Q,[["render",SQ],["__file","info-filled.vue"]]),EQ={name:"Loading"},wQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},CQ=Ce("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),IQ=[CQ];function MQ(e,n,i,s,a,u){return X(),ge("svg",wQ,IQ)}var rc=yr(EQ,[["render",MQ],["__file","loading.vue"]]),xQ={name:"Minus"},RQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},TQ=Ce("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),NQ=[TQ];function PQ(e,n,i,s,a,u){return X(),ge("svg",RQ,NQ)}var BQ=yr(xQ,[["render",PQ],["__file","minus.vue"]]),DQ={name:"MoreFilled"},kQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},LQ=Ce("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),OQ=[LQ];function FQ(e,n,i,s,a,u){return X(),ge("svg",kQ,OQ)}var WC=yr(DQ,[["render",FQ],["__file","more-filled.vue"]]),VQ={name:"More"},GQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},UQ=Ce("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),HQ=[UQ];function QQ(e,n,i,s,a,u){return X(),ge("svg",GQ,HQ)}var XQ=yr(VQ,[["render",QQ],["__file","more.vue"]]),zQ={name:"PictureFilled"},$Q={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},WQ=Ce("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32H96zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112zM256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384z"},null,-1),KQ=[WQ];function jQ(e,n,i,s,a,u){return X(),ge("svg",$Q,KQ)}var qQ=yr(zQ,[["render",jQ],["__file","picture-filled.vue"]]),YQ={name:"Plus"},JQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ZQ=Ce("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),eX=[ZQ];function tX(e,n,i,s,a,u){return X(),ge("svg",JQ,eX)}var Jx=yr(YQ,[["render",tX],["__file","plus.vue"]]),nX={name:"QuestionFilled"},rX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},iX=Ce("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1),sX=[iX];function oX(e,n,i,s,a,u){return X(),ge("svg",rX,sX)}var aX=yr(nX,[["render",oX],["__file","question-filled.vue"]]),lX={name:"RefreshLeft"},cX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},uX=Ce("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),dX=[uX];function fX(e,n,i,s,a,u){return X(),ge("svg",cX,dX)}var hX=yr(lX,[["render",fX],["__file","refresh-left.vue"]]),pX={name:"RefreshRight"},mX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},gX=Ce("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),vX=[gX];function _X(e,n,i,s,a,u){return X(),ge("svg",mX,vX)}var AX=yr(pX,[["render",_X],["__file","refresh-right.vue"]]),yX={name:"ScaleToOriginal"},bX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},SX=Ce("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),EX=[SX];function wX(e,n,i,s,a,u){return X(),ge("svg",bX,EX)}var CX=yr(yX,[["render",wX],["__file","scale-to-original.vue"]]),IX={name:"Search"},MX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},xX=Ce("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),RX=[xX];function TX(e,n,i,s,a,u){return X(),ge("svg",MX,RX)}var NX=yr(IX,[["render",TX],["__file","search.vue"]]),PX={name:"SortDown"},BX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},DX=Ce("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0z"},null,-1),kX=[DX];function LX(e,n,i,s,a,u){return X(),ge("svg",BX,kX)}var OX=yr(PX,[["render",LX],["__file","sort-down.vue"]]),FX={name:"SortUp"},VX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},GX=Ce("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248z"},null,-1),UX=[GX];function HX(e,n,i,s,a,u){return X(),ge("svg",VX,UX)}var QX=yr(FX,[["render",HX],["__file","sort-up.vue"]]),XX={name:"StarFilled"},zX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$X=Ce("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),WX=[$X];function KX(e,n,i,s,a,u){return X(),ge("svg",zX,WX)}var mm=yr(XX,[["render",KX],["__file","star-filled.vue"]]),jX={name:"Star"},qX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},YX=Ce("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1),JX=[YX];function ZX(e,n,i,s,a,u){return X(),ge("svg",qX,JX)}var ez=yr(jX,[["render",ZX],["__file","star.vue"]]),tz={name:"SuccessFilled"},nz={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},rz=Ce("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),iz=[rz];function sz(e,n,i,s,a,u){return X(),ge("svg",nz,iz)}var Zx=yr(tz,[["render",sz],["__file","success-filled.vue"]]),oz={name:"UploadFilled"},az={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},lz=Ce("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6H544z"},null,-1),cz=[lz];function uz(e,n,i,s,a,u){return X(),ge("svg",az,cz)}var dz=yr(oz,[["render",uz],["__file","upload-filled.vue"]]),fz={name:"View"},hz={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},pz=Ce("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),mz=[pz];function gz(e,n,i,s,a,u){return X(),ge("svg",hz,mz)}var vz=yr(fz,[["render",gz],["__file","view.vue"]]),_z={name:"WarningFilled"},Az={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},yz=Ce("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),bz=[yz];function Sz(e,n,i,s,a,u){return X(),ge("svg",Az,bz)}var jg=yr(_z,[["render",Sz],["__file","warning-filled.vue"]]),Ez={name:"ZoomIn"},wz={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Cz=Ce("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),Iz=[Cz];function Mz(e,n,i,s,a,u){return X(),ge("svg",wz,Iz)}var eR=yr(Ez,[["render",Mz],["__file","zoom-in.vue"]]),xz={name:"ZoomOut"},Rz={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Tz=Ce("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),Nz=[Tz];function Pz(e,n,i,s,a,u){return X(),ge("svg",Rz,Nz)}var Bz=yr(xz,[["render",Pz],["__file","zoom-out.vue"]]);const nb=e=>(rx("data-v-504a663e"),e=e(),ix(),e),Dz=nb(()=>Ce("div",{class:"el-upload__text"},[pr(" Drop file here or "),Ce("em",null,"click to upload")],-1)),kz=nb(()=>Ce("div",{class:"el-upload__tip"},"Please drag or upload NRRD files!",-1)),Lz=nb(()=>Ce("div",{class:"el-upload__tip"}," Ready to Submit: Please click drak area!!! ",-1)),Oz=yt({__name:"Upload",props:{dialog:{type:Boolean,default:!1}},emits:["onCloseDialog","getLoadFilesUrls"],setup(e,{emit:n}){let i=[],s=[],a=!1;const u=b=>{let E=b.currentTarget,w=b.target;E===w&&(i.forEach(C=>{const x=URL.createObjectURL(C);s.push(x)}),n("getLoadFilesUrls",s),n("onCloseDialog",!1),a=!0,f())},f=()=>{i=[],s.forEach(b=>{URL.revokeObjectURL(b)}),s=[]},h=b=>{a&&(a=!1,f());let E=b.name,w;E.match(/\.(nrrd)$/)&&(w=b.raw,i.push(w)),w||y("No .nrrd asset found!")},v=b=>{i=i.filter(E=>E.name!==b.name)},y=b=>{let E=(b||{}).message||b.toString();E.match(/ProgressEvent/)?E="Unable to retrieve this file. Check JS console and browser network tab.":E.match(/Unexpected token/)?E=`Unable to parse file content. Verify that this file is valid. Error: "${E}"`:b&&b.target&&b.target instanceof Image&&(E="Missing texture: "+b.target.src.split("/").pop()),window.alert(E)};return(b,E)=>{const w=gn("el-icon"),C=gn("el-upload");return e.dialog?(X(),ge("div",{key:0,onClick:u,class:"upload_container"},[Me(C,{"auto-upload":!1,onChange:h,onRemove:v,class:"upload-demo",drag:"",action:"/",multiple:""},{tip:Ue(()=>[kz,Lz]),default:Ue(()=>[Me(w,{class:"el-icon--upload"},{default:Ue(()=>[Me(g(dz))]),_:1}),Dz]),_:1})])):je("",!0)}}}),Fz=jx(Oz,[["__scopeId","data-v-504a663e"]]),Vz=RG("<h3>How to use:</h3><p><strong>--&gt; Zoom:</strong> Mouse wheel.</p><p><strong>--&gt; Pan: </strong> Mouse right click + drag image.</p><p><strong>--&gt; Switch slice:</strong> Mouse left click + drag image.</p><p><strong>--&gt; Painting:</strong> Press `shift` key on your keyboard (don&#39;t release it), then use mouse left click to paint. </p><p><strong> --&gt; Undo:</strong> 1. In GUI click undo; or 2. on keyborad using ctrl+z (windows) / command+z (mac). </p><p><strong> --&gt; Cursor Inspector:</strong> Press `s` on the keyboard to enable/disable, then left click on images, and use bottom tool&#39;s bar to switch the image orientation. </p>",7),Gz=[Vz],Uz=yt({__name:"App",setup(e){let n,i=se(0),s=se(0),a=se(0),u=se(0),f=se(0),h=se(!1),v=se(),y=se(),b=se(),E=se(),w,C=se(),x=new G5({width:300,autoPlace:!1}),M,T,P=[],F=[],B=se(0),G,Q=!0;jn(()=>{var ve;console.log("%cNRRD Segmentation App %cBeta:v2.2.0","padding: 3px;color:white; background:#d94607","padding: 3px;color:white; background:#219EBC"),(ve=b.value)==null||ve.appendChild(x.domElement),n=new Gc.exports.copperRenderer(v.value),M=new Gc.exports.nrrd_tools(E.value),T=Gc.exports.loading(),E.value.appendChild(T.loadingContainer),document.addEventListener("keydown",Ee=>{Ee.code==="KeyF"&&Gc.exports.fullScreenListenner(v.value)}),ye(),me("nrrd_tools"),n.animate()});const H=ve=>{u.value=ve.length,F=ve,F.length>0&&de(F)},J=ve=>{h.value=ve},te=ve=>{h.value=ve},ie=ve=>{M.setSliceOrientation(ve),i.value=M.getMaxSliceNum()[1]},ue=ve=>{M.setSliceMoving(ve)},be=ve=>{M.setMainAreaSize(ve)};Yi(()=>{if(B.value!=0&&P.length!=0&&B.value===F.length){console.log("All files ready!"),M.clear(),P.sort((fe,_e)=>fe.order-_e.order),M.setShowInMainArea(!0),M.setAllSlices(P),f.value=M.getCurrentSliceIndex();const ve=(fe,_e)=>{s.value=fe,a.value=_e};Q?(M.drag({showNumber:!0,getSliceNum:ve}),M.draw(w,x),w==null||w.addPreRenderCallbackFunction(M.start)):M.redrawMianPreOnDisplayCanvas(),i.value=M.getMaxSliceNum()[1],setTimeout(()=>{f.value=0,B.value=0},1e3),Q=!1;const Ee={};for(let fe=0;fe<P.length;fe++)if(fe==0)Ee.pre=!0;else{const _e="contrast"+fe;Ee[_e]=!0}M.removeGuiFolderChilden(G);for(let fe=0;fe<P.length;fe++){let _e="";fe===0?_e="pre":_e="contrast"+fe,G.add(Ee,_e).onChange(oe=>{oe?(u.value+=1,M.addSkip(fe)):(u.value-=1,M.removeSkip(fe));const Te=M.getMaxSliceNum()[1];Te&&(i.value=Te)})}}});function me(ve){w=n.getSceneByName(ve),w==null&&(w=n.createScene(ve),w&&(n.setCurrentScene(w),w&&w.loadViewUrl("/NRRD_Segmentation_Tool/nrrd_view.json"),Gc.exports.setHDRFilePath("/NRRD_Segmentation_Tool/venice_sunset_1k.hdr"),w.updateBackground("#18e5a7","#ff00ff")),n.updateEnvironment(),F=["/NRRD_Segmentation_Tool/nrrd/case1/pre.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c1.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c2.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c3.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c4.nrrd"],de(F))}const de=ve=>{u.value=ve.length,P=[];const Ee=(fe,_e,oe)=>{const Te=Object.assign(oe,{order:0});P.push(Te),C.value=oe,B.value+=1};w==null||w.loadNrrd(ve[0],T,Ee);for(let fe=1;fe<ve.length;fe++)w==null||w.loadNrrd(ve[fe],T,(_e,oe,Te)=>{const Le=Object.assign(Te,{order:fe});P.push(Le),B.value+=1})};function ye(){const ve={introduction:!0,showContrast:!1,switchCase:"case1"};x.add(ve,"introduction").name("Intro Panel").onChange(Ee=>{Ee?y.value.style.display="flex":y.value.style.display="none"}),x.add(ve,"switchCase",["case1","case2","case3"]).onChange(Ee=>{switch(Ee){case"case1":F=["/NRRD_Segmentation_Tool/nrrd/case1/pre.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c1.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c2.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c3.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c4.nrrd"];break;case"case2":F=["/NRRD_Segmentation_Tool/nrrd/case2/pre.nrrd","/NRRD_Segmentation_Tool/nrrd/case2/c1.nrrd","/NRRD_Segmentation_Tool/nrrd/case2/c2.nrrd","/NRRD_Segmentation_Tool/nrrd/case2/c3.nrrd","/NRRD_Segmentation_Tool/nrrd/case2/c4.nrrd"];break;case"case3":F=["/NRRD_Segmentation_Tool/nrrd/case3/pre.nrrd","/NRRD_Segmentation_Tool/nrrd/case3/c1.nrrd","/NRRD_Segmentation_Tool/nrrd/case3/c2.nrrd","/NRRD_Segmentation_Tool/nrrd/case3/c3.nrrd","/NRRD_Segmentation_Tool/nrrd/case3/c4.nrrd"];break}H(F)}),G=x.addFolder("select display contrast")}return(ve,Ee)=>(X(),ge("div",{id:"bg",ref_key:"base_container",ref:v},[Ce("div",{class:"intro",ref_key:"intro",ref:y},Gz,512),Ce("div",{ref_key:"c_gui",ref:b,id:"gui"},null,512),Ce("div",{ref_key:"nrrd_c",ref:E,class:"nrrd_c"},null,512),Me(oU,{"file-num":g(u),max:g(i),"immediate-slice-num":g(s),"contrast-index":g(a),"init-slice-index":g(f),onOnSliceChange:ue,onResetMainAreaSize:be,onOnChangeOrientation:ie,onOnOpenDialog:J},null,8,["file-num","max","immediate-slice-num","contrast-index","init-slice-index"]),Me(Fz,{dialog:g(h),onOnCloseDialog:te,onGetLoadFilesUrls:H},null,8,["dialog"])],512))}});var Hz=typeof global=="object"&&global&&global.Object===Object&&global;const tR=Hz;var Qz=typeof self=="object"&&self&&self.Object===Object&&self,Xz=tR||Qz||Function("return this")();const Ko=Xz;var zz=Ko.Symbol;const ho=zz;var nR=Object.prototype,$z=nR.hasOwnProperty,Wz=nR.toString,zf=ho?ho.toStringTag:void 0;function Kz(e){var n=$z.call(e,zf),i=e[zf];try{e[zf]=void 0;var s=!0}catch{}var a=Wz.call(e);return s&&(n?e[zf]=i:delete e[zf]),a}var jz=Object.prototype,qz=jz.toString;function Yz(e){return qz.call(e)}var Jz="[object Null]",Zz="[object Undefined]",KC=ho?ho.toStringTag:void 0;function $d(e){return e==null?e===void 0?Zz:Jz:KC&&KC in Object(e)?Kz(e):Yz(e)}function Ja(e){return e!=null&&typeof e=="object"}var e$="[object Symbol]";function qg(e){return typeof e=="symbol"||Ja(e)&&$d(e)==e$}function t$(e,n){for(var i=-1,s=e==null?0:e.length,a=Array(s);++i<s;)a[i]=n(e[i],i,e);return a}var n$=Array.isArray;const Qo=n$;var r$=1/0,jC=ho?ho.prototype:void 0,qC=jC?jC.toString:void 0;function rR(e){if(typeof e=="string")return e;if(Qo(e))return t$(e,rR)+"";if(qg(e))return qC?qC.call(e):"";var n=e+"";return n=="0"&&1/e==-r$?"-0":n}var i$=/\s/;function s$(e){for(var n=e.length;n--&&i$.test(e.charAt(n)););return n}var o$=/^\s+/;function a$(e){return e&&e.slice(0,s$(e)+1).replace(o$,"")}function Xo(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var YC=0/0,l$=/^[-+]0x[0-9a-f]+$/i,c$=/^0b[01]+$/i,u$=/^0o[0-7]+$/i,d$=parseInt;function JC(e){if(typeof e=="number")return e;if(qg(e))return YC;if(Xo(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Xo(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=a$(e);var i=c$.test(e);return i||u$.test(e)?d$(e.slice(2),i?2:8):l$.test(e)?YC:+e}function iR(e){return e}var f$="[object AsyncFunction]",h$="[object Function]",p$="[object GeneratorFunction]",m$="[object Proxy]";function sR(e){if(!Xo(e))return!1;var n=$d(e);return n==h$||n==p$||n==f$||n==m$}var g$=Ko["__core-js_shared__"];const BA=g$;var ZC=function(){var e=/[^.]+$/.exec(BA&&BA.keys&&BA.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function v$(e){return!!ZC&&ZC in e}var _$=Function.prototype,A$=_$.toString;function mu(e){if(e!=null){try{return A$.call(e)}catch{}try{return e+""}catch{}}return""}var y$=/[\\^$.*+?()[\]{}|]/g,b$=/^\[object .+?Constructor\]$/,S$=Function.prototype,E$=Object.prototype,w$=S$.toString,C$=E$.hasOwnProperty,I$=RegExp("^"+w$.call(C$).replace(y$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function M$(e){if(!Xo(e)||v$(e))return!1;var n=sR(e)?I$:b$;return n.test(mu(e))}function x$(e,n){return e==null?void 0:e[n]}function gu(e,n){var i=x$(e,n);return M$(i)?i:void 0}var R$=gu(Ko,"WeakMap");const R0=R$;var eI=Object.create,T$=function(){function e(){}return function(n){if(!Xo(n))return{};if(eI)return eI(n);e.prototype=n;var i=new e;return e.prototype=void 0,i}}();const N$=T$;function P$(e,n,i){switch(i.length){case 0:return e.call(n);case 1:return e.call(n,i[0]);case 2:return e.call(n,i[0],i[1]);case 3:return e.call(n,i[0],i[1],i[2])}return e.apply(n,i)}function B$(){}function D$(e,n){var i=-1,s=e.length;for(n||(n=Array(s));++i<s;)n[i]=e[i];return n}var k$=800,L$=16,O$=Date.now;function F$(e){var n=0,i=0;return function(){var s=O$(),a=L$-(s-i);if(i=s,a>0){if(++n>=k$)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function V$(e){return function(){return e}}var G$=function(){try{var e=gu(Object,"defineProperty");return e({},"",{}),e}catch{}}();const pg=G$;var U$=pg?function(e,n){return pg(e,"toString",{configurable:!0,enumerable:!1,value:V$(n),writable:!0})}:iR;const H$=U$;var Q$=F$(H$);const oR=Q$;function X$(e,n){for(var i=-1,s=e==null?0:e.length;++i<s&&n(e[i],i,e)!==!1;);return e}function z$(e,n,i,s){for(var a=e.length,u=i+(s?1:-1);s?u--:++u<a;)if(n(e[u],u,e))return u;return-1}function $$(e){return e!==e}function W$(e,n,i){for(var s=i-1,a=e.length;++s<a;)if(e[s]===n)return s;return-1}function K$(e,n,i){return n===n?W$(e,n,i):z$(e,$$,i)}function j$(e,n){var i=e==null?0:e.length;return!!i&&K$(e,n,0)>-1}var q$=9007199254740991,Y$=/^(?:0|[1-9]\d*)$/;function rb(e,n){var i=typeof e;return n=n==null?q$:n,!!n&&(i=="number"||i!="symbol"&&Y$.test(e))&&e>-1&&e%1==0&&e<n}function aR(e,n,i){n=="__proto__"&&pg?pg(e,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[n]=i}function ib(e,n){return e===n||e!==e&&n!==n}var J$=Object.prototype,Z$=J$.hasOwnProperty;function sb(e,n,i){var s=e[n];(!(Z$.call(e,n)&&ib(s,i))||i===void 0&&!(n in e))&&aR(e,n,i)}function Yg(e,n,i,s){var a=!i;i||(i={});for(var u=-1,f=n.length;++u<f;){var h=n[u],v=s?s(i[h],e[h],h,i,e):void 0;v===void 0&&(v=e[h]),a?aR(i,h,v):sb(i,h,v)}return i}var tI=Math.max;function lR(e,n,i){return n=tI(n===void 0?e.length-1:n,0),function(){for(var s=arguments,a=-1,u=tI(s.length-n,0),f=Array(u);++a<u;)f[a]=s[n+a];a=-1;for(var h=Array(n+1);++a<n;)h[a]=s[a];return h[n]=i(f),P$(e,this,h)}}function e9(e,n){return oR(lR(e,n,iR),e+"")}var t9=9007199254740991;function ob(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=t9}function ab(e){return e!=null&&ob(e.length)&&!sR(e)}var n9=Object.prototype;function lb(e){var n=e&&e.constructor,i=typeof n=="function"&&n.prototype||n9;return e===i}function r9(e,n){for(var i=-1,s=Array(e);++i<e;)s[i]=n(i);return s}var i9="[object Arguments]";function nI(e){return Ja(e)&&$d(e)==i9}var cR=Object.prototype,s9=cR.hasOwnProperty,o9=cR.propertyIsEnumerable,a9=nI(function(){return arguments}())?nI:function(e){return Ja(e)&&s9.call(e,"callee")&&!o9.call(e,"callee")};const cb=a9;function l9(){return!1}var uR=typeof Xs=="object"&&Xs&&!Xs.nodeType&&Xs,rI=uR&&typeof zs=="object"&&zs&&!zs.nodeType&&zs,c9=rI&&rI.exports===uR,iI=c9?Ko.Buffer:void 0,u9=iI?iI.isBuffer:void 0,d9=u9||l9;const mg=d9;var f9="[object Arguments]",h9="[object Array]",p9="[object Boolean]",m9="[object Date]",g9="[object Error]",v9="[object Function]",_9="[object Map]",A9="[object Number]",y9="[object Object]",b9="[object RegExp]",S9="[object Set]",E9="[object String]",w9="[object WeakMap]",C9="[object ArrayBuffer]",I9="[object DataView]",M9="[object Float32Array]",x9="[object Float64Array]",R9="[object Int8Array]",T9="[object Int16Array]",N9="[object Int32Array]",P9="[object Uint8Array]",B9="[object Uint8ClampedArray]",D9="[object Uint16Array]",k9="[object Uint32Array]",mi={};mi[M9]=mi[x9]=mi[R9]=mi[T9]=mi[N9]=mi[P9]=mi[B9]=mi[D9]=mi[k9]=!0;mi[f9]=mi[h9]=mi[C9]=mi[p9]=mi[I9]=mi[m9]=mi[g9]=mi[v9]=mi[_9]=mi[A9]=mi[y9]=mi[b9]=mi[S9]=mi[E9]=mi[w9]=!1;function L9(e){return Ja(e)&&ob(e.length)&&!!mi[$d(e)]}function ub(e){return function(n){return e(n)}}var dR=typeof Xs=="object"&&Xs&&!Xs.nodeType&&Xs,ch=dR&&typeof zs=="object"&&zs&&!zs.nodeType&&zs,O9=ch&&ch.exports===dR,DA=O9&&tR.process,F9=function(){try{var e=ch&&ch.require&&ch.require("util").types;return e||DA&&DA.binding&&DA.binding("util")}catch{}}();const Pd=F9;var sI=Pd&&Pd.isTypedArray,V9=sI?ub(sI):L9;const fR=V9;var G9=Object.prototype,U9=G9.hasOwnProperty;function hR(e,n){var i=Qo(e),s=!i&&cb(e),a=!i&&!s&&mg(e),u=!i&&!s&&!a&&fR(e),f=i||s||a||u,h=f?r9(e.length,String):[],v=h.length;for(var y in e)(n||U9.call(e,y))&&!(f&&(y=="length"||a&&(y=="offset"||y=="parent")||u&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||rb(y,v)))&&h.push(y);return h}function pR(e,n){return function(i){return e(n(i))}}var H9=pR(Object.keys,Object);const Q9=H9;var X9=Object.prototype,z9=X9.hasOwnProperty;function $9(e){if(!lb(e))return Q9(e);var n=[];for(var i in Object(e))z9.call(e,i)&&i!="constructor"&&n.push(i);return n}function db(e){return ab(e)?hR(e):$9(e)}function W9(e){var n=[];if(e!=null)for(var i in Object(e))n.push(i);return n}var K9=Object.prototype,j9=K9.hasOwnProperty;function q9(e){if(!Xo(e))return W9(e);var n=lb(e),i=[];for(var s in e)s=="constructor"&&(n||!j9.call(e,s))||i.push(s);return i}function fb(e){return ab(e)?hR(e,!0):q9(e)}var Y9=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J9=/^\w*$/;function Z9(e,n){if(Qo(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||qg(e)?!0:J9.test(e)||!Y9.test(e)||n!=null&&e in Object(n)}var e7=gu(Object,"create");const Mh=e7;function t7(){this.__data__=Mh?Mh(null):{},this.size=0}function n7(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var r7="__lodash_hash_undefined__",i7=Object.prototype,s7=i7.hasOwnProperty;function o7(e){var n=this.__data__;if(Mh){var i=n[e];return i===r7?void 0:i}return s7.call(n,e)?n[e]:void 0}var a7=Object.prototype,l7=a7.hasOwnProperty;function c7(e){var n=this.__data__;return Mh?n[e]!==void 0:l7.call(n,e)}var u7="__lodash_hash_undefined__";function d7(e,n){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Mh&&n===void 0?u7:n,this}function su(e){var n=-1,i=e==null?0:e.length;for(this.clear();++n<i;){var s=e[n];this.set(s[0],s[1])}}su.prototype.clear=t7;su.prototype.delete=n7;su.prototype.get=o7;su.prototype.has=c7;su.prototype.set=d7;function f7(){this.__data__=[],this.size=0}function Jg(e,n){for(var i=e.length;i--;)if(ib(e[i][0],n))return i;return-1}var h7=Array.prototype,p7=h7.splice;function m7(e){var n=this.__data__,i=Jg(n,e);if(i<0)return!1;var s=n.length-1;return i==s?n.pop():p7.call(n,i,1),--this.size,!0}function g7(e){var n=this.__data__,i=Jg(n,e);return i<0?void 0:n[i][1]}function v7(e){return Jg(this.__data__,e)>-1}function _7(e,n){var i=this.__data__,s=Jg(i,e);return s<0?(++this.size,i.push([e,n])):i[s][1]=n,this}function rl(e){var n=-1,i=e==null?0:e.length;for(this.clear();++n<i;){var s=e[n];this.set(s[0],s[1])}}rl.prototype.clear=f7;rl.prototype.delete=m7;rl.prototype.get=g7;rl.prototype.has=v7;rl.prototype.set=_7;var A7=gu(Ko,"Map");const xh=A7;function y7(){this.size=0,this.__data__={hash:new su,map:new(xh||rl),string:new su}}function b7(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Zg(e,n){var i=e.__data__;return b7(n)?i[typeof n=="string"?"string":"hash"]:i.map}function S7(e){var n=Zg(this,e).delete(e);return this.size-=n?1:0,n}function E7(e){return Zg(this,e).get(e)}function w7(e){return Zg(this,e).has(e)}function C7(e,n){var i=Zg(this,e),s=i.size;return i.set(e,n),this.size+=i.size==s?0:1,this}function il(e){var n=-1,i=e==null?0:e.length;for(this.clear();++n<i;){var s=e[n];this.set(s[0],s[1])}}il.prototype.clear=y7;il.prototype.delete=S7;il.prototype.get=E7;il.prototype.has=w7;il.prototype.set=C7;var I7="Expected a function";function ev(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(I7);var i=function(){var s=arguments,a=n?n.apply(this,s):s[0],u=i.cache;if(u.has(a))return u.get(a);var f=e.apply(this,s);return i.cache=u.set(a,f)||u,f};return i.cache=new(ev.Cache||il),i}ev.Cache=il;var M7=500;function x7(e){var n=ev(e,function(s){return i.size===M7&&i.clear(),s}),i=n.cache;return n}var R7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T7=/\\(\\)?/g,N7=x7(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(R7,function(i,s,a,u){n.push(a?u.replace(T7,"$1"):s||i)}),n});const P7=N7;function B7(e){return e==null?"":rR(e)}function tv(e,n){return Qo(e)?e:Z9(e,n)?[e]:P7(B7(e))}var D7=1/0;function hb(e){if(typeof e=="string"||qg(e))return e;var n=e+"";return n=="0"&&1/e==-D7?"-0":n}function mR(e,n){n=tv(n,e);for(var i=0,s=n.length;e!=null&&i<s;)e=e[hb(n[i++])];return i&&i==s?e:void 0}function ri(e,n,i){var s=e==null?void 0:mR(e,n);return s===void 0?i:s}function pb(e,n){for(var i=-1,s=n.length,a=e.length;++i<s;)e[a+i]=n[i];return e}var oI=ho?ho.isConcatSpreadable:void 0;function k7(e){return Qo(e)||cb(e)||!!(oI&&e&&e[oI])}function nv(e,n,i,s,a){var u=-1,f=e.length;for(i||(i=k7),a||(a=[]);++u<f;){var h=e[u];n>0&&i(h)?n>1?nv(h,n-1,i,s,a):pb(a,h):s||(a[a.length]=h)}return a}function gR(e){var n=e==null?0:e.length;return n?nv(e,1):[]}function L7(e){return oR(lR(e,void 0,gR),e+"")}var O7=pR(Object.getPrototypeOf,Object);const vR=O7;function Bd(){if(!arguments.length)return[];var e=arguments[0];return Qo(e)?e:[e]}function F7(){this.__data__=new rl,this.size=0}function V7(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i}function G7(e){return this.__data__.get(e)}function U7(e){return this.__data__.has(e)}var H7=200;function Q7(e,n){var i=this.__data__;if(i instanceof rl){var s=i.__data__;if(!xh||s.length<H7-1)return s.push([e,n]),this.size=++i.size,this;i=this.__data__=new il(s)}return i.set(e,n),this.size=i.size,this}function Ka(e){var n=this.__data__=new rl(e);this.size=n.size}Ka.prototype.clear=F7;Ka.prototype.delete=V7;Ka.prototype.get=G7;Ka.prototype.has=U7;Ka.prototype.set=Q7;function X7(e,n){return e&&Yg(n,db(n),e)}function z7(e,n){return e&&Yg(n,fb(n),e)}var _R=typeof Xs=="object"&&Xs&&!Xs.nodeType&&Xs,aI=_R&&typeof zs=="object"&&zs&&!zs.nodeType&&zs,$7=aI&&aI.exports===_R,lI=$7?Ko.Buffer:void 0,cI=lI?lI.allocUnsafe:void 0;function W7(e,n){if(n)return e.slice();var i=e.length,s=cI?cI(i):new e.constructor(i);return e.copy(s),s}function K7(e,n){for(var i=-1,s=e==null?0:e.length,a=0,u=[];++i<s;){var f=e[i];n(f,i,e)&&(u[a++]=f)}return u}function AR(){return[]}var j7=Object.prototype,q7=j7.propertyIsEnumerable,uI=Object.getOwnPropertySymbols,Y7=uI?function(e){return e==null?[]:(e=Object(e),K7(uI(e),function(n){return q7.call(e,n)}))}:AR;const mb=Y7;function J7(e,n){return Yg(e,mb(e),n)}var Z7=Object.getOwnPropertySymbols,eW=Z7?function(e){for(var n=[];e;)pb(n,mb(e)),e=vR(e);return n}:AR;const yR=eW;function tW(e,n){return Yg(e,yR(e),n)}function bR(e,n,i){var s=n(e);return Qo(e)?s:pb(s,i(e))}function T0(e){return bR(e,db,mb)}function nW(e){return bR(e,fb,yR)}var rW=gu(Ko,"DataView");const N0=rW;var iW=gu(Ko,"Promise");const P0=iW;var sW=gu(Ko,"Set");const Sd=sW;var dI="[object Map]",oW="[object Object]",fI="[object Promise]",hI="[object Set]",pI="[object WeakMap]",mI="[object DataView]",aW=mu(N0),lW=mu(xh),cW=mu(P0),uW=mu(Sd),dW=mu(R0),Oc=$d;(N0&&Oc(new N0(new ArrayBuffer(1)))!=mI||xh&&Oc(new xh)!=dI||P0&&Oc(P0.resolve())!=fI||Sd&&Oc(new Sd)!=hI||R0&&Oc(new R0)!=pI)&&(Oc=function(e){var n=$d(e),i=n==oW?e.constructor:void 0,s=i?mu(i):"";if(s)switch(s){case aW:return mI;case lW:return dI;case cW:return fI;case uW:return hI;case dW:return pI}return n});const Rh=Oc;var fW=Object.prototype,hW=fW.hasOwnProperty;function pW(e){var n=e.length,i=new e.constructor(n);return n&&typeof e[0]=="string"&&hW.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var mW=Ko.Uint8Array;const gg=mW;function gb(e){var n=new e.constructor(e.byteLength);return new gg(n).set(new gg(e)),n}function gW(e,n){var i=n?gb(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}var vW=/\w*$/;function _W(e){var n=new e.constructor(e.source,vW.exec(e));return n.lastIndex=e.lastIndex,n}var gI=ho?ho.prototype:void 0,vI=gI?gI.valueOf:void 0;function AW(e){return vI?Object(vI.call(e)):{}}function yW(e,n){var i=n?gb(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var bW="[object Boolean]",SW="[object Date]",EW="[object Map]",wW="[object Number]",CW="[object RegExp]",IW="[object Set]",MW="[object String]",xW="[object Symbol]",RW="[object ArrayBuffer]",TW="[object DataView]",NW="[object Float32Array]",PW="[object Float64Array]",BW="[object Int8Array]",DW="[object Int16Array]",kW="[object Int32Array]",LW="[object Uint8Array]",OW="[object Uint8ClampedArray]",FW="[object Uint16Array]",VW="[object Uint32Array]";function GW(e,n,i){var s=e.constructor;switch(n){case RW:return gb(e);case bW:case SW:return new s(+e);case TW:return gW(e,i);case NW:case PW:case BW:case DW:case kW:case LW:case OW:case FW:case VW:return yW(e,i);case EW:return new s;case wW:case MW:return new s(e);case CW:return _W(e);case IW:return new s;case xW:return AW(e)}}function UW(e){return typeof e.constructor=="function"&&!lb(e)?N$(vR(e)):{}}var HW="[object Map]";function QW(e){return Ja(e)&&Rh(e)==HW}var _I=Pd&&Pd.isMap,XW=_I?ub(_I):QW;const zW=XW;var $W="[object Set]";function WW(e){return Ja(e)&&Rh(e)==$W}var AI=Pd&&Pd.isSet,KW=AI?ub(AI):WW;const jW=KW;var qW=1,YW=2,JW=4,SR="[object Arguments]",ZW="[object Array]",eK="[object Boolean]",tK="[object Date]",nK="[object Error]",ER="[object Function]",rK="[object GeneratorFunction]",iK="[object Map]",sK="[object Number]",wR="[object Object]",oK="[object RegExp]",aK="[object Set]",lK="[object String]",cK="[object Symbol]",uK="[object WeakMap]",dK="[object ArrayBuffer]",fK="[object DataView]",hK="[object Float32Array]",pK="[object Float64Array]",mK="[object Int8Array]",gK="[object Int16Array]",vK="[object Int32Array]",_K="[object Uint8Array]",AK="[object Uint8ClampedArray]",yK="[object Uint16Array]",bK="[object Uint32Array]",ai={};ai[SR]=ai[ZW]=ai[dK]=ai[fK]=ai[eK]=ai[tK]=ai[hK]=ai[pK]=ai[mK]=ai[gK]=ai[vK]=ai[iK]=ai[sK]=ai[wR]=ai[oK]=ai[aK]=ai[lK]=ai[cK]=ai[_K]=ai[AK]=ai[yK]=ai[bK]=!0;ai[nK]=ai[ER]=ai[uK]=!1;function Pm(e,n,i,s,a,u){var f,h=n&qW,v=n&YW,y=n&JW;if(i&&(f=a?i(e,s,a,u):i(e)),f!==void 0)return f;if(!Xo(e))return e;var b=Qo(e);if(b){if(f=pW(e),!h)return D$(e,f)}else{var E=Rh(e),w=E==ER||E==rK;if(mg(e))return W7(e,h);if(E==wR||E==SR||w&&!a){if(f=v||w?{}:UW(e),!h)return v?tW(e,z7(f,e)):J7(e,X7(f,e))}else{if(!ai[E])return a?e:{};f=GW(e,E,h)}}u||(u=new Ka);var C=u.get(e);if(C)return C;u.set(e,f),jW(e)?e.forEach(function(T){f.add(Pm(T,n,i,T,e,u))}):zW(e)&&e.forEach(function(T,P){f.set(P,Pm(T,n,i,P,e,u))});var x=y?v?nW:T0:v?fb:db,M=b?void 0:x(e);return X$(M||e,function(T,P){M&&(P=T,T=e[P]),sb(f,P,Pm(T,n,i,P,e,u))}),f}var SK=4;function yI(e){return Pm(e,SK)}var EK="__lodash_hash_undefined__";function wK(e){return this.__data__.set(e,EK),this}function CK(e){return this.__data__.has(e)}function Th(e){var n=-1,i=e==null?0:e.length;for(this.__data__=new il;++n<i;)this.add(e[n])}Th.prototype.add=Th.prototype.push=wK;Th.prototype.has=CK;function IK(e,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(e[i],i,e))return!0;return!1}function CR(e,n){return e.has(n)}var MK=1,xK=2;function IR(e,n,i,s,a,u){var f=i&MK,h=e.length,v=n.length;if(h!=v&&!(f&&v>h))return!1;var y=u.get(e),b=u.get(n);if(y&&b)return y==n&&b==e;var E=-1,w=!0,C=i&xK?new Th:void 0;for(u.set(e,n),u.set(n,e);++E<h;){var x=e[E],M=n[E];if(s)var T=f?s(M,x,E,n,e,u):s(x,M,E,e,n,u);if(T!==void 0){if(T)continue;w=!1;break}if(C){if(!IK(n,function(P,F){if(!CR(C,F)&&(x===P||a(x,P,i,s,u)))return C.push(F)})){w=!1;break}}else if(!(x===M||a(x,M,i,s,u))){w=!1;break}}return u.delete(e),u.delete(n),w}function RK(e){var n=-1,i=Array(e.size);return e.forEach(function(s,a){i[++n]=[a,s]}),i}function vb(e){var n=-1,i=Array(e.size);return e.forEach(function(s){i[++n]=s}),i}var TK=1,NK=2,PK="[object Boolean]",BK="[object Date]",DK="[object Error]",kK="[object Map]",LK="[object Number]",OK="[object RegExp]",FK="[object Set]",VK="[object String]",GK="[object Symbol]",UK="[object ArrayBuffer]",HK="[object DataView]",bI=ho?ho.prototype:void 0,kA=bI?bI.valueOf:void 0;function QK(e,n,i,s,a,u,f){switch(i){case HK:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case UK:return!(e.byteLength!=n.byteLength||!u(new gg(e),new gg(n)));case PK:case BK:case LK:return ib(+e,+n);case DK:return e.name==n.name&&e.message==n.message;case OK:case VK:return e==n+"";case kK:var h=RK;case FK:var v=s&TK;if(h||(h=vb),e.size!=n.size&&!v)return!1;var y=f.get(e);if(y)return y==n;s|=NK,f.set(e,n);var b=IR(h(e),h(n),s,a,u,f);return f.delete(e),b;case GK:if(kA)return kA.call(e)==kA.call(n)}return!1}var XK=1,zK=Object.prototype,$K=zK.hasOwnProperty;function WK(e,n,i,s,a,u){var f=i&XK,h=T0(e),v=h.length,y=T0(n),b=y.length;if(v!=b&&!f)return!1;for(var E=v;E--;){var w=h[E];if(!(f?w in n:$K.call(n,w)))return!1}var C=u.get(e),x=u.get(n);if(C&&x)return C==n&&x==e;var M=!0;u.set(e,n),u.set(n,e);for(var T=f;++E<v;){w=h[E];var P=e[w],F=n[w];if(s)var B=f?s(F,P,w,n,e,u):s(P,F,w,e,n,u);if(!(B===void 0?P===F||a(P,F,i,s,u):B)){M=!1;break}T||(T=w=="constructor")}if(M&&!T){var G=e.constructor,Q=n.constructor;G!=Q&&"constructor"in e&&"constructor"in n&&!(typeof G=="function"&&G instanceof G&&typeof Q=="function"&&Q instanceof Q)&&(M=!1)}return u.delete(e),u.delete(n),M}var KK=1,SI="[object Arguments]",EI="[object Array]",gm="[object Object]",jK=Object.prototype,wI=jK.hasOwnProperty;function qK(e,n,i,s,a,u){var f=Qo(e),h=Qo(n),v=f?EI:Rh(e),y=h?EI:Rh(n);v=v==SI?gm:v,y=y==SI?gm:y;var b=v==gm,E=y==gm,w=v==y;if(w&&mg(e)){if(!mg(n))return!1;f=!0,b=!1}if(w&&!b)return u||(u=new Ka),f||fR(e)?IR(e,n,i,s,a,u):QK(e,n,v,i,s,a,u);if(!(i&KK)){var C=b&&wI.call(e,"__wrapped__"),x=E&&wI.call(n,"__wrapped__");if(C||x){var M=C?e.value():e,T=x?n.value():n;return u||(u=new Ka),a(M,T,i,s,u)}}return w?(u||(u=new Ka),WK(e,n,i,s,a,u)):!1}function MR(e,n,i,s,a){return e===n?!0:e==null||n==null||!Ja(e)&&!Ja(n)?e!==e&&n!==n:qK(e,n,i,s,MR,a)}function YK(e,n){return e!=null&&n in Object(e)}function JK(e,n,i){n=tv(n,e);for(var s=-1,a=n.length,u=!1;++s<a;){var f=hb(n[s]);if(!(u=e!=null&&i(e,f)))break;e=e[f]}return u||++s!=a?u:(a=e==null?0:e.length,!!a&&ob(a)&&rb(f,a)&&(Qo(e)||cb(e)))}function ZK(e,n){return e!=null&&JK(e,n,YK)}var ej=function(){return Ko.Date.now()};const LA=ej;var tj="Expected a function",nj=Math.max,rj=Math.min;function gs(e,n,i){var s,a,u,f,h,v,y=0,b=!1,E=!1,w=!0;if(typeof e!="function")throw new TypeError(tj);n=JC(n)||0,Xo(i)&&(b=!!i.leading,E="maxWait"in i,u=E?nj(JC(i.maxWait)||0,n):u,w="trailing"in i?!!i.trailing:w);function C(H){var J=s,te=a;return s=a=void 0,y=H,f=e.apply(te,J),f}function x(H){return y=H,h=setTimeout(P,n),b?C(H):f}function M(H){var J=H-v,te=H-y,ie=n-J;return E?rj(ie,u-te):ie}function T(H){var J=H-v,te=H-y;return v===void 0||J>=n||J<0||E&&te>=u}function P(){var H=LA();if(T(H))return F(H);h=setTimeout(P,M(H))}function F(H){return h=void 0,w&&s?C(H):(s=a=void 0,f)}function B(){h!==void 0&&clearTimeout(h),y=0,s=v=a=h=void 0}function G(){return h===void 0?f:F(LA())}function Q(){var H=LA(),J=T(H);if(s=arguments,a=this,v=H,J){if(h===void 0)return x(v);if(E)return clearTimeout(h),h=setTimeout(P,n),C(v)}return h===void 0&&(h=setTimeout(P,n)),f}return Q.cancel=B,Q.flush=G,Q}function ij(e){return Ja(e)&&ab(e)}function sj(e,n,i){for(var s=-1,a=e==null?0:e.length;++s<a;)if(i(n,e[s]))return!0;return!1}var oj=1/0;function aj(e){var n=e==null?0:e.length;return n?nv(e,oj):[]}function xR(e){for(var n=-1,i=e==null?0:e.length,s={};++n<i;){var a=e[n];s[a[0]]=a[1]}return s}function co(e,n){return MR(e,n)}function Es(e){return e==null}function RR(e,n,i,s){if(!Xo(e))return e;n=tv(n,e);for(var a=-1,u=n.length,f=u-1,h=e;h!=null&&++a<u;){var v=hb(n[a]),y=i;if(v==="__proto__"||v==="constructor"||v==="prototype")return e;if(a!=f){var b=h[v];y=s?s(b,v,h):void 0,y===void 0&&(y=Xo(b)?b:rb(n[a+1])?[]:{})}sb(h,v,y),h=h[v]}return e}function lj(e,n,i){for(var s=-1,a=n.length,u={};++s<a;){var f=n[s],h=mR(e,f);i(h,f)&&RR(u,tv(f,e),h)}return u}function cj(e,n){return lj(e,n,function(i,s){return ZK(e,s)})}var uj=L7(function(e,n){return e==null?{}:cj(e,n)});const Gl=uj;function dj(e,n,i){return e==null?e:RR(e,n,i)}var fj="Expected a function";function Zc(e,n,i){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(fj);return Xo(i)&&(s="leading"in i?!!i.leading:s,a="trailing"in i?!!i.trailing:a),gs(e,n,{leading:s,maxWait:n,trailing:a})}var hj=1/0,pj=Sd&&1/vb(new Sd([,-0]))[1]==hj?function(e){return new Sd(e)}:B$;const mj=pj;var gj=200;function vj(e,n,i){var s=-1,a=j$,u=e.length,f=!0,h=[],v=h;if(i)f=!1,a=sj;else if(u>=gj){var y=n?null:mj(e);if(y)return vb(y);f=!1,a=CR,v=new Th}else v=n?[]:h;e:for(;++s<u;){var b=e[s],E=n?n(b):b;if(b=i||b!==0?b:0,f&&E===E){for(var w=v.length;w--;)if(v[w]===E)continue e;n&&v.push(E),h.push(b)}else a(v,E,i)||(v!==h&&v.push(E),h.push(b))}return h}var _j=e9(function(e){return vj(nv(e,1,ij,!0))});const OA=_j,Aj='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',yj=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,CI=e=>Array.from(e.querySelectorAll(Aj)).filter(n=>bj(n)&&yj(n)),bj=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Bm=function(e,n,...i){let s;n.includes("mouse")||n.includes("click")?s="MouseEvents":n.includes("key")?s="KeyboardEvent":s="HTMLEvents";const a=document.createEvent(s);return a.initEvent(n,...i),e.dispatchEvent(a),e},TR=e=>!e.getAttribute("aria-owns"),NR=(e,n,i)=>{const{parentNode:s}=e;if(!s)return null;const a=s.querySelectorAll(i),u=Array.prototype.indexOf.call(a,e);return a[u+n]||null},Dm=e=>{!e||(e.focus(),!TR(e)&&e.click())},li=(e,n,{checkForDefaultPrevented:i=!0}={})=>a=>{const u=e==null?void 0:e(a);if(i===!1||!u)return n==null?void 0:n(a)},II=e=>n=>n.pointerType==="mouse"?e(n):void 0;var Sj=Object.defineProperty,Ej=Object.defineProperties,wj=Object.getOwnPropertyDescriptors,MI=Object.getOwnPropertySymbols,Cj=Object.prototype.hasOwnProperty,Ij=Object.prototype.propertyIsEnumerable,xI=(e,n,i)=>n in e?Sj(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,Mj=(e,n)=>{for(var i in n||(n={}))Cj.call(n,i)&&xI(e,i,n[i]);if(MI)for(var i of MI(n))Ij.call(n,i)&&xI(e,i,n[i]);return e},xj=(e,n)=>Ej(e,wj(n));function RI(e,n){var i;const s=Wr();return Yi(()=>{s.value=e()},xj(Mj({},n),{flush:(i=n==null?void 0:n.flush)!=null?i:"sync"})),Wh(s)}var TI;const dr=typeof window<"u",Rj=e=>typeof e<"u",Ti=e=>typeof e=="boolean",Tj=e=>typeof e=="function",$n=e=>typeof e=="number",Nj=e=>typeof e=="string",FA=()=>{};dr&&((TI=window==null?void 0:window.navigator)==null?void 0:TI.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Nh(e){return typeof e=="function"?e():g(e)}function PR(e,n){function i(...s){e(()=>n.apply(this,s),{fn:n,thisArg:this,args:s})}return i}function Pj(e,n={}){let i,s;return u=>{const f=Nh(e),h=Nh(n.maxWait);if(i&&clearTimeout(i),f<=0||h!==void 0&&h<=0)return s&&(clearTimeout(s),s=null),u();h&&!s&&(s=setTimeout(()=>{i&&clearTimeout(i),s=null,u()},h)),i=setTimeout(()=>{s&&clearTimeout(s),s=null,u()},f)}}function Bj(e,n=!0,i=!0){let s=0,a,u=!0;const f=()=>{a&&(clearTimeout(a),a=void 0)};return v=>{const y=Nh(e),b=Date.now()-s;if(f(),y<=0)return s=Date.now(),v();b>y&&(i||!u)?(s=Date.now(),v()):n&&(a=setTimeout(()=>{s=Date.now(),u=!0,f(),v()},y)),!i&&!a&&(a=setTimeout(()=>u=!0,y)),u=!1}}function Dj(e){return e}function rv(e){return sV()?(PM(e),!0):!1}function kj(e,n=200,i={}){return PR(Pj(n,i),e)}function Lj(e,n=200,i={}){if(n<=0)return e;const s=se(e.value),a=kj(()=>{s.value=e.value},n,i);return Ct(e,()=>a()),s}function BR(e,n=200,i=!1,s=!0){return PR(Bj(n,i,s),e)}function _b(e,n=!0){qn()?jn(e):n?e():dn(e)}function ou(e,n,i={}){const{immediate:s=!0}=i,a=se(!1);let u=null;function f(){u&&(clearTimeout(u),u=null)}function h(){a.value=!1,f()}function v(...y){f(),a.value=!0,u=setTimeout(()=>{a.value=!1,u=null,e(...y)},Nh(n))}return s&&(a.value=!0,dr&&v()),rv(h),{isPending:a,start:v,stop:h}}function so(e){var n;const i=Nh(e);return(n=i==null?void 0:i.$el)!=null?n:i}const Jh=dr?window:void 0,Oj=dr?window.document:void 0;function Kr(...e){let n,i,s,a;if(Nj(e[0])?([i,s,a]=e,n=Jh):[n,i,s,a]=e,!n)return FA;let u=FA;const f=Ct(()=>so(n),v=>{u(),v&&(v.addEventListener(i,s,a),u=()=>{v.removeEventListener(i,s,a),u=FA})},{immediate:!0,flush:"post"}),h=()=>{f(),u()};return rv(h),h}function Ab(e,n,i={}){const{window:s=Jh,ignore:a,capture:u=!0,detectIframe:f=!1}=i;if(!s)return;const h=se(!0);let v;const y=C=>{s.clearTimeout(v);const x=so(e);!x||x===C.target||C.composedPath().includes(x)||!h.value||n(C)},b=C=>a&&a.some(x=>{const M=so(x);return M&&(C.target===M||C.composedPath().includes(M))}),E=[Kr(s,"click",y,{passive:!0,capture:u}),Kr(s,"pointerdown",C=>{const x=so(e);h.value=!!x&&!C.composedPath().includes(x)&&!b(C)},{passive:!0}),Kr(s,"pointerup",C=>{if(C.button===0){const x=C.composedPath();C.composedPath=()=>x,v=s.setTimeout(()=>y(C),50)}},{passive:!0}),f&&Kr(s,"blur",C=>{var x;const M=so(e);((x=document.activeElement)==null?void 0:x.tagName)==="IFRAME"&&!(M!=null&&M.contains(document.activeElement))&&n(C)})].filter(Boolean);return()=>E.forEach(C=>C())}function Fj(e,n=!1){const i=se(),s=()=>i.value=Boolean(e());return s(),_b(s,n),i}function Vj(e){return JSON.parse(JSON.stringify(e))}const B0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D0="__vueuse_ssr_handlers__";B0[D0]=B0[D0]||{};B0[D0];function Gj({document:e=Oj}={}){if(!e)return se("visible");const n=se(e.visibilityState);return Kr(e,"visibilitychange",()=>{n.value=e.visibilityState}),n}var NI=Object.getOwnPropertySymbols,Uj=Object.prototype.hasOwnProperty,Hj=Object.prototype.propertyIsEnumerable,Qj=(e,n)=>{var i={};for(var s in e)Uj.call(e,s)&&n.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&NI)for(var s of NI(e))n.indexOf(s)<0&&Hj.call(e,s)&&(i[s]=e[s]);return i};function ss(e,n,i={}){const s=i,{window:a=Jh}=s,u=Qj(s,["window"]);let f;const h=Fj(()=>a&&"ResizeObserver"in a),v=()=>{f&&(f.disconnect(),f=void 0)},y=Ct(()=>so(e),E=>{v(),h.value&&a&&E&&(f=new ResizeObserver(n),f.observe(E,u))},{immediate:!0,flush:"post"}),b=()=>{v(),y()};return rv(b),{isSupported:h,stop:b}}function PI(e,n={}){const{reset:i=!0,windowResize:s=!0,windowScroll:a=!0,immediate:u=!0}=n,f=se(0),h=se(0),v=se(0),y=se(0),b=se(0),E=se(0),w=se(0),C=se(0);function x(){const M=so(e);if(!M){i&&(f.value=0,h.value=0,v.value=0,y.value=0,b.value=0,E.value=0,w.value=0,C.value=0);return}const T=M.getBoundingClientRect();f.value=T.height,h.value=T.bottom,v.value=T.left,y.value=T.right,b.value=T.top,E.value=T.width,w.value=T.x,C.value=T.y}return ss(e,x),Ct(()=>so(e),M=>!M&&x()),a&&Kr("scroll",x,{passive:!0}),s&&Kr("resize",x,{passive:!0}),_b(()=>{u&&x()}),{height:f,bottom:h,left:v,right:y,top:b,width:E,x:w,y:C,update:x}}var BI;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(BI||(BI={}));var Xj=Object.defineProperty,DI=Object.getOwnPropertySymbols,zj=Object.prototype.hasOwnProperty,$j=Object.prototype.propertyIsEnumerable,kI=(e,n,i)=>n in e?Xj(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,Wj=(e,n)=>{for(var i in n||(n={}))zj.call(n,i)&&kI(e,i,n[i]);if(DI)for(var i of DI(n))$j.call(n,i)&&kI(e,i,n[i]);return e};const Kj={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Wj({linear:Dj},Kj);function jj(e,n,i,s={}){var a,u,f;const{clone:h=!1,passive:v=!1,eventName:y,deep:b=!1,defaultValue:E}=s,w=qn(),C=i||(w==null?void 0:w.emit)||((a=w==null?void 0:w.$emit)==null?void 0:a.bind(w))||((f=(u=w==null?void 0:w.proxy)==null?void 0:u.$emit)==null?void 0:f.bind(w==null?void 0:w.proxy));let x=y;n||(n="modelValue"),x=y||x||`update:${n.toString()}`;const M=P=>h?Tj(h)?h(P):Vj(P):P,T=()=>Rj(e[n])?M(e[n]):E;if(v){const P=T(),F=se(P);return Ct(()=>e[n],B=>F.value=M(B)),Ct(F,B=>{(B!==e[n]||b)&&C(x,B)},{deep:b}),F}else return $({get(){return T()},set(P){C(x,P)}})}function qj({window:e=Jh}={}){if(!e)return se(!1);const n=se(e.document.hasFocus());return Kr(e,"blur",()=>{n.value=!1}),Kr(e,"focus",()=>{n.value=!0}),n}function Yj(e={}){const{window:n=Jh,initialWidth:i=1/0,initialHeight:s=1/0,listenOrientation:a=!0,includeScrollbar:u=!0}=e,f=se(i),h=se(s),v=()=>{n&&(u?(f.value=n.innerWidth,h.value=n.innerHeight):(f.value=n.document.documentElement.clientWidth,h.value=n.document.documentElement.clientHeight))};return v(),_b(v),Kr("resize",v,{passive:!0}),a&&Kr("orientationchange",v,{passive:!0}),{width:f,height:h}}const Jj=(e,n)=>{if(!dr||!e||!n)return!1;const i=e.getBoundingClientRect();let s;return n instanceof Element?s=n.getBoundingClientRect():s={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},i.top<s.bottom&&i.bottom>s.top&&i.right>s.left&&i.left<s.right},LI=e=>{let n=0,i=e;for(;i;)n+=i.offsetTop,i=i.offsetParent;return n},Zj=(e,n)=>Math.abs(LI(e)-LI(n)),yb=e=>{let n,i;return e.type==="touchend"?(i=e.changedTouches[0].clientY,n=e.changedTouches[0].clientX):e.type.startsWith("touch")?(i=e.touches[0].clientY,n=e.touches[0].clientX):(i=e.clientY,n=e.clientX),{clientX:n,clientY:i}},qi=e=>e===void 0,io=e=>!e&&e!==0||hn(e)&&e.length===0||ur(e)&&!Object.keys(e).length,Za=e=>typeof Element>"u"?!1:e instanceof Element,eq=e=>Es(e),tq=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Xa=e=>$h(e),Ph=e=>Object.keys(e),nq=e=>Object.entries(e),km=(e,n,i)=>({get value(){return ri(e,n,i)},set value(s){dj(e,n,s)}});class rq extends Error{constructor(n){super(n),this.name="ElementPlusError"}}function xi(e,n){throw new rq(`[${e}] ${n}`)}const DR=(e="")=>e.split(" ").filter(n=>!!n.trim()),Uo=(e,n)=>{if(!e||!n)return!1;if(n.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(n)},ha=(e,n)=>{!e||!n.trim()||e.classList.add(...DR(n))},ws=(e,n)=>{!e||!n.trim()||e.classList.remove(...DR(n))},za=(e,n)=>{var i;if(!dr||!e||!n)return"";let s=fo(n);s==="float"&&(s="cssFloat");try{const a=e.style[s];if(a)return a;const u=(i=document.defaultView)==null?void 0:i.getComputedStyle(e,"");return u?u[s]:""}catch{return e.style[s]}};function Mi(e,n="px"){if(!e)return"";if(Gn(e))return e;if($n(e))return`${e}${n}`}const iq=(e,n)=>{if(!dr)return!1;const i={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(n)],s=za(e,i);return["scroll","auto","overlay"].some(a=>s.includes(a))},bb=(e,n)=>{if(!dr)return;let i=e;for(;i;){if([window,document,document.documentElement].includes(i))return window;if(iq(i,n))return i;i=i.parentNode}return i};let vm;const kR=e=>{var n;if(!dr)return 0;if(vm!==void 0)return vm;const i=document.createElement("div");i.className=`${e}-scrollbar__wrap`,i.style.visibility="hidden",i.style.width="100px",i.style.position="absolute",i.style.top="-9999px",document.body.appendChild(i);const s=i.offsetWidth;i.style.overflow="scroll";const a=document.createElement("div");a.style.width="100%",i.appendChild(a);const u=a.offsetWidth;return(n=i.parentNode)==null||n.removeChild(i),vm=s-u,vm};function LR(e,n){if(!dr)return;if(!n){e.scrollTop=0;return}const i=[];let s=n.offsetParent;for(;s!==null&&e!==s&&e.contains(s);)i.push(s),s=s.offsetParent;const a=n.offsetTop+i.reduce((v,y)=>v+y.offsetTop,0),u=a+n.offsetHeight,f=e.scrollTop,h=f+e.clientHeight;a<f?e.scrollTop=a:u>h&&(e.scrollTop=u-e.clientHeight)}const OR="__epPropKey",ot=e=>e,sq=e=>ur(e)&&!!e[OR],jo=(e,n)=>{if(!ur(e)||sq(e))return e;const{values:i,required:s,default:a,type:u,validator:f}=e,v={type:u,required:!!s,validator:i||f?y=>{let b=!1,E=[];if(i&&(E=Array.from(i),ar(e,"default")&&E.push(a),b||(b=E.includes(y))),f&&(b||(b=f(y))),!b&&E.length>0){const w=[...new Set(E)].map(C=>JSON.stringify(C)).join(", ");kV(`Invalid prop: validation failed${n?` for prop "${n}"`:""}. Expected one of [${w}], got value ${JSON.stringify(y)}.`)}return b}:void 0,[OR]:!0};return ar(e,"default")&&(v.default=a),v},Wt=e=>xR(Object.entries(e).map(([n,i])=>[n,jo(i,n)])),$r=ot([String,Object,Function]),FR={Close:Ho},Sb={Close:Ho,SuccessFilled:Zx,InfoFilled:tb,WarningFilled:jg,CircleCloseFilled:eb},jl={success:Zx,warning:jg,error:eb,info:tb},VR={validating:rc,success:Zy,error:nc},Yn=(e,n)=>{if(e.install=i=>{for(const s of[e,...Object.values(n!=null?n:{})])i.component(s.name,s)},n)for(const[i,s]of Object.entries(n))e[i]=s;return e},GR=(e,n)=>(e.install=i=>{e._context=i._context,i.config.globalProperties[n]=e},e),oq=(e,n)=>(e.install=i=>{i.directive(n,e)},e),di=e=>(e.install=Lr,e),iv=(...e)=>n=>{e.forEach(i=>{Vn(i)?i(n):i.value=n})},bn={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},aq=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],VA=["sun","mon","tue","wed","thu","fri","sat"],Zn="update:modelValue",ii="change",po="input",OI=Symbol("INSTALLED_KEY"),vu=["","default","small","large"],lq={large:40,default:32,small:24},cq=e=>lq[e||"default"],_u=e=>["",...vu].includes(e);var ro=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(ro||{});function k0(e){return gi(e)&&e.type===vn}function uq(e){return gi(e)&&e.type===ps}function dq(e){return gi(e)&&!k0(e)&&!uq(e)}const fq=e=>{if(!gi(e))return{};const n=e.props||{},i=(gi(e.type)?e.type.props:void 0)||{},s={};return Object.keys(i).forEach(a=>{ar(i[a],"default")&&(s[a]=i[a].default)}),Object.keys(n).forEach(a=>{s[fo(a)]=n[a]}),s},hq=e=>{if(!hn(e)||e.length>1)throw new Error("expect to receive a single Vue element child");return e[0]},Eb=e=>{const n=hn(e)?e:[e],i=[];return n.forEach(s=>{hn(s.children)?i.push(...Eb(s.children)):i.push(s)}),i},FI=e=>e**3,pq=e=>e<.5?FI(e*2)/2:1-FI((1-e)*2)/2,VI=e=>[...new Set(e)],ja=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e],wb=()=>dr&&/firefox/i.test(window.navigator.userAgent),sv=e=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e),Cb=e=>dr?window.requestAnimationFrame(e):setTimeout(e,16),Ib=e=>dr?window.cancelAnimationFrame(e):clearTimeout(e),Zh=()=>Math.floor(Math.random()*1e4),qr=e=>e,mq=["class","style"],gq=/^on[A-Z]/,Mb=(e={})=>{const{excludeListeners:n=!1,excludeKeys:i}=e,s=$(()=>((i==null?void 0:i.value)||[]).concat(mq)),a=qn();return $(a?()=>{var u;return xR(Object.entries((u=a.proxy)==null?void 0:u.$attrs).filter(([f])=>!s.value.includes(f)&&!(n&&gq.test(f))))}:()=>({}))},UR=Symbol("breadcrumbKey"),HR=Symbol("buttonGroupContextKey"),QR=Symbol("carouselContextKey"),XR=Symbol("collapseContextKey"),zR=Symbol(),$R=Symbol("dialogInjectionKey"),Au=Symbol("formContextKey"),va=Symbol("formItemContextKey"),WR=Symbol("elPaginationKey"),KR=Symbol("radioGroupKey"),jR=Symbol("rowContextKey"),qR=Symbol("scrollbarContextKey"),YR=Symbol("sliderContextKey"),ov=Symbol("tabsRootContextKey"),JR=Symbol("uploadContextKey"),xb=Symbol("popper"),ZR=Symbol("popperContent"),av=Symbol("tooltipV2"),eT=Symbol("tooltipV2Content"),GA="tooltip_v2.open",Rb=Symbol(),tT=e=>{const n=qn();return $(()=>{var i,s;return(s=((i=n.proxy)==null?void 0:i.$props)[e])!=null?s:void 0})},vg=se();function sl(e,n=void 0){const i=qn()?An(zR,vg):vg;return e?$(()=>{var s,a;return(a=(s=i.value)==null?void 0:s[e])!=null?a:n}):i}const nT=(e,n,i=!1)=>{var s;const a=!!qn(),u=a?sl():void 0,f=(s=n==null?void 0:n.provide)!=null?s:a?rr:void 0;if(!f)return;const h=$(()=>{const v=g(e);return u!=null&&u.value?vq(u.value,v):v});return f(zR,h),(i||!vg.value)&&(vg.value=h.value),h},vq=(e,n)=>{var i;const s=[...new Set([...Ph(e),...Ph(n)])],a={};for(const u of s)a[u]=(i=n[u])!=null?i:e[u];return a},Ws=jo({type:String,values:vu,required:!1}),Ei=(e,n={})=>{const i=se(void 0),s=n.prop?i:tT("size"),a=n.global?i:sl("size"),u=n.form?{size:void 0}:An(Au,void 0),f=n.formItem?{size:void 0}:An(va,void 0);return $(()=>s.value||g(e)||(f==null?void 0:f.size)||(u==null?void 0:u.size)||a.value||"")},ol=e=>{const n=tT("disabled"),i=An(Au,void 0);return $(()=>n.value||g(e)||(i==null?void 0:i.disabled)||!1)},au=({from:e,replacement:n,scope:i,version:s,ref:a,type:u="API"},f)=>{Ct(()=>g(f),h=>{},{immediate:!0})},rT=(e,n,i)=>{let s={offsetX:0,offsetY:0};const a=h=>{const v=h.clientX,y=h.clientY,{offsetX:b,offsetY:E}=s,w=e.value.getBoundingClientRect(),C=w.left,x=w.top,M=w.width,T=w.height,P=document.documentElement.clientWidth,F=document.documentElement.clientHeight,B=-C+b,G=-x+E,Q=P-C-M+b,H=F-x-T+E,J=ie=>{const ue=Math.min(Math.max(b+ie.clientX-v,B),Q),be=Math.min(Math.max(E+ie.clientY-y,G),H);s={offsetX:ue,offsetY:be},e.value.style.transform=`translate(${Mi(ue)}, ${Mi(be)})`},te=()=>{document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",te)};document.addEventListener("mousemove",J),document.addEventListener("mouseup",te)},u=()=>{n.value&&e.value&&n.value.addEventListener("mousedown",a)},f=()=>{n.value&&e.value&&n.value.removeEventListener("mousedown",a)};jn(()=>{Yi(()=>{i.value?u():f()})}),vi(()=>{f()})},_q=e=>({focus:()=>{var n,i;(i=(n=e.value)==null?void 0:n.focus)==null||i.call(n)}}),lv="el",Aq="is-",Dc=(e,n,i,s,a)=>{let u=`${e}-${n}`;return i&&(u+=`-${i}`),s&&(u+=`__${s}`),a&&(u+=`--${a}`),u},bt=e=>{const n=sl("namespace",lv);return{namespace:n,b:(x="")=>Dc(n.value,e,x,"",""),e:x=>x?Dc(n.value,e,"",x,""):"",m:x=>x?Dc(n.value,e,"","",x):"",be:(x,M)=>x&&M?Dc(n.value,e,x,M,""):"",em:(x,M)=>x&&M?Dc(n.value,e,"",x,M):"",bm:(x,M)=>x&&M?Dc(n.value,e,x,"",M):"",bem:(x,M,T)=>x&&M&&T?Dc(n.value,e,x,M,T):"",is:(x,...M)=>{const T=M.length>=1?M[0]:!0;return x&&T?`${Aq}${x}`:""},cssVar:x=>{const M={};for(const T in x)x[T]&&(M[`--${n.value}-${T}`]=x[T]);return M},cssVarName:x=>`--${n.value}-${x}`,cssVarBlock:x=>{const M={};for(const T in x)x[T]&&(M[`--${n.value}-${e}-${T}`]=x[T]);return M},cssVarBlockName:x=>`--${n.value}-${e}-${x}`}},yq={prefix:Math.floor(Math.random()*1e4),current:0},bq=Symbol("elIdInjection"),zo=e=>{const n=An(bq,yq),i=sl("namespace",lv);return $(()=>g(e)||`${i.value}-id-${n.prefix}-${n.current++}`)},Ks=()=>{const e=An(Au,void 0),n=An(va,void 0);return{form:e,formItem:n}},ic=(e,{formItemContext:n,disableIdGeneration:i,disableIdManagement:s})=>{i||(i=se(!1)),s||(s=se(!1));const a=se();let u;const f=$(()=>{var h;return!!(!e.label&&n&&n.inputIds&&((h=n.inputIds)==null?void 0:h.length)<=1)});return jn(()=>{u=Ct([ui(e,"id"),i],([h,v])=>{const y=h!=null?h:v?void 0:zo().value;y!==a.value&&(n!=null&&n.removeInputId&&(a.value&&n.removeInputId(a.value),!(s!=null&&s.value)&&!v&&y&&n.addInputId(y)),a.value=y)},{immediate:!0})}),hu(()=>{u&&u(),n!=null&&n.removeInputId&&a.value&&n.removeInputId(a.value)}),{isLabeledByFormItem:f,inputId:a}};var Sq={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const Eq=e=>(n,i)=>wq(n,i,g(e)),wq=(e,n,i)=>ri(i,e,e).replace(/\{(\w+)\}/g,(s,a)=>{var u;return`${(u=n==null?void 0:n[a])!=null?u:`{${a}}`}`}),Cq=e=>{const n=$(()=>g(e).name),i=Qr(e)?e:se(e);return{lang:n,locale:i,t:Eq(e)}},Cr=()=>{const e=sl("locale");return Cq($(()=>e.value||Sq))},iT=e=>{Qr(e)||xi("[useLockscreen]","You need to pass a ref param to this function");const n=bt("popup"),i=KM(()=>n.bm("parent","hidden"));if(!dr||Uo(document.body,i.value))return;let s=0,a=!1,u="0";const f=()=>{setTimeout(()=>{ws(document.body,i.value),a&&(document.body.style.width=u)},200)};Ct(e,h=>{if(!h){f();return}a=!Uo(document.body,i.value),a&&(u=document.body.style.width),s=kR(n.namespace.value);const v=document.documentElement.clientHeight<document.body.scrollHeight,y=za(document.body,"overflowY");s>0&&(v||y==="scroll")&&a&&(document.body.style.width=`calc(100% - ${s}px)`),ha(document.body,i.value)}),PM(()=>f())},Iq=jo({type:ot(Boolean),default:null}),Mq=jo({type:ot(Function)}),xq=e=>{const n=`update:${e}`,i=`onUpdate:${e}`,s=[n],a={[e]:Iq,[i]:Mq};return{useModelToggle:({indicator:f,toggleReason:h,shouldHideWhenRouteChanges:v,shouldProceed:y,onShow:b,onHide:E})=>{const w=qn(),{emit:C}=w,x=w.props,M=$(()=>Vn(x[i])),T=$(()=>x[e]===null),P=J=>{f.value!==!0&&(f.value=!0,h&&(h.value=J),Vn(b)&&b(J))},F=J=>{f.value!==!1&&(f.value=!1,h&&(h.value=J),Vn(E)&&E(J))},B=J=>{if(x.disabled===!0||Vn(y)&&!y())return;const te=M.value&&dr;te&&C(n,!0),(T.value||!te)&&P(J)},G=J=>{if(x.disabled===!0||!dr)return;const te=M.value&&dr;te&&C(n,!1),(T.value||!te)&&F(J)},Q=J=>{!Ti(J)||(x.disabled&&J?M.value&&C(n,!1):f.value!==J&&(J?P():F()))},H=()=>{f.value?G():B()};return Ct(()=>x[e],Q),v&&w.appContext.config.globalProperties.$route!==void 0&&Ct(()=>({...w.proxy.$route}),()=>{v.value&&f.value&&G()}),jn(()=>{Q(x[e])}),{hide:G,show:B,toggle:H,hasUpdateHandler:M}},useModelToggleProps:a,useModelToggleEmits:s}},Rq=(e,n)=>{let i;Ct(()=>e.value,s=>{var a,u;s?(i=document.activeElement,Qr(n)&&((u=(a=n.value).focus)==null||u.call(a))):i.focus()})},Tb=e=>{if(!e)return{onClick:Lr,onMousedown:Lr,onMouseup:Lr};let n=!1,i=!1;return{onClick:f=>{n&&i&&e(f),n=i=!1},onMousedown:f=>{n=f.target===f.currentTarget},onMouseup:f=>{i=f.target===f.currentTarget}}},Tq=(e,n=0)=>{if(n===0)return e;const i=se(!1);let s=0;const a=()=>{s&&clearTimeout(s),s=window.setTimeout(()=>{i.value=e.value},n)};return jn(a),Ct(()=>e.value,u=>{u?a():i.value=u}),i};function Nq(){let e;const n=(s,a)=>{i(),e=window.setTimeout(s,a)},i=()=>window.clearTimeout(e);return rv(()=>i()),{registerTimeout:n,cancelTimeout:i}}let ud=[];const GI=e=>{const n=e;n.key===bn.esc&&ud.forEach(i=>i(n))},Pq=e=>{jn(()=>{ud.length===0&&document.addEventListener("keydown",GI),dr&&ud.push(e)}),vi(()=>{ud=ud.filter(n=>n!==e),ud.length===0&&dr&&document.removeEventListener("keydown",GI)})};let UI;const Bq=sl("namespace",lv),sT=`${Bq.value}-popper-container-${Zh()}`,oT=`#${sT}`,Dq=()=>{const e=document.createElement("div");return e.id=sT,document.body.appendChild(e),e},kq=()=>{Qg(()=>{!dr||(!UI||!document.body.querySelector(oT))&&(UI=Dq())})},Lq=Wt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),Oq=({showAfter:e,hideAfter:n,open:i,close:s})=>{const{registerTimeout:a}=Nq();return{onOpen:h=>{a(()=>{i(h)},g(e))},onClose:h=>{a(()=>{s(h)},g(n))}}},aT=Symbol("elForwardRef"),Fq=e=>{rr(aT,{setForwardRef:i=>{e.value=i}})},Vq=e=>({mounted(n){e(n)},updated(n){e(n)},unmounted(){e(null)}}),HI=se(0),al=()=>{const e=sl("zIndex",2e3),n=$(()=>e.value+HI.value);return{initialZIndex:e,currentZIndex:n,nextZIndex:()=>(HI.value++,n.value)}};function Nb(e){return e.split("-")[0]}function Pb(e){return e.split("-")[1]}function Bb(e){return["top","bottom"].includes(Nb(e))?"x":"y"}function lT(e){return e==="y"?"height":"width"}function QI(e,n,i){let{reference:s,floating:a}=e;const u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,h=Bb(n),v=lT(h),y=s[v]/2-a[v]/2,b=Nb(n),E=h==="x";let w;switch(b){case"top":w={x:u,y:s.y-a.height};break;case"bottom":w={x:u,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y:f};break;case"left":w={x:s.x-a.width,y:f};break;default:w={x:s.x,y:s.y}}switch(Pb(n)){case"start":w[h]-=y*(i&&E?-1:1);break;case"end":w[h]+=y*(i&&E?-1:1);break}return w}const Gq=async(e,n,i)=>{const{placement:s="bottom",strategy:a="absolute",middleware:u=[],platform:f}=i,h=await(f.isRTL==null?void 0:f.isRTL(n));let v=await f.getElementRects({reference:e,floating:n,strategy:a}),{x:y,y:b}=QI(v,s,h),E=s,w={},C=0;for(let x=0;x<u.length;x++){const{name:M,fn:T}=u[x],{x:P,y:F,data:B,reset:G}=await T({x:y,y:b,initialPlacement:s,placement:E,strategy:a,middlewareData:w,rects:v,platform:f,elements:{reference:e,floating:n}});if(y=P!=null?P:y,b=F!=null?F:b,w={...w,[M]:{...w[M],...B}},G&&C<=50){C++,typeof G=="object"&&(G.placement&&(E=G.placement),G.rects&&(v=G.rects===!0?await f.getElementRects({reference:e,floating:n,strategy:a}):G.rects),{x:y,y:b}=QI(v,E,h)),x=-1;continue}}return{x:y,y:b,placement:E,strategy:a,middlewareData:w}};function Uq(e){return{top:0,right:0,bottom:0,left:0,...e}}function Hq(e){return typeof e!="number"?Uq(e):{top:e,right:e,bottom:e,left:e}}function XI(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}const Qq=Math.min,Xq=Math.max;function zq(e,n,i){return Xq(e,Qq(n,i))}const $q=e=>({name:"arrow",options:e,async fn(n){const{element:i,padding:s=0}=e!=null?e:{},{x:a,y:u,placement:f,rects:h,platform:v}=n;if(i==null)return{};const y=Hq(s),b={x:a,y:u},E=Bb(f),w=Pb(f),C=lT(E),x=await v.getDimensions(i),M=E==="y"?"top":"left",T=E==="y"?"bottom":"right",P=h.reference[C]+h.reference[E]-b[E]-h.floating[C],F=b[E]-h.reference[E],B=await(v.getOffsetParent==null?void 0:v.getOffsetParent(i));let G=B?E==="y"?B.clientHeight||0:B.clientWidth||0:0;G===0&&(G=h.floating[C]);const Q=P/2-F/2,H=y[M],J=G-x[C]-y[T],te=G/2-x[C]/2+Q,ie=zq(H,te,J),me=(w==="start"?y[M]:y[T])>0&&te!==ie&&h.reference[C]<=h.floating[C]?te<H?H-te:J-te:0;return{[E]:b[E]-me,data:{[E]:ie,centerOffset:te-ie}}}});async function Wq(e,n){const{placement:i,platform:s,elements:a}=e,u=await(s.isRTL==null?void 0:s.isRTL(a.floating)),f=Nb(i),h=Pb(i),v=Bb(i)==="x",y=["left","top"].includes(f)?-1:1,b=u&&v?-1:1,E=typeof n=="function"?n(e):n;let{mainAxis:w,crossAxis:C,alignmentAxis:x}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...E};return h&&typeof x=="number"&&(C=h==="end"?x*-1:x),v?{x:C*b,y:w*y}:{x:w*y,y:C*b}}const Kq=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){const{x:i,y:s}=n,a=await Wq(n,e);return{x:i+a.x,y:s+a.y,data:a}}}};function cT(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function ll(e){if(e==null)return window;if(!cT(e)){const n=e.ownerDocument;return n&&n.defaultView||window}return e}function ql(e){return ll(e).getComputedStyle(e)}function el(e){return cT(e)?"":e?(e.nodeName||"").toLowerCase():""}function uT(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(n=>n.brand+"/"+n.version).join(" "):navigator.userAgent}function _a(e){return e instanceof ll(e).HTMLElement}function Dd(e){return e instanceof ll(e).Element}function jq(e){return e instanceof ll(e).Node}function _g(e){if(typeof ShadowRoot>"u")return!1;const n=ll(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}function cv(e){const{overflow:n,overflowX:i,overflowY:s}=ql(e);return/auto|scroll|overlay|hidden/.test(n+s+i)}function qq(e){return["table","td","th"].includes(el(e))}function dT(e){const n=/firefox/i.test(uT()),i=ql(e);return i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].includes(i.willChange)||n&&i.willChange==="filter"||n&&(i.filter?i.filter!=="none":!1)}function fT(){return!/^((?!chrome|android).)*safari/i.test(uT())}const zI=Math.min,uh=Math.max,Ag=Math.round;function lu(e,n,i){var s,a,u,f;n===void 0&&(n=!1),i===void 0&&(i=!1);const h=e.getBoundingClientRect();let v=1,y=1;n&&_a(e)&&(v=e.offsetWidth>0&&Ag(h.width)/e.offsetWidth||1,y=e.offsetHeight>0&&Ag(h.height)/e.offsetHeight||1);const b=Dd(e)?ll(e):window,E=!fT()&&i,w=(h.left+(E&&(s=(a=b.visualViewport)==null?void 0:a.offsetLeft)!=null?s:0))/v,C=(h.top+(E&&(u=(f=b.visualViewport)==null?void 0:f.offsetTop)!=null?u:0))/y,x=h.width/v,M=h.height/y;return{width:x,height:M,top:C,right:w+x,bottom:C+M,left:w,x:w,y:C}}function sc(e){return((jq(e)?e.ownerDocument:e.document)||window.document).documentElement}function uv(e){return Dd(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function hT(e){return lu(sc(e)).left+uv(e).scrollLeft}function Yq(e){const n=lu(e);return Ag(n.width)!==e.offsetWidth||Ag(n.height)!==e.offsetHeight}function Jq(e,n,i){const s=_a(n),a=sc(n),u=lu(e,s&&Yq(n),i==="fixed");let f={scrollLeft:0,scrollTop:0};const h={x:0,y:0};if(s||!s&&i!=="fixed")if((el(n)!=="body"||cv(a))&&(f=uv(n)),_a(n)){const v=lu(n,!0);h.x=v.x+n.clientLeft,h.y=v.y+n.clientTop}else a&&(h.x=hT(a));return{x:u.left+f.scrollLeft-h.x,y:u.top+f.scrollTop-h.y,width:u.width,height:u.height}}function pT(e){return el(e)==="html"?e:e.assignedSlot||e.parentNode||(_g(e)?e.host:null)||sc(e)}function $I(e){return!_a(e)||ql(e).position==="fixed"?null:e.offsetParent}function Zq(e){let n=pT(e);for(_g(n)&&(n=n.host);_a(n)&&!["html","body"].includes(el(n));){if(dT(n))return n;{const i=n.parentNode;n=_g(i)?i.host:i}}return null}function L0(e){const n=ll(e);let i=$I(e);for(;i&&qq(i)&&ql(i).position==="static";)i=$I(i);return i&&(el(i)==="html"||el(i)==="body"&&ql(i).position==="static"&&!dT(i))?n:i||Zq(e)||n}function WI(e){if(_a(e))return{width:e.offsetWidth,height:e.offsetHeight};const n=lu(e);return{width:n.width,height:n.height}}function eY(e){let{rect:n,offsetParent:i,strategy:s}=e;const a=_a(i),u=sc(i);if(i===u)return n;let f={scrollLeft:0,scrollTop:0};const h={x:0,y:0};if((a||!a&&s!=="fixed")&&((el(i)!=="body"||cv(u))&&(f=uv(i)),_a(i))){const v=lu(i,!0);h.x=v.x+i.clientLeft,h.y=v.y+i.clientTop}return{...n,x:n.x-f.scrollLeft+h.x,y:n.y-f.scrollTop+h.y}}function tY(e,n){const i=ll(e),s=sc(e),a=i.visualViewport;let u=s.clientWidth,f=s.clientHeight,h=0,v=0;if(a){u=a.width,f=a.height;const y=fT();(y||!y&&n==="fixed")&&(h=a.offsetLeft,v=a.offsetTop)}return{width:u,height:f,x:h,y:v}}function nY(e){var n;const i=sc(e),s=uv(e),a=(n=e.ownerDocument)==null?void 0:n.body,u=uh(i.scrollWidth,i.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),f=uh(i.scrollHeight,i.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let h=-s.scrollLeft+hT(e);const v=-s.scrollTop;return ql(a||i).direction==="rtl"&&(h+=uh(i.clientWidth,a?a.clientWidth:0)-u),{width:u,height:f,x:h,y:v}}function mT(e){const n=pT(e);return["html","body","#document"].includes(el(n))?e.ownerDocument.body:_a(n)&&cv(n)?n:mT(n)}function gT(e,n){var i;n===void 0&&(n=[]);const s=mT(e),a=s===((i=e.ownerDocument)==null?void 0:i.body),u=ll(s),f=a?[u].concat(u.visualViewport||[],cv(s)?s:[]):s,h=n.concat(f);return a?h:h.concat(gT(f))}function rY(e,n){const i=n.getRootNode==null?void 0:n.getRootNode();if(e.contains(n))return!0;if(i&&_g(i)){let s=n;do{if(s&&e===s)return!0;s=s.parentNode||s.host}while(s)}return!1}function iY(e,n){const i=lu(e,!1,n==="fixed"),s=i.top+e.clientTop,a=i.left+e.clientLeft;return{top:s,left:a,x:a,y:s,right:a+e.clientWidth,bottom:s+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function KI(e,n,i){return n==="viewport"?XI(tY(e,i)):Dd(n)?iY(n,i):XI(nY(sc(e)))}function sY(e){const n=gT(e),s=["absolute","fixed"].includes(ql(e).position)&&_a(e)?L0(e):e;return Dd(s)?n.filter(a=>Dd(a)&&rY(a,s)&&el(a)!=="body"):[]}function oY(e){let{element:n,boundary:i,rootBoundary:s,strategy:a}=e;const f=[...i==="clippingAncestors"?sY(n):[].concat(i),s],h=f[0],v=f.reduce((y,b)=>{const E=KI(n,b,a);return y.top=uh(E.top,y.top),y.right=zI(E.right,y.right),y.bottom=zI(E.bottom,y.bottom),y.left=uh(E.left,y.left),y},KI(n,h,a));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}const aY={getClippingRect:oY,convertOffsetParentRelativeRectToViewportRelativeRect:eY,isElement:Dd,getDimensions:WI,getOffsetParent:L0,getDocumentElement:sc,getElementRects:e=>{let{reference:n,floating:i,strategy:s}=e;return{reference:Jq(n,L0(i),s),floating:{...WI(i),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>ql(e).direction==="rtl"},lY=(e,n,i)=>Gq(e,n,{platform:aY,...i});Wt({});const cY=e=>{if(!dr)return;if(!e)return e;const n=so(e);return n||(Qr(e)?n:e)},uY=({middleware:e,placement:n,strategy:i})=>{const s=se(),a=se(),u=se(),f=se(),h=se({}),v={x:u,y:f,placement:n,strategy:i,middlewareData:h},y=async()=>{if(!dr)return;const b=cY(s),E=so(a);if(!b||!E)return;const w=await lY(b,E,{placement:g(n),strategy:g(i),middleware:g(e)});Ph(v).forEach(C=>{v[C].value=w[C]})};return jn(()=>{Yi(()=>{y()})}),{...v,update:y,referenceRef:s,contentRef:a}},dY=({arrowRef:e,padding:n})=>({name:"arrow",options:{element:e,padding:n},fn(i){const s=g(e);return s?$q({element:s,padding:n}).fn(i):{}}});function fY(e){const n=se();function i(){if(e.value==null)return;const{selectionStart:a,selectionEnd:u,value:f}=e.value;if(a==null||u==null)return;const h=f.slice(0,Math.max(0,a)),v=f.slice(Math.max(0,u));n.value={selectionStart:a,selectionEnd:u,value:f,beforeTxt:h,afterTxt:v}}function s(){if(e.value==null||n.value==null)return;const{value:a}=e.value,{beforeTxt:u,afterTxt:f,selectionStart:h}=n.value;if(u==null||f==null||h==null)return;let v=a.length;if(a.endsWith(f))v=a.length-f.length;else if(a.startsWith(u))v=u.length;else{const y=u[h-1],b=a.indexOf(y,h-1);b!==-1&&(v=b+1)}e.value.setSelectionRange(v,v)}return[i,s]}const hY="2.2.17",pY=(e=[])=>({version:hY,install:(i,s)=>{i[OI]||(i[OI]=!0,e.forEach(a=>i.use(a)),s&&nT(s,i,!0))}}),mY=Wt({zIndex:{type:ot([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),gY={scroll:({scrollTop:e,fixed:n})=>$n(e)&&Ti(n),[ii]:e=>Ti(e)};var Ht=(e,n)=>{const i=e.__vccOpts||e;for(const[s,a]of n)i[s]=a;return i};const vY={name:"ElAffix"},_Y=yt({...vY,props:mY,emits:gY,setup(e,{expose:n,emit:i}){const s=e,a="ElAffix",u=bt("affix"),f=Wr(),h=Wr(),v=Wr(),{height:y}=Yj(),{height:b,width:E,top:w,bottom:C,update:x}=PI(h),M=PI(f),T=se(!1),P=se(0),F=se(0),B=$(()=>({height:T.value?`${b.value}px`:"",width:T.value?`${E.value}px`:""})),G=$(()=>{if(!T.value)return{};const J=s.offset?`${s.offset}px`:0;return{height:`${b.value}px`,width:`${E.value}px`,top:s.position==="top"?J:"",bottom:s.position==="bottom"?J:"",transform:F.value?`translateY(${F.value}px)`:"",zIndex:s.zIndex}}),Q=()=>{if(!!v.value)if(P.value=v.value instanceof Window?document.documentElement.scrollTop:v.value.scrollTop||0,s.position==="top")if(s.target){const J=M.bottom.value-s.offset-b.value;T.value=s.offset>w.value&&M.bottom.value>0,F.value=J<0?J:0}else T.value=s.offset>w.value;else if(s.target){const J=y.value-M.top.value-s.offset-b.value;T.value=y.value-s.offset<C.value&&y.value>M.top.value,F.value=J<0?-J:0}else T.value=y.value-s.offset<C.value},H=()=>{i("scroll",{scrollTop:P.value,fixed:T.value})};return Ct(T,J=>i("change",J)),jn(()=>{var J;s.target?(f.value=(J=document.querySelector(s.target))!=null?J:void 0,f.value||xi(a,`Target is not existed: ${s.target}`)):f.value=document.documentElement,v.value=bb(h.value,!0),x()}),Kr(v,"scroll",H),Yi(Q),n({update:Q,updateRoot:x}),(J,te)=>(X(),ge("div",{ref_key:"root",ref:h,class:q(g(u).b()),style:pn(g(B))},[Ce("div",{class:q({[g(u).m("fixed")]:T.value}),style:pn(g(G))},[_t(J.$slots,"default")],6)],6))}});var AY=Ht(_Y,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]);const yY=Yn(AY),bY=Wt({size:{type:ot([Number,String])},color:{type:String}}),SY={name:"ElIcon",inheritAttrs:!1},EY=yt({...SY,props:bY,setup(e){const n=e,i=bt("icon"),s=$(()=>{const{size:a,color:u}=n;return!a&&!u?{}:{fontSize:qi(a)?void 0:Mi(a),"--color":u}});return(a,u)=>(X(),ge("i",nr({class:g(i).b(),style:g(s)},a.$attrs),[_t(a.$slots,"default")],16))}});var wY=Ht(EY,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const fn=Yn(wY),CY=["light","dark"],IY=Wt({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:Ph(jl),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:CY,default:"light"}}),MY={close:e=>e instanceof MouseEvent},xY={name:"ElAlert"},RY=yt({...xY,props:IY,emits:MY,setup(e,{emit:n}){const i=e,{Close:s}=Sb,a=Zi(),u=bt("alert"),f=se(!0),h=$(()=>jl[i.type]),v=$(()=>[u.e("icon"),{[u.is("big")]:!!i.description||!!a.default}]),y=$(()=>({[u.is("bold")]:i.description||a.default})),b=E=>{f.value=!1,n("close",E)};return(E,w)=>(X(),nt(bi,{name:g(u).b("fade"),persisted:""},{default:Ue(()=>[Qn(Ce("div",{class:q([g(u).b(),g(u).m(E.type),g(u).is("center",E.center),g(u).is(E.effect)]),role:"alert"},[E.showIcon&&g(h)?(X(),nt(g(fn),{key:0,class:q(g(v))},{default:Ue(()=>[(X(),nt(er(g(h))))]),_:1},8,["class"])):je("v-if",!0),Ce("div",{class:q(g(u).e("content"))},[E.title||E.$slots.title?(X(),ge("span",{key:0,class:q([g(u).e("title"),g(y)])},[_t(E.$slots,"title",{},()=>[pr(Ut(E.title),1)])],2)):je("v-if",!0),E.$slots.default||E.description?(X(),ge("p",{key:1,class:q(g(u).e("description"))},[_t(E.$slots,"default",{},()=>[pr(Ut(E.description),1)])],2)):je("v-if",!0),E.closable?(X(),ge(vn,{key:2},[E.closeText?(X(),ge("div",{key:0,class:q([g(u).e("close-btn"),g(u).is("customed")]),onClick:b},Ut(E.closeText),3)):(X(),nt(g(fn),{key:1,class:q(g(u).e("close-btn")),onClick:b},{default:Ue(()=>[Me(g(s))]),_:1},8,["class"]))],64)):je("v-if",!0)],2)],2),[[_r,f.value]])]),_:3},8,["name"]))}});var TY=Ht(RY,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const NY=Yn(TY);let ko;const PY=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,BY=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function DY(e){const n=window.getComputedStyle(e),i=n.getPropertyValue("box-sizing"),s=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),a=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:BY.map(f=>`${f}:${n.getPropertyValue(f)}`).join(";"),paddingSize:s,borderSize:a,boxSizing:i}}function jI(e,n=1,i){var s;ko||(ko=document.createElement("textarea"),document.body.appendChild(ko));const{paddingSize:a,borderSize:u,boxSizing:f,contextStyle:h}=DY(e);ko.setAttribute("style",`${h};${PY}`),ko.value=e.value||e.placeholder||"";let v=ko.scrollHeight;const y={};f==="border-box"?v=v+u:f==="content-box"&&(v=v-a),ko.value="";const b=ko.scrollHeight-a;if($n(n)){let E=b*n;f==="border-box"&&(E=E+a+u),v=Math.max(E,v),y.minHeight=`${E}px`}if($n(i)){let E=b*i;f==="border-box"&&(E=E+a+u),v=Math.min(E,v)}return y.height=`${v}px`,(s=ko.parentNode)==null||s.removeChild(ko),ko=void 0,y}const kY=Wt({id:{type:String,default:void 0},size:Ws,disabled:Boolean,modelValue:{type:ot([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ot([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:$r},prefixIcon:{type:$r},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ot([Object,Array,String]),default:()=>qr({})}}),LY={[Zn]:e=>Gn(e),input:e=>Gn(e),change:e=>Gn(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},OY=["role"],FY=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder"],VY=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],GY={name:"ElInput",inheritAttrs:!1},UY=yt({...GY,props:kY,emits:LY,setup(e,{expose:n,emit:i}){const s=e,a={suffix:"append",prefix:"prepend"},u=qn(),f=qh(),h=Zi(),v=$(()=>{const it={};return s.containerRole==="combobox"&&(it["aria-haspopup"]=f["aria-haspopup"],it["aria-owns"]=f["aria-owns"],it["aria-expanded"]=f["aria-expanded"]),it}),y=Mb({excludeKeys:$(()=>Object.keys(v.value))}),{form:b,formItem:E}=Ks(),{inputId:w}=ic(s,{formItemContext:E}),C=Ei(),x=ol(),M=bt("input"),T=bt("textarea"),P=Wr(),F=Wr(),B=se(!1),G=se(!1),Q=se(!1),H=se(!1),J=se(),te=Wr(s.inputStyle),ie=$(()=>P.value||F.value),ue=$(()=>{var it;return(it=b==null?void 0:b.statusIcon)!=null?it:!1}),be=$(()=>(E==null?void 0:E.validateState)||""),me=$(()=>be.value&&VR[be.value]),de=$(()=>H.value?vz:vQ),ye=$(()=>[f.style,s.inputStyle]),ve=$(()=>[s.inputStyle,te.value,{resize:s.resize}]),Ee=$(()=>Es(s.modelValue)?"":String(s.modelValue)),fe=$(()=>s.clearable&&!x.value&&!s.readonly&&!!Ee.value&&(B.value||G.value)),_e=$(()=>s.showPassword&&!x.value&&!s.readonly&&!!Ee.value&&(!!Ee.value||B.value)),oe=$(()=>s.showWordLimit&&!!y.value.maxlength&&(s.type==="text"||s.type==="textarea")&&!x.value&&!s.readonly&&!s.showPassword),Te=$(()=>Array.from(Ee.value).length),Le=$(()=>!!oe.value&&Te.value>Number(y.value.maxlength)),xe=$(()=>!!h.suffix||!!s.suffixIcon||fe.value||s.showPassword||oe.value||!!be.value&&ue.value),[Fe,ft]=fY(P);ss(F,it=>{if(!oe.value||s.resize!=="both")return;const Xt=it[0],{width:In}=Xt.contentRect;J.value={right:`calc(100% - ${In+15+6}px)`}});const St=()=>{const{type:it,autosize:Xt}=s;if(!(!dr||it!=="textarea"))if(Xt){const In=ur(Xt)?Xt.minRows:void 0,Mn=ur(Xt)?Xt.maxRows:void 0;te.value={...jI(F.value,In,Mn)}}else te.value={minHeight:jI(F.value).minHeight}},Pt=()=>{const it=ie.value;!it||it.value===Ee.value||(it.value=Ee.value)},At=it=>{const{el:Xt}=u.vnode;if(!Xt)return;const Mn=Array.from(Xt.querySelectorAll(`.${M.e(it)}`)).find(It=>It.parentNode===Xt);if(!Mn)return;const Ke=a[it];h[Ke]?Mn.style.transform=`translateX(${it==="suffix"?"-":""}${Xt.querySelector(`.${M.be("group",Ke)}`).offsetWidth}px)`:Mn.removeAttribute("style")},Ve=()=>{At("prefix"),At("suffix")},at=async it=>{Fe();let{value:Xt}=it.target;if(s.formatter&&(Xt=s.parser?s.parser(Xt):Xt,Xt=s.formatter(Xt)),!Q.value){if(Xt===Ee.value){Pt();return}i(Zn,Xt),i("input",Xt),await dn(),Pt(),ft()}},pt=it=>{i("change",it.target.value)},nn=it=>{i("compositionstart",it),Q.value=!0},_n=it=>{var Xt;i("compositionupdate",it);const In=(Xt=it.target)==null?void 0:Xt.value,Mn=In[In.length-1]||"";Q.value=!sv(Mn)},Be=it=>{i("compositionend",it),Q.value&&(Q.value=!1,at(it))},ze=()=>{H.value=!H.value,vt()},vt=async()=>{var it;await dn(),(it=ie.value)==null||it.focus()},Lt=()=>{var it;return(it=ie.value)==null?void 0:it.blur()},et=it=>{B.value=!0,i("focus",it)},xt=it=>{var Xt;B.value=!1,i("blur",it),s.validateEvent&&((Xt=E==null?void 0:E.validate)==null||Xt.call(E,"blur").catch(In=>void 0))},qe=it=>{G.value=!1,i("mouseleave",it)},rt=it=>{G.value=!0,i("mouseenter",it)},mt=it=>{i("keydown",it)},Et=()=>{var it;(it=ie.value)==null||it.select()},rn=()=>{i(Zn,""),i("change",""),i("clear"),i("input","")};return Ct(()=>s.modelValue,()=>{var it;dn(()=>St()),s.validateEvent&&((it=E==null?void 0:E.validate)==null||it.call(E,"change").catch(Xt=>void 0))}),Ct(Ee,()=>Pt()),Ct(()=>s.type,async()=>{await dn(),Pt(),St(),Ve()}),jn(async()=>{!s.formatter&&s.parser,Pt(),Ve(),await dn(),St()}),ya(async()=>{await dn(),Ve()}),n({input:P,textarea:F,ref:ie,textareaStyle:ve,autosize:ui(s,"autosize"),focus:vt,blur:Lt,select:Et,clear:rn,resizeTextarea:St}),(it,Xt)=>Qn((X(),ge("div",nr(g(v),{class:[it.type==="textarea"?g(T).b():g(M).b(),g(M).m(g(C)),g(M).is("disabled",g(x)),g(M).is("exceed",g(Le)),{[g(M).b("group")]:it.$slots.prepend||it.$slots.append,[g(M).bm("group","append")]:it.$slots.append,[g(M).bm("group","prepend")]:it.$slots.prepend,[g(M).m("prefix")]:it.$slots.prefix||it.prefixIcon,[g(M).m("suffix")]:it.$slots.suffix||it.suffixIcon||it.clearable||it.showPassword,[g(M).bm("suffix","password-clear")]:g(fe)&&g(_e)},it.$attrs.class],style:g(ye),role:it.containerRole,onMouseenter:rt,onMouseleave:qe}),[je(" input "),it.type!=="textarea"?(X(),ge(vn,{key:0},[je(" prepend slot "),it.$slots.prepend?(X(),ge("div",{key:0,class:q(g(M).be("group","prepend"))},[_t(it.$slots,"prepend")],2)):je("v-if",!0),Ce("div",{class:q([g(M).e("wrapper"),g(M).is("focus",B.value)])},[je(" prefix slot "),it.$slots.prefix||it.prefixIcon?(X(),ge("span",{key:0,class:q(g(M).e("prefix"))},[Ce("span",{class:q(g(M).e("prefix-inner"))},[_t(it.$slots,"prefix"),it.prefixIcon?(X(),nt(g(fn),{key:0,class:q(g(M).e("icon"))},{default:Ue(()=>[(X(),nt(er(it.prefixIcon)))]),_:1},8,["class"])):je("v-if",!0)],2)],2)):je("v-if",!0),Ce("input",nr({id:g(w),ref_key:"input",ref:P,class:g(M).e("inner")},g(y),{type:it.showPassword?H.value?"text":"password":it.type,disabled:g(x),formatter:it.formatter,parser:it.parser,readonly:it.readonly,autocomplete:it.autocomplete,tabindex:it.tabindex,"aria-label":it.label,placeholder:it.placeholder,style:it.inputStyle,onCompositionstart:nn,onCompositionupdate:_n,onCompositionend:Be,onInput:at,onFocus:et,onBlur:xt,onChange:pt,onKeydown:mt}),null,16,FY),je(" suffix slot "),g(xe)?(X(),ge("span",{key:1,class:q(g(M).e("suffix"))},[Ce("span",{class:q(g(M).e("suffix-inner"))},[!g(fe)||!g(_e)||!g(oe)?(X(),ge(vn,{key:0},[_t(it.$slots,"suffix"),it.suffixIcon?(X(),nt(g(fn),{key:0,class:q(g(M).e("icon"))},{default:Ue(()=>[(X(),nt(er(it.suffixIcon)))]),_:1},8,["class"])):je("v-if",!0)],64)):je("v-if",!0),g(fe)?(X(),nt(g(fn),{key:1,class:q([g(M).e("icon"),g(M).e("clear")]),onMousedown:Bn(g(Lr),["prevent"]),onClick:rn},{default:Ue(()=>[Me(g(nc))]),_:1},8,["class","onMousedown"])):je("v-if",!0),g(_e)?(X(),nt(g(fn),{key:2,class:q([g(M).e("icon"),g(M).e("password")]),onClick:ze},{default:Ue(()=>[(X(),nt(er(g(de))))]),_:1},8,["class"])):je("v-if",!0),g(oe)?(X(),ge("span",{key:3,class:q(g(M).e("count"))},[Ce("span",{class:q(g(M).e("count-inner"))},Ut(g(Te))+" / "+Ut(g(y).maxlength),3)],2)):je("v-if",!0),g(be)&&g(me)&&g(ue)?(X(),nt(g(fn),{key:4,class:q([g(M).e("icon"),g(M).e("validateIcon"),g(M).is("loading",g(be)==="validating")])},{default:Ue(()=>[(X(),nt(er(g(me))))]),_:1},8,["class"])):je("v-if",!0)],2)],2)):je("v-if",!0)],2),je(" append slot "),it.$slots.append?(X(),ge("div",{key:1,class:q(g(M).be("group","append"))},[_t(it.$slots,"append")],2)):je("v-if",!0)],64)):(X(),ge(vn,{key:1},[je(" textarea "),Ce("textarea",nr({id:g(w),ref_key:"textarea",ref:F,class:g(T).e("inner")},g(y),{tabindex:it.tabindex,disabled:g(x),readonly:it.readonly,autocomplete:it.autocomplete,style:g(ve),"aria-label":it.label,placeholder:it.placeholder,onCompositionstart:nn,onCompositionupdate:_n,onCompositionend:Be,onInput:at,onFocus:et,onBlur:xt,onChange:pt,onKeydown:mt}),null,16,VY),g(oe)?(X(),ge("span",{key:0,style:pn(J.value),class:q(g(M).e("count"))},Ut(g(Te))+" / "+Ut(g(y).maxlength),7)):je("v-if",!0)],64))],16,OY)),[[_r,it.type!=="hidden"]])}});var HY=Ht(UY,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const rs=Yn(HY),md=4,vT={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},QY=({move:e,size:n,bar:i})=>({[i.size]:n,transform:`translate${i.axis}(${e}%)`}),XY=Wt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),zY=yt({__name:"thumb",props:XY,setup(e){const n=e,i="Thumb",s=An(qR),a=bt("scrollbar");s||xi(i,"can not inject scrollbar context");const u=se(),f=se(),h=se({}),v=se(!1);let y=!1,b=!1,E=dr?document.onselectstart:null;const w=$(()=>vT[n.vertical?"vertical":"horizontal"]),C=$(()=>QY({size:n.size,move:n.move,bar:w.value})),x=$(()=>u.value[w.value.offset]**2/s.wrapElement[w.value.scrollSize]/n.ratio/f.value[w.value.offset]),M=J=>{var te;if(J.stopPropagation(),J.ctrlKey||[1,2].includes(J.button))return;(te=window.getSelection())==null||te.removeAllRanges(),P(J);const ie=J.currentTarget;!ie||(h.value[w.value.axis]=ie[w.value.offset]-(J[w.value.client]-ie.getBoundingClientRect()[w.value.direction]))},T=J=>{if(!f.value||!u.value||!s.wrapElement)return;const te=Math.abs(J.target.getBoundingClientRect()[w.value.direction]-J[w.value.client]),ie=f.value[w.value.offset]/2,ue=(te-ie)*100*x.value/u.value[w.value.offset];s.wrapElement[w.value.scroll]=ue*s.wrapElement[w.value.scrollSize]/100},P=J=>{J.stopImmediatePropagation(),y=!0,document.addEventListener("mousemove",F),document.addEventListener("mouseup",B),E=document.onselectstart,document.onselectstart=()=>!1},F=J=>{if(!u.value||!f.value||y===!1)return;const te=h.value[w.value.axis];if(!te)return;const ie=(u.value.getBoundingClientRect()[w.value.direction]-J[w.value.client])*-1,ue=f.value[w.value.offset]-te,be=(ie-ue)*100*x.value/u.value[w.value.offset];s.wrapElement[w.value.scroll]=be*s.wrapElement[w.value.scrollSize]/100},B=()=>{y=!1,h.value[w.value.axis]=0,document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",B),H(),b&&(v.value=!1)},G=()=>{b=!1,v.value=!!n.size},Q=()=>{b=!0,v.value=y};vi(()=>{H(),document.removeEventListener("mouseup",B)});const H=()=>{document.onselectstart!==E&&(document.onselectstart=E)};return Kr(ui(s,"scrollbarElement"),"mousemove",G),Kr(ui(s,"scrollbarElement"),"mouseleave",Q),(J,te)=>(X(),nt(bi,{name:g(a).b("fade"),persisted:""},{default:Ue(()=>[Qn(Ce("div",{ref_key:"instance",ref:u,class:q([g(a).e("bar"),g(a).is(g(w).key)]),onMousedown:T},[Ce("div",{ref_key:"thumb",ref:f,class:q(g(a).e("thumb")),style:pn(g(C)),onMousedown:M},null,38)],34),[[_r,J.always||v.value]])]),_:1},8,["name"]))}});var qI=Ht(zY,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const $Y=Wt({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),WY=yt({__name:"bar",props:$Y,setup(e,{expose:n}){const i=e,s=se(0),a=se(0);return n({handleScroll:f=>{if(f){const h=f.offsetHeight-md,v=f.offsetWidth-md;a.value=f.scrollTop*100/h*i.ratioY,s.value=f.scrollLeft*100/v*i.ratioX}}}),(f,h)=>(X(),ge(vn,null,[Me(qI,{move:s.value,ratio:f.ratioX,size:f.width,always:f.always},null,8,["move","ratio","size","always"]),Me(qI,{move:a.value,ratio:f.ratioY,size:f.height,vertical:"",always:f.always},null,8,["move","ratio","size","always"])],64))}});var KY=Ht(WY,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const jY=Wt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:ot([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),qY={scroll:({scrollTop:e,scrollLeft:n})=>[e,n].every($n)},YY={name:"ElScrollbar"},JY=yt({...YY,props:jY,emits:qY,setup(e,{expose:n,emit:i}){const s=e,a=bt("scrollbar");let u,f;const h=se(),v=se(),y=se(),b=se("0"),E=se("0"),w=se(),C=se(1),x=se(1),M=$(()=>{const Q={};return s.height&&(Q.height=Mi(s.height)),s.maxHeight&&(Q.maxHeight=Mi(s.maxHeight)),[s.wrapStyle,Q]}),T=()=>{var Q;v.value&&((Q=w.value)==null||Q.handleScroll(v.value),i("scroll",{scrollTop:v.value.scrollTop,scrollLeft:v.value.scrollLeft}))};function P(Q,H){ur(Q)?v.value.scrollTo(Q):$n(Q)&&$n(H)&&v.value.scrollTo(Q,H)}const F=Q=>{!$n(Q)||(v.value.scrollTop=Q)},B=Q=>{!$n(Q)||(v.value.scrollLeft=Q)},G=()=>{if(!v.value)return;const Q=v.value.offsetHeight-md,H=v.value.offsetWidth-md,J=Q**2/v.value.scrollHeight,te=H**2/v.value.scrollWidth,ie=Math.max(J,s.minSize),ue=Math.max(te,s.minSize);C.value=J/(Q-J)/(ie/(Q-ie)),x.value=te/(H-te)/(ue/(H-ue)),E.value=ie+md<Q?`${ie}px`:"",b.value=ue+md<H?`${ue}px`:""};return Ct(()=>s.noresize,Q=>{Q?(u==null||u(),f==null||f()):({stop:u}=ss(y,G),f=Kr("resize",G))},{immediate:!0}),Ct(()=>[s.maxHeight,s.height],()=>{s.native||dn(()=>{var Q;G(),v.value&&((Q=w.value)==null||Q.handleScroll(v.value))})}),rr(qR,xr({scrollbarElement:h,wrapElement:v})),jn(()=>{s.native||dn(()=>{G()})}),ya(()=>G()),n({wrap$:v,update:G,scrollTo:P,setScrollTop:F,setScrollLeft:B,handleScroll:T}),(Q,H)=>(X(),ge("div",{ref_key:"scrollbar$",ref:h,class:q(g(a).b())},[Ce("div",{ref_key:"wrap$",ref:v,class:q([Q.wrapClass,g(a).e("wrap"),{[g(a).em("wrap","hidden-default")]:!Q.native}]),style:pn(g(M)),onScroll:T},[(X(),nt(er(Q.tag),{ref_key:"resize$",ref:y,class:q([g(a).e("view"),Q.viewClass]),style:pn(Q.viewStyle)},{default:Ue(()=>[_t(Q.$slots,"default")]),_:3},8,["class","style"]))],38),Q.native?je("v-if",!0):(X(),nt(KY,{key:0,ref_key:"barRef",ref:w,height:E.value,width:b.value,always:Q.always,"ratio-x":x.value,"ratio-y":C.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var ZY=Ht(JY,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const cl=Yn(ZY),eJ={LIGHT:"light",DARK:"dark"},tJ=["dialog","grid","listbox","menu","tooltip","tree"],_T=Wt({role:{type:String,values:tJ,default:"tooltip"}}),nJ={name:"ElPopperRoot",inheritAttrs:!1},rJ=yt({...nJ,props:_T,setup(e,{expose:n}){const i=e,s=se(),a=se(),u=se(),f=se(),h=$(()=>i.role),v={triggerRef:s,popperInstanceRef:a,contentRef:u,referenceRef:f,role:h};return n(v),rr(xb,v),(y,b)=>_t(y.$slots,"default")}});var iJ=Ht(rJ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const AT=Wt({arrowOffset:{type:Number,default:5}}),sJ={name:"ElPopperArrow",inheritAttrs:!1},oJ=yt({...sJ,props:AT,setup(e,{expose:n}){const i=e,s=bt("popper"),{arrowOffset:a,arrowRef:u}=An(ZR,void 0);return Ct(()=>i.arrowOffset,f=>{a.value=f}),vi(()=>{u.value=void 0}),n({arrowRef:u}),(f,h)=>(X(),ge("span",{ref_key:"arrowRef",ref:u,class:q(g(s).e("arrow")),"data-popper-arrow":""},null,2))}});var aJ=Ht(oJ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const lJ="ElOnlyChild",yT=yt({name:lJ,setup(e,{slots:n,attrs:i}){var s;const a=An(aT),u=Vq((s=a==null?void 0:a.setForwardRef)!=null?s:Lr);return()=>{var f;const h=(f=n.default)==null?void 0:f.call(n,i);if(!h||h.length>1)return null;const v=bT(h);return v?Qn(Ya(v,i),[[u]]):null}}});function bT(e){if(!e)return null;const n=e;for(const i of n){if(ur(i))switch(i.type){case ps:continue;case jh:case"svg":return YI(i);case vn:return bT(i.children);default:return i}return YI(i)}return null}function YI(e){const n=bt("only-child");return Me("span",{class:n.e("content")},[e])}const ST=Wt({virtualRef:{type:ot(Object)},virtualTriggering:Boolean,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,onBlur:Function,onContextmenu:Function,id:String,open:Boolean}),cJ={name:"ElPopperTrigger",inheritAttrs:!1},uJ=yt({...cJ,props:ST,setup(e,{expose:n}){const i=e,{role:s,triggerRef:a}=An(xb,void 0);Fq(a);const u=$(()=>h.value?i.id:void 0),f=$(()=>{if(s&&s.value==="tooltip")return i.open&&i.id?i.id:void 0}),h=$(()=>{if(s&&s.value!=="tooltip")return s.value}),v=$(()=>h.value?`${i.open}`:void 0);let y;return jn(()=>{Ct(()=>i.virtualRef,b=>{b&&(a.value=so(b))},{immediate:!0}),Ct(()=>a.value,(b,E)=>{y==null||y(),y=void 0,Za(b)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(w=>{var C;const x=i[w];x&&(b.addEventListener(w.slice(2).toLowerCase(),x),(C=E==null?void 0:E.removeEventListener)==null||C.call(E,w.slice(2).toLowerCase(),x))}),y=Ct([u,f,h,v],w=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((C,x)=>{Es(w[x])?b.removeAttribute(C):b.setAttribute(C,w[x])})},{immediate:!0})),Za(E)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(w=>E.removeAttribute(w))},{immediate:!0})}),vi(()=>{y==null||y(),y=void 0}),n({triggerRef:a}),(b,E)=>b.virtualTriggering?je("v-if",!0):(X(),nt(g(yT),nr({key:0},b.$attrs,{"aria-controls":g(u),"aria-describedby":g(f),"aria-expanded":g(v),"aria-haspopup":g(h)}),{default:Ue(()=>[_t(b.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var dJ=Ht(uJ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]),Cs="top",mo="bottom",go="right",Is="left",Db="auto",ep=[Cs,mo,go,Is],kd="start",Bh="end",fJ="clippingParents",ET="viewport",$f="popper",hJ="reference",JI=ep.reduce(function(e,n){return e.concat([n+"-"+kd,n+"-"+Bh])},[]),yu=[].concat(ep,[Db]).reduce(function(e,n){return e.concat([n,n+"-"+kd,n+"-"+Bh])},[]),pJ="beforeRead",mJ="read",gJ="afterRead",vJ="beforeMain",_J="main",AJ="afterMain",yJ="beforeWrite",bJ="write",SJ="afterWrite",EJ=[pJ,mJ,gJ,vJ,_J,AJ,yJ,bJ,SJ];function Aa(e){return e?(e.nodeName||"").toLowerCase():null}function qo(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var n=e.ownerDocument;return n&&n.defaultView||window}return e}function Ld(e){var n=qo(e).Element;return e instanceof n||e instanceof Element}function uo(e){var n=qo(e).HTMLElement;return e instanceof n||e instanceof HTMLElement}function kb(e){if(typeof ShadowRoot>"u")return!1;var n=qo(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}function wJ(e){var n=e.state;Object.keys(n.elements).forEach(function(i){var s=n.styles[i]||{},a=n.attributes[i]||{},u=n.elements[i];!uo(u)||!Aa(u)||(Object.assign(u.style,s),Object.keys(a).forEach(function(f){var h=a[f];h===!1?u.removeAttribute(f):u.setAttribute(f,h===!0?"":h)}))})}function CJ(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow),function(){Object.keys(n.elements).forEach(function(s){var a=n.elements[s],u=n.attributes[s]||{},f=Object.keys(n.styles.hasOwnProperty(s)?n.styles[s]:i[s]),h=f.reduce(function(v,y){return v[y]="",v},{});!uo(a)||!Aa(a)||(Object.assign(a.style,h),Object.keys(u).forEach(function(v){a.removeAttribute(v)}))})}}var wT={name:"applyStyles",enabled:!0,phase:"write",fn:wJ,effect:CJ,requires:["computeStyles"]};function ga(e){return e.split("-")[0]}var eu=Math.max,yg=Math.min,Od=Math.round;function Fd(e,n){n===void 0&&(n=!1);var i=e.getBoundingClientRect(),s=1,a=1;if(uo(e)&&n){var u=e.offsetHeight,f=e.offsetWidth;f>0&&(s=Od(i.width)/f||1),u>0&&(a=Od(i.height)/u||1)}return{width:i.width/s,height:i.height/a,top:i.top/a,right:i.right/s,bottom:i.bottom/a,left:i.left/s,x:i.left/s,y:i.top/a}}function Lb(e){var n=Fd(e),i=e.offsetWidth,s=e.offsetHeight;return Math.abs(n.width-i)<=1&&(i=n.width),Math.abs(n.height-s)<=1&&(s=n.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:s}}function CT(e,n){var i=n.getRootNode&&n.getRootNode();if(e.contains(n))return!0;if(i&&kb(i)){var s=n;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function tl(e){return qo(e).getComputedStyle(e)}function IJ(e){return["table","td","th"].indexOf(Aa(e))>=0}function oc(e){return((Ld(e)?e.ownerDocument:e.document)||window.document).documentElement}function dv(e){return Aa(e)==="html"?e:e.assignedSlot||e.parentNode||(kb(e)?e.host:null)||oc(e)}function ZI(e){return!uo(e)||tl(e).position==="fixed"?null:e.offsetParent}function MJ(e){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&uo(e)){var s=tl(e);if(s.position==="fixed")return null}var a=dv(e);for(kb(a)&&(a=a.host);uo(a)&&["html","body"].indexOf(Aa(a))<0;){var u=tl(a);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||n&&u.willChange==="filter"||n&&u.filter&&u.filter!=="none")return a;a=a.parentNode}return null}function tp(e){for(var n=qo(e),i=ZI(e);i&&IJ(i)&&tl(i).position==="static";)i=ZI(i);return i&&(Aa(i)==="html"||Aa(i)==="body"&&tl(i).position==="static")?n:i||MJ(e)||n}function Ob(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function dh(e,n,i){return eu(e,yg(n,i))}function xJ(e,n,i){var s=dh(e,n,i);return s>i?i:s}function IT(){return{top:0,right:0,bottom:0,left:0}}function MT(e){return Object.assign({},IT(),e)}function xT(e,n){return n.reduce(function(i,s){return i[s]=e,i},{})}var RJ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,MT(typeof e!="number"?e:xT(e,ep))};function TJ(e){var n,i=e.state,s=e.name,a=e.options,u=i.elements.arrow,f=i.modifiersData.popperOffsets,h=ga(i.placement),v=Ob(h),y=[Is,go].indexOf(h)>=0,b=y?"height":"width";if(!(!u||!f)){var E=RJ(a.padding,i),w=Lb(u),C=v==="y"?Cs:Is,x=v==="y"?mo:go,M=i.rects.reference[b]+i.rects.reference[v]-f[v]-i.rects.popper[b],T=f[v]-i.rects.reference[v],P=tp(u),F=P?v==="y"?P.clientHeight||0:P.clientWidth||0:0,B=M/2-T/2,G=E[C],Q=F-w[b]-E[x],H=F/2-w[b]/2+B,J=dh(G,H,Q),te=v;i.modifiersData[s]=(n={},n[te]=J,n.centerOffset=J-H,n)}}function NJ(e){var n=e.state,i=e.options,s=i.element,a=s===void 0?"[data-popper-arrow]":s;a!=null&&(typeof a=="string"&&(a=n.elements.popper.querySelector(a),!a)||!CT(n.elements.popper,a)||(n.elements.arrow=a))}var PJ={name:"arrow",enabled:!0,phase:"main",fn:TJ,effect:NJ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vd(e){return e.split("-")[1]}var BJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function DJ(e){var n=e.x,i=e.y,s=window,a=s.devicePixelRatio||1;return{x:Od(n*a)/a||0,y:Od(i*a)/a||0}}function e2(e){var n,i=e.popper,s=e.popperRect,a=e.placement,u=e.variation,f=e.offsets,h=e.position,v=e.gpuAcceleration,y=e.adaptive,b=e.roundOffsets,E=e.isFixed,w=f.x,C=w===void 0?0:w,x=f.y,M=x===void 0?0:x,T=typeof b=="function"?b({x:C,y:M}):{x:C,y:M};C=T.x,M=T.y;var P=f.hasOwnProperty("x"),F=f.hasOwnProperty("y"),B=Is,G=Cs,Q=window;if(y){var H=tp(i),J="clientHeight",te="clientWidth";if(H===qo(i)&&(H=oc(i),tl(H).position!=="static"&&h==="absolute"&&(J="scrollHeight",te="scrollWidth")),H=H,a===Cs||(a===Is||a===go)&&u===Bh){G=mo;var ie=E&&H===Q&&Q.visualViewport?Q.visualViewport.height:H[J];M-=ie-s.height,M*=v?1:-1}if(a===Is||(a===Cs||a===mo)&&u===Bh){B=go;var ue=E&&H===Q&&Q.visualViewport?Q.visualViewport.width:H[te];C-=ue-s.width,C*=v?1:-1}}var be=Object.assign({position:h},y&&BJ),me=b===!0?DJ({x:C,y:M}):{x:C,y:M};if(C=me.x,M=me.y,v){var de;return Object.assign({},be,(de={},de[G]=F?"0":"",de[B]=P?"0":"",de.transform=(Q.devicePixelRatio||1)<=1?"translate("+C+"px, "+M+"px)":"translate3d("+C+"px, "+M+"px, 0)",de))}return Object.assign({},be,(n={},n[G]=F?M+"px":"",n[B]=P?C+"px":"",n.transform="",n))}function kJ(e){var n=e.state,i=e.options,s=i.gpuAcceleration,a=s===void 0?!0:s,u=i.adaptive,f=u===void 0?!0:u,h=i.roundOffsets,v=h===void 0?!0:h,y={placement:ga(n.placement),variation:Vd(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:a,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,e2(Object.assign({},y,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:f,roundOffsets:v})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,e2(Object.assign({},y,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:v})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var RT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:kJ,data:{}},_m={passive:!0};function LJ(e){var n=e.state,i=e.instance,s=e.options,a=s.scroll,u=a===void 0?!0:a,f=s.resize,h=f===void 0?!0:f,v=qo(n.elements.popper),y=[].concat(n.scrollParents.reference,n.scrollParents.popper);return u&&y.forEach(function(b){b.addEventListener("scroll",i.update,_m)}),h&&v.addEventListener("resize",i.update,_m),function(){u&&y.forEach(function(b){b.removeEventListener("scroll",i.update,_m)}),h&&v.removeEventListener("resize",i.update,_m)}}var TT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:LJ,data:{}},OJ={left:"right",right:"left",bottom:"top",top:"bottom"};function Lm(e){return e.replace(/left|right|bottom|top/g,function(n){return OJ[n]})}var FJ={start:"end",end:"start"};function t2(e){return e.replace(/start|end/g,function(n){return FJ[n]})}function Fb(e){var n=qo(e),i=n.pageXOffset,s=n.pageYOffset;return{scrollLeft:i,scrollTop:s}}function Vb(e){return Fd(oc(e)).left+Fb(e).scrollLeft}function VJ(e){var n=qo(e),i=oc(e),s=n.visualViewport,a=i.clientWidth,u=i.clientHeight,f=0,h=0;return s&&(a=s.width,u=s.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(f=s.offsetLeft,h=s.offsetTop)),{width:a,height:u,x:f+Vb(e),y:h}}function GJ(e){var n,i=oc(e),s=Fb(e),a=(n=e.ownerDocument)==null?void 0:n.body,u=eu(i.scrollWidth,i.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),f=eu(i.scrollHeight,i.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),h=-s.scrollLeft+Vb(e),v=-s.scrollTop;return tl(a||i).direction==="rtl"&&(h+=eu(i.clientWidth,a?a.clientWidth:0)-u),{width:u,height:f,x:h,y:v}}function Gb(e){var n=tl(e),i=n.overflow,s=n.overflowX,a=n.overflowY;return/auto|scroll|overlay|hidden/.test(i+a+s)}function NT(e){return["html","body","#document"].indexOf(Aa(e))>=0?e.ownerDocument.body:uo(e)&&Gb(e)?e:NT(dv(e))}function fh(e,n){var i;n===void 0&&(n=[]);var s=NT(e),a=s===((i=e.ownerDocument)==null?void 0:i.body),u=qo(s),f=a?[u].concat(u.visualViewport||[],Gb(s)?s:[]):s,h=n.concat(f);return a?h:h.concat(fh(dv(f)))}function O0(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function UJ(e){var n=Fd(e);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function n2(e,n){return n===ET?O0(VJ(e)):Ld(n)?UJ(n):O0(GJ(oc(e)))}function HJ(e){var n=fh(dv(e)),i=["absolute","fixed"].indexOf(tl(e).position)>=0,s=i&&uo(e)?tp(e):e;return Ld(s)?n.filter(function(a){return Ld(a)&&CT(a,s)&&Aa(a)!=="body"}):[]}function QJ(e,n,i){var s=n==="clippingParents"?HJ(e):[].concat(n),a=[].concat(s,[i]),u=a[0],f=a.reduce(function(h,v){var y=n2(e,v);return h.top=eu(y.top,h.top),h.right=yg(y.right,h.right),h.bottom=yg(y.bottom,h.bottom),h.left=eu(y.left,h.left),h},n2(e,u));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function PT(e){var n=e.reference,i=e.element,s=e.placement,a=s?ga(s):null,u=s?Vd(s):null,f=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,v;switch(a){case Cs:v={x:f,y:n.y-i.height};break;case mo:v={x:f,y:n.y+n.height};break;case go:v={x:n.x+n.width,y:h};break;case Is:v={x:n.x-i.width,y:h};break;default:v={x:n.x,y:n.y}}var y=a?Ob(a):null;if(y!=null){var b=y==="y"?"height":"width";switch(u){case kd:v[y]=v[y]-(n[b]/2-i[b]/2);break;case Bh:v[y]=v[y]+(n[b]/2-i[b]/2);break}}return v}function Dh(e,n){n===void 0&&(n={});var i=n,s=i.placement,a=s===void 0?e.placement:s,u=i.boundary,f=u===void 0?fJ:u,h=i.rootBoundary,v=h===void 0?ET:h,y=i.elementContext,b=y===void 0?$f:y,E=i.altBoundary,w=E===void 0?!1:E,C=i.padding,x=C===void 0?0:C,M=MT(typeof x!="number"?x:xT(x,ep)),T=b===$f?hJ:$f,P=e.rects.popper,F=e.elements[w?T:b],B=QJ(Ld(F)?F:F.contextElement||oc(e.elements.popper),f,v),G=Fd(e.elements.reference),Q=PT({reference:G,element:P,strategy:"absolute",placement:a}),H=O0(Object.assign({},P,Q)),J=b===$f?H:G,te={top:B.top-J.top+M.top,bottom:J.bottom-B.bottom+M.bottom,left:B.left-J.left+M.left,right:J.right-B.right+M.right},ie=e.modifiersData.offset;if(b===$f&&ie){var ue=ie[a];Object.keys(te).forEach(function(be){var me=[go,mo].indexOf(be)>=0?1:-1,de=[Cs,mo].indexOf(be)>=0?"y":"x";te[be]+=ue[de]*me})}return te}function XJ(e,n){n===void 0&&(n={});var i=n,s=i.placement,a=i.boundary,u=i.rootBoundary,f=i.padding,h=i.flipVariations,v=i.allowedAutoPlacements,y=v===void 0?yu:v,b=Vd(s),E=b?h?JI:JI.filter(function(x){return Vd(x)===b}):ep,w=E.filter(function(x){return y.indexOf(x)>=0});w.length===0&&(w=E);var C=w.reduce(function(x,M){return x[M]=Dh(e,{placement:M,boundary:a,rootBoundary:u,padding:f})[ga(M)],x},{});return Object.keys(C).sort(function(x,M){return C[x]-C[M]})}function zJ(e){if(ga(e)===Db)return[];var n=Lm(e);return[t2(e),n,t2(n)]}function $J(e){var n=e.state,i=e.options,s=e.name;if(!n.modifiersData[s]._skip){for(var a=i.mainAxis,u=a===void 0?!0:a,f=i.altAxis,h=f===void 0?!0:f,v=i.fallbackPlacements,y=i.padding,b=i.boundary,E=i.rootBoundary,w=i.altBoundary,C=i.flipVariations,x=C===void 0?!0:C,M=i.allowedAutoPlacements,T=n.options.placement,P=ga(T),F=P===T,B=v||(F||!x?[Lm(T)]:zJ(T)),G=[T].concat(B).reduce(function(ft,St){return ft.concat(ga(St)===Db?XJ(n,{placement:St,boundary:b,rootBoundary:E,padding:y,flipVariations:x,allowedAutoPlacements:M}):St)},[]),Q=n.rects.reference,H=n.rects.popper,J=new Map,te=!0,ie=G[0],ue=0;ue<G.length;ue++){var be=G[ue],me=ga(be),de=Vd(be)===kd,ye=[Cs,mo].indexOf(me)>=0,ve=ye?"width":"height",Ee=Dh(n,{placement:be,boundary:b,rootBoundary:E,altBoundary:w,padding:y}),fe=ye?de?go:Is:de?mo:Cs;Q[ve]>H[ve]&&(fe=Lm(fe));var _e=Lm(fe),oe=[];if(u&&oe.push(Ee[me]<=0),h&&oe.push(Ee[fe]<=0,Ee[_e]<=0),oe.every(function(ft){return ft})){ie=be,te=!1;break}J.set(be,oe)}if(te)for(var Te=x?3:1,Le=function(ft){var St=G.find(function(Pt){var At=J.get(Pt);if(At)return At.slice(0,ft).every(function(Ve){return Ve})});if(St)return ie=St,"break"},xe=Te;xe>0;xe--){var Fe=Le(xe);if(Fe==="break")break}n.placement!==ie&&(n.modifiersData[s]._skip=!0,n.placement=ie,n.reset=!0)}}var WJ={name:"flip",enabled:!0,phase:"main",fn:$J,requiresIfExists:["offset"],data:{_skip:!1}};function r2(e,n,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-n.height-i.y,right:e.right-n.width+i.x,bottom:e.bottom-n.height+i.y,left:e.left-n.width-i.x}}function i2(e){return[Cs,go,mo,Is].some(function(n){return e[n]>=0})}function KJ(e){var n=e.state,i=e.name,s=n.rects.reference,a=n.rects.popper,u=n.modifiersData.preventOverflow,f=Dh(n,{elementContext:"reference"}),h=Dh(n,{altBoundary:!0}),v=r2(f,s),y=r2(h,a,u),b=i2(v),E=i2(y);n.modifiersData[i]={referenceClippingOffsets:v,popperEscapeOffsets:y,isReferenceHidden:b,hasPopperEscaped:E},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":b,"data-popper-escaped":E})}var jJ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:KJ};function qJ(e,n,i){var s=ga(e),a=[Is,Cs].indexOf(s)>=0?-1:1,u=typeof i=="function"?i(Object.assign({},n,{placement:e})):i,f=u[0],h=u[1];return f=f||0,h=(h||0)*a,[Is,go].indexOf(s)>=0?{x:h,y:f}:{x:f,y:h}}function YJ(e){var n=e.state,i=e.options,s=e.name,a=i.offset,u=a===void 0?[0,0]:a,f=yu.reduce(function(b,E){return b[E]=qJ(E,n.rects,u),b},{}),h=f[n.placement],v=h.x,y=h.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=v,n.modifiersData.popperOffsets.y+=y),n.modifiersData[s]=f}var JJ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:YJ};function ZJ(e){var n=e.state,i=e.name;n.modifiersData[i]=PT({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var BT={name:"popperOffsets",enabled:!0,phase:"read",fn:ZJ,data:{}};function eZ(e){return e==="x"?"y":"x"}function tZ(e){var n=e.state,i=e.options,s=e.name,a=i.mainAxis,u=a===void 0?!0:a,f=i.altAxis,h=f===void 0?!1:f,v=i.boundary,y=i.rootBoundary,b=i.altBoundary,E=i.padding,w=i.tether,C=w===void 0?!0:w,x=i.tetherOffset,M=x===void 0?0:x,T=Dh(n,{boundary:v,rootBoundary:y,padding:E,altBoundary:b}),P=ga(n.placement),F=Vd(n.placement),B=!F,G=Ob(P),Q=eZ(G),H=n.modifiersData.popperOffsets,J=n.rects.reference,te=n.rects.popper,ie=typeof M=="function"?M(Object.assign({},n.rects,{placement:n.placement})):M,ue=typeof ie=="number"?{mainAxis:ie,altAxis:ie}:Object.assign({mainAxis:0,altAxis:0},ie),be=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,me={x:0,y:0};if(H){if(u){var de,ye=G==="y"?Cs:Is,ve=G==="y"?mo:go,Ee=G==="y"?"height":"width",fe=H[G],_e=fe+T[ye],oe=fe-T[ve],Te=C?-te[Ee]/2:0,Le=F===kd?J[Ee]:te[Ee],xe=F===kd?-te[Ee]:-J[Ee],Fe=n.elements.arrow,ft=C&&Fe?Lb(Fe):{width:0,height:0},St=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:IT(),Pt=St[ye],At=St[ve],Ve=dh(0,J[Ee],ft[Ee]),at=B?J[Ee]/2-Te-Ve-Pt-ue.mainAxis:Le-Ve-Pt-ue.mainAxis,pt=B?-J[Ee]/2+Te+Ve+At+ue.mainAxis:xe+Ve+At+ue.mainAxis,nn=n.elements.arrow&&tp(n.elements.arrow),_n=nn?G==="y"?nn.clientTop||0:nn.clientLeft||0:0,Be=(de=be==null?void 0:be[G])!=null?de:0,ze=fe+at-Be-_n,vt=fe+pt-Be,Lt=dh(C?yg(_e,ze):_e,fe,C?eu(oe,vt):oe);H[G]=Lt,me[G]=Lt-fe}if(h){var et,xt=G==="x"?Cs:Is,qe=G==="x"?mo:go,rt=H[Q],mt=Q==="y"?"height":"width",Et=rt+T[xt],rn=rt-T[qe],it=[Cs,Is].indexOf(P)!==-1,Xt=(et=be==null?void 0:be[Q])!=null?et:0,In=it?Et:rt-J[mt]-te[mt]-Xt+ue.altAxis,Mn=it?rt+J[mt]+te[mt]-Xt-ue.altAxis:rn,Ke=C&&it?xJ(In,rt,Mn):dh(C?In:Et,rt,C?Mn:rn);H[Q]=Ke,me[Q]=Ke-rt}n.modifiersData[s]=me}}var nZ={name:"preventOverflow",enabled:!0,phase:"main",fn:tZ,requiresIfExists:["offset"]};function rZ(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function iZ(e){return e===qo(e)||!uo(e)?Fb(e):rZ(e)}function sZ(e){var n=e.getBoundingClientRect(),i=Od(n.width)/e.offsetWidth||1,s=Od(n.height)/e.offsetHeight||1;return i!==1||s!==1}function oZ(e,n,i){i===void 0&&(i=!1);var s=uo(n),a=uo(n)&&sZ(n),u=oc(n),f=Fd(e,a),h={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(s||!s&&!i)&&((Aa(n)!=="body"||Gb(u))&&(h=iZ(n)),uo(n)?(v=Fd(n,!0),v.x+=n.clientLeft,v.y+=n.clientTop):u&&(v.x=Vb(u))),{x:f.left+h.scrollLeft-v.x,y:f.top+h.scrollTop-v.y,width:f.width,height:f.height}}function aZ(e){var n=new Map,i=new Set,s=[];e.forEach(function(u){n.set(u.name,u)});function a(u){i.add(u.name);var f=[].concat(u.requires||[],u.requiresIfExists||[]);f.forEach(function(h){if(!i.has(h)){var v=n.get(h);v&&a(v)}}),s.push(u)}return e.forEach(function(u){i.has(u.name)||a(u)}),s}function lZ(e){var n=aZ(e);return EJ.reduce(function(i,s){return i.concat(n.filter(function(a){return a.phase===s}))},[])}function cZ(e){var n;return function(){return n||(n=new Promise(function(i){Promise.resolve().then(function(){n=void 0,i(e())})})),n}}function uZ(e){var n=e.reduce(function(i,s){var a=i[s.name];return i[s.name]=a?Object.assign({},a,s,{options:Object.assign({},a.options,s.options),data:Object.assign({},a.data,s.data)}):s,i},{});return Object.keys(n).map(function(i){return n[i]})}var s2={placement:"bottom",modifiers:[],strategy:"absolute"};function o2(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return!n.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Ub(e){e===void 0&&(e={});var n=e,i=n.defaultModifiers,s=i===void 0?[]:i,a=n.defaultOptions,u=a===void 0?s2:a;return function(f,h,v){v===void 0&&(v=u);var y={placement:"bottom",orderedModifiers:[],options:Object.assign({},s2,u),modifiersData:{},elements:{reference:f,popper:h},attributes:{},styles:{}},b=[],E=!1,w={state:y,setOptions:function(M){var T=typeof M=="function"?M(y.options):M;x(),y.options=Object.assign({},u,y.options,T),y.scrollParents={reference:Ld(f)?fh(f):f.contextElement?fh(f.contextElement):[],popper:fh(h)};var P=lZ(uZ([].concat(s,y.options.modifiers)));return y.orderedModifiers=P.filter(function(F){return F.enabled}),C(),w.update()},forceUpdate:function(){if(!E){var M=y.elements,T=M.reference,P=M.popper;if(o2(T,P)){y.rects={reference:oZ(T,tp(P),y.options.strategy==="fixed"),popper:Lb(P)},y.reset=!1,y.placement=y.options.placement,y.orderedModifiers.forEach(function(te){return y.modifiersData[te.name]=Object.assign({},te.data)});for(var F=0;F<y.orderedModifiers.length;F++){if(y.reset===!0){y.reset=!1,F=-1;continue}var B=y.orderedModifiers[F],G=B.fn,Q=B.options,H=Q===void 0?{}:Q,J=B.name;typeof G=="function"&&(y=G({state:y,options:H,name:J,instance:w})||y)}}}},update:cZ(function(){return new Promise(function(M){w.forceUpdate(),M(y)})}),destroy:function(){x(),E=!0}};if(!o2(f,h))return w;w.setOptions(v).then(function(M){!E&&v.onFirstUpdate&&v.onFirstUpdate(M)});function C(){y.orderedModifiers.forEach(function(M){var T=M.name,P=M.options,F=P===void 0?{}:P,B=M.effect;if(typeof B=="function"){var G=B({state:y,name:T,instance:w,options:F}),Q=function(){};b.push(G||Q)}})}function x(){b.forEach(function(M){return M()}),b=[]}return w}}Ub();var dZ=[TT,BT,RT,wT];Ub({defaultModifiers:dZ});var fZ=[TT,BT,RT,wT,JJ,WJ,nZ,PJ,jJ],DT=Ub({defaultModifiers:fZ});const kT=e=>{const n=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0||s===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)n.push(i.currentNode);return n},a2=(e,n)=>{for(const i of e)if(!hZ(i,n))return i},hZ=(e,n)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},pZ=e=>{const n=kT(e),i=a2(n,e),s=a2(n.reverse(),e);return[i,s]},mZ=e=>e instanceof HTMLInputElement&&"select"in e,kl=(e,n)=>{if(e&&e.focus){const i=document.activeElement;e.focus({preventScroll:!0}),e!==i&&mZ(e)&&n&&e.select()}};function l2(e,n){const i=[...e],s=e.indexOf(n);return s!==-1&&i.splice(s,1),i}const gZ=()=>{let e=[];return{push:s=>{const a=e[0];a&&s!==a&&a.pause(),e=l2(e,s),e.unshift(s)},remove:s=>{var a,u;e=l2(e,s),(u=(a=e[0])==null?void 0:a.resume)==null||u.call(a)}}},vZ=(e,n=!1)=>{const i=document.activeElement;for(const s of e)if(kl(s,n),document.activeElement!==i)return},c2=gZ(),UA="focus-trap.focus-after-trapped",HA="focus-trap.focus-after-released",u2={cancelable:!0,bubbles:!1},d2="focusAfterTrapped",f2="focusAfterReleased",Hb=Symbol("elFocusTrap"),_Z=yt({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[d2,f2,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:n}){const i=se();let s,a;Pq(C=>{e.trapped&&!u.paused&&n("release-requested",C)});const u={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},f=C=>{if(!e.loop&&!e.trapped||u.paused)return;const{key:x,altKey:M,ctrlKey:T,metaKey:P,currentTarget:F,shiftKey:B}=C,{loop:G}=e,Q=x===bn.tab&&!M&&!T&&!P,H=document.activeElement;if(Q&&H){const J=F,[te,ie]=pZ(J);te&&ie?!B&&H===ie?(C.preventDefault(),G&&kl(te,!0),n("focusout-prevented")):B&&[te,J].includes(H)&&(C.preventDefault(),G&&kl(ie,!0),n("focusout-prevented")):H===J&&(C.preventDefault(),n("focusout-prevented"))}};rr(Hb,{focusTrapRef:i,onKeydown:f}),Ct(()=>e.focusTrapEl,C=>{C&&(i.value=C)},{immediate:!0}),Ct([i],([C],[x])=>{C&&(C.addEventListener("keydown",f),C.addEventListener("focusin",y),C.addEventListener("focusout",b)),x&&(x.removeEventListener("keydown",f),x.removeEventListener("focusin",y),x.removeEventListener("focusout",b))});const h=C=>{n(d2,C)},v=C=>n(f2,C),y=C=>{const x=g(i);if(!x)return;const M=C.target,T=M&&x.contains(M);T&&n("focusin",C),!u.paused&&e.trapped&&(T?a=M:kl(a,!0))},b=C=>{const x=g(i);if(!(u.paused||!x))if(e.trapped){const M=C.relatedTarget;!Es(M)&&!x.contains(M)&&setTimeout(()=>{!u.paused&&e.trapped&&kl(a,!0)},0)}else{const M=C.target;M&&x.contains(M)||n("focusout",C)}};async function E(){await dn();const C=g(i);if(C){c2.push(u);const x=document.activeElement;if(s=x,!C.contains(x)){const T=new Event(UA,u2);C.addEventListener(UA,h),C.dispatchEvent(T),T.defaultPrevented||dn(()=>{let P=e.focusStartEl;Gn(P)||(kl(P),document.activeElement!==P&&(P="first")),P==="first"&&vZ(kT(C),!0),(document.activeElement===x||P==="container")&&kl(C)})}}}function w(){const C=g(i);if(C){C.removeEventListener(UA,h);const x=new Event(HA,u2);C.addEventListener(HA,v),C.dispatchEvent(x),x.defaultPrevented||kl(s!=null?s:document.body,!0),C.removeEventListener(HA,h),c2.remove(u)}}return jn(()=>{e.trapped&&E(),Ct(()=>e.trapped,C=>{C?E():w()})}),vi(()=>{e.trapped&&w()}),{onKeydown:f}}});function AZ(e,n,i,s,a,u){return _t(e.$slots,"default",{handleKeydown:e.onKeydown})}var fv=Ht(_Z,[["render",AZ],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const yZ=["fixed","absolute"],bZ=Wt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:ot(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:yu,default:"bottom"},popperOptions:{type:ot(Object),default:()=>({})},strategy:{type:String,values:yZ,default:"absolute"}}),LT=Wt({...bZ,id:String,style:{type:ot([String,Array,Object])},className:{type:ot([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:ot([String,Array,Object])},popperStyle:{type:ot([String,Array,Object])},referenceEl:{type:ot(Object)},triggerTargetEl:{type:ot(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),SZ=["mouseenter","mouseleave","focus","blur","close"],h2=(e,n)=>{const{placement:i,strategy:s,popperOptions:a}=e,u={placement:i,strategy:s,...a,modifiers:wZ(e)};return CZ(u,n),IZ(u,a==null?void 0:a.modifiers),u},EZ=e=>{if(!!dr)return so(e)};function wZ(e){const{offset:n,gpuAcceleration:i,fallbackPlacements:s}=e;return[{name:"offset",options:{offset:[0,n!=null?n:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:s}},{name:"computeStyles",options:{gpuAcceleration:i,adaptive:i}}]}function CZ(e,{arrowEl:n,arrowOffset:i}){e.modifiers.push({name:"arrow",options:{element:n,padding:i!=null?i:5}})}function IZ(e,n){n&&(e.modifiers=[...e.modifiers,...n!=null?n:[]])}const MZ={name:"ElPopperContent"},xZ=yt({...MZ,props:LT,emits:SZ,setup(e,{expose:n,emit:i}){const s=e,{popperInstanceRef:a,contentRef:u,triggerRef:f,role:h}=An(xb,void 0),v=An(va,void 0),{nextZIndex:y}=al(),b=bt("popper"),E=se(),w=se("first"),C=se(),x=se();rr(ZR,{arrowRef:C,arrowOffset:x}),v&&(v.addInputId||v.removeInputId)&&rr(va,{...v,addInputId:Lr,removeInputId:Lr});const M=se(s.zIndex||y()),T=se(!1);let P;const F=$(()=>EZ(s.referenceEl)||g(f)),B=$(()=>[{zIndex:g(M)},s.popperStyle]),G=$(()=>[b.b(),b.is("pure",s.pure),b.is(s.effect),s.popperClass]),Q=$(()=>h&&h.value==="dialog"?"false":void 0),H=({referenceEl:ye,popperContentEl:ve,arrowEl:Ee})=>{const fe=h2(s,{arrowEl:Ee,arrowOffset:g(x)});return DT(ye,ve,fe)},J=(ye=!0)=>{var ve;(ve=g(a))==null||ve.update(),ye&&(M.value=s.zIndex||y())},te=()=>{var ye,ve;const Ee={name:"eventListeners",enabled:s.visible};(ve=(ye=g(a))==null?void 0:ye.setOptions)==null||ve.call(ye,fe=>({...fe,modifiers:[...fe.modifiers||[],Ee]})),J(!1),s.visible&&s.focusOnShow?T.value=!0:s.visible===!1&&(T.value=!1)},ie=()=>{i("focus")},ue=()=>{w.value="first",i("blur")},be=ye=>{var ve;s.visible&&!T.value&&(ye.target&&(w.value=ye.target),T.value=!0,ye.relatedTarget&&((ve=ye.relatedTarget)==null||ve.focus()))},me=()=>{s.trapping||(T.value=!1)},de=()=>{T.value=!1,i("close")};return jn(()=>{let ye;Ct(F,ve=>{var Ee;ye==null||ye();const fe=g(a);if((Ee=fe==null?void 0:fe.destroy)==null||Ee.call(fe),ve){const _e=g(E);u.value=_e,a.value=H({referenceEl:ve,popperContentEl:_e,arrowEl:g(C)}),ye=Ct(()=>ve.getBoundingClientRect(),()=>J(),{immediate:!0})}else a.value=void 0},{immediate:!0}),Ct(()=>s.triggerTargetEl,(ve,Ee)=>{P==null||P(),P=void 0;const fe=g(ve||E.value),_e=g(Ee||E.value);if(Za(fe)){const{ariaLabel:oe,id:Te}=Ci(s);P=Ct([h,oe,Q,Te],Le=>{["role","aria-label","aria-modal","id"].forEach((xe,Fe)=>{Es(Le[Fe])?fe.removeAttribute(xe):fe.setAttribute(xe,Le[Fe])})},{immediate:!0})}_e!==fe&&Za(_e)&&["role","aria-label","aria-modal","id"].forEach(oe=>{_e.removeAttribute(oe)})},{immediate:!0}),Ct(()=>s.visible,te,{immediate:!0}),Ct(()=>h2(s,{arrowEl:g(C),arrowOffset:g(x)}),ve=>{var Ee;return(Ee=a.value)==null?void 0:Ee.setOptions(ve)})}),vi(()=>{P==null||P(),P=void 0}),n({popperContentRef:E,popperInstanceRef:a,updatePopper:J,contentStyle:B}),(ye,ve)=>(X(),ge("div",{ref_key:"popperContentRef",ref:E,style:pn(g(B)),class:q(g(G)),tabindex:"-1",onMouseenter:ve[0]||(ve[0]=Ee=>ye.$emit("mouseenter",Ee)),onMouseleave:ve[1]||(ve[1]=Ee=>ye.$emit("mouseleave",Ee))},[Me(g(fv),{trapped:T.value,"trap-on-focus-in":!0,"focus-trap-el":E.value,"focus-start-el":w.value,onFocusAfterTrapped:ie,onFocusAfterReleased:ue,onFocusin:be,onFocusoutPrevented:me,onReleaseRequested:de},{default:Ue(()=>[_t(ye.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el"])],38))}});var RZ=Ht(xZ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const OT=Yn(iJ),TZ=bt("tooltip"),Ki=Wt({...Lq,...LT,appendTo:{type:ot([String,Object]),default:oT},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:ot(Boolean),default:null},transition:{type:String,default:`${TZ.namespace.value}-fade-in-linear`},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}}),kh=Wt({...ST,disabled:Boolean,trigger:{type:ot([String,Array]),default:"hover"},triggerKeys:{type:ot(Array),default:()=>[bn.enter,bn.space]}}),NZ=Wt({openDelay:{type:Number},visibleArrow:{type:Boolean,default:void 0},hideAfter:{type:Number,default:200},showArrow:{type:Boolean,default:!0}}),hv=Symbol("elTooltip"),PZ=yt({name:"ElTooltipContent",components:{ElPopperContent:RZ},inheritAttrs:!1,props:Ki,setup(e){const n=se(null),i=se(!1),s=se(!1),a=se(!1),u=se(!1),{controlled:f,id:h,open:v,trigger:y,onClose:b,onOpen:E,onShow:w,onHide:C,onBeforeShow:x,onBeforeHide:M}=An(hv,void 0),T=$(()=>e.persistent);vi(()=>{u.value=!0});const P=$(()=>g(T)?!0:g(v)),F=$(()=>e.disabled?!1:g(v)),B=$(()=>{var ye;return(ye=e.style)!=null?ye:{}}),G=$(()=>!g(v)),Q=()=>{C()},H=()=>{if(g(f))return!0},J=li(H,()=>{e.enterable&&g(y)==="hover"&&E()}),te=li(H,()=>{g(y)==="hover"&&b()}),ie=()=>{var ye,ve;(ve=(ye=n.value)==null?void 0:ye.updatePopper)==null||ve.call(ye),x==null||x()},ue=()=>{M==null||M()},be=()=>{w(),de=Ab($(()=>{var ye;return(ye=n.value)==null?void 0:ye.popperContentRef}),()=>{if(g(f))return;g(y)!=="hover"&&b()})},me=()=>{e.virtualTriggering||b()};let de;return Ct(()=>g(v),ye=>{ye||de==null||de()},{flush:"post"}),{ariaHidden:G,entering:s,leaving:a,id:h,intermediateOpen:i,contentStyle:B,contentRef:n,destroyed:u,shouldRender:P,shouldShow:F,onClose:b,open:v,onAfterShow:be,onBeforeEnter:ie,onBeforeLeave:ue,onContentEnter:J,onContentLeave:te,onTransitionLeave:Q,onBlur:me}}});function BZ(e,n,i,s,a,u){const f=gn("el-popper-content");return X(),nt(Kh,{disabled:!e.teleported,to:e.appendTo},[Me(bi,{name:e.transition,onAfterLeave:e.onTransitionLeave,onBeforeEnter:e.onBeforeEnter,onAfterEnter:e.onAfterShow,onBeforeLeave:e.onBeforeLeave},{default:Ue(()=>[e.shouldRender?Qn((X(),nt(f,nr({key:0,id:e.id,ref:"contentRef"},e.$attrs,{"aria-label":e.ariaLabel,"aria-hidden":e.ariaHidden,"boundaries-padding":e.boundariesPadding,"fallback-placements":e.fallbackPlacements,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,placement:e.placement,"popper-options":e.popperOptions,strategy:e.strategy,effect:e.effect,enterable:e.enterable,pure:e.pure,"popper-class":e.popperClass,"popper-style":[e.popperStyle,e.contentStyle],"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,visible:e.shouldShow,"z-index":e.zIndex,onMouseenter:e.onContentEnter,onMouseleave:e.onContentLeave,onBlur:e.onBlur,onClose:e.onClose}),{default:Ue(()=>[je(" Workaround bug #6378 "),e.destroyed?je("v-if",!0):_t(e.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onBlur","onClose"])),[[_r,e.shouldShow]]):je("v-if",!0)]),_:3},8,["name","onAfterLeave","onBeforeEnter","onAfterEnter","onBeforeLeave"])],8,["disabled","to"])}var DZ=Ht(PZ,[["render",BZ],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const kZ=(e,n)=>hn(e)?e.includes(n):e===n,nd=(e,n,i)=>s=>{kZ(g(e),n)&&i(s)},LZ=yt({name:"ElTooltipTrigger",components:{ElPopperTrigger:dJ},props:kh,setup(e){const n=bt("tooltip"),{controlled:i,id:s,open:a,onOpen:u,onClose:f,onToggle:h}=An(hv,void 0),v=se(null),y=()=>{if(g(i)||e.disabled)return!0},b=ui(e,"trigger"),E=li(y,nd(b,"hover",u)),w=li(y,nd(b,"hover",f)),C=li(y,nd(b,"click",F=>{F.button===0&&h(F)})),x=li(y,nd(b,"focus",u)),M=li(y,nd(b,"focus",f)),T=li(y,nd(b,"contextmenu",F=>{F.preventDefault(),h(F)})),P=li(y,F=>{const{code:B}=F;e.triggerKeys.includes(B)&&(F.preventDefault(),h(F))});return{onBlur:M,onContextMenu:T,onFocus:x,onMouseenter:E,onMouseleave:w,onClick:C,onKeydown:P,open:a,id:s,triggerRef:v,ns:n}}});function OZ(e,n,i,s,a,u){const f=gn("el-popper-trigger");return X(),nt(f,{id:e.id,"virtual-ref":e.virtualRef,open:e.open,"virtual-triggering":e.virtualTriggering,class:q(e.ns.e("trigger")),onBlur:e.onBlur,onClick:e.onClick,onContextmenu:e.onContextMenu,onFocus:e.onFocus,onMouseenter:e.onMouseenter,onMouseleave:e.onMouseleave,onKeydown:e.onKeydown},{default:Ue(()=>[_t(e.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"])}var FZ=Ht(LZ,[["render",OZ],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const{useModelToggleProps:VZ,useModelToggle:GZ,useModelToggleEmits:UZ}=xq("visible"),HZ=yt({name:"ElTooltip",components:{ElPopper:OT,ElPopperArrow:aJ,ElTooltipContent:DZ,ElTooltipTrigger:FZ},props:{..._T,...VZ,...Ki,...kh,...AT,...NZ},emits:[...UZ,"before-show","before-hide","show","hide","open","close"],setup(e,{emit:n}){kq();const i=$(()=>(qi(e.openDelay),e.openDelay||e.showAfter)),s=$(()=>(qi(e.visibleArrow),Ti(e.visibleArrow)?e.visibleArrow:e.showArrow)),a=zo(),u=se(null),f=se(null),h=()=>{var P;const F=g(u);F&&((P=F.popperInstanceRef)==null||P.update())},v=se(!1),y=se(void 0),{show:b,hide:E,hasUpdateHandler:w}=GZ({indicator:v,toggleReason:y}),{onOpen:C,onClose:x}=Oq({showAfter:i,hideAfter:ui(e,"hideAfter"),open:b,close:E}),M=$(()=>Ti(e.visible)&&!w.value);rr(hv,{controlled:M,id:a,open:Wh(v),trigger:ui(e,"trigger"),onOpen:P=>{C(P)},onClose:P=>{x(P)},onToggle:P=>{g(v)?x(P):C(P)},onShow:()=>{n("show",y.value)},onHide:()=>{n("hide",y.value)},onBeforeShow:()=>{n("before-show",y.value)},onBeforeHide:()=>{n("before-hide",y.value)},updatePopper:h}),Ct(()=>e.disabled,P=>{P&&v.value&&(v.value=!1)});const T=()=>{var P,F;const B=(F=(P=f.value)==null?void 0:P.contentRef)==null?void 0:F.popperContentRef;return B&&B.contains(document.activeElement)};return cx(()=>v.value&&E()),{compatShowAfter:i,compatShowArrow:s,popperRef:u,contentRef:f,open:v,hide:E,isFocusInsideContent:T,updatePopper:h,onOpen:C,onClose:x}}}),QZ=["innerHTML"],XZ={key:1};function zZ(e,n,i,s,a,u){const f=gn("el-tooltip-trigger"),h=gn("el-popper-arrow"),v=gn("el-tooltip-content"),y=gn("el-popper");return X(),nt(y,{ref:"popperRef",role:e.role},{default:Ue(()=>[Me(f,{disabled:e.disabled,trigger:e.trigger,"trigger-keys":e.triggerKeys,"virtual-ref":e.virtualRef,"virtual-triggering":e.virtualTriggering},{default:Ue(()=>[e.$slots.default?_t(e.$slots,"default",{key:0}):je("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Me(v,{ref:"contentRef","aria-label":e.ariaLabel,"boundaries-padding":e.boundariesPadding,content:e.content,disabled:e.disabled,effect:e.effect,enterable:e.enterable,"fallback-placements":e.fallbackPlacements,"hide-after":e.hideAfter,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,persistent:e.persistent,"popper-class":e.popperClass,"popper-style":e.popperStyle,placement:e.placement,"popper-options":e.popperOptions,pure:e.pure,"raw-content":e.rawContent,"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,"show-after":e.compatShowAfter,strategy:e.strategy,teleported:e.teleported,transition:e.transition,"virtual-triggering":e.virtualTriggering,"z-index":e.zIndex,"append-to":e.appendTo},{default:Ue(()=>[_t(e.$slots,"content",{},()=>[e.rawContent?(X(),ge("span",{key:0,innerHTML:e.content},null,8,QZ)):(X(),ge("span",XZ,Ut(e.content),1))]),e.compatShowArrow?(X(),nt(h,{key:0,"arrow-offset":e.arrowOffset},null,8,["arrow-offset"])):je("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"])}var $Z=Ht(HZ,[["render",zZ],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const Ms=Yn($Z),WZ=Wt({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:ot(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:ot([Function,Array]),default:Lr},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:Ki.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1}}),KZ={[Zn]:e=>Gn(e),[po]:e=>Gn(e),[ii]:e=>Gn(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>ur(e)},jZ=["aria-expanded","aria-owns"],qZ={key:0},YZ=["id","aria-selected","onClick"],JZ={name:"ElAutocomplete",inheritAttrs:!1},ZZ=yt({...JZ,props:WZ,emits:KZ,setup(e,{expose:n,emit:i}){const s=e,a="ElAutocomplete",u=Mb(),f=qh(),h=ol(),v=bt("autocomplete"),y=se(),b=se(),E=se(),w=se();let C=!1,x=!1;const M=se([]),T=se(-1),P=se(""),F=se(!1),B=se(!1),G=se(!1),Q=$(()=>v.b(String(Zh()))),H=$(()=>f.style),J=$(()=>(M.value.length>0||G.value)&&F.value),te=$(()=>!s.hideLoading&&G.value),ie=$(()=>y.value?Array.from(y.value.$el.querySelectorAll("input")):[]),ue=async()=>{await dn(),J.value&&(P.value=`${y.value.$el.offsetWidth}px`)},be=()=>{x=!0},me=()=>{x=!1,T.value=-1},ye=gs(async Ve=>{if(B.value)return;const at=pt=>{G.value=!1,!B.value&&(hn(pt)?(M.value=pt,T.value=s.highlightFirstItem?0:-1):xi(a,"autocomplete suggestions must be an array"))};if(G.value=!0,hn(s.fetchSuggestions))at(s.fetchSuggestions);else{const pt=await s.fetchSuggestions(Ve,at);hn(pt)&&at(pt)}},s.debounce),ve=Ve=>{const at=!!Ve;if(i(po,Ve),i(Zn,Ve),B.value=!1,F.value||(F.value=at),!s.triggerOnFocus&&!Ve){B.value=!0,M.value=[];return}ye(Ve)},Ee=Ve=>{var at;h.value||(((at=Ve.target)==null?void 0:at.tagName)!=="INPUT"||ie.value.includes(document.activeElement))&&(F.value=!0)},fe=Ve=>{i(ii,Ve)},_e=Ve=>{x||(F.value=!0,i("focus",Ve),s.triggerOnFocus&&!C&&ye(String(s.modelValue)))},oe=Ve=>{x||i("blur",Ve)},Te=()=>{F.value=!1,i(Zn,""),i("clear")},Le=async()=>{J.value&&T.value>=0&&T.value<M.value.length?Pt(M.value[T.value]):s.selectWhenUnmatched&&(i("select",{value:s.modelValue}),M.value=[],T.value=-1)},xe=Ve=>{J.value&&(Ve.preventDefault(),Ve.stopPropagation(),Fe())},Fe=()=>{F.value=!1},ft=()=>{var Ve;(Ve=y.value)==null||Ve.focus()},St=()=>{var Ve;(Ve=y.value)==null||Ve.blur()},Pt=async Ve=>{i(po,Ve[s.valueKey]),i(Zn,Ve[s.valueKey]),i("select",Ve),M.value=[],T.value=-1},At=Ve=>{if(!J.value||G.value)return;if(Ve<0){T.value=-1;return}Ve>=M.value.length&&(Ve=M.value.length-1);const at=b.value.querySelector(`.${v.be("suggestion","wrap")}`),nn=at.querySelectorAll(`.${v.be("suggestion","list")} li`)[Ve],_n=at.scrollTop,{offsetTop:Be,scrollHeight:ze}=nn;Be+ze>_n+at.clientHeight&&(at.scrollTop+=ze),Be<_n&&(at.scrollTop-=ze),T.value=Ve,y.value.ref.setAttribute("aria-activedescendant",`${Q.value}-item-${T.value}`)};return Ab(w,()=>{J.value&&Fe()}),jn(()=>{y.value.ref.setAttribute("role","textbox"),y.value.ref.setAttribute("aria-autocomplete","list"),y.value.ref.setAttribute("aria-controls","id"),y.value.ref.setAttribute("aria-activedescendant",`${Q.value}-item-${T.value}`),C=y.value.ref.hasAttribute("readonly")}),n({highlightedIndex:T,activated:F,loading:G,inputRef:y,popperRef:E,suggestions:M,handleSelect:Pt,handleKeyEnter:Le,focus:ft,blur:St,close:Fe,highlight:At}),(Ve,at)=>(X(),nt(g(Ms),{ref_key:"popperRef",ref:E,visible:g(J),placement:Ve.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[g(v).e("popper"),Ve.popperClass],teleported:Ve.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${g(v).namespace.value}-zoom-in-top`,persistent:"",onBeforeShow:ue,onShow:be,onHide:me},{content:Ue(()=>[Ce("div",{ref_key:"regionRef",ref:b,class:q([g(v).b("suggestion"),g(v).is("loading",g(te))]),style:pn({[Ve.fitInputWidth?"width":"minWidth"]:P.value,outline:"none"}),role:"region"},[Me(g(cl),{id:g(Q),tag:"ul","wrap-class":g(v).be("suggestion","wrap"),"view-class":g(v).be("suggestion","list"),role:"listbox"},{default:Ue(()=>[g(te)?(X(),ge("li",qZ,[Me(g(fn),{class:q(g(v).is("loading"))},{default:Ue(()=>[Me(g(rc))]),_:1},8,["class"])])):(X(!0),ge(vn,{key:1},cr(M.value,(pt,nn)=>(X(),ge("li",{id:`${g(Q)}-item-${nn}`,key:nn,class:q({highlighted:T.value===nn}),role:"option","aria-selected":T.value===nn,onClick:_n=>Pt(pt)},[_t(Ve.$slots,"default",{item:pt},()=>[pr(Ut(pt[Ve.valueKey]),1)])],10,YZ))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:Ue(()=>[Ce("div",{ref_key:"listboxRef",ref:w,class:q([g(v).b(),Ve.$attrs.class]),style:pn(g(H)),role:"combobox","aria-haspopup":"listbox","aria-expanded":g(J),"aria-owns":g(Q)},[Me(g(rs),nr({ref_key:"inputRef",ref:y},g(u),{"model-value":Ve.modelValue,onInput:ve,onChange:fe,onFocus:_e,onBlur:oe,onClear:Te,onKeydown:[at[0]||(at[0]=hr(Bn(pt=>At(T.value-1),["prevent"]),["up"])),at[1]||(at[1]=hr(Bn(pt=>At(T.value+1),["prevent"]),["down"])),hr(Le,["enter"]),hr(Fe,["tab"]),hr(xe,["esc"])],onMousedown:Ee}),$l({_:2},[Ve.$slots.prepend?{name:"prepend",fn:Ue(()=>[_t(Ve.$slots,"prepend")])}:void 0,Ve.$slots.append?{name:"append",fn:Ue(()=>[_t(Ve.$slots,"append")])}:void 0,Ve.$slots.prefix?{name:"prefix",fn:Ue(()=>[_t(Ve.$slots,"prefix")])}:void 0,Ve.$slots.suffix?{name:"suffix",fn:Ue(()=>[_t(Ve.$slots,"suffix")])}:void 0]),1040,["model-value","onKeydown"])],14,jZ)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var eee=Ht(ZZ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]);const tee=Yn(eee),nee=Wt({size:{type:[Number,String],values:vu,default:"",validator:e=>$n(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:$r},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:ot(String),default:"cover"}}),ree={error:e=>e instanceof Event},iee=["src","alt","srcset"],see={name:"ElAvatar"},oee=yt({...see,props:nee,emits:ree,setup(e,{emit:n}){const i=e,s=bt("avatar"),a=se(!1),u=$(()=>{const{size:y,icon:b,shape:E}=i,w=[s.b()];return Gn(y)&&w.push(s.m(y)),b&&w.push(s.m("icon")),E&&w.push(s.m(E)),w}),f=$(()=>{const{size:y}=i;return $n(y)?s.cssVarBlock({size:Mi(y)||""}):void 0}),h=$(()=>({objectFit:i.fit}));Ct(()=>i.src,()=>a.value=!1);function v(y){a.value=!0,n("error",y)}return(y,b)=>(X(),ge("span",{class:q(g(u)),style:pn(g(f))},[(y.src||y.srcSet)&&!a.value?(X(),ge("img",{key:0,src:y.src,alt:y.alt,srcset:y.srcSet,style:pn(g(h)),onError:v},null,44,iee)):y.icon?(X(),nt(g(fn),{key:1},{default:Ue(()=>[(X(),nt(er(y.icon)))]),_:1})):_t(y.$slots,"default",{key:2})],6))}});var aee=Ht(oee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const lee=Yn(aee),cee={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},uee={click:e=>e instanceof MouseEvent},dee=["onClick"],fee={name:"ElBacktop"},hee=yt({...fee,props:cee,emits:uee,setup(e,{emit:n}){const i=e,s="ElBacktop",a=bt("backtop"),u=Wr(),f=Wr(),h=se(!1),v=$(()=>({right:`${i.right}px`,bottom:`${i.bottom}px`})),y=()=>{if(!u.value)return;const C=Date.now(),x=u.value.scrollTop,M=()=>{if(!u.value)return;const T=(Date.now()-C)/500;T<1?(u.value.scrollTop=x*(1-pq(T)),requestAnimationFrame(M)):u.value.scrollTop=0};requestAnimationFrame(M)},b=()=>{u.value&&(h.value=u.value.scrollTop>=i.visibilityHeight)},E=C=>{y(),n("click",C)},w=BR(b,300);return Kr(f,"scroll",w),jn(()=>{var C;f.value=document,u.value=document.documentElement,i.target&&(u.value=(C=document.querySelector(i.target))!=null?C:void 0,u.value||xi(s,`target is not existed: ${i.target}`),f.value=u.value)}),(C,x)=>(X(),nt(bi,{name:`${g(a).namespace.value}-fade-in`},{default:Ue(()=>[h.value?(X(),ge("div",{key:0,style:pn(g(v)),class:q(g(a).b()),onClick:Bn(E,["stop"])},[_t(C.$slots,"default",{},()=>[Me(g(fn),{class:q(g(a).e("icon"))},{default:Ue(()=>[Me(g(qU))]),_:1},8,["class"])])],14,dee)):je("v-if",!0)]),_:3},8,["name"]))}});var pee=Ht(hee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const mee=Yn(pee),gee=Wt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),vee=["textContent"],_ee={name:"ElBadge"},Aee=yt({..._ee,props:gee,setup(e,{expose:n}){const i=e,s=bt("badge"),a=$(()=>i.isDot?"":$n(i.value)&&$n(i.max)?i.max<i.value?`${i.max}+`:`${i.value}`:`${i.value}`);return n({content:a}),(u,f)=>(X(),ge("div",{class:q(g(s).b())},[_t(u.$slots,"default"),Me(bi,{name:`${g(s).namespace.value}-zoom-in-center`,persisted:""},{default:Ue(()=>[Qn(Ce("sup",{class:q([g(s).e("content"),g(s).em("content",u.type),g(s).is("fixed",!!u.$slots.default),g(s).is("dot",u.isDot)]),textContent:Ut(g(a))},null,10,vee),[[_r,!u.hidden&&(g(a)||u.isDot)]])]),_:1},8,["name"])],2))}});var yee=Ht(Aee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const FT=Yn(yee),bee=Wt({separator:{type:String,default:"/"},separatorIcon:{type:$r}}),See={name:"ElBreadcrumb"},Eee=yt({...See,props:bee,setup(e){const n=e,i=bt("breadcrumb"),s=se();return rr(UR,n),jn(()=>{const a=s.value.querySelectorAll(`.${i.e("item")}`);a.length&&a[a.length-1].setAttribute("aria-current","page")}),(a,u)=>(X(),ge("div",{ref_key:"breadcrumb",ref:s,class:q(g(i).b()),"aria-label":"Breadcrumb",role:"navigation"},[_t(a.$slots,"default")],2))}});var wee=Ht(Eee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const Cee=Wt({to:{type:ot([String,Object]),default:""},replace:{type:Boolean,default:!1}}),Iee={name:"ElBreadcrumbItem"},Mee=yt({...Iee,props:Cee,setup(e){const n=e,i=qn(),s=An(UR,void 0),a=bt("breadcrumb"),{separator:u,separatorIcon:f}=Ci(s),h=i.appContext.config.globalProperties.$router,v=se(),y=()=>{!n.to||!h||(n.replace?h.replace(n.to):h.push(n.to))};return(b,E)=>(X(),ge("span",{class:q(g(a).e("item"))},[Ce("span",{ref_key:"link",ref:v,class:q([g(a).e("inner"),g(a).is("link",!!b.to)]),role:"link",onClick:y},[_t(b.$slots,"default")],2),g(f)?(X(),nt(g(fn),{key:0,class:q(g(a).e("separator"))},{default:Ue(()=>[(X(),nt(er(g(f))))]),_:1},8,["class"])):(X(),ge("span",{key:1,class:q(g(a).e("separator")),role:"presentation"},Ut(g(u)),3))],2))}});var VT=Ht(Mee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const xee=Yn(wee,{BreadcrumbItem:VT}),Ree=di(VT),F0=["default","primary","success","warning","info","danger","text",""],Tee=["button","submit","reset"],V0=Wt({size:Ws,disabled:Boolean,type:{type:String,values:F0,default:""},icon:{type:$r},nativeType:{type:String,values:Tee,default:"button"},loading:Boolean,loadingIcon:{type:$r,default:()=>rc},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0}}),Nee={click:e=>e instanceof MouseEvent};function Ji(e,n){Pee(e)&&(e="100%");var i=Bee(e);return e=n===360?e:Math.min(n,Math.max(0,parseFloat(e))),i&&(e=parseInt(String(e*n),10)/100),Math.abs(e-n)<1e-6?1:(n===360?e=(e<0?e%n+n:e%n)/parseFloat(String(n)):e=e%n/parseFloat(String(n)),e)}function Am(e){return Math.min(1,Math.max(0,e))}function Pee(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function Bee(e){return typeof e=="string"&&e.indexOf("%")!==-1}function GT(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function ym(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Xc(e){return e.length===1?"0"+e:String(e)}function Dee(e,n,i){return{r:Ji(e,255)*255,g:Ji(n,255)*255,b:Ji(i,255)*255}}function p2(e,n,i){e=Ji(e,255),n=Ji(n,255),i=Ji(i,255);var s=Math.max(e,n,i),a=Math.min(e,n,i),u=0,f=0,h=(s+a)/2;if(s===a)f=0,u=0;else{var v=s-a;switch(f=h>.5?v/(2-s-a):v/(s+a),s){case e:u=(n-i)/v+(n<i?6:0);break;case n:u=(i-e)/v+2;break;case i:u=(e-n)/v+4;break}u/=6}return{h:u,s:f,l:h}}function QA(e,n,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(n-e)*(6*i):i<1/2?n:i<2/3?e+(n-e)*(2/3-i)*6:e}function kee(e,n,i){var s,a,u;if(e=Ji(e,360),n=Ji(n,100),i=Ji(i,100),n===0)a=i,u=i,s=i;else{var f=i<.5?i*(1+n):i+n-i*n,h=2*i-f;s=QA(h,f,e+1/3),a=QA(h,f,e),u=QA(h,f,e-1/3)}return{r:s*255,g:a*255,b:u*255}}function m2(e,n,i){e=Ji(e,255),n=Ji(n,255),i=Ji(i,255);var s=Math.max(e,n,i),a=Math.min(e,n,i),u=0,f=s,h=s-a,v=s===0?0:h/s;if(s===a)u=0;else{switch(s){case e:u=(n-i)/h+(n<i?6:0);break;case n:u=(i-e)/h+2;break;case i:u=(e-n)/h+4;break}u/=6}return{h:u,s:v,v:f}}function Lee(e,n,i){e=Ji(e,360)*6,n=Ji(n,100),i=Ji(i,100);var s=Math.floor(e),a=e-s,u=i*(1-n),f=i*(1-a*n),h=i*(1-(1-a)*n),v=s%6,y=[i,f,u,u,h,i][v],b=[h,i,i,f,u,u][v],E=[u,u,h,i,i,f][v];return{r:y*255,g:b*255,b:E*255}}function g2(e,n,i,s){var a=[Xc(Math.round(e).toString(16)),Xc(Math.round(n).toString(16)),Xc(Math.round(i).toString(16))];return s&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function Oee(e,n,i,s,a){var u=[Xc(Math.round(e).toString(16)),Xc(Math.round(n).toString(16)),Xc(Math.round(i).toString(16)),Xc(Fee(s))];return a&&u[0].startsWith(u[0].charAt(1))&&u[1].startsWith(u[1].charAt(1))&&u[2].startsWith(u[2].charAt(1))&&u[3].startsWith(u[3].charAt(1))?u[0].charAt(0)+u[1].charAt(0)+u[2].charAt(0)+u[3].charAt(0):u.join("")}function Fee(e){return Math.round(parseFloat(e)*255).toString(16)}function v2(e){return Gs(e)/255}function Gs(e){return parseInt(e,16)}function Vee(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var G0={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Gee(e){var n={r:0,g:0,b:0},i=1,s=null,a=null,u=null,f=!1,h=!1;return typeof e=="string"&&(e=Qee(e)),typeof e=="object"&&(Va(e.r)&&Va(e.g)&&Va(e.b)?(n=Dee(e.r,e.g,e.b),f=!0,h=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Va(e.h)&&Va(e.s)&&Va(e.v)?(s=ym(e.s),a=ym(e.v),n=Lee(e.h,s,a),f=!0,h="hsv"):Va(e.h)&&Va(e.s)&&Va(e.l)&&(s=ym(e.s),u=ym(e.l),n=kee(e.h,s,u),f=!0,h="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(i=e.a)),i=GT(i),{ok:f,format:e.format||h,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:i}}var Uee="[-\\+]?\\d+%?",Hee="[-\\+]?\\d*\\.\\d+%?",Ul="(?:".concat(Hee,")|(?:").concat(Uee,")"),XA="[\\s|\\(]+(".concat(Ul,")[,|\\s]+(").concat(Ul,")[,|\\s]+(").concat(Ul,")\\s*\\)?"),zA="[\\s|\\(]+(".concat(Ul,")[,|\\s]+(").concat(Ul,")[,|\\s]+(").concat(Ul,")[,|\\s]+(").concat(Ul,")\\s*\\)?"),Lo={CSS_UNIT:new RegExp(Ul),rgb:new RegExp("rgb"+XA),rgba:new RegExp("rgba"+zA),hsl:new RegExp("hsl"+XA),hsla:new RegExp("hsla"+zA),hsv:new RegExp("hsv"+XA),hsva:new RegExp("hsva"+zA),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Qee(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var n=!1;if(G0[e])e=G0[e],n=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i=Lo.rgb.exec(e);return i?{r:i[1],g:i[2],b:i[3]}:(i=Lo.rgba.exec(e),i?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=Lo.hsl.exec(e),i?{h:i[1],s:i[2],l:i[3]}:(i=Lo.hsla.exec(e),i?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=Lo.hsv.exec(e),i?{h:i[1],s:i[2],v:i[3]}:(i=Lo.hsva.exec(e),i?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=Lo.hex8.exec(e),i?{r:Gs(i[1]),g:Gs(i[2]),b:Gs(i[3]),a:v2(i[4]),format:n?"name":"hex8"}:(i=Lo.hex6.exec(e),i?{r:Gs(i[1]),g:Gs(i[2]),b:Gs(i[3]),format:n?"name":"hex"}:(i=Lo.hex4.exec(e),i?{r:Gs(i[1]+i[1]),g:Gs(i[2]+i[2]),b:Gs(i[3]+i[3]),a:v2(i[4]+i[4]),format:n?"name":"hex8"}:(i=Lo.hex3.exec(e),i?{r:Gs(i[1]+i[1]),g:Gs(i[2]+i[2]),b:Gs(i[3]+i[3]),format:n?"name":"hex"}:!1)))))))))}function Va(e){return Boolean(Lo.CSS_UNIT.exec(String(e)))}var UT=function(){function e(n,i){n===void 0&&(n=""),i===void 0&&(i={});var s;if(n instanceof e)return n;typeof n=="number"&&(n=Vee(n)),this.originalInput=n;var a=Gee(n);this.originalInput=n,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(s=i.format)!==null&&s!==void 0?s:a.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},e.prototype.getLuminance=function(){var n=this.toRgb(),i,s,a,u=n.r/255,f=n.g/255,h=n.b/255;return u<=.03928?i=u/12.92:i=Math.pow((u+.055)/1.055,2.4),f<=.03928?s=f/12.92:s=Math.pow((f+.055)/1.055,2.4),h<=.03928?a=h/12.92:a=Math.pow((h+.055)/1.055,2.4),.2126*i+.7152*s+.0722*a},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(n){return this.a=GT(n),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var n=m2(this.r,this.g,this.b);return{h:n.h*360,s:n.s,v:n.v,a:this.a}},e.prototype.toHsvString=function(){var n=m2(this.r,this.g,this.b),i=Math.round(n.h*360),s=Math.round(n.s*100),a=Math.round(n.v*100);return this.a===1?"hsv(".concat(i,", ").concat(s,"%, ").concat(a,"%)"):"hsva(".concat(i,", ").concat(s,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var n=p2(this.r,this.g,this.b);return{h:n.h*360,s:n.s,l:n.l,a:this.a}},e.prototype.toHslString=function(){var n=p2(this.r,this.g,this.b),i=Math.round(n.h*360),s=Math.round(n.s*100),a=Math.round(n.l*100);return this.a===1?"hsl(".concat(i,", ").concat(s,"%, ").concat(a,"%)"):"hsla(".concat(i,", ").concat(s,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(n){return n===void 0&&(n=!1),g2(this.r,this.g,this.b,n)},e.prototype.toHexString=function(n){return n===void 0&&(n=!1),"#"+this.toHex(n)},e.prototype.toHex8=function(n){return n===void 0&&(n=!1),Oee(this.r,this.g,this.b,this.a,n)},e.prototype.toHex8String=function(n){return n===void 0&&(n=!1),"#"+this.toHex8(n)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var n=Math.round(this.r),i=Math.round(this.g),s=Math.round(this.b);return this.a===1?"rgb(".concat(n,", ").concat(i,", ").concat(s,")"):"rgba(".concat(n,", ").concat(i,", ").concat(s,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var n=function(i){return"".concat(Math.round(Ji(i,255)*100),"%")};return{r:n(this.r),g:n(this.g),b:n(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var n=function(i){return Math.round(Ji(i,255)*100)};return this.a===1?"rgb(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%)"):"rgba(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var n="#"+g2(this.r,this.g,this.b,!1),i=0,s=Object.entries(G0);i<s.length;i++){var a=s[i],u=a[0],f=a[1];if(n===f)return u}return!1},e.prototype.toString=function(n){var i=Boolean(n);n=n!=null?n:this.format;var s=!1,a=this.a<1&&this.a>=0,u=!i&&a&&(n.startsWith("hex")||n==="name");return u?n==="name"&&this.a===0?this.toName():this.toRgbString():(n==="rgb"&&(s=this.toRgbString()),n==="prgb"&&(s=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(s=this.toHexString()),n==="hex3"&&(s=this.toHexString(!0)),n==="hex4"&&(s=this.toHex8String(!0)),n==="hex8"&&(s=this.toHex8String()),n==="name"&&(s=this.toName()),n==="hsl"&&(s=this.toHslString()),n==="hsv"&&(s=this.toHsvString()),s||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.l+=n/100,i.l=Am(i.l),new e(i)},e.prototype.brighten=function(n){n===void 0&&(n=10);var i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(n/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(n/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(n/100)))),new e(i)},e.prototype.darken=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.l-=n/100,i.l=Am(i.l),new e(i)},e.prototype.tint=function(n){return n===void 0&&(n=10),this.mix("white",n)},e.prototype.shade=function(n){return n===void 0&&(n=10),this.mix("black",n)},e.prototype.desaturate=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.s-=n/100,i.s=Am(i.s),new e(i)},e.prototype.saturate=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.s+=n/100,i.s=Am(i.s),new e(i)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(n){var i=this.toHsl(),s=(i.h+n)%360;return i.h=s<0?360+s:s,new e(i)},e.prototype.mix=function(n,i){i===void 0&&(i=50);var s=this.toRgb(),a=new e(n).toRgb(),u=i/100,f={r:(a.r-s.r)*u+s.r,g:(a.g-s.g)*u+s.g,b:(a.b-s.b)*u+s.b,a:(a.a-s.a)*u+s.a};return new e(f)},e.prototype.analogous=function(n,i){n===void 0&&(n=6),i===void 0&&(i=30);var s=this.toHsl(),a=360/i,u=[this];for(s.h=(s.h-(a*n>>1)+720)%360;--n;)s.h=(s.h+a)%360,u.push(new e(s));return u},e.prototype.complement=function(){var n=this.toHsl();return n.h=(n.h+180)%360,new e(n)},e.prototype.monochromatic=function(n){n===void 0&&(n=6);for(var i=this.toHsv(),s=i.h,a=i.s,u=i.v,f=[],h=1/n;n--;)f.push(new e({h:s,s:a,v:u})),u=(u+h)%1;return f},e.prototype.splitcomplement=function(){var n=this.toHsl(),i=n.h;return[this,new e({h:(i+72)%360,s:n.s,l:n.l}),new e({h:(i+216)%360,s:n.s,l:n.l})]},e.prototype.onBackground=function(n){var i=this.toRgb(),s=new e(n).toRgb();return new e({r:s.r+(i.r-s.r)*i.a,g:s.g+(i.g-s.g)*i.a,b:s.b+(i.b-s.b)*i.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(n){for(var i=this.toHsl(),s=i.h,a=[this],u=360/n,f=1;f<n;f++)a.push(new e({h:(s+f*u)%360,s:i.s,l:i.l}));return a},e.prototype.equals=function(n){return this.toRgbString()===new e(n).toRgbString()},e}();function Pl(e,n=20){return e.mix("#141414",n).toString()}function Xee(e){const n=ol(),i=bt("button");return $(()=>{let s={};const a=e.color;if(a){const u=new UT(a),f=e.dark?u.tint(20).toString():Pl(u,20);if(e.plain)s=i.cssVarBlock({"bg-color":e.dark?Pl(u,90):u.tint(90).toString(),"text-color":a,"border-color":e.dark?Pl(u,50):u.tint(50).toString(),"hover-text-color":`var(${i.cssVarName("color-white")})`,"hover-bg-color":a,"hover-border-color":a,"active-bg-color":f,"active-text-color":`var(${i.cssVarName("color-white")})`,"active-border-color":f}),n.value&&(s[i.cssVarBlockName("disabled-bg-color")]=e.dark?Pl(u,90):u.tint(90).toString(),s[i.cssVarBlockName("disabled-text-color")]=e.dark?Pl(u,50):u.tint(50).toString(),s[i.cssVarBlockName("disabled-border-color")]=e.dark?Pl(u,80):u.tint(80).toString());else{const h=e.dark?Pl(u,30):u.tint(30).toString(),v=u.isDark()?`var(${i.cssVarName("color-white")})`:`var(${i.cssVarName("color-black")})`;if(s=i.cssVarBlock({"bg-color":a,"text-color":v,"border-color":a,"hover-bg-color":h,"hover-text-color":v,"hover-border-color":h,"active-bg-color":f,"active-border-color":f}),n.value){const y=e.dark?Pl(u,50):u.tint(50).toString();s[i.cssVarBlockName("disabled-bg-color")]=y,s[i.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${i.cssVarName("color-white")})`,s[i.cssVarBlockName("disabled-border-color")]=y}}}return s})}const zee=["aria-disabled","disabled","autofocus","type"],$ee={name:"ElButton"},Wee=yt({...$ee,props:V0,emits:Nee,setup(e,{expose:n,emit:i}){const s=e,a=Zi();au({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},$(()=>s.type==="text"));const u=An(HR,void 0),f=sl("button"),h=bt("button"),{form:v}=Ks(),y=Ei($(()=>u==null?void 0:u.size)),b=ol(),E=se(),w=$(()=>s.type||(u==null?void 0:u.type)||""),C=$(()=>{var P,F,B;return(B=(F=s.autoInsertSpace)!=null?F:(P=f.value)==null?void 0:P.autoInsertSpace)!=null?B:!1}),x=$(()=>{var P;const F=(P=a.default)==null?void 0:P.call(a);if(C.value&&(F==null?void 0:F.length)===1){const B=F[0];if((B==null?void 0:B.type)===jh){const G=B.children;return/^\p{Unified_Ideograph}{2}$/u.test(G.trim())}}return!1}),M=Xee(s),T=P=>{s.nativeType==="reset"&&(v==null||v.resetFields()),i("click",P)};return n({ref:E,size:y,type:w,disabled:b,shouldAddSpace:x}),(P,F)=>(X(),ge("button",{ref_key:"_ref",ref:E,class:q([g(h).b(),g(h).m(g(w)),g(h).m(g(y)),g(h).is("disabled",g(b)),g(h).is("loading",P.loading),g(h).is("plain",P.plain),g(h).is("round",P.round),g(h).is("circle",P.circle),g(h).is("text",P.text),g(h).is("link",P.link),g(h).is("has-bg",P.bg)]),"aria-disabled":g(b)||P.loading,disabled:g(b)||P.loading,autofocus:P.autofocus,type:P.nativeType,style:pn(g(M)),onClick:T},[P.loading?(X(),ge(vn,{key:0},[P.$slots.loading?_t(P.$slots,"loading",{key:0}):(X(),nt(g(fn),{key:1,class:q(g(h).is("loading"))},{default:Ue(()=>[(X(),nt(er(P.loadingIcon)))]),_:1},8,["class"]))],64)):P.icon||P.$slots.icon?(X(),nt(g(fn),{key:1},{default:Ue(()=>[P.icon?(X(),nt(er(P.icon),{key:0})):_t(P.$slots,"icon",{key:1})]),_:3})):je("v-if",!0),P.$slots.default?(X(),ge("span",{key:2,class:q({[g(h).em("text","expand")]:g(x)})},[_t(P.$slots,"default")],2)):je("v-if",!0)],14,zee))}});var Kee=Ht(Wee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const jee={size:V0.size,type:V0.type},qee={name:"ElButtonGroup"},Yee=yt({...qee,props:jee,setup(e){const n=e;rr(HR,xr({size:ui(n,"size"),type:ui(n,"type")}));const i=bt("button");return(s,a)=>(X(),ge("div",{class:q(`${g(i).b("group")}`)},[_t(s.$slots,"default")],2))}});var HT=Ht(Yee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const is=Yn(Kee,{ButtonGroup:HT}),QT=di(HT);var XT={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(lo,function(){var i=1e3,s=6e4,a=36e5,u="millisecond",f="second",h="minute",v="hour",y="day",b="week",E="month",w="quarter",C="year",x="date",M="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,P=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,F={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},B=function(de,ye,ve){var Ee=String(de);return!Ee||Ee.length>=ye?de:""+Array(ye+1-Ee.length).join(ve)+de},G={s:B,z:function(de){var ye=-de.utcOffset(),ve=Math.abs(ye),Ee=Math.floor(ve/60),fe=ve%60;return(ye<=0?"+":"-")+B(Ee,2,"0")+":"+B(fe,2,"0")},m:function de(ye,ve){if(ye.date()<ve.date())return-de(ve,ye);var Ee=12*(ve.year()-ye.year())+(ve.month()-ye.month()),fe=ye.clone().add(Ee,E),_e=ve-fe<0,oe=ye.clone().add(Ee+(_e?-1:1),E);return+(-(Ee+(ve-fe)/(_e?fe-oe:oe-fe))||0)},a:function(de){return de<0?Math.ceil(de)||0:Math.floor(de)},p:function(de){return{M:E,y:C,w:b,d:y,D:x,h:v,m:h,s:f,ms:u,Q:w}[de]||String(de||"").toLowerCase().replace(/s$/,"")},u:function(de){return de===void 0}},Q="en",H={};H[Q]=F;var J=function(de){return de instanceof be},te=function de(ye,ve,Ee){var fe;if(!ye)return Q;if(typeof ye=="string"){var _e=ye.toLowerCase();H[_e]&&(fe=_e),ve&&(H[_e]=ve,fe=_e);var oe=ye.split("-");if(!fe&&oe.length>1)return de(oe[0])}else{var Te=ye.name;H[Te]=ye,fe=Te}return!Ee&&fe&&(Q=fe),fe||!Ee&&Q},ie=function(de,ye){if(J(de))return de.clone();var ve=typeof ye=="object"?ye:{};return ve.date=de,ve.args=arguments,new be(ve)},ue=G;ue.l=te,ue.i=J,ue.w=function(de,ye){return ie(de,{locale:ye.$L,utc:ye.$u,x:ye.$x,$offset:ye.$offset})};var be=function(){function de(ve){this.$L=te(ve.locale,null,!0),this.parse(ve)}var ye=de.prototype;return ye.parse=function(ve){this.$d=function(Ee){var fe=Ee.date,_e=Ee.utc;if(fe===null)return new Date(NaN);if(ue.u(fe))return new Date;if(fe instanceof Date)return new Date(fe);if(typeof fe=="string"&&!/Z$/i.test(fe)){var oe=fe.match(T);if(oe){var Te=oe[2]-1||0,Le=(oe[7]||"0").substring(0,3);return _e?new Date(Date.UTC(oe[1],Te,oe[3]||1,oe[4]||0,oe[5]||0,oe[6]||0,Le)):new Date(oe[1],Te,oe[3]||1,oe[4]||0,oe[5]||0,oe[6]||0,Le)}}return new Date(fe)}(ve),this.$x=ve.x||{},this.init()},ye.init=function(){var ve=this.$d;this.$y=ve.getFullYear(),this.$M=ve.getMonth(),this.$D=ve.getDate(),this.$W=ve.getDay(),this.$H=ve.getHours(),this.$m=ve.getMinutes(),this.$s=ve.getSeconds(),this.$ms=ve.getMilliseconds()},ye.$utils=function(){return ue},ye.isValid=function(){return this.$d.toString()!==M},ye.isSame=function(ve,Ee){var fe=ie(ve);return this.startOf(Ee)<=fe&&fe<=this.endOf(Ee)},ye.isAfter=function(ve,Ee){return ie(ve)<this.startOf(Ee)},ye.isBefore=function(ve,Ee){return this.endOf(Ee)<ie(ve)},ye.$g=function(ve,Ee,fe){return ue.u(ve)?this[Ee]:this.set(fe,ve)},ye.unix=function(){return Math.floor(this.valueOf()/1e3)},ye.valueOf=function(){return this.$d.getTime()},ye.startOf=function(ve,Ee){var fe=this,_e=!!ue.u(Ee)||Ee,oe=ue.p(ve),Te=function(Ve,at){var pt=ue.w(fe.$u?Date.UTC(fe.$y,at,Ve):new Date(fe.$y,at,Ve),fe);return _e?pt:pt.endOf(y)},Le=function(Ve,at){return ue.w(fe.toDate()[Ve].apply(fe.toDate("s"),(_e?[0,0,0,0]:[23,59,59,999]).slice(at)),fe)},xe=this.$W,Fe=this.$M,ft=this.$D,St="set"+(this.$u?"UTC":"");switch(oe){case C:return _e?Te(1,0):Te(31,11);case E:return _e?Te(1,Fe):Te(0,Fe+1);case b:var Pt=this.$locale().weekStart||0,At=(xe<Pt?xe+7:xe)-Pt;return Te(_e?ft-At:ft+(6-At),Fe);case y:case x:return Le(St+"Hours",0);case v:return Le(St+"Minutes",1);case h:return Le(St+"Seconds",2);case f:return Le(St+"Milliseconds",3);default:return this.clone()}},ye.endOf=function(ve){return this.startOf(ve,!1)},ye.$set=function(ve,Ee){var fe,_e=ue.p(ve),oe="set"+(this.$u?"UTC":""),Te=(fe={},fe[y]=oe+"Date",fe[x]=oe+"Date",fe[E]=oe+"Month",fe[C]=oe+"FullYear",fe[v]=oe+"Hours",fe[h]=oe+"Minutes",fe[f]=oe+"Seconds",fe[u]=oe+"Milliseconds",fe)[_e],Le=_e===y?this.$D+(Ee-this.$W):Ee;if(_e===E||_e===C){var xe=this.clone().set(x,1);xe.$d[Te](Le),xe.init(),this.$d=xe.set(x,Math.min(this.$D,xe.daysInMonth())).$d}else Te&&this.$d[Te](Le);return this.init(),this},ye.set=function(ve,Ee){return this.clone().$set(ve,Ee)},ye.get=function(ve){return this[ue.p(ve)]()},ye.add=function(ve,Ee){var fe,_e=this;ve=Number(ve);var oe=ue.p(Ee),Te=function(Fe){var ft=ie(_e);return ue.w(ft.date(ft.date()+Math.round(Fe*ve)),_e)};if(oe===E)return this.set(E,this.$M+ve);if(oe===C)return this.set(C,this.$y+ve);if(oe===y)return Te(1);if(oe===b)return Te(7);var Le=(fe={},fe[h]=s,fe[v]=a,fe[f]=i,fe)[oe]||1,xe=this.$d.getTime()+ve*Le;return ue.w(xe,this)},ye.subtract=function(ve,Ee){return this.add(-1*ve,Ee)},ye.format=function(ve){var Ee=this,fe=this.$locale();if(!this.isValid())return fe.invalidDate||M;var _e=ve||"YYYY-MM-DDTHH:mm:ssZ",oe=ue.z(this),Te=this.$H,Le=this.$m,xe=this.$M,Fe=fe.weekdays,ft=fe.months,St=function(at,pt,nn,_n){return at&&(at[pt]||at(Ee,_e))||nn[pt].slice(0,_n)},Pt=function(at){return ue.s(Te%12||12,at,"0")},At=fe.meridiem||function(at,pt,nn){var _n=at<12?"AM":"PM";return nn?_n.toLowerCase():_n},Ve={YY:String(this.$y).slice(-2),YYYY:this.$y,M:xe+1,MM:ue.s(xe+1,2,"0"),MMM:St(fe.monthsShort,xe,ft,3),MMMM:St(ft,xe),D:this.$D,DD:ue.s(this.$D,2,"0"),d:String(this.$W),dd:St(fe.weekdaysMin,this.$W,Fe,2),ddd:St(fe.weekdaysShort,this.$W,Fe,3),dddd:Fe[this.$W],H:String(Te),HH:ue.s(Te,2,"0"),h:Pt(1),hh:Pt(2),a:At(Te,Le,!0),A:At(Te,Le,!1),m:String(Le),mm:ue.s(Le,2,"0"),s:String(this.$s),ss:ue.s(this.$s,2,"0"),SSS:ue.s(this.$ms,3,"0"),Z:oe};return _e.replace(P,function(at,pt){return pt||Ve[at]||oe.replace(":","")})},ye.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ye.diff=function(ve,Ee,fe){var _e,oe=ue.p(Ee),Te=ie(ve),Le=(Te.utcOffset()-this.utcOffset())*s,xe=this-Te,Fe=ue.m(this,Te);return Fe=(_e={},_e[C]=Fe/12,_e[E]=Fe,_e[w]=Fe/3,_e[b]=(xe-Le)/6048e5,_e[y]=(xe-Le)/864e5,_e[v]=xe/a,_e[h]=xe/s,_e[f]=xe/i,_e)[oe]||xe,fe?Fe:ue.a(Fe)},ye.daysInMonth=function(){return this.endOf(E).$D},ye.$locale=function(){return H[this.$L]},ye.locale=function(ve,Ee){if(!ve)return this.$L;var fe=this.clone(),_e=te(ve,Ee,!0);return _e&&(fe.$L=_e),fe},ye.clone=function(){return ue.w(this.$d,this)},ye.toDate=function(){return new Date(this.valueOf())},ye.toJSON=function(){return this.isValid()?this.toISOString():null},ye.toISOString=function(){return this.$d.toISOString()},ye.toString=function(){return this.$d.toUTCString()},de}(),me=be.prototype;return ie.prototype=me,[["$ms",u],["$s",f],["$m",h],["$H",v],["$W",y],["$M",E],["$y",C],["$D",x]].forEach(function(de){me[de[1]]=function(ye){return this.$g(ye,de[0],de[1])}}),ie.extend=function(de,ye){return de.$i||(de(ye,be,ie),de.$i=!0),ie},ie.locale=te,ie.isDayjs=J,ie.unix=function(de){return ie(1e3*de)},ie.en=H[Q],ie.Ls=H,ie.p={},ie})})(XT);const Kn=XT.exports;var zT={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(lo,function(){return function(i,s,a){var u=s.prototype,f=function(E){return E&&(E.indexOf?E:E.s)},h=function(E,w,C,x,M){var T=E.name?E:E.$locale(),P=f(T[w]),F=f(T[C]),B=P||F.map(function(Q){return Q.slice(0,x)});if(!M)return B;var G=T.weekStart;return B.map(function(Q,H){return B[(H+(G||0))%7]})},v=function(){return a.Ls[a.locale()]},y=function(E,w){return E.formats[w]||function(C){return C.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,M,T){return M||T.slice(1)})}(E.formats[w.toUpperCase()])},b=function(){var E=this;return{months:function(w){return w?w.format("MMMM"):h(E,"months")},monthsShort:function(w){return w?w.format("MMM"):h(E,"monthsShort","months",3)},firstDayOfWeek:function(){return E.$locale().weekStart||0},weekdays:function(w){return w?w.format("dddd"):h(E,"weekdays")},weekdaysMin:function(w){return w?w.format("dd"):h(E,"weekdaysMin","weekdays",2)},weekdaysShort:function(w){return w?w.format("ddd"):h(E,"weekdaysShort","weekdays",3)},longDateFormat:function(w){return y(E.$locale(),w)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};u.localeData=function(){return b.bind(this)()},a.localeData=function(){var E=v();return{firstDayOfWeek:function(){return E.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(w){return y(E,w)},meridiem:E.meridiem,ordinal:E.ordinal}},a.months=function(){return h(v(),"months")},a.monthsShort=function(){return h(v(),"monthsShort","months",3)},a.weekdays=function(E){return h(v(),"weekdays",null,null,E)},a.weekdaysShort=function(E){return h(v(),"weekdaysShort","weekdays",3,E)},a.weekdaysMin=function(E){return h(v(),"weekdaysMin","weekdays",2,E)}}})})(zT);const $T=zT.exports;var WT={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(lo,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,u=/\d\d?/,f=/\d*[^-_:/,()\s\d]+/,h={},v=function(M){return(M=+M)+(M>68?1900:2e3)},y=function(M){return function(T){this[M]=+T}},b=[/[+-]\d\d:?(\d\d)?|Z/,function(M){(this.zone||(this.zone={})).offset=function(T){if(!T||T==="Z")return 0;var P=T.match(/([+-]|\d\d)/g),F=60*P[1]+(+P[2]||0);return F===0?0:P[0]==="+"?-F:F}(M)}],E=function(M){var T=h[M];return T&&(T.indexOf?T:T.s.concat(T.f))},w=function(M,T){var P,F=h.meridiem;if(F){for(var B=1;B<=24;B+=1)if(M.indexOf(F(B,0,T))>-1){P=B>12;break}}else P=M===(T?"pm":"PM");return P},C={A:[f,function(M){this.afternoon=w(M,!1)}],a:[f,function(M){this.afternoon=w(M,!0)}],S:[/\d/,function(M){this.milliseconds=100*+M}],SS:[a,function(M){this.milliseconds=10*+M}],SSS:[/\d{3}/,function(M){this.milliseconds=+M}],s:[u,y("seconds")],ss:[u,y("seconds")],m:[u,y("minutes")],mm:[u,y("minutes")],H:[u,y("hours")],h:[u,y("hours")],HH:[u,y("hours")],hh:[u,y("hours")],D:[u,y("day")],DD:[a,y("day")],Do:[f,function(M){var T=h.ordinal,P=M.match(/\d+/);if(this.day=P[0],T)for(var F=1;F<=31;F+=1)T(F).replace(/\[|\]/g,"")===M&&(this.day=F)}],M:[u,y("month")],MM:[a,y("month")],MMM:[f,function(M){var T=E("months"),P=(E("monthsShort")||T.map(function(F){return F.slice(0,3)})).indexOf(M)+1;if(P<1)throw new Error;this.month=P%12||P}],MMMM:[f,function(M){var T=E("months").indexOf(M)+1;if(T<1)throw new Error;this.month=T%12||T}],Y:[/[+-]?\d+/,y("year")],YY:[a,function(M){this.year=v(M)}],YYYY:[/\d{4}/,y("year")],Z:b,ZZ:b};function x(M){var T,P;T=M,P=h&&h.formats;for(var F=(M=T.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(ie,ue,be){var me=be&&be.toUpperCase();return ue||P[be]||i[be]||P[me].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(de,ye,ve){return ye||ve.slice(1)})})).match(s),B=F.length,G=0;G<B;G+=1){var Q=F[G],H=C[Q],J=H&&H[0],te=H&&H[1];F[G]=te?{regex:J,parser:te}:Q.replace(/^\[|\]$/g,"")}return function(ie){for(var ue={},be=0,me=0;be<B;be+=1){var de=F[be];if(typeof de=="string")me+=de.length;else{var ye=de.regex,ve=de.parser,Ee=ie.slice(me),fe=ye.exec(Ee)[0];ve.call(ue,fe),ie=ie.replace(fe,"")}}return function(_e){var oe=_e.afternoon;if(oe!==void 0){var Te=_e.hours;oe?Te<12&&(_e.hours+=12):Te===12&&(_e.hours=0),delete _e.afternoon}}(ue),ue}}return function(M,T,P){P.p.customParseFormat=!0,M&&M.parseTwoDigitYear&&(v=M.parseTwoDigitYear);var F=T.prototype,B=F.parse;F.parse=function(G){var Q=G.date,H=G.utc,J=G.args;this.$u=H;var te=J[1];if(typeof te=="string"){var ie=J[2]===!0,ue=J[3]===!0,be=ie||ue,me=J[2];ue&&(me=J[2]),h=this.$locale(),!ie&&me&&(h=P.Ls[me]),this.$d=function(Ee,fe,_e){try{if(["x","X"].indexOf(fe)>-1)return new Date((fe==="X"?1e3:1)*Ee);var oe=x(fe)(Ee),Te=oe.year,Le=oe.month,xe=oe.day,Fe=oe.hours,ft=oe.minutes,St=oe.seconds,Pt=oe.milliseconds,At=oe.zone,Ve=new Date,at=xe||(Te||Le?1:Ve.getDate()),pt=Te||Ve.getFullYear(),nn=0;Te&&!Le||(nn=Le>0?Le-1:Ve.getMonth());var _n=Fe||0,Be=ft||0,ze=St||0,vt=Pt||0;return At?new Date(Date.UTC(pt,nn,at,_n,Be,ze,vt+60*At.offset*1e3)):_e?new Date(Date.UTC(pt,nn,at,_n,Be,ze,vt)):new Date(pt,nn,at,_n,Be,ze,vt)}catch{return new Date("")}}(Q,te,H),this.init(),me&&me!==!0&&(this.$L=this.locale(me).$L),be&&Q!=this.format(te)&&(this.$d=new Date("")),h={}}else if(te instanceof Array)for(var de=te.length,ye=1;ye<=de;ye+=1){J[1]=te[ye-1];var ve=P.apply(this,J);if(ve.isValid()){this.$d=ve.$d,this.$L=ve.$L,this.init();break}ye===de&&(this.$d=new Date(""))}else B.call(this,G)}}})})(WT);const Qb=WT.exports,_2=["hours","minutes","seconds"],U0="HH:mm:ss",dd="YYYY-MM-DD",Jee={date:dd,dates:dd,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${dd} ${U0}`,monthrange:"YYYY-MM",daterange:dd,datetimerange:`${dd} ${U0}`},$A=(e,n)=>[e>0?e-1:void 0,e,e<n?e+1:void 0],Xl=e=>Array.from(Array.from({length:e}).keys()),KT=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),jT=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),A2=function(e,n){const i=ru(e),s=ru(n);return i&&s?e.getTime()===n.getTime():!i&&!s?e===n:!1},y2=function(e,n){const i=hn(e),s=hn(n);return i&&s?e.length!==n.length?!1:e.every((a,u)=>A2(a,n[u])):!i&&!s?A2(e,n):!1},b2=function(e,n,i){const s=io(n)||n==="x"?Kn(e).locale(i):Kn(e,n).locale(i);return s.isValid()?s:void 0},S2=function(e,n,i){return io(n)?e:n==="x"?+e:Kn(e).locale(i).format(n)},WA=(e,n)=>{var i;const s=[],a=n==null?void 0:n();for(let u=0;u<e;u++)s.push((i=a==null?void 0:a.includes(u))!=null?i:!1);return s},qT=Wt({disabledHours:{type:ot(Function)},disabledMinutes:{type:ot(Function)},disabledSeconds:{type:ot(Function)}}),YT=Wt({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Xb=Wt({id:{type:ot([Array,String])},name:{type:ot([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ot([String,Object]),default:nc},editable:{type:Boolean,default:!0},prefixIcon:{type:ot([String,Object]),default:""},size:Ws,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:ot(Object),default:()=>({})},modelValue:{type:ot([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ot([Date,Array])},defaultTime:{type:ot([Date,Array])},isRange:{type:Boolean,default:!1},...qT,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:ot([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Zee=["id","name","placeholder","value","disabled","readonly"],ete=["id","name","placeholder","value","disabled","readonly"],tte={name:"Picker"},nte=yt({...tte,props:Xb,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:n,emit:i}){const s=e,{lang:a}=Cr(),u=bt("date"),f=bt("input"),h=bt("range"),{form:v,formItem:y}=Ks(),b=An("ElPopperOptions",{}),E=se(),w=se(),C=se(!1),x=se(!1),M=se(null);let T=!1,P=!1;Ct(C,Qe=>{Qe?M.value=s.modelValue:(et.value=null,dn(()=>{F(s.modelValue)}))});const F=(Qe,Dt)=>{(Dt||!y2(Qe,M.value))&&(i("change",Qe),s.validateEvent&&(y==null||y.validate("change").catch(Qt=>void 0)))},B=Qe=>{if(!y2(s.modelValue,Qe)){let Dt;hn(Qe)?Dt=Qe.map(Qt=>S2(Qt,s.valueFormat,a.value)):Qe&&(Dt=S2(Qe,s.valueFormat,a.value)),i("update:modelValue",Qe&&Dt,a.value)}},G=Qe=>{i("keydown",Qe)},Q=$(()=>{if(w.value){const Qe=Be.value?w.value:w.value.$el;return Array.from(Qe.querySelectorAll("input"))}return[]}),H=(Qe,Dt,Qt)=>{const Yt=Q.value;!Yt.length||(!Qt||Qt==="min"?(Yt[0].setSelectionRange(Qe,Dt),Yt[0].focus()):Qt==="max"&&(Yt[1].setSelectionRange(Qe,Dt),Yt[1].focus()))},J=()=>{ve(!0,!0),dn(()=>{P=!1})},te=(Qe="",Dt=!1)=>{Dt||J(),C.value=Dt;let Qt;hn(Qe)?Qt=Qe.map(Yt=>Yt.toDate()):Qt=Qe&&Qe.toDate(),et.value=null,B(Qt)},ie=()=>{x.value=!0},ue=()=>{i("visible-change",!0)},be=Qe=>{(Qe==null?void 0:Qe.key)===bn.esc&&ve(!0,!0)},me=()=>{x.value=!1,P=!1,i("visible-change",!1)},de=()=>{C.value=!0},ye=()=>{C.value=!1},ve=(Qe=!0,Dt=!1)=>{P=Dt;const[Qt,Yt]=g(Q);let un=Qt;!Qe&&Be.value&&(un=Yt),un&&un.focus()},Ee=Qe=>{s.readonly||oe.value||C.value||P||(C.value=Es(Qe==null?void 0:Qe.relatedTarget),i("focus",Qe))};let fe;const _e=Qe=>{const Dt=async()=>{setTimeout(()=>{var Qt;fe===Dt&&(!(((Qt=E.value)==null?void 0:Qt.isFocusInsideContent())&&!T)&&Q.value.filter(Yt=>Yt.contains(document.activeElement)).length===0&&(xt(),C.value=!1,i("blur",Qe),s.validateEvent&&(y==null||y.validate("blur").catch(Yt=>void 0))),T=!1)},0)};fe=Dt,Dt()},oe=$(()=>s.disabled||(v==null?void 0:v.disabled)),Te=$(()=>{let Qe;if(Ve.value?Ke.value.getDefaultValue&&(Qe=Ke.value.getDefaultValue()):hn(s.modelValue)?Qe=s.modelValue.map(Dt=>b2(Dt,s.valueFormat,a.value)):Qe=b2(s.modelValue,s.valueFormat,a.value),Ke.value.getRangeAvailableTime){const Dt=Ke.value.getRangeAvailableTime(Qe);co(Dt,Qe)||(Qe=Dt,B(hn(Qe)?Qe.map(Qt=>Qt.toDate()):Qe.toDate()))}return hn(Qe)&&Qe.some(Dt=>!Dt)&&(Qe=[]),Qe}),Le=$(()=>{if(!Ke.value.panelReady)return"";const Qe=rt(Te.value);return hn(et.value)?[et.value[0]||Qe&&Qe[0]||"",et.value[1]||Qe&&Qe[1]||""]:et.value!==null?et.value:!Fe.value&&Ve.value||!C.value&&Ve.value?"":Qe?ft.value?Qe.join(", "):Qe:""}),xe=$(()=>s.type.includes("time")),Fe=$(()=>s.type.startsWith("time")),ft=$(()=>s.type==="dates"),St=$(()=>s.prefixIcon||(xe.value?Yx:VU)),Pt=se(!1),At=Qe=>{s.readonly||oe.value||Pt.value&&(Qe.stopPropagation(),J(),B(null),F(null,!0),Pt.value=!1,C.value=!1,Ke.value.handleClear&&Ke.value.handleClear())},Ve=$(()=>{const{modelValue:Qe}=s;return!Qe||hn(Qe)&&!Qe.filter(Boolean).length}),at=async Qe=>{var Dt;s.readonly||oe.value||(((Dt=Qe.target)==null?void 0:Dt.tagName)!=="INPUT"||Q.value.includes(document.activeElement))&&(C.value=!0)},pt=()=>{s.readonly||oe.value||!Ve.value&&s.clearable&&(Pt.value=!0)},nn=()=>{Pt.value=!1},_n=Qe=>{var Dt;(((Dt=Qe.touches[0].target)==null?void 0:Dt.tagName)!=="INPUT"||Q.value.includes(document.activeElement))&&(C.value=!0)},Be=$(()=>s.type.includes("range")),ze=Ei(),vt=$(()=>{var Qe,Dt;return(Dt=(Qe=g(E))==null?void 0:Qe.popperRef)==null?void 0:Dt.contentRef}),Lt=$(()=>{var Qe;return g(Be)?g(w):(Qe=g(w))==null?void 0:Qe.$el});Ab(Lt,Qe=>{const Dt=g(vt),Qt=g(Lt);Dt&&(Qe.target===Dt||Qe.composedPath().includes(Dt))||Qe.target===Qt||Qe.composedPath().includes(Qt)||(C.value=!1)});const et=se(null),xt=()=>{if(et.value){const Qe=qe(Le.value);Qe&&mt(Qe)&&(B(hn(Qe)?Qe.map(Dt=>Dt.toDate()):Qe.toDate()),et.value=null)}et.value===""&&(B(null),F(null),et.value=null)},qe=Qe=>Qe?Ke.value.parseUserInput(Qe):null,rt=Qe=>Qe?Ke.value.formatToString(Qe):null,mt=Qe=>Ke.value.isValidValue(Qe),Et=async Qe=>{if(s.readonly||oe.value)return;const{code:Dt}=Qe;if(G(Qe),Dt===bn.esc){C.value===!0&&(C.value=!1,Qe.preventDefault(),Qe.stopPropagation());return}if(Dt===bn.down&&(Ke.value.handleFocusPicker&&(Qe.preventDefault(),Qe.stopPropagation()),C.value===!1&&(C.value=!0,await dn()),Ke.value.handleFocusPicker)){Ke.value.handleFocusPicker();return}if(Dt===bn.tab){T=!0;return}if(Dt===bn.enter||Dt===bn.numpadEnter){(et.value===null||et.value===""||mt(qe(Le.value)))&&(xt(),C.value=!1),Qe.stopPropagation();return}if(et.value){Qe.stopPropagation();return}Ke.value.handleKeydownInput&&Ke.value.handleKeydownInput(Qe)},rn=Qe=>{et.value=Qe,C.value||(C.value=!0)},it=Qe=>{const Dt=Qe.target;et.value?et.value=[Dt.value,et.value[1]]:et.value=[Dt.value,null]},Xt=Qe=>{const Dt=Qe.target;et.value?et.value=[et.value[0],Dt.value]:et.value=[null,Dt.value]},In=()=>{var Qe;const Dt=et.value,Qt=qe(Dt&&Dt[0]),Yt=g(Te);if(Qt&&Qt.isValid()){et.value=[rt(Qt),((Qe=Le.value)==null?void 0:Qe[1])||null];const un=[Qt,Yt&&(Yt[1]||null)];mt(un)&&(B(un),et.value=null)}},Mn=()=>{var Qe;const Dt=g(et),Qt=qe(Dt&&Dt[1]),Yt=g(Te);if(Qt&&Qt.isValid()){et.value=[((Qe=g(Le))==null?void 0:Qe[0])||null,rt(Qt)];const un=[Yt&&Yt[0],Qt];mt(un)&&(B(un),et.value=null)}},Ke=se({}),It=Qe=>{Ke.value[Qe[0]]=Qe[1],Ke.value.panelReady=!0},$e=Qe=>{i("calendar-change",Qe)},Rt=(Qe,Dt,Qt)=>{i("panel-change",Qe,Dt,Qt)};return rr("EP_PICKER_BASE",{props:s}),n({focus:ve,handleFocusInput:Ee,handleBlurInput:_e,handleOpen:de,handleClose:ye,onPick:te}),(Qe,Dt)=>(X(),nt(g(Ms),nr({ref_key:"refPopper",ref:E,visible:C.value,effect:"light",pure:"",trigger:"click"},Qe.$attrs,{role:"dialog",teleported:"",transition:`${g(u).namespace.value}-zoom-in-top`,"popper-class":[`${g(u).namespace.value}-picker__popper`,Qe.popperClass],"popper-options":g(b),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:ie,onShow:ue,onHide:me}),{default:Ue(()=>[g(Be)?(X(),ge("div",{key:1,ref_key:"inputRef",ref:w,class:q([g(u).b("editor"),g(u).bm("editor",Qe.type),g(f).e("wrapper"),g(u).is("disabled",g(oe)),g(u).is("active",C.value),g(h).b("editor"),g(ze)?g(h).bm("editor",g(ze)):"",Qe.$attrs.class]),style:pn(Qe.$attrs.style),onClick:Ee,onMouseenter:pt,onMouseleave:nn,onTouchstart:_n,onKeydown:Et},[g(St)?(X(),nt(g(fn),{key:0,class:q([g(f).e("icon"),g(h).e("icon")]),onMousedown:Bn(at,["prevent"]),onTouchstart:_n},{default:Ue(()=>[(X(),nt(er(g(St))))]),_:1},8,["class","onMousedown"])):je("v-if",!0),Ce("input",{id:Qe.id&&Qe.id[0],autocomplete:"off",name:Qe.name&&Qe.name[0],placeholder:Qe.startPlaceholder,value:g(Le)&&g(Le)[0],disabled:g(oe),readonly:!Qe.editable||Qe.readonly,class:q(g(h).b("input")),onMousedown:at,onInput:it,onChange:In,onFocus:Ee,onBlur:_e},null,42,Zee),_t(Qe.$slots,"range-separator",{},()=>[Ce("span",{class:q(g(h).b("separator"))},Ut(Qe.rangeSeparator),3)]),Ce("input",{id:Qe.id&&Qe.id[1],autocomplete:"off",name:Qe.name&&Qe.name[1],placeholder:Qe.endPlaceholder,value:g(Le)&&g(Le)[1],disabled:g(oe),readonly:!Qe.editable||Qe.readonly,class:q(g(h).b("input")),onMousedown:at,onFocus:Ee,onBlur:_e,onInput:Xt,onChange:Mn},null,42,ete),Qe.clearIcon?(X(),nt(g(fn),{key:1,class:q([g(f).e("icon"),g(h).e("close-icon"),{[g(h).e("close-icon--hidden")]:!Pt.value}]),onClick:At},{default:Ue(()=>[(X(),nt(er(Qe.clearIcon)))]),_:1},8,["class"])):je("v-if",!0)],38)):(X(),nt(g(rs),{key:0,id:Qe.id,ref_key:"inputRef",ref:w,"container-role":"combobox","model-value":g(Le),name:Qe.name,size:g(ze),disabled:g(oe),placeholder:Qe.placeholder,class:q([g(u).b("editor"),g(u).bm("editor",Qe.type),Qe.$attrs.class]),style:pn(Qe.$attrs.style),readonly:!Qe.editable||Qe.readonly||g(ft)||Qe.type==="week",label:Qe.label,tabindex:Qe.tabindex,"validate-event":!1,onInput:rn,onFocus:Ee,onBlur:_e,onKeydown:Et,onChange:xt,onMousedown:at,onMouseenter:pt,onMouseleave:nn,onTouchstart:_n,onClick:Dt[0]||(Dt[0]=Bn(()=>{},["stop"]))},{prefix:Ue(()=>[g(St)?(X(),nt(g(fn),{key:0,class:q(g(f).e("icon")),onMousedown:Bn(at,["prevent"]),onTouchstart:_n},{default:Ue(()=>[(X(),nt(er(g(St))))]),_:1},8,["class","onMousedown"])):je("v-if",!0)]),suffix:Ue(()=>[Pt.value&&Qe.clearIcon?(X(),nt(g(fn),{key:0,class:q(`${g(f).e("icon")} clear-icon`),onClick:Bn(At,["stop"])},{default:Ue(()=>[(X(),nt(er(Qe.clearIcon)))]),_:1},8,["class","onClick"])):je("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:Ue(()=>[_t(Qe.$slots,"default",{visible:C.value,actualVisible:x.value,parsedValue:g(Te),format:Qe.format,unlinkPanels:Qe.unlinkPanels,type:Qe.type,defaultValue:Qe.defaultValue,onPick:te,onSelectRange:H,onSetPickerOption:It,onCalendarChange:$e,onPanelChange:Rt,onKeydown:be,onMousedown:Dt[1]||(Dt[1]=Bn(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var JT=Ht(nte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const rte=Wt({...YT,datetimeRole:String,parsedValue:{type:ot(Object)}}),ZT=({getAvailableHours:e,getAvailableMinutes:n,getAvailableSeconds:i})=>{const s=(f,h,v,y)=>{const b={hour:e,minute:n,second:i};let E=f;return["hour","minute","second"].forEach(w=>{if(b[w]){let C;const x=b[w];switch(w){case"minute":{C=x(E.hour(),h,y);break}case"second":{C=x(E.hour(),E.minute(),h,y);break}default:{C=x(h,y);break}}if((C==null?void 0:C.length)&&!C.includes(E[w]())){const M=v?0:C.length-1;E=E[w](C[M])}}}),E},a={};return{timePickerOptions:a,getAvailableTime:s,onSetOption:([f,h])=>{a[f]=h}}},KA=e=>{const n=(s,a)=>s||a,i=s=>s!==!0;return e.map(n).filter(i)},eN=(e,n,i)=>({getHoursList:(f,h)=>WA(24,e&&(()=>e==null?void 0:e(f,h))),getMinutesList:(f,h,v)=>WA(60,n&&(()=>n==null?void 0:n(f,h,v))),getSecondsList:(f,h,v,y)=>WA(60,i&&(()=>i==null?void 0:i(f,h,v,y)))}),tN=(e,n,i)=>{const{getHoursList:s,getMinutesList:a,getSecondsList:u}=eN(e,n,i);return{getAvailableHours:(y,b)=>KA(s(y,b)),getAvailableMinutes:(y,b,E)=>KA(a(y,b,E)),getAvailableSeconds:(y,b,E,w)=>KA(u(y,b,E,w))}},nN=e=>{const n=se(e.parsedValue);return Ct(()=>e.visible,i=>{i||(n.value=e.parsedValue)}),n},Ll=new Map;let E2;dr&&(document.addEventListener("mousedown",e=>E2=e),document.addEventListener("mouseup",e=>{for(const n of Ll.values())for(const{documentHandler:i}of n)i(e,E2)}));function w2(e,n){let i=[];return Array.isArray(n.arg)?i=n.arg:Za(n.arg)&&i.push(n.arg),function(s,a){const u=n.instance.popperRef,f=s.target,h=a==null?void 0:a.target,v=!n||!n.instance,y=!f||!h,b=e.contains(f)||e.contains(h),E=e===f,w=i.length&&i.some(x=>x==null?void 0:x.contains(f))||i.length&&i.includes(h),C=u&&(u.contains(f)||u.contains(h));v||y||b||E||w||C||n.value(s,a)}}const Yl={beforeMount(e,n){Ll.has(e)||Ll.set(e,[]),Ll.get(e).push({documentHandler:w2(e,n),bindingFn:n.value})},updated(e,n){Ll.has(e)||Ll.set(e,[]);const i=Ll.get(e),s=i.findIndex(u=>u.bindingFn===n.oldValue),a={documentHandler:w2(e,n),bindingFn:n.value};s>=0?i.splice(s,1,a):i.push(a)},unmounted(e){Ll.delete(e)}},ite=100,ste=600,bg={beforeMount(e,n){let i=null,s=null;const a=()=>n.value&&n.value(),u=()=>{s&&(clearTimeout(s),s=null),i&&(clearInterval(i),i=null)};e.addEventListener("mousedown",f=>{f.button===0&&(a(),document.addEventListener("mouseup",u,{once:!0}),u(),s=setTimeout(()=>{i=setInterval(()=>{a()},ite)},ste))})}},H0="_trap-focus-children",zc=[],C2=e=>{if(zc.length===0)return;const n=zc[zc.length-1][H0];if(n.length>0&&e.code===bn.tab){if(n.length===1){e.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const i=e.shiftKey,s=e.target===n[0],a=e.target===n[n.length-1];s&&i&&(e.preventDefault(),n[n.length-1].focus()),a&&!i&&(e.preventDefault(),n[0].focus())}},ote={beforeMount(e){e[H0]=CI(e),zc.push(e),zc.length<=1&&document.addEventListener("keydown",C2)},updated(e){dn(()=>{e[H0]=CI(e)})},unmounted(){zc.shift(),zc.length===0&&document.removeEventListener("keydown",C2)}};var I2=!1,Uc,Q0,X0,Om,Fm,rN,Vm,z0,$0,W0,iN,K0,j0,sN,oN;function ys(){if(!I2){I2=!0;var e=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),i=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(K0=/\b(iPhone|iP[ao]d)/.exec(e),j0=/\b(iP[ao]d)/.exec(e),W0=/Android/i.exec(e),sN=/FBAN\/\w+;/i.exec(e),oN=/Mobile/i.exec(e),iN=!!/Win64/.exec(e),n){Uc=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,Uc&&document&&document.documentMode&&(Uc=document.documentMode);var s=/(?:Trident\/(\d+.\d+))/.exec(e);rN=s?parseFloat(s[1])+4:Uc,Q0=n[2]?parseFloat(n[2]):NaN,X0=n[3]?parseFloat(n[3]):NaN,Om=n[4]?parseFloat(n[4]):NaN,Om?(n=/(?:Chrome\/(\d+\.\d+))/.exec(e),Fm=n&&n[1]?parseFloat(n[1]):NaN):Fm=NaN}else Uc=Q0=X0=Fm=Om=NaN;if(i){if(i[1]){var a=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);Vm=a?parseFloat(a[1].replace("_",".")):!0}else Vm=!1;z0=!!i[2],$0=!!i[3]}else Vm=z0=$0=!1}}var q0={ie:function(){return ys()||Uc},ieCompatibilityMode:function(){return ys()||rN>Uc},ie64:function(){return q0.ie()&&iN},firefox:function(){return ys()||Q0},opera:function(){return ys()||X0},webkit:function(){return ys()||Om},safari:function(){return q0.webkit()},chrome:function(){return ys()||Fm},windows:function(){return ys()||z0},osx:function(){return ys()||Vm},linux:function(){return ys()||$0},iphone:function(){return ys()||K0},mobile:function(){return ys()||K0||j0||W0||oN},nativeApp:function(){return ys()||sN},android:function(){return ys()||W0},ipad:function(){return ys()||j0}},ate=q0,bm=!!(typeof window<"u"&&window.document&&window.document.createElement),lte={canUseDOM:bm,canUseWorkers:typeof Worker<"u",canUseEventListeners:bm&&!!(window.addEventListener||window.attachEvent),canUseViewport:bm&&!!window.screen,isInWorker:!bm},aN=lte,lN;aN.canUseDOM&&(lN=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function cte(e,n){if(!aN.canUseDOM||n&&!("addEventListener"in document))return!1;var i="on"+e,s=i in document;if(!s){var a=document.createElement("div");a.setAttribute(i,"return;"),s=typeof a[i]=="function"}return!s&&lN&&e==="wheel"&&(s=document.implementation.hasFeature("Events.wheel","3.0")),s}var ute=cte,M2=10,x2=40,R2=800;function cN(e){var n=0,i=0,s=0,a=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(n=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(n=i,i=0),s=n*M2,a=i*M2,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(s=e.deltaX),(s||a)&&e.deltaMode&&(e.deltaMode==1?(s*=x2,a*=x2):(s*=R2,a*=R2)),s&&!n&&(n=s<1?-1:1),a&&!i&&(i=a<1?-1:1),{spinX:n,spinY:i,pixelX:s,pixelY:a}}cN.getEventType=function(){return ate.firefox()?"DOMMouseScroll":ute("wheel")?"wheel":"mousewheel"};var dte=cN;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const fte=function(e,n){if(e&&e.addEventListener){const i=function(s){const a=dte(s);n&&Reflect.apply(n,this,[s,a])};e.addEventListener("wheel",i,{passive:!0})}},hte={beforeMount(e,n){fte(e,n.value)}},pte=Wt({role:{type:String,required:!0},spinnerDate:{type:ot(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ot(String),default:""},...qT}),mte=["onClick"],gte=["onMouseenter"],vte=yt({__name:"basic-time-spinner",props:pte,emits:["change","select-range","set-option"],setup(e,{emit:n}){const i=e,s=bt("time"),{getHoursList:a,getMinutesList:u,getSecondsList:f}=eN(i.disabledHours,i.disabledMinutes,i.disabledSeconds);let h=!1;const v=se(),y=se(),b=se(),E=se(),w={hours:y,minutes:b,seconds:E},C=$(()=>i.showSeconds?_2:_2.slice(0,2)),x=$(()=>{const{spinnerDate:oe}=i,Te=oe.hour(),Le=oe.minute(),xe=oe.second();return{hours:Te,minutes:Le,seconds:xe}}),M=$(()=>{const{hours:oe,minutes:Te}=g(x);return{hours:a(i.role),minutes:u(oe,i.role),seconds:f(oe,Te,i.role)}}),T=$(()=>{const{hours:oe,minutes:Te,seconds:Le}=g(x);return{hours:$A(oe,23),minutes:$A(Te,59),seconds:$A(Le,59)}}),P=gs(oe=>{h=!1,G(oe)},200),F=oe=>{if(!!!i.amPmMode)return"";const Le=i.amPmMode==="A";let xe=oe<12?" am":" pm";return Le&&(xe=xe.toUpperCase()),xe},B=oe=>{let Te;switch(oe){case"hours":Te=[0,2];break;case"minutes":Te=[3,5];break;case"seconds":Te=[6,8];break}const[Le,xe]=Te;n("select-range",Le,xe),v.value=oe},G=oe=>{J(oe,g(x)[oe])},Q=()=>{G("hours"),G("minutes"),G("seconds")},H=oe=>oe.querySelector(`.${s.namespace.value}-scrollbar__wrap`),J=(oe,Te)=>{if(i.arrowControl)return;const Le=g(w[oe]);Le&&Le.$el&&(H(Le.$el).scrollTop=Math.max(0,Te*te(oe)))},te=oe=>{const Te=g(w[oe]);return(Te==null?void 0:Te.$el.querySelector("li").offsetHeight)||0},ie=()=>{be(1)},ue=()=>{be(-1)},be=oe=>{v.value||B("hours");const Te=v.value,Le=g(x)[Te],xe=v.value==="hours"?24:60,Fe=me(Te,Le,oe,xe);de(Te,Fe),J(Te,Fe),dn(()=>B(Te))},me=(oe,Te,Le,xe)=>{let Fe=(Te+Le+xe)%xe;const ft=g(M)[oe];for(;ft[Fe]&&Fe!==Te;)Fe=(Fe+Le+xe)%xe;return Fe},de=(oe,Te)=>{if(g(M)[oe][Te])return;const{hours:Fe,minutes:ft,seconds:St}=g(x);let Pt;switch(oe){case"hours":Pt=i.spinnerDate.hour(Te).minute(ft).second(St);break;case"minutes":Pt=i.spinnerDate.hour(Fe).minute(Te).second(St);break;case"seconds":Pt=i.spinnerDate.hour(Fe).minute(ft).second(Te);break}n("change",Pt)},ye=(oe,{value:Te,disabled:Le})=>{Le||(de(oe,Te),B(oe),J(oe,Te))},ve=oe=>{h=!0,P(oe);const Te=Math.min(Math.round((H(g(w[oe]).$el).scrollTop-(Ee(oe)*.5-10)/te(oe)+3)/te(oe)),oe==="hours"?23:59);de(oe,Te)},Ee=oe=>g(w[oe]).$el.offsetHeight,fe=()=>{const oe=Te=>{const Le=g(w[Te]);Le&&Le.$el&&(H(Le.$el).onscroll=()=>{ve(Te)})};oe("hours"),oe("minutes"),oe("seconds")};jn(()=>{dn(()=>{!i.arrowControl&&fe(),Q(),i.role==="start"&&B("hours")})});const _e=(oe,Te)=>{w[Te].value=oe};return n("set-option",[`${i.role}_scrollDown`,be]),n("set-option",[`${i.role}_emitSelectRange`,B]),Ct(()=>i.spinnerDate,()=>{h||Q()}),(oe,Te)=>(X(),ge("div",{class:q([g(s).b("spinner"),{"has-seconds":oe.showSeconds}])},[oe.arrowControl?je("v-if",!0):(X(!0),ge(vn,{key:0},cr(g(C),Le=>(X(),nt(g(cl),{key:Le,ref_for:!0,ref:xe=>_e(xe,Le),class:q(g(s).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":g(s).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:xe=>B(Le),onMousemove:xe=>G(Le)},{default:Ue(()=>[(X(!0),ge(vn,null,cr(g(M)[Le],(xe,Fe)=>(X(),ge("li",{key:Fe,class:q([g(s).be("spinner","item"),g(s).is("active",Fe===g(x)[Le]),g(s).is("disabled",xe)]),onClick:ft=>ye(Le,{value:Fe,disabled:xe})},[Le==="hours"?(X(),ge(vn,{key:0},[pr(Ut(("0"+(oe.amPmMode?Fe%12||12:Fe)).slice(-2))+Ut(F(Fe)),1)],64)):(X(),ge(vn,{key:1},[pr(Ut(("0"+Fe).slice(-2)),1)],64))],10,mte))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),oe.arrowControl?(X(!0),ge(vn,{key:1},cr(g(C),Le=>(X(),ge("div",{key:Le,class:q([g(s).be("spinner","wrapper"),g(s).is("arrow")]),onMouseenter:xe=>B(Le)},[Qn((X(),nt(g(fn),{class:q(["arrow-up",g(s).be("spinner","arrow")])},{default:Ue(()=>[Me(g(Kg))]),_:1},8,["class"])),[[g(bg),ue]]),Qn((X(),nt(g(fn),{class:q(["arrow-down",g(s).be("spinner","arrow")])},{default:Ue(()=>[Me(g(tc))]),_:1},8,["class"])),[[g(bg),ie]]),Ce("ul",{class:q(g(s).be("spinner","list"))},[(X(!0),ge(vn,null,cr(g(T)[Le],(xe,Fe)=>(X(),ge("li",{key:Fe,class:q([g(s).be("spinner","item"),g(s).is("active",xe===g(x)[Le]),g(s).is("disabled",g(M)[Le][xe])])},[typeof xe=="number"?(X(),ge(vn,{key:0},[Le==="hours"?(X(),ge(vn,{key:0},[pr(Ut(("0"+(oe.amPmMode?xe%12||12:xe)).slice(-2))+Ut(F(xe)),1)],64)):(X(),ge(vn,{key:1},[pr(Ut(("0"+xe).slice(-2)),1)],64))],64)):je("v-if",!0)],2))),128))],2)],42,gte))),128)):je("v-if",!0)],2))}});var Y0=Ht(vte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const _te=yt({__name:"panel-time-pick",props:rte,emits:["pick","select-range","set-picker-option"],setup(e,{emit:n}){const i=e,s=An("EP_PICKER_BASE"),{arrowControl:a,disabledHours:u,disabledMinutes:f,disabledSeconds:h,defaultValue:v}=s.props,{getAvailableHours:y,getAvailableMinutes:b,getAvailableSeconds:E}=tN(u,f,h),w=bt("time"),{t:C,lang:x}=Cr(),M=se([0,2]),T=nN(i),P=$(()=>qi(i.actualVisible)?`${w.namespace.value}-zoom-in-top`:""),F=$(()=>i.format.includes("ss")),B=$(()=>i.format.includes("A")?"A":i.format.includes("a")?"a":""),G=_e=>{const oe=Kn(_e).locale(x.value),Te=ye(oe);return oe.isSame(Te)},Q=()=>{n("pick",T.value,!1)},H=(_e=!1,oe=!1)=>{oe||n("pick",i.parsedValue,_e)},J=_e=>{if(!i.visible)return;const oe=ye(_e).millisecond(0);n("pick",oe,!0)},te=(_e,oe)=>{n("select-range",_e,oe),M.value=[_e,oe]},ie=_e=>{const oe=[0,3].concat(F.value?[6]:[]),Te=["hours","minutes"].concat(F.value?["seconds"]:[]),xe=(oe.indexOf(M.value[0])+_e+oe.length)%oe.length;be.start_emitSelectRange(Te[xe])},ue=_e=>{const oe=_e.code,{left:Te,right:Le,up:xe,down:Fe}=bn;if([Te,Le].includes(oe)){ie(oe===Te?-1:1),_e.preventDefault();return}if([xe,Fe].includes(oe)){const ft=oe===xe?-1:1;be.start_scrollDown(ft),_e.preventDefault();return}},{timePickerOptions:be,onSetOption:me,getAvailableTime:de}=ZT({getAvailableHours:y,getAvailableMinutes:b,getAvailableSeconds:E}),ye=_e=>de(_e,i.datetimeRole||"",!0),ve=_e=>_e?Kn(_e,i.format).locale(x.value):null,Ee=_e=>_e?_e.format(i.format):null,fe=()=>Kn(v).locale(x.value);return n("set-picker-option",["isValidValue",G]),n("set-picker-option",["formatToString",Ee]),n("set-picker-option",["parseUserInput",ve]),n("set-picker-option",["handleKeydownInput",ue]),n("set-picker-option",["getRangeAvailableTime",ye]),n("set-picker-option",["getDefaultValue",fe]),(_e,oe)=>(X(),nt(bi,{name:g(P)},{default:Ue(()=>[_e.actualVisible||_e.visible?(X(),ge("div",{key:0,class:q(g(w).b("panel"))},[Ce("div",{class:q([g(w).be("panel","content"),{"has-seconds":g(F)}])},[Me(Y0,{ref:"spinner",role:_e.datetimeRole||"start","arrow-control":g(a),"show-seconds":g(F),"am-pm-mode":g(B),"spinner-date":_e.parsedValue,"disabled-hours":g(u),"disabled-minutes":g(f),"disabled-seconds":g(h),onChange:J,onSetOption:g(me),onSelectRange:te},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Ce("div",{class:q(g(w).be("panel","footer"))},[Ce("button",{type:"button",class:q([g(w).be("panel","btn"),"cancel"]),onClick:Q},Ut(g(C)("el.datepicker.cancel")),3),Ce("button",{type:"button",class:q([g(w).be("panel","btn"),"confirm"]),onClick:oe[0]||(oe[0]=Te=>H())},Ut(g(C)("el.datepicker.confirm")),3)],2)],2)):je("v-if",!0)]),_:1},8,["name"]))}});var Sg=Ht(_te,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const Ate=Wt({...YT,parsedValue:{type:ot(Array)}}),yte=["disabled"],bte=yt({__name:"panel-time-range",props:Ate,emits:["pick","select-range","set-picker-option"],setup(e,{emit:n}){const i=e,s=(at,pt)=>{const nn=[];for(let _n=at;_n<=pt;_n++)nn.push(_n);return nn},{t:a,lang:u}=Cr(),f=bt("time"),h=bt("picker"),v=An("EP_PICKER_BASE"),{arrowControl:y,disabledHours:b,disabledMinutes:E,disabledSeconds:w,defaultValue:C}=v.props,x=$(()=>i.parsedValue[0]),M=$(()=>i.parsedValue[1]),T=nN(i),P=()=>{n("pick",T.value,!1)},F=$(()=>i.format.includes("ss")),B=$(()=>i.format.includes("A")?"A":i.format.includes("a")?"a":""),G=(at=!1)=>{n("pick",[x.value,M.value],at)},Q=at=>{te(at.millisecond(0),M.value)},H=at=>{te(x.value,at.millisecond(0))},J=at=>{const pt=at.map(_n=>Kn(_n).locale(u.value)),nn=oe(pt);return pt[0].isSame(nn[0])&&pt[1].isSame(nn[1])},te=(at,pt)=>{n("pick",[at,pt],!0)},ie=$(()=>x.value>M.value),ue=se([0,2]),be=(at,pt)=>{n("select-range",at,pt,"min"),ue.value=[at,pt]},me=$(()=>F.value?11:8),de=(at,pt)=>{n("select-range",at,pt,"max");const nn=g(me);ue.value=[at+nn,pt+nn]},ye=at=>{const pt=F.value?[0,3,6,11,14,17]:[0,3,8,11],nn=["hours","minutes"].concat(F.value?["seconds"]:[]),Be=(pt.indexOf(ue.value[0])+at+pt.length)%pt.length,ze=pt.length/2;Be<ze?Fe.start_emitSelectRange(nn[Be]):Fe.end_emitSelectRange(nn[Be-ze])},ve=at=>{const pt=at.code,{left:nn,right:_n,up:Be,down:ze}=bn;if([nn,_n].includes(pt)){ye(pt===nn?-1:1),at.preventDefault();return}if([Be,ze].includes(pt)){const vt=pt===Be?-1:1,Lt=ue.value[0]<me.value?"start":"end";Fe[`${Lt}_scrollDown`](vt),at.preventDefault();return}},Ee=(at,pt)=>{const nn=b?b(at):[],_n=at==="start",ze=(pt||(_n?M.value:x.value)).hour(),vt=_n?s(ze+1,23):s(0,ze-1);return OA(nn,vt)},fe=(at,pt,nn)=>{const _n=E?E(at,pt):[],Be=pt==="start",ze=nn||(Be?M.value:x.value),vt=ze.hour();if(at!==vt)return _n;const Lt=ze.minute(),et=Be?s(Lt+1,59):s(0,Lt-1);return OA(_n,et)},_e=(at,pt,nn,_n)=>{const Be=w?w(at,pt,nn):[],ze=nn==="start",vt=_n||(ze?M.value:x.value),Lt=vt.hour(),et=vt.minute();if(at!==Lt||pt!==et)return Be;const xt=vt.second(),qe=ze?s(xt+1,59):s(0,xt-1);return OA(Be,qe)},oe=([at,pt])=>[ft(at,"start",!0,pt),ft(pt,"end",!1,at)],{getAvailableHours:Te,getAvailableMinutes:Le,getAvailableSeconds:xe}=tN(Ee,fe,_e),{timePickerOptions:Fe,getAvailableTime:ft,onSetOption:St}=ZT({getAvailableHours:Te,getAvailableMinutes:Le,getAvailableSeconds:xe}),Pt=at=>at?hn(at)?at.map(pt=>Kn(pt,i.format).locale(u.value)):Kn(at,i.format).locale(u.value):null,At=at=>at?hn(at)?at.map(pt=>pt.format(i.format)):at.format(i.format):null,Ve=()=>{if(hn(C))return C.map(pt=>Kn(pt).locale(u.value));const at=Kn(C).locale(u.value);return[at,at.add(60,"m")]};return n("set-picker-option",["formatToString",At]),n("set-picker-option",["parseUserInput",Pt]),n("set-picker-option",["isValidValue",J]),n("set-picker-option",["handleKeydownInput",ve]),n("set-picker-option",["getDefaultValue",Ve]),n("set-picker-option",["getRangeAvailableTime",oe]),(at,pt)=>at.actualVisible?(X(),ge("div",{key:0,class:q([g(f).b("range-picker"),g(h).b("panel")])},[Ce("div",{class:q(g(f).be("range-picker","content"))},[Ce("div",{class:q(g(f).be("range-picker","cell"))},[Ce("div",{class:q(g(f).be("range-picker","header"))},Ut(g(a)("el.datepicker.startTime")),3),Ce("div",{class:q([g(f).be("range-picker","body"),g(f).be("panel","content"),g(f).is("arrow",g(y)),{"has-seconds":g(F)}])},[Me(Y0,{ref:"minSpinner",role:"start","show-seconds":g(F),"am-pm-mode":g(B),"arrow-control":g(y),"spinner-date":g(x),"disabled-hours":Ee,"disabled-minutes":fe,"disabled-seconds":_e,onChange:Q,onSetOption:g(St),onSelectRange:be},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Ce("div",{class:q(g(f).be("range-picker","cell"))},[Ce("div",{class:q(g(f).be("range-picker","header"))},Ut(g(a)("el.datepicker.endTime")),3),Ce("div",{class:q([g(f).be("range-picker","body"),g(f).be("panel","content"),g(f).is("arrow",g(y)),{"has-seconds":g(F)}])},[Me(Y0,{ref:"maxSpinner",role:"end","show-seconds":g(F),"am-pm-mode":g(B),"arrow-control":g(y),"spinner-date":g(M),"disabled-hours":Ee,"disabled-minutes":fe,"disabled-seconds":_e,onChange:H,onSetOption:g(St),onSelectRange:de},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Ce("div",{class:q(g(f).be("panel","footer"))},[Ce("button",{type:"button",class:q([g(f).be("panel","btn"),"cancel"]),onClick:pt[0]||(pt[0]=nn=>P())},Ut(g(a)("el.datepicker.cancel")),3),Ce("button",{type:"button",class:q([g(f).be("panel","btn"),"confirm"]),disabled:g(ie),onClick:pt[1]||(pt[1]=nn=>G())},Ut(g(a)("el.datepicker.confirm")),11,yte)],2)],2)):je("v-if",!0)}});var Ste=Ht(bte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);Kn.extend(Qb);var Ete=yt({name:"ElTimePicker",install:null,props:{...Xb,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,n){const i=se(),[s,a]=e.isRange?["timerange",Ste]:["time",Sg],u=f=>n.emit("update:modelValue",f);return rr("ElPopperOptions",e.popperOptions),n.expose({focus:f=>{var h;(h=i.value)==null||h.handleFocusInput(f)},blur:f=>{var h;(h=i.value)==null||h.handleBlurInput(f)},handleOpen:()=>{var f;(f=i.value)==null||f.handleOpen()},handleClose:()=>{var f;(f=i.value)==null||f.handleClose()}}),()=>{var f;const h=(f=e.format)!=null?f:U0;return Me(JT,nr(e,{ref:i,type:s,format:h,"onUpdate:modelValue":u}),{default:v=>Me(a,v,null)})}}});const Gm=Ete;Gm.install=e=>{e.component(Gm.name,Gm)};const wte=Gm,Cte=(e,n)=>{const i=e.subtract(1,"month").endOf("month").date();return Xl(n).map((s,a)=>i-(n-a-1))},Ite=e=>{const n=e.daysInMonth();return Xl(n).map((i,s)=>s+1)},Mte=e=>Xl(e.length/7).map(n=>{const i=n*7;return e.slice(i,i+7)}),xte=Wt({selectedDay:{type:ot(Object)},range:{type:ot(Array)},date:{type:ot(Object),required:!0},hideHeader:{type:Boolean}}),Rte={pick:e=>ur(e)},Tte={key:0},Nte=["onClick"],Pte={name:"DateTable"},Bte=yt({...Pte,props:xte,emits:Rte,setup(e,{expose:n,emit:i}){const s=e;Kn.extend($T);const{t:a,lang:u}=Cr(),f=bt("calendar-table"),h=bt("calendar-day"),v=Kn().locale(u.value),y=v.$locale().weekStart||0,b=$(()=>!!s.range&&!!s.range.length),E=$(()=>{let P=[];if(b.value){const[F,B]=s.range,G=Xl(B.date()-F.date()+1).map(J=>({text:F.date()+J,type:"current"}));let Q=G.length%7;Q=Q===0?0:7-Q;const H=Xl(Q).map((J,te)=>({text:te+1,type:"next"}));P=G.concat(H)}else{const F=s.date.startOf("month").day(),B=Cte(s.date,F-y).map(J=>({text:J,type:"prev"})),G=Ite(s.date).map(J=>({text:J,type:"current"}));P=[...B,...G];const Q=7-(P.length%7||7),H=Xl(Q).map((J,te)=>({text:te+1,type:"next"}));P=P.concat(H)}return Mte(P)}),w=$(()=>{const P=y;return P===0?VA.map(F=>a(`el.datepicker.weeks.${F}`)):VA.slice(P).concat(VA.slice(0,P)).map(F=>a(`el.datepicker.weeks.${F}`))}),C=(P,F)=>{switch(F){case"prev":return s.date.startOf("month").subtract(1,"month").date(P);case"next":return s.date.startOf("month").add(1,"month").date(P);case"current":return s.date.date(P)}},x=({text:P,type:F})=>{const B=[F];if(F==="current"){const G=C(P,F);G.isSame(s.selectedDay,"day")&&B.push(h.is("selected")),G.isSame(v,"day")&&B.push(h.is("today"))}return B},M=({text:P,type:F})=>{const B=C(P,F);i("pick",B)},T=({text:P,type:F})=>{const B=C(P,F);return{isSelected:B.isSame(s.selectedDay),type:`${F}-month`,day:B.format("YYYY-MM-DD"),date:B.toDate()}};return n({getFormattedDate:C}),(P,F)=>(X(),ge("table",{class:q([g(f).b(),g(f).is("range",g(b))]),cellspacing:"0",cellpadding:"0"},[P.hideHeader?je("v-if",!0):(X(),ge("thead",Tte,[(X(!0),ge(vn,null,cr(g(w),B=>(X(),ge("th",{key:B},Ut(B),1))),128))])),Ce("tbody",null,[(X(!0),ge(vn,null,cr(g(E),(B,G)=>(X(),ge("tr",{key:G,class:q({[g(f).e("row")]:!0,[g(f).em("row","hide-border")]:G===0&&P.hideHeader})},[(X(!0),ge(vn,null,cr(B,(Q,H)=>(X(),ge("td",{key:H,class:q(x(Q)),onClick:J=>M(Q)},[Ce("div",{class:q(g(h).b())},[_t(P.$slots,"date-cell",{data:T(Q)},()=>[Ce("span",null,Ut(Q.text),1)])],2)],10,Nte))),128))],2))),128))])],2))}});var T2=Ht(Bte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const Dte=e=>hn(e)&&e.length===2&&e.every(n=>ru(n)),kte=Wt({modelValue:{type:Date},range:{type:ot(Array),validator:Dte}}),Lte={[Zn]:e=>ru(e),[po]:e=>ru(e)},Ote={name:"ElCalendar"},Fte=yt({...Ote,props:kte,emits:Lte,setup(e,{expose:n,emit:i}){const s=e,a=Zi(),u=bt("calendar"),{t:f,lang:h}=Cr(),v=se(),y=Kn().locale(h.value),b=$({get(){return s.modelValue?w.value:v.value},set(Q){if(!Q)return;v.value=Q;const H=Q.toDate();i(po,H),i(Zn,H)}}),E=$(()=>{if(!s.range)return[];const Q=s.range.map(te=>Kn(te).locale(h.value)),[H,J]=Q;return H.isAfter(J)?[]:H.isSame(J,"month")?F(H,J):H.add(1,"month").month()!==J.month()?[]:F(H,J)}),w=$(()=>s.modelValue?Kn(s.modelValue).locale(h.value):b.value?b.value:E.value.length?E.value[0][0]:y),C=$(()=>w.value.subtract(1,"month").date(1)),x=$(()=>w.value.add(1,"month").date(1)),M=$(()=>w.value.subtract(1,"year").date(1)),T=$(()=>w.value.add(1,"year").date(1)),P=$(()=>{const Q=`el.datepicker.month${w.value.format("M")}`;return`${w.value.year()} ${f("el.datepicker.year")} ${f(Q)}`}),F=(Q,H)=>{const J=Q.startOf("week"),te=H.endOf("week"),ie=J.get("month"),ue=te.get("month");if(ie===ue)return[[J,te]];if(ie+1===ue){const be=J.endOf("month"),me=te.startOf("month"),ye=be.isSame(me,"week")?me.add(1,"week"):me;return[[J,be],[ye.startOf("week"),te]]}else if(ie+2===ue||(ie+1)%11===ue){const be=J.endOf("month"),me=J.add(1,"month").startOf("month"),de=be.isSame(me,"week")?me.add(1,"week"):me,ye=de.endOf("month"),ve=te.startOf("month"),Ee=ye.isSame(ve,"week")?ve.add(1,"week"):ve;return[[J,be],[de.startOf("week"),ye],[Ee.startOf("week"),te]]}else return[]},B=Q=>{b.value=Q},G=Q=>{let H;Q==="prev-month"?H=C.value:Q==="next-month"?H=x.value:Q==="prev-year"?H=M.value:Q==="next-year"?H=T.value:H=y,!H.isSame(w.value,"day")&&B(H)};return au({from:'"dateCell"',replacement:'"date-cell"',scope:"ElCalendar",version:"2.3.0",ref:"https://element-plus.org/en-US/component/calendar.html#slots",type:"Slot"},$(()=>!!a.dateCell)),n({selectedDay:b,pickDay:B,selectDate:G,calculateValidatedDateRange:F}),(Q,H)=>(X(),ge("div",{class:q(g(u).b())},[Ce("div",{class:q(g(u).e("header"))},[_t(Q.$slots,"header",{date:g(P)},()=>[Ce("div",{class:q(g(u).e("title"))},Ut(g(P)),3),g(E).length===0?(X(),ge("div",{key:0,class:q(g(u).e("button-group"))},[Me(g(QT),null,{default:Ue(()=>[Me(g(is),{size:"small",onClick:H[0]||(H[0]=J=>G("prev-month"))},{default:Ue(()=>[pr(Ut(g(f)("el.datepicker.prevMonth")),1)]),_:1}),Me(g(is),{size:"small",onClick:H[1]||(H[1]=J=>G("today"))},{default:Ue(()=>[pr(Ut(g(f)("el.datepicker.today")),1)]),_:1}),Me(g(is),{size:"small",onClick:H[2]||(H[2]=J=>G("next-month"))},{default:Ue(()=>[pr(Ut(g(f)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):je("v-if",!0)])],2),g(E).length===0?(X(),ge("div",{key:0,class:q(g(u).e("body"))},[Me(T2,{date:g(w),"selected-day":g(b),onPick:B},$l({_:2},[Q.$slots["date-cell"]||Q.$slots.dateCell?{name:"date-cell",fn:Ue(J=>[Q.$slots["date-cell"]?_t(Q.$slots,"date-cell",Vo(nr({key:0},J))):_t(Q.$slots,"dateCell",Vo(nr({key:1},J)))])}:void 0]),1032,["date","selected-day"])],2)):(X(),ge("div",{key:1,class:q(g(u).e("body"))},[(X(!0),ge(vn,null,cr(g(E),(J,te)=>(X(),nt(T2,{key:te,date:J[0],"selected-day":g(b),range:J,"hide-header":te!==0,onPick:B},$l({_:2},[Q.$slots["date-cell"]||Q.$slots.dateCell?{name:"date-cell",fn:Ue(ie=>[Q.$slots["date-cell"]?_t(Q.$slots,"date-cell",Vo(nr({key:0},ie))):_t(Q.$slots,"dateCell",Vo(nr({key:1},ie)))])}:void 0]),1032,["date","selected-day","range","hide-header"]))),128))],2))],2))}});var Vte=Ht(Fte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const Gte=Yn(Vte),Ute=Wt({header:{type:String,default:""},bodyStyle:{type:ot([String,Object,Array]),default:""},shadow:{type:String,values:["always","hover","never"],default:"always"}}),Hte={name:"ElCard"},Qte=yt({...Hte,props:Ute,setup(e){const n=bt("card");return(i,s)=>(X(),ge("div",{class:q([g(n).b(),g(n).is(`${i.shadow}-shadow`)])},[i.$slots.header||i.header?(X(),ge("div",{key:0,class:q(g(n).e("header"))},[_t(i.$slots,"header",{},()=>[pr(Ut(i.header),1)])],2)):je("v-if",!0),Ce("div",{class:q(g(n).e("body")),style:pn(i.bodyStyle)},[_t(i.$slots,"default")],6)],2))}});var Xte=Ht(Qte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const zte=Yn(Xte),$te=Wt({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),Wte={change:(e,n)=>[e,n].every($n)},Kte=["onMouseenter","onMouseleave"],jte=["onMouseenter","onClick"],qte={key:0},Yte={name:"ElCarousel"},Jte=yt({...Yte,props:$te,emits:Wte,setup(e,{expose:n,emit:i}){const s=e,a=bt("carousel"),u=300,f=se(-1),h=se(null),v=se(!1),y=se(),b=se([]),E=$(()=>s.arrow!=="never"&&!g(T)),w=$(()=>b.value.some(Le=>Le.props.label.toString().length>0)),C=$(()=>{const Le=[a.b(),a.m(s.direction)];return g(M)&&Le.push(a.m("card")),Le}),x=$(()=>{const Le=[a.e("indicators"),a.em("indicators",s.direction)];return w.value&&Le.push(a.em("indicators","labels")),(s.indicatorPosition==="outside"||g(M))&&Le.push(a.em("indicators","outside")),Le}),M=$(()=>s.type==="card"),T=$(()=>s.direction==="vertical"),P=Zc(Le=>{H(Le)},u,{trailing:!0}),F=Zc(Le=>{Ee(Le)},u);function B(){h.value&&(clearInterval(h.value),h.value=null)}function G(){s.interval<=0||!s.autoplay||h.value||(h.value=setInterval(()=>Q(),s.interval))}const Q=()=>{f.value<b.value.length-1?f.value=f.value+1:s.loop&&(f.value=0)};function H(Le){if(Gn(Le)){const ft=b.value.filter(St=>St.props.name===Le);ft.length>0&&(Le=b.value.indexOf(ft[0]))}if(Le=Number(Le),Number.isNaN(Le)||Le!==Math.floor(Le))return;const xe=b.value.length,Fe=f.value;Le<0?f.value=s.loop?xe-1:0:Le>=xe?f.value=s.loop?0:xe-1:f.value=Le,Fe===f.value&&J(Fe),oe()}function J(Le){b.value.forEach((xe,Fe)=>{xe.translateItem(Fe,f.value,Le)})}function te(Le){b.value.push(Le)}function ie(Le){const xe=b.value.findIndex(Fe=>Fe.uid===Le);xe!==-1&&(b.value.splice(xe,1),f.value===xe&&_e())}function ue(Le,xe){var Fe,ft,St,Pt;const At=g(b),Ve=At.length;if(Ve===0||!Le.states.inStage)return!1;const at=xe+1,pt=xe-1,nn=Ve-1,_n=At[nn].states.active,Be=At[0].states.active,ze=(ft=(Fe=At[at])==null?void 0:Fe.states)==null?void 0:ft.active,vt=(Pt=(St=At[pt])==null?void 0:St.states)==null?void 0:Pt.active;return xe===nn&&Be||ze?"left":xe===0&&_n||vt?"right":!1}function be(){v.value=!0,s.pauseOnHover&&B()}function me(){v.value=!1,G()}function de(Le){g(T)||b.value.forEach((xe,Fe)=>{Le===ue(xe,Fe)&&(xe.states.hover=!0)})}function ye(){g(T)||b.value.forEach(Le=>{Le.states.hover=!1})}function ve(Le){f.value=Le}function Ee(Le){s.trigger==="hover"&&Le!==f.value&&(f.value=Le)}function fe(){H(f.value-1)}function _e(){H(f.value+1)}function oe(){B(),G()}Ct(()=>f.value,(Le,xe)=>{J(xe),xe>-1&&i("change",Le,xe)}),Ct(()=>s.autoplay,Le=>{Le?G():B()}),Ct(()=>s.loop,()=>{H(f.value)}),Ct(()=>s.interval,()=>{oe()});const Te=Wr();return jn(async()=>{await dn(),Te.value=ss(y.value,()=>{J()}),s.initialIndex<b.value.length&&s.initialIndex>=0&&(f.value=s.initialIndex),G()}),vi(()=>{B(),y.value&&Te.value&&Te.value.stop()}),rr(QR,{root:y,isCardType:M,isVertical:T,items:b,loop:s.loop,addItem:te,removeItem:ie,setActiveItem:H}),n({setActiveItem:H,prev:fe,next:_e}),(Le,xe)=>(X(),ge("div",{ref_key:"root",ref:y,class:q(g(C)),onMouseenter:Bn(be,["stop"]),onMouseleave:Bn(me,["stop"])},[Ce("div",{class:q(g(a).e("container")),style:pn({height:Le.height})},[g(E)?(X(),nt(bi,{key:0,name:"carousel-arrow-left",persisted:""},{default:Ue(()=>[Qn(Ce("button",{type:"button",class:q([g(a).e("arrow"),g(a).em("arrow","left")]),onMouseenter:xe[0]||(xe[0]=Fe=>de("left")),onMouseleave:ye,onClick:xe[1]||(xe[1]=Bn(Fe=>g(P)(f.value-1),["stop"]))},[Me(g(fn),null,{default:Ue(()=>[Me(g(Kl))]),_:1})],34),[[_r,(Le.arrow==="always"||v.value)&&(s.loop||f.value>0)]])]),_:1})):je("v-if",!0),g(E)?(X(),nt(bi,{key:1,name:"carousel-arrow-right",persisted:""},{default:Ue(()=>[Qn(Ce("button",{type:"button",class:q([g(a).e("arrow"),g(a).em("arrow","right")]),onMouseenter:xe[2]||(xe[2]=Fe=>de("right")),onMouseleave:ye,onClick:xe[3]||(xe[3]=Bn(Fe=>g(P)(f.value+1),["stop"]))},[Me(g(fn),null,{default:Ue(()=>[Me(g(ms))]),_:1})],34),[[_r,(Le.arrow==="always"||v.value)&&(s.loop||f.value<b.value.length-1)]])]),_:1})):je("v-if",!0),_t(Le.$slots,"default")],6),Le.indicatorPosition!=="none"?(X(),ge("ul",{key:0,class:q(g(x))},[(X(!0),ge(vn,null,cr(b.value,(Fe,ft)=>(X(),ge("li",{key:ft,class:q([g(a).e("indicator"),g(a).em("indicator",Le.direction),g(a).is("active",ft===f.value)]),onMouseenter:St=>g(F)(ft),onClick:Bn(St=>ve(ft),["stop"])},[Ce("button",{class:q(g(a).e("button"))},[g(w)?(X(),ge("span",qte,Ut(Fe.props.label),1)):je("v-if",!0)],2)],42,jte))),128))],2)):je("v-if",!0)],42,Kte))}});var Zte=Ht(Jte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const ene=Wt({name:{type:String,default:""},label:{type:[String,Number],default:""}}),tne={name:"ElCarouselItem"},nne=yt({...tne,props:ene,setup(e){const n=e,i=bt("carousel"),s=An(QR),a=qn(),u=.83,f=se(!1),h=se(0),v=se(1),y=se(!1),b=se(!1),E=se(!1),w=se(!1),{isCardType:C,isVertical:x}=s,M=$(()=>{const H=`${`translate${g(x)?"Y":"X"}`}(${g(h)}px)`,J=`scale(${g(v)})`;return{transform:[H,J].join(" ")}});function T(Q,H,J){const te=J-1,ie=H-1,ue=H+1,be=J/2;return H===0&&Q===te?-1:H===te&&Q===0?J:Q<ie&&H-Q>=be?J+1:Q>ue&&Q-H>=be?-2:Q}function P(Q,H){var J;const te=((J=s.root.value)==null?void 0:J.offsetWidth)||0;return E.value?te*((2-u)*(Q-H)+1)/4:Q<H?-(1+u)*te/4:(3+u)*te/4}function F(Q,H,J){const te=s.root.value;return te?((J?te.offsetHeight:te.offsetWidth)||0)*(Q-H):0}const B=(Q,H,J)=>{var te;const ie=g(C),ue=(te=s.items.value.length)!=null?te:Number.NaN,be=Q===H;!ie&&!qi(J)&&(w.value=be||Q===J),!be&&ue>2&&s.loop&&(Q=T(Q,H,ue));const me=g(x);y.value=be,ie?(E.value=Math.round(Math.abs(Q-H))<=1,h.value=P(Q,H),v.value=g(y)?1:u):h.value=F(Q,H,me),b.value=!0};function G(){if(s&&g(C)){const Q=s.items.value.findIndex(({uid:H})=>H===a.uid);s.setActiveItem(Q)}}return jn(()=>{s.addItem({props:n,states:xr({hover:f,translate:h,scale:v,active:y,ready:b,inStage:E,animating:w}),uid:a.uid,translateItem:B})}),hu(()=>{s.removeItem(a.uid)}),(Q,H)=>Qn((X(),ge("div",{class:q([g(i).e("item"),g(i).is("active",y.value),g(i).is("in-stage",E.value),g(i).is("hover",f.value),g(i).is("animating",w.value),{[g(i).em("item","card")]:g(C)}]),style:pn(g(M)),onClick:G},[g(C)?Qn((X(),ge("div",{key:0,class:q(g(i).e("mask"))},null,2)),[[_r,!y.value]]):je("v-if",!0),_t(Q.$slots,"default")],6)),[[_r,b.value]])}});var uN=Ht(nne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const rne=Yn(Zte,{CarouselItem:uN}),ine=di(uN),sne={modelValue:{type:Array,default:()=>[]},disabled:Boolean,min:{type:Number,default:void 0},max:{type:Number,default:void 0},size:Ws,id:{type:String,default:void 0},label:{type:String,default:void 0},fill:{type:String,default:void 0},textColor:{type:String,default:void 0},tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}},dN={modelValue:{type:[Number,String,Boolean],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Ws,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},Wd=()=>{const{form:e,formItem:n}=Ks(),i=An("CheckboxGroup",{}),s=$(()=>i&&(i==null?void 0:i.name)==="ElCheckboxGroup"),a=$(()=>n==null?void 0:n.size);return{isGroup:s,checkboxGroup:i,elForm:e,elFormItemSize:a,elFormItem:n}},one=(e,{elFormItem:n})=>{const{inputId:i,isLabeledByFormItem:s}=ic(e,{formItemContext:n});return{isLabeledByFormItem:s,groupId:i}},ane=e=>{const n=se(!1),{emit:i}=qn(),{isGroup:s,checkboxGroup:a,elFormItem:u}=Wd(),f=se(!1);return{model:$({get(){var v,y;return s.value?(v=a.modelValue)==null?void 0:v.value:(y=e.modelValue)!=null?y:n.value},set(v){var y;s.value&&Array.isArray(v)?(f.value=a.max!==void 0&&v.length>a.max.value,f.value===!1&&((y=a==null?void 0:a.changeEvent)==null||y.call(a,v))):(i(Zn,v),n.value=v)}}),isGroup:s,isLimitExceeded:f,elFormItem:u}},lne=(e,n,{model:i})=>{const{isGroup:s,checkboxGroup:a}=Wd(),u=se(!1),f=Ei(a==null?void 0:a.checkboxGroupSize,{prop:!0}),h=$(()=>{const b=i.value;return zd(b)==="[object Boolean]"?b:Array.isArray(b)?b.map(Pr).includes(e.label):b!=null?b===e.trueLabel:!!b}),v=Ei($(()=>{var b;return s.value?(b=a==null?void 0:a.checkboxGroupSize)==null?void 0:b.value:void 0})),y=$(()=>!!(n.default||e.label));return{isChecked:h,focus:u,size:f,checkboxSize:v,hasOwnLabel:y}},cne=(e,{model:n,isChecked:i})=>{const{elForm:s,isGroup:a,checkboxGroup:u}=Wd(),f=$(()=>{var v,y;const b=(v=u.max)==null?void 0:v.value,E=(y=u.min)==null?void 0:y.value;return!!(b||E)&&n.value.length>=b&&!i.value||n.value.length<=E&&i.value});return{isDisabled:$(()=>{var v,y;const b=e.disabled||(s==null?void 0:s.disabled);return(y=a.value?((v=u.disabled)==null?void 0:v.value)||b||f.value:b)!=null?y:!1}),isLimitDisabled:f}},une=(e,{model:n})=>{function i(){Array.isArray(n.value)&&!n.value.includes(e.label)?n.value.push(e.label):n.value=e.trueLabel||!0}e.checked&&i()},dne=(e,{model:n,isLimitExceeded:i,hasOwnLabel:s,isDisabled:a,isLabeledByFormItem:u})=>{const{elFormItem:f,checkboxGroup:h}=Wd(),{emit:v}=qn();function y(x){var M,T;return x===e.trueLabel||x===!0?(M=e.trueLabel)!=null?M:!0:(T=e.falseLabel)!=null?T:!1}function b(x,M){v("change",y(x),M)}function E(x){if(i.value)return;const M=x.target;v("change",y(M.checked),x)}async function w(x){i.value||!s.value&&!a.value&&u.value&&(n.value=y([!1,e.falseLabel].includes(n.value)),await dn(),b(n.value,x))}const C=$(()=>{var x;return((x=h.validateEvent)==null?void 0:x.value)||e.validateEvent});return Ct(()=>e.modelValue,()=>{C.value&&(f==null||f.validate("change").catch(x=>void 0))}),{handleChange:E,onClickRoot:w}},fN={[Zn]:e=>Gn(e)||$n(e)||Ti(e),change:e=>Gn(e)||$n(e)||Ti(e)},fne={[Zn]:e=>hn(e),change:e=>hn(e)},hN=(e,n)=>{const{model:i,isGroup:s,isLimitExceeded:a,elFormItem:u}=ane(e),{focus:f,size:h,isChecked:v,checkboxSize:y,hasOwnLabel:b}=lne(e,n,{model:i}),{isDisabled:E}=cne(e,{model:i,isChecked:v}),{inputId:w,isLabeledByFormItem:C}=ic(e,{formItemContext:u,disableIdGeneration:b,disableIdManagement:s}),{handleChange:x,onClickRoot:M}=dne(e,{model:i,isLimitExceeded:a,hasOwnLabel:b,isDisabled:E,isLabeledByFormItem:C});return une(e,{model:i}),{elFormItem:u,inputId:w,isLabeledByFormItem:C,isChecked:v,isDisabled:E,isGroup:s,checkboxSize:y,hasOwnLabel:b,model:i,handleChange:x,onClickRoot:M,focus:f,size:h}},hne=["tabindex","role","aria-checked"],pne=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],mne=["id","aria-hidden","disabled","value","name","tabindex"],gne={name:"ElCheckbox"},vne=yt({...gne,props:dN,emits:fN,setup(e){const n=e,i=Zi(),{inputId:s,isLabeledByFormItem:a,isChecked:u,isDisabled:f,checkboxSize:h,hasOwnLabel:v,model:y,handleChange:b,onClickRoot:E,focus:w}=hN(n,i),C=bt("checkbox");return(x,M)=>(X(),nt(er(!g(v)&&g(a)?"span":"label"),{class:q([g(C).b(),g(C).m(g(h)),g(C).is("disabled",g(f)),g(C).is("bordered",x.border),g(C).is("checked",g(u))]),"aria-controls":x.indeterminate?x.controls:null,onClick:g(E)},{default:Ue(()=>[Ce("span",{class:q([g(C).e("input"),g(C).is("disabled",g(f)),g(C).is("checked",g(u)),g(C).is("indeterminate",x.indeterminate),g(C).is("focus",g(w))]),tabindex:x.indeterminate?0:void 0,role:x.indeterminate?"checkbox":void 0,"aria-checked":x.indeterminate?"mixed":void 0},[x.trueLabel||x.falseLabel?Qn((X(),ge("input",{key:0,id:g(s),"onUpdate:modelValue":M[0]||(M[0]=T=>Qr(y)?y.value=T:null),class:q(g(C).e("original")),type:"checkbox","aria-hidden":x.indeterminate?"true":"false",name:x.name,tabindex:x.tabindex,disabled:g(f),"true-value":x.trueLabel,"false-value":x.falseLabel,onChange:M[1]||(M[1]=(...T)=>g(b)&&g(b)(...T)),onFocus:M[2]||(M[2]=T=>w.value=!0),onBlur:M[3]||(M[3]=T=>w.value=!1)},null,42,pne)),[[dg,g(y)]]):Qn((X(),ge("input",{key:1,id:g(s),"onUpdate:modelValue":M[4]||(M[4]=T=>Qr(y)?y.value=T:null),class:q(g(C).e("original")),type:"checkbox","aria-hidden":x.indeterminate?"true":"false",disabled:g(f),value:x.label,name:x.name,tabindex:x.tabindex,onChange:M[5]||(M[5]=(...T)=>g(b)&&g(b)(...T)),onFocus:M[6]||(M[6]=T=>w.value=!0),onBlur:M[7]||(M[7]=T=>w.value=!1)},null,42,mne)),[[dg,g(y)]]),Ce("span",{class:q(g(C).e("inner"))},null,2)],10,hne),g(v)?(X(),ge("span",{key:0,class:q(g(C).e("label"))},[_t(x.$slots,"default"),x.$slots.default?je("v-if",!0):(X(),ge(vn,{key:0},[pr(Ut(x.label),1)],64))],2)):je("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var _ne=Ht(vne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const Ane=["name","tabindex","disabled","true-value","false-value"],yne=["name","tabindex","disabled","value"],bne={name:"ElCheckboxButton"},Sne=yt({...bne,props:dN,emits:fN,setup(e){const n=e,i=Zi(),{focus:s,isChecked:a,isDisabled:u,size:f,model:h,handleChange:v}=hN(n,i),{checkboxGroup:y}=Wd(),b=bt("checkbox"),E=$(()=>{var w,C,x,M;const T=(C=(w=y==null?void 0:y.fill)==null?void 0:w.value)!=null?C:"";return{backgroundColor:T,borderColor:T,color:(M=(x=y==null?void 0:y.textColor)==null?void 0:x.value)!=null?M:"",boxShadow:T?`-1px 0 0 0 ${T}`:void 0}});return(w,C)=>(X(),ge("label",{class:q([g(b).b("button"),g(b).bm("button",g(f)),g(b).is("disabled",g(u)),g(b).is("checked",g(a)),g(b).is("focus",g(s))])},[w.trueLabel||w.falseLabel?Qn((X(),ge("input",{key:0,"onUpdate:modelValue":C[0]||(C[0]=x=>Qr(h)?h.value=x:null),class:q(g(b).be("button","original")),type:"checkbox",name:w.name,tabindex:w.tabindex,disabled:g(u),"true-value":w.trueLabel,"false-value":w.falseLabel,onChange:C[1]||(C[1]=(...x)=>g(v)&&g(v)(...x)),onFocus:C[2]||(C[2]=x=>s.value=!0),onBlur:C[3]||(C[3]=x=>s.value=!1)},null,42,Ane)),[[dg,g(h)]]):Qn((X(),ge("input",{key:1,"onUpdate:modelValue":C[4]||(C[4]=x=>Qr(h)?h.value=x:null),class:q(g(b).be("button","original")),type:"checkbox",name:w.name,tabindex:w.tabindex,disabled:g(u),value:w.label,onChange:C[5]||(C[5]=(...x)=>g(v)&&g(v)(...x)),onFocus:C[6]||(C[6]=x=>s.value=!0),onBlur:C[7]||(C[7]=x=>s.value=!1)},null,42,yne)),[[dg,g(h)]]),w.$slots.default||w.label?(X(),ge("span",{key:2,class:q(g(b).be("button","inner")),style:pn(g(a)?g(E):void 0)},[_t(w.$slots,"default",{},()=>[pr(Ut(w.label),1)])],6)):je("v-if",!0)],2))}});var pN=Ht(Sne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const Ene={name:"ElCheckboxGroup"},wne=yt({...Ene,props:sne,emits:fne,setup(e,{emit:n}){const i=e,{elFormItem:s}=Wd(),{groupId:a,isLabeledByFormItem:u}=one(i,{elFormItem:s}),f=Ei(),h=bt("checkbox"),v=b=>{n(Zn,b),dn(()=>{n("change",b)})},y=$({get(){return i.modelValue},set(b){v(b)}});return rr("CheckboxGroup",{name:"ElCheckboxGroup",...Ci(i),modelValue:y,checkboxGroupSize:f,changeEvent:v}),Ct(()=>i.modelValue,()=>{i.validateEvent&&(s==null||s.validate("change").catch(b=>void 0))}),(b,E)=>{var w;return X(),nt(er(b.tag),{id:g(a),class:q(g(h).b("group")),role:"group","aria-label":g(u)?void 0:b.label||"checkbox-group","aria-labelledby":g(u)?(w=g(s))==null?void 0:w.labelId:void 0},{default:Ue(()=>[_t(b.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var mN=Ht(wne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const vo=Yn(_ne,{CheckboxButton:pN,CheckboxGroup:mN}),Cne=di(pN),gN=di(mN),vN=Wt({size:Ws,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Ine=Wt({...vN,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),_N={[Zn]:e=>Gn(e)||$n(e)||Ti(e),[ii]:e=>Gn(e)||$n(e)||Ti(e)},AN=(e,n)=>{const i=se(),s=An(KR,void 0),a=$(()=>!!s),u=$({get(){return a.value?s.modelValue:e.modelValue},set(b){a.value?s.changeEvent(b):n&&n(Zn,b),i.value.checked=e.modelValue===e.label}}),f=Ei($(()=>s==null?void 0:s.size)),h=ol($(()=>s==null?void 0:s.disabled)),v=se(!1),y=$(()=>h.value||a.value&&u.value!==e.label?-1:0);return{radioRef:i,isGroup:a,radioGroup:s,focus:v,size:f,disabled:h,tabIndex:y,modelValue:u}},Mne=["value","name","disabled"],xne={name:"ElRadio"},Rne=yt({...xne,props:Ine,emits:_N,setup(e,{emit:n}){const i=e,s=bt("radio"),{radioRef:a,radioGroup:u,focus:f,size:h,disabled:v,modelValue:y}=AN(i,n);function b(){dn(()=>n("change",y.value))}return(E,w)=>{var C;return X(),ge("label",{class:q([g(s).b(),g(s).is("disabled",g(v)),g(s).is("focus",g(f)),g(s).is("bordered",E.border),g(s).is("checked",g(y)===E.label),g(s).m(g(h))])},[Ce("span",{class:q([g(s).e("input"),g(s).is("disabled",g(v)),g(s).is("checked",g(y)===E.label)])},[Qn(Ce("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":w[0]||(w[0]=x=>Qr(y)?y.value=x:null),class:q(g(s).e("original")),value:E.label,name:E.name||((C=g(u))==null?void 0:C.name),disabled:g(v),type:"radio",onFocus:w[1]||(w[1]=x=>f.value=!0),onBlur:w[2]||(w[2]=x=>f.value=!1),onChange:b},null,42,Mne),[[Ox,g(y)]]),Ce("span",{class:q(g(s).e("inner"))},null,2)],2),Ce("span",{class:q(g(s).e("label")),onKeydown:w[3]||(w[3]=Bn(()=>{},["stop"]))},[_t(E.$slots,"default",{},()=>[pr(Ut(E.label),1)])],34)],2)}}});var Tne=Ht(Rne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const Nne=Wt({...vN,name:{type:String,default:""}}),Pne=["value","name","disabled"],Bne={name:"ElRadioButton"},Dne=yt({...Bne,props:Nne,setup(e){const n=e,i=bt("radio"),{radioRef:s,focus:a,size:u,disabled:f,modelValue:h,radioGroup:v}=AN(n),y=$(()=>({backgroundColor:(v==null?void 0:v.fill)||"",borderColor:(v==null?void 0:v.fill)||"",boxShadow:v!=null&&v.fill?`-1px 0 0 0 ${v.fill}`:"",color:(v==null?void 0:v.textColor)||""}));return(b,E)=>{var w;return X(),ge("label",{class:q([g(i).b("button"),g(i).is("active",g(h)===b.label),g(i).is("disabled",g(f)),g(i).is("focus",g(a)),g(i).bm("button",g(u))])},[Qn(Ce("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":E[0]||(E[0]=C=>Qr(h)?h.value=C:null),class:q(g(i).be("button","original-radio")),value:b.label,type:"radio",name:b.name||((w=g(v))==null?void 0:w.name),disabled:g(f),onFocus:E[1]||(E[1]=C=>a.value=!0),onBlur:E[2]||(E[2]=C=>a.value=!1)},null,42,Pne),[[Ox,g(h)]]),Ce("span",{class:q(g(i).be("button","inner")),style:pn(g(h)===b.label?g(y):{}),onKeydown:E[3]||(E[3]=Bn(()=>{},["stop"]))},[_t(b.$slots,"default",{},()=>[pr(Ut(b.label),1)])],38)],2)}}});var yN=Ht(Dne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const kne=Wt({id:{type:String,default:void 0},size:Ws,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Lne=_N,One=["id","aria-label","aria-labelledby"],Fne={name:"ElRadioGroup"},Vne=yt({...Fne,props:kne,emits:Lne,setup(e,{emit:n}){const i=e,s=bt("radio"),a=zo(),u=se(),{formItem:f}=Ks(),{inputId:h,isLabeledByFormItem:v}=ic(i,{formItemContext:f}),y=E=>{n(Zn,E),dn(()=>n("change",E))};jn(()=>{const E=u.value.querySelectorAll("[type=radio]"),w=E[0];!Array.from(E).some(C=>C.checked)&&w&&(w.tabIndex=0)});const b=$(()=>i.name||a.value);return rr(KR,xr({...Ci(i),changeEvent:y,name:b})),Ct(()=>i.modelValue,()=>{i.validateEvent&&(f==null||f.validate("change").catch(E=>void 0))}),(E,w)=>(X(),ge("div",{id:g(h),ref_key:"radioGroupRef",ref:u,class:q(g(s).b("group")),role:"radiogroup","aria-label":g(v)?void 0:E.label||"radio-group","aria-labelledby":g(v)?g(f).labelId:void 0},[_t(E.$slots,"default")],10,One))}});var bN=Ht(Vne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const SN=Yn(Tne,{RadioButton:yN,RadioGroup:bN}),Gne=di(bN),Une=di(yN);var Hne=yt({name:"NodeContent",setup(){return{ns:bt("cascader-node")}},render(){const{ns:e}=this,{node:n,panel:i}=this.$parent,{data:s,label:a}=n,{renderLabelFn:u}=i;return Sn("span",{class:e.e("label")},u?u({node:n,data:s}):a)}});const zb=Symbol(),Qne=yt({name:"ElCascaderNode",components:{ElCheckbox:vo,ElRadio:SN,NodeContent:Hne,ElIcon:fn,Check:Yh,Loading:rc,ArrowRight:ms},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:n}){const i=An(zb),s=bt("cascader-node"),a=$(()=>i.isHoverMenu),u=$(()=>i.config.multiple),f=$(()=>i.config.checkStrictly),h=$(()=>{var H;return(H=i.checkedNodes[0])==null?void 0:H.uid}),v=$(()=>e.node.isDisabled),y=$(()=>e.node.isLeaf),b=$(()=>f.value&&!y.value||!v.value),E=$(()=>C(i.expandingNode)),w=$(()=>f.value&&i.checkedNodes.some(C)),C=H=>{var J;const{level:te,uid:ie}=e.node;return((J=H==null?void 0:H.pathNodes[te-1])==null?void 0:J.uid)===ie},x=()=>{E.value||i.expandNode(e.node)},M=H=>{const{node:J}=e;H!==J.checked&&i.handleCheckChange(J,H)},T=()=>{i.lazyLoad(e.node,()=>{y.value||x()})},P=H=>{!a.value||(F(),!y.value&&n("expand",H))},F=()=>{const{node:H}=e;!b.value||H.loading||(H.loaded?x():T())},B=()=>{a.value&&!y.value||(y.value&&!v.value&&!f.value&&!u.value?Q(!0):F())},G=H=>{f.value?(M(H),e.node.loaded&&x()):Q(H)},Q=H=>{e.node.loaded?(M(H),!f.value&&x()):T()};return{panel:i,isHoverMenu:a,multiple:u,checkStrictly:f,checkedNodeId:h,isDisabled:v,isLeaf:y,expandable:b,inExpandingPath:E,inCheckedPath:w,ns:s,handleHoverExpand:P,handleExpand:F,handleClick:B,handleCheck:Q,handleSelectCheck:G}}}),Xne=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],zne=Ce("span",null,null,-1);function $ne(e,n,i,s,a,u){const f=gn("el-checkbox"),h=gn("el-radio"),v=gn("check"),y=gn("el-icon"),b=gn("node-content"),E=gn("loading"),w=gn("arrow-right");return X(),ge("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:q([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:n[2]||(n[2]=(...C)=>e.handleHoverExpand&&e.handleHoverExpand(...C)),onFocus:n[3]||(n[3]=(...C)=>e.handleHoverExpand&&e.handleHoverExpand(...C)),onClick:n[4]||(n[4]=(...C)=>e.handleClick&&e.handleClick(...C))},[je(" prefix "),e.multiple?(X(),nt(f,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:n[0]||(n[0]=Bn(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(X(),nt(h,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:n[1]||(n[1]=Bn(()=>{},["stop"]))},{default:Ue(()=>[je(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),zne]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(X(),nt(y,{key:2,class:q(e.ns.e("prefix"))},{default:Ue(()=>[Me(v)]),_:1},8,["class"])):je("v-if",!0),je(" content "),Me(b),je(" postfix "),e.isLeaf?je("v-if",!0):(X(),ge(vn,{key:3},[e.node.loading?(X(),nt(y,{key:0,class:q([e.ns.is("loading"),e.ns.e("postfix")])},{default:Ue(()=>[Me(E)]),_:1},8,["class"])):(X(),nt(y,{key:1,class:q(["arrow-right",e.ns.e("postfix")])},{default:Ue(()=>[Me(w)]),_:1},8,["class"]))],64))],42,Xne)}var Wne=Ht(Qne,[["render",$ne],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const Kne=yt({name:"ElCascaderMenu",components:{Loading:rc,ElIcon:fn,ElScrollbar:cl,ElCascaderNode:Wne},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const n=qn(),i=bt("cascader-menu"),{t:s}=Cr(),a=Zh();let u=null,f=null;const h=An(zb),v=se(null),y=$(()=>!e.nodes.length),b=$(()=>!h.initialLoaded),E=$(()=>`cascader-menu-${a}-${e.index}`),w=T=>{u=T.target},C=T=>{if(!(!h.isHoverMenu||!u||!v.value))if(u.contains(T.target)){x();const P=n.vnode.el,{left:F}=P.getBoundingClientRect(),{offsetWidth:B,offsetHeight:G}=P,Q=T.clientX-F,H=u.offsetTop,J=H+u.offsetHeight;v.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${Q} ${H} L${B} 0 V${H} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${Q} ${J} L${B} ${G} V${J} Z" />
        `}else f||(f=window.setTimeout(M,h.config.hoverThreshold))},x=()=>{!f||(clearTimeout(f),f=null)},M=()=>{!v.value||(v.value.innerHTML="",x())};return{ns:i,panel:h,hoverZone:v,isEmpty:y,isLoading:b,menuId:E,t:s,handleExpand:w,handleMouseMove:C,clearHoverZone:M}}});function jne(e,n,i,s,a,u){const f=gn("el-cascader-node"),h=gn("loading"),v=gn("el-icon"),y=gn("el-scrollbar");return X(),nt(y,{key:e.menuId,tag:"ul",role:"menu",class:q(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:Ue(()=>{var b;return[(X(!0),ge(vn,null,cr(e.nodes,E=>(X(),nt(f,{key:E.uid,node:E,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(X(),ge("div",{key:0,class:q(e.ns.e("empty-text"))},[Me(v,{size:"14",class:q(e.ns.is("loading"))},{default:Ue(()=>[Me(h)]),_:1},8,["class"]),pr(" "+Ut(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(X(),ge("div",{key:1,class:q(e.ns.e("empty-text"))},Ut(e.t("el.cascader.noData")),3)):(b=e.panel)!=null&&b.isHoverMenu?(X(),ge("svg",{key:2,ref:"hoverZone",class:q(e.ns.e("hover-zone"))},null,2)):je("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var qne=Ht(Kne,[["render",jne],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let Yne=0;const Jne=e=>{const n=[e];let{parent:i}=e;for(;i;)n.unshift(i),i=i.parent;return n};class Gd{constructor(n,i,s,a=!1){this.data=n,this.config=i,this.parent=s,this.root=a,this.uid=Yne++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:u,label:f,children:h}=i,v=n[h],y=Jne(this);this.level=a?0:s?s.level+1:1,this.value=n[u],this.label=n[f],this.pathNodes=y,this.pathValues=y.map(b=>b.value),this.pathLabels=y.map(b=>b.label),this.childrenData=v,this.children=(v||[]).map(b=>new Gd(b,i,this)),this.loaded=!i.lazy||this.isLeaf||!io(v)}get isDisabled(){const{data:n,parent:i,config:s}=this,{disabled:a,checkStrictly:u}=s;return(Vn(a)?a(n,this):!!n[a])||!u&&(i==null?void 0:i.isDisabled)}get isLeaf(){const{data:n,config:i,childrenData:s,loaded:a}=this,{lazy:u,leaf:f}=i,h=Vn(f)?f(n,this):n[f];return qi(h)?u&&!a?!1:!(Array.isArray(s)&&s.length):!!h}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(n){const{childrenData:i,children:s}=this,a=new Gd(n,this.config,this);return Array.isArray(i)?i.push(n):this.childrenData=[n],s.push(a),a}calcText(n,i){const s=n?this.pathLabels.join(i):this.label;return this.text=s,s}broadcast(n,...i){const s=`onParent${Xa(n)}`;this.children.forEach(a=>{a&&(a.broadcast(n,...i),a[s]&&a[s](...i))})}emit(n,...i){const{parent:s}=this,a=`onChild${Xa(n)}`;s&&(s[a]&&s[a](...i),s.emit(n,...i))}onParentCheck(n){this.isDisabled||this.setCheckState(n)}onChildCheck(){const{children:n}=this,i=n.filter(a=>!a.isDisabled),s=i.length?i.every(a=>a.checked):!1;this.setCheckState(s)}setCheckState(n){const i=this.children.length,s=this.children.reduce((a,u)=>{const f=u.checked?1:u.indeterminate?.5:0;return a+f},0);this.checked=this.loaded&&this.children.filter(a=>!a.isDisabled).every(a=>a.loaded&&a.checked)&&n,this.indeterminate=this.loaded&&s!==i&&s>0}doCheck(n){if(this.checked===n)return;const{checkStrictly:i,multiple:s}=this.config;i||!s?this.checked=n:(this.broadcast("check",n),this.setCheckState(n),this.emit("check"))}}const J0=(e,n)=>e.reduce((i,s)=>(s.isLeaf?i.push(s):(!n&&i.push(s),i=i.concat(J0(s.children,n))),i),[]);class N2{constructor(n,i){this.config=i;const s=(n||[]).map(a=>new Gd(a,this.config));this.nodes=s,this.allNodes=J0(s,!1),this.leafNodes=J0(s,!0)}getNodes(){return this.nodes}getFlattedNodes(n){return n?this.leafNodes:this.allNodes}appendNode(n,i){const s=i?i.appendChild(n):new Gd(n,this.config);i||this.nodes.push(s),this.allNodes.push(s),s.isLeaf&&this.leafNodes.push(s)}appendNodes(n,i){n.forEach(s=>this.appendNode(s,i))}getNodeByValue(n,i=!1){return!n&&n!==0?null:this.getFlattedNodes(i).find(a=>co(a.value,n)||co(a.pathValues,n))||null}getSameNode(n){return n&&this.getFlattedNodes(!1).find(({value:s,level:a})=>co(n.value,s)&&n.level===a)||null}}const EN={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},Zne={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Lr,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},ere=e=>$(()=>({...Zne,...e.props})),P2=e=>{if(!e)return 0;const n=e.id.split("-");return Number(n[n.length-2])},tre=e=>{if(!e)return;const n=e.querySelector("input");n?n.click():TR(e)&&e.click()},nre=(e,n)=>{const i=n.slice(0),s=i.map(u=>u.uid),a=e.reduce((u,f)=>{const h=s.indexOf(f.uid);return h>-1&&(u.push(f),i.splice(h,1),s.splice(h,1)),u},[]);return a.push(...i),a},rre=yt({name:"ElCascaderPanel",components:{ElCascaderMenu:qne},props:{...EN,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Zn,ii,"close","expand-change"],setup(e,{emit:n,slots:i}){let s=!1;const a=bt("cascader"),u=ere(e);let f=null;const h=se(!0),v=se([]),y=se(null),b=se([]),E=se(null),w=se([]),C=$(()=>u.value.expandTrigger==="hover"),x=$(()=>e.renderLabel||i.default),M=()=>{const{options:me}=e,de=u.value;s=!1,f=new N2(me,de),b.value=[f.getNodes()],de.lazy&&io(e.options)?(h.value=!1,T(void 0,ye=>{ye&&(f=new N2(ye,de),b.value=[f.getNodes()]),h.value=!0,te(!1,!0)})):te(!1,!0)},T=(me,de)=>{const ye=u.value;me=me||new Gd({},ye,void 0,!0),me.loading=!0;const ve=Ee=>{const fe=me,_e=fe.root?null:fe;Ee&&(f==null||f.appendNodes(Ee,_e)),fe.loading=!1,fe.loaded=!0,fe.childrenData=fe.childrenData||[],de&&de(Ee)};ye.lazyLoad(me,ve)},P=(me,de)=>{var ye;const{level:ve}=me,Ee=b.value.slice(0,ve);let fe;me.isLeaf?fe=me.pathNodes[ve-2]:(fe=me,Ee.push(me.children)),((ye=E.value)==null?void 0:ye.uid)!==(fe==null?void 0:fe.uid)&&(E.value=me,b.value=Ee,!de&&n("expand-change",(me==null?void 0:me.pathValues)||[]))},F=(me,de,ye=!0)=>{const{checkStrictly:ve,multiple:Ee}=u.value,fe=w.value[0];s=!0,!Ee&&(fe==null||fe.doCheck(!1)),me.doCheck(de),J(),ye&&!Ee&&!ve&&n("close"),!ye&&!Ee&&!ve&&B(me)},B=me=>{!me||(me=me.parent,B(me),me&&P(me))},G=me=>f==null?void 0:f.getFlattedNodes(me),Q=me=>{var de;return(de=G(me))==null?void 0:de.filter(ye=>ye.checked!==!1)},H=()=>{w.value.forEach(me=>me.doCheck(!1)),J()},J=()=>{var me;const{checkStrictly:de,multiple:ye}=u.value,ve=w.value,Ee=Q(!de),fe=nre(ve,Ee),_e=fe.map(oe=>oe.valueByOption);w.value=fe,y.value=ye?_e:(me=_e[0])!=null?me:null},te=(me=!1,de=!1)=>{const{modelValue:ye}=e,{lazy:ve,multiple:Ee,checkStrictly:fe}=u.value,_e=!fe;if(!(!h.value||s||!de&&co(ye,y.value)))if(ve&&!me){const Te=VI(aj(ja(ye))).map(Le=>f==null?void 0:f.getNodeByValue(Le)).filter(Le=>!!Le&&!Le.loaded&&!Le.loading);Te.length?Te.forEach(Le=>{T(Le,()=>te(!1,de))}):te(!0,de)}else{const oe=Ee?ja(ye):[ye],Te=VI(oe.map(Le=>f==null?void 0:f.getNodeByValue(Le,_e)));ie(Te,de),y.value=ye}},ie=(me,de=!0)=>{const{checkStrictly:ye}=u.value,ve=w.value,Ee=me.filter(oe=>!!oe&&(ye||oe.isLeaf)),fe=f==null?void 0:f.getSameNode(E.value),_e=de&&fe||Ee[0];_e?_e.pathNodes.forEach(oe=>P(oe,!0)):E.value=null,ve.forEach(oe=>oe.doCheck(!1)),Ee.forEach(oe=>oe.doCheck(!0)),w.value=Ee,dn(ue)},ue=()=>{!dr||v.value.forEach(me=>{const de=me==null?void 0:me.$el;if(de){const ye=de.querySelector(`.${a.namespace.value}-scrollbar__wrap`),ve=de.querySelector(`.${a.b("node")}.${a.is("active")}`)||de.querySelector(`.${a.b("node")}.in-active-path`);LR(ye,ve)}})},be=me=>{const de=me.target,{code:ye}=me;switch(ye){case bn.up:case bn.down:{me.preventDefault();const ve=ye===bn.up?-1:1;Dm(NR(de,ve,`.${a.b("node")}[tabindex="-1"]`));break}case bn.left:{me.preventDefault();const ve=v.value[P2(de)-1],Ee=ve==null?void 0:ve.$el.querySelector(`.${a.b("node")}[aria-expanded="true"]`);Dm(Ee);break}case bn.right:{me.preventDefault();const ve=v.value[P2(de)+1],Ee=ve==null?void 0:ve.$el.querySelector(`.${a.b("node")}[tabindex="-1"]`);Dm(Ee);break}case bn.enter:tre(de);break}};return rr(zb,xr({config:u,expandingNode:E,checkedNodes:w,isHoverMenu:C,initialLoaded:h,renderLabelFn:x,lazyLoad:T,expandNode:P,handleCheckChange:F})),Ct([u,()=>e.options],M,{deep:!0,immediate:!0}),Ct(()=>e.modelValue,()=>{s=!1,te()}),Ct(y,me=>{co(me,e.modelValue)||(n(Zn,me),n(ii,me))}),dx(()=>v.value=[]),jn(()=>!io(e.modelValue)&&te()),{ns:a,menuList:v,menus:b,checkedNodes:w,handleKeyDown:be,handleCheckChange:F,getFlattedNodes:G,getCheckedNodes:Q,clearCheckedNodes:H,calculateCheckedValue:J,scrollToExpandingNode:ue}}});function ire(e,n,i,s,a,u){const f=gn("el-cascader-menu");return X(),ge("div",{class:q([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:n[0]||(n[0]=(...h)=>e.handleKeyDown&&e.handleKeyDown(...h))},[(X(!0),ge(vn,null,cr(e.menus,(h,v)=>(X(),nt(f,{key:v,ref_for:!0,ref:y=>e.menuList[v]=y,index:v,nodes:[...h]},null,8,["index","nodes"]))),128))],34)}var Um=Ht(rre,[["render",ire],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);Um.install=e=>{e.component(Um.name,Um)};const wN=Um,sre=wN,$b=Wt({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:vu,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),ore={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},are={name:"ElTag"},lre=yt({...are,props:$b,emits:ore,setup(e,{emit:n}){const i=e,s=Ei(),a=bt("tag"),u=$(()=>{const{type:v,hit:y,effect:b,closable:E,round:w}=i;return[a.b(),a.is("closable",E),a.m(v),a.m(s.value),a.m(b),a.is("hit",y),a.is("round",w)]}),f=v=>{n("close",v)},h=v=>{n("click",v)};return(v,y)=>v.disableTransitions?(X(),ge("span",{key:0,class:q(g(u)),style:pn({backgroundColor:v.color}),onClick:h},[Ce("span",{class:q(g(a).e("content"))},[_t(v.$slots,"default")],2),v.closable?(X(),nt(g(fn),{key:0,class:q(g(a).e("close")),onClick:Bn(f,["stop"])},{default:Ue(()=>[Me(g(Ho))]),_:1},8,["class","onClick"])):je("v-if",!0)],6)):(X(),nt(bi,{key:1,name:`${g(a).namespace.value}-zoom-in-center`,appear:""},{default:Ue(()=>[Ce("span",{class:q(g(u)),style:pn({backgroundColor:v.color}),onClick:h},[Ce("span",{class:q(g(a).e("content"))},[_t(v.$slots,"default")],2),v.closable?(X(),nt(g(fn),{key:0,class:q(g(a).e("close")),onClick:Bn(f,["stop"])},{default:Ue(()=>[Me(g(Ho))]),_:1},8,["class","onClick"])):je("v-if",!0)],6)]),_:3},8,["name"]))}});var cre=Ht(lre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const pv=Yn(cre),ure=40,dre={large:36,default:32,small:28},fre={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:n,placement:i}=e;["right","left","bottom","top"].includes(i)||(n.arrow.x=35)},requires:["arrow"]}]},hre="ElCascader",pre=yt({name:hre,components:{ElCascaderPanel:wN,ElInput:rs,ElTooltip:Ms,ElScrollbar:cl,ElTag:pv,ElIcon:fn,CircleClose:nc,Check:Yh,ArrowDown:tc},directives:{Clickoutside:Yl},props:{...EN,size:{type:String,validator:_u},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(e,n)=>e.text.includes(n)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},teleported:Ki.teleported,tagType:{...$b.type,default:"info"},validateEvent:{type:Boolean,default:!0}},emits:[Zn,ii,"focus","blur","visible-change","expand-change","remove-tag"],setup(e,{emit:n}){let i=0,s=0;const a=bt("cascader"),u=bt("input"),{t:f}=Cr(),{form:h,formItem:v}=Ks(),y=se(null),b=se(null),E=se(null),w=se(null),C=se(null),x=se(!1),M=se(!1),T=se(!1),P=se(""),F=se(""),B=se([]),G=se([]),Q=se([]),H=se(!1),J=$(()=>e.disabled||(h==null?void 0:h.disabled)),te=$(()=>e.placeholder||f("el.cascader.placeholder")),ie=Ei(),ue=$(()=>["small"].includes(ie.value)?"small":"default"),be=$(()=>!!e.props.multiple),me=$(()=>!e.filterable||be.value),de=$(()=>be.value?F.value:P.value),ye=$(()=>{var qe;return((qe=w.value)==null?void 0:qe.checkedNodes)||[]}),ve=$(()=>!e.clearable||J.value||T.value||!M.value?!1:!!ye.value.length),Ee=$(()=>{const{showAllLevels:qe,separator:rt}=e,mt=ye.value;return mt.length?be.value?" ":mt[0].calcText(qe,rt):""}),fe=$({get(){return e.modelValue},set(qe){n(Zn,qe),n(ii,qe),e.validateEvent&&(v==null||v.validate("change").catch(rt=>void 0))}}),_e=$(()=>{var qe,rt;return(rt=(qe=y.value)==null?void 0:qe.popperRef)==null?void 0:rt.contentRef}),oe=qe=>{var rt,mt,Et;J.value||(qe=qe!=null?qe:!x.value,qe!==x.value&&(x.value=qe,(mt=(rt=b.value)==null?void 0:rt.input)==null||mt.setAttribute("aria-expanded",`${qe}`),qe?(Te(),dn((Et=w.value)==null?void 0:Et.scrollToExpandingNode)):e.filterable&&Be(),n("visible-change",qe)))},Te=()=>{dn(()=>{var qe;(qe=y.value)==null||qe.updatePopper()})},Le=()=>{T.value=!1},xe=qe=>{const{showAllLevels:rt,separator:mt}=e;return{node:qe,key:qe.uid,text:qe.calcText(rt,mt),hitState:!1,closable:!J.value&&!qe.isDisabled,isCollapseTag:!1}},Fe=qe=>{var rt;const mt=qe.node;mt.doCheck(!1),(rt=w.value)==null||rt.calculateCheckedValue(),n("remove-tag",mt.valueByOption)},ft=()=>{if(!be.value)return;const qe=ye.value,rt=[],mt=[];if(qe.forEach(Et=>mt.push(xe(Et))),G.value=mt,qe.length){const[Et,...rn]=qe,it=rn.length;rt.push(xe(Et)),it&&(e.collapseTags?rt.push({key:-1,text:`+ ${it}`,closable:!1,isCollapseTag:!0}):rn.forEach(Xt=>rt.push(xe(Xt))))}B.value=rt},St=()=>{var qe,rt;const{filterMethod:mt,showAllLevels:Et,separator:rn}=e,it=(rt=(qe=w.value)==null?void 0:qe.getFlattedNodes(!e.props.checkStrictly))==null?void 0:rt.filter(Xt=>Xt.isDisabled?!1:(Xt.calcText(Et,rn),mt(Xt,de.value)));be.value&&(B.value.forEach(Xt=>{Xt.hitState=!1}),G.value.forEach(Xt=>{Xt.hitState=!1})),T.value=!0,Q.value=it,Te()},Pt=()=>{var qe;let rt;T.value&&C.value?rt=C.value.$el.querySelector(`.${a.e("suggestion-item")}`):rt=(qe=w.value)==null?void 0:qe.$el.querySelector(`.${a.b("node")}[tabindex="-1"]`),rt&&(rt.focus(),!T.value&&rt.click())},At=()=>{var qe,rt;const mt=(qe=b.value)==null?void 0:qe.input,Et=E.value,rn=(rt=C.value)==null?void 0:rt.$el;if(!(!dr||!mt)){if(rn){const it=rn.querySelector(`.${a.e("suggestion-list")}`);it.style.minWidth=`${mt.offsetWidth}px`}if(Et){const{offsetHeight:it}=Et,Xt=B.value.length>0?`${Math.max(it+6,i)}px`:`${i}px`;mt.style.height=Xt,Te()}}},Ve=qe=>{var rt;return(rt=w.value)==null?void 0:rt.getCheckedNodes(qe)},at=qe=>{Te(),n("expand-change",qe)},pt=qe=>{var rt;const mt=(rt=qe.target)==null?void 0:rt.value;if(qe.type==="compositionend")H.value=!1,dn(()=>xt(mt));else{const Et=mt[mt.length-1]||"";H.value=!sv(Et)}},nn=qe=>{if(!H.value)switch(qe.code){case bn.enter:oe();break;case bn.down:oe(!0),dn(Pt),qe.preventDefault();break;case bn.esc:x.value===!0&&(qe.preventDefault(),qe.stopPropagation(),oe(!1));break;case bn.tab:oe(!1);break}},_n=()=>{var qe;(qe=w.value)==null||qe.clearCheckedNodes(),!x.value&&e.filterable&&Be(),oe(!1)},Be=()=>{const{value:qe}=Ee;P.value=qe,F.value=qe},ze=qe=>{var rt,mt;const{checked:Et}=qe;be.value?(rt=w.value)==null||rt.handleCheckChange(qe,!Et,!1):(!Et&&((mt=w.value)==null||mt.handleCheckChange(qe,!0,!1)),oe(!1))},vt=qe=>{const rt=qe.target,{code:mt}=qe;switch(mt){case bn.up:case bn.down:{const Et=mt===bn.up?-1:1;Dm(NR(rt,Et,`.${a.e("suggestion-item")}[tabindex="-1"]`));break}case bn.enter:rt.click();break}},Lt=()=>{const qe=B.value,rt=qe[qe.length-1];s=F.value?0:s+1,!(!rt||!s||e.collapseTags&&qe.length>1)&&(rt.hitState?Fe(rt):rt.hitState=!0)},et=gs(()=>{const{value:qe}=de;if(!qe)return;const rt=e.beforeFilter(qe);vh(rt)?rt.then(St).catch(()=>{}):rt!==!1?St():Le()},e.debounce),xt=(qe,rt)=>{!x.value&&oe(!0),!(rt!=null&&rt.isComposing)&&(qe?et():Le())};return Ct(T,Te),Ct([ye,J],ft),Ct(B,()=>{dn(()=>At())}),Ct(Ee,qe=>P.value=qe,{immediate:!0}),jn(()=>{var qe;const rt=(qe=b.value)==null?void 0:qe.$el;i=(rt==null?void 0:rt.offsetHeight)||dre[ie.value]||ure,ss(rt,At)}),{popperOptions:fre,tooltipRef:y,popperPaneRef:_e,input:b,tagWrapper:E,panel:w,suggestionPanel:C,popperVisible:x,inputHover:M,inputPlaceholder:te,filtering:T,presentText:Ee,checkedValue:fe,inputValue:P,searchInputValue:F,presentTags:B,allPresentTags:G,suggestions:Q,isDisabled:J,isOnComposition:H,realSize:ie,tagSize:ue,multiple:be,readonly:me,clearBtnVisible:ve,nsCascader:a,nsInput:u,t:f,togglePopperVisible:oe,hideSuggestionPanel:Le,deleteTag:Fe,focusFirstNode:Pt,getCheckedNodes:Ve,handleExpandChange:at,handleKeyDown:nn,handleComposition:pt,handleClear:_n,handleSuggestionClick:ze,handleSuggestionKeyDown:vt,handleDelete:Lt,handleInput:xt}}}),mre={key:0},gre=["placeholder"],vre=["onClick"];function _re(e,n,i,s,a,u){const f=gn("circle-close"),h=gn("el-icon"),v=gn("arrow-down"),y=gn("el-input"),b=gn("el-tag"),E=gn("el-tooltip"),w=gn("el-cascader-panel"),C=gn("check"),x=gn("el-scrollbar"),M=iu("clickoutside");return X(),nt(E,{ref:"tooltipRef",visible:e.popperVisible,teleported:e.teleported,"popper-class":[e.nsCascader.e("dropdown"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${e.nsCascader.namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:e.hideSuggestionPanel},{default:Ue(()=>[Qn((X(),ge("div",{class:q([e.nsCascader.b(),e.nsCascader.m(e.realSize),e.nsCascader.is("disabled",e.isDisabled),e.$attrs.class]),style:pn(e.$attrs.style),onClick:n[11]||(n[11]=()=>e.togglePopperVisible(e.readonly?void 0:!0)),onKeydown:n[12]||(n[12]=(...T)=>e.handleKeyDown&&e.handleKeyDown(...T)),onMouseenter:n[13]||(n[13]=T=>e.inputHover=!0),onMouseleave:n[14]||(n[14]=T=>e.inputHover=!1)},[Me(y,{ref:"input",modelValue:e.inputValue,"onUpdate:modelValue":n[1]||(n[1]=T=>e.inputValue=T),placeholder:e.searchInputValue?"":e.inputPlaceholder,readonly:e.readonly,disabled:e.isDisabled,"validate-event":!1,size:e.realSize,class:q(e.nsCascader.is("focus",e.popperVisible)),onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onFocus:n[2]||(n[2]=T=>e.$emit("focus",T)),onBlur:n[3]||(n[3]=T=>e.$emit("blur",T)),onInput:e.handleInput},{suffix:Ue(()=>[e.clearBtnVisible?(X(),nt(h,{key:"clear",class:q([e.nsInput.e("icon"),"icon-circle-close"]),onClick:Bn(e.handleClear,["stop"])},{default:Ue(()=>[Me(f)]),_:1},8,["class","onClick"])):(X(),nt(h,{key:"arrow-down",class:q([e.nsInput.e("icon"),"icon-arrow-down",e.nsCascader.is("reverse",e.popperVisible)]),onClick:n[0]||(n[0]=Bn(T=>e.togglePopperVisible(),["stop"]))},{default:Ue(()=>[Me(v)]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),e.multiple?(X(),ge("div",{key:0,ref:"tagWrapper",class:q(e.nsCascader.e("tags"))},[(X(!0),ge(vn,null,cr(e.presentTags,T=>(X(),nt(b,{key:T.key,type:e.tagType,size:e.tagSize,hit:T.hitState,closable:T.closable,"disable-transitions":"",onClose:P=>e.deleteTag(T)},{default:Ue(()=>[T.isCollapseTag===!1?(X(),ge("span",mre,Ut(T.text),1)):(X(),nt(E,{key:1,teleported:!1,disabled:e.popperVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:Ue(()=>[Ce("span",null,Ut(T.text),1)]),content:Ue(()=>[Ce("div",{class:q(e.nsCascader.e("collapse-tags"))},[(X(!0),ge(vn,null,cr(e.allPresentTags.slice(1),(P,F)=>(X(),ge("div",{key:F,class:q(e.nsCascader.e("collapse-tag"))},[(X(),nt(b,{key:P.key,class:"in-tooltip",type:e.tagType,size:e.tagSize,hit:P.hitState,closable:P.closable,"disable-transitions":"",onClose:B=>e.deleteTag(P)},{default:Ue(()=>[Ce("span",null,Ut(P.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),e.filterable&&!e.isDisabled?Qn((X(),ge("input",{key:0,"onUpdate:modelValue":n[4]||(n[4]=T=>e.searchInputValue=T),type:"text",class:q(e.nsCascader.e("search-input")),placeholder:e.presentText?"":e.inputPlaceholder,onInput:n[5]||(n[5]=T=>e.handleInput(e.searchInputValue,T)),onClick:n[6]||(n[6]=Bn(T=>e.togglePopperVisible(!0),["stop"])),onKeydown:n[7]||(n[7]=hr((...T)=>e.handleDelete&&e.handleDelete(...T),["delete"])),onCompositionstart:n[8]||(n[8]=(...T)=>e.handleComposition&&e.handleComposition(...T)),onCompositionupdate:n[9]||(n[9]=(...T)=>e.handleComposition&&e.handleComposition(...T)),onCompositionend:n[10]||(n[10]=(...T)=>e.handleComposition&&e.handleComposition(...T))},null,42,gre)),[[jy,e.searchInputValue]]):je("v-if",!0)],2)):je("v-if",!0)],38)),[[M,()=>e.togglePopperVisible(!1),e.popperPaneRef]])]),content:Ue(()=>[Qn(Me(w,{ref:"panel",modelValue:e.checkedValue,"onUpdate:modelValue":n[15]||(n[15]=T=>e.checkedValue=T),options:e.options,props:e.props,border:!1,"render-label":e.$slots.default,onExpandChange:e.handleExpandChange,onClose:n[16]||(n[16]=T=>e.$nextTick(()=>e.togglePopperVisible(!1)))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[_r,!e.filtering]]),e.filterable?Qn((X(),nt(x,{key:0,ref:"suggestionPanel",tag:"ul",class:q(e.nsCascader.e("suggestion-panel")),"view-class":e.nsCascader.e("suggestion-list"),onKeydown:e.handleSuggestionKeyDown},{default:Ue(()=>[e.suggestions.length?(X(!0),ge(vn,{key:0},cr(e.suggestions,T=>(X(),ge("li",{key:T.uid,class:q([e.nsCascader.e("suggestion-item"),e.nsCascader.is("checked",T.checked)]),tabindex:-1,onClick:P=>e.handleSuggestionClick(T)},[Ce("span",null,Ut(T.text),1),T.checked?(X(),nt(h,{key:0},{default:Ue(()=>[Me(C)]),_:1})):je("v-if",!0)],10,vre))),128)):_t(e.$slots,"empty",{key:1},()=>[Ce("li",{class:q(e.nsCascader.e("empty-text"))},Ut(e.t("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class","onKeydown"])),[[_r,e.filtering]]):je("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-options","transition","onHide"])}var Hm=Ht(pre,[["render",_re],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/index.vue"]]);Hm.install=e=>{e.component(Hm.name,Hm)};const Are=Hm,yre=Are,bre=Wt({checked:{type:Boolean,default:!1}}),Sre={"update:checked":e=>Ti(e),[ii]:e=>Ti(e)},Ere={name:"ElCheckTag"},wre=yt({...Ere,props:bre,emits:Sre,setup(e,{emit:n}){const i=e,s=bt("check-tag"),a=()=>{const u=!i.checked;n(ii,u),n("update:checked",u)};return(u,f)=>(X(),ge("span",{class:q([g(s).b(),g(s).is("checked",u.checked)]),onClick:a},[_t(u.$slots,"default")],2))}});var Cre=Ht(wre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/check-tag/src/check-tag.vue"]]);const Ire=Yn(Cre),Mre=Wt({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:ot([Number,Object]),default:()=>qr({})},sm:{type:ot([Number,Object]),default:()=>qr({})},md:{type:ot([Number,Object]),default:()=>qr({})},lg:{type:ot([Number,Object]),default:()=>qr({})},xl:{type:ot([Number,Object]),default:()=>qr({})}}),xre={name:"ElCol"},Rre=yt({...xre,props:Mre,setup(e){const n=e,{gutter:i}=An(jR,{gutter:$(()=>0)}),s=bt("col"),a=$(()=>{const f={};return i.value&&(f.paddingLeft=f.paddingRight=`${i.value/2}px`),f}),u=$(()=>{const f=[];return["span","offset","pull","push"].forEach(y=>{const b=n[y];$n(b)&&(y==="span"?f.push(s.b(`${n[y]}`)):b>0&&f.push(s.b(`${y}-${n[y]}`)))}),["xs","sm","md","lg","xl"].forEach(y=>{$n(n[y])?f.push(s.b(`${y}-${n[y]}`)):ur(n[y])&&Object.entries(n[y]).forEach(([b,E])=>{f.push(b!=="span"?s.b(`${y}-${b}-${E}`):s.b(`${y}-${E}`))})}),i.value&&f.push(s.is("guttered")),f});return(f,h)=>(X(),nt(er(f.tag),{class:q([g(s).b(),g(u)]),style:pn(g(a))},{default:Ue(()=>[_t(f.$slots,"default")]),_:3},8,["class","style"]))}});var Tre=Ht(Rre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const Nre=Yn(Tre),B2=e=>typeof $n(e),Pre=Wt({accordion:Boolean,modelValue:{type:ot([Array,String,Number]),default:()=>qr([])}}),Bre={[Zn]:B2,[ii]:B2},Dre={name:"ElCollapse"},kre=yt({...Dre,props:Pre,emits:Bre,setup(e,{expose:n,emit:i}){const s=e,a=bt("collapse"),u=se(Bd(s.modelValue)),f=v=>{u.value=v;const y=s.accordion?u.value[0]:u.value;i(Zn,y),i(ii,y)},h=v=>{if(s.accordion)f([(u.value[0]||u.value[0]===0)&&u.value[0]===v?"":v]);else{const y=[...u.value],b=y.indexOf(v);b>-1?y.splice(b,1):y.push(v),f(y)}};return Ct(()=>s.modelValue,()=>u.value=Bd(s.modelValue),{deep:!0}),rr(XR,{activeNames:u,handleItemClick:h}),n({activeNames:u,setActiveNames:f}),(v,y)=>(X(),ge("div",{class:q(g(a).b()),role:"tablist","aria-multiselectable":"true"},[_t(v.$slots,"default")],2))}});var Lre=Ht(kre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const Ore={name:"ElCollapseTransition"},Fre=yt({...Ore,setup(e){const n=bt("collapse-transition"),i={beforeEnter(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0},enter(s){s.dataset.oldOverflow=s.style.overflow,s.scrollHeight!==0?(s.style.maxHeight=`${s.scrollHeight}px`,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom):(s.style.maxHeight=0,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom),s.style.overflow="hidden"},afterEnter(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow},beforeLeave(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.maxHeight=`${s.scrollHeight}px`,s.style.overflow="hidden"},leave(s){s.scrollHeight!==0&&(s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0)},afterLeave(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom}};return(s,a)=>(X(),nt(bi,nr({name:g(n).b()},aG(i)),{default:Ue(()=>[_t(s.$slots,"default")]),_:3},16,["name"]))}});var Qm=Ht(Fre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);Qm.install=e=>{e.component(Qm.name,Qm)};const mv=Qm,Vre=mv,Gre=Wt({title:{type:String,default:""},name:{type:ot([String,Number]),default:()=>Zh()},disabled:Boolean}),Ure=["aria-expanded","aria-controls","aria-describedby"],Hre=["id","tabindex","onKeypress"],Qre=["id","aria-hidden","aria-labelledby"],Xre={name:"ElCollapseItem"},zre=yt({...Xre,props:Gre,setup(e,{expose:n}){const i=e,s=An(XR),a=bt("collapse"),u=se(!1),f=se(!1),h=se(Zh()),v=$(()=>s==null?void 0:s.activeNames.value.includes(i.name)),y=()=>{setTimeout(()=>{f.value?f.value=!1:u.value=!0},50)},b=()=>{i.disabled||(s==null||s.handleItemClick(i.name),u.value=!1,f.value=!0)},E=()=>{s==null||s.handleItemClick(i.name)};return n({isActive:v}),(w,C)=>(X(),ge("div",{class:q([g(a).b("item"),g(a).is("active",g(v)),g(a).is("disabled",w.disabled)])},[Ce("div",{role:"tab","aria-expanded":g(v),"aria-controls":g(a).b(`content-${h.value}`),"aria-describedby":g(a).b(`content-${h.value}`)},[Ce("div",{id:g(a).b(`head-${h.value}`),class:q([g(a).be("item","header"),g(a).is("active",g(v)),{focusing:u.value&&!w.disabled}]),role:"button",tabindex:w.disabled?-1:0,onClick:b,onKeypress:hr(Bn(E,["stop","prevent"]),["space","enter"]),onFocus:y,onBlur:C[0]||(C[0]=x=>u.value=!1)},[_t(w.$slots,"title",{},()=>[pr(Ut(w.title),1)]),Me(g(fn),{class:q([g(a).be("item","arrow"),g(a).is("active",g(v))])},{default:Ue(()=>[Me(g(ms))]),_:1},8,["class"])],42,Hre)],8,Ure),Me(g(mv),null,{default:Ue(()=>[Qn(Ce("div",{id:g(a).b(`content-${h.value}`),class:q(g(a).be("item","wrap")),role:"tabpanel","aria-hidden":!g(v),"aria-labelledby":g(a).b(`head-${h.value}`)},[Ce("div",{class:q(g(a).be("item","content"))},[_t(w.$slots,"default")],2)],10,Qre),[[_r,g(v)]])]),_:3})],2))}});var CN=Ht(zre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const $re=Yn(Lre,{CollapseItem:CN}),Wre=di(CN);let jA=!1;function Lh(e,n){if(!dr)return;const i=function(u){var f;(f=n.drag)==null||f.call(n,u)},s=function(u){var f;document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",s),document.removeEventListener("touchmove",i),document.removeEventListener("touchend",s),document.onselectstart=null,document.ondragstart=null,jA=!1,(f=n.end)==null||f.call(n,u)},a=function(u){var f;jA||(u.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",i),document.addEventListener("mouseup",s),document.addEventListener("touchmove",i),document.addEventListener("touchend",s),jA=!0,(f=n.start)==null||f.call(n,u))};e.addEventListener("mousedown",a),e.addEventListener("touchstart",a)}const Kre=yt({name:"ElColorAlphaSlider",props:{color:{type:Object,required:!0},vertical:{type:Boolean,default:!1}},setup(e){const n=bt("color-alpha-slider"),i=qn(),s=Wr(null),a=Wr(null),u=se(0),f=se(0),h=se(null);Ct(()=>e.color.get("alpha"),()=>{C()}),Ct(()=>e.color.value,()=>{C()});function v(){if(e.vertical)return 0;const x=i.vnode.el,M=e.color.get("alpha");return x?Math.round(M*(x.offsetWidth-s.value.offsetWidth/2)/100):0}function y(){const x=i.vnode.el;if(!e.vertical)return 0;const M=e.color.get("alpha");return x?Math.round(M*(x.offsetHeight-s.value.offsetHeight/2)/100):0}function b(){if(e.color&&e.color.value){const{r:x,g:M,b:T}=e.color.toRgb();return`linear-gradient(to right, rgba(${x}, ${M}, ${T}, 0) 0%, rgba(${x}, ${M}, ${T}, 1) 100%)`}return null}function E(x){x.target!==s.value&&w(x)}function w(x){const T=i.vnode.el.getBoundingClientRect(),{clientX:P,clientY:F}=yb(x);if(e.vertical){let B=F-T.top;B=Math.max(s.value.offsetHeight/2,B),B=Math.min(B,T.height-s.value.offsetHeight/2),e.color.set("alpha",Math.round((B-s.value.offsetHeight/2)/(T.height-s.value.offsetHeight)*100))}else{let B=P-T.left;B=Math.max(s.value.offsetWidth/2,B),B=Math.min(B,T.width-s.value.offsetWidth/2),e.color.set("alpha",Math.round((B-s.value.offsetWidth/2)/(T.width-s.value.offsetWidth)*100))}}function C(){u.value=v(),f.value=y(),h.value=b()}return jn(()=>{const x={drag:M=>{w(M)},end:M=>{w(M)}};Lh(a.value,x),Lh(s.value,x),C()}),{thumb:s,bar:a,thumbLeft:u,thumbTop:f,background:h,handleClick:E,update:C,ns:n}}});function jre(e,n,i,s,a,u){return X(),ge("div",{class:q([e.ns.b(),e.ns.is("vertical",e.vertical)])},[Ce("div",{ref:"bar",class:q(e.ns.e("bar")),style:pn({background:e.background}),onClick:n[0]||(n[0]=(...f)=>e.handleClick&&e.handleClick(...f))},null,6),Ce("div",{ref:"thumb",class:q(e.ns.e("thumb")),style:pn({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var qre=Ht(Kre,[["render",jre],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const Yre=yt({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const n=bt("color-hue-slider"),i=qn(),s=se(null),a=se(null),u=se(0),f=se(0),h=$(()=>e.color.get("hue"));Ct(()=>h.value,()=>{w()});function v(C){C.target!==s.value&&y(C)}function y(C){const M=i.vnode.el.getBoundingClientRect(),{clientX:T,clientY:P}=yb(C);let F;if(e.vertical){let B=P-M.top;B=Math.min(B,M.height-s.value.offsetHeight/2),B=Math.max(s.value.offsetHeight/2,B),F=Math.round((B-s.value.offsetHeight/2)/(M.height-s.value.offsetHeight)*360)}else{let B=T-M.left;B=Math.min(B,M.width-s.value.offsetWidth/2),B=Math.max(s.value.offsetWidth/2,B),F=Math.round((B-s.value.offsetWidth/2)/(M.width-s.value.offsetWidth)*360)}e.color.set("hue",F)}function b(){const C=i.vnode.el;if(e.vertical)return 0;const x=e.color.get("hue");return C?Math.round(x*(C.offsetWidth-s.value.offsetWidth/2)/360):0}function E(){const C=i.vnode.el;if(!e.vertical)return 0;const x=e.color.get("hue");return C?Math.round(x*(C.offsetHeight-s.value.offsetHeight/2)/360):0}function w(){u.value=b(),f.value=E()}return jn(()=>{const C={drag:x=>{y(x)},end:x=>{y(x)}};Lh(a.value,C),Lh(s.value,C),w()}),{bar:a,thumb:s,thumbLeft:u,thumbTop:f,hueValue:h,handleClick:v,update:w,ns:n}}});function Jre(e,n,i,s,a,u){return X(),ge("div",{class:q([e.ns.b(),e.ns.is("vertical",e.vertical)])},[Ce("div",{ref:"bar",class:q(e.ns.e("bar")),onClick:n[0]||(n[0]=(...f)=>e.handleClick&&e.handleClick(...f))},null,2),Ce("div",{ref:"thumb",class:q(e.ns.e("thumb")),style:pn({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var Zre=Ht(Yre,[["render",Jre],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const IN=Symbol(),eie=()=>An(IN),D2=function(e,n,i){return[e,n*i/((e=(2-n)*i)<1?e:2-e)||0,e/2]},tie=function(e){return typeof e=="string"&&e.includes(".")&&Number.parseFloat(e)===1},nie=function(e){return typeof e=="string"&&e.includes("%")},Ed=function(e,n){tie(e)&&(e="100%");const i=nie(e);return e=Math.min(n,Math.max(0,Number.parseFloat(`${e}`))),i&&(e=Number.parseInt(`${e*n}`,10)/100),Math.abs(e-n)<1e-6?1:e%n/Number.parseFloat(n)},k2={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Xm=function(e){e=Math.min(Math.round(e),255);const n=Math.floor(e/16),i=e%16;return`${k2[n]||n}${k2[i]||i}`},L2=function({r:e,g:n,b:i}){return Number.isNaN(+e)||Number.isNaN(+n)||Number.isNaN(+i)?"":`#${Xm(e)}${Xm(n)}${Xm(i)}`},qA={A:10,B:11,C:12,D:13,E:14,F:15},kc=function(e){return e.length===2?(qA[e[0].toUpperCase()]||+e[0])*16+(qA[e[1].toUpperCase()]||+e[1]):qA[e[1].toUpperCase()]||+e[1]},rie=function(e,n,i){n=n/100,i=i/100;let s=n;const a=Math.max(i,.01);i*=2,n*=i<=1?i:2-i,s*=a<=1?a:2-a;const u=(i+n)/2,f=i===0?2*s/(a+s):2*n/(i+n);return{h:e,s:f*100,v:u*100}},O2=function(e,n,i){e=Ed(e,255),n=Ed(n,255),i=Ed(i,255);const s=Math.max(e,n,i),a=Math.min(e,n,i);let u;const f=s,h=s-a,v=s===0?0:h/s;if(s===a)u=0;else{switch(s){case e:{u=(n-i)/h+(n<i?6:0);break}case n:{u=(i-e)/h+2;break}case i:{u=(e-n)/h+4;break}}u/=6}return{h:u*360,s:v*100,v:f*100}},Wf=function(e,n,i){e=Ed(e,360)*6,n=Ed(n,100),i=Ed(i,100);const s=Math.floor(e),a=e-s,u=i*(1-n),f=i*(1-a*n),h=i*(1-(1-a)*n),v=s%6,y=[i,f,u,u,h,i][v],b=[h,i,i,f,u,u][v],E=[u,u,h,i,i,f][v];return{r:Math.round(y*255),g:Math.round(b*255),b:Math.round(E*255)}};class hh{constructor(n){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",n=n||{};for(const i in n)ar(n,i)&&(this[i]=n[i]);n.value?this.fromString(n.value):this.doOnChange()}set(n,i){if(arguments.length===1&&typeof n=="object"){for(const s in n)ar(n,s)&&this.set(s,n[s]);return}this[`_${n}`]=i,this.doOnChange()}get(n){return n==="alpha"?Math.floor(this[`_${n}`]):this[`_${n}`]}toRgb(){return Wf(this._hue,this._saturation,this._value)}fromString(n){if(!n){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const i=(s,a,u)=>{this._hue=Math.max(0,Math.min(360,s)),this._saturation=Math.max(0,Math.min(100,a)),this._value=Math.max(0,Math.min(100,u)),this.doOnChange()};if(n.includes("hsl")){const s=n.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,u)=>u>2?Number.parseFloat(a):Number.parseInt(a,10));if(s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3){const{h:a,s:u,v:f}=rie(s[0],s[1],s[2]);i(a,u,f)}}else if(n.includes("hsv")){const s=n.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,u)=>u>2?Number.parseFloat(a):Number.parseInt(a,10));s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3&&i(s[0],s[1],s[2])}else if(n.includes("rgb")){const s=n.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,u)=>u>2?Number.parseFloat(a):Number.parseInt(a,10));if(s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3){const{h:a,s:u,v:f}=O2(s[0],s[1],s[2]);i(a,u,f)}}else if(n.includes("#")){const s=n.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(s))return;let a,u,f;s.length===3?(a=kc(s[0]+s[0]),u=kc(s[1]+s[1]),f=kc(s[2]+s[2])):(s.length===6||s.length===8)&&(a=kc(s.slice(0,2)),u=kc(s.slice(2,4)),f=kc(s.slice(4,6))),s.length===8?this._alpha=kc(s.slice(6))/255*100:(s.length===3||s.length===6)&&(this._alpha=100);const{h,s:v,v:y}=O2(a,u,f);i(h,v,y)}}compare(n){return Math.abs(n._hue-this._hue)<2&&Math.abs(n._saturation-this._saturation)<1&&Math.abs(n._value-this._value)<1&&Math.abs(n._alpha-this._alpha)<1}doOnChange(){const{_hue:n,_saturation:i,_value:s,_alpha:a,format:u}=this;if(this.enableAlpha)switch(u){case"hsl":{const f=D2(n,i/100,s/100);this.value=`hsla(${n}, ${Math.round(f[1]*100)}%, ${Math.round(f[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${n}, ${Math.round(i)}%, ${Math.round(s)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${L2(Wf(n,i,s))}${Xm(a*255/100)}`;break}default:{const{r:f,g:h,b:v}=Wf(n,i,s);this.value=`rgba(${f}, ${h}, ${v}, ${this.get("alpha")/100})`}}else switch(u){case"hsl":{const f=D2(n,i/100,s/100);this.value=`hsl(${n}, ${Math.round(f[1]*100)}%, ${Math.round(f[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${n}, ${Math.round(i)}%, ${Math.round(s)}%)`;break}case"rgb":{const{r:f,g:h,b:v}=Wf(n,i,s);this.value=`rgb(${f}, ${h}, ${v})`;break}default:this.value=L2(Wf(n,i,s))}}}const iie=yt({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const n=bt("color-predefine"),{currentColor:i}=eie(),s=se(u(e.colors,e.color));Ct(()=>i.value,f=>{const h=new hh;h.fromString(f),s.value.forEach(v=>{v.selected=h.compare(v)})}),Yi(()=>{s.value=u(e.colors,e.color)});function a(f){e.color.fromString(e.colors[f])}function u(f,h){return f.map(v=>{const y=new hh;return y.enableAlpha=!0,y.format="rgba",y.fromString(v),y.selected=y.value===h.value,y})}return{rgbaColors:s,handleSelect:a,ns:n}}}),sie=["onClick"];function oie(e,n,i,s,a,u){return X(),ge("div",{class:q(e.ns.b())},[Ce("div",{class:q(e.ns.e("colors"))},[(X(!0),ge(vn,null,cr(e.rgbaColors,(f,h)=>(X(),ge("div",{key:e.colors[h],class:q([e.ns.e("color-selector"),e.ns.is("alpha",f._alpha<100),{selected:f.selected}]),onClick:v=>e.handleSelect(h)},[Ce("div",{style:pn({backgroundColor:f.value})},null,4)],10,sie))),128))],2)],2)}var aie=Ht(iie,[["render",oie],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const lie=yt({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const n=bt("color-svpanel"),i=qn(),s=se(0),a=se(0),u=se("hsl(0, 100%, 50%)"),f=$(()=>{const y=e.color.get("hue"),b=e.color.get("value");return{hue:y,value:b}});function h(){const y=e.color.get("saturation"),b=e.color.get("value"),E=i.vnode.el,{clientWidth:w,clientHeight:C}=E;a.value=y*w/100,s.value=(100-b)*C/100,u.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function v(y){const E=i.vnode.el.getBoundingClientRect(),{clientX:w,clientY:C}=yb(y);let x=w-E.left,M=C-E.top;x=Math.max(0,x),x=Math.min(x,E.width),M=Math.max(0,M),M=Math.min(M,E.height),a.value=x,s.value=M,e.color.set({saturation:x/E.width*100,value:100-M/E.height*100})}return Ct(()=>f.value,()=>{h()}),jn(()=>{Lh(i.vnode.el,{drag:y=>{v(y)},end:y=>{v(y)}}),h()}),{cursorTop:s,cursorLeft:a,background:u,colorValue:f,handleDrag:v,update:h,ns:n}}}),cie=Ce("div",null,null,-1),uie=[cie];function die(e,n,i,s,a,u){return X(),ge("div",{class:q(e.ns.b()),style:pn({backgroundColor:e.background})},[Ce("div",{class:q(e.ns.e("white"))},null,2),Ce("div",{class:q(e.ns.e("black"))},null,2),Ce("div",{class:q(e.ns.e("cursor")),style:pn({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},uie,6)],6)}var fie=Ht(lie,[["render",die],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const hie=yt({name:"ElColorPicker",components:{ElButton:is,ElTooltip:Ms,ElInput:rs,ElIcon:fn,Close:Ho,ArrowDown:tc,SvPanel:fie,HueSlider:Zre,AlphaSlider:qre,Predefine:aie},directives:{ClickOutside:Yl},props:{modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:{type:String,validator:_u},popperClass:String,label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:Array,validateEvent:{type:Boolean,default:!0}},emits:["change","active-change",Zn],setup(e,{emit:n}){const{t:i}=Cr(),s=bt("color"),{form:a,formItem:u}=Ks(),{inputId:f,isLabeledByFormItem:h}=ic(e,{formItemContext:u}),v=se(),y=se(),b=se(),E=se(null);let w=!0;const C=xr(new hh({enableAlpha:e.showAlpha,format:e.colorFormat||"",value:e.modelValue})),x=se(!1),M=se(!1),T=se(""),P=$(()=>!e.modelValue&&!M.value?"transparent":J(C,e.showAlpha)),F=Ei(),B=$(()=>!!(e.disabled||(a==null?void 0:a.disabled))),G=$(()=>!e.modelValue&&!M.value?"":C.value),Q=$(()=>h.value?void 0:e.label||i("el.colorpicker.defaultLabel")),H=$(()=>h.value?u==null?void 0:u.labelId:void 0);Ct(()=>e.modelValue,Ee=>{Ee?Ee&&Ee!==C.value&&(w=!1,C.fromString(Ee)):M.value=!1}),Ct(()=>G.value,Ee=>{T.value=Ee,w&&n("active-change",Ee),w=!0}),Ct(()=>C.value,()=>{!e.modelValue&&!M.value&&(M.value=!0)});function J(Ee,fe){if(!(Ee instanceof hh))throw new TypeError("color should be instance of _color Class");const{r:_e,g:oe,b:Te}=Ee.toRgb();return fe?`rgba(${_e}, ${oe}, ${Te}, ${Ee.get("alpha")/100})`:`rgb(${_e}, ${oe}, ${Te})`}function te(Ee){x.value=Ee}const ie=gs(te,100);function ue(){ie(!1),be()}function be(){dn(()=>{e.modelValue?C.fromString(e.modelValue):(C.value="",dn(()=>{M.value=!1}))})}function me(){B.value||ie(!x.value)}function de(){C.fromString(T.value)}function ye(){const Ee=C.value;n(Zn,Ee),n("change",Ee),e.validateEvent&&(u==null||u.validate("change").catch(fe=>void 0)),ie(!1),dn(()=>{const fe=new hh({enableAlpha:e.showAlpha,format:e.colorFormat||"",value:e.modelValue});C.compare(fe)||be()})}function ve(){ie(!1),n(Zn,null),n("change",null),e.modelValue!==null&&e.validateEvent&&(u==null||u.validate("change").catch(Ee=>void 0)),be()}return jn(()=>{e.modelValue&&(T.value=G.value)}),Ct(()=>x.value,()=>{dn(()=>{var Ee,fe,_e;(Ee=v.value)==null||Ee.update(),(fe=y.value)==null||fe.update(),(_e=b.value)==null||_e.update()})}),rr(IN,{currentColor:G}),{color:C,colorDisabled:B,colorSize:F,displayedColor:P,showPanelColor:M,showPicker:x,customInput:T,buttonId:f,buttonAriaLabel:Q,buttonAriaLabelledby:H,handleConfirm:de,hide:ue,handleTrigger:me,clear:ve,confirmValue:ye,t:i,ns:s,hue:v,svPanel:y,alpha:b,popper:E}}}),pie=["id","aria-label","aria-labelledby","aria-description","tabindex"];function mie(e,n,i,s,a,u){const f=gn("hue-slider"),h=gn("sv-panel"),v=gn("alpha-slider"),y=gn("predefine"),b=gn("el-input"),E=gn("el-button"),w=gn("arrow-down"),C=gn("el-icon"),x=gn("close"),M=gn("el-tooltip"),T=iu("click-outside");return X(),nt(M,{ref:"popper",visible:e.showPicker,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[e.ns.be("picker","panel"),e.ns.b("dropdown"),e.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${e.ns.namespace.value}-zoom-in-top`,persistent:""},{content:Ue(()=>[Qn((X(),ge("div",null,[Ce("div",{class:q(e.ns.be("dropdown","main-wrapper"))},[Me(f,{ref:"hue",class:"hue-slider",color:e.color,vertical:""},null,8,["color"]),Me(h,{ref:"svPanel",color:e.color},null,8,["color"])],2),e.showAlpha?(X(),nt(v,{key:0,ref:"alpha",color:e.color},null,8,["color"])):je("v-if",!0),e.predefine?(X(),nt(y,{key:1,ref:"predefine",color:e.color,colors:e.predefine},null,8,["color","colors"])):je("v-if",!0),Ce("div",{class:q(e.ns.be("dropdown","btns"))},[Ce("span",{class:q(e.ns.be("dropdown","value"))},[Me(b,{modelValue:e.customInput,"onUpdate:modelValue":n[0]||(n[0]=P=>e.customInput=P),"validate-event":!1,size:"small",onKeyup:hr(e.handleConfirm,["enter"]),onBlur:e.handleConfirm},null,8,["modelValue","onKeyup","onBlur"])],2),Me(E,{class:q(e.ns.be("dropdown","link-btn")),text:"",size:"small",onClick:e.clear},{default:Ue(()=>[pr(Ut(e.t("el.colorpicker.clear")),1)]),_:1},8,["class","onClick"]),Me(E,{plain:"",size:"small",class:q(e.ns.be("dropdown","btn")),onClick:e.confirmValue},{default:Ue(()=>[pr(Ut(e.t("el.colorpicker.confirm")),1)]),_:1},8,["class","onClick"])],2)])),[[T,e.hide]])]),default:Ue(()=>[Ce("div",{id:e.buttonId,class:q([e.ns.b("picker"),e.ns.is("disabled",e.colorDisabled),e.ns.bm("picker",e.colorSize)]),role:"button","aria-label":e.buttonAriaLabel,"aria-labelledby":e.buttonAriaLabelledby,"aria-description":e.t("el.colorpicker.description",{color:e.modelValue||""}),tabindex:e.tabindex,onKeydown:n[2]||(n[2]=hr((...P)=>e.handleTrigger&&e.handleTrigger(...P),["enter"]))},[e.colorDisabled?(X(),ge("div",{key:0,class:q(e.ns.be("picker","mask"))},null,2)):je("v-if",!0),Ce("div",{class:q(e.ns.be("picker","trigger")),onClick:n[1]||(n[1]=(...P)=>e.handleTrigger&&e.handleTrigger(...P))},[Ce("span",{class:q([e.ns.be("picker","color"),e.ns.is("alpha",e.showAlpha)])},[Ce("span",{class:q(e.ns.be("picker","color-inner")),style:pn({backgroundColor:e.displayedColor})},[Qn(Me(C,{class:q([e.ns.be("picker","icon"),e.ns.is("icon-arrow-down")])},{default:Ue(()=>[Me(w)]),_:1},8,["class"]),[[_r,e.modelValue||e.showPanelColor]]),!e.modelValue&&!e.showPanelColor?(X(),nt(C,{key:0,class:q([e.ns.be("picker","empty"),e.ns.is("icon-close")])},{default:Ue(()=>[Me(x)]),_:1},8,["class"])):je("v-if",!0)],6)],2)],2)],42,pie)]),_:1},8,["visible","popper-class","transition"])}var zm=Ht(hie,[["render",mie],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/index.vue"]]);zm.install=e=>{e.component(zm.name,zm)};const gie=zm,vie=gie,Z0={},_ie=Wt({a11y:{type:Boolean,default:!0},locale:{type:ot(Object)},size:Ws,button:{type:ot(Object)},experimentalFeatures:{type:ot(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:ot(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),Aie=yt({name:"ElConfigProvider",props:_ie,setup(e,{slots:n}){Ct(()=>e.message,s=>{Object.assign(Z0,s!=null?s:{})},{immediate:!0,deep:!0});const i=nT(e);return()=>_t(n,"default",{config:i==null?void 0:i.value})}}),yie=Yn(Aie),bie={name:"ElContainer"},Sie=yt({...bie,props:{direction:{type:String}},setup(e){const n=e,i=Zi(),s=bt("container"),a=$(()=>n.direction==="vertical"?!0:n.direction==="horizontal"?!1:i&&i.default?i.default().some(f=>{const h=f.type.name;return h==="ElHeader"||h==="ElFooter"}):!1);return(u,f)=>(X(),ge("section",{class:q([g(s).b(),g(s).is("vertical",g(a))])},[_t(u.$slots,"default")],2))}});var Eie=Ht(Sie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const wie={name:"ElAside"},Cie=yt({...wie,props:{width:{type:String,default:null}},setup(e){const n=e,i=bt("aside"),s=$(()=>n.width?i.cssVarBlock({width:n.width}):{});return(a,u)=>(X(),ge("aside",{class:q(g(i).b()),style:pn(g(s))},[_t(a.$slots,"default")],6))}});var MN=Ht(Cie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const Iie={name:"ElFooter"},Mie=yt({...Iie,props:{height:{type:String,default:null}},setup(e){const n=e,i=bt("footer"),s=$(()=>n.height?i.cssVarBlock({height:n.height}):{});return(a,u)=>(X(),ge("footer",{class:q(g(i).b()),style:pn(g(s))},[_t(a.$slots,"default")],6))}});var xN=Ht(Mie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const xie={name:"ElHeader"},Rie=yt({...xie,props:{height:{type:String,default:null}},setup(e){const n=e,i=bt("header"),s=$(()=>n.height?i.cssVarBlock({height:n.height}):{});return(a,u)=>(X(),ge("header",{class:q(g(i).b()),style:pn(g(s))},[_t(a.$slots,"default")],6))}});var RN=Ht(Rie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const Tie={name:"ElMain"},Nie=yt({...Tie,setup(e){const n=bt("main");return(i,s)=>(X(),ge("main",{class:q(g(n).b())},[_t(i.$slots,"default")],2))}});var TN=Ht(Nie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const Pie=Yn(Eie,{Aside:MN,Footer:xN,Header:RN,Main:TN}),Bie=di(MN),Die=di(xN),kie=di(RN),Lie=di(TN);var NN={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(lo,function(){return function(i,s,a){var u=s.prototype,f=u.format;a.en.ordinal=function(h){var v=["th","st","nd","rd"],y=h%100;return"["+h+(v[(y-20)%10]||v[y]||v[0])+"]"},u.format=function(h){var v=this,y=this.$locale();if(!this.isValid())return f.bind(this)(h);var b=this.$utils(),E=(h||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(w){switch(w){case"Q":return Math.ceil((v.$M+1)/3);case"Do":return y.ordinal(v.$D);case"gggg":return v.weekYear();case"GGGG":return v.isoWeekYear();case"wo":return y.ordinal(v.week(),"W");case"w":case"ww":return b.s(v.week(),w==="w"?1:2,"0");case"W":case"WW":return b.s(v.isoWeek(),w==="W"?1:2,"0");case"k":case"kk":return b.s(String(v.$H===0?24:v.$H),w==="k"?1:2,"0");case"X":return Math.floor(v.$d.getTime()/1e3);case"x":return v.$d.getTime();case"z":return"["+v.offsetName()+"]";case"zzz":return"["+v.offsetName("long")+"]";default:return w}});return f.bind(this)(E)}}})})(NN);const Oie=NN.exports;var PN={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(lo,function(){var i="week",s="year";return function(a,u,f){var h=u.prototype;h.week=function(v){if(v===void 0&&(v=null),v!==null)return this.add(7*(v-this.week()),"day");var y=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var b=f(this).startOf(s).add(1,s).date(y),E=f(this).endOf(i);if(b.isBefore(E))return 1}var w=f(this).startOf(s).date(y).startOf(i).subtract(1,"millisecond"),C=this.diff(w,i,!0);return C<0?f(this).startOf("week").week():Math.ceil(C)},h.weeks=function(v){return v===void 0&&(v=null),this.week(v)}}})})(PN);const Fie=PN.exports;var BN={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(lo,function(){return function(i,s){s.prototype.weekYear=function(){var a=this.month(),u=this.week(),f=this.year();return u===1&&a===11?f+1:a===0&&u>=52?f-1:f}}})})(BN);const Vie=BN.exports;var DN={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(lo,function(){return function(i,s,a){s.prototype.dayOfYear=function(u){var f=Math.round((a(this).startOf("day")-a(this).startOf("year"))/864e5)+1;return u==null?f:this.add(u-f,"day")}}})})(DN);const Gie=DN.exports;var kN={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(lo,function(){return function(i,s){s.prototype.isSameOrAfter=function(a,u){return this.isSame(a,u)||this.isAfter(a,u)}}})})(kN);const Uie=kN.exports;var LN={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(lo,function(){return function(i,s){s.prototype.isSameOrBefore=function(a,u){return this.isSame(a,u)||this.isBefore(a,u)}}})})(LN);const Hie=LN.exports,Qie=Wt({type:{type:ot(String),default:"date"}}),Xie=["date","dates","year","month","week","range"],Wb=Wt({disabledDate:{type:ot(Function)},date:{type:ot(Object),required:!0},minDate:{type:ot(Object)},maxDate:{type:ot(Object)},parsedValue:{type:ot([Object,Array])},rangeState:{type:ot(Object),default:()=>({endDate:null,selecting:!1})}}),ON=Wt({type:{type:ot(String),required:!0,values:aq}}),FN=Wt({unlinkPanels:Boolean,parsedValue:{type:ot(Array)}}),VN=e=>({type:String,values:Xie,default:e}),zie=Wt({...ON,parsedValue:{type:ot([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),$ie=Wt({...Wb,cellClassName:{type:ot(Function)},showWeekNumber:Boolean,selectionMode:VN("date")}),ey=e=>{if(!hn(e))return!1;const[n,i]=e;return Kn.isDayjs(n)&&Kn.isDayjs(i)&&n.isSameOrBefore(i)},GN=(e,{lang:n,unit:i,unlinkPanels:s})=>{let a;if(hn(e)){let[u,f]=e.map(h=>Kn(h).locale(n));return s||(f=u.add(1,i)),[u,f]}else e?a=Kn(e):a=Kn();return a=a.locale(n),[a,a.add(1,i)]},Wie=(e,n,{columnIndexOffset:i,startDate:s,nextEndDate:a,now:u,unit:f,relativeDateGetter:h,setCellMetadata:v,setRowMetadata:y})=>{for(let b=0;b<e.row;b++){const E=n[b];for(let w=0;w<e.column;w++){let C=E[w+i];C||(C={row:b,column:w,type:"normal",inRange:!1,start:!1,end:!1});const x=b*e.column+w,M=h(x);C.dayjs=M,C.date=M.toDate(),C.timestamp=M.valueOf(),C.type="normal",C.inRange=!!(s&&M.isSameOrAfter(s,f)&&a&&M.isSameOrBefore(a,f))||!!(s&&M.isSameOrBefore(s,f)&&a&&M.isSameOrAfter(a,f)),s!=null&&s.isSameOrAfter(a)?(C.start=!!a&&M.isSame(a,f),C.end=s&&M.isSame(s,f)):(C.start=!!s&&M.isSame(s,f),C.end=!!a&&M.isSame(a,f)),M.isSame(u,f)&&(C.type="today"),v==null||v(C,{rowIndex:b,columnIndex:w}),E[w+i]=C}y==null||y(E)}},Kie=Wt({cell:{type:ot(Object)}});var jie=yt({name:"ElDatePickerCell",props:Kie,setup(e){const n=bt("date-table-cell"),{slots:i}=An(Rb);return()=>{const{cell:s}=e;if(i.default){const a=i.default(s).filter(u=>u.patchFlag!==-2&&u.type.toString()!=="Symbol(Comment)");if(a.length)return a}return Me("div",{class:n.b()},[Me("span",{class:n.e("text")},[s==null?void 0:s.text])])}}});const qie=["aria-label"],Yie={key:0,scope:"col"},Jie=["aria-label"],Zie=["aria-current","aria-selected","tabindex"],ese=yt({__name:"basic-date-table",props:$ie,emits:["changerange","pick","select"],setup(e,{expose:n,emit:i}){const s=e,a=bt("date-table"),{t:u,lang:f}=Cr(),h=se(),v=se(),y=se(),b=se(),E=se([[],[],[],[],[],[]]);let w=!1;const C=s.date.$locale().weekStart||7,x=s.date.locale("en").localeData().weekdaysShort().map(xe=>xe.toLowerCase()),M=$(()=>C>3?7-C:-C),T=$(()=>{const xe=s.date.startOf("month");return xe.subtract(xe.day()||7,"day")}),P=$(()=>x.concat(x).slice(C,C+7)),F=$(()=>gR(te.value).some(xe=>xe.isCurrent)),B=$(()=>{const xe=s.date.startOf("month"),Fe=xe.day()||7,ft=xe.daysInMonth(),St=xe.subtract(1,"month").daysInMonth();return{startOfMonthDay:Fe,dateCountOfMonth:ft,dateCountOfLastMonth:St}}),G=$(()=>s.selectionMode==="dates"?ja(s.parsedValue):[]),Q=(xe,{count:Fe,rowIndex:ft,columnIndex:St})=>{const{startOfMonthDay:Pt,dateCountOfMonth:At,dateCountOfLastMonth:Ve}=g(B),at=g(M);if(ft>=0&&ft<=1){const pt=Pt+at<0?7+Pt+at:Pt+at;if(St+ft*7>=pt)return xe.text=Fe,!0;xe.text=Ve-(pt-St%7)+1+ft*7,xe.type="prev-month"}else return Fe<=At?xe.text=Fe:(xe.text=Fe-At,xe.type="next-month"),!0;return!1},H=(xe,{columnIndex:Fe,rowIndex:ft},St)=>{const{disabledDate:Pt,cellClassName:At}=s,Ve=g(G),at=Q(xe,{count:St,rowIndex:ft,columnIndex:Fe}),pt=xe.dayjs.toDate();return xe.selected=Ve.find(nn=>nn.valueOf()===xe.dayjs.valueOf()),xe.isSelected=!!xe.selected,xe.isCurrent=be(xe),xe.disabled=Pt==null?void 0:Pt(pt),xe.customClass=At==null?void 0:At(pt),at},J=xe=>{if(s.selectionMode==="week"){const[Fe,ft]=s.showWeekNumber?[1,7]:[0,6],St=Le(xe[Fe+1]);xe[Fe].inRange=St,xe[Fe].start=St,xe[ft].inRange=St,xe[ft].end=St}},te=$(()=>{const{minDate:xe,maxDate:Fe,rangeState:ft,showWeekNumber:St}=s,Pt=M.value,At=E.value,Ve="day";let at=1;if(St)for(let pt=0;pt<6;pt++)At[pt][0]||(At[pt][0]={type:"week",text:T.value.add(pt*7+1,Ve).week()});return Wie({row:6,column:7},At,{startDate:xe,columnIndexOffset:St?1:0,nextEndDate:ft.endDate||Fe||ft.selecting&&xe||null,now:Kn().locale(g(f)).startOf(Ve),unit:Ve,relativeDateGetter:pt=>T.value.add(pt-Pt,Ve),setCellMetadata:(...pt)=>{H(...pt,at)&&(at+=1)},setRowMetadata:J}),At});Ct(()=>s.date,async()=>{var xe,Fe;(xe=h.value)!=null&&xe.contains(document.activeElement)&&(await dn(),(Fe=v.value)==null||Fe.focus())});const ie=async()=>{var xe;(xe=v.value)==null||xe.focus()},ue=(xe="")=>["normal","today"].includes(xe),be=xe=>s.selectionMode==="date"&&ue(xe.type)&&me(xe,s.parsedValue),me=(xe,Fe)=>Fe?Kn(Fe).locale(f.value).isSame(s.date.date(Number(xe.text)),"day"):!1,de=xe=>{const Fe=[];return ue(xe.type)&&!xe.disabled?(Fe.push("available"),xe.type==="today"&&Fe.push("today")):Fe.push(xe.type),be(xe)&&Fe.push("current"),xe.inRange&&(ue(xe.type)||s.selectionMode==="week")&&(Fe.push("in-range"),xe.start&&Fe.push("start-date"),xe.end&&Fe.push("end-date")),xe.disabled&&Fe.push("disabled"),xe.selected&&Fe.push("selected"),xe.customClass&&Fe.push(xe.customClass),Fe.join(" ")},ye=(xe,Fe)=>{const ft=xe*7+(Fe-(s.showWeekNumber?1:0))-M.value;return T.value.add(ft,"day")},ve=xe=>{var Fe;if(!s.rangeState.selecting)return;let ft=xe.target;if(ft.tagName==="SPAN"&&(ft=(Fe=ft.parentNode)==null?void 0:Fe.parentNode),ft.tagName==="DIV"&&(ft=ft.parentNode),ft.tagName!=="TD")return;const St=ft.parentNode.rowIndex-1,Pt=ft.cellIndex;te.value[St][Pt].disabled||(St!==y.value||Pt!==b.value)&&(y.value=St,b.value=Pt,i("changerange",{selecting:!0,endDate:ye(St,Pt)}))},Ee=xe=>!F.value&&(xe==null?void 0:xe.text)===1&&xe.type==="normal"||xe.isCurrent,fe=xe=>{w||F.value||s.selectionMode!=="date"||Te(xe,!0)},_e=xe=>{!xe.target.closest("td")||(w=!0)},oe=xe=>{!xe.target.closest("td")||(w=!1)},Te=(xe,Fe=!1)=>{const ft=xe.target.closest("td");if(!ft)return;const St=ft.parentNode.rowIndex-1,Pt=ft.cellIndex,At=te.value[St][Pt];if(At.disabled||At.type==="week")return;const Ve=ye(St,Pt);if(s.selectionMode==="range")!s.rangeState.selecting||!s.minDate?(i("pick",{minDate:Ve,maxDate:null}),i("select",!0)):(Ve>=s.minDate?i("pick",{minDate:s.minDate,maxDate:Ve}):i("pick",{minDate:Ve,maxDate:s.minDate}),i("select",!1));else if(s.selectionMode==="date")i("pick",Ve,Fe);else if(s.selectionMode==="week"){const at=Ve.week(),pt=`${Ve.year()}w${at}`;i("pick",{year:Ve.year(),week:at,value:pt,date:Ve.startOf("week")})}else if(s.selectionMode==="dates"){const at=At.selected?ja(s.parsedValue).filter(pt=>(pt==null?void 0:pt.valueOf())!==Ve.valueOf()):ja(s.parsedValue).concat([Ve]);i("pick",at)}},Le=xe=>{if(s.selectionMode!=="week")return!1;let Fe=s.date.startOf("day");if(xe.type==="prev-month"&&(Fe=Fe.subtract(1,"month")),xe.type==="next-month"&&(Fe=Fe.add(1,"month")),Fe=Fe.date(Number.parseInt(xe.text,10)),s.parsedValue&&!Array.isArray(s.parsedValue)){const ft=(s.parsedValue.day()-C+7)%7-1;return s.parsedValue.subtract(ft,"day").isSame(Fe,"day")}return!1};return n({focus:ie}),(xe,Fe)=>(X(),ge("table",{role:"grid","aria-label":g(u)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:q([g(a).b(),{"is-week-mode":xe.selectionMode==="week"}]),onClick:Te,onMousemove:ve,onMousedown:_e,onMouseup:oe},[Ce("tbody",{ref_key:"tbodyRef",ref:h},[Ce("tr",null,[xe.showWeekNumber?(X(),ge("th",Yie,Ut(g(u)("el.datepicker.week")),1)):je("v-if",!0),(X(!0),ge(vn,null,cr(g(P),(ft,St)=>(X(),ge("th",{key:St,scope:"col","aria-label":g(u)("el.datepicker.weeksFull."+ft)},Ut(g(u)("el.datepicker.weeks."+ft)),9,Jie))),128))]),(X(!0),ge(vn,null,cr(g(te),(ft,St)=>(X(),ge("tr",{key:St,class:q([g(a).e("row"),{current:Le(ft[1])}])},[(X(!0),ge(vn,null,cr(ft,(Pt,At)=>(X(),ge("td",{key:`${St}.${At}`,ref_for:!0,ref:Ve=>Ee(Pt)&&(v.value=Ve),class:q(de(Pt)),"aria-current":Pt.isCurrent?"date":void 0,"aria-selected":Pt.isCurrent,tabindex:Ee(Pt)?0:-1,onFocus:fe},[Me(g(jie),{cell:Pt},null,8,["cell"])],42,Zie))),128))],2))),128))],512)],42,qie))}});var ty=Ht(ese,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const tse=Wt({...Wb,selectionMode:VN("month")}),nse=["aria-label"],rse=["aria-selected","aria-label","tabindex","onKeydown"],ise={class:"cell"},sse=yt({__name:"basic-month-table",props:tse,emits:["changerange","pick","select"],setup(e,{expose:n,emit:i}){const s=e,a=(G,Q,H)=>{const J=Kn().locale(H).startOf("month").month(Q).year(G),te=J.daysInMonth();return Xl(te).map(ie=>J.add(ie,"day").toDate())},u=bt("month-table"),{t:f,lang:h}=Cr(),v=se(),y=se(),b=se(s.date.locale("en").localeData().monthsShort().map(G=>G.toLowerCase())),E=se([[],[],[]]),w=se(),C=se(),x=$(()=>{var G,Q;const H=E.value,J=Kn().locale(h.value).startOf("month");for(let te=0;te<3;te++){const ie=H[te];for(let ue=0;ue<4;ue++){const be=ie[ue]||(ie[ue]={row:te,column:ue,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});be.type="normal";const me=te*4+ue,de=s.date.startOf("year").month(me),ye=s.rangeState.endDate||s.maxDate||s.rangeState.selecting&&s.minDate||null;be.inRange=!!(s.minDate&&de.isSameOrAfter(s.minDate,"month")&&ye&&de.isSameOrBefore(ye,"month"))||!!(s.minDate&&de.isSameOrBefore(s.minDate,"month")&&ye&&de.isSameOrAfter(ye,"month")),(G=s.minDate)!=null&&G.isSameOrAfter(ye)?(be.start=!!(ye&&de.isSame(ye,"month")),be.end=s.minDate&&de.isSame(s.minDate,"month")):(be.start=!!(s.minDate&&de.isSame(s.minDate,"month")),be.end=!!(ye&&de.isSame(ye,"month"))),J.isSame(de)&&(be.type="today"),be.text=me,be.disabled=((Q=s.disabledDate)==null?void 0:Q.call(s,de.toDate()))||!1}}return H}),M=()=>{var G;(G=y.value)==null||G.focus()},T=G=>{const Q={},H=s.date.year(),J=new Date,te=G.text;return Q.disabled=s.disabledDate?a(H,te,h.value).every(s.disabledDate):!1,Q.current=ja(s.parsedValue).findIndex(ie=>Kn.isDayjs(ie)&&ie.year()===H&&ie.month()===te)>=0,Q.today=J.getFullYear()===H&&J.getMonth()===te,G.inRange&&(Q["in-range"]=!0,G.start&&(Q["start-date"]=!0),G.end&&(Q["end-date"]=!0)),Q},P=G=>{const Q=s.date.year(),H=G.text;return ja(s.date).findIndex(J=>J.year()===Q&&J.month()===H)>=0},F=G=>{var Q;if(!s.rangeState.selecting)return;let H=G.target;if(H.tagName==="A"&&(H=(Q=H.parentNode)==null?void 0:Q.parentNode),H.tagName==="DIV"&&(H=H.parentNode),H.tagName!=="TD")return;const J=H.parentNode.rowIndex,te=H.cellIndex;x.value[J][te].disabled||(J!==w.value||te!==C.value)&&(w.value=J,C.value=te,i("changerange",{selecting:!0,endDate:s.date.startOf("year").month(J*4+te)}))},B=G=>{var Q;const H=(Q=G.target)==null?void 0:Q.closest("td");if((H==null?void 0:H.tagName)!=="TD"||Uo(H,"disabled"))return;const J=H.cellIndex,ie=H.parentNode.rowIndex*4+J,ue=s.date.startOf("year").month(ie);s.selectionMode==="range"?s.rangeState.selecting?(s.minDate&&ue>=s.minDate?i("pick",{minDate:s.minDate,maxDate:ue}):i("pick",{minDate:ue,maxDate:s.minDate}),i("select",!1)):(i("pick",{minDate:ue,maxDate:null}),i("select",!0)):i("pick",ie)};return Ct(()=>s.date,async()=>{var G,Q;(G=v.value)!=null&&G.contains(document.activeElement)&&(await dn(),(Q=y.value)==null||Q.focus())}),n({focus:M}),(G,Q)=>(X(),ge("table",{role:"grid","aria-label":g(f)("el.datepicker.monthTablePrompt"),class:q(g(u).b()),onClick:B,onMousemove:F},[Ce("tbody",{ref_key:"tbodyRef",ref:v},[(X(!0),ge(vn,null,cr(g(x),(H,J)=>(X(),ge("tr",{key:J},[(X(!0),ge(vn,null,cr(H,(te,ie)=>(X(),ge("td",{key:ie,ref_for:!0,ref:ue=>P(te)&&(y.value=ue),class:q(T(te)),"aria-selected":`${P(te)}`,"aria-label":g(f)(`el.datepicker.month${+te.text+1}`),tabindex:P(te)?0:-1,onKeydown:[hr(Bn(B,["prevent","stop"]),["space"]),hr(Bn(B,["prevent","stop"]),["enter"])]},[Ce("div",null,[Ce("span",ise,Ut(g(f)("el.datepicker.months."+b.value[te.text])),1)])],42,rse))),128))]))),128))],512)],42,nse))}});var ny=Ht(sse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:ose,disabledDate:ase,parsedValue:lse}=Wb,cse=Wt({date:ose,disabledDate:ase,parsedValue:lse}),use=["aria-label"],dse=["aria-selected","tabindex","onKeydown"],fse={class:"cell"},hse={key:1},pse=yt({__name:"basic-year-table",props:cse,emits:["pick"],setup(e,{expose:n,emit:i}){const s=e,a=(M,T)=>{const P=Kn(String(M)).locale(T).startOf("year"),B=P.endOf("year").dayOfYear();return Xl(B).map(G=>P.add(G,"day").toDate())},u=bt("year-table"),{t:f,lang:h}=Cr(),v=se(),y=se(),b=$(()=>Math.floor(s.date.year()/10)*10),E=()=>{var M;(M=y.value)==null||M.focus()},w=M=>{const T={},P=Kn().locale(h.value);return T.disabled=s.disabledDate?a(M,h.value).every(s.disabledDate):!1,T.current=ja(s.parsedValue).findIndex(F=>F.year()===M)>=0,T.today=P.year()===M,T},C=M=>M===b.value&&s.date.year()<b.value&&s.date.year()>b.value+9||ja(s.date).findIndex(T=>T.year()===M)>=0,x=M=>{const P=M.target.closest("td");if(P&&P.textContent){if(Uo(P,"disabled"))return;const F=P.textContent||P.innerText;i("pick",Number(F))}};return Ct(()=>s.date,async()=>{var M,T;(M=v.value)!=null&&M.contains(document.activeElement)&&(await dn(),(T=y.value)==null||T.focus())}),n({focus:E}),(M,T)=>(X(),ge("table",{role:"grid","aria-label":g(f)("el.datepicker.yearTablePrompt"),class:q(g(u).b()),onClick:x},[Ce("tbody",{ref_key:"tbodyRef",ref:v},[(X(),ge(vn,null,cr(3,(P,F)=>Ce("tr",{key:F},[(X(),ge(vn,null,cr(4,(B,G)=>(X(),ge(vn,{key:F+"_"+G},[F*4+G<10?(X(),ge("td",{key:0,ref_for:!0,ref:Q=>C(g(b)+F*4+G)&&(y.value=Q),class:q(["available",w(g(b)+F*4+G)]),"aria-selected":`${C(g(b)+F*4+G)}`,tabindex:C(g(b)+F*4+G)?0:-1,onKeydown:[hr(Bn(x,["prevent","stop"]),["space"]),hr(Bn(x,["prevent","stop"]),["enter"])]},[Ce("span",fse,Ut(g(b)+F*4+G),1)],42,dse)):(X(),ge("td",hse))],64))),64))])),64))],512)],10,use))}});var mse=Ht(pse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const gse=["onClick"],vse=["aria-label"],_se=["aria-label"],Ase=["aria-label"],yse=["aria-label"],bse=yt({__name:"panel-date-pick",props:zie,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:n}){const i=e,s=(Ke,It,$e)=>!0,a=bt("picker-panel"),u=bt("date-picker"),f=qh(),h=Zi(),{t:v,lang:y}=Cr(),b=An("EP_PICKER_BASE"),E=An(hv),{shortcuts:w,disabledDate:C,cellClassName:x,defaultTime:M,arrowControl:T}=b.props,P=ui(b.props,"defaultValue"),F=se(),B=se(Kn().locale(y.value)),G=$(()=>Kn(M).locale(y.value)),Q=$(()=>B.value.month()),H=$(()=>B.value.year()),J=se([]),te=se(null),ie=se(null),ue=Ke=>J.value.length>0?s(Ke,J.value,i.format||"HH:mm:ss"):!0,be=Ke=>M&&!nn.value?G.value.year(Ke.year()).month(Ke.month()).date(Ke.date()):St.value?Ke.millisecond(0):Ke.startOf("day"),me=(Ke,...It)=>{if(!Ke)n("pick",Ke,...It);else if(hn(Ke)){const $e=Ke.map(be);n("pick",$e,...It)}else n("pick",be(Ke),...It);te.value=null,ie.value=null},de=(Ke,It)=>{if(oe.value==="date"){Ke=Ke;let $e=i.parsedValue?i.parsedValue.year(Ke.year()).month(Ke.month()).date(Ke.date()):Ke;ue($e)||($e=J.value[0][0].year(Ke.year()).month(Ke.month()).date(Ke.date())),B.value=$e,me($e,St.value||It)}else oe.value==="week"?me(Ke.date):oe.value==="dates"&&me(Ke,!0)},ye=Ke=>{const It=Ke?"add":"subtract";B.value=B.value[It](1,"month"),Mn("month")},ve=Ke=>{const It=B.value,$e=Ke?"add":"subtract";B.value=Ee.value==="year"?It[$e](10,"year"):It[$e](1,"year"),Mn("year")},Ee=se("date"),fe=$(()=>{const Ke=v("el.datepicker.year");if(Ee.value==="year"){const It=Math.floor(H.value/10)*10;return Ke?`${It} ${Ke} - ${It+9} ${Ke}`:`${It} - ${It+9}`}return`${H.value} ${Ke}`}),_e=Ke=>{const It=Vn(Ke.value)?Ke.value():Ke.value;if(It){me(Kn(It).locale(y.value));return}Ke.onClick&&Ke.onClick({attrs:f,slots:h,emit:n})},oe=$(()=>{const{type:Ke}=i;return["week","month","year","dates"].includes(Ke)?Ke:"date"}),Te=$(()=>oe.value==="date"?Ee.value:oe.value),Le=$(()=>!!w.length),xe=async Ke=>{B.value=B.value.startOf("month").month(Ke),oe.value==="month"?me(B.value,!1):(Ee.value="date",["month","year","date","week"].includes(oe.value)&&(me(B.value,!0),await dn(),it())),Mn("month")},Fe=async Ke=>{oe.value==="year"?(B.value=B.value.startOf("year").year(Ke),me(B.value,!1)):(B.value=B.value.year(Ke),Ee.value="month",["month","year","date","week"].includes(oe.value)&&(me(B.value,!0),await dn(),it())),Mn("year")},ft=async Ke=>{Ee.value=Ke,await dn(),it()},St=$(()=>i.type==="datetime"||i.type==="datetimerange"),Pt=$(()=>St.value||oe.value==="dates"),At=()=>{if(oe.value==="dates")me(i.parsedValue);else{let Ke=i.parsedValue;if(!Ke){const It=Kn(M).locale(y.value),$e=rn();Ke=It.year($e.year()).month($e.month()).date($e.date())}B.value=Ke,me(Ke)}},Ve=()=>{const It=Kn().locale(y.value).toDate();(!C||!C(It))&&ue(It)&&(B.value=Kn().locale(y.value),me(B.value))},at=$(()=>jT(i.format)),pt=$(()=>KT(i.format)),nn=$(()=>{if(ie.value)return ie.value;if(!(!i.parsedValue&&!P.value))return(i.parsedValue||B.value).format(at.value)}),_n=$(()=>{if(te.value)return te.value;if(!(!i.parsedValue&&!P.value))return(i.parsedValue||B.value).format(pt.value)}),Be=se(!1),ze=()=>{Be.value=!0},vt=()=>{Be.value=!1},Lt=Ke=>({hour:Ke.hour(),minute:Ke.minute(),second:Ke.second(),year:Ke.year(),month:Ke.month(),date:Ke.date()}),et=(Ke,It,$e)=>{const{hour:Rt,minute:Qe,second:Dt}=Lt(Ke),Qt=i.parsedValue?i.parsedValue.hour(Rt).minute(Qe).second(Dt):Ke;B.value=Qt,me(B.value,!0),$e||(Be.value=It)},xt=Ke=>{const It=Kn(Ke,at.value).locale(y.value);if(It.isValid()&&ue(It)){const{year:$e,month:Rt,date:Qe}=Lt(B.value);B.value=It.year($e).month(Rt).date(Qe),ie.value=null,Be.value=!1,me(B.value,!0)}},qe=Ke=>{const It=Kn(Ke,pt.value).locale(y.value);if(It.isValid()){if(C&&C(It.toDate()))return;const{hour:$e,minute:Rt,second:Qe}=Lt(B.value);B.value=It.hour($e).minute(Rt).second(Qe),te.value=null,me(B.value,!0)}},rt=Ke=>Kn.isDayjs(Ke)&&Ke.isValid()&&(C?!C(Ke.toDate()):!0),mt=Ke=>oe.value==="dates"?Ke.map(It=>It.format(i.format)):Ke.format(i.format),Et=Ke=>Kn(Ke,i.format).locale(y.value),rn=()=>{const Ke=Kn(P.value).locale(y.value);if(!P.value){const It=G.value;return Kn().hour(It.hour()).minute(It.minute()).second(It.second()).locale(y.value)}return Ke},it=async()=>{var Ke;["week","month","year","date"].includes(oe.value)&&((Ke=F.value)==null||Ke.focus(),oe.value==="week"&&In(bn.down))},Xt=Ke=>{const{code:It}=Ke;[bn.up,bn.down,bn.left,bn.right,bn.home,bn.end,bn.pageUp,bn.pageDown].includes(It)&&(In(It),Ke.stopPropagation(),Ke.preventDefault()),[bn.enter,bn.space].includes(It)&&te.value===null&&ie.value===null&&(Ke.preventDefault(),me(B.value,!1))},In=Ke=>{var It;const{up:$e,down:Rt,left:Qe,right:Dt,home:Qt,end:Yt,pageUp:un,pageDown:Ar}=bn,ir={year:{[$e]:-4,[Rt]:4,[Qe]:-1,[Dt]:1,offset:(Xn,Ir)=>Xn.setFullYear(Xn.getFullYear()+Ir)},month:{[$e]:-4,[Rt]:4,[Qe]:-1,[Dt]:1,offset:(Xn,Ir)=>Xn.setMonth(Xn.getMonth()+Ir)},week:{[$e]:-1,[Rt]:1,[Qe]:-1,[Dt]:1,offset:(Xn,Ir)=>Xn.setDate(Xn.getDate()+Ir*7)},date:{[$e]:-7,[Rt]:7,[Qe]:-1,[Dt]:1,[Qt]:Xn=>-Xn.getDay(),[Yt]:Xn=>-Xn.getDay()+6,[un]:Xn=>-new Date(Xn.getFullYear(),Xn.getMonth(),0).getDate(),[Ar]:Xn=>new Date(Xn.getFullYear(),Xn.getMonth()+1,0).getDate(),offset:(Xn,Ir)=>Xn.setDate(Xn.getDate()+Ir)}},si=B.value.toDate();for(;Math.abs(B.value.diff(si,"year",!0))<1;){const Xn=ir[Te.value];if(!Xn)return;if(Xn.offset(si,Vn(Xn[Ke])?Xn[Ke](si):(It=Xn[Ke])!=null?It:0),C&&C(si))break;const Ir=Kn(si).locale(y.value);B.value=Ir,n("pick",Ir,!0);break}},Mn=Ke=>{n("panel-change",B.value.toDate(),Ke,Ee.value)};return Ct(()=>oe.value,Ke=>{if(["month","year"].includes(Ke)){Ee.value=Ke;return}Ee.value="date"},{immediate:!0}),Ct(()=>Ee.value,()=>{E==null||E.updatePopper()}),Ct(()=>P.value,Ke=>{Ke&&(B.value=rn())},{immediate:!0}),Ct(()=>i.parsedValue,Ke=>{if(Ke){if(oe.value==="dates"||Array.isArray(Ke))return;B.value=Ke}else B.value=rn()},{immediate:!0}),n("set-picker-option",["isValidValue",rt]),n("set-picker-option",["formatToString",mt]),n("set-picker-option",["parseUserInput",Et]),n("set-picker-option",["handleFocusPicker",it]),(Ke,It)=>(X(),ge("div",{class:q([g(a).b(),g(u).b(),{"has-sidebar":Ke.$slots.sidebar||g(Le),"has-time":g(St)}])},[Ce("div",{class:q(g(a).e("body-wrapper"))},[_t(Ke.$slots,"sidebar",{class:q(g(a).e("sidebar"))}),g(Le)?(X(),ge("div",{key:0,class:q(g(a).e("sidebar"))},[(X(!0),ge(vn,null,cr(g(w),($e,Rt)=>(X(),ge("button",{key:Rt,type:"button",class:q(g(a).e("shortcut")),onClick:Qe=>_e($e)},Ut($e.text),11,gse))),128))],2)):je("v-if",!0),Ce("div",{class:q(g(a).e("body"))},[g(St)?(X(),ge("div",{key:0,class:q(g(u).e("time-header"))},[Ce("span",{class:q(g(u).e("editor-wrap"))},[Me(g(rs),{placeholder:g(v)("el.datepicker.selectDate"),"model-value":g(_n),size:"small","validate-event":!1,onInput:It[0]||(It[0]=$e=>te.value=$e),onChange:qe},null,8,["placeholder","model-value"])],2),Qn((X(),ge("span",{class:q(g(u).e("editor-wrap"))},[Me(g(rs),{placeholder:g(v)("el.datepicker.selectTime"),"model-value":g(nn),size:"small","validate-event":!1,onFocus:ze,onInput:It[1]||(It[1]=$e=>ie.value=$e),onChange:xt},null,8,["placeholder","model-value"]),Me(g(Sg),{visible:Be.value,format:g(at),"time-arrow-control":g(T),"parsed-value":B.value,onPick:et},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[g(Yl),vt]])],2)):je("v-if",!0),Qn(Ce("div",{class:q([g(u).e("header"),(Ee.value==="year"||Ee.value==="month")&&g(u).e("header--bordered")])},[Ce("span",{class:q(g(u).e("prev-btn"))},[Ce("button",{type:"button","aria-label":g(v)("el.datepicker.prevYear"),class:q(["d-arrow-left",g(a).e("icon-btn")]),onClick:It[2]||(It[2]=$e=>ve(!1))},[Me(g(fn),null,{default:Ue(()=>[Me(g(Td))]),_:1})],10,vse),Qn(Ce("button",{type:"button","aria-label":g(v)("el.datepicker.prevMonth"),class:q([g(a).e("icon-btn"),"arrow-left"]),onClick:It[3]||(It[3]=$e=>ye(!1))},[Me(g(fn),null,{default:Ue(()=>[Me(g(Kl))]),_:1})],10,_se),[[_r,Ee.value==="date"]])],2),Ce("span",{role:"button",class:q(g(u).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:It[4]||(It[4]=hr($e=>ft("year"),["enter"])),onClick:It[5]||(It[5]=$e=>ft("year"))},Ut(g(fe)),35),Qn(Ce("span",{role:"button","aria-live":"polite",tabindex:"0",class:q([g(u).e("header-label"),{active:Ee.value==="month"}]),onKeydown:It[6]||(It[6]=hr($e=>ft("month"),["enter"])),onClick:It[7]||(It[7]=$e=>ft("month"))},Ut(g(v)(`el.datepicker.month${g(Q)+1}`)),35),[[_r,Ee.value==="date"]]),Ce("span",{class:q(g(u).e("next-btn"))},[Qn(Ce("button",{type:"button","aria-label":g(v)("el.datepicker.nextMonth"),class:q([g(a).e("icon-btn"),"arrow-right"]),onClick:It[8]||(It[8]=$e=>ye(!0))},[Me(g(fn),null,{default:Ue(()=>[Me(g(ms))]),_:1})],10,Ase),[[_r,Ee.value==="date"]]),Ce("button",{type:"button","aria-label":g(v)("el.datepicker.nextYear"),class:q([g(a).e("icon-btn"),"d-arrow-right"]),onClick:It[9]||(It[9]=$e=>ve(!0))},[Me(g(fn),null,{default:Ue(()=>[Me(g(Nd))]),_:1})],10,yse)],2)],2),[[_r,Ee.value!=="time"]]),Ce("div",{class:q(g(a).e("content")),onKeydown:Xt},[Ee.value==="date"?(X(),nt(ty,{key:0,ref_key:"currentViewRef",ref:F,"selection-mode":g(oe),date:B.value,"parsed-value":Ke.parsedValue,"disabled-date":g(C),"cell-class-name":g(x),onPick:de},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):je("v-if",!0),Ee.value==="year"?(X(),nt(mse,{key:1,ref_key:"currentViewRef",ref:F,date:B.value,"disabled-date":g(C),"parsed-value":Ke.parsedValue,onPick:Fe},null,8,["date","disabled-date","parsed-value"])):je("v-if",!0),Ee.value==="month"?(X(),nt(ny,{key:2,ref_key:"currentViewRef",ref:F,date:B.value,"parsed-value":Ke.parsedValue,"disabled-date":g(C),onPick:xe},null,8,["date","parsed-value","disabled-date"])):je("v-if",!0)],34)],2)],2),Qn(Ce("div",{class:q(g(a).e("footer"))},[Qn(Me(g(is),{text:"",size:"small",class:q(g(a).e("link-btn")),onClick:Ve},{default:Ue(()=>[pr(Ut(g(v)("el.datepicker.now")),1)]),_:1},8,["class"]),[[_r,g(oe)!=="dates"]]),Me(g(is),{plain:"",size:"small",class:q(g(a).e("link-btn")),onClick:At},{default:Ue(()=>[pr(Ut(g(v)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[_r,g(Pt)&&Ee.value==="date"]])],2))}});var Sse=Ht(bse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const Ese=Wt({...ON,...FN}),wse=e=>{const{emit:n}=qn(),i=qh(),s=Zi();return u=>{const f=Vn(u.value)?u.value():u.value;if(f){n("pick",[Kn(f[0]).locale(e.value),Kn(f[1]).locale(e.value)]);return}u.onClick&&u.onClick({attrs:i,slots:s,emit:n})}},UN=(e,{defaultValue:n,leftDate:i,rightDate:s,unit:a,onParsedValueChanged:u})=>{const{emit:f}=qn(),{pickerNs:h}=An(Rb),v=bt("date-range-picker"),{t:y,lang:b}=Cr(),E=wse(b),w=se(),C=se(),x=se({endDate:null,selecting:!1}),M=B=>{x.value=B},T=(B=!1)=>{const G=g(w),Q=g(C);ey([G,Q])&&f("pick",[G,Q],B)},P=B=>{x.value.selecting=B,B||(x.value.endDate=null)},F=()=>{const[B,G]=GN(g(n),{lang:g(b),unit:a,unlinkPanels:e.unlinkPanels});w.value=void 0,C.value=void 0,i.value=B,s.value=G};return Ct(n,B=>{B&&F()},{immediate:!0}),Ct(()=>e.parsedValue,B=>{if(hn(B)&&B.length===2){const[G,Q]=B;w.value=G,i.value=G,C.value=Q,u(g(w),g(C))}else F()},{immediate:!0}),{minDate:w,maxDate:C,rangeState:x,lang:b,ppNs:h,drpNs:v,handleChangeRange:M,handleRangeConfirm:T,handleShortcutClick:E,onSelect:P,t:y}},Cse=["onClick"],Ise=["disabled"],Mse=["disabled"],xse=["disabled"],Rse=["disabled"],Tse=yt({__name:"panel-date-range",props:Ese,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:n}){const i=e,s="month",a=An("EP_PICKER_BASE"),{disabledDate:u,cellClassName:f,format:h,defaultTime:v,arrowControl:y,clearable:b}=a.props,E=ui(a.props,"shortcuts"),w=ui(a.props,"defaultValue"),{lang:C}=Cr(),x=se(Kn().locale(C.value)),M=se(Kn().locale(C.value).add(1,s)),{minDate:T,maxDate:P,rangeState:F,ppNs:B,drpNs:G,handleChangeRange:Q,handleRangeConfirm:H,handleShortcutClick:J,onSelect:te,t:ie}=UN(i,{defaultValue:w,leftDate:x,rightDate:M,unit:s,onParsedValueChanged:Dt}),ue=se({min:null,max:null}),be=se({min:null,max:null}),me=$(()=>`${x.value.year()} ${ie("el.datepicker.year")} ${ie(`el.datepicker.month${x.value.month()+1}`)}`),de=$(()=>`${M.value.year()} ${ie("el.datepicker.year")} ${ie(`el.datepicker.month${M.value.month()+1}`)}`),ye=$(()=>x.value.year()),ve=$(()=>x.value.month()),Ee=$(()=>M.value.year()),fe=$(()=>M.value.month()),_e=$(()=>!!E.value.length),oe=$(()=>ue.value.min!==null?ue.value.min:T.value?T.value.format(ft.value):""),Te=$(()=>ue.value.max!==null?ue.value.max:P.value||T.value?(P.value||T.value).format(ft.value):""),Le=$(()=>be.value.min!==null?be.value.min:T.value?T.value.format(Fe.value):""),xe=$(()=>be.value.max!==null?be.value.max:P.value||T.value?(P.value||T.value).format(Fe.value):""),Fe=$(()=>jT(h)),ft=$(()=>KT(h)),St=()=>{x.value=x.value.subtract(1,"year"),i.unlinkPanels||(M.value=x.value.add(1,"month")),Be("year")},Pt=()=>{x.value=x.value.subtract(1,"month"),i.unlinkPanels||(M.value=x.value.add(1,"month")),Be("month")},At=()=>{i.unlinkPanels?M.value=M.value.add(1,"year"):(x.value=x.value.add(1,"year"),M.value=x.value.add(1,"month")),Be("year")},Ve=()=>{i.unlinkPanels?M.value=M.value.add(1,"month"):(x.value=x.value.add(1,"month"),M.value=x.value.add(1,"month")),Be("month")},at=()=>{x.value=x.value.add(1,"year"),Be("year")},pt=()=>{x.value=x.value.add(1,"month"),Be("month")},nn=()=>{M.value=M.value.subtract(1,"year"),Be("year")},_n=()=>{M.value=M.value.subtract(1,"month"),Be("month")},Be=Qt=>{n("panel-change",[x.value.toDate(),M.value.toDate()],Qt)},ze=$(()=>{const Qt=(ve.value+1)%12,Yt=ve.value+1>=12?1:0;return i.unlinkPanels&&new Date(ye.value+Yt,Qt)<new Date(Ee.value,fe.value)}),vt=$(()=>i.unlinkPanels&&Ee.value*12+fe.value-(ye.value*12+ve.value+1)>=12),Lt=$(()=>!(T.value&&P.value&&!F.value.selecting&&ey([T.value,P.value]))),et=$(()=>i.type==="datetime"||i.type==="datetimerange"),xt=(Qt,Yt)=>{if(!!Qt)return v?Kn(v[Yt]||v).locale(C.value).year(Qt.year()).month(Qt.month()).date(Qt.date()):Qt},qe=(Qt,Yt=!0)=>{const un=Qt.minDate,Ar=Qt.maxDate,ir=xt(un,0),si=xt(Ar,1);P.value===si&&T.value===ir||(n("calendar-change",[un.toDate(),Ar&&Ar.toDate()]),P.value=si,T.value=ir,!(!Yt||et.value)&&H())},rt=se(!1),mt=se(!1),Et=()=>{rt.value=!1},rn=()=>{mt.value=!1},it=(Qt,Yt)=>{ue.value[Yt]=Qt;const un=Kn(Qt,ft.value).locale(C.value);if(un.isValid()){if(u&&u(un.toDate()))return;Yt==="min"?(x.value=un,T.value=(T.value||x.value).year(un.year()).month(un.month()).date(un.date()),i.unlinkPanels||(M.value=un.add(1,"month"),P.value=T.value.add(1,"month"))):(M.value=un,P.value=(P.value||M.value).year(un.year()).month(un.month()).date(un.date()),i.unlinkPanels||(x.value=un.subtract(1,"month"),T.value=P.value.subtract(1,"month")))}},Xt=(Qt,Yt)=>{ue.value[Yt]=null},In=(Qt,Yt)=>{be.value[Yt]=Qt;const un=Kn(Qt,Fe.value).locale(C.value);un.isValid()&&(Yt==="min"?(rt.value=!0,T.value=(T.value||x.value).hour(un.hour()).minute(un.minute()).second(un.second()),(!P.value||P.value.isBefore(T.value))&&(P.value=T.value)):(mt.value=!0,P.value=(P.value||M.value).hour(un.hour()).minute(un.minute()).second(un.second()),M.value=P.value,P.value&&P.value.isBefore(T.value)&&(T.value=P.value)))},Mn=(Qt,Yt)=>{be.value[Yt]=null,Yt==="min"?(x.value=T.value,rt.value=!1):(M.value=P.value,mt.value=!1)},Ke=(Qt,Yt,un)=>{be.value.min||(Qt&&(x.value=Qt,T.value=(T.value||x.value).hour(Qt.hour()).minute(Qt.minute()).second(Qt.second())),un||(rt.value=Yt),(!P.value||P.value.isBefore(T.value))&&(P.value=T.value,M.value=Qt))},It=(Qt,Yt,un)=>{be.value.max||(Qt&&(M.value=Qt,P.value=(P.value||M.value).hour(Qt.hour()).minute(Qt.minute()).second(Qt.second())),un||(mt.value=Yt),P.value&&P.value.isBefore(T.value)&&(T.value=P.value))},$e=()=>{x.value=GN(g(w),{lang:g(C),unit:"month",unlinkPanels:i.unlinkPanels})[0],M.value=x.value.add(1,"month"),n("pick",null)},Rt=Qt=>hn(Qt)?Qt.map(Yt=>Yt.format(h)):Qt.format(h),Qe=Qt=>hn(Qt)?Qt.map(Yt=>Kn(Yt,h).locale(C.value)):Kn(Qt,h).locale(C.value);function Dt(Qt,Yt){if(i.unlinkPanels&&Yt){const un=(Qt==null?void 0:Qt.year())||0,Ar=(Qt==null?void 0:Qt.month())||0,ir=Yt.year(),si=Yt.month();M.value=un===ir&&Ar===si?Yt.add(1,s):Yt}else M.value=x.value.add(1,s),Yt&&(M.value=M.value.hour(Yt.hour()).minute(Yt.minute()).second(Yt.second()))}return n("set-picker-option",["isValidValue",ey]),n("set-picker-option",["parseUserInput",Qe]),n("set-picker-option",["formatToString",Rt]),n("set-picker-option",["handleClear",$e]),(Qt,Yt)=>(X(),ge("div",{class:q([g(B).b(),g(G).b(),{"has-sidebar":Qt.$slots.sidebar||g(_e),"has-time":g(et)}])},[Ce("div",{class:q(g(B).e("body-wrapper"))},[_t(Qt.$slots,"sidebar",{class:q(g(B).e("sidebar"))}),g(_e)?(X(),ge("div",{key:0,class:q(g(B).e("sidebar"))},[(X(!0),ge(vn,null,cr(g(E),(un,Ar)=>(X(),ge("button",{key:Ar,type:"button",class:q(g(B).e("shortcut")),onClick:ir=>g(J)(un)},Ut(un.text),11,Cse))),128))],2)):je("v-if",!0),Ce("div",{class:q(g(B).e("body"))},[g(et)?(X(),ge("div",{key:0,class:q(g(G).e("time-header"))},[Ce("span",{class:q(g(G).e("editors-wrap"))},[Ce("span",{class:q(g(G).e("time-picker-wrap"))},[Me(g(rs),{size:"small",disabled:g(F).selecting,placeholder:g(ie)("el.datepicker.startDate"),class:q(g(G).e("editor")),"model-value":g(oe),"validate-event":!1,onInput:Yt[0]||(Yt[0]=un=>it(un,"min")),onChange:Yt[1]||(Yt[1]=un=>Xt(un,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Qn((X(),ge("span",{class:q(g(G).e("time-picker-wrap"))},[Me(g(rs),{size:"small",class:q(g(G).e("editor")),disabled:g(F).selecting,placeholder:g(ie)("el.datepicker.startTime"),"model-value":g(Le),"validate-event":!1,onFocus:Yt[2]||(Yt[2]=un=>rt.value=!0),onInput:Yt[3]||(Yt[3]=un=>In(un,"min")),onChange:Yt[4]||(Yt[4]=un=>Mn(un,"min"))},null,8,["class","disabled","placeholder","model-value"]),Me(g(Sg),{visible:rt.value,format:g(Fe),"datetime-role":"start","time-arrow-control":g(y),"parsed-value":x.value,onPick:Ke},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[g(Yl),Et]])],2),Ce("span",null,[Me(g(fn),null,{default:Ue(()=>[Me(g(ms))]),_:1})]),Ce("span",{class:q([g(G).e("editors-wrap"),"is-right"])},[Ce("span",{class:q(g(G).e("time-picker-wrap"))},[Me(g(rs),{size:"small",class:q(g(G).e("editor")),disabled:g(F).selecting,placeholder:g(ie)("el.datepicker.endDate"),"model-value":g(Te),readonly:!g(T),"validate-event":!1,onInput:Yt[5]||(Yt[5]=un=>it(un,"max")),onChange:Yt[6]||(Yt[6]=un=>Xt(un,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Qn((X(),ge("span",{class:q(g(G).e("time-picker-wrap"))},[Me(g(rs),{size:"small",class:q(g(G).e("editor")),disabled:g(F).selecting,placeholder:g(ie)("el.datepicker.endTime"),"model-value":g(xe),readonly:!g(T),"validate-event":!1,onFocus:Yt[7]||(Yt[7]=un=>g(T)&&(mt.value=!0)),onInput:Yt[8]||(Yt[8]=un=>In(un,"max")),onChange:Yt[9]||(Yt[9]=un=>Mn(un,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),Me(g(Sg),{"datetime-role":"end",visible:mt.value,format:g(Fe),"time-arrow-control":g(y),"parsed-value":M.value,onPick:It},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[g(Yl),rn]])],2)],2)):je("v-if",!0),Ce("div",{class:q([[g(B).e("content"),g(G).e("content")],"is-left"])},[Ce("div",{class:q(g(G).e("header"))},[Ce("button",{type:"button",class:q([g(B).e("icon-btn"),"d-arrow-left"]),onClick:St},[Me(g(fn),null,{default:Ue(()=>[Me(g(Td))]),_:1})],2),Ce("button",{type:"button",class:q([g(B).e("icon-btn"),"arrow-left"]),onClick:Pt},[Me(g(fn),null,{default:Ue(()=>[Me(g(Kl))]),_:1})],2),Qt.unlinkPanels?(X(),ge("button",{key:0,type:"button",disabled:!g(vt),class:q([[g(B).e("icon-btn"),{"is-disabled":!g(vt)}],"d-arrow-right"]),onClick:at},[Me(g(fn),null,{default:Ue(()=>[Me(g(Nd))]),_:1})],10,Ise)):je("v-if",!0),Qt.unlinkPanels?(X(),ge("button",{key:1,type:"button",disabled:!g(ze),class:q([[g(B).e("icon-btn"),{"is-disabled":!g(ze)}],"arrow-right"]),onClick:pt},[Me(g(fn),null,{default:Ue(()=>[Me(g(ms))]),_:1})],10,Mse)):je("v-if",!0),Ce("div",null,Ut(g(me)),1)],2),Me(ty,{"selection-mode":"range",date:x.value,"min-date":g(T),"max-date":g(P),"range-state":g(F),"disabled-date":g(u),"cell-class-name":g(f),onChangerange:g(Q),onPick:qe,onSelect:g(te)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),Ce("div",{class:q([[g(B).e("content"),g(G).e("content")],"is-right"])},[Ce("div",{class:q(g(G).e("header"))},[Qt.unlinkPanels?(X(),ge("button",{key:0,type:"button",disabled:!g(vt),class:q([[g(B).e("icon-btn"),{"is-disabled":!g(vt)}],"d-arrow-left"]),onClick:nn},[Me(g(fn),null,{default:Ue(()=>[Me(g(Td))]),_:1})],10,xse)):je("v-if",!0),Qt.unlinkPanels?(X(),ge("button",{key:1,type:"button",disabled:!g(ze),class:q([[g(B).e("icon-btn"),{"is-disabled":!g(ze)}],"arrow-left"]),onClick:_n},[Me(g(fn),null,{default:Ue(()=>[Me(g(Kl))]),_:1})],10,Rse)):je("v-if",!0),Ce("button",{type:"button",class:q([g(B).e("icon-btn"),"d-arrow-right"]),onClick:At},[Me(g(fn),null,{default:Ue(()=>[Me(g(Nd))]),_:1})],2),Ce("button",{type:"button",class:q([g(B).e("icon-btn"),"arrow-right"]),onClick:Ve},[Me(g(fn),null,{default:Ue(()=>[Me(g(ms))]),_:1})],2),Ce("div",null,Ut(g(de)),1)],2),Me(ty,{"selection-mode":"range",date:M.value,"min-date":g(T),"max-date":g(P),"range-state":g(F),"disabled-date":g(u),"cell-class-name":g(f),onChangerange:g(Q),onPick:qe,onSelect:g(te)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),g(et)?(X(),ge("div",{key:0,class:q(g(B).e("footer"))},[g(b)?(X(),nt(g(is),{key:0,text:"",size:"small",class:q(g(B).e("link-btn")),onClick:$e},{default:Ue(()=>[pr(Ut(g(ie)("el.datepicker.clear")),1)]),_:1},8,["class"])):je("v-if",!0),Me(g(is),{plain:"",size:"small",class:q(g(B).e("link-btn")),disabled:g(Lt),onClick:Yt[10]||(Yt[10]=un=>g(H)(!1))},{default:Ue(()=>[pr(Ut(g(ie)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):je("v-if",!0)],2))}});var Nse=Ht(Tse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const Pse=Wt({...FN}),Bse=["pick","set-picker-option"],Dse=({unlinkPanels:e,leftDate:n,rightDate:i})=>{const{t:s}=Cr(),a=()=>{n.value=n.value.subtract(1,"year"),e||(i.value=i.value.subtract(1,"year"))},u=()=>{e||(n.value=n.value.add(1,"year")),i.value=i.value.add(1,"year")},f=()=>{n.value=n.value.add(1,"year")},h=()=>{i.value=i.value.subtract(1,"year")},v=$(()=>`${n.value.year()} ${s("el.datepicker.year")}`),y=$(()=>`${i.value.year()} ${s("el.datepicker.year")}`),b=$(()=>n.value.year()),E=$(()=>i.value.year()===n.value.year()?n.value.year()+1:i.value.year());return{leftPrevYear:a,rightNextYear:u,leftNextYear:f,rightPrevYear:h,leftLabel:v,rightLabel:y,leftYear:b,rightYear:E}},kse=["onClick"],Lse=["disabled"],Ose=["disabled"],Fse={name:"DatePickerMonthRange"},Vse=yt({...Fse,props:Pse,emits:Bse,setup(e,{emit:n}){const i=e,s="year",{lang:a}=Cr(),u=An("EP_PICKER_BASE"),{shortcuts:f,disabledDate:h,format:v}=u.props,y=ui(u.props,"defaultValue"),b=se(Kn().locale(a.value)),E=se(Kn().locale(a.value).add(1,s)),{minDate:w,maxDate:C,rangeState:x,ppNs:M,drpNs:T,handleChangeRange:P,handleRangeConfirm:F,handleShortcutClick:B,onSelect:G}=UN(i,{defaultValue:y,leftDate:b,rightDate:E,unit:s,onParsedValueChanged:fe}),Q=$(()=>!!f.length),{leftPrevYear:H,rightNextYear:J,leftNextYear:te,rightPrevYear:ie,leftLabel:ue,rightLabel:be,leftYear:me,rightYear:de}=Dse({unlinkPanels:ui(i,"unlinkPanels"),leftDate:b,rightDate:E}),ye=$(()=>i.unlinkPanels&&de.value>me.value+1),ve=(_e,oe=!0)=>{const Te=_e.minDate,Le=_e.maxDate;C.value===Le&&w.value===Te||(C.value=Le,w.value=Te,oe&&F())},Ee=_e=>_e.map(oe=>oe.format(v));function fe(_e,oe){if(i.unlinkPanels&&oe){const Te=(_e==null?void 0:_e.year())||0,Le=oe.year();E.value=Te===Le?oe.add(1,s):oe}else E.value=b.value.add(1,s)}return n("set-picker-option",["formatToString",Ee]),(_e,oe)=>(X(),ge("div",{class:q([g(M).b(),g(T).b(),{"has-sidebar":Boolean(_e.$slots.sidebar)||g(Q)}])},[Ce("div",{class:q(g(M).e("body-wrapper"))},[_t(_e.$slots,"sidebar",{class:q(g(M).e("sidebar"))}),g(Q)?(X(),ge("div",{key:0,class:q(g(M).e("sidebar"))},[(X(!0),ge(vn,null,cr(g(f),(Te,Le)=>(X(),ge("button",{key:Le,type:"button",class:q(g(M).e("shortcut")),onClick:xe=>g(B)(Te)},Ut(Te.text),11,kse))),128))],2)):je("v-if",!0),Ce("div",{class:q(g(M).e("body"))},[Ce("div",{class:q([[g(M).e("content"),g(T).e("content")],"is-left"])},[Ce("div",{class:q(g(T).e("header"))},[Ce("button",{type:"button",class:q([g(M).e("icon-btn"),"d-arrow-left"]),onClick:oe[0]||(oe[0]=(...Te)=>g(H)&&g(H)(...Te))},[Me(g(fn),null,{default:Ue(()=>[Me(g(Td))]),_:1})],2),_e.unlinkPanels?(X(),ge("button",{key:0,type:"button",disabled:!g(ye),class:q([[g(M).e("icon-btn"),{[g(M).is("disabled")]:!g(ye)}],"d-arrow-right"]),onClick:oe[1]||(oe[1]=(...Te)=>g(te)&&g(te)(...Te))},[Me(g(fn),null,{default:Ue(()=>[Me(g(Nd))]),_:1})],10,Lse)):je("v-if",!0),Ce("div",null,Ut(g(ue)),1)],2),Me(ny,{"selection-mode":"range",date:b.value,"min-date":g(w),"max-date":g(C),"range-state":g(x),"disabled-date":g(h),onChangerange:g(P),onPick:ve,onSelect:g(G)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),Ce("div",{class:q([[g(M).e("content"),g(T).e("content")],"is-right"])},[Ce("div",{class:q(g(T).e("header"))},[_e.unlinkPanels?(X(),ge("button",{key:0,type:"button",disabled:!g(ye),class:q([[g(M).e("icon-btn"),{"is-disabled":!g(ye)}],"d-arrow-left"]),onClick:oe[2]||(oe[2]=(...Te)=>g(ie)&&g(ie)(...Te))},[Me(g(fn),null,{default:Ue(()=>[Me(g(Td))]),_:1})],10,Ose)):je("v-if",!0),Ce("button",{type:"button",class:q([g(M).e("icon-btn"),"d-arrow-right"]),onClick:oe[3]||(oe[3]=(...Te)=>g(J)&&g(J)(...Te))},[Me(g(fn),null,{default:Ue(()=>[Me(g(Nd))]),_:1})],2),Ce("div",null,Ut(g(be)),1)],2),Me(ny,{"selection-mode":"range",date:E.value,"min-date":g(w),"max-date":g(C),"range-state":g(x),"disabled-date":g(h),onChangerange:g(P),onPick:ve,onSelect:g(G)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var Gse=Ht(Vse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const Use=function(e){switch(e){case"daterange":case"datetimerange":return Nse;case"monthrange":return Gse;default:return Sse}};Kn.extend($T);Kn.extend(Oie);Kn.extend(Qb);Kn.extend(Fie);Kn.extend(Vie);Kn.extend(Gie);Kn.extend(Uie);Kn.extend(Hie);var Hse=yt({name:"ElDatePicker",install:null,props:{...Xb,...Qie},emits:["update:modelValue"],setup(e,{expose:n,emit:i,slots:s}){const a=bt("picker-panel");rr("ElPopperOptions",xr(ui(e,"popperOptions"))),rr(Rb,{slots:s,pickerNs:a});const u=se();n({focus:(v=!0)=>{var y;(y=u.value)==null||y.focus(v)},handleOpen:()=>{var v;(v=u.value)==null||v.handleOpen()},handleClose:()=>{var v;(v=u.value)==null||v.handleClose()}});const h=v=>{i("update:modelValue",v)};return()=>{var v;const y=(v=e.format)!=null?v:Jee[e.type]||dd,b=Use(e.type);return Me(JT,nr(e,{format:y,type:e.type,ref:u,"onUpdate:modelValue":h}),{default:E=>Me(b,E,null),"range-separator":s["range-separator"]})}}});const $m=Hse;$m.install=e=>{e.component($m.name,$m)};const Qse=$m,Kb="elDescriptions";var Kf=yt({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup(){return{descriptions:An(Kb,{})}},render(){var e,n,i,s,a,u;const f=fq(this.cell),{border:h,direction:v}=this.descriptions,y=v==="vertical",b=((i=(n=(e=this.cell)==null?void 0:e.children)==null?void 0:n.label)==null?void 0:i.call(n))||f.label,E=(u=(a=(s=this.cell)==null?void 0:s.children)==null?void 0:a.default)==null?void 0:u.call(a),w=f.span,C=f.align?`is-${f.align}`:"",x=f.labelAlign?`is-${f.labelAlign}`:C,M=f.className,T=f.labelClassName,P={width:Mi(f.width),minWidth:Mi(f.minWidth)},F=bt("descriptions");switch(this.type){case"label":return Sn(this.tag,{style:P,class:[F.e("cell"),F.e("label"),F.is("bordered-label",h),F.is("vertical-label",y),x,T],colSpan:y?w:1},b);case"content":return Sn(this.tag,{style:P,class:[F.e("cell"),F.e("content"),F.is("bordered-content",h),F.is("vertical-content",y),C,M],colSpan:y?w:w*2-1},E);default:return Sn("td",{style:P,class:[F.e("cell"),C],colSpan:w},[Sn("span",{class:[F.e("label"),T]},b),Sn("span",{class:[F.e("content"),M]},E)])}}});const Xse=Wt({row:{type:Array,default:()=>[]}}),zse={key:1},$se={name:"ElDescriptionsRow"},Wse=yt({...$se,props:Xse,setup(e){const n=An(Kb,{});return(i,s)=>g(n).direction==="vertical"?(X(),ge(vn,{key:0},[Ce("tr",null,[(X(!0),ge(vn,null,cr(i.row,(a,u)=>(X(),nt(g(Kf),{key:`tr1-${u}`,cell:a,tag:"th",type:"label"},null,8,["cell"]))),128))]),Ce("tr",null,[(X(!0),ge(vn,null,cr(i.row,(a,u)=>(X(),nt(g(Kf),{key:`tr2-${u}`,cell:a,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(X(),ge("tr",zse,[(X(!0),ge(vn,null,cr(i.row,(a,u)=>(X(),ge(vn,{key:`tr3-${u}`},[g(n).border?(X(),ge(vn,{key:0},[Me(g(Kf),{cell:a,tag:"td",type:"label"},null,8,["cell"]),Me(g(Kf),{cell:a,tag:"td",type:"content"},null,8,["cell"])],64)):(X(),nt(g(Kf),{key:1,cell:a,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var Kse=Ht(Wse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const jse=Wt({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:Ws,title:{type:String,default:""},extra:{type:String,default:""}}),qse={name:"ElDescriptions"},Yse=yt({...qse,props:jse,setup(e){const n=e,i=bt("descriptions"),s=Ei(),a=Zi();rr(Kb,n);const u=$(()=>[i.b(),i.m(s.value)]),f=(v,y,b,E=!1)=>(v.props||(v.props={}),y>b&&(v.props.span=b),E&&(v.props.span=y),v),h=()=>{var v;const y=Eb((v=a.default)==null?void 0:v.call(a)).filter(x=>{var M;return((M=x==null?void 0:x.type)==null?void 0:M.name)==="ElDescriptionsItem"}),b=[];let E=[],w=n.column,C=0;return y.forEach((x,M)=>{var T;const P=((T=x.props)==null?void 0:T.span)||1;if(M<y.length-1&&(C+=P>w?w:P),M===y.length-1){const F=n.column-C%n.column;E.push(f(x,F,w,!0)),b.push(E);return}P<w?(w-=P,E.push(x)):(E.push(f(x,P,w)),b.push(E),w=n.column,E=[])}),b};return(v,y)=>(X(),ge("div",{class:q(g(u))},[v.title||v.extra||v.$slots.title||v.$slots.extra?(X(),ge("div",{key:0,class:q(g(i).e("header"))},[Ce("div",{class:q(g(i).e("title"))},[_t(v.$slots,"title",{},()=>[pr(Ut(v.title),1)])],2),Ce("div",{class:q(g(i).e("extra"))},[_t(v.$slots,"extra",{},()=>[pr(Ut(v.extra),1)])],2)],2)):je("v-if",!0),Ce("div",{class:q(g(i).e("body"))},[Ce("table",{class:q([g(i).e("table"),g(i).is("bordered",v.border)])},[Ce("tbody",null,[(X(!0),ge(vn,null,cr(h(),(b,E)=>(X(),nt(Kse,{key:E,row:b},null,8,["row"]))),128))])],2)],2)],2))}});var Jse=Ht(Yse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]),HN=yt({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const Zse=Yn(Jse,{DescriptionsItem:HN}),eoe=di(HN),toe=Wt({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:ot([String,Array,Object])},zIndex:{type:ot([String,Number])}}),noe={click:e=>e instanceof MouseEvent};var roe=yt({name:"ElOverlay",props:toe,emits:noe,setup(e,{slots:n,emit:i}){const s=bt("overlay"),a=v=>{i("click",v)},{onClick:u,onMousedown:f,onMouseup:h}=Tb(e.customMaskEvent?void 0:a);return()=>e.mask?Me("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:f,onMouseup:h},[_t(n,"default")],ro.STYLE|ro.CLASS|ro.PROPS,["onClick","onMouseup","onMousedown"]):Sn("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[_t(n,"default")])}});const jb=roe,QN=Wt({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:$r},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),ioe={close:()=>!0},soe=["aria-label"],ooe=["id"],aoe={name:"ElDialogContent"},loe=yt({...aoe,props:QN,emits:ioe,setup(e){const n=e,{t:i}=Cr(),{Close:s}=FR,{dialogRef:a,headerRef:u,bodyId:f,ns:h,style:v}=An($R),{focusTrapRef:y}=An(Hb),b=iv(y,a),E=$(()=>n.draggable);return rT(a,u,E),(w,C)=>(X(),ge("div",{ref:g(b),class:q([g(h).b(),g(h).is("fullscreen",w.fullscreen),g(h).is("draggable",g(E)),g(h).is("align-center",w.alignCenter),{[g(h).m("center")]:w.center},w.customClass]),style:pn(g(v)),tabindex:"-1",onClick:C[1]||(C[1]=Bn(()=>{},["stop"]))},[Ce("header",{ref_key:"headerRef",ref:u,class:q(g(h).e("header"))},[_t(w.$slots,"header",{},()=>[Ce("span",{role:"heading",class:q(g(h).e("title"))},Ut(w.title),3)]),w.showClose?(X(),ge("button",{key:0,"aria-label":g(i)("el.dialog.close"),class:q(g(h).e("headerbtn")),type:"button",onClick:C[0]||(C[0]=x=>w.$emit("close"))},[Me(g(fn),{class:q(g(h).e("close"))},{default:Ue(()=>[(X(),nt(er(w.closeIcon||g(s))))]),_:1},8,["class"])],10,soe)):je("v-if",!0)],2),Ce("div",{id:g(f),class:q(g(h).e("body"))},[_t(w.$slots,"default")],10,ooe),w.$slots.footer?(X(),ge("footer",{key:0,class:q(g(h).e("footer"))},[_t(w.$slots,"footer")],2)):je("v-if",!0)],6))}});var coe=Ht(loe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const XN=Wt({...QN,appendToBody:{type:Boolean,default:!1},beforeClose:{type:ot(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),zN={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Zn]:e=>Ti(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},$N=(e,n)=>{const s=qn().emit,{nextZIndex:a}=al();let u="";const f=zo(),h=zo(),v=se(!1),y=se(!1),b=se(!1),E=se(e.zIndex||a());let w,C;const x=sl("namespace",lv),M=$(()=>{const de={},ye=`--${x.value}-dialog`;return e.fullscreen||(e.top&&(de[`${ye}-margin-top`]=e.top),e.width&&(de[`${ye}-width`]=Mi(e.width))),de}),T=$(()=>e.alignCenter?{display:"flex"}:{});function P(){s("opened")}function F(){s("closed"),s(Zn,!1),e.destroyOnClose&&(b.value=!1)}function B(){s("close")}function G(){C==null||C(),w==null||w(),e.openDelay&&e.openDelay>0?{stop:w}=ou(()=>te(),e.openDelay):te()}function Q(){w==null||w(),C==null||C(),e.closeDelay&&e.closeDelay>0?{stop:C}=ou(()=>ie(),e.closeDelay):ie()}function H(){function de(ye){ye||(y.value=!0,v.value=!1)}e.beforeClose?e.beforeClose(de):Q()}function J(){e.closeOnClickModal&&H()}function te(){!dr||(v.value=!0)}function ie(){v.value=!1}function ue(){s("openAutoFocus")}function be(){s("closeAutoFocus")}e.lockScroll&&iT(v);function me(){e.closeOnPressEscape&&H()}return Ct(()=>e.modelValue,de=>{de?(y.value=!1,G(),b.value=!0,E.value=e.zIndex?E.value++:a(),dn(()=>{s("open"),n.value&&(n.value.scrollTop=0)})):v.value&&Q()}),Ct(()=>e.fullscreen,de=>{!n.value||(de?(u=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=u)}),jn(()=>{e.modelValue&&(v.value=!0,b.value=!0,G())}),{afterEnter:P,afterLeave:F,beforeLeave:B,handleClose:H,onModalClick:J,close:Q,doClose:ie,onOpenAutoFocus:ue,onCloseAutoFocus:be,onCloseRequested:me,titleId:f,bodyId:h,closed:y,style:M,overlayDialogStyle:T,rendered:b,visible:v,zIndex:E}},uoe=["aria-label","aria-labelledby","aria-describedby"],doe={name:"ElDialog",inheritAttrs:!1},foe=yt({...doe,props:XN,emits:zN,setup(e,{expose:n}){const i=e,s=Zi();au({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},$(()=>!!s.title)),au({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},$(()=>!!i.customClass));const a=bt("dialog"),u=se(),f=se(),h=se(),{visible:v,titleId:y,bodyId:b,style:E,overlayDialogStyle:w,rendered:C,zIndex:x,afterEnter:M,afterLeave:T,beforeLeave:P,handleClose:F,onModalClick:B,onOpenAutoFocus:G,onCloseAutoFocus:Q,onCloseRequested:H}=$N(i,u);rr($R,{dialogRef:u,headerRef:f,bodyId:b,ns:a,rendered:C,style:E});const J=Tb(B),te=$(()=>i.draggable&&!i.fullscreen);return n({visible:v,dialogContentRef:h}),(ie,ue)=>(X(),nt(Kh,{to:"body",disabled:!ie.appendToBody},[Me(bi,{name:"dialog-fade",onAfterEnter:g(M),onAfterLeave:g(T),onBeforeLeave:g(P),persisted:""},{default:Ue(()=>[Qn(Me(g(jb),{"custom-mask-event":"",mask:ie.modal,"overlay-class":ie.modalClass,"z-index":g(x)},{default:Ue(()=>[Ce("div",{role:"dialog","aria-modal":"true","aria-label":ie.title||void 0,"aria-labelledby":ie.title?void 0:g(y),"aria-describedby":g(b),class:q(`${g(a).namespace.value}-overlay-dialog`),style:pn(g(w)),onClick:ue[0]||(ue[0]=(...be)=>g(J).onClick&&g(J).onClick(...be)),onMousedown:ue[1]||(ue[1]=(...be)=>g(J).onMousedown&&g(J).onMousedown(...be)),onMouseup:ue[2]||(ue[2]=(...be)=>g(J).onMouseup&&g(J).onMouseup(...be))},[Me(g(fv),{loop:"",trapped:g(v),"focus-start-el":"container",onFocusAfterTrapped:g(G),onFocusAfterReleased:g(Q),onReleaseRequested:g(H)},{default:Ue(()=>[g(C)?(X(),nt(coe,nr({key:0,ref_key:"dialogContentRef",ref:h},ie.$attrs,{"custom-class":ie.customClass,center:ie.center,"align-center":ie.alignCenter,"close-icon":ie.closeIcon,draggable:g(te),fullscreen:ie.fullscreen,"show-close":ie.showClose,title:ie.title,onClose:g(F)}),$l({header:Ue(()=>[ie.$slots.title?_t(ie.$slots,"title",{key:1}):_t(ie.$slots,"header",{key:0,close:g(F),titleId:g(y),titleClass:g(a).e("title")})]),default:Ue(()=>[_t(ie.$slots,"default")]),_:2},[ie.$slots.footer?{name:"footer",fn:Ue(()=>[_t(ie.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):je("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],46,uoe)]),_:3},8,["mask","overlay-class","z-index"]),[[_r,g(v)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var hoe=Ht(foe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const poe=Yn(hoe),moe=Wt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:ot(String),default:"solid"}}),goe={name:"ElDivider"},voe=yt({...goe,props:moe,setup(e){const n=e,i=bt("divider"),s=$(()=>i.cssVar({"border-style":n.borderStyle}));return(a,u)=>(X(),ge("div",{class:q([g(i).b(),g(i).m(a.direction)]),style:pn(g(s)),role:"separator"},[a.$slots.default&&a.direction!=="vertical"?(X(),ge("div",{key:0,class:q([g(i).e("text"),g(i).is(a.contentPosition)])},[_t(a.$slots,"default")],2)):je("v-if",!0)],6))}});var _oe=Ht(voe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const WN=Yn(_oe),Aoe=Wt({...XN,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),yoe=zN,boe=yt({name:"ElDrawer",components:{ElOverlay:jb,ElFocusTrap:fv,ElIcon:fn,Close:Ho},props:Aoe,emits:yoe,setup(e,{slots:n}){au({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},$(()=>!!n.title));const i=se(),s=se(),a=bt("drawer"),{t:u}=Cr(),f=$(()=>e.direction==="rtl"||e.direction==="ltr"),h=$(()=>Mi(e.size));return{...$N(e,i),drawerRef:i,focusStartRef:s,isHorizontal:f,drawerSize:h,ns:a,t:u}}}),Soe=["aria-label","aria-labelledby","aria-describedby"],Eoe=["id"],woe=["aria-label"],Coe=["id"];function Ioe(e,n,i,s,a,u){const f=gn("close"),h=gn("el-icon"),v=gn("el-focus-trap"),y=gn("el-overlay");return X(),nt(Kh,{to:"body",disabled:!e.appendToBody},[Me(bi,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:Ue(()=>[Qn(Me(y,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:Ue(()=>[Me(v,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:Ue(()=>[Ce("div",{ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId,class:q([e.ns.b(),e.direction,e.visible&&"open",e.customClass]),style:pn(e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize),role:"dialog",onClick:n[1]||(n[1]=Bn(()=>{},["stop"]))},[Ce("span",{ref:"focusStartRef",class:q(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(X(),ge("header",{key:0,class:q(e.ns.e("header"))},[e.$slots.title?_t(e.$slots,"title",{key:1},()=>[je(" DEPRECATED SLOT ")]):_t(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},()=>[e.$slots.title?je("v-if",!0):(X(),ge("span",{key:0,id:e.titleId,role:"heading",class:q(e.ns.e("title"))},Ut(e.title),11,Eoe))]),e.showClose?(X(),ge("button",{key:2,"aria-label":e.t("el.drawer.close"),class:q(e.ns.e("close-btn")),type:"button",onClick:n[0]||(n[0]=(...b)=>e.handleClose&&e.handleClose(...b))},[Me(h,{class:q(e.ns.e("close"))},{default:Ue(()=>[Me(f)]),_:1},8,["class"])],10,woe)):je("v-if",!0)],2)):je("v-if",!0),e.rendered?(X(),ge("div",{key:1,id:e.bodyId,class:q(e.ns.e("body"))},[_t(e.$slots,"default")],10,Coe)):je("v-if",!0),e.$slots.footer?(X(),ge("div",{key:2,class:q(e.ns.e("footer"))},[_t(e.$slots,"footer")],2)):je("v-if",!0)],14,Soe)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[_r,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var Moe=Ht(boe,[["render",Ioe],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const xoe=Yn(Moe),Roe={inheritAttrs:!1};function Toe(e,n,i,s,a,u){return _t(e.$slots,"default")}var Noe=Ht(Roe,[["render",Toe],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const Poe={name:"ElCollectionItem",inheritAttrs:!1};function Boe(e,n,i,s,a,u){return _t(e.$slots,"default")}var Doe=Ht(Poe,[["render",Boe],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const KN="data-el-collection-item",jN=e=>{const n=`El${e}Collection`,i=`${n}Item`,s=Symbol(n),a=Symbol(i),u={...Noe,name:n,setup(){const h=se(null),v=new Map;rr(s,{itemMap:v,getItems:()=>{const b=g(h);if(!b)return[];const E=Array.from(b.querySelectorAll(`[${KN}]`));return[...v.values()].sort((C,x)=>E.indexOf(C.ref)-E.indexOf(x.ref))},collectionRef:h})}},f={...Doe,name:i,setup(h,{attrs:v}){const y=se(null),b=An(s,void 0);rr(a,{collectionItemRef:y}),jn(()=>{const E=g(y);E&&b.itemMap.set(E,{ref:E,...v})}),vi(()=>{const E=g(y);b.itemMap.delete(E)})}};return{COLLECTION_INJECTION_KEY:s,COLLECTION_ITEM_INJECTION_KEY:a,ElCollection:u,ElCollectionItem:f}},koe=Wt({style:{type:ot([String,Array,Object])},currentTabId:{type:ot(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:ot(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Loe,ElCollectionItem:Ooe,COLLECTION_INJECTION_KEY:qb,COLLECTION_ITEM_INJECTION_KEY:Foe}=jN("RovingFocusGroup"),Yb=Symbol("elRovingFocusGroup"),qN=Symbol("elRovingFocusGroupItem"),Voe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Goe=(e,n)=>{if(n!=="rtl")return e;switch(e){case bn.right:return bn.left;case bn.left:return bn.right;default:return e}},Uoe=(e,n,i)=>{const s=Goe(e.key,i);if(!(n==="vertical"&&[bn.left,bn.right].includes(s))&&!(n==="horizontal"&&[bn.up,bn.down].includes(s)))return Voe[s]},Hoe=(e,n)=>e.map((i,s)=>e[(s+n)%e.length]),Jb=e=>{const{activeElement:n}=document;for(const i of e)if(i===n||(i.focus(),n!==document.activeElement))return},F2="currentTabIdChange",V2="rovingFocusGroup.entryFocus",Qoe={bubbles:!1,cancelable:!0},Xoe=yt({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:koe,emits:[F2,"entryFocus"],setup(e,{emit:n}){var i;const s=se((i=e.currentTabId||e.defaultCurrentTabId)!=null?i:null),a=se(!1),u=se(!1),f=se(null),{getItems:h}=An(qb,void 0),v=$(()=>[{outline:"none"},e.style]),y=M=>{n(F2,M)},b=()=>{a.value=!0},E=li(M=>{var T;(T=e.onMousedown)==null||T.call(e,M)},()=>{u.value=!0}),w=li(M=>{var T;(T=e.onFocus)==null||T.call(e,M)},M=>{const T=!g(u),{target:P,currentTarget:F}=M;if(P===F&&T&&!g(a)){const B=new Event(V2,Qoe);if(F==null||F.dispatchEvent(B),!B.defaultPrevented){const G=h().filter(ie=>ie.focusable),Q=G.find(ie=>ie.active),H=G.find(ie=>ie.id===g(s)),te=[Q,H,...G].filter(Boolean).map(ie=>ie.ref);Jb(te)}}u.value=!1}),C=li(M=>{var T;(T=e.onBlur)==null||T.call(e,M)},()=>{a.value=!1}),x=(...M)=>{n("entryFocus",...M)};rr(Yb,{currentTabbedId:Wh(s),loop:ui(e,"loop"),tabIndex:$(()=>g(a)?-1:0),rovingFocusGroupRef:f,rovingFocusGroupRootStyle:v,orientation:ui(e,"orientation"),dir:ui(e,"dir"),onItemFocus:y,onItemShiftTab:b,onBlur:C,onFocus:w,onMousedown:E}),Ct(()=>e.currentTabId,M=>{s.value=M!=null?M:null}),Kr(f,V2,x)}});function zoe(e,n,i,s,a,u){return _t(e.$slots,"default")}var $oe=Ht(Xoe,[["render",zoe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const Woe=yt({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Loe,ElRovingFocusGroupImpl:$oe}});function Koe(e,n,i,s,a,u){const f=gn("el-roving-focus-group-impl"),h=gn("el-focus-group-collection");return X(),nt(h,null,{default:Ue(()=>[Me(f,Vo(zg(e.$attrs)),{default:Ue(()=>[_t(e.$slots,"default")]),_:3},16)]),_:3})}var joe=Ht(Woe,[["render",Koe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const qoe=yt({components:{ElRovingFocusCollectionItem:Ooe},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:n}){const{currentTabbedId:i,loop:s,onItemFocus:a,onItemShiftTab:u}=An(Yb,void 0),{getItems:f}=An(qb,void 0),h=zo(),v=se(null),y=li(C=>{n("mousedown",C)},C=>{e.focusable?a(g(h)):C.preventDefault()}),b=li(C=>{n("focus",C)},()=>{a(g(h))}),E=li(C=>{n("keydown",C)},C=>{const{key:x,shiftKey:M,target:T,currentTarget:P}=C;if(x===bn.tab&&M){u();return}if(T!==P)return;const F=Uoe(C);if(F){C.preventDefault();let G=f().filter(Q=>Q.focusable).map(Q=>Q.ref);switch(F){case"last":{G.reverse();break}case"prev":case"next":{F==="prev"&&G.reverse();const Q=G.indexOf(P);G=s.value?Hoe(G,Q+1):G.slice(Q+1);break}}dn(()=>{Jb(G)})}}),w=$(()=>i.value===g(h));return rr(qN,{rovingFocusGroupItemRef:v,tabIndex:$(()=>g(w)?0:-1),handleMousedown:y,handleFocus:b,handleKeydown:E}),{id:h,handleKeydown:E,handleFocus:b,handleMousedown:y}}});function Yoe(e,n,i,s,a,u){const f=gn("el-roving-focus-collection-item");return X(),nt(f,{id:e.id,focusable:e.focusable,active:e.active},{default:Ue(()=>[_t(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var Joe=Ht(qoe,[["render",Yoe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const Wm=Wt({trigger:kh.trigger,effect:{...Ki.effect,default:"light"},type:{type:ot(String)},placement:{type:ot(String),default:"bottom"},popperOptions:{type:ot(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:ot([Number,String]),default:0},maxHeight:{type:ot([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:ot(Object)}}),YN=Wt({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:$r}}),Zoe=Wt({onKeydown:{type:ot(Function)}}),eae=[bn.down,bn.pageDown,bn.home],JN=[bn.up,bn.pageUp,bn.end],tae=[...eae,...JN],{ElCollection:nae,ElCollectionItem:rae,COLLECTION_INJECTION_KEY:iae,COLLECTION_ITEM_INJECTION_KEY:sae}=jN("Dropdown"),gv=Symbol("elDropdown"),{ButtonGroup:oae}=is,aae=yt({name:"ElDropdown",components:{ElButton:is,ElButtonGroup:oae,ElScrollbar:cl,ElDropdownCollection:nae,ElTooltip:Ms,ElRovingFocusGroup:joe,ElOnlyChild:yT,ElIcon:fn,ArrowDown:tc},props:Wm,emits:["visible-change","click","command"],setup(e,{emit:n}){const i=qn(),s=bt("dropdown"),{t:a}=Cr(),u=se(),f=se(),h=se(null),v=se(null),y=se(null),b=se(null),E=se(!1),w=[bn.enter,bn.space,bn.down],C=$(()=>({maxHeight:Mi(e.maxHeight)})),x=$(()=>[s.m(G.value)]),M=zo().value,T=$(()=>e.id||M);function P(){F()}function F(){var ve;(ve=h.value)==null||ve.onClose()}function B(){var ve;(ve=h.value)==null||ve.onOpen()}const G=Ei();function Q(...ve){n("command",...ve)}function H(){}function J(){const ve=g(v);ve==null||ve.focus(),b.value=null}function te(ve){b.value=ve}function ie(ve){E.value||(ve.preventDefault(),ve.stopImmediatePropagation())}function ue(){n("visible-change",!0)}function be(ve){(ve==null?void 0:ve.type)==="keydown"&&v.value.focus()}function me(){n("visible-change",!1)}return rr(gv,{contentRef:v,role:$(()=>e.role),triggerId:T,isUsingKeyboard:E,onItemEnter:H,onItemLeave:J}),rr("elDropdown",{instance:i,dropdownSize:G,handleClick:P,commandHandler:Q,trigger:ui(e,"trigger"),hideOnClick:ui(e,"hideOnClick")}),{t:a,ns:s,scrollbar:y,wrapStyle:C,dropdownTriggerKls:x,dropdownSize:G,triggerId:T,triggerKeys:w,currentTabId:b,handleCurrentTabIdChange:te,handlerMainButtonClick:ve=>{n("click",ve)},handleEntryFocus:ie,handleClose:F,handleOpen:B,handleBeforeShowTooltip:ue,handleShowTooltip:be,handleBeforeHideTooltip:me,onFocusAfterTrapped:ve=>{var Ee,fe;ve.preventDefault(),(fe=(Ee=v.value)==null?void 0:Ee.focus)==null||fe.call(Ee,{preventScroll:!0})},popperRef:h,contentRef:v,triggeringElementRef:u,referenceElementRef:f}}});function lae(e,n,i,s,a,u){var f;const h=gn("el-dropdown-collection"),v=gn("el-roving-focus-group"),y=gn("el-scrollbar"),b=gn("el-only-child"),E=gn("el-tooltip"),w=gn("el-button"),C=gn("arrow-down"),x=gn("el-icon"),M=gn("el-button-group");return X(),ge("div",{class:q([e.ns.b(),e.ns.is("disabled",e.disabled)])},[Me(E,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(f=e.referenceElementRef)==null?void 0:f.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:"",pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},$l({content:Ue(()=>[Me(y,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:Ue(()=>[Me(v,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:Ue(()=>[Me(h,null,{default:Ue(()=>[_t(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:Ue(()=>[Me(b,{id:e.triggerId,role:"button",tabindex:e.tabindex},{default:Ue(()=>[_t(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(X(),nt(M,{key:0},{default:Ue(()=>[Me(w,nr({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:Ue(()=>[_t(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),Me(w,nr({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:Ue(()=>[Me(x,{class:q(e.ns.e("icon"))},{default:Ue(()=>[Me(C)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):je("v-if",!0)],2)}var cae=Ht(aae,[["render",lae],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const uae=yt({name:"DropdownItemImpl",components:{ElIcon:fn},props:YN,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:n}){const i=bt("dropdown"),{role:s}=An(gv,void 0),{collectionItemRef:a}=An(sae,void 0),{collectionItemRef:u}=An(Foe,void 0),{rovingFocusGroupItemRef:f,tabIndex:h,handleFocus:v,handleKeydown:y,handleMousedown:b}=An(qN,void 0),E=iv(a,u,f),w=$(()=>s.value==="menu"?"menuitem":s.value==="navigation"?"link":"button"),C=li(x=>{const{code:M}=x;if(M===bn.enter||M===bn.space)return x.preventDefault(),x.stopImmediatePropagation(),n("clickimpl",x),!0},y);return{ns:i,itemRef:E,dataset:{[KN]:""},role:w,tabIndex:h,handleFocus:v,handleKeydown:C,handleMousedown:b}}}),dae=["aria-disabled","tabindex","role"];function fae(e,n,i,s,a,u){const f=gn("el-icon");return X(),ge(vn,null,[e.divided?(X(),ge("li",nr({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):je("v-if",!0),Ce("li",nr({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:n[0]||(n[0]=h=>e.$emit("clickimpl",h)),onFocus:n[1]||(n[1]=(...h)=>e.handleFocus&&e.handleFocus(...h)),onKeydown:n[2]||(n[2]=(...h)=>e.handleKeydown&&e.handleKeydown(...h)),onMousedown:n[3]||(n[3]=(...h)=>e.handleMousedown&&e.handleMousedown(...h)),onPointermove:n[4]||(n[4]=h=>e.$emit("pointermove",h)),onPointerleave:n[5]||(n[5]=h=>e.$emit("pointerleave",h))}),[e.icon?(X(),nt(f,{key:0},{default:Ue(()=>[(X(),nt(er(e.icon)))]),_:1})):je("v-if",!0),_t(e.$slots,"default")],16,dae)],64)}var hae=Ht(uae,[["render",fae],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const ZN=()=>{const e=An("elDropdown",{}),n=$(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:n}},pae=yt({name:"ElDropdownItem",components:{ElDropdownCollectionItem:rae,ElRovingFocusItem:Joe,ElDropdownItemImpl:hae},inheritAttrs:!1,props:YN,emits:["pointermove","pointerleave","click"],setup(e,{emit:n,attrs:i}){const{elDropdown:s}=ZN(),a=qn(),u=se(null),f=$(()=>{var C,x;return(x=(C=g(u))==null?void 0:C.textContent)!=null?x:""}),{onItemEnter:h,onItemLeave:v}=An(gv,void 0),y=li(C=>(n("pointermove",C),C.defaultPrevented),II(C=>{var x;e.disabled?v(C):(h(C),C.defaultPrevented||(x=C.currentTarget)==null||x.focus())})),b=li(C=>(n("pointerleave",C),C.defaultPrevented),II(C=>{v(C)})),E=li(C=>(n("click",C),C.type!=="keydown"&&C.defaultPrevented),C=>{var x,M,T;if(e.disabled){C.stopImmediatePropagation();return}(x=s==null?void 0:s.hideOnClick)!=null&&x.value&&((M=s.handleClick)==null||M.call(s)),(T=s.commandHandler)==null||T.call(s,e.command,a,C)}),w=$(()=>({...e,...i}));return{handleClick:E,handlePointerMove:y,handlePointerLeave:b,textContent:f,propsAndAttrs:w}}});function mae(e,n,i,s,a,u){var f;const h=gn("el-dropdown-item-impl"),v=gn("el-roving-focus-item"),y=gn("el-dropdown-collection-item");return X(),nt(y,{disabled:e.disabled,"text-value":(f=e.textValue)!=null?f:e.textContent},{default:Ue(()=>[Me(v,{focusable:!e.disabled},{default:Ue(()=>[Me(h,nr(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:Ue(()=>[_t(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var eP=Ht(pae,[["render",mae],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const gae=yt({name:"ElDropdownMenu",props:Zoe,setup(e){const n=bt("dropdown"),{_elDropdownSize:i}=ZN(),s=i.value,{focusTrapRef:a,onKeydown:u}=An(Hb,void 0),{contentRef:f,role:h,triggerId:v}=An(gv,void 0),{collectionRef:y,getItems:b}=An(iae,void 0),{rovingFocusGroupRef:E,rovingFocusGroupRootStyle:w,tabIndex:C,onBlur:x,onFocus:M,onMousedown:T}=An(Yb,void 0),{collectionRef:P}=An(qb,void 0),F=$(()=>[n.b("menu"),n.bm("menu",s==null?void 0:s.value)]),B=iv(f,y,a,E,P),G=li(H=>{var J;(J=e.onKeydown)==null||J.call(e,H)},H=>{const{currentTarget:J,code:te,target:ie}=H;if(J.contains(ie),bn.tab===te&&H.stopImmediatePropagation(),H.preventDefault(),ie!==g(f)||!tae.includes(te))return;const be=b().filter(me=>!me.disabled).map(me=>me.ref);JN.includes(te)&&be.reverse(),Jb(be)});return{size:s,rovingFocusGroupRootStyle:w,tabIndex:C,dropdownKls:F,role:h,triggerId:v,dropdownListWrapperRef:B,handleKeydown:H=>{G(H),u(H)},onBlur:x,onFocus:M,onMousedown:T}}}),vae=["role","aria-labelledby"];function _ae(e,n,i,s,a,u){return X(),ge("ul",{ref:e.dropdownListWrapperRef,class:q(e.dropdownKls),style:pn(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:n[0]||(n[0]=(...f)=>e.onBlur&&e.onBlur(...f)),onFocus:n[1]||(n[1]=(...f)=>e.onFocus&&e.onFocus(...f)),onKeydown:n[2]||(n[2]=(...f)=>e.handleKeydown&&e.handleKeydown(...f)),onMousedown:n[3]||(n[3]=(...f)=>e.onMousedown&&e.onMousedown(...f))},[_t(e.$slots,"default")],46,vae)}var tP=Ht(gae,[["render",_ae],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const Aae=Yn(cae,{DropdownItem:eP,DropdownMenu:tP}),yae=di(eP),bae=di(tP);let Sae=0;const Eae=yt({name:"ImgEmpty",setup(){return{ns:bt("empty"),id:++Sae}}}),wae={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Cae=["id"],Iae=["stop-color"],Mae=["stop-color"],xae=["id"],Rae=["stop-color"],Tae=["stop-color"],Nae=["id"],Pae={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},Bae={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},Dae={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},kae=["fill"],Lae=["fill"],Oae={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},Fae=["fill"],Vae=["fill"],Gae=["fill"],Uae=["fill"],Hae=["fill"],Qae={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},Xae=["fill","xlink:href"],zae=["fill","mask"],$ae=["fill"];function Wae(e,n,i,s,a,u){return X(),ge("svg",wae,[Ce("defs",null,[Ce("linearGradient",{id:`linearGradient-1-${e.id}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Ce("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,Iae),Ce("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,Mae)],8,Cae),Ce("linearGradient",{id:`linearGradient-2-${e.id}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Ce("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,Rae),Ce("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,Tae)],8,xae),Ce("rect",{id:`path-3-${e.id}`,x:"0",y:"0",width:"17",height:"36"},null,8,Nae)]),Ce("g",Pae,[Ce("g",Bae,[Ce("g",Dae,[Ce("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${e.ns.cssVarBlockName("fill-color-3")})`},null,8,kae),Ce("polygon",{id:"Rectangle-Copy-14",fill:`var(${e.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,Lae),Ce("g",Oae,[Ce("polygon",{id:"Rectangle-Copy-10",fill:`var(${e.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,Fae),Ce("polygon",{id:"Rectangle-Copy-11",fill:`var(${e.ns.cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,Vae),Ce("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${e.id})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,Gae),Ce("polygon",{id:"Rectangle-Copy-13",fill:`var(${e.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,Uae)]),Ce("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${e.id})`,x:"13",y:"45",width:"40",height:"36"},null,8,Hae),Ce("g",Qae,[Ce("use",{id:"Mask",fill:`var(${e.ns.cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${e.id}`},null,8,Xae),Ce("polygon",{id:"Rectangle-Copy",fill:`var(${e.ns.cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${e.id})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,zae)]),Ce("polygon",{id:"Rectangle-Copy-18",fill:`var(${e.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,$ae)])])])])}var Kae=Ht(Eae,[["render",Wae],["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const jae={image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}},qae=["src"],Yae={key:1},Jae={name:"ElEmpty"},Zae=yt({...Jae,props:jae,setup(e){const n=e,{t:i}=Cr(),s=bt("empty"),a=$(()=>n.description||i("el.table.emptyText")),u=$(()=>({width:n.imageSize?`${n.imageSize}px`:""}));return(f,h)=>(X(),ge("div",{class:q(g(s).b())},[Ce("div",{class:q(g(s).e("image")),style:pn(g(u))},[f.image?(X(),ge("img",{key:0,src:f.image,ondragstart:"return false"},null,8,qae)):_t(f.$slots,"image",{key:1},()=>[Me(Kae)])],6),Ce("div",{class:q(g(s).e("description"))},[f.$slots.description?_t(f.$slots,"description",{key:0}):(X(),ge("p",Yae,Ut(g(a)),1))],2),f.$slots.default?(X(),ge("div",{key:0,class:q(g(s).e("bottom"))},[_t(f.$slots,"default")],2)):je("v-if",!0)],2))}});var ele=Ht(Zae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const nP=Yn(ele),tle=Wt({model:Object,rules:{type:ot(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:vu},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),nle={validate:(e,n,i)=>(hn(e)||Gn(e))&&Ti(n)&&Gn(i)};function rle(){const e=se([]),n=$(()=>{if(!e.value.length)return"0";const u=Math.max(...e.value);return u?`${u}px`:""});function i(u){return e.value.indexOf(u)}function s(u,f){if(u&&f){const h=i(f);e.value.splice(h,1,u)}else u&&e.value.push(u)}function a(u){const f=i(u);f>-1&&e.value.splice(f,1)}return{autoLabelWidth:n,registerLabelWidth:s,deregisterLabelWidth:a}}const Sm=(e,n)=>{const i=Bd(n);return i.length>0?e.filter(s=>s.prop&&i.includes(s.prop)):e},ile={name:"ElForm"},sle=yt({...ile,props:tle,emits:nle,setup(e,{expose:n,emit:i}){const s=e,a=[],u=Ei(),f=bt("form"),h=$(()=>{const{labelPosition:F,inline:B}=s;return[f.b(),f.m(u.value||"default"),{[f.m(`label-${F}`)]:F,[f.m("inline")]:B}]}),v=F=>{a.push(F)},y=F=>{F.prop&&a.splice(a.indexOf(F),1)},b=(F=[])=>{!s.model||Sm(a,F).forEach(B=>B.resetField())},E=(F=[])=>{Sm(a,F).forEach(B=>B.clearValidate())},w=$(()=>!!s.model),C=F=>{if(a.length===0)return[];const B=Sm(a,F);return B.length?B:[]},x=async F=>T(void 0,F),M=async(F=[])=>{if(!w.value)return!1;const B=C(F);if(B.length===0)return!0;let G={};for(const Q of B)try{await Q.validate("")}catch(H){G={...G,...H}}return Object.keys(G).length===0?!0:Promise.reject(G)},T=async(F=[],B)=>{const G=!Vn(B);try{const Q=await M(F);return Q===!0&&(B==null||B(Q)),Q}catch(Q){const H=Q;return s.scrollToError&&P(Object.keys(H)[0]),B==null||B(!1,H),G&&Promise.reject(H)}},P=F=>{var B;const G=Sm(a,F)[0];G&&((B=G.$el)==null||B.scrollIntoView())};return Ct(()=>s.rules,()=>{s.validateOnRuleChange&&x().catch(F=>void 0)},{deep:!0}),rr(Au,xr({...Ci(s),emit:i,resetFields:b,clearValidate:E,validateField:T,addField:v,removeField:y,...rle()})),n({validate:x,validateField:T,resetFields:b,clearValidate:E,scrollToField:P}),(F,B)=>(X(),ge("form",{class:q(g(h))},[_t(F.$slots,"default")],2))}});var ole=Ht(sle,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},$c.apply(this,arguments)}function ale(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,Oh(e,n)}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ry(e)}function Oh(e,n){return Oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Oh(e,n)}function lle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Km(e,n,i){return lle()?Km=Reflect.construct.bind():Km=function(a,u,f){var h=[null];h.push.apply(h,u);var v=Function.bind.apply(a,h),y=new v;return f&&Oh(y,f.prototype),y},Km.apply(null,arguments)}function cle(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function iy(e){var n=typeof Map=="function"?new Map:void 0;return iy=function(s){if(s===null||!cle(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(s))return n.get(s);n.set(s,a)}function a(){return Km(s,arguments,ry(this).constructor)}return a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Oh(a,s)},iy(e)}var ule=/%[sdj%]/g,dle=function(){};typeof process<"u"&&process.env;function sy(e){if(!e||!e.length)return null;var n={};return e.forEach(function(i){var s=i.field;n[s]=n[s]||[],n[s].push(i)}),n}function Qs(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];var a=0,u=i.length;if(typeof e=="function")return e.apply(null,i);if(typeof e=="string"){var f=e.replace(ule,function(h){if(h==="%%")return"%";if(a>=u)return h;switch(h){case"%s":return String(i[a++]);case"%d":return Number(i[a++]);case"%j":try{return JSON.stringify(i[a++])}catch{return"[Circular]"}break;default:return h}});return f}return e}function fle(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Ni(e,n){return!!(e==null||n==="array"&&Array.isArray(e)&&!e.length||fle(n)&&typeof e=="string"&&!e)}function hle(e,n,i){var s=[],a=0,u=e.length;function f(h){s.push.apply(s,h||[]),a++,a===u&&i(s)}e.forEach(function(h){n(h,f)})}function G2(e,n,i){var s=0,a=e.length;function u(f){if(f&&f.length){i(f);return}var h=s;s=s+1,h<a?n(e[h],u):i([])}u([])}function ple(e){var n=[];return Object.keys(e).forEach(function(i){n.push.apply(n,e[i]||[])}),n}var U2=function(e){ale(n,e);function n(i,s){var a;return a=e.call(this,"Async Validation Error")||this,a.errors=i,a.fields=s,a}return n}(iy(Error));function mle(e,n,i,s,a){if(n.first){var u=new Promise(function(w,C){var x=function(P){return s(P),P.length?C(new U2(P,sy(P))):w(a)},M=ple(e);G2(M,i,x)});return u.catch(function(w){return w}),u}var f=n.firstFields===!0?Object.keys(e):n.firstFields||[],h=Object.keys(e),v=h.length,y=0,b=[],E=new Promise(function(w,C){var x=function(T){if(b.push.apply(b,T),y++,y===v)return s(b),b.length?C(new U2(b,sy(b))):w(a)};h.length||(s(b),w(a)),h.forEach(function(M){var T=e[M];f.indexOf(M)!==-1?G2(T,i,x):hle(T,i,x)})});return E.catch(function(w){return w}),E}function gle(e){return!!(e&&e.message!==void 0)}function vle(e,n){for(var i=e,s=0;s<n.length;s++){if(i==null)return i;i=i[n[s]]}return i}function H2(e,n){return function(i){var s;return e.fullFields?s=vle(n,e.fullFields):s=n[i.field||e.fullField],gle(i)?(i.field=i.field||e.fullField,i.fieldValue=s,i):{message:typeof i=="function"?i():i,fieldValue:s,field:i.field||e.fullField}}}function Q2(e,n){if(n){for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];typeof s=="object"&&typeof e[i]=="object"?e[i]=$c({},e[i],s):e[i]=s}}return e}var rP=function(n,i,s,a,u,f){n.required&&(!s.hasOwnProperty(n.field)||Ni(i,f||n.type))&&a.push(Qs(u.messages.required,n.fullField))},_le=function(n,i,s,a,u){(/^\s+$/.test(i)||i==="")&&a.push(Qs(u.messages.whitespace,n.fullField))},Em,Ale=function(){if(Em)return Em;var e="[a-fA-F\\d:]",n=function(G){return G&&G.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},i="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",s="[a-fA-F\\d]{1,4}",a=(`
(?:
(?:`+s+":){7}(?:"+s+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+s+":){6}(?:"+i+"|:"+s+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+s+":){5}(?::"+i+"|(?::"+s+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+s+":){4}(?:(?::"+s+"){0,1}:"+i+"|(?::"+s+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+s+":){3}(?:(?::"+s+"){0,2}:"+i+"|(?::"+s+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+s+":){2}(?:(?::"+s+"){0,3}:"+i+"|(?::"+s+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+s+":){1}(?:(?::"+s+"){0,4}:"+i+"|(?::"+s+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+s+"){0,5}:"+i+"|(?::"+s+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),u=new RegExp("(?:^"+i+"$)|(?:^"+a+"$)"),f=new RegExp("^"+i+"$"),h=new RegExp("^"+a+"$"),v=function(G){return G&&G.exact?u:new RegExp("(?:"+n(G)+i+n(G)+")|(?:"+n(G)+a+n(G)+")","g")};v.v4=function(B){return B&&B.exact?f:new RegExp(""+n(B)+i+n(B),"g")},v.v6=function(B){return B&&B.exact?h:new RegExp(""+n(B)+a+n(B),"g")};var y="(?:(?:[a-z]+:)?//)",b="(?:\\S+(?::\\S*)?@)?",E=v.v4().source,w=v.v6().source,C="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",x="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",M="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",T="(?::\\d{2,5})?",P='(?:[/?#][^\\s"]*)?',F="(?:"+y+"|www\\.)"+b+"(?:localhost|"+E+"|"+w+"|"+C+x+M+")"+T+P;return Em=new RegExp("(?:^"+F+"$)","i"),Em},X2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Zf={integer:function(n){return Zf.number(n)&&parseInt(n,10)===n},float:function(n){return Zf.number(n)&&!Zf.integer(n)},array:function(n){return Array.isArray(n)},regexp:function(n){if(n instanceof RegExp)return!0;try{return!!new RegExp(n)}catch{return!1}},date:function(n){return typeof n.getTime=="function"&&typeof n.getMonth=="function"&&typeof n.getYear=="function"&&!isNaN(n.getTime())},number:function(n){return isNaN(n)?!1:typeof n=="number"},object:function(n){return typeof n=="object"&&!Zf.array(n)},method:function(n){return typeof n=="function"},email:function(n){return typeof n=="string"&&n.length<=320&&!!n.match(X2.email)},url:function(n){return typeof n=="string"&&n.length<=2048&&!!n.match(Ale())},hex:function(n){return typeof n=="string"&&!!n.match(X2.hex)}},yle=function(n,i,s,a,u){if(n.required&&i===void 0){rP(n,i,s,a,u);return}var f=["integer","float","array","regexp","object","method","email","number","date","url","hex"],h=n.type;f.indexOf(h)>-1?Zf[h](i)||a.push(Qs(u.messages.types[h],n.fullField,n.type)):h&&typeof i!==n.type&&a.push(Qs(u.messages.types[h],n.fullField,n.type))},ble=function(n,i,s,a,u){var f=typeof n.len=="number",h=typeof n.min=="number",v=typeof n.max=="number",y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=i,E=null,w=typeof i=="number",C=typeof i=="string",x=Array.isArray(i);if(w?E="number":C?E="string":x&&(E="array"),!E)return!1;x&&(b=i.length),C&&(b=i.replace(y,"_").length),f?b!==n.len&&a.push(Qs(u.messages[E].len,n.fullField,n.len)):h&&!v&&b<n.min?a.push(Qs(u.messages[E].min,n.fullField,n.min)):v&&!h&&b>n.max?a.push(Qs(u.messages[E].max,n.fullField,n.max)):h&&v&&(b<n.min||b>n.max)&&a.push(Qs(u.messages[E].range,n.fullField,n.min,n.max))},rd="enum",Sle=function(n,i,s,a,u){n[rd]=Array.isArray(n[rd])?n[rd]:[],n[rd].indexOf(i)===-1&&a.push(Qs(u.messages[rd],n.fullField,n[rd].join(", ")))},Ele=function(n,i,s,a,u){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(i)||a.push(Qs(u.messages.pattern.mismatch,n.fullField,i,n.pattern));else if(typeof n.pattern=="string"){var f=new RegExp(n.pattern);f.test(i)||a.push(Qs(u.messages.pattern.mismatch,n.fullField,i,n.pattern))}}},Vr={required:rP,whitespace:_le,type:yle,range:ble,enum:Sle,pattern:Ele},wle=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Ni(i,"string")&&!n.required)return s();Vr.required(n,i,a,f,u,"string"),Ni(i,"string")||(Vr.type(n,i,a,f,u),Vr.range(n,i,a,f,u),Vr.pattern(n,i,a,f,u),n.whitespace===!0&&Vr.whitespace(n,i,a,f,u))}s(f)},Cle=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Ni(i)&&!n.required)return s();Vr.required(n,i,a,f,u),i!==void 0&&Vr.type(n,i,a,f,u)}s(f)},Ile=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(i===""&&(i=void 0),Ni(i)&&!n.required)return s();Vr.required(n,i,a,f,u),i!==void 0&&(Vr.type(n,i,a,f,u),Vr.range(n,i,a,f,u))}s(f)},Mle=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Ni(i)&&!n.required)return s();Vr.required(n,i,a,f,u),i!==void 0&&Vr.type(n,i,a,f,u)}s(f)},xle=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Ni(i)&&!n.required)return s();Vr.required(n,i,a,f,u),Ni(i)||Vr.type(n,i,a,f,u)}s(f)},Rle=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Ni(i)&&!n.required)return s();Vr.required(n,i,a,f,u),i!==void 0&&(Vr.type(n,i,a,f,u),Vr.range(n,i,a,f,u))}s(f)},Tle=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Ni(i)&&!n.required)return s();Vr.required(n,i,a,f,u),i!==void 0&&(Vr.type(n,i,a,f,u),Vr.range(n,i,a,f,u))}s(f)},Nle=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(i==null&&!n.required)return s();Vr.required(n,i,a,f,u,"array"),i!=null&&(Vr.type(n,i,a,f,u),Vr.range(n,i,a,f,u))}s(f)},Ple=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Ni(i)&&!n.required)return s();Vr.required(n,i,a,f,u),i!==void 0&&Vr.type(n,i,a,f,u)}s(f)},Ble="enum",Dle=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Ni(i)&&!n.required)return s();Vr.required(n,i,a,f,u),i!==void 0&&Vr[Ble](n,i,a,f,u)}s(f)},kle=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Ni(i,"string")&&!n.required)return s();Vr.required(n,i,a,f,u),Ni(i,"string")||Vr.pattern(n,i,a,f,u)}s(f)},Lle=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Ni(i,"date")&&!n.required)return s();if(Vr.required(n,i,a,f,u),!Ni(i,"date")){var v;i instanceof Date?v=i:v=new Date(i),Vr.type(n,v,a,f,u),v&&Vr.range(n,v.getTime(),a,f,u)}}s(f)},Ole=function(n,i,s,a,u){var f=[],h=Array.isArray(i)?"array":typeof i;Vr.required(n,i,a,f,u,h),s(f)},YA=function(n,i,s,a,u){var f=n.type,h=[],v=n.required||!n.required&&a.hasOwnProperty(n.field);if(v){if(Ni(i,f)&&!n.required)return s();Vr.required(n,i,a,h,u,f),Ni(i,f)||Vr.type(n,i,a,h,u)}s(h)},Fle=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Ni(i)&&!n.required)return s();Vr.required(n,i,a,f,u)}s(f)},ph={string:wle,method:Cle,number:Ile,boolean:Mle,regexp:xle,integer:Rle,float:Tle,array:Nle,object:Ple,enum:Dle,pattern:kle,date:Lle,url:YA,hex:YA,email:YA,required:Ole,any:Fle};function oy(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var n=JSON.parse(JSON.stringify(this));return n.clone=this.clone,n}}}var ay=oy(),np=function(){function e(i){this.rules=null,this._messages=ay,this.define(i)}var n=e.prototype;return n.define=function(s){var a=this;if(!s)throw new Error("Cannot configure a schema with no rules");if(typeof s!="object"||Array.isArray(s))throw new Error("Rules must be an object");this.rules={},Object.keys(s).forEach(function(u){var f=s[u];a.rules[u]=Array.isArray(f)?f:[f]})},n.messages=function(s){return s&&(this._messages=Q2(oy(),s)),this._messages},n.validate=function(s,a,u){var f=this;a===void 0&&(a={}),u===void 0&&(u=function(){});var h=s,v=a,y=u;if(typeof v=="function"&&(y=v,v={}),!this.rules||Object.keys(this.rules).length===0)return y&&y(null,h),Promise.resolve(h);function b(M){var T=[],P={};function F(G){if(Array.isArray(G)){var Q;T=(Q=T).concat.apply(Q,G)}else T.push(G)}for(var B=0;B<M.length;B++)F(M[B]);T.length?(P=sy(T),y(T,P)):y(null,h)}if(v.messages){var E=this.messages();E===ay&&(E=oy()),Q2(E,v.messages),v.messages=E}else v.messages=this.messages();var w={},C=v.keys||Object.keys(this.rules);C.forEach(function(M){var T=f.rules[M],P=h[M];T.forEach(function(F){var B=F;typeof B.transform=="function"&&(h===s&&(h=$c({},h)),P=h[M]=B.transform(P)),typeof B=="function"?B={validator:B}:B=$c({},B),B.validator=f.getValidationMethod(B),B.validator&&(B.field=M,B.fullField=B.fullField||M,B.type=f.getType(B),w[M]=w[M]||[],w[M].push({rule:B,value:P,source:h,field:M}))})});var x={};return mle(w,v,function(M,T){var P=M.rule,F=(P.type==="object"||P.type==="array")&&(typeof P.fields=="object"||typeof P.defaultField=="object");F=F&&(P.required||!P.required&&M.value),P.field=M.field;function B(H,J){return $c({},J,{fullField:P.fullField+"."+H,fullFields:P.fullFields?[].concat(P.fullFields,[H]):[H]})}function G(H){H===void 0&&(H=[]);var J=Array.isArray(H)?H:[H];!v.suppressWarning&&J.length&&e.warning("async-validator:",J),J.length&&P.message!==void 0&&(J=[].concat(P.message));var te=J.map(H2(P,h));if(v.first&&te.length)return x[P.field]=1,T(te);if(!F)T(te);else{if(P.required&&!M.value)return P.message!==void 0?te=[].concat(P.message).map(H2(P,h)):v.error&&(te=[v.error(P,Qs(v.messages.required,P.field))]),T(te);var ie={};P.defaultField&&Object.keys(M.value).map(function(me){ie[me]=P.defaultField}),ie=$c({},ie,M.rule.fields);var ue={};Object.keys(ie).forEach(function(me){var de=ie[me],ye=Array.isArray(de)?de:[de];ue[me]=ye.map(B.bind(null,me))});var be=new e(ue);be.messages(v.messages),M.rule.options&&(M.rule.options.messages=v.messages,M.rule.options.error=v.error),be.validate(M.value,M.rule.options||v,function(me){var de=[];te&&te.length&&de.push.apply(de,te),me&&me.length&&de.push.apply(de,me),T(de.length?de:null)})}}var Q;if(P.asyncValidator)Q=P.asyncValidator(P,M.value,G,M.source,v);else if(P.validator){try{Q=P.validator(P,M.value,G,M.source,v)}catch(H){console.error==null||console.error(H),v.suppressValidatorError||setTimeout(function(){throw H},0),G(H.message)}Q===!0?G():Q===!1?G(typeof P.message=="function"?P.message(P.fullField||P.field):P.message||(P.fullField||P.field)+" fails"):Q instanceof Array?G(Q):Q instanceof Error&&G(Q.message)}Q&&Q.then&&Q.then(function(){return G()},function(H){return G(H)})},function(M){b(M)},h)},n.getType=function(s){if(s.type===void 0&&s.pattern instanceof RegExp&&(s.type="pattern"),typeof s.validator!="function"&&s.type&&!ph.hasOwnProperty(s.type))throw new Error(Qs("Unknown rule type %s",s.type));return s.type||"string"},n.getValidationMethod=function(s){if(typeof s.validator=="function")return s.validator;var a=Object.keys(s),u=a.indexOf("message");return u!==-1&&a.splice(u,1),a.length===1&&a[0]==="required"?ph.required:ph[this.getType(s)]||void 0},e}();np.register=function(n,i){if(typeof i!="function")throw new Error("Cannot register a validator by type, validator is not a function");ph[n]=i};np.warning=dle;np.messages=ay;np.validators=ph;const Vle=["","error","validating","success"],Gle=Wt({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:ot([String,Array])},required:{type:Boolean,default:void 0},rules:{type:ot([Object,Array])},error:String,validateStatus:{type:String,values:Vle},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:vu}}),z2="ElLabelWrap";var Ule=yt({name:z2,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:n}){const i=An(Au,void 0);An(va)||xi(z2,"usage: <el-form-item><label-wrap /></el-form-item>");const a=bt("form"),u=se(),f=se(0),h=()=>{var b;if((b=u.value)!=null&&b.firstElementChild){const E=window.getComputedStyle(u.value.firstElementChild).width;return Math.ceil(Number.parseFloat(E))}else return 0},v=(b="update")=>{dn(()=>{n.default&&e.isAutoWidth&&(b==="update"?f.value=h():b==="remove"&&(i==null||i.deregisterLabelWidth(f.value)))})},y=()=>v("update");return jn(()=>{y()}),vi(()=>{v("remove")}),ya(()=>y()),Ct(f,(b,E)=>{e.updateAll&&(i==null||i.registerLabelWidth(b,E))}),ss($(()=>{var b,E;return(E=(b=u.value)==null?void 0:b.firstElementChild)!=null?E:null}),y),()=>{var b,E;if(!n)return null;const{isAutoWidth:w}=e;if(w){const C=i==null?void 0:i.autoLabelWidth,x={};if(C&&C!=="auto"){const M=Math.max(0,Number.parseInt(C,10)-f.value),T=i.labelPosition==="left"?"marginRight":"marginLeft";M&&(x[T]=`${M}px`)}return Me("div",{ref:u,class:[a.be("item","label-wrap")],style:x},[(b=n.default)==null?void 0:b.call(n)])}else return Me(vn,{ref:u},[(E=n.default)==null?void 0:E.call(n)])}}});const Hle=["role","aria-labelledby"],Qle={name:"ElFormItem"},Xle=yt({...Qle,props:Gle,setup(e,{expose:n}){const i=e,s=Zi(),a=An(Au,void 0),u=An(va,void 0),f=Ei(void 0,{formItem:!1}),h=bt("form-item"),v=zo().value,y=se([]),b=se(""),E=Lj(b,100),w=se(""),C=se();let x,M=!1;const T=$(()=>{if((a==null?void 0:a.labelPosition)==="top")return{};const At=Mi(i.labelWidth||(a==null?void 0:a.labelWidth)||"");return At?{width:At}:{}}),P=$(()=>{if((a==null?void 0:a.labelPosition)==="top"||(a==null?void 0:a.inline))return{};if(!i.label&&!i.labelWidth&&ie)return{};const At=Mi(i.labelWidth||(a==null?void 0:a.labelWidth)||"");return!i.label&&!s.label?{marginLeft:At}:{}}),F=$(()=>[h.b(),h.m(f.value),h.is("error",b.value==="error"),h.is("validating",b.value==="validating"),h.is("success",b.value==="success"),h.is("required",ye.value||i.required),h.is("no-asterisk",a==null?void 0:a.hideRequiredAsterisk),(a==null?void 0:a.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[h.m("feedback")]:a==null?void 0:a.statusIcon}]),B=$(()=>Ti(i.inlineMessage)?i.inlineMessage:(a==null?void 0:a.inlineMessage)||!1),G=$(()=>[h.e("error"),{[h.em("error","inline")]:B.value}]),Q=$(()=>i.prop?Gn(i.prop)?i.prop:i.prop.join("."):""),H=$(()=>!!(i.label||s.label)),J=$(()=>i.for||y.value.length===1?y.value[0]:void 0),te=$(()=>!J.value&&H.value),ie=!!u,ue=$(()=>{const At=a==null?void 0:a.model;if(!(!At||!i.prop))return km(At,i.prop).value}),be=$(()=>{const{required:At}=i,Ve=[];i.rules&&Ve.push(...Bd(i.rules));const at=a==null?void 0:a.rules;if(at&&i.prop){const pt=km(at,i.prop).value;pt&&Ve.push(...Bd(pt))}if(At!==void 0){const pt=Ve.map((nn,_n)=>[nn,_n]).filter(([nn])=>Object.keys(nn).includes("required"));if(pt.length>0)for(const[nn,_n]of pt)nn.required!==At&&(Ve[_n]={...nn,required:At});else Ve.push({required:At})}return Ve}),me=$(()=>be.value.length>0),de=At=>be.value.filter(at=>!at.trigger||!At?!0:Array.isArray(at.trigger)?at.trigger.includes(At):at.trigger===At).map(({trigger:at,...pt})=>pt),ye=$(()=>be.value.some(At=>At.required)),ve=$(()=>{var At;return E.value==="error"&&i.showMessage&&((At=a==null?void 0:a.showMessage)!=null?At:!0)}),Ee=$(()=>`${i.label||""}${(a==null?void 0:a.labelSuffix)||""}`),fe=At=>{b.value=At},_e=At=>{var Ve,at;const{errors:pt,fields:nn}=At;(!pt||!nn)&&console.error(At),fe("error"),w.value=pt?(at=(Ve=pt==null?void 0:pt[0])==null?void 0:Ve.message)!=null?at:`${i.prop} is required`:"",a==null||a.emit("validate",i.prop,!1,w.value)},oe=()=>{fe("success"),a==null||a.emit("validate",i.prop,!0,"")},Te=async At=>{const Ve=Q.value;return new np({[Ve]:At}).validate({[Ve]:ue.value},{firstFields:!0}).then(()=>(oe(),!0)).catch(pt=>(_e(pt),Promise.reject(pt)))},Le=async(At,Ve)=>{if(M)return!1;const at=Vn(Ve);if(!me.value)return Ve==null||Ve(!1),!1;const pt=de(At);return pt.length===0?(Ve==null||Ve(!0),!0):(fe("validating"),Te(pt).then(()=>(Ve==null||Ve(!0),!0)).catch(nn=>{const{fields:_n}=nn;return Ve==null||Ve(!1,_n),at?!1:Promise.reject(_n)}))},xe=()=>{fe(""),w.value="",M=!1},Fe=async()=>{const At=a==null?void 0:a.model;if(!At||!i.prop)return;const Ve=km(At,i.prop);M=!0,Ve.value=yI(x),await dn(),xe(),M=!1},ft=At=>{y.value.includes(At)||y.value.push(At)},St=At=>{y.value=y.value.filter(Ve=>Ve!==At)};Ct(()=>i.error,At=>{w.value=At||"",fe(At?"error":"")},{immediate:!0}),Ct(()=>i.validateStatus,At=>fe(At||""));const Pt=xr({...Ci(i),$el:C,size:f,validateState:b,labelId:v,inputIds:y,isGroup:te,addInputId:ft,removeInputId:St,resetField:Fe,clearValidate:xe,validate:Le});return rr(va,Pt),jn(()=>{i.prop&&(a==null||a.addField(Pt),x=yI(ue.value))}),vi(()=>{a==null||a.removeField(Pt)}),n({size:f,validateMessage:w,validateState:b,validate:Le,clearValidate:xe,resetField:Fe}),(At,Ve)=>{var at;return X(),ge("div",{ref_key:"formItemRef",ref:C,class:q(g(F)),role:g(te)?"group":void 0,"aria-labelledby":g(te)?g(v):void 0},[Me(g(Ule),{"is-auto-width":g(T).width==="auto","update-all":((at=g(a))==null?void 0:at.labelWidth)==="auto"},{default:Ue(()=>[g(H)?(X(),nt(er(g(J)?"label":"div"),{key:0,id:g(v),for:g(J),class:q(g(h).e("label")),style:pn(g(T))},{default:Ue(()=>[_t(At.$slots,"label",{label:g(Ee)},()=>[pr(Ut(g(Ee)),1)])]),_:3},8,["id","for","class","style"])):je("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Ce("div",{class:q(g(h).e("content")),style:pn(g(P))},[_t(At.$slots,"default"),Me(bi,{name:`${g(h).namespace.value}-zoom-in-top`},{default:Ue(()=>[g(ve)?_t(At.$slots,"error",{key:0,error:w.value},()=>[Ce("div",{class:q(g(G))},Ut(w.value),3)]):je("v-if",!0)]),_:3},8,["name"])],6)],10,Hle)}}});var iP=Ht(Xle,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const zle=Yn(ole,{FormItem:iP}),$le=di(iP),Wle=Wt({urlList:{type:ot(Array),default:()=>qr([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0}}),Kle={close:()=>!0,switch:e=>$n(e)},jle=["src"],qle={name:"ElImageViewer"},Yle=yt({...qle,props:Wle,emits:Kle,setup(e,{expose:n,emit:i}){const s=e,a={CONTAIN:{name:"contain",icon:Yc(uQ)},ORIGINAL:{name:"original",icon:Yc(CX)}},u=wb()?"DOMMouseScroll":"mousewheel",{t:f}=Cr(),h=bt("image-viewer"),{nextZIndex:v}=al(),y=se(),b=se([]),E=rV(),w=se(!0),C=se(s.initialIndex),x=Wr(a.CONTAIN),M=se({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),T=$(()=>{const{urlList:_e}=s;return _e.length<=1}),P=$(()=>C.value===0),F=$(()=>C.value===s.urlList.length-1),B=$(()=>s.urlList[C.value]),G=$(()=>{const{scale:_e,deg:oe,offsetX:Te,offsetY:Le,enableTransition:xe}=M.value;let Fe=Te/_e,ft=Le/_e;switch(oe%360){case 90:case-270:[Fe,ft]=[ft,-Fe];break;case 180:case-180:[Fe,ft]=[-Fe,-ft];break;case 270:case-90:[Fe,ft]=[-ft,Fe];break}const St={transform:`scale(${_e}) rotate(${oe}deg) translate(${Fe}px, ${ft}px)`,transition:xe?"transform .3s":""};return x.value.name===a.CONTAIN.name&&(St.maxWidth=St.maxHeight="100%"),St}),Q=$(()=>$n(s.zIndex)?s.zIndex:v());function H(){te(),i("close")}function J(){const _e=Zc(Te=>{switch(Te.code){case bn.esc:s.closeOnPressEscape&&H();break;case bn.space:de();break;case bn.left:ve();break;case bn.up:fe("zoomIn");break;case bn.right:Ee();break;case bn.down:fe("zoomOut");break}}),oe=Zc(Te=>{(Te.wheelDelta?Te.wheelDelta:-Te.detail)>0?fe("zoomIn",{zoomRate:1.2,enableTransition:!1}):fe("zoomOut",{zoomRate:1.2,enableTransition:!1})});E.run(()=>{Kr(document,"keydown",_e),Kr(document,u,oe)})}function te(){E.stop()}function ie(){w.value=!1}function ue(_e){w.value=!1,_e.target.alt=f("el.image.error")}function be(_e){if(w.value||_e.button!==0||!y.value)return;M.value.enableTransition=!1;const{offsetX:oe,offsetY:Te}=M.value,Le=_e.pageX,xe=_e.pageY,Fe=Zc(St=>{M.value={...M.value,offsetX:oe+St.pageX-Le,offsetY:Te+St.pageY-xe}}),ft=Kr(document,"mousemove",Fe);Kr(document,"mouseup",()=>{ft()}),_e.preventDefault()}function me(){M.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function de(){if(w.value)return;const _e=Ph(a),oe=Object.values(a),Te=x.value.name,xe=(oe.findIndex(Fe=>Fe.name===Te)+1)%_e.length;x.value=a[_e[xe]],me()}function ye(_e){const oe=s.urlList.length;C.value=(_e+oe)%oe}function ve(){P.value&&!s.infinite||ye(C.value-1)}function Ee(){F.value&&!s.infinite||ye(C.value+1)}function fe(_e,oe={}){if(w.value)return;const{zoomRate:Te,rotateDeg:Le,enableTransition:xe}={zoomRate:1.4,rotateDeg:90,enableTransition:!0,...oe};switch(_e){case"zoomOut":M.value.scale>.2&&(M.value.scale=Number.parseFloat((M.value.scale/Te).toFixed(3)));break;case"zoomIn":M.value.scale<7&&(M.value.scale=Number.parseFloat((M.value.scale*Te).toFixed(3)));break;case"clockwise":M.value.deg+=Le;break;case"anticlockwise":M.value.deg-=Le;break}M.value.enableTransition=xe}return Ct(B,()=>{dn(()=>{const _e=b.value[0];_e!=null&&_e.complete||(w.value=!0)})}),Ct(C,_e=>{me(),i("switch",_e)}),jn(()=>{var _e,oe;J(),(oe=(_e=y.value)==null?void 0:_e.focus)==null||oe.call(_e)}),n({setActiveItem:ye}),(_e,oe)=>(X(),nt(Kh,{to:"body",disabled:!_e.teleported},[Me(bi,{name:"viewer-fade",appear:""},{default:Ue(()=>[Ce("div",{ref_key:"wrapper",ref:y,tabindex:-1,class:q(g(h).e("wrapper")),style:pn({zIndex:g(Q)})},[Ce("div",{class:q(g(h).e("mask")),onClick:oe[0]||(oe[0]=Bn(Te=>_e.hideOnClickModal&&H(),["self"]))},null,2),je(" CLOSE "),Ce("span",{class:q([g(h).e("btn"),g(h).e("close")]),onClick:H},[Me(g(fn),null,{default:Ue(()=>[Me(g(Ho))]),_:1})],2),je(" ARROW "),g(T)?je("v-if",!0):(X(),ge(vn,{key:0},[Ce("span",{class:q([g(h).e("btn"),g(h).e("prev"),g(h).is("disabled",!_e.infinite&&g(P))]),onClick:ve},[Me(g(fn),null,{default:Ue(()=>[Me(g(Kl))]),_:1})],2),Ce("span",{class:q([g(h).e("btn"),g(h).e("next"),g(h).is("disabled",!_e.infinite&&g(F))]),onClick:Ee},[Me(g(fn),null,{default:Ue(()=>[Me(g(ms))]),_:1})],2)],64)),je(" ACTIONS "),Ce("div",{class:q([g(h).e("btn"),g(h).e("actions")])},[Ce("div",{class:q(g(h).e("actions__inner"))},[Me(g(fn),{onClick:oe[1]||(oe[1]=Te=>fe("zoomOut"))},{default:Ue(()=>[Me(g(Bz))]),_:1}),Me(g(fn),{onClick:oe[2]||(oe[2]=Te=>fe("zoomIn"))},{default:Ue(()=>[Me(g(eR))]),_:1}),Ce("i",{class:q(g(h).e("actions__divider"))},null,2),Me(g(fn),{onClick:de},{default:Ue(()=>[(X(),nt(er(g(x).icon)))]),_:1}),Ce("i",{class:q(g(h).e("actions__divider"))},null,2),Me(g(fn),{onClick:oe[3]||(oe[3]=Te=>fe("anticlockwise"))},{default:Ue(()=>[Me(g(hX))]),_:1}),Me(g(fn),{onClick:oe[4]||(oe[4]=Te=>fe("clockwise"))},{default:Ue(()=>[Me(g(AX))]),_:1})],2)],2),je(" CANVAS "),Ce("div",{class:q(g(h).e("canvas"))},[(X(!0),ge(vn,null,cr(_e.urlList,(Te,Le)=>Qn((X(),ge("img",{ref_for:!0,ref:xe=>b.value[Le]=xe,key:Te,src:Te,style:pn(g(G)),class:q(g(h).e("img")),onLoad:ie,onError:ue,onMousedown:be},null,46,jle)),[[_r,Le===C.value]])),128))],2),_t(_e.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var Jle=Ht(Yle,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const sP=Yn(Jle),Zle=Wt({hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:{type:Boolean,default:!1},scrollContainer:{type:ot([String,Object])},previewSrcList:{type:ot(Array),default:()=>qr([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0}}),ece={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>$n(e),close:()=>!0,show:()=>!0},tce=["src","loading"],nce={key:0},rce={name:"ElImage",inheritAttrs:!1},ice=yt({...rce,props:Zle,emits:ece,setup(e,{emit:n}){const i=e;let s="";const{t:a}=Cr(),u=bt("image"),f=qh(),h=Mb(),v=se(),y=se(!1),b=se(!0),E=se(!1),w=se(),C=se(),x=dr&&"loading"in HTMLImageElement.prototype;let M,T;const P=$(()=>f.style),F=$(()=>{const{fit:fe}=i;return dr&&fe?{objectFit:fe}:{}}),B=$(()=>{const{previewSrcList:fe}=i;return Array.isArray(fe)&&fe.length>0}),G=$(()=>{const{previewSrcList:fe,initialIndex:_e}=i;let oe=_e;return _e>fe.length-1&&(oe=0),oe}),Q=$(()=>i.loading==="eager"?!1:!x&&i.loading==="lazy"||i.lazy),H=()=>{!dr||(b.value=!0,y.value=!1,v.value=i.src)};function J(fe){b.value=!1,y.value=!1,n("load",fe)}function te(fe){b.value=!1,y.value=!0,n("error",fe)}function ie(){Jj(w.value,C.value)&&(H(),me())}const ue=BR(ie,200);async function be(){var fe;if(!dr)return;await dn();const{scrollContainer:_e}=i;Za(_e)?C.value=_e:Gn(_e)&&_e!==""?C.value=(fe=document.querySelector(_e))!=null?fe:void 0:w.value&&(C.value=bb(w.value)),C.value&&(M=Kr(C,"scroll",ue),setTimeout(()=>ie(),100))}function me(){!dr||!C.value||!ue||(M==null||M(),C.value=void 0)}function de(fe){if(!!fe.ctrlKey){if(fe.deltaY<0)return fe.preventDefault(),!1;if(fe.deltaY>0)return fe.preventDefault(),!1}}function ye(){!B.value||(T=Kr("wheel",de,{passive:!1}),s=document.body.style.overflow,document.body.style.overflow="hidden",E.value=!0,n("show"))}function ve(){T==null||T(),document.body.style.overflow=s,E.value=!1,n("close")}function Ee(fe){n("switch",fe)}return Ct(()=>i.src,()=>{Q.value?(b.value=!0,y.value=!1,me(),be()):H()}),jn(()=>{Q.value?be():H()}),(fe,_e)=>(X(),ge("div",{ref_key:"container",ref:w,class:q([g(u).b(),fe.$attrs.class]),style:pn(g(P))},[v.value!==void 0&&!y.value?(X(),ge("img",nr({key:0},g(h),{src:v.value,loading:fe.loading,style:g(F),class:[g(u).e("inner"),g(B)&&g(u).e("preview"),b.value&&g(u).is("loading")],onClick:ye,onLoad:J,onError:te}),null,16,tce)):je("v-if",!0),b.value||y.value?(X(),ge("div",{key:1,class:q(g(u).e("wrapper"))},[b.value?_t(fe.$slots,"placeholder",{key:0},()=>[Ce("div",{class:q(g(u).e("placeholder"))},null,2)]):y.value?_t(fe.$slots,"error",{key:1},()=>[Ce("div",{class:q(g(u).e("error"))},Ut(g(a)("el.image.error")),3)]):je("v-if",!0)],2)):je("v-if",!0),g(B)?(X(),ge(vn,{key:2},[E.value?(X(),nt(g(sP),{key:0,"z-index":fe.zIndex,"initial-index":g(G),infinite:fe.infinite,"url-list":fe.previewSrcList,"hide-on-click-modal":fe.hideOnClickModal,teleported:fe.previewTeleported,"close-on-press-escape":fe.closeOnPressEscape,onClose:ve,onSwitch:Ee},{default:Ue(()=>[fe.$slots.viewer?(X(),ge("div",nce,[_t(fe.$slots,"viewer")])):je("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):je("v-if",!0)],64)):je("v-if",!0)],6))}});var sce=Ht(ice,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const oce=Yn(sce),ace=Wt({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Ws,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||$n(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),lce={[ii]:(e,n)=>e!==n,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[po]:e=>$n(e)||Es(e),[Zn]:e=>$n(e)||Es(e)},cce=["aria-label","onKeydown"],uce=["aria-label","onKeydown"],dce={name:"ElInputNumber"},fce=yt({...dce,props:ace,emits:lce,setup(e,{expose:n,emit:i}){const s=e,{t:a}=Cr(),u=bt("input-number"),f=se(),h=xr({currentValue:s.modelValue,userInput:null}),{formItem:v}=Ks(),y=$(()=>$n(s.modelValue)&&F(s.modelValue,-1)<s.min),b=$(()=>$n(s.modelValue)&&F(s.modelValue)>s.max),E=$(()=>{const de=P(s.step);return qi(s.precision)?Math.max(P(s.modelValue),de):(de>s.precision,s.precision)}),w=$(()=>s.controls&&s.controlsPosition==="right"),C=Ei(),x=ol(),M=$(()=>{if(h.userInput!==null)return h.userInput;let de=h.currentValue;if(Es(de))return"";if($n(de)){if(Number.isNaN(de))return"";qi(s.precision)||(de=de.toFixed(s.precision))}return de}),T=(de,ye)=>{if(qi(ye)&&(ye=E.value),ye===0)return Math.round(de);let ve=String(de);const Ee=ve.indexOf(".");if(Ee===-1||!ve.replace(".","").split("")[Ee+ye])return de;const oe=ve.length;return ve.charAt(oe-1)==="5"&&(ve=`${ve.slice(0,Math.max(0,oe-1))}6`),Number.parseFloat(Number(ve).toFixed(ye))},P=de=>{if(Es(de))return 0;const ye=de.toString(),ve=ye.indexOf(".");let Ee=0;return ve!==-1&&(Ee=ye.length-ve-1),Ee},F=(de,ye=1)=>$n(de)?T(de+s.step*ye):h.currentValue,B=()=>{if(s.readonly||x.value||b.value)return;const de=s.modelValue||0,ye=F(de);H(ye)},G=()=>{if(s.readonly||x.value||y.value)return;const de=s.modelValue||0,ye=F(de,-1);H(ye)},Q=(de,ye)=>{const{max:ve,min:Ee,step:fe,precision:_e,stepStrictly:oe,valueOnClear:Te}=s;let Le=Number(de);if(Es(de)||Number.isNaN(Le))return null;if(de===""){if(Te===null)return null;Le=Gn(Te)?{min:Ee,max:ve}[Te]:Te}return oe&&(Le=T(Math.round(Le/fe)*fe,_e)),qi(_e)||(Le=T(Le,_e)),(Le>ve||Le<Ee)&&(Le=Le>ve?ve:Ee,ye&&i("update:modelValue",Le)),Le},H=de=>{var ye;const ve=h.currentValue,Ee=Q(de);ve!==Ee&&(h.userInput=null,i("update:modelValue",Ee),i("input",Ee),i("change",Ee,ve),s.validateEvent&&((ye=v==null?void 0:v.validate)==null||ye.call(v,"change").catch(fe=>void 0)),h.currentValue=Ee)},J=de=>h.userInput=de,te=de=>{const ye=de!==""?Number(de):"";($n(ye)&&!Number.isNaN(ye)||de==="")&&H(ye),h.userInput=null},ie=()=>{var de,ye;(ye=(de=f.value)==null?void 0:de.focus)==null||ye.call(de)},ue=()=>{var de,ye;(ye=(de=f.value)==null?void 0:de.blur)==null||ye.call(de)},be=de=>{i("focus",de)},me=de=>{var ye;i("blur",de),s.validateEvent&&((ye=v==null?void 0:v.validate)==null||ye.call(v,"blur").catch(ve=>void 0))};return Ct(()=>s.modelValue,de=>{h.currentValue=Q(de,!0),h.userInput=null},{immediate:!0}),jn(()=>{var de;const{min:ye,max:ve,modelValue:Ee}=s,fe=(de=f.value)==null?void 0:de.input;if(fe.setAttribute("role","spinbutton"),Number.isFinite(ve)?fe.setAttribute("aria-valuemax",String(ve)):fe.removeAttribute("aria-valuemax"),Number.isFinite(ye)?fe.setAttribute("aria-valuemin",String(ye)):fe.removeAttribute("aria-valuemin"),fe.setAttribute("aria-valuenow",String(h.currentValue)),fe.setAttribute("aria-disabled",String(x.value)),!$n(Ee)&&Ee!=null){let _e=Number(Ee);Number.isNaN(_e)&&(_e=null),i("update:modelValue",_e)}}),ya(()=>{var de;const ye=(de=f.value)==null?void 0:de.input;ye==null||ye.setAttribute("aria-valuenow",`${h.currentValue}`)}),n({focus:ie,blur:ue}),(de,ye)=>(X(),ge("div",{class:q([g(u).b(),g(u).m(g(C)),g(u).is("disabled",g(x)),g(u).is("without-controls",!de.controls),g(u).is("controls-right",g(w))]),onDragstart:ye[0]||(ye[0]=Bn(()=>{},["prevent"]))},[de.controls?Qn((X(),ge("span",{key:0,role:"button","aria-label":g(a)("el.inputNumber.decrease"),class:q([g(u).e("decrease"),g(u).is("disabled",g(y))]),onKeydown:hr(G,["enter"])},[Me(g(fn),null,{default:Ue(()=>[g(w)?(X(),nt(g(tc),{key:0})):(X(),nt(g(BQ),{key:1}))]),_:1})],42,cce)),[[g(bg),G]]):je("v-if",!0),de.controls?Qn((X(),ge("span",{key:1,role:"button","aria-label":g(a)("el.inputNumber.increase"),class:q([g(u).e("increase"),g(u).is("disabled",g(b))]),onKeydown:hr(B,["enter"])},[Me(g(fn),null,{default:Ue(()=>[g(w)?(X(),nt(g(Kg),{key:0})):(X(),nt(g(Jx),{key:1}))]),_:1})],42,uce)),[[g(bg),B]]):je("v-if",!0),Me(g(rs),{id:de.id,ref_key:"input",ref:f,type:"number",step:de.step,"model-value":g(M),placeholder:de.placeholder,readonly:de.readonly,disabled:g(x),size:g(C),max:de.max,min:de.min,name:de.name,label:de.label,"validate-event":!1,onKeydown:[hr(Bn(B,["prevent"]),["up"]),hr(Bn(G,["prevent"]),["down"])],onBlur:me,onFocus:be,onInput:J,onChange:te},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var hce=Ht(fce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const oP=Yn(hce),pce=Wt({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:$r}}),mce={click:e=>e instanceof MouseEvent},gce=["href"],vce={name:"ElLink"},_ce=yt({...vce,props:pce,emits:mce,setup(e,{emit:n}){const i=e,s=bt("link");function a(u){i.disabled||n("click",u)}return(u,f)=>(X(),ge("a",{class:q([g(s).b(),g(s).m(u.type),g(s).is("disabled",u.disabled),g(s).is("underline",u.underline&&!u.disabled)]),href:u.disabled||!u.href?void 0:u.href,onClick:a},[u.icon?(X(),nt(g(fn),{key:0},{default:Ue(()=>[(X(),nt(er(u.icon)))]),_:1})):je("v-if",!0),u.$slots.default?(X(),ge("span",{key:1,class:q(g(s).e("inner"))},[_t(u.$slots,"default")],2)):je("v-if",!0),u.$slots.icon?_t(u.$slots,"icon",{key:2}):je("v-if",!0)],10,gce))}});var Ace=Ht(_ce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const yce=Yn(Ace);class bce{constructor(n,i){this.parent=n,this.domNode=i,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,i=>{i.addEventListener("keydown",s=>{let a=!1;switch(s.code){case bn.down:{this.gotoSubIndex(this.subIndex+1),a=!0;break}case bn.up:{this.gotoSubIndex(this.subIndex-1),a=!0;break}case bn.tab:{Bm(n,"mouseleave");break}case bn.enter:case bn.space:{a=!0,s.currentTarget.click();break}}return a&&(s.preventDefault(),s.stopPropagation()),!1})})}}class Sce{constructor(n,i){this.domNode=n,this.submenu=null,this.submenu=null,this.init(i)}init(n){this.domNode.setAttribute("tabindex","0");const i=this.domNode.querySelector(`.${n}-menu`);i&&(this.submenu=new bce(this,i)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let i=!1;switch(n.code){case bn.down:{Bm(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),i=!0;break}case bn.up:{Bm(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),i=!0;break}case bn.tab:{Bm(n.currentTarget,"mouseleave");break}case bn.enter:case bn.space:{i=!0,n.currentTarget.click();break}}i&&n.preventDefault()})}}class Ece{constructor(n,i){this.domNode=n,this.init(i)}init(n){const i=this.domNode.childNodes;Array.from(i).forEach(s=>{s.nodeType===1&&new Sce(s,n)})}}const wce=yt({name:"ElMenuCollapseTransition",setup(){const e=bt("menu");return{listeners:{onBeforeEnter:i=>i.style.opacity="0.2",onEnter(i,s){ha(i,`${e.namespace.value}-opacity-transition`),i.style.opacity="1",s()},onAfterEnter(i){ws(i,`${e.namespace.value}-opacity-transition`),i.style.opacity=""},onBeforeLeave(i){i.dataset||(i.dataset={}),Uo(i,e.m("collapse"))?(ws(i,e.m("collapse")),i.dataset.oldOverflow=i.style.overflow,i.dataset.scrollWidth=i.clientWidth.toString(),ha(i,e.m("collapse"))):(ha(i,e.m("collapse")),i.dataset.oldOverflow=i.style.overflow,i.dataset.scrollWidth=i.clientWidth.toString(),ws(i,e.m("collapse"))),i.style.width=`${i.scrollWidth}px`,i.style.overflow="hidden"},onLeave(i){ha(i,"horizontal-collapse-transition"),i.style.width=`${i.dataset.scrollWidth}px`}}}}});function Cce(e,n,i,s,a,u){return X(),nt(bi,nr({mode:"out-in"},e.listeners),{default:Ue(()=>[_t(e.$slots,"default")]),_:3},16)}var Ice=Ht(wce,[["render",Cce],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function aP(e,n){const i=$(()=>{let a=e.parent;const u=[n.value];for(;a.type.name!=="ElMenu";)a.props.index&&u.unshift(a.props.index),a=a.parent;return u});return{parentMenu:$(()=>{let a=e.parent;for(;a&&!["ElMenu","ElSubMenu"].includes(a.type.name);)a=a.parent;return a}),indexPath:i}}function Mce(e){return $(()=>{const i=e.backgroundColor;return i?new UT(i).shade(20).toString():""})}const lP=(e,n)=>{const i=bt("menu");return $(()=>i.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":Mce(e).value||"","active-color":e.activeTextColor||"",level:`${n}`}))},xce=Wt({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:$r},expandOpenIcon:{type:$r},collapseCloseIcon:{type:$r},collapseOpenIcon:{type:$r}}),JA="ElSubMenu";var Zb=yt({name:JA,props:xce,setup(e,{slots:n,expose:i}){const s=qn(),{indexPath:a,parentMenu:u}=aP(s,$(()=>e.index)),f=bt("menu"),h=bt("sub-menu"),v=An("rootMenu");v||xi(JA,"can not inject root menu");const y=An(`subMenu:${u.value.uid}`);y||xi(JA,"can not inject sub menu");const b=se({}),E=se({});let w;const C=se(!1),x=se(),M=se(null),T=$(()=>be.value==="horizontal"&&F.value?"bottom-start":"right-start"),P=$(()=>be.value==="horizontal"&&F.value||be.value==="vertical"&&!v.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?H.value?e.expandOpenIcon:e.expandCloseIcon:tc:e.collapseCloseIcon&&e.collapseOpenIcon?H.value?e.collapseOpenIcon:e.collapseCloseIcon:ms),F=$(()=>y.level===0),B=$(()=>e.popperAppendToBody===void 0?F.value:Boolean(e.popperAppendToBody)),G=$(()=>v.props.collapse?`${f.namespace.value}-zoom-in-left`:`${f.namespace.value}-zoom-in-top`),Q=$(()=>be.value==="horizontal"&&F.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),H=$(()=>v.openedMenus.includes(e.index)),J=$(()=>{let oe=!1;return Object.values(b.value).forEach(Te=>{Te.active&&(oe=!0)}),Object.values(E.value).forEach(Te=>{Te.active&&(oe=!0)}),oe}),te=$(()=>v.props.backgroundColor||""),ie=$(()=>v.props.activeTextColor||""),ue=$(()=>v.props.textColor||""),be=$(()=>v.props.mode),me=xr({index:e.index,indexPath:a,active:J}),de=$(()=>be.value!=="horizontal"?{color:ue.value}:{borderBottomColor:J.value?v.props.activeTextColor?ie.value:"":"transparent",color:J.value?ie.value:ue.value}),ye=()=>{var oe,Te,Le;return(Le=(Te=(oe=M.value)==null?void 0:oe.popperRef)==null?void 0:Te.popperInstanceRef)==null?void 0:Le.destroy()},ve=oe=>{oe||ye()},Ee=()=>{v.props.menuTrigger==="hover"&&v.props.mode==="horizontal"||v.props.collapse&&v.props.mode==="vertical"||e.disabled||v.handleSubMenuClick({index:e.index,indexPath:a.value,active:J.value})},fe=(oe,Te=e.showTimeout)=>{var Le;oe.type!=="focus"&&(v.props.menuTrigger==="click"&&v.props.mode==="horizontal"||!v.props.collapse&&v.props.mode==="vertical"||e.disabled||(y.mouseInChild.value=!0,w==null||w(),{stop:w}=ou(()=>{v.openMenu(e.index,a.value)},Te),B.value&&((Le=u.value.vnode.el)==null||Le.dispatchEvent(new MouseEvent("mouseenter")))))},_e=(oe=!1)=>{var Te,Le;v.props.menuTrigger==="click"&&v.props.mode==="horizontal"||!v.props.collapse&&v.props.mode==="vertical"||(w==null||w(),y.mouseInChild.value=!1,{stop:w}=ou(()=>!C.value&&v.closeMenu(e.index,a.value),e.hideTimeout),B.value&&oe&&((Te=s.parent)==null?void 0:Te.type.name)==="ElSubMenu"&&((Le=y.handleMouseleave)==null||Le.call(y,!0)))};Ct(()=>v.props.collapse,oe=>ve(Boolean(oe)));{const oe=Le=>{E.value[Le.index]=Le},Te=Le=>{delete E.value[Le.index]};rr(`subMenu:${s.uid}`,{addSubMenu:oe,removeSubMenu:Te,handleMouseleave:_e,mouseInChild:C,level:y.level+1})}return i({opened:H}),jn(()=>{v.addSubMenu(me),y.addSubMenu(me)}),vi(()=>{y.removeSubMenu(me),v.removeSubMenu(me)}),()=>{var oe;const Te=[(oe=n.title)==null?void 0:oe.call(n),Sn(fn,{class:h.e("icon-arrow"),style:{transform:H.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&v.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Gn(P.value)?Sn(s.appContext.components[P.value]):Sn(P.value)})],Le=lP(v.props,y.level+1),xe=v.isMenuPopup?Sn(Ms,{ref:M,visible:H.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:T.value,teleported:B.value,fallbackPlacements:Q.value,transition:G.value,gpuAcceleration:!1},{content:()=>{var Fe;return Sn("div",{class:[f.m(be.value),f.m("popup-container"),e.popperClass],onMouseenter:ft=>fe(ft,100),onMouseleave:()=>_e(!0),onFocus:ft=>fe(ft,100)},[Sn("ul",{class:[f.b(),f.m("popup"),f.m(`popup-${T.value}`)],style:Le.value},[(Fe=n.default)==null?void 0:Fe.call(n)])])},default:()=>Sn("div",{class:h.e("title"),style:[de.value,{backgroundColor:te.value}],onClick:Ee},Te)}):Sn(vn,{},[Sn("div",{class:h.e("title"),style:[de.value,{backgroundColor:te.value}],ref:x,onClick:Ee},Te),Sn(mv,{},{default:()=>{var Fe;return Qn(Sn("ul",{role:"menu",class:[f.b(),f.m("inline")],style:Le.value},[(Fe=n.default)==null?void 0:Fe.call(n)]),[[_r,H.value]])}})]);return Sn("li",{class:[h.b(),h.is("active",J.value),h.is("opened",H.value),h.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:H.value,onMouseenter:fe,onMouseleave:()=>_e(!0),onFocus:fe},[xe])}}});const Rce=Wt({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:ot(Array),default:()=>qr([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0}}),ZA=e=>Array.isArray(e)&&e.every(n=>Gn(n)),Tce={close:(e,n)=>Gn(e)&&ZA(n),open:(e,n)=>Gn(e)&&ZA(n),select:(e,n,i,s)=>Gn(e)&&ZA(n)&&ur(i)&&(s===void 0||s instanceof Promise)};var Nce=yt({name:"ElMenu",props:Rce,emits:Tce,setup(e,{emit:n,slots:i,expose:s}){const a=qn(),u=a.appContext.config.globalProperties.$router,f=se(),h=bt("menu"),v=bt("sub-menu"),y=se(-1),b=se(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),E=se(e.defaultActive),w=se({}),C=se({}),x=$(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),M=()=>{const ue=E.value&&w.value[E.value];if(!ue||e.mode==="horizontal"||e.collapse)return;ue.indexPath.forEach(me=>{const de=C.value[me];de&&T(me,de.indexPath)})},T=(ue,be)=>{b.value.includes(ue)||(e.uniqueOpened&&(b.value=b.value.filter(me=>be.includes(me))),b.value.push(ue),n("open",ue,be))},P=(ue,be)=>{const me=b.value.indexOf(ue);me!==-1&&b.value.splice(me,1),n("close",ue,be)},F=({index:ue,indexPath:be})=>{b.value.includes(ue)?P(ue,be):T(ue,be)},B=ue=>{(e.mode==="horizontal"||e.collapse)&&(b.value=[]);const{index:be,indexPath:me}=ue;if(!(be===void 0||me===void 0))if(e.router&&u){const de=ue.route||be,ye=u.push(de).then(ve=>(ve||(E.value=be),ve));n("select",be,me,{index:be,indexPath:me,route:de},ye)}else E.value=be,n("select",be,me,{index:be,indexPath:me})},G=ue=>{const be=w.value,me=be[ue]||E.value&&be[E.value]||be[e.defaultActive];me?E.value=me.index:E.value=ue},Q=()=>{var ue,be;if(!f.value)return-1;const me=Array.from((be=(ue=f.value)==null?void 0:ue.childNodes)!=null?be:[]).filter(oe=>oe.nodeName!=="#text"||oe.nodeValue),de=64,ye=Number.parseInt(getComputedStyle(f.value).paddingLeft,10),ve=Number.parseInt(getComputedStyle(f.value).paddingRight,10),Ee=f.value.clientWidth-ye-ve;let fe=0,_e=0;return me.forEach((oe,Te)=>{fe+=oe.offsetWidth||0,fe<=Ee-de&&(_e=Te+1)}),_e===me.length?-1:_e},H=(ue,be=33.34)=>{let me;return()=>{me&&clearTimeout(me),me=setTimeout(()=>{ue()},be)}};let J=!0;const te=()=>{const ue=()=>{y.value=-1,dn(()=>{y.value=Q()})};J?ue():H(ue)(),J=!1};Ct(()=>e.defaultActive,ue=>{w.value[ue]||(E.value=""),G(ue)}),Ct(()=>e.collapse,ue=>{ue&&(b.value=[])}),Ct(w.value,M);let ie;Yi(()=>{e.mode==="horizontal"&&e.ellipsis?ie=ss(f,te).stop:ie==null||ie()});{const ue=ye=>{C.value[ye.index]=ye},be=ye=>{delete C.value[ye.index]};rr("rootMenu",xr({props:e,openedMenus:b,items:w,subMenus:C,activeIndex:E,isMenuPopup:x,addMenuItem:ye=>{w.value[ye.index]=ye},removeMenuItem:ye=>{delete w.value[ye.index]},addSubMenu:ue,removeSubMenu:be,openMenu:T,closeMenu:P,handleMenuItemClick:B,handleSubMenuClick:F})),rr(`subMenu:${a.uid}`,{addSubMenu:ue,removeSubMenu:be,mouseInChild:se(!1),level:0})}return jn(()=>{e.mode==="horizontal"&&new Ece(a.vnode.el,h.namespace.value)}),s({open:be=>{const{indexPath:me}=C.value[be];me.forEach(de=>T(de,me))},close:P,handleResize:te}),()=>{var ue,be;let me=(be=(ue=i.default)==null?void 0:ue.call(i))!=null?be:[];const de=[];if(e.mode==="horizontal"&&f.value){const Ee=Eb(me),fe=y.value===-1?Ee:Ee.slice(0,y.value),_e=y.value===-1?[]:Ee.slice(y.value);(_e==null?void 0:_e.length)&&e.ellipsis&&(me=fe,de.push(Sn(Zb,{index:"sub-menu-more",class:v.e("hide-arrow")},{title:()=>Sn(fn,{class:v.e("icon-more")},{default:()=>Sn(XQ)}),default:()=>_e})))}const ye=lP(e,0),ve=Sn("ul",{key:String(e.collapse),role:"menubar",ref:f,style:ye.value,class:{[h.b()]:!0,[h.m(e.mode)]:!0,[h.m("collapse")]:e.collapse}},[...me,...de]);return e.collapseTransition&&e.mode==="vertical"?Sn(Ice,()=>ve):ve}}});const Pce=Wt({index:{type:ot([String,null]),default:null},route:{type:ot([String,Object])},disabled:Boolean}),Bce={click:e=>Gn(e.index)&&Array.isArray(e.indexPath)},e0="ElMenuItem",Dce=yt({name:e0,components:{ElTooltip:Ms},props:Pce,emits:Bce,setup(e,{emit:n}){const i=qn(),s=An("rootMenu"),a=bt("menu"),u=bt("menu-item");s||xi(e0,"can not inject root menu");const{parentMenu:f,indexPath:h}=aP(i,ui(e,"index")),v=An(`subMenu:${f.value.uid}`);v||xi(e0,"can not inject sub menu");const y=$(()=>e.index===s.activeIndex),b=xr({index:e.index,indexPath:h,active:y}),E=()=>{e.disabled||(s.handleMenuItemClick({index:e.index,indexPath:h.value,route:e.route}),n("click",b))};return jn(()=>{v.addSubMenu(b),s.addMenuItem(b)}),vi(()=>{v.removeSubMenu(b),s.removeMenuItem(b)}),{Effect:eJ,parentMenu:f,rootMenu:s,active:y,nsMenu:a,nsMenuItem:u,handleClick:E}}});function kce(e,n,i,s,a,u){const f=gn("el-tooltip");return X(),ge("li",{class:q([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:n[0]||(n[0]=(...h)=>e.handleClick&&e.handleClick(...h))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(X(),nt(f,{key:0,effect:e.Effect.DARK,placement:"right","fallback-placements":["left"],persistent:""},{content:Ue(()=>[_t(e.$slots,"title")]),default:Ue(()=>[Ce("div",{class:q(e.nsMenu.be("tooltip","trigger"))},[_t(e.$slots,"default")],2)]),_:3},8,["effect"])):(X(),ge(vn,{key:1},[_t(e.$slots,"default"),_t(e.$slots,"title")],64))],2)}var cP=Ht(Dce,[["render",kce],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const Lce={title:String},Oce="ElMenuItemGroup",Fce=yt({name:Oce,props:Lce,setup(){return{ns:bt("menu-item-group")}}});function Vce(e,n,i,s,a,u){return X(),ge("li",{class:q(e.ns.b())},[Ce("div",{class:q(e.ns.e("title"))},[e.$slots.title?_t(e.$slots,"title",{key:1}):(X(),ge(vn,{key:0},[pr(Ut(e.title),1)],64))],2),Ce("ul",null,[_t(e.$slots,"default")])],2)}var uP=Ht(Fce,[["render",Vce],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const Gce=Yn(Nce,{MenuItem:cP,MenuItemGroup:uP,SubMenu:Zb}),Uce=di(cP),Hce=di(uP);di(Zb);const Qce=Wt({icon:{type:$r,default:()=>BU},title:String,content:{type:String,default:""}}),Xce={back:()=>!0},zce=["aria-label"],$ce={name:"ElPageHeader"},Wce=yt({...$ce,props:Qce,emits:Xce,setup(e,{emit:n}){const i=Zi(),{t:s}=Cr(),a=bt("page-header"),u=$(()=>[a.b(),{[a.m("has-breadcrumb")]:!!i.breadcrumb,[a.m("has-extra")]:!!i.extra,[a.is("contentful")]:!!i.default}]);function f(){n("back")}return(h,v)=>(X(),ge("div",{class:q(g(u))},[Ce("div",{class:q(g(a).e("breadcrumb"))},[_t(h.$slots,"breadcrumb")],2),Ce("div",{class:q(g(a).e("header"))},[Ce("div",{class:q(g(a).e("left"))},[Ce("div",{class:q(g(a).e("back")),role:"button",tabindex:"0",onClick:f},[h.icon||h.$slots.icon?(X(),ge("div",{key:0,"aria-label":h.title||g(s)("el.pageHeader.title"),class:q(g(a).e("icon"))},[_t(h.$slots,"icon",{},()=>[h.icon?(X(),nt(g(fn),{key:0},{default:Ue(()=>[(X(),nt(er(h.icon)))]),_:1})):je("v-if",!0)])],10,zce)):je("v-if",!0),Ce("div",{class:q(g(a).e("title"))},[_t(h.$slots,"title",{},()=>[pr(Ut(h.title||g(s)("el.pageHeader.title")),1)])],2)],2),Me(g(WN),{direction:"vertical"}),Ce("div",{class:q(g(a).e("content"))},[_t(h.$slots,"content",{},()=>[pr(Ut(h.content),1)])],2)],2),h.$slots.extra?(X(),ge("div",{key:0,class:q(g(a).e("extra"))},[_t(h.$slots,"extra")],2)):je("v-if",!0)],2),h.$slots.default?(X(),ge("div",{key:0,class:q(g(a).e("main"))},[_t(h.$slots,"default")],2)):je("v-if",!0)],2))}});var Kce=Ht(Wce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const jce=Yn(Kce),qce=Wt({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:$r}}),Yce={click:e=>e instanceof MouseEvent},Jce=["disabled","aria-disabled"],Zce={key:0},eue={name:"ElPaginationPrev"},tue=yt({...eue,props:qce,emits:Yce,setup(e){const n=e,i=$(()=>n.disabled||n.currentPage<=1);return(s,a)=>(X(),ge("button",{type:"button",class:"btn-prev",disabled:g(i),"aria-disabled":g(i),onClick:a[0]||(a[0]=u=>s.$emit("click",u))},[s.prevText?(X(),ge("span",Zce,Ut(s.prevText),1)):(X(),nt(g(fn),{key:1},{default:Ue(()=>[(X(),nt(er(s.prevIcon)))]),_:1}))],8,Jce))}});var nue=Ht(tue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const rue=Wt({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:$r}}),iue=["disabled","aria-disabled"],sue={key:0},oue={name:"ElPaginationNext"},aue=yt({...oue,props:rue,emits:["click"],setup(e){const n=e,i=$(()=>n.disabled||n.currentPage===n.pageCount||n.pageCount===0);return(s,a)=>(X(),ge("button",{type:"button",class:"btn-next",disabled:g(i),"aria-disabled":g(i),onClick:a[0]||(a[0]=u=>s.$emit("click",u))},[s.nextText?(X(),ge("span",sue,Ut(s.nextText),1)):(X(),nt(g(fn),{key:1},{default:Ue(()=>[(X(),nt(er(s.nextIcon)))]),_:1}))],8,iue))}});var lue=Ht(aue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const dP="ElSelectGroup",vv="ElSelect";function cue(e,n){const i=An(vv),s=An(dP,{disabled:!1}),a=$(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),u=$(()=>i.props.multiple?E(i.props.modelValue,e.value):w(e.value,i.props.modelValue)),f=$(()=>{if(i.props.multiple){const M=i.props.modelValue||[];return!u.value&&M.length>=i.props.multipleLimit&&i.props.multipleLimit>0}else return!1}),h=$(()=>e.label||(a.value?"":e.value)),v=$(()=>e.value||e.label||""),y=$(()=>e.disabled||n.groupDisabled||f.value),b=qn(),E=(M=[],T)=>{if(a.value){const P=i.props.valueKey;return M&&M.some(F=>Pr(ri(F,P))===ri(T,P))}else return M&&M.includes(T)},w=(M,T)=>{if(a.value){const{valueKey:P}=i.props;return ri(M,P)===ri(T,P)}else return M===T},C=()=>{!e.disabled&&!s.disabled&&(i.hoverIndex=i.optionsArray.indexOf(b.proxy))};Ct(()=>h.value,()=>{!e.created&&!i.props.remote&&i.setSelected()}),Ct(()=>e.value,(M,T)=>{const{remote:P,valueKey:F}=i.props;if(Object.is(M,T)||(i.onOptionDestroy(T,b.proxy),i.onOptionCreate(b.proxy)),!e.created&&!P){if(F&&typeof M=="object"&&typeof T=="object"&&M[F]===T[F])return;i.setSelected()}}),Ct(()=>s.disabled,()=>{n.groupDisabled=s.disabled},{immediate:!0});const{queryChange:x}=Pr(i);return Ct(x,M=>{const{query:T}=g(M),P=new RegExp(tq(T),"i");n.visible=P.test(h.value)||e.created,n.visible||i.filteredOptionsCount--}),{select:i,currentLabel:h,currentValue:v,itemSelected:u,isDisabled:y,hoverItem:C}}const uue=yt({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const n=bt("select"),i=xr({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:s,itemSelected:a,isDisabled:u,select:f,hoverItem:h}=cue(e,i),{visible:v,hover:y}=Ci(i),b=qn().proxy;f.onOptionCreate(b),vi(()=>{const w=b.value,{selected:C}=f,M=(f.props.multiple?C:[C]).some(T=>T.value===b.value);dn(()=>{f.cachedOptions.get(w)===b&&!M&&f.cachedOptions.delete(w)}),f.onOptionDestroy(w,b)});function E(){e.disabled!==!0&&i.groupDisabled!==!0&&f.handleOptionSelect(b,!0)}return{ns:n,currentLabel:s,itemSelected:a,isDisabled:u,select:f,hoverItem:h,visible:v,hover:y,selectOptionClick:E,states:i}}});function due(e,n,i,s,a,u){return Qn((X(),ge("li",{class:q([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:n[0]||(n[0]=(...f)=>e.hoverItem&&e.hoverItem(...f)),onClick:n[1]||(n[1]=Bn((...f)=>e.selectOptionClick&&e.selectOptionClick(...f),["stop"]))},[_t(e.$slots,"default",{},()=>[Ce("span",null,Ut(e.currentLabel),1)])],34)),[[_r,e.visible]])}var e1=Ht(uue,[["render",due],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const fue=yt({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=An(vv),n=bt("select"),i=$(()=>e.props.popperClass),s=$(()=>e.props.multiple),a=$(()=>e.props.fitInputWidth),u=se("");function f(){var h;u.value=`${(h=e.selectWrapper)==null?void 0:h.offsetWidth}px`}return jn(()=>{f(),ss(e.selectWrapper,f)}),{ns:n,minWidth:u,popperClass:i,isMultiple:s,isFitInputWidth:a}}});function hue(e,n,i,s,a,u){return X(),ge("div",{class:q([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:pn({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[_t(e.$slots,"default")],6)}var pue=Ht(fue,[["render",hue],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function mue(e){const{t:n}=Cr();return xr({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:n("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1})}const gue=(e,n,i)=>{const{t:s}=Cr(),a=bt("select"),u=se(null),f=se(null),h=se(null),v=se(null),y=se(null),b=se(null),E=se(-1),w=Wr({query:""}),C=Wr(""),{form:x,formItem:M}=Ks(),T=$(()=>!e.filterable||e.multiple||!n.visible),P=$(()=>e.disabled||(x==null?void 0:x.disabled)),F=$(()=>{const $e=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!P.value&&n.inputHovering&&$e}),B=$(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),G=$(()=>a.is("reverse",B.value&&n.visible&&e.suffixTransition)),Q=$(()=>e.remote?300:0),H=$(()=>e.loading?e.loadingText||s("el.select.loading"):e.remote&&n.query===""&&n.options.size===0?!1:e.filterable&&n.query&&n.options.size>0&&n.filteredOptionsCount===0?e.noMatchText||s("el.select.noMatch"):n.options.size===0?e.noDataText||s("el.select.noData"):null),J=$(()=>Array.from(n.options.values())),te=$(()=>Array.from(n.cachedOptions.values())),ie=$(()=>{const $e=J.value.filter(Rt=>!Rt.created).some(Rt=>Rt.currentLabel===n.query);return e.filterable&&e.allowCreate&&n.query!==""&&!$e}),ue=Ei(),be=$(()=>["small"].includes(ue.value)?"small":"default"),me=$({get(){return n.visible&&H.value!==!1},set($e){n.visible=$e}});Ct([()=>P.value,()=>ue.value,()=>x==null?void 0:x.size],()=>{dn(()=>{de()})}),Ct(()=>e.placeholder,$e=>{n.cachedPlaceHolder=n.currentPlaceholder=$e}),Ct(()=>e.modelValue,($e,Rt)=>{e.multiple&&(de(),$e&&$e.length>0||f.value&&n.query!==""?n.currentPlaceholder="":n.currentPlaceholder=n.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(n.query="",ye(n.query))),fe(),e.filterable&&!e.multiple&&(n.inputLength=20),!co($e,Rt)&&e.validateEvent&&(M==null||M.validate("change").catch(Qe=>void 0))},{flush:"post",deep:!0}),Ct(()=>n.visible,$e=>{var Rt,Qe,Dt;$e?((Qe=(Rt=h.value)==null?void 0:Rt.updatePopper)==null||Qe.call(Rt),e.filterable&&(n.filteredOptionsCount=n.optionsCount,n.query=e.remote?"":n.selectedLabel,e.multiple?(Dt=f.value)==null||Dt.focus():n.selectedLabel&&(n.currentPlaceholder=`${n.selectedLabel}`,n.selectedLabel=""),ye(n.query),!e.multiple&&!e.remote&&(w.value.query="",Gf(w),Gf(C)))):(f.value&&f.value.blur(),n.query="",n.previousQuery=null,n.selectedLabel="",n.inputLength=20,n.menuVisibleOnFocus=!1,oe(),dn(()=>{f.value&&f.value.value===""&&n.selected.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)}),e.multiple||(n.selected&&(e.filterable&&e.allowCreate&&n.createdSelected&&n.createdLabel?n.selectedLabel=n.createdLabel:n.selectedLabel=n.selected.currentLabel,e.filterable&&(n.query=n.selectedLabel)),e.filterable&&(n.currentPlaceholder=n.cachedPlaceHolder))),i.emit("visible-change",$e)}),Ct(()=>n.options.entries(),()=>{var $e,Rt,Qe;if(!dr)return;(Rt=($e=h.value)==null?void 0:$e.updatePopper)==null||Rt.call($e),e.multiple&&de();const Dt=((Qe=y.value)==null?void 0:Qe.querySelectorAll("input"))||[];Array.from(Dt).includes(document.activeElement)||fe(),e.defaultFirstOption&&(e.filterable||e.remote)&&n.filteredOptionsCount&&Ee()},{flush:"post"}),Ct(()=>n.hoverIndex,$e=>{typeof $e=="number"&&$e>-1?E.value=J.value[$e]||{}:E.value={},J.value.forEach(Rt=>{Rt.hover=E.value===Rt})});const de=()=>{e.collapseTags&&!e.filterable||dn(()=>{var $e,Rt;if(!u.value)return;const Qe=u.value.$el.querySelector("input"),Dt=v.value,Qt=cq(ue.value||(x==null?void 0:x.size));Qe.style.height=`${(n.selected.length===0?Qt:Math.max(Dt?Dt.clientHeight+(Dt.clientHeight>Qt?6:0):0,Qt))-2}px`,n.tagInMultiLine=Number.parseFloat(Qe.style.height)>=Qt,n.visible&&H.value!==!1&&((Rt=($e=h.value)==null?void 0:$e.updatePopper)==null||Rt.call($e))})},ye=async $e=>{if(!(n.previousQuery===$e||n.isOnComposition)){if(n.previousQuery===null&&(typeof e.filterMethod=="function"||typeof e.remoteMethod=="function")){n.previousQuery=$e;return}n.previousQuery=$e,dn(()=>{var Rt,Qe;n.visible&&((Qe=(Rt=h.value)==null?void 0:Rt.updatePopper)==null||Qe.call(Rt))}),n.hoverIndex=-1,e.multiple&&e.filterable&&dn(()=>{const Rt=f.value.value.length*15+20;n.inputLength=e.collapseTags?Math.min(50,Rt):Rt,ve(),de()}),e.remote&&typeof e.remoteMethod=="function"?(n.hoverIndex=-1,e.remoteMethod($e)):typeof e.filterMethod=="function"?(e.filterMethod($e),Gf(C)):(n.filteredOptionsCount=n.optionsCount,w.value.query=$e,Gf(w),Gf(C)),e.defaultFirstOption&&(e.filterable||e.remote)&&n.filteredOptionsCount&&(await dn(),Ee())}},ve=()=>{n.currentPlaceholder!==""&&(n.currentPlaceholder=f.value.value?"":n.cachedPlaceHolder)},Ee=()=>{const $e=J.value.filter(Dt=>Dt.visible&&!Dt.disabled&&!Dt.states.groupDisabled),Rt=$e.find(Dt=>Dt.created),Qe=$e[0];n.hoverIndex=pt(J.value,Rt||Qe)},fe=()=>{var $e;if(e.multiple)n.selectedLabel="";else{const Qe=_e(e.modelValue);($e=Qe.props)!=null&&$e.created?(n.createdLabel=Qe.props.value,n.createdSelected=!0):n.createdSelected=!1,n.selectedLabel=Qe.currentLabel,n.selected=Qe,e.filterable&&(n.query=n.selectedLabel);return}const Rt=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(Qe=>{Rt.push(_e(Qe))}),n.selected=Rt,dn(()=>{de()})},_e=$e=>{let Rt;const Qe=Im($e).toLowerCase()==="object",Dt=Im($e).toLowerCase()==="null",Qt=Im($e).toLowerCase()==="undefined";for(let Ar=n.cachedOptions.size-1;Ar>=0;Ar--){const ir=te.value[Ar];if(Qe?ri(ir.value,e.valueKey)===ri($e,e.valueKey):ir.value===$e){Rt={value:$e,currentLabel:ir.currentLabel,isDisabled:ir.isDisabled};break}}if(Rt)return Rt;const Yt=Qe?$e.label:!Dt&&!Qt?$e:"",un={value:$e,currentLabel:Yt};return e.multiple&&(un.hitState=!1),un},oe=()=>{setTimeout(()=>{const $e=e.valueKey;e.multiple?n.selected.length>0?n.hoverIndex=Math.min.apply(null,n.selected.map(Rt=>J.value.findIndex(Qe=>ri(Qe,$e)===ri(Rt,$e)))):n.hoverIndex=-1:n.hoverIndex=J.value.findIndex(Rt=>Mn(Rt)===Mn(n.selected))},300)},Te=()=>{var $e,Rt;Le(),(Rt=($e=h.value)==null?void 0:$e.updatePopper)==null||Rt.call($e),e.multiple&&!e.filterable&&de()},Le=()=>{var $e;n.inputWidth=($e=u.value)==null?void 0:$e.$el.getBoundingClientRect().width},xe=()=>{e.filterable&&n.query!==n.selectedLabel&&(n.query=n.selectedLabel,ye(n.query))},Fe=gs(()=>{xe()},Q.value),ft=gs($e=>{ye($e.target.value)},Q.value),St=$e=>{co(e.modelValue,$e)||i.emit(ii,$e)},Pt=$e=>{if($e.target.value.length<=0&&!Lt()){const Rt=e.modelValue.slice();Rt.pop(),i.emit(Zn,Rt),St(Rt)}$e.target.value.length===1&&e.modelValue.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)},At=($e,Rt)=>{const Qe=n.selected.indexOf(Rt);if(Qe>-1&&!P.value){const Dt=e.modelValue.slice();Dt.splice(Qe,1),i.emit(Zn,Dt),St(Dt),i.emit("remove-tag",Rt.value)}$e.stopPropagation()},Ve=$e=>{$e.stopPropagation();const Rt=e.multiple?[]:"";if(typeof Rt!="string")for(const Qe of n.selected)Qe.isDisabled&&Rt.push(Qe.value);i.emit(Zn,Rt),St(Rt),n.hoverIndex=-1,n.visible=!1,i.emit("clear")},at=($e,Rt)=>{var Qe;if(e.multiple){const Dt=(e.modelValue||[]).slice(),Qt=pt(Dt,$e.value);Qt>-1?Dt.splice(Qt,1):(e.multipleLimit<=0||Dt.length<e.multipleLimit)&&Dt.push($e.value),i.emit(Zn,Dt),St(Dt),$e.created&&(n.query="",ye(""),n.inputLength=20),e.filterable&&((Qe=f.value)==null||Qe.focus())}else i.emit(Zn,$e.value),St($e.value),n.visible=!1;n.isSilentBlur=Rt,nn(),!n.visible&&dn(()=>{_n($e)})},pt=($e=[],Rt)=>{if(!ur(Rt))return $e.indexOf(Rt);const Qe=e.valueKey;let Dt=-1;return $e.some((Qt,Yt)=>Pr(ri(Qt,Qe))===ri(Rt,Qe)?(Dt=Yt,!0):!1),Dt},nn=()=>{n.softFocus=!0;const $e=f.value||u.value;$e&&($e==null||$e.focus())},_n=$e=>{var Rt,Qe,Dt,Qt,Yt;const un=Array.isArray($e)?$e[0]:$e;let Ar=null;if(un!=null&&un.value){const ir=J.value.filter(si=>si.value===un.value);ir.length>0&&(Ar=ir[0].$el)}if(h.value&&Ar){const ir=(Qt=(Dt=(Qe=(Rt=h.value)==null?void 0:Rt.popperRef)==null?void 0:Qe.contentRef)==null?void 0:Dt.querySelector)==null?void 0:Qt.call(Dt,`.${a.be("dropdown","wrap")}`);ir&&LR(ir,Ar)}(Yt=b.value)==null||Yt.handleScroll()},Be=$e=>{n.optionsCount++,n.filteredOptionsCount++,n.options.set($e.value,$e),n.cachedOptions.set($e.value,$e)},ze=($e,Rt)=>{n.options.get($e)===Rt&&(n.optionsCount--,n.filteredOptionsCount--,n.options.delete($e))},vt=$e=>{$e.code!==bn.backspace&&Lt(!1),n.inputLength=f.value.value.length*15+20,de()},Lt=$e=>{if(!Array.isArray(n.selected))return;const Rt=n.selected[n.selected.length-1];if(!!Rt)return $e===!0||$e===!1?(Rt.hitState=$e,$e):(Rt.hitState=!Rt.hitState,Rt.hitState)},et=$e=>{const Rt=$e.target.value;if($e.type==="compositionend")n.isOnComposition=!1,dn(()=>ye(Rt));else{const Qe=Rt[Rt.length-1]||"";n.isOnComposition=!sv(Qe)}},xt=()=>{dn(()=>_n(n.selected))},qe=$e=>{n.softFocus?n.softFocus=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!n.visible&&(n.menuVisibleOnFocus=!0),n.visible=!0),i.emit("focus",$e))},rt=()=>{var $e;n.visible=!1,($e=u.value)==null||$e.blur()},mt=$e=>{dn(()=>{n.isSilentBlur?n.isSilentBlur=!1:i.emit("blur",$e)}),n.softFocus=!1},Et=$e=>{Ve($e)},rn=()=>{n.visible=!1},it=$e=>{n.visible&&($e.preventDefault(),$e.stopPropagation(),n.visible=!1)},Xt=()=>{var $e;P.value||(n.menuVisibleOnFocus?n.menuVisibleOnFocus=!1:n.visible=!n.visible,n.visible&&(($e=f.value||u.value)==null||$e.focus()))},In=()=>{n.visible?J.value[n.hoverIndex]&&at(J.value[n.hoverIndex],void 0):Xt()},Mn=$e=>ur($e.value)?ri($e.value,e.valueKey):$e.value,Ke=$(()=>J.value.filter($e=>$e.visible).every($e=>$e.disabled)),It=$e=>{if(!n.visible){n.visible=!0;return}if(!(n.options.size===0||n.filteredOptionsCount===0)&&!n.isOnComposition&&!Ke.value){$e==="next"?(n.hoverIndex++,n.hoverIndex===n.options.size&&(n.hoverIndex=0)):$e==="prev"&&(n.hoverIndex--,n.hoverIndex<0&&(n.hoverIndex=n.options.size-1));const Rt=J.value[n.hoverIndex];(Rt.disabled===!0||Rt.states.groupDisabled===!0||!Rt.visible)&&It($e),dn(()=>_n(E.value))}};return{optionsArray:J,selectSize:ue,handleResize:Te,debouncedOnInputChange:Fe,debouncedQueryChange:ft,deletePrevTag:Pt,deleteTag:At,deleteSelected:Ve,handleOptionSelect:at,scrollToOption:_n,readonly:T,resetInputHeight:de,showClose:F,iconComponent:B,iconReverse:G,showNewOption:ie,collapseTagSize:be,setSelected:fe,managePlaceholder:ve,selectDisabled:P,emptyText:H,toggleLastOptionHitState:Lt,resetInputState:vt,handleComposition:et,onOptionCreate:Be,onOptionDestroy:ze,handleMenuEnter:xt,handleFocus:qe,blur:rt,handleBlur:mt,handleClearClick:Et,handleClose:rn,handleKeydownEscape:it,toggleMenu:Xt,selectOption:In,getValueKey:Mn,navigateOptions:It,dropMenuVisible:me,queryChange:w,groupQueryChange:C,reference:u,input:f,tooltipRef:h,tags:v,selectWrapper:y,scrollbar:b}},$2="ElSelect",vue=yt({name:$2,componentName:$2,components:{ElInput:rs,ElSelectMenu:pue,ElOption:e1,ElTag:pv,ElScrollbar:cl,ElTooltip:Ms,ElIcon:fn},directives:{ClickOutside:Yl},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:_u},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},teleported:Ki.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:$r,default:nc},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:$r,default:tc},tagType:{...$b.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:yu,default:"bottom-start"}},emits:[Zn,ii,"remove-tag","clear","visible-change","focus","blur"],setup(e,n){const i=bt("select"),s=bt("input"),{t:a}=Cr(),u=mue(e),{optionsArray:f,selectSize:h,readonly:v,handleResize:y,collapseTagSize:b,debouncedOnInputChange:E,debouncedQueryChange:w,deletePrevTag:C,deleteTag:x,deleteSelected:M,handleOptionSelect:T,scrollToOption:P,setSelected:F,resetInputHeight:B,managePlaceholder:G,showClose:Q,selectDisabled:H,iconComponent:J,iconReverse:te,showNewOption:ie,emptyText:ue,toggleLastOptionHitState:be,resetInputState:me,handleComposition:de,onOptionCreate:ye,onOptionDestroy:ve,handleMenuEnter:Ee,handleFocus:fe,blur:_e,handleBlur:oe,handleClearClick:Te,handleClose:Le,handleKeydownEscape:xe,toggleMenu:Fe,selectOption:ft,getValueKey:St,navigateOptions:Pt,dropMenuVisible:At,reference:Ve,input:at,tooltipRef:pt,tags:nn,selectWrapper:_n,scrollbar:Be,queryChange:ze,groupQueryChange:vt}=gue(e,u,n),{focus:Lt}=_q(Ve),{inputWidth:et,selected:xt,inputLength:qe,filteredOptionsCount:rt,visible:mt,softFocus:Et,selectedLabel:rn,hoverIndex:it,query:Xt,inputHovering:In,currentPlaceholder:Mn,menuVisibleOnFocus:Ke,isOnComposition:It,isSilentBlur:$e,options:Rt,cachedOptions:Qe,optionsCount:Dt,prefixWidth:Qt,tagInMultiLine:Yt}=Ci(u),un=$(()=>{const Xn=[i.b()],Ir=g(h);return Ir&&Xn.push(i.m(Ir)),e.disabled&&Xn.push(i.m("disabled")),Xn}),Ar=$(()=>({maxWidth:`${g(et)-32}px`,width:"100%"})),ir=$(()=>({maxWidth:`${g(et)>123?g(et)-123:g(et)-75}px`}));rr(vv,xr({props:e,options:Rt,optionsArray:f,cachedOptions:Qe,optionsCount:Dt,filteredOptionsCount:rt,hoverIndex:it,handleOptionSelect:T,onOptionCreate:ye,onOptionDestroy:ve,selectWrapper:_n,selected:xt,setSelected:F,queryChange:ze,groupQueryChange:vt})),jn(()=>{u.cachedPlaceHolder=Mn.value=e.placeholder||a("el.select.placeholder"),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(Mn.value=""),ss(_n,y),e.remote&&e.multiple&&B(),dn(()=>{const Xn=Ve.value&&Ve.value.$el;if(!!Xn&&(et.value=Xn.getBoundingClientRect().width,n.slots.prefix)){const Ir=Xn.querySelector(`.${s.e("prefix")}`);Qt.value=Math.max(Ir.getBoundingClientRect().width+5,30)}}),F()}),e.multiple&&!Array.isArray(e.modelValue)&&n.emit(Zn,[]),!e.multiple&&Array.isArray(e.modelValue)&&n.emit(Zn,"");const si=$(()=>{var Xn,Ir;return(Ir=(Xn=pt.value)==null?void 0:Xn.popperRef)==null?void 0:Ir.contentRef});return{tagInMultiLine:Yt,prefixWidth:Qt,selectSize:h,readonly:v,handleResize:y,collapseTagSize:b,debouncedOnInputChange:E,debouncedQueryChange:w,deletePrevTag:C,deleteTag:x,deleteSelected:M,handleOptionSelect:T,scrollToOption:P,inputWidth:et,selected:xt,inputLength:qe,filteredOptionsCount:rt,visible:mt,softFocus:Et,selectedLabel:rn,hoverIndex:it,query:Xt,inputHovering:In,currentPlaceholder:Mn,menuVisibleOnFocus:Ke,isOnComposition:It,isSilentBlur:$e,options:Rt,resetInputHeight:B,managePlaceholder:G,showClose:Q,selectDisabled:H,iconComponent:J,iconReverse:te,showNewOption:ie,emptyText:ue,toggleLastOptionHitState:be,resetInputState:me,handleComposition:de,handleMenuEnter:Ee,handleFocus:fe,blur:_e,handleBlur:oe,handleClearClick:Te,handleClose:Le,handleKeydownEscape:xe,toggleMenu:Fe,selectOption:ft,getValueKey:St,navigateOptions:Pt,dropMenuVisible:At,focus:Lt,reference:Ve,input:at,tooltipRef:pt,popperPaneRef:si,tags:nn,selectWrapper:_n,scrollbar:Be,wrapperKls:un,selectTagsStyle:Ar,nsSelect:i,tagTextStyle:ir}}}),_ue=["disabled","autocomplete"],Aue={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function yue(e,n,i,s,a,u){const f=gn("el-tag"),h=gn("el-tooltip"),v=gn("el-icon"),y=gn("el-input"),b=gn("el-option"),E=gn("el-scrollbar"),w=gn("el-select-menu"),C=iu("click-outside");return Qn((X(),ge("div",{ref:"selectWrapper",class:q(e.wrapperKls),onClick:n[22]||(n[22]=Bn((...x)=>e.toggleMenu&&e.toggleMenu(...x),["stop"]))},[Me(h,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:Ue(()=>[Ce("div",{class:"select-trigger",onMouseenter:n[20]||(n[20]=x=>e.inputHovering=!0),onMouseleave:n[21]||(n[21]=x=>e.inputHovering=!1)},[e.multiple?(X(),ge("div",{key:0,ref:"tags",class:q(e.nsSelect.e("tags")),style:pn(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(X(),ge("span",{key:0,class:q([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[Me(f,{closable:!e.selectDisabled&&!e.selected[0].isDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:e.tagType,"disable-transitions":"",onClose:n[0]||(n[0]=x=>e.deleteTag(x,e.selected[0]))},{default:Ue(()=>[Ce("span",{class:q(e.nsSelect.e("tags-text")),style:pn(e.tagTextStyle)},Ut(e.selected[0].currentLabel),7)]),_:1},8,["closable","size","hit","type"]),e.selected.length>1?(X(),nt(f,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:Ue(()=>[e.collapseTagsTooltip?(X(),nt(h,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:Ue(()=>[Ce("span",{class:q(e.nsSelect.e("tags-text"))},"+ "+Ut(e.selected.length-1),3)]),content:Ue(()=>[Ce("div",{class:q(e.nsSelect.e("collapse-tags"))},[(X(!0),ge(vn,null,cr(e.selected.slice(1),(x,M)=>(X(),ge("div",{key:M,class:q(e.nsSelect.e("collapse-tag"))},[(X(),nt(f,{key:e.getValueKey(x),class:"in-tooltip",closable:!e.selectDisabled&&!x.isDisabled,size:e.collapseTagSize,hit:x.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:T=>e.deleteTag(T,x)},{default:Ue(()=>[Ce("span",{class:q(e.nsSelect.e("tags-text")),style:pn({maxWidth:e.inputWidth-75+"px"})},Ut(x.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(X(),ge("span",{key:1,class:q(e.nsSelect.e("tags-text"))},"+ "+Ut(e.selected.length-1),3))]),_:1},8,["size","type"])):je("v-if",!0)],2)):je("v-if",!0),je(" <div> "),e.collapseTags?je("v-if",!0):(X(),nt(bi,{key:1,onAfterLeave:e.resetInputHeight},{default:Ue(()=>[Ce("span",{class:q([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(X(!0),ge(vn,null,cr(e.selected,x=>(X(),nt(f,{key:e.getValueKey(x),closable:!e.selectDisabled&&!x.isDisabled,size:e.collapseTagSize,hit:x.hitState,type:e.tagType,"disable-transitions":"",onClose:M=>e.deleteTag(M,x)},{default:Ue(()=>[Ce("span",{class:q(e.nsSelect.e("tags-text")),style:pn({maxWidth:e.inputWidth-75+"px"})},Ut(x.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),je(" </div> "),e.filterable?Qn((X(),ge("input",{key:2,ref:"input","onUpdate:modelValue":n[1]||(n[1]=x=>e.query=x),type:"text",class:q([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:pn({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:`${e.inputLength/(e.inputWidth-32)}%`,maxWidth:`${e.inputWidth-42}px`}),onFocus:n[2]||(n[2]=(...x)=>e.handleFocus&&e.handleFocus(...x)),onBlur:n[3]||(n[3]=(...x)=>e.handleBlur&&e.handleBlur(...x)),onKeyup:n[4]||(n[4]=(...x)=>e.managePlaceholder&&e.managePlaceholder(...x)),onKeydown:[n[5]||(n[5]=(...x)=>e.resetInputState&&e.resetInputState(...x)),n[6]||(n[6]=hr(Bn(x=>e.navigateOptions("next"),["prevent"]),["down"])),n[7]||(n[7]=hr(Bn(x=>e.navigateOptions("prev"),["prevent"]),["up"])),n[8]||(n[8]=hr((...x)=>e.handleKeydownEscape&&e.handleKeydownEscape(...x),["esc"])),n[9]||(n[9]=hr(Bn((...x)=>e.selectOption&&e.selectOption(...x),["stop","prevent"]),["enter"])),n[10]||(n[10]=hr((...x)=>e.deletePrevTag&&e.deletePrevTag(...x),["delete"])),n[11]||(n[11]=hr(x=>e.visible=!1,["tab"]))],onCompositionstart:n[12]||(n[12]=(...x)=>e.handleComposition&&e.handleComposition(...x)),onCompositionupdate:n[13]||(n[13]=(...x)=>e.handleComposition&&e.handleComposition(...x)),onCompositionend:n[14]||(n[14]=(...x)=>e.handleComposition&&e.handleComposition(...x)),onInput:n[15]||(n[15]=(...x)=>e.debouncedQueryChange&&e.debouncedQueryChange(...x))},null,46,_ue)),[[jy,e.query]]):je("v-if",!0)],6)):je("v-if",!0),Me(y,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":n[16]||(n[16]=x=>e.selectedLabel=x),type:"text",placeholder:e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:q([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[n[17]||(n[17]=hr(Bn(x=>e.navigateOptions("next"),["stop","prevent"]),["down"])),n[18]||(n[18]=hr(Bn(x=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),hr(Bn(e.selectOption,["stop","prevent"]),["enter"]),hr(e.handleKeydownEscape,["esc"]),n[19]||(n[19]=hr(x=>e.visible=!1,["tab"]))]},$l({suffix:Ue(()=>[e.iconComponent&&!e.showClose?(X(),nt(v,{key:0,class:q([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:Ue(()=>[(X(),nt(er(e.iconComponent)))]),_:1},8,["class"])):je("v-if",!0),e.showClose&&e.clearIcon?(X(),nt(v,{key:1,class:q([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:Ue(()=>[(X(),nt(er(e.clearIcon)))]),_:1},8,["class","onClick"])):je("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:Ue(()=>[Ce("div",Aue,[_t(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:Ue(()=>[Me(w,null,{default:Ue(()=>[Qn(Me(E,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:q([e.nsSelect.is("empty",!e.allowCreate&&Boolean(e.query)&&e.filteredOptionsCount===0)])},{default:Ue(()=>[e.showNewOption?(X(),nt(b,{key:0,value:e.query,created:!0},null,8,["value"])):je("v-if",!0),_t(e.$slots,"default")]),_:3},8,["wrap-class","view-class","class"]),[[_r,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(X(),ge(vn,{key:0},[e.$slots.empty?_t(e.$slots,"empty",{key:0}):(X(),ge("p",{key:1,class:q(e.nsSelect.be("dropdown","empty"))},Ut(e.emptyText),3))],64)):je("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","effect","transition","persistent","onShow"])],2)),[[C,e.handleClose,e.popperPaneRef]])}var bue=Ht(vue,[["render",yue],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Sue=yt({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const n=bt("select"),i=se(!0),s=qn(),a=se([]);rr(dP,xr({...Ci(e)}));const u=An(vv);jn(()=>{a.value=f(s.subTree)});const f=v=>{const y=[];return Array.isArray(v.children)&&v.children.forEach(b=>{var E;b.type&&b.type.name==="ElOption"&&b.component&&b.component.proxy?y.push(b.component.proxy):(E=b.children)!=null&&E.length&&y.push(...f(b))}),y},{groupQueryChange:h}=Pr(u);return Ct(h,()=>{i.value=a.value.some(v=>v.visible===!0)},{flush:"post"}),{visible:i,ns:n}}});function Eue(e,n,i,s,a,u){return Qn((X(),ge("ul",{class:q(e.ns.be("group","wrap"))},[Ce("li",{class:q(e.ns.be("group","title"))},Ut(e.label),3),Ce("li",null,[Ce("ul",{class:q(e.ns.b("group"))},[_t(e.$slots,"default")],2)])],2)),[[_r,e.visible]])}var fP=Ht(Sue,[["render",Eue],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const cu=Yn(bue,{Option:e1,OptionGroup:fP}),Eg=di(e1),wue=di(fP),t1=()=>An(WR,{}),Cue=Wt({pageSize:{type:Number,required:!0},pageSizes:{type:ot(Array),default:()=>qr([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,default:"default"}}),Iue={name:"ElPaginationSizes"},Mue=yt({...Iue,props:Cue,emits:["page-size-change"],setup(e,{emit:n}){const i=e,{t:s}=Cr(),a=bt("pagination"),u=t1(),f=se(i.pageSize);Ct(()=>i.pageSizes,(y,b)=>{if(!co(y,b)&&Array.isArray(y)){const E=y.includes(i.pageSize)?i.pageSize:i.pageSizes[0];n("page-size-change",E)}}),Ct(()=>i.pageSize,y=>{f.value=y});const h=$(()=>i.pageSizes);function v(y){var b;y!==f.value&&(f.value=y,(b=u.handleSizeChange)==null||b.call(u,Number(y)))}return(y,b)=>(X(),ge("span",{class:q(g(a).e("sizes"))},[Me(g(cu),{"model-value":f.value,disabled:y.disabled,"popper-class":y.popperClass,size:y.size,"validate-event":!1,onChange:v},{default:Ue(()=>[(X(!0),ge(vn,null,cr(g(h),E=>(X(),nt(g(Eg),{key:E,value:E,label:E+g(s)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var xue=Ht(Mue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const Rue=["disabled"],Tue={name:"ElPaginationJumper"},Nue=yt({...Tue,setup(e){const{t:n}=Cr(),i=bt("pagination"),{pageCount:s,disabled:a,currentPage:u,changeEvent:f}=t1(),h=se(),v=$(()=>{var E;return(E=h.value)!=null?E:u==null?void 0:u.value});function y(E){h.value=+E}function b(E){E=Math.trunc(+E),f==null||f(+E),h.value=void 0}return(E,w)=>(X(),ge("span",{class:q(g(i).e("jump")),disabled:g(a)},[pr(Ut(g(n)("el.pagination.goto"))+" ",1),Me(g(rs),{size:"small",class:q([g(i).e("editor"),g(i).is("in-pagination")]),min:1,max:g(s),disabled:g(a),"model-value":g(v),"validate-event":!1,type:"number","onUpdate:modelValue":y,onChange:b},null,8,["class","max","disabled","model-value"]),pr(" "+Ut(g(n)("el.pagination.pageClassifier")),1)],10,Rue))}});var Pue=Ht(Nue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const Bue=Wt({total:{type:Number,default:1e3}}),Due=["disabled"],kue={name:"ElPaginationTotal"},Lue=yt({...kue,props:Bue,setup(e){const{t:n}=Cr(),i=bt("pagination"),{disabled:s}=t1();return(a,u)=>(X(),ge("span",{class:q(g(i).e("total")),disabled:g(s)},Ut(g(n)("el.pagination.total",{total:a.total})),11,Due))}});var Oue=Ht(Lue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const Fue=Wt({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Vue=["onKeyup"],Gue=["aria-current","tabindex"],Uue=["tabindex"],Hue=["aria-current","tabindex"],Que=["tabindex"],Xue=["aria-current","tabindex"],zue={name:"ElPaginationPager"},$ue=yt({...zue,props:Fue,emits:["change"],setup(e,{emit:n}){const i=e,s=bt("pager"),a=bt("icon"),u=se(!1),f=se(!1),h=se(!1),v=se(!1),y=se(!1),b=se(!1),E=$(()=>{const P=i.pagerCount,F=(P-1)/2,B=Number(i.currentPage),G=Number(i.pageCount);let Q=!1,H=!1;G>P&&(B>P-F&&(Q=!0),B<G-F&&(H=!0));const J=[];if(Q&&!H){const te=G-(P-2);for(let ie=te;ie<G;ie++)J.push(ie)}else if(!Q&&H)for(let te=2;te<P;te++)J.push(te);else if(Q&&H){const te=Math.floor(P/2)-1;for(let ie=B-te;ie<=B+te;ie++)J.push(ie)}else for(let te=2;te<G;te++)J.push(te);return J}),w=$(()=>i.disabled?-1:0);Yi(()=>{const P=(i.pagerCount-1)/2;u.value=!1,f.value=!1,i.pageCount>i.pagerCount&&(i.currentPage>i.pagerCount-P&&(u.value=!0),i.currentPage<i.pageCount-P&&(f.value=!0))});function C(P=!1){i.disabled||(P?h.value=!0:v.value=!0)}function x(P=!1){P?y.value=!0:b.value=!0}function M(P){const F=P.target;if(F.tagName.toLowerCase()==="li"&&Array.from(F.classList).includes("number")){const B=Number(F.textContent);B!==i.currentPage&&n("change",B)}else F.tagName.toLowerCase()==="li"&&Array.from(F.classList).includes("more")&&T(P)}function T(P){const F=P.target;if(F.tagName.toLowerCase()==="ul"||i.disabled)return;let B=Number(F.textContent);const G=i.pageCount,Q=i.currentPage,H=i.pagerCount-2;F.className.includes("more")&&(F.className.includes("quickprev")?B=Q-H:F.className.includes("quicknext")&&(B=Q+H)),Number.isNaN(+B)||(B<1&&(B=1),B>G&&(B=G)),B!==Q&&n("change",B)}return(P,F)=>(X(),ge("ul",{class:q(g(s).b()),onClick:T,onKeyup:hr(M,["enter"])},[P.pageCount>0?(X(),ge("li",{key:0,class:q([[g(s).is("active",P.currentPage===1),g(s).is("disabled",P.disabled)],"number"]),"aria-current":P.currentPage===1,tabindex:g(w)}," 1 ",10,Gue)):je("v-if",!0),u.value?(X(),ge("li",{key:1,class:q(["more","btn-quickprev",g(a).b(),g(s).is("disabled",P.disabled)]),tabindex:g(w),onMouseenter:F[0]||(F[0]=B=>C(!0)),onMouseleave:F[1]||(F[1]=B=>h.value=!1),onFocus:F[2]||(F[2]=B=>x(!0)),onBlur:F[3]||(F[3]=B=>y.value=!1)},[h.value||y.value?(X(),nt(g(Td),{key:0})):(X(),nt(g(WC),{key:1}))],42,Uue)):je("v-if",!0),(X(!0),ge(vn,null,cr(g(E),B=>(X(),ge("li",{key:B,class:q([[g(s).is("active",P.currentPage===B),g(s).is("disabled",P.disabled)],"number"]),"aria-current":P.currentPage===B,tabindex:g(w)},Ut(B),11,Hue))),128)),f.value?(X(),ge("li",{key:2,class:q(["more","btn-quicknext",g(a).b(),g(s).is("disabled",P.disabled)]),tabindex:g(w),onMouseenter:F[4]||(F[4]=B=>C()),onMouseleave:F[5]||(F[5]=B=>v.value=!1),onFocus:F[6]||(F[6]=B=>x()),onBlur:F[7]||(F[7]=B=>b.value=!1)},[v.value||b.value?(X(),nt(g(Nd),{key:0})):(X(),nt(g(WC),{key:1}))],42,Que)):je("v-if",!0),P.pageCount>1?(X(),ge("li",{key:3,class:q([[g(s).is("active",P.currentPage===P.pageCount),g(s).is("disabled",P.disabled)],"number"]),"aria-current":P.currentPage===P.pageCount,tabindex:g(w)},Ut(P.pageCount),11,Xue)):je("v-if",!0)],42,Vue))}});var Wue=Ht($ue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const fs=e=>typeof e!="number",Kue=Wt({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>typeof e=="number"&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:ot(Array),default:()=>qr([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:$r,default:()=>Kl},nextText:{type:String,default:""},nextIcon:{type:$r,default:()=>ms},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),jue={"update:current-page":e=>typeof e=="number","update:page-size":e=>typeof e=="number","size-change":e=>typeof e=="number","current-change":e=>typeof e=="number","prev-click":e=>typeof e=="number","next-click":e=>typeof e=="number"},W2="ElPagination";var que=yt({name:W2,props:Kue,emits:jue,setup(e,{emit:n,slots:i}){const{t:s}=Cr(),a=bt("pagination"),u=qn().vnode.props||{},f="onUpdate:currentPage"in u||"onUpdate:current-page"in u||"onCurrentChange"in u,h="onUpdate:pageSize"in u||"onUpdate:page-size"in u||"onSizeChange"in u,v=$(()=>{if(fs(e.total)&&fs(e.pageCount)||!fs(e.currentPage)&&!f)return!1;if(e.layout.includes("sizes")){if(fs(e.pageCount)){if(!fs(e.total)&&!fs(e.pageSize)&&!h)return!1}else if(!h)return!1}return!0}),y=se(fs(e.defaultPageSize)?10:e.defaultPageSize),b=se(fs(e.defaultCurrentPage)?1:e.defaultCurrentPage),E=$({get(){return fs(e.pageSize)?y.value:e.pageSize},set(B){fs(e.pageSize)&&(y.value=B),h&&(n("update:page-size",B),n("size-change",B))}}),w=$(()=>{let B=0;return fs(e.pageCount)?fs(e.total)||(B=Math.max(1,Math.ceil(e.total/E.value))):B=e.pageCount,B}),C=$({get(){return fs(e.currentPage)?b.value:e.currentPage},set(B){let G=B;B<1?G=1:B>w.value&&(G=w.value),fs(e.currentPage)&&(b.value=G),f&&(n("update:current-page",G),n("current-change",G))}});Ct(w,B=>{C.value>B&&(C.value=B)});function x(B){C.value=B}function M(B){E.value=B;const G=w.value;C.value>G&&(C.value=G)}function T(){e.disabled||(C.value-=1,n("prev-click",C.value))}function P(){e.disabled||(C.value+=1,n("next-click",C.value))}function F(B,G){B&&(B.props||(B.props={}),B.props.class=[B.props.class,G].join(" "))}return rr(WR,{pageCount:w,disabled:$(()=>e.disabled),currentPage:C,changeEvent:x,handleSizeChange:M}),()=>{var B,G;if(!v.value)return s("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&w.value<=1)return null;const Q=[],H=[],J=Sn("div",{class:a.e("rightwrapper")},H),te={prev:Sn(nue,{disabled:e.disabled,currentPage:C.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:T}),jumper:Sn(Pue),pager:Sn(Wue,{currentPage:C.value,pageCount:w.value,pagerCount:e.pagerCount,onChange:x,disabled:e.disabled}),next:Sn(lue,{disabled:e.disabled,currentPage:C.value,pageCount:w.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:P}),sizes:Sn(xue,{pageSize:E.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,size:e.small?"small":"default"}),slot:(G=(B=i==null?void 0:i.default)==null?void 0:B.call(i))!=null?G:null,total:Sn(Oue,{total:fs(e.total)?0:e.total})},ie=e.layout.split(",").map(be=>be.trim());let ue=!1;return ie.forEach(be=>{if(be==="->"){ue=!0;return}ue?H.push(te[be]):Q.push(te[be])}),F(Q[0],a.is("first")),F(Q[Q.length-1],a.is("last")),ue&&H.length>0&&(F(H[0],a.is("first")),F(H[H.length-1],a.is("last")),Q.push(J)),Sn("div",{role:"pagination","aria-label":"pagination",class:[a.b(),a.is("background",e.background),{[a.m("small")]:e.small}]},Q)}}});const Yue=Yn(que),Jue=Wt({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:F0,default:"primary"},cancelButtonType:{type:String,values:F0,default:"text"},icon:{type:$r,default:()=>aX},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},onConfirm:{type:ot(Function)},onCancel:{type:ot(Function)},teleported:Ki.teleported,persistent:Ki.persistent,width:{type:[String,Number],default:150}}),Zue={name:"ElPopconfirm"},ede=yt({...Zue,props:Jue,setup(e){const n=e,{t:i}=Cr(),s=bt("popconfirm"),a=se(),u=()=>{var E,w;(w=(E=a.value)==null?void 0:E.onClose)==null||w.call(E)},f=$(()=>({width:Mi(n.width)})),h=E=>{var w;(w=n.onConfirm)==null||w.call(n,E),u()},v=E=>{var w;(w=n.onCancel)==null||w.call(n,E),u()},y=$(()=>n.confirmButtonText||i("el.popconfirm.confirmButtonText")),b=$(()=>n.cancelButtonText||i("el.popconfirm.cancelButtonText"));return(E,w)=>(X(),nt(g(Ms),nr({ref_key:"tooltipRef",ref:a,trigger:"click",effect:"light"},E.$attrs,{"popper-class":`${g(s).namespace.value}-popover`,"popper-style":g(f),teleported:E.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":E.hideAfter,persistent:E.persistent}),{content:Ue(()=>[Ce("div",{class:q(g(s).b())},[Ce("div",{class:q(g(s).e("main"))},[!E.hideIcon&&E.icon?(X(),nt(g(fn),{key:0,class:q(g(s).e("icon")),style:pn({color:E.iconColor})},{default:Ue(()=>[(X(),nt(er(E.icon)))]),_:1},8,["class","style"])):je("v-if",!0),pr(" "+Ut(E.title),1)],2),Ce("div",{class:q(g(s).e("action"))},[Me(g(is),{size:"small",type:E.cancelButtonType==="text"?"":E.cancelButtonType,text:E.cancelButtonType==="text",onClick:v},{default:Ue(()=>[pr(Ut(g(b)),1)]),_:1},8,["type","text"]),Me(g(is),{size:"small",type:E.confirmButtonType==="text"?"":E.confirmButtonType,text:E.confirmButtonType==="text",onClick:h},{default:Ue(()=>[pr(Ut(g(y)),1)]),_:1},8,["type","text"])],2)],2)]),default:Ue(()=>[E.$slots.reference?_t(E.$slots,"reference",{key:0}):je("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var tde=Ht(ede,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const nde=Yn(tde),rde=Wt({trigger:kh.trigger,placement:Wm.placement,disabled:kh.disabled,visible:Ki.visible,transition:Ki.transition,popperOptions:Wm.popperOptions,tabindex:Wm.tabindex,content:Ki.content,popperStyle:Ki.popperStyle,popperClass:Ki.popperClass,enterable:{...Ki.enterable,default:!0},effect:{...Ki.effect,default:"light"},teleported:Ki.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),ide={"update:visible":e=>Ti(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},sde={name:"ElPopover"},ode=yt({...sde,props:rde,emits:ide,setup(e,{expose:n,emit:i}){const s=e,a="onUpdate:visible",u=$(()=>s[a]),f=bt("popover"),h=se(),v=$(()=>{var P;return(P=g(h))==null?void 0:P.popperRef}),y=$(()=>[{width:Mi(s.width)},s.popperStyle]),b=$(()=>[f.b(),s.popperClass,{[f.m("plain")]:!!s.content}]),E=$(()=>s.transition===`${f.namespace.value}-fade-in-linear`),w=()=>{var P;(P=h.value)==null||P.hide()},C=()=>{i("before-enter")},x=()=>{i("before-leave")},M=()=>{i("after-enter")},T=()=>{i("update:visible",!1),i("after-leave")};return n({popperRef:v,hide:w}),(P,F)=>(X(),nt(g(Ms),nr({ref_key:"tooltipRef",ref:h},P.$attrs,{trigger:P.trigger,placement:P.placement,disabled:P.disabled,visible:P.visible,transition:P.transition,"popper-options":P.popperOptions,tabindex:P.tabindex,content:P.content,offset:P.offset,"show-after":P.showAfter,"hide-after":P.hideAfter,"auto-close":P.autoClose,"show-arrow":P.showArrow,"aria-label":P.title,effect:P.effect,enterable:P.enterable,"popper-class":g(b),"popper-style":g(y),teleported:P.teleported,persistent:P.persistent,"gpu-acceleration":g(E),"onUpdate:visible":g(u),onBeforeShow:C,onBeforeHide:x,onShow:M,onHide:T}),{content:Ue(()=>[P.title?(X(),ge("div",{key:0,class:q(g(f).e("title")),role:"title"},Ut(P.title),3)):je("v-if",!0),_t(P.$slots,"default",{},()=>[pr(Ut(P.content),1)])]),default:Ue(()=>[P.$slots.reference?_t(P.$slots,"reference",{key:0}):je("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var ade=Ht(ode,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const K2=(e,n)=>{const i=n.arg||n.value,s=i==null?void 0:i.popperRef;s&&(s.triggerRef=e)};var lde={mounted(e,n){K2(e,n)},updated(e,n){K2(e,n)}};const cde="popover",hP=oq(lde,cde),ude=Yn(ade,{directive:hP}),dde=Wt({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:ot(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:ot([String,Array,Function]),default:""},format:{type:ot(Function),default:e=>`${e}%`}}),fde=["aria-valuenow"],hde={viewBox:"0 0 100 100"},pde=["d","stroke","stroke-width"],mde=["d","stroke","opacity","stroke-linecap","stroke-width"],gde={key:0},vde={name:"ElProgress"},_de=yt({...vde,props:dde,setup(e){const n=e,i={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},s=bt("progress"),a=$(()=>({width:`${n.percentage}%`,animationDuration:`${n.duration}s`,backgroundColor:F(n.percentage)})),u=$(()=>(n.strokeWidth/n.width*100).toFixed(1)),f=$(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(u.value)/2}`,10):0),h=$(()=>{const B=f.value,G=n.type==="dashboard";return`
          M 50 50
          m 0 ${G?"":"-"}${B}
          a ${B} ${B} 0 1 1 0 ${G?"-":""}${B*2}
          a ${B} ${B} 0 1 1 0 ${G?"":"-"}${B*2}
          `}),v=$(()=>2*Math.PI*f.value),y=$(()=>n.type==="dashboard"?.75:1),b=$(()=>`${-1*v.value*(1-y.value)/2}px`),E=$(()=>({strokeDasharray:`${v.value*y.value}px, ${v.value}px`,strokeDashoffset:b.value})),w=$(()=>({strokeDasharray:`${v.value*y.value*(n.percentage/100)}px, ${v.value}px`,strokeDashoffset:b.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),C=$(()=>{let B;return n.color?B=F(n.percentage):B=i[n.status]||i.default,B}),x=$(()=>n.status==="warning"?jg:n.type==="line"?n.status==="success"?Zy:nc:n.status==="success"?Yh:Ho),M=$(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),T=$(()=>n.format(n.percentage));function P(B){const G=100/B.length;return B.map((H,J)=>Gn(H)?{color:H,percentage:(J+1)*G}:H).sort((H,J)=>H.percentage-J.percentage)}const F=B=>{var G;const{color:Q}=n;if(Vn(Q))return Q(B);if(Gn(Q))return Q;{const H=P(Q);for(const J of H)if(J.percentage>B)return J.color;return(G=H[H.length-1])==null?void 0:G.color}};return(B,G)=>(X(),ge("div",{class:q([g(s).b(),g(s).m(B.type),g(s).is(B.status),{[g(s).m("without-text")]:!B.showText,[g(s).m("text-inside")]:B.textInside}]),role:"progressbar","aria-valuenow":B.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[B.type==="line"?(X(),ge("div",{key:0,class:q(g(s).b("bar"))},[Ce("div",{class:q(g(s).be("bar","outer")),style:pn({height:`${B.strokeWidth}px`})},[Ce("div",{class:q([g(s).be("bar","inner"),{[g(s).bem("bar","inner","indeterminate")]:B.indeterminate}]),style:pn(g(a))},[(B.showText||B.$slots.default)&&B.textInside?(X(),ge("div",{key:0,class:q(g(s).be("bar","innerText"))},[_t(B.$slots,"default",{percentage:B.percentage},()=>[Ce("span",null,Ut(g(T)),1)])],2)):je("v-if",!0)],6)],6)],2)):(X(),ge("div",{key:1,class:q(g(s).b("circle")),style:pn({height:`${B.width}px`,width:`${B.width}px`})},[(X(),ge("svg",hde,[Ce("path",{class:q(g(s).be("circle","track")),d:g(h),stroke:`var(${g(s).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":g(u),fill:"none",style:pn(g(E))},null,14,pde),Ce("path",{class:q(g(s).be("circle","path")),d:g(h),stroke:g(C),fill:"none",opacity:B.percentage?1:0,"stroke-linecap":B.strokeLinecap,"stroke-width":g(u),style:pn(g(w))},null,14,mde)]))],6)),(B.showText||B.$slots.default)&&!B.textInside?(X(),ge("div",{key:2,class:q(g(s).e("text")),style:pn({fontSize:`${g(M)}px`})},[_t(B.$slots,"default",{percentage:B.percentage},()=>[B.status?(X(),nt(g(fn),{key:1},{default:Ue(()=>[(X(),nt(er(g(x))))]),_:1})):(X(),ge("span",gde,Ut(g(T)),1))])],6)):je("v-if",!0)],10,fde))}});var Ade=Ht(_de,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const pP=Yn(Ade),yde=Wt({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:ot([Array,Object]),default:()=>qr(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:ot([Array,Object]),default:()=>[mm,mm,mm]},voidIcon:{type:$r,default:()=>ez},disabledVoidIcon:{type:$r,default:()=>mm},disabled:{type:Boolean},allowHalf:{type:Boolean},showText:{type:Boolean},showScore:{type:Boolean},textColor:{type:String,default:""},texts:{type:ot(Array),default:()=>qr(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:{type:String,validator:_u},label:{type:String,default:void 0}}),bde={[ii]:e=>$n(e),[Zn]:e=>$n(e)},Sde=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],Ede=["onMousemove","onClick"],wde={name:"ElRate"},Cde=yt({...wde,props:yde,emits:bde,setup(e,{expose:n,emit:i}){const s=e;function a(ve,Ee){const fe=Te=>ur(Te),_e=Object.keys(Ee).map(Te=>+Te).filter(Te=>{const Le=Ee[Te];return(fe(Le)?Le.excluded:!1)?ve<Te:ve<=Te}).sort((Te,Le)=>Te-Le),oe=Ee[_e[0]];return fe(oe)&&oe.value||oe}const u=An(Au,void 0),f=An(va,void 0),h=Ei(),v=bt("rate"),{inputId:y,isLabeledByFormItem:b}=ic(s,{formItemContext:f}),E=se(s.modelValue),w=se(-1),C=se(!0),x=$(()=>[v.b(),v.m(h.value)]),M=$(()=>s.disabled||(u==null?void 0:u.disabled)),T=$(()=>v.cssVarBlock({"void-color":s.voidColor,"disabled-void-color":s.disabledVoidColor,"fill-color":G.value})),P=$(()=>{let ve="";return s.showScore?ve=s.scoreTemplate.replace(/\{\s*value\s*\}/,M.value?`${s.modelValue}`:`${E.value}`):s.showText&&(ve=s.texts[Math.ceil(E.value)-1]),ve}),F=$(()=>s.modelValue*100-Math.floor(s.modelValue)*100),B=$(()=>hn(s.colors)?{[s.lowThreshold]:s.colors[0],[s.highThreshold]:{value:s.colors[1],excluded:!0},[s.max]:s.colors[2]}:s.colors),G=$(()=>{const ve=a(E.value,B.value);return ur(ve)?"":ve}),Q=$(()=>{let ve="";return M.value?ve=`${F.value}%`:s.allowHalf&&(ve="50%"),{color:G.value,width:ve}}),H=$(()=>{let ve=hn(s.icons)?[...s.icons]:{...s.icons};return ve=Yc(ve),hn(ve)?{[s.lowThreshold]:ve[0],[s.highThreshold]:{value:ve[1],excluded:!0},[s.max]:ve[2]}:ve}),J=$(()=>a(s.modelValue,H.value)),te=$(()=>M.value?Gn(s.disabledVoidIcon)?s.disabledVoidIcon:Yc(s.disabledVoidIcon):Gn(s.voidIcon)?s.voidIcon:Yc(s.voidIcon)),ie=$(()=>a(E.value,H.value));function ue(ve){const Ee=M.value&&F.value>0&&ve-1<s.modelValue&&ve>s.modelValue,fe=s.allowHalf&&C.value&&ve-.5<=E.value&&ve>E.value;return Ee||fe}function be(ve){M.value||(s.allowHalf&&C.value?(i(Zn,E.value),s.modelValue!==E.value&&i("change",E.value)):(i(Zn,ve),s.modelValue!==ve&&i("change",ve)))}function me(ve){if(M.value)return;let Ee=E.value;const fe=ve.code;return fe===bn.up||fe===bn.right?(s.allowHalf?Ee+=.5:Ee+=1,ve.stopPropagation(),ve.preventDefault()):(fe===bn.left||fe===bn.down)&&(s.allowHalf?Ee-=.5:Ee-=1,ve.stopPropagation(),ve.preventDefault()),Ee=Ee<0?0:Ee,Ee=Ee>s.max?s.max:Ee,i(Zn,Ee),i("change",Ee),Ee}function de(ve,Ee){if(!M.value){if(s.allowHalf){let fe=Ee.target;Uo(fe,v.e("item"))&&(fe=fe.querySelector(`.${v.e("icon")}`)),(fe.clientWidth===0||Uo(fe,v.e("decimal")))&&(fe=fe.parentNode),C.value=Ee.offsetX*2<=fe.clientWidth,E.value=C.value?ve-.5:ve}else E.value=ve;w.value=ve}}function ye(){M.value||(s.allowHalf&&(C.value=s.modelValue!==Math.floor(s.modelValue)),E.value=s.modelValue,w.value=-1)}return Ct(()=>s.modelValue,ve=>{E.value=ve,C.value=s.modelValue!==Math.floor(s.modelValue)}),s.modelValue||i(Zn,0),n({setCurrentValue:de,resetCurrentValue:ye}),(ve,Ee)=>{var fe;return X(),ge("div",{id:g(y),class:q([g(x),g(v).is("disabled",g(M))]),role:"slider","aria-label":g(b)?void 0:ve.label||"rating","aria-labelledby":g(b)?(fe=g(f))==null?void 0:fe.labelId:void 0,"aria-valuenow":E.value,"aria-valuetext":g(P)||void 0,"aria-valuemin":"0","aria-valuemax":ve.max,tabindex:"0",style:pn(g(T)),onKeydown:me},[(X(!0),ge(vn,null,cr(ve.max,(_e,oe)=>(X(),ge("span",{key:oe,class:q(g(v).e("item")),onMousemove:Te=>de(_e,Te),onMouseleave:ye,onClick:Te=>be(_e)},[Me(g(fn),{class:q([g(v).e("icon"),{hover:w.value===_e},g(v).is("active",_e<=E.value)])},{default:Ue(()=>[ue(_e)?je("v-if",!0):(X(),ge(vn,{key:0},[Qn((X(),nt(er(g(ie)),null,null,512)),[[_r,_e<=E.value]]),Qn((X(),nt(er(g(te)),null,null,512)),[[_r,!(_e<=E.value)]])],64)),ue(_e)?(X(),nt(g(fn),{key:1,style:pn(g(Q)),class:q([g(v).e("icon"),g(v).e("decimal")])},{default:Ue(()=>[(X(),nt(er(g(J))))]),_:1},8,["style","class"])):je("v-if",!0)]),_:2},1032,["class"])],42,Ede))),128)),ve.showText||ve.showScore?(X(),ge("span",{key:0,class:q(g(v).e("text"))},Ut(g(P)),3)):je("v-if",!0)],46,Sde)}}});var Ide=Ht(Cde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const Mde=Yn(Ide),gd={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},j2={[gd.success]:aH,[gd.warning]:jg,[gd.error]:eb,[gd.info]:tb},xde=Wt({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),Rde={name:"ElResult"},Tde=yt({...Rde,props:xde,setup(e){const n=e,i=bt("result"),s=$(()=>{const a=n.icon,u=a&&gd[a]?gd[a]:"icon-info",f=j2[u]||j2["icon-info"];return{class:u,component:f}});return(a,u)=>(X(),ge("div",{class:q(g(i).b())},[Ce("div",{class:q(g(i).e("icon"))},[_t(a.$slots,"icon",{},()=>[g(s).component?(X(),nt(er(g(s).component),{key:0,class:q(g(s).class)},null,8,["class"])):je("v-if",!0)])],2),a.title||a.$slots.title?(X(),ge("div",{key:0,class:q(g(i).e("title"))},[_t(a.$slots,"title",{},()=>[Ce("p",null,Ut(a.title),1)])],2)):je("v-if",!0),a.subTitle||a.$slots["sub-title"]?(X(),ge("div",{key:1,class:q(g(i).e("subtitle"))},[_t(a.$slots,"sub-title",{},()=>[Ce("p",null,Ut(a.subTitle),1)])],2)):je("v-if",!0),a.$slots.extra?(X(),ge("div",{key:2,class:q(g(i).e("extra"))},[_t(a.$slots,"extra")],2)):je("v-if",!0)],2))}});var Nde=Ht(Tde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue"]]);const Pde=Yn(Nde),Bde=["start","center","end","space-around","space-between","space-evenly"],Dde=["top","middle","bottom"],kde=Wt({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Bde,default:"start"},align:{type:String,values:Dde,default:"top"}}),Lde={name:"ElRow"},Ode=yt({...Lde,props:kde,setup(e){const n=e,i=bt("row"),s=$(()=>n.gutter);rr(jR,{gutter:s});const a=$(()=>{const u={};return n.gutter&&(u.marginRight=u.marginLeft=`-${n.gutter/2}px`),u});return(u,f)=>(X(),nt(er(u.tag),{class:q([g(i).b(),g(i).is(`justify-${n.justify}`,u.justify!=="start"),g(i).is(`align-${n.align}`,u.align!=="top")]),style:pn(g(a))},{default:Ue(()=>[_t(u.$slots,"default")]),_:3},8,["class","style"]))}});var Fde=Ht(Ode,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const Vde=Yn(Fde);var q2=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function Gde(e,n){return!!(e===n||q2(e)&&q2(n))}function Ude(e,n){if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(!Gde(e[i],n[i]))return!1;return!0}function Hde(e,n){n===void 0&&(n=Ude);var i=null;function s(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];if(i&&i.lastThis===this&&n(a,i.lastArgs))return i.lastResult;var f=e.apply(this,a);return i={lastResult:f,lastArgs:a,lastThis:this},f}return s.clear=function(){i=null},s}const mP=()=>{const n=qn().proxy.$props;return $(()=>{const i=(s,a,u)=>({});return n.perfMode?ev(i):Hde(i)})},ly=50,wg="itemRendered",Cg="scroll",vd="forward",Ig="backward",oo="auto",_v="smart",Fh="start",pa="center",Vh="end",Ud="horizontal",n1="vertical",Qde="ltr",wd="rtl",Gh="negative",r1="positive-ascending",i1="positive-descending",Xde={[Ud]:"left",[n1]:"top"},zde=20,$de={[Ud]:"deltaX",[n1]:"deltaY"},Wde=({atEndEdge:e,atStartEdge:n,layout:i},s)=>{let a,u=0;const f=v=>v<0&&n.value||v>0&&e.value;return{hasReachedEdge:f,onWheel:v=>{Ib(a);const y=v[$de[i.value]];f(u)&&f(u+y)||(u+=y,wb()||v.preventDefault(),a=Cb(()=>{s(u),u=0}))}}},cy=jo({type:ot([Number,Function]),required:!0}),uy=jo({type:Number}),dy=jo({type:Number,default:2}),Kde=jo({type:String,values:["ltr","rtl"],default:"ltr"}),fy=jo({type:Number,default:0}),Mg=jo({type:Number,required:!0}),gP=jo({type:String,values:["horizontal","vertical"],default:n1}),vP=Wt({className:{type:String,default:""},containerElement:{type:ot([String,Object]),default:"div"},data:{type:ot(Array),default:()=>qr([])},direction:Kde,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:ot([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),_P=Wt({cache:dy,estimatedItemSize:uy,layout:gP,initScrollOffset:fy,total:Mg,itemSize:cy,...vP}),hy={type:Number,default:6},AP={type:Number,default:0},yP={type:Number,default:2},tu=Wt({columnCache:dy,columnWidth:cy,estimatedColumnWidth:uy,estimatedRowHeight:uy,initScrollLeft:fy,initScrollTop:fy,itemKey:{type:ot(Function),default:({columnIndex:e,rowIndex:n})=>`${n}:${e}`},rowCache:dy,rowHeight:cy,totalColumn:Mg,totalRow:Mg,hScrollbarSize:hy,vScrollbarSize:hy,scrollbarStartGap:AP,scrollbarEndGap:yP,...vP}),bP=Wt({alwaysOn:Boolean,class:String,layout:gP,total:Mg,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:hy,startGap:AP,endGap:yP,visible:Boolean}),Wc=(e,n)=>e<n?vd:Ig,Uh=e=>e===Qde||e===wd||e===Ud,Y2=e=>e===wd;let id=null;function xg(e=!1){if(id===null||e){const n=document.createElement("div"),i=n.style;i.width="50px",i.height="50px",i.overflow="scroll",i.direction="rtl";const s=document.createElement("div"),a=s.style;return a.width="100px",a.height="100px",n.appendChild(s),document.body.appendChild(n),n.scrollLeft>0?id=i1:(n.scrollLeft=1,n.scrollLeft===0?id=Gh:id=r1),document.body.removeChild(n),id}return id}function jde({move:e,size:n,bar:i},s){const a={},u=`translate${i.axis}(${e}px)`;return a[i.size]=n,a.transform=u,a.msTransform=u,a.webkitTransform=u,s==="horizontal"?a.height="100%":a.width="100%",a}const py=yt({name:"ElVirtualScrollBar",props:bP,emits:["scroll","start-move","stop-move"],setup(e,{emit:n}){const i=$(()=>e.startGap+e.endGap),s=bt("virtual-scrollbar"),a=bt("scrollbar"),u=se(),f=se();let h=null,v=null;const y=xr({isDragging:!1,traveled:0}),b=$(()=>vT[e.layout]),E=$(()=>e.clientSize-g(i)),w=$(()=>({position:"absolute",width:`${Ud===e.layout?E.value:e.scrollbarSize}px`,height:`${Ud===e.layout?e.scrollbarSize:E.value}px`,[Xde[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),C=$(()=>{const H=e.ratio,J=e.clientSize;if(H>=100)return Number.POSITIVE_INFINITY;if(H>=50)return H*J/100;const te=J/3;return Math.floor(Math.min(Math.max(H*J,zde),te))}),x=$(()=>{if(!Number.isFinite(C.value))return{display:"none"};const H=`${C.value}px`;return jde({bar:b.value,size:H,move:y.traveled},e.layout)}),M=$(()=>Math.floor(e.clientSize-C.value-g(i))),T=()=>{window.addEventListener("mousemove",G),window.addEventListener("mouseup",B);const H=g(f);!H||(v=document.onselectstart,document.onselectstart=()=>!1,H.addEventListener("touchmove",G),H.addEventListener("touchend",B))},P=()=>{window.removeEventListener("mousemove",G),window.removeEventListener("mouseup",B),document.onselectstart=v,v=null;const H=g(f);!H||(H.removeEventListener("touchmove",G),H.removeEventListener("touchend",B))},F=H=>{H.stopImmediatePropagation(),!(H.ctrlKey||[1,2].includes(H.button))&&(y.isDragging=!0,y[b.value.axis]=H.currentTarget[b.value.offset]-(H[b.value.client]-H.currentTarget.getBoundingClientRect()[b.value.direction]),n("start-move"),T())},B=()=>{y.isDragging=!1,y[b.value.axis]=0,n("stop-move"),P()},G=H=>{const{isDragging:J}=y;if(!J||!f.value||!u.value)return;const te=y[b.value.axis];if(!te)return;Ib(h);const ie=(u.value.getBoundingClientRect()[b.value.direction]-H[b.value.client])*-1,ue=f.value[b.value.offset]-te,be=ie-ue;h=Cb(()=>{y.traveled=Math.max(e.startGap,Math.min(be,M.value)),n("scroll",be,M.value)})},Q=H=>{const J=Math.abs(H.target.getBoundingClientRect()[b.value.direction]-H[b.value.client]),te=f.value[b.value.offset]/2,ie=J-te;y.traveled=Math.max(0,Math.min(ie,M.value)),n("scroll",ie,M.value)};return Ct(()=>e.scrollFrom,H=>{y.isDragging||(y.traveled=Math.ceil(H*M.value))}),vi(()=>{P()}),()=>Sn("div",{role:"presentation",ref:u,class:[s.b(),e.class,(e.alwaysOn||y.isDragging)&&"always-on"],style:w.value,onMousedown:Bn(Q,["stop","prevent"]),onTouchstartPrevent:F},Sn("div",{ref:f,class:a.e("thumb"),style:x.value,onMousedown:F},[]))}}),SP=({name:e,getOffset:n,getItemSize:i,getItemOffset:s,getEstimatedTotalSize:a,getStartIndexForOffset:u,getStopIndexForStartIndex:f,initCache:h,clearCache:v,validateProps:y})=>yt({name:e!=null?e:"ElVirtualList",props:_P,emits:[wg,Cg],setup(b,{emit:E,expose:w}){y(b);const C=qn(),x=bt("vl"),M=se(h(b,C)),T=mP(),P=se(),F=se(),B=se(),G=se({isScrolling:!1,scrollDir:"forward",scrollOffset:$n(b.initScrollOffset)?b.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:b.scrollbarAlwaysOn}),Q=$(()=>{const{total:Fe,cache:ft}=b,{isScrolling:St,scrollDir:Pt,scrollOffset:At}=g(G);if(Fe===0)return[0,0,0,0];const Ve=u(b,At,g(M)),at=f(b,Ve,At,g(M)),pt=!St||Pt===Ig?Math.max(1,ft):1,nn=!St||Pt===vd?Math.max(1,ft):1;return[Math.max(0,Ve-pt),Math.max(0,Math.min(Fe-1,at+nn)),Ve,at]}),H=$(()=>a(b,g(M))),J=$(()=>Uh(b.layout)),te=$(()=>[{position:"relative",[`overflow-${J.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:b.direction,height:$n(b.height)?`${b.height}px`:b.height,width:$n(b.width)?`${b.width}px`:b.width},b.style]),ie=$(()=>{const Fe=g(H),ft=g(J);return{height:ft?"100%":`${Fe}px`,pointerEvents:g(G).isScrolling?"none":void 0,width:ft?`${Fe}px`:"100%"}}),ue=$(()=>J.value?b.width:b.height),{onWheel:be}=Wde({atStartEdge:$(()=>G.value.scrollOffset<=0),atEndEdge:$(()=>G.value.scrollOffset>=H.value),layout:$(()=>b.layout)},Fe=>{var ft,St;(St=(ft=B.value).onMouseUp)==null||St.call(ft),fe(Math.min(G.value.scrollOffset+Fe,H.value-ue.value))}),me=()=>{const{total:Fe}=b;if(Fe>0){const[At,Ve,at,pt]=g(Q);E(wg,At,Ve,at,pt)}const{scrollDir:ft,scrollOffset:St,updateRequested:Pt}=g(G);E(Cg,ft,St,Pt)},de=Fe=>{const{clientHeight:ft,scrollHeight:St,scrollTop:Pt}=Fe.currentTarget,At=g(G);if(At.scrollOffset===Pt)return;const Ve=Math.max(0,Math.min(Pt,St-ft));G.value={...At,isScrolling:!0,scrollDir:Wc(At.scrollOffset,Ve),scrollOffset:Ve,updateRequested:!1},dn(Te)},ye=Fe=>{const{clientWidth:ft,scrollLeft:St,scrollWidth:Pt}=Fe.currentTarget,At=g(G);if(At.scrollOffset===St)return;const{direction:Ve}=b;let at=St;if(Ve===wd)switch(xg()){case Gh:{at=-St;break}case i1:{at=Pt-ft-St;break}}at=Math.max(0,Math.min(at,Pt-ft)),G.value={...At,isScrolling:!0,scrollDir:Wc(At.scrollOffset,at),scrollOffset:at,updateRequested:!1},dn(Te)},ve=Fe=>{g(J)?ye(Fe):de(Fe),me()},Ee=(Fe,ft)=>{const St=(H.value-ue.value)/ft*Fe;fe(Math.min(H.value-ue.value,St))},fe=Fe=>{Fe=Math.max(Fe,0),Fe!==g(G).scrollOffset&&(G.value={...g(G),scrollOffset:Fe,scrollDir:Wc(g(G).scrollOffset,Fe),updateRequested:!0},dn(Te))},_e=(Fe,ft=oo)=>{const{scrollOffset:St}=g(G);Fe=Math.max(0,Math.min(Fe,b.total-1)),fe(n(b,Fe,ft,St,g(M)))},oe=Fe=>{const{direction:ft,itemSize:St,layout:Pt}=b,At=T.value(v&&St,v&&Pt,v&&ft);let Ve;if(ar(At,String(Fe)))Ve=At[Fe];else{const at=s(b,Fe,g(M)),pt=i(b,Fe,g(M)),nn=g(J),_n=ft===wd,Be=nn?at:0;At[Fe]=Ve={position:"absolute",left:_n?void 0:`${Be}px`,right:_n?`${Be}px`:void 0,top:nn?0:`${at}px`,height:nn?"100%":`${pt}px`,width:nn?`${pt}px`:"100%"}}return Ve},Te=()=>{G.value.isScrolling=!1,dn(()=>{T.value(-1,null,null)})},Le=()=>{const Fe=P.value;Fe&&(Fe.scrollTop=0)};jn(()=>{if(!dr)return;const{initScrollOffset:Fe}=b,ft=g(P);$n(Fe)&&ft&&(g(J)?ft.scrollLeft=Fe:ft.scrollTop=Fe),me()}),ya(()=>{const{direction:Fe,layout:ft}=b,{scrollOffset:St,updateRequested:Pt}=g(G),At=g(P);if(Pt&&At)if(ft===Ud)if(Fe===wd)switch(xg()){case Gh:{At.scrollLeft=-St;break}case r1:{At.scrollLeft=St;break}default:{const{clientWidth:Ve,scrollWidth:at}=At;At.scrollLeft=at-Ve-St;break}}else At.scrollLeft=St;else At.scrollTop=St});const xe={ns:x,clientSize:ue,estimatedTotalSize:H,windowStyle:te,windowRef:P,innerRef:F,innerStyle:ie,itemsToRender:Q,scrollbarRef:B,states:G,getItemStyle:oe,onScroll:ve,onScrollbarScroll:Ee,onWheel:be,scrollTo:fe,scrollToItem:_e,resetScrollTop:Le};return w({windowRef:P,innerRef:F,getItemStyleCache:T,scrollTo:fe,scrollToItem:_e,resetScrollTop:Le,states:G}),xe},render(b){var E;const{$slots:w,className:C,clientSize:x,containerElement:M,data:T,getItemStyle:P,innerElement:F,itemsToRender:B,innerStyle:G,layout:Q,total:H,onScroll:J,onScrollbarScroll:te,onWheel:ie,states:ue,useIsScrolling:be,windowStyle:me,ns:de}=b,[ye,ve]=B,Ee=er(M),fe=er(F),_e=[];if(H>0)for(let xe=ye;xe<=ve;xe++)_e.push((E=w.default)==null?void 0:E.call(w,{data:T,key:xe,index:xe,isScrolling:be?ue.isScrolling:void 0,style:P(xe)}));const oe=[Sn(fe,{style:G,ref:"innerRef"},Gn(fe)?_e:{default:()=>_e})],Te=Sn(py,{ref:"scrollbarRef",clientSize:x,layout:Q,onScroll:te,ratio:x*100/this.estimatedTotalSize,scrollFrom:ue.scrollOffset/(this.estimatedTotalSize-x),total:H}),Le=Sn(Ee,{class:[de.e("window"),C],style:me,onScroll:J,onWheel:ie,ref:"windowRef",key:0},Gn(Ee)?[oe]:{default:()=>[oe]});return Sn("div",{key:0,class:[de.e("wrapper"),ue.scrollbarAlwaysOn?"always-on":""]},[Le,Te])}}),EP=SP({name:"ElFixedSizeList",getItemOffset:({itemSize:e},n)=>n*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:n})=>n*e,getOffset:({height:e,total:n,itemSize:i,layout:s,width:a},u,f,h)=>{const v=Uh(s)?a:e,y=Math.max(0,n*i-v),b=Math.min(y,u*i),E=Math.max(0,(u+1)*i-v);switch(f===_v&&(h>=E-v&&h<=b+v?f=oo:f=pa),f){case Fh:return b;case Vh:return E;case pa:{const w=Math.round(E+(b-E)/2);return w<Math.ceil(v/2)?0:w>y+Math.floor(v/2)?y:w}case oo:default:return h>=E&&h<=b?h:h<E?E:b}},getStartIndexForOffset:({total:e,itemSize:n},i)=>Math.max(0,Math.min(e-1,Math.floor(i/n))),getStopIndexForStartIndex:({height:e,total:n,itemSize:i,layout:s,width:a},u,f)=>{const h=u*i,v=Uh(s)?a:e,y=Math.ceil((v+f-h)/i);return Math.max(0,Math.min(n-1,u+y-1))},initCache(){},clearCache:!0,validateProps(){}}),_d=(e,n,i)=>{const{itemSize:s}=e,{items:a,lastVisitedIndex:u}=i;if(n>u){let f=0;if(u>=0){const h=a[u];f=h.offset+h.size}for(let h=u+1;h<=n;h++){const v=s(h);a[h]={offset:f,size:v},f+=v}i.lastVisitedIndex=n}return a[n]},qde=(e,n,i)=>{const{items:s,lastVisitedIndex:a}=n;return(a>0?s[a].offset:0)>=i?wP(e,n,0,a,i):Yde(e,n,Math.max(0,a),i)},wP=(e,n,i,s,a)=>{for(;i<=s;){const u=i+Math.floor((s-i)/2),f=_d(e,u,n).offset;if(f===a)return u;f<a?i=u+1:f>a&&(s=u-1)}return Math.max(0,i-1)},Yde=(e,n,i,s)=>{const{total:a}=e;let u=1;for(;i<a&&_d(e,i,n).offset<s;)i+=u,u*=2;return wP(e,n,Math.floor(i/2),Math.min(i,a-1),s)},J2=({total:e},{items:n,estimatedItemSize:i,lastVisitedIndex:s})=>{let a=0;if(s>=e&&(s=e-1),s>=0){const h=n[s];a=h.offset+h.size}const f=(e-s-1)*i;return a+f},Jde=SP({name:"ElDynamicSizeList",getItemOffset:(e,n,i)=>_d(e,n,i).offset,getItemSize:(e,n,{items:i})=>i[n].size,getEstimatedTotalSize:J2,getOffset:(e,n,i,s,a)=>{const{height:u,layout:f,width:h}=e,v=Uh(f)?h:u,y=_d(e,n,a),b=J2(e,a),E=Math.max(0,Math.min(b-v,y.offset)),w=Math.max(0,y.offset-v+y.size);switch(i===_v&&(s>=w-v&&s<=E+v?i=oo:i=pa),i){case Fh:return E;case Vh:return w;case pa:return Math.round(w+(E-w)/2);case oo:default:return s>=w&&s<=E?s:s<w?w:E}},getStartIndexForOffset:(e,n,i)=>qde(e,i,n),getStopIndexForStartIndex:(e,n,i,s)=>{const{height:a,total:u,layout:f,width:h}=e,v=Uh(f)?h:a,y=_d(e,n,s),b=i+v;let E=y.offset+y.size,w=n;for(;w<u-1&&E<b;)w++,E+=_d(e,w,s).size;return w},initCache({estimatedItemSize:e=ly},n){const i={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return i.clearCacheAfterIndex=(s,a=!0)=>{var u,f;i.lastVisitedIndex=Math.min(i.lastVisitedIndex,s-1),(u=n.exposed)==null||u.getItemStyleCache(-1),a&&((f=n.proxy)==null||f.$forceUpdate())},i},clearCache:!1,validateProps:({itemSize:e})=>{}}),Zde=({atXEndEdge:e,atXStartEdge:n,atYEndEdge:i,atYStartEdge:s},a)=>{let u=null,f=0,h=0;const v=(b,E)=>{const w=b<0&&n.value||b>0&&e.value,C=E<0&&s.value||E>0&&i.value;return w&&C};return{hasReachedEdge:v,onWheel:b=>{Ib(u);let E=b.deltaX,w=b.deltaY;Math.abs(E)>Math.abs(w)?w=0:E=0,b.shiftKey&&w!==0&&(E=w,w=0),!(v(f,h)&&v(f+E,h+w))&&(f+=E,h+=w,wb()||b.preventDefault(),u=Cb(()=>{a(f,h),f=0,h=0}))}}},CP=({name:e,clearCache:n,getColumnPosition:i,getColumnStartIndexForOffset:s,getColumnStopIndexForStartIndex:a,getEstimatedTotalHeight:u,getEstimatedTotalWidth:f,getColumnOffset:h,getRowOffset:v,getRowPosition:y,getRowStartIndexForOffset:b,getRowStopIndexForStartIndex:E,initCache:w,injectToInstance:C,validateProps:x})=>yt({name:e!=null?e:"ElVirtualList",props:tu,emits:[wg,Cg],setup(M,{emit:T,expose:P,slots:F}){const B=bt("vl");x(M);const G=qn(),Q=se(w(M,G));C==null||C(G,Q);const H=se(),J=se(),te=se(),ie=se(null),ue=se({isScrolling:!1,scrollLeft:$n(M.initScrollLeft)?M.initScrollLeft:0,scrollTop:$n(M.initScrollTop)?M.initScrollTop:0,updateRequested:!1,xAxisScrollDir:vd,yAxisScrollDir:vd}),be=mP(),me=$(()=>Number.parseInt(`${M.height}`,10)),de=$(()=>Number.parseInt(`${M.width}`,10)),ye=$(()=>{const{totalColumn:et,totalRow:xt,columnCache:qe}=M,{isScrolling:rt,xAxisScrollDir:mt,scrollLeft:Et}=g(ue);if(et===0||xt===0)return[0,0,0,0];const rn=s(M,Et,g(Q)),it=a(M,rn,Et,g(Q)),Xt=!rt||mt===Ig?Math.max(1,qe):1,In=!rt||mt===vd?Math.max(1,qe):1;return[Math.max(0,rn-Xt),Math.max(0,Math.min(et-1,it+In)),rn,it]}),ve=$(()=>{const{totalColumn:et,totalRow:xt,rowCache:qe}=M,{isScrolling:rt,yAxisScrollDir:mt,scrollTop:Et}=g(ue);if(et===0||xt===0)return[0,0,0,0];const rn=b(M,Et,g(Q)),it=E(M,rn,Et,g(Q)),Xt=!rt||mt===Ig?Math.max(1,qe):1,In=!rt||mt===vd?Math.max(1,qe):1;return[Math.max(0,rn-Xt),Math.max(0,Math.min(xt-1,it+In)),rn,it]}),Ee=$(()=>u(M,g(Q))),fe=$(()=>f(M,g(Q))),_e=$(()=>{var et;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:M.direction,height:$n(M.height)?`${M.height}px`:M.height,width:$n(M.width)?`${M.width}px`:M.width},(et=M.style)!=null?et:{}]}),oe=$(()=>{const et=`${g(fe)}px`;return{height:`${g(Ee)}px`,pointerEvents:g(ue).isScrolling?"none":void 0,width:et}}),Te=()=>{const{totalColumn:et,totalRow:xt}=M;if(et>0&&xt>0){const[it,Xt,In,Mn]=g(ye),[Ke,It,$e,Rt]=g(ve);T(wg,{columnCacheStart:it,columnCacheEnd:Xt,rowCacheStart:Ke,rowCacheEnd:It,columnVisibleStart:In,columnVisibleEnd:Mn,rowVisibleStart:$e,rowVisibleEnd:Rt})}const{scrollLeft:qe,scrollTop:rt,updateRequested:mt,xAxisScrollDir:Et,yAxisScrollDir:rn}=g(ue);T(Cg,{xAxisScrollDir:Et,scrollLeft:qe,yAxisScrollDir:rn,scrollTop:rt,updateRequested:mt})},Le=et=>{const{clientHeight:xt,clientWidth:qe,scrollHeight:rt,scrollLeft:mt,scrollTop:Et,scrollWidth:rn}=et.currentTarget,it=g(ue);if(it.scrollTop===Et&&it.scrollLeft===mt)return;let Xt=mt;if(Y2(M.direction))switch(xg()){case Gh:Xt=-mt;break;case i1:Xt=rn-qe-mt;break}ue.value={...it,isScrolling:!0,scrollLeft:Xt,scrollTop:Math.max(0,Math.min(Et,rt-xt)),updateRequested:!0,xAxisScrollDir:Wc(it.scrollLeft,Xt),yAxisScrollDir:Wc(it.scrollTop,Et)},dn(()=>Ve()),at(),Te()},xe=(et,xt)=>{const qe=g(me),rt=(Ee.value-qe)/xt*et;St({scrollTop:Math.min(Ee.value-qe,rt)})},Fe=(et,xt)=>{const qe=g(de),rt=(fe.value-qe)/xt*et;St({scrollLeft:Math.min(fe.value-qe,rt)})},{onWheel:ft}=Zde({atXStartEdge:$(()=>ue.value.scrollLeft<=0),atXEndEdge:$(()=>ue.value.scrollLeft>=fe.value),atYStartEdge:$(()=>ue.value.scrollTop<=0),atYEndEdge:$(()=>ue.value.scrollTop>=Ee.value)},(et,xt)=>{var qe,rt,mt,Et;(rt=(qe=J.value)==null?void 0:qe.onMouseUp)==null||rt.call(qe),(Et=(mt=J.value)==null?void 0:mt.onMouseUp)==null||Et.call(mt);const rn=g(de),it=g(me);St({scrollLeft:Math.min(ue.value.scrollLeft+et,fe.value-rn),scrollTop:Math.min(ue.value.scrollTop+xt,Ee.value-it)})}),St=({scrollLeft:et=ue.value.scrollLeft,scrollTop:xt=ue.value.scrollTop})=>{et=Math.max(et,0),xt=Math.max(xt,0);const qe=g(ue);xt===qe.scrollTop&&et===qe.scrollLeft||(ue.value={...qe,xAxisScrollDir:Wc(qe.scrollLeft,et),yAxisScrollDir:Wc(qe.scrollTop,xt),scrollLeft:et,scrollTop:xt,updateRequested:!0},dn(()=>Ve()),at(),Te())},Pt=(et=0,xt=0,qe=oo)=>{const rt=g(ue);xt=Math.max(0,Math.min(xt,M.totalColumn-1)),et=Math.max(0,Math.min(et,M.totalRow-1));const mt=kR(B.namespace.value),Et=g(Q),rn=u(M,Et),it=f(M,Et);St({scrollLeft:h(M,xt,qe,rt.scrollLeft,Et,it>M.width?mt:0),scrollTop:v(M,et,qe,rt.scrollTop,Et,rn>M.height?mt:0)})},At=(et,xt)=>{const{columnWidth:qe,direction:rt,rowHeight:mt}=M,Et=be.value(n&&qe,n&&mt,n&&rt),rn=`${et},${xt}`;if(ar(Et,rn))return Et[rn];{const[,it]=i(M,xt,g(Q)),Xt=g(Q),In=Y2(rt),[Mn,Ke]=y(M,et,Xt),[It]=i(M,xt,Xt);return Et[rn]={position:"absolute",left:In?void 0:`${it}px`,right:In?`${it}px`:void 0,top:`${Ke}px`,height:`${Mn}px`,width:`${It}px`},Et[rn]}},Ve=()=>{ue.value.isScrolling=!1,dn(()=>{be.value(-1,null,null)})};jn(()=>{if(!dr)return;const{initScrollLeft:et,initScrollTop:xt}=M,qe=g(H);qe&&($n(et)&&(qe.scrollLeft=et),$n(xt)&&(qe.scrollTop=xt)),Te()});const at=()=>{const{direction:et}=M,{scrollLeft:xt,scrollTop:qe,updateRequested:rt}=g(ue),mt=g(H);if(rt&&mt){if(et===wd)switch(xg()){case Gh:{mt.scrollLeft=-xt;break}case r1:{mt.scrollLeft=xt;break}default:{const{clientWidth:Et,scrollWidth:rn}=mt;mt.scrollLeft=rn-Et-xt;break}}else mt.scrollLeft=Math.max(0,xt);mt.scrollTop=Math.max(0,qe)}},{resetAfterColumnIndex:pt,resetAfterRowIndex:nn,resetAfter:_n}=G.proxy;P({windowRef:H,innerRef:ie,getItemStyleCache:be,scrollTo:St,scrollToItem:Pt,states:ue,resetAfterColumnIndex:pt,resetAfterRowIndex:nn,resetAfter:_n});const Be=()=>{const{scrollbarAlwaysOn:et,scrollbarStartGap:xt,scrollbarEndGap:qe,totalColumn:rt,totalRow:mt}=M,Et=g(de),rn=g(me),it=g(fe),Xt=g(Ee),{scrollLeft:In,scrollTop:Mn}=g(ue),Ke=Sn(py,{ref:J,alwaysOn:et,startGap:xt,endGap:qe,class:B.e("horizontal"),clientSize:Et,layout:"horizontal",onScroll:Fe,ratio:Et*100/it,scrollFrom:In/(it-Et),total:mt,visible:!0}),It=Sn(py,{ref:te,alwaysOn:et,startGap:xt,endGap:qe,class:B.e("vertical"),clientSize:rn,layout:"vertical",onScroll:xe,ratio:rn*100/Xt,scrollFrom:Mn/(Xt-rn),total:rt,visible:!0});return{horizontalScrollbar:Ke,verticalScrollbar:It}},ze=()=>{var et;const[xt,qe]=g(ye),[rt,mt]=g(ve),{data:Et,totalColumn:rn,totalRow:it,useIsScrolling:Xt,itemKey:In}=M,Mn=[];if(it>0&&rn>0)for(let Ke=rt;Ke<=mt;Ke++)for(let It=xt;It<=qe;It++)Mn.push((et=F.default)==null?void 0:et.call(F,{columnIndex:It,data:Et,key:In({columnIndex:It,data:Et,rowIndex:Ke}),isScrolling:Xt?g(ue).isScrolling:void 0,style:At(Ke,It),rowIndex:Ke}));return Mn},vt=()=>{const et=er(M.innerElement),xt=ze();return[Sn(et,{style:g(oe),ref:ie},Gn(et)?xt:{default:()=>xt})]};return()=>{const et=er(M.containerElement),{horizontalScrollbar:xt,verticalScrollbar:qe}=Be(),rt=vt();return Sn("div",{key:0,class:B.e("wrapper")},[Sn(et,{class:M.className,style:g(_e),onScroll:Le,onWheel:ft,ref:H},Gn(et)?rt:{default:()=>rt}),xt,qe])}}}),efe=CP({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},n)=>[e,n*e],getRowPosition:({rowHeight:e},n)=>[e,n*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:n})=>n*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:n})=>n*e,getColumnOffset:({totalColumn:e,columnWidth:n,width:i},s,a,u,f,h)=>{i=Number(i);const v=Math.max(0,e*n-i),y=Math.min(v,s*n),b=Math.max(0,s*n-i+h+n);switch(a==="smart"&&(u>=b-i&&u<=y+i?a=oo:a=pa),a){case Fh:return y;case Vh:return b;case pa:{const E=Math.round(b+(y-b)/2);return E<Math.ceil(i/2)?0:E>v+Math.floor(i/2)?v:E}case oo:default:return u>=b&&u<=y?u:b>y||u<b?b:y}},getRowOffset:({rowHeight:e,height:n,totalRow:i},s,a,u,f,h)=>{n=Number(n);const v=Math.max(0,i*e-n),y=Math.min(v,s*e),b=Math.max(0,s*e-n+h+e);switch(a===_v&&(u>=b-n&&u<=y+n?a=oo:a=pa),a){case Fh:return y;case Vh:return b;case pa:{const E=Math.round(b+(y-b)/2);return E<Math.ceil(n/2)?0:E>v+Math.floor(n/2)?v:E}case oo:default:return u>=b&&u<=y?u:b>y||u<b?b:y}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:n},i)=>Math.max(0,Math.min(n-1,Math.floor(i/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:n,width:i},s,a)=>{const u=s*e,f=Math.ceil((i+a-u)/e);return Math.max(0,Math.min(n-1,s+f-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:n},i)=>Math.max(0,Math.min(n-1,Math.floor(i/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:n,height:i},s,a)=>{const u=s*e,f=Math.ceil((i+a-u)/e);return Math.max(0,Math.min(n-1,s+f-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:n})=>{}}),{max:Rg,min:IP,floor:MP}=Math,tfe={column:"columnWidth",row:"rowHeight"},my={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Ha=(e,n,i,s)=>{const[a,u,f]=[i[s],e[tfe[s]],i[my[s]]];if(n>f){let h=0;if(f>=0){const v=a[f];h=v.offset+v.size}for(let v=f+1;v<=n;v++){const y=u(v);a[v]={offset:h,size:y},h+=y}i[my[s]]=n}return a[n]},xP=(e,n,i,s,a,u)=>{for(;i<=s;){const f=i+MP((s-i)/2),h=Ha(e,f,n,u).offset;if(h===a)return f;h<a?i=f+1:s=f-1}return Rg(0,i-1)},nfe=(e,n,i,s,a)=>{const u=a==="column"?e.totalColumn:e.totalRow;let f=1;for(;i<u&&Ha(e,i,n,a).offset<s;)i+=f,f*=2;return xP(e,n,MP(i/2),IP(i,u-1),s,a)},Z2=(e,n,i,s)=>{const[a,u]=[n[s],n[my[s]]];return(u>0?a[u].offset:0)>=i?xP(e,n,0,u,i,s):nfe(e,n,Rg(0,u),i,s)},RP=({totalRow:e},{estimatedRowHeight:n,lastVisitedRowIndex:i,row:s})=>{let a=0;if(i>=e&&(i=e-1),i>=0){const h=s[i];a=h.offset+h.size}const f=(e-i-1)*n;return a+f},TP=({totalColumn:e},{column:n,estimatedColumnWidth:i,lastVisitedColumnIndex:s})=>{let a=0;if(s>e&&(s=e-1),s>=0){const h=n[s];a=h.offset+h.size}const f=(e-s-1)*i;return a+f},rfe={column:TP,row:RP},eM=(e,n,i,s,a,u,f)=>{const[h,v]=[u==="row"?e.height:e.width,rfe[u]],y=Ha(e,n,a,u),b=v(e,a),E=Rg(0,IP(b-h,y.offset)),w=Rg(0,y.offset-h+f+y.size);switch(i===_v&&(s>=w-h&&s<=E+h?i=oo:i=pa),i){case Fh:return E;case Vh:return w;case pa:return Math.round(w+(E-w)/2);case oo:default:return s>=w&&s<=E?s:w>E||s<w?w:E}},ife=CP({name:"ElDynamicSizeGrid",getColumnPosition:(e,n,i)=>{const s=Ha(e,n,i,"column");return[s.size,s.offset]},getRowPosition:(e,n,i)=>{const s=Ha(e,n,i,"row");return[s.size,s.offset]},getColumnOffset:(e,n,i,s,a,u)=>eM(e,n,i,s,a,"column",u),getRowOffset:(e,n,i,s,a,u)=>eM(e,n,i,s,a,"row",u),getColumnStartIndexForOffset:(e,n,i)=>Z2(e,i,n,"column"),getColumnStopIndexForStartIndex:(e,n,i,s)=>{const a=Ha(e,n,s,"column"),u=i+e.width;let f=a.offset+a.size,h=n;for(;h<e.totalColumn-1&&f<u;)h++,f+=Ha(e,n,s,"column").size;return h},getEstimatedTotalHeight:RP,getEstimatedTotalWidth:TP,getRowStartIndexForOffset:(e,n,i)=>Z2(e,i,n,"row"),getRowStopIndexForStartIndex:(e,n,i,s)=>{const{totalRow:a,height:u}=e,f=Ha(e,n,s,"row"),h=i+u;let v=f.size+f.offset,y=n;for(;y<a-1&&v<h;)y++,v+=Ha(e,y,s,"row").size;return y},injectToInstance:(e,n)=>{const i=({columnIndex:u,rowIndex:f},h)=>{var v,y;h=qi(h)?!0:h,$n(u)&&(n.value.lastVisitedColumnIndex=Math.min(n.value.lastVisitedColumnIndex,u-1)),$n(f)&&(n.value.lastVisitedRowIndex=Math.min(n.value.lastVisitedRowIndex,f-1)),(v=e.exposed)==null||v.getItemStyleCache.value(-1,null,null),h&&((y=e.proxy)==null||y.$forceUpdate())},s=(u,f)=>{i({columnIndex:u},f)},a=(u,f)=>{i({rowIndex:u},f)};Object.assign(e.proxy,{resetAfterColumnIndex:s,resetAfterRowIndex:a,resetAfter:i})},initCache:({estimatedColumnWidth:e=ly,estimatedRowHeight:n=ly})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:n,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:n})=>{}}),sfe=yt({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:bt("select")}}});function ofe(e,n,i,s,a,u){return e.item.isTitle?(X(),ge("div",{key:0,class:q(e.ns.be("group","title")),style:pn([e.style,{lineHeight:`${e.height}px`}])},Ut(e.item.label),7)):(X(),ge("div",{key:1,class:q(e.ns.be("group","split")),style:pn(e.style)},[Ce("span",{class:q(e.ns.be("group","split-dash")),style:pn({top:`${e.height/2}px`})},null,6)],6))}var afe=Ht(sfe,[["render",ofe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function lfe(e,{emit:n}){return{hoverItem:()=>{e.disabled||n("hover",e.index)},selectOptionClick:()=>{e.disabled||n("select",e.item,e.index)}}}const cfe={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:nc},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:Ki.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:_u},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:ot(String),values:yu,default:"bottom-start"}},ufe={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},dfe=yt({props:ufe,emits:["select","hover"],setup(e,{emit:n}){const i=bt("select"),{hoverItem:s,selectOptionClick:a}=lfe(e,{emit:n});return{ns:i,hoverItem:s,selectOptionClick:a}}}),ffe=["aria-selected"];function hfe(e,n,i,s,a,u){return X(),ge("li",{"aria-selected":e.selected,style:pn(e.style),class:q([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:n[0]||(n[0]=(...f)=>e.hoverItem&&e.hoverItem(...f)),onClick:n[1]||(n[1]=Bn((...f)=>e.selectOptionClick&&e.selectOptionClick(...f),["stop"]))},[_t(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[Ce("span",null,Ut(e.item.label),1)])],46,ffe)}var pfe=Ht(dfe,[["render",hfe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const NP="ElSelectV2Injection";var mfe=yt({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:n,expose:i}){const s=An(NP),a=bt("select"),u=se([]),f=se(),h=$(()=>qi(s.props.estimatedOptionHeight)),v=$(()=>h.value?{itemSize:s.props.itemHeight}:{estimatedSize:s.props.estimatedOptionHeight,itemSize:J=>u.value[J]}),y=(J=[],te)=>{const{props:{valueKey:ie}}=s;return ur(te)?J&&J.some(ue=>ri(ue,ie)===ri(te,ie)):J.includes(te)},b=(J,te)=>{if(ur(te)){const{valueKey:ie}=s.props;return ri(J,ie)===ri(te,ie)}else return J===te},E=(J,te)=>{const{valueKey:ie}=s.props;return s.props.multiple?y(J,ri(te,ie)):b(J,ri(te,ie))},w=(J,te)=>{const{disabled:ie,multiple:ue,multipleLimit:be}=s.props;return ie||!te&&(ue?be>0&&J.length>=be:!1)},C=J=>e.hoveringIndex===J;i({listRef:f,isSized:h,isItemDisabled:w,isItemHovering:C,isItemSelected:E,scrollToItem:J=>{const te=f.value;te&&te.scrollToItem(J)},resetScrollTop:()=>{const J=f.value;J&&J.resetScrollTop()}});const T=J=>{const{index:te,data:ie,style:ue}=J,be=g(h),{itemSize:me,estimatedSize:de}=g(v),{modelValue:ye}=s.props,{onSelect:ve,onHover:Ee}=s,fe=ie[te];if(fe.type==="Group")return Me(afe,{item:fe,style:ue,height:be?me:de},null);const _e=E(ye,fe),oe=w(ye,_e),Te=C(te);return Me(pfe,nr(J,{selected:_e,disabled:fe.disabled||oe,created:!!fe.created,hovering:Te,item:fe,onSelect:ve,onHover:Ee}),{default:Le=>{var xe;return((xe=n.default)==null?void 0:xe.call(n,Le))||Me("span",null,[fe.label])}})},{onKeyboardNavigate:P,onKeyboardSelect:F}=s,B=()=>{P("forward")},G=()=>{P("backward")},Q=()=>{s.expanded=!1},H=J=>{const{code:te}=J,{tab:ie,esc:ue,down:be,up:me,enter:de}=bn;switch(te!==ie&&(J.preventDefault(),J.stopPropagation()),te){case ie:case ue:{Q();break}case be:{B();break}case me:{G();break}case de:{F();break}}};return()=>{var J;const{data:te,width:ie}=e,{height:ue,multiple:be,scrollbarAlwaysOn:me}=s.props;if(te.length===0)return Me("div",{class:a.b("dropdown"),style:{width:`${ie}px`}},[(J=n.empty)==null?void 0:J.call(n)]);const de=g(h)?EP:Jde;return Me("div",{class:[a.b("dropdown"),a.is("multiple",be)]},[Me(de,nr({ref:f},g(v),{className:a.be("dropdown","list"),scrollbarAlwaysOn:me,data:te,height:ue,width:ie,total:te.length,onKeydown:H}),{default:ye=>Me(T,ye,null)})])}}});function gfe(e,n){const i=se(0),s=se(null),a=$(()=>e.allowCreate&&e.filterable);function u(b){const E=w=>w.value===b;return e.options&&e.options.some(E)||n.createdOptions.some(E)}function f(b){!a.value||(e.multiple&&b.created?i.value++:s.value=b)}function h(b){if(a.value)if(b&&b.length>0&&!u(b)){const E={value:b,label:b,created:!0,disabled:!1};n.createdOptions.length>=i.value?n.createdOptions[i.value]=E:n.createdOptions.push(E)}else if(e.multiple)n.createdOptions.length=i.value;else{const E=s.value;n.createdOptions.length=0,E&&E.created&&n.createdOptions.push(E)}}function v(b){if(!a.value||!b||!b.created||b.created&&e.reserveKeyword&&n.inputValue===b.label)return;const E=n.createdOptions.findIndex(w=>w.value===b.value);~E&&(n.createdOptions.splice(E,1),i.value--)}function y(){a.value&&(n.createdOptions.length=0,i.value=0)}return{createNewOption:h,removeNewOption:v,selectNewOption:f,clearAllNewOption:y}}const vfe=e=>{const n=[];return e.forEach(i=>{hn(i.options)?(n.push({label:i.label,isTitle:!0,type:"Group"}),i.options.forEach(s=>{n.push(s)}),n.push({type:"Group"})):n.push(i)}),n};function _fe(e){const n=se(!1);return{handleCompositionStart:()=>{n.value=!0},handleCompositionUpdate:u=>{const f=u.target.value,h=f[f.length-1]||"";n.value=!sv(h)},handleCompositionEnd:u=>{n.value&&(n.value=!1,Vn(e)&&e(u))}}}const tM="",nM=11,Afe={larget:51,default:42,small:33},yfe=(e,n)=>{const{t:i}=Cr(),s=bt("select-v2"),a=bt("input"),{form:u,formItem:f}=Ks(),h=xr({inputValue:tM,displayInputValue:tM,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:"",query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),v=se(-1),y=se(-1),b=se(null),E=se(null),w=se(null),C=se(null),x=se(null),M=se(null),T=se(null),P=se(!1),F=$(()=>e.disabled||(u==null?void 0:u.disabled)),B=$(()=>{const zt=me.value.length*34;return zt>e.height?e.height:zt}),G=$(()=>!Es(e.modelValue)),Q=$(()=>{const zt=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:G.value;return e.clearable&&!F.value&&h.comboBoxHovering&&zt}),H=$(()=>e.remote&&e.filterable?"":Kg),J=$(()=>H.value&&s.is("reverse",P.value)),te=$(()=>(f==null?void 0:f.validateState)||""),ie=$(()=>VR[te.value]),ue=$(()=>e.remote?300:0),be=$(()=>{const zt=me.value;return e.loading?e.loadingText||i("el.select.loading"):e.remote&&h.inputValue===""&&zt.length===0?!1:e.filterable&&h.inputValue&&zt.length>0?e.noMatchText||i("el.select.noMatch"):zt.length===0?e.noDataText||i("el.select.noData"):null}),me=$(()=>{const zt=Nn=>{var tr;const Tr=h.inputValue;return Tr?(tr=Nn.label)==null?void 0:tr.includes(Tr):!0};return e.loading?[]:vfe(e.options.concat(h.createdOptions).map(Nn=>{if(hn(Nn.options)){const tr=Nn.options.filter(zt);if(tr.length>0)return{...Nn,options:tr}}else if(e.remote||zt(Nn))return Nn;return null}).filter(Nn=>Nn!==null))}),de=$(()=>me.value.every(zt=>zt.disabled)),ye=Ei(),ve=$(()=>ye.value==="small"?"small":"default"),Ee=$(()=>{const zt=M.value,Nn=ve.value||"default",tr=zt?Number.parseInt(getComputedStyle(zt).paddingLeft):0,Tr=zt?Number.parseInt(getComputedStyle(zt).paddingRight):0;return h.selectWidth-Tr-tr-Afe[Nn]}),fe=()=>{var zt;y.value=((zt=x.value)==null?void 0:zt.offsetWidth)||200},_e=$(()=>({width:`${h.calculatedWidth===0?nM:Math.ceil(h.calculatedWidth)+nM}px`})),oe=$(()=>hn(e.modelValue)?e.modelValue.length===0&&!h.displayInputValue:e.filterable?h.displayInputValue.length===0:!0),Te=$(()=>{const zt=e.placeholder||i("el.select.placeholder");return e.multiple?zt:h.selectedLabel||zt}),Le=$(()=>{var zt,Nn;return(Nn=(zt=C.value)==null?void 0:zt.popperRef)==null?void 0:Nn.contentRef}),xe=$(()=>{if(e.multiple){const zt=e.modelValue.length;if(e.modelValue.length>0)return me.value.findIndex(Nn=>Nn.value===e.modelValue[zt-1])}else if(e.modelValue)return me.value.findIndex(zt=>zt.value===e.modelValue);return-1}),Fe=$({get(){return P.value&&be.value!==!1},set(zt){P.value=zt}}),{createNewOption:ft,removeNewOption:St,selectNewOption:Pt,clearAllNewOption:At}=gfe(e,h),{handleCompositionStart:Ve,handleCompositionUpdate:at,handleCompositionEnd:pt}=_fe(zt=>Ar(zt)),nn=()=>{var zt,Nn,tr;(Nn=(zt=E.value).focus)==null||Nn.call(zt),(tr=C.value)==null||tr.updatePopper()},_n=()=>{if(!e.automaticDropdown&&!F.value)return h.isComposing&&(h.softFocus=!0),dn(()=>{var zt,Nn;P.value=!P.value,(Nn=(zt=E.value)==null?void 0:zt.focus)==null||Nn.call(zt)})},Be=()=>(e.filterable&&h.inputValue!==h.selectedLabel&&(h.query=h.selectedLabel),vt(h.inputValue),dn(()=>{ft(h.inputValue)})),ze=gs(Be,ue.value),vt=zt=>{h.previousQuery!==zt&&(h.previousQuery=zt,e.filterable&&Vn(e.filterMethod)?e.filterMethod(zt):e.filterable&&e.remote&&Vn(e.remoteMethod)&&e.remoteMethod(zt))},Lt=zt=>{co(e.modelValue,zt)||n(ii,zt)},et=zt=>{n(Zn,zt),Lt(zt),h.previousValue=zt.toString()},xt=(zt=[],Nn)=>{if(!ur(Nn))return zt.indexOf(Nn);const tr=e.valueKey;let Tr=-1;return zt.some((Pi,Yr)=>ri(Pi,tr)===ri(Nn,tr)?(Tr=Yr,!0):!1),Tr},qe=zt=>ur(zt)?ri(zt,e.valueKey):zt,rt=zt=>ur(zt)?zt.label:zt,mt=()=>{if(!(e.collapseTags&&!e.filterable))return dn(()=>{var zt,Nn;if(!E.value)return;const tr=M.value;x.value.height=tr.offsetHeight,P.value&&be.value!==!1&&((Nn=(zt=C.value)==null?void 0:zt.updatePopper)==null||Nn.call(zt))})},Et=()=>{var zt,Nn;if(rn(),fe(),(Nn=(zt=C.value)==null?void 0:zt.updatePopper)==null||Nn.call(zt),e.multiple)return mt()},rn=()=>{const zt=M.value;zt&&(h.selectWidth=zt.getBoundingClientRect().width)},it=(zt,Nn,tr=!0)=>{var Tr,Pi;if(e.multiple){let Yr=e.modelValue.slice();const Bi=xt(Yr,qe(zt));Bi>-1?(Yr=[...Yr.slice(0,Bi),...Yr.slice(Bi+1)],h.cachedOptions.splice(Bi,1),St(zt)):(e.multipleLimit<=0||Yr.length<e.multipleLimit)&&(Yr=[...Yr,qe(zt)],h.cachedOptions.push(zt),Pt(zt),Qt(Nn)),et(Yr),zt.created&&(h.query="",vt(""),h.inputLength=20),e.filterable&&!e.reserveKeyword&&((Pi=(Tr=E.value).focus)==null||Pi.call(Tr),Rt("")),e.filterable&&(h.calculatedWidth=T.value.getBoundingClientRect().width),mt(),un()}else v.value=Nn,h.selectedLabel=zt.label,et(qe(zt)),P.value=!1,h.isComposing=!1,h.isSilentBlur=tr,Pt(zt),zt.created||At(),Qt(Nn)},Xt=(zt,Nn)=>{const{valueKey:tr}=e,Tr=e.modelValue.indexOf(ri(Nn,tr));if(Tr>-1&&!F.value){const Pi=[...e.modelValue.slice(0,Tr),...e.modelValue.slice(Tr+1)];return h.cachedOptions.splice(Tr,1),et(Pi),n("remove-tag",ri(Nn,tr)),h.softFocus=!0,St(Nn),dn(nn)}zt.stopPropagation()},In=zt=>{const Nn=h.isComposing;h.isComposing=!0,h.softFocus?h.softFocus=!1:Nn||n("focus",zt)},Mn=zt=>(h.softFocus=!1,dn(()=>{var Nn,tr;(tr=(Nn=E.value)==null?void 0:Nn.blur)==null||tr.call(Nn),T.value&&(h.calculatedWidth=T.value.getBoundingClientRect().width),h.isSilentBlur?h.isSilentBlur=!1:h.isComposing&&n("blur",zt),h.isComposing=!1})),Ke=()=>{h.displayInputValue.length>0?Rt(""):P.value=!1},It=zt=>{if(h.displayInputValue.length===0){zt.preventDefault();const Nn=e.modelValue.slice();Nn.pop(),St(h.cachedOptions.pop()),et(Nn)}},$e=()=>{let zt;return hn(e.modelValue)?zt=[]:zt="",h.softFocus=!0,e.multiple?h.cachedOptions=[]:h.selectedLabel="",P.value=!1,et(zt),n("clear"),At(),dn(nn)},Rt=zt=>{h.displayInputValue=zt,h.inputValue=zt},Qe=(zt,Nn=void 0)=>{const tr=me.value;if(!["forward","backward"].includes(zt)||F.value||tr.length<=0||de.value)return;if(!P.value)return _n();Nn===void 0&&(Nn=h.hoveringIndex);let Tr=-1;zt==="forward"?(Tr=Nn+1,Tr>=tr.length&&(Tr=0)):zt==="backward"&&(Tr=Nn-1,Tr<0&&(Tr=tr.length-1));const Pi=tr[Tr];if(Pi.disabled||Pi.type==="Group")return Qe(zt,Tr);Qt(Tr),Xn(Tr)},Dt=()=>{if(P.value)~h.hoveringIndex&&me.value[h.hoveringIndex]&&it(me.value[h.hoveringIndex],h.hoveringIndex,!1);else return _n()},Qt=zt=>{h.hoveringIndex=zt},Yt=()=>{h.hoveringIndex=-1},un=()=>{var zt;const Nn=E.value;Nn&&((zt=Nn.focus)==null||zt.call(Nn))},Ar=zt=>{const Nn=zt.target.value;if(Rt(Nn),h.displayInputValue.length>0&&!P.value&&(P.value=!0),h.calculatedWidth=T.value.getBoundingClientRect().width,e.multiple&&mt(),e.remote)ze();else return Be()},ir=()=>(P.value=!1,Mn()),si=()=>(h.inputValue=h.displayInputValue,dn(()=>{~xe.value&&(Qt(xe.value),Xn(h.hoveringIndex))})),Xn=zt=>{w.value.scrollToItem(zt)},Ir=()=>{if(Yt(),e.multiple)if(e.modelValue.length>0){let zt=!1;h.cachedOptions.length=0,h.previousValue=e.modelValue.toString(),e.modelValue.forEach(Nn=>{const tr=me.value.findIndex(Tr=>qe(Tr)===Nn);~tr&&(h.cachedOptions.push(me.value[tr]),zt||Qt(tr),zt=!0)})}else h.cachedOptions=[],h.previousValue="";else if(G.value){h.previousValue=e.modelValue;const zt=me.value,Nn=zt.findIndex(tr=>qe(tr)===qe(e.modelValue));~Nn?(h.selectedLabel=zt[Nn].label,Qt(Nn)):h.selectedLabel=`${e.modelValue}`}else h.selectedLabel="",h.previousValue="";At(),fe()};return Ct(P,zt=>{var Nn,tr;n("visible-change",zt),zt?(tr=(Nn=C.value).update)==null||tr.call(Nn):(h.displayInputValue="",h.previousQuery=null,ft(""))}),Ct(()=>e.modelValue,(zt,Nn)=>{var tr;(!zt||zt.toString()!==h.previousValue)&&Ir(),!co(zt,Nn)&&e.validateEvent&&((tr=f==null?void 0:f.validate)==null||tr.call(f,"change").catch(Tr=>void 0))},{deep:!0}),Ct(()=>e.options,()=>{const zt=E.value;(!zt||zt&&document.activeElement!==zt)&&Ir()},{deep:!0}),Ct(me,()=>dn(w.value.resetScrollTop)),jn(()=>{Ir()}),ss(x,Et),{collapseTagSize:ve,currentPlaceholder:Te,expanded:P,emptyText:be,popupHeight:B,debounce:ue,filteredOptions:me,iconComponent:H,iconReverse:J,inputWrapperStyle:_e,popperSize:y,dropdownMenuVisible:Fe,hasModelValue:G,shouldShowPlaceholder:oe,selectDisabled:F,selectSize:ye,showClearBtn:Q,states:h,tagMaxWidth:Ee,nsSelectV2:s,nsInput:a,calculatorRef:T,controlRef:b,inputRef:E,menuRef:w,popper:C,selectRef:x,selectionRef:M,popperRef:Le,validateState:te,validateIcon:ie,debouncedOnInputChange:ze,deleteTag:Xt,getLabel:rt,getValueKey:qe,handleBlur:Mn,handleClear:$e,handleClickOutside:ir,handleDel:It,handleEsc:Ke,handleFocus:In,handleMenuEnter:si,handleResize:Et,toggleMenu:_n,scrollTo:Xn,onInput:Ar,onKeyboardNavigate:Qe,onKeyboardSelect:Dt,onSelect:it,onHover:Qt,onUpdateInputValue:Rt,handleCompositionStart:Ve,handleCompositionEnd:pt,handleCompositionUpdate:at}},bfe=yt({name:"ElSelectV2",components:{ElSelectMenu:mfe,ElTag:pv,ElTooltip:Ms,ElIcon:fn},directives:{ClickOutside:Yl,ModelText:jy},props:cfe,emits:[Zn,ii,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:n}){const i=yfe(e,n);return rr(NP,{props:xr({...Ci(e),height:i.popupHeight}),onSelect:i.onSelect,onHover:i.onHover,onKeyboardNavigate:i.onKeyboardNavigate,onKeyboardSelect:i.onKeyboardSelect}),i}}),Sfe={key:0},Efe=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],wfe=["textContent"],Cfe=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],Ife=["textContent"];function Mfe(e,n,i,s,a,u){const f=gn("el-tag"),h=gn("el-tooltip"),v=gn("el-icon"),y=gn("el-select-menu"),b=iu("model-text"),E=iu("click-outside");return Qn((X(),ge("div",{ref:"selectRef",class:q([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:n[25]||(n[25]=Bn((...w)=>e.toggleMenu&&e.toggleMenu(...w),["stop"])),onMouseenter:n[26]||(n[26]=w=>e.states.comboBoxHovering=!0),onMouseleave:n[27]||(n[27]=w=>e.states.comboBoxHovering=!1)},[Me(h,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:n[24]||(n[24]=w=>e.states.inputValue=e.states.displayInputValue)},{default:Ue(()=>{var w;return[Ce("div",{ref:"selectionRef",class:q([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(X(),ge("div",Sfe,[_t(e.$slots,"prefix")])):je("v-if",!0),e.multiple?(X(),ge("div",{key:1,class:q(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(X(),ge("div",{key:0,class:q(e.nsSelectV2.e("selected-item"))},[Me(f,{closable:!e.selectDisabled&&!((w=e.states.cachedOptions[0])!=null&&w.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:n[0]||(n[0]=C=>e.deleteTag(C,e.states.cachedOptions[0]))},{default:Ue(()=>{var C;return[Ce("span",{class:q(e.nsSelectV2.e("tags-text")),style:pn({maxWidth:`${e.tagMaxWidth}px`})},Ut((C=e.states.cachedOptions[0])==null?void 0:C.label),7)]}),_:1},8,["closable","size"]),e.modelValue.length>1?(X(),nt(f,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:Ue(()=>[e.collapseTagsTooltip?(X(),nt(h,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:Ue(()=>[Ce("span",{class:q(e.nsSelectV2.e("tags-text")),style:pn({maxWidth:`${e.tagMaxWidth}px`})},"+ "+Ut(e.modelValue.length-1),7)]),content:Ue(()=>[Ce("div",{class:q(e.nsSelectV2.e("selection"))},[(X(!0),ge(vn,null,cr(e.states.cachedOptions.slice(1),(C,x)=>(X(),ge("div",{key:x,class:q(e.nsSelectV2.e("selected-item"))},[(X(),nt(f,{key:e.getValueKey(C),closable:!e.selectDisabled&&!C.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:M=>e.deleteTag(M,C)},{default:Ue(()=>[Ce("span",{class:q(e.nsSelectV2.e("tags-text")),style:pn({maxWidth:`${e.tagMaxWidth}px`})},Ut(e.getLabel(C)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect"])):(X(),ge("span",{key:1,class:q(e.nsSelectV2.e("tags-text")),style:pn({maxWidth:`${e.tagMaxWidth}px`})},"+ "+Ut(e.modelValue.length-1),7))]),_:1},8,["size"])):je("v-if",!0)],2)):(X(!0),ge(vn,{key:1},cr(e.states.cachedOptions,(C,x)=>(X(),ge("div",{key:x,class:q(e.nsSelectV2.e("selected-item"))},[(X(),nt(f,{key:e.getValueKey(C),closable:!e.selectDisabled&&!C.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:M=>e.deleteTag(M,C)},{default:Ue(()=>[Ce("span",{class:q(e.nsSelectV2.e("tags-text")),style:pn({maxWidth:`${e.tagMaxWidth}px`})},Ut(e.getLabel(C)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128)),Ce("div",{class:q([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:pn(e.inputWrapperStyle)},[Qn(Ce("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:q([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":n[1]||(n[1]=(...C)=>e.onUpdateInputValue&&e.onUpdateInputValue(...C)),onFocus:n[2]||(n[2]=(...C)=>e.handleFocus&&e.handleFocus(...C)),onBlur:n[3]||(n[3]=(...C)=>e.handleBlur&&e.handleBlur(...C)),onInput:n[4]||(n[4]=(...C)=>e.onInput&&e.onInput(...C)),onCompositionstart:n[5]||(n[5]=(...C)=>e.handleCompositionStart&&e.handleCompositionStart(...C)),onCompositionupdate:n[6]||(n[6]=(...C)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...C)),onCompositionend:n[7]||(n[7]=(...C)=>e.handleCompositionEnd&&e.handleCompositionEnd(...C)),onKeydown:[n[8]||(n[8]=hr(Bn(C=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),n[9]||(n[9]=hr(Bn(C=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),n[10]||(n[10]=hr(Bn((...C)=>e.onKeyboardSelect&&e.onKeyboardSelect(...C),["stop","prevent"]),["enter"])),n[11]||(n[11]=hr(Bn((...C)=>e.handleEsc&&e.handleEsc(...C),["stop","prevent"]),["esc"])),n[12]||(n[12]=hr(Bn((...C)=>e.handleDel&&e.handleDel(...C),["stop"]),["delete"]))]},null,42,Efe),[[b,e.states.displayInputValue]]),e.filterable?(X(),ge("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:q(e.nsSelectV2.e("input-calculator")),textContent:Ut(e.states.displayInputValue)},null,10,wfe)):je("v-if",!0)],6)],2)):(X(),ge(vn,{key:2},[Ce("div",{class:q([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[Qn(Ce("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:q(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:n[13]||(n[13]=(...C)=>e.handleCompositionStart&&e.handleCompositionStart(...C)),onCompositionupdate:n[14]||(n[14]=(...C)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...C)),onCompositionend:n[15]||(n[15]=(...C)=>e.handleCompositionEnd&&e.handleCompositionEnd(...C)),onFocus:n[16]||(n[16]=(...C)=>e.handleFocus&&e.handleFocus(...C)),onBlur:n[17]||(n[17]=(...C)=>e.handleBlur&&e.handleBlur(...C)),onInput:n[18]||(n[18]=(...C)=>e.onInput&&e.onInput(...C)),onKeydown:[n[19]||(n[19]=hr(Bn(C=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),n[20]||(n[20]=hr(Bn(C=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),n[21]||(n[21]=hr(Bn((...C)=>e.onKeyboardSelect&&e.onKeyboardSelect(...C),["stop","prevent"]),["enter"])),n[22]||(n[22]=hr(Bn((...C)=>e.handleEsc&&e.handleEsc(...C),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":n[23]||(n[23]=(...C)=>e.onUpdateInputValue&&e.onUpdateInputValue(...C))},null,42,Cfe),[[b,e.states.displayInputValue]])],2),e.filterable?(X(),ge("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:q([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:Ut(e.states.displayInputValue)},null,10,Ife)):je("v-if",!0)],64)),e.shouldShowPlaceholder?(X(),ge("span",{key:3,class:q([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.states.isComposing||(e.multiple?e.modelValue.length===0:!e.hasModelValue))])},Ut(e.currentPlaceholder),3)):je("v-if",!0),Ce("span",{class:q(e.nsSelectV2.e("suffix"))},[e.iconComponent?Qn((X(),nt(v,{key:0,class:q([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:Ue(()=>[(X(),nt(er(e.iconComponent)))]),_:1},8,["class"])),[[_r,!e.showClearBtn]]):je("v-if",!0),e.showClearBtn&&e.clearIcon?(X(),nt(v,{key:1,class:q([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:Bn(e.handleClear,["prevent","stop"])},{default:Ue(()=>[(X(),nt(er(e.clearIcon)))]),_:1},8,["class","onClick"])):je("v-if",!0),e.validateState&&e.validateIcon?(X(),nt(v,{key:2,class:q([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:Ue(()=>[(X(),nt(er(e.validateIcon)))]),_:1},8,["class"])):je("v-if",!0)],2)],2)]}),content:Ue(()=>[Me(y,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:Ue(w=>[_t(e.$slots,"default",Vo(zg(w)))]),empty:Ue(()=>[_t(e.$slots,"empty",{},()=>[Ce("p",{class:q(e.nsSelectV2.e("empty"))},Ut(e.emptyText?e.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[E,e.handleClickOutside,e.popperRef]])}var jm=Ht(bfe,[["render",Mfe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);jm.install=e=>{e.component(jm.name,jm)};const xfe=jm,Rfe=xfe,Tfe=Wt({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),Nfe=Wt({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),Pfe={name:"ElSkeletonItem"},Bfe=yt({...Pfe,props:Nfe,setup(e){const n=bt("skeleton");return(i,s)=>(X(),ge("div",{class:q([g(n).e("item"),g(n).e(i.variant)])},[i.variant==="image"?(X(),nt(g(qQ),{key:0})):je("v-if",!0)],2))}});var Tg=Ht(Bfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const Dfe={name:"ElSkeleton"},kfe=yt({...Dfe,props:Tfe,setup(e,{expose:n}){const i=e,s=bt("skeleton"),a=Tq(ui(i,"loading"),i.throttle);return n({uiLoading:a}),(u,f)=>g(a)?(X(),ge("div",nr({key:0,class:[g(s).b(),g(s).is("animated",u.animated)]},u.$attrs),[(X(!0),ge(vn,null,cr(u.count,h=>(X(),ge(vn,{key:h},[u.loading?_t(u.$slots,"template",{key:h},()=>[Me(Tg,{class:q(g(s).is("first")),variant:"p"},null,8,["class"]),(X(!0),ge(vn,null,cr(u.rows,v=>(X(),nt(Tg,{key:v,class:q([g(s).e("paragraph"),g(s).is("last",v===u.rows&&u.rows>1)]),variant:"p"},null,8,["class"]))),128))]):je("v-if",!0)],64))),128))],16)):_t(u.$slots,"default",Vo(nr({key:1},u.$attrs)))}});var Lfe=Ht(kfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const Ofe=Yn(Lfe,{SkeletonItem:Tg}),Ffe=di(Tg),Vfe=Wt({modelValue:{type:ot([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Ws,inputSize:Ws,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:ot(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:ot(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:yu,default:"top"},marks:{type:ot(Object)},validateEvent:{type:Boolean,default:!0}}),t0=e=>$n(e)||hn(e)&&e.every($n),Gfe={[Zn]:t0,[po]:t0,[ii]:t0},Ufe=(e,n,i)=>{const s=se();return jn(async()=>{e.range?(Array.isArray(e.modelValue)?(n.firstValue=Math.max(e.min,e.modelValue[0]),n.secondValue=Math.min(e.max,e.modelValue[1])):(n.firstValue=e.min,n.secondValue=e.max),n.oldValue=[n.firstValue,n.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?n.firstValue=e.min:n.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),n.oldValue=n.firstValue),Kr(window,"resize",i),await dn(),i()}),{sliderWrapper:s}},Hfe=e=>$(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((i,s)=>i-s).filter(i=>i<=e.max&&i>=e.min).map(i=>({point:i,position:(i-e.min)*100/(e.max-e.min),mark:e.marks[i]})):[]),Qfe=(e,n,i)=>{const{form:s,formItem:a}=Ks(),u=Wr(),f=se(),h=se(),v={firstButton:f,secondButton:h},y=$(()=>e.disabled||(s==null?void 0:s.disabled)||!1),b=$(()=>Math.min(n.firstValue,n.secondValue)),E=$(()=>Math.max(n.firstValue,n.secondValue)),w=$(()=>e.range?`${100*(E.value-b.value)/(e.max-e.min)}%`:`${100*(n.firstValue-e.min)/(e.max-e.min)}%`),C=$(()=>e.range?`${100*(b.value-e.min)/(e.max-e.min)}%`:"0%"),x=$(()=>e.vertical?{height:e.height}:{}),M=$(()=>e.vertical?{height:w.value,bottom:C.value}:{width:w.value,left:C.value}),T=()=>{u.value&&(n.sliderSize=u.value[`client${e.vertical?"Height":"Width"}`])},P=be=>{const me=e.min+be*(e.max-e.min)/100;if(!e.range)return f;let de;return Math.abs(b.value-me)<Math.abs(E.value-me)?de=n.firstValue<n.secondValue?"firstButton":"secondButton":de=n.firstValue>n.secondValue?"firstButton":"secondButton",v[de]},F=be=>{const me=P(be);return me.value.setPosition(be),me},B=be=>{n.firstValue=be,Q(e.range?[b.value,E.value]:be)},G=be=>{n.secondValue=be,e.range&&Q([b.value,E.value])},Q=be=>{i(Zn,be),i(po,be)},H=async()=>{await dn(),i(ii,e.range?[b.value,E.value]:e.modelValue)},J=be=>{var me,de,ye,ve,Ee,fe;if(y.value||n.dragging)return;T();let _e=0;if(e.vertical){const oe=(ye=(de=(me=be.touches)==null?void 0:me.item(0))==null?void 0:de.clientY)!=null?ye:be.clientY;_e=(u.value.getBoundingClientRect().bottom-oe)/n.sliderSize*100}else{const oe=(fe=(Ee=(ve=be.touches)==null?void 0:ve.item(0))==null?void 0:Ee.clientX)!=null?fe:be.clientX,Te=u.value.getBoundingClientRect().left;_e=(oe-Te)/n.sliderSize*100}if(!(_e<0||_e>100))return F(_e)};return{elFormItem:a,slider:u,firstButton:f,secondButton:h,sliderDisabled:y,minValue:b,maxValue:E,runwayStyle:x,barStyle:M,resetSize:T,setPosition:F,emitChange:H,onSliderWrapperPrevent:be=>{var me,de;(((me=v.firstButton.value)==null?void 0:me.dragging)||((de=v.secondButton.value)==null?void 0:de.dragging))&&be.preventDefault()},onSliderClick:be=>{J(be)&&H()},onSliderDown:async be=>{const me=J(be);me&&(await dn(),me.value.onButtonDown(be))},setFirstValue:B,setSecondValue:G}},{left:Xfe,down:zfe,right:$fe,up:Wfe,home:Kfe,end:jfe,pageUp:qfe,pageDown:Yfe}=bn,Jfe=(e,n,i)=>{const s=se(),a=se(!1),u=$(()=>n.value instanceof Function),f=$(()=>u.value&&n.value(e.modelValue)||e.modelValue),h=gs(()=>{i.value&&(a.value=!0)},50),v=gs(()=>{i.value&&(a.value=!1)},50);return{tooltip:s,tooltipVisible:a,formatValue:f,displayTooltip:h,hideTooltip:v}},Zfe=(e,n,i)=>{const{disabled:s,min:a,max:u,step:f,showTooltip:h,precision:v,sliderSize:y,formatTooltip:b,emitChange:E,resetSize:w,updateDragging:C}=An(YR),{tooltip:x,tooltipVisible:M,formatValue:T,displayTooltip:P,hideTooltip:F}=Jfe(e,b,h),B=se(),G=$(()=>`${(e.modelValue-a.value)/(u.value-a.value)*100}%`),Q=$(()=>e.vertical?{bottom:G.value}:{left:G.value}),H=()=>{n.hovering=!0,P()},J=()=>{n.hovering=!1,n.dragging||F()},te=xe=>{s.value||(xe.preventDefault(),_e(xe),window.addEventListener("mousemove",oe),window.addEventListener("touchmove",oe),window.addEventListener("mouseup",Te),window.addEventListener("touchend",Te),window.addEventListener("contextmenu",Te),B.value.focus())},ie=xe=>{s.value||(n.newPosition=Number.parseFloat(G.value)+xe/(u.value-a.value)*100,Le(n.newPosition),E())},ue=()=>{ie(-f.value)},be=()=>{ie(f.value)},me=()=>{ie(-f.value*4)},de=()=>{ie(f.value*4)},ye=()=>{s.value||(Le(0),E())},ve=()=>{s.value||(Le(100),E())},Ee=xe=>{let Fe=!0;[Xfe,zfe].includes(xe.key)?ue():[$fe,Wfe].includes(xe.key)?be():xe.key===Kfe?ye():xe.key===jfe?ve():xe.key===Yfe?me():xe.key===qfe?de():Fe=!1,Fe&&xe.preventDefault()},fe=xe=>{let Fe,ft;return xe.type.startsWith("touch")?(ft=xe.touches[0].clientY,Fe=xe.touches[0].clientX):(ft=xe.clientY,Fe=xe.clientX),{clientX:Fe,clientY:ft}},_e=xe=>{n.dragging=!0,n.isClick=!0;const{clientX:Fe,clientY:ft}=fe(xe);e.vertical?n.startY=ft:n.startX=Fe,n.startPosition=Number.parseFloat(G.value),n.newPosition=n.startPosition},oe=xe=>{if(n.dragging){n.isClick=!1,P(),w();let Fe;const{clientX:ft,clientY:St}=fe(xe);e.vertical?(n.currentY=St,Fe=(n.startY-n.currentY)/y.value*100):(n.currentX=ft,Fe=(n.currentX-n.startX)/y.value*100),n.newPosition=n.startPosition+Fe,Le(n.newPosition)}},Te=()=>{n.dragging&&(setTimeout(()=>{n.dragging=!1,n.hovering||F(),n.isClick||Le(n.newPosition),E()},0),window.removeEventListener("mousemove",oe),window.removeEventListener("touchmove",oe),window.removeEventListener("mouseup",Te),window.removeEventListener("touchend",Te),window.removeEventListener("contextmenu",Te))},Le=async xe=>{if(xe===null||Number.isNaN(+xe))return;xe<0?xe=0:xe>100&&(xe=100);const Fe=100/((u.value-a.value)/f.value);let St=Math.round(xe/Fe)*Fe*(u.value-a.value)*.01+a.value;St=Number.parseFloat(St.toFixed(v.value)),St!==e.modelValue&&i(Zn,St),!n.dragging&&e.modelValue!==n.oldValue&&(n.oldValue=e.modelValue),await dn(),n.dragging&&P(),x.value.updatePopper()};return Ct(()=>n.dragging,xe=>{C(xe)}),{disabled:s,button:B,tooltip:x,tooltipVisible:M,showTooltip:h,wrapperStyle:Q,formatValue:T,handleMouseEnter:H,handleMouseLeave:J,onButtonDown:te,onKeyDown:Ee,setPosition:Le}},ehe=(e,n,i,s)=>({stops:$(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const f=(e.max-e.min)/e.step,h=100*e.step/(e.max-e.min),v=Array.from({length:f-1}).map((y,b)=>(b+1)*h);return e.range?v.filter(y=>y<100*(i.value-e.min)/(e.max-e.min)||y>100*(s.value-e.min)/(e.max-e.min)):v.filter(y=>y>100*(n.firstValue-e.min)/(e.max-e.min))}),getStopStyle:f=>e.vertical?{bottom:`${f}%`}:{left:`${f}%`}}),the=(e,n,i,s,a,u)=>{const f=y=>{a(Zn,y),a(po,y)},h=()=>e.range?![i.value,s.value].every((y,b)=>y===n.oldValue[b]):e.modelValue!==n.oldValue,v=()=>{var y,b;if(e.min>e.max){xi("Slider","min should not be greater than max.");return}const E=e.modelValue;e.range&&Array.isArray(E)?E[1]<e.min?f([e.min,e.min]):E[0]>e.max?f([e.max,e.max]):E[0]<e.min?f([e.min,E[1]]):E[1]>e.max?f([E[0],e.max]):(n.firstValue=E[0],n.secondValue=E[1],h()&&(e.validateEvent&&((y=u==null?void 0:u.validate)==null||y.call(u,"change").catch(w=>void 0)),n.oldValue=E.slice())):!e.range&&typeof E=="number"&&!Number.isNaN(E)&&(E<e.min?f(e.min):E>e.max?f(e.max):(n.firstValue=E,h()&&(e.validateEvent&&((b=u==null?void 0:u.validate)==null||b.call(u,"change").catch(w=>void 0)),n.oldValue=E)))};v(),Ct(()=>n.dragging,y=>{y||v()}),Ct(()=>e.modelValue,(y,b)=>{n.dragging||Array.isArray(y)&&Array.isArray(b)&&y.every((E,w)=>E===b[w])&&n.firstValue===y[0]&&n.secondValue===y[1]||v()},{deep:!0}),Ct(()=>[e.min,e.max],()=>{v()})},nhe=Wt({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:yu,default:"top"}}),rhe={[Zn]:e=>$n(e)},ihe=["tabindex"],she={name:"ElSliderButton"},ohe=yt({...she,props:nhe,emits:rhe,setup(e,{expose:n,emit:i}){const s=e,a=bt("slider"),u=xr({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:s.modelValue}),{disabled:f,button:h,tooltip:v,showTooltip:y,tooltipVisible:b,wrapperStyle:E,formatValue:w,handleMouseEnter:C,handleMouseLeave:x,onButtonDown:M,onKeyDown:T,setPosition:P}=Zfe(s,u,i),{hovering:F,dragging:B}=Ci(u);return n({onButtonDown:M,onKeyDown:T,setPosition:P,hovering:F,dragging:B}),(G,Q)=>(X(),ge("div",{ref_key:"button",ref:h,class:q([g(a).e("button-wrapper"),{hover:g(F),dragging:g(B)}]),style:pn(g(E)),tabindex:g(f)?-1:0,onMouseenter:Q[0]||(Q[0]=(...H)=>g(C)&&g(C)(...H)),onMouseleave:Q[1]||(Q[1]=(...H)=>g(x)&&g(x)(...H)),onMousedown:Q[2]||(Q[2]=(...H)=>g(M)&&g(M)(...H)),onTouchstart:Q[3]||(Q[3]=(...H)=>g(M)&&g(M)(...H)),onFocus:Q[4]||(Q[4]=(...H)=>g(C)&&g(C)(...H)),onBlur:Q[5]||(Q[5]=(...H)=>g(x)&&g(x)(...H)),onKeydown:Q[6]||(Q[6]=(...H)=>g(T)&&g(T)(...H))},[Me(g(Ms),{ref_key:"tooltip",ref:v,visible:g(b),placement:G.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":G.tooltipClass,disabled:!g(y),persistent:""},{content:Ue(()=>[Ce("span",null,Ut(g(w)),1)]),default:Ue(()=>[Ce("div",{class:q([g(a).e("button"),{hover:g(F),dragging:g(B)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,ihe))}});var rM=Ht(ohe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const ahe=Wt({mark:{type:ot([String,Object]),default:void 0}});var lhe=yt({name:"ElSliderMarker",props:ahe,setup(e){const n=bt("slider"),i=$(()=>Gn(e.mark)?e.mark:e.mark.label),s=$(()=>Gn(e.mark)?void 0:e.mark.style);return()=>Sn("div",{class:n.e("marks-text"),style:s.value},i.value)}});const che=["id","role","aria-label","aria-labelledby"],uhe={key:1},dhe={name:"ElSlider"},fhe=yt({...dhe,props:Vfe,emits:Gfe,setup(e,{expose:n,emit:i}){const s=e,a=bt("slider"),{t:u}=Cr(),f=xr({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:h,slider:v,firstButton:y,secondButton:b,sliderDisabled:E,minValue:w,maxValue:C,runwayStyle:x,barStyle:M,resetSize:T,emitChange:P,onSliderWrapperPrevent:F,onSliderClick:B,onSliderDown:G,setFirstValue:Q,setSecondValue:H}=Qfe(s,f,i),{stops:J,getStopStyle:te}=ehe(s,f,w,C),{inputId:ie,isLabeledByFormItem:ue}=ic(s,{formItemContext:h}),be=Ei(),me=$(()=>s.inputSize||be.value),de=$(()=>s.label||u("el.slider.defaultLabel",{min:s.min,max:s.max})),ye=$(()=>s.range?s.rangeStartLabel||u("el.slider.defaultRangeStartLabel"):de.value),ve=$(()=>s.formatValueText?s.formatValueText(xe.value):`${xe.value}`),Ee=$(()=>s.rangeEndLabel||u("el.slider.defaultRangeEndLabel")),fe=$(()=>s.formatValueText?s.formatValueText(Fe.value):`${Fe.value}`),_e=$(()=>[a.b(),a.m(be.value),a.is("vertical",s.vertical),{[a.m("with-input")]:s.showInput}]),oe=Hfe(s);the(s,f,w,C,i,h);const Te=$(()=>{const Pt=[s.min,s.max,s.step].map(At=>{const Ve=`${At}`.split(".")[1];return Ve?Ve.length:0});return Math.max.apply(null,Pt)}),{sliderWrapper:Le}=Ufe(s,f,T),{firstValue:xe,secondValue:Fe,sliderSize:ft}=Ci(f),St=Pt=>{f.dragging=Pt};return rr(YR,{...Ci(s),sliderSize:ft,disabled:E,precision:Te,emitChange:P,resetSize:T,updateDragging:St}),n({onSliderClick:B}),(Pt,At)=>{var Ve,at;return X(),ge("div",{id:Pt.range?g(ie):void 0,ref_key:"sliderWrapper",ref:Le,class:q(g(_e)),role:Pt.range?"group":void 0,"aria-label":Pt.range&&!g(ue)?g(de):void 0,"aria-labelledby":Pt.range&&g(ue)?(Ve=g(h))==null?void 0:Ve.labelId:void 0,onTouchstart:At[2]||(At[2]=(...pt)=>g(F)&&g(F)(...pt)),onTouchmove:At[3]||(At[3]=(...pt)=>g(F)&&g(F)(...pt))},[Ce("div",{ref_key:"slider",ref:v,class:q([g(a).e("runway"),{"show-input":Pt.showInput&&!Pt.range},g(a).is("disabled",g(E))]),style:pn(g(x)),onMousedown:At[0]||(At[0]=(...pt)=>g(G)&&g(G)(...pt)),onTouchstart:At[1]||(At[1]=(...pt)=>g(G)&&g(G)(...pt))},[Ce("div",{class:q(g(a).e("bar")),style:pn(g(M))},null,6),Me(rM,{id:Pt.range?void 0:g(ie),ref_key:"firstButton",ref:y,"model-value":g(xe),vertical:Pt.vertical,"tooltip-class":Pt.tooltipClass,placement:Pt.placement,role:"slider","aria-label":Pt.range||!g(ue)?g(ye):void 0,"aria-labelledby":!Pt.range&&g(ue)?(at=g(h))==null?void 0:at.labelId:void 0,"aria-valuemin":Pt.min,"aria-valuemax":Pt.range?g(Fe):Pt.max,"aria-valuenow":g(xe),"aria-valuetext":g(ve),"aria-orientation":Pt.vertical?"vertical":"horizontal","aria-disabled":g(E),"onUpdate:modelValue":g(Q)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Pt.range?(X(),nt(rM,{key:0,ref_key:"secondButton",ref:b,"model-value":g(Fe),vertical:Pt.vertical,"tooltip-class":Pt.tooltipClass,placement:Pt.placement,role:"slider","aria-label":g(Ee),"aria-valuemin":g(xe),"aria-valuemax":Pt.max,"aria-valuenow":g(Fe),"aria-valuetext":g(fe),"aria-orientation":Pt.vertical?"vertical":"horizontal","aria-disabled":g(E),"onUpdate:modelValue":g(H)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):je("v-if",!0),Pt.showStops?(X(),ge("div",uhe,[(X(!0),ge(vn,null,cr(g(J),(pt,nn)=>(X(),ge("div",{key:nn,class:q(g(a).e("stop")),style:pn(g(te)(pt))},null,6))),128))])):je("v-if",!0),g(oe).length>0?(X(),ge(vn,{key:2},[Ce("div",null,[(X(!0),ge(vn,null,cr(g(oe),(pt,nn)=>(X(),ge("div",{key:nn,style:pn(g(te)(pt.position)),class:q([g(a).e("stop"),g(a).e("marks-stop")])},null,6))),128))]),Ce("div",{class:q(g(a).e("marks"))},[(X(!0),ge(vn,null,cr(g(oe),(pt,nn)=>(X(),nt(g(lhe),{key:nn,mark:pt.mark,style:pn(g(te)(pt.position))},null,8,["mark","style"]))),128))],2)],64)):je("v-if",!0)],38),Pt.showInput&&!Pt.range?(X(),nt(g(oP),{key:0,ref:"input","model-value":g(xe),class:q(g(a).e("input")),step:Pt.step,disabled:g(E),controls:Pt.showInputControls,min:Pt.min,max:Pt.max,debounce:Pt.debounce,size:g(me),"onUpdate:modelValue":g(Q),onChange:g(P)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):je("v-if",!0)],42,che)}}});var hhe=Ht(fhe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const phe=Yn(hhe),mhe=Wt({prefixCls:{type:String}}),iM=yt({name:"ElSpaceItem",props:mhe,setup(e,{slots:n}){const i=bt("space"),s=$(()=>`${e.prefixCls||i.b()}__item`);return()=>Sn("div",{class:s.value},_t(n,"default"))}}),sM={small:8,default:12,large:16};function ghe(e){const n=bt("space"),i=$(()=>[n.b(),n.m(e.direction),e.class]),s=se(0),a=se(0),u=$(()=>{const h=e.wrap||e.fill?{flexWrap:"wrap",marginBottom:`-${a.value}px`}:{},v={alignItems:e.alignment};return[h,v,e.style]}),f=$(()=>{const h={paddingBottom:`${a.value}px`,marginRight:`${s.value}px`},v=e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{};return[h,v]});return Yi(()=>{const{size:h="small",wrap:v,direction:y,fill:b}=e;if(hn(h)){const[E=0,w=0]=h;s.value=E,a.value=w}else{let E;$n(h)?E=h:E=sM[h||"small"]||sM.small,(v||b)&&y==="horizontal"?s.value=a.value=E:y==="horizontal"?(s.value=E,a.value=0):(a.value=E,s.value=0)}}),{classes:i,containerStyle:u,itemStyle:f}}const vhe=Wt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:ot([String,Object,Array]),default:""},style:{type:ot([String,Array,Object]),default:""},alignment:{type:ot(String),default:"center"},prefixCls:{type:String},spacer:{type:ot([Object,String,Number,Array]),default:null,validator:e=>gi(e)||$n(e)||Gn(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:vu,validator:e=>$n(e)||hn(e)&&e.length===2&&e.every($n)}});var _he=yt({name:"ElSpace",props:vhe,setup(e,{slots:n}){const{classes:i,containerStyle:s,itemStyle:a}=ghe(e);function u(f,h="",v=[]){const{prefixCls:y}=e;return f.forEach((b,E)=>{k0(b)?hn(b.children)&&b.children.forEach((w,C)=>{k0(w)&&hn(w.children)?u(w.children,`${h+C}-`,v):v.push(Me(iM,{style:a.value,prefixCls:y,key:`nested-${h+C}`},{default:()=>[w]},ro.PROPS|ro.STYLE,["style","prefixCls"]))}):dq(b)&&v.push(Me(iM,{style:a.value,prefixCls:y,key:`LoopKey${h+E}`},{default:()=>[b]},ro.PROPS|ro.STYLE,["style","prefixCls"]))}),v}return()=>{var f;const{spacer:h,direction:v}=e,y=_t(n,"default",{key:0},()=>[]);if(((f=y.children)!=null?f:[]).length===0)return null;if(hn(y.children)){let b=u(y.children);if(h){const E=b.length-1;b=b.reduce((w,C,x)=>{const M=[...w,C];return x!==E&&M.push(Me("span",{style:[a.value,v==="vertical"?"width: 100%":null],key:x},[gi(h)?h:pr(h,ro.TEXT)],ro.STYLE)),M},[])}return Me("div",{class:i.value,style:s.value},b,ro.STYLE|ro.CLASS)}return y.children}}});const Ahe=Yn(_he),yhe=Wt({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),bhe={[ii]:(e,n)=>[e,n].every($n)},She={name:"ElSteps"},Ehe=yt({...She,props:yhe,emits:bhe,setup(e,{emit:n}){const i=e,s=bt("steps"),a=se([]);return Ct(a,()=>{a.value.forEach((u,f)=>{u.setIndex(f)})}),rr("ElSteps",{props:i,steps:a}),Ct(()=>i.active,(u,f)=>{n(ii,u,f)}),(u,f)=>(X(),ge("div",{class:q([g(s).b(),g(s).m(u.simple?"simple":u.direction)])},[_t(u.$slots,"default")],2))}});var whe=Ht(Ehe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const Che=Wt({title:{type:String,default:""},icon:{type:$r},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),Ihe={name:"ElStep"},Mhe=yt({...Ihe,props:Che,setup(e){const n=e,i=bt("step"),s=se(-1),a=se({}),u=se(""),f=An("ElSteps"),h=qn();jn(()=>{Ct([()=>f.props.active,()=>f.props.processStatus,()=>f.props.finishStatus],([Q])=>{B(Q)},{immediate:!0})}),vi(()=>{f.steps.value=f.steps.value.filter(Q=>Q.uid!==(h==null?void 0:h.uid))});const v=$(()=>n.status||u.value),y=$(()=>{const Q=f.steps.value[s.value-1];return Q?Q.currentStatus:"wait"}),b=$(()=>f.props.alignCenter),E=$(()=>f.props.direction==="vertical"),w=$(()=>f.props.simple),C=$(()=>f.steps.value.length),x=$(()=>{var Q;return((Q=f.steps.value[C.value-1])==null?void 0:Q.uid)===(h==null?void 0:h.uid)}),M=$(()=>w.value?"":f.props.space),T=$(()=>{const Q={flexBasis:typeof M.value=="number"?`${M.value}px`:M.value?M.value:`${100/(C.value-(b.value?0:1))}%`};return E.value||x.value&&(Q.maxWidth=`${100/C.value}%`),Q}),P=Q=>{s.value=Q},F=Q=>{let H=100;const J={};J.transitionDelay=`${150*s.value}ms`,Q===f.props.processStatus?H=0:Q==="wait"&&(H=0,J.transitionDelay=`${-150*s.value}ms`),J.borderWidth=H&&!w.value?"1px":0,J[f.props.direction==="vertical"?"height":"width"]=`${H}%`,a.value=J},B=Q=>{Q>s.value?u.value=f.props.finishStatus:Q===s.value&&y.value!=="error"?u.value=f.props.processStatus:u.value="wait";const H=f.steps.value[C.value-1];H&&H.calcProgress(u.value)},G=xr({uid:$(()=>h==null?void 0:h.uid),currentStatus:v,setIndex:P,calcProgress:F});return f.steps.value=[...f.steps.value,G],(Q,H)=>(X(),ge("div",{style:pn(g(T)),class:q([g(i).b(),g(i).is(g(w)?"simple":g(f).props.direction),g(i).is("flex",g(x)&&!g(M)&&!g(b)),g(i).is("center",g(b)&&!g(E)&&!g(w))])},[je(" icon & line "),Ce("div",{class:q([g(i).e("head"),g(i).is(g(v))])},[g(w)?je("v-if",!0):(X(),ge("div",{key:0,class:q(g(i).e("line"))},[Ce("i",{class:q(g(i).e("line-inner")),style:pn(a.value)},null,6)],2)),Ce("div",{class:q([g(i).e("icon"),g(i).is(Q.icon||Q.$slots.icon?"icon":"text")])},[_t(Q.$slots,"icon",{},()=>[Q.icon?(X(),nt(g(fn),{key:0,class:q(g(i).e("icon-inner"))},{default:Ue(()=>[(X(),nt(er(Q.icon)))]),_:1},8,["class"])):g(v)==="success"?(X(),nt(g(fn),{key:1,class:q([g(i).e("icon-inner"),g(i).is("status")])},{default:Ue(()=>[Me(g(Yh))]),_:1},8,["class"])):g(v)==="error"?(X(),nt(g(fn),{key:2,class:q([g(i).e("icon-inner"),g(i).is("status")])},{default:Ue(()=>[Me(g(Ho))]),_:1},8,["class"])):g(w)?je("v-if",!0):(X(),ge("div",{key:3,class:q(g(i).e("icon-inner"))},Ut(s.value+1),3))])],2)],2),je(" title & description "),Ce("div",{class:q(g(i).e("main"))},[Ce("div",{class:q([g(i).e("title"),g(i).is(g(v))])},[_t(Q.$slots,"title",{},()=>[pr(Ut(Q.title),1)])],2),g(w)?(X(),ge("div",{key:0,class:q(g(i).e("arrow"))},null,2)):(X(),ge("div",{key:1,class:q([g(i).e("description"),g(i).is(g(v))])},[_t(Q.$slots,"description",{},()=>[pr(Ut(Q.description),1)])],2))],2)],6))}});var PP=Ht(Mhe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const xhe=Yn(whe,{Step:PP}),Rhe=di(PP),The=Wt({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:$r},inactiveIcon:{type:$r},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:ot(Function)},size:{type:String,validator:_u},tabindex:{type:[String,Number]}}),Nhe={[Zn]:e=>Ti(e)||Gn(e)||$n(e),[ii]:e=>Ti(e)||Gn(e)||$n(e),[po]:e=>Ti(e)||Gn(e)||$n(e)},Phe=["onClick"],Bhe=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Dhe=["aria-hidden"],khe=["aria-hidden"],Lhe=["aria-hidden"],Ohe=["aria-hidden"],Fhe={name:"ElSwitch"},Vhe=yt({...Fhe,props:The,emits:Nhe,setup(e,{expose:n,emit:i}){const s=e,a="ElSwitch",u=qn(),{formItem:f}=Ks(),h=Ei(),v=bt("switch");au({from:'"value"',replacement:'"model-value" or "v-model"',scope:a,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},$(()=>{var H;return!!((H=u.vnode.props)!=null&&H.value)}));const{inputId:y}=ic(s,{formItemContext:f}),b=ol($(()=>s.loading)),E=se(s.modelValue!==!1),w=se(),C=se(),x=$(()=>[v.b(),v.m(h.value),v.is("disabled",b.value),v.is("checked",P.value)]),M=$(()=>({width:Mi(s.width)}));Ct(()=>s.modelValue,()=>{E.value=!0}),Ct(()=>s.value,()=>{E.value=!1});const T=$(()=>E.value?s.modelValue:s.value),P=$(()=>T.value===s.activeValue);[s.activeValue,s.inactiveValue].includes(T.value)||(i(Zn,s.inactiveValue),i(ii,s.inactiveValue),i(po,s.inactiveValue)),Ct(P,H=>{var J;w.value.checked=H,s.validateEvent&&((J=f==null?void 0:f.validate)==null||J.call(f,"change").catch(te=>void 0))});const F=()=>{const H=P.value?s.inactiveValue:s.activeValue;i(Zn,H),i(ii,H),i(po,H),dn(()=>{w.value.checked=P.value})},B=()=>{if(b.value)return;const{beforeChange:H}=s;if(!H){F();return}const J=H();[vh(J),Ti(J)].includes(!0)||xi(a,"beforeChange must return type `Promise<boolean>` or `boolean`"),vh(J)?J.then(ie=>{ie&&F()}).catch(ie=>{}):J&&F()},G=$(()=>v.cssVarBlock({...s.activeColor?{"on-color":s.activeColor}:null,...s.inactiveColor?{"off-color":s.inactiveColor}:null,...s.borderColor?{"border-color":s.borderColor}:null})),Q=()=>{var H,J;(J=(H=w.value)==null?void 0:H.focus)==null||J.call(H)};return jn(()=>{w.value.checked=P.value}),n({focus:Q,checked:P}),(H,J)=>(X(),ge("div",{class:q(g(x)),style:pn(g(G)),onClick:Bn(B,["prevent"])},[Ce("input",{id:g(y),ref_key:"input",ref:w,class:q(g(v).e("input")),type:"checkbox",role:"switch","aria-checked":g(P),"aria-disabled":g(b),name:H.name,"true-value":H.activeValue,"false-value":H.inactiveValue,disabled:g(b),tabindex:H.tabindex,onChange:F,onKeydown:hr(B,["enter"])},null,42,Bhe),!H.inlinePrompt&&(H.inactiveIcon||H.inactiveText)?(X(),ge("span",{key:0,class:q([g(v).e("label"),g(v).em("label","left"),g(v).is("active",!g(P))])},[H.inactiveIcon?(X(),nt(g(fn),{key:0},{default:Ue(()=>[(X(),nt(er(H.inactiveIcon)))]),_:1})):je("v-if",!0),!H.inactiveIcon&&H.inactiveText?(X(),ge("span",{key:1,"aria-hidden":g(P)},Ut(H.inactiveText),9,Dhe)):je("v-if",!0)],2)):je("v-if",!0),Ce("span",{ref_key:"core",ref:C,class:q(g(v).e("core")),style:pn(g(M))},[H.inlinePrompt?(X(),ge("div",{key:0,class:q(g(v).e("inner"))},[H.activeIcon||H.inactiveIcon?(X(),ge(vn,{key:0},[H.activeIcon?(X(),nt(g(fn),{key:0,class:q([g(v).is("icon"),g(P)?g(v).is("show"):g(v).is("hide")])},{default:Ue(()=>[(X(),nt(er(H.activeIcon)))]),_:1},8,["class"])):je("v-if",!0),H.inactiveIcon?(X(),nt(g(fn),{key:1,class:q([g(v).is("icon"),g(P)?g(v).is("hide"):g(v).is("show")])},{default:Ue(()=>[(X(),nt(er(H.inactiveIcon)))]),_:1},8,["class"])):je("v-if",!0)],64)):H.activeText||H.inactiveIcon?(X(),ge(vn,{key:1},[H.activeText?(X(),ge("span",{key:0,class:q([g(v).is("text"),g(P)?g(v).is("show"):g(v).is("hide")]),"aria-hidden":!g(P)},Ut(H.activeText.substring(0,3)),11,khe)):je("v-if",!0),H.inactiveText?(X(),ge("span",{key:1,class:q([g(v).is("text"),g(P)?g(v).is("hide"):g(v).is("show")]),"aria-hidden":g(P)},Ut(H.inactiveText.substring(0,3)),11,Lhe)):je("v-if",!0)],64)):je("v-if",!0)],2)):je("v-if",!0),Ce("div",{class:q(g(v).e("action"))},[H.loading?(X(),nt(g(fn),{key:0,class:q(g(v).is("loading"))},{default:Ue(()=>[Me(g(rc))]),_:1},8,["class"])):je("v-if",!0)],2)],6),!H.inlinePrompt&&(H.activeIcon||H.activeText)?(X(),ge("span",{key:1,class:q([g(v).e("label"),g(v).em("label","right"),g(v).is("active",g(P))])},[H.activeIcon?(X(),nt(g(fn),{key:0},{default:Ue(()=>[(X(),nt(er(H.activeIcon)))]),_:1})):je("v-if",!0),!H.activeIcon&&H.activeText?(X(),ge("span",{key:1,"aria-hidden":!g(P)},Ut(H.activeText),9,Ohe)):je("v-if",!0)],2)):je("v-if",!0)],14,Phe))}});var Ghe=Ht(Vhe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Uhe=Yn(Ghe);/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var Hhe=/["'&<>]/,Qhe=Xhe;function Xhe(e){var n=""+e,i=Hhe.exec(n);if(!i)return n;var s,a="",u=0,f=0;for(u=i.index;u<n.length;u++){switch(n.charCodeAt(u)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}f!==u&&(a+=n.substring(f,u)),f=u+1,a+=s}return f!==u?a+n.substring(f,u):a}const n0=function(e){var n;return(n=e.target)==null?void 0:n.closest("td")},oM=function(e){return e!==null&&typeof e=="object"},zhe=function(e,n,i,s,a){if(!n&&!s&&(!a||Array.isArray(a)&&!a.length))return e;typeof i=="string"?i=i==="descending"?-1:1:i=i&&i<0?-1:1;const u=s?null:function(h,v){return a?(Array.isArray(a)||(a=[a]),a.map(y=>typeof y=="string"?ri(h,y):y(h,v,e))):(n!=="$key"&&oM(h)&&"$value"in h&&(h=h.$value),[oM(h)?ri(h,n):h])},f=function(h,v){if(s)return s(h.value,v.value);for(let y=0,b=h.key.length;y<b;y++){if(h.key[y]<v.key[y])return-1;if(h.key[y]>v.key[y])return 1}return 0};return e.map((h,v)=>({value:h,index:v,key:u?u(h,v):null})).sort((h,v)=>{let y=f(h,v);return y||(y=h.index-v.index),y*+i}).map(h=>h.value)},BP=function(e,n){let i=null;return e.columns.forEach(s=>{s.id===n&&(i=s)}),i},$he=function(e,n){let i=null;for(let s=0;s<e.columns.length;s++){const a=e.columns[s];if(a.columnKey===n){i=a;break}}return i||xi("ElTable",`No column matching with column-key: ${n}`),i},aM=function(e,n,i){const s=(n.className||"").match(new RegExp(`${i}-table_[^\\s]+`,"gm"));return s?BP(e,s[0]):null},ji=(e,n)=>{if(!e)throw new Error("Row is required when get row identity");if(typeof n=="string"){if(!n.includes("."))return`${e[n]}`;const i=n.split(".");let s=e;for(const a of i)s=s[a];return`${s}`}else if(typeof n=="function")return n.call(null,e)},Kc=function(e,n){const i={};return(e||[]).forEach((s,a)=>{i[ji(s,n)]={row:s,index:a}}),i};function Whe(e,n){const i={};let s;for(s in e)i[s]=e[s];for(s in n)if(ar(n,s)){const a=n[s];typeof a<"u"&&(i[s]=a)}return i}function s1(e){return e===""||e!==void 0&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function DP(e){return e===""||e!==void 0&&(e=s1(e),Number.isNaN(e)&&(e=80)),e}function Khe(e){return typeof e=="number"?e:typeof e=="string"?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function jhe(...e){return e.length===0?n=>n:e.length===1?e[0]:e.reduce((n,i)=>(...s)=>n(i(...s)))}function qm(e,n,i){let s=!1;const a=e.indexOf(n),u=a!==-1,f=()=>{e.push(n),s=!0},h=()=>{e.splice(a,1),s=!0};return typeof i=="boolean"?i&&!u?f():!i&&u&&h():u?h():f(),s}function qhe(e,n,i="children",s="hasChildren"){const a=f=>!(Array.isArray(f)&&f.length);function u(f,h,v){n(f,h,v),h.forEach(y=>{if(y[s]){n(y,null,v+1);return}const b=y[i];a(b)||u(y,b,v+1)})}e.forEach(f=>{if(f[s]){n(f,null,0);return}const h=f[i];a(h)||u(f,h,0)})}let Ua;function Yhe(e,n,i,s,a){const{nextZIndex:u}=al(),f=e==null?void 0:e.dataset.prefix,h=e==null?void 0:e.querySelector(`.${f}-scrollbar__wrap`);function v(){const x=a==="light",M=document.createElement("div");return M.className=`${f}-popper ${x?"is-light":"is-dark"}`,i=Qhe(i),M.innerHTML=i,M.style.zIndex=String(u()),e==null||e.appendChild(M),M}function y(){const x=document.createElement("div");return x.className=`${f}-popper__arrow`,x}function b(){E&&E.update()}Ua==null||Ua(),Ua=()=>{try{E&&E.destroy(),w&&(e==null||e.removeChild(w)),n.removeEventListener("mouseenter",b),n.removeEventListener("mouseleave",Ua),h==null||h.removeEventListener("scroll",Ua),Ua=void 0}catch{}};let E=null;const w=v(),C=y();return w.appendChild(C),E=DT(n,w,{strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:C,padding:10}}],...s}),n.addEventListener("mouseenter",b),n.addEventListener("mouseleave",Ua),h==null||h.addEventListener("scroll",Ua),E}const kP=(e,n,i,s)=>{let a=0,u=e;if(s){if(s[e].colSpan>1)return{};for(let v=0;v<e;v++)a+=s[v].colSpan;u=a+s[e].colSpan-1}else a=e;let f;const h=i.states.columns;switch(n){case"left":u<i.states.fixedLeafColumnsLength.value&&(f="left");break;case"right":a>=h.value.length-i.states.rightFixedLeafColumnsLength.value&&(f="right");break;default:u<i.states.fixedLeafColumnsLength.value?f="left":a>=h.value.length-i.states.rightFixedLeafColumnsLength.value&&(f="right")}return f?{direction:f,start:a,after:u}:{}},o1=(e,n,i,s,a)=>{const u=[],{direction:f,start:h}=kP(n,i,s,a);if(f){const v=f==="left";u.push(`${e}-fixed-column--${f}`),v&&h===s.states.fixedLeafColumnsLength.value-1?u.push("is-last-column"):!v&&h===s.states.columns.value.length-s.states.rightFixedLeafColumnsLength.value&&u.push("is-first-column")}return u};function lM(e,n){return e+(n.realWidth===null||Number.isNaN(n.realWidth)?Number(n.width):n.realWidth)}const a1=(e,n,i,s)=>{const{direction:a,start:u=0}=kP(e,n,i,s);if(!a)return;const f={},h=a==="left",v=i.states.columns.value;return h?f.left=v.slice(0,e).reduce(lM,0):f.right=v.slice(u+1).reverse().reduce(lM,0),f},Hd=(e,n)=>{!e||Number.isNaN(e[n])||(e[n]=`${e[n]}px`)};function Jhe(e){const n=qn(),i=se(!1),s=se([]);return{updateExpandRows:()=>{const v=e.data.value||[],y=e.rowKey.value;if(i.value)s.value=v.slice();else if(y){const b=Kc(s.value,y);s.value=v.reduce((E,w)=>{const C=ji(w,y);return b[C]&&E.push(w),E},[])}else s.value=[]},toggleRowExpansion:(v,y)=>{qm(s.value,v,y)&&n.emit("expand-change",v,s.value.slice())},setExpandRowKeys:v=>{n.store.assertRowKey();const y=e.data.value||[],b=e.rowKey.value,E=Kc(y,b);s.value=v.reduce((w,C)=>{const x=E[C];return x&&w.push(x.row),w},[])},isRowExpanded:v=>{const y=e.rowKey.value;return y?!!Kc(s.value,y)[ji(v,y)]:s.value.includes(v)},states:{expandRows:s,defaultExpandAll:i}}}function Zhe(e){const n=qn(),i=se(null),s=se(null),a=y=>{n.store.assertRowKey(),i.value=y,f(y)},u=()=>{i.value=null},f=y=>{const{data:b,rowKey:E}=e;let w=null;E.value&&(w=(g(b)||[]).find(C=>ji(C,E.value)===y)),s.value=w,n.emit("current-change",s.value,null)};return{setCurrentRowKey:a,restoreCurrentRowKey:u,setCurrentRowByKey:f,updateCurrentRow:y=>{const b=s.value;if(y&&y!==b){s.value=y,n.emit("current-change",s.value,b);return}!y&&b&&(s.value=null,n.emit("current-change",null,b))},updateCurrentRowData:()=>{const y=e.rowKey.value,b=e.data.value||[],E=s.value;if(!b.includes(E)&&E){if(y){const w=ji(E,y);f(w)}else s.value=null;s.value===null&&n.emit("current-change",null,E)}else i.value&&(f(i.value),u())},states:{_currentRowKey:i,currentRow:s}}}function epe(e){const n=se([]),i=se({}),s=se(16),a=se(!1),u=se({}),f=se("hasChildren"),h=se("children"),v=qn(),y=$(()=>{if(!e.rowKey.value)return{};const P=e.data.value||[];return E(P)}),b=$(()=>{const P=e.rowKey.value,F=Object.keys(u.value),B={};return F.length&&F.forEach(G=>{if(u.value[G].length){const Q={children:[]};u.value[G].forEach(H=>{const J=ji(H,P);Q.children.push(J),H[f.value]&&!B[J]&&(B[J]={children:[]})}),B[G]=Q}}),B}),E=P=>{const F=e.rowKey.value,B={};return qhe(P,(G,Q,H)=>{const J=ji(G,F);Array.isArray(Q)?B[J]={children:Q.map(te=>ji(te,F)),level:H}:a.value&&(B[J]={children:[],lazy:!0,level:H})},h.value,f.value),B},w=(P=!1,F=(B=>(B=v.store)==null?void 0:B.states.defaultExpandAll.value)())=>{var B;const G=y.value,Q=b.value,H=Object.keys(G),J={};if(H.length){const te=g(i),ie=[],ue=(me,de)=>{if(P)return n.value?F||n.value.includes(de):!!(F||(me==null?void 0:me.expanded));{const ye=F||n.value&&n.value.includes(de);return!!((me==null?void 0:me.expanded)||ye)}};H.forEach(me=>{const de=te[me],ye={...G[me]};if(ye.expanded=ue(de,me),ye.lazy){const{loaded:ve=!1,loading:Ee=!1}=de||{};ye.loaded=!!ve,ye.loading=!!Ee,ie.push(me)}J[me]=ye});const be=Object.keys(Q);a.value&&be.length&&ie.length&&be.forEach(me=>{const de=te[me],ye=Q[me].children;if(ie.includes(me)){if(J[me].children.length!==0)throw new Error("[ElTable]children must be an empty array.");J[me].children=ye}else{const{loaded:ve=!1,loading:Ee=!1}=de||{};J[me]={lazy:!0,loaded:!!ve,loading:!!Ee,expanded:ue(de,me),children:ye,level:""}}})}i.value=J,(B=v.store)==null||B.updateTableScrollY()};Ct(()=>n.value,()=>{w(!0)}),Ct(()=>y.value,()=>{w()}),Ct(()=>b.value,()=>{w()});const C=P=>{n.value=P,w()},x=(P,F)=>{v.store.assertRowKey();const B=e.rowKey.value,G=ji(P,B),Q=G&&i.value[G];if(G&&Q&&"expanded"in Q){const H=Q.expanded;F=typeof F>"u"?!Q.expanded:F,i.value[G].expanded=F,H!==F&&v.emit("expand-change",P,F),v.store.updateTableScrollY()}},M=P=>{v.store.assertRowKey();const F=e.rowKey.value,B=ji(P,F),G=i.value[B];a.value&&G&&"loaded"in G&&!G.loaded?T(P,B,G):x(P,void 0)},T=(P,F,B)=>{const{load:G}=v.props;G&&!i.value[F].loaded&&(i.value[F].loading=!0,G(P,B,Q=>{if(!Array.isArray(Q))throw new TypeError("[ElTable] data must be an array");i.value[F].loading=!1,i.value[F].loaded=!0,i.value[F].expanded=!0,Q.length&&(u.value[F]=Q),v.emit("expand-change",P,!0)}))};return{loadData:T,loadOrToggle:M,toggleTreeExpansion:x,updateTreeExpandKeys:C,updateTreeData:w,normalize:E,states:{expandRowKeys:n,treeData:i,indent:s,lazy:a,lazyTreeNodeMap:u,lazyColumnIdentifier:f,childrenColumnName:h}}}const tpe=(e,n)=>{const i=n.sortingColumn;return!i||typeof i.sortable=="string"?e:zhe(e,n.sortProp,n.sortOrder,i.sortMethod,i.sortBy)},Ym=e=>{const n=[];return e.forEach(i=>{i.children?n.push.apply(n,Ym(i.children)):n.push(i)}),n};function npe(){var e;const n=qn(),{size:i}=Ci((e=n.proxy)==null?void 0:e.$props),s=se(null),a=se([]),u=se([]),f=se(!1),h=se([]),v=se([]),y=se([]),b=se([]),E=se([]),w=se([]),C=se([]),x=se([]),M=se(0),T=se(0),P=se(0),F=se(!1),B=se([]),G=se(!1),Q=se(!1),H=se(null),J=se({}),te=se(null),ie=se(null),ue=se(null),be=se(null),me=se(null);Ct(a,()=>n.state&&ve(!1),{deep:!0});const de=()=>{if(!s.value)throw new Error("[ElTable] prop row-key is required")},ye=()=>{b.value=h.value.filter(Qe=>Qe.fixed===!0||Qe.fixed==="left"),E.value=h.value.filter(Qe=>Qe.fixed==="right"),b.value.length>0&&h.value[0]&&h.value[0].type==="selection"&&!h.value[0].fixed&&(h.value[0].fixed=!0,b.value.unshift(h.value[0]));const Ke=h.value.filter(Qe=>!Qe.fixed);v.value=[].concat(b.value).concat(Ke).concat(E.value);const It=Ym(Ke),$e=Ym(b.value),Rt=Ym(E.value);M.value=It.length,T.value=$e.length,P.value=Rt.length,y.value=[].concat($e).concat(It).concat(Rt),f.value=b.value.length>0||E.value.length>0},ve=(Ke,It=!1)=>{Ke&&ye(),It?n.state.doLayout():n.state.debouncedUpdateLayout()},Ee=Ke=>B.value.includes(Ke),fe=()=>{F.value=!1,B.value.length&&(B.value=[],n.emit("selection-change",[]))},_e=()=>{let Ke;if(s.value){Ke=[];const It=Kc(B.value,s.value),$e=Kc(a.value,s.value);for(const Rt in It)ar(It,Rt)&&!$e[Rt]&&Ke.push(It[Rt].row)}else Ke=B.value.filter(It=>!a.value.includes(It));if(Ke.length){const It=B.value.filter($e=>!Ke.includes($e));B.value=It,n.emit("selection-change",It.slice())}},oe=()=>(B.value||[]).slice(),Te=(Ke,It=void 0,$e=!0)=>{if(qm(B.value,Ke,It)){const Qe=(B.value||[]).slice();$e&&n.emit("select",Qe,Ke),n.emit("selection-change",Qe)}},Le=()=>{var Ke,It;const $e=Q.value?!F.value:!(F.value||B.value.length);F.value=$e;let Rt=!1,Qe=0;const Dt=(It=(Ke=n==null?void 0:n.store)==null?void 0:Ke.states)==null?void 0:It.rowKey.value;a.value.forEach((Qt,Yt)=>{const un=Yt+Qe;H.value?H.value.call(null,Qt,un)&&qm(B.value,Qt,$e)&&(Rt=!0):qm(B.value,Qt,$e)&&(Rt=!0),Qe+=ft(ji(Qt,Dt))}),Rt&&n.emit("selection-change",B.value?B.value.slice():[]),n.emit("select-all",B.value)},xe=()=>{const Ke=Kc(B.value,s.value);a.value.forEach(It=>{const $e=ji(It,s.value),Rt=Ke[$e];Rt&&(B.value[Rt.index]=It)})},Fe=()=>{var Ke,It,$e;if(((Ke=a.value)==null?void 0:Ke.length)===0){F.value=!1;return}let Rt;s.value&&(Rt=Kc(B.value,s.value));const Qe=function(un){return Rt?!!Rt[ji(un,s.value)]:B.value.includes(un)};let Dt=!0,Qt=0,Yt=0;for(let un=0,Ar=(a.value||[]).length;un<Ar;un++){const ir=($e=(It=n==null?void 0:n.store)==null?void 0:It.states)==null?void 0:$e.rowKey.value,si=un+Yt,Xn=a.value[un],Ir=H.value&&H.value.call(null,Xn,si);if(Qe(Xn))Qt++;else if(!H.value||Ir){Dt=!1;break}Yt+=ft(ji(Xn,ir))}Qt===0&&(Dt=!1),F.value=Dt},ft=Ke=>{var It;if(!n||!n.store)return 0;const{treeData:$e}=n.store.states;let Rt=0;const Qe=(It=$e.value[Ke])==null?void 0:It.children;return Qe&&(Rt+=Qe.length,Qe.forEach(Dt=>{Rt+=ft(Dt)})),Rt},St=(Ke,It)=>{Array.isArray(Ke)||(Ke=[Ke]);const $e={};return Ke.forEach(Rt=>{J.value[Rt.id]=It,$e[Rt.columnKey||Rt.id]=It}),$e},Pt=(Ke,It,$e)=>{ie.value&&ie.value!==Ke&&(ie.value.order=null),ie.value=Ke,ue.value=It,be.value=$e},At=()=>{let Ke=g(u);Object.keys(J.value).forEach(It=>{const $e=J.value[It];if(!$e||$e.length===0)return;const Rt=BP({columns:y.value},It);Rt&&Rt.filterMethod&&(Ke=Ke.filter(Qe=>$e.some(Dt=>Rt.filterMethod.call(null,Dt,Qe,Rt))))}),te.value=Ke},Ve=()=>{a.value=tpe(te.value,{sortingColumn:ie.value,sortProp:ue.value,sortOrder:be.value})},at=(Ke=void 0)=>{Ke&&Ke.filter||At(),Ve()},pt=Ke=>{const{tableHeaderRef:It}=n.refs;if(!It)return;const $e=Object.assign({},It.filterPanels),Rt=Object.keys($e);if(!!Rt.length)if(typeof Ke=="string"&&(Ke=[Ke]),Array.isArray(Ke)){const Qe=Ke.map(Dt=>$he({columns:y.value},Dt));Rt.forEach(Dt=>{const Qt=Qe.find(Yt=>Yt.id===Dt);Qt&&(Qt.filteredValue=[])}),n.store.commit("filterChange",{column:Qe,values:[],silent:!0,multi:!0})}else Rt.forEach(Qe=>{const Dt=y.value.find(Qt=>Qt.id===Qe);Dt&&(Dt.filteredValue=[])}),J.value={},n.store.commit("filterChange",{column:{},values:[],silent:!0})},nn=()=>{!ie.value||(Pt(null,null,null),n.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:_n,toggleRowExpansion:Be,updateExpandRows:ze,states:vt,isRowExpanded:Lt}=Jhe({data:a,rowKey:s}),{updateTreeExpandKeys:et,toggleTreeExpansion:xt,updateTreeData:qe,loadOrToggle:rt,states:mt}=epe({data:a,rowKey:s}),{updateCurrentRowData:Et,updateCurrentRow:rn,setCurrentRowKey:it,states:Xt}=Zhe({data:a,rowKey:s});return{assertRowKey:de,updateColumns:ye,scheduleLayout:ve,isSelected:Ee,clearSelection:fe,cleanSelection:_e,getSelectionRows:oe,toggleRowSelection:Te,_toggleAllSelection:Le,toggleAllSelection:null,updateSelectionByRowKey:xe,updateAllSelected:Fe,updateFilters:St,updateCurrentRow:rn,updateSort:Pt,execFilter:At,execSort:Ve,execQuery:at,clearFilter:pt,clearSort:nn,toggleRowExpansion:Be,setExpandRowKeysAdapter:Ke=>{_n(Ke),et(Ke)},setCurrentRowKey:it,toggleRowExpansionAdapter:(Ke,It)=>{y.value.some(({type:Rt})=>Rt==="expand")?Be(Ke,It):xt(Ke,It)},isRowExpanded:Lt,updateExpandRows:ze,updateCurrentRowData:Et,loadOrToggle:rt,updateTreeData:qe,states:{tableSize:i,rowKey:s,data:a,_data:u,isComplex:f,_columns:h,originColumns:v,columns:y,fixedColumns:b,rightFixedColumns:E,leafColumns:w,fixedLeafColumns:C,rightFixedLeafColumns:x,leafColumnsLength:M,fixedLeafColumnsLength:T,rightFixedLeafColumnsLength:P,isAllSelected:F,selection:B,reserveSelection:G,selectOnIndeterminate:Q,selectable:H,filters:J,filteredData:te,sortingColumn:ie,sortProp:ue,sortOrder:be,hoverRow:me,...vt,...mt,...Xt}}}function gy(e,n){return e.map(i=>{var s;return i.id===n.id?n:((s=i.children)!=null&&s.length&&(i.children=gy(i.children,n)),i)})}function LP(e){e.forEach(n=>{var i,s;n.no=(i=n.getColumnIndex)==null?void 0:i.call(n),(s=n.children)!=null&&s.length&&LP(n.children)}),e.sort((n,i)=>n.no-i.no)}function rpe(){const e=qn(),n=npe();return{ns:bt("table"),...n,mutations:{setData(f,h){const v=g(f._data)!==h;f.data.value=h,f._data.value=h,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),g(f.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):v?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(f,h,v){const y=g(f._columns);let b=[];v?(v&&!v.children&&(v.children=[]),v.children.push(h),b=gy(y,v)):(y.push(h),b=y),LP(b),f._columns.value=b,h.type==="selection"&&(f.selectable.value=h.selectable,f.reserveSelection.value=h.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},removeColumn(f,h,v){const y=g(f._columns)||[];if(v)v.children.splice(v.children.findIndex(b=>b.id===h.id),1),v.children.length===0&&delete v.children,f._columns.value=gy(y,v);else{const b=y.indexOf(h);b>-1&&(y.splice(b,1),f._columns.value=y)}e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(f,h){const{prop:v,order:y,init:b}=h;if(v){const E=g(f.columns).find(w=>w.property===v);E&&(E.order=y,e.store.updateSort(E,v,y),e.store.commit("changeSortCondition",{init:b}))}},changeSortCondition(f,h){const{sortingColumn:v,sortProp:y,sortOrder:b}=f,E=g(v),w=g(y),C=g(b);C===null&&(f.sortingColumn.value=null,f.sortProp.value=null);const x={filter:!0};e.store.execQuery(x),(!h||!(h.silent||h.init))&&e.emit("sort-change",{column:E,prop:w,order:C}),e.store.updateTableScrollY()},filterChange(f,h){const{column:v,values:y,silent:b}=h,E=e.store.updateFilters(v,y);e.store.execQuery(),b||e.emit("filter-change",E),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(f,h){e.store.toggleRowSelection(h),e.store.updateAllSelected()},setHoverRow(f,h){f.hoverRow.value=h},setCurrentRow(f,h){e.store.updateCurrentRow(h)}},commit:function(f,...h){const v=e.store.mutations;if(v[f])v[f].apply(e,[e.store.states].concat(h));else throw new Error(`Action not found: ${f}`)},updateTableScrollY:function(){dn(()=>e.layout.updateScrollY.apply(e.layout))}}}const mh={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function ipe(e,n){if(!e)throw new Error("Table is required.");const i=rpe();return i.toggleAllSelection=gs(i._toggleAllSelection,10),Object.keys(mh).forEach(s=>{OP(FP(n,s),s,i)}),spe(i,n),i}function spe(e,n){Object.keys(mh).forEach(i=>{Ct(()=>FP(n,i),s=>{OP(s,i,e)})})}function OP(e,n,i){let s=e,a=mh[n];typeof mh[n]=="object"&&(a=a.key,s=s||mh[n].default),i.states[a].value=s}function FP(e,n){if(n.includes(".")){const i=n.split(".");let s=e;return i.forEach(a=>{s=s[a]}),s}else return e[n]}class ope{constructor(n){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=se(null),this.scrollX=se(!1),this.scrollY=se(!1),this.bodyWidth=se(null),this.fixedWidth=se(null),this.rightFixedWidth=se(null),this.gutterWidth=0;for(const i in n)ar(n,i)&&(Qr(this[i])?this[i].value=n[i]:this[i]=n[i]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const i=this.table.refs.scrollBarRef;if(this.table.vnode.el&&i){let s=!0;const a=this.scrollY.value;return s=i.wrap$.scrollHeight>i.wrap$.clientHeight,this.scrollY.value=s,a!==s}return!1}setHeight(n,i="height"){if(!dr)return;const s=this.table.vnode.el;if(n=Khe(n),this.height.value=Number(n),!s&&(n||n===0))return dn(()=>this.setHeight(n,i));typeof n=="number"?(s.style[i]=`${n}px`,this.updateElsHeight()):typeof n=="string"&&(s.style[i]=n,this.updateElsHeight())}setMaxHeight(n){this.setHeight(n,"max-height")}getFlattenColumns(){const n=[];return this.table.store.states.columns.value.forEach(s=>{s.isColumnGroup?n.push.apply(n,s.columns):n.push(s)}),n}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(n){if(!n)return!0;let i=n;for(;i.tagName!=="DIV";){if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}updateColumnsWidth(){if(!dr)return;const n=this.fit,i=this.table.vnode.el.clientWidth;let s=0;const a=this.getFlattenColumns(),u=a.filter(v=>typeof v.width!="number");if(a.forEach(v=>{typeof v.width=="number"&&v.realWidth&&(v.realWidth=null)}),u.length>0&&n){if(a.forEach(v=>{s+=Number(v.width||v.minWidth||80)}),s<=i){this.scrollX.value=!1;const v=i-s;if(u.length===1)u[0].realWidth=Number(u[0].minWidth||80)+v;else{const y=u.reduce((w,C)=>w+Number(C.minWidth||80),0),b=v/y;let E=0;u.forEach((w,C)=>{if(C===0)return;const x=Math.floor(Number(w.minWidth||80)*b);E+=x,w.realWidth=Number(w.minWidth||80)+x}),u[0].realWidth=Number(u[0].minWidth||80)+v-E}}else this.scrollX.value=!0,u.forEach(v=>{v.realWidth=Number(v.minWidth)});this.bodyWidth.value=Math.max(s,i),this.table.state.resizeState.value.width=this.bodyWidth.value}else a.forEach(v=>{!v.width&&!v.minWidth?v.realWidth=80:v.realWidth=Number(v.width||v.minWidth),s+=v.realWidth}),this.scrollX.value=s>i,this.bodyWidth.value=s;const f=this.store.states.fixedColumns.value;if(f.length>0){let v=0;f.forEach(y=>{v+=Number(y.realWidth||y.width)}),this.fixedWidth.value=v}const h=this.store.states.rightFixedColumns.value;if(h.length>0){let v=0;h.forEach(y=>{v+=Number(y.realWidth||y.width)}),this.rightFixedWidth.value=v}this.notifyObservers("columns")}addObserver(n){this.observers.push(n)}removeObserver(n){const i=this.observers.indexOf(n);i!==-1&&this.observers.splice(i,1)}notifyObservers(n){this.observers.forEach(s=>{var a,u;switch(n){case"columns":(a=s.state)==null||a.onColumnsChange(this);break;case"scrollable":(u=s.state)==null||u.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${n}.`)}})}}const{CheckboxGroup:ape}=vo,lpe=yt({name:"ElTableFilterPanel",components:{ElCheckbox:vo,ElCheckboxGroup:ape,ElScrollbar:cl,ElTooltip:Ms,ElIcon:fn,ArrowDown:tc,ArrowUp:Kg},directives:{ClickOutside:Yl},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(e){const n=qn(),{t:i}=Cr(),s=bt("table-filter"),a=n==null?void 0:n.parent;a.filterPanels.value[e.column.id]||(a.filterPanels.value[e.column.id]=n);const u=se(!1),f=se(null),h=$(()=>e.column&&e.column.filters),v=$({get:()=>{var G;return(((G=e.column)==null?void 0:G.filteredValue)||[])[0]},set:G=>{y.value&&(typeof G<"u"&&G!==null?y.value.splice(0,1,G):y.value.splice(0,1))}}),y=$({get(){return e.column?e.column.filteredValue||[]:[]},set(G){e.column&&e.upDataColumn("filteredValue",G)}}),b=$(()=>e.column?e.column.filterMultiple:!0),E=G=>G.value===v.value,w=()=>{u.value=!1},C=G=>{G.stopPropagation(),u.value=!u.value},x=()=>{u.value=!1},M=()=>{F(y.value),w()},T=()=>{y.value=[],F(y.value),w()},P=G=>{v.value=G,F(typeof G<"u"&&G!==null?y.value:[]),w()},F=G=>{e.store.commit("filterChange",{column:e.column,values:G}),e.store.updateAllSelected()};Ct(u,G=>{e.column&&e.upDataColumn("filterOpened",G)},{immediate:!0});const B=$(()=>{var G,Q;return(Q=(G=f.value)==null?void 0:G.popperRef)==null?void 0:Q.contentRef});return{tooltipVisible:u,multiple:b,filteredValue:y,filterValue:v,filters:h,handleConfirm:M,handleReset:T,handleSelect:P,isActive:E,t:i,ns:s,showFilterPanel:C,hideFilterPanel:x,popperPaneRef:B,tooltip:f}}}),cpe={key:0},upe=["disabled"],dpe=["label","onClick"];function fpe(e,n,i,s,a,u){const f=gn("el-checkbox"),h=gn("el-checkbox-group"),v=gn("el-scrollbar"),y=gn("arrow-up"),b=gn("arrow-down"),E=gn("el-icon"),w=gn("el-tooltip"),C=iu("click-outside");return X(),nt(w,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.ns.b(),persistent:""},{content:Ue(()=>[e.multiple?(X(),ge("div",cpe,[Ce("div",{class:q(e.ns.e("content"))},[Me(v,{"wrap-class":e.ns.e("wrap")},{default:Ue(()=>[Me(h,{modelValue:e.filteredValue,"onUpdate:modelValue":n[0]||(n[0]=x=>e.filteredValue=x),class:q(e.ns.e("checkbox-group"))},{default:Ue(()=>[(X(!0),ge(vn,null,cr(e.filters,x=>(X(),nt(f,{key:x.value,label:x.value},{default:Ue(()=>[pr(Ut(x.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),Ce("div",{class:q(e.ns.e("bottom"))},[Ce("button",{class:q({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:n[1]||(n[1]=(...x)=>e.handleConfirm&&e.handleConfirm(...x))},Ut(e.t("el.table.confirmFilter")),11,upe),Ce("button",{type:"button",onClick:n[2]||(n[2]=(...x)=>e.handleReset&&e.handleReset(...x))},Ut(e.t("el.table.resetFilter")),1)],2)])):(X(),ge("ul",{key:1,class:q(e.ns.e("list"))},[Ce("li",{class:q([e.ns.e("list-item"),{[e.ns.is("active")]:e.filterValue===void 0||e.filterValue===null}]),onClick:n[3]||(n[3]=x=>e.handleSelect(null))},Ut(e.t("el.table.clearFilter")),3),(X(!0),ge(vn,null,cr(e.filters,x=>(X(),ge("li",{key:x.value,class:q([e.ns.e("list-item"),e.ns.is("active",e.isActive(x))]),label:x.value,onClick:M=>e.handleSelect(x.value)},Ut(x.text),11,dpe))),128))],2))]),default:Ue(()=>[Qn((X(),ge("span",{class:q([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:n[4]||(n[4]=(...x)=>e.showFilterPanel&&e.showFilterPanel(...x))},[Me(E,null,{default:Ue(()=>[e.column.filterOpened?(X(),nt(y,{key:0})):(X(),nt(b,{key:1}))]),_:1})],2)),[[C,e.hideFilterPanel,e.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var hpe=Ht(lpe,[["render",fpe],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function VP(e){const n=qn();Qg(()=>{i.value.addObserver(n)}),jn(()=>{s(i.value),a(i.value)}),ya(()=>{s(i.value),a(i.value)}),hu(()=>{i.value.removeObserver(n)});const i=$(()=>{const u=e.layout;if(!u)throw new Error("Can not find table layout.");return u}),s=u=>{var f;const h=((f=e.vnode.el)==null?void 0:f.querySelectorAll("colgroup > col"))||[];if(!h.length)return;const v=u.getFlattenColumns(),y={};v.forEach(b=>{y[b.id]=b});for(let b=0,E=h.length;b<E;b++){const w=h[b],C=w.getAttribute("name"),x=y[C];x&&w.setAttribute("width",x.realWidth||x.width)}},a=u=>{var f,h;const v=((f=e.vnode.el)==null?void 0:f.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let b=0,E=v.length;b<E;b++)v[b].setAttribute("width",u.scrollY.value?u.gutterWidth:"0");const y=((h=e.vnode.el)==null?void 0:h.querySelectorAll("th.gutter"))||[];for(let b=0,E=y.length;b<E;b++){const w=y[b];w.style.width=u.scrollY.value?`${u.gutterWidth}px`:"0",w.style.display=u.scrollY.value?"":"none"}};return{tableLayout:i.value,onColumnsChange:s,onScrollableChange:a}}const ba=Symbol("ElTable");function ppe(e,n){const i=qn(),s=An(ba),a=M=>{M.stopPropagation()},u=(M,T)=>{!T.filters&&T.sortable?x(M,T,!1):T.filterable&&!T.sortable&&a(M),s==null||s.emit("header-click",T,M)},f=(M,T)=>{s==null||s.emit("header-contextmenu",T,M)},h=se(null),v=se(!1),y=se({}),b=(M,T)=>{if(!!dr&&!(T.children&&T.children.length>0)&&h.value&&e.border){v.value=!0;const P=s;n("set-drag-visible",!0);const B=(P==null?void 0:P.vnode.el).getBoundingClientRect().left,G=i.vnode.el.querySelector(`th.${T.id}`),Q=G.getBoundingClientRect(),H=Q.left-B+30;ha(G,"noclick"),y.value={startMouseLeft:M.clientX,startLeft:Q.right-B,startColumnLeft:Q.left-B,tableLeft:B};const J=P==null?void 0:P.refs.resizeProxy;J.style.left=`${y.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const te=ue=>{const be=ue.clientX-y.value.startMouseLeft,me=y.value.startLeft+be;J.style.left=`${Math.max(H,me)}px`},ie=()=>{if(v.value){const{startColumnLeft:ue,startLeft:be}=y.value,de=Number.parseInt(J.style.left,10)-ue;T.width=T.realWidth=de,P==null||P.emit("header-dragend",T.width,be-ue,T,M),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",v.value=!1,h.value=null,y.value={},n("set-drag-visible",!1)}document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ie),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{ws(G,"noclick")},0)};document.addEventListener("mousemove",te),document.addEventListener("mouseup",ie)}},E=(M,T)=>{var P;if(T.children&&T.children.length>0)return;const F=(P=M.target)==null?void 0:P.closest("th");if(!(!T||!T.resizable)&&!v.value&&e.border){const B=F.getBoundingClientRect(),G=document.body.style;B.width>12&&B.right-M.pageX<8?(G.cursor="col-resize",Uo(F,"is-sortable")&&(F.style.cursor="col-resize"),h.value=T):v.value||(G.cursor="",Uo(F,"is-sortable")&&(F.style.cursor="pointer"),h.value=null)}},w=()=>{!dr||(document.body.style.cursor="")},C=({order:M,sortOrders:T})=>{if(M==="")return T[0];const P=T.indexOf(M||null);return T[P>T.length-2?0:P+1]},x=(M,T,P)=>{var F;M.stopPropagation();const B=T.order===P?null:P||C(T),G=(F=M.target)==null?void 0:F.closest("th");if(G&&Uo(G,"noclick")){ws(G,"noclick");return}if(!T.sortable)return;const Q=e.store.states;let H=Q.sortProp.value,J;const te=Q.sortingColumn.value;(te!==T||te===T&&te.order===null)&&(te&&(te.order=null),Q.sortingColumn.value=T,H=T.property),B?J=T.order=B:J=T.order=null,Q.sortProp.value=H,Q.sortOrder.value=J,s==null||s.store.commit("changeSortCondition")};return{handleHeaderClick:u,handleHeaderContextMenu:f,handleMouseDown:b,handleMouseMove:E,handleMouseOut:w,handleSortClick:x,handleFilterClick:a}}function mpe(e){const n=An(ba),i=bt("table");return{getHeaderRowStyle:h=>{const v=n==null?void 0:n.props.headerRowStyle;return typeof v=="function"?v.call(null,{rowIndex:h}):v},getHeaderRowClass:h=>{const v=[],y=n==null?void 0:n.props.headerRowClassName;return typeof y=="string"?v.push(y):typeof y=="function"&&v.push(y.call(null,{rowIndex:h})),v.join(" ")},getHeaderCellStyle:(h,v,y,b)=>{var E;let w=(E=n==null?void 0:n.props.headerCellStyle)!=null?E:{};typeof w=="function"&&(w=w.call(null,{rowIndex:h,columnIndex:v,row:y,column:b}));const C=b.isSubColumn?null:a1(v,b.fixed,e.store,y);return Hd(C,"left"),Hd(C,"right"),Object.assign({},w,C)},getHeaderCellClass:(h,v,y,b)=>{const E=b.isSubColumn?[]:o1(i.b(),v,b.fixed,e.store,y),w=[b.id,b.order,b.headerAlign,b.className,b.labelClassName,...E];b.children||w.push("is-leaf"),b.sortable&&w.push("is-sortable");const C=n==null?void 0:n.props.headerCellClassName;return typeof C=="string"?w.push(C):typeof C=="function"&&w.push(C.call(null,{rowIndex:h,columnIndex:v,row:y,column:b})),w.push(i.e("cell")),w.filter(x=>Boolean(x)).join(" ")}}}const GP=e=>{const n=[];return e.forEach(i=>{i.children?(n.push(i),n.push.apply(n,GP(i.children))):n.push(i)}),n},gpe=e=>{let n=1;const i=(u,f)=>{if(f&&(u.level=f.level+1,n<u.level&&(n=u.level)),u.children){let h=0;u.children.forEach(v=>{i(v,u),h+=v.colSpan}),u.colSpan=h}else u.colSpan=1};e.forEach(u=>{u.level=1,i(u,void 0)});const s=[];for(let u=0;u<n;u++)s.push([]);return GP(e).forEach(u=>{u.children?(u.rowSpan=1,u.children.forEach(f=>f.isSubColumn=!0)):u.rowSpan=n-u.level+1,s[u.level-1].push(u)}),s};function vpe(e){const n=An(ba),i=$(()=>gpe(e.store.states.originColumns.value));return{isGroup:$(()=>{const u=i.value.length>1;return u&&n&&(n.state.isGroup.value=!0),u}),toggleAllSelection:u=>{u.stopPropagation(),n==null||n.store.commit("toggleAllSelection")},columnRows:i}}var _pe=yt({name:"ElTableHeader",components:{ElCheckbox:vo},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e,{emit:n}){const i=qn(),s=An(ba),a=bt("table"),u=se({}),{onColumnsChange:f,onScrollableChange:h}=VP(s);jn(async()=>{await dn(),await dn();const{prop:H,order:J}=e.defaultSort;s==null||s.store.commit("sort",{prop:H,order:J,init:!0})});const{handleHeaderClick:v,handleHeaderContextMenu:y,handleMouseDown:b,handleMouseMove:E,handleMouseOut:w,handleSortClick:C,handleFilterClick:x}=ppe(e,n),{getHeaderRowStyle:M,getHeaderRowClass:T,getHeaderCellStyle:P,getHeaderCellClass:F}=mpe(e),{isGroup:B,toggleAllSelection:G,columnRows:Q}=vpe(e);return i.state={onColumnsChange:f,onScrollableChange:h},i.filterPanels=u,{ns:a,filterPanels:u,onColumnsChange:f,onScrollableChange:h,columnRows:Q,getHeaderRowClass:T,getHeaderRowStyle:M,getHeaderCellClass:F,getHeaderCellStyle:P,handleHeaderClick:v,handleHeaderContextMenu:y,handleMouseDown:b,handleMouseMove:E,handleMouseOut:w,handleSortClick:C,handleFilterClick:x,isGroup:B,toggleAllSelection:G}},render(){const{ns:e,isGroup:n,columnRows:i,getHeaderCellStyle:s,getHeaderCellClass:a,getHeaderRowClass:u,getHeaderRowStyle:f,handleHeaderClick:h,handleHeaderContextMenu:v,handleMouseDown:y,handleMouseMove:b,handleSortClick:E,handleMouseOut:w,store:C,$parent:x}=this;let M=1;return Sn("thead",{class:{[e.is("group")]:n}},i.map((T,P)=>Sn("tr",{class:u(P),key:P,style:f(P)},T.map((F,B)=>(F.rowSpan>M&&(M=F.rowSpan),Sn("th",{class:a(P,B,T,F),colspan:F.colSpan,key:`${F.id}-thead`,rowspan:F.rowSpan,style:s(P,B,T,F),onClick:G=>h(G,F),onContextmenu:G=>v(G,F),onMousedown:G=>y(G,F),onMousemove:G=>b(G,F),onMouseout:w},[Sn("div",{class:["cell",F.filteredValue&&F.filteredValue.length>0?"highlight":""]},[F.renderHeader?F.renderHeader({column:F,$index:B,store:C,_self:x}):F.label,F.sortable&&Sn("span",{onClick:G=>E(G,F),class:"caret-wrapper"},[Sn("i",{onClick:G=>E(G,F,"ascending"),class:"sort-caret ascending"}),Sn("i",{onClick:G=>E(G,F,"descending"),class:"sort-caret descending"})]),F.filterable&&Sn(hpe,{store:C,placement:F.filterPlacement||"bottom-start",column:F,upDataColumn:(G,Q)=>{F[G]=Q}})])]))))))}});function Ape(e){const n=An(ba),i=se(""),s=se(Sn("div")),a=(w,C,x)=>{var M;const T=n,P=n0(w);let F;const B=(M=T==null?void 0:T.vnode.el)==null?void 0:M.dataset.prefix;P&&(F=aM({columns:e.store.states.columns.value},P,B),F&&(T==null||T.emit(`cell-${x}`,C,F,P,w))),T==null||T.emit(`row-${x}`,C,F,w)},u=(w,C)=>{a(w,C,"dblclick")},f=(w,C)=>{e.store.commit("setCurrentRow",C),a(w,C,"click")},h=(w,C)=>{a(w,C,"contextmenu")},v=gs(w=>{e.store.commit("setHoverRow",w)},30),y=gs(()=>{e.store.commit("setHoverRow",null)},30);return{handleDoubleClick:u,handleClick:f,handleContextMenu:h,handleMouseEnter:v,handleMouseLeave:y,handleCellMouseEnter:(w,C,x)=>{var M;const T=n,P=n0(w),F=(M=T==null?void 0:T.vnode.el)==null?void 0:M.dataset.prefix;if(P){const J=aM({columns:e.store.states.columns.value},P,F),te=T.hoverState={cell:P,column:J,row:C};T==null||T.emit("cell-mouse-enter",te.row,te.column,te.cell,w)}const B=w.target.querySelector(".cell");if(!(Uo(B,`${F}-tooltip`)&&B.childNodes.length))return;const G=document.createRange();G.setStart(B,0),G.setEnd(B,B.childNodes.length);const Q=G.getBoundingClientRect().width,H=(Number.parseInt(za(B,"paddingLeft"),10)||0)+(Number.parseInt(za(B,"paddingRight"),10)||0);(Q+H>B.offsetWidth||B.scrollWidth>B.offsetWidth)&&Yhe(n==null?void 0:n.refs.tableWrapper,P,P.innerText||P.textContent,{placement:"top",strategy:"fixed"},x)},handleCellMouseLeave:w=>{if(!n0(w))return;const x=n==null?void 0:n.hoverState;n==null||n.emit("cell-mouse-leave",x==null?void 0:x.row,x==null?void 0:x.column,x==null?void 0:x.cell,w)},tooltipContent:i,tooltipTrigger:s}}function ype(e){const n=An(ba),i=bt("table");return{getRowStyle:(y,b)=>{const E=n==null?void 0:n.props.rowStyle;return typeof E=="function"?E.call(null,{row:y,rowIndex:b}):E||null},getRowClass:(y,b)=>{const E=[i.e("row")];(n==null?void 0:n.props.highlightCurrentRow)&&y===e.store.states.currentRow.value&&E.push("current-row"),e.stripe&&b%2===1&&E.push(i.em("row","striped"));const w=n==null?void 0:n.props.rowClassName;return typeof w=="string"?E.push(w):typeof w=="function"&&E.push(w.call(null,{row:y,rowIndex:b})),E},getCellStyle:(y,b,E,w)=>{const C=n==null?void 0:n.props.cellStyle;let x=C!=null?C:{};typeof C=="function"&&(x=C.call(null,{rowIndex:y,columnIndex:b,row:E,column:w}));const M=w.isSubColumn?null:a1(b,e==null?void 0:e.fixed,e.store);return Hd(M,"left"),Hd(M,"right"),Object.assign({},x,M)},getCellClass:(y,b,E,w)=>{const C=w.isSubColumn?[]:o1(i.b(),b,e==null?void 0:e.fixed,e.store),x=[w.id,w.align,w.className,...C],M=n==null?void 0:n.props.cellClassName;return typeof M=="string"?x.push(M):typeof M=="function"&&x.push(M.call(null,{rowIndex:y,columnIndex:b,row:E,column:w})),x.push(i.e("cell")),x.filter(T=>Boolean(T)).join(" ")},getSpan:(y,b,E,w)=>{let C=1,x=1;const M=n==null?void 0:n.props.spanMethod;if(typeof M=="function"){const T=M({row:y,column:b,rowIndex:E,columnIndex:w});Array.isArray(T)?(C=T[0],x=T[1]):typeof T=="object"&&(C=T.rowspan,x=T.colspan)}return{rowspan:C,colspan:x}},getColspanRealWidth:(y,b,E)=>{if(b<1)return y[E].realWidth;const w=y.map(({realWidth:C,width:x})=>C||x).slice(E,E+b);return Number(w.reduce((C,x)=>Number(C)+Number(x),-1))}}}function bpe(e){const n=An(ba),i=bt("table"),{handleDoubleClick:s,handleClick:a,handleContextMenu:u,handleMouseEnter:f,handleMouseLeave:h,handleCellMouseEnter:v,handleCellMouseLeave:y,tooltipContent:b,tooltipTrigger:E}=Ape(e),{getRowStyle:w,getRowClass:C,getCellStyle:x,getCellClass:M,getSpan:T,getColspanRealWidth:P}=ype(e),F=$(()=>e.store.states.columns.value.findIndex(({type:J})=>J==="default")),B=(J,te)=>{const ie=n.props.rowKey;return ie?ji(J,ie):te},G=(J,te,ie,ue=!1)=>{const{tooltipEffect:be,store:me}=e,{indent:de,columns:ye}=me.states,ve=C(J,te);let Ee=!0;return ie&&(ve.push(i.em("row",`level-${ie.level}`)),Ee=ie.display),Sn("tr",{style:[Ee?null:{display:"none"},w(J,te)],class:ve,key:B(J,te),onDblclick:_e=>s(_e,J),onClick:_e=>a(_e,J),onContextmenu:_e=>u(_e,J),onMouseenter:()=>f(te),onMouseleave:h},ye.value.map((_e,oe)=>{const{rowspan:Te,colspan:Le}=T(J,_e,te,oe);if(!Te||!Le)return null;const xe={..._e};xe.realWidth=P(ye.value,Le,oe);const Fe={store:e.store,_self:e.context||n,column:xe,row:J,$index:te,cellIndex:oe,expanded:ue};oe===F.value&&ie&&(Fe.treeNode={indent:ie.level*de.value,level:ie.level},typeof ie.expanded=="boolean"&&(Fe.treeNode.expanded=ie.expanded,"loading"in ie&&(Fe.treeNode.loading=ie.loading),"noLazyChildren"in ie&&(Fe.treeNode.noLazyChildren=ie.noLazyChildren)));const ft=`${te},${oe}`,St=xe.columnKey||xe.rawColumnKey||"",Pt=Q(oe,_e,Fe);return Sn("td",{style:x(te,oe,J,_e),class:M(te,oe,J,_e),key:`${St}${ft}`,rowspan:Te,colspan:Le,onMouseenter:At=>v(At,J,be),onMouseleave:y},[Pt])}))},Q=(J,te,ie)=>te.renderCell(ie);return{wrappedRowRender:(J,te)=>{const ie=e.store,{isRowExpanded:ue,assertRowKey:be}=ie,{treeData:me,lazyTreeNodeMap:de,childrenColumnName:ye,rowKey:ve}=ie.states,Ee=ie.states.columns.value;if(Ee.some(({type:_e})=>_e==="expand")){const _e=ue(J),oe=G(J,te,void 0,_e),Te=n.renderExpanded;return _e?Te?[[oe,Sn("tr",{key:`expanded-row__${oe.key}`},[Sn("td",{colspan:Ee.length,class:`${i.e("cell")} ${i.e("expanded-cell")}`},[Te({row:J,$index:te,store:ie,expanded:_e})])])]]:(console.error("[Element Error]renderExpanded is required."),oe):[[oe]]}else if(Object.keys(me.value).length){be();const _e=ji(J,ve.value);let oe=me.value[_e],Te=null;oe&&(Te={expanded:oe.expanded,level:oe.level,display:!0},typeof oe.lazy=="boolean"&&(typeof oe.loaded=="boolean"&&oe.loaded&&(Te.noLazyChildren=!(oe.children&&oe.children.length)),Te.loading=oe.loading));const Le=[G(J,te,Te)];if(oe){let xe=0;const Fe=(St,Pt)=>{!(St&&St.length&&Pt)||St.forEach(At=>{const Ve={display:Pt.display&&Pt.expanded,level:Pt.level+1,expanded:!1,noLazyChildren:!1,loading:!1},at=ji(At,ve.value);if(at==null)throw new Error("For nested data item, row-key is required.");if(oe={...me.value[at]},oe&&(Ve.expanded=oe.expanded,oe.level=oe.level||Ve.level,oe.display=!!(oe.expanded&&Ve.display),typeof oe.lazy=="boolean"&&(typeof oe.loaded=="boolean"&&oe.loaded&&(Ve.noLazyChildren=!(oe.children&&oe.children.length)),Ve.loading=oe.loading)),xe++,Le.push(G(At,te+xe,Ve)),oe){const pt=de.value[at]||At[ye.value];Fe(pt,oe)}})};oe.display=!0;const ft=de.value[_e]||J[ye.value];Fe(ft,oe)}return Le}else return G(J,te,void 0)},tooltipContent:b,tooltipTrigger:E}}const Spe={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var Epe=yt({name:"ElTableBody",props:Spe,setup(e){const n=qn(),i=An(ba),s=bt("table"),{wrappedRowRender:a,tooltipContent:u,tooltipTrigger:f}=bpe(e),{onColumnsChange:h,onScrollableChange:v}=VP(i);return Ct(e.store.states.hoverRow,(y,b)=>{if(!e.store.states.isComplex.value||!dr)return;let E=window.requestAnimationFrame;E||(E=w=>window.setTimeout(w,16)),E(()=>{var w;const C=(w=n==null?void 0:n.vnode.el)==null?void 0:w.querySelectorAll(`.${s.e("row")}`),x=C[b],M=C[y];x&&ws(x,"hover-row"),M&&ha(M,"hover-row")})}),hu(()=>{var y;(y=Ua)==null||y()}),{ns:s,onColumnsChange:h,onScrollableChange:v,wrappedRowRender:a,tooltipContent:u,tooltipTrigger:f}},render(){const{wrappedRowRender:e,store:n}=this,i=n.states.data.value||[];return Sn("tbody",{},[i.reduce((s,a)=>s.concat(e(a,s.length)),[])])}});function l1(e){const n=e.tableLayout==="auto";let i=e.columns||[];n&&i.every(a=>a.width===void 0)&&(i=[]);const s=a=>{const u={key:`${e.tableLayout}_${a.id}`,style:{},name:void 0};return n?u.style={width:`${a.width}px`}:u.name=a.id,u};return Sn("colgroup",{},i.map(a=>Sn("col",s(a))))}l1.props=["columns","tableLayout"];function wpe(){const e=An(ba),n=e==null?void 0:e.store,i=$(()=>n.states.fixedLeafColumnsLength.value),s=$(()=>n.states.rightFixedColumns.value.length),a=$(()=>n.states.columns.value.length),u=$(()=>n.states.fixedColumns.value.length),f=$(()=>n.states.rightFixedColumns.value.length);return{leftFixedLeafCount:i,rightFixedLeafCount:s,columnsCount:a,leftFixedCount:u,rightFixedCount:f,columns:n.states.columns}}function Cpe(e){const{columns:n}=wpe(),i=bt("table");return{getCellClasses:(u,f)=>{const h=u[f],v=[i.e("cell"),h.id,h.align,h.labelClassName,...o1(i.b(),f,h.fixed,e.store)];return h.className&&v.push(h.className),h.children||v.push(i.is("leaf")),v},getCellStyles:(u,f)=>{const h=a1(f,u.fixed,e.store);return Hd(h,"left"),Hd(h,"right"),h},columns:n}}var Ipe=yt({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:n,getCellStyles:i,columns:s}=Cpe(e);return{ns:bt("table"),getCellClasses:n,getCellStyles:i,columns:s}},render(){const{columns:e,getCellStyles:n,getCellClasses:i,summaryMethod:s,sumText:a,ns:u}=this,f=this.store.states.data.value;let h=[];return s?h=s({columns:e,data:f}):e.forEach((v,y)=>{if(y===0){h[y]=a;return}const b=f.map(x=>Number(x[v.property])),E=[];let w=!0;b.forEach(x=>{if(!Number.isNaN(+x)){w=!1;const M=`${x}`.split(".")[1];E.push(M?M.length:0)}});const C=Math.max.apply(null,E);w?h[y]="":h[y]=b.reduce((x,M)=>{const T=Number(M);return Number.isNaN(+T)?x:Number.parseFloat((x+M).toFixed(Math.min(C,20)))},0)}),Sn("table",{class:u.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[l1({columns:e}),Sn("tbody",[Sn("tr",{},[...e.map((v,y)=>Sn("td",{key:y,colspan:v.colSpan,rowspan:v.rowSpan,class:i(e,y),style:n(v,y)},[Sn("div",{class:["cell",v.labelClassName]},[h[y]])]))])])])}});function Mpe(e){return{setCurrentRow:b=>{e.commit("setCurrentRow",b)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(b,E)=>{e.toggleRowSelection(b,E,!1),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:b=>{e.clearFilter(b)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(b,E)=>{e.toggleRowExpansionAdapter(b,E)},clearSort:()=>{e.clearSort()},sort:(b,E)=>{e.commit("sort",{prop:b,order:E})}}}function xpe(e,n,i,s){const a=se(!1),u=se(null),f=se(!1),h=_e=>{f.value=_e},v=se({width:null,height:null,headerHeight:null}),y=se(!1),b={display:"inline-block",verticalAlign:"middle"},E=se(),w=se(0),C=se(0),x=se(0),M=se(0);Yi(()=>{n.setHeight(e.height)}),Yi(()=>{n.setMaxHeight(e.maxHeight)}),Ct(()=>[e.currentRowKey,i.states.rowKey],([_e,oe])=>{!g(oe)||i.setCurrentRowKey(`${_e}`)},{immediate:!0}),Ct(()=>e.data,_e=>{s.store.commit("setData",_e)},{immediate:!0,deep:!0}),Yi(()=>{e.expandRowKeys&&i.setExpandRowKeysAdapter(e.expandRowKeys)});const T=()=>{s.store.commit("setHoverRow",null),s.hoverState&&(s.hoverState=null)},P=(_e,oe)=>{const{pixelX:Te,pixelY:Le}=oe;Math.abs(Te)>=Math.abs(Le)&&(s.refs.bodyWrapper.scrollLeft+=oe.pixelX/5)},F=$(()=>e.height||e.maxHeight||i.states.fixedColumns.value.length>0||i.states.rightFixedColumns.value.length>0),B=$(()=>({width:n.bodyWidth.value?`${n.bodyWidth.value}px`:""})),G=()=>{F.value&&n.updateElsHeight(),n.updateColumnsWidth(),requestAnimationFrame(te)};jn(async()=>{await dn(),i.updateColumns(),ie(),requestAnimationFrame(G);const _e=s.vnode.el,oe=s.refs.headerWrapper;e.flexible&&_e&&_e.parentElement&&(_e.parentElement.style.minWidth="0"),v.value={width:E.value=_e.offsetWidth,height:_e.offsetHeight,headerHeight:e.showHeader&&oe?oe.offsetHeight:null},i.states.columns.value.forEach(Te=>{Te.filteredValue&&Te.filteredValue.length&&s.store.commit("filterChange",{column:Te,values:Te.filteredValue,silent:!0})}),s.$ready=!0});const Q=(_e,oe)=>{if(!_e)return;const Te=Array.from(_e.classList).filter(Le=>!Le.startsWith("is-scrolling-"));Te.push(n.scrollX.value?oe:"is-scrolling-none"),_e.className=Te.join(" ")},H=_e=>{const{tableWrapper:oe}=s.refs;Q(oe,_e)},J=_e=>{const{tableWrapper:oe}=s.refs;return!!(oe&&oe.classList.contains(_e))},te=function(){if(!s.refs.scrollBarRef)return;if(!n.scrollX.value){const St="is-scrolling-none";J(St)||H(St);return}const _e=s.refs.scrollBarRef.wrap$;if(!_e)return;const{scrollLeft:oe,offsetWidth:Te,scrollWidth:Le}=_e,{headerWrapper:xe,footerWrapper:Fe}=s.refs;xe&&(xe.scrollLeft=oe),Fe&&(Fe.scrollLeft=oe);const ft=Le-Te-1;oe>=ft?H("is-scrolling-right"):H(oe===0?"is-scrolling-left":"is-scrolling-middle")},ie=()=>{!s.refs.scrollBarRef||(s.refs.scrollBarRef.wrap$&&Kr(s.refs.scrollBarRef.wrap$,"scroll",te,{passive:!0}),e.fit?ss(s.vnode.el,ue):Kr(window,"resize",ue),ss(s.refs.bodyWrapper,()=>{var _e,oe;ue(),(oe=(_e=s.refs)==null?void 0:_e.scrollBarRef)==null||oe.update()}))},ue=()=>{var _e,oe,Te;const Le=s.vnode.el;if(!s.$ready||!Le)return;let xe=!1;const{width:Fe,height:ft,headerHeight:St}=v.value,Pt=E.value=Le.offsetWidth;Fe!==Pt&&(xe=!0);const At=Le.offsetHeight;(e.height||F.value)&&ft!==At&&(xe=!0);const Ve=e.tableLayout==="fixed"?s.refs.headerWrapper:(_e=s.refs.tableHeaderRef)==null?void 0:_e.$el;e.showHeader&&(Ve==null?void 0:Ve.offsetHeight)!==St&&(xe=!0),w.value=((oe=s.refs.tableWrapper)==null?void 0:oe.scrollHeight)||0,x.value=(Ve==null?void 0:Ve.scrollHeight)||0,M.value=((Te=s.refs.footerWrapper)==null?void 0:Te.offsetHeight)||0,C.value=w.value-x.value-M.value,xe&&(v.value={width:Pt,height:At,headerHeight:e.showHeader&&(Ve==null?void 0:Ve.offsetHeight)||0},G())},be=Ei(),me=$(()=>{const{bodyWidth:_e,scrollY:oe,gutterWidth:Te}=n;return _e.value?`${_e.value-(oe.value?Te:0)}px`:""}),de=$(()=>e.maxHeight?"fixed":e.tableLayout),ye=$(()=>{if(e.data&&e.data.length)return null;let _e="100%";e.height&&C.value&&(_e=`${C.value}px`);const oe=E.value;return{width:oe?`${oe}px`:"",height:_e}}),ve=$(()=>e.height?{height:Number.isNaN(Number(e.height))?e.height:`${e.height}px`}:e.maxHeight?{maxHeight:Number.isNaN(Number(e.maxHeight))?e.maxHeight:`${e.maxHeight}px`}:{}),Ee=$(()=>{if(e.height)return{height:"100%"};if(e.maxHeight){if(Number.isNaN(Number(e.maxHeight)))return{maxHeight:`calc(${e.maxHeight} - ${x.value+M.value}px)`};{const _e=e.maxHeight;if(w.value>=Number(_e))return{maxHeight:`${w.value-x.value-M.value}px`}}}return{}});return{isHidden:a,renderExpanded:u,setDragVisible:h,isGroup:y,handleMouseLeave:T,handleHeaderFooterMousewheel:P,tableSize:be,emptyBlockStyle:ye,handleFixedMousewheel:(_e,oe)=>{const Te=s.refs.bodyWrapper;if(Math.abs(oe.spinY)>0){const Le=Te.scrollTop;oe.pixelY<0&&Le!==0&&_e.preventDefault(),oe.pixelY>0&&Te.scrollHeight-Te.clientHeight>Le&&_e.preventDefault(),Te.scrollTop+=Math.ceil(oe.pixelY/5)}else Te.scrollLeft+=Math.ceil(oe.pixelX/5)},resizeProxyVisible:f,bodyWidth:me,resizeState:v,doLayout:G,tableBodyStyles:B,tableLayout:de,scrollbarViewStyle:b,tableInnerStyle:ve,scrollbarStyle:Ee}}var Rpe={data:{type:Array,default:()=>[]},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean};const Tpe=()=>{const e=se(),n=(u,f)=>{const h=e.value;h&&h.scrollTo(u,f)},i=(u,f)=>{const h=e.value;h&&$n(f)&&["Top","Left"].includes(u)&&h[`setScroll${u}`](f)};return{scrollBarRef:e,scrollTo:n,setScrollTop:u=>i("Top",u),setScrollLeft:u=>i("Left",u)}};let Npe=1;const Ppe=yt({name:"ElTable",directives:{Mousewheel:hte},components:{TableHeader:_pe,TableBody:Epe,TableFooter:Ipe,ElScrollbar:cl,hColgroup:l1},props:Rpe,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t:n}=Cr(),i=bt("table"),s=qn();rr(ba,s);const a=ipe(s,e);s.store=a;const u=new ope({store:s.store,table:s,fit:e.fit,showHeader:e.showHeader});s.layout=u;const f=$(()=>(a.states.data.value||[]).length===0),{setCurrentRow:h,getSelectionRows:v,toggleRowSelection:y,clearSelection:b,clearFilter:E,toggleAllSelection:w,toggleRowExpansion:C,clearSort:x,sort:M}=Mpe(a),{isHidden:T,renderExpanded:P,setDragVisible:F,isGroup:B,handleMouseLeave:G,handleHeaderFooterMousewheel:Q,tableSize:H,emptyBlockStyle:J,handleFixedMousewheel:te,resizeProxyVisible:ie,bodyWidth:ue,resizeState:be,doLayout:me,tableBodyStyles:de,tableLayout:ye,scrollbarViewStyle:ve,tableInnerStyle:Ee,scrollbarStyle:fe}=xpe(e,u,a,s),{scrollBarRef:_e,scrollTo:oe,setScrollLeft:Te,setScrollTop:Le}=Tpe(),xe=gs(me,50),Fe=`${i.namespace.value}-table_${Npe++}`;s.tableId=Fe,s.state={isGroup:B,resizeState:be,doLayout:me,debouncedUpdateLayout:xe};const ft=$(()=>e.sumText||n("el.table.sumText")),St=$(()=>e.emptyText||n("el.table.emptyText"));return{ns:i,layout:u,store:a,handleHeaderFooterMousewheel:Q,handleMouseLeave:G,tableId:Fe,tableSize:H,isHidden:T,isEmpty:f,renderExpanded:P,resizeProxyVisible:ie,resizeState:be,isGroup:B,bodyWidth:ue,tableBodyStyles:de,emptyBlockStyle:J,debouncedUpdateLayout:xe,handleFixedMousewheel:te,setCurrentRow:h,getSelectionRows:v,toggleRowSelection:y,clearSelection:b,clearFilter:E,toggleAllSelection:w,toggleRowExpansion:C,clearSort:x,doLayout:me,sort:M,t:n,setDragVisible:F,context:s,computedSumText:ft,computedEmptyText:St,tableLayout:ye,scrollbarViewStyle:ve,tableInnerStyle:Ee,scrollbarStyle:fe,scrollBarRef:_e,scrollTo:oe,setScrollLeft:Te,setScrollTop:Le}}}),Bpe=["data-prefix"],Dpe={ref:"hiddenColumns",class:"hidden-columns"};function kpe(e,n,i,s,a,u){const f=gn("hColgroup"),h=gn("table-header"),v=gn("table-body"),y=gn("el-scrollbar"),b=gn("table-footer"),E=iu("mousewheel");return X(),ge("div",{ref:"tableWrapper",class:q([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:pn(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:n[0]||(n[0]=w=>e.handleMouseLeave())},[Ce("div",{class:q(e.ns.e("inner-wrapper")),style:pn(e.tableInnerStyle)},[Ce("div",Dpe,[_t(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?Qn((X(),ge("div",{key:0,ref:"headerWrapper",class:q(e.ns.e("header-wrapper"))},[Ce("table",{ref:"tableHeader",class:q(e.ns.e("header")),style:pn(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[Me(f,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),Me(h,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[E,e.handleHeaderFooterMousewheel]]):je("v-if",!0),Ce("div",{ref:"bodyWrapper",class:q(e.ns.e("body-wrapper"))},[Me(y,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn},{default:Ue(()=>[Ce("table",{ref:"tableBody",class:q(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:pn({width:e.bodyWidth,tableLayout:e.tableLayout})},[Me(f,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(X(),nt(h,{key:0,ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):je("v-if",!0),Me(v,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe"])],6),e.isEmpty?(X(),ge("div",{key:0,ref:"emptyBlock",style:pn(e.emptyBlockStyle),class:q(e.ns.e("empty-block"))},[Ce("span",{class:q(e.ns.e("empty-text"))},[_t(e.$slots,"empty",{},()=>[pr(Ut(e.computedEmptyText),1)])],2)],6)):je("v-if",!0),e.$slots.append?(X(),ge("div",{key:1,ref:"appendWrapper",class:q(e.ns.e("append-wrapper"))},[_t(e.$slots,"append")],2)):je("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),e.showSummary?Qn((X(),ge("div",{key:1,ref:"footerWrapper",class:q(e.ns.e("footer-wrapper"))},[Me(b,{border:e.border,"default-sort":e.defaultSort,store:e.store,style:pn(e.tableBodyStyles),"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[_r,!e.isEmpty],[E,e.handleHeaderFooterMousewheel]]):je("v-if",!0),e.border||e.isGroup?(X(),ge("div",{key:2,class:q(e.ns.e("border-left-patch"))},null,2)):je("v-if",!0)],6),Qn(Ce("div",{ref:"resizeProxy",class:q(e.ns.e("column-resize-proxy"))},null,2),[[_r,e.resizeProxyVisible]])],46,Bpe)}var Lpe=Ht(Ppe,[["render",kpe],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const Ope={selection:"table-column--selection",expand:"table__expand-column"},Fpe={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},Vpe=e=>Ope[e]||"",Gpe={selection:{renderHeader({store:e}){function n(){return e.states.data.value&&e.states.data.value.length===0}return Sn(vo,{disabled:n(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value})},renderCell({row:e,column:n,store:i,$index:s}){return Sn(vo,{disabled:n.selectable?!n.selectable.call(null,e,s):!1,size:i.states.tableSize.value,onChange:()=>{i.commit("rowSelectedChanged",e)},onClick:a=>a.stopPropagation(),modelValue:i.isSelected(e)})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:n}){let i=n+1;const s=e.index;return typeof s=="number"?i=n+s:typeof s=="function"&&(i=s(n)),Sn("div",{},[i])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:n,expanded:i}){const{ns:s}=n,a=[s.e("expand-icon")];return i&&a.push(s.em("expand-icon","expanded")),Sn("div",{class:a,onClick:function(f){f.stopPropagation(),n.toggleRowExpansion(e)}},{default:()=>[Sn(fn,null,{default:()=>[Sn(ms)]})]})},sortable:!1,resizable:!1}};function Upe({row:e,column:n,$index:i}){var s;const a=n.property,u=a&&km(e,a).value;return n&&n.formatter?n.formatter(e,n,u,i):((s=u==null?void 0:u.toString)==null?void 0:s.call(u))||""}function Hpe({row:e,treeNode:n,store:i},s=!1){const{ns:a}=i;if(!n)return s?[Sn("span",{class:a.e("placeholder")})]:null;const u=[],f=function(h){h.stopPropagation(),!n.loading&&i.loadOrToggle(e)};if(n.indent&&u.push(Sn("span",{class:a.e("indent"),style:{"padding-left":`${n.indent}px`}})),typeof n.expanded=="boolean"&&!n.noLazyChildren){const h=[a.e("expand-icon"),n.expanded?a.em("expand-icon","expanded"):""];let v=ms;n.loading&&(v=rc),u.push(Sn("div",{class:h,onClick:f},{default:()=>[Sn(fn,{class:{[a.is("loading")]:n.loading}},{default:()=>[Sn(v)]})]}))}else u.push(Sn("span",{class:a.e("placeholder")}));return u}function cM(e,n){return e.reduce((i,s)=>(i[s]=s,i),n)}function Qpe(e,n){const i=qn();return{registerComplexWatchers:()=>{const u=["fixed"],f={realWidth:"width",realMinWidth:"minWidth"},h=cM(u,f);Object.keys(h).forEach(v=>{const y=f[v];ar(n,y)&&Ct(()=>n[y],b=>{let E=b;y==="width"&&v==="realWidth"&&(E=s1(b)),y==="minWidth"&&v==="realMinWidth"&&(E=DP(b)),i.columnConfig.value[y]=E,i.columnConfig.value[v]=E;const w=y==="fixed";e.value.store.scheduleLayout(w)})})},registerNormalWatchers:()=>{const u=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],f={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},h=cM(u,f);Object.keys(h).forEach(v=>{const y=f[v];ar(n,y)&&Ct(()=>n[y],b=>{i.columnConfig.value[v]=b})})}}}function Xpe(e,n,i){const s=qn(),a=se(""),u=se(!1),f=se(),h=se(),v=bt("table");Yi(()=>{f.value=e.align?`is-${e.align}`:null,f.value}),Yi(()=>{h.value=e.headerAlign?`is-${e.headerAlign}`:f.value,h.value});const y=$(()=>{let B=s.vnode.vParent||s.parent;for(;B&&!B.tableId&&!B.columnId;)B=B.vnode.vParent||B.parent;return B}),b=$(()=>{const{store:B}=s.parent;if(!B)return!1;const{treeData:G}=B.states,Q=G.value;return Q&&Object.keys(Q).length>0}),E=se(s1(e.width)),w=se(DP(e.minWidth)),C=B=>(E.value&&(B.width=E.value),w.value&&(B.minWidth=w.value),!E.value&&w.value&&(B.width=void 0),B.minWidth||(B.minWidth=80),B.realWidth=Number(B.width===void 0?B.minWidth:B.width),B),x=B=>{const G=B.type,Q=Gpe[G]||{};Object.keys(Q).forEach(J=>{const te=Q[J];J!=="className"&&te!==void 0&&(B[J]=te)});const H=Vpe(G);if(H){const J=`${g(v.namespace)}-${H}`;B.className=B.className?`${B.className} ${J}`:J}return B},M=B=>{Array.isArray(B)?B.forEach(Q=>G(Q)):G(B);function G(Q){var H;((H=Q==null?void 0:Q.type)==null?void 0:H.name)==="ElTableColumn"&&(Q.vParent=s)}};return{columnId:a,realAlign:f,isSubColumn:u,realHeaderAlign:h,columnOrTableParent:y,setColumnWidth:C,setColumnForcedProps:x,setColumnRenders:B=>{e.renderHeader||B.type!=="selection"&&(B.renderHeader=Q=>{s.columnConfig.value.label;const H=n.header;return H?H(Q):B.label});let G=B.renderCell;return B.type==="expand"?(B.renderCell=Q=>Sn("div",{class:"cell"},[G(Q)]),i.value.renderExpanded=Q=>n.default?n.default(Q):n.default):(G=G||Upe,B.renderCell=Q=>{let H=null;if(n.default){const ue=n.default(Q);H=ue.some(be=>be.type!==ps)?ue:G(Q)}else H=G(Q);const J=b.value&&Q.cellIndex===0&&Q.column.type!=="selection",te=Hpe(Q,J),ie={class:"cell",style:{}};return B.showOverflowTooltip&&(ie.class=`${ie.class} ${g(v.namespace)}-tooltip`,ie.style={width:`${(Q.column.realWidth||Number(Q.column.width))-1}px`}),M(H),Sn("div",ie,[te,H])}),B},getPropsData:(...B)=>B.reduce((G,Q)=>(Array.isArray(Q)&&Q.forEach(H=>{G[H]=e[H]}),G),{}),getColumnElIndex:(B,G)=>Array.prototype.indexOf.call(B,G)}}var zpe={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(n=>["ascending","descending",null].includes(n))}};let $pe=1;var UP=yt({name:"ElTableColumn",components:{ElCheckbox:vo},props:zpe,setup(e,{slots:n}){const i=qn(),s=se({}),a=$(()=>{let F=i.parent;for(;F&&!F.tableId;)F=F.parent;return F}),{registerNormalWatchers:u,registerComplexWatchers:f}=Qpe(a,e),{columnId:h,isSubColumn:v,realHeaderAlign:y,columnOrTableParent:b,setColumnWidth:E,setColumnForcedProps:w,setColumnRenders:C,getPropsData:x,getColumnElIndex:M,realAlign:T}=Xpe(e,n,a),P=b.value;h.value=`${P.tableId||P.columnId}_column_${$pe++}`,Qg(()=>{v.value=a.value!==P;const F=e.type||"default",B=e.sortable===""?!0:e.sortable,G={...Fpe[F],id:h.value,type:F,property:e.prop||e.property,align:T,headerAlign:y,showOverflowTooltip:e.showOverflowTooltip||e.showTooltipWhenOverflow,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:B,index:e.index,rawColumnKey:i.vnode.key};let ie=x(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);ie=Whe(G,ie),ie=jhe(C,E,w)(ie),s.value=ie,u(),f()}),jn(()=>{var F;const B=b.value,G=v.value?B.vnode.el.children:(F=B.refs.hiddenColumns)==null?void 0:F.children,Q=()=>M(G||[],i.vnode.el);s.value.getColumnIndex=Q,Q()>-1&&a.value.store.commit("insertColumn",s.value,v.value?B.columnConfig.value:null)}),vi(()=>{a.value.store.commit("removeColumn",s.value,v.value?P.columnConfig.value:null)}),i.columnId=h.value,i.columnConfig=s},render(){var e,n,i;try{const s=(n=(e=this.$slots).default)==null?void 0:n.call(e,{row:{},column:{},$index:-1}),a=[];if(Array.isArray(s))for(const f of s)((i=f.type)==null?void 0:i.name)==="ElTableColumn"||f.shapeFlag&2?a.push(f):f.type===vn&&Array.isArray(f.children)&&f.children.forEach(h=>{(h==null?void 0:h.patchFlag)!==1024&&!Gn(h==null?void 0:h.children)&&a.push(h)});return Sn("div",a)}catch{return Sn("div",[])}}});const Wpe=Yn(Lpe,{TableColumn:UP}),Kpe=di(UP);var Hh=(e=>(e.ASC="asc",e.DESC="desc",e))(Hh||{}),Qh=(e=>(e.CENTER="center",e.RIGHT="right",e))(Qh||{}),HP=(e=>(e.LEFT="left",e.RIGHT="right",e))(HP||{});const vy={asc:"desc",desc:"asc"},Xh=Symbol("placeholder"),jpe=(e,n,i)=>{var s;const a={flexGrow:0,flexShrink:0,...i?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};i||(a.flexShrink=1);const u={...(s=e.style)!=null?s:{},...a,flexBasis:"auto",width:e.width};return n||(e.maxWidth&&(u.maxWidth=e.maxWidth),e.minWidth&&(u.minWidth=e.minWidth)),u};function qpe(e,n,i){const s=$(()=>g(n).filter(M=>!M.hidden)),a=$(()=>g(s).filter(M=>M.fixed==="left"||M.fixed===!0)),u=$(()=>g(s).filter(M=>M.fixed==="right")),f=$(()=>g(s).filter(M=>!M.fixed)),h=$(()=>{const M=[];return g(a).forEach(T=>{M.push({...T,placeholderSign:Xh})}),g(f).forEach(T=>{M.push(T)}),g(u).forEach(T=>{M.push({...T,placeholderSign:Xh})}),M}),v=$(()=>g(a).length||g(u).length),y=$(()=>g(n).reduce((T,P)=>(T[P.key]=jpe(P,g(i),e.fixed),T),{})),b=$(()=>g(s).reduce((M,T)=>M+T.width,0)),E=M=>g(n).find(T=>T.key===M),w=M=>g(y)[M],C=(M,T)=>{M.width=T};function x(M){var T;const{key:P}=M.currentTarget.dataset;if(!P)return;const{sortState:F,sortBy:B}=e;let G=Hh.ASC;ur(F)?G=vy[F[P]]:G=vy[B.order],(T=e.onColumnSort)==null||T.call(e,{column:E(P),key:P,order:G})}return{columns:n,columnsStyles:y,columnsTotalWidth:b,fixedColumnsOnLeft:a,fixedColumnsOnRight:u,hasFixedColumns:v,mainColumns:h,normalColumns:f,visibleColumns:s,getColumn:E,getColumnStyle:w,updateColumnWidth:C,onColumnSorted:x}}const Ype=(e,{mainTableRef:n,leftTableRef:i,rightTableRef:s,onMaybeEndReached:a})=>{const u=se({scrollLeft:0,scrollTop:0});function f(C){var x,M,T;const{scrollTop:P}=C;(x=n.value)==null||x.scrollTo(C),(M=i.value)==null||M.scrollToTop(P),(T=s.value)==null||T.scrollToTop(P)}function h(C){u.value=C,f(C)}function v(C){u.value.scrollTop=C,f(g(u))}function y(C){var x,M;u.value.scrollLeft=C,(M=(x=n.value)==null?void 0:x.scrollTo)==null||M.call(x,g(u))}function b(C){var x;h(C),(x=e.onScroll)==null||x.call(e,C)}function E({scrollTop:C}){const{scrollTop:x}=g(u);C!==x&&v(C)}function w(C,x="auto"){var M;(M=n.value)==null||M.scrollToRow(C,x)}return Ct(()=>g(u).scrollTop,(C,x)=>{C>x&&a()}),{scrollPos:u,scrollTo:h,scrollToLeft:y,scrollToTop:v,scrollToRow:w,onScroll:b,onVerticalScroll:E}},Jpe=(e,{mainTableRef:n,leftTableRef:i,rightTableRef:s,onMaybeEndReached:a})=>{const u=qn(),{emit:f}=u,h=Wr(!1),v=Wr(null),y=se(e.defaultExpandedRowKeys||[]),b=se(-1),E=Wr(null),w=se({}),C=se({}),x=Wr({}),M=Wr({}),T=Wr({}),P=$(()=>$n(e.estimatedRowHeight));function F(ie){var ue;(ue=e.onRowsRendered)==null||ue.call(e,ie),ie.rowCacheEnd>g(b)&&(b.value=ie.rowCacheEnd)}function B({hovered:ie,rowKey:ue}){v.value=ie?ue:null}function G({expanded:ie,rowData:ue,rowIndex:be,rowKey:me}){var de,ye;const ve=[...g(y)],Ee=ve.indexOf(me);ie?Ee===-1&&ve.push(me):Ee>-1&&ve.splice(Ee,1),y.value=ve,f("update:expandedRowKeys",ve),(de=e.onRowExpand)==null||de.call(e,{expanded:ie,rowData:ue,rowIndex:be,rowKey:me}),(ye=e.onExpandedRowsChange)==null||ye.call(e,ve)}const Q=gs(()=>{var ie,ue,be,me;h.value=!0,w.value={...g(w),...g(C)},H(g(E),!1),C.value={},E.value=null,(ie=n.value)==null||ie.forceUpdate(),(ue=i.value)==null||ue.forceUpdate(),(be=s.value)==null||be.forceUpdate(),(me=u.proxy)==null||me.$forceUpdate(),h.value=!1},0);function H(ie,ue=!1){!g(P)||[n,i,s].forEach(be=>{const me=g(be);me&&me.resetAfterRowIndex(ie,ue)})}function J(ie,ue,be){const me=g(E);(me===null||me>be)&&(E.value=be),C.value[ie]=ue}function te({rowKey:ie,height:ue,rowIndex:be},me){me?me===HP.RIGHT?T.value[ie]=ue:x.value[ie]=ue:M.value[ie]=ue;const de=Math.max(...[x,T,M].map(ye=>ye.value[ie]||0));g(w)[ie]!==de&&(J(ie,de,be),Q())}return Ct(b,()=>a()),{hoveringRowKey:v,expandedRowKeys:y,lastRenderedRowIndex:b,isDynamic:P,isResetting:h,rowHeights:w,resetAfterIndex:H,onRowExpanded:G,onRowHovered:B,onRowsRendered:F,onRowHeightChange:te}},Zpe=(e,{expandedRowKeys:n,lastRenderedRowIndex:i,resetAfterIndex:s})=>{const a=se({}),u=$(()=>{const h={},{data:v,rowKey:y}=e,b=g(n);if(!b||!b.length)return v;const E=[],w=new Set;b.forEach(x=>w.add(x));let C=v.slice();for(C.forEach(x=>h[x[y]]=0);C.length>0;){const x=C.shift();E.push(x),w.has(x[y])&&Array.isArray(x.children)&&x.children.length>0&&(C=[...x.children,...C],x.children.forEach(M=>h[M[y]]=h[x[y]]+1))}return a.value=h,E}),f=$(()=>{const{data:h,expandColumnKey:v}=e;return v?g(u):h});return Ct(f,(h,v)=>{h!==v&&(i.value=-1,s(0,!0))}),{data:f,depthMap:a}},eme=(e,n)=>e+n,Jm=e=>hn(e)?e.reduce(eme,0):e,uu=(e,n,i={})=>Vn(e)?e(n):e!=null?e:i,Hl=e=>(["width","maxWidth","minWidth","height"].forEach(n=>{e[n]=Mi(e[n])}),e),QP=e=>gi(e)?n=>Sn(e,n):e,tme=(e,{columnsTotalWidth:n,data:i,fixedColumnsOnLeft:s,fixedColumnsOnRight:a})=>{const u=$(()=>{const{fixed:B,width:G,vScrollbarSize:Q}=e,H=G-Q;return B?Math.max(Math.round(g(n)),H):H}),f=$(()=>g(u)+(e.fixed?e.vScrollbarSize:0)),h=$(()=>{const{height:B=0,maxHeight:G=0,footerHeight:Q,hScrollbarSize:H}=e;if(G>0){const J=g(x),te=g(v),ue=g(C)+J+te+H;return Math.min(ue,G-Q)}return B-Q}),v=$(()=>{const{rowHeight:B,estimatedRowHeight:G}=e,Q=g(i);return $n(G)?Q.length*G:Q.length*B}),y=$(()=>{const{maxHeight:B}=e,G=g(h);if($n(B)&&B>0)return G;const Q=g(v)+g(C)+g(x);return Math.min(G,Q)}),b=B=>B.width,E=$(()=>Jm(g(s).map(b))),w=$(()=>Jm(g(a).map(b))),C=$(()=>Jm(e.headerHeight)),x=$(()=>{var B;return(((B=e.fixedData)==null?void 0:B.length)||0)*e.rowHeight}),M=$(()=>g(h)-g(C)-g(x)),T=$(()=>{const{style:B={},height:G,width:Q}=e;return Hl({...B,height:G,width:Q})}),P=$(()=>Hl({height:e.footerHeight})),F=$(()=>({top:Mi(g(C)),bottom:Mi(e.footerHeight),width:Mi(e.width)}));return{bodyWidth:u,fixedTableHeight:y,mainTableHeight:h,leftTableWidth:E,rightTableWidth:w,headerWidth:f,rowsHeight:v,windowHeight:M,footerHeight:P,emptyStyle:F,rootStyle:T}},nme=e=>{const n=se(),i=se(0),s=se(0);let a;return jn(()=>{a=ss(n,([u])=>{const{width:f,height:h}=u.contentRect,{paddingLeft:v,paddingRight:y,paddingTop:b,paddingBottom:E}=getComputedStyle(u.target),w=Number.parseInt(v)||0,C=Number.parseInt(y)||0,x=Number.parseInt(b)||0,M=Number.parseInt(E)||0;i.value=f-w-C,s.value=h-x-M}).stop}),vi(()=>{a==null||a()}),Ct([i,s],([u,f])=>{var h;(h=e.onResize)==null||h.call(e,{width:u,height:f})}),{sizer:n,width:i,height:s}};function rme(e){const n=se(),i=se(),s=se(),{columns:a,columnsStyles:u,columnsTotalWidth:f,fixedColumnsOnLeft:h,fixedColumnsOnRight:v,hasFixedColumns:y,mainColumns:b,onColumnSorted:E}=qpe(e,ui(e,"columns"),ui(e,"fixed")),{scrollTo:w,scrollToLeft:C,scrollToTop:x,scrollToRow:M,onScroll:T,onVerticalScroll:P,scrollPos:F}=Ype(e,{mainTableRef:n,leftTableRef:i,rightTableRef:s,onMaybeEndReached:nn}),{expandedRowKeys:B,hoveringRowKey:G,lastRenderedRowIndex:Q,isDynamic:H,isResetting:J,rowHeights:te,resetAfterIndex:ie,onRowExpanded:ue,onRowHeightChange:be,onRowHovered:me,onRowsRendered:de}=Jpe(e,{mainTableRef:n,leftTableRef:i,rightTableRef:s,onMaybeEndReached:nn}),{data:ye,depthMap:ve}=Zpe(e,{expandedRowKeys:B,lastRenderedRowIndex:Q,resetAfterIndex:ie}),{bodyWidth:Ee,fixedTableHeight:fe,mainTableHeight:_e,leftTableWidth:oe,rightTableWidth:Te,headerWidth:Le,rowsHeight:xe,windowHeight:Fe,footerHeight:ft,emptyStyle:St,rootStyle:Pt}=tme(e,{columnsTotalWidth:f,data:ye,fixedColumnsOnLeft:h,fixedColumnsOnRight:v}),At=Wr(!1),Ve=se(),at=$(()=>{const _n=g(ye).length===0;return hn(e.fixedData)?e.fixedData.length===0&&_n:_n});function pt(_n){const{estimatedRowHeight:Be,rowHeight:ze,rowKey:vt}=e;return Be?g(te)[g(ye)[_n][vt]]||Be:ze}function nn(){const{onEndReached:_n}=e;if(!_n)return;const{scrollTop:Be}=g(F),ze=g(xe),vt=g(Fe),Lt=ze-(Be+vt)+e.hScrollbarSize;g(Q)>=0&&ze!==g(xe)&&_n(Lt)}return Ct(()=>e.expandedRowKeys,_n=>B.value=_n,{deep:!0}),{columns:a,containerRef:Ve,mainTableRef:n,leftTableRef:i,rightTableRef:s,isDynamic:H,isResetting:J,isScrolling:At,hoveringRowKey:G,hasFixedColumns:y,columnsStyles:u,columnsTotalWidth:f,data:ye,expandedRowKeys:B,depthMap:ve,fixedColumnsOnLeft:h,fixedColumnsOnRight:v,mainColumns:b,bodyWidth:Ee,emptyStyle:St,rootStyle:Pt,headerWidth:Le,footerHeight:ft,mainTableHeight:_e,fixedTableHeight:fe,leftTableWidth:oe,rightTableWidth:Te,showEmpty:at,getRowHeight:pt,onColumnSorted:E,onRowHovered:me,onRowExpanded:ue,onRowsRendered:de,onRowHeightChange:be,scrollTo:w,scrollToLeft:C,scrollToTop:x,scrollToRow:M,onScroll:T,onVerticalScroll:P}}const c1=Symbol("tableV2"),XP=String,rp={type:ot(Array),required:!0},u1={type:ot(Array)},zP={...u1,required:!0},ime=String,uM={type:ot(Array),default:()=>qr([])},Hc={type:Number,required:!0},$P={type:ot([String,Number,Symbol]),default:"id"},dM={type:ot(Object)},jc=Wt({class:String,columns:rp,columnsStyles:{type:ot(Object),required:!0},depth:Number,expandColumnKey:ime,estimatedRowHeight:{...tu.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:ot(Function)},onRowHover:{type:ot(Function)},onRowHeightChange:{type:ot(Function)},rowData:{type:ot(Object),required:!0},rowEventHandlers:{type:ot(Object)},rowIndex:{type:Number,required:!0},rowKey:$P,style:{type:ot(Object)}}),r0={type:Number,required:!0},d1=Wt({class:String,columns:rp,fixedHeaderData:{type:ot(Array)},headerData:{type:ot(Array),required:!0},headerHeight:{type:ot([Number,Array]),default:50},rowWidth:r0,rowHeight:{type:Number,default:50},height:r0,width:r0}),Zm=Wt({columns:rp,data:zP,fixedData:u1,estimatedRowHeight:jc.estimatedRowHeight,width:Hc,height:Hc,headerWidth:Hc,headerHeight:d1.headerHeight,bodyWidth:Hc,rowHeight:Hc,cache:_P.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:tu.scrollbarAlwaysOn,scrollbarStartGap:tu.scrollbarStartGap,scrollbarEndGap:tu.scrollbarEndGap,class:XP,style:dM,containerStyle:dM,getRowHeight:{type:ot(Function),required:!0},rowKey:jc.rowKey,onRowsRendered:{type:ot(Function)},onScroll:{type:ot(Function)}}),sme=Wt({cache:Zm.cache,estimatedRowHeight:jc.estimatedRowHeight,rowKey:$P,headerClass:{type:ot([String,Function])},headerProps:{type:ot([Object,Function])},headerCellProps:{type:ot([Object,Function])},headerHeight:d1.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:ot([String,Function])},rowProps:{type:ot([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:ot([Object,Function])},columns:rp,data:zP,dataGetter:{type:ot(Function)},fixedData:u1,expandColumnKey:jc.expandColumnKey,expandedRowKeys:uM,defaultExpandedRowKeys:uM,class:XP,fixed:Boolean,style:{type:ot(Object)},width:Hc,height:Hc,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:tu.hScrollbarSize,vScrollbarSize:tu.vScrollbarSize,scrollbarAlwaysOn:bP.alwaysOn,sortBy:{type:ot(Object),default:()=>({})},sortState:{type:ot(Object),default:void 0},onColumnSort:{type:ot(Function)},onExpandedRowsChange:{type:ot(Function)},onEndReached:{type:ot(Function)},onRowExpand:jc.onRowExpand,onScroll:Zm.onScroll,onRowsRendered:Zm.onRowsRendered,rowEventHandlers:jc.rowEventHandlers}),f1=(e,{slots:n})=>{var i;const{cellData:s,style:a}=e,u=((i=s==null?void 0:s.toString)==null?void 0:i.call(s))||"";return Me("div",{class:e.class,title:u,style:a},[n.default?n.default(e):u])};f1.displayName="ElTableV2Cell";f1.inheritAttrs=!1;const h1=(e,{slots:n})=>{var i,s;return n.default?n.default(e):Me("div",{class:e.class,title:(i=e.column)==null?void 0:i.title},[(s=e.column)==null?void 0:s.title])};h1.displayName="ElTableV2HeaderCell";h1.inheritAttrs=!1;const ome=Wt({class:String,columns:rp,columnsStyles:{type:ot(Object),required:!0},headerIndex:Number,style:{type:ot(Object)}}),ame=yt({name:"ElTableV2HeaderRow",props:ome,setup(e,{slots:n}){return()=>{const{columns:i,columnsStyles:s,headerIndex:a,style:u}=e;let f=i.map((h,v)=>n.cell({columns:i,column:h,columnIndex:v,headerIndex:a,style:s[h.key]}));return n.header&&(f=n.header({cells:f.map(h=>hn(h)&&h.length===1?h[0]:h),columns:i,headerIndex:a})),Me("div",{class:e.class,style:u},[f])}}}),lme="ElTableV2Header",cme=yt({name:lme,props:d1,setup(e,{slots:n,expose:i}){const s=bt("table-v2"),a=se(),u=$(()=>Hl({width:e.width,height:e.height})),f=$(()=>Hl({width:e.rowWidth,height:e.height})),h=$(()=>Bd(g(e.headerHeight))),v=E=>{const w=g(a);dn(()=>{w!=null&&w.scroll&&w.scroll({left:E})})},y=()=>{const E=s.e("fixed-header-row"),{columns:w,fixedHeaderData:C,rowHeight:x}=e;return C==null?void 0:C.map((M,T)=>{var P;const F=Hl({height:x,width:"100%"});return(P=n.fixed)==null?void 0:P.call(n,{class:E,columns:w,rowData:M,rowIndex:-(T+1),style:F})})},b=()=>{const E=s.e("dynamic-header-row"),{columns:w}=e;return g(h).map((C,x)=>{var M;const T=Hl({width:"100%",height:C});return(M=n.dynamic)==null?void 0:M.call(n,{class:E,columns:w,headerIndex:x,style:T})})};return i({scrollToLeft:v}),()=>{if(!(e.height<=0))return Me("div",{ref:a,class:e.class,style:g(u)},[Me("div",{style:g(f),class:s.e("header")},[b(),y()])])}}}),ume=e=>{const{isScrolling:n}=An(c1),i=se(!1),s=se(),a=$(()=>$n(e.estimatedRowHeight)&&e.rowIndex>=0),u=(v=!1)=>{const y=g(s);if(!y)return;const{columns:b,onRowHeightChange:E,rowKey:w,rowIndex:C,style:x}=e,{height:M}=y.getBoundingClientRect();i.value=!0,dn(()=>{if(v||M!==Number.parseInt(x.height)){const T=b[0],P=(T==null?void 0:T.placeholderSign)===Xh;E==null||E({rowKey:w,height:M,rowIndex:C},T&&!P&&T.fixed)}})},f=$(()=>{const{rowData:v,rowIndex:y,rowKey:b,onRowHover:E}=e,w=e.rowEventHandlers||{},C={};return Object.entries(w).forEach(([x,M])=>{Vn(M)&&(C[x]=T=>{M({event:T,rowData:v,rowIndex:y,rowKey:b})})}),E&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:x,hovered:M})=>{const T=C[x];C[x]=P=>{E({event:P,hovered:M,rowData:v,rowIndex:y,rowKey:b}),T==null||T(P)}}),C}),h=v=>{const{onRowExpand:y,rowData:b,rowIndex:E,rowKey:w}=e;y==null||y({expanded:v,rowData:b,rowIndex:E,rowKey:w})};return jn(()=>{g(a)&&u(!0)}),{isScrolling:n,measurable:a,measured:i,rowRef:s,eventHandlers:f,onExpand:h}},dme="ElTableV2TableRow",fme=yt({name:dme,props:jc,setup(e,{expose:n,slots:i,attrs:s}){const{eventHandlers:a,isScrolling:u,measurable:f,measured:h,rowRef:v,onExpand:y}=ume(e);return n({onExpand:y}),()=>{const{columns:b,columnsStyles:E,expandColumnKey:w,depth:C,rowData:x,rowIndex:M,style:T}=e;let P=b.map((F,B)=>{const G=hn(x.children)&&x.children.length>0&&F.key===w;return i.cell({column:F,columns:b,columnIndex:B,depth:C,style:E[F.key],rowData:x,rowIndex:M,isScrolling:g(u),expandIconProps:G?{rowData:x,rowIndex:M,onExpand:y}:void 0})});if(i.row&&(P=i.row({cells:P.map(F=>hn(F)&&F.length===1?F[0]:F),style:T,columns:b,depth:C,rowData:x,rowIndex:M,isScrolling:g(u)})),g(f)){const{height:F,...B}=T||{},G=g(h);return Me("div",nr({ref:v,class:e.class,style:G?T:B},s,g(a)),[P])}return Me("div",nr(s,{ref:v,class:e.class,style:T},g(a)),[P])}}}),hme=e=>{const{sortOrder:n}=e;return Me(fn,{size:14,class:e.class},{default:()=>[n===Hh.ASC?Me(QX,null,null):Me(OX,null,null)]})},pme=e=>{const{expanded:n,expandable:i,onExpand:s,style:a,size:u}=e,f={onClick:i?()=>s(!n):void 0,class:e.class};return Me(fn,nr(f,{size:u,style:a}),{default:()=>[Me(ms,null,null)]})},mme="ElTableV2Grid",gme=e=>{const n=se(),i=se(),s=$(()=>{const{data:M,rowHeight:T,estimatedRowHeight:P}=e;if(!P)return M.length*T}),a=$(()=>{const{fixedData:M,rowHeight:T}=e;return((M==null?void 0:M.length)||0)*T}),u=$(()=>Jm(e.headerHeight)),f=$(()=>{const{height:M}=e;return Math.max(0,M-g(u)-g(a))}),h=$(()=>g(u)+g(a)>0),v=({data:M,rowIndex:T})=>M[T][e.rowKey];function y({rowCacheStart:M,rowCacheEnd:T,rowVisibleStart:P,rowVisibleEnd:F}){var B;(B=e.onRowsRendered)==null||B.call(e,{rowCacheStart:M,rowCacheEnd:T,rowVisibleStart:P,rowVisibleEnd:F})}function b(M,T){var P;(P=i.value)==null||P.resetAfterRowIndex(M,T)}function E(M,T){const P=g(n),F=g(i);!P||!F||(ur(M)?(P.scrollToLeft(M.scrollLeft),F.scrollTo(M)):(P.scrollToLeft(M),F.scrollTo({scrollLeft:M,scrollTop:T})))}function w(M){var T;(T=g(i))==null||T.scrollTo({scrollTop:M})}function C(M,T){var P;(P=g(i))==null||P.scrollToItem(M,1,T)}function x(){var M,T;(M=g(i))==null||M.$forceUpdate(),(T=g(n))==null||T.$forceUpdate()}return{bodyRef:i,forceUpdate:x,fixedRowHeight:a,gridHeight:f,hasHeader:h,headerHeight:u,headerRef:n,totalHeight:s,itemKey:v,onItemRendered:y,resetAfterRowIndex:b,scrollTo:E,scrollToTop:w,scrollToRow:C}},p1=yt({name:mme,props:Zm,setup(e,{slots:n,expose:i}){const{ns:s}=An(c1),{bodyRef:a,fixedRowHeight:u,gridHeight:f,hasHeader:h,headerRef:v,headerHeight:y,totalHeight:b,forceUpdate:E,itemKey:w,onItemRendered:C,resetAfterRowIndex:x,scrollTo:M,scrollToTop:T,scrollToRow:P}=gme(e);i({forceUpdate:E,totalHeight:b,scrollTo:M,scrollToTop:T,scrollToRow:P,resetAfterRowIndex:x});const F=()=>e.bodyWidth;return()=>{const{cache:B,columns:G,data:Q,fixedData:H,useIsScrolling:J,scrollbarAlwaysOn:te,scrollbarEndGap:ie,scrollbarStartGap:ue,style:be,rowHeight:me,bodyWidth:de,estimatedRowHeight:ye,headerWidth:ve,height:Ee,width:fe,getRowHeight:_e,onScroll:oe}=e,Te=$n(ye),Le=Te?ife:efe,xe=g(y);return Me("div",{role:"table",class:[s.e("table"),e.class],style:be},[Me(Le,{ref:a,data:Q,useIsScrolling:J,itemKey:w,columnCache:0,columnWidth:Te?F:de,totalColumn:1,totalRow:Q.length,rowCache:B,rowHeight:Te?_e:me,width:fe,height:g(f),class:s.e("body"),scrollbarStartGap:ue,scrollbarEndGap:ie,scrollbarAlwaysOn:te,onScroll:oe,onItemRendered:C,perfMode:!1},{default:Fe=>{var ft;const St=Q[Fe.rowIndex];return(ft=n.row)==null?void 0:ft.call(n,{...Fe,columns:G,rowData:St})}}),g(h)&&Me(cme,{ref:v,class:s.e("header-wrapper"),columns:G,headerData:Q,headerHeight:e.headerHeight,fixedHeaderData:H,rowWidth:ve,rowHeight:me,width:fe,height:Math.min(xe+g(u),Ee)},{dynamic:n.header,fixed:n.row})])}}});function vme(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!gi(e)}const _me=(e,{slots:n})=>{const{mainTableRef:i,...s}=e;return Me(p1,nr({ref:i},s),vme(n)?n:{default:()=>[n]})};function Ame(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!gi(e)}const yme=(e,{slots:n})=>{if(!e.columns.length)return;const{leftTableRef:i,...s}=e;return Me(p1,nr({ref:i},s),Ame(n)?n:{default:()=>[n]})};function bme(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!gi(e)}const Sme=(e,{slots:n})=>{if(!e.columns.length)return;const{rightTableRef:i,...s}=e;return Me(p1,nr({ref:i},s),bme(n)?n:{default:()=>[n]})};function Eme(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!gi(e)}const wme=(e,{slots:n})=>{const{columns:i,columnsStyles:s,depthMap:a,expandColumnKey:u,expandedRowKeys:f,estimatedRowHeight:h,hasFixedColumns:v,hoveringRowKey:y,rowData:b,rowIndex:E,style:w,isScrolling:C,rowProps:x,rowClass:M,rowKey:T,rowEventHandlers:P,ns:F,onRowHovered:B,onRowExpanded:G}=e,Q=uu(M,{columns:i,rowData:b,rowIndex:E},""),H=uu(x,{columns:i,rowData:b,rowIndex:E}),J=b[T],te=a[J]||0,ie=Boolean(u),ue=E<0,be=[F.e("row"),Q,{[F.e(`row-depth-${te}`)]:ie&&E>=0,[F.is("expanded")]:ie&&f.includes(J),[F.is("hovered")]:!C&&J===y,[F.is("fixed")]:!te&&ue,[F.is("customized")]:Boolean(n.row)}],me=v?B:void 0,de={...H,columns:i,columnsStyles:s,class:be,depth:te,expandColumnKey:u,estimatedRowHeight:ue?void 0:h,isScrolling:C,rowIndex:E,rowData:b,rowKey:J,rowEventHandlers:P,style:w};return Me(fme,nr(de,{onRowHover:me,onRowExpand:G}),Eme(n)?n:{default:()=>[n]})},_y=({columns:e,column:n,columnIndex:i,depth:s,expandIconProps:a,isScrolling:u,rowData:f,rowIndex:h,style:v,expandedRowKeys:y,ns:b,cellProps:E,expandColumnKey:w,indentSize:C,iconSize:x,rowKey:M},{slots:T})=>{const P=Hl(v);if(n.placeholderSign===Xh)return Me("div",{class:b.em("row-cell","placeholder"),style:P},null);const{cellRenderer:F,dataKey:B,dataGetter:G}=n,H=QP(F)||T.default||(Ee=>Me(f1,Ee,null)),J=Vn(G)?G({columns:e,column:n,columnIndex:i,rowData:f,rowIndex:h}):ri(f,B!=null?B:""),te=uu(E,{cellData:J,columns:e,column:n,columnIndex:i,rowIndex:h,rowData:f}),ie={class:b.e("cell-text"),columns:e,column:n,columnIndex:i,cellData:J,isScrolling:u,rowData:f,rowIndex:h},ue=H(ie),be=[b.e("row-cell"),n.align===Qh.CENTER&&b.is("align-center"),n.align===Qh.RIGHT&&b.is("align-right")],me=h>=0&&n.key===w,de=h>=0&&y.includes(f[M]);let ye;const ve=`margin-inline-start: ${s*C}px;`;return me&&(ur(a)?ye=Me(pme,nr(a,{class:[b.e("expand-icon"),b.is("expanded",de)],size:x,expanded:de,style:ve,expandable:!0}),null):ye=Me("div",{style:[ve,`width: ${x}px; height: ${x}px;`].join(" ")},null)),Me("div",nr({class:be,style:P},te),[ye,ue])};_y.inheritAttrs=!1;function Cme(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!gi(e)}const Ime=({columns:e,columnsStyles:n,headerIndex:i,style:s,headerClass:a,headerProps:u,ns:f},{slots:h})=>{const v={columns:e,headerIndex:i},y=[f.e("header-row"),uu(a,v,""),{[f.is("customized")]:Boolean(h.header)}],b={...uu(u,v),columnsStyles:n,class:y,columns:e,headerIndex:i,style:s};return Me(ame,b,Cme(h)?h:{default:()=>[h]})},fM=(e,{slots:n})=>{const{column:i,ns:s,style:a,onColumnSorted:u}=e,f=Hl(a);if(i.placeholderSign===Xh)return Me("div",{class:s.em("header-row-cell","placeholder"),style:f},null);const{headerCellRenderer:h,headerClass:v,sortable:y}=i,b={...e,class:s.e("header-cell-text")},w=(QP(h)||n.default||(G=>Me(h1,G,null)))(b),{sortBy:C,sortState:x,headerCellProps:M}=e;let T,P;if(x){const G=x[i.key];T=Boolean(vy[G]),P=T?G:Hh.ASC}else T=i.key===C.key,P=T?C.order:Hh.ASC;const F=[s.e("header-cell"),uu(v,e,""),i.align===Qh.CENTER&&s.is("align-center"),i.align===Qh.RIGHT&&s.is("align-right"),y&&s.is("sortable")],B={...uu(M,e),onClick:i.sortable?u:void 0,class:F,style:f,["data-key"]:i.key};return Me("div",B,[w,y&&Me(hme,{class:[s.e("sort-icon"),T&&s.is("sorting")],sortOrder:P},null)])},WP=(e,{slots:n})=>{var i;return Me("div",{class:e.class,style:e.style},[(i=n.default)==null?void 0:i.call(n)])};WP.displayName="ElTableV2Footer";const KP=(e,{slots:n})=>Me("div",{class:e.class,style:e.style},[n.default?n.default():Me(nP,null,null)]);KP.displayName="ElTableV2Empty";const jP=(e,{slots:n})=>{var i;return Me("div",{class:e.class,style:e.style},[(i=n.default)==null?void 0:i.call(n)])};jP.displayName="ElTableV2Overlay";function jf(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!gi(e)}const Mme="ElTableV2",xme=yt({name:Mme,props:sme,setup(e,{slots:n,expose:i}){const s=bt("table-v2"),{columnsStyles:a,fixedColumnsOnLeft:u,fixedColumnsOnRight:f,mainColumns:h,mainTableHeight:v,fixedTableHeight:y,leftTableWidth:b,rightTableWidth:E,data:w,depthMap:C,expandedRowKeys:x,hasFixedColumns:M,hoveringRowKey:T,mainTableRef:P,leftTableRef:F,rightTableRef:B,isDynamic:G,isResetting:Q,isScrolling:H,bodyWidth:J,emptyStyle:te,rootStyle:ie,headerWidth:ue,footerHeight:be,showEmpty:me,scrollTo:de,scrollToLeft:ye,scrollToTop:ve,scrollToRow:Ee,getRowHeight:fe,onColumnSorted:_e,onRowHeightChange:oe,onRowHovered:Te,onRowExpanded:Le,onRowsRendered:xe,onScroll:Fe,onVerticalScroll:ft}=rme(e);return i({scrollTo:de,scrollToLeft:ye,scrollToTop:ve,scrollToRow:Ee}),rr(c1,{ns:s,isResetting:Q,hoveringRowKey:T,isScrolling:H}),()=>{const{cache:St,cellProps:Pt,estimatedRowHeight:At,expandColumnKey:Ve,fixedData:at,headerHeight:pt,headerClass:nn,headerProps:_n,headerCellProps:Be,sortBy:ze,sortState:vt,rowHeight:Lt,rowClass:et,rowEventHandlers:xt,rowKey:qe,rowProps:rt,scrollbarAlwaysOn:mt,indentSize:Et,iconSize:rn,useIsScrolling:it,vScrollbarSize:Xt,width:In}=e,Mn=g(w),Ke={cache:St,class:s.e("main"),columns:g(h),data:Mn,fixedData:at,estimatedRowHeight:At,bodyWidth:g(J),headerHeight:pt,headerWidth:g(ue),height:g(v),mainTableRef:P,rowKey:qe,rowHeight:Lt,scrollbarAlwaysOn:mt,scrollbarStartGap:2,scrollbarEndGap:Xt,useIsScrolling:it,width:In,getRowHeight:fe,onRowsRendered:xe,onScroll:Fe},It=g(b),$e=g(y),Rt={cache:St,class:s.e("left"),columns:g(u),data:Mn,estimatedRowHeight:At,leftTableRef:F,rowHeight:Lt,bodyWidth:It,headerWidth:It,headerHeight:pt,height:$e,rowKey:qe,scrollbarAlwaysOn:mt,scrollbarStartGap:2,scrollbarEndGap:Xt,useIsScrolling:it,width:It,getRowHeight:fe,onScroll:ft},Dt=g(E)+Xt,Qt={cache:St,class:s.e("right"),columns:g(f),data:Mn,estimatedRowHeight:At,rightTableRef:B,rowHeight:Lt,bodyWidth:Dt,headerWidth:Dt,headerHeight:pt,height:$e,rowKey:qe,scrollbarAlwaysOn:mt,scrollbarStartGap:2,scrollbarEndGap:Xt,width:Dt,style:`--${g(s.namespace)}-table-scrollbar-size: ${Xt}px`,useIsScrolling:it,getRowHeight:fe,onScroll:ft},Yt=g(a),un={ns:s,depthMap:g(C),columnsStyles:Yt,expandColumnKey:Ve,expandedRowKeys:g(x),estimatedRowHeight:At,hasFixedColumns:g(M),hoveringRowKey:g(T),rowProps:rt,rowClass:et,rowKey:qe,rowEventHandlers:xt,onRowHovered:Te,onRowExpanded:Le,onRowHeightChange:oe},Ar={cellProps:Pt,expandColumnKey:Ve,indentSize:Et,iconSize:rn,rowKey:qe,expandedRowKeys:g(x),ns:s},ir={ns:s,headerClass:nn,headerProps:_n,columnsStyles:Yt},si={ns:s,sortBy:ze,sortState:vt,headerCellProps:Be,onColumnSorted:_e},Xn={row:Nn=>Me(wme,nr(Nn,un),{row:n.row,cell:tr=>{let Tr;return n.cell?Me(_y,nr(tr,Ar,{style:Yt[tr.column.key]}),jf(Tr=n.cell(tr))?Tr:{default:()=>[Tr]}):Me(_y,nr(tr,Ar,{style:Yt[tr.column.key]}),null)}}),header:Nn=>Me(Ime,nr(Nn,ir),{header:n.header,cell:tr=>{let Tr;return n["header-cell"]?Me(fM,nr(tr,si,{style:Yt[tr.column.key]}),jf(Tr=n["header-cell"](tr))?Tr:{default:()=>[Tr]}):Me(fM,nr(tr,si,{style:Yt[tr.column.key]}),null)}})},Ir=[e.class,s.b(),s.e("root"),{[s.is("dynamic")]:g(G)}],zt={class:s.e("footer"),style:g(be)};return Me("div",{class:Ir,style:g(ie)},[Me(_me,Ke,jf(Xn)?Xn:{default:()=>[Xn]}),Me(yme,Rt,jf(Xn)?Xn:{default:()=>[Xn]}),Me(Sme,Qt,jf(Xn)?Xn:{default:()=>[Xn]}),n.footer&&Me(WP,zt,{default:n.footer}),g(me)&&Me(KP,{class:s.e("empty"),style:g(te)},{default:n.empty}),n.overlay&&Me(jP,{class:s.e("overlay")},{default:n.overlay})])}}}),Rme=Wt({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:ot(Function)}}),Tme=yt({name:"ElAutoResizer",props:Rme,setup(e,{slots:n}){const i=bt("auto-resizer"),{height:s,width:a,sizer:u}=nme(e),f={width:"100%",height:"100%"};return()=>{var h;return Me("div",{ref:u,class:i.b(),style:f},[(h=n.default)==null?void 0:h.call(n,{height:s.value,width:a.value})])}}}),Nme=Yn(xme),Pme=Yn(Tme),Bme=Wt({tabs:{type:ot(Array),default:()=>qr([])}}),Dme={name:"ElTabBar"},kme=yt({...Dme,props:Bme,setup(e,{expose:n}){const i=e,s="ElTabBar",a=qn(),u=An(ov);u||xi(s,"<el-tabs><el-tab-bar /></el-tabs>");const f=bt("tabs"),h=se(),v=se(),y=()=>{let E=0,w=0;const C=["top","bottom"].includes(u.props.tabPosition)?"width":"height",x=C==="width"?"x":"y";return i.tabs.every(M=>{var T,P,F,B;const G=(P=(T=a.parent)==null?void 0:T.refs)==null?void 0:P[`tab-${M.uid}`];if(!G)return!1;if(!M.active)return!0;w=G[`client${Xa(C)}`];const Q=x==="x"?"left":"top";E=G.getBoundingClientRect()[Q]-((B=(F=G.parentElement)==null?void 0:F.getBoundingClientRect()[Q])!=null?B:0);const H=window.getComputedStyle(G);return C==="width"&&(i.tabs.length>1&&(w-=Number.parseFloat(H.paddingLeft)+Number.parseFloat(H.paddingRight)),E+=Number.parseFloat(H.paddingLeft)),!1}),{[C]:`${w}px`,transform:`translate${Xa(x)}(${E}px)`}},b=()=>v.value=y();return Ct(()=>i.tabs,async()=>{await dn(),b()},{immediate:!0}),ss(h,()=>b()),n({ref:h,update:b}),(E,w)=>(X(),ge("div",{ref_key:"barRef",ref:h,class:q([g(f).e("active-bar"),g(f).is(g(u).props.tabPosition)]),style:pn(v.value)},null,6))}});var Lme=Ht(kme,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const Ome=Wt({panes:{type:ot(Array),default:()=>qr([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Fme={tabClick:(e,n,i)=>i instanceof Event,tabRemove:(e,n)=>n instanceof Event},hM="ElTabNav",Vme=yt({name:hM,props:Ome,emits:Fme,setup(e,{expose:n,emit:i}){const s=qn(),a=An(ov);a||xi(hM,"<el-tabs><tab-nav /></el-tabs>");const u=bt("tabs"),f=Gj(),h=qj(),v=se(),y=se(),b=se(),E=se(!1),w=se(0),C=se(!1),x=se(!0),M=$(()=>["top","bottom"].includes(a.props.tabPosition)?"width":"height"),T=$(()=>({transform:`translate${M.value==="width"?"X":"Y"}(-${w.value}px)`})),P=()=>{if(!v.value)return;const te=v.value[`offset${Xa(M.value)}`],ie=w.value;if(!ie)return;const ue=ie>te?ie-te:0;w.value=ue},F=()=>{if(!v.value||!y.value)return;const te=y.value[`offset${Xa(M.value)}`],ie=v.value[`offset${Xa(M.value)}`],ue=w.value;if(te-ue<=ie)return;const be=te-ue>ie*2?ue+ie:te-ie;w.value=be},B=async()=>{const te=y.value;if(!E.value||!b.value||!v.value||!te)return;await dn();const ie=b.value.querySelector(".is-active");if(!ie)return;const ue=v.value,be=["top","bottom"].includes(a.props.tabPosition),me=ie.getBoundingClientRect(),de=ue.getBoundingClientRect(),ye=be?te.offsetWidth-de.width:te.offsetHeight-de.height,ve=w.value;let Ee=ve;be?(me.left<de.left&&(Ee=ve-(de.left-me.left)),me.right>de.right&&(Ee=ve+me.right-de.right)):(me.top<de.top&&(Ee=ve-(de.top-me.top)),me.bottom>de.bottom&&(Ee=ve+(me.bottom-de.bottom))),Ee=Math.max(Ee,0),w.value=Math.min(Ee,ye)},G=()=>{if(!y.value||!v.value)return;const te=y.value[`offset${Xa(M.value)}`],ie=v.value[`offset${Xa(M.value)}`],ue=w.value;if(ie<te){const be=w.value;E.value=E.value||{},E.value.prev=be,E.value.next=be+ie<te,te-be<ie&&(w.value=te-ie)}else E.value=!1,ue>0&&(w.value=0)},Q=te=>{const ie=te.code,{up:ue,down:be,left:me,right:de}=bn;if(![ue,be,me,de].includes(ie))return;const ye=Array.from(te.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),ve=ye.indexOf(te.target);let Ee;ie===me||ie===ue?ve===0?Ee=ye.length-1:Ee=ve-1:ve<ye.length-1?Ee=ve+1:Ee=0,ye[Ee].focus(),ye[Ee].click(),H()},H=()=>{x.value&&(C.value=!0)},J=()=>C.value=!1;return Ct(f,te=>{te==="hidden"?x.value=!1:te==="visible"&&setTimeout(()=>x.value=!0,50)}),Ct(h,te=>{te?setTimeout(()=>x.value=!0,50):x.value=!1}),ss(b,G),jn(()=>setTimeout(()=>B(),0)),ya(()=>G()),n({scrollToActiveTab:B,removeFocus:J}),Ct(()=>e.panes,()=>s.update(),{flush:"post"}),()=>{const te=E.value?[Me("span",{class:[u.e("nav-prev"),u.is("disabled",!E.value.prev)],onClick:P},[Me(fn,null,{default:()=>[Me(Kl,null,null)]})]),Me("span",{class:[u.e("nav-next"),u.is("disabled",!E.value.next)],onClick:F},[Me(fn,null,{default:()=>[Me(ms,null,null)]})])]:null,ie=e.panes.map((ue,be)=>{var me,de,ye,ve;const Ee=ue.uid,fe=ue.props.disabled,_e=(de=(me=ue.props.name)!=null?me:ue.index)!=null?de:`${be}`,oe=!fe&&(ue.isClosable||e.editable);ue.index=`${be}`;const Te=oe?Me(fn,{class:"is-icon-close",onClick:Fe=>i("tabRemove",ue,Fe)},{default:()=>[Me(Ho,null,null)]}):null,Le=((ve=(ye=ue.slots).label)==null?void 0:ve.call(ye))||ue.props.label,xe=!fe&&ue.active?0:-1;return Me("div",{ref:`tab-${Ee}`,class:[u.e("item"),u.is(a.props.tabPosition),u.is("active",ue.active),u.is("disabled",fe),u.is("closable",oe),u.is("focus",C.value)],id:`tab-${_e}`,key:`tab-${Ee}`,"aria-controls":`pane-${_e}`,role:"tab","aria-selected":ue.active,tabindex:xe,onFocus:()=>H(),onBlur:()=>J(),onClick:Fe=>{J(),i("tabClick",ue,_e,Fe)},onKeydown:Fe=>{oe&&(Fe.code===bn.delete||Fe.code===bn.backspace)&&i("tabRemove",ue,Fe)}},[Le,Te])});return Me("div",{ref:b,class:[u.e("nav-wrap"),u.is("scrollable",!!E.value),u.is(a.props.tabPosition)]},[te,Me("div",{class:u.e("nav-scroll"),ref:v},[Me("div",{class:[u.e("nav"),u.is(a.props.tabPosition),u.is("stretch",e.stretch&&["top","bottom"].includes(a.props.tabPosition))],ref:y,style:T.value,role:"tablist",onKeydown:Q},[e.type?null:Me(Lme,{tabs:[...e.panes]},null),ie])])])}}}),Gme=Wt({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ot(Function),default:()=>!0},stretch:Boolean}),i0=e=>Gn(e)||$n(e),Ume={[Zn]:e=>i0(e),tabClick:(e,n)=>n instanceof Event,tabChange:e=>i0(e),edit:(e,n)=>["remove","add"].includes(n),tabRemove:e=>i0(e),tabAdd:()=>!0};var Hme=yt({name:"ElTabs",props:Gme,emits:Ume,setup(e,{emit:n,slots:i,expose:s}){var a,u;const f=bt("tabs"),h=se(),v=xr({}),y=se((u=(a=e.modelValue)!=null?a:e.activeName)!=null?u:"0"),b=M=>{y.value=M,n(Zn,M),n("tabChange",M)},E=async M=>{var T,P,F;if(!(y.value===M||qi(M)))try{await((T=e.beforeLeave)==null?void 0:T.call(e,M,y.value))!==!1&&(b(M),(F=(P=h.value)==null?void 0:P.removeFocus)==null||F.call(P))}catch{}},w=(M,T,P)=>{M.props.disabled||(E(T),n("tabClick",M,P))},C=(M,T)=>{M.props.disabled||qi(M.props.name)||(T.stopPropagation(),n("edit",M.props.name,"remove"),n("tabRemove",M.props.name))},x=()=>{n("edit",void 0,"add"),n("tabAdd")};return au({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},$(()=>!!e.activeName)),Ct(()=>e.activeName,M=>E(M)),Ct(()=>e.modelValue,M=>E(M)),Ct(y,async()=>{var M;await dn(),(M=h.value)==null||M.scrollToActiveTab()}),rr(ov,{props:e,currentName:y,registerPane:P=>v[P.uid]=P,unregisterPane:P=>delete v[P]}),s({currentName:y}),()=>{const M=e.editable||e.addable?Me("span",{class:f.e("new-tab"),tabindex:"0",onClick:x,onKeydown:F=>{F.code===bn.enter&&x()}},[Me(fn,{class:f.is("icon-plus")},{default:()=>[Me(Jx,null,null)]})]):null,T=Me("div",{class:[f.e("header"),f.is(e.tabPosition)]},[M,Me(Vme,{ref:h,currentName:y.value,editable:e.editable,type:e.type,panes:Object.values(v),stretch:e.stretch,onTabClick:w,onTabRemove:C},null)]),P=Me("div",{class:f.e("content")},[_t(i,"default")]);return Me("div",{class:[f.b(),f.m(e.tabPosition),{[f.m("card")]:e.type==="card",[f.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[T,P]:[P,T]])}}});const Qme=Wt({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Xme=["id","aria-hidden","aria-labelledby"],zme={name:"ElTabPane"},$me=yt({...zme,props:Qme,setup(e){const n=e,i="ElTabPane",s=qn(),a=Zi(),u=An(ov);u||xi(i,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const f=bt("tab-pane"),h=se(),v=$(()=>n.closable||u.props.closable),y=RI(()=>{var x;return u.currentName.value===((x=n.name)!=null?x:h.value)}),b=se(y.value),E=$(()=>{var x;return(x=n.name)!=null?x:h.value}),w=RI(()=>!n.lazy||b.value||y.value);Ct(y,x=>{x&&(b.value=!0)});const C=xr({uid:s.uid,slots:a,props:n,paneName:E,active:y,index:h,isClosable:v});return jn(()=>{u.registerPane(C)}),hu(()=>{u.unregisterPane(C.uid)}),(x,M)=>g(w)?Qn((X(),ge("div",{key:0,id:`pane-${g(E)}`,class:q(g(f).b()),role:"tabpanel","aria-hidden":!g(y),"aria-labelledby":`tab-${g(E)}`},[_t(x.$slots,"default")],10,Xme)),[[_r,g(y)]]):je("v-if",!0)}});var qP=Ht($me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Wme=Yn(Hme,{TabPane:qP}),Kme=di(qP),jme=Wt({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:Ws,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:ot([String,Object]),default:()=>Yx},clearIcon:{type:ot([String,Object]),default:()=>nc}}),$a=e=>{const n=(e||"").split(":");if(n.length>=2){let i=Number.parseInt(n[0],10);const s=Number.parseInt(n[1],10),a=e.toUpperCase();return a.includes("AM")&&i===12?i=0:a.includes("PM")&&i!==12&&(i+=12),{hours:i,minutes:s}}return null},s0=(e,n)=>{const i=$a(e);if(!i)return-1;const s=$a(n);if(!s)return-1;const a=i.minutes+i.hours*60,u=s.minutes+s.hours*60;return a===u?0:a>u?1:-1},pM=e=>`${e}`.padStart(2,"0"),fd=e=>`${pM(e.hours)}:${pM(e.minutes)}`,qme=(e,n)=>{const i=$a(e);if(!i)return"";const s=$a(n);if(!s)return"";const a={hours:i.hours,minutes:i.minutes};return a.minutes+=s.minutes,a.hours+=s.hours,a.hours+=Math.floor(a.minutes/60),a.minutes=a.minutes%60,fd(a)},Yme={name:"ElTimeSelect"},Jme=yt({...Yme,props:jme,emits:["change","blur","focus","update:modelValue"],setup(e,{expose:n}){const i=e;Kn.extend(Qb);const{Option:s}=cu,a=bt("input"),u=se(),f=ol(),h=$(()=>i.modelValue),v=$(()=>{const T=$a(i.start);return T?fd(T):null}),y=$(()=>{const T=$a(i.end);return T?fd(T):null}),b=$(()=>{const T=$a(i.step);return T?fd(T):null}),E=$(()=>{const T=$a(i.minTime||"");return T?fd(T):null}),w=$(()=>{const T=$a(i.maxTime||"");return T?fd(T):null}),C=$(()=>{const T=[];if(i.start&&i.end&&i.step){let P=v.value,F;for(;P&&y.value&&s0(P,y.value)<=0;)F=Kn(P,"HH:mm").format(i.format),T.push({value:F,disabled:s0(P,E.value||"-1:-1")<=0||s0(P,w.value||"100:100")>=0}),P=qme(P,b.value)}return T});return n({blur:()=>{var T,P;(P=(T=u.value)==null?void 0:T.blur)==null||P.call(T)},focus:()=>{var T,P;(P=(T=u.value)==null?void 0:T.focus)==null||P.call(T)}}),(T,P)=>(X(),nt(g(cu),{ref_key:"select",ref:u,"model-value":g(h),disabled:g(f),clearable:T.clearable,"clear-icon":T.clearIcon,size:T.size,effect:T.effect,placeholder:T.placeholder,"default-first-option":"",filterable:T.editable,"onUpdate:modelValue":P[0]||(P[0]=F=>T.$emit("update:modelValue",F)),onChange:P[1]||(P[1]=F=>T.$emit("change",F)),onBlur:P[2]||(P[2]=F=>T.$emit("blur",F)),onFocus:P[3]||(P[3]=F=>T.$emit("focus",F))},{prefix:Ue(()=>[T.prefixIcon?(X(),nt(g(fn),{key:0,class:q(g(a).e("prefix-icon"))},{default:Ue(()=>[(X(),nt(er(T.prefixIcon)))]),_:1},8,["class"])):je("v-if",!0)]),default:Ue(()=>[(X(!0),ge(vn,null,cr(g(C),F=>(X(),nt(g(s),{key:F.value,label:F.value,value:F.value,disabled:F.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var eg=Ht(Jme,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);eg.install=e=>{e.component(eg.name,eg)};const Zme=eg,ege=Zme,tge=yt({name:"ElTimeline",setup(e,{slots:n}){const i=bt("timeline");return rr("timeline",n),()=>Sn("ul",{class:[i.b()]},[_t(n,"default")])}}),nge=Wt({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:$r},hollow:{type:Boolean,default:!1}}),rge={name:"ElTimelineItem"},ige=yt({...rge,props:nge,setup(e){const n=bt("timeline-item");return(i,s)=>(X(),ge("li",{class:q([g(n).b(),{[g(n).e("center")]:i.center}])},[Ce("div",{class:q(g(n).e("tail"))},null,2),i.$slots.dot?je("v-if",!0):(X(),ge("div",{key:0,class:q([g(n).e("node"),g(n).em("node",i.size||""),g(n).em("node",i.type||""),g(n).is("hollow",i.hollow)]),style:pn({backgroundColor:i.color})},[i.icon?(X(),nt(g(fn),{key:0,class:q(g(n).e("icon"))},{default:Ue(()=>[(X(),nt(er(i.icon)))]),_:1},8,["class"])):je("v-if",!0)],6)),i.$slots.dot?(X(),ge("div",{key:1,class:q(g(n).e("dot"))},[_t(i.$slots,"dot")],2)):je("v-if",!0),Ce("div",{class:q(g(n).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?(X(),ge("div",{key:0,class:q([g(n).e("timestamp"),g(n).is("top")])},Ut(i.timestamp),3)):je("v-if",!0),Ce("div",{class:q(g(n).e("content"))},[_t(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?(X(),ge("div",{key:1,class:q([g(n).e("timestamp"),g(n).is("bottom")])},Ut(i.timestamp),3)):je("v-if",!0)],2)],2))}});var YP=Ht(ige,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const sge=Yn(tge,{TimelineItem:YP}),oge=di(YP),JP=Wt({nowrap:Boolean});var ZP=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(ZP||{});const age=Object.values(ZP),m1=Wt({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:ot(Object),default:null}}),lge=Wt({side:{type:ot(String),values:age,required:!0}}),cge=["absolute","fixed"],uge=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],g1=Wt({ariaLabel:String,arrowPadding:{type:ot(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:ot(String),values:uge,default:"bottom"},reference:{type:ot(Object),default:null},offset:{type:Number,default:8},strategy:{type:ot(String),values:cge,default:"absolute"},showArrow:{type:Boolean,default:!1}}),v1=Wt({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:ot(Function)},"onUpdate:open":{type:ot(Function)}}),sd={type:ot(Function)},_1=Wt({onBlur:sd,onClick:sd,onFocus:sd,onMouseDown:sd,onMouseEnter:sd,onMouseLeave:sd}),dge=Wt({...v1,...m1,..._1,...g1,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:ot(Object),default:null},teleported:Boolean,to:{type:ot(String),default:"body"}}),fge={name:"ElTooltipV2Root"},hge=yt({...fge,props:v1,setup(e,{expose:n}){const i=e,s=se(i.defaultOpen),a=se(null),u=$({get:()=>eq(i.open)?s.value:i.open,set:T=>{var P;s.value=T,(P=i["onUpdate:open"])==null||P.call(i,T)}}),f=$(()=>$n(i.delayDuration)&&i.delayDuration>0),{start:h,stop:v}=ou(()=>{u.value=!0},$(()=>i.delayDuration),{immediate:!1}),y=bt("tooltip-v2"),b=zo(),E=()=>{v(),u.value=!0},w=()=>{g(f)?h():E()},C=E,x=()=>{v(),u.value=!1};return Ct(u,T=>{var P;T&&(document.dispatchEvent(new CustomEvent(GA)),C()),(P=i.onOpenChange)==null||P.call(i,T)}),jn(()=>{document.addEventListener(GA,x)}),vi(()=>{v(),document.removeEventListener(GA,x)}),rr(av,{contentId:b,triggerRef:a,ns:y,onClose:x,onDelayOpen:w,onOpen:C}),n({onOpen:C,onClose:x}),(T,P)=>_t(T.$slots,"default",{open:g(u)})}});var pge=Ht(hge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/root.vue"]]);const mge={name:"ElTooltipV2Arrow"},gge=yt({...mge,props:{...m1,...lge},setup(e){const n=e,{ns:i}=An(av),{arrowRef:s}=An(eT),a=$(()=>{const{style:u,width:f,height:h}=n,v=i.namespace.value;return{[`--${v}-tooltip-v2-arrow-width`]:`${f}px`,[`--${v}-tooltip-v2-arrow-height`]:`${h}px`,[`--${v}-tooltip-v2-arrow-border-width`]:`${f/2}px`,[`--${v}-tooltip-v2-arrow-cover-width`]:f/2-1,...u||{}}});return(u,f)=>(X(),ge("span",{ref_key:"arrowRef",ref:s,style:pn(g(a)),class:q(g(i).e("arrow"))},null,6))}});var mM=Ht(gge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/arrow.vue"]]);const vge=Wt({style:{type:ot([String,Object,Array]),default:()=>({})}}),_ge={name:"ElVisuallyHidden"},Age=yt({..._ge,props:vge,setup(e){const n=e,i=$(()=>[n.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(s,a)=>(X(),ge("span",nr(s.$attrs,{style:g(i)}),[_t(s.$slots,"default")],16))}});var yge=Ht(Age,[["__file","/home/runner/work/element-plus/element-plus/packages/components/visual-hidden/src/visual-hidden.vue"]]);const bge=["data-side"],Sge={name:"ElTooltipV2Content"},Ege=yt({...Sge,props:{...g1,...JP},setup(e){const n=e,{triggerRef:i,contentId:s}=An(av),a=se(n.placement),u=se(n.strategy),f=se(null),{referenceRef:h,contentRef:v,middlewareData:y,x:b,y:E,update:w}=uY({placement:a,strategy:u,middleware:$(()=>{const B=[Kq(n.offset)];return n.showArrow&&B.push(dY({arrowRef:f})),B})}),C=al().nextZIndex(),x=bt("tooltip-v2"),M=$(()=>a.value.split("-")[0]),T=$(()=>({position:g(u),top:`${g(E)||0}px`,left:`${g(b)||0}px`,zIndex:C})),P=$(()=>{if(!n.showArrow)return{};const{arrow:B}=g(y);return{[`--${x.namespace.value}-tooltip-v2-arrow-x`]:`${B==null?void 0:B.x}px`||"",[`--${x.namespace.value}-tooltip-v2-arrow-y`]:`${B==null?void 0:B.y}px`||""}}),F=$(()=>[x.e("content"),x.is("dark",n.effect==="dark"),x.is(g(u)),n.contentClass]);return Ct(f,()=>w()),Ct(()=>n.placement,B=>a.value=B),jn(()=>{Ct(()=>n.reference||i.value,B=>{h.value=B||void 0},{immediate:!0})}),rr(eT,{arrowRef:f}),(B,G)=>(X(),ge("div",{ref_key:"contentRef",ref:v,style:pn(g(T)),"data-tooltip-v2-root":""},[B.nowrap?je("v-if",!0):(X(),ge("div",{key:0,"data-side":g(M),class:q(g(F))},[_t(B.$slots,"default",{contentStyle:g(T),contentClass:g(F)}),Me(g(yge),{id:g(s),role:"tooltip"},{default:Ue(()=>[B.ariaLabel?(X(),ge(vn,{key:0},[pr(Ut(B.ariaLabel),1)],64)):_t(B.$slots,"default",{key:1})]),_:3},8,["id"]),_t(B.$slots,"arrow",{style:pn(g(P)),side:g(M)})],10,bge))],4))}});var gM=Ht(Ege,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/content.vue"]]);const wge=Wt({setRef:{type:ot(Function),required:!0},onlyChild:Boolean});var Cge=yt({props:wge,setup(e,{slots:n}){const i=se(),s=iv(i,a=>{a?e.setRef(a.nextElementSibling):e.setRef(null)});return()=>{var a;const[u]=((a=n.default)==null?void 0:a.call(n))||[],f=e.onlyChild?hq(u.children):u.children;return Me(vn,{ref:s},[f])}}});const Ige={name:"ElTooltipV2Trigger"},Mge=yt({...Ige,props:{...JP,..._1},setup(e){const n=e,{onClose:i,onOpen:s,onDelayOpen:a,triggerRef:u,contentId:f}=An(av);let h=!1;const v=F=>{u.value=F},y=()=>{h=!1},b=li(n.onMouseEnter,a),E=li(n.onMouseLeave,i),w=li(n.onMouseDown,()=>{i(),h=!0,document.addEventListener("mouseup",y,{once:!0})}),C=li(n.onFocus,()=>{h||s()}),x=li(n.onBlur,i),M=li(n.onClick,F=>{F.detail===0&&i()}),T={blur:x,click:M,focus:C,mousedown:w,mouseenter:b,mouseleave:E},P=(F,B,G)=>{F&&Object.entries(B).forEach(([Q,H])=>{F[G](Q,H)})};return Ct(u,(F,B)=>{P(F,T,"addEventListener"),P(B,T,"removeEventListener"),F&&F.setAttribute("aria-describedby",f.value)}),vi(()=>{P(u.value,T,"removeEventListener"),document.removeEventListener("mouseup",y)}),(F,B)=>F.nowrap?(X(),nt(g(Cge),{key:0,"set-ref":v,"only-child":""},{default:Ue(()=>[_t(F.$slots,"default")]),_:3})):(X(),ge("button",nr({key:1,ref_key:"triggerRef",ref:u},F.$attrs),[_t(F.$slots,"default")],16))}});var xge=Ht(Mge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/trigger.vue"]]);const Rge={name:"ElTooltipV2"},Tge=yt({...Rge,props:dge,setup(e){const i=Ci(e),s=xr(Gl(i,Object.keys(m1))),a=xr(Gl(i,Object.keys(g1))),u=xr(Gl(i,Object.keys(v1))),f=xr(Gl(i,Object.keys(_1)));return(h,v)=>(X(),nt(pge,Vo(zg(u)),{default:Ue(({open:y})=>[Me(xge,nr(f,{nowrap:""}),{default:Ue(()=>[_t(h.$slots,"trigger")]),_:3},16),(X(),nt(Kh,{to:h.to,disabled:!h.teleported},[h.fullTransition?(X(),nt(bi,Vo(nr({key:0},h.transitionProps)),{default:Ue(()=>[h.alwaysOn||y?(X(),nt(gM,Vo(nr({key:0},a)),{arrow:Ue(({style:b,side:E})=>[h.showArrow?(X(),nt(mM,nr({key:0},s,{style:b,side:E}),null,16,["style","side"])):je("v-if",!0)]),default:Ue(()=>[_t(h.$slots,"default")]),_:3},16)):je("v-if",!0)]),_:2},1040)):(X(),ge(vn,{key:1},[h.alwaysOn||y?(X(),nt(gM,Vo(nr({key:0},a)),{arrow:Ue(({style:b,side:E})=>[h.showArrow?(X(),nt(mM,nr({key:0},s,{style:b,side:E}),null,16,["style","side"])):je("v-if",!0)]),default:Ue(()=>[_t(h.$slots,"default")]),_:3},16)):je("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var Nge=Ht(Tge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/tooltip.vue"]]);const Pge=Yn(Nge),eB="left-check-change",tB="right-check-change",hd=Wt({data:{type:ot(Array),default:()=>[]},titles:{type:ot(Array),default:()=>[]},buttonTexts:{type:ot(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:ot(Function)},leftDefaultChecked:{type:ot(Array),default:()=>[]},rightDefaultChecked:{type:ot(Array),default:()=>[]},renderContent:{type:ot(Function)},modelValue:{type:ot(Array),default:()=>[]},format:{type:ot(Object),default:()=>({})},filterable:Boolean,props:{type:ot(Object),default:()=>qr({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),Ay=(e,n)=>[e,n].every(hn)||hn(e)&&Es(n),Bge={[ii]:(e,n,i)=>[e,i].every(hn)&&["left","right"].includes(n),[Zn]:e=>hn(e),[eB]:Ay,[tB]:Ay},yy="checked-change",Dge=Wt({data:hd.data,optionRender:{type:ot(Function)},placeholder:String,title:String,filterable:Boolean,format:hd.format,filterMethod:hd.filterMethod,defaultChecked:hd.leftDefaultChecked,props:hd.props}),kge={[yy]:Ay},ip=e=>{const n={label:"label",key:"key",disabled:"disabled"};return $(()=>({...n,...e.props}))},Lge=(e,n,i)=>{const s=ip(e),a=$(()=>e.data.filter(b=>Vn(e.filterMethod)?e.filterMethod(n.query,b):String(b[s.value.label]||b[s.value.key]).toLowerCase().includes(n.query.toLowerCase()))),u=$(()=>a.value.filter(b=>!b[s.value.disabled])),f=$(()=>{const b=n.checked.length,E=e.data.length,{noChecked:w,hasChecked:C}=e.format;return w&&C?b>0?C.replace(/\${checked}/g,b.toString()).replace(/\${total}/g,E.toString()):w.replace(/\${total}/g,E.toString()):`${b}/${E}`}),h=$(()=>{const b=n.checked.length;return b>0&&b<u.value.length}),v=()=>{const b=u.value.map(E=>E[s.value.key]);n.allChecked=b.length>0&&b.every(E=>n.checked.includes(E))},y=b=>{n.checked=b?u.value.map(E=>E[s.value.key]):[]};return Ct(()=>n.checked,(b,E)=>{if(v(),n.checkChangeByUser){const w=b.concat(E).filter(C=>!b.includes(C)||!E.includes(C));i(yy,b,w)}else i(yy,b),n.checkChangeByUser=!0}),Ct(u,()=>{v()}),Ct(()=>e.data,()=>{const b=[],E=a.value.map(w=>w[s.value.key]);n.checked.forEach(w=>{E.includes(w)&&b.push(w)}),n.checkChangeByUser=!1,n.checked=b}),Ct(()=>e.defaultChecked,(b,E)=>{if(E&&b.length===E.length&&b.every(x=>E.includes(x)))return;const w=[],C=u.value.map(x=>x[s.value.key]);b.forEach(x=>{C.includes(x)&&w.push(x)}),n.checkChangeByUser=!1,n.checked=w},{immediate:!0}),{filteredData:a,checkableData:u,checkedSummary:f,isIndeterminate:h,updateAllChecked:v,handleAllCheckedChange:y}},Oge=(e,n)=>({onSourceCheckedChange:(a,u)=>{e.leftChecked=a,u&&n(eB,a,u)},onTargetCheckedChange:(a,u)=>{e.rightChecked=a,u&&n(tB,a,u)}}),Fge=e=>{const n=ip(e),i=$(()=>e.data.reduce((u,f)=>(u[f[n.value.key]]=f)&&u,{})),s=$(()=>e.data.filter(u=>!e.modelValue.includes(u[n.value.key]))),a=$(()=>e.targetOrder==="original"?e.data.filter(u=>e.modelValue.includes(u[n.value.key])):e.modelValue.reduce((u,f)=>{const h=i.value[f];return h&&u.push(h),u},[]));return{sourceData:s,targetData:a}},Vge=(e,n,i)=>{const s=ip(e),a=(h,v,y)=>{i(Zn,h),i(ii,h,v,y)};return{addToLeft:()=>{const h=e.modelValue.slice();n.rightChecked.forEach(v=>{const y=h.indexOf(v);y>-1&&h.splice(y,1)}),a(h,"left",n.rightChecked)},addToRight:()=>{let h=e.modelValue.slice();const v=e.data.filter(y=>{const b=y[s.value.key];return n.leftChecked.includes(b)&&!e.modelValue.includes(b)}).map(y=>y[s.value.key]);h=e.targetOrder==="unshift"?v.concat(h):h.concat(v),e.targetOrder==="original"&&(h=e.data.filter(y=>h.includes(y[s.value.key])).map(y=>y[s.value.key])),a(h,"right",n.leftChecked)}}},Gge={name:"ElTransferPanel"},Uge=yt({...Gge,props:Dge,emits:kge,setup(e,{expose:n,emit:i}){const s=e,a=Zi(),u=({option:G})=>G,{t:f}=Cr(),h=bt("transfer"),v=xr({checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}),y=ip(s),{filteredData:b,checkedSummary:E,isIndeterminate:w,handleAllCheckedChange:C}=Lge(s,v,i),x=$(()=>!io(v.query)&&io(b.value)),M=$(()=>!io(a.default()[0].children)),{checked:T,allChecked:P,query:F,inputHover:B}=Ci(v);return n({query:F}),(G,Q)=>(X(),ge("div",{class:q(g(h).b("panel"))},[Ce("p",{class:q(g(h).be("panel","header"))},[Me(g(vo),{modelValue:g(P),"onUpdate:modelValue":Q[0]||(Q[0]=H=>Qr(P)?P.value=H:null),indeterminate:g(w),"validate-event":!1,onChange:g(C)},{default:Ue(()=>[pr(Ut(G.title)+" ",1),Ce("span",null,Ut(g(E)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),Ce("div",{class:q([g(h).be("panel","body"),g(h).is("with-footer",g(M))])},[G.filterable?(X(),nt(g(rs),{key:0,modelValue:g(F),"onUpdate:modelValue":Q[1]||(Q[1]=H=>Qr(F)?F.value=H:null),class:q(g(h).be("panel","filter")),size:"default",placeholder:G.placeholder,"prefix-icon":g(NX),clearable:"","validate-event":!1,onMouseenter:Q[2]||(Q[2]=H=>B.value=!0),onMouseleave:Q[3]||(Q[3]=H=>B.value=!1)},null,8,["modelValue","class","placeholder","prefix-icon"])):je("v-if",!0),Qn(Me(g(gN),{modelValue:g(T),"onUpdate:modelValue":Q[4]||(Q[4]=H=>Qr(T)?T.value=H:null),"validate-event":!1,class:q([g(h).is("filterable",G.filterable),g(h).be("panel","list")])},{default:Ue(()=>[(X(!0),ge(vn,null,cr(g(b),H=>(X(),nt(g(vo),{key:H[g(y).key],class:q(g(h).be("panel","item")),label:H[g(y).key],disabled:H[g(y).disabled],"validate-event":!1},{default:Ue(()=>{var J;return[Me(u,{option:(J=G.optionRender)==null?void 0:J.call(G,H)},null,8,["option"])]}),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[_r,!g(x)&&!g(io)(G.data)]]),Qn(Ce("p",{class:q(g(h).be("panel","empty"))},Ut(g(x)?g(f)("el.transfer.noMatch"):g(f)("el.transfer.noData")),3),[[_r,g(x)||g(io)(G.data)]])],2),g(M)?(X(),ge("p",{key:0,class:q(g(h).be("panel","footer"))},[_t(G.$slots,"default")],2)):je("v-if",!0)],2))}});var vM=Ht(Uge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const Hge={key:0},Qge={key:0},Xge={name:"ElTransfer"},zge=yt({...Xge,props:hd,emits:Bge,setup(e,{expose:n,emit:i}){const s=e,a=Zi(),{t:u}=Cr(),f=bt("transfer"),{formItem:h}=Ks(),v=xr({leftChecked:[],rightChecked:[]}),y=ip(s),{sourceData:b,targetData:E}=Fge(s),{onSourceCheckedChange:w,onTargetCheckedChange:C}=Oge(v,i),{addToLeft:x,addToRight:M}=Vge(s,v,i),T=se(),P=se(),F=te=>{switch(te){case"left":T.value.query="";break;case"right":P.value.query="";break}},B=$(()=>s.buttonTexts.length===2),G=$(()=>s.titles[0]||u("el.transfer.titles.0")),Q=$(()=>s.titles[1]||u("el.transfer.titles.1")),H=$(()=>s.filterPlaceholder||u("el.transfer.filterPlaceholder"));Ct(()=>s.modelValue,()=>{var te;s.validateEvent&&((te=h==null?void 0:h.validate)==null||te.call(h,"change").catch(ie=>void 0))});const J=$(()=>te=>s.renderContent?s.renderContent(Sn,te):a.default?a.default({option:te}):Sn("span",te[y.value.label]||te[y.value.key]));return n({clearQuery:F,leftPanel:T,rightPanel:P}),(te,ie)=>(X(),ge("div",{class:q(g(f).b())},[Me(vM,{ref_key:"leftPanel",ref:T,data:g(b),"option-render":g(J),placeholder:g(H),title:g(G),filterable:te.filterable,format:te.format,"filter-method":te.filterMethod,"default-checked":te.leftDefaultChecked,props:s.props,onCheckedChange:g(w)},{default:Ue(()=>[_t(te.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Ce("div",{class:q(g(f).e("buttons"))},[Me(g(is),{type:"primary",class:q([g(f).e("button"),g(f).is("with-texts",g(B))]),disabled:g(io)(v.rightChecked),onClick:g(x)},{default:Ue(()=>[Me(g(fn),null,{default:Ue(()=>[Me(g(Kl))]),_:1}),g(qi)(te.buttonTexts[0])?je("v-if",!0):(X(),ge("span",Hge,Ut(te.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),Me(g(is),{type:"primary",class:q([g(f).e("button"),g(f).is("with-texts",g(B))]),disabled:g(io)(v.leftChecked),onClick:g(M)},{default:Ue(()=>[g(qi)(te.buttonTexts[1])?je("v-if",!0):(X(),ge("span",Qge,Ut(te.buttonTexts[1]),1)),Me(g(fn),null,{default:Ue(()=>[Me(g(ms))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),Me(vM,{ref_key:"rightPanel",ref:P,data:g(E),"option-render":g(J),placeholder:g(H),filterable:te.filterable,format:te.format,"filter-method":te.filterMethod,title:g(Q),"default-checked":te.rightDefaultChecked,props:s.props,onCheckedChange:g(C)},{default:Ue(()=>[_t(te.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var $ge=Ht(zge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]]);const Wge=Yn($ge),Cd="$treeNodeId",_M=function(e,n){!n||n[Cd]||Object.defineProperty(n,Cd,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},A1=function(e,n){return e?n[e]:n[Cd]},by=(e,n,i)=>{const s=e.value.currentNode;i();const a=e.value.currentNode;s!==a&&n("current-change",a||null,a)},Sy=e=>{let n=!0,i=!0,s=!0;for(let a=0,u=e.length;a<u;a++){const f=e[a];(f.checked!==!0||f.indeterminate)&&(n=!1,f.disabled||(s=!1)),(f.checked!==!1||f.indeterminate)&&(i=!1)}return{all:n,none:i,allWithoutDisable:s,half:!n&&!i}},tg=function(e){if(e.childNodes.length===0||e.loading)return;const{all:n,none:i,half:s}=Sy(e.childNodes);n?(e.checked=!0,e.indeterminate=!1):s?(e.checked=!1,e.indeterminate=!0):i&&(e.checked=!1,e.indeterminate=!1);const a=e.parent;!a||a.level===0||e.store.checkStrictly||tg(a)},wm=function(e,n){const i=e.store.props,s=e.data||{},a=i[n];if(typeof a=="function")return a(s,e);if(typeof a=="string")return s[a];if(typeof a>"u"){const u=s[n];return u===void 0?"":u}};let Kge=0;class nu{constructor(n){this.id=Kge++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in n)ar(n,i)&&(this[i]=n[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const i=n.props;if(i&&typeof i.isLeaf<"u"){const u=wm(this,"isLeaf");typeof u=="boolean"&&(this.isLeafByUser=u)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&this.expand(),Array.isArray(this.data)||_M(this,this.data),!this.data)return;const s=n.defaultExpandedKeys,a=n.key;a&&s&&s.includes(this.key)&&this.expand(null,n.autoExpandParent),a&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(n){Array.isArray(n)||_M(this,n),this.data=n,this.childNodes=[];let i;this.level===0&&Array.isArray(this.data)?i=this.data:i=wm(this,"children")||[];for(let s=0,a=i.length;s<a;s++)this.insertChild({data:i[s]})}get label(){return wm(this,"label")}get key(){const n=this.store.key;return this.data?this.data[n]:null}get disabled(){return wm(this,"disabled")}get nextSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return n.childNodes[i+1]}return null}get previousSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return i>0?n.childNodes[i-1]:null}return null}contains(n,i=!0){return(this.childNodes||[]).some(s=>s===n||i&&s.contains(n))}remove(){const n=this.parent;n&&n.removeChild(this)}insertChild(n,i,s){if(!n)throw new Error("InsertChild error: child is required.");if(!(n instanceof nu)){if(!s){const a=this.getChildren(!0);a.includes(n.data)||(typeof i>"u"||i<0?a.push(n.data):a.splice(i,0,n.data))}Object.assign(n,{parent:this,store:this.store}),n=xr(new nu(n)),n instanceof nu&&n.initialize()}n.level=this.level+1,typeof i>"u"||i<0?this.childNodes.push(n):this.childNodes.splice(i,0,n),this.updateLeafState()}insertBefore(n,i){let s;i&&(s=this.childNodes.indexOf(i)),this.insertChild(n,s)}insertAfter(n,i){let s;i&&(s=this.childNodes.indexOf(i),s!==-1&&(s+=1)),this.insertChild(n,s)}removeChild(n){const i=this.getChildren()||[],s=i.indexOf(n.data);s>-1&&i.splice(s,1);const a=this.childNodes.indexOf(n);a>-1&&(this.store&&this.store.deregisterNode(n),n.parent=null,this.childNodes.splice(a,1)),this.updateLeafState()}removeChildByData(n){let i=null;for(let s=0;s<this.childNodes.length;s++)if(this.childNodes[s].data===n){i=this.childNodes[s];break}i&&this.removeChild(i)}expand(n,i){const s=()=>{if(i){let a=this.parent;for(;a.level>0;)a.expanded=!0,a=a.parent}this.expanded=!0,n&&n(),this.childNodes.forEach(a=>{a.canFocus=!0})};this.shouldLoadData()?this.loadData(a=>{Array.isArray(a)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||tg(this),s())}):s()}doCreateChildren(n,i={}){n.forEach(s=>{this.insertChild(Object.assign({data:s},i),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(n=>{n.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const n=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!n||n.length===0;return}this.isLeaf=!1}setChecked(n,i,s,a){if(this.indeterminate=n==="half",this.checked=n===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:f,allWithoutDisable:h}=Sy(this.childNodes);!this.isLeaf&&!f&&h&&(this.checked=!1,n=!1);const v=()=>{if(i){const y=this.childNodes;for(let w=0,C=y.length;w<C;w++){const x=y[w];a=a||n!==!1;const M=x.disabled?x.checked:a;x.setChecked(M,i,!0,a)}const{half:b,all:E}=Sy(y);E||(this.checked=E,this.indeterminate=b)}};if(this.shouldLoadData()){this.loadData(()=>{v(),tg(this)},{checked:n!==!1});return}else v()}const u=this.parent;!u||u.level===0||s||tg(u)}getChildren(n=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const s=this.store.props;let a="children";return s&&(a=s.children||"children"),i[a]===void 0&&(i[a]=null),n&&!i[a]&&(i[a]=[]),i[a]}updateChildren(){const n=this.getChildren()||[],i=this.childNodes.map(u=>u.data),s={},a=[];n.forEach((u,f)=>{const h=u[Cd];!!h&&i.findIndex(y=>y[Cd]===h)>=0?s[h]={index:f,data:u}:a.push({index:f,data:u})}),this.store.lazy||i.forEach(u=>{s[u[Cd]]||this.removeChildByData(u)}),a.forEach(({index:u,data:f})=>{this.insertChild({data:f},u)}),this.updateLeafState()}loadData(n,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const s=a=>{this.childNodes=[],this.doCreateChildren(a,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),n&&n.call(this,a)};this.store.load(this,s)}else n&&n.call(this)}}class jge{constructor(n){this.currentNode=null,this.currentNodeKey=null;for(const i in n)ar(n,i)&&(this[i]=n[i]);this.nodesMap={}}initialize(){if(this.root=new nu({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const n=this.load;n(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(n){const i=this.filterNodeMethod,s=this.lazy,a=function(u){const f=u.root?u.root.childNodes:u.childNodes;if(f.forEach(h=>{h.visible=i.call(h,n,h.data,h),a(h)}),!u.visible&&f.length){let h=!0;h=!f.some(v=>v.visible),u.root?u.root.visible=h===!1:u.visible=h===!1}!n||u.visible&&!u.isLeaf&&!s&&u.expand()};a(this)}setData(n){n!==this.root.data?(this.root.setData(n),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(n){if(n instanceof nu)return n;const i=ur(n)?A1(this.key,n):n;return this.nodesMap[i]||null}insertBefore(n,i){const s=this.getNode(i);s.parent.insertBefore({data:n},s)}insertAfter(n,i){const s=this.getNode(i);s.parent.insertAfter({data:n},s)}remove(n){const i=this.getNode(n);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(n,i){const s=i?this.getNode(i):this.root;s&&s.insertChild({data:n})}_initDefaultCheckedNodes(){const n=this.defaultCheckedKeys||[],i=this.nodesMap;n.forEach(s=>{const a=i[s];a&&a.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(n){(this.defaultCheckedKeys||[]).includes(n.key)&&n.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(n){n!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=n,this._initDefaultCheckedNodes())}registerNode(n){const i=this.key;!n||!n.data||(i?n.key!==void 0&&(this.nodesMap[n.key]=n):this.nodesMap[n.id]=n)}deregisterNode(n){!this.key||!n||!n.data||(n.childNodes.forEach(s=>{this.deregisterNode(s)}),delete this.nodesMap[n.key])}getCheckedNodes(n=!1,i=!1){const s=[],a=function(u){(u.root?u.root.childNodes:u.childNodes).forEach(h=>{(h.checked||i&&h.indeterminate)&&(!n||n&&h.isLeaf)&&s.push(h.data),a(h)})};return a(this),s}getCheckedKeys(n=!1){return this.getCheckedNodes(n).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const n=[],i=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(u=>{u.indeterminate&&n.push(u.data),i(u)})};return i(this),n}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(n=>(n||{})[this.key])}_getAllNodes(){const n=[],i=this.nodesMap;for(const s in i)ar(i,s)&&n.push(i[s]);return n}updateChildren(n,i){const s=this.nodesMap[n];if(!s)return;const a=s.childNodes;for(let u=a.length-1;u>=0;u--){const f=a[u];this.remove(f.data)}for(let u=0,f=i.length;u<f;u++){const h=i[u];this.append(h,s.data)}}_setCheckedKeys(n,i=!1,s){const a=this._getAllNodes().sort((h,v)=>v.level-h.level),u=Object.create(null),f=Object.keys(s);a.forEach(h=>h.setChecked(!1,!1));for(let h=0,v=a.length;h<v;h++){const y=a[h],b=y.data[n].toString();if(!f.includes(b)){y.checked&&!u[b]&&y.setChecked(!1,!1);continue}let w=y.parent;for(;w&&w.level>0;)u[w.data[n]]=!0,w=w.parent;if(y.isLeaf||this.checkStrictly){y.setChecked(!0,!1);continue}if(y.setChecked(!0,!0),i){y.setChecked(!1,!1);const C=function(x){x.childNodes.forEach(T=>{T.isLeaf||T.setChecked(!1,!1),C(T)})};C(y)}}}setCheckedNodes(n,i=!1){const s=this.key,a={};n.forEach(u=>{a[(u||{})[s]]=!0}),this._setCheckedKeys(s,i,a)}setCheckedKeys(n,i=!1){this.defaultCheckedKeys=n;const s=this.key,a={};n.forEach(u=>{a[u]=!0}),this._setCheckedKeys(s,i,a)}setDefaultExpandedKeys(n){n=n||[],this.defaultExpandedKeys=n,n.forEach(i=>{const s=this.getNode(i);s&&s.expand(null,this.autoExpandParent)})}setChecked(n,i,s){const a=this.getNode(n);a&&a.setChecked(!!i,s)}getCurrentNode(){return this.currentNode}setCurrentNode(n){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=n,this.currentNode.isCurrent=!0}setUserCurrentNode(n,i=!0){const s=n[this.key],a=this.nodesMap[s];this.setCurrentNode(a),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(n,i=!0){if(n==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const s=this.getNode(n);s&&(this.setCurrentNode(s),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const qge=yt({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const n=bt("tree"),i=An("NodeInstance"),s=An("RootTree");return()=>{const a=e.node,{data:u,store:f}=a;return e.renderContent?e.renderContent(Sn,{_self:i,node:a,data:u,store:f}):Sn("span",{class:n.be("node","label")},[s.ctx.slots.default?s.ctx.slots.default({node:a,data:u}):a.label])}}});var Yge=Ht(qge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function nB(e){const n=An("TreeNodeMap",null),i={treeNodeExpand:s=>{e.node!==s&&e.node.collapse()},children:[]};return n&&n.children.push(i),rr("TreeNodeMap",i),{broadcastExpanded:s=>{if(!!e.accordion)for(const a of i.children)a.treeNodeExpand(s)}}}const rB=Symbol("dragEvents");function Jge({props:e,ctx:n,el$:i,dropIndicator$:s,store:a}){const u=bt("tree"),f=se({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return rr(rB,{treeNodeDragStart:({event:b,treeNode:E})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(E.node))return b.preventDefault(),!1;b.dataTransfer.effectAllowed="move";try{b.dataTransfer.setData("text/plain","")}catch{}f.value.draggingNode=E,n.emit("node-drag-start",E.node,b)},treeNodeDragOver:({event:b,treeNode:E})=>{const w=E,C=f.value.dropNode;C&&C!==w&&ws(C.$el,u.is("drop-inner"));const x=f.value.draggingNode;if(!x||!w)return;let M=!0,T=!0,P=!0,F=!0;typeof e.allowDrop=="function"&&(M=e.allowDrop(x.node,w.node,"prev"),F=T=e.allowDrop(x.node,w.node,"inner"),P=e.allowDrop(x.node,w.node,"next")),b.dataTransfer.dropEffect=T||M||P?"move":"none",(M||T||P)&&C!==w&&(C&&n.emit("node-drag-leave",x.node,C.node,b),n.emit("node-drag-enter",x.node,w.node,b)),(M||T||P)&&(f.value.dropNode=w),w.node.nextSibling===x.node&&(P=!1),w.node.previousSibling===x.node&&(M=!1),w.node.contains(x.node,!1)&&(T=!1),(x.node===w.node||x.node.contains(w.node))&&(M=!1,T=!1,P=!1);const B=w.$el.getBoundingClientRect(),G=i.value.getBoundingClientRect();let Q;const H=M?T?.25:P?.45:1:-1,J=P?T?.75:M?.55:0:1;let te=-9999;const ie=b.clientY-B.top;ie<B.height*H?Q="before":ie>B.height*J?Q="after":T?Q="inner":Q="none";const ue=w.$el.querySelector(`.${u.be("node","expand-icon")}`).getBoundingClientRect(),be=s.value;Q==="before"?te=ue.top-G.top:Q==="after"&&(te=ue.bottom-G.top),be.style.top=`${te}px`,be.style.left=`${ue.right-G.left}px`,Q==="inner"?ha(w.$el,u.is("drop-inner")):ws(w.$el,u.is("drop-inner")),f.value.showDropIndicator=Q==="before"||Q==="after",f.value.allowDrop=f.value.showDropIndicator||F,f.value.dropType=Q,n.emit("node-drag-over",x.node,w.node,b)},treeNodeDragEnd:b=>{const{draggingNode:E,dropType:w,dropNode:C}=f.value;if(b.preventDefault(),b.dataTransfer.dropEffect="move",E&&C){const x={data:E.node.data};w!=="none"&&E.node.remove(),w==="before"?C.node.parent.insertBefore(x,C.node):w==="after"?C.node.parent.insertAfter(x,C.node):w==="inner"&&C.node.insertChild(x),w!=="none"&&a.value.registerNode(x),ws(C.$el,u.is("drop-inner")),n.emit("node-drag-end",E.node,C.node,w,b),w!=="none"&&n.emit("node-drop",E.node,C.node,w,b)}E&&!C&&n.emit("node-drag-end",E.node,null,w,b),f.value.showDropIndicator=!1,f.value.draggingNode=null,f.value.dropNode=null,f.value.allowDrop=!0}}),{dragState:f}}const Zge=yt({name:"ElTreeNode",components:{ElCollapseTransition:mv,ElCheckbox:vo,NodeContent:Yge,ElIcon:fn,Loading:rc},props:{node:{type:nu,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,n){const i=bt("tree"),{broadcastExpanded:s}=nB(e),a=An("RootTree"),u=se(!1),f=se(!1),h=se(null),v=se(null),y=se(null),b=An(rB),E=qn();rr("NodeInstance",E),e.node.expanded&&(u.value=!0,f.value=!0);const w=a.props.children||"children";Ct(()=>{const ie=e.node.data[w];return ie&&[...ie]},()=>{e.node.updateChildren()}),Ct(()=>e.node.indeterminate,ie=>{M(e.node.checked,ie)}),Ct(()=>e.node.checked,ie=>{M(ie,e.node.indeterminate)}),Ct(()=>e.node.expanded,ie=>{dn(()=>u.value=ie),ie&&(f.value=!0)});const C=ie=>A1(a.props.nodeKey,ie.data),x=ie=>{const ue=e.props.class;if(!ue)return{};let be;if(Vn(ue)){const{data:me}=ie;be=ue(me,ie)}else be=ue;return Gn(be)?{[be]:!0}:be},M=(ie,ue)=>{(h.value!==ie||v.value!==ue)&&a.ctx.emit("check-change",e.node.data,ie,ue),h.value=ie,v.value=ue},T=ie=>{by(a.store,a.ctx.emit,()=>a.store.value.setCurrentNode(e.node)),a.currentNode.value=e.node,a.props.expandOnClickNode&&F(),a.props.checkOnClickNode&&!e.node.disabled&&B(null,{target:{checked:!e.node.checked}}),a.ctx.emit("node-click",e.node.data,e.node,E,ie)},P=ie=>{a.instance.vnode.props.onNodeContextmenu&&(ie.stopPropagation(),ie.preventDefault()),a.ctx.emit("node-contextmenu",ie,e.node.data,e.node,E)},F=()=>{e.node.isLeaf||(u.value?(a.ctx.emit("node-collapse",e.node.data,e.node,E),e.node.collapse()):(e.node.expand(),n.emit("node-expand",e.node.data,e.node,E)))},B=(ie,ue)=>{e.node.setChecked(ue.target.checked,!a.props.checkStrictly),dn(()=>{const be=a.store.value;a.ctx.emit("check",e.node.data,{checkedNodes:be.getCheckedNodes(),checkedKeys:be.getCheckedKeys(),halfCheckedNodes:be.getHalfCheckedNodes(),halfCheckedKeys:be.getHalfCheckedKeys()})})};return{ns:i,node$:y,tree:a,expanded:u,childNodeRendered:f,oldChecked:h,oldIndeterminate:v,getNodeKey:C,getNodeClass:x,handleSelectChange:M,handleClick:T,handleContextMenu:P,handleExpandIconClick:F,handleCheckChange:B,handleChildNodeExpand:(ie,ue,be)=>{s(ue),a.ctx.emit("node-expand",ie,ue,be)},handleDragStart:ie=>{!a.props.draggable||b.treeNodeDragStart({event:ie,treeNode:e})},handleDragOver:ie=>{ie.preventDefault(),a.props.draggable&&b.treeNodeDragOver({event:ie,treeNode:{$el:y.value,node:e.node}})},handleDrop:ie=>{ie.preventDefault()},handleDragEnd:ie=>{!a.props.draggable||b.treeNodeDragEnd(ie)},CaretRight:qx}}}),eve=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],tve=["aria-expanded"];function nve(e,n,i,s,a,u){const f=gn("el-icon"),h=gn("el-checkbox"),v=gn("loading"),y=gn("node-content"),b=gn("el-tree-node"),E=gn("el-collapse-transition");return Qn((X(),ge("div",{ref:"node$",class:q([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:n[1]||(n[1]=Bn((...w)=>e.handleClick&&e.handleClick(...w),["stop"])),onContextmenu:n[2]||(n[2]=(...w)=>e.handleContextMenu&&e.handleContextMenu(...w)),onDragstart:n[3]||(n[3]=Bn((...w)=>e.handleDragStart&&e.handleDragStart(...w),["stop"])),onDragover:n[4]||(n[4]=Bn((...w)=>e.handleDragOver&&e.handleDragOver(...w),["stop"])),onDragend:n[5]||(n[5]=Bn((...w)=>e.handleDragEnd&&e.handleDragEnd(...w),["stop"])),onDrop:n[6]||(n[6]=Bn((...w)=>e.handleDrop&&e.handleDrop(...w),["stop"]))},[Ce("div",{class:q(e.ns.be("node","content")),style:pn({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(X(),nt(f,{key:0,class:q([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:Bn(e.handleExpandIconClick,["stop"])},{default:Ue(()=>[(X(),nt(er(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):je("v-if",!0),e.showCheckbox?(X(),nt(h,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:n[0]||(n[0]=Bn(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):je("v-if",!0),e.node.loading?(X(),nt(f,{key:2,class:q([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:Ue(()=>[Me(v)]),_:1},8,["class"])):je("v-if",!0),Me(y,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),Me(E,null,{default:Ue(()=>[!e.renderAfterExpand||e.childNodeRendered?Qn((X(),ge("div",{key:0,class:q(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(X(!0),ge(vn,null,cr(e.node.childNodes,w=>(X(),nt(b,{key:e.getNodeKey(w),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:w,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,tve)),[[_r,e.expanded]]):je("v-if",!0)]),_:1})],42,eve)),[[_r,e.node.visible]])}var rve=Ht(Zge,[["render",nve],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function ive({el$:e},n){const i=bt("tree"),s=Wr([]),a=Wr([]);jn(()=>{f()}),ya(()=>{s.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),Ct(a,h=>{h.forEach(v=>{v.setAttribute("tabindex","-1")})}),Kr(e,"keydown",h=>{const v=h.target;if(!v.className.includes(i.b("node")))return;const y=h.code;s.value=Array.from(e.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));const b=s.value.indexOf(v);let E;if([bn.up,bn.down].includes(y)){if(h.preventDefault(),y===bn.up){E=b===-1?0:b!==0?b-1:s.value.length-1;const C=E;for(;!n.value.getNode(s.value[E].dataset.key).canFocus;){if(E--,E===C){E=-1;break}E<0&&(E=s.value.length-1)}}else{E=b===-1?0:b<s.value.length-1?b+1:0;const C=E;for(;!n.value.getNode(s.value[E].dataset.key).canFocus;){if(E++,E===C){E=-1;break}E>=s.value.length&&(E=0)}}E!==-1&&s.value[E].focus()}[bn.left,bn.right].includes(y)&&(h.preventDefault(),v.click());const w=v.querySelector('[type="checkbox"]');[bn.enter,bn.space].includes(y)&&w&&(h.preventDefault(),w.click())});const f=()=>{var h;s.value=Array.from(e.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const v=e.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(v.length){v[0].setAttribute("tabindex","0");return}(h=s.value[0])==null||h.setAttribute("tabindex","0")}}const sve=yt({name:"ElTree",components:{ElTreeNode:rve},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:$r}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,n){const{t:i}=Cr(),s=bt("tree"),a=se(new jge({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));a.value.initialize();const u=se(a.value.root),f=se(null),h=se(null),v=se(null),{broadcastExpanded:y}=nB(e),{dragState:b}=Jge({props:e,ctx:n,el$:h,dropIndicator$:v,store:a});ive({el$:h},a);const E=$(()=>{const{childNodes:fe}=u.value;return!fe||fe.length===0||fe.every(({visible:_e})=>!_e)});Ct(()=>e.currentNodeKey,fe=>{a.value.setCurrentNodeKey(fe)}),Ct(()=>e.defaultCheckedKeys,fe=>{a.value.setDefaultCheckedKey(fe)}),Ct(()=>e.defaultExpandedKeys,fe=>{a.value.setDefaultExpandedKeys(fe)}),Ct(()=>e.data,fe=>{a.value.setData(fe)},{deep:!0}),Ct(()=>e.checkStrictly,fe=>{a.value.checkStrictly=fe});const w=fe=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(fe)},C=fe=>A1(e.nodeKey,fe.data),x=fe=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const _e=a.value.getNode(fe);if(!_e)return[];const oe=[_e.data];let Te=_e.parent;for(;Te&&Te!==u.value;)oe.push(Te.data),Te=Te.parent;return oe.reverse()},M=(fe,_e)=>a.value.getCheckedNodes(fe,_e),T=fe=>a.value.getCheckedKeys(fe),P=()=>{const fe=a.value.getCurrentNode();return fe?fe.data:null},F=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const fe=P();return fe?fe[e.nodeKey]:null},B=(fe,_e)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(fe,_e)},G=(fe,_e)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(fe,_e)},Q=(fe,_e,oe)=>{a.value.setChecked(fe,_e,oe)},H=()=>a.value.getHalfCheckedNodes(),J=()=>a.value.getHalfCheckedKeys(),te=(fe,_e=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");by(a,n.emit,()=>a.value.setUserCurrentNode(fe,_e))},ie=(fe,_e=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");by(a,n.emit,()=>a.value.setCurrentNodeKey(fe,_e))},ue=fe=>a.value.getNode(fe),be=fe=>{a.value.remove(fe)},me=(fe,_e)=>{a.value.append(fe,_e)},de=(fe,_e)=>{a.value.insertBefore(fe,_e)},ye=(fe,_e)=>{a.value.insertAfter(fe,_e)},ve=(fe,_e,oe)=>{y(_e),n.emit("node-expand",fe,_e,oe)},Ee=(fe,_e)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(fe,_e)};return rr("RootTree",{ctx:n,props:e,store:a,root:u,currentNode:f,instance:qn()}),rr(va,void 0),{ns:s,store:a,root:u,currentNode:f,dragState:b,el$:h,dropIndicator$:v,isEmpty:E,filter:w,getNodeKey:C,getNodePath:x,getCheckedNodes:M,getCheckedKeys:T,getCurrentNode:P,getCurrentKey:F,setCheckedNodes:B,setCheckedKeys:G,setChecked:Q,getHalfCheckedNodes:H,getHalfCheckedKeys:J,setCurrentNode:te,setCurrentKey:ie,t:i,getNode:ue,remove:be,append:me,insertBefore:de,insertAfter:ye,handleNodeExpand:ve,updateKeyChildren:Ee}}});function ove(e,n,i,s,a,u){var f;const h=gn("el-tree-node");return X(),ge("div",{ref:"el$",class:q([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(X(!0),ge(vn,null,cr(e.root.childNodes,v=>(X(),nt(h,{key:e.getNodeKey(v),node:v,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(X(),ge("div",{key:0,class:q(e.ns.e("empty-block"))},[Ce("span",{class:q(e.ns.e("empty-text"))},Ut((f=e.emptyText)!=null?f:e.t("el.tree.emptyText")),3)],2)):je("v-if",!0),Qn(Ce("div",{ref:"dropIndicator$",class:q(e.ns.e("drop-indicator"))},null,2),[[_r,e.dragState.showDropIndicator]])],2)}var ng=Ht(sve,[["render",ove],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);ng.install=e=>{e.component(ng.name,ng)};const Ng=ng,ave=Ng,lve=(e,{attrs:n},{tree:i,key:s})=>{const a=bt("tree-select"),u={...Gl(Ci(e),Object.keys(cu.props)),...n,valueKey:s,popperClass:$(()=>{const f=[a.e("popper")];return e.popperClass&&f.push(e.popperClass),f.join(" ")}),filterMethod:(f="")=>{e.filterMethod&&e.filterMethod(f),dn(()=>{var h;(h=i.value)==null||h.filter(f)})},onVisibleChange:f=>{var h;(h=n.onVisibleChange)==null||h.call(n,f),e.filterable&&f&&u.filterMethod()}};return u},cve=yt({extends:Eg,setup(e,n){const i=Eg.setup(e,n);delete i.selectOptionClick;const s=qn().proxy;return dn(()=>{i.select.cachedOptions.get(s.value)||i.select.onOptionCreate(s)}),i},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function Ey(e){return e||e===0}function iB(e){return Array.isArray(e)&&e.length}function o0(e){return Array.isArray(e)?e:Ey(e)?[e]:[]}function rg(e,n,i,s,a){for(let u=0;u<e.length;u++){const f=e[u];if(n(f,u,e,a))return s?s(f,u,e,a):f;{const h=i(f);if(iB(h)){const v=rg(h,n,i,s,f);if(v)return v}}}}const uve=(e,{attrs:n,slots:i,emit:s},{select:a,tree:u,key:f})=>{Ct(()=>e.modelValue,()=>{e.showCheckbox&&dn(()=>{const b=u.value;b&&!co(b.getCheckedKeys(),o0(e.modelValue))&&b.setCheckedKeys(o0(e.modelValue))})},{immediate:!0,deep:!0});const h=$(()=>({value:f.value,...e.props})),v=(b,E)=>{var w;const C=h.value[b];return Vn(C)?C(E,(w=u.value)==null?void 0:w.getNode(v("value",E))):E[C]},y=o0(e.modelValue).map(b=>rg(e.data||[],E=>v("value",E)===b,E=>v("children",E),(E,w,C,x)=>x&&v("value",x))).filter(b=>Ey(b));return{...Gl(Ci(e),Object.keys(Ng.props)),...n,nodeKey:f,expandOnClickNode:$(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:$(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(y):y),renderContent:(b,{node:E,data:w,store:C})=>b(cve,{value:v("value",w),label:v("label",w),disabled:v("disabled",w)},e.renderContent?()=>e.renderContent(b,{node:E,data:w,store:C}):i.default?()=>i.default({node:E,data:w,store:C}):void 0),filterNodeMethod:(b,E,w)=>{var C;return e.filterNodeMethod?e.filterNodeMethod(b,E,w):b?(C=v("label",E))==null?void 0:C.includes(b):!0},onNodeClick:(b,E,w)=>{var C,x,M;if((C=n.onNodeClick)==null||C.call(n,b,E,w),!(e.showCheckbox&&e.checkOnClickNode))if(!e.showCheckbox&&(e.checkStrictly||E.isLeaf)){if(!v("disabled",b)){const T=(x=a.value)==null?void 0:x.options.get(v("value",b));(M=a.value)==null||M.handleOptionSelect(T,!0)}}else e.expandOnClickNode&&w.proxy.handleExpandIconClick()},onCheck:(b,E)=>{var w;(w=n.onCheck)==null||w.call(n,b,E);const C=v("value",b);if(e.checkStrictly)s(Zn,e.multiple?E.checkedKeys:E.checkedKeys.includes(C)?C:void 0);else if(e.multiple)s(Zn,u.value.getCheckedKeys(!0));else{const x=rg([b],P=>!iB(v("children",P))&&!v("disabled",P),P=>v("children",P)),M=x?v("value",x):void 0,T=Ey(e.modelValue)&&!!rg([b],P=>v("value",P)===e.modelValue,P=>v("children",P));s(Zn,M===e.modelValue||T?void 0:M)}}}},dve=yt({name:"ElTreeSelect",inheritAttrs:!1,props:{...cu.props,...Ng.props},setup(e,n){const{slots:i,expose:s}=n,a=se(),u=se(),f=$(()=>e.nodeKey||e.valueKey||"value"),h=lve(e,n,{select:a,tree:u,key:f}),v=uve(e,n,{select:a,tree:u,key:f}),y=xr({});return s(y),jn(()=>{Object.assign(y,{...Gl(u.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...Gl(a.value,["focus","blur"])})}),()=>Sn(cu,xr({...h,ref:b=>a.value=b}),{...i,default:()=>Sn(Ng,xr({...v,ref:b=>u.value=b}))})}});var ig=Ht(dve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);ig.install=e=>{e.component(ig.name,ig)};const fve=ig,hve=fve,y1=Symbol(),pve={key:-1,level:-1,data:{}};var eh=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e))(eh||{}),wy=(e=>(e.ADD="add",e.DELETE="delete",e))(wy||{});const mve=Wt({data:{type:ot(Array),default:()=>qr([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:ot(Object),default:()=>qr({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:ot(Array),default:()=>qr([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:ot(Array),default:()=>qr([])},indent:{type:Number,default:16},icon:{type:$r},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:ot([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:ot(Function)},perfMode:{type:Boolean,default:!0}}),gve=Wt({node:{type:ot(Object),default:()=>qr(pve)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1}}),vve=Wt({node:{type:ot(Object),required:!0}}),sB="node-click",oB="node-expand",aB="node-collapse",lB="current-change",cB="check",uB="check-change",dB="node-contextmenu",_ve={[sB]:(e,n,i)=>e&&n&&i,[oB]:(e,n)=>e&&n,[aB]:(e,n)=>e&&n,[lB]:(e,n)=>e&&n,[cB]:(e,n)=>e&&n,[uB]:(e,n)=>e&&typeof n=="boolean",[dB]:(e,n,i)=>e&&n&&i},Ave={click:(e,n)=>!!(e&&n),toggle:e=>!!e,check:(e,n)=>e&&typeof n=="boolean"};function yve(e,n){const i=se(new Set),s=se(new Set),{emit:a}=qn();Ct([()=>n.value,()=>e.defaultCheckedKeys],()=>dn(()=>{F(e.defaultCheckedKeys)}),{immediate:!0});const u=()=>{if(!n.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:B,maxLevel:G}=n.value,Q=i.value,H=new Set;for(let J=G-1;J>=1;--J){const te=B.get(J);!te||te.forEach(ie=>{const ue=ie.children;if(ue){let be=!0,me=!1;for(const de of ue){const ye=de.key;if(Q.has(ye))me=!0;else if(H.has(ye)){be=!1,me=!0;break}else be=!1}be?Q.add(ie.key):me?(H.add(ie.key),Q.delete(ie.key)):(Q.delete(ie.key),H.delete(ie.key))}})}s.value=H},f=B=>i.value.has(B.key),h=B=>s.value.has(B.key),v=(B,G,Q=!0)=>{const H=i.value,J=(te,ie)=>{H[ie?wy.ADD:wy.DELETE](te.key);const ue=te.children;!e.checkStrictly&&ue&&ue.forEach(be=>{be.disabled||J(be,ie)})};J(B,G),u(),Q&&y(B,G)},y=(B,G)=>{const{checkedNodes:Q,checkedKeys:H}=x(),{halfCheckedNodes:J,halfCheckedKeys:te}=M();a(cB,B.data,{checkedKeys:H,checkedNodes:Q,halfCheckedKeys:te,halfCheckedNodes:J}),a(uB,B.data,G)};function b(B=!1){return x(B).checkedKeys}function E(B=!1){return x(B).checkedNodes}function w(){return M().halfCheckedKeys}function C(){return M().halfCheckedNodes}function x(B=!1){const G=[],Q=[];if((n==null?void 0:n.value)&&e.showCheckbox){const{treeNodeMap:H}=n.value;i.value.forEach(J=>{const te=H.get(J);te&&(!B||B&&te.isLeaf)&&(Q.push(J),G.push(te.data))})}return{checkedKeys:Q,checkedNodes:G}}function M(){const B=[],G=[];if((n==null?void 0:n.value)&&e.showCheckbox){const{treeNodeMap:Q}=n.value;s.value.forEach(H=>{const J=Q.get(H);J&&(G.push(H),B.push(J.data))})}return{halfCheckedNodes:B,halfCheckedKeys:G}}function T(B){i.value.clear(),s.value.clear(),F(B)}function P(B,G){if((n==null?void 0:n.value)&&e.showCheckbox){const Q=n.value.treeNodeMap.get(B);Q&&v(Q,G,!1)}}function F(B){if(n!=null&&n.value){const{treeNodeMap:G}=n.value;if(e.showCheckbox&&G&&B)for(const Q of B){const H=G.get(Q);H&&!f(H)&&v(H,!0,!1)}}}return{updateCheckedKeys:u,toggleCheckbox:v,isChecked:f,isIndeterminate:h,getCheckedKeys:b,getCheckedNodes:E,getHalfCheckedKeys:w,getHalfCheckedNodes:C,setChecked:P,setCheckedKeys:T}}function bve(e,n){const i=se(new Set([])),s=se(new Set([])),a=$(()=>Vn(e.filterMethod));function u(h){var v;if(!a.value)return;const y=new Set,b=s.value,E=i.value,w=[],C=((v=n.value)==null?void 0:v.treeNodes)||[],x=e.filterMethod;E.clear();function M(T){T.forEach(P=>{w.push(P),x!=null&&x(h,P.data)?w.forEach(B=>{y.add(B.key)}):P.isLeaf&&E.add(P.key);const F=P.children;if(F&&M(F),!P.isLeaf){if(!y.has(P.key))E.add(P.key);else if(F){let B=!0;for(const G of F)if(!E.has(G.key)){B=!1;break}B?b.add(P.key):b.delete(P.key)}}w.pop()})}return M(C),y}function f(h){return s.value.has(h.key)}return{hiddenExpandIconKeySet:s,hiddenNodeKeySet:i,doFilter:u,isForceHiddenExpandIcon:f}}function Sve(e,n){const i=se(new Set(e.defaultExpandedKeys)),s=se(),a=Wr();Ct(()=>e.currentNodeKey,Ve=>{s.value=Ve},{immediate:!0}),Ct(()=>e.data,Ve=>{Pt(Ve)},{immediate:!0});const{isIndeterminate:u,isChecked:f,toggleCheckbox:h,getCheckedKeys:v,getCheckedNodes:y,getHalfCheckedKeys:b,getHalfCheckedNodes:E,setChecked:w,setCheckedKeys:C}=yve(e,a),{doFilter:x,hiddenNodeKeySet:M,isForceHiddenExpandIcon:T}=bve(e,a),P=$(()=>{var Ve;return((Ve=e.props)==null?void 0:Ve.value)||eh.KEY}),F=$(()=>{var Ve;return((Ve=e.props)==null?void 0:Ve.children)||eh.CHILDREN}),B=$(()=>{var Ve;return((Ve=e.props)==null?void 0:Ve.disabled)||eh.DISABLED}),G=$(()=>{var Ve;return((Ve=e.props)==null?void 0:Ve.label)||eh.LABEL}),Q=$(()=>{const Ve=i.value,at=M.value,pt=[],nn=a.value&&a.value.treeNodes||[];function _n(){const Be=[];for(let ze=nn.length-1;ze>=0;--ze)Be.push(nn[ze]);for(;Be.length;){const ze=Be.pop();if(!!ze&&(at.has(ze.key)||pt.push(ze),Ve.has(ze.key))){const vt=ze.children;if(vt){const Lt=vt.length;for(let et=Lt-1;et>=0;--et)Be.push(vt[et])}}}}return _n(),pt}),H=$(()=>Q.value.length>0);function J(Ve){const at=new Map,pt=new Map;let nn=1;function _n(ze,vt=1,Lt=void 0){var et;const xt=[];for(const qe of ze){const rt=ue(qe),mt={level:vt,key:rt,data:qe};mt.label=me(qe),mt.parent=Lt;const Et=ie(qe);mt.disabled=be(qe),mt.isLeaf=!Et||Et.length===0,Et&&Et.length&&(mt.children=_n(Et,vt+1,mt)),xt.push(mt),at.set(rt,mt),pt.has(vt)||pt.set(vt,[]),(et=pt.get(vt))==null||et.push(mt)}return vt>nn&&(nn=vt),xt}const Be=_n(Ve);return{treeNodeMap:at,levelTreeNodeMap:pt,maxLevel:nn,treeNodes:Be}}function te(Ve){const at=x(Ve);at&&(i.value=at)}function ie(Ve){return Ve[F.value]}function ue(Ve){return Ve?Ve[P.value]:""}function be(Ve){return Ve[B.value]}function me(Ve){return Ve[G.value]}function de(Ve){i.value.has(Ve.key)?oe(Ve):_e(Ve)}function ye(Ve){i.value=new Set(Ve)}function ve(Ve,at){n(sB,Ve.data,Ve,at),Ee(Ve),e.expandOnClickNode&&de(Ve),e.showCheckbox&&e.checkOnClickNode&&!Ve.disabled&&h(Ve,!f(Ve),!0)}function Ee(Ve){xe(Ve)||(s.value=Ve.key,n(lB,Ve.data,Ve))}function fe(Ve,at){h(Ve,at)}function _e(Ve){const at=i.value;if(a.value&&e.accordion){const{treeNodeMap:pt}=a.value;at.forEach(nn=>{const _n=pt.get(nn);Ve&&Ve.level===_n.level&&at.delete(nn)})}at.add(Ve.key),n(oB,Ve.data,Ve)}function oe(Ve){i.value.delete(Ve.key),n(aB,Ve.data,Ve)}function Te(Ve){return i.value.has(Ve.key)}function Le(Ve){return!!Ve.disabled}function xe(Ve){const at=s.value;return!!at&&at===Ve.key}function Fe(){var Ve,at;if(!!s.value)return(at=(Ve=a.value)==null?void 0:Ve.treeNodeMap.get(s.value))==null?void 0:at.data}function ft(){return s.value}function St(Ve){s.value=Ve}function Pt(Ve){dn(()=>a.value=J(Ve))}function At(Ve){var at;const pt=ur(Ve)?ue(Ve):Ve;return(at=a.value)==null?void 0:at.treeNodeMap.get(pt)}return{tree:a,flattenTree:Q,isNotEmpty:H,getKey:ue,getChildren:ie,toggleExpand:de,toggleCheckbox:h,isExpanded:Te,isChecked:f,isIndeterminate:u,isDisabled:Le,isCurrent:xe,isForceHiddenExpandIcon:T,handleNodeClick:ve,handleNodeCheck:fe,getCurrentNode:Fe,getCurrentKey:ft,setCurrentKey:St,getCheckedKeys:v,getCheckedNodes:y,getHalfCheckedKeys:b,getHalfCheckedNodes:E,setChecked:w,setCheckedKeys:C,filter:te,setData:Pt,getNode:At,expandNode:_e,collapseNode:oe,setExpandedKeys:ye}}var Eve=yt({name:"ElTreeNodeContent",props:vve,setup(e){const n=An(y1),i=bt("tree");return()=>{const s=e.node,{data:a}=s;return n!=null&&n.ctx.slots.default?n.ctx.slots.default({node:s,data:a}):Sn("span",{class:i.be("node","label")},[s==null?void 0:s.label])}}});const wve="caret-right",Cve=yt({name:"ElTreeNode",components:{ElIcon:fn,CaretRight:qx,ElCheckbox:vo,ElNodeContent:Eve},props:gve,emits:Ave,setup(e,{emit:n}){const i=An(y1),s=bt("tree"),a=$(()=>{var b;return(b=i==null?void 0:i.props.indent)!=null?b:16}),u=$(()=>{var b;return(b=i==null?void 0:i.props.icon)!=null?b:wve});return{ns:s,indent:a,icon:u,handleClick:b=>{n("click",e.node,b)},handleExpandIconClick:()=>{n("toggle",e.node)},handleCheckChange:b=>{n("check",e.node,b)},handleContextMenu:b=>{var E,w,C,x;(C=(w=(E=i==null?void 0:i.instance)==null?void 0:E.vnode)==null?void 0:w.props)!=null&&C.onNodeContextmenu&&(b.stopPropagation(),b.preventDefault()),i==null||i.ctx.emit(dB,b,(x=e.node)==null?void 0:x.data,e.node)}}}}),Ive=["aria-expanded","aria-disabled","aria-checked","data-key"];function Mve(e,n,i,s,a,u){var f,h,v;const y=gn("el-icon"),b=gn("el-checkbox"),E=gn("el-node-content");return X(),ge("div",{ref:"node$",class:q([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.current),e.ns.is("focusable",!e.disabled),e.ns.is("checked",!e.disabled&&e.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.disabled,"aria-checked":e.checked,"data-key":(f=e.node)==null?void 0:f.key,onClick:n[1]||(n[1]=Bn((...w)=>e.handleClick&&e.handleClick(...w),["stop"])),onContextmenu:n[2]||(n[2]=(...w)=>e.handleContextMenu&&e.handleContextMenu(...w))},[Ce("div",{class:q(e.ns.be("node","content")),style:pn({paddingLeft:`${(e.node.level-1)*e.indent}px`})},[e.icon?(X(),nt(y,{key:0,class:q([e.ns.is("leaf",!!((h=e.node)!=null&&h.isLeaf)),e.ns.is("hidden",e.hiddenExpandIcon),{expanded:!((v=e.node)!=null&&v.isLeaf)&&e.expanded},e.ns.be("node","expand-icon")]),onClick:Bn(e.handleExpandIconClick,["stop"])},{default:Ue(()=>[(X(),nt(er(e.icon)))]),_:1},8,["class","onClick"])):je("v-if",!0),e.showCheckbox?(X(),nt(b,{key:1,"model-value":e.checked,indeterminate:e.indeterminate,disabled:e.disabled,onChange:e.handleCheckChange,onClick:n[0]||(n[0]=Bn(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled","onChange"])):je("v-if",!0),Me(E,{node:e.node},null,8,["node"])],6)],42,Ive)}var xve=Ht(Cve,[["render",Mve],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const Rve=yt({name:"ElTreeV2",components:{ElTreeNode:xve,FixedSizeList:EP},props:mve,emits:_ve,setup(e,n){rr(y1,{ctx:n,props:e,instance:qn()}),rr(va,void 0);const{t:i}=Cr(),s=bt("tree"),{flattenTree:a,isNotEmpty:u,toggleExpand:f,isExpanded:h,isIndeterminate:v,isChecked:y,isDisabled:b,isCurrent:E,isForceHiddenExpandIcon:w,toggleCheckbox:C,handleNodeClick:x,handleNodeCheck:M,getCurrentNode:T,getCurrentKey:P,setCurrentKey:F,getCheckedKeys:B,getCheckedNodes:G,getHalfCheckedKeys:Q,getHalfCheckedNodes:H,setChecked:J,setCheckedKeys:te,filter:ie,setData:ue,getNode:be,expandNode:me,collapseNode:de,setExpandedKeys:ye}=Sve(e,n.emit);return n.expose({getCurrentNode:T,getCurrentKey:P,setCurrentKey:F,getCheckedKeys:B,getCheckedNodes:G,getHalfCheckedKeys:Q,getHalfCheckedNodes:H,setChecked:J,setCheckedKeys:te,filter:ie,setData:ue,getNode:be,expandNode:me,collapseNode:de,setExpandedKeys:ye}),{t:i,ns:s,flattenTree:a,itemSize:26,isNotEmpty:u,toggleExpand:f,toggleCheckbox:C,isExpanded:h,isIndeterminate:v,isChecked:y,isDisabled:b,isCurrent:E,isForceHiddenExpandIcon:w,handleNodeClick:x,handleNodeCheck:M}}});function Tve(e,n,i,s,a,u){var f;const h=gn("el-tree-node"),v=gn("fixed-size-list");return X(),ge("div",{class:q([e.ns.b(),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[e.isNotEmpty?(X(),nt(v,{key:0,"class-name":e.ns.b("virtual-list"),data:e.flattenTree,total:e.flattenTree.length,height:e.height,"item-size":e.itemSize,"perf-mode":e.perfMode},{default:Ue(({data:y,index:b,style:E})=>[(X(),nt(h,{key:y[b].key,style:pn(E),node:y[b],expanded:e.isExpanded(y[b]),"show-checkbox":e.showCheckbox,checked:e.isChecked(y[b]),indeterminate:e.isIndeterminate(y[b]),disabled:e.isDisabled(y[b]),current:e.isCurrent(y[b]),"hidden-expand-icon":e.isForceHiddenExpandIcon(y[b]),onClick:e.handleNodeClick,onToggle:e.toggleExpand,onCheck:e.handleNodeCheck},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(X(),ge("div",{key:1,class:q(e.ns.e("empty-block"))},[Ce("span",{class:q(e.ns.e("empty-text"))},Ut((f=e.emptyText)!=null?f:e.t("el.tree.emptyText")),3)],2))],2)}var Nve=Ht(Rve,[["render",Tve],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const Pve=Yn(Nve),Bve="ElUpload";class Dve extends Error{constructor(n,i,s,a){super(n),this.name="UploadAjaxError",this.status=i,this.method=s,this.url=a}}function AM(e,n,i){let s;return i.response?s=`${i.response.error||i.response}`:i.responseText?s=`${i.responseText}`:s=`fail to ${n.method} ${e} ${i.status}`,new Dve(s,i.status,n.method,e)}function kve(e){const n=e.responseText||e.response;if(!n)return n;try{return JSON.parse(n)}catch{return n}}const Lve=e=>{typeof XMLHttpRequest>"u"&&xi(Bve,"XMLHttpRequest is undefined");const n=new XMLHttpRequest,i=e.action;n.upload&&n.upload.addEventListener("progress",u=>{const f=u;f.percent=u.total>0?u.loaded/u.total*100:0,e.onProgress(f)});const s=new FormData;if(e.data)for(const[u,f]of Object.entries(e.data))Array.isArray(f)?s.append(u,...f):s.append(u,f);s.append(e.filename,e.file,e.file.name),n.addEventListener("error",()=>{e.onError(AM(i,e,n))}),n.addEventListener("load",()=>{if(n.status<200||n.status>=300)return e.onError(AM(i,e,n));e.onSuccess(kve(n))}),n.open(e.method,i,!0),e.withCredentials&&"withCredentials"in n&&(n.withCredentials=!0);const a=e.headers||{};if(a instanceof Headers)a.forEach((u,f)=>n.setRequestHeader(f,u));else for(const[u,f]of Object.entries(a))Es(f)||n.setRequestHeader(u,String(f));return n.send(s),n},fB=["text","picture","picture-card"];let Ove=1;const hB=()=>Date.now()+Ove++,pB=Wt({action:{type:String,default:"#"},headers:{type:ot(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>qr({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:ot(Array),default:()=>qr([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:fB,default:"text"},httpRequest:{type:ot(Function),default:Lve},disabled:Boolean,limit:Number}),Fve=Wt({...pB,beforeUpload:{type:ot(Function),default:Lr},beforeRemove:{type:ot(Function)},onRemove:{type:ot(Function),default:Lr},onChange:{type:ot(Function),default:Lr},onPreview:{type:ot(Function),default:Lr},onSuccess:{type:ot(Function),default:Lr},onProgress:{type:ot(Function),default:Lr},onError:{type:ot(Function),default:Lr},onExceed:{type:ot(Function),default:Lr}}),Vve=Wt({files:{type:ot(Array),default:()=>qr([])},disabled:{type:Boolean,default:!1},handlePreview:{type:ot(Function),default:Lr},listType:{type:String,values:fB,default:"text"}}),Gve={remove:e=>!!e},Uve=["onKeydown"],Hve=["src"],Qve=["onClick"],Xve=["onClick"],zve=["onClick"],$ve={name:"ElUploadList"},Wve=yt({...$ve,props:Vve,emits:Gve,setup(e,{emit:n}){const{t:i}=Cr(),s=bt("upload"),a=bt("icon"),u=bt("list"),f=se(!1),h=v=>{n("remove",v)};return(v,y)=>(X(),nt(l5,{tag:"ul",class:q([g(s).b("list"),g(s).bm("list",v.listType),g(s).is("disabled",v.disabled)]),name:g(u).b()},{default:Ue(()=>[(X(!0),ge(vn,null,cr(v.files,b=>(X(),ge("li",{key:b.uid||b.name,class:q([g(s).be("list","item"),g(s).is(b.status),{focusing:f.value}]),tabindex:"0",onKeydown:hr(E=>!v.disabled&&h(b),["delete"]),onFocus:y[0]||(y[0]=E=>f.value=!0),onBlur:y[1]||(y[1]=E=>f.value=!1),onClick:y[2]||(y[2]=E=>f.value=!1)},[_t(v.$slots,"default",{file:b},()=>[v.listType==="picture"||b.status!=="uploading"&&v.listType==="picture-card"?(X(),ge("img",{key:0,class:q(g(s).be("list","item-thumbnail")),src:b.url,alt:""},null,10,Hve)):je("v-if",!0),b.status==="uploading"||v.listType!=="picture-card"?(X(),ge("div",{key:1,class:q(g(s).be("list","item-info"))},[Ce("a",{class:q(g(s).be("list","item-name")),onClick:Bn(E=>v.handlePreview(b),["prevent"])},[Me(g(fn),{class:q(g(a).m("document"))},{default:Ue(()=>[Me(g(iQ))]),_:1},8,["class"]),Ce("span",{class:q(g(s).be("list","item-file-name"))},Ut(b.name),3)],10,Qve),b.status==="uploading"?(X(),nt(g(pP),{key:0,type:v.listType==="picture-card"?"circle":"line","stroke-width":v.listType==="picture-card"?6:2,percentage:Number(b.percentage),style:pn(v.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):je("v-if",!0)],2)):je("v-if",!0),Ce("label",{class:q(g(s).be("list","item-status-label"))},[v.listType==="text"?(X(),nt(g(fn),{key:0,class:q([g(a).m("upload-success"),g(a).m("circle-check")])},{default:Ue(()=>[Me(g(Zy))]),_:1},8,["class"])):["picture-card","picture"].includes(v.listType)?(X(),nt(g(fn),{key:1,class:q([g(a).m("upload-success"),g(a).m("check")])},{default:Ue(()=>[Me(g(Yh))]),_:1},8,["class"])):je("v-if",!0)],2),v.disabled?je("v-if",!0):(X(),nt(g(fn),{key:2,class:q(g(a).m("close")),onClick:E=>h(b)},{default:Ue(()=>[Me(g(Ho))]),_:2},1032,["class","onClick"])),je(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),je(" This is a bug which needs to be fixed "),je(" TODO: Fix the incorrect navigation interaction "),v.disabled?je("v-if",!0):(X(),ge("i",{key:3,class:q(g(a).m("close-tip"))},Ut(g(i)("el.upload.deleteTip")),3)),v.listType==="picture-card"?(X(),ge("span",{key:4,class:q(g(s).be("list","item-actions"))},[Ce("span",{class:q(g(s).be("list","item-preview")),onClick:E=>v.handlePreview(b)},[Me(g(fn),{class:q(g(a).m("zoom-in"))},{default:Ue(()=>[Me(g(eR))]),_:1},8,["class"])],10,Xve),v.disabled?je("v-if",!0):(X(),ge("span",{key:0,class:q(g(s).be("list","item-delete")),onClick:E=>h(b)},[Me(g(fn),{class:q(g(a).m("delete"))},{default:Ue(()=>[Me(g(JH))]),_:1},8,["class"])],10,zve))],2)):je("v-if",!0)])],42,Uve))),128)),_t(v.$slots,"append")]),_:3},8,["class","name"]))}});var yM=Ht(Wve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const Kve=Wt({disabled:{type:Boolean,default:!1}}),jve={file:e=>hn(e)},qve=["onDrop","onDragover"],Yve={name:"ElUploadDrag"},Jve=yt({...Yve,props:Kve,emits:jve,setup(e,{emit:n}){const i=e,s="ElUploadDrag",a=An(JR);a||xi(s,"usage: <el-upload><el-upload-dragger /></el-upload>");const u=bt("upload"),f=se(!1),h=y=>{if(i.disabled)return;f.value=!1;const b=Array.from(y.dataTransfer.files),E=a.accept.value;if(!E){n("file",b);return}const w=b.filter(C=>{const{type:x,name:M}=C,T=M.includes(".")?`.${M.split(".").pop()}`:"",P=x.replace(/\/.*$/,"");return E.split(",").map(F=>F.trim()).filter(F=>F).some(F=>F.startsWith(".")?T===F:/\/\*$/.test(F)?P===F.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(F)?x===F:!1)});n("file",w)},v=()=>{i.disabled||(f.value=!0)};return(y,b)=>(X(),ge("div",{class:q([g(u).b("dragger"),g(u).is("dragover",f.value)]),onDrop:Bn(h,["prevent"]),onDragover:Bn(v,["prevent"]),onDragleave:b[0]||(b[0]=Bn(E=>f.value=!1,["prevent"]))},[_t(y.$slots,"default")],42,qve))}});var Zve=Ht(Jve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const e_e=Wt({...pB,beforeUpload:{type:ot(Function),default:Lr},onRemove:{type:ot(Function),default:Lr},onStart:{type:ot(Function),default:Lr},onSuccess:{type:ot(Function),default:Lr},onProgress:{type:ot(Function),default:Lr},onError:{type:ot(Function),default:Lr},onExceed:{type:ot(Function),default:Lr}}),t_e=["onKeydown"],n_e=["name","multiple","accept"],r_e={name:"ElUploadContent",inheritAttrs:!1},i_e=yt({...r_e,props:e_e,setup(e,{expose:n}){const i=e,s=bt("upload"),a=Wr({}),u=Wr(),f=C=>{if(C.length===0)return;const{autoUpload:x,limit:M,fileList:T,multiple:P,onStart:F,onExceed:B}=i;if(M&&T.length+C.length>M){B(C,T);return}P||(C=C.slice(0,1));for(const G of C){const Q=G;Q.uid=hB(),F(Q),x&&h(Q)}},h=async C=>{if(u.value.value="",!i.beforeUpload)return v(C);let x;try{x=await i.beforeUpload(C)}catch{x=!1}if(x===!1){i.onRemove(C);return}let M=C;x instanceof Blob&&(x instanceof File?M=x:M=new File([x],C.name,{type:C.type})),v(Object.assign(M,{uid:C.uid}))},v=C=>{const{headers:x,data:M,method:T,withCredentials:P,name:F,action:B,onProgress:G,onSuccess:Q,onError:H,httpRequest:J}=i,{uid:te}=C,ie={headers:x||{},withCredentials:P,file:C,data:M,method:T,filename:F,action:B,onProgress:be=>{G(be,C)},onSuccess:be=>{Q(be,C),delete a.value[te]},onError:be=>{H(be,C),delete a.value[te]}},ue=J(ie);a.value[te]=ue,ue instanceof Promise&&ue.then(ie.onSuccess,ie.onError)},y=C=>{const x=C.target.files;!x||f(Array.from(x))},b=()=>{i.disabled||(u.value.value="",u.value.click())},E=()=>{b()};return n({abort:C=>{nq(a.value).filter(C?([M])=>String(C.uid)===M:()=>!0).forEach(([M,T])=>{T instanceof XMLHttpRequest&&T.abort(),delete a.value[M]})},upload:h}),(C,x)=>(X(),ge("div",{class:q([g(s).b(),g(s).m(C.listType),g(s).is("drag",C.drag)]),tabindex:"0",onClick:b,onKeydown:hr(Bn(E,["self"]),["enter","space"])},[C.drag?(X(),nt(Zve,{key:0,disabled:C.disabled,onFile:f},{default:Ue(()=>[_t(C.$slots,"default")]),_:3},8,["disabled"])):_t(C.$slots,"default",{key:1}),Ce("input",{ref_key:"inputRef",ref:u,class:q(g(s).e("input")),name:C.name,multiple:C.multiple,accept:C.accept,type:"file",onChange:y,onClick:x[0]||(x[0]=Bn(()=>{},["stop"]))},null,42,n_e)],42,t_e))}});var bM=Ht(i_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const SM="ElUpload",s_e=e=>{var n;(n=e.url)!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(e.url)},o_e=(e,n)=>{const i=jj(e,"fileList",void 0,{passive:!0}),s=w=>i.value.find(C=>C.uid===w.uid);function a(w){var C;(C=n.value)==null||C.abort(w)}function u(w=["ready","uploading","success","fail"]){i.value=i.value.filter(C=>!w.includes(C.status))}const f=(w,C)=>{const x=s(C);!x||(console.error(w),x.status="fail",i.value.splice(i.value.indexOf(x),1),e.onError(w,x,i.value),e.onChange(x,i.value))},h=(w,C)=>{const x=s(C);!x||(e.onProgress(w,x,i.value),x.status="uploading",x.percentage=Math.round(w.percent))},v=(w,C)=>{const x=s(C);!x||(x.status="success",x.response=w,e.onSuccess(w,x,i.value),e.onChange(x,i.value))},y=w=>{const C={name:w.name,percentage:0,status:"ready",size:w.size,raw:w,uid:w.uid};if(e.listType==="picture-card"||e.listType==="picture")try{C.url=URL.createObjectURL(w)}catch(x){x.message,e.onError(x,C,i.value)}i.value=[...i.value,C],e.onChange(C,i.value)},b=async w=>{const C=w instanceof File?s(w):w;C||xi(SM,"file to be removed not found");const x=M=>{a(M);const T=i.value;T.splice(T.indexOf(M),1),e.onRemove(M,T),s_e(M)};e.beforeRemove?await e.beforeRemove(C,i.value)!==!1&&x(C):x(C)};function E(){i.value.filter(({status:w})=>w==="ready").forEach(({raw:w})=>{var C;return w&&((C=n.value)==null?void 0:C.upload(w))})}return Ct(()=>e.listType,w=>{w!=="picture-card"&&w!=="picture"||(i.value=i.value.map(C=>{const{raw:x,url:M}=C;if(!M&&x)try{C.url=URL.createObjectURL(x)}catch(T){e.onError(T,C,i.value)}return C}))}),Ct(i,w=>{for(const C of w)C.uid||(C.uid=hB()),C.status||(C.status="success")},{immediate:!0,deep:!0}),{uploadFiles:i,abort:a,clearFiles:u,handleError:f,handleProgress:h,handleStart:y,handleSuccess:v,handleRemove:b,submit:E}},a_e={name:"ElUpload"},l_e=yt({...a_e,props:Fve,setup(e,{expose:n}){const i=e,s=Zi(),a=ol(),u=Wr(),{abort:f,submit:h,clearFiles:v,uploadFiles:y,handleStart:b,handleError:E,handleRemove:w,handleSuccess:C,handleProgress:x}=o_e(i,u),M=$(()=>i.listType==="picture-card"),T=$(()=>({...i,fileList:y.value,onStart:b,onProgress:x,onSuccess:C,onError:E,onRemove:w}));return vi(()=>{y.value.forEach(({url:P})=>{P!=null&&P.startsWith("blob:")&&URL.revokeObjectURL(P)})}),rr(JR,{accept:ui(i,"accept")}),n({abort:f,submit:h,clearFiles:v,handleStart:b,handleRemove:w}),(P,F)=>(X(),ge("div",null,[g(M)&&P.showFileList?(X(),nt(yM,{key:0,disabled:g(a),"list-type":P.listType,files:g(y),"handle-preview":P.onPreview,onRemove:g(w)},$l({append:Ue(()=>[Me(bM,nr({ref_key:"uploadRef",ref:u},g(T)),{default:Ue(()=>[g(s).trigger?_t(P.$slots,"trigger",{key:0}):je("v-if",!0),!g(s).trigger&&g(s).default?_t(P.$slots,"default",{key:1}):je("v-if",!0)]),_:3},16)]),_:2},[P.$slots.file?{name:"default",fn:Ue(({file:B})=>[_t(P.$slots,"file",{file:B})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):je("v-if",!0),!g(M)||g(M)&&!P.showFileList?(X(),nt(bM,nr({key:1,ref_key:"uploadRef",ref:u},g(T)),{default:Ue(()=>[g(s).trigger?_t(P.$slots,"trigger",{key:0}):je("v-if",!0),!g(s).trigger&&g(s).default?_t(P.$slots,"default",{key:1}):je("v-if",!0)]),_:3},16)):je("v-if",!0),P.$slots.trigger?_t(P.$slots,"default",{key:2}):je("v-if",!0),_t(P.$slots,"tip"),!g(M)&&P.showFileList?(X(),nt(yM,{key:3,disabled:g(a),"list-type":P.listType,files:g(y),"handle-preview":P.onPreview,onRemove:g(w)},$l({_:2},[P.$slots.file?{name:"default",fn:Ue(({file:B})=>[_t(P.$slots,"file",{file:B})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):je("v-if",!0)]))}});var c_e=Ht(l_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const u_e=Yn(c_e);var d_e=[yY,NY,tee,Pme,lee,mee,FT,xee,Ree,is,QT,Gte,zte,rne,ine,yre,sre,Ire,vo,Cne,gN,Nre,$re,Wre,Vre,vie,yie,Pie,Bie,Die,kie,Lie,Qse,Zse,eoe,poe,WN,xoe,Aae,yae,bae,nP,zle,$le,fn,oce,sP,rs,oP,yce,Gce,Uce,Hce,jce,Yue,nde,ude,OT,pP,SN,Une,Gne,Mde,Pde,Vde,cl,cu,Eg,wue,Rfe,Ofe,Ffe,phe,Ahe,xhe,Rhe,Uhe,Wpe,Kpe,Nme,Wme,Kme,pv,wte,ege,sge,oge,Ms,Pge,Wge,ave,hve,Pve,u_e];const Oo="ElInfiniteScroll",f_e=50,h_e=200,p_e=0,m_e={delay:{type:Number,default:h_e},distance:{type:Number,default:p_e},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},b1=(e,n)=>Object.entries(m_e).reduce((i,[s,a])=>{var u,f;const{type:h,default:v}=a,y=e.getAttribute(`infinite-scroll-${s}`);let b=(f=(u=n[y])!=null?u:y)!=null?f:v;return b=b==="false"?!1:b,b=h(b),i[s]=Number.isNaN(b)?v:b,i},{}),mB=e=>{const{observer:n}=e[Oo];n&&(n.disconnect(),delete e[Oo].observer)},g_e=(e,n)=>{const{container:i,containerEl:s,instance:a,observer:u,lastScrollTop:f}=e[Oo],{disabled:h,distance:v}=b1(e,a),{clientHeight:y,scrollHeight:b,scrollTop:E}=s,w=E-f;if(e[Oo].lastScrollTop=E,u||h||w<0)return;let C=!1;if(i===e)C=b-(y+E)<=v;else{const{clientTop:x,scrollHeight:M}=e,T=Zj(e,s);C=E+y>=T+x+M-v}C&&n.call(a)};function a0(e,n){const{containerEl:i,instance:s}=e[Oo],{disabled:a}=b1(e,s);a||i.clientHeight===0||(i.scrollHeight<=i.clientHeight?n.call(s):mB(e))}const v_e={async mounted(e,n){const{instance:i,value:s}=n;Vn(s)||xi(Oo,"'v-infinite-scroll' binding value must be a function"),await dn();const{delay:a,immediate:u}=b1(e,i),f=bb(e,!0),h=f===window?document.documentElement:f,v=Zc(g_e.bind(null,e,s),a);if(!!f){if(e[Oo]={instance:i,container:f,containerEl:h,delay:a,cb:s,onScroll:v,lastScrollTop:h.scrollTop},u){const y=new MutationObserver(Zc(a0.bind(null,e,s),f_e));e[Oo].observer=y,y.observe(e,{childList:!0,subtree:!0}),a0(e,s)}f.addEventListener("scroll",v)}},unmounted(e){const{container:n,onScroll:i}=e[Oo];n==null||n.removeEventListener("scroll",i),mB(e)},async updated(e){e[Oo]||await dn();const{containerEl:n,cb:i,observer:s}=e[Oo];n.clientHeight&&s&&a0(e,i)}},Cy=v_e;Cy.install=e=>{e.directive("InfiniteScroll",Cy)};const __e=Cy;function A_e(e){let n;const i=bt("loading"),s=se(!1),a=xr({...e,originalPosition:"",originalOverflow:"",visible:!1});function u(C){a.text=C}function f(){const C=a.parent;if(!C.vLoadingAddClassList){let x=C.getAttribute("loading-number");x=Number.parseInt(x)-1,x?C.setAttribute("loading-number",x.toString()):(ws(C,i.bm("parent","relative")),C.removeAttribute("loading-number")),ws(C,i.bm("parent","hidden"))}h(),E.unmount()}function h(){var C,x;(x=(C=w.$el)==null?void 0:C.parentNode)==null||x.removeChild(w.$el)}function v(){var C;e.beforeClose&&!e.beforeClose()||(s.value=!0,clearTimeout(n),n=window.setTimeout(y,400),a.visible=!1,(C=e.closed)==null||C.call(e))}function y(){if(!s.value)return;const C=a.parent;s.value=!1,C.vLoadingAddClassList=void 0,f()}const E=Ux({name:"ElLoading",setup(){return()=>{const C=a.spinner||a.svg,x=Sn("svg",{class:"circular",viewBox:a.svgViewBox?a.svgViewBox:"25 25 50 50",...C?{innerHTML:C}:{}},[Sn("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),M=a.text?Sn("p",{class:i.b("text")},[a.text]):void 0;return Sn(bi,{name:i.b("fade"),onAfterLeave:y},{default:Ue(()=>[Qn(Me("div",{style:{backgroundColor:a.background||""},class:[i.b("mask"),a.customClass,a.fullscreen?"is-fullscreen":""]},[Sn("div",{class:i.b("spinner")},[x,M])]),[[_r,a.visible]])])})}}}),w=E.mount(document.createElement("div"));return{...Ci(a),setText:u,removeElLoadingChild:h,close:v,handleAfterLeave:y,vm:w,get $el(){return w.$el}}}let Cm;const Iy=function(e={}){if(!dr)return;const n=y_e(e);if(n.fullscreen&&Cm)return Cm;const i=A_e({...n,closed:()=>{var a;(a=n.closed)==null||a.call(n),n.fullscreen&&(Cm=void 0)}});b_e(n,n.parent,i),EM(n,n.parent,i),n.parent.vLoadingAddClassList=()=>EM(n,n.parent,i);let s=n.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",n.parent.setAttribute("loading-number",s),n.parent.appendChild(i.$el),dn(()=>i.visible.value=n.visible),n.fullscreen&&(Cm=i),i},y_e=e=>{var n,i,s,a;let u;return Gn(e.target)?u=(n=document.querySelector(e.target))!=null?n:document.body:u=e.target||document.body,{parent:u===document.body||e.body?document.body:u,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:u===document.body&&((i=e.fullscreen)!=null?i:!0),lock:(s=e.lock)!=null?s:!1,customClass:e.customClass||"",visible:(a=e.visible)!=null?a:!0,target:u}},b_e=async(e,n,i)=>{const{nextZIndex:s}=al(),a={};if(e.fullscreen)i.originalPosition.value=za(document.body,"position"),i.originalOverflow.value=za(document.body,"overflow"),a.zIndex=s();else if(e.parent===document.body){i.originalPosition.value=za(document.body,"position"),await dn();for(const u of["top","left"]){const f=u==="top"?"scrollTop":"scrollLeft";a[u]=`${e.target.getBoundingClientRect()[u]+document.body[f]+document.documentElement[f]-Number.parseInt(za(document.body,`margin-${u}`),10)}px`}for(const u of["height","width"])a[u]=`${e.target.getBoundingClientRect()[u]}px`}else i.originalPosition.value=za(n,"position");for(const[u,f]of Object.entries(a))i.$el.style[u]=f},EM=(e,n,i)=>{const s=bt("loading");["absolute","fixed","sticky"].includes(i.originalPosition.value)?ws(n,s.bm("parent","relative")):ha(n,s.bm("parent","relative")),e.fullscreen&&e.lock?ha(n,s.bm("parent","hidden")):ws(n,s.bm("parent","hidden"))},My=Symbol("ElLoading"),wM=(e,n)=>{var i,s,a,u;const f=n.instance,h=w=>ur(n.value)?n.value[w]:void 0,v=w=>{const C=Gn(w)&&(f==null?void 0:f[w])||w;return C&&se(C)},y=w=>v(h(w)||e.getAttribute(`element-loading-${Jl(w)}`)),b=(i=h("fullscreen"))!=null?i:n.modifiers.fullscreen,E={text:y("text"),svg:y("svg"),svgViewBox:y("svgViewBox"),spinner:y("spinner"),background:y("background"),customClass:y("customClass"),fullscreen:b,target:(s=h("target"))!=null?s:b?void 0:e,body:(a=h("body"))!=null?a:n.modifiers.body,lock:(u=h("lock"))!=null?u:n.modifiers.lock};e[My]={options:E,instance:Iy(E)}},S_e=(e,n)=>{for(const i of Object.keys(n))Qr(n[i])&&(n[i].value=e[i])},CM={mounted(e,n){n.value&&wM(e,n)},updated(e,n){const i=e[My];n.oldValue!==n.value&&(n.value&&!n.oldValue?wM(e,n):n.value&&n.oldValue?ur(n.value)&&S_e(n.value,i.options):i==null||i.instance.close())},unmounted(e){var n;(n=e[My])==null||n.instance.close()}},E_e={install(e){e.directive("loading",CM),e.config.globalProperties.$loading=Iy},directive:CM,service:Iy},gB=["success","info","warning","error"],bs=qr({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:dr?document.body:void 0}),w_e=Wt({customClass:{type:String,default:bs.customClass},center:{type:Boolean,default:bs.center},dangerouslyUseHTMLString:{type:Boolean,default:bs.dangerouslyUseHTMLString},duration:{type:Number,default:bs.duration},icon:{type:$r,default:bs.icon},id:{type:String,default:bs.id},message:{type:ot([String,Object,Function]),default:bs.message},onClose:{type:ot(Function),required:!1},showClose:{type:Boolean,default:bs.showClose},type:{type:String,values:gB,default:bs.type},offset:{type:Number,default:bs.offset},zIndex:{type:Number,default:bs.zIndex},grouping:{type:Boolean,default:bs.grouping},repeatNum:{type:Number,default:bs.repeatNum}}),C_e={destroy:()=>!0},ma=QM([]),I_e=e=>{const n=ma.findIndex(a=>a.id===e),i=ma[n];let s;return n>0&&(s=ma[n-1]),{current:i,prev:s}},M_e=e=>{const{prev:n}=I_e(e);return n?n.vm.exposed.bottom.value:0},x_e=["id"],R_e=["innerHTML"],T_e={name:"ElMessage"},N_e=yt({...T_e,props:w_e,emits:C_e,setup(e,{expose:n}){const i=e,{Close:s}=Sb,a=bt("message"),u=se(),f=se(!1),h=se(0);let v;const y=$(()=>i.type?i.type==="error"?"danger":i.type:"info"),b=$(()=>{const G=i.type;return{[a.bm("icon",G)]:G&&jl[G]}}),E=$(()=>i.icon||jl[i.type]||""),w=$(()=>M_e(i.id)),C=$(()=>i.offset+w.value),x=$(()=>h.value+C.value),M=$(()=>({top:`${C.value}px`,zIndex:i.zIndex}));function T(){i.duration!==0&&({stop:v}=ou(()=>{F()},i.duration))}function P(){v==null||v()}function F(){f.value=!1}function B({code:G}){G===bn.esc&&F()}return jn(()=>{T(),f.value=!0}),Ct(()=>i.repeatNum,()=>{P(),T()}),Kr(document,"keydown",B),ss(u,()=>{h.value=u.value.getBoundingClientRect().height}),n({visible:f,bottom:x,close:F}),(G,Q)=>(X(),nt(bi,{name:g(a).b("fade"),onBeforeLeave:G.onClose,onAfterLeave:Q[0]||(Q[0]=H=>G.$emit("destroy")),persisted:""},{default:Ue(()=>[Qn(Ce("div",{id:G.id,ref_key:"messageRef",ref:u,class:q([g(a).b(),{[g(a).m(G.type)]:G.type&&!G.icon},g(a).is("center",G.center),g(a).is("closable",G.showClose),G.customClass]),style:pn(g(M)),role:"alert",onMouseenter:P,onMouseleave:T},[G.repeatNum>1?(X(),nt(g(FT),{key:0,value:G.repeatNum,type:g(y),class:q(g(a).e("badge"))},null,8,["value","type","class"])):je("v-if",!0),g(E)?(X(),nt(g(fn),{key:1,class:q([g(a).e("icon"),g(b)])},{default:Ue(()=>[(X(),nt(er(g(E))))]),_:1},8,["class"])):je("v-if",!0),_t(G.$slots,"default",{},()=>[G.dangerouslyUseHTMLString?(X(),ge(vn,{key:1},[je(" Caution here, message could've been compromised, never use user's input as message "),Ce("p",{class:q(g(a).e("content")),innerHTML:G.message},null,10,R_e)],2112)):(X(),ge("p",{key:0,class:q(g(a).e("content"))},Ut(G.message),3))]),G.showClose?(X(),nt(g(fn),{key:2,class:q(g(a).e("closeBtn")),onClick:Bn(F,["stop"])},{default:Ue(()=>[Me(g(s))]),_:1},8,["class","onClick"])):je("v-if",!0)],46,x_e),[[_r,f.value]])]),_:3},8,["name","onBeforeLeave"]))}});var P_e=Ht(N_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let B_e=1;const vB=e=>{const n=!e||Gn(e)||gi(e)||Vn(e)?{message:e}:e,i={...bs,...n};if(!i.appendTo)i.appendTo=document.body;else if(Gn(i.appendTo)){let s=document.querySelector(i.appendTo);Za(s)||(s=document.body),i.appendTo=s}return i},D_e=e=>{const n=ma.indexOf(e);if(n===-1)return;ma.splice(n,1);const{handler:i}=e;i.close()},k_e=({appendTo:e,...n},i)=>{const{nextZIndex:s}=al(),a=`message_${B_e++}`,u=n.onClose,f=document.createElement("div"),h={...n,zIndex:s()+n.zIndex,id:a,onClose:()=>{u==null||u(),D_e(E)},onDestroy:()=>{Rd(null,f)}},v=Me(P_e,h,Vn(h.message)||gi(h.message)?{default:Vn(h.message)?h.message:()=>h.message}:null);v.appContext=i||Qd._context,Rd(v,f),e.appendChild(f.firstElementChild);const y=v.component,E={id:a,vnode:v,vm:y,handler:{close:()=>{y.exposed.visible.value=!1}},props:v.component.props};return E},Qd=(e={},n)=>{if(!dr)return{close:()=>{}};if($n(Z0.max)&&ma.length>=Z0.max)return{close:()=>{}};const i=vB(e);if(i.grouping&&ma.length){const a=ma.find(({vnode:u})=>{var f;return((f=u.props)==null?void 0:f.message)===i.message});if(a)return a.props.repeatNum+=1,a.props.type=i.type,a.handler}const s=k_e(i,n);return ma.push(s),s.handler};gB.forEach(e=>{Qd[e]=(n={},i)=>{const s=vB(n);return Qd({...s,type:e},i)}});function L_e(e){for(const n of ma)(!e||e===n.props.type)&&n.handler.close()}Qd.closeAll=L_e;Qd._context=null;const O_e=GR(Qd,"$message"),F_e=yt({name:"ElMessageBox",directives:{TrapFocus:ote},components:{ElButton:is,ElFocusTrap:fv,ElInput:rs,ElOverlay:jb,ElIcon:fn,...Sb},inheritAttrs:!1,props:{buttonSize:{type:String,validator:_u},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:n}){const{t:i}=Cr(),s=bt("message-box"),a=se(!1),{nextZIndex:u}=al(),f=xr({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:u()}),h=$(()=>{const de=f.type;return{[s.bm("icon",de)]:de&&jl[de]}}),v=zo(),y=zo(),b=Ei($(()=>e.buttonSize),{prop:!0,form:!0,formItem:!0}),E=$(()=>f.icon||jl[f.type]||""),w=$(()=>!!f.message),C=se(),x=se(),M=se(),T=se(),P=se(),F=$(()=>f.confirmButtonClass);Ct(()=>f.inputValue,async de=>{await dn(),e.boxType==="prompt"&&de!==null&&ie()},{immediate:!0}),Ct(()=>a.value,de=>{var ye,ve;de&&(e.boxType!=="prompt"&&(f.autofocus?M.value=(ve=(ye=P.value)==null?void 0:ye.$el)!=null?ve:C.value:M.value=C.value),f.zIndex=u()),e.boxType==="prompt"&&(de?dn().then(()=>{var Ee;T.value&&T.value.$el&&(f.autofocus?M.value=(Ee=ue())!=null?Ee:C.value:M.value=C.value)}):(f.editorErrorMessage="",f.validateError=!1))});const B=$(()=>e.draggable);rT(C,x,B),jn(async()=>{await dn(),e.closeOnHashChange&&window.addEventListener("hashchange",G)}),vi(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",G)});function G(){!a.value||(a.value=!1,dn(()=>{f.action&&n("action",f.action)}))}const Q=()=>{e.closeOnClickModal&&te(f.distinguishCancelAndClose?"close":"cancel")},H=Tb(Q),J=de=>{if(f.inputType!=="textarea")return de.preventDefault(),te("confirm")},te=de=>{var ye;e.boxType==="prompt"&&de==="confirm"&&!ie()||(f.action=de,f.beforeClose?(ye=f.beforeClose)==null||ye.call(f,de,f,G):G())},ie=()=>{if(e.boxType==="prompt"){const de=f.inputPattern;if(de&&!de.test(f.inputValue||""))return f.editorErrorMessage=f.inputErrorMessage||i("el.messagebox.error"),f.validateError=!0,!1;const ye=f.inputValidator;if(typeof ye=="function"){const ve=ye(f.inputValue);if(ve===!1)return f.editorErrorMessage=f.inputErrorMessage||i("el.messagebox.error"),f.validateError=!0,!1;if(typeof ve=="string")return f.editorErrorMessage=ve,f.validateError=!0,!1}}return f.editorErrorMessage="",f.validateError=!1,!0},ue=()=>{const de=T.value.$refs;return de.input||de.textarea},be=()=>{te("close")},me=()=>{e.closeOnPressEscape&&be()};return e.lockScroll&&iT(a),Rq(a),{...Ci(f),ns:s,overlayEvent:H,visible:a,hasMessage:w,typeClass:h,contentId:v,inputId:y,btnSize:b,iconComponent:E,confirmButtonClasses:F,rootRef:C,focusStartRef:M,headerRef:x,inputRef:T,confirmRef:P,doClose:G,handleClose:be,onCloseRequested:me,handleWrapperClick:Q,handleInputEnter:J,handleAction:te,t:i}}}),V_e=["aria-label","aria-describedby"],G_e=["aria-label"],U_e=["id"];function H_e(e,n,i,s,a,u){const f=gn("el-icon"),h=gn("close"),v=gn("el-input"),y=gn("el-button"),b=gn("el-focus-trap"),E=gn("el-overlay");return X(),nt(bi,{name:"fade-in-linear",onAfterLeave:n[11]||(n[11]=w=>e.$emit("vanish")),persisted:""},{default:Ue(()=>[Qn(Me(E,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:Ue(()=>[Ce("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:q(`${e.ns.namespace.value}-overlay-message-box`),onClick:n[8]||(n[8]=(...w)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...w)),onMousedown:n[9]||(n[9]=(...w)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...w)),onMouseup:n[10]||(n[10]=(...w)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...w))},[Me(b,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:Ue(()=>[Ce("div",{ref:"rootRef",class:q([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:pn(e.customStyle),tabindex:"-1",onClick:n[7]||(n[7]=Bn(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(X(),ge("div",{key:0,ref:"headerRef",class:q(e.ns.e("header"))},[Ce("div",{class:q(e.ns.e("title"))},[e.iconComponent&&e.center?(X(),nt(f,{key:0,class:q([e.ns.e("status"),e.typeClass])},{default:Ue(()=>[(X(),nt(er(e.iconComponent)))]),_:1},8,["class"])):je("v-if",!0),Ce("span",null,Ut(e.title),1)],2),e.showClose?(X(),ge("button",{key:0,type:"button",class:q(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:n[0]||(n[0]=w=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:n[1]||(n[1]=hr(Bn(w=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[Me(f,{class:q(e.ns.e("close"))},{default:Ue(()=>[Me(h)]),_:1},8,["class"])],42,G_e)):je("v-if",!0)],2)):je("v-if",!0),Ce("div",{id:e.contentId,class:q(e.ns.e("content"))},[Ce("div",{class:q(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(X(),nt(f,{key:0,class:q([e.ns.e("status"),e.typeClass])},{default:Ue(()=>[(X(),nt(er(e.iconComponent)))]),_:1},8,["class"])):je("v-if",!0),e.hasMessage?(X(),ge("div",{key:1,class:q(e.ns.e("message"))},[_t(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(X(),nt(er(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(X(),nt(er(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:Ue(()=>[pr(Ut(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):je("v-if",!0)],2),Qn(Ce("div",{class:q(e.ns.e("input"))},[Me(v,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":n[2]||(n[2]=w=>e.inputValue=w),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:q({invalid:e.validateError}),onKeydown:hr(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Ce("div",{class:q(e.ns.e("errormsg")),style:pn({visibility:e.editorErrorMessage?"visible":"hidden"})},Ut(e.editorErrorMessage),7)],2),[[_r,e.showInput]])],10,U_e),Ce("div",{class:q(e.ns.e("btns"))},[e.showCancelButton?(X(),nt(y,{key:0,loading:e.cancelButtonLoading,class:q([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:n[3]||(n[3]=w=>e.handleAction("cancel")),onKeydown:n[4]||(n[4]=hr(Bn(w=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:Ue(()=>[pr(Ut(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):je("v-if",!0),Qn(Me(y,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:q([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:n[5]||(n[5]=w=>e.handleAction("confirm")),onKeydown:n[6]||(n[6]=hr(Bn(w=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:Ue(()=>[pr(Ut(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[_r,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,V_e)]),_:3},8,["z-index","overlay-class","mask"]),[[_r,e.visible]])]),_:3})}var Q_e=Ht(F_e,[["render",H_e],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const zh=new Map,X_e=(e,n,i=null)=>{const s=Me(Q_e,e,Vn(e.message)||gi(e.message)?{default:Vn(e.message)?e.message:()=>e.message}:null);return s.appContext=i,Rd(s,n),document.body.appendChild(n.firstElementChild),s.component},z_e=()=>document.createElement("div"),$_e=(e,n)=>{const i=z_e();e.onVanish=()=>{Rd(null,i),zh.delete(a)},e.onAction=u=>{const f=zh.get(a);let h;e.showInput?h={value:a.inputValue,action:u}:h=u,e.callback?e.callback(h,s.proxy):u==="cancel"||u==="close"?e.distinguishCancelAndClose&&u!=="cancel"?f.reject("close"):f.reject("cancel"):f.resolve(h)};const s=X_e(e,i,n),a=s.proxy;for(const u in e)ar(e,u)&&!ar(a.$props,u)&&(a[u]=e[u]);return a.visible=!0,a};function Kd(e,n=null){if(!dr)return Promise.reject();let i;return Gn(e)||gi(e)?e={message:e}:i=e.callback,new Promise((s,a)=>{const u=$_e(e,n!=null?n:Kd._context);zh.set(u,{options:e,callback:i,resolve:s,reject:a})})}const W_e=["alert","confirm","prompt"],K_e={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};W_e.forEach(e=>{Kd[e]=j_e(e)});function j_e(e){return(n,i,s,a)=>{let u="";return ur(i)?(s=i,u=""):qi(i)?u="":u=i,Kd(Object.assign({title:u,message:n,type:"",...K_e[e]},s,{boxType:e}),a)}}Kd.close=()=>{zh.forEach((e,n)=>{n.doClose()}),zh.clear()};Kd._context=null;const Ol=Kd;Ol.install=e=>{Ol._context=e._context,e.config.globalProperties.$msgbox=Ol,e.config.globalProperties.$messageBox=Ol,e.config.globalProperties.$alert=Ol.alert,e.config.globalProperties.$confirm=Ol.confirm,e.config.globalProperties.$prompt=Ol.prompt};const q_e=Ol,_B=["success","info","warning","error"],Y_e=Wt({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:$r},id:{type:String,default:""},message:{type:ot([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:ot(Function),default:()=>{}},onClose:{type:ot(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[..._B,""],default:""},zIndex:{type:Number,default:0}}),J_e={destroy:()=>!0},Z_e=["id"],eAe=["textContent"],tAe={key:0},nAe=["innerHTML"],rAe={name:"ElNotification"},iAe=yt({...rAe,props:Y_e,emits:J_e,setup(e,{expose:n}){const i=e,s=bt("notification"),{Close:a}=FR,u=se(!1);let f;const h=$(()=>{const T=i.type;return T&&jl[i.type]?s.m(T):""}),v=$(()=>i.type&&jl[i.type]||i.icon),y=$(()=>i.position.endsWith("right")?"right":"left"),b=$(()=>i.position.startsWith("top")?"top":"bottom"),E=$(()=>({[b.value]:`${i.offset}px`,zIndex:i.zIndex}));function w(){i.duration>0&&({stop:f}=ou(()=>{u.value&&x()},i.duration))}function C(){f==null||f()}function x(){u.value=!1}function M({code:T}){T===bn.delete||T===bn.backspace?C():T===bn.esc?u.value&&x():w()}return jn(()=>{w(),u.value=!0}),Kr(document,"keydown",M),n({visible:u,close:x}),(T,P)=>(X(),nt(bi,{name:g(s).b("fade"),onBeforeLeave:T.onClose,onAfterLeave:P[1]||(P[1]=F=>T.$emit("destroy")),persisted:""},{default:Ue(()=>[Qn(Ce("div",{id:T.id,class:q([g(s).b(),T.customClass,g(y)]),style:pn(g(E)),role:"alert",onMouseenter:C,onMouseleave:w,onClick:P[0]||(P[0]=(...F)=>T.onClick&&T.onClick(...F))},[g(v)?(X(),nt(g(fn),{key:0,class:q([g(s).e("icon"),g(h)])},{default:Ue(()=>[(X(),nt(er(g(v))))]),_:1},8,["class"])):je("v-if",!0),Ce("div",{class:q(g(s).e("group"))},[Ce("h2",{class:q(g(s).e("title")),textContent:Ut(T.title)},null,10,eAe),Qn(Ce("div",{class:q(g(s).e("content")),style:pn(T.title?void 0:{margin:0})},[_t(T.$slots,"default",{},()=>[T.dangerouslyUseHTMLString?(X(),ge(vn,{key:1},[je(" Caution here, message could've been compromised, never use user's input as message "),Ce("p",{innerHTML:T.message},null,8,nAe)],2112)):(X(),ge("p",tAe,Ut(T.message),1))])],6),[[_r,T.message]]),T.showClose?(X(),nt(g(fn),{key:0,class:q(g(s).e("closeBtn")),onClick:Bn(x,["stop"])},{default:Ue(()=>[Me(g(a))]),_:1},8,["class","onClick"])):je("v-if",!0)],2)],46,Z_e),[[_r,u.value]])]),_:3},8,["name","onBeforeLeave"]))}});var sAe=Ht(iAe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const Pg={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},xy=16;let oAe=1;const Xd=function(e={},n=null){if(!dr)return{close:()=>{}};(typeof e=="string"||gi(e))&&(e={message:e});const i=e.position||"top-right";let s=e.offset||0;Pg[i].forEach(({vm:E})=>{var w;s+=(((w=E.el)==null?void 0:w.offsetHeight)||0)+xy}),s+=xy;const{nextZIndex:a}=al(),u=`notification_${oAe++}`,f=e.onClose,h={...e,zIndex:a(),offset:s,id:u,onClose:()=>{aAe(u,i,f)}};let v=document.body;Za(e.appendTo)?v=e.appendTo:Gn(e.appendTo)&&(v=document.querySelector(e.appendTo)),Za(v)||(v=document.body);const y=document.createElement("div"),b=Me(sAe,h,gi(h.message)?{default:()=>h.message}:null);return b.appContext=n!=null?n:Xd._context,b.props.onDestroy=()=>{Rd(null,y)},Rd(b,y),Pg[i].push({vm:b}),v.appendChild(y.firstElementChild),{close:()=>{b.component.exposed.visible.value=!1}}};_B.forEach(e=>{Xd[e]=(n={})=>((typeof n=="string"||gi(n))&&(n={message:n}),Xd({...n,type:e}))});function aAe(e,n,i){const s=Pg[n],a=s.findIndex(({vm:y})=>{var b;return((b=y.component)==null?void 0:b.props.id)===e});if(a===-1)return;const{vm:u}=s[a];if(!u)return;i==null||i(u);const f=u.el.offsetHeight,h=n.split("-")[0];s.splice(a,1);const v=s.length;if(!(v<1))for(let y=a;y<v;y++){const{el:b,component:E}=s[y].vm,w=Number.parseInt(b.style[h],10)-f-xy;E.props.offset=w}}function lAe(){for(const e of Object.values(Pg))e.forEach(({vm:n})=>{n.component.exposed.visible.value=!1})}Xd.closeAll=lAe;Xd._context=null;const cAe=GR(Xd,"$notify");var uAe=[__e,E_e,O_e,q_e,cAe,hP],dAe=pY([...d_e,...uAe]);Ux(Uz).use(dAe).mount("#app")});export default fAe();
