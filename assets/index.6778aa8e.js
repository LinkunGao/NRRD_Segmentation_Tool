var lz=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var mSe=lz((fo,ho)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerpolicy&&(d.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?d.credentials="include":l.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(l){if(l.ep)return;l.ep=!0;const d=i(l);fetch(l.href,d)}})();function J1(t,n){const i=Object.create(null),o=t.split(",");for(let l=0;l<o.length;l++)i[o[l]]=!0;return n?l=>!!i[l.toLowerCase()]:l=>!!i[l]}function fn(t){if(on(t)){const n={};for(let i=0;i<t.length;i++){const o=t[i],l=On(o)?fz(o):fn(o);if(l)for(const d in l)n[d]=l[d]}return n}else{if(On(t))return t;if(nr(t))return t}}const cz=/;(?![^(]*\))/g,uz=/:([^]+)/,dz=/\/\*.*?\*\//gs;function fz(t){const n={};return t.replace(dz,"").split(cz).forEach(i=>{if(i){const o=i.split(uz);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function J(t){let n="";if(On(t))n=t;else if(on(t))for(let i=0;i<t.length;i++){const o=J(t[i]);o&&(n+=o+" ")}else if(nr(t))for(const i in t)t[i]&&(n+=i+" ");return n.trim()}function ha(t){if(!t)return null;let{class:n,style:i}=t;return n&&!On(n)&&(t.class=J(n)),i&&(t.style=fn(i)),t}const hz="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",pz=J1(hz);function FT(t){return!!t||t===""}function mz(t,n){if(t.length!==n.length)return!1;let i=!0;for(let o=0;i&&o<t.length;o++)i=bf(t[o],n[o]);return i}function bf(t,n){if(t===n)return!0;let i=zu(t),o=zu(n);if(i||o)return i&&o?t.getTime()===n.getTime():!1;if(i=Dp(t),o=Dp(n),i||o)return t===n;if(i=on(t),o=on(n),i||o)return i&&o?mz(t,n):!1;if(i=nr(t),o=nr(n),i||o){if(!i||!o)return!1;const l=Object.keys(t).length,d=Object.keys(n).length;if(l!==d)return!1;for(const h in t){const g=t.hasOwnProperty(h),y=n.hasOwnProperty(h);if(g&&!y||!g&&y||!bf(t[h],n[h]))return!1}}return String(t)===String(n)}function VT(t,n){return t.findIndex(i=>bf(i,n))}const Xt=t=>On(t)?t:t==null?"":on(t)||nr(t)&&(t.toString===UT||!Nn(t.toString))?JSON.stringify(t,GT,2):String(t),GT=(t,n)=>n&&n.__v_isRef?GT(t,n.value):hf(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((i,[o,l])=>(i[`${o} =>`]=l,i),{})}:E_(n)?{[`Set(${n.size})`]:[...n.values()]}:nr(n)&&!on(n)&&!zT(n)?String(n):n,yi={},ff=[],Fr=()=>{},gz=()=>!1,vz=/^on[^a-z]/,w_=t=>vz.test(t),Z1=t=>t.startsWith("onUpdate:"),is=Object.assign,eS=(t,n)=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)},_z=Object.prototype.hasOwnProperty,cr=(t,n)=>_z.call(t,n),on=Array.isArray,hf=t=>um(t)==="[object Map]",E_=t=>um(t)==="[object Set]",zu=t=>um(t)==="[object Date]",Nn=t=>typeof t=="function",On=t=>typeof t=="string",Dp=t=>typeof t=="symbol",nr=t=>t!==null&&typeof t=="object",kp=t=>nr(t)&&Nn(t.then)&&Nn(t.catch),UT=Object.prototype.toString,um=t=>UT.call(t),bv=t=>um(t).slice(8,-1),zT=t=>um(t)==="[object Object]",tS=t=>On(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Sv=J1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),C_=t=>{const n=Object.create(null);return i=>n[i]||(n[i]=t(i))},Az=/-(\w)/g,Bo=C_(t=>t.replace(Az,(n,i)=>i?i.toUpperCase():"")),yz=/\B([A-Z])/g,Nc=C_(t=>t.replace(yz,"-$1").toLowerCase()),dm=C_(t=>t.charAt(0).toUpperCase()+t.slice(1)),wv=C_(t=>t?`on${dm(t)}`:""),Lp=(t,n)=>!Object.is(t,n),Ev=(t,n)=>{for(let i=0;i<t.length;i++)t[i](n)},Yv=(t,n,i)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value:i})},Op=t=>{const n=parseFloat(t);return isNaN(n)?t:n};let o2;const bz=()=>o2||(o2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let lo;class HT{constructor(n=!1){this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=lo,!n&&lo&&(this.index=(lo.scopes||(lo.scopes=[])).push(this)-1)}run(n){if(this.active){const i=lo;try{return lo=this,n()}finally{lo=i}}}on(){lo=this}off(){lo=this.parent}stop(n){if(this.active){let i,o;for(i=0,o=this.effects.length;i<o;i++)this.effects[i].stop();for(i=0,o=this.cleanups.length;i<o;i++)this.cleanups[i]();if(this.scopes)for(i=0,o=this.scopes.length;i<o;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!n){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this.active=!1}}}function Sz(t){return new HT(t)}function wz(t,n=lo){n&&n.active&&n.effects.push(t)}function Ez(){return lo}function QT(t){lo&&lo.cleanups.push(t)}const nS=t=>{const n=new Set(t);return n.w=0,n.n=0,n},XT=t=>(t.w&wc)>0,$T=t=>(t.n&wc)>0,Cz=({deps:t})=>{if(t.length)for(let n=0;n<t.length;n++)t[n].w|=wc},Iz=t=>{const{deps:n}=t;if(n.length){let i=0;for(let o=0;o<n.length;o++){const l=n[o];XT(l)&&!$T(l)?l.delete(t):n[i++]=l,l.w&=~wc,l.n&=~wc}n.length=i}},Bb=new WeakMap;let mp=0,wc=1;const Db=30;let fa;const ku=Symbol(""),kb=Symbol("");class rS{constructor(n,i=null,o){this.fn=n,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,wz(this,o)}run(){if(!this.active)return this.fn();let n=fa,i=yc;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=fa,fa=this,yc=!0,wc=1<<++mp,mp<=Db?Cz(this):a2(this),this.fn()}finally{mp<=Db&&Iz(this),wc=1<<--mp,fa=this.parent,yc=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){fa===this?this.deferStop=!0:this.active&&(a2(this),this.onStop&&this.onStop(),this.active=!1)}}function a2(t){const{deps:n}=t;if(n.length){for(let i=0;i<n.length;i++)n[i].delete(t);n.length=0}}let yc=!0;const WT=[];function zf(){WT.push(yc),yc=!1}function Hf(){const t=WT.pop();yc=t===void 0?!0:t}function mo(t,n,i){if(yc&&fa){let o=Bb.get(t);o||Bb.set(t,o=new Map);let l=o.get(i);l||o.set(i,l=nS()),KT(l)}}function KT(t,n){let i=!1;mp<=Db?$T(t)||(t.n|=wc,i=!XT(t)):i=!t.has(fa),i&&(t.add(fa),fa.deps.push(t))}function Ml(t,n,i,o,l,d){const h=Bb.get(t);if(!h)return;let g=[];if(n==="clear")g=[...h.values()];else if(i==="length"&&on(t)){const y=Op(o);h.forEach((b,C)=>{(C==="length"||C>=y)&&g.push(b)})}else switch(i!==void 0&&g.push(h.get(i)),n){case"add":on(t)?tS(i)&&g.push(h.get("length")):(g.push(h.get(ku)),hf(t)&&g.push(h.get(kb)));break;case"delete":on(t)||(g.push(h.get(ku)),hf(t)&&g.push(h.get(kb)));break;case"set":hf(t)&&g.push(h.get(ku));break}if(g.length===1)g[0]&&Lb(g[0]);else{const y=[];for(const b of g)b&&y.push(...b);Lb(nS(y))}}function Lb(t,n){const i=on(t)?t:[...t];for(const o of i)o.computed&&l2(o);for(const o of i)o.computed||l2(o)}function l2(t,n){(t!==fa||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const xz=J1("__proto__,__v_isRef,__isVue"),jT=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Dp)),Mz=iS(),Rz=iS(!1,!0),Tz=iS(!0),c2=Pz();function Pz(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...i){const o=kr(this);for(let d=0,h=this.length;d<h;d++)mo(o,"get",d+"");const l=o[n](...i);return l===-1||l===!1?o[n](...i.map(kr)):l}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...i){zf();const o=kr(this)[n].apply(this,i);return Hf(),o}}),t}function iS(t=!1,n=!1){return function(o,l,d){if(l==="__v_isReactive")return!t;if(l==="__v_isReadonly")return t;if(l==="__v_isShallow")return n;if(l==="__v_raw"&&d===(t?n?Wz:eP:n?ZT:JT).get(o))return o;const h=on(o);if(!t&&h&&cr(c2,l))return Reflect.get(c2,l,d);const g=Reflect.get(o,l,d);return(Dp(l)?jT.has(l):xz(l))||(t||mo(o,"get",l),n)?g:Wr(g)?h&&tS(l)?g:g.value:nr(g)?t?fm(g):Mr(g):g}}const Nz=qT(),Bz=qT(!0);function qT(t=!1){return function(i,o,l,d){let h=i[o];if(Sf(h)&&Wr(h)&&!Wr(l))return!1;if(!t&&(!Jv(l)&&!Sf(l)&&(h=kr(h),l=kr(l)),!on(i)&&Wr(h)&&!Wr(l)))return h.value=l,!0;const g=on(i)&&tS(o)?Number(o)<i.length:cr(i,o),y=Reflect.set(i,o,l,d);return i===kr(d)&&(g?Lp(l,h)&&Ml(i,"set",o,l):Ml(i,"add",o,l)),y}}function Dz(t,n){const i=cr(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&i&&Ml(t,"delete",n,void 0),o}function kz(t,n){const i=Reflect.has(t,n);return(!Dp(n)||!jT.has(n))&&mo(t,"has",n),i}function Lz(t){return mo(t,"iterate",on(t)?"length":ku),Reflect.ownKeys(t)}const YT={get:Mz,set:Nz,deleteProperty:Dz,has:kz,ownKeys:Lz},Oz={get:Tz,set(t,n){return!0},deleteProperty(t,n){return!0}},Fz=is({},YT,{get:Rz,set:Bz}),sS=t=>t,I_=t=>Reflect.getPrototypeOf(t);function qg(t,n,i=!1,o=!1){t=t.__v_raw;const l=kr(t),d=kr(n);i||(n!==d&&mo(l,"get",n),mo(l,"get",d));const{has:h}=I_(l),g=o?sS:i?lS:Fp;if(h.call(l,n))return g(t.get(n));if(h.call(l,d))return g(t.get(d));t!==l&&t.get(n)}function Yg(t,n=!1){const i=this.__v_raw,o=kr(i),l=kr(t);return n||(t!==l&&mo(o,"has",t),mo(o,"has",l)),t===l?i.has(t):i.has(t)||i.has(l)}function Jg(t,n=!1){return t=t.__v_raw,!n&&mo(kr(t),"iterate",ku),Reflect.get(t,"size",t)}function u2(t){t=kr(t);const n=kr(this);return I_(n).has.call(n,t)||(n.add(t),Ml(n,"add",t,t)),this}function d2(t,n){n=kr(n);const i=kr(this),{has:o,get:l}=I_(i);let d=o.call(i,t);d||(t=kr(t),d=o.call(i,t));const h=l.call(i,t);return i.set(t,n),d?Lp(n,h)&&Ml(i,"set",t,n):Ml(i,"add",t,n),this}function f2(t){const n=kr(this),{has:i,get:o}=I_(n);let l=i.call(n,t);l||(t=kr(t),l=i.call(n,t)),o&&o.call(n,t);const d=n.delete(t);return l&&Ml(n,"delete",t,void 0),d}function h2(){const t=kr(this),n=t.size!==0,i=t.clear();return n&&Ml(t,"clear",void 0,void 0),i}function Zg(t,n){return function(o,l){const d=this,h=d.__v_raw,g=kr(h),y=n?sS:t?lS:Fp;return!t&&mo(g,"iterate",ku),h.forEach((b,C)=>o.call(l,y(b),y(C),d))}}function ev(t,n,i){return function(...o){const l=this.__v_raw,d=kr(l),h=hf(d),g=t==="entries"||t===Symbol.iterator&&h,y=t==="keys"&&h,b=l[t](...o),C=i?sS:n?lS:Fp;return!n&&mo(d,"iterate",y?kb:ku),{next(){const{value:E,done:I}=b.next();return I?{value:E,done:I}:{value:g?[C(E[0]),C(E[1])]:C(E),done:I}},[Symbol.iterator](){return this}}}}function cc(t){return function(...n){return t==="delete"?!1:this}}function Vz(){const t={get(d){return qg(this,d)},get size(){return Jg(this)},has:Yg,add:u2,set:d2,delete:f2,clear:h2,forEach:Zg(!1,!1)},n={get(d){return qg(this,d,!1,!0)},get size(){return Jg(this)},has:Yg,add:u2,set:d2,delete:f2,clear:h2,forEach:Zg(!1,!0)},i={get(d){return qg(this,d,!0)},get size(){return Jg(this,!0)},has(d){return Yg.call(this,d,!0)},add:cc("add"),set:cc("set"),delete:cc("delete"),clear:cc("clear"),forEach:Zg(!0,!1)},o={get(d){return qg(this,d,!0,!0)},get size(){return Jg(this,!0)},has(d){return Yg.call(this,d,!0)},add:cc("add"),set:cc("set"),delete:cc("delete"),clear:cc("clear"),forEach:Zg(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{t[d]=ev(d,!1,!1),i[d]=ev(d,!0,!1),n[d]=ev(d,!1,!0),o[d]=ev(d,!0,!0)}),[t,i,n,o]}const[Gz,Uz,zz,Hz]=Vz();function oS(t,n){const i=n?t?Hz:zz:t?Uz:Gz;return(o,l,d)=>l==="__v_isReactive"?!t:l==="__v_isReadonly"?t:l==="__v_raw"?o:Reflect.get(cr(i,l)&&l in o?i:o,l,d)}const Qz={get:oS(!1,!1)},Xz={get:oS(!1,!0)},$z={get:oS(!0,!1)},JT=new WeakMap,ZT=new WeakMap,eP=new WeakMap,Wz=new WeakMap;function Kz(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jz(t){return t.__v_skip||!Object.isExtensible(t)?0:Kz(bv(t))}function Mr(t){return Sf(t)?t:aS(t,!1,YT,Qz,JT)}function tP(t){return aS(t,!1,Fz,Xz,ZT)}function fm(t){return aS(t,!0,Oz,$z,eP)}function aS(t,n,i,o,l){if(!nr(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const d=l.get(t);if(d)return d;const h=jz(t);if(h===0)return t;const g=new Proxy(t,h===2?o:i);return l.set(t,g),g}function pf(t){return Sf(t)?pf(t.__v_raw):!!(t&&t.__v_isReactive)}function Sf(t){return!!(t&&t.__v_isReadonly)}function Jv(t){return!!(t&&t.__v_isShallow)}function nP(t){return pf(t)||Sf(t)}function kr(t){const n=t&&t.__v_raw;return n?kr(n):t}function Lu(t){return Yv(t,"__v_skip",!0),t}const Fp=t=>nr(t)?Mr(t):t,lS=t=>nr(t)?fm(t):t;function rP(t){yc&&fa&&(t=kr(t),KT(t.dep||(t.dep=nS())))}function cS(t,n){t=kr(t),t.dep&&Lb(t.dep)}function Wr(t){return!!(t&&t.__v_isRef===!0)}function re(t){return iP(t,!1)}function qr(t){return iP(t,!0)}function iP(t,n){return Wr(t)?t:new qz(t,n)}class qz{constructor(n,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?n:kr(n),this._value=i?n:Fp(n)}get value(){return rP(this),this._value}set value(n){const i=this.__v_isShallow||Jv(n)||Sf(n);n=i?n:kr(n),Lp(n,this._rawValue)&&(this._rawValue=n,this._value=i?n:Fp(n),cS(this))}}function sp(t){cS(t)}function v(t){return Wr(t)?t.value:t}const Yz={get:(t,n,i)=>v(Reflect.get(t,n,i)),set:(t,n,i,o)=>{const l=t[n];return Wr(l)&&!Wr(i)?(l.value=i,!0):Reflect.set(t,n,i,o)}};function sP(t){return pf(t)?t:new Proxy(t,Yz)}function Di(t){const n=on(t)?new Array(t.length):{};for(const i in t)n[i]=ai(t,i);return n}class Jz{constructor(n,i,o){this._object=n,this._key=i,this._defaultValue=o,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}}function ai(t,n,i){const o=t[n];return Wr(o)?o:new Jz(t,n,i)}var oP;class Zz{constructor(n,i,o,l){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this[oP]=!1,this._dirty=!0,this.effect=new rS(n,()=>{this._dirty||(this._dirty=!0,cS(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=o}get value(){const n=kr(this);return rP(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}oP="__v_isReadonly";function aP(t,n,i=!1){let o,l;const d=Nn(t);return d?(o=t,l=Fr):(o=t.get,l=t.set),new Zz(o,l,d||!l,i)}function eH(t,...n){}function bc(t,n,i,o){let l;try{l=o?t(...o):t()}catch(d){x_(d,n,i)}return l}function Po(t,n,i,o){if(Nn(t)){const d=bc(t,n,i,o);return d&&kp(d)&&d.catch(h=>{x_(h,n,i)}),d}const l=[];for(let d=0;d<t.length;d++)l.push(Po(t[d],n,i,o));return l}function x_(t,n,i,o=!0){const l=n?n.vnode:null;if(n){let d=n.parent;const h=n.proxy,g=i;for(;d;){const b=d.ec;if(b){for(let C=0;C<b.length;C++)if(b[C](t,h,g)===!1)return}d=d.parent}const y=n.appContext.config.errorHandler;if(y){bc(y,null,10,[t,h,g]);return}}tH(t,i,l,o)}function tH(t,n,i,o=!0){console.error(t)}let Vp=!1,Ob=!1;const gs=[];let Fa=0;const mf=[];let Sl=null,Su=0;const lP=Promise.resolve();let uS=null;function dn(t){const n=uS||lP;return t?n.then(this?t.bind(this):t):n}function nH(t){let n=Fa+1,i=gs.length;for(;n<i;){const o=n+i>>>1;Gp(gs[o])<t?n=o+1:i=o}return n}function dS(t){(!gs.length||!gs.includes(t,Vp&&t.allowRecurse?Fa+1:Fa))&&(t.id==null?gs.push(t):gs.splice(nH(t.id),0,t),cP())}function cP(){!Vp&&!Ob&&(Ob=!0,uS=lP.then(dP))}function rH(t){const n=gs.indexOf(t);n>Fa&&gs.splice(n,1)}function iH(t){on(t)?mf.push(...t):(!Sl||!Sl.includes(t,t.allowRecurse?Su+1:Su))&&mf.push(t),cP()}function p2(t,n=Vp?Fa+1:0){for(;n<gs.length;n++){const i=gs[n];i&&i.pre&&(gs.splice(n,1),n--,i())}}function uP(t){if(mf.length){const n=[...new Set(mf)];if(mf.length=0,Sl){Sl.push(...n);return}for(Sl=n,Sl.sort((i,o)=>Gp(i)-Gp(o)),Su=0;Su<Sl.length;Su++)Sl[Su]();Sl=null,Su=0}}const Gp=t=>t.id==null?1/0:t.id,sH=(t,n)=>{const i=Gp(t)-Gp(n);if(i===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return i};function dP(t){Ob=!1,Vp=!0,gs.sort(sH);const n=Fr;try{for(Fa=0;Fa<gs.length;Fa++){const i=gs[Fa];i&&i.active!==!1&&bc(i,null,14)}}finally{Fa=0,gs.length=0,uP(),Vp=!1,uS=null,(gs.length||mf.length)&&dP()}}function oH(t,n,...i){if(t.isUnmounted)return;const o=t.vnode.props||yi;let l=i;const d=n.startsWith("update:"),h=d&&n.slice(7);if(h&&h in o){const C=`${h==="modelValue"?"model":h}Modifiers`,{number:E,trim:I}=o[C]||yi;I&&(l=i.map(M=>On(M)?M.trim():M)),E&&(l=i.map(Op))}let g,y=o[g=wv(n)]||o[g=wv(Bo(n))];!y&&d&&(y=o[g=wv(Nc(n))]),y&&Po(y,t,6,l);const b=o[g+"Once"];if(b){if(!t.emitted)t.emitted={};else if(t.emitted[g])return;t.emitted[g]=!0,Po(b,t,6,l)}}function fP(t,n,i=!1){const o=n.emitsCache,l=o.get(t);if(l!==void 0)return l;const d=t.emits;let h={},g=!1;if(!Nn(t)){const y=b=>{const C=fP(b,n,!0);C&&(g=!0,is(h,C))};!i&&n.mixins.length&&n.mixins.forEach(y),t.extends&&y(t.extends),t.mixins&&t.mixins.forEach(y)}return!d&&!g?(nr(t)&&o.set(t,null),null):(on(d)?d.forEach(y=>h[y]=null):is(h,d),nr(t)&&o.set(t,h),h)}function M_(t,n){return!t||!w_(n)?!1:(n=n.slice(2).replace(/Once$/,""),cr(t,n[0].toLowerCase()+n.slice(1))||cr(t,Nc(n))||cr(t,n))}let us=null,R_=null;function Zv(t){const n=us;return us=t,R_=t&&t.type.__scopeId||null,n}function hP(t){R_=t}function pP(){R_=null}function Ue(t,n=us,i){if(!n||t._n)return t;const o=(...l)=>{o._d&&C2(-1);const d=Zv(n);let h;try{h=t(...l)}finally{Zv(d),o._d&&C2(1)}return h};return o._n=!0,o._c=!0,o._d=!0,o}function Yy(t){const{type:n,vnode:i,proxy:o,withProxy:l,props:d,propsOptions:[h],slots:g,attrs:y,emit:b,render:C,renderCache:E,data:I,setupState:M,ctx:T,inheritAttrs:R}=t;let N,D;const V=Zv(t);try{if(i.shapeFlag&4){const z=l||o;N=Oa(C.call(z,z,E,d,M,I,T)),D=y}else{const z=n;N=Oa(z.length>1?z(d,{attrs:y,slots:g,emit:b}):z(d,null)),D=n.props?y:aH(y)}}catch(z){Sp.length=0,x_(z,t,1),N=Re(Rs)}let B=N;if(D&&R!==!1){const z=Object.keys(D),{shapeFlag:H}=B;z.length&&H&7&&(h&&z.some(Z1)&&(D=lH(D,h)),B=Rl(B,D))}return i.dirs&&(B=Rl(B),B.dirs=B.dirs?B.dirs.concat(i.dirs):i.dirs),i.transition&&(B.transition=i.transition),N=B,Zv(V),N}const aH=t=>{let n;for(const i in t)(i==="class"||i==="style"||w_(i))&&((n||(n={}))[i]=t[i]);return n},lH=(t,n)=>{const i={};for(const o in t)(!Z1(o)||!(o.slice(9)in n))&&(i[o]=t[o]);return i};function cH(t,n,i){const{props:o,children:l,component:d}=t,{props:h,children:g,patchFlag:y}=n,b=d.emitsOptions;if(n.dirs||n.transition)return!0;if(i&&y>=0){if(y&1024)return!0;if(y&16)return o?m2(o,h,b):!!h;if(y&8){const C=n.dynamicProps;for(let E=0;E<C.length;E++){const I=C[E];if(h[I]!==o[I]&&!M_(b,I))return!0}}}else return(l||g)&&(!g||!g.$stable)?!0:o===h?!1:o?h?m2(o,h,b):!0:!!h;return!1}function m2(t,n,i){const o=Object.keys(n);if(o.length!==Object.keys(t).length)return!0;for(let l=0;l<o.length;l++){const d=o[l];if(n[d]!==t[d]&&!M_(i,d))return!0}return!1}function uH({vnode:t,parent:n},i){for(;n&&n.subTree===t;)(t=n.vnode).el=i,n=n.parent}const dH=t=>t.__isSuspense;function fH(t,n){n&&n.pendingBranch?on(t)?n.effects.push(...t):n.effects.push(t):iH(t)}function or(t,n){if(es){let i=es.provides;const o=es.parent&&es.parent.provides;o===i&&(i=es.provides=Object.create(o)),i[t]=n}}function hn(t,n,i=!1){const o=es||us;if(o){const l=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(l&&t in l)return l[t];if(arguments.length>1)return i&&Nn(n)?n.call(o.proxy):n}}function _s(t,n){return fS(t,null,n)}const tv={};function It(t,n,i){return fS(t,n,i)}function fS(t,n,{immediate:i,deep:o,flush:l,onTrack:d,onTrigger:h}=yi){const g=es;let y,b=!1,C=!1;if(Wr(t)?(y=()=>t.value,b=Jv(t)):pf(t)?(y=()=>t,o=!0):on(t)?(C=!0,b=t.some(B=>pf(B)||Jv(B)),y=()=>t.map(B=>{if(Wr(B))return B.value;if(pf(B))return Mu(B);if(Nn(B))return bc(B,g,2)})):Nn(t)?n?y=()=>bc(t,g,2):y=()=>{if(!(g&&g.isUnmounted))return E&&E(),Po(t,g,3,[I])}:y=Fr,n&&o){const B=y;y=()=>Mu(B())}let E,I=B=>{E=D.onStop=()=>{bc(B,g,4)}},M;if(Qp)if(I=Fr,n?i&&Po(n,g,3,[y(),C?[]:void 0,I]):y(),l==="sync"){const B=eQ();M=B.__watcherHandles||(B.__watcherHandles=[])}else return Fr;let T=C?new Array(t.length).fill(tv):tv;const R=()=>{if(!!D.active)if(n){const B=D.run();(o||b||(C?B.some((z,H)=>Lp(z,T[H])):Lp(B,T)))&&(E&&E(),Po(n,g,3,[B,T===tv?void 0:C&&T[0]===tv?[]:T,I]),T=B)}else D.run()};R.allowRecurse=!!n;let N;l==="sync"?N=R:l==="post"?N=()=>Gs(R,g&&g.suspense):(R.pre=!0,g&&(R.id=g.uid),N=()=>dS(R));const D=new rS(y,N);n?i?R():T=D.run():l==="post"?Gs(D.run.bind(D),g&&g.suspense):D.run();const V=()=>{D.stop(),g&&g.scope&&eS(g.scope.effects,D)};return M&&M.push(V),V}function hH(t,n,i){const o=this.proxy,l=On(t)?t.includes(".")?mP(o,t):()=>o[t]:t.bind(o,o);let d;Nn(n)?d=n:(d=n.handler,i=n);const h=es;Ef(this);const g=fS(l,d.bind(o),i);return h?Ef(h):Ou(),g}function mP(t,n){const i=n.split(".");return()=>{let o=t;for(let l=0;l<i.length&&o;l++)o=o[i[l]];return o}}function Mu(t,n){if(!nr(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),Wr(t))Mu(t.value,n);else if(on(t))for(let i=0;i<t.length;i++)Mu(t[i],n);else if(E_(t)||hf(t))t.forEach(i=>{Mu(i,n)});else if(zT(t))for(const i in t)Mu(t[i],n);return t}function gP(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return jn(()=>{t.isMounted=!0}),hi(()=>{t.isUnmounting=!0}),t}const Io=[Function,Array],pH={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Io,onEnter:Io,onAfterEnter:Io,onEnterCancelled:Io,onBeforeLeave:Io,onLeave:Io,onAfterLeave:Io,onLeaveCancelled:Io,onBeforeAppear:Io,onAppear:Io,onAfterAppear:Io,onAppearCancelled:Io},setup(t,{slots:n}){const i=Zn(),o=gP();let l;return()=>{const d=n.default&&hS(n.default(),!0);if(!d||!d.length)return;let h=d[0];if(d.length>1){for(const R of d)if(R.type!==Rs){h=R;break}}const g=kr(t),{mode:y}=g;if(o.isLeaving)return Jy(h);const b=g2(h);if(!b)return Jy(h);const C=Up(b,g,o,i);zp(b,C);const E=i.subTree,I=E&&g2(E);let M=!1;const{getTransitionKey:T}=b.type;if(T){const R=T();l===void 0?l=R:R!==l&&(l=R,M=!0)}if(I&&I.type!==Rs&&(!wu(b,I)||M)){const R=Up(I,g,o,i);if(zp(I,R),y==="out-in")return o.isLeaving=!0,R.afterLeave=()=>{o.isLeaving=!1,i.update.active!==!1&&i.update()},Jy(h);y==="in-out"&&b.type!==Rs&&(R.delayLeave=(N,D,V)=>{const B=_P(o,I);B[String(I.key)]=I,N._leaveCb=()=>{D(),N._leaveCb=void 0,delete C.delayedLeave},C.delayedLeave=V})}return h}}},vP=pH;function _P(t,n){const{leavingVNodes:i}=t;let o=i.get(n.type);return o||(o=Object.create(null),i.set(n.type,o)),o}function Up(t,n,i,o){const{appear:l,mode:d,persisted:h=!1,onBeforeEnter:g,onEnter:y,onAfterEnter:b,onEnterCancelled:C,onBeforeLeave:E,onLeave:I,onAfterLeave:M,onLeaveCancelled:T,onBeforeAppear:R,onAppear:N,onAfterAppear:D,onAppearCancelled:V}=n,B=String(t.key),z=_P(i,t),H=(ne,se)=>{ne&&Po(ne,o,9,se)},q=(ne,se)=>{const oe=se[1];H(ne,se),on(ne)?ne.every(xe=>xe.length<=1)&&oe():ne.length<=1&&oe()},he={mode:d,persisted:h,beforeEnter(ne){let se=g;if(!i.isMounted)if(l)se=R||g;else return;ne._leaveCb&&ne._leaveCb(!0);const oe=z[B];oe&&wu(t,oe)&&oe.el._leaveCb&&oe.el._leaveCb(),H(se,[ne])},enter(ne){let se=y,oe=b,xe=C;if(!i.isMounted)if(l)se=N||y,oe=D||b,xe=V||C;else return;let me=!1;const ce=ne._enterCb=Ae=>{me||(me=!0,Ae?H(xe,[ne]):H(oe,[ne]),he.delayedLeave&&he.delayedLeave(),ne._enterCb=void 0)};se?q(se,[ne,ce]):ce()},leave(ne,se){const oe=String(t.key);if(ne._enterCb&&ne._enterCb(!0),i.isUnmounting)return se();H(E,[ne]);let xe=!1;const me=ne._leaveCb=ce=>{xe||(xe=!0,se(),ce?H(T,[ne]):H(M,[ne]),ne._leaveCb=void 0,z[oe]===t&&delete z[oe])};z[oe]=t,I?q(I,[ne,me]):me()},clone(ne){return Up(ne,n,i,o)}};return he}function Jy(t){if(T_(t))return t=Rl(t),t.children=null,t}function g2(t){return T_(t)?t.children?t.children[0]:void 0:t}function zp(t,n){t.shapeFlag&6&&t.component?zp(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function hS(t,n=!1,i){let o=[],l=0;for(let d=0;d<t.length;d++){let h=t[d];const g=i==null?h.key:String(i)+String(h.key!=null?h.key:d);h.type===gn?(h.patchFlag&128&&l++,o=o.concat(hS(h.children,n,g))):(n||h.type!==Rs)&&o.push(g!=null?Rl(h,{key:g}):h)}if(l>1)for(let d=0;d<o.length;d++)o[d].patchFlag=-2;return o}function Ge(t){return Nn(t)?{setup:t,name:t.name}:t}const Ap=t=>!!t.type.__asyncLoader,T_=t=>t.type.__isKeepAlive;function mH(t,n){yP(t,"a",n)}function AP(t,n){yP(t,"da",n)}function yP(t,n,i=es){const o=t.__wdc||(t.__wdc=()=>{let l=i;for(;l;){if(l.isDeactivated)return;l=l.parent}return t()});if(P_(n,o,i),i){let l=i.parent;for(;l&&l.parent;)T_(l.parent.vnode)&&gH(o,n,i,l),l=l.parent}}function gH(t,n,i,o){const l=P_(n,t,o,!0);ju(()=>{eS(o[n],l)},i)}function P_(t,n,i=es,o=!1){if(i){const l=i[t]||(i[t]=[]),d=n.__weh||(n.__weh=(...h)=>{if(i.isUnmounted)return;zf(),Ef(i);const g=Po(n,i,t,h);return Ou(),Hf(),g});return o?l.unshift(d):l.push(d),d}}const Bl=t=>(n,i=es)=>(!Qp||t==="sp")&&P_(t,(...o)=>n(...o),i),N_=Bl("bm"),jn=Bl("m"),bP=Bl("bu"),Dl=Bl("u"),hi=Bl("bum"),ju=Bl("um"),vH=Bl("sp"),_H=Bl("rtg"),AH=Bl("rtc");function yH(t,n=es){P_("ec",t,n)}function zn(t,n){const i=us;if(i===null)return t;const o=k_(i)||i.proxy,l=t.dirs||(t.dirs=[]);for(let d=0;d<n.length;d++){let[h,g,y,b=yi]=n[d];h&&(Nn(h)&&(h={mounted:h,updated:h}),h.deep&&Mu(g),l.push({dir:h,instance:o,value:g,oldValue:void 0,arg:y,modifiers:b}))}return t}function mu(t,n,i,o){const l=t.dirs,d=n&&n.dirs;for(let h=0;h<l.length;h++){const g=l[h];d&&(g.oldValue=d[h].value);let y=g.dir[o];y&&(zf(),Po(y,i,8,[t.el,g,t,n]),Hf())}}const pS="components",bH="directives";function Mn(t,n){return mS(pS,t,!0,n)||t}const SP=Symbol();function sr(t){return On(t)?mS(pS,t,!1)||t:t||SP}function wf(t){return mS(bH,t)}function mS(t,n,i=!0,o=!1){const l=us||es;if(l){const d=l.type;if(t===pS){const g=YH(d,!1);if(g&&(g===n||g===Bo(n)||g===dm(Bo(n))))return d}const h=v2(l[t]||d[t],n)||v2(l.appContext[t],n);return!h&&o?d:h}}function v2(t,n){return t&&(t[n]||t[Bo(n)]||t[dm(Bo(n))])}function ur(t,n,i,o){let l;const d=i&&i[o];if(on(t)||On(t)){l=new Array(t.length);for(let h=0,g=t.length;h<g;h++)l[h]=n(t[h],h,void 0,d&&d[h])}else if(typeof t=="number"){l=new Array(t);for(let h=0;h<t;h++)l[h]=n(h+1,h,void 0,d&&d[h])}else if(nr(t))if(t[Symbol.iterator])l=Array.from(t,(h,g)=>n(h,g,void 0,d&&d[g]));else{const h=Object.keys(t);l=new Array(h.length);for(let g=0,y=h.length;g<y;g++){const b=h[g];l[g]=n(t[b],b,g,d&&d[g])}}else l=[];return i&&(i[o]=l),l}function Ec(t,n){for(let i=0;i<n.length;i++){const o=n[i];if(on(o))for(let l=0;l<o.length;l++)t[o[l].name]=o[l].fn;else o&&(t[o.name]=o.key?(...l)=>{const d=o.fn(...l);return d&&(d.key=o.key),d}:o.fn)}return t}function yt(t,n,i={},o,l){if(us.isCE||us.parent&&Ap(us.parent)&&us.parent.isCE)return n!=="default"&&(i.name=n),Re("slot",i,o&&o());let d=t[n];d&&d._c&&(d._d=!1),$();const h=d&&wP(d(i)),g=rt(gn,{key:i.key||h&&h.key||`_${n}`},h||(o?o():[]),h&&t._===1?64:-2);return!l&&g.scopeId&&(g.slotScopeIds=[g.scopeId+"-s"]),d&&d._c&&(d._d=!0),g}function wP(t){return t.some(n=>ri(n)?!(n.type===Rs||n.type===gn&&!wP(n.children)):!0)?t:null}function SH(t,n){const i={};for(const o in t)i[n&&/[A-Z]/.test(o)?`on:${o}`:wv(o)]=t[o];return i}const Fb=t=>t?DP(t)?k_(t)||t.proxy:Fb(t.parent):null,yp=is(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Fb(t.parent),$root:t=>Fb(t.root),$emit:t=>t.emit,$options:t=>gS(t),$forceUpdate:t=>t.f||(t.f=()=>dS(t.update)),$nextTick:t=>t.n||(t.n=dn.bind(t.proxy)),$watch:t=>hH.bind(t)}),Zy=(t,n)=>t!==yi&&!t.__isScriptSetup&&cr(t,n),wH={get({_:t},n){const{ctx:i,setupState:o,data:l,props:d,accessCache:h,type:g,appContext:y}=t;let b;if(n[0]!=="$"){const M=h[n];if(M!==void 0)switch(M){case 1:return o[n];case 2:return l[n];case 4:return i[n];case 3:return d[n]}else{if(Zy(o,n))return h[n]=1,o[n];if(l!==yi&&cr(l,n))return h[n]=2,l[n];if((b=t.propsOptions[0])&&cr(b,n))return h[n]=3,d[n];if(i!==yi&&cr(i,n))return h[n]=4,i[n];Vb&&(h[n]=0)}}const C=yp[n];let E,I;if(C)return n==="$attrs"&&mo(t,"get",n),C(t);if((E=g.__cssModules)&&(E=E[n]))return E;if(i!==yi&&cr(i,n))return h[n]=4,i[n];if(I=y.config.globalProperties,cr(I,n))return I[n]},set({_:t},n,i){const{data:o,setupState:l,ctx:d}=t;return Zy(l,n)?(l[n]=i,!0):o!==yi&&cr(o,n)?(o[n]=i,!0):cr(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(d[n]=i,!0)},has({_:{data:t,setupState:n,accessCache:i,ctx:o,appContext:l,propsOptions:d}},h){let g;return!!i[h]||t!==yi&&cr(t,h)||Zy(n,h)||(g=d[0])&&cr(g,h)||cr(o,h)||cr(yp,h)||cr(l.config.globalProperties,h)},defineProperty(t,n,i){return i.get!=null?t._.accessCache[n]=0:cr(i,"value")&&this.set(t,n,i.value,null),Reflect.defineProperty(t,n,i)}};let Vb=!0;function EH(t){const n=gS(t),i=t.proxy,o=t.ctx;Vb=!1,n.beforeCreate&&_2(n.beforeCreate,t,"bc");const{data:l,computed:d,methods:h,watch:g,provide:y,inject:b,created:C,beforeMount:E,mounted:I,beforeUpdate:M,updated:T,activated:R,deactivated:N,beforeDestroy:D,beforeUnmount:V,destroyed:B,unmounted:z,render:H,renderTracked:q,renderTriggered:he,errorCaptured:ne,serverPrefetch:se,expose:oe,inheritAttrs:xe,components:me,directives:ce,filters:Ae}=n;if(b&&CH(b,o,null,t.appContext.config.unwrapInjectedRef),h)for(const ie in h){const fe=h[ie];Nn(fe)&&(o[ie]=fe.bind(i))}if(l){const ie=l.call(i,i);nr(ie)&&(t.data=Mr(ie))}if(Vb=!0,d)for(const ie in d){const fe=d[ie],le=Nn(fe)?fe.bind(i,i):Nn(fe.get)?fe.get.bind(i,i):Fr,Oe=!Nn(fe)&&Nn(fe.set)?fe.set.bind(i):Fr,Qe=K({get:le,set:Oe});Object.defineProperty(o,ie,{enumerable:!0,configurable:!0,get:()=>Qe.value,set:Pe=>Qe.value=Pe})}if(g)for(const ie in g)EP(g[ie],o,i,ie);if(y){const ie=Nn(y)?y.call(i):y;Reflect.ownKeys(ie).forEach(fe=>{or(fe,ie[fe])})}C&&_2(C,t,"c");function ye(ie,fe){on(fe)?fe.forEach(le=>ie(le.bind(i))):fe&&ie(fe.bind(i))}if(ye(N_,E),ye(jn,I),ye(bP,M),ye(Dl,T),ye(mH,R),ye(AP,N),ye(yH,ne),ye(AH,q),ye(_H,he),ye(hi,V),ye(ju,z),ye(vH,se),on(oe))if(oe.length){const ie=t.exposed||(t.exposed={});oe.forEach(fe=>{Object.defineProperty(ie,fe,{get:()=>i[fe],set:le=>i[fe]=le})})}else t.exposed||(t.exposed={});H&&t.render===Fr&&(t.render=H),xe!=null&&(t.inheritAttrs=xe),me&&(t.components=me),ce&&(t.directives=ce)}function CH(t,n,i=Fr,o=!1){on(t)&&(t=Gb(t));for(const l in t){const d=t[l];let h;nr(d)?"default"in d?h=hn(d.from||l,d.default,!0):h=hn(d.from||l):h=hn(d),Wr(h)&&o?Object.defineProperty(n,l,{enumerable:!0,configurable:!0,get:()=>h.value,set:g=>h.value=g}):n[l]=h}}function _2(t,n,i){Po(on(t)?t.map(o=>o.bind(n.proxy)):t.bind(n.proxy),n,i)}function EP(t,n,i,o){const l=o.includes(".")?mP(i,o):()=>i[o];if(On(t)){const d=n[t];Nn(d)&&It(l,d)}else if(Nn(t))It(l,t.bind(i));else if(nr(t))if(on(t))t.forEach(d=>EP(d,n,i,o));else{const d=Nn(t.handler)?t.handler.bind(i):n[t.handler];Nn(d)&&It(l,d,t)}}function gS(t){const n=t.type,{mixins:i,extends:o}=n,{mixins:l,optionsCache:d,config:{optionMergeStrategies:h}}=t.appContext,g=d.get(n);let y;return g?y=g:!l.length&&!i&&!o?y=n:(y={},l.length&&l.forEach(b=>e_(y,b,h,!0)),e_(y,n,h)),nr(n)&&d.set(n,y),y}function e_(t,n,i,o=!1){const{mixins:l,extends:d}=n;d&&e_(t,d,i,!0),l&&l.forEach(h=>e_(t,h,i,!0));for(const h in n)if(!(o&&h==="expose")){const g=IH[h]||i&&i[h];t[h]=g?g(t[h],n[h]):n[h]}return t}const IH={data:A2,props:yu,emits:yu,methods:yu,computed:yu,beforeCreate:Ms,created:Ms,beforeMount:Ms,mounted:Ms,beforeUpdate:Ms,updated:Ms,beforeDestroy:Ms,beforeUnmount:Ms,destroyed:Ms,unmounted:Ms,activated:Ms,deactivated:Ms,errorCaptured:Ms,serverPrefetch:Ms,components:yu,directives:yu,watch:MH,provide:A2,inject:xH};function A2(t,n){return n?t?function(){return is(Nn(t)?t.call(this,this):t,Nn(n)?n.call(this,this):n)}:n:t}function xH(t,n){return yu(Gb(t),Gb(n))}function Gb(t){if(on(t)){const n={};for(let i=0;i<t.length;i++)n[t[i]]=t[i];return n}return t}function Ms(t,n){return t?[...new Set([].concat(t,n))]:n}function yu(t,n){return t?is(is(Object.create(null),t),n):n}function MH(t,n){if(!t)return n;if(!n)return t;const i=is(Object.create(null),t);for(const o in n)i[o]=Ms(t[o],n[o]);return i}function RH(t,n,i,o=!1){const l={},d={};Yv(d,B_,1),t.propsDefaults=Object.create(null),CP(t,n,l,d);for(const h in t.propsOptions[0])h in l||(l[h]=void 0);i?t.props=o?l:tP(l):t.type.props?t.props=l:t.props=d,t.attrs=d}function TH(t,n,i,o){const{props:l,attrs:d,vnode:{patchFlag:h}}=t,g=kr(l),[y]=t.propsOptions;let b=!1;if((o||h>0)&&!(h&16)){if(h&8){const C=t.vnode.dynamicProps;for(let E=0;E<C.length;E++){let I=C[E];if(M_(t.emitsOptions,I))continue;const M=n[I];if(y)if(cr(d,I))M!==d[I]&&(d[I]=M,b=!0);else{const T=Bo(I);l[T]=Ub(y,g,T,M,t,!1)}else M!==d[I]&&(d[I]=M,b=!0)}}}else{CP(t,n,l,d)&&(b=!0);let C;for(const E in g)(!n||!cr(n,E)&&((C=Nc(E))===E||!cr(n,C)))&&(y?i&&(i[E]!==void 0||i[C]!==void 0)&&(l[E]=Ub(y,g,E,void 0,t,!0)):delete l[E]);if(d!==g)for(const E in d)(!n||!cr(n,E)&&!0)&&(delete d[E],b=!0)}b&&Ml(t,"set","$attrs")}function CP(t,n,i,o){const[l,d]=t.propsOptions;let h=!1,g;if(n)for(let y in n){if(Sv(y))continue;const b=n[y];let C;l&&cr(l,C=Bo(y))?!d||!d.includes(C)?i[C]=b:(g||(g={}))[C]=b:M_(t.emitsOptions,y)||(!(y in o)||b!==o[y])&&(o[y]=b,h=!0)}if(d){const y=kr(i),b=g||yi;for(let C=0;C<d.length;C++){const E=d[C];i[E]=Ub(l,y,E,b[E],t,!cr(b,E))}}return h}function Ub(t,n,i,o,l,d){const h=t[i];if(h!=null){const g=cr(h,"default");if(g&&o===void 0){const y=h.default;if(h.type!==Function&&Nn(y)){const{propsDefaults:b}=l;i in b?o=b[i]:(Ef(l),o=b[i]=y.call(null,n),Ou())}else o=y}h[0]&&(d&&!g?o=!1:h[1]&&(o===""||o===Nc(i))&&(o=!0))}return o}function IP(t,n,i=!1){const o=n.propsCache,l=o.get(t);if(l)return l;const d=t.props,h={},g=[];let y=!1;if(!Nn(t)){const C=E=>{y=!0;const[I,M]=IP(E,n,!0);is(h,I),M&&g.push(...M)};!i&&n.mixins.length&&n.mixins.forEach(C),t.extends&&C(t.extends),t.mixins&&t.mixins.forEach(C)}if(!d&&!y)return nr(t)&&o.set(t,ff),ff;if(on(d))for(let C=0;C<d.length;C++){const E=Bo(d[C]);y2(E)&&(h[E]=yi)}else if(d)for(const C in d){const E=Bo(C);if(y2(E)){const I=d[C],M=h[E]=on(I)||Nn(I)?{type:I}:Object.assign({},I);if(M){const T=w2(Boolean,M.type),R=w2(String,M.type);M[0]=T>-1,M[1]=R<0||T<R,(T>-1||cr(M,"default"))&&g.push(E)}}}const b=[h,g];return nr(t)&&o.set(t,b),b}function y2(t){return t[0]!=="$"}function b2(t){const n=t&&t.toString().match(/^\s*function (\w+)/);return n?n[1]:t===null?"null":""}function S2(t,n){return b2(t)===b2(n)}function w2(t,n){return on(n)?n.findIndex(i=>S2(i,t)):Nn(n)&&S2(n,t)?0:-1}const xP=t=>t[0]==="_"||t==="$stable",vS=t=>on(t)?t.map(Oa):[Oa(t)],PH=(t,n,i)=>{if(n._n)return n;const o=Ue((...l)=>vS(n(...l)),i);return o._c=!1,o},MP=(t,n,i)=>{const o=t._ctx;for(const l in t){if(xP(l))continue;const d=t[l];if(Nn(d))n[l]=PH(l,d,o);else if(d!=null){const h=vS(d);n[l]=()=>h}}},RP=(t,n)=>{const i=vS(n);t.slots.default=()=>i},NH=(t,n)=>{if(t.vnode.shapeFlag&32){const i=n._;i?(t.slots=kr(n),Yv(n,"_",i)):MP(n,t.slots={})}else t.slots={},n&&RP(t,n);Yv(t.slots,B_,1)},BH=(t,n,i)=>{const{vnode:o,slots:l}=t;let d=!0,h=yi;if(o.shapeFlag&32){const g=n._;g?i&&g===1?d=!1:(is(l,n),!i&&g===1&&delete l._):(d=!n.$stable,MP(n,l)),h=n}else n&&(RP(t,n),h={default:1});if(d)for(const g in l)!xP(g)&&!(g in h)&&delete l[g]};function TP(){return{app:null,config:{isNativeTag:gz,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let DH=0;function kH(t,n){return function(o,l=null){Nn(o)||(o=Object.assign({},o)),l!=null&&!nr(l)&&(l=null);const d=TP(),h=new Set;let g=!1;const y=d.app={_uid:DH++,_component:o,_props:l,_container:null,_context:d,_instance:null,version:tQ,get config(){return d.config},set config(b){},use(b,...C){return h.has(b)||(b&&Nn(b.install)?(h.add(b),b.install(y,...C)):Nn(b)&&(h.add(b),b(y,...C))),y},mixin(b){return d.mixins.includes(b)||d.mixins.push(b),y},component(b,C){return C?(d.components[b]=C,y):d.components[b]},directive(b,C){return C?(d.directives[b]=C,y):d.directives[b]},mount(b,C,E){if(!g){const I=Re(o,l);return I.appContext=d,C&&n?n(I,b):t(I,b,E),g=!0,y._container=b,b.__vue_app__=y,k_(I.component)||I.component.proxy}},unmount(){g&&(t(null,y._container),delete y._container.__vue_app__)},provide(b,C){return d.provides[b]=C,y}};return y}}function zb(t,n,i,o,l=!1){if(on(t)){t.forEach((I,M)=>zb(I,n&&(on(n)?n[M]:n),i,o,l));return}if(Ap(o)&&!l)return;const d=o.shapeFlag&4?k_(o.component)||o.component.proxy:o.el,h=l?null:d,{i:g,r:y}=t,b=n&&n.r,C=g.refs===yi?g.refs={}:g.refs,E=g.setupState;if(b!=null&&b!==y&&(On(b)?(C[b]=null,cr(E,b)&&(E[b]=null)):Wr(b)&&(b.value=null)),Nn(y))bc(y,g,12,[h,C]);else{const I=On(y),M=Wr(y);if(I||M){const T=()=>{if(t.f){const R=I?cr(E,y)?E[y]:C[y]:y.value;l?on(R)&&eS(R,d):on(R)?R.includes(d)||R.push(d):I?(C[y]=[d],cr(E,y)&&(E[y]=C[y])):(y.value=[d],t.k&&(C[t.k]=y.value))}else I?(C[y]=h,cr(E,y)&&(E[y]=h)):M&&(y.value=h,t.k&&(C[t.k]=h))};h?(T.id=-1,Gs(T,i)):T()}}}const Gs=fH;function LH(t){return OH(t)}function OH(t,n){const i=bz();i.__VUE__=!0;const{insert:o,remove:l,patchProp:d,createElement:h,createText:g,createComment:y,setText:b,setElementText:C,parentNode:E,nextSibling:I,setScopeId:M=Fr,insertStaticContent:T}=t,R=(Be,Xe,ht,Dt=null,Ot=null,dt=null,Ft=!1,At=null,Ne=!!Xe.dynamicChildren)=>{if(Be===Xe)return;Be&&!wu(Be,Xe)&&(Dt=st(Be),Pe(Be,Ot,dt,!0),Be=null),Xe.patchFlag===-2&&(Ne=!1,Xe.dynamicChildren=null);const{type:Ke,ref:Lt,shapeFlag:Wt}=Xe;switch(Ke){case Qf:N(Be,Xe,ht,Dt);break;case Rs:D(Be,Xe,ht,Dt);break;case Cv:Be==null&&V(Xe,ht,Dt,Ft);break;case gn:me(Be,Xe,ht,Dt,Ot,dt,Ft,At,Ne);break;default:Wt&1?H(Be,Xe,ht,Dt,Ot,dt,Ft,At,Ne):Wt&6?ce(Be,Xe,ht,Dt,Ot,dt,Ft,At,Ne):(Wt&64||Wt&128)&&Ke.process(Be,Xe,ht,Dt,Ot,dt,Ft,At,Ne,ot)}Lt!=null&&Ot&&zb(Lt,Be&&Be.ref,dt,Xe||Be,!Xe)},N=(Be,Xe,ht,Dt)=>{if(Be==null)o(Xe.el=g(Xe.children),ht,Dt);else{const Ot=Xe.el=Be.el;Xe.children!==Be.children&&b(Ot,Xe.children)}},D=(Be,Xe,ht,Dt)=>{Be==null?o(Xe.el=y(Xe.children||""),ht,Dt):Xe.el=Be.el},V=(Be,Xe,ht,Dt)=>{[Be.el,Be.anchor]=T(Be.children,Xe,ht,Dt,Be.el,Be.anchor)},B=({el:Be,anchor:Xe},ht,Dt)=>{let Ot;for(;Be&&Be!==Xe;)Ot=I(Be),o(Be,ht,Dt),Be=Ot;o(Xe,ht,Dt)},z=({el:Be,anchor:Xe})=>{let ht;for(;Be&&Be!==Xe;)ht=I(Be),l(Be),Be=ht;l(Xe)},H=(Be,Xe,ht,Dt,Ot,dt,Ft,At,Ne)=>{Ft=Ft||Xe.type==="svg",Be==null?q(Xe,ht,Dt,Ot,dt,Ft,At,Ne):se(Be,Xe,Ot,dt,Ft,At,Ne)},q=(Be,Xe,ht,Dt,Ot,dt,Ft,At)=>{let Ne,Ke;const{type:Lt,props:Wt,shapeFlag:en,transition:vn,dirs:xn}=Be;if(Ne=Be.el=h(Be.type,dt,Wt&&Wt.is,Wt),en&8?C(Ne,Be.children):en&16&&ne(Be.children,Ne,null,Dt,Ot,dt&&Lt!=="foreignObject",Ft,At),xn&&mu(Be,null,Dt,"created"),Wt){for(const pt in Wt)pt!=="value"&&!Sv(pt)&&d(Ne,pt,null,Wt[pt],dt,Be.children,Dt,Ot,Nt);"value"in Wt&&d(Ne,"value",null,Wt.value),(Ke=Wt.onVnodeBeforeMount)&&ka(Ke,Dt,Be)}he(Ne,Be,Be.scopeId,Ft,Dt),xn&&mu(Be,null,Dt,"beforeMount");const Wn=(!Ot||Ot&&!Ot.pendingBranch)&&vn&&!vn.persisted;Wn&&vn.beforeEnter(Ne),o(Ne,Xe,ht),((Ke=Wt&&Wt.onVnodeMounted)||Wn||xn)&&Gs(()=>{Ke&&ka(Ke,Dt,Be),Wn&&vn.enter(Ne),xn&&mu(Be,null,Dt,"mounted")},Ot)},he=(Be,Xe,ht,Dt,Ot)=>{if(ht&&M(Be,ht),Dt)for(let dt=0;dt<Dt.length;dt++)M(Be,Dt[dt]);if(Ot){let dt=Ot.subTree;if(Xe===dt){const Ft=Ot.vnode;he(Be,Ft,Ft.scopeId,Ft.slotScopeIds,Ot.parent)}}},ne=(Be,Xe,ht,Dt,Ot,dt,Ft,At,Ne=0)=>{for(let Ke=Ne;Ke<Be.length;Ke++){const Lt=Be[Ke]=At?gc(Be[Ke]):Oa(Be[Ke]);R(null,Lt,Xe,ht,Dt,Ot,dt,Ft,At)}},se=(Be,Xe,ht,Dt,Ot,dt,Ft)=>{const At=Xe.el=Be.el;let{patchFlag:Ne,dynamicChildren:Ke,dirs:Lt}=Xe;Ne|=Be.patchFlag&16;const Wt=Be.props||yi,en=Xe.props||yi;let vn;ht&&gu(ht,!1),(vn=en.onVnodeBeforeUpdate)&&ka(vn,ht,Xe,Be),Lt&&mu(Xe,Be,ht,"beforeUpdate"),ht&&gu(ht,!0);const xn=Ot&&Xe.type!=="foreignObject";if(Ke?oe(Be.dynamicChildren,Ke,At,ht,Dt,xn,dt):Ft||fe(Be,Xe,At,null,ht,Dt,xn,dt,!1),Ne>0){if(Ne&16)xe(At,Xe,Wt,en,ht,Dt,Ot);else if(Ne&2&&Wt.class!==en.class&&d(At,"class",null,en.class,Ot),Ne&4&&d(At,"style",Wt.style,en.style,Ot),Ne&8){const Wn=Xe.dynamicProps;for(let pt=0;pt<Wn.length;pt++){const St=Wn[pt],tn=Wt[St],Fn=en[St];(Fn!==tn||St==="value")&&d(At,St,tn,Fn,Ot,Be.children,ht,Dt,Nt)}}Ne&1&&Be.children!==Xe.children&&C(At,Xe.children)}else!Ft&&Ke==null&&xe(At,Xe,Wt,en,ht,Dt,Ot);((vn=en.onVnodeUpdated)||Lt)&&Gs(()=>{vn&&ka(vn,ht,Xe,Be),Lt&&mu(Xe,Be,ht,"updated")},Dt)},oe=(Be,Xe,ht,Dt,Ot,dt,Ft)=>{for(let At=0;At<Xe.length;At++){const Ne=Be[At],Ke=Xe[At],Lt=Ne.el&&(Ne.type===gn||!wu(Ne,Ke)||Ne.shapeFlag&70)?E(Ne.el):ht;R(Ne,Ke,Lt,null,Dt,Ot,dt,Ft,!0)}},xe=(Be,Xe,ht,Dt,Ot,dt,Ft)=>{if(ht!==Dt){if(ht!==yi)for(const At in ht)!Sv(At)&&!(At in Dt)&&d(Be,At,ht[At],null,Ft,Xe.children,Ot,dt,Nt);for(const At in Dt){if(Sv(At))continue;const Ne=Dt[At],Ke=ht[At];Ne!==Ke&&At!=="value"&&d(Be,At,Ke,Ne,Ft,Xe.children,Ot,dt,Nt)}"value"in Dt&&d(Be,"value",ht.value,Dt.value)}},me=(Be,Xe,ht,Dt,Ot,dt,Ft,At,Ne)=>{const Ke=Xe.el=Be?Be.el:g(""),Lt=Xe.anchor=Be?Be.anchor:g("");let{patchFlag:Wt,dynamicChildren:en,slotScopeIds:vn}=Xe;vn&&(At=At?At.concat(vn):vn),Be==null?(o(Ke,ht,Dt),o(Lt,ht,Dt),ne(Xe.children,ht,Lt,Ot,dt,Ft,At,Ne)):Wt>0&&Wt&64&&en&&Be.dynamicChildren?(oe(Be.dynamicChildren,en,ht,Ot,dt,Ft,At),(Xe.key!=null||Ot&&Xe===Ot.subTree)&&_S(Be,Xe,!0)):fe(Be,Xe,ht,Lt,Ot,dt,Ft,At,Ne)},ce=(Be,Xe,ht,Dt,Ot,dt,Ft,At,Ne)=>{Xe.slotScopeIds=At,Be==null?Xe.shapeFlag&512?Ot.ctx.activate(Xe,ht,Dt,Ft,Ne):Ae(Xe,ht,Dt,Ot,dt,Ft,Ne):Se(Be,Xe,Ne)},Ae=(Be,Xe,ht,Dt,Ot,dt,Ft)=>{const At=Be.component=WH(Be,Dt,Ot);if(T_(Be)&&(At.ctx.renderer=ot),KH(At),At.asyncDep){if(Ot&&Ot.registerDep(At,ye),!Be.el){const Ne=At.subTree=Re(Rs);D(null,Ne,Xe,ht)}return}ye(At,Be,Xe,ht,Ot,dt,Ft)},Se=(Be,Xe,ht)=>{const Dt=Xe.component=Be.component;if(cH(Be,Xe,ht))if(Dt.asyncDep&&!Dt.asyncResolved){ie(Dt,Xe,ht);return}else Dt.next=Xe,rH(Dt.update),Dt.update();else Xe.el=Be.el,Dt.vnode=Xe},ye=(Be,Xe,ht,Dt,Ot,dt,Ft)=>{const At=()=>{if(Be.isMounted){let{next:Lt,bu:Wt,u:en,parent:vn,vnode:xn}=Be,Wn=Lt,pt;gu(Be,!1),Lt?(Lt.el=xn.el,ie(Be,Lt,Ft)):Lt=xn,Wt&&Ev(Wt),(pt=Lt.props&&Lt.props.onVnodeBeforeUpdate)&&ka(pt,vn,Lt,xn),gu(Be,!0);const St=Yy(Be),tn=Be.subTree;Be.subTree=St,R(tn,St,E(tn.el),st(tn),Be,Ot,dt),Lt.el=St.el,Wn===null&&uH(Be,St.el),en&&Gs(en,Ot),(pt=Lt.props&&Lt.props.onVnodeUpdated)&&Gs(()=>ka(pt,vn,Lt,xn),Ot)}else{let Lt;const{el:Wt,props:en}=Xe,{bm:vn,m:xn,parent:Wn}=Be,pt=Ap(Xe);if(gu(Be,!1),vn&&Ev(vn),!pt&&(Lt=en&&en.onVnodeBeforeMount)&&ka(Lt,Wn,Xe),gu(Be,!0),Wt&&an){const St=()=>{Be.subTree=Yy(Be),an(Wt,Be.subTree,Be,Ot,null)};pt?Xe.type.__asyncLoader().then(()=>!Be.isUnmounted&&St()):St()}else{const St=Be.subTree=Yy(Be);R(null,St,ht,Dt,Be,Ot,dt),Xe.el=St.el}if(xn&&Gs(xn,Ot),!pt&&(Lt=en&&en.onVnodeMounted)){const St=Xe;Gs(()=>ka(Lt,Wn,St),Ot)}(Xe.shapeFlag&256||Wn&&Ap(Wn.vnode)&&Wn.vnode.shapeFlag&256)&&Be.a&&Gs(Be.a,Ot),Be.isMounted=!0,Xe=ht=Dt=null}},Ne=Be.effect=new rS(At,()=>dS(Ke),Be.scope),Ke=Be.update=()=>Ne.run();Ke.id=Be.uid,gu(Be,!0),Ke()},ie=(Be,Xe,ht)=>{Xe.component=Be;const Dt=Be.vnode.props;Be.vnode=Xe,Be.next=null,TH(Be,Xe.props,Dt,ht),BH(Be,Xe.children,ht),zf(),p2(),Hf()},fe=(Be,Xe,ht,Dt,Ot,dt,Ft,At,Ne=!1)=>{const Ke=Be&&Be.children,Lt=Be?Be.shapeFlag:0,Wt=Xe.children,{patchFlag:en,shapeFlag:vn}=Xe;if(en>0){if(en&128){Oe(Ke,Wt,ht,Dt,Ot,dt,Ft,At,Ne);return}else if(en&256){le(Ke,Wt,ht,Dt,Ot,dt,Ft,At,Ne);return}}vn&8?(Lt&16&&Nt(Ke,Ot,dt),Wt!==Ke&&C(ht,Wt)):Lt&16?vn&16?Oe(Ke,Wt,ht,Dt,Ot,dt,Ft,At,Ne):Nt(Ke,Ot,dt,!0):(Lt&8&&C(ht,""),vn&16&&ne(Wt,ht,Dt,Ot,dt,Ft,At,Ne))},le=(Be,Xe,ht,Dt,Ot,dt,Ft,At,Ne)=>{Be=Be||ff,Xe=Xe||ff;const Ke=Be.length,Lt=Xe.length,Wt=Math.min(Ke,Lt);let en;for(en=0;en<Wt;en++){const vn=Xe[en]=Ne?gc(Xe[en]):Oa(Xe[en]);R(Be[en],vn,ht,null,Ot,dt,Ft,At,Ne)}Ke>Lt?Nt(Be,Ot,dt,!0,!1,Wt):ne(Xe,ht,Dt,Ot,dt,Ft,At,Ne,Wt)},Oe=(Be,Xe,ht,Dt,Ot,dt,Ft,At,Ne)=>{let Ke=0;const Lt=Xe.length;let Wt=Be.length-1,en=Lt-1;for(;Ke<=Wt&&Ke<=en;){const vn=Be[Ke],xn=Xe[Ke]=Ne?gc(Xe[Ke]):Oa(Xe[Ke]);if(wu(vn,xn))R(vn,xn,ht,null,Ot,dt,Ft,At,Ne);else break;Ke++}for(;Ke<=Wt&&Ke<=en;){const vn=Be[Wt],xn=Xe[en]=Ne?gc(Xe[en]):Oa(Xe[en]);if(wu(vn,xn))R(vn,xn,ht,null,Ot,dt,Ft,At,Ne);else break;Wt--,en--}if(Ke>Wt){if(Ke<=en){const vn=en+1,xn=vn<Lt?Xe[vn].el:Dt;for(;Ke<=en;)R(null,Xe[Ke]=Ne?gc(Xe[Ke]):Oa(Xe[Ke]),ht,xn,Ot,dt,Ft,At,Ne),Ke++}}else if(Ke>en)for(;Ke<=Wt;)Pe(Be[Ke],Ot,dt,!0),Ke++;else{const vn=Ke,xn=Ke,Wn=new Map;for(Ke=xn;Ke<=en;Ke++){const Vt=Xe[Ke]=Ne?gc(Xe[Ke]):Oa(Xe[Ke]);Vt.key!=null&&Wn.set(Vt.key,Ke)}let pt,St=0;const tn=en-xn+1;let Fn=!1,Ce=0;const We=new Array(tn);for(Ke=0;Ke<tn;Ke++)We[Ke]=0;for(Ke=vn;Ke<=Wt;Ke++){const Vt=Be[Ke];if(St>=tn){Pe(Vt,Ot,dt,!0);continue}let Rn;if(Vt.key!=null)Rn=Wn.get(Vt.key);else for(pt=xn;pt<=en;pt++)if(We[pt-xn]===0&&wu(Vt,Xe[pt])){Rn=pt;break}Rn===void 0?Pe(Vt,Ot,dt,!0):(We[Rn-xn]=Ke+1,Rn>=Ce?Ce=Rn:Fn=!0,R(Vt,Xe[Rn],ht,null,Ot,dt,Ft,At,Ne),St++)}const _t=Fn?FH(We):ff;for(pt=_t.length-1,Ke=tn-1;Ke>=0;Ke--){const Vt=xn+Ke,Rn=Xe[Vt],xr=Vt+1<Lt?Xe[Vt+1].el:Dt;We[Ke]===0?R(null,Rn,ht,xr,Ot,dt,Ft,At,Ne):Fn&&(pt<0||Ke!==_t[pt]?Qe(Rn,ht,xr,2):pt--)}}},Qe=(Be,Xe,ht,Dt,Ot=null)=>{const{el:dt,type:Ft,transition:At,children:Ne,shapeFlag:Ke}=Be;if(Ke&6){Qe(Be.component.subTree,Xe,ht,Dt);return}if(Ke&128){Be.suspense.move(Xe,ht,Dt);return}if(Ke&64){Ft.move(Be,Xe,ht,ot);return}if(Ft===gn){o(dt,Xe,ht);for(let Wt=0;Wt<Ne.length;Wt++)Qe(Ne[Wt],Xe,ht,Dt);o(Be.anchor,Xe,ht);return}if(Ft===Cv){B(Be,Xe,ht);return}if(Dt!==2&&Ke&1&&At)if(Dt===0)At.beforeEnter(dt),o(dt,Xe,ht),Gs(()=>At.enter(dt),Ot);else{const{leave:Wt,delayLeave:en,afterLeave:vn}=At,xn=()=>o(dt,Xe,ht),Wn=()=>{Wt(dt,()=>{xn(),vn&&vn()})};en?en(dt,xn,Wn):Wn()}else o(dt,Xe,ht)},Pe=(Be,Xe,ht,Dt=!1,Ot=!1)=>{const{type:dt,props:Ft,ref:At,children:Ne,dynamicChildren:Ke,shapeFlag:Lt,patchFlag:Wt,dirs:en}=Be;if(At!=null&&zb(At,null,ht,Be,!0),Lt&256){Xe.ctx.deactivate(Be);return}const vn=Lt&1&&en,xn=!Ap(Be);let Wn;if(xn&&(Wn=Ft&&Ft.onVnodeBeforeUnmount)&&ka(Wn,Xe,Be),Lt&6)xt(Be.component,ht,Dt);else{if(Lt&128){Be.suspense.unmount(ht,Dt);return}vn&&mu(Be,null,Xe,"beforeUnmount"),Lt&64?Be.type.remove(Be,Xe,ht,Ot,ot,Dt):Ke&&(dt!==gn||Wt>0&&Wt&64)?Nt(Ke,Xe,ht,!1,!0):(dt===gn&&Wt&384||!Ot&&Lt&16)&&Nt(Ne,Xe,ht),Dt&&He(Be)}(xn&&(Wn=Ft&&Ft.onVnodeUnmounted)||vn)&&Gs(()=>{Wn&&ka(Wn,Xe,Be),vn&&mu(Be,null,Xe,"unmounted")},ht)},He=Be=>{const{type:Xe,el:ht,anchor:Dt,transition:Ot}=Be;if(Xe===gn){bt(ht,Dt);return}if(Xe===Cv){z(Be);return}const dt=()=>{l(ht),Ot&&!Ot.persisted&&Ot.afterLeave&&Ot.afterLeave()};if(Be.shapeFlag&1&&Ot&&!Ot.persisted){const{leave:Ft,delayLeave:At}=Ot,Ne=()=>Ft(ht,dt);At?At(Be.el,dt,Ne):Ne()}else dt()},bt=(Be,Xe)=>{let ht;for(;Be!==Xe;)ht=I(Be),l(Be),Be=ht;l(Xe)},xt=(Be,Xe,ht)=>{const{bum:Dt,scope:Ot,update:dt,subTree:Ft,um:At}=Be;Dt&&Ev(Dt),Ot.stop(),dt&&(dt.active=!1,Pe(Ft,Be,Xe,ht)),At&&Gs(At,Xe),Gs(()=>{Be.isUnmounted=!0},Xe),Xe&&Xe.pendingBranch&&!Xe.isUnmounted&&Be.asyncDep&&!Be.asyncResolved&&Be.suspenseId===Xe.pendingId&&(Xe.deps--,Xe.deps===0&&Xe.resolve())},Nt=(Be,Xe,ht,Dt=!1,Ot=!1,dt=0)=>{for(let Ft=dt;Ft<Be.length;Ft++)Pe(Be[Ft],Xe,ht,Dt,Ot)},st=Be=>Be.shapeFlag&6?st(Be.component.subTree):Be.shapeFlag&128?Be.suspense.next():I(Be.anchor||Be.el),Ye=(Be,Xe,ht)=>{Be==null?Xe._vnode&&Pe(Xe._vnode,null,null,!0):R(Xe._vnode||null,Be,Xe,null,null,null,ht),p2(),uP(),Xe._vnode=Be},ot={p:R,um:Pe,m:Qe,r:He,mt:Ae,mc:ne,pc:fe,pbc:oe,n:st,o:t};let Et,an;return n&&([Et,an]=n(ot)),{render:Ye,hydrate:Et,createApp:kH(Ye,Et)}}function gu({effect:t,update:n},i){t.allowRecurse=n.allowRecurse=i}function _S(t,n,i=!1){const o=t.children,l=n.children;if(on(o)&&on(l))for(let d=0;d<o.length;d++){const h=o[d];let g=l[d];g.shapeFlag&1&&!g.dynamicChildren&&((g.patchFlag<=0||g.patchFlag===32)&&(g=l[d]=gc(l[d]),g.el=h.el),i||_S(h,g)),g.type===Qf&&(g.el=h.el)}}function FH(t){const n=t.slice(),i=[0];let o,l,d,h,g;const y=t.length;for(o=0;o<y;o++){const b=t[o];if(b!==0){if(l=i[i.length-1],t[l]<b){n[o]=l,i.push(o);continue}for(d=0,h=i.length-1;d<h;)g=d+h>>1,t[i[g]]<b?d=g+1:h=g;b<t[i[d]]&&(d>0&&(n[o]=i[d-1]),i[d]=o)}}for(d=i.length,h=i[d-1];d-- >0;)i[d]=h,h=n[h];return i}const VH=t=>t.__isTeleport,bp=t=>t&&(t.disabled||t.disabled===""),E2=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Hb=(t,n)=>{const i=t&&t.to;return On(i)?n?n(i):null:i},GH={__isTeleport:!0,process(t,n,i,o,l,d,h,g,y,b){const{mc:C,pc:E,pbc:I,o:{insert:M,querySelector:T,createText:R,createComment:N}}=b,D=bp(n.props);let{shapeFlag:V,children:B,dynamicChildren:z}=n;if(t==null){const H=n.el=R(""),q=n.anchor=R("");M(H,i,o),M(q,i,o);const he=n.target=Hb(n.props,T),ne=n.targetAnchor=R("");he&&(M(ne,he),h=h||E2(he));const se=(oe,xe)=>{V&16&&C(B,oe,xe,l,d,h,g,y)};D?se(i,q):he&&se(he,ne)}else{n.el=t.el;const H=n.anchor=t.anchor,q=n.target=t.target,he=n.targetAnchor=t.targetAnchor,ne=bp(t.props),se=ne?i:q,oe=ne?H:he;if(h=h||E2(q),z?(I(t.dynamicChildren,z,se,l,d,h,g),_S(t,n,!0)):y||E(t,n,se,oe,l,d,h,g,!1),D)ne||nv(n,i,H,b,1);else if((n.props&&n.props.to)!==(t.props&&t.props.to)){const xe=n.target=Hb(n.props,T);xe&&nv(n,xe,null,b,0)}else ne&&nv(n,q,he,b,1)}PP(n)},remove(t,n,i,o,{um:l,o:{remove:d}},h){const{shapeFlag:g,children:y,anchor:b,targetAnchor:C,target:E,props:I}=t;if(E&&d(C),(h||!bp(I))&&(d(b),g&16))for(let M=0;M<y.length;M++){const T=y[M];l(T,n,i,!0,!!T.dynamicChildren)}},move:nv,hydrate:UH};function nv(t,n,i,{o:{insert:o},m:l},d=2){d===0&&o(t.targetAnchor,n,i);const{el:h,anchor:g,shapeFlag:y,children:b,props:C}=t,E=d===2;if(E&&o(h,n,i),(!E||bp(C))&&y&16)for(let I=0;I<b.length;I++)l(b[I],n,i,2);E&&o(g,n,i)}function UH(t,n,i,o,l,d,{o:{nextSibling:h,parentNode:g,querySelector:y}},b){const C=n.target=Hb(n.props,y);if(C){const E=C._lpa||C.firstChild;if(n.shapeFlag&16)if(bp(n.props))n.anchor=b(h(t),n,g(t),i,o,l,d),n.targetAnchor=E;else{n.anchor=h(t);let I=E;for(;I;)if(I=h(I),I&&I.nodeType===8&&I.data==="teleport anchor"){n.targetAnchor=I,C._lpa=n.targetAnchor&&h(n.targetAnchor);break}b(E,n,C,i,o,l,d)}PP(n)}return n.anchor&&h(n.anchor)}const hm=GH;function PP(t){const n=t.ctx;if(n&&n.ut){let i=t.children[0].el;for(;i!==t.targetAnchor;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}const gn=Symbol(void 0),Qf=Symbol(void 0),Rs=Symbol(void 0),Cv=Symbol(void 0),Sp=[];let pa=null;function $(t=!1){Sp.push(pa=t?null:[])}function zH(){Sp.pop(),pa=Sp[Sp.length-1]||null}let Hp=1;function C2(t){Hp+=t}function NP(t){return t.dynamicChildren=Hp>0?pa||ff:null,zH(),Hp>0&&pa&&pa.push(t),t}function _e(t,n,i,o,l,d){return NP(Ie(t,n,i,o,l,d,!0))}function rt(t,n,i,o,l){return NP(Re(t,n,i,o,l,!0))}function ri(t){return t?t.__v_isVNode===!0:!1}function wu(t,n){return t.type===n.type&&t.key===n.key}const B_="__vInternal",BP=({key:t})=>t!=null?t:null,Iv=({ref:t,ref_key:n,ref_for:i})=>t!=null?On(t)||Wr(t)||Nn(t)?{i:us,r:t,k:n,f:!!i}:t:null;function Ie(t,n=null,i=null,o=0,l=null,d=t===gn?0:1,h=!1,g=!1){const y={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&BP(n),ref:n&&Iv(n),scopeId:R_,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:o,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:us};return g?(AS(y,i),d&128&&t.normalize(y)):i&&(y.shapeFlag|=On(i)?8:16),Hp>0&&!h&&pa&&(y.patchFlag>0||d&6)&&y.patchFlag!==32&&pa.push(y),y}const Re=HH;function HH(t,n=null,i=null,o=0,l=null,d=!1){if((!t||t===SP)&&(t=Rs),ri(t)){const g=Rl(t,n,!0);return i&&AS(g,i),Hp>0&&!d&&pa&&(g.shapeFlag&6?pa[pa.indexOf(t)]=g:pa.push(g)),g.patchFlag|=-2,g}if(JH(t)&&(t=t.__vccOpts),n){n=D_(n);let{class:g,style:y}=n;g&&!On(g)&&(n.class=J(g)),nr(y)&&(nP(y)&&!on(y)&&(y=is({},y)),n.style=fn(y))}const h=On(t)?1:dH(t)?128:VH(t)?64:nr(t)?4:Nn(t)?2:0;return Ie(t,n,i,o,l,h,d,!0)}function D_(t){return t?nP(t)||B_ in t?is({},t):t:null}function Rl(t,n,i=!1){const{props:o,ref:l,patchFlag:d,children:h}=t,g=n?ir(o||{},n):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:g,key:g&&BP(g),ref:n&&n.ref?i&&l?on(l)?l.concat(Iv(n)):[l,Iv(n)]:Iv(n):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:h,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==gn?d===-1?16:d|16:d,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Rl(t.ssContent),ssFallback:t.ssFallback&&Rl(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function mr(t=" ",n=0){return Re(Qf,null,t,n)}function QH(t,n){const i=Re(Cv,null,t);return i.staticCount=n,i}function Ze(t="",n=!1){return n?($(),rt(Rs,null,t)):Re(Rs,null,t)}function Oa(t){return t==null||typeof t=="boolean"?Re(Rs):on(t)?Re(gn,null,t.slice()):typeof t=="object"?gc(t):Re(Qf,null,String(t))}function gc(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Rl(t)}function AS(t,n){let i=0;const{shapeFlag:o}=t;if(n==null)n=null;else if(on(n))i=16;else if(typeof n=="object")if(o&65){const l=n.default;l&&(l._c&&(l._d=!1),AS(t,l()),l._c&&(l._d=!0));return}else{i=32;const l=n._;!l&&!(B_ in n)?n._ctx=us:l===3&&us&&(us.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else Nn(n)?(n={default:n,_ctx:us},i=32):(n=String(n),o&64?(i=16,n=[mr(n)]):i=8);t.children=n,t.shapeFlag|=i}function ir(...t){const n={};for(let i=0;i<t.length;i++){const o=t[i];for(const l in o)if(l==="class")n.class!==o.class&&(n.class=J([n.class,o.class]));else if(l==="style")n.style=fn([n.style,o.style]);else if(w_(l)){const d=n[l],h=o[l];h&&d!==h&&!(on(d)&&d.includes(h))&&(n[l]=d?[].concat(d,h):h)}else l!==""&&(n[l]=o[l])}return n}function ka(t,n,i,o=null){Po(t,n,7,[i,o])}const XH=TP();let $H=0;function WH(t,n,i){const o=t.type,l=(n?n.appContext:t.appContext)||XH,d={uid:$H++,vnode:t,type:o,parent:n,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new HT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:IP(o,l),emitsOptions:fP(o,l),emit:null,emitted:null,propsDefaults:yi,inheritAttrs:o.inheritAttrs,ctx:yi,data:yi,props:yi,attrs:yi,slots:yi,refs:yi,setupState:yi,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=n?n.root:d,d.emit=oH.bind(null,d),t.ce&&t.ce(d),d}let es=null;const Zn=()=>es||us,Ef=t=>{es=t,t.scope.on()},Ou=()=>{es&&es.scope.off(),es=null};function DP(t){return t.vnode.shapeFlag&4}let Qp=!1;function KH(t,n=!1){Qp=n;const{props:i,children:o}=t.vnode,l=DP(t);RH(t,i,l,n),NH(t,o);const d=l?jH(t,n):void 0;return Qp=!1,d}function jH(t,n){const i=t.type;t.accessCache=Object.create(null),t.proxy=Lu(new Proxy(t.ctx,wH));const{setup:o}=i;if(o){const l=t.setupContext=o.length>1?LP(t):null;Ef(t),zf();const d=bc(o,t,0,[t.props,l]);if(Hf(),Ou(),kp(d)){if(d.then(Ou,Ou),n)return d.then(h=>{I2(t,h,n)}).catch(h=>{x_(h,t,0)});t.asyncDep=d}else I2(t,d,n)}else kP(t,n)}function I2(t,n,i){Nn(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:nr(n)&&(t.setupState=sP(n)),kP(t,i)}let x2;function kP(t,n,i){const o=t.type;if(!t.render){if(!n&&x2&&!o.render){const l=o.template||gS(t).template;if(l){const{isCustomElement:d,compilerOptions:h}=t.appContext.config,{delimiters:g,compilerOptions:y}=o,b=is(is({isCustomElement:d,delimiters:g},h),y);o.render=x2(l,b)}}t.render=o.render||Fr}Ef(t),zf(),EH(t),Hf(),Ou()}function qH(t){return new Proxy(t.attrs,{get(n,i){return mo(t,"get","$attrs"),n[i]}})}function LP(t){const n=o=>{t.exposed=o||{}};let i;return{get attrs(){return i||(i=qH(t))},slots:t.slots,emit:t.emit,expose:n}}function k_(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(sP(Lu(t.exposed)),{get(n,i){if(i in n)return n[i];if(i in yp)return yp[i](t)},has(n,i){return i in n||i in yp}}))}function YH(t,n=!0){return Nn(t)?t.displayName||t.name:t.name||n&&t.__name}function JH(t){return Nn(t)&&"__vccOpts"in t}const K=(t,n)=>aP(t,n,Qp);function ss(){return OP().slots}function pm(){return OP().attrs}function OP(){const t=Zn();return t.setupContext||(t.setupContext=LP(t))}function yn(t,n,i){const o=arguments.length;return o===2?nr(n)&&!on(n)?ri(n)?Re(t,null,[n]):Re(t,n):Re(t,null,n):(o>3?i=Array.prototype.slice.call(arguments,2):o===3&&ri(i)&&(i=[i]),Re(t,n,i))}const ZH=Symbol(""),eQ=()=>hn(ZH),tQ="3.2.45",nQ="http://www.w3.org/2000/svg",Eu=typeof document<"u"?document:null,M2=Eu&&Eu.createElement("template"),rQ={insert:(t,n,i)=>{n.insertBefore(t,i||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,i,o)=>{const l=n?Eu.createElementNS(nQ,t):Eu.createElement(t,i?{is:i}:void 0);return t==="select"&&o&&o.multiple!=null&&l.setAttribute("multiple",o.multiple),l},createText:t=>Eu.createTextNode(t),createComment:t=>Eu.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Eu.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,i,o,l,d){const h=i?i.previousSibling:n.lastChild;if(l&&(l===d||l.nextSibling))for(;n.insertBefore(l.cloneNode(!0),i),!(l===d||!(l=l.nextSibling)););else{M2.innerHTML=o?`<svg>${t}</svg>`:t;const g=M2.content;if(o){const y=g.firstChild;for(;y.firstChild;)g.appendChild(y.firstChild);g.removeChild(y)}n.insertBefore(g,i)}return[h?h.nextSibling:n.firstChild,i?i.previousSibling:n.lastChild]}};function iQ(t,n,i){const o=t._vtc;o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?t.removeAttribute("class"):i?t.setAttribute("class",n):t.className=n}function sQ(t,n,i){const o=t.style,l=On(i);if(i&&!l){for(const d in i)Qb(o,d,i[d]);if(n&&!On(n))for(const d in n)i[d]==null&&Qb(o,d,"")}else{const d=o.display;l?n!==i&&(o.cssText=i):n&&t.removeAttribute("style"),"_vod"in t&&(o.display=d)}}const R2=/\s*!important$/;function Qb(t,n,i){if(on(i))i.forEach(o=>Qb(t,n,o));else if(i==null&&(i=""),n.startsWith("--"))t.setProperty(n,i);else{const o=oQ(t,n);R2.test(i)?t.setProperty(Nc(o),i.replace(R2,""),"important"):t[o]=i}}const T2=["Webkit","Moz","ms"],eb={};function oQ(t,n){const i=eb[n];if(i)return i;let o=Bo(n);if(o!=="filter"&&o in t)return eb[n]=o;o=dm(o);for(let l=0;l<T2.length;l++){const d=T2[l]+o;if(d in t)return eb[n]=d}return n}const P2="http://www.w3.org/1999/xlink";function aQ(t,n,i,o,l){if(o&&n.startsWith("xlink:"))i==null?t.removeAttributeNS(P2,n.slice(6,n.length)):t.setAttributeNS(P2,n,i);else{const d=pz(n);i==null||d&&!FT(i)?t.removeAttribute(n):t.setAttribute(n,d?"":i)}}function lQ(t,n,i,o,l,d,h){if(n==="innerHTML"||n==="textContent"){o&&h(o,l,d),t[n]=i==null?"":i;return}if(n==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=i;const y=i==null?"":i;(t.value!==y||t.tagName==="OPTION")&&(t.value=y),i==null&&t.removeAttribute(n);return}let g=!1;if(i===""||i==null){const y=typeof t[n];y==="boolean"?i=FT(i):i==null&&y==="string"?(i="",g=!0):y==="number"&&(i=0,g=!0)}try{t[n]=i}catch{}g&&t.removeAttribute(n)}function vc(t,n,i,o){t.addEventListener(n,i,o)}function cQ(t,n,i,o){t.removeEventListener(n,i,o)}function uQ(t,n,i,o,l=null){const d=t._vei||(t._vei={}),h=d[n];if(o&&h)h.value=o;else{const[g,y]=dQ(n);if(o){const b=d[n]=pQ(o,l);vc(t,g,b,y)}else h&&(cQ(t,g,h,y),d[n]=void 0)}}const N2=/(?:Once|Passive|Capture)$/;function dQ(t){let n;if(N2.test(t)){n={};let o;for(;o=t.match(N2);)t=t.slice(0,t.length-o[0].length),n[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Nc(t.slice(2)),n]}let tb=0;const fQ=Promise.resolve(),hQ=()=>tb||(fQ.then(()=>tb=0),tb=Date.now());function pQ(t,n){const i=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=i.attached)return;Po(mQ(o,i.value),n,5,[o])};return i.value=t,i.attached=hQ(),i}function mQ(t,n){if(on(n)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},n.map(o=>l=>!l._stopped&&o&&o(l))}else return n}const B2=/^on[a-z]/,gQ=(t,n,i,o,l=!1,d,h,g,y)=>{n==="class"?iQ(t,o,l):n==="style"?sQ(t,i,o):w_(n)?Z1(n)||uQ(t,n,i,o,h):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):vQ(t,n,o,l))?lQ(t,n,o,d,h,g,y):(n==="true-value"?t._trueValue=o:n==="false-value"&&(t._falseValue=o),aQ(t,n,o,l))};function vQ(t,n,i,o){return o?!!(n==="innerHTML"||n==="textContent"||n in t&&B2.test(n)&&Nn(i)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA"||B2.test(n)&&On(i)?!1:n in t}const uc="transition",op="animation",Si=(t,{slots:n})=>yn(vP,VP(t),n);Si.displayName="Transition";const FP={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},_Q=Si.props=is({},vP.props,FP),vu=(t,n=[])=>{on(t)?t.forEach(i=>i(...n)):t&&t(...n)},D2=t=>t?on(t)?t.some(n=>n.length>1):t.length>1:!1;function VP(t){const n={};for(const me in t)me in FP||(n[me]=t[me]);if(t.css===!1)return n;const{name:i="v",type:o,duration:l,enterFromClass:d=`${i}-enter-from`,enterActiveClass:h=`${i}-enter-active`,enterToClass:g=`${i}-enter-to`,appearFromClass:y=d,appearActiveClass:b=h,appearToClass:C=g,leaveFromClass:E=`${i}-leave-from`,leaveActiveClass:I=`${i}-leave-active`,leaveToClass:M=`${i}-leave-to`}=t,T=AQ(l),R=T&&T[0],N=T&&T[1],{onBeforeEnter:D,onEnter:V,onEnterCancelled:B,onLeave:z,onLeaveCancelled:H,onBeforeAppear:q=D,onAppear:he=V,onAppearCancelled:ne=B}=n,se=(me,ce,Ae)=>{fc(me,ce?C:g),fc(me,ce?b:h),Ae&&Ae()},oe=(me,ce)=>{me._isLeaving=!1,fc(me,E),fc(me,M),fc(me,I),ce&&ce()},xe=me=>(ce,Ae)=>{const Se=me?he:V,ye=()=>se(ce,me,Ae);vu(Se,[ce,ye]),k2(()=>{fc(ce,me?y:d),yl(ce,me?C:g),D2(Se)||L2(ce,o,R,ye)})};return is(n,{onBeforeEnter(me){vu(D,[me]),yl(me,d),yl(me,h)},onBeforeAppear(me){vu(q,[me]),yl(me,y),yl(me,b)},onEnter:xe(!1),onAppear:xe(!0),onLeave(me,ce){me._isLeaving=!0;const Ae=()=>oe(me,ce);yl(me,E),UP(),yl(me,I),k2(()=>{!me._isLeaving||(fc(me,E),yl(me,M),D2(z)||L2(me,o,N,Ae))}),vu(z,[me,Ae])},onEnterCancelled(me){se(me,!1),vu(B,[me])},onAppearCancelled(me){se(me,!0),vu(ne,[me])},onLeaveCancelled(me){oe(me),vu(H,[me])}})}function AQ(t){if(t==null)return null;if(nr(t))return[nb(t.enter),nb(t.leave)];{const n=nb(t);return[n,n]}}function nb(t){return Op(t)}function yl(t,n){n.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t._vtc||(t._vtc=new Set)).add(n)}function fc(t,n){n.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const{_vtc:i}=t;i&&(i.delete(n),i.size||(t._vtc=void 0))}function k2(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let yQ=0;function L2(t,n,i,o){const l=t._endId=++yQ,d=()=>{l===t._endId&&o()};if(i)return setTimeout(d,i);const{type:h,timeout:g,propCount:y}=GP(t,n);if(!h)return o();const b=h+"end";let C=0;const E=()=>{t.removeEventListener(b,I),d()},I=M=>{M.target===t&&++C>=y&&E()};setTimeout(()=>{C<y&&E()},g+1),t.addEventListener(b,I)}function GP(t,n){const i=window.getComputedStyle(t),o=T=>(i[T]||"").split(", "),l=o(`${uc}Delay`),d=o(`${uc}Duration`),h=O2(l,d),g=o(`${op}Delay`),y=o(`${op}Duration`),b=O2(g,y);let C=null,E=0,I=0;n===uc?h>0&&(C=uc,E=h,I=d.length):n===op?b>0&&(C=op,E=b,I=y.length):(E=Math.max(h,b),C=E>0?h>b?uc:op:null,I=C?C===uc?d.length:y.length:0);const M=C===uc&&/\b(transform|all)(,|$)/.test(o(`${uc}Property`).toString());return{type:C,timeout:E,propCount:I,hasTransform:M}}function O2(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((i,o)=>F2(i)+F2(t[o])))}function F2(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function UP(){return document.body.offsetHeight}const zP=new WeakMap,HP=new WeakMap,bQ={name:"TransitionGroup",props:is({},_Q,{tag:String,moveClass:String}),setup(t,{slots:n}){const i=Zn(),o=gP();let l,d;return Dl(()=>{if(!l.length)return;const h=t.moveClass||`${t.name||"v"}-move`;if(!IQ(l[0].el,i.vnode.el,h))return;l.forEach(wQ),l.forEach(EQ);const g=l.filter(CQ);UP(),g.forEach(y=>{const b=y.el,C=b.style;yl(b,h),C.transform=C.webkitTransform=C.transitionDuration="";const E=b._moveCb=I=>{I&&I.target!==b||(!I||/transform$/.test(I.propertyName))&&(b.removeEventListener("transitionend",E),b._moveCb=null,fc(b,h))};b.addEventListener("transitionend",E)})}),()=>{const h=kr(t),g=VP(h);let y=h.tag||gn;l=d,d=n.default?hS(n.default()):[];for(let b=0;b<d.length;b++){const C=d[b];C.key!=null&&zp(C,Up(C,g,o,i))}if(l)for(let b=0;b<l.length;b++){const C=l[b];zp(C,Up(C,g,o,i)),zP.set(C,C.el.getBoundingClientRect())}return Re(y,null,d)}}},SQ=bQ;function wQ(t){const n=t.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function EQ(t){HP.set(t,t.el.getBoundingClientRect())}function CQ(t){const n=zP.get(t),i=HP.get(t),o=n.left-i.left,l=n.top-i.top;if(o||l){const d=t.el.style;return d.transform=d.webkitTransform=`translate(${o}px,${l}px)`,d.transitionDuration="0s",t}}function IQ(t,n,i){const o=t.cloneNode();t._vtc&&t._vtc.forEach(h=>{h.split(/\s+/).forEach(g=>g&&o.classList.remove(g))}),i.split(/\s+/).forEach(h=>h&&o.classList.add(h)),o.style.display="none";const l=n.nodeType===1?n:n.parentNode;l.appendChild(o);const{hasTransform:d}=GP(o);return l.removeChild(o),d}const Cf=t=>{const n=t.props["onUpdate:modelValue"]||!1;return on(n)?i=>Ev(n,i):n};function xQ(t){t.target.composing=!0}function V2(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const yS={created(t,{modifiers:{lazy:n,trim:i,number:o}},l){t._assign=Cf(l);const d=o||l.props&&l.props.type==="number";vc(t,n?"change":"input",h=>{if(h.target.composing)return;let g=t.value;i&&(g=g.trim()),d&&(g=Op(g)),t._assign(g)}),i&&vc(t,"change",()=>{t.value=t.value.trim()}),n||(vc(t,"compositionstart",xQ),vc(t,"compositionend",V2),vc(t,"change",V2))},mounted(t,{value:n}){t.value=n==null?"":n},beforeUpdate(t,{value:n,modifiers:{lazy:i,trim:o,number:l}},d){if(t._assign=Cf(d),t.composing||document.activeElement===t&&t.type!=="range"&&(i||o&&t.value.trim()===n||(l||t.type==="number")&&Op(t.value)===n))return;const h=n==null?"":n;t.value!==h&&(t.value=h)}},t_={deep:!0,created(t,n,i){t._assign=Cf(i),vc(t,"change",()=>{const o=t._modelValue,l=XP(t),d=t.checked,h=t._assign;if(on(o)){const g=VT(o,l),y=g!==-1;if(d&&!y)h(o.concat(l));else if(!d&&y){const b=[...o];b.splice(g,1),h(b)}}else if(E_(o)){const g=new Set(o);d?g.add(l):g.delete(l),h(g)}else h($P(t,d))})},mounted:G2,beforeUpdate(t,n,i){t._assign=Cf(i),G2(t,n,i)}};function G2(t,{value:n,oldValue:i},o){t._modelValue=n,on(n)?t.checked=VT(n,o.props.value)>-1:E_(n)?t.checked=n.has(o.props.value):n!==i&&(t.checked=bf(n,$P(t,!0)))}const QP={created(t,{value:n},i){t.checked=bf(n,i.props.value),t._assign=Cf(i),vc(t,"change",()=>{t._assign(XP(t))})},beforeUpdate(t,{value:n,oldValue:i},o){t._assign=Cf(o),n!==i&&(t.checked=bf(n,o.props.value))}};function XP(t){return"_value"in t?t._value:t.value}function $P(t,n){const i=n?"_trueValue":"_falseValue";return i in t?t[i]:n}const MQ=["ctrl","shift","alt","meta"],RQ={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>MQ.some(i=>t[`${i}Key`]&&!n.includes(i))},Dn=(t,n)=>(i,...o)=>{for(let l=0;l<n.length;l++){const d=RQ[n[l]];if(d&&d(i,n))return}return t(i,...o)},TQ={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},pr=(t,n)=>i=>{if(!("key"in i))return;const o=Nc(i.key);if(n.some(l=>l===o||TQ[l]===o))return t(i)},yr={beforeMount(t,{value:n},{transition:i}){t._vod=t.style.display==="none"?"":t.style.display,i&&n?i.beforeEnter(t):ap(t,n)},mounted(t,{value:n},{transition:i}){i&&n&&i.enter(t)},updated(t,{value:n,oldValue:i},{transition:o}){!n!=!i&&(o?n?(o.beforeEnter(t),ap(t,!0),o.enter(t)):o.leave(t,()=>{ap(t,!1)}):ap(t,n))},beforeUnmount(t,{value:n}){ap(t,n)}};function ap(t,n){t.style.display=n?t._vod:"none"}const PQ=is({patchProp:gQ},rQ);let U2;function WP(){return U2||(U2=LH(PQ))}const If=(...t)=>{WP().render(...t)},KP=(...t)=>{const n=WP().createApp(...t),{mount:i}=n;return n.mount=o=>{const l=NQ(o);if(!l)return;const d=n._component;!Nn(d)&&!d.render&&!d.template&&(d.template=l.innerHTML),l.innerHTML="";const h=i(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),h},n};function NQ(t){return On(t)?document.querySelector(t):t}function BQ(t){if(!!t&&!(typeof window>"u")){var n=document.createElement("style");return n.setAttribute("type","text/css"),n.innerHTML=t,document.head.appendChild(n),t}}function af(t,n){var i=t.__state.conversionName.toString(),o=Math.round(t.r),l=Math.round(t.g),d=Math.round(t.b),h=t.a,g=Math.round(t.h),y=t.s.toFixed(1),b=t.v.toFixed(1);if(n||i==="THREE_CHAR_HEX"||i==="SIX_CHAR_HEX"){for(var C=t.hex.toString(16);C.length<6;)C="0"+C;return"#"+C}else{if(i==="CSS_RGB")return"rgb("+o+","+l+","+d+")";if(i==="CSS_RGBA")return"rgba("+o+","+l+","+d+","+h+")";if(i==="HEX")return"0x"+t.hex.toString(16);if(i==="RGB_ARRAY")return"["+o+","+l+","+d+"]";if(i==="RGBA_ARRAY")return"["+o+","+l+","+d+","+h+"]";if(i==="RGB_OBJ")return"{r:"+o+",g:"+l+",b:"+d+"}";if(i==="RGBA_OBJ")return"{r:"+o+",g:"+l+",b:"+d+",a:"+h+"}";if(i==="HSV_OBJ")return"{h:"+g+",s:"+y+",v:"+b+"}";if(i==="HSVA_OBJ")return"{h:"+g+",s:"+y+",v:"+b+",a:"+h+"}"}return"unknown format"}var z2=Array.prototype.forEach,lp=Array.prototype.slice,cn={BREAK:{},extend:function(n){return this.each(lp.call(arguments,1),function(i){var o=this.isObject(i)?Object.keys(i):[];o.forEach(function(l){this.isUndefined(i[l])||(n[l]=i[l])}.bind(this))},this),n},defaults:function(n){return this.each(lp.call(arguments,1),function(i){var o=this.isObject(i)?Object.keys(i):[];o.forEach(function(l){this.isUndefined(n[l])&&(n[l]=i[l])}.bind(this))},this),n},compose:function(){var n=lp.call(arguments);return function(){for(var i=lp.call(arguments),o=n.length-1;o>=0;o--)i=[n[o].apply(this,i)];return i[0]}},each:function(n,i,o){if(!!n){if(z2&&n.forEach&&n.forEach===z2)n.forEach(i,o);else if(n.length===n.length+0){var l=void 0,d=void 0;for(l=0,d=n.length;l<d;l++)if(l in n&&i.call(o,n[l],l)===this.BREAK)return}else for(var h in n)if(i.call(o,n[h],h)===this.BREAK)return}},defer:function(n){setTimeout(n,0)},debounce:function(n,i,o){var l=void 0;return function(){var d=this,h=arguments;function g(){l=null,o||n.apply(d,h)}var y=o||!l;clearTimeout(l),l=setTimeout(g,i),y&&n.apply(d,h)}},toArray:function(n){return n.toArray?n.toArray():lp.call(n)},isUndefined:function(n){return n===void 0},isNull:function(n){return n===null},isNaN:function(t){function n(i){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}(function(t){return isNaN(t)}),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(n){return n===Object(n)},isNumber:function(n){return n===n+0},isString:function(n){return n===n+""},isBoolean:function(n){return n===!1||n===!0},isFunction:function(n){return n instanceof Function}},DQ=[{litmus:cn.isString,conversions:{THREE_CHAR_HEX:{read:function(n){var i=n.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return i===null?!1:{space:"HEX",hex:parseInt("0x"+i[1].toString()+i[1].toString()+i[2].toString()+i[2].toString()+i[3].toString()+i[3].toString(),0)}},write:af},SIX_CHAR_HEX:{read:function(n){var i=n.match(/^#([A-F0-9]{6})$/i);return i===null?!1:{space:"HEX",hex:parseInt("0x"+i[1].toString(),0)}},write:af},CSS_RGB:{read:function(n){var i=n.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return i===null?!1:{space:"RGB",r:parseFloat(i[1]),g:parseFloat(i[2]),b:parseFloat(i[3])}},write:af},CSS_RGBA:{read:function(n){var i=n.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return i===null?!1:{space:"RGB",r:parseFloat(i[1]),g:parseFloat(i[2]),b:parseFloat(i[3]),a:parseFloat(i[4])}},write:af}}},{litmus:cn.isNumber,conversions:{HEX:{read:function(n){return{space:"HEX",hex:n,conversionName:"HEX"}},write:function(n){return n.hex}}}},{litmus:cn.isArray,conversions:{RGB_ARRAY:{read:function(n){return n.length!==3?!1:{space:"RGB",r:n[0],g:n[1],b:n[2]}},write:function(n){return[n.r,n.g,n.b]}},RGBA_ARRAY:{read:function(n){return n.length!==4?!1:{space:"RGB",r:n[0],g:n[1],b:n[2],a:n[3]}},write:function(n){return[n.r,n.g,n.b,n.a]}}}},{litmus:cn.isObject,conversions:{RGBA_OBJ:{read:function(n){return cn.isNumber(n.r)&&cn.isNumber(n.g)&&cn.isNumber(n.b)&&cn.isNumber(n.a)?{space:"RGB",r:n.r,g:n.g,b:n.b,a:n.a}:!1},write:function(n){return{r:n.r,g:n.g,b:n.b,a:n.a}}},RGB_OBJ:{read:function(n){return cn.isNumber(n.r)&&cn.isNumber(n.g)&&cn.isNumber(n.b)?{space:"RGB",r:n.r,g:n.g,b:n.b}:!1},write:function(n){return{r:n.r,g:n.g,b:n.b}}},HSVA_OBJ:{read:function(n){return cn.isNumber(n.h)&&cn.isNumber(n.s)&&cn.isNumber(n.v)&&cn.isNumber(n.a)?{space:"HSV",h:n.h,s:n.s,v:n.v,a:n.a}:!1},write:function(n){return{h:n.h,s:n.s,v:n.v,a:n.a}}},HSV_OBJ:{read:function(n){return cn.isNumber(n.h)&&cn.isNumber(n.s)&&cn.isNumber(n.v)?{space:"HSV",h:n.h,s:n.s,v:n.v}:!1},write:function(n){return{h:n.h,s:n.s,v:n.v}}}}}],cp=void 0,rv=void 0,Xb=function(){rv=!1;var n=arguments.length>1?cn.toArray(arguments):arguments[0];return cn.each(DQ,function(i){if(i.litmus(n))return cn.each(i.conversions,function(o,l){if(cp=o.read(n),rv===!1&&cp!==!1)return rv=cp,cp.conversionName=l,cp.conversion=o,cn.BREAK}),cn.BREAK}),rv},H2=void 0,n_={hsv_to_rgb:function(n,i,o){var l=Math.floor(n/60)%6,d=n/60-Math.floor(n/60),h=o*(1-i),g=o*(1-d*i),y=o*(1-(1-d)*i),b=[[o,y,h],[g,o,h],[h,o,y],[h,g,o],[y,h,o],[o,h,g]][l];return{r:b[0]*255,g:b[1]*255,b:b[2]*255}},rgb_to_hsv:function(n,i,o){var l=Math.min(n,i,o),d=Math.max(n,i,o),h=d-l,g=void 0,y=void 0;if(d!==0)y=h/d;else return{h:NaN,s:0,v:0};return n===d?g=(i-o)/h:i===d?g=2+(o-n)/h:g=4+(n-i)/h,g/=6,g<0&&(g+=1),{h:g*360,s:y,v:d/255}},rgb_to_hex:function(n,i,o){var l=this.hex_with_component(0,2,n);return l=this.hex_with_component(l,1,i),l=this.hex_with_component(l,0,o),l},component_from_hex:function(n,i){return n>>i*8&255},hex_with_component:function(n,i,o){return o<<(H2=i*8)|n&~(255<<H2)}},kQ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aa=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},ya=function(){function t(n,i){for(var o=0;o<i.length;o++){var l=i[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}return function(n,i,o){return i&&t(n.prototype,i),o&&t(n,o),n}}(),Cc=function t(n,i,o){n===null&&(n=Function.prototype);var l=Object.getOwnPropertyDescriptor(n,i);if(l===void 0){var d=Object.getPrototypeOf(n);return d===null?void 0:t(d,i,o)}else{if("value"in l)return l.value;var h=l.get;return h===void 0?void 0:h.call(o)}},Bc=function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},Dc=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:t},ns=function(){function t(){if(Aa(this,t),this.__state=Xb.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return ya(t,[{key:"toString",value:function(){return af(this)}},{key:"toHexString",value:function(){return af(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function bS(t,n,i){Object.defineProperty(t,n,{get:function(){return this.__state.space==="RGB"?this.__state[n]:(ns.recalculateRGB(this,n,i),this.__state[n])},set:function(l){this.__state.space!=="RGB"&&(ns.recalculateRGB(this,n,i),this.__state.space="RGB"),this.__state[n]=l}})}function SS(t,n){Object.defineProperty(t,n,{get:function(){return this.__state.space==="HSV"?this.__state[n]:(ns.recalculateHSV(this),this.__state[n])},set:function(o){this.__state.space!=="HSV"&&(ns.recalculateHSV(this),this.__state.space="HSV"),this.__state[n]=o}})}ns.recalculateRGB=function(t,n,i){if(t.__state.space==="HEX")t.__state[n]=n_.component_from_hex(t.__state.hex,i);else if(t.__state.space==="HSV")cn.extend(t.__state,n_.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v));else throw new Error("Corrupted color state")};ns.recalculateHSV=function(t){var n=n_.rgb_to_hsv(t.r,t.g,t.b);cn.extend(t.__state,{s:n.s,v:n.v}),cn.isNaN(n.h)?cn.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=n.h};ns.COMPONENTS=["r","g","b","h","s","v","hex","a"];bS(ns.prototype,"r",2);bS(ns.prototype,"g",1);bS(ns.prototype,"b",0);SS(ns.prototype,"h");SS(ns.prototype,"s");SS(ns.prototype,"v");Object.defineProperty(ns.prototype,"a",{get:function(){return this.__state.a},set:function(n){this.__state.a=n}});Object.defineProperty(ns.prototype,"hex",{get:function(){return this.__state.space!=="HEX"&&(this.__state.hex=n_.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(n){this.__state.space="HEX",this.__state.hex=n}});var qu=function(){function t(n,i){Aa(this,t),this.initialValue=n[i],this.domElement=document.createElement("div"),this.object=n,this.property=i,this.__onChange=void 0,this.__onFinishChange=void 0}return ya(t,[{key:"onChange",value:function(i){return this.__onChange=i,this}},{key:"onFinishChange",value:function(i){return this.__onFinishChange=i,this}},{key:"setValue",value:function(i){return this.object[this.property]=i,this.__onChange&&this.__onChange.call(this,i),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),LQ={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},jP={};cn.each(LQ,function(t,n){cn.each(t,function(i){jP[i]=n})});var OQ=/(\d+(\.\d+)?)px/;function La(t){if(t==="0"||cn.isUndefined(t))return 0;var n=t.match(OQ);return cn.isNull(n)?0:parseFloat(n[1])}var zt={makeSelectable:function(n,i){n===void 0||n.style===void 0||(n.onselectstart=i?function(){return!1}:function(){},n.style.MozUserSelect=i?"auto":"none",n.style.KhtmlUserSelect=i?"auto":"none",n.unselectable=i?"on":"off")},makeFullscreen:function(n,i,o){var l=o,d=i;cn.isUndefined(d)&&(d=!0),cn.isUndefined(l)&&(l=!0),n.style.position="absolute",d&&(n.style.left=0,n.style.right=0),l&&(n.style.top=0,n.style.bottom=0)},fakeEvent:function(n,i,o,l){var d=o||{},h=jP[i];if(!h)throw new Error("Event type "+i+" not supported.");var g=document.createEvent(h);switch(h){case"MouseEvents":{var y=d.x||d.clientX||0,b=d.y||d.clientY||0;g.initMouseEvent(i,d.bubbles||!1,d.cancelable||!0,window,d.clickCount||1,0,0,y,b,!1,!1,!1,!1,0,null);break}case"KeyboardEvents":{var C=g.initKeyboardEvent||g.initKeyEvent;cn.defaults(d,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),C(i,d.bubbles||!1,d.cancelable,window,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.keyCode,d.charCode);break}default:{g.initEvent(i,d.bubbles||!1,d.cancelable||!0);break}}cn.defaults(g,l),n.dispatchEvent(g)},bind:function(n,i,o,l){var d=l||!1;return n.addEventListener?n.addEventListener(i,o,d):n.attachEvent&&n.attachEvent("on"+i,o),zt},unbind:function(n,i,o,l){var d=l||!1;return n.removeEventListener?n.removeEventListener(i,o,d):n.detachEvent&&n.detachEvent("on"+i,o),zt},addClass:function(n,i){if(n.className===void 0)n.className=i;else if(n.className!==i){var o=n.className.split(/ +/);o.indexOf(i)===-1&&(o.push(i),n.className=o.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return zt},removeClass:function(n,i){if(i)if(n.className===i)n.removeAttribute("class");else{var o=n.className.split(/ +/),l=o.indexOf(i);l!==-1&&(o.splice(l,1),n.className=o.join(" "))}else n.className=void 0;return zt},hasClass:function(n,i){return new RegExp("(?:^|\\s+)"+i+"(?:\\s+|$)").test(n.className)||!1},getWidth:function(n){var i=getComputedStyle(n);return La(i["border-left-width"])+La(i["border-right-width"])+La(i["padding-left"])+La(i["padding-right"])+La(i.width)},getHeight:function(n){var i=getComputedStyle(n);return La(i["border-top-width"])+La(i["border-bottom-width"])+La(i["padding-top"])+La(i["padding-bottom"])+La(i.height)},getOffset:function(n){var i=n,o={left:0,top:0};if(i.offsetParent)do o.left+=i.offsetLeft,o.top+=i.offsetTop,i=i.offsetParent;while(i);return o},isActive:function(n){return n===document.activeElement&&(n.type||n.href)}},qP=function(t){Bc(n,t);function n(i,o){Aa(this,n);var l=Dc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,o)),d=l;l.__prev=l.getValue(),l.__checkbox=document.createElement("input"),l.__checkbox.setAttribute("type","checkbox");function h(){d.setValue(!d.__prev)}return zt.bind(l.__checkbox,"change",h,!1),l.domElement.appendChild(l.__checkbox),l.updateDisplay(),l}return ya(n,[{key:"setValue",value:function(o){var l=Cc(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setValue",this).call(this,o);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),l}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),Cc(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(qu),FQ=function(t){Bc(n,t);function n(i,o,l){Aa(this,n);var d=Dc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,o)),h=l,g=d;if(d.__select=document.createElement("select"),cn.isArray(h)){var y={};cn.each(h,function(b){y[b]=b}),h=y}return cn.each(h,function(b,C){var E=document.createElement("option");E.innerHTML=C,E.setAttribute("value",b),g.__select.appendChild(E)}),d.updateDisplay(),zt.bind(d.__select,"change",function(){var b=this.options[this.selectedIndex].value;g.setValue(b)}),d.domElement.appendChild(d.__select),d}return ya(n,[{key:"setValue",value:function(o){var l=Cc(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setValue",this).call(this,o);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),l}},{key:"updateDisplay",value:function(){return zt.isActive(this.__select)?this:(this.__select.value=this.getValue(),Cc(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this))}}]),n}(qu),VQ=function(t){Bc(n,t);function n(i,o){Aa(this,n);var l=Dc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,o)),d=l;function h(){d.setValue(d.__input.value)}function g(){d.__onFinishChange&&d.__onFinishChange.call(d,d.getValue())}return l.__input=document.createElement("input"),l.__input.setAttribute("type","text"),zt.bind(l.__input,"keyup",h),zt.bind(l.__input,"change",h),zt.bind(l.__input,"blur",g),zt.bind(l.__input,"keydown",function(y){y.keyCode===13&&this.blur()}),l.updateDisplay(),l.domElement.appendChild(l.__input),l}return ya(n,[{key:"updateDisplay",value:function(){return zt.isActive(this.__input)||(this.__input.value=this.getValue()),Cc(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(qu);function Q2(t){var n=t.toString();return n.indexOf(".")>-1?n.length-n.indexOf(".")-1:0}var YP=function(t){Bc(n,t);function n(i,o,l){Aa(this,n);var d=Dc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,o)),h=l||{};return d.__min=h.min,d.__max=h.max,d.__step=h.step,cn.isUndefined(d.__step)?d.initialValue===0?d.__impliedStep=1:d.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(d.initialValue))/Math.LN10))/10:d.__impliedStep=d.__step,d.__precision=Q2(d.__impliedStep),d}return ya(n,[{key:"setValue",value:function(o){var l=o;return this.__min!==void 0&&l<this.__min?l=this.__min:this.__max!==void 0&&l>this.__max&&(l=this.__max),this.__step!==void 0&&l%this.__step!==0&&(l=Math.round(l/this.__step)*this.__step),Cc(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setValue",this).call(this,l)}},{key:"min",value:function(o){return this.__min=o,this}},{key:"max",value:function(o){return this.__max=o,this}},{key:"step",value:function(o){return this.__step=o,this.__impliedStep=o,this.__precision=Q2(o),this}}]),n}(qu);function GQ(t,n){var i=Math.pow(10,n);return Math.round(t*i)/i}var r_=function(t){Bc(n,t);function n(i,o,l){Aa(this,n);var d=Dc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,o,l));d.__truncationSuspended=!1;var h=d,g=void 0;function y(){var T=parseFloat(h.__input.value);cn.isNaN(T)||h.setValue(T)}function b(){h.__onFinishChange&&h.__onFinishChange.call(h,h.getValue())}function C(){b()}function E(T){var R=g-T.clientY;h.setValue(h.getValue()+R*h.__impliedStep),g=T.clientY}function I(){zt.unbind(window,"mousemove",E),zt.unbind(window,"mouseup",I),b()}function M(T){zt.bind(window,"mousemove",E),zt.bind(window,"mouseup",I),g=T.clientY}return d.__input=document.createElement("input"),d.__input.setAttribute("type","text"),zt.bind(d.__input,"change",y),zt.bind(d.__input,"blur",C),zt.bind(d.__input,"mousedown",M),zt.bind(d.__input,"keydown",function(T){T.keyCode===13&&(h.__truncationSuspended=!0,this.blur(),h.__truncationSuspended=!1,b())}),d.updateDisplay(),d.domElement.appendChild(d.__input),d}return ya(n,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():GQ(this.getValue(),this.__precision),Cc(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(YP);function X2(t,n,i,o,l){return o+(l-o)*((t-n)/(i-n))}var $b=function(t){Bc(n,t);function n(i,o,l,d,h){Aa(this,n);var g=Dc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,o,{min:l,max:d,step:h})),y=g;g.__background=document.createElement("div"),g.__foreground=document.createElement("div"),zt.bind(g.__background,"mousedown",b),zt.bind(g.__background,"touchstart",I),zt.addClass(g.__background,"slider"),zt.addClass(g.__foreground,"slider-fg");function b(R){document.activeElement.blur(),zt.bind(window,"mousemove",C),zt.bind(window,"mouseup",E),C(R)}function C(R){R.preventDefault();var N=y.__background.getBoundingClientRect();return y.setValue(X2(R.clientX,N.left,N.right,y.__min,y.__max)),!1}function E(){zt.unbind(window,"mousemove",C),zt.unbind(window,"mouseup",E),y.__onFinishChange&&y.__onFinishChange.call(y,y.getValue())}function I(R){R.touches.length===1&&(zt.bind(window,"touchmove",M),zt.bind(window,"touchend",T),M(R))}function M(R){var N=R.touches[0].clientX,D=y.__background.getBoundingClientRect();y.setValue(X2(N,D.left,D.right,y.__min,y.__max))}function T(){zt.unbind(window,"touchmove",M),zt.unbind(window,"touchend",T),y.__onFinishChange&&y.__onFinishChange.call(y,y.getValue())}return g.updateDisplay(),g.__background.appendChild(g.__foreground),g.domElement.appendChild(g.__background),g}return ya(n,[{key:"updateDisplay",value:function(){var o=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=o*100+"%",Cc(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(YP),JP=function(t){Bc(n,t);function n(i,o,l){Aa(this,n);var d=Dc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,o)),h=d;return d.__button=document.createElement("div"),d.__button.innerHTML=l===void 0?"Fire":l,zt.bind(d.__button,"click",function(g){return g.preventDefault(),h.fire(),!1}),zt.addClass(d.__button,"button"),d.domElement.appendChild(d.__button),d}return ya(n,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),n}(qu),Wb=function(t){Bc(n,t);function n(i,o){Aa(this,n);var l=Dc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,o));l.__color=new ns(l.getValue()),l.__temp=new ns(0);var d=l;l.domElement=document.createElement("div"),zt.makeSelectable(l.domElement,!1),l.__selector=document.createElement("div"),l.__selector.className="selector",l.__saturation_field=document.createElement("div"),l.__saturation_field.className="saturation-field",l.__field_knob=document.createElement("div"),l.__field_knob.className="field-knob",l.__field_knob_border="2px solid ",l.__hue_knob=document.createElement("div"),l.__hue_knob.className="hue-knob",l.__hue_field=document.createElement("div"),l.__hue_field.className="hue-field",l.__input=document.createElement("input"),l.__input.type="text",l.__input_textShadow="0 1px 1px ",zt.bind(l.__input,"keydown",function(R){R.keyCode===13&&E.call(this)}),zt.bind(l.__input,"blur",E),zt.bind(l.__selector,"mousedown",function(){zt.addClass(this,"drag").bind(window,"mouseup",function(){zt.removeClass(d.__selector,"drag")})}),zt.bind(l.__selector,"touchstart",function(){zt.addClass(this,"drag").bind(window,"touchend",function(){zt.removeClass(d.__selector,"drag")})});var h=document.createElement("div");cn.extend(l.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),cn.extend(l.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:l.__field_knob_border+(l.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),cn.extend(l.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),cn.extend(l.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),cn.extend(h.style,{width:"100%",height:"100%",background:"none"}),$2(h,"top","rgba(0,0,0,0)","#000"),cn.extend(l.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),zQ(l.__hue_field),cn.extend(l.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:l.__input_textShadow+"rgba(0,0,0,0.7)"}),zt.bind(l.__saturation_field,"mousedown",g),zt.bind(l.__saturation_field,"touchstart",g),zt.bind(l.__field_knob,"mousedown",g),zt.bind(l.__field_knob,"touchstart",g),zt.bind(l.__hue_field,"mousedown",y),zt.bind(l.__hue_field,"touchstart",y);function g(R){M(R),zt.bind(window,"mousemove",M),zt.bind(window,"touchmove",M),zt.bind(window,"mouseup",b),zt.bind(window,"touchend",b)}function y(R){T(R),zt.bind(window,"mousemove",T),zt.bind(window,"touchmove",T),zt.bind(window,"mouseup",C),zt.bind(window,"touchend",C)}function b(){zt.unbind(window,"mousemove",M),zt.unbind(window,"touchmove",M),zt.unbind(window,"mouseup",b),zt.unbind(window,"touchend",b),I()}function C(){zt.unbind(window,"mousemove",T),zt.unbind(window,"touchmove",T),zt.unbind(window,"mouseup",C),zt.unbind(window,"touchend",C),I()}function E(){var R=Xb(this.value);R!==!1?(d.__color.__state=R,d.setValue(d.__color.toOriginal())):this.value=d.__color.toString()}function I(){d.__onFinishChange&&d.__onFinishChange.call(d,d.__color.toOriginal())}l.__saturation_field.appendChild(h),l.__selector.appendChild(l.__field_knob),l.__selector.appendChild(l.__saturation_field),l.__selector.appendChild(l.__hue_field),l.__hue_field.appendChild(l.__hue_knob),l.domElement.appendChild(l.__input),l.domElement.appendChild(l.__selector),l.updateDisplay();function M(R){R.type.indexOf("touch")===-1&&R.preventDefault();var N=d.__saturation_field.getBoundingClientRect(),D=R.touches&&R.touches[0]||R,V=D.clientX,B=D.clientY,z=(V-N.left)/(N.right-N.left),H=1-(B-N.top)/(N.bottom-N.top);return H>1?H=1:H<0&&(H=0),z>1?z=1:z<0&&(z=0),d.__color.v=H,d.__color.s=z,d.setValue(d.__color.toOriginal()),!1}function T(R){R.type.indexOf("touch")===-1&&R.preventDefault();var N=d.__hue_field.getBoundingClientRect(),D=R.touches&&R.touches[0]||R,V=D.clientY,B=1-(V-N.top)/(N.bottom-N.top);return B>1?B=1:B<0&&(B=0),d.__color.h=B*360,d.setValue(d.__color.toOriginal()),!1}return l}return ya(n,[{key:"updateDisplay",value:function(){var o=Xb(this.getValue());if(o!==!1){var l=!1;cn.each(ns.COMPONENTS,function(g){if(!cn.isUndefined(o[g])&&!cn.isUndefined(this.__color.__state[g])&&o[g]!==this.__color.__state[g])return l=!0,{}},this),l&&cn.extend(this.__color.__state,o)}cn.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var d=this.__color.v<.5||this.__color.s>.5?255:0,h=255-d;cn.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+d+","+d+","+d+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,$2(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),cn.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+d+","+d+","+d+")",textShadow:this.__input_textShadow+"rgba("+h+","+h+","+h+",.7)"})}}]),n}(qu),UQ=["-moz-","-o-","-webkit-","-ms-",""];function $2(t,n,i,o){t.style.background="",cn.each(UQ,function(l){t.style.cssText+="background: "+l+"linear-gradient("+n+", "+i+" 0%, "+o+" 100%); "})}function zQ(t){t.style.background="",t.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",t.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var HQ={load:function(n,i){var o=i||document,l=o.createElement("link");l.type="text/css",l.rel="stylesheet",l.href=n,o.getElementsByTagName("head")[0].appendChild(l)},inject:function(n,i){var o=i||document,l=document.createElement("style");l.type="text/css",l.innerHTML=n;var d=o.getElementsByTagName("head")[0];try{d.appendChild(l)}catch{}}},QQ=`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.

    </div>

  </div>

</div>`,XQ=function(n,i){var o=n[i];return cn.isArray(arguments[2])||cn.isObject(arguments[2])?new FQ(n,i,arguments[2]):cn.isNumber(o)?cn.isNumber(arguments[2])&&cn.isNumber(arguments[3])?cn.isNumber(arguments[4])?new $b(n,i,arguments[2],arguments[3],arguments[4]):new $b(n,i,arguments[2],arguments[3]):cn.isNumber(arguments[4])?new r_(n,i,{min:arguments[2],max:arguments[3],step:arguments[4]}):new r_(n,i,{min:arguments[2],max:arguments[3]}):cn.isString(o)?new VQ(n,i):cn.isFunction(o)?new JP(n,i,""):cn.isBoolean(o)?new qP(n,i):null};function $Q(t){setTimeout(t,1e3/60)}var WQ=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||$Q,KQ=function(){function t(){Aa(this,t),this.backgroundElement=document.createElement("div"),cn.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),zt.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),cn.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;zt.bind(this.backgroundElement,"click",function(){n.hide()})}return ya(t,[{key:"show",value:function(){var i=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),cn.defer(function(){i.backgroundElement.style.opacity=1,i.domElement.style.opacity=1,i.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var i=this,o=function l(){i.domElement.style.display="none",i.backgroundElement.style.display="none",zt.unbind(i.domElement,"webkitTransitionEnd",l),zt.unbind(i.domElement,"transitionend",l),zt.unbind(i.domElement,"oTransitionEnd",l)};zt.bind(this.domElement,"webkitTransitionEnd",o),zt.bind(this.domElement,"transitionend",o),zt.bind(this.domElement,"oTransitionEnd",o),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-zt.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-zt.getHeight(this.domElement)/2+"px"}}]),t}(),jQ=BQ(`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`);HQ.inject(jQ);var W2="dg",K2=72,j2=20,Xp="Default",gp=function(){try{return!!window.localStorage}catch{return!1}}(),wp=void 0,q2=!0,ef=void 0,rb=!1,ZP=[],fi=function t(n){var i=this,o=n||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),zt.addClass(this.domElement,W2),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],o=cn.defaults(o,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),o=cn.defaults(o,{resizable:o.autoPlace,hideable:o.autoPlace}),cn.isUndefined(o.load)?o.load={preset:Xp}:o.preset&&(o.load.preset=o.preset),cn.isUndefined(o.parent)&&o.hideable&&ZP.push(this),o.resizable=cn.isUndefined(o.parent)&&o.resizable,o.autoPlace&&cn.isUndefined(o.scrollable)&&(o.scrollable=!0);var l=gp&&localStorage.getItem(tf(this,"isLocal"))==="true",d=void 0,h=void 0;if(Object.defineProperties(this,{parent:{get:function(){return o.parent}},scrollable:{get:function(){return o.scrollable}},autoPlace:{get:function(){return o.autoPlace}},closeOnTop:{get:function(){return o.closeOnTop}},preset:{get:function(){return i.parent?i.getRoot().preset:o.load.preset},set:function(I){i.parent?i.getRoot().preset=I:o.load.preset=I,ZQ(this),i.revert()}},width:{get:function(){return o.width},set:function(I){o.width=I,qb(i,I)}},name:{get:function(){return o.name},set:function(I){o.name=I,h&&(h.innerHTML=o.name)}},closed:{get:function(){return o.closed},set:function(I){o.closed=I,o.closed?zt.addClass(i.__ul,t.CLASS_CLOSED):zt.removeClass(i.__ul,t.CLASS_CLOSED),this.onResize(),i.__closeButton&&(i.__closeButton.innerHTML=I?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return o.load}},useLocalStorage:{get:function(){return l},set:function(I){gp&&(l=I,I?zt.bind(window,"unload",d):zt.unbind(window,"unload",d),localStorage.setItem(tf(i,"isLocal"),I))}}}),cn.isUndefined(o.parent)){if(this.closed=o.closed||!1,zt.addClass(this.domElement,t.CLASS_MAIN),zt.makeSelectable(this.domElement,!1),gp&&l){i.useLocalStorage=!0;var g=localStorage.getItem(tf(this,"gui"));g&&(o.load=JSON.parse(g))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,zt.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),o.closeOnTop?(zt.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(zt.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),zt.bind(this.__closeButton,"click",function(){i.closed=!i.closed})}else{o.closed===void 0&&(o.closed=!0);var y=document.createTextNode(o.name);zt.addClass(y,"controller-name"),h=wS(i,y);var b=function(I){return I.preventDefault(),i.closed=!i.closed,!1};zt.addClass(this.__ul,t.CLASS_CLOSED),zt.addClass(h,"title"),zt.bind(h,"click",b),o.closed||(this.closed=!1)}o.autoPlace&&(cn.isUndefined(o.parent)&&(q2&&(ef=document.createElement("div"),zt.addClass(ef,W2),zt.addClass(ef,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ef),q2=!1),ef.appendChild(this.domElement),zt.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||qb(i,o.width)),this.__resizeHandler=function(){i.onResizeDebounced()},zt.bind(window,"resize",this.__resizeHandler),zt.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),zt.bind(this.__ul,"transitionend",this.__resizeHandler),zt.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),o.resizable&&JQ(this),d=function(){gp&&localStorage.getItem(tf(i,"isLocal"))==="true"&&localStorage.setItem(tf(i,"gui"),JSON.stringify(i.getSaveObject()))},this.saveToLocalStorageIfPossible=d;function C(){var E=i.getRoot();E.width+=1,cn.defer(function(){E.width-=1})}o.parent||C()};fi.toggleHide=function(){rb=!rb,cn.each(ZP,function(t){t.domElement.style.display=rb?"none":""})};fi.CLASS_AUTO_PLACE="a";fi.CLASS_AUTO_PLACE_CONTAINER="ac";fi.CLASS_MAIN="main";fi.CLASS_CONTROLLER_ROW="cr";fi.CLASS_TOO_TALL="taller-than-window";fi.CLASS_CLOSED="closed";fi.CLASS_CLOSE_BUTTON="close-button";fi.CLASS_CLOSE_TOP="close-top";fi.CLASS_CLOSE_BOTTOM="close-bottom";fi.CLASS_DRAG="drag";fi.DEFAULT_WIDTH=245;fi.TEXT_CLOSED="Close Controls";fi.TEXT_OPEN="Open Controls";fi._keydownHandler=function(t){document.activeElement.type!=="text"&&(t.which===K2||t.keyCode===K2)&&fi.toggleHide()};zt.bind(window,"keydown",fi._keydownHandler,!1);cn.extend(fi.prototype,{add:function(n,i){return Ep(this,n,i,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(n,i){return Ep(this,n,i,{color:!0})},remove:function(n){this.__ul.removeChild(n.__li),this.__controllers.splice(this.__controllers.indexOf(n),1);var i=this;cn.defer(function(){i.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&ef.removeChild(this.domElement);var n=this;cn.each(this.__folders,function(i){n.removeFolder(i)}),zt.unbind(window,"keydown",fi._keydownHandler,!1),Y2(this)},addFolder:function(n){if(this.__folders[n]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+n+'"');var i={name:n,parent:this};i.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[n]&&(i.closed=this.load.folders[n].closed,i.load=this.load.folders[n]);var o=new fi(i);this.__folders[n]=o;var l=wS(this,o.domElement);return zt.addClass(l,"folder"),o},removeFolder:function(n){this.__ul.removeChild(n.domElement.parentElement),delete this.__folders[n.name],this.load&&this.load.folders&&this.load.folders[n.name]&&delete this.load.folders[n.name],Y2(n);var i=this;cn.each(n.__folders,function(o){n.removeFolder(o)}),cn.defer(function(){i.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var n=this.getRoot();if(n.scrollable){var i=zt.getOffset(n.__ul).top,o=0;cn.each(n.__ul.childNodes,function(l){n.autoPlace&&l===n.__save_row||(o+=zt.getHeight(l))}),window.innerHeight-i-j2<o?(zt.addClass(n.domElement,fi.CLASS_TOO_TALL),n.__ul.style.height=window.innerHeight-i-j2+"px"):(zt.removeClass(n.domElement,fi.CLASS_TOO_TALL),n.__ul.style.height="auto")}n.__resize_handle&&cn.defer(function(){n.__resize_handle.style.height=n.__ul.offsetHeight+"px"}),n.__closeButton&&(n.__closeButton.style.width=n.width+"px")},onResizeDebounced:cn.debounce(function(){this.onResize()},50),remember:function(){if(cn.isUndefined(wp)&&(wp=new KQ,wp.domElement.innerHTML=QQ),this.parent)throw new Error("You can only call remember on a top level GUI.");var n=this;cn.each(Array.prototype.slice.call(arguments),function(i){n.__rememberedObjects.length===0&&YQ(n),n.__rememberedObjects.indexOf(i)===-1&&n.__rememberedObjects.push(i)}),this.autoPlace&&qb(this,this.width)},getRoot:function(){for(var n=this;n.parent;)n=n.parent;return n},getSaveObject:function(){var n=this.load;return n.closed=this.closed,this.__rememberedObjects.length>0&&(n.preset=this.preset,n.remembered||(n.remembered={}),n.remembered[this.preset]=iv(this)),n.folders={},cn.each(this.__folders,function(i,o){n.folders[o]=i.getSaveObject()}),n},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=iv(this),Kb(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(n){this.load.remembered||(this.load.remembered={},this.load.remembered[Xp]=iv(this,!0)),this.load.remembered[n]=iv(this),this.preset=n,jb(this,n,!0),this.saveToLocalStorageIfPossible()},revert:function(n){cn.each(this.__controllers,function(i){this.getRoot().load.remembered?eN(n||this.getRoot(),i):i.setValue(i.initialValue),i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())},this),cn.each(this.__folders,function(i){i.revert(i)}),n||Kb(this.getRoot(),!1)},listen:function(n){var i=this.__listening.length===0;this.__listening.push(n),i&&tN(this.__listening)},updateDisplay:function(){cn.each(this.__controllers,function(n){n.updateDisplay()}),cn.each(this.__folders,function(n){n.updateDisplay()})}});function wS(t,n,i){var o=document.createElement("li");return n&&o.appendChild(n),i?t.__ul.insertBefore(o,i):t.__ul.appendChild(o),t.onResize(),o}function Y2(t){zt.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&zt.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function Kb(t,n){var i=t.__preset_select[t.__preset_select.selectedIndex];n?i.innerHTML=i.value+"*":i.innerHTML=i.value}function qQ(t,n,i){if(i.__li=n,i.__gui=t,cn.extend(i,{options:function(h){if(arguments.length>1){var g=i.__li.nextElementSibling;return i.remove(),Ep(t,i.object,i.property,{before:g,factoryArgs:[cn.toArray(arguments)]})}if(cn.isArray(h)||cn.isObject(h)){var y=i.__li.nextElementSibling;return i.remove(),Ep(t,i.object,i.property,{before:y,factoryArgs:[h]})}},name:function(h){return i.__li.firstElementChild.firstElementChild.innerHTML=h,i},listen:function(){return i.__gui.listen(i),i},remove:function(){return i.__gui.remove(i),i}}),i instanceof $b){var o=new r_(i.object,i.property,{min:i.__min,max:i.__max,step:i.__step});cn.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(d){var h=i[d],g=o[d];i[d]=o[d]=function(){var y=Array.prototype.slice.call(arguments);return g.apply(o,y),h.apply(i,y)}}),zt.addClass(n,"has-slider"),i.domElement.insertBefore(o.domElement,i.domElement.firstElementChild)}else if(i instanceof r_){var l=function(h){if(cn.isNumber(i.__min)&&cn.isNumber(i.__max)){var g=i.__li.firstElementChild.firstElementChild.innerHTML,y=i.__gui.__listening.indexOf(i)>-1;i.remove();var b=Ep(t,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[i.__min,i.__max,i.__step]});return b.name(g),y&&b.listen(),b}return h};i.min=cn.compose(l,i.min),i.max=cn.compose(l,i.max)}else i instanceof qP?(zt.bind(n,"click",function(){zt.fakeEvent(i.__checkbox,"click")}),zt.bind(i.__checkbox,"click",function(d){d.stopPropagation()})):i instanceof JP?(zt.bind(n,"click",function(){zt.fakeEvent(i.__button,"click")}),zt.bind(n,"mouseover",function(){zt.addClass(i.__button,"hover")}),zt.bind(n,"mouseout",function(){zt.removeClass(i.__button,"hover")})):i instanceof Wb&&(zt.addClass(n,"color"),i.updateDisplay=cn.compose(function(d){return n.style.borderLeftColor=i.__color.toString(),d},i.updateDisplay),i.updateDisplay());i.setValue=cn.compose(function(d){return t.getRoot().__preset_select&&i.isModified()&&Kb(t.getRoot(),!0),d},i.setValue)}function eN(t,n){var i=t.getRoot(),o=i.__rememberedObjects.indexOf(n.object);if(o!==-1){var l=i.__rememberedObjectIndecesToControllers[o];if(l===void 0&&(l={},i.__rememberedObjectIndecesToControllers[o]=l),l[n.property]=n,i.load&&i.load.remembered){var d=i.load.remembered,h=void 0;if(d[t.preset])h=d[t.preset];else if(d[Xp])h=d[Xp];else return;if(h[o]&&h[o][n.property]!==void 0){var g=h[o][n.property];n.initialValue=g,n.setValue(g)}}}}function Ep(t,n,i,o){if(n[i]===void 0)throw new Error('Object "'+n+'" has no property "'+i+'"');var l=void 0;if(o.color)l=new Wb(n,i);else{var d=[n,i].concat(o.factoryArgs);l=XQ.apply(t,d)}o.before instanceof qu&&(o.before=o.before.__li),eN(t,l),zt.addClass(l.domElement,"c");var h=document.createElement("span");zt.addClass(h,"property-name"),h.innerHTML=l.property;var g=document.createElement("div");g.appendChild(h),g.appendChild(l.domElement);var y=wS(t,g,o.before);return zt.addClass(y,fi.CLASS_CONTROLLER_ROW),l instanceof Wb?zt.addClass(y,"color"):zt.addClass(y,kQ(l.getValue())),qQ(t,y,l),t.__controllers.push(l),l}function tf(t,n){return document.location.href+"."+n}function jb(t,n,i){var o=document.createElement("option");o.innerHTML=n,o.value=n,t.__preset_select.appendChild(o),i&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function J2(t,n){n.style.display=t.useLocalStorage?"block":"none"}function YQ(t){var n=t.__save_row=document.createElement("li");zt.addClass(t.domElement,"has-save"),t.__ul.insertBefore(n,t.__ul.firstChild),zt.addClass(n,"save-row");var i=document.createElement("span");i.innerHTML="&nbsp;",zt.addClass(i,"button gears");var o=document.createElement("span");o.innerHTML="Save",zt.addClass(o,"button"),zt.addClass(o,"save");var l=document.createElement("span");l.innerHTML="New",zt.addClass(l,"button"),zt.addClass(l,"save-as");var d=document.createElement("span");d.innerHTML="Revert",zt.addClass(d,"button"),zt.addClass(d,"revert");var h=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?cn.each(t.load.remembered,function(E,I){jb(t,I,I===t.preset)}):jb(t,Xp,!1),zt.bind(h,"change",function(){for(var E=0;E<t.__preset_select.length;E++)t.__preset_select[E].innerHTML=t.__preset_select[E].value;t.preset=this.value}),n.appendChild(h),n.appendChild(i),n.appendChild(o),n.appendChild(l),n.appendChild(d),gp){var g=document.getElementById("dg-local-explain"),y=document.getElementById("dg-local-storage"),b=document.getElementById("dg-save-locally");b.style.display="block",localStorage.getItem(tf(t,"isLocal"))==="true"&&y.setAttribute("checked","checked"),J2(t,g),zt.bind(y,"change",function(){t.useLocalStorage=!t.useLocalStorage,J2(t,g)})}var C=document.getElementById("dg-new-constructor");zt.bind(C,"keydown",function(E){E.metaKey&&(E.which===67||E.keyCode===67)&&wp.hide()}),zt.bind(i,"click",function(){C.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),wp.show(),C.focus(),C.select()}),zt.bind(o,"click",function(){t.save()}),zt.bind(l,"click",function(){var E=prompt("Enter a new preset name.");E&&t.saveAs(E)}),zt.bind(d,"click",function(){t.revert()})}function JQ(t){var n=void 0;t.__resize_handle=document.createElement("div"),cn.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function i(d){return d.preventDefault(),t.width+=n-d.clientX,t.onResize(),n=d.clientX,!1}function o(){zt.removeClass(t.__closeButton,fi.CLASS_DRAG),zt.unbind(window,"mousemove",i),zt.unbind(window,"mouseup",o)}function l(d){return d.preventDefault(),n=d.clientX,zt.addClass(t.__closeButton,fi.CLASS_DRAG),zt.bind(window,"mousemove",i),zt.bind(window,"mouseup",o),!1}zt.bind(t.__resize_handle,"mousedown",l),zt.bind(t.__closeButton,"mousedown",l),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function qb(t,n){t.domElement.style.width=n+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=n+"px"),t.__closeButton&&(t.__closeButton.style.width=n+"px")}function iv(t,n){var i={};return cn.each(t.__rememberedObjects,function(o,l){var d={},h=t.__rememberedObjectIndecesToControllers[l];cn.each(h,function(g,y){d[y]=n?g.initialValue:g.getValue()}),i[l]=d}),i}function ZQ(t){for(var n=0;n<t.__preset_select.length;n++)t.__preset_select[n].value===t.preset&&(t.__preset_select.selectedIndex=n)}function tN(t){t.length!==0&&WQ.call(window,function(){tN(t)}),cn.each(t,function(n){n.updateDisplay()})}var eX=fi,ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tX(t){var n=t.default;if(typeof n=="function"){var i=function(){return n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var l=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(i,o,l.get?l:{enumerable:!0,get:function(){return t[o]}})}),i}var Cu={exports:{}};const nX={},rX=Object.freeze(Object.defineProperty({__proto__:null,default:nX},Symbol.toStringTag,{value:"Module"})),iX=tX(rX);var ib={exports:{}},Z2;function sX(){return Z2||(Z2=1,function(t,n){(function(i,o){o()})(ls,function(){function i(b,C){return typeof C>"u"?C={autoBom:!1}:typeof C!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),C={autoBom:!C}),C.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["\uFEFF",b],{type:b.type}):b}function o(b,C,E){var I=new XMLHttpRequest;I.open("GET",b),I.responseType="blob",I.onload=function(){y(I.response,C,E)},I.onerror=function(){console.error("could not download file")},I.send()}function l(b){var C=new XMLHttpRequest;C.open("HEAD",b,!1);try{C.send()}catch{}return 200<=C.status&&299>=C.status}function d(b){try{b.dispatchEvent(new MouseEvent("click"))}catch{var C=document.createEvent("MouseEvents");C.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),b.dispatchEvent(C)}}var h=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ls=="object"&&ls.global===ls?ls:void 0,g=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),y=h.saveAs||(typeof window!="object"||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!g?function(b,C,E){var I=h.URL||h.webkitURL,M=document.createElement("a");C=C||b.name||"download",M.download=C,M.rel="noopener",typeof b=="string"?(M.href=b,M.origin===location.origin?d(M):l(M.href)?o(b,C,E):d(M,M.target="_blank")):(M.href=I.createObjectURL(b),setTimeout(function(){I.revokeObjectURL(M.href)},4e4),setTimeout(function(){d(M)},0))}:"msSaveOrOpenBlob"in navigator?function(b,C,E){if(C=C||b.name||"download",typeof b!="string")navigator.msSaveOrOpenBlob(i(b,E),C);else if(l(b))o(b,C,E);else{var I=document.createElement("a");I.href=b,I.target="_blank",setTimeout(function(){d(I)})}}:function(b,C,E,I){if(I=I||open("","_blank"),I&&(I.document.title=I.document.body.innerText="downloading..."),typeof b=="string")return o(b,C,E);var M=b.type==="application/octet-stream",T=/constructor/i.test(h.HTMLElement)||h.safari,R=/CriOS\/[\d]+/.test(navigator.userAgent);if((R||M&&T||g)&&typeof FileReader<"u"){var N=new FileReader;N.onloadend=function(){var B=N.result;B=R?B:B.replace(/^data:[^;]*;/,"data:attachment/file;"),I?I.location.href=B:location=B,I=null},N.readAsDataURL(b)}else{var D=h.URL||h.webkitURL,V=D.createObjectURL(b);I?I.location=V:location.href=V,I=null,setTimeout(function(){D.revokeObjectURL(V)},4e4)}});h.saveAs=y.saveAs=y,t.exports=y})}(ib)),ib.exports}(function(t,n){(function(i,o){o(n,iX)})(ls,function(i,o){function l(p){return p&&typeof p=="object"&&"default"in p?p:{default:p}}var d=l(o),h=function(p,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},h(p,e)};function g(p,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");h(p,e);function r(){this.constructor=p}p.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function y(p,e,r,s){function a(u){return u instanceof r?u:new r(function(f){f(u)})}return new(r||(r=Promise))(function(u,f){function m(w){try{A(s.next(w))}catch(S){f(S)}}function _(w){try{A(s.throw(w))}catch(S){f(S)}}function A(w){w.done?u(w.value):a(w.value).then(m,_)}A((s=s.apply(p,e||[])).next())})}function b(p,e){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(A){return function(w){return _([A,w])}}function _(A){if(s)throw new TypeError("Generator is already executing.");for(;r;)try{if(s=1,a&&(u=A[0]&2?a.return:A[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,A[1])).done)return u;switch(a=0,u&&(A=[A[0]&2,u.value]),A[0]){case 0:case 1:u=A;break;case 4:return r.label++,{value:A[1],done:!1};case 5:r.label++,a=A[1],A=[0];continue;case 7:A=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(A[0]===6||A[0]===2)){r=0;continue}if(A[0]===3&&(!u||A[1]>u[0]&&A[1]<u[3])){r.label=A[1];break}if(A[0]===6&&r.label<u[1]){r.label=u[1],u=A;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(A);break}u[2]&&r.ops.pop(),r.trys.pop();continue}A=e.call(p,r)}catch(w){A=[6,w],a=0}finally{s=u=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function C(p,e,r){if(r||arguments.length===2)for(var s=0,a=e.length,u;s<a;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return p.concat(u||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const E="148",I={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},M={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},T=0,R=1,N=2,D=1,V=2,B=3,z=0,H=1,q=2,he=3,ne=0,se=1,oe=2,xe=3,me=4,ce=5,Ae=100,Se=101,ye=102,ie=103,fe=104,le=200,Oe=201,Qe=202,Pe=203,He=204,bt=205,xt=206,Nt=207,st=208,Ye=209,ot=210,Et=0,an=1,Be=2,Xe=3,ht=4,Dt=5,Ot=6,dt=7,Ft=0,At=1,Ne=2,Ke=0,Lt=1,Wt=2,en=3,vn=4,xn=5,Wn=300,pt=301,St=302,tn=303,Fn=304,Ce=306,We=1e3,_t=1001,Vt=1002,Rn=1003,xr=1004,ii=1005,gr=1006,Yn=1007,Vr=1008,Pt=1009,In=1010,rr=1011,Cr=1012,vo=1013,Qi=1014,Ei=1015,$s=1016,BD=1017,DD=1018,td=1020,kD=1021,LD=1022,Xi=1023,OD=1024,FD=1025,zc=1026,nd=1027,Ul=1028,VD=1029,qf=1030,GD=1031,UD=1033,Im=33776,cA=33777,uA=33778,xm=33779,dA=35840,qw=35841,fA=35842,Yw=35843,Jw=36196,hA=37492,pA=37496,mA=37808,Zw=37809,eE=37810,tE=37811,nE=37812,rE=37813,iE=37814,sE=37815,oE=37816,aE=37817,lE=37818,cE=37819,uE=37820,dE=37821,gA=36492,zD=2200,HD=2201,QD=2202,rd=2300,Hc=2301,vA=2302,id=2400,sd=2401,Mm=2402,_A=2500,XD=2501,$D=1,fE=2,Vo=3e3,Lr=3001,WD=3200,KD=3201,AA=0,jD=1,Ca="srgb",Yf="srgb-linear",yA=7680,qD=519,bA=35044,Rm="300 es",SA=1035;class Wa{addEventListener(e,r){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[e]===void 0&&(s[e]=[]),s[e].indexOf(r)===-1&&s[e].push(r)}hasEventListener(e,r){if(this._listeners===void 0)return!1;const s=this._listeners;return s[e]!==void 0&&s[e].indexOf(r)!==-1}removeEventListener(e,r){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const u=a.indexOf(r);u!==-1&&a.splice(u,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const s=this._listeners[e.type];if(s!==void 0){e.target=this;const a=s.slice(0);for(let u=0,f=a.length;u<f;u++)a[u].call(this,e);e.target=null}}}const hs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let hE=1234567;const Jf=Math.PI/180,Zf=180/Math.PI;function Go(){const p=Math.random()*4294967295|0,e=Math.random()*4294967295|0,r=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(hs[p&255]+hs[p>>8&255]+hs[p>>16&255]+hs[p>>24&255]+"-"+hs[e&255]+hs[e>>8&255]+"-"+hs[e>>16&15|64]+hs[e>>24&255]+"-"+hs[r&63|128]+hs[r>>8&255]+"-"+hs[r>>16&255]+hs[r>>24&255]+hs[s&255]+hs[s>>8&255]+hs[s>>16&255]+hs[s>>24&255]).toLowerCase()}function os(p,e,r){return Math.max(e,Math.min(r,p))}function wA(p,e){return(p%e+e)%e}function YD(p,e,r,s,a){return s+(p-e)*(a-s)/(r-e)}function JD(p,e,r){return p!==e?(r-p)/(e-p):0}function eh(p,e,r){return(1-r)*p+r*e}function ZD(p,e,r,s){return eh(p,e,1-Math.exp(-r*s))}function ek(p,e=1){return e-Math.abs(wA(p,e*2)-e)}function tk(p,e,r){return p<=e?0:p>=r?1:(p=(p-e)/(r-e),p*p*(3-2*p))}function nk(p,e,r){return p<=e?0:p>=r?1:(p=(p-e)/(r-e),p*p*p*(p*(p*6-15)+10))}function rk(p,e){return p+Math.floor(Math.random()*(e-p+1))}function ik(p,e){return p+Math.random()*(e-p)}function sk(p){return p*(.5-Math.random())}function ok(p){p!==void 0&&(hE=p);let e=hE+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function ak(p){return p*Jf}function lk(p){return p*Zf}function EA(p){return(p&p-1)===0&&p!==0}function pE(p){return Math.pow(2,Math.ceil(Math.log(p)/Math.LN2))}function Tm(p){return Math.pow(2,Math.floor(Math.log(p)/Math.LN2))}function ck(p,e,r,s,a){const u=Math.cos,f=Math.sin,m=u(r/2),_=f(r/2),A=u((e+s)/2),w=f((e+s)/2),S=u((e-s)/2),x=f((e-s)/2),P=u((s-e)/2),O=f((s-e)/2);switch(a){case"XYX":p.set(m*w,_*S,_*x,m*A);break;case"YZY":p.set(_*x,m*w,_*S,m*A);break;case"ZXZ":p.set(_*S,_*x,m*w,m*A);break;case"XZX":p.set(m*w,_*O,_*P,m*A);break;case"YXY":p.set(_*P,m*w,_*O,m*A);break;case"ZYZ":p.set(_*O,_*P,m*w,m*A);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function Ka(p,e){switch(e.constructor){case Float32Array:return p;case Uint16Array:return p/65535;case Uint8Array:return p/255;case Int16Array:return Math.max(p/32767,-1);case Int8Array:return Math.max(p/127,-1);default:throw new Error("Invalid component type.")}}function si(p,e){switch(e.constructor){case Float32Array:return p;case Uint16Array:return Math.round(p*65535);case Uint8Array:return Math.round(p*255);case Int16Array:return Math.round(p*32767);case Int8Array:return Math.round(p*127);default:throw new Error("Invalid component type.")}}var Pm=Object.freeze({__proto__:null,DEG2RAD:Jf,RAD2DEG:Zf,generateUUID:Go,clamp:os,euclideanModulo:wA,mapLinear:YD,inverseLerp:JD,lerp:eh,damp:ZD,pingpong:ek,smoothstep:tk,smootherstep:nk,randInt:rk,randFloat:ik,randFloatSpread:sk,seededRandom:ok,degToRad:ak,radToDeg:lk,isPowerOfTwo:EA,ceilPowerOfTwo:pE,floorPowerOfTwo:Tm,setQuaternionFromProperEuler:ck,normalize:si,denormalize:Ka});class Gn{constructor(e=0,r=0){Gn.prototype.isVector2=!0,this.x=e,this.y=r}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,r){return this.x=e,this.y=r,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const r=this.x,s=this.y,a=e.elements;return this.x=a[0]*r+a[3]*s+a[6],this.y=a[1]*r+a[4]*s+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this}clampLength(e,r){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(r,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,s=this.y-e.y;return r*r+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this}lerpVectors(e,r,s){return this.x=e.x+(r.x-e.x)*s,this.y=e.y+(r.y-e.y)*s,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this}rotateAround(e,r){const s=Math.cos(r),a=Math.sin(r),u=this.x-e.x,f=this.y-e.y;return this.x=u*s-f*a+e.x,this.y=u*a+f*s+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ws{constructor(){Ws.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,r,s,a,u,f,m,_,A){const w=this.elements;return w[0]=e,w[1]=a,w[2]=m,w[3]=r,w[4]=u,w[5]=_,w[6]=s,w[7]=f,w[8]=A,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const r=this.elements,s=e.elements;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],this}extractBasis(e,r,s){return e.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const r=e.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const s=e.elements,a=r.elements,u=this.elements,f=s[0],m=s[3],_=s[6],A=s[1],w=s[4],S=s[7],x=s[2],P=s[5],O=s[8],k=a[0],L=a[3],U=a[6],Q=a[1],G=a[4],Z=a[7],X=a[2],te=a[5],ae=a[8];return u[0]=f*k+m*Q+_*X,u[3]=f*L+m*G+_*te,u[6]=f*U+m*Z+_*ae,u[1]=A*k+w*Q+S*X,u[4]=A*L+w*G+S*te,u[7]=A*U+w*Z+S*ae,u[2]=x*k+P*Q+O*X,u[5]=x*L+P*G+O*te,u[8]=x*U+P*Z+O*ae,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=e,r[4]*=e,r[7]*=e,r[2]*=e,r[5]*=e,r[8]*=e,this}determinant(){const e=this.elements,r=e[0],s=e[1],a=e[2],u=e[3],f=e[4],m=e[5],_=e[6],A=e[7],w=e[8];return r*f*w-r*m*A-s*u*w+s*m*_+a*u*A-a*f*_}invert(){const e=this.elements,r=e[0],s=e[1],a=e[2],u=e[3],f=e[4],m=e[5],_=e[6],A=e[7],w=e[8],S=w*f-m*A,x=m*_-w*u,P=A*u-f*_,O=r*S+s*x+a*P;if(O===0)return this.set(0,0,0,0,0,0,0,0,0);const k=1/O;return e[0]=S*k,e[1]=(a*A-w*s)*k,e[2]=(m*s-a*f)*k,e[3]=x*k,e[4]=(w*r-a*_)*k,e[5]=(a*u-m*r)*k,e[6]=P*k,e[7]=(s*_-A*r)*k,e[8]=(f*r-s*u)*k,this}transpose(){let e;const r=this.elements;return e=r[1],r[1]=r[3],r[3]=e,e=r[2],r[2]=r[6],r[6]=e,e=r[5],r[5]=r[7],r[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const r=this.elements;return e[0]=r[0],e[1]=r[3],e[2]=r[6],e[3]=r[1],e[4]=r[4],e[5]=r[7],e[6]=r[2],e[7]=r[5],e[8]=r[8],this}setUvTransform(e,r,s,a,u,f,m){const _=Math.cos(u),A=Math.sin(u);return this.set(s*_,s*A,-s*(_*f+A*m)+f+e,-a*A,a*_,-a*(-A*f+_*m)+m+r,0,0,1),this}scale(e,r){return this.premultiply(CA.makeScale(e,r)),this}rotate(e){return this.premultiply(CA.makeRotation(-e)),this}translate(e,r){return this.premultiply(CA.makeTranslation(e,r)),this}makeTranslation(e,r){return this.set(1,0,e,0,1,r,0,0,1),this}makeRotation(e){const r=Math.cos(e),s=Math.sin(e);return this.set(r,-s,0,s,r,0,0,0,1),this}makeScale(e,r){return this.set(e,0,0,0,r,0,0,0,1),this}equals(e){const r=this.elements,s=e.elements;for(let a=0;a<9;a++)if(r[a]!==s[a])return!1;return!0}fromArray(e,r=0){for(let s=0;s<9;s++)this.elements[s]=e[s+r];return this}toArray(e=[],r=0){const s=this.elements;return e[r]=s[0],e[r+1]=s[1],e[r+2]=s[2],e[r+3]=s[3],e[r+4]=s[4],e[r+5]=s[5],e[r+6]=s[6],e[r+7]=s[7],e[r+8]=s[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const CA=new Ws;function mE(p){for(let e=p.length-1;e>=0;--e)if(p[e]>=65535)return!0;return!1}function th(p){return document.createElementNS("http://www.w3.org/1999/xhtml",p)}function Qc(p){return p<.04045?p*.0773993808:Math.pow(p*.9478672986+.0521327014,2.4)}function Nm(p){return p<.0031308?p*12.92:1.055*Math.pow(p,.41666)-.055}const IA={[Ca]:{[Yf]:Qc},[Yf]:{[Ca]:Nm}},ys={legacyMode:!0,get workingColorSpace(){return Yf},set workingColorSpace(p){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(p,e,r){if(this.legacyMode||e===r||!e||!r)return p;if(IA[e]&&IA[e][r]!==void 0){const s=IA[e][r];return p.r=s(p.r),p.g=s(p.g),p.b=s(p.b),p}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(p,e){return this.convert(p,this.workingColorSpace,e)},toWorkingColorSpace:function(p,e){return this.convert(p,e,this.workingColorSpace)}},gE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Li={r:0,g:0,b:0},Uo={h:0,s:0,l:0},Bm={h:0,s:0,l:0};function xA(p,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?p+(e-p)*6*r:r<1/2?e:r<2/3?p+(e-p)*6*(2/3-r):p}function Dm(p,e){return e.r=p.r,e.g=p.g,e.b=p.b,e}class dr{constructor(e,r,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,r===void 0&&s===void 0?this.set(e):this.setRGB(e,r,s)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,r=Ca){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ys.toWorkingColorSpace(this,r),this}setRGB(e,r,s,a=ys.workingColorSpace){return this.r=e,this.g=r,this.b=s,ys.toWorkingColorSpace(this,a),this}setHSL(e,r,s,a=ys.workingColorSpace){if(e=wA(e,1),r=os(r,0,1),s=os(s,0,1),r===0)this.r=this.g=this.b=s;else{const u=s<=.5?s*(1+r):s+r-s*r,f=2*s-u;this.r=xA(f,u,e+1/3),this.g=xA(f,u,e),this.b=xA(f,u,e-1/3)}return ys.toWorkingColorSpace(this,a),this}setStyle(e,r=Ca){function s(u){u!==void 0&&parseFloat(u)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let u;const f=a[1],m=a[2];switch(f){case"rgb":case"rgba":if(u=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(m))return this.r=Math.min(255,parseInt(u[1],10))/255,this.g=Math.min(255,parseInt(u[2],10))/255,this.b=Math.min(255,parseInt(u[3],10))/255,ys.toWorkingColorSpace(this,r),s(u[4]),this;if(u=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(m))return this.r=Math.min(100,parseInt(u[1],10))/100,this.g=Math.min(100,parseInt(u[2],10))/100,this.b=Math.min(100,parseInt(u[3],10))/100,ys.toWorkingColorSpace(this,r),s(u[4]),this;break;case"hsl":case"hsla":if(u=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(m)){const _=parseFloat(u[1])/360,A=parseFloat(u[2])/100,w=parseFloat(u[3])/100;return s(u[4]),this.setHSL(_,A,w,r)}break}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const u=a[1],f=u.length;if(f===3)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,ys.toWorkingColorSpace(this,r),this;if(f===6)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,ys.toWorkingColorSpace(this,r),this}return e&&e.length>0?this.setColorName(e,r):this}setColorName(e,r=Ca){const s=gE[e.toLowerCase()];return s!==void 0?this.setHex(s,r):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Qc(e.r),this.g=Qc(e.g),this.b=Qc(e.b),this}copyLinearToSRGB(e){return this.r=Nm(e.r),this.g=Nm(e.g),this.b=Nm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ca){return ys.fromWorkingColorSpace(Dm(this,Li),e),os(Li.r*255,0,255)<<16^os(Li.g*255,0,255)<<8^os(Li.b*255,0,255)<<0}getHexString(e=Ca){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,r=ys.workingColorSpace){ys.fromWorkingColorSpace(Dm(this,Li),r);const s=Li.r,a=Li.g,u=Li.b,f=Math.max(s,a,u),m=Math.min(s,a,u);let _,A;const w=(m+f)/2;if(m===f)_=0,A=0;else{const S=f-m;switch(A=w<=.5?S/(f+m):S/(2-f-m),f){case s:_=(a-u)/S+(a<u?6:0);break;case a:_=(u-s)/S+2;break;case u:_=(s-a)/S+4;break}_/=6}return e.h=_,e.s=A,e.l=w,e}getRGB(e,r=ys.workingColorSpace){return ys.fromWorkingColorSpace(Dm(this,Li),r),e.r=Li.r,e.g=Li.g,e.b=Li.b,e}getStyle(e=Ca){return ys.fromWorkingColorSpace(Dm(this,Li),e),e!==Ca?`color(${e} ${Li.r} ${Li.g} ${Li.b})`:`rgb(${Li.r*255|0},${Li.g*255|0},${Li.b*255|0})`}offsetHSL(e,r,s){return this.getHSL(Uo),Uo.h+=e,Uo.s+=r,Uo.l+=s,this.setHSL(Uo.h,Uo.s,Uo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,r){return this.r=e.r+r.r,this.g=e.g+r.g,this.b=e.b+r.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,r){return this.r+=(e.r-this.r)*r,this.g+=(e.g-this.g)*r,this.b+=(e.b-this.b)*r,this}lerpColors(e,r,s){return this.r=e.r+(r.r-e.r)*s,this.g=e.g+(r.g-e.g)*s,this.b=e.b+(r.b-e.b)*s,this}lerpHSL(e,r){this.getHSL(Uo),e.getHSL(Bm);const s=eh(Uo.h,Bm.h,r),a=eh(Uo.s,Bm.s,r),u=eh(Uo.l,Bm.l,r);return this.setHSL(s,a,u),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,r=0){return this.r=e[r],this.g=e[r+1],this.b=e[r+2],this}toArray(e=[],r=0){return e[r]=this.r,e[r+1]=this.g,e[r+2]=this.b,e}fromBufferAttribute(e,r){return this.r=e.getX(r),this.g=e.getY(r),this.b=e.getZ(r),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}dr.NAMES=gE;let od;class vE{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{od===void 0&&(od=th("canvas")),od.width=e.width,od.height=e.height;const s=od.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),r=od}return r.width>2048||r.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),r.toDataURL("image/jpeg",.6)):r.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const r=th("canvas");r.width=e.width,r.height=e.height;const s=r.getContext("2d");s.drawImage(e,0,0,e.width,e.height);const a=s.getImageData(0,0,e.width,e.height),u=a.data;for(let f=0;f<u.length;f++)u[f]=Qc(u[f]/255)*255;return s.putImageData(a,0,0),r}else if(e.data){const r=e.data.slice(0);for(let s=0;s<r.length;s++)r instanceof Uint8Array||r instanceof Uint8ClampedArray?r[s]=Math.floor(Qc(r[s]/255)*255):r[s]=Qc(r[s]);return{data:r,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class MA{constructor(e=null){this.isSource=!0,this.uuid=Go(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const s={uuid:this.uuid,url:""},a=this.data;if(a!==null){let u;if(Array.isArray(a)){u=[];for(let f=0,m=a.length;f<m;f++)a[f].isDataTexture?u.push(RA(a[f].image)):u.push(RA(a[f]))}else u=RA(a);s.url=u}return r||(e.images[this.uuid]=s),s}}function RA(p){return typeof HTMLImageElement<"u"&&p instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&p instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&p instanceof ImageBitmap?vE.getDataURL(p):p.data?{data:Array.from(p.data),width:p.width,height:p.height,type:p.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let uk=0;class Oi extends Wa{constructor(e=Oi.DEFAULT_IMAGE,r=Oi.DEFAULT_MAPPING,s=_t,a=_t,u=gr,f=Vr,m=Xi,_=Pt,A=Oi.DEFAULT_ANISOTROPY,w=Vo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:uk++}),this.uuid=Go(),this.name="",this.source=new MA(e),this.mipmaps=[],this.mapping=r,this.wrapS=s,this.wrapT=a,this.magFilter=u,this.minFilter=f,this.anisotropy=A,this.format=m,this.internalFormat=null,this.type=_,this.offset=new Gn(0,0),this.repeat=new Gn(1,1),this.center=new Gn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ws,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=w,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const s={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(s.userData=this.userData),r||(e.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Wn)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case We:e.x=e.x-Math.floor(e.x);break;case _t:e.x=e.x<0?0:1;break;case Vt:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case We:e.y=e.y-Math.floor(e.y);break;case _t:e.y=e.y<0?0:1;break;case Vt:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Oi.DEFAULT_IMAGE=null,Oi.DEFAULT_MAPPING=Wn,Oi.DEFAULT_ANISOTROPY=1;class oi{constructor(e=0,r=0,s=0,a=1){oi.prototype.isVector4=!0,this.x=e,this.y=r,this.z=s,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,r,s,a){return this.x=e,this.y=r,this.z=s,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this.w=e.w+r.w,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this.w+=e.w*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this.w=e.w-r.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const r=this.x,s=this.y,a=this.z,u=this.w,f=e.elements;return this.x=f[0]*r+f[4]*s+f[8]*a+f[12]*u,this.y=f[1]*r+f[5]*s+f[9]*a+f[13]*u,this.z=f[2]*r+f[6]*s+f[10]*a+f[14]*u,this.w=f[3]*r+f[7]*s+f[11]*a+f[15]*u,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const r=Math.sqrt(1-e.w*e.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/r,this.y=e.y/r,this.z=e.z/r),this}setAxisAngleFromRotationMatrix(e){let r,s,a,u;const _=e.elements,A=_[0],w=_[4],S=_[8],x=_[1],P=_[5],O=_[9],k=_[2],L=_[6],U=_[10];if(Math.abs(w-x)<.01&&Math.abs(S-k)<.01&&Math.abs(O-L)<.01){if(Math.abs(w+x)<.1&&Math.abs(S+k)<.1&&Math.abs(O+L)<.1&&Math.abs(A+P+U-3)<.1)return this.set(1,0,0,0),this;r=Math.PI;const G=(A+1)/2,Z=(P+1)/2,X=(U+1)/2,te=(w+x)/4,ae=(S+k)/4,j=(O+L)/4;return G>Z&&G>X?G<.01?(s=0,a=.707106781,u=.707106781):(s=Math.sqrt(G),a=te/s,u=ae/s):Z>X?Z<.01?(s=.707106781,a=0,u=.707106781):(a=Math.sqrt(Z),s=te/a,u=j/a):X<.01?(s=.707106781,a=.707106781,u=0):(u=Math.sqrt(X),s=ae/u,a=j/u),this.set(s,a,u,r),this}let Q=Math.sqrt((L-O)*(L-O)+(S-k)*(S-k)+(x-w)*(x-w));return Math.abs(Q)<.001&&(Q=1),this.x=(L-O)/Q,this.y=(S-k)/Q,this.z=(x-w)/Q,this.w=Math.acos((A+P+U-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this.w=Math.max(e.w,Math.min(r.w,this.w)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this.w=Math.max(e,Math.min(r,this.w)),this}clampLength(e,r){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(r,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this.w+=(e.w-this.w)*r,this}lerpVectors(e,r,s){return this.x=e.x+(r.x-e.x)*s,this.y=e.y+(r.y-e.y)*s,this.z=e.z+(r.z-e.z)*s,this.w=e.w+(r.w-e.w)*s,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this.w=e[r+3],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e[r+3]=this.w,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this.w=e.getW(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Xc extends Wa{constructor(e=1,r=1,s={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=r,this.depth=1,this.scissor=new oi(0,0,e,r),this.scissorTest=!1,this.viewport=new oi(0,0,e,r);const a={width:e,height:r,depth:1};this.texture=new Oi(a,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=s.generateMipmaps!==void 0?s.generateMipmaps:!1,this.texture.internalFormat=s.internalFormat!==void 0?s.internalFormat:null,this.texture.minFilter=s.minFilter!==void 0?s.minFilter:gr,this.depthBuffer=s.depthBuffer!==void 0?s.depthBuffer:!0,this.stencilBuffer=s.stencilBuffer!==void 0?s.stencilBuffer:!1,this.depthTexture=s.depthTexture!==void 0?s.depthTexture:null,this.samples=s.samples!==void 0?s.samples:0}setSize(e,r,s=1){(this.width!==e||this.height!==r||this.depth!==s)&&(this.width=e,this.height=r,this.depth=s,this.texture.image.width=e,this.texture.image.height=r,this.texture.image.depth=s,this.dispose()),this.viewport.set(0,0,e,r),this.scissor.set(0,0,e,r)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const r=Object.assign({},e.texture.image);return this.texture.source=new MA(r),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class km extends Oi{constructor(e=null,r=1,s=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:r,height:s,depth:a},this.magFilter=Rn,this.minFilter=Rn,this.wrapR=_t,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class TA extends Oi{constructor(e=null,r=1,s=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:r,height:s,depth:a},this.magFilter=Rn,this.minFilter=Rn,this.wrapR=_t,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ds{constructor(e=0,r=0,s=0,a=1){this.isQuaternion=!0,this._x=e,this._y=r,this._z=s,this._w=a}static slerpFlat(e,r,s,a,u,f,m){let _=s[a+0],A=s[a+1],w=s[a+2],S=s[a+3];const x=u[f+0],P=u[f+1],O=u[f+2],k=u[f+3];if(m===0){e[r+0]=_,e[r+1]=A,e[r+2]=w,e[r+3]=S;return}if(m===1){e[r+0]=x,e[r+1]=P,e[r+2]=O,e[r+3]=k;return}if(S!==k||_!==x||A!==P||w!==O){let L=1-m;const U=_*x+A*P+w*O+S*k,Q=U>=0?1:-1,G=1-U*U;if(G>Number.EPSILON){const X=Math.sqrt(G),te=Math.atan2(X,U*Q);L=Math.sin(L*te)/X,m=Math.sin(m*te)/X}const Z=m*Q;if(_=_*L+x*Z,A=A*L+P*Z,w=w*L+O*Z,S=S*L+k*Z,L===1-m){const X=1/Math.sqrt(_*_+A*A+w*w+S*S);_*=X,A*=X,w*=X,S*=X}}e[r]=_,e[r+1]=A,e[r+2]=w,e[r+3]=S}static multiplyQuaternionsFlat(e,r,s,a,u,f){const m=s[a],_=s[a+1],A=s[a+2],w=s[a+3],S=u[f],x=u[f+1],P=u[f+2],O=u[f+3];return e[r]=m*O+w*S+_*P-A*x,e[r+1]=_*O+w*x+A*S-m*P,e[r+2]=A*O+w*P+m*x-_*S,e[r+3]=w*O-m*S-_*x-A*P,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,r,s,a){return this._x=e,this._y=r,this._z=s,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,r){const s=e._x,a=e._y,u=e._z,f=e._order,m=Math.cos,_=Math.sin,A=m(s/2),w=m(a/2),S=m(u/2),x=_(s/2),P=_(a/2),O=_(u/2);switch(f){case"XYZ":this._x=x*w*S+A*P*O,this._y=A*P*S-x*w*O,this._z=A*w*O+x*P*S,this._w=A*w*S-x*P*O;break;case"YXZ":this._x=x*w*S+A*P*O,this._y=A*P*S-x*w*O,this._z=A*w*O-x*P*S,this._w=A*w*S+x*P*O;break;case"ZXY":this._x=x*w*S-A*P*O,this._y=A*P*S+x*w*O,this._z=A*w*O+x*P*S,this._w=A*w*S-x*P*O;break;case"ZYX":this._x=x*w*S-A*P*O,this._y=A*P*S+x*w*O,this._z=A*w*O-x*P*S,this._w=A*w*S+x*P*O;break;case"YZX":this._x=x*w*S+A*P*O,this._y=A*P*S+x*w*O,this._z=A*w*O-x*P*S,this._w=A*w*S-x*P*O;break;case"XZY":this._x=x*w*S-A*P*O,this._y=A*P*S-x*w*O,this._z=A*w*O+x*P*S,this._w=A*w*S+x*P*O;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+f)}return r!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,r){const s=r/2,a=Math.sin(s);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(e){const r=e.elements,s=r[0],a=r[4],u=r[8],f=r[1],m=r[5],_=r[9],A=r[2],w=r[6],S=r[10],x=s+m+S;if(x>0){const P=.5/Math.sqrt(x+1);this._w=.25/P,this._x=(w-_)*P,this._y=(u-A)*P,this._z=(f-a)*P}else if(s>m&&s>S){const P=2*Math.sqrt(1+s-m-S);this._w=(w-_)/P,this._x=.25*P,this._y=(a+f)/P,this._z=(u+A)/P}else if(m>S){const P=2*Math.sqrt(1+m-s-S);this._w=(u-A)/P,this._x=(a+f)/P,this._y=.25*P,this._z=(_+w)/P}else{const P=2*Math.sqrt(1+S-s-m);this._w=(f-a)/P,this._x=(u+A)/P,this._y=(_+w)/P,this._z=.25*P}return this._onChangeCallback(),this}setFromUnitVectors(e,r){let s=e.dot(r)+1;return s<Number.EPSILON?(s=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=s):(this._x=0,this._y=-e.z,this._z=e.y,this._w=s)):(this._x=e.y*r.z-e.z*r.y,this._y=e.z*r.x-e.x*r.z,this._z=e.x*r.y-e.y*r.x,this._w=s),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(os(this.dot(e),-1,1)))}rotateTowards(e,r){const s=this.angleTo(e);if(s===0)return this;const a=Math.min(1,r/s);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,r){const s=e._x,a=e._y,u=e._z,f=e._w,m=r._x,_=r._y,A=r._z,w=r._w;return this._x=s*w+f*m+a*A-u*_,this._y=a*w+f*_+u*m-s*A,this._z=u*w+f*A+s*_-a*m,this._w=f*w-s*m-a*_-u*A,this._onChangeCallback(),this}slerp(e,r){if(r===0)return this;if(r===1)return this.copy(e);const s=this._x,a=this._y,u=this._z,f=this._w;let m=f*e._w+s*e._x+a*e._y+u*e._z;if(m<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,m=-m):this.copy(e),m>=1)return this._w=f,this._x=s,this._y=a,this._z=u,this;const _=1-m*m;if(_<=Number.EPSILON){const P=1-r;return this._w=P*f+r*this._w,this._x=P*s+r*this._x,this._y=P*a+r*this._y,this._z=P*u+r*this._z,this.normalize(),this._onChangeCallback(),this}const A=Math.sqrt(_),w=Math.atan2(A,m),S=Math.sin((1-r)*w)/A,x=Math.sin(r*w)/A;return this._w=f*S+this._w*x,this._x=s*S+this._x*x,this._y=a*S+this._y*x,this._z=u*S+this._z*x,this._onChangeCallback(),this}slerpQuaternions(e,r,s){return this.copy(e).slerp(r,s)}random(){const e=Math.random(),r=Math.sqrt(1-e),s=Math.sqrt(e),a=2*Math.PI*Math.random(),u=2*Math.PI*Math.random();return this.set(r*Math.cos(a),s*Math.sin(u),s*Math.cos(u),r*Math.sin(a))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,r=0){return this._x=e[r],this._y=e[r+1],this._z=e[r+2],this._w=e[r+3],this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._w,e}fromBufferAttribute(e,r){return this._x=e.getX(r),this._y=e.getY(r),this._z=e.getZ(r),this._w=e.getW(r),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ut{constructor(e=0,r=0,s=0){ut.prototype.isVector3=!0,this.x=e,this.y=r,this.z=s}set(e,r,s){return s===void 0&&(s=this.z),this.x=e,this.y=r,this.z=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,r){return this.x=e.x*r.x,this.y=e.y*r.y,this.z=e.z*r.z,this}applyEuler(e){return this.applyQuaternion(_E.setFromEuler(e))}applyAxisAngle(e,r){return this.applyQuaternion(_E.setFromAxisAngle(e,r))}applyMatrix3(e){const r=this.x,s=this.y,a=this.z,u=e.elements;return this.x=u[0]*r+u[3]*s+u[6]*a,this.y=u[1]*r+u[4]*s+u[7]*a,this.z=u[2]*r+u[5]*s+u[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const r=this.x,s=this.y,a=this.z,u=e.elements,f=1/(u[3]*r+u[7]*s+u[11]*a+u[15]);return this.x=(u[0]*r+u[4]*s+u[8]*a+u[12])*f,this.y=(u[1]*r+u[5]*s+u[9]*a+u[13])*f,this.z=(u[2]*r+u[6]*s+u[10]*a+u[14])*f,this}applyQuaternion(e){const r=this.x,s=this.y,a=this.z,u=e.x,f=e.y,m=e.z,_=e.w,A=_*r+f*a-m*s,w=_*s+m*r-u*a,S=_*a+u*s-f*r,x=-u*r-f*s-m*a;return this.x=A*_+x*-u+w*-m-S*-f,this.y=w*_+x*-f+S*-u-A*-m,this.z=S*_+x*-m+A*-f-w*-u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const r=this.x,s=this.y,a=this.z,u=e.elements;return this.x=u[0]*r+u[4]*s+u[8]*a,this.y=u[1]*r+u[5]*s+u[9]*a,this.z=u[2]*r+u[6]*s+u[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this}clampLength(e,r){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(r,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this}lerpVectors(e,r,s){return this.x=e.x+(r.x-e.x)*s,this.y=e.y+(r.y-e.y)*s,this.z=e.z+(r.z-e.z)*s,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,r){const s=e.x,a=e.y,u=e.z,f=r.x,m=r.y,_=r.z;return this.x=a*_-u*m,this.y=u*f-s*_,this.z=s*m-a*f,this}projectOnVector(e){const r=e.lengthSq();if(r===0)return this.set(0,0,0);const s=e.dot(this)/r;return this.copy(e).multiplyScalar(s)}projectOnPlane(e){return PA.copy(this).projectOnVector(e),this.sub(PA)}reflect(e){return this.sub(PA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const r=Math.sqrt(this.lengthSq()*e.lengthSq());if(r===0)return Math.PI/2;const s=this.dot(e)/r;return Math.acos(os(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,s=this.y-e.y,a=this.z-e.z;return r*r+s*s+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,r,s){const a=Math.sin(r)*e;return this.x=a*Math.sin(s),this.y=Math.cos(r)*e,this.z=a*Math.cos(s),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,r,s){return this.x=e*Math.sin(r),this.y=s,this.z=e*Math.cos(r),this}setFromMatrixPosition(e){const r=e.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(e){const r=this.setFromMatrixColumn(e,0).length(),s=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=r,this.y=s,this.z=a,this}setFromMatrixColumn(e,r){return this.fromArray(e.elements,r*4)}setFromMatrix3Column(e,r){return this.fromArray(e.elements,r*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,r=Math.random()*Math.PI*2,s=Math.sqrt(1-e**2);return this.x=s*Math.cos(r),this.y=s*Math.sin(r),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const PA=new ut,_E=new Ds;class Ia{constructor(e=new ut(1/0,1/0,1/0),r=new ut(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=r}set(e,r){return this.min.copy(e),this.max.copy(r),this}setFromArray(e){let r=1/0,s=1/0,a=1/0,u=-1/0,f=-1/0,m=-1/0;for(let _=0,A=e.length;_<A;_+=3){const w=e[_],S=e[_+1],x=e[_+2];w<r&&(r=w),S<s&&(s=S),x<a&&(a=x),w>u&&(u=w),S>f&&(f=S),x>m&&(m=x)}return this.min.set(r,s,a),this.max.set(u,f,m),this}setFromBufferAttribute(e){let r=1/0,s=1/0,a=1/0,u=-1/0,f=-1/0,m=-1/0;for(let _=0,A=e.count;_<A;_++){const w=e.getX(_),S=e.getY(_),x=e.getZ(_);w<r&&(r=w),S<s&&(s=S),x<a&&(a=x),w>u&&(u=w),S>f&&(f=S),x>m&&(m=x)}return this.min.set(r,s,a),this.max.set(u,f,m),this}setFromPoints(e){this.makeEmpty();for(let r=0,s=e.length;r<s;r++)this.expandByPoint(e[r]);return this}setFromCenterAndSize(e,r){const s=$c.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(s),this.max.copy(e).add(s),this}setFromObject(e,r=!1){return this.makeEmpty(),this.expandByObject(e,r)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,r=!1){e.updateWorldMatrix(!1,!1);const s=e.geometry;if(s!==void 0)if(r&&s.attributes!=null&&s.attributes.position!==void 0){const u=s.attributes.position;for(let f=0,m=u.count;f<m;f++)$c.fromBufferAttribute(u,f).applyMatrix4(e.matrixWorld),this.expandByPoint($c)}else s.boundingBox===null&&s.computeBoundingBox(),NA.copy(s.boundingBox),NA.applyMatrix4(e.matrixWorld),this.union(NA);const a=e.children;for(let u=0,f=a.length;u<f;u++)this.expandByObject(a[u],r);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,r){return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,$c),$c.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let r,s;return e.normal.x>0?(r=e.normal.x*this.min.x,s=e.normal.x*this.max.x):(r=e.normal.x*this.max.x,s=e.normal.x*this.min.x),e.normal.y>0?(r+=e.normal.y*this.min.y,s+=e.normal.y*this.max.y):(r+=e.normal.y*this.max.y,s+=e.normal.y*this.min.y),e.normal.z>0?(r+=e.normal.z*this.min.z,s+=e.normal.z*this.max.z):(r+=e.normal.z*this.max.z,s+=e.normal.z*this.min.z),r<=-e.constant&&s>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(nh),Lm.subVectors(this.max,nh),ad.subVectors(e.a,nh),ld.subVectors(e.b,nh),cd.subVectors(e.c,nh),zl.subVectors(ld,ad),Hl.subVectors(cd,ld),Wc.subVectors(ad,cd);let r=[0,-zl.z,zl.y,0,-Hl.z,Hl.y,0,-Wc.z,Wc.y,zl.z,0,-zl.x,Hl.z,0,-Hl.x,Wc.z,0,-Wc.x,-zl.y,zl.x,0,-Hl.y,Hl.x,0,-Wc.y,Wc.x,0];return!BA(r,ad,ld,cd,Lm)||(r=[1,0,0,0,1,0,0,0,1],!BA(r,ad,ld,cd,Lm))?!1:(Om.crossVectors(zl,Hl),r=[Om.x,Om.y,Om.z],BA(r,ad,ld,cd,Lm))}clampPoint(e,r){return r.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return $c.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize($c).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ja[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ja[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ja[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ja[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ja[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ja[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ja[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ja[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ja),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ja=[new ut,new ut,new ut,new ut,new ut,new ut,new ut,new ut],$c=new ut,NA=new Ia,ad=new ut,ld=new ut,cd=new ut,zl=new ut,Hl=new ut,Wc=new ut,nh=new ut,Lm=new ut,Om=new ut,Kc=new ut;function BA(p,e,r,s,a){for(let u=0,f=p.length-3;u<=f;u+=3){Kc.fromArray(p,u);const m=a.x*Math.abs(Kc.x)+a.y*Math.abs(Kc.y)+a.z*Math.abs(Kc.z),_=e.dot(Kc),A=r.dot(Kc),w=s.dot(Kc);if(Math.max(-Math.max(_,A,w),Math.min(_,A,w))>m)return!1}return!0}const dk=new Ia,rh=new ut,DA=new ut;class ud{constructor(e=new ut,r=-1){this.center=e,this.radius=r}set(e,r){return this.center.copy(e),this.radius=r,this}setFromPoints(e,r){const s=this.center;r!==void 0?s.copy(r):dk.setFromPoints(e).getCenter(s);let a=0;for(let u=0,f=e.length;u<f;u++)a=Math.max(a,s.distanceToSquared(e[u]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const r=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=r*r}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,r){const s=this.center.distanceToSquared(e);return r.copy(e),s>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;rh.subVectors(e,this.center);const r=rh.lengthSq();if(r>this.radius*this.radius){const s=Math.sqrt(r),a=(s-this.radius)*.5;this.center.addScaledVector(rh,a/s),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(DA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(rh.copy(e.center).add(DA)),this.expandByPoint(rh.copy(e.center).sub(DA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const qa=new ut,kA=new ut,Fm=new ut,Ql=new ut,LA=new ut,Vm=new ut,OA=new ut;class Gm{constructor(e=new ut,r=new ut(0,0,-1)){this.origin=e,this.direction=r}set(e,r){return this.origin.copy(e),this.direction.copy(r),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,r){return r.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,qa)),this}closestPointToPoint(e,r){r.subVectors(e,this.origin);const s=r.dot(this.direction);return s<0?r.copy(this.origin):r.copy(this.direction).multiplyScalar(s).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const r=qa.subVectors(e,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(e):(qa.copy(this.direction).multiplyScalar(r).add(this.origin),qa.distanceToSquared(e))}distanceSqToSegment(e,r,s,a){kA.copy(e).add(r).multiplyScalar(.5),Fm.copy(r).sub(e).normalize(),Ql.copy(this.origin).sub(kA);const u=e.distanceTo(r)*.5,f=-this.direction.dot(Fm),m=Ql.dot(this.direction),_=-Ql.dot(Fm),A=Ql.lengthSq(),w=Math.abs(1-f*f);let S,x,P,O;if(w>0)if(S=f*_-m,x=f*m-_,O=u*w,S>=0)if(x>=-O)if(x<=O){const k=1/w;S*=k,x*=k,P=S*(S+f*x+2*m)+x*(f*S+x+2*_)+A}else x=u,S=Math.max(0,-(f*x+m)),P=-S*S+x*(x+2*_)+A;else x=-u,S=Math.max(0,-(f*x+m)),P=-S*S+x*(x+2*_)+A;else x<=-O?(S=Math.max(0,-(-f*u+m)),x=S>0?-u:Math.min(Math.max(-u,-_),u),P=-S*S+x*(x+2*_)+A):x<=O?(S=0,x=Math.min(Math.max(-u,-_),u),P=x*(x+2*_)+A):(S=Math.max(0,-(f*u+m)),x=S>0?u:Math.min(Math.max(-u,-_),u),P=-S*S+x*(x+2*_)+A);else x=f>0?-u:u,S=Math.max(0,-(f*x+m)),P=-S*S+x*(x+2*_)+A;return s&&s.copy(this.direction).multiplyScalar(S).add(this.origin),a&&a.copy(Fm).multiplyScalar(x).add(kA),P}intersectSphere(e,r){qa.subVectors(e.center,this.origin);const s=qa.dot(this.direction),a=qa.dot(qa)-s*s,u=e.radius*e.radius;if(a>u)return null;const f=Math.sqrt(u-a),m=s-f,_=s+f;return m<0&&_<0?null:m<0?this.at(_,r):this.at(m,r)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const r=e.normal.dot(this.direction);if(r===0)return e.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(e.normal)+e.constant)/r;return s>=0?s:null}intersectPlane(e,r){const s=this.distanceToPlane(e);return s===null?null:this.at(s,r)}intersectsPlane(e){const r=e.distanceToPoint(this.origin);return r===0||e.normal.dot(this.direction)*r<0}intersectBox(e,r){let s,a,u,f,m,_;const A=1/this.direction.x,w=1/this.direction.y,S=1/this.direction.z,x=this.origin;return A>=0?(s=(e.min.x-x.x)*A,a=(e.max.x-x.x)*A):(s=(e.max.x-x.x)*A,a=(e.min.x-x.x)*A),w>=0?(u=(e.min.y-x.y)*w,f=(e.max.y-x.y)*w):(u=(e.max.y-x.y)*w,f=(e.min.y-x.y)*w),s>f||u>a||((u>s||isNaN(s))&&(s=u),(f<a||isNaN(a))&&(a=f),S>=0?(m=(e.min.z-x.z)*S,_=(e.max.z-x.z)*S):(m=(e.max.z-x.z)*S,_=(e.min.z-x.z)*S),s>_||m>a)||((m>s||s!==s)&&(s=m),(_<a||a!==a)&&(a=_),a<0)?null:this.at(s>=0?s:a,r)}intersectsBox(e){return this.intersectBox(e,qa)!==null}intersectTriangle(e,r,s,a,u){LA.subVectors(r,e),Vm.subVectors(s,e),OA.crossVectors(LA,Vm);let f=this.direction.dot(OA),m;if(f>0){if(a)return null;m=1}else if(f<0)m=-1,f=-f;else return null;Ql.subVectors(this.origin,e);const _=m*this.direction.dot(Vm.crossVectors(Ql,Vm));if(_<0)return null;const A=m*this.direction.dot(LA.cross(Ql));if(A<0||_+A>f)return null;const w=-m*Ql.dot(OA);return w<0?null:this.at(w/f,u)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Rr{constructor(){Rr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,r,s,a,u,f,m,_,A,w,S,x,P,O,k,L){const U=this.elements;return U[0]=e,U[4]=r,U[8]=s,U[12]=a,U[1]=u,U[5]=f,U[9]=m,U[13]=_,U[2]=A,U[6]=w,U[10]=S,U[14]=x,U[3]=P,U[7]=O,U[11]=k,U[15]=L,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Rr().fromArray(this.elements)}copy(e){const r=this.elements,s=e.elements;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],r[9]=s[9],r[10]=s[10],r[11]=s[11],r[12]=s[12],r[13]=s[13],r[14]=s[14],r[15]=s[15],this}copyPosition(e){const r=this.elements,s=e.elements;return r[12]=s[12],r[13]=s[13],r[14]=s[14],this}setFromMatrix3(e){const r=e.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(e,r,s){return e.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(e,r,s){return this.set(e.x,r.x,s.x,0,e.y,r.y,s.y,0,e.z,r.z,s.z,0,0,0,0,1),this}extractRotation(e){const r=this.elements,s=e.elements,a=1/dd.setFromMatrixColumn(e,0).length(),u=1/dd.setFromMatrixColumn(e,1).length(),f=1/dd.setFromMatrixColumn(e,2).length();return r[0]=s[0]*a,r[1]=s[1]*a,r[2]=s[2]*a,r[3]=0,r[4]=s[4]*u,r[5]=s[5]*u,r[6]=s[6]*u,r[7]=0,r[8]=s[8]*f,r[9]=s[9]*f,r[10]=s[10]*f,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(e){const r=this.elements,s=e.x,a=e.y,u=e.z,f=Math.cos(s),m=Math.sin(s),_=Math.cos(a),A=Math.sin(a),w=Math.cos(u),S=Math.sin(u);if(e.order==="XYZ"){const x=f*w,P=f*S,O=m*w,k=m*S;r[0]=_*w,r[4]=-_*S,r[8]=A,r[1]=P+O*A,r[5]=x-k*A,r[9]=-m*_,r[2]=k-x*A,r[6]=O+P*A,r[10]=f*_}else if(e.order==="YXZ"){const x=_*w,P=_*S,O=A*w,k=A*S;r[0]=x+k*m,r[4]=O*m-P,r[8]=f*A,r[1]=f*S,r[5]=f*w,r[9]=-m,r[2]=P*m-O,r[6]=k+x*m,r[10]=f*_}else if(e.order==="ZXY"){const x=_*w,P=_*S,O=A*w,k=A*S;r[0]=x-k*m,r[4]=-f*S,r[8]=O+P*m,r[1]=P+O*m,r[5]=f*w,r[9]=k-x*m,r[2]=-f*A,r[6]=m,r[10]=f*_}else if(e.order==="ZYX"){const x=f*w,P=f*S,O=m*w,k=m*S;r[0]=_*w,r[4]=O*A-P,r[8]=x*A+k,r[1]=_*S,r[5]=k*A+x,r[9]=P*A-O,r[2]=-A,r[6]=m*_,r[10]=f*_}else if(e.order==="YZX"){const x=f*_,P=f*A,O=m*_,k=m*A;r[0]=_*w,r[4]=k-x*S,r[8]=O*S+P,r[1]=S,r[5]=f*w,r[9]=-m*w,r[2]=-A*w,r[6]=P*S+O,r[10]=x-k*S}else if(e.order==="XZY"){const x=f*_,P=f*A,O=m*_,k=m*A;r[0]=_*w,r[4]=-S,r[8]=A*w,r[1]=x*S+k,r[5]=f*w,r[9]=P*S-O,r[2]=O*S-P,r[6]=m*w,r[10]=k*S+x}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(e){return this.compose(fk,e,hk)}lookAt(e,r,s){const a=this.elements;return Ks.subVectors(e,r),Ks.lengthSq()===0&&(Ks.z=1),Ks.normalize(),Xl.crossVectors(s,Ks),Xl.lengthSq()===0&&(Math.abs(s.z)===1?Ks.x+=1e-4:Ks.z+=1e-4,Ks.normalize(),Xl.crossVectors(s,Ks)),Xl.normalize(),Um.crossVectors(Ks,Xl),a[0]=Xl.x,a[4]=Um.x,a[8]=Ks.x,a[1]=Xl.y,a[5]=Um.y,a[9]=Ks.y,a[2]=Xl.z,a[6]=Um.z,a[10]=Ks.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const s=e.elements,a=r.elements,u=this.elements,f=s[0],m=s[4],_=s[8],A=s[12],w=s[1],S=s[5],x=s[9],P=s[13],O=s[2],k=s[6],L=s[10],U=s[14],Q=s[3],G=s[7],Z=s[11],X=s[15],te=a[0],ae=a[4],j=a[8],ge=a[12],we=a[1],Le=a[5],je=a[9],be=a[13],Te=a[2],Je=a[6],it=a[10],tt=a[14],Me=a[3],lt=a[7],mt=a[11],ft=a[15];return u[0]=f*te+m*we+_*Te+A*Me,u[4]=f*ae+m*Le+_*Je+A*lt,u[8]=f*j+m*je+_*it+A*mt,u[12]=f*ge+m*be+_*tt+A*ft,u[1]=w*te+S*we+x*Te+P*Me,u[5]=w*ae+S*Le+x*Je+P*lt,u[9]=w*j+S*je+x*it+P*mt,u[13]=w*ge+S*be+x*tt+P*ft,u[2]=O*te+k*we+L*Te+U*Me,u[6]=O*ae+k*Le+L*Je+U*lt,u[10]=O*j+k*je+L*it+U*mt,u[14]=O*ge+k*be+L*tt+U*ft,u[3]=Q*te+G*we+Z*Te+X*Me,u[7]=Q*ae+G*Le+Z*Je+X*lt,u[11]=Q*j+G*je+Z*it+X*mt,u[15]=Q*ge+G*be+Z*tt+X*ft,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[4]*=e,r[8]*=e,r[12]*=e,r[1]*=e,r[5]*=e,r[9]*=e,r[13]*=e,r[2]*=e,r[6]*=e,r[10]*=e,r[14]*=e,r[3]*=e,r[7]*=e,r[11]*=e,r[15]*=e,this}determinant(){const e=this.elements,r=e[0],s=e[4],a=e[8],u=e[12],f=e[1],m=e[5],_=e[9],A=e[13],w=e[2],S=e[6],x=e[10],P=e[14],O=e[3],k=e[7],L=e[11],U=e[15];return O*(+u*_*S-a*A*S-u*m*x+s*A*x+a*m*P-s*_*P)+k*(+r*_*P-r*A*x+u*f*x-a*f*P+a*A*w-u*_*w)+L*(+r*A*S-r*m*P-u*f*S+s*f*P+u*m*w-s*A*w)+U*(-a*m*w-r*_*S+r*m*x+a*f*S-s*f*x+s*_*w)}transpose(){const e=this.elements;let r;return r=e[1],e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,this}setPosition(e,r,s){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=r,a[14]=s),this}invert(){const e=this.elements,r=e[0],s=e[1],a=e[2],u=e[3],f=e[4],m=e[5],_=e[6],A=e[7],w=e[8],S=e[9],x=e[10],P=e[11],O=e[12],k=e[13],L=e[14],U=e[15],Q=S*L*A-k*x*A+k*_*P-m*L*P-S*_*U+m*x*U,G=O*x*A-w*L*A-O*_*P+f*L*P+w*_*U-f*x*U,Z=w*k*A-O*S*A+O*m*P-f*k*P-w*m*U+f*S*U,X=O*S*_-w*k*_-O*m*x+f*k*x+w*m*L-f*S*L,te=r*Q+s*G+a*Z+u*X;if(te===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ae=1/te;return e[0]=Q*ae,e[1]=(k*x*u-S*L*u-k*a*P+s*L*P+S*a*U-s*x*U)*ae,e[2]=(m*L*u-k*_*u+k*a*A-s*L*A-m*a*U+s*_*U)*ae,e[3]=(S*_*u-m*x*u-S*a*A+s*x*A+m*a*P-s*_*P)*ae,e[4]=G*ae,e[5]=(w*L*u-O*x*u+O*a*P-r*L*P-w*a*U+r*x*U)*ae,e[6]=(O*_*u-f*L*u-O*a*A+r*L*A+f*a*U-r*_*U)*ae,e[7]=(f*x*u-w*_*u+w*a*A-r*x*A-f*a*P+r*_*P)*ae,e[8]=Z*ae,e[9]=(O*S*u-w*k*u-O*s*P+r*k*P+w*s*U-r*S*U)*ae,e[10]=(f*k*u-O*m*u+O*s*A-r*k*A-f*s*U+r*m*U)*ae,e[11]=(w*m*u-f*S*u-w*s*A+r*S*A+f*s*P-r*m*P)*ae,e[12]=X*ae,e[13]=(w*k*a-O*S*a+O*s*x-r*k*x-w*s*L+r*S*L)*ae,e[14]=(O*m*a-f*k*a-O*s*_+r*k*_+f*s*L-r*m*L)*ae,e[15]=(f*S*a-w*m*a+w*s*_-r*S*_-f*s*x+r*m*x)*ae,this}scale(e){const r=this.elements,s=e.x,a=e.y,u=e.z;return r[0]*=s,r[4]*=a,r[8]*=u,r[1]*=s,r[5]*=a,r[9]*=u,r[2]*=s,r[6]*=a,r[10]*=u,r[3]*=s,r[7]*=a,r[11]*=u,this}getMaxScaleOnAxis(){const e=this.elements,r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],s=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(r,s,a))}makeTranslation(e,r,s){return this.set(1,0,0,e,0,1,0,r,0,0,1,s,0,0,0,1),this}makeRotationX(e){const r=Math.cos(e),s=Math.sin(e);return this.set(1,0,0,0,0,r,-s,0,0,s,r,0,0,0,0,1),this}makeRotationY(e){const r=Math.cos(e),s=Math.sin(e);return this.set(r,0,s,0,0,1,0,0,-s,0,r,0,0,0,0,1),this}makeRotationZ(e){const r=Math.cos(e),s=Math.sin(e);return this.set(r,-s,0,0,s,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,r){const s=Math.cos(r),a=Math.sin(r),u=1-s,f=e.x,m=e.y,_=e.z,A=u*f,w=u*m;return this.set(A*f+s,A*m-a*_,A*_+a*m,0,A*m+a*_,w*m+s,w*_-a*f,0,A*_-a*m,w*_+a*f,u*_*_+s,0,0,0,0,1),this}makeScale(e,r,s){return this.set(e,0,0,0,0,r,0,0,0,0,s,0,0,0,0,1),this}makeShear(e,r,s,a,u,f){return this.set(1,s,u,0,e,1,f,0,r,a,1,0,0,0,0,1),this}compose(e,r,s){const a=this.elements,u=r._x,f=r._y,m=r._z,_=r._w,A=u+u,w=f+f,S=m+m,x=u*A,P=u*w,O=u*S,k=f*w,L=f*S,U=m*S,Q=_*A,G=_*w,Z=_*S,X=s.x,te=s.y,ae=s.z;return a[0]=(1-(k+U))*X,a[1]=(P+Z)*X,a[2]=(O-G)*X,a[3]=0,a[4]=(P-Z)*te,a[5]=(1-(x+U))*te,a[6]=(L+Q)*te,a[7]=0,a[8]=(O+G)*ae,a[9]=(L-Q)*ae,a[10]=(1-(x+k))*ae,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,r,s){const a=this.elements;let u=dd.set(a[0],a[1],a[2]).length();const f=dd.set(a[4],a[5],a[6]).length(),m=dd.set(a[8],a[9],a[10]).length();this.determinant()<0&&(u=-u),e.x=a[12],e.y=a[13],e.z=a[14],zo.copy(this);const A=1/u,w=1/f,S=1/m;return zo.elements[0]*=A,zo.elements[1]*=A,zo.elements[2]*=A,zo.elements[4]*=w,zo.elements[5]*=w,zo.elements[6]*=w,zo.elements[8]*=S,zo.elements[9]*=S,zo.elements[10]*=S,r.setFromRotationMatrix(zo),s.x=u,s.y=f,s.z=m,this}makePerspective(e,r,s,a,u,f){const m=this.elements,_=2*u/(r-e),A=2*u/(s-a),w=(r+e)/(r-e),S=(s+a)/(s-a),x=-(f+u)/(f-u),P=-2*f*u/(f-u);return m[0]=_,m[4]=0,m[8]=w,m[12]=0,m[1]=0,m[5]=A,m[9]=S,m[13]=0,m[2]=0,m[6]=0,m[10]=x,m[14]=P,m[3]=0,m[7]=0,m[11]=-1,m[15]=0,this}makeOrthographic(e,r,s,a,u,f){const m=this.elements,_=1/(r-e),A=1/(s-a),w=1/(f-u),S=(r+e)*_,x=(s+a)*A,P=(f+u)*w;return m[0]=2*_,m[4]=0,m[8]=0,m[12]=-S,m[1]=0,m[5]=2*A,m[9]=0,m[13]=-x,m[2]=0,m[6]=0,m[10]=-2*w,m[14]=-P,m[3]=0,m[7]=0,m[11]=0,m[15]=1,this}equals(e){const r=this.elements,s=e.elements;for(let a=0;a<16;a++)if(r[a]!==s[a])return!1;return!0}fromArray(e,r=0){for(let s=0;s<16;s++)this.elements[s]=e[s+r];return this}toArray(e=[],r=0){const s=this.elements;return e[r]=s[0],e[r+1]=s[1],e[r+2]=s[2],e[r+3]=s[3],e[r+4]=s[4],e[r+5]=s[5],e[r+6]=s[6],e[r+7]=s[7],e[r+8]=s[8],e[r+9]=s[9],e[r+10]=s[10],e[r+11]=s[11],e[r+12]=s[12],e[r+13]=s[13],e[r+14]=s[14],e[r+15]=s[15],e}}const dd=new ut,zo=new Rr,fk=new ut(0,0,0),hk=new ut(1,1,1),Xl=new ut,Um=new ut,Ks=new ut,AE=new Rr,yE=new Ds;class ih{constructor(e=0,r=0,s=0,a=ih.DefaultOrder){this.isEuler=!0,this._x=e,this._y=r,this._z=s,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,r,s,a=this._order){return this._x=e,this._y=r,this._z=s,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,r=this._order,s=!0){const a=e.elements,u=a[0],f=a[4],m=a[8],_=a[1],A=a[5],w=a[9],S=a[2],x=a[6],P=a[10];switch(r){case"XYZ":this._y=Math.asin(os(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(-w,P),this._z=Math.atan2(-f,u)):(this._x=Math.atan2(x,A),this._z=0);break;case"YXZ":this._x=Math.asin(-os(w,-1,1)),Math.abs(w)<.9999999?(this._y=Math.atan2(m,P),this._z=Math.atan2(_,A)):(this._y=Math.atan2(-S,u),this._z=0);break;case"ZXY":this._x=Math.asin(os(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-S,P),this._z=Math.atan2(-f,A)):(this._y=0,this._z=Math.atan2(_,u));break;case"ZYX":this._y=Math.asin(-os(S,-1,1)),Math.abs(S)<.9999999?(this._x=Math.atan2(x,P),this._z=Math.atan2(_,u)):(this._x=0,this._z=Math.atan2(-f,A));break;case"YZX":this._z=Math.asin(os(_,-1,1)),Math.abs(_)<.9999999?(this._x=Math.atan2(-w,A),this._y=Math.atan2(-S,u)):(this._x=0,this._y=Math.atan2(m,P));break;case"XZY":this._z=Math.asin(-os(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(x,A),this._y=Math.atan2(m,u)):(this._x=Math.atan2(-w,P),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,s===!0&&this._onChangeCallback(),this}setFromQuaternion(e,r,s){return AE.makeRotationFromQuaternion(e),this.setFromRotationMatrix(AE,r,s)}setFromVector3(e,r=this._order){return this.set(e.x,e.y,e.z,r)}reorder(e){return yE.setFromEuler(this),this.setFromQuaternion(yE,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}ih.DefaultOrder="XYZ",ih.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class FA{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let pk=0;const bE=new ut,fd=new Ds,Ya=new Rr,zm=new ut,sh=new ut,mk=new ut,gk=new Ds,SE=new ut(1,0,0),wE=new ut(0,1,0),EE=new ut(0,0,1),vk={type:"added"},CE={type:"removed"};class mi extends Wa{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:pk++}),this.uuid=Go(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=mi.DefaultUp.clone();const e=new ut,r=new ih,s=new Ds,a=new ut(1,1,1);function u(){s.setFromEuler(r,!1)}function f(){r.setFromQuaternion(s,void 0,!1)}r._onChange(u),s._onChange(f),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Rr},normalMatrix:{value:new Ws}}),this.matrix=new Rr,this.matrixWorld=new Rr,this.matrixAutoUpdate=mi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=mi.DefaultMatrixWorldAutoUpdate,this.layers=new FA,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,r){this.quaternion.setFromAxisAngle(e,r)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,r){return fd.setFromAxisAngle(e,r),this.quaternion.multiply(fd),this}rotateOnWorldAxis(e,r){return fd.setFromAxisAngle(e,r),this.quaternion.premultiply(fd),this}rotateX(e){return this.rotateOnAxis(SE,e)}rotateY(e){return this.rotateOnAxis(wE,e)}rotateZ(e){return this.rotateOnAxis(EE,e)}translateOnAxis(e,r){return bE.copy(e).applyQuaternion(this.quaternion),this.position.add(bE.multiplyScalar(r)),this}translateX(e){return this.translateOnAxis(SE,e)}translateY(e){return this.translateOnAxis(wE,e)}translateZ(e){return this.translateOnAxis(EE,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ya.copy(this.matrixWorld).invert())}lookAt(e,r,s){e.isVector3?zm.copy(e):zm.set(e,r,s);const a=this.parent;this.updateWorldMatrix(!0,!1),sh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ya.lookAt(sh,zm,this.up):Ya.lookAt(zm,sh,this.up),this.quaternion.setFromRotationMatrix(Ya),a&&(Ya.extractRotation(a.matrixWorld),fd.setFromRotationMatrix(Ya),this.quaternion.premultiply(fd.invert()))}add(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(vk)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const r=this.children.indexOf(e);return r!==-1&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(CE)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const r=this.children[e];r.parent=null,r.dispatchEvent(CE)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ya.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ya.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ya),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,r){if(this[e]===r)return this;for(let s=0,a=this.children.length;s<a;s++){const f=this.children[s].getObjectByProperty(e,r);if(f!==void 0)return f}}getObjectsByProperty(e,r){let s=[];this[e]===r&&s.push(this);for(let a=0,u=this.children.length;a<u;a++){const f=this.children[a].getObjectsByProperty(e,r);f.length>0&&(s=s.concat(f))}return s}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sh,e,mk),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sh,gk,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return e.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(e){e(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].traverseVisible(e)}traverseAncestors(e){const r=this.parent;r!==null&&(e(r),r.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const r=this.children;for(let s=0,a=r.length;s<a;s++){const u=r[s];(u.matrixWorldAutoUpdate===!0||e===!0)&&u.updateMatrixWorld(e)}}updateWorldMatrix(e,r){const s=this.parent;if(e===!0&&s!==null&&s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0){const a=this.children;for(let u=0,f=a.length;u<f;u++){const m=a[u];m.matrixWorldAutoUpdate===!0&&m.updateWorldMatrix(!1,!0)}}}toJSON(e){const r=e===void 0||typeof e=="string",s={};r&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON()));function u(m,_){return m[_.uuid]===void 0&&(m[_.uuid]=_.toJSON(e)),_.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=u(e.geometries,this.geometry);const m=this.geometry.parameters;if(m!==void 0&&m.shapes!==void 0){const _=m.shapes;if(Array.isArray(_))for(let A=0,w=_.length;A<w;A++){const S=_[A];u(e.shapes,S)}else u(e.shapes,_)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(u(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const m=[];for(let _=0,A=this.material.length;_<A;_++)m.push(u(e.materials,this.material[_]));a.material=m}else a.material=u(e.materials,this.material);if(this.children.length>0){a.children=[];for(let m=0;m<this.children.length;m++)a.children.push(this.children[m].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let m=0;m<this.animations.length;m++){const _=this.animations[m];a.animations.push(u(e.animations,_))}}if(r){const m=f(e.geometries),_=f(e.materials),A=f(e.textures),w=f(e.images),S=f(e.shapes),x=f(e.skeletons),P=f(e.animations),O=f(e.nodes);m.length>0&&(s.geometries=m),_.length>0&&(s.materials=_),A.length>0&&(s.textures=A),w.length>0&&(s.images=w),S.length>0&&(s.shapes=S),x.length>0&&(s.skeletons=x),P.length>0&&(s.animations=P),O.length>0&&(s.nodes=O)}return s.object=a,s;function f(m){const _=[];for(const A in m){const w=m[A];delete w.metadata,_.push(w)}return _}}clone(e){return new this.constructor().copy(this,e)}copy(e,r=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),r===!0)for(let s=0;s<e.children.length;s++){const a=e.children[s];this.add(a.clone())}return this}}mi.DefaultUp=new ut(0,1,0),mi.DefaultMatrixAutoUpdate=!0,mi.DefaultMatrixWorldAutoUpdate=!0;const Ho=new ut,Ja=new ut,VA=new ut,Za=new ut,hd=new ut,pd=new ut,IE=new ut,GA=new ut,UA=new ut,zA=new ut;class xa{constructor(e=new ut,r=new ut,s=new ut){this.a=e,this.b=r,this.c=s}static getNormal(e,r,s,a){a.subVectors(s,r),Ho.subVectors(e,r),a.cross(Ho);const u=a.lengthSq();return u>0?a.multiplyScalar(1/Math.sqrt(u)):a.set(0,0,0)}static getBarycoord(e,r,s,a,u){Ho.subVectors(a,r),Ja.subVectors(s,r),VA.subVectors(e,r);const f=Ho.dot(Ho),m=Ho.dot(Ja),_=Ho.dot(VA),A=Ja.dot(Ja),w=Ja.dot(VA),S=f*A-m*m;if(S===0)return u.set(-2,-1,-1);const x=1/S,P=(A*_-m*w)*x,O=(f*w-m*_)*x;return u.set(1-P-O,O,P)}static containsPoint(e,r,s,a){return this.getBarycoord(e,r,s,a,Za),Za.x>=0&&Za.y>=0&&Za.x+Za.y<=1}static getUV(e,r,s,a,u,f,m,_){return this.getBarycoord(e,r,s,a,Za),_.set(0,0),_.addScaledVector(u,Za.x),_.addScaledVector(f,Za.y),_.addScaledVector(m,Za.z),_}static isFrontFacing(e,r,s,a){return Ho.subVectors(s,r),Ja.subVectors(e,r),Ho.cross(Ja).dot(a)<0}set(e,r,s){return this.a.copy(e),this.b.copy(r),this.c.copy(s),this}setFromPointsAndIndices(e,r,s,a){return this.a.copy(e[r]),this.b.copy(e[s]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,r,s,a){return this.a.fromBufferAttribute(e,r),this.b.fromBufferAttribute(e,s),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ho.subVectors(this.c,this.b),Ja.subVectors(this.a,this.b),Ho.cross(Ja).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return xa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,r){return xa.getBarycoord(e,this.a,this.b,this.c,r)}getUV(e,r,s,a,u){return xa.getUV(e,this.a,this.b,this.c,r,s,a,u)}containsPoint(e){return xa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return xa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,r){const s=this.a,a=this.b,u=this.c;let f,m;hd.subVectors(a,s),pd.subVectors(u,s),GA.subVectors(e,s);const _=hd.dot(GA),A=pd.dot(GA);if(_<=0&&A<=0)return r.copy(s);UA.subVectors(e,a);const w=hd.dot(UA),S=pd.dot(UA);if(w>=0&&S<=w)return r.copy(a);const x=_*S-w*A;if(x<=0&&_>=0&&w<=0)return f=_/(_-w),r.copy(s).addScaledVector(hd,f);zA.subVectors(e,u);const P=hd.dot(zA),O=pd.dot(zA);if(O>=0&&P<=O)return r.copy(u);const k=P*A-_*O;if(k<=0&&A>=0&&O<=0)return m=A/(A-O),r.copy(s).addScaledVector(pd,m);const L=w*O-P*S;if(L<=0&&S-w>=0&&P-O>=0)return IE.subVectors(u,a),m=(S-w)/(S-w+(P-O)),r.copy(a).addScaledVector(IE,m);const U=1/(L+k+x);return f=k*U,m=x*U,r.copy(s).addScaledVector(hd,f).addScaledVector(pd,m)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let _k=0;class _o extends Wa{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_k++}),this.uuid=Go(),this.name="",this.type="Material",this.blending=se,this.side=z,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=He,this.blendDst=bt,this.blendEquation=Ae,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Xe,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=qD,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=yA,this.stencilZFail=yA,this.stencilZPass=yA,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const r in e){const s=e[r];if(s===void 0){console.warn("THREE.Material: '"+r+"' parameter is undefined.");continue}const a=this[r];if(a===void 0){console.warn("THREE."+this.type+": '"+r+"' is not a property of this material.");continue}a&&a.isColor?a.set(s):a&&a.isVector3&&s&&s.isVector3?a.copy(s):this[r]=s}}toJSON(e){const r=e===void 0||typeof e=="string";r&&(e={textures:{},images:{}});const s={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(s.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(s.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(e).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(e).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(e).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(e).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(e).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==se&&(s.blending=this.blending),this.side!==z&&(s.side=this.side),this.vertexColors&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=this.transparent),s.depthFunc=this.depthFunc,s.depthTest=this.depthTest,s.depthWrite=this.depthWrite,s.colorWrite=this.colorWrite,s.stencilWrite=this.stencilWrite,s.stencilWriteMask=this.stencilWriteMask,s.stencilFunc=this.stencilFunc,s.stencilRef=this.stencilRef,s.stencilFuncMask=this.stencilFuncMask,s.stencilFail=this.stencilFail,s.stencilZFail=this.stencilZFail,s.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(s.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(s.wireframe=this.wireframe),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=this.flatShading),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),Object.keys(this.userData).length>0&&(s.userData=this.userData);function a(u){const f=[];for(const m in u){const _=u[m];delete _.metadata,f.push(_)}return f}if(r){const u=a(e.textures),f=a(e.images);u.length>0&&(s.textures=u),f.length>0&&(s.images=f)}return s}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const r=e.clippingPlanes;let s=null;if(r!==null){const a=r.length;s=new Array(a);for(let u=0;u!==a;++u)s[u]=r[u].clone()}return this.clippingPlanes=s,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class el extends _o{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new dr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ft,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ri=new ut,Hm=new Gn;class Yr{constructor(e,r,s=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=r,this.count=e!==void 0?e.length/r:0,this.normalized=s,this.usage=bA,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,r,s){e*=this.itemSize,s*=r.itemSize;for(let a=0,u=this.itemSize;a<u;a++)this.array[e+a]=r.array[s+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let r=0,s=this.count;r<s;r++)Hm.fromBufferAttribute(this,r),Hm.applyMatrix3(e),this.setXY(r,Hm.x,Hm.y);else if(this.itemSize===3)for(let r=0,s=this.count;r<s;r++)Ri.fromBufferAttribute(this,r),Ri.applyMatrix3(e),this.setXYZ(r,Ri.x,Ri.y,Ri.z);return this}applyMatrix4(e){for(let r=0,s=this.count;r<s;r++)Ri.fromBufferAttribute(this,r),Ri.applyMatrix4(e),this.setXYZ(r,Ri.x,Ri.y,Ri.z);return this}applyNormalMatrix(e){for(let r=0,s=this.count;r<s;r++)Ri.fromBufferAttribute(this,r),Ri.applyNormalMatrix(e),this.setXYZ(r,Ri.x,Ri.y,Ri.z);return this}transformDirection(e){for(let r=0,s=this.count;r<s;r++)Ri.fromBufferAttribute(this,r),Ri.transformDirection(e),this.setXYZ(r,Ri.x,Ri.y,Ri.z);return this}set(e,r=0){return this.array.set(e,r),this}getX(e){let r=this.array[e*this.itemSize];return this.normalized&&(r=Ka(r,this.array)),r}setX(e,r){return this.normalized&&(r=si(r,this.array)),this.array[e*this.itemSize]=r,this}getY(e){let r=this.array[e*this.itemSize+1];return this.normalized&&(r=Ka(r,this.array)),r}setY(e,r){return this.normalized&&(r=si(r,this.array)),this.array[e*this.itemSize+1]=r,this}getZ(e){let r=this.array[e*this.itemSize+2];return this.normalized&&(r=Ka(r,this.array)),r}setZ(e,r){return this.normalized&&(r=si(r,this.array)),this.array[e*this.itemSize+2]=r,this}getW(e){let r=this.array[e*this.itemSize+3];return this.normalized&&(r=Ka(r,this.array)),r}setW(e,r){return this.normalized&&(r=si(r,this.array)),this.array[e*this.itemSize+3]=r,this}setXY(e,r,s){return e*=this.itemSize,this.normalized&&(r=si(r,this.array),s=si(s,this.array)),this.array[e+0]=r,this.array[e+1]=s,this}setXYZ(e,r,s,a){return e*=this.itemSize,this.normalized&&(r=si(r,this.array),s=si(s,this.array),a=si(a,this.array)),this.array[e+0]=r,this.array[e+1]=s,this.array[e+2]=a,this}setXYZW(e,r,s,a,u){return e*=this.itemSize,this.normalized&&(r=si(r,this.array),s=si(s,this.array),a=si(a,this.array),u=si(u,this.array)),this.array[e+0]=r,this.array[e+1]=s,this.array[e+2]=a,this.array[e+3]=u,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==bA&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class xE extends Yr{constructor(e,r,s){super(new Uint16Array(e),r,s)}}class ME extends Yr{constructor(e,r,s){super(new Uint32Array(e),r,s)}}class $i extends Yr{constructor(e,r,s){super(new Float32Array(e),r,s)}}let Ak=0;const Ao=new Rr,HA=new mi,md=new ut,js=new Ia,oh=new Ia,Wi=new ut;class Ki extends Wa{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ak++}),this.uuid=Go(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(mE(e)?ME:xE)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,r){return this.attributes[e]=r,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,r,s=0){this.groups.push({start:e,count:r,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}applyMatrix4(e){const r=this.attributes.position;r!==void 0&&(r.applyMatrix4(e),r.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const u=new Ws().getNormalMatrix(e);s.applyNormalMatrix(u),s.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ao.makeRotationFromQuaternion(e),this.applyMatrix4(Ao),this}rotateX(e){return Ao.makeRotationX(e),this.applyMatrix4(Ao),this}rotateY(e){return Ao.makeRotationY(e),this.applyMatrix4(Ao),this}rotateZ(e){return Ao.makeRotationZ(e),this.applyMatrix4(Ao),this}translate(e,r,s){return Ao.makeTranslation(e,r,s),this.applyMatrix4(Ao),this}scale(e,r,s){return Ao.makeScale(e,r,s),this.applyMatrix4(Ao),this}lookAt(e){return HA.lookAt(e),HA.updateMatrix(),this.applyMatrix4(HA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(md).negate(),this.translate(md.x,md.y,md.z),this}setFromPoints(e){const r=[];for(let s=0,a=e.length;s<a;s++){const u=e[s];r.push(u.x,u.y,u.z||0)}return this.setAttribute("position",new $i(r,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ia);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ut(-1/0,-1/0,-1/0),new ut(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),r)for(let s=0,a=r.length;s<a;s++){const u=r[s];js.setFromBufferAttribute(u),this.morphTargetsRelative?(Wi.addVectors(this.boundingBox.min,js.min),this.boundingBox.expandByPoint(Wi),Wi.addVectors(this.boundingBox.max,js.max),this.boundingBox.expandByPoint(Wi)):(this.boundingBox.expandByPoint(js.min),this.boundingBox.expandByPoint(js.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ud);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ut,1/0);return}if(e){const s=this.boundingSphere.center;if(js.setFromBufferAttribute(e),r)for(let u=0,f=r.length;u<f;u++){const m=r[u];oh.setFromBufferAttribute(m),this.morphTargetsRelative?(Wi.addVectors(js.min,oh.min),js.expandByPoint(Wi),Wi.addVectors(js.max,oh.max),js.expandByPoint(Wi)):(js.expandByPoint(oh.min),js.expandByPoint(oh.max))}js.getCenter(s);let a=0;for(let u=0,f=e.count;u<f;u++)Wi.fromBufferAttribute(e,u),a=Math.max(a,s.distanceToSquared(Wi));if(r)for(let u=0,f=r.length;u<f;u++){const m=r[u],_=this.morphTargetsRelative;for(let A=0,w=m.count;A<w;A++)Wi.fromBufferAttribute(m,A),_&&(md.fromBufferAttribute(e,A),Wi.add(md)),a=Math.max(a,s.distanceToSquared(Wi))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,r=this.attributes;if(e===null||r.position===void 0||r.normal===void 0||r.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=e.array,a=r.position.array,u=r.normal.array,f=r.uv.array,m=a.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Yr(new Float32Array(4*m),4));const _=this.getAttribute("tangent").array,A=[],w=[];for(let we=0;we<m;we++)A[we]=new ut,w[we]=new ut;const S=new ut,x=new ut,P=new ut,O=new Gn,k=new Gn,L=new Gn,U=new ut,Q=new ut;function G(we,Le,je){S.fromArray(a,we*3),x.fromArray(a,Le*3),P.fromArray(a,je*3),O.fromArray(f,we*2),k.fromArray(f,Le*2),L.fromArray(f,je*2),x.sub(S),P.sub(S),k.sub(O),L.sub(O);const be=1/(k.x*L.y-L.x*k.y);!isFinite(be)||(U.copy(x).multiplyScalar(L.y).addScaledVector(P,-k.y).multiplyScalar(be),Q.copy(P).multiplyScalar(k.x).addScaledVector(x,-L.x).multiplyScalar(be),A[we].add(U),A[Le].add(U),A[je].add(U),w[we].add(Q),w[Le].add(Q),w[je].add(Q))}let Z=this.groups;Z.length===0&&(Z=[{start:0,count:s.length}]);for(let we=0,Le=Z.length;we<Le;++we){const je=Z[we],be=je.start,Te=je.count;for(let Je=be,it=be+Te;Je<it;Je+=3)G(s[Je+0],s[Je+1],s[Je+2])}const X=new ut,te=new ut,ae=new ut,j=new ut;function ge(we){ae.fromArray(u,we*3),j.copy(ae);const Le=A[we];X.copy(Le),X.sub(ae.multiplyScalar(ae.dot(Le))).normalize(),te.crossVectors(j,Le);const be=te.dot(w[we])<0?-1:1;_[we*4]=X.x,_[we*4+1]=X.y,_[we*4+2]=X.z,_[we*4+3]=be}for(let we=0,Le=Z.length;we<Le;++we){const je=Z[we],be=je.start,Te=je.count;for(let Je=be,it=be+Te;Je<it;Je+=3)ge(s[Je+0]),ge(s[Je+1]),ge(s[Je+2])}}computeVertexNormals(){const e=this.index,r=this.getAttribute("position");if(r!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new Yr(new Float32Array(r.count*3),3),this.setAttribute("normal",s);else for(let x=0,P=s.count;x<P;x++)s.setXYZ(x,0,0,0);const a=new ut,u=new ut,f=new ut,m=new ut,_=new ut,A=new ut,w=new ut,S=new ut;if(e)for(let x=0,P=e.count;x<P;x+=3){const O=e.getX(x+0),k=e.getX(x+1),L=e.getX(x+2);a.fromBufferAttribute(r,O),u.fromBufferAttribute(r,k),f.fromBufferAttribute(r,L),w.subVectors(f,u),S.subVectors(a,u),w.cross(S),m.fromBufferAttribute(s,O),_.fromBufferAttribute(s,k),A.fromBufferAttribute(s,L),m.add(w),_.add(w),A.add(w),s.setXYZ(O,m.x,m.y,m.z),s.setXYZ(k,_.x,_.y,_.z),s.setXYZ(L,A.x,A.y,A.z)}else for(let x=0,P=r.count;x<P;x+=3)a.fromBufferAttribute(r,x+0),u.fromBufferAttribute(r,x+1),f.fromBufferAttribute(r,x+2),w.subVectors(f,u),S.subVectors(a,u),w.cross(S),s.setXYZ(x+0,w.x,w.y,w.z),s.setXYZ(x+1,w.x,w.y,w.z),s.setXYZ(x+2,w.x,w.y,w.z);this.normalizeNormals(),s.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let r=0,s=e.count;r<s;r++)Wi.fromBufferAttribute(e,r),Wi.normalize(),e.setXYZ(r,Wi.x,Wi.y,Wi.z)}toNonIndexed(){function e(m,_){const A=m.array,w=m.itemSize,S=m.normalized,x=new A.constructor(_.length*w);let P=0,O=0;for(let k=0,L=_.length;k<L;k++){m.isInterleavedBufferAttribute?P=_[k]*m.data.stride+m.offset:P=_[k]*w;for(let U=0;U<w;U++)x[O++]=A[P++]}return new Yr(x,w,S)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const r=new Ki,s=this.index.array,a=this.attributes;for(const m in a){const _=a[m],A=e(_,s);r.setAttribute(m,A)}const u=this.morphAttributes;for(const m in u){const _=[],A=u[m];for(let w=0,S=A.length;w<S;w++){const x=A[w],P=e(x,s);_.push(P)}r.morphAttributes[m]=_}r.morphTargetsRelative=this.morphTargetsRelative;const f=this.groups;for(let m=0,_=f.length;m<_;m++){const A=f[m];r.addGroup(A.start,A.count,A.materialIndex)}return r}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const _=this.parameters;for(const A in _)_[A]!==void 0&&(e[A]=_[A]);return e}e.data={attributes:{}};const r=this.index;r!==null&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});const s=this.attributes;for(const _ in s){const A=s[_];e.data.attributes[_]=A.toJSON(e.data)}const a={};let u=!1;for(const _ in this.morphAttributes){const A=this.morphAttributes[_],w=[];for(let S=0,x=A.length;S<x;S++){const P=A[S];w.push(P.toJSON(e.data))}w.length>0&&(a[_]=w,u=!0)}u&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const f=this.groups;f.length>0&&(e.data.groups=JSON.parse(JSON.stringify(f)));const m=this.boundingSphere;return m!==null&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const r={};this.name=e.name;const s=e.index;s!==null&&this.setIndex(s.clone(r));const a=e.attributes;for(const A in a){const w=a[A];this.setAttribute(A,w.clone(r))}const u=e.morphAttributes;for(const A in u){const w=[],S=u[A];for(let x=0,P=S.length;x<P;x++)w.push(S[x].clone(r));this.morphAttributes[A]=w}this.morphTargetsRelative=e.morphTargetsRelative;const f=e.groups;for(let A=0,w=f.length;A<w;A++){const S=f[A];this.addGroup(S.start,S.count,S.materialIndex)}const m=e.boundingBox;m!==null&&(this.boundingBox=m.clone());const _=e.boundingSphere;return _!==null&&(this.boundingSphere=_.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const RE=new Rr,gd=new Gm,QA=new ud,ah=new ut,lh=new ut,ch=new ut,XA=new ut,Qm=new ut,Xm=new Gn,$m=new Gn,Wm=new Gn,$A=new ut,Km=new ut;class Fi extends mi{constructor(e=new Ki,r=new el){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const r=this.geometry.morphAttributes,s=Object.keys(r);if(s.length>0){const a=r[s[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,f=a.length;u<f;u++){const m=a[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[m]=u}}}}getVertexPosition(e,r){const s=this.geometry,a=s.attributes.position,u=s.morphAttributes.position,f=s.morphTargetsRelative;r.fromBufferAttribute(a,e);const m=this.morphTargetInfluences;if(u&&m){Qm.set(0,0,0);for(let _=0,A=u.length;_<A;_++){const w=m[_],S=u[_];w!==0&&(XA.fromBufferAttribute(S,e),f?Qm.addScaledVector(XA,w):Qm.addScaledVector(XA.sub(r),w))}r.add(Qm)}return this.isSkinnedMesh&&this.boneTransform(e,r),r}raycast(e,r){const s=this.geometry,a=this.material,u=this.matrixWorld;if(a===void 0||(s.boundingSphere===null&&s.computeBoundingSphere(),QA.copy(s.boundingSphere),QA.applyMatrix4(u),e.ray.intersectsSphere(QA)===!1)||(RE.copy(u).invert(),gd.copy(e.ray).applyMatrix4(RE),s.boundingBox!==null&&gd.intersectsBox(s.boundingBox)===!1))return;let f;const m=s.index,_=s.attributes.position,A=s.attributes.uv,w=s.attributes.uv2,S=s.groups,x=s.drawRange;if(m!==null)if(Array.isArray(a))for(let P=0,O=S.length;P<O;P++){const k=S[P],L=a[k.materialIndex],U=Math.max(k.start,x.start),Q=Math.min(m.count,Math.min(k.start+k.count,x.start+x.count));for(let G=U,Z=Q;G<Z;G+=3){const X=m.getX(G),te=m.getX(G+1),ae=m.getX(G+2);f=jm(this,L,e,gd,A,w,X,te,ae),f&&(f.faceIndex=Math.floor(G/3),f.face.materialIndex=k.materialIndex,r.push(f))}}else{const P=Math.max(0,x.start),O=Math.min(m.count,x.start+x.count);for(let k=P,L=O;k<L;k+=3){const U=m.getX(k),Q=m.getX(k+1),G=m.getX(k+2);f=jm(this,a,e,gd,A,w,U,Q,G),f&&(f.faceIndex=Math.floor(k/3),r.push(f))}}else if(_!==void 0)if(Array.isArray(a))for(let P=0,O=S.length;P<O;P++){const k=S[P],L=a[k.materialIndex],U=Math.max(k.start,x.start),Q=Math.min(_.count,Math.min(k.start+k.count,x.start+x.count));for(let G=U,Z=Q;G<Z;G+=3){const X=G,te=G+1,ae=G+2;f=jm(this,L,e,gd,A,w,X,te,ae),f&&(f.faceIndex=Math.floor(G/3),f.face.materialIndex=k.materialIndex,r.push(f))}}else{const P=Math.max(0,x.start),O=Math.min(_.count,x.start+x.count);for(let k=P,L=O;k<L;k+=3){const U=k,Q=k+1,G=k+2;f=jm(this,a,e,gd,A,w,U,Q,G),f&&(f.faceIndex=Math.floor(k/3),r.push(f))}}}}function yk(p,e,r,s,a,u,f,m){let _;if(e.side===H?_=s.intersectTriangle(f,u,a,!0,m):_=s.intersectTriangle(a,u,f,e.side===z,m),_===null)return null;Km.copy(m),Km.applyMatrix4(p.matrixWorld);const A=r.ray.origin.distanceTo(Km);return A<r.near||A>r.far?null:{distance:A,point:Km.clone(),object:p}}function jm(p,e,r,s,a,u,f,m,_){p.getVertexPosition(f,ah),p.getVertexPosition(m,lh),p.getVertexPosition(_,ch);const A=yk(p,e,r,s,ah,lh,ch,$A);if(A){a&&(Xm.fromBufferAttribute(a,f),$m.fromBufferAttribute(a,m),Wm.fromBufferAttribute(a,_),A.uv=xa.getUV($A,ah,lh,ch,Xm,$m,Wm,new Gn)),u&&(Xm.fromBufferAttribute(u,f),$m.fromBufferAttribute(u,m),Wm.fromBufferAttribute(u,_),A.uv2=xa.getUV($A,ah,lh,ch,Xm,$m,Wm,new Gn));const w={a:f,b:m,c:_,normal:new ut,materialIndex:0};xa.getNormal(ah,lh,ch,w.normal),A.face=w}return A}class jc extends Ki{constructor(e=1,r=1,s=1,a=1,u=1,f=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:r,depth:s,widthSegments:a,heightSegments:u,depthSegments:f};const m=this;a=Math.floor(a),u=Math.floor(u),f=Math.floor(f);const _=[],A=[],w=[],S=[];let x=0,P=0;O("z","y","x",-1,-1,s,r,e,f,u,0),O("z","y","x",1,-1,s,r,-e,f,u,1),O("x","z","y",1,1,e,s,r,a,f,2),O("x","z","y",1,-1,e,s,-r,a,f,3),O("x","y","z",1,-1,e,r,s,a,u,4),O("x","y","z",-1,-1,e,r,-s,a,u,5),this.setIndex(_),this.setAttribute("position",new $i(A,3)),this.setAttribute("normal",new $i(w,3)),this.setAttribute("uv",new $i(S,2));function O(k,L,U,Q,G,Z,X,te,ae,j,ge){const we=Z/ae,Le=X/j,je=Z/2,be=X/2,Te=te/2,Je=ae+1,it=j+1;let tt=0,Me=0;const lt=new ut;for(let mt=0;mt<it;mt++){const ft=mt*Le-be;for(let gt=0;gt<Je;gt++){const Qt=gt*we-je;lt[k]=Qt*Q,lt[L]=ft*G,lt[U]=Te,A.push(lt.x,lt.y,lt.z),lt[k]=0,lt[L]=0,lt[U]=te>0?1:-1,w.push(lt.x,lt.y,lt.z),S.push(gt/ae),S.push(1-mt/j),tt+=1}}for(let mt=0;mt<j;mt++)for(let ft=0;ft<ae;ft++){const gt=x+ft+Je*mt,Qt=x+ft+Je*(mt+1),c=x+(ft+1)+Je*(mt+1),pn=x+(ft+1)+Je*mt;_.push(gt,Qt,pn),_.push(Qt,c,pn),Me+=6}m.addGroup(P,Me,ge),P+=Me,x+=tt}}static fromJSON(e){return new jc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function vd(p){const e={};for(const r in p){e[r]={};for(const s in p[r]){const a=p[r][s];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?e[r][s]=a.clone():Array.isArray(a)?e[r][s]=a.slice():e[r][s]=a}}return e}function bs(p){const e={};for(let r=0;r<p.length;r++){const s=vd(p[r]);for(const a in s)e[a]=s[a]}return e}function bk(p){const e=[];for(let r=0;r<p.length;r++)e.push(p[r].clone());return e}function TE(p){return p.getRenderTarget()===null&&p.outputEncoding===Lr?Ca:Yf}const PE={clone:vd,merge:bs};var Sk=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,wk=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Qo extends _o{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Sk,this.fragmentShader=wk,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=vd(e.uniforms),this.uniformsGroups=bk(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const r=super.toJSON(e);r.glslVersion=this.glslVersion,r.uniforms={};for(const a in this.uniforms){const f=this.uniforms[a].value;f&&f.isTexture?r.uniforms[a]={type:"t",value:f.toJSON(e).uuid}:f&&f.isColor?r.uniforms[a]={type:"c",value:f.getHex()}:f&&f.isVector2?r.uniforms[a]={type:"v2",value:f.toArray()}:f&&f.isVector3?r.uniforms[a]={type:"v3",value:f.toArray()}:f&&f.isVector4?r.uniforms[a]={type:"v4",value:f.toArray()}:f&&f.isMatrix3?r.uniforms[a]={type:"m3",value:f.toArray()}:f&&f.isMatrix4?r.uniforms[a]={type:"m4",value:f.toArray()}:r.uniforms[a]={value:f}}Object.keys(this.defines).length>0&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader;const s={};for(const a in this.extensions)this.extensions[a]===!0&&(s[a]=!0);return Object.keys(s).length>0&&(r.extensions=s),r}}class NE extends mi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Rr,this.projectionMatrix=new Rr,this.projectionMatrixInverse=new Rr}copy(e,r){return super.copy(e,r),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return e.set(-r[8],-r[9],-r[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,r){super.updateWorldMatrix(e,r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class as extends NE{constructor(e=50,r=1,s=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=s,this.far=a,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const r=.5*this.getFilmHeight()/e;this.fov=Zf*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Jf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Zf*2*Math.atan(Math.tan(Jf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,r,s,a,u,f){this.aspect=e/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=s,this.view.offsetY=a,this.view.width=u,this.view.height=f,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let r=e*Math.tan(Jf*.5*this.fov)/this.zoom,s=2*r,a=this.aspect*s,u=-.5*a;const f=this.view;if(this.view!==null&&this.view.enabled){const _=f.fullWidth,A=f.fullHeight;u+=f.offsetX*a/_,r-=f.offsetY*s/A,a*=f.width/_,s*=f.height/A}const m=this.filmOffset;m!==0&&(u+=e*m/this.getFilmWidth()),this.projectionMatrix.makePerspective(u,u+a,r,r-s,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}}const _d=-90,Ad=1;class Ek extends mi{constructor(e,r,s){super(),this.type="CubeCamera",this.renderTarget=s;const a=new as(_d,Ad,e,r);a.layers=this.layers,a.up.set(0,1,0),a.lookAt(1,0,0),this.add(a);const u=new as(_d,Ad,e,r);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(-1,0,0),this.add(u);const f=new as(_d,Ad,e,r);f.layers=this.layers,f.up.set(0,0,-1),f.lookAt(0,1,0),this.add(f);const m=new as(_d,Ad,e,r);m.layers=this.layers,m.up.set(0,0,1),m.lookAt(0,-1,0),this.add(m);const _=new as(_d,Ad,e,r);_.layers=this.layers,_.up.set(0,1,0),_.lookAt(0,0,1),this.add(_);const A=new as(_d,Ad,e,r);A.layers=this.layers,A.up.set(0,1,0),A.lookAt(0,0,-1),this.add(A)}update(e,r){this.parent===null&&this.updateMatrixWorld();const s=this.renderTarget,[a,u,f,m,_,A]=this.children,w=e.getRenderTarget(),S=e.toneMapping,x=e.xr.enabled;e.toneMapping=Ke,e.xr.enabled=!1;const P=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,e.setRenderTarget(s,0),e.render(r,a),e.setRenderTarget(s,1),e.render(r,u),e.setRenderTarget(s,2),e.render(r,f),e.setRenderTarget(s,3),e.render(r,m),e.setRenderTarget(s,4),e.render(r,_),s.texture.generateMipmaps=P,e.setRenderTarget(s,5),e.render(r,A),e.setRenderTarget(w),e.toneMapping=S,e.xr.enabled=x,s.texture.needsPMREMUpdate=!0}}class BE extends Oi{constructor(e,r,s,a,u,f,m,_,A,w){e=e!==void 0?e:[],r=r!==void 0?r:pt,super(e,r,s,a,u,f,m,_,A,w),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Ck extends Xc{constructor(e=1,r={}){super(e,e,r),this.isWebGLCubeRenderTarget=!0;const s={width:e,height:e,depth:1},a=[s,s,s,s,s,s];this.texture=new BE(a,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:gr}fromEquirectangularTexture(e,r){this.texture.type=r.type,this.texture.encoding=r.encoding,this.texture.generateMipmaps=r.generateMipmaps,this.texture.minFilter=r.minFilter,this.texture.magFilter=r.magFilter;const s={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new jc(5,5,5),u=new Qo({name:"CubemapFromEquirect",uniforms:vd(s.uniforms),vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,side:H,blending:ne});u.uniforms.tEquirect.value=r;const f=new Fi(a,u),m=r.minFilter;return r.minFilter===Vr&&(r.minFilter=gr),new Ek(1,10,this).update(e,f),r.minFilter=m,f.geometry.dispose(),f.material.dispose(),this}clear(e,r,s,a){const u=e.getRenderTarget();for(let f=0;f<6;f++)e.setRenderTarget(this,f),e.clear(r,s,a);e.setRenderTarget(u)}}const WA=new ut,Ik=new ut,xk=new Ws;class qc{constructor(e=new ut(1,0,0),r=0){this.isPlane=!0,this.normal=e,this.constant=r}set(e,r){return this.normal.copy(e),this.constant=r,this}setComponents(e,r,s,a){return this.normal.set(e,r,s),this.constant=a,this}setFromNormalAndCoplanarPoint(e,r){return this.normal.copy(e),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(e,r,s){const a=WA.subVectors(s,r).cross(Ik.subVectors(e,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,r){return r.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,r){const s=e.delta(WA),a=this.normal.dot(s);if(a===0)return this.distanceToPoint(e.start)===0?r.copy(e.start):null;const u=-(e.start.dot(this.normal)+this.constant)/a;return u<0||u>1?null:r.copy(s).multiplyScalar(u).add(e.start)}intersectsLine(e){const r=this.distanceToPoint(e.start),s=this.distanceToPoint(e.end);return r<0&&s>0||s<0&&r>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,r){const s=r||xk.getNormalMatrix(e),a=this.coplanarPoint(WA).applyMatrix4(e),u=this.normal.applyMatrix3(s).normalize();return this.constant=-a.dot(u),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const yd=new ud,qm=new ut;class KA{constructor(e=new qc,r=new qc,s=new qc,a=new qc,u=new qc,f=new qc){this.planes=[e,r,s,a,u,f]}set(e,r,s,a,u,f){const m=this.planes;return m[0].copy(e),m[1].copy(r),m[2].copy(s),m[3].copy(a),m[4].copy(u),m[5].copy(f),this}copy(e){const r=this.planes;for(let s=0;s<6;s++)r[s].copy(e.planes[s]);return this}setFromProjectionMatrix(e){const r=this.planes,s=e.elements,a=s[0],u=s[1],f=s[2],m=s[3],_=s[4],A=s[5],w=s[6],S=s[7],x=s[8],P=s[9],O=s[10],k=s[11],L=s[12],U=s[13],Q=s[14],G=s[15];return r[0].setComponents(m-a,S-_,k-x,G-L).normalize(),r[1].setComponents(m+a,S+_,k+x,G+L).normalize(),r[2].setComponents(m+u,S+A,k+P,G+U).normalize(),r[3].setComponents(m-u,S-A,k-P,G-U).normalize(),r[4].setComponents(m-f,S-w,k-O,G-Q).normalize(),r[5].setComponents(m+f,S+w,k+O,G+Q).normalize(),this}intersectsObject(e){const r=e.geometry;return r.boundingSphere===null&&r.computeBoundingSphere(),yd.copy(r.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(yd)}intersectsSprite(e){return yd.center.set(0,0,0),yd.radius=.7071067811865476,yd.applyMatrix4(e.matrixWorld),this.intersectsSphere(yd)}intersectsSphere(e){const r=this.planes,s=e.center,a=-e.radius;for(let u=0;u<6;u++)if(r[u].distanceToPoint(s)<a)return!1;return!0}intersectsBox(e){const r=this.planes;for(let s=0;s<6;s++){const a=r[s];if(qm.x=a.normal.x>0?e.max.x:e.min.x,qm.y=a.normal.y>0?e.max.y:e.min.y,qm.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(qm)<0)return!1}return!0}containsPoint(e){const r=this.planes;for(let s=0;s<6;s++)if(r[s].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function DE(){let p=null,e=!1,r=null,s=null;function a(u,f){r(u,f),s=p.requestAnimationFrame(a)}return{start:function(){e!==!0&&r!==null&&(s=p.requestAnimationFrame(a),e=!0)},stop:function(){p.cancelAnimationFrame(s),e=!1},setAnimationLoop:function(u){r=u},setContext:function(u){p=u}}}function Mk(p,e){const r=e.isWebGL2,s=new WeakMap;function a(A,w){const S=A.array,x=A.usage,P=p.createBuffer();p.bindBuffer(w,P),p.bufferData(w,S,x),A.onUploadCallback();let O;if(S instanceof Float32Array)O=5126;else if(S instanceof Uint16Array)if(A.isFloat16BufferAttribute)if(r)O=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else O=5123;else if(S instanceof Int16Array)O=5122;else if(S instanceof Uint32Array)O=5125;else if(S instanceof Int32Array)O=5124;else if(S instanceof Int8Array)O=5120;else if(S instanceof Uint8Array)O=5121;else if(S instanceof Uint8ClampedArray)O=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+S);return{buffer:P,type:O,bytesPerElement:S.BYTES_PER_ELEMENT,version:A.version}}function u(A,w,S){const x=w.array,P=w.updateRange;p.bindBuffer(S,A),P.count===-1?p.bufferSubData(S,0,x):(r?p.bufferSubData(S,P.offset*x.BYTES_PER_ELEMENT,x,P.offset,P.count):p.bufferSubData(S,P.offset*x.BYTES_PER_ELEMENT,x.subarray(P.offset,P.offset+P.count)),P.count=-1),w.onUploadCallback()}function f(A){return A.isInterleavedBufferAttribute&&(A=A.data),s.get(A)}function m(A){A.isInterleavedBufferAttribute&&(A=A.data);const w=s.get(A);w&&(p.deleteBuffer(w.buffer),s.delete(A))}function _(A,w){if(A.isGLBufferAttribute){const x=s.get(A);(!x||x.version<A.version)&&s.set(A,{buffer:A.buffer,type:A.type,bytesPerElement:A.elementSize,version:A.version});return}A.isInterleavedBufferAttribute&&(A=A.data);const S=s.get(A);S===void 0?s.set(A,a(A,w)):S.version<A.version&&(u(S.buffer,A,w),S.version=A.version)}return{get:f,remove:m,update:_}}class bd extends Ki{constructor(e=1,r=1,s=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:r,widthSegments:s,heightSegments:a};const u=e/2,f=r/2,m=Math.floor(s),_=Math.floor(a),A=m+1,w=_+1,S=e/m,x=r/_,P=[],O=[],k=[],L=[];for(let U=0;U<w;U++){const Q=U*x-f;for(let G=0;G<A;G++){const Z=G*S-u;O.push(Z,-Q,0),k.push(0,0,1),L.push(G/m),L.push(1-U/_)}}for(let U=0;U<_;U++)for(let Q=0;Q<m;Q++){const G=Q+A*U,Z=Q+A*(U+1),X=Q+1+A*(U+1),te=Q+1+A*U;P.push(G,Z,te),P.push(Z,X,te)}this.setIndex(P),this.setAttribute("position",new $i(O,3)),this.setAttribute("normal",new $i(k,3)),this.setAttribute("uv",new $i(L,2))}static fromJSON(e){return new bd(e.width,e.height,e.widthSegments,e.heightSegments)}}var Rk=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Tk=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Pk=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Nk=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Bk=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Dk=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,kk="vec3 transformed = vec3( position );",Lk=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Ok=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Fk=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Vk=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Gk=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Uk=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,zk=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Hk=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Qk=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Xk=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,$k=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Wk=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Kk=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,jk=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,qk=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Yk=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Jk=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Zk=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,e8=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,t8="gl_FragColor = linearToOutputTexel( gl_FragColor );",n8=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,r8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,i8=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,s8=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,o8=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,a8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,l8=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,c8=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,u8=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,d8=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,f8=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,h8=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,p8=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,m8=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,g8=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,v8=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,_8=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,A8=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,y8=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,b8=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,S8=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,w8=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,E8=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,C8=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,I8=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,x8=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,M8=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,R8=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,T8=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,P8=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,N8=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,B8=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,D8=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,k8=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,L8=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,O8=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,F8=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,V8=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,G8=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,U8=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,z8=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,H8=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Q8=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,X8=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,$8=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,W8=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,K8=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,j8=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,q8=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Y8=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,J8=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Z8=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,e4=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,t4=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,n4=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,r4=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,i4=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,s4=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,o4=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,a4=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,l4=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,c4=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,u4=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,d4=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,f4=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,h4=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,p4=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,m4=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,g4=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,v4=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,_4=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,A4=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,y4=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,b4=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,S4=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,w4=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,E4=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,C4=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,I4=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Tr={alphamap_fragment:Rk,alphamap_pars_fragment:Tk,alphatest_fragment:Pk,alphatest_pars_fragment:Nk,aomap_fragment:Bk,aomap_pars_fragment:Dk,begin_vertex:kk,beginnormal_vertex:Lk,bsdfs:Ok,iridescence_fragment:Fk,bumpmap_pars_fragment:Vk,clipping_planes_fragment:Gk,clipping_planes_pars_fragment:Uk,clipping_planes_pars_vertex:zk,clipping_planes_vertex:Hk,color_fragment:Qk,color_pars_fragment:Xk,color_pars_vertex:$k,color_vertex:Wk,common:Kk,cube_uv_reflection_fragment:jk,defaultnormal_vertex:qk,displacementmap_pars_vertex:Yk,displacementmap_vertex:Jk,emissivemap_fragment:Zk,emissivemap_pars_fragment:e8,encodings_fragment:t8,encodings_pars_fragment:n8,envmap_fragment:r8,envmap_common_pars_fragment:i8,envmap_pars_fragment:s8,envmap_pars_vertex:o8,envmap_physical_pars_fragment:_8,envmap_vertex:a8,fog_vertex:l8,fog_pars_vertex:c8,fog_fragment:u8,fog_pars_fragment:d8,gradientmap_pars_fragment:f8,lightmap_fragment:h8,lightmap_pars_fragment:p8,lights_lambert_fragment:m8,lights_lambert_pars_fragment:g8,lights_pars_begin:v8,lights_toon_fragment:A8,lights_toon_pars_fragment:y8,lights_phong_fragment:b8,lights_phong_pars_fragment:S8,lights_physical_fragment:w8,lights_physical_pars_fragment:E8,lights_fragment_begin:C8,lights_fragment_maps:I8,lights_fragment_end:x8,logdepthbuf_fragment:M8,logdepthbuf_pars_fragment:R8,logdepthbuf_pars_vertex:T8,logdepthbuf_vertex:P8,map_fragment:N8,map_pars_fragment:B8,map_particle_fragment:D8,map_particle_pars_fragment:k8,metalnessmap_fragment:L8,metalnessmap_pars_fragment:O8,morphcolor_vertex:F8,morphnormal_vertex:V8,morphtarget_pars_vertex:G8,morphtarget_vertex:U8,normal_fragment_begin:z8,normal_fragment_maps:H8,normal_pars_fragment:Q8,normal_pars_vertex:X8,normal_vertex:$8,normalmap_pars_fragment:W8,clearcoat_normal_fragment_begin:K8,clearcoat_normal_fragment_maps:j8,clearcoat_pars_fragment:q8,iridescence_pars_fragment:Y8,output_fragment:J8,packing:Z8,premultiplied_alpha_fragment:e4,project_vertex:t4,dithering_fragment:n4,dithering_pars_fragment:r4,roughnessmap_fragment:i4,roughnessmap_pars_fragment:s4,shadowmap_pars_fragment:o4,shadowmap_pars_vertex:a4,shadowmap_vertex:l4,shadowmask_pars_fragment:c4,skinbase_vertex:u4,skinning_pars_vertex:d4,skinning_vertex:f4,skinnormal_vertex:h4,specularmap_fragment:p4,specularmap_pars_fragment:m4,tonemapping_fragment:g4,tonemapping_pars_fragment:v4,transmission_fragment:_4,transmission_pars_fragment:A4,uv_pars_fragment:y4,uv_pars_vertex:b4,uv_vertex:S4,uv2_pars_fragment:w4,uv2_pars_vertex:E4,uv2_vertex:C4,worldpos_vertex:I4,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`},Bn={common:{diffuse:{value:new dr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ws},uv2Transform:{value:new Ws},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Gn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new dr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new dr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ws}},sprite:{diffuse:{value:new dr(16777215)},opacity:{value:1},center:{value:new Gn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ws}}},Ma={basic:{uniforms:bs([Bn.common,Bn.specularmap,Bn.envmap,Bn.aomap,Bn.lightmap,Bn.fog]),vertexShader:Tr.meshbasic_vert,fragmentShader:Tr.meshbasic_frag},lambert:{uniforms:bs([Bn.common,Bn.specularmap,Bn.envmap,Bn.aomap,Bn.lightmap,Bn.emissivemap,Bn.bumpmap,Bn.normalmap,Bn.displacementmap,Bn.fog,Bn.lights,{emissive:{value:new dr(0)}}]),vertexShader:Tr.meshlambert_vert,fragmentShader:Tr.meshlambert_frag},phong:{uniforms:bs([Bn.common,Bn.specularmap,Bn.envmap,Bn.aomap,Bn.lightmap,Bn.emissivemap,Bn.bumpmap,Bn.normalmap,Bn.displacementmap,Bn.fog,Bn.lights,{emissive:{value:new dr(0)},specular:{value:new dr(1118481)},shininess:{value:30}}]),vertexShader:Tr.meshphong_vert,fragmentShader:Tr.meshphong_frag},standard:{uniforms:bs([Bn.common,Bn.envmap,Bn.aomap,Bn.lightmap,Bn.emissivemap,Bn.bumpmap,Bn.normalmap,Bn.displacementmap,Bn.roughnessmap,Bn.metalnessmap,Bn.fog,Bn.lights,{emissive:{value:new dr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Tr.meshphysical_vert,fragmentShader:Tr.meshphysical_frag},toon:{uniforms:bs([Bn.common,Bn.aomap,Bn.lightmap,Bn.emissivemap,Bn.bumpmap,Bn.normalmap,Bn.displacementmap,Bn.gradientmap,Bn.fog,Bn.lights,{emissive:{value:new dr(0)}}]),vertexShader:Tr.meshtoon_vert,fragmentShader:Tr.meshtoon_frag},matcap:{uniforms:bs([Bn.common,Bn.bumpmap,Bn.normalmap,Bn.displacementmap,Bn.fog,{matcap:{value:null}}]),vertexShader:Tr.meshmatcap_vert,fragmentShader:Tr.meshmatcap_frag},points:{uniforms:bs([Bn.points,Bn.fog]),vertexShader:Tr.points_vert,fragmentShader:Tr.points_frag},dashed:{uniforms:bs([Bn.common,Bn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Tr.linedashed_vert,fragmentShader:Tr.linedashed_frag},depth:{uniforms:bs([Bn.common,Bn.displacementmap]),vertexShader:Tr.depth_vert,fragmentShader:Tr.depth_frag},normal:{uniforms:bs([Bn.common,Bn.bumpmap,Bn.normalmap,Bn.displacementmap,{opacity:{value:1}}]),vertexShader:Tr.meshnormal_vert,fragmentShader:Tr.meshnormal_frag},sprite:{uniforms:bs([Bn.sprite,Bn.fog]),vertexShader:Tr.sprite_vert,fragmentShader:Tr.sprite_frag},background:{uniforms:{uvTransform:{value:new Ws},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Tr.background_vert,fragmentShader:Tr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Tr.backgroundCube_vert,fragmentShader:Tr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Tr.cube_vert,fragmentShader:Tr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Tr.equirect_vert,fragmentShader:Tr.equirect_frag},distanceRGBA:{uniforms:bs([Bn.common,Bn.displacementmap,{referencePosition:{value:new ut},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Tr.distanceRGBA_vert,fragmentShader:Tr.distanceRGBA_frag},shadow:{uniforms:bs([Bn.lights,Bn.fog,{color:{value:new dr(0)},opacity:{value:1}}]),vertexShader:Tr.shadow_vert,fragmentShader:Tr.shadow_frag}};Ma.physical={uniforms:bs([Ma.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Gn(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new dr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Gn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new dr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new dr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Tr.meshphysical_vert,fragmentShader:Tr.meshphysical_frag};const Ym={r:0,b:0,g:0};function x4(p,e,r,s,a,u,f){const m=new dr(0);let _=u===!0?0:1,A,w,S=null,x=0,P=null;function O(L,U){let Q=!1,G=U.isScene===!0?U.background:null;G&&G.isTexture&&(G=(U.backgroundBlurriness>0?r:e).get(G));const Z=p.xr,X=Z.getSession&&Z.getSession();X&&X.environmentBlendMode==="additive"&&(G=null),G===null?k(m,_):G&&G.isColor&&(k(G,1),Q=!0),(p.autoClear||Q)&&p.clear(p.autoClearColor,p.autoClearDepth,p.autoClearStencil),G&&(G.isCubeTexture||G.mapping===Ce)?(w===void 0&&(w=new Fi(new jc(1,1,1),new Qo({name:"BackgroundCubeMaterial",uniforms:vd(Ma.backgroundCube.uniforms),vertexShader:Ma.backgroundCube.vertexShader,fragmentShader:Ma.backgroundCube.fragmentShader,side:H,depthTest:!1,depthWrite:!1,fog:!1})),w.geometry.deleteAttribute("normal"),w.geometry.deleteAttribute("uv"),w.onBeforeRender=function(te,ae,j){this.matrixWorld.copyPosition(j.matrixWorld)},Object.defineProperty(w.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(w)),w.material.uniforms.envMap.value=G,w.material.uniforms.flipEnvMap.value=G.isCubeTexture&&G.isRenderTargetTexture===!1?-1:1,w.material.uniforms.backgroundBlurriness.value=U.backgroundBlurriness,w.material.uniforms.backgroundIntensity.value=U.backgroundIntensity,w.material.toneMapped=G.encoding!==Lr,(S!==G||x!==G.version||P!==p.toneMapping)&&(w.material.needsUpdate=!0,S=G,x=G.version,P=p.toneMapping),w.layers.enableAll(),L.unshift(w,w.geometry,w.material,0,0,null)):G&&G.isTexture&&(A===void 0&&(A=new Fi(new bd(2,2),new Qo({name:"BackgroundMaterial",uniforms:vd(Ma.background.uniforms),vertexShader:Ma.background.vertexShader,fragmentShader:Ma.background.fragmentShader,side:z,depthTest:!1,depthWrite:!1,fog:!1})),A.geometry.deleteAttribute("normal"),Object.defineProperty(A.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(A)),A.material.uniforms.t2D.value=G,A.material.uniforms.backgroundIntensity.value=U.backgroundIntensity,A.material.toneMapped=G.encoding!==Lr,G.matrixAutoUpdate===!0&&G.updateMatrix(),A.material.uniforms.uvTransform.value.copy(G.matrix),(S!==G||x!==G.version||P!==p.toneMapping)&&(A.material.needsUpdate=!0,S=G,x=G.version,P=p.toneMapping),A.layers.enableAll(),L.unshift(A,A.geometry,A.material,0,0,null))}function k(L,U){L.getRGB(Ym,TE(p)),s.buffers.color.setClear(Ym.r,Ym.g,Ym.b,U,f)}return{getClearColor:function(){return m},setClearColor:function(L,U=1){m.set(L),_=U,k(m,_)},getClearAlpha:function(){return _},setClearAlpha:function(L){_=L,k(m,_)},render:O}}function M4(p,e,r,s){const a=p.getParameter(34921),u=s.isWebGL2?null:e.get("OES_vertex_array_object"),f=s.isWebGL2||u!==null,m={},_=L(null);let A=_,w=!1;function S(Te,Je,it,tt,Me){let lt=!1;if(f){const mt=k(tt,it,Je);A!==mt&&(A=mt,P(A.object)),lt=U(Te,tt,it,Me),lt&&Q(Te,tt,it,Me)}else{const mt=Je.wireframe===!0;(A.geometry!==tt.id||A.program!==it.id||A.wireframe!==mt)&&(A.geometry=tt.id,A.program=it.id,A.wireframe=mt,lt=!0)}Me!==null&&r.update(Me,34963),(lt||w)&&(w=!1,j(Te,Je,it,tt),Me!==null&&p.bindBuffer(34963,r.get(Me).buffer))}function x(){return s.isWebGL2?p.createVertexArray():u.createVertexArrayOES()}function P(Te){return s.isWebGL2?p.bindVertexArray(Te):u.bindVertexArrayOES(Te)}function O(Te){return s.isWebGL2?p.deleteVertexArray(Te):u.deleteVertexArrayOES(Te)}function k(Te,Je,it){const tt=it.wireframe===!0;let Me=m[Te.id];Me===void 0&&(Me={},m[Te.id]=Me);let lt=Me[Je.id];lt===void 0&&(lt={},Me[Je.id]=lt);let mt=lt[tt];return mt===void 0&&(mt=L(x()),lt[tt]=mt),mt}function L(Te){const Je=[],it=[],tt=[];for(let Me=0;Me<a;Me++)Je[Me]=0,it[Me]=0,tt[Me]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Je,enabledAttributes:it,attributeDivisors:tt,object:Te,attributes:{},index:null}}function U(Te,Je,it,tt){const Me=A.attributes,lt=Je.attributes;let mt=0;const ft=it.getAttributes();for(const gt in ft)if(ft[gt].location>=0){const c=Me[gt];let pn=lt[gt];if(pn===void 0&&(gt==="instanceMatrix"&&Te.instanceMatrix&&(pn=Te.instanceMatrix),gt==="instanceColor"&&Te.instanceColor&&(pn=Te.instanceColor)),c===void 0||c.attribute!==pn||pn&&c.data!==pn.data)return!0;mt++}return A.attributesNum!==mt||A.index!==tt}function Q(Te,Je,it,tt){const Me={},lt=Je.attributes;let mt=0;const ft=it.getAttributes();for(const gt in ft)if(ft[gt].location>=0){let c=lt[gt];c===void 0&&(gt==="instanceMatrix"&&Te.instanceMatrix&&(c=Te.instanceMatrix),gt==="instanceColor"&&Te.instanceColor&&(c=Te.instanceColor));const pn={};pn.attribute=c,c&&c.data&&(pn.data=c.data),Me[gt]=pn,mt++}A.attributes=Me,A.attributesNum=mt,A.index=tt}function G(){const Te=A.newAttributes;for(let Je=0,it=Te.length;Je<it;Je++)Te[Je]=0}function Z(Te){X(Te,0)}function X(Te,Je){const it=A.newAttributes,tt=A.enabledAttributes,Me=A.attributeDivisors;it[Te]=1,tt[Te]===0&&(p.enableVertexAttribArray(Te),tt[Te]=1),Me[Te]!==Je&&((s.isWebGL2?p:e.get("ANGLE_instanced_arrays"))[s.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Te,Je),Me[Te]=Je)}function te(){const Te=A.newAttributes,Je=A.enabledAttributes;for(let it=0,tt=Je.length;it<tt;it++)Je[it]!==Te[it]&&(p.disableVertexAttribArray(it),Je[it]=0)}function ae(Te,Je,it,tt,Me,lt){s.isWebGL2===!0&&(it===5124||it===5125)?p.vertexAttribIPointer(Te,Je,it,Me,lt):p.vertexAttribPointer(Te,Je,it,tt,Me,lt)}function j(Te,Je,it,tt){if(s.isWebGL2===!1&&(Te.isInstancedMesh||tt.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;G();const Me=tt.attributes,lt=it.getAttributes(),mt=Je.defaultAttributeValues;for(const ft in lt){const gt=lt[ft];if(gt.location>=0){let Qt=Me[ft];if(Qt===void 0&&(ft==="instanceMatrix"&&Te.instanceMatrix&&(Qt=Te.instanceMatrix),ft==="instanceColor"&&Te.instanceColor&&(Qt=Te.instanceColor)),Qt!==void 0){const c=Qt.normalized,pn=Qt.itemSize,at=r.get(Qt);if(at===void 0)continue;const $e=at.buffer,Mt=at.type,jt=at.bytesPerElement;if(Qt.isInterleavedBufferAttribute){const Kt=Qt.data,wn=Kt.stride,Pn=Qt.offset;if(Kt.isInstancedInterleavedBuffer){for(let Xn=0;Xn<gt.locationSize;Xn++)X(gt.location+Xn,Kt.meshPerAttribute);Te.isInstancedMesh!==!0&&tt._maxInstanceCount===void 0&&(tt._maxInstanceCount=Kt.meshPerAttribute*Kt.count)}else for(let Xn=0;Xn<gt.locationSize;Xn++)Z(gt.location+Xn);p.bindBuffer(34962,$e);for(let Xn=0;Xn<gt.locationSize;Xn++)ae(gt.location+Xn,pn/gt.locationSize,Mt,c,wn*jt,(Pn+pn/gt.locationSize*Xn)*jt)}else{if(Qt.isInstancedBufferAttribute){for(let Kt=0;Kt<gt.locationSize;Kt++)X(gt.location+Kt,Qt.meshPerAttribute);Te.isInstancedMesh!==!0&&tt._maxInstanceCount===void 0&&(tt._maxInstanceCount=Qt.meshPerAttribute*Qt.count)}else for(let Kt=0;Kt<gt.locationSize;Kt++)Z(gt.location+Kt);p.bindBuffer(34962,$e);for(let Kt=0;Kt<gt.locationSize;Kt++)ae(gt.location+Kt,pn/gt.locationSize,Mt,c,pn*jt,pn/gt.locationSize*Kt*jt)}}else if(mt!==void 0){const c=mt[ft];if(c!==void 0)switch(c.length){case 2:p.vertexAttrib2fv(gt.location,c);break;case 3:p.vertexAttrib3fv(gt.location,c);break;case 4:p.vertexAttrib4fv(gt.location,c);break;default:p.vertexAttrib1fv(gt.location,c)}}}}te()}function ge(){je();for(const Te in m){const Je=m[Te];for(const it in Je){const tt=Je[it];for(const Me in tt)O(tt[Me].object),delete tt[Me];delete Je[it]}delete m[Te]}}function we(Te){if(m[Te.id]===void 0)return;const Je=m[Te.id];for(const it in Je){const tt=Je[it];for(const Me in tt)O(tt[Me].object),delete tt[Me];delete Je[it]}delete m[Te.id]}function Le(Te){for(const Je in m){const it=m[Je];if(it[Te.id]===void 0)continue;const tt=it[Te.id];for(const Me in tt)O(tt[Me].object),delete tt[Me];delete it[Te.id]}}function je(){be(),w=!0,A!==_&&(A=_,P(A.object))}function be(){_.geometry=null,_.program=null,_.wireframe=!1}return{setup:S,reset:je,resetDefaultState:be,dispose:ge,releaseStatesOfGeometry:we,releaseStatesOfProgram:Le,initAttributes:G,enableAttribute:Z,disableUnusedAttributes:te}}function R4(p,e,r,s){const a=s.isWebGL2;let u;function f(A){u=A}function m(A,w){p.drawArrays(u,A,w),r.update(w,u,1)}function _(A,w,S){if(S===0)return;let x,P;if(a)x=p,P="drawArraysInstanced";else if(x=e.get("ANGLE_instanced_arrays"),P="drawArraysInstancedANGLE",x===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[P](u,A,w,S),r.update(w,u,S)}this.setMode=f,this.render=m,this.renderInstances=_}function T4(p,e,r){let s;function a(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const ae=e.get("EXT_texture_filter_anisotropic");s=p.getParameter(ae.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function u(ae){if(ae==="highp"){if(p.getShaderPrecisionFormat(35633,36338).precision>0&&p.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";ae="mediump"}return ae==="mediump"&&p.getShaderPrecisionFormat(35633,36337).precision>0&&p.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const f=typeof WebGL2RenderingContext<"u"&&p instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&p instanceof WebGL2ComputeRenderingContext;let m=r.precision!==void 0?r.precision:"highp";const _=u(m);_!==m&&(console.warn("THREE.WebGLRenderer:",m,"not supported, using",_,"instead."),m=_);const A=f||e.has("WEBGL_draw_buffers"),w=r.logarithmicDepthBuffer===!0,S=p.getParameter(34930),x=p.getParameter(35660),P=p.getParameter(3379),O=p.getParameter(34076),k=p.getParameter(34921),L=p.getParameter(36347),U=p.getParameter(36348),Q=p.getParameter(36349),G=x>0,Z=f||e.has("OES_texture_float"),X=G&&Z,te=f?p.getParameter(36183):0;return{isWebGL2:f,drawBuffers:A,getMaxAnisotropy:a,getMaxPrecision:u,precision:m,logarithmicDepthBuffer:w,maxTextures:S,maxVertexTextures:x,maxTextureSize:P,maxCubemapSize:O,maxAttributes:k,maxVertexUniforms:L,maxVaryings:U,maxFragmentUniforms:Q,vertexTextures:G,floatFragmentTextures:Z,floatVertexTextures:X,maxSamples:te}}function P4(p){const e=this;let r=null,s=0,a=!1,u=!1;const f=new qc,m=new Ws,_={value:null,needsUpdate:!1};this.uniform=_,this.numPlanes=0,this.numIntersection=0,this.init=function(S,x,P){const O=S.length!==0||x||s!==0||a;return a=x,r=w(S,P,0),s=S.length,O},this.beginShadows=function(){u=!0,w(null)},this.endShadows=function(){u=!1,A()},this.setState=function(S,x,P){const O=S.clippingPlanes,k=S.clipIntersection,L=S.clipShadows,U=p.get(S);if(!a||O===null||O.length===0||u&&!L)u?w(null):A();else{const Q=u?0:s,G=Q*4;let Z=U.clippingState||null;_.value=Z,Z=w(O,x,G,P);for(let X=0;X!==G;++X)Z[X]=r[X];U.clippingState=Z,this.numIntersection=k?this.numPlanes:0,this.numPlanes+=Q}};function A(){_.value!==r&&(_.value=r,_.needsUpdate=s>0),e.numPlanes=s,e.numIntersection=0}function w(S,x,P,O){const k=S!==null?S.length:0;let L=null;if(k!==0){if(L=_.value,O!==!0||L===null){const U=P+k*4,Q=x.matrixWorldInverse;m.getNormalMatrix(Q),(L===null||L.length<U)&&(L=new Float32Array(U));for(let G=0,Z=P;G!==k;++G,Z+=4)f.copy(S[G]).applyMatrix4(Q,m),f.normal.toArray(L,Z),L[Z+3]=f.constant}_.value=L,_.needsUpdate=!0}return e.numPlanes=k,e.numIntersection=0,L}}function N4(p){let e=new WeakMap;function r(f,m){return m===tn?f.mapping=pt:m===Fn&&(f.mapping=St),f}function s(f){if(f&&f.isTexture&&f.isRenderTargetTexture===!1){const m=f.mapping;if(m===tn||m===Fn)if(e.has(f)){const _=e.get(f).texture;return r(_,f.mapping)}else{const _=f.image;if(_&&_.height>0){const A=new Ck(_.height/2);return A.fromEquirectangularTexture(p,f),e.set(f,A),f.addEventListener("dispose",a),r(A.texture,f.mapping)}else return null}}return f}function a(f){const m=f.target;m.removeEventListener("dispose",a);const _=e.get(m);_!==void 0&&(e.delete(m),_.dispose())}function u(){e=new WeakMap}return{get:s,dispose:u}}class Jm extends NE{constructor(e=-1,r=1,s=1,a=-1,u=.1,f=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=r,this.top=s,this.bottom=a,this.near=u,this.far=f,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,r,s,a,u,f){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=s,this.view.offsetY=a,this.view.width=u,this.view.height=f,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let u=s-e,f=s+e,m=a+r,_=a-r;if(this.view!==null&&this.view.enabled){const A=(this.right-this.left)/this.view.fullWidth/this.zoom,w=(this.top-this.bottom)/this.view.fullHeight/this.zoom;u+=A*this.view.offsetX,f=u+A*this.view.width,m-=w*this.view.offsetY,_=m-w*this.view.height}this.projectionMatrix.makeOrthographic(u,f,m,_,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,this.view!==null&&(r.object.view=Object.assign({},this.view)),r}}const Sd=4,kE=[.125,.215,.35,.446,.526,.582],Yc=20,jA=new Jm,LE=new dr;let qA=null;const Jc=(1+Math.sqrt(5))/2,wd=1/Jc,OE=[new ut(1,1,1),new ut(-1,1,1),new ut(1,1,-1),new ut(-1,1,-1),new ut(0,Jc,wd),new ut(0,Jc,-wd),new ut(wd,0,Jc),new ut(-wd,0,Jc),new ut(Jc,wd,0),new ut(-Jc,wd,0)];class Zm{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,r=0,s=.1,a=100){qA=this._renderer.getRenderTarget(),this._setSize(256);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,s,a,u),r>0&&this._blur(u,0,0,r),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,r=null){return this._fromTexture(e,r)}fromCubemap(e,r=null){return this._fromTexture(e,r)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=GE(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=VE(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(qA),e.scissorTest=!1,eg(e,0,0,e.width,e.height)}_fromTexture(e,r){e.mapping===pt||e.mapping===St?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),qA=this._renderer.getRenderTarget();const s=r||this._allocateTargets();return this._textureToCubeUV(e,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),r=4*this._cubeSize,s={magFilter:gr,minFilter:gr,generateMipmaps:!1,type:$s,format:Xi,encoding:Vo,depthBuffer:!1},a=FE(e,r,s);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=FE(e,r,s);const{_lodMax:u}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=B4(u)),this._blurMaterial=D4(u,e,r)}return a}_compileMaterial(e){const r=new Fi(this._lodPlanes[0],e);this._renderer.compile(r,jA)}_sceneToCubeUV(e,r,s,a){const m=new as(90,1,r,s),_=[1,-1,1,1,1,1],A=[1,1,1,-1,-1,-1],w=this._renderer,S=w.autoClear,x=w.toneMapping;w.getClearColor(LE),w.toneMapping=Ke,w.autoClear=!1;const P=new el({name:"PMREM.Background",side:H,depthWrite:!1,depthTest:!1}),O=new Fi(new jc,P);let k=!1;const L=e.background;L?L.isColor&&(P.color.copy(L),e.background=null,k=!0):(P.color.copy(LE),k=!0);for(let U=0;U<6;U++){const Q=U%3;Q===0?(m.up.set(0,_[U],0),m.lookAt(A[U],0,0)):Q===1?(m.up.set(0,0,_[U]),m.lookAt(0,A[U],0)):(m.up.set(0,_[U],0),m.lookAt(0,0,A[U]));const G=this._cubeSize;eg(a,Q*G,U>2?G:0,G,G),w.setRenderTarget(a),k&&w.render(O,m),w.render(e,m)}O.geometry.dispose(),O.material.dispose(),w.toneMapping=x,w.autoClear=S,e.background=L}_textureToCubeUV(e,r){const s=this._renderer,a=e.mapping===pt||e.mapping===St;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=GE()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=VE());const u=a?this._cubemapMaterial:this._equirectMaterial,f=new Fi(this._lodPlanes[0],u),m=u.uniforms;m.envMap.value=e;const _=this._cubeSize;eg(r,0,0,3*_,2*_),s.setRenderTarget(r),s.render(f,jA)}_applyPMREM(e){const r=this._renderer,s=r.autoClear;r.autoClear=!1;for(let a=1;a<this._lodPlanes.length;a++){const u=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),f=OE[(a-1)%OE.length];this._blur(e,a-1,a,u,f)}r.autoClear=s}_blur(e,r,s,a,u){const f=this._pingPongRenderTarget;this._halfBlur(e,f,r,s,a,"latitudinal",u),this._halfBlur(f,e,s,s,a,"longitudinal",u)}_halfBlur(e,r,s,a,u,f,m){const _=this._renderer,A=this._blurMaterial;f!=="latitudinal"&&f!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const w=3,S=new Fi(this._lodPlanes[a],A),x=A.uniforms,P=this._sizeLods[s]-1,O=isFinite(u)?Math.PI/(2*P):2*Math.PI/(2*Yc-1),k=u/O,L=isFinite(u)?1+Math.floor(w*k):Yc;L>Yc&&console.warn(`sigmaRadians, ${u}, is too large and will clip, as it requested ${L} samples when the maximum is set to ${Yc}`);const U=[];let Q=0;for(let ae=0;ae<Yc;++ae){const j=ae/k,ge=Math.exp(-j*j/2);U.push(ge),ae===0?Q+=ge:ae<L&&(Q+=2*ge)}for(let ae=0;ae<U.length;ae++)U[ae]=U[ae]/Q;x.envMap.value=e.texture,x.samples.value=L,x.weights.value=U,x.latitudinal.value=f==="latitudinal",m&&(x.poleAxis.value=m);const{_lodMax:G}=this;x.dTheta.value=O,x.mipInt.value=G-s;const Z=this._sizeLods[a],X=3*Z*(a>G-Sd?a-G+Sd:0),te=4*(this._cubeSize-Z);eg(r,X,te,3*Z,2*Z),_.setRenderTarget(r),_.render(S,jA)}}function B4(p){const e=[],r=[],s=[];let a=p;const u=p-Sd+1+kE.length;for(let f=0;f<u;f++){const m=Math.pow(2,a);r.push(m);let _=1/m;f>p-Sd?_=kE[f-p+Sd-1]:f===0&&(_=0),s.push(_);const A=1/(m-2),w=-A,S=1+A,x=[w,w,S,w,S,S,w,w,S,S,w,S],P=6,O=6,k=3,L=2,U=1,Q=new Float32Array(k*O*P),G=new Float32Array(L*O*P),Z=new Float32Array(U*O*P);for(let te=0;te<P;te++){const ae=te%3*2/3-1,j=te>2?0:-1,ge=[ae,j,0,ae+2/3,j,0,ae+2/3,j+1,0,ae,j,0,ae+2/3,j+1,0,ae,j+1,0];Q.set(ge,k*O*te),G.set(x,L*O*te);const we=[te,te,te,te,te,te];Z.set(we,U*O*te)}const X=new Ki;X.setAttribute("position",new Yr(Q,k)),X.setAttribute("uv",new Yr(G,L)),X.setAttribute("faceIndex",new Yr(Z,U)),e.push(X),a>Sd&&a--}return{lodPlanes:e,sizeLods:r,sigmas:s}}function FE(p,e,r){const s=new Xc(p,e,r);return s.texture.mapping=Ce,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function eg(p,e,r,s,a){p.viewport.set(e,r,s,a),p.scissor.set(e,r,s,a)}function D4(p,e,r){const s=new Float32Array(Yc),a=new ut(0,1,0);return new Qo({name:"SphericalGaussianBlur",defines:{n:Yc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${p}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:YA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ne,depthTest:!1,depthWrite:!1})}function VE(){return new Qo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:YA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ne,depthTest:!1,depthWrite:!1})}function GE(){return new Qo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:YA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ne,depthTest:!1,depthWrite:!1})}function YA(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function k4(p){let e=new WeakMap,r=null;function s(m){if(m&&m.isTexture){const _=m.mapping,A=_===tn||_===Fn,w=_===pt||_===St;if(A||w)if(m.isRenderTargetTexture&&m.needsPMREMUpdate===!0){m.needsPMREMUpdate=!1;let S=e.get(m);return r===null&&(r=new Zm(p)),S=A?r.fromEquirectangular(m,S):r.fromCubemap(m,S),e.set(m,S),S.texture}else{if(e.has(m))return e.get(m).texture;{const S=m.image;if(A&&S&&S.height>0||w&&S&&a(S)){r===null&&(r=new Zm(p));const x=A?r.fromEquirectangular(m):r.fromCubemap(m);return e.set(m,x),m.addEventListener("dispose",u),x.texture}else return null}}}return m}function a(m){let _=0;const A=6;for(let w=0;w<A;w++)m[w]!==void 0&&_++;return _===A}function u(m){const _=m.target;_.removeEventListener("dispose",u);const A=e.get(_);A!==void 0&&(e.delete(_),A.dispose())}function f(){e=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:s,dispose:f}}function L4(p){const e={};function r(s){if(e[s]!==void 0)return e[s];let a;switch(s){case"WEBGL_depth_texture":a=p.getExtension("WEBGL_depth_texture")||p.getExtension("MOZ_WEBGL_depth_texture")||p.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=p.getExtension("EXT_texture_filter_anisotropic")||p.getExtension("MOZ_EXT_texture_filter_anisotropic")||p.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=p.getExtension("WEBGL_compressed_texture_s3tc")||p.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||p.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=p.getExtension("WEBGL_compressed_texture_pvrtc")||p.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=p.getExtension(s)}return e[s]=a,a}return{has:function(s){return r(s)!==null},init:function(s){s.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(s){const a=r(s);return a===null&&console.warn("THREE.WebGLRenderer: "+s+" extension not supported."),a}}}function O4(p,e,r,s){const a={},u=new WeakMap;function f(S){const x=S.target;x.index!==null&&e.remove(x.index);for(const O in x.attributes)e.remove(x.attributes[O]);x.removeEventListener("dispose",f),delete a[x.id];const P=u.get(x);P&&(e.remove(P),u.delete(x)),s.releaseStatesOfGeometry(x),x.isInstancedBufferGeometry===!0&&delete x._maxInstanceCount,r.memory.geometries--}function m(S,x){return a[x.id]===!0||(x.addEventListener("dispose",f),a[x.id]=!0,r.memory.geometries++),x}function _(S){const x=S.attributes;for(const O in x)e.update(x[O],34962);const P=S.morphAttributes;for(const O in P){const k=P[O];for(let L=0,U=k.length;L<U;L++)e.update(k[L],34962)}}function A(S){const x=[],P=S.index,O=S.attributes.position;let k=0;if(P!==null){const Q=P.array;k=P.version;for(let G=0,Z=Q.length;G<Z;G+=3){const X=Q[G+0],te=Q[G+1],ae=Q[G+2];x.push(X,te,te,ae,ae,X)}}else{const Q=O.array;k=O.version;for(let G=0,Z=Q.length/3-1;G<Z;G+=3){const X=G+0,te=G+1,ae=G+2;x.push(X,te,te,ae,ae,X)}}const L=new(mE(x)?ME:xE)(x,1);L.version=k;const U=u.get(S);U&&e.remove(U),u.set(S,L)}function w(S){const x=u.get(S);if(x){const P=S.index;P!==null&&x.version<P.version&&A(S)}else A(S);return u.get(S)}return{get:m,update:_,getWireframeAttribute:w}}function F4(p,e,r,s){const a=s.isWebGL2;let u;function f(x){u=x}let m,_;function A(x){m=x.type,_=x.bytesPerElement}function w(x,P){p.drawElements(u,P,m,x*_),r.update(P,u,1)}function S(x,P,O){if(O===0)return;let k,L;if(a)k=p,L="drawElementsInstanced";else if(k=e.get("ANGLE_instanced_arrays"),L="drawElementsInstancedANGLE",k===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}k[L](u,P,m,x*_,O),r.update(P,u,O)}this.setMode=f,this.setIndex=A,this.render=w,this.renderInstances=S}function V4(p){const e={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function s(u,f,m){switch(r.calls++,f){case 4:r.triangles+=m*(u/3);break;case 1:r.lines+=m*(u/2);break;case 3:r.lines+=m*(u-1);break;case 2:r.lines+=m*u;break;case 0:r.points+=m*u;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",f);break}}function a(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:e,render:r,programs:null,autoReset:!0,reset:a,update:s}}function G4(p,e){return p[0]-e[0]}function U4(p,e){return Math.abs(e[1])-Math.abs(p[1])}function z4(p,e,r){const s={},a=new Float32Array(8),u=new WeakMap,f=new oi,m=[];for(let A=0;A<8;A++)m[A]=[A,0];function _(A,w,S,x){const P=A.morphTargetInfluences;if(e.isWebGL2===!0){const k=w.morphAttributes.position||w.morphAttributes.normal||w.morphAttributes.color,L=k!==void 0?k.length:0;let U=u.get(w);if(U===void 0||U.count!==L){let it=function(){Te.dispose(),u.delete(w),w.removeEventListener("dispose",it)};var O=it;U!==void 0&&U.texture.dispose();const Z=w.morphAttributes.position!==void 0,X=w.morphAttributes.normal!==void 0,te=w.morphAttributes.color!==void 0,ae=w.morphAttributes.position||[],j=w.morphAttributes.normal||[],ge=w.morphAttributes.color||[];let we=0;Z===!0&&(we=1),X===!0&&(we=2),te===!0&&(we=3);let Le=w.attributes.position.count*we,je=1;Le>e.maxTextureSize&&(je=Math.ceil(Le/e.maxTextureSize),Le=e.maxTextureSize);const be=new Float32Array(Le*je*4*L),Te=new km(be,Le,je,L);Te.type=Ei,Te.needsUpdate=!0;const Je=we*4;for(let tt=0;tt<L;tt++){const Me=ae[tt],lt=j[tt],mt=ge[tt],ft=Le*je*4*tt;for(let gt=0;gt<Me.count;gt++){const Qt=gt*Je;Z===!0&&(f.fromBufferAttribute(Me,gt),be[ft+Qt+0]=f.x,be[ft+Qt+1]=f.y,be[ft+Qt+2]=f.z,be[ft+Qt+3]=0),X===!0&&(f.fromBufferAttribute(lt,gt),be[ft+Qt+4]=f.x,be[ft+Qt+5]=f.y,be[ft+Qt+6]=f.z,be[ft+Qt+7]=0),te===!0&&(f.fromBufferAttribute(mt,gt),be[ft+Qt+8]=f.x,be[ft+Qt+9]=f.y,be[ft+Qt+10]=f.z,be[ft+Qt+11]=mt.itemSize===4?f.w:1)}}U={count:L,texture:Te,size:new Gn(Le,je)},u.set(w,U),w.addEventListener("dispose",it)}let Q=0;for(let Z=0;Z<P.length;Z++)Q+=P[Z];const G=w.morphTargetsRelative?1:1-Q;x.getUniforms().setValue(p,"morphTargetBaseInfluence",G),x.getUniforms().setValue(p,"morphTargetInfluences",P),x.getUniforms().setValue(p,"morphTargetsTexture",U.texture,r),x.getUniforms().setValue(p,"morphTargetsTextureSize",U.size)}else{const k=P===void 0?0:P.length;let L=s[w.id];if(L===void 0||L.length!==k){L=[];for(let X=0;X<k;X++)L[X]=[X,0];s[w.id]=L}for(let X=0;X<k;X++){const te=L[X];te[0]=X,te[1]=P[X]}L.sort(U4);for(let X=0;X<8;X++)X<k&&L[X][1]?(m[X][0]=L[X][0],m[X][1]=L[X][1]):(m[X][0]=Number.MAX_SAFE_INTEGER,m[X][1]=0);m.sort(G4);const U=w.morphAttributes.position,Q=w.morphAttributes.normal;let G=0;for(let X=0;X<8;X++){const te=m[X],ae=te[0],j=te[1];ae!==Number.MAX_SAFE_INTEGER&&j?(U&&w.getAttribute("morphTarget"+X)!==U[ae]&&w.setAttribute("morphTarget"+X,U[ae]),Q&&w.getAttribute("morphNormal"+X)!==Q[ae]&&w.setAttribute("morphNormal"+X,Q[ae]),a[X]=j,G+=j):(U&&w.hasAttribute("morphTarget"+X)===!0&&w.deleteAttribute("morphTarget"+X),Q&&w.hasAttribute("morphNormal"+X)===!0&&w.deleteAttribute("morphNormal"+X),a[X]=0)}const Z=w.morphTargetsRelative?1:1-G;x.getUniforms().setValue(p,"morphTargetBaseInfluence",Z),x.getUniforms().setValue(p,"morphTargetInfluences",a)}}return{update:_}}function H4(p,e,r,s){let a=new WeakMap;function u(_){const A=s.render.frame,w=_.geometry,S=e.get(_,w);return a.get(S)!==A&&(e.update(S),a.set(S,A)),_.isInstancedMesh&&(_.hasEventListener("dispose",m)===!1&&_.addEventListener("dispose",m),r.update(_.instanceMatrix,34962),_.instanceColor!==null&&r.update(_.instanceColor,34962)),S}function f(){a=new WeakMap}function m(_){const A=_.target;A.removeEventListener("dispose",m),r.remove(A.instanceMatrix),A.instanceColor!==null&&r.remove(A.instanceColor)}return{update:u,dispose:f}}const UE=new Oi,zE=new km,HE=new TA,QE=new BE,XE=[],$E=[],WE=new Float32Array(16),KE=new Float32Array(9),jE=new Float32Array(4);function Ed(p,e,r){const s=p[0];if(s<=0||s>0)return p;const a=e*r;let u=XE[a];if(u===void 0&&(u=new Float32Array(a),XE[a]=u),e!==0){s.toArray(u,0);for(let f=1,m=0;f!==e;++f)m+=r,p[f].toArray(u,m)}return u}function Vi(p,e){if(p.length!==e.length)return!1;for(let r=0,s=p.length;r<s;r++)if(p[r]!==e[r])return!1;return!0}function Gi(p,e){for(let r=0,s=e.length;r<s;r++)p[r]=e[r]}function tg(p,e){let r=$E[e];r===void 0&&(r=new Int32Array(e),$E[e]=r);for(let s=0;s!==e;++s)r[s]=p.allocateTextureUnit();return r}function Q4(p,e){const r=this.cache;r[0]!==e&&(p.uniform1f(this.addr,e),r[0]=e)}function X4(p,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(p.uniform2f(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Vi(r,e))return;p.uniform2fv(this.addr,e),Gi(r,e)}}function $4(p,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(p.uniform3f(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else if(e.r!==void 0)(r[0]!==e.r||r[1]!==e.g||r[2]!==e.b)&&(p.uniform3f(this.addr,e.r,e.g,e.b),r[0]=e.r,r[1]=e.g,r[2]=e.b);else{if(Vi(r,e))return;p.uniform3fv(this.addr,e),Gi(r,e)}}function W4(p,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(p.uniform4f(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Vi(r,e))return;p.uniform4fv(this.addr,e),Gi(r,e)}}function K4(p,e){const r=this.cache,s=e.elements;if(s===void 0){if(Vi(r,e))return;p.uniformMatrix2fv(this.addr,!1,e),Gi(r,e)}else{if(Vi(r,s))return;jE.set(s),p.uniformMatrix2fv(this.addr,!1,jE),Gi(r,s)}}function j4(p,e){const r=this.cache,s=e.elements;if(s===void 0){if(Vi(r,e))return;p.uniformMatrix3fv(this.addr,!1,e),Gi(r,e)}else{if(Vi(r,s))return;KE.set(s),p.uniformMatrix3fv(this.addr,!1,KE),Gi(r,s)}}function q4(p,e){const r=this.cache,s=e.elements;if(s===void 0){if(Vi(r,e))return;p.uniformMatrix4fv(this.addr,!1,e),Gi(r,e)}else{if(Vi(r,s))return;WE.set(s),p.uniformMatrix4fv(this.addr,!1,WE),Gi(r,s)}}function Y4(p,e){const r=this.cache;r[0]!==e&&(p.uniform1i(this.addr,e),r[0]=e)}function J4(p,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(p.uniform2i(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Vi(r,e))return;p.uniform2iv(this.addr,e),Gi(r,e)}}function Z4(p,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(p.uniform3i(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(Vi(r,e))return;p.uniform3iv(this.addr,e),Gi(r,e)}}function eL(p,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(p.uniform4i(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Vi(r,e))return;p.uniform4iv(this.addr,e),Gi(r,e)}}function tL(p,e){const r=this.cache;r[0]!==e&&(p.uniform1ui(this.addr,e),r[0]=e)}function nL(p,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(p.uniform2ui(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Vi(r,e))return;p.uniform2uiv(this.addr,e),Gi(r,e)}}function rL(p,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(p.uniform3ui(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(Vi(r,e))return;p.uniform3uiv(this.addr,e),Gi(r,e)}}function iL(p,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(p.uniform4ui(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Vi(r,e))return;p.uniform4uiv(this.addr,e),Gi(r,e)}}function sL(p,e,r){const s=this.cache,a=r.allocateTextureUnit();s[0]!==a&&(p.uniform1i(this.addr,a),s[0]=a),r.setTexture2D(e||UE,a)}function oL(p,e,r){const s=this.cache,a=r.allocateTextureUnit();s[0]!==a&&(p.uniform1i(this.addr,a),s[0]=a),r.setTexture3D(e||HE,a)}function aL(p,e,r){const s=this.cache,a=r.allocateTextureUnit();s[0]!==a&&(p.uniform1i(this.addr,a),s[0]=a),r.setTextureCube(e||QE,a)}function lL(p,e,r){const s=this.cache,a=r.allocateTextureUnit();s[0]!==a&&(p.uniform1i(this.addr,a),s[0]=a),r.setTexture2DArray(e||zE,a)}function cL(p){switch(p){case 5126:return Q4;case 35664:return X4;case 35665:return $4;case 35666:return W4;case 35674:return K4;case 35675:return j4;case 35676:return q4;case 5124:case 35670:return Y4;case 35667:case 35671:return J4;case 35668:case 35672:return Z4;case 35669:case 35673:return eL;case 5125:return tL;case 36294:return nL;case 36295:return rL;case 36296:return iL;case 35678:case 36198:case 36298:case 36306:case 35682:return sL;case 35679:case 36299:case 36307:return oL;case 35680:case 36300:case 36308:case 36293:return aL;case 36289:case 36303:case 36311:case 36292:return lL}}function uL(p,e){p.uniform1fv(this.addr,e)}function dL(p,e){const r=Ed(e,this.size,2);p.uniform2fv(this.addr,r)}function fL(p,e){const r=Ed(e,this.size,3);p.uniform3fv(this.addr,r)}function hL(p,e){const r=Ed(e,this.size,4);p.uniform4fv(this.addr,r)}function pL(p,e){const r=Ed(e,this.size,4);p.uniformMatrix2fv(this.addr,!1,r)}function mL(p,e){const r=Ed(e,this.size,9);p.uniformMatrix3fv(this.addr,!1,r)}function gL(p,e){const r=Ed(e,this.size,16);p.uniformMatrix4fv(this.addr,!1,r)}function vL(p,e){p.uniform1iv(this.addr,e)}function _L(p,e){p.uniform2iv(this.addr,e)}function AL(p,e){p.uniform3iv(this.addr,e)}function yL(p,e){p.uniform4iv(this.addr,e)}function bL(p,e){p.uniform1uiv(this.addr,e)}function SL(p,e){p.uniform2uiv(this.addr,e)}function wL(p,e){p.uniform3uiv(this.addr,e)}function EL(p,e){p.uniform4uiv(this.addr,e)}function CL(p,e,r){const s=this.cache,a=e.length,u=tg(r,a);Vi(s,u)||(p.uniform1iv(this.addr,u),Gi(s,u));for(let f=0;f!==a;++f)r.setTexture2D(e[f]||UE,u[f])}function IL(p,e,r){const s=this.cache,a=e.length,u=tg(r,a);Vi(s,u)||(p.uniform1iv(this.addr,u),Gi(s,u));for(let f=0;f!==a;++f)r.setTexture3D(e[f]||HE,u[f])}function xL(p,e,r){const s=this.cache,a=e.length,u=tg(r,a);Vi(s,u)||(p.uniform1iv(this.addr,u),Gi(s,u));for(let f=0;f!==a;++f)r.setTextureCube(e[f]||QE,u[f])}function ML(p,e,r){const s=this.cache,a=e.length,u=tg(r,a);Vi(s,u)||(p.uniform1iv(this.addr,u),Gi(s,u));for(let f=0;f!==a;++f)r.setTexture2DArray(e[f]||zE,u[f])}function RL(p){switch(p){case 5126:return uL;case 35664:return dL;case 35665:return fL;case 35666:return hL;case 35674:return pL;case 35675:return mL;case 35676:return gL;case 5124:case 35670:return vL;case 35667:case 35671:return _L;case 35668:case 35672:return AL;case 35669:case 35673:return yL;case 5125:return bL;case 36294:return SL;case 36295:return wL;case 36296:return EL;case 35678:case 36198:case 36298:case 36306:case 35682:return CL;case 35679:case 36299:case 36307:return IL;case 35680:case 36300:case 36308:case 36293:return xL;case 36289:case 36303:case 36311:case 36292:return ML}}class TL{constructor(e,r,s){this.id=e,this.addr=s,this.cache=[],this.setValue=cL(r.type)}}class PL{constructor(e,r,s){this.id=e,this.addr=s,this.cache=[],this.size=r.size,this.setValue=RL(r.type)}}class NL{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,r,s){const a=this.seq;for(let u=0,f=a.length;u!==f;++u){const m=a[u];m.setValue(e,r[m.id],s)}}}const JA=/(\w+)(\])?(\[|\.)?/g;function qE(p,e){p.seq.push(e),p.map[e.id]=e}function BL(p,e,r){const s=p.name,a=s.length;for(JA.lastIndex=0;;){const u=JA.exec(s),f=JA.lastIndex;let m=u[1];const _=u[2]==="]",A=u[3];if(_&&(m=m|0),A===void 0||A==="["&&f+2===a){qE(r,A===void 0?new TL(m,p,e):new PL(m,p,e));break}else{let S=r.map[m];S===void 0&&(S=new NL(m),qE(r,S)),r=S}}}class ng{constructor(e,r){this.seq=[],this.map={};const s=e.getProgramParameter(r,35718);for(let a=0;a<s;++a){const u=e.getActiveUniform(r,a),f=e.getUniformLocation(r,u.name);BL(u,f,this)}}setValue(e,r,s,a){const u=this.map[r];u!==void 0&&u.setValue(e,s,a)}setOptional(e,r,s){const a=r[s];a!==void 0&&this.setValue(e,s,a)}static upload(e,r,s,a){for(let u=0,f=r.length;u!==f;++u){const m=r[u],_=s[m.id];_.needsUpdate!==!1&&m.setValue(e,_.value,a)}}static seqWithValue(e,r){const s=[];for(let a=0,u=e.length;a!==u;++a){const f=e[a];f.id in r&&s.push(f)}return s}}function YE(p,e,r){const s=p.createShader(e);return p.shaderSource(s,r),p.compileShader(s),s}let DL=0;function kL(p,e){const r=p.split(`
`),s=[],a=Math.max(e-6,0),u=Math.min(e+6,r.length);for(let f=a;f<u;f++){const m=f+1;s.push(`${m===e?">":" "} ${m}: ${r[f]}`)}return s.join(`
`)}function LL(p){switch(p){case Vo:return["Linear","( value )"];case Lr:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",p),["Linear","( value )"]}}function JE(p,e,r){const s=p.getShaderParameter(e,35713),a=p.getShaderInfoLog(e).trim();if(s&&a==="")return"";const u=/ERROR: 0:(\d+)/.exec(a);if(u){const f=parseInt(u[1]);return r.toUpperCase()+`

`+a+`

`+kL(p.getShaderSource(e),f)}else return a}function OL(p,e){const r=LL(e);return"vec4 "+p+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function FL(p,e){let r;switch(e){case Lt:r="Linear";break;case Wt:r="Reinhard";break;case en:r="OptimizedCineon";break;case vn:r="ACESFilmic";break;case xn:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),r="Linear"}return"vec3 "+p+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function VL(p){return[p.extensionDerivatives||!!p.envMapCubeUVHeight||p.bumpMap||p.tangentSpaceNormalMap||p.clearcoatNormalMap||p.flatShading||p.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(p.extensionFragDepth||p.logarithmicDepthBuffer)&&p.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",p.extensionDrawBuffers&&p.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(p.extensionShaderTextureLOD||p.envMap||p.transmission)&&p.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(uh).join(`
`)}function GL(p){const e=[];for(const r in p){const s=p[r];s!==!1&&e.push("#define "+r+" "+s)}return e.join(`
`)}function UL(p,e){const r={},s=p.getProgramParameter(e,35721);for(let a=0;a<s;a++){const u=p.getActiveAttrib(e,a),f=u.name;let m=1;u.type===35674&&(m=2),u.type===35675&&(m=3),u.type===35676&&(m=4),r[f]={type:u.type,location:p.getAttribLocation(e,f),locationSize:m}}return r}function uh(p){return p!==""}function ZE(p,e){const r=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return p.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function eC(p,e){return p.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const zL=/^[ \t]*#include +<([\w\d./]+)>/gm;function ZA(p){return p.replace(zL,HL)}function HL(p,e){const r=Tr[e];if(r===void 0)throw new Error("Can not resolve #include <"+e+">");return ZA(r)}const QL=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function tC(p){return p.replace(QL,XL)}function XL(p,e,r,s){let a="";for(let u=parseInt(e);u<parseInt(r);u++)a+=s.replace(/\[\s*i\s*\]/g,"[ "+u+" ]").replace(/UNROLLED_LOOP_INDEX/g,u);return a}function nC(p){let e="precision "+p.precision+` float;
precision `+p.precision+" int;";return p.precision==="highp"?e+=`
#define HIGH_PRECISION`:p.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:p.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function $L(p){let e="SHADOWMAP_TYPE_BASIC";return p.shadowMapType===D?e="SHADOWMAP_TYPE_PCF":p.shadowMapType===V?e="SHADOWMAP_TYPE_PCF_SOFT":p.shadowMapType===B&&(e="SHADOWMAP_TYPE_VSM"),e}function WL(p){let e="ENVMAP_TYPE_CUBE";if(p.envMap)switch(p.envMapMode){case pt:case St:e="ENVMAP_TYPE_CUBE";break;case Ce:e="ENVMAP_TYPE_CUBE_UV";break}return e}function KL(p){let e="ENVMAP_MODE_REFLECTION";if(p.envMap)switch(p.envMapMode){case St:e="ENVMAP_MODE_REFRACTION";break}return e}function jL(p){let e="ENVMAP_BLENDING_NONE";if(p.envMap)switch(p.combine){case Ft:e="ENVMAP_BLENDING_MULTIPLY";break;case At:e="ENVMAP_BLENDING_MIX";break;case Ne:e="ENVMAP_BLENDING_ADD";break}return e}function qL(p){const e=p.envMapCubeUVHeight;if(e===null)return null;const r=Math.log2(e)-2,s=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,r),7*16)),texelHeight:s,maxMip:r}}function YL(p,e,r,s){const a=p.getContext(),u=r.defines;let f=r.vertexShader,m=r.fragmentShader;const _=$L(r),A=WL(r),w=KL(r),S=jL(r),x=qL(r),P=r.isWebGL2?"":VL(r),O=GL(u),k=a.createProgram();let L,U,Q=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(L=[O].filter(uh).join(`
`),L.length>0&&(L+=`
`),U=[P,O].filter(uh).join(`
`),U.length>0&&(U+=`
`)):(L=[nC(r),"#define SHADER_NAME "+r.shaderName,O,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+w:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+_:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(uh).join(`
`),U=[P,nC(r),"#define SHADER_NAME "+r.shaderName,O,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+A:"",r.envMap?"#define "+w:"",r.envMap?"#define "+S:"",x?"#define CUBEUV_TEXEL_WIDTH "+x.texelWidth:"",x?"#define CUBEUV_TEXEL_HEIGHT "+x.texelHeight:"",x?"#define CUBEUV_MAX_MIP "+x.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+_:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==Ke?"#define TONE_MAPPING":"",r.toneMapping!==Ke?Tr.tonemapping_pars_fragment:"",r.toneMapping!==Ke?FL("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",Tr.encodings_pars_fragment,OL("linearToOutputTexel",r.outputEncoding),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(uh).join(`
`)),f=ZA(f),f=ZE(f,r),f=eC(f,r),m=ZA(m),m=ZE(m,r),m=eC(m,r),f=tC(f),m=tC(m),r.isWebGL2&&r.isRawShaderMaterial!==!0&&(Q=`#version 300 es
`,L=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+L,U=["#define varying in",r.glslVersion===Rm?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===Rm?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+U);const G=Q+L+f,Z=Q+U+m,X=YE(a,35633,G),te=YE(a,35632,Z);if(a.attachShader(k,X),a.attachShader(k,te),r.index0AttributeName!==void 0?a.bindAttribLocation(k,0,r.index0AttributeName):r.morphTargets===!0&&a.bindAttribLocation(k,0,"position"),a.linkProgram(k),p.debug.checkShaderErrors){const ge=a.getProgramInfoLog(k).trim(),we=a.getShaderInfoLog(X).trim(),Le=a.getShaderInfoLog(te).trim();let je=!0,be=!0;if(a.getProgramParameter(k,35714)===!1){je=!1;const Te=JE(a,X,"vertex"),Je=JE(a,te,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(k,35715)+`

Program Info Log: `+ge+`
`+Te+`
`+Je)}else ge!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ge):(we===""||Le==="")&&(be=!1);be&&(this.diagnostics={runnable:je,programLog:ge,vertexShader:{log:we,prefix:L},fragmentShader:{log:Le,prefix:U}})}a.deleteShader(X),a.deleteShader(te);let ae;this.getUniforms=function(){return ae===void 0&&(ae=new ng(a,k)),ae};let j;return this.getAttributes=function(){return j===void 0&&(j=UL(a,k)),j},this.destroy=function(){s.releaseStatesOfProgram(this),a.deleteProgram(k),this.program=void 0},this.name=r.shaderName,this.id=DL++,this.cacheKey=e,this.usedTimes=1,this.program=k,this.vertexShader=X,this.fragmentShader=te,this}let JL=0;class ZL{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.vertexShader,s=e.fragmentShader,a=this._getShaderStage(r),u=this._getShaderStage(s),f=this._getShaderCacheForMaterial(e);return f.has(a)===!1&&(f.add(a),a.usedTimes++),f.has(u)===!1&&(f.add(u),u.usedTimes++),this}remove(e){const r=this.materialCache.get(e);for(const s of r)s.usedTimes--,s.usedTimes===0&&this.shaderCache.delete(s.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const r=this.materialCache;let s=r.get(e);return s===void 0&&(s=new Set,r.set(e,s)),s}_getShaderStage(e){const r=this.shaderCache;let s=r.get(e);return s===void 0&&(s=new eO(e),r.set(e,s)),s}}class eO{constructor(e){this.id=JL++,this.code=e,this.usedTimes=0}}function tO(p,e,r,s,a,u,f){const m=new FA,_=new ZL,A=[],w=a.isWebGL2,S=a.logarithmicDepthBuffer,x=a.vertexTextures;let P=a.precision;const O={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function k(j,ge,we,Le,je){const be=Le.fog,Te=je.geometry,Je=j.isMeshStandardMaterial?Le.environment:null,it=(j.isMeshStandardMaterial?r:e).get(j.envMap||Je),tt=!!it&&it.mapping===Ce?it.image.height:null,Me=O[j.type];j.precision!==null&&(P=a.getMaxPrecision(j.precision),P!==j.precision&&console.warn("THREE.WebGLProgram.getParameters:",j.precision,"not supported, using",P,"instead."));const lt=Te.morphAttributes.position||Te.morphAttributes.normal||Te.morphAttributes.color,mt=lt!==void 0?lt.length:0;let ft=0;Te.morphAttributes.position!==void 0&&(ft=1),Te.morphAttributes.normal!==void 0&&(ft=2),Te.morphAttributes.color!==void 0&&(ft=3);let gt,Qt,c,pn;if(Me){const wn=Ma[Me];gt=wn.vertexShader,Qt=wn.fragmentShader}else gt=j.vertexShader,Qt=j.fragmentShader,_.update(j),c=_.getVertexShaderID(j),pn=_.getFragmentShaderID(j);const at=p.getRenderTarget(),$e=j.alphaTest>0,Mt=j.clearcoat>0,jt=j.iridescence>0;return{isWebGL2:w,shaderID:Me,shaderName:j.type,vertexShader:gt,fragmentShader:Qt,defines:j.defines,customVertexShaderID:c,customFragmentShaderID:pn,isRawShaderMaterial:j.isRawShaderMaterial===!0,glslVersion:j.glslVersion,precision:P,instancing:je.isInstancedMesh===!0,instancingColor:je.isInstancedMesh===!0&&je.instanceColor!==null,supportsVertexTextures:x,outputEncoding:at===null?p.outputEncoding:at.isXRRenderTarget===!0?at.texture.encoding:Vo,map:!!j.map,matcap:!!j.matcap,envMap:!!it,envMapMode:it&&it.mapping,envMapCubeUVHeight:tt,lightMap:!!j.lightMap,aoMap:!!j.aoMap,emissiveMap:!!j.emissiveMap,bumpMap:!!j.bumpMap,normalMap:!!j.normalMap,objectSpaceNormalMap:j.normalMapType===jD,tangentSpaceNormalMap:j.normalMapType===AA,decodeVideoTexture:!!j.map&&j.map.isVideoTexture===!0&&j.map.encoding===Lr,clearcoat:Mt,clearcoatMap:Mt&&!!j.clearcoatMap,clearcoatRoughnessMap:Mt&&!!j.clearcoatRoughnessMap,clearcoatNormalMap:Mt&&!!j.clearcoatNormalMap,iridescence:jt,iridescenceMap:jt&&!!j.iridescenceMap,iridescenceThicknessMap:jt&&!!j.iridescenceThicknessMap,displacementMap:!!j.displacementMap,roughnessMap:!!j.roughnessMap,metalnessMap:!!j.metalnessMap,specularMap:!!j.specularMap,specularIntensityMap:!!j.specularIntensityMap,specularColorMap:!!j.specularColorMap,opaque:j.transparent===!1&&j.blending===se,alphaMap:!!j.alphaMap,alphaTest:$e,gradientMap:!!j.gradientMap,sheen:j.sheen>0,sheenColorMap:!!j.sheenColorMap,sheenRoughnessMap:!!j.sheenRoughnessMap,transmission:j.transmission>0,transmissionMap:!!j.transmissionMap,thicknessMap:!!j.thicknessMap,combine:j.combine,vertexTangents:!!j.normalMap&&!!Te.attributes.tangent,vertexColors:j.vertexColors,vertexAlphas:j.vertexColors===!0&&!!Te.attributes.color&&Te.attributes.color.itemSize===4,vertexUvs:!!j.map||!!j.bumpMap||!!j.normalMap||!!j.specularMap||!!j.alphaMap||!!j.emissiveMap||!!j.roughnessMap||!!j.metalnessMap||!!j.clearcoatMap||!!j.clearcoatRoughnessMap||!!j.clearcoatNormalMap||!!j.iridescenceMap||!!j.iridescenceThicknessMap||!!j.displacementMap||!!j.transmissionMap||!!j.thicknessMap||!!j.specularIntensityMap||!!j.specularColorMap||!!j.sheenColorMap||!!j.sheenRoughnessMap,uvsVertexOnly:!(!!j.map||!!j.bumpMap||!!j.normalMap||!!j.specularMap||!!j.alphaMap||!!j.emissiveMap||!!j.roughnessMap||!!j.metalnessMap||!!j.clearcoatNormalMap||!!j.iridescenceMap||!!j.iridescenceThicknessMap||j.transmission>0||!!j.transmissionMap||!!j.thicknessMap||!!j.specularIntensityMap||!!j.specularColorMap||j.sheen>0||!!j.sheenColorMap||!!j.sheenRoughnessMap)&&!!j.displacementMap,fog:!!be,useFog:j.fog===!0,fogExp2:be&&be.isFogExp2,flatShading:!!j.flatShading,sizeAttenuation:j.sizeAttenuation,logarithmicDepthBuffer:S,skinning:je.isSkinnedMesh===!0,morphTargets:Te.morphAttributes.position!==void 0,morphNormals:Te.morphAttributes.normal!==void 0,morphColors:Te.morphAttributes.color!==void 0,morphTargetsCount:mt,morphTextureStride:ft,numDirLights:ge.directional.length,numPointLights:ge.point.length,numSpotLights:ge.spot.length,numSpotLightMaps:ge.spotLightMap.length,numRectAreaLights:ge.rectArea.length,numHemiLights:ge.hemi.length,numDirLightShadows:ge.directionalShadowMap.length,numPointLightShadows:ge.pointShadowMap.length,numSpotLightShadows:ge.spotShadowMap.length,numSpotLightShadowsWithMaps:ge.numSpotLightShadowsWithMaps,numClippingPlanes:f.numPlanes,numClipIntersection:f.numIntersection,dithering:j.dithering,shadowMapEnabled:p.shadowMap.enabled&&we.length>0,shadowMapType:p.shadowMap.type,toneMapping:j.toneMapped?p.toneMapping:Ke,physicallyCorrectLights:p.physicallyCorrectLights,premultipliedAlpha:j.premultipliedAlpha,doubleSided:j.side===q,flipSided:j.side===H,useDepthPacking:!!j.depthPacking,depthPacking:j.depthPacking||0,index0AttributeName:j.index0AttributeName,extensionDerivatives:j.extensions&&j.extensions.derivatives,extensionFragDepth:j.extensions&&j.extensions.fragDepth,extensionDrawBuffers:j.extensions&&j.extensions.drawBuffers,extensionShaderTextureLOD:j.extensions&&j.extensions.shaderTextureLOD,rendererExtensionFragDepth:w||s.has("EXT_frag_depth"),rendererExtensionDrawBuffers:w||s.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:w||s.has("EXT_shader_texture_lod"),customProgramCacheKey:j.customProgramCacheKey()}}function L(j){const ge=[];if(j.shaderID?ge.push(j.shaderID):(ge.push(j.customVertexShaderID),ge.push(j.customFragmentShaderID)),j.defines!==void 0)for(const we in j.defines)ge.push(we),ge.push(j.defines[we]);return j.isRawShaderMaterial===!1&&(U(ge,j),Q(ge,j),ge.push(p.outputEncoding)),ge.push(j.customProgramCacheKey),ge.join()}function U(j,ge){j.push(ge.precision),j.push(ge.outputEncoding),j.push(ge.envMapMode),j.push(ge.envMapCubeUVHeight),j.push(ge.combine),j.push(ge.vertexUvs),j.push(ge.fogExp2),j.push(ge.sizeAttenuation),j.push(ge.morphTargetsCount),j.push(ge.morphAttributeCount),j.push(ge.numDirLights),j.push(ge.numPointLights),j.push(ge.numSpotLights),j.push(ge.numSpotLightMaps),j.push(ge.numHemiLights),j.push(ge.numRectAreaLights),j.push(ge.numDirLightShadows),j.push(ge.numPointLightShadows),j.push(ge.numSpotLightShadows),j.push(ge.numSpotLightShadowsWithMaps),j.push(ge.shadowMapType),j.push(ge.toneMapping),j.push(ge.numClippingPlanes),j.push(ge.numClipIntersection),j.push(ge.depthPacking)}function Q(j,ge){m.disableAll(),ge.isWebGL2&&m.enable(0),ge.supportsVertexTextures&&m.enable(1),ge.instancing&&m.enable(2),ge.instancingColor&&m.enable(3),ge.map&&m.enable(4),ge.matcap&&m.enable(5),ge.envMap&&m.enable(6),ge.lightMap&&m.enable(7),ge.aoMap&&m.enable(8),ge.emissiveMap&&m.enable(9),ge.bumpMap&&m.enable(10),ge.normalMap&&m.enable(11),ge.objectSpaceNormalMap&&m.enable(12),ge.tangentSpaceNormalMap&&m.enable(13),ge.clearcoat&&m.enable(14),ge.clearcoatMap&&m.enable(15),ge.clearcoatRoughnessMap&&m.enable(16),ge.clearcoatNormalMap&&m.enable(17),ge.iridescence&&m.enable(18),ge.iridescenceMap&&m.enable(19),ge.iridescenceThicknessMap&&m.enable(20),ge.displacementMap&&m.enable(21),ge.specularMap&&m.enable(22),ge.roughnessMap&&m.enable(23),ge.metalnessMap&&m.enable(24),ge.gradientMap&&m.enable(25),ge.alphaMap&&m.enable(26),ge.alphaTest&&m.enable(27),ge.vertexColors&&m.enable(28),ge.vertexAlphas&&m.enable(29),ge.vertexUvs&&m.enable(30),ge.vertexTangents&&m.enable(31),ge.uvsVertexOnly&&m.enable(32),j.push(m.mask),m.disableAll(),ge.fog&&m.enable(0),ge.useFog&&m.enable(1),ge.flatShading&&m.enable(2),ge.logarithmicDepthBuffer&&m.enable(3),ge.skinning&&m.enable(4),ge.morphTargets&&m.enable(5),ge.morphNormals&&m.enable(6),ge.morphColors&&m.enable(7),ge.premultipliedAlpha&&m.enable(8),ge.shadowMapEnabled&&m.enable(9),ge.physicallyCorrectLights&&m.enable(10),ge.doubleSided&&m.enable(11),ge.flipSided&&m.enable(12),ge.useDepthPacking&&m.enable(13),ge.dithering&&m.enable(14),ge.specularIntensityMap&&m.enable(15),ge.specularColorMap&&m.enable(16),ge.transmission&&m.enable(17),ge.transmissionMap&&m.enable(18),ge.thicknessMap&&m.enable(19),ge.sheen&&m.enable(20),ge.sheenColorMap&&m.enable(21),ge.sheenRoughnessMap&&m.enable(22),ge.decodeVideoTexture&&m.enable(23),ge.opaque&&m.enable(24),j.push(m.mask)}function G(j){const ge=O[j.type];let we;if(ge){const Le=Ma[ge];we=PE.clone(Le.uniforms)}else we=j.uniforms;return we}function Z(j,ge){let we;for(let Le=0,je=A.length;Le<je;Le++){const be=A[Le];if(be.cacheKey===ge){we=be,++we.usedTimes;break}}return we===void 0&&(we=new YL(p,ge,j,u),A.push(we)),we}function X(j){if(--j.usedTimes===0){const ge=A.indexOf(j);A[ge]=A[A.length-1],A.pop(),j.destroy()}}function te(j){_.remove(j)}function ae(){_.dispose()}return{getParameters:k,getProgramCacheKey:L,getUniforms:G,acquireProgram:Z,releaseProgram:X,releaseShaderCache:te,programs:A,dispose:ae}}function nO(){let p=new WeakMap;function e(u){let f=p.get(u);return f===void 0&&(f={},p.set(u,f)),f}function r(u){p.delete(u)}function s(u,f,m){p.get(u)[f]=m}function a(){p=new WeakMap}return{get:e,remove:r,update:s,dispose:a}}function rO(p,e){return p.groupOrder!==e.groupOrder?p.groupOrder-e.groupOrder:p.renderOrder!==e.renderOrder?p.renderOrder-e.renderOrder:p.material.id!==e.material.id?p.material.id-e.material.id:p.z!==e.z?p.z-e.z:p.id-e.id}function rC(p,e){return p.groupOrder!==e.groupOrder?p.groupOrder-e.groupOrder:p.renderOrder!==e.renderOrder?p.renderOrder-e.renderOrder:p.z!==e.z?e.z-p.z:p.id-e.id}function iC(){const p=[];let e=0;const r=[],s=[],a=[];function u(){e=0,r.length=0,s.length=0,a.length=0}function f(S,x,P,O,k,L){let U=p[e];return U===void 0?(U={id:S.id,object:S,geometry:x,material:P,groupOrder:O,renderOrder:S.renderOrder,z:k,group:L},p[e]=U):(U.id=S.id,U.object=S,U.geometry=x,U.material=P,U.groupOrder=O,U.renderOrder=S.renderOrder,U.z=k,U.group=L),e++,U}function m(S,x,P,O,k,L){const U=f(S,x,P,O,k,L);P.transmission>0?s.push(U):P.transparent===!0?a.push(U):r.push(U)}function _(S,x,P,O,k,L){const U=f(S,x,P,O,k,L);P.transmission>0?s.unshift(U):P.transparent===!0?a.unshift(U):r.unshift(U)}function A(S,x){r.length>1&&r.sort(S||rO),s.length>1&&s.sort(x||rC),a.length>1&&a.sort(x||rC)}function w(){for(let S=e,x=p.length;S<x;S++){const P=p[S];if(P.id===null)break;P.id=null,P.object=null,P.geometry=null,P.material=null,P.group=null}}return{opaque:r,transmissive:s,transparent:a,init:u,push:m,unshift:_,finish:w,sort:A}}function iO(){let p=new WeakMap;function e(s,a){const u=p.get(s);let f;return u===void 0?(f=new iC,p.set(s,[f])):a>=u.length?(f=new iC,u.push(f)):f=u[a],f}function r(){p=new WeakMap}return{get:e,dispose:r}}function sO(){const p={};return{get:function(e){if(p[e.id]!==void 0)return p[e.id];let r;switch(e.type){case"DirectionalLight":r={direction:new ut,color:new dr};break;case"SpotLight":r={position:new ut,direction:new ut,color:new dr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new ut,color:new dr,distance:0,decay:0};break;case"HemisphereLight":r={direction:new ut,skyColor:new dr,groundColor:new dr};break;case"RectAreaLight":r={color:new dr,position:new ut,halfWidth:new ut,halfHeight:new ut};break}return p[e.id]=r,r}}}function oO(){const p={};return{get:function(e){if(p[e.id]!==void 0)return p[e.id];let r;switch(e.type){case"DirectionalLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Gn};break;case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Gn};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Gn,shadowCameraNear:1,shadowCameraFar:1e3};break}return p[e.id]=r,r}}}let aO=0;function lO(p,e){return(e.castShadow?2:0)-(p.castShadow?2:0)+(e.map?1:0)-(p.map?1:0)}function cO(p,e){const r=new sO,s=oO(),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let w=0;w<9;w++)a.probe.push(new ut);const u=new ut,f=new Rr,m=new Rr;function _(w,S){let x=0,P=0,O=0;for(let Le=0;Le<9;Le++)a.probe[Le].set(0,0,0);let k=0,L=0,U=0,Q=0,G=0,Z=0,X=0,te=0,ae=0,j=0;w.sort(lO);const ge=S!==!0?Math.PI:1;for(let Le=0,je=w.length;Le<je;Le++){const be=w[Le],Te=be.color,Je=be.intensity,it=be.distance,tt=be.shadow&&be.shadow.map?be.shadow.map.texture:null;if(be.isAmbientLight)x+=Te.r*Je*ge,P+=Te.g*Je*ge,O+=Te.b*Je*ge;else if(be.isLightProbe)for(let Me=0;Me<9;Me++)a.probe[Me].addScaledVector(be.sh.coefficients[Me],Je);else if(be.isDirectionalLight){const Me=r.get(be);if(Me.color.copy(be.color).multiplyScalar(be.intensity*ge),be.castShadow){const lt=be.shadow,mt=s.get(be);mt.shadowBias=lt.bias,mt.shadowNormalBias=lt.normalBias,mt.shadowRadius=lt.radius,mt.shadowMapSize=lt.mapSize,a.directionalShadow[k]=mt,a.directionalShadowMap[k]=tt,a.directionalShadowMatrix[k]=be.shadow.matrix,Z++}a.directional[k]=Me,k++}else if(be.isSpotLight){const Me=r.get(be);Me.position.setFromMatrixPosition(be.matrixWorld),Me.color.copy(Te).multiplyScalar(Je*ge),Me.distance=it,Me.coneCos=Math.cos(be.angle),Me.penumbraCos=Math.cos(be.angle*(1-be.penumbra)),Me.decay=be.decay,a.spot[U]=Me;const lt=be.shadow;if(be.map&&(a.spotLightMap[ae]=be.map,ae++,lt.updateMatrices(be),be.castShadow&&j++),a.spotLightMatrix[U]=lt.matrix,be.castShadow){const mt=s.get(be);mt.shadowBias=lt.bias,mt.shadowNormalBias=lt.normalBias,mt.shadowRadius=lt.radius,mt.shadowMapSize=lt.mapSize,a.spotShadow[U]=mt,a.spotShadowMap[U]=tt,te++}U++}else if(be.isRectAreaLight){const Me=r.get(be);Me.color.copy(Te).multiplyScalar(Je),Me.halfWidth.set(be.width*.5,0,0),Me.halfHeight.set(0,be.height*.5,0),a.rectArea[Q]=Me,Q++}else if(be.isPointLight){const Me=r.get(be);if(Me.color.copy(be.color).multiplyScalar(be.intensity*ge),Me.distance=be.distance,Me.decay=be.decay,be.castShadow){const lt=be.shadow,mt=s.get(be);mt.shadowBias=lt.bias,mt.shadowNormalBias=lt.normalBias,mt.shadowRadius=lt.radius,mt.shadowMapSize=lt.mapSize,mt.shadowCameraNear=lt.camera.near,mt.shadowCameraFar=lt.camera.far,a.pointShadow[L]=mt,a.pointShadowMap[L]=tt,a.pointShadowMatrix[L]=be.shadow.matrix,X++}a.point[L]=Me,L++}else if(be.isHemisphereLight){const Me=r.get(be);Me.skyColor.copy(be.color).multiplyScalar(Je*ge),Me.groundColor.copy(be.groundColor).multiplyScalar(Je*ge),a.hemi[G]=Me,G++}}Q>0&&(e.isWebGL2||p.has("OES_texture_float_linear")===!0?(a.rectAreaLTC1=Bn.LTC_FLOAT_1,a.rectAreaLTC2=Bn.LTC_FLOAT_2):p.has("OES_texture_half_float_linear")===!0?(a.rectAreaLTC1=Bn.LTC_HALF_1,a.rectAreaLTC2=Bn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=x,a.ambient[1]=P,a.ambient[2]=O;const we=a.hash;(we.directionalLength!==k||we.pointLength!==L||we.spotLength!==U||we.rectAreaLength!==Q||we.hemiLength!==G||we.numDirectionalShadows!==Z||we.numPointShadows!==X||we.numSpotShadows!==te||we.numSpotMaps!==ae)&&(a.directional.length=k,a.spot.length=U,a.rectArea.length=Q,a.point.length=L,a.hemi.length=G,a.directionalShadow.length=Z,a.directionalShadowMap.length=Z,a.pointShadow.length=X,a.pointShadowMap.length=X,a.spotShadow.length=te,a.spotShadowMap.length=te,a.directionalShadowMatrix.length=Z,a.pointShadowMatrix.length=X,a.spotLightMatrix.length=te+ae-j,a.spotLightMap.length=ae,a.numSpotLightShadowsWithMaps=j,we.directionalLength=k,we.pointLength=L,we.spotLength=U,we.rectAreaLength=Q,we.hemiLength=G,we.numDirectionalShadows=Z,we.numPointShadows=X,we.numSpotShadows=te,we.numSpotMaps=ae,a.version=aO++)}function A(w,S){let x=0,P=0,O=0,k=0,L=0;const U=S.matrixWorldInverse;for(let Q=0,G=w.length;Q<G;Q++){const Z=w[Q];if(Z.isDirectionalLight){const X=a.directional[x];X.direction.setFromMatrixPosition(Z.matrixWorld),u.setFromMatrixPosition(Z.target.matrixWorld),X.direction.sub(u),X.direction.transformDirection(U),x++}else if(Z.isSpotLight){const X=a.spot[O];X.position.setFromMatrixPosition(Z.matrixWorld),X.position.applyMatrix4(U),X.direction.setFromMatrixPosition(Z.matrixWorld),u.setFromMatrixPosition(Z.target.matrixWorld),X.direction.sub(u),X.direction.transformDirection(U),O++}else if(Z.isRectAreaLight){const X=a.rectArea[k];X.position.setFromMatrixPosition(Z.matrixWorld),X.position.applyMatrix4(U),m.identity(),f.copy(Z.matrixWorld),f.premultiply(U),m.extractRotation(f),X.halfWidth.set(Z.width*.5,0,0),X.halfHeight.set(0,Z.height*.5,0),X.halfWidth.applyMatrix4(m),X.halfHeight.applyMatrix4(m),k++}else if(Z.isPointLight){const X=a.point[P];X.position.setFromMatrixPosition(Z.matrixWorld),X.position.applyMatrix4(U),P++}else if(Z.isHemisphereLight){const X=a.hemi[L];X.direction.setFromMatrixPosition(Z.matrixWorld),X.direction.transformDirection(U),L++}}}return{setup:_,setupView:A,state:a}}function sC(p,e){const r=new cO(p,e),s=[],a=[];function u(){s.length=0,a.length=0}function f(S){s.push(S)}function m(S){a.push(S)}function _(S){r.setup(s,S)}function A(S){r.setupView(s,S)}return{init:u,state:{lightsArray:s,shadowsArray:a,lights:r},setupLights:_,setupLightsView:A,pushLight:f,pushShadow:m}}function uO(p,e){let r=new WeakMap;function s(u,f=0){const m=r.get(u);let _;return m===void 0?(_=new sC(p,e),r.set(u,[_])):f>=m.length?(_=new sC(p,e),m.push(_)):_=m[f],_}function a(){r=new WeakMap}return{get:s,dispose:a}}class dO extends _o{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=WD,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class fO extends _o{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new ut,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const hO=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,pO=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function mO(p,e,r){let s=new KA;const a=new Gn,u=new Gn,f=new oi,m=new dO({depthPacking:KD}),_=new fO,A={},w=r.maxTextureSize,S={0:H,1:z,2:q},x=new Qo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Gn},radius:{value:4}},vertexShader:hO,fragmentShader:pO}),P=x.clone();P.defines.HORIZONTAL_PASS=1;const O=new Ki;O.setAttribute("position",new Yr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const k=new Fi(O,x),L=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=D,this.render=function(Z,X,te){if(L.enabled===!1||L.autoUpdate===!1&&L.needsUpdate===!1||Z.length===0)return;const ae=p.getRenderTarget(),j=p.getActiveCubeFace(),ge=p.getActiveMipmapLevel(),we=p.state;we.setBlending(ne),we.buffers.color.setClear(1,1,1,1),we.buffers.depth.setTest(!0),we.setScissorTest(!1);for(let Le=0,je=Z.length;Le<je;Le++){const be=Z[Le],Te=be.shadow;if(Te===void 0){console.warn("THREE.WebGLShadowMap:",be,"has no shadow.");continue}if(Te.autoUpdate===!1&&Te.needsUpdate===!1)continue;a.copy(Te.mapSize);const Je=Te.getFrameExtents();if(a.multiply(Je),u.copy(Te.mapSize),(a.x>w||a.y>w)&&(a.x>w&&(u.x=Math.floor(w/Je.x),a.x=u.x*Je.x,Te.mapSize.x=u.x),a.y>w&&(u.y=Math.floor(w/Je.y),a.y=u.y*Je.y,Te.mapSize.y=u.y)),Te.map===null){const tt=this.type!==B?{minFilter:Rn,magFilter:Rn}:{};Te.map=new Xc(a.x,a.y,tt),Te.map.texture.name=be.name+".shadowMap",Te.camera.updateProjectionMatrix()}p.setRenderTarget(Te.map),p.clear();const it=Te.getViewportCount();for(let tt=0;tt<it;tt++){const Me=Te.getViewport(tt);f.set(u.x*Me.x,u.y*Me.y,u.x*Me.z,u.y*Me.w),we.viewport(f),Te.updateMatrices(be,tt),s=Te.getFrustum(),G(X,te,Te.camera,be,this.type)}Te.isPointLightShadow!==!0&&this.type===B&&U(Te,te),Te.needsUpdate=!1}L.needsUpdate=!1,p.setRenderTarget(ae,j,ge)};function U(Z,X){const te=e.update(k);x.defines.VSM_SAMPLES!==Z.blurSamples&&(x.defines.VSM_SAMPLES=Z.blurSamples,P.defines.VSM_SAMPLES=Z.blurSamples,x.needsUpdate=!0,P.needsUpdate=!0),Z.mapPass===null&&(Z.mapPass=new Xc(a.x,a.y)),x.uniforms.shadow_pass.value=Z.map.texture,x.uniforms.resolution.value=Z.mapSize,x.uniforms.radius.value=Z.radius,p.setRenderTarget(Z.mapPass),p.clear(),p.renderBufferDirect(X,null,te,x,k,null),P.uniforms.shadow_pass.value=Z.mapPass.texture,P.uniforms.resolution.value=Z.mapSize,P.uniforms.radius.value=Z.radius,p.setRenderTarget(Z.map),p.clear(),p.renderBufferDirect(X,null,te,P,k,null)}function Q(Z,X,te,ae,j,ge){let we=null;const Le=te.isPointLight===!0?Z.customDistanceMaterial:Z.customDepthMaterial;if(Le!==void 0)we=Le;else if(we=te.isPointLight===!0?_:m,p.localClippingEnabled&&X.clipShadows===!0&&Array.isArray(X.clippingPlanes)&&X.clippingPlanes.length!==0||X.displacementMap&&X.displacementScale!==0||X.alphaMap&&X.alphaTest>0||X.map&&X.alphaTest>0){const je=we.uuid,be=X.uuid;let Te=A[je];Te===void 0&&(Te={},A[je]=Te);let Je=Te[be];Je===void 0&&(Je=we.clone(),Te[be]=Je),we=Je}return we.visible=X.visible,we.wireframe=X.wireframe,ge===B?we.side=X.shadowSide!==null?X.shadowSide:X.side:we.side=X.shadowSide!==null?X.shadowSide:S[X.side],we.alphaMap=X.alphaMap,we.alphaTest=X.alphaTest,we.map=X.map,we.clipShadows=X.clipShadows,we.clippingPlanes=X.clippingPlanes,we.clipIntersection=X.clipIntersection,we.displacementMap=X.displacementMap,we.displacementScale=X.displacementScale,we.displacementBias=X.displacementBias,we.wireframeLinewidth=X.wireframeLinewidth,we.linewidth=X.linewidth,te.isPointLight===!0&&we.isMeshDistanceMaterial===!0&&(we.referencePosition.setFromMatrixPosition(te.matrixWorld),we.nearDistance=ae,we.farDistance=j),we}function G(Z,X,te,ae,j){if(Z.visible===!1)return;if(Z.layers.test(X.layers)&&(Z.isMesh||Z.isLine||Z.isPoints)&&(Z.castShadow||Z.receiveShadow&&j===B)&&(!Z.frustumCulled||s.intersectsObject(Z))){Z.modelViewMatrix.multiplyMatrices(te.matrixWorldInverse,Z.matrixWorld);const Le=e.update(Z),je=Z.material;if(Array.isArray(je)){const be=Le.groups;for(let Te=0,Je=be.length;Te<Je;Te++){const it=be[Te],tt=je[it.materialIndex];if(tt&&tt.visible){const Me=Q(Z,tt,ae,te.near,te.far,j);p.renderBufferDirect(te,null,Le,Me,Z,it)}}}else if(je.visible){const be=Q(Z,je,ae,te.near,te.far,j);p.renderBufferDirect(te,null,Le,be,Z,null)}}const we=Z.children;for(let Le=0,je=we.length;Le<je;Le++)G(we[Le],X,te,ae,j)}}function gO(p,e,r){const s=r.isWebGL2;function a(){let vt=!1;const qt=new oi;let Sn=null;const kn=new oi(0,0,0,0);return{setMask:function(qn){Sn!==qn&&!vt&&(p.colorMask(qn,qn,qn,qn),Sn=qn)},setLocked:function(qn){vt=qn},setClear:function(qn,Xr,Pi,Ci,ra){ra===!0&&(qn*=Ci,Xr*=Ci,Pi*=Ci),qt.set(qn,Xr,Pi,Ci),kn.equals(qt)===!1&&(p.clearColor(qn,Xr,Pi,Ci),kn.copy(qt))},reset:function(){vt=!1,Sn=null,kn.set(-1,0,0,0)}}}function u(){let vt=!1,qt=null,Sn=null,kn=null;return{setTest:function(qn){qn?$e(2929):Mt(2929)},setMask:function(qn){qt!==qn&&!vt&&(p.depthMask(qn),qt=qn)},setFunc:function(qn){if(Sn!==qn){switch(qn){case Et:p.depthFunc(512);break;case an:p.depthFunc(519);break;case Be:p.depthFunc(513);break;case Xe:p.depthFunc(515);break;case ht:p.depthFunc(514);break;case Dt:p.depthFunc(518);break;case Ot:p.depthFunc(516);break;case dt:p.depthFunc(517);break;default:p.depthFunc(515)}Sn=qn}},setLocked:function(qn){vt=qn},setClear:function(qn){kn!==qn&&(p.clearDepth(qn),kn=qn)},reset:function(){vt=!1,qt=null,Sn=null,kn=null}}}function f(){let vt=!1,qt=null,Sn=null,kn=null,qn=null,Xr=null,Pi=null,Ci=null,ra=null;return{setTest:function(ci){vt||(ci?$e(2960):Mt(2960))},setMask:function(ci){qt!==ci&&!vt&&(p.stencilMask(ci),qt=ci)},setFunc:function(ci,ia,Os){(Sn!==ci||kn!==ia||qn!==Os)&&(p.stencilFunc(ci,ia,Os),Sn=ci,kn=ia,qn=Os)},setOp:function(ci,ia,Os){(Xr!==ci||Pi!==ia||Ci!==Os)&&(p.stencilOp(ci,ia,Os),Xr=ci,Pi=ia,Ci=Os)},setLocked:function(ci){vt=ci},setClear:function(ci){ra!==ci&&(p.clearStencil(ci),ra=ci)},reset:function(){vt=!1,qt=null,Sn=null,kn=null,qn=null,Xr=null,Pi=null,Ci=null,ra=null}}}const m=new a,_=new u,A=new f,w=new WeakMap,S=new WeakMap;let x={},P={},O=new WeakMap,k=[],L=null,U=!1,Q=null,G=null,Z=null,X=null,te=null,ae=null,j=null,ge=!1,we=null,Le=null,je=null,be=null,Te=null;const Je=p.getParameter(35661);let it=!1,tt=0;const Me=p.getParameter(7938);Me.indexOf("WebGL")!==-1?(tt=parseFloat(/^WebGL (\d)/.exec(Me)[1]),it=tt>=1):Me.indexOf("OpenGL ES")!==-1&&(tt=parseFloat(/^OpenGL ES (\d)/.exec(Me)[1]),it=tt>=2);let lt=null,mt={};const ft=p.getParameter(3088),gt=p.getParameter(2978),Qt=new oi().fromArray(ft),c=new oi().fromArray(gt);function pn(vt,qt,Sn){const kn=new Uint8Array(4),qn=p.createTexture();p.bindTexture(vt,qn),p.texParameteri(vt,10241,9728),p.texParameteri(vt,10240,9728);for(let Xr=0;Xr<Sn;Xr++)p.texImage2D(qt+Xr,0,6408,1,1,0,6408,5121,kn);return qn}const at={};at[3553]=pn(3553,3553,1),at[34067]=pn(34067,34069,6),m.setClear(0,0,0,1),_.setClear(1),A.setClear(0),$e(2929),_.setFunc(Xe),mn(!1),Ve(R),$e(2884),Br(ne);function $e(vt){x[vt]!==!0&&(p.enable(vt),x[vt]=!0)}function Mt(vt){x[vt]!==!1&&(p.disable(vt),x[vt]=!1)}function jt(vt,qt){return P[vt]!==qt?(p.bindFramebuffer(vt,qt),P[vt]=qt,s&&(vt===36009&&(P[36160]=qt),vt===36160&&(P[36009]=qt)),!0):!1}function Kt(vt,qt){let Sn=k,kn=!1;if(vt)if(Sn=O.get(qt),Sn===void 0&&(Sn=[],O.set(qt,Sn)),vt.isWebGLMultipleRenderTargets){const qn=vt.texture;if(Sn.length!==qn.length||Sn[0]!==36064){for(let Xr=0,Pi=qn.length;Xr<Pi;Xr++)Sn[Xr]=36064+Xr;Sn.length=qn.length,kn=!0}}else Sn[0]!==36064&&(Sn[0]=36064,kn=!0);else Sn[0]!==1029&&(Sn[0]=1029,kn=!0);kn&&(r.isWebGL2?p.drawBuffers(Sn):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Sn))}function wn(vt){return L!==vt?(p.useProgram(vt),L=vt,!0):!1}const Pn={[Ae]:32774,[Se]:32778,[ye]:32779};if(s)Pn[ie]=32775,Pn[fe]=32776;else{const vt=e.get("EXT_blend_minmax");vt!==null&&(Pn[ie]=vt.MIN_EXT,Pn[fe]=vt.MAX_EXT)}const Xn={[le]:0,[Oe]:1,[Qe]:768,[He]:770,[ot]:776,[st]:774,[xt]:772,[Pe]:769,[bt]:771,[Ye]:775,[Nt]:773};function Br(vt,qt,Sn,kn,qn,Xr,Pi,Ci){if(vt===ne){U===!0&&(Mt(3042),U=!1);return}if(U===!1&&($e(3042),U=!0),vt!==ce){if(vt!==Q||Ci!==ge){if((G!==Ae||te!==Ae)&&(p.blendEquation(32774),G=Ae,te=Ae),Ci)switch(vt){case se:p.blendFuncSeparate(1,771,1,771);break;case oe:p.blendFunc(1,1);break;case xe:p.blendFuncSeparate(0,769,0,1);break;case me:p.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",vt);break}else switch(vt){case se:p.blendFuncSeparate(770,771,1,771);break;case oe:p.blendFunc(770,1);break;case xe:p.blendFuncSeparate(0,769,0,1);break;case me:p.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",vt);break}Z=null,X=null,ae=null,j=null,Q=vt,ge=Ci}return}qn=qn||qt,Xr=Xr||Sn,Pi=Pi||kn,(qt!==G||qn!==te)&&(p.blendEquationSeparate(Pn[qt],Pn[qn]),G=qt,te=qn),(Sn!==Z||kn!==X||Xr!==ae||Pi!==j)&&(p.blendFuncSeparate(Xn[Sn],Xn[kn],Xn[Xr],Xn[Pi]),Z=Sn,X=kn,ae=Xr,j=Pi),Q=vt,ge=!1}function rn(vt,qt){vt.side===q?Mt(2884):$e(2884);let Sn=vt.side===H;qt&&(Sn=!Sn),mn(Sn),vt.blending===se&&vt.transparent===!1?Br(ne):Br(vt.blending,vt.blendEquation,vt.blendSrc,vt.blendDst,vt.blendEquationAlpha,vt.blendSrcAlpha,vt.blendDstAlpha,vt.premultipliedAlpha),_.setFunc(vt.depthFunc),_.setTest(vt.depthTest),_.setMask(vt.depthWrite),m.setMask(vt.colorWrite);const kn=vt.stencilWrite;A.setTest(kn),kn&&(A.setMask(vt.stencilWriteMask),A.setFunc(vt.stencilFunc,vt.stencilRef,vt.stencilFuncMask),A.setOp(vt.stencilFail,vt.stencilZFail,vt.stencilZPass)),En(vt.polygonOffset,vt.polygonOffsetFactor,vt.polygonOffsetUnits),vt.alphaToCoverage===!0?$e(32926):Mt(32926)}function mn(vt){we!==vt&&(vt?p.frontFace(2304):p.frontFace(2305),we=vt)}function Ve(vt){vt!==T?($e(2884),vt!==Le&&(vt===R?p.cullFace(1029):vt===N?p.cullFace(1028):p.cullFace(1032))):Mt(2884),Le=vt}function Un(vt){vt!==je&&(it&&p.lineWidth(vt),je=vt)}function En(vt,qt,Sn){vt?($e(32823),(be!==qt||Te!==Sn)&&(p.polygonOffset(qt,Sn),be=qt,Te=Sn)):Mt(32823)}function Bt(vt){vt?$e(3089):Mt(3089)}function ue(vt){vt===void 0&&(vt=33984+Je-1),lt!==vt&&(p.activeTexture(vt),lt=vt)}function W(vt,qt,Sn){Sn===void 0&&(lt===null?Sn=33984+Je-1:Sn=lt);let kn=mt[Sn];kn===void 0&&(kn={type:void 0,texture:void 0},mt[Sn]=kn),(kn.type!==vt||kn.texture!==qt)&&(lt!==Sn&&(p.activeTexture(Sn),lt=Sn),p.bindTexture(vt,qt||at[vt]),kn.type=vt,kn.texture=qt)}function Y(){const vt=mt[lt];vt!==void 0&&vt.type!==void 0&&(p.bindTexture(vt.type,null),vt.type=void 0,vt.texture=void 0)}function de(){try{p.compressedTexImage2D.apply(p,arguments)}catch(vt){console.error("THREE.WebGLState:",vt)}}function De(){try{p.compressedTexImage3D.apply(p,arguments)}catch(vt){console.error("THREE.WebGLState:",vt)}}function et(){try{p.texSubImage2D.apply(p,arguments)}catch(vt){console.error("THREE.WebGLState:",vt)}}function Tt(){try{p.texSubImage3D.apply(p,arguments)}catch(vt){console.error("THREE.WebGLState:",vt)}}function sn(){try{p.compressedTexSubImage2D.apply(p,arguments)}catch(vt){console.error("THREE.WebGLState:",vt)}}function Fe(){try{p.compressedTexSubImage3D.apply(p,arguments)}catch(vt){console.error("THREE.WebGLState:",vt)}}function wt(){try{p.texStorage2D.apply(p,arguments)}catch(vt){console.error("THREE.WebGLState:",vt)}}function bn(){try{p.texStorage3D.apply(p,arguments)}catch(vt){console.error("THREE.WebGLState:",vt)}}function Vn(){try{p.texImage2D.apply(p,arguments)}catch(vt){console.error("THREE.WebGLState:",vt)}}function Cn(){try{p.texImage3D.apply(p,arguments)}catch(vt){console.error("THREE.WebGLState:",vt)}}function Tn(vt){Qt.equals(vt)===!1&&(p.scissor(vt.x,vt.y,vt.z,vt.w),Qt.copy(vt))}function Qn(vt){c.equals(vt)===!1&&(p.viewport(vt.x,vt.y,vt.z,vt.w),c.copy(vt))}function vr(vt,qt){let Sn=S.get(qt);Sn===void 0&&(Sn=new WeakMap,S.set(qt,Sn));let kn=Sn.get(vt);kn===void 0&&(kn=p.getUniformBlockIndex(qt,vt.name),Sn.set(vt,kn))}function Ir(vt,qt){const kn=S.get(qt).get(vt);w.get(qt)!==kn&&(p.uniformBlockBinding(qt,kn,vt.__bindingPointIndex),w.set(qt,kn))}function Gr(){p.disable(3042),p.disable(2884),p.disable(2929),p.disable(32823),p.disable(3089),p.disable(2960),p.disable(32926),p.blendEquation(32774),p.blendFunc(1,0),p.blendFuncSeparate(1,0,1,0),p.colorMask(!0,!0,!0,!0),p.clearColor(0,0,0,0),p.depthMask(!0),p.depthFunc(513),p.clearDepth(1),p.stencilMask(4294967295),p.stencilFunc(519,0,4294967295),p.stencilOp(7680,7680,7680),p.clearStencil(0),p.cullFace(1029),p.frontFace(2305),p.polygonOffset(0,0),p.activeTexture(33984),p.bindFramebuffer(36160,null),s===!0&&(p.bindFramebuffer(36009,null),p.bindFramebuffer(36008,null)),p.useProgram(null),p.lineWidth(1),p.scissor(0,0,p.canvas.width,p.canvas.height),p.viewport(0,0,p.canvas.width,p.canvas.height),x={},lt=null,mt={},P={},O=new WeakMap,k=[],L=null,U=!1,Q=null,G=null,Z=null,X=null,te=null,ae=null,j=null,ge=!1,we=null,Le=null,je=null,be=null,Te=null,Qt.set(0,0,p.canvas.width,p.canvas.height),c.set(0,0,p.canvas.width,p.canvas.height),m.reset(),_.reset(),A.reset()}return{buffers:{color:m,depth:_,stencil:A},enable:$e,disable:Mt,bindFramebuffer:jt,drawBuffers:Kt,useProgram:wn,setBlending:Br,setMaterial:rn,setFlipSided:mn,setCullFace:Ve,setLineWidth:Un,setPolygonOffset:En,setScissorTest:Bt,activeTexture:ue,bindTexture:W,unbindTexture:Y,compressedTexImage2D:de,compressedTexImage3D:De,texImage2D:Vn,texImage3D:Cn,updateUBOMapping:vr,uniformBlockBinding:Ir,texStorage2D:wt,texStorage3D:bn,texSubImage2D:et,texSubImage3D:Tt,compressedTexSubImage2D:sn,compressedTexSubImage3D:Fe,scissor:Tn,viewport:Qn,reset:Gr}}function vO(p,e,r,s,a,u,f){const m=a.isWebGL2,_=a.maxTextures,A=a.maxCubemapSize,w=a.maxTextureSize,S=a.maxSamples,x=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,P=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),O=new WeakMap;let k;const L=new WeakMap;let U=!1;try{U=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function Q(W,Y){return U?new OffscreenCanvas(W,Y):th("canvas")}function G(W,Y,de,De){let et=1;if((W.width>De||W.height>De)&&(et=De/Math.max(W.width,W.height)),et<1||Y===!0)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap){const Tt=Y?Tm:Math.floor,sn=Tt(et*W.width),Fe=Tt(et*W.height);k===void 0&&(k=Q(sn,Fe));const wt=de?Q(sn,Fe):k;return wt.width=sn,wt.height=Fe,wt.getContext("2d").drawImage(W,0,0,sn,Fe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+W.width+"x"+W.height+") to ("+sn+"x"+Fe+")."),wt}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+W.width+"x"+W.height+")."),W;return W}function Z(W){return EA(W.width)&&EA(W.height)}function X(W){return m?!1:W.wrapS!==_t||W.wrapT!==_t||W.minFilter!==Rn&&W.minFilter!==gr}function te(W,Y){return W.generateMipmaps&&Y&&W.minFilter!==Rn&&W.minFilter!==gr}function ae(W){p.generateMipmap(W)}function j(W,Y,de,De,et=!1){if(m===!1)return Y;if(W!==null){if(p[W]!==void 0)return p[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let Tt=Y;return Y===6403&&(de===5126&&(Tt=33326),de===5131&&(Tt=33325),de===5121&&(Tt=33321)),Y===33319&&(de===5126&&(Tt=33328),de===5131&&(Tt=33327),de===5121&&(Tt=33323)),Y===6408&&(de===5126&&(Tt=34836),de===5131&&(Tt=34842),de===5121&&(Tt=De===Lr&&et===!1?35907:32856),de===32819&&(Tt=32854),de===32820&&(Tt=32855)),(Tt===33325||Tt===33326||Tt===33327||Tt===33328||Tt===34842||Tt===34836)&&e.get("EXT_color_buffer_float"),Tt}function ge(W,Y,de){return te(W,de)===!0||W.isFramebufferTexture&&W.minFilter!==Rn&&W.minFilter!==gr?Math.log2(Math.max(Y.width,Y.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?Y.mipmaps.length:1}function we(W){return W===Rn||W===xr||W===ii?9728:9729}function Le(W){const Y=W.target;Y.removeEventListener("dispose",Le),be(Y),Y.isVideoTexture&&O.delete(Y)}function je(W){const Y=W.target;Y.removeEventListener("dispose",je),Je(Y)}function be(W){const Y=s.get(W);if(Y.__webglInit===void 0)return;const de=W.source,De=L.get(de);if(De){const et=De[Y.__cacheKey];et.usedTimes--,et.usedTimes===0&&Te(W),Object.keys(De).length===0&&L.delete(de)}s.remove(W)}function Te(W){const Y=s.get(W);p.deleteTexture(Y.__webglTexture);const de=W.source,De=L.get(de);delete De[Y.__cacheKey],f.memory.textures--}function Je(W){const Y=W.texture,de=s.get(W),De=s.get(Y);if(De.__webglTexture!==void 0&&(p.deleteTexture(De.__webglTexture),f.memory.textures--),W.depthTexture&&W.depthTexture.dispose(),W.isWebGLCubeRenderTarget)for(let et=0;et<6;et++)p.deleteFramebuffer(de.__webglFramebuffer[et]),de.__webglDepthbuffer&&p.deleteRenderbuffer(de.__webglDepthbuffer[et]);else{if(p.deleteFramebuffer(de.__webglFramebuffer),de.__webglDepthbuffer&&p.deleteRenderbuffer(de.__webglDepthbuffer),de.__webglMultisampledFramebuffer&&p.deleteFramebuffer(de.__webglMultisampledFramebuffer),de.__webglColorRenderbuffer)for(let et=0;et<de.__webglColorRenderbuffer.length;et++)de.__webglColorRenderbuffer[et]&&p.deleteRenderbuffer(de.__webglColorRenderbuffer[et]);de.__webglDepthRenderbuffer&&p.deleteRenderbuffer(de.__webglDepthRenderbuffer)}if(W.isWebGLMultipleRenderTargets)for(let et=0,Tt=Y.length;et<Tt;et++){const sn=s.get(Y[et]);sn.__webglTexture&&(p.deleteTexture(sn.__webglTexture),f.memory.textures--),s.remove(Y[et])}s.remove(Y),s.remove(W)}let it=0;function tt(){it=0}function Me(){const W=it;return W>=_&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+_),it+=1,W}function lt(W){const Y=[];return Y.push(W.wrapS),Y.push(W.wrapT),Y.push(W.wrapR||0),Y.push(W.magFilter),Y.push(W.minFilter),Y.push(W.anisotropy),Y.push(W.internalFormat),Y.push(W.format),Y.push(W.type),Y.push(W.generateMipmaps),Y.push(W.premultiplyAlpha),Y.push(W.flipY),Y.push(W.unpackAlignment),Y.push(W.encoding),Y.join()}function mt(W,Y){const de=s.get(W);if(W.isVideoTexture&&Bt(W),W.isRenderTargetTexture===!1&&W.version>0&&de.__version!==W.version){const De=W.image;if(De===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(De.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Mt(de,W,Y);return}}r.bindTexture(3553,de.__webglTexture,33984+Y)}function ft(W,Y){const de=s.get(W);if(W.version>0&&de.__version!==W.version){Mt(de,W,Y);return}r.bindTexture(35866,de.__webglTexture,33984+Y)}function gt(W,Y){const de=s.get(W);if(W.version>0&&de.__version!==W.version){Mt(de,W,Y);return}r.bindTexture(32879,de.__webglTexture,33984+Y)}function Qt(W,Y){const de=s.get(W);if(W.version>0&&de.__version!==W.version){jt(de,W,Y);return}r.bindTexture(34067,de.__webglTexture,33984+Y)}const c={[We]:10497,[_t]:33071,[Vt]:33648},pn={[Rn]:9728,[xr]:9984,[ii]:9986,[gr]:9729,[Yn]:9985,[Vr]:9987};function at(W,Y,de){if(de?(p.texParameteri(W,10242,c[Y.wrapS]),p.texParameteri(W,10243,c[Y.wrapT]),(W===32879||W===35866)&&p.texParameteri(W,32882,c[Y.wrapR]),p.texParameteri(W,10240,pn[Y.magFilter]),p.texParameteri(W,10241,pn[Y.minFilter])):(p.texParameteri(W,10242,33071),p.texParameteri(W,10243,33071),(W===32879||W===35866)&&p.texParameteri(W,32882,33071),(Y.wrapS!==_t||Y.wrapT!==_t)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),p.texParameteri(W,10240,we(Y.magFilter)),p.texParameteri(W,10241,we(Y.minFilter)),Y.minFilter!==Rn&&Y.minFilter!==gr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const De=e.get("EXT_texture_filter_anisotropic");if(Y.magFilter===Rn||Y.minFilter!==ii&&Y.minFilter!==Vr||Y.type===Ei&&e.has("OES_texture_float_linear")===!1||m===!1&&Y.type===$s&&e.has("OES_texture_half_float_linear")===!1)return;(Y.anisotropy>1||s.get(Y).__currentAnisotropy)&&(p.texParameterf(W,De.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Y.anisotropy,a.getMaxAnisotropy())),s.get(Y).__currentAnisotropy=Y.anisotropy)}}function $e(W,Y){let de=!1;W.__webglInit===void 0&&(W.__webglInit=!0,Y.addEventListener("dispose",Le));const De=Y.source;let et=L.get(De);et===void 0&&(et={},L.set(De,et));const Tt=lt(Y);if(Tt!==W.__cacheKey){et[Tt]===void 0&&(et[Tt]={texture:p.createTexture(),usedTimes:0},f.memory.textures++,de=!0),et[Tt].usedTimes++;const sn=et[W.__cacheKey];sn!==void 0&&(et[W.__cacheKey].usedTimes--,sn.usedTimes===0&&Te(Y)),W.__cacheKey=Tt,W.__webglTexture=et[Tt].texture}return de}function Mt(W,Y,de){let De=3553;(Y.isDataArrayTexture||Y.isCompressedArrayTexture)&&(De=35866),Y.isData3DTexture&&(De=32879);const et=$e(W,Y),Tt=Y.source;r.bindTexture(De,W.__webglTexture,33984+de);const sn=s.get(Tt);if(Tt.version!==sn.__version||et===!0){r.activeTexture(33984+de),p.pixelStorei(37440,Y.flipY),p.pixelStorei(37441,Y.premultiplyAlpha),p.pixelStorei(3317,Y.unpackAlignment),p.pixelStorei(37443,0);const Fe=X(Y)&&Z(Y.image)===!1;let wt=G(Y.image,Fe,!1,w);wt=ue(Y,wt);const bn=Z(wt)||m,Vn=u.convert(Y.format,Y.encoding);let Cn=u.convert(Y.type),Tn=j(Y.internalFormat,Vn,Cn,Y.encoding,Y.isVideoTexture);at(De,Y,bn);let Qn;const vr=Y.mipmaps,Ir=m&&Y.isVideoTexture!==!0,Gr=sn.__version===void 0||et===!0,vt=ge(Y,wt,bn);if(Y.isDepthTexture)Tn=6402,m?Y.type===Ei?Tn=36012:Y.type===Qi?Tn=33190:Y.type===td?Tn=35056:Tn=33189:Y.type===Ei&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Y.format===zc&&Tn===6402&&Y.type!==Cr&&Y.type!==Qi&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Y.type=Qi,Cn=u.convert(Y.type)),Y.format===nd&&Tn===6402&&(Tn=34041,Y.type!==td&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Y.type=td,Cn=u.convert(Y.type))),Gr&&(Ir?r.texStorage2D(3553,1,Tn,wt.width,wt.height):r.texImage2D(3553,0,Tn,wt.width,wt.height,0,Vn,Cn,null));else if(Y.isDataTexture)if(vr.length>0&&bn){Ir&&Gr&&r.texStorage2D(3553,vt,Tn,vr[0].width,vr[0].height);for(let qt=0,Sn=vr.length;qt<Sn;qt++)Qn=vr[qt],Ir?r.texSubImage2D(3553,qt,0,0,Qn.width,Qn.height,Vn,Cn,Qn.data):r.texImage2D(3553,qt,Tn,Qn.width,Qn.height,0,Vn,Cn,Qn.data);Y.generateMipmaps=!1}else Ir?(Gr&&r.texStorage2D(3553,vt,Tn,wt.width,wt.height),r.texSubImage2D(3553,0,0,0,wt.width,wt.height,Vn,Cn,wt.data)):r.texImage2D(3553,0,Tn,wt.width,wt.height,0,Vn,Cn,wt.data);else if(Y.isCompressedTexture)if(Y.isCompressedArrayTexture){Ir&&Gr&&r.texStorage3D(35866,vt,Tn,vr[0].width,vr[0].height,wt.depth);for(let qt=0,Sn=vr.length;qt<Sn;qt++)Qn=vr[qt],Y.format!==Xi?Vn!==null?Ir?r.compressedTexSubImage3D(35866,qt,0,0,0,Qn.width,Qn.height,wt.depth,Vn,Qn.data,0,0):r.compressedTexImage3D(35866,qt,Tn,Qn.width,Qn.height,wt.depth,0,Qn.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ir?r.texSubImage3D(35866,qt,0,0,0,Qn.width,Qn.height,wt.depth,Vn,Cn,Qn.data):r.texImage3D(35866,qt,Tn,Qn.width,Qn.height,wt.depth,0,Vn,Cn,Qn.data)}else{Ir&&Gr&&r.texStorage2D(3553,vt,Tn,vr[0].width,vr[0].height);for(let qt=0,Sn=vr.length;qt<Sn;qt++)Qn=vr[qt],Y.format!==Xi?Vn!==null?Ir?r.compressedTexSubImage2D(3553,qt,0,0,Qn.width,Qn.height,Vn,Qn.data):r.compressedTexImage2D(3553,qt,Tn,Qn.width,Qn.height,0,Qn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ir?r.texSubImage2D(3553,qt,0,0,Qn.width,Qn.height,Vn,Cn,Qn.data):r.texImage2D(3553,qt,Tn,Qn.width,Qn.height,0,Vn,Cn,Qn.data)}else if(Y.isDataArrayTexture)Ir?(Gr&&r.texStorage3D(35866,vt,Tn,wt.width,wt.height,wt.depth),r.texSubImage3D(35866,0,0,0,0,wt.width,wt.height,wt.depth,Vn,Cn,wt.data)):r.texImage3D(35866,0,Tn,wt.width,wt.height,wt.depth,0,Vn,Cn,wt.data);else if(Y.isData3DTexture)Ir?(Gr&&r.texStorage3D(32879,vt,Tn,wt.width,wt.height,wt.depth),r.texSubImage3D(32879,0,0,0,0,wt.width,wt.height,wt.depth,Vn,Cn,wt.data)):r.texImage3D(32879,0,Tn,wt.width,wt.height,wt.depth,0,Vn,Cn,wt.data);else if(Y.isFramebufferTexture){if(Gr)if(Ir)r.texStorage2D(3553,vt,Tn,wt.width,wt.height);else{let qt=wt.width,Sn=wt.height;for(let kn=0;kn<vt;kn++)r.texImage2D(3553,kn,Tn,qt,Sn,0,Vn,Cn,null),qt>>=1,Sn>>=1}}else if(vr.length>0&&bn){Ir&&Gr&&r.texStorage2D(3553,vt,Tn,vr[0].width,vr[0].height);for(let qt=0,Sn=vr.length;qt<Sn;qt++)Qn=vr[qt],Ir?r.texSubImage2D(3553,qt,0,0,Vn,Cn,Qn):r.texImage2D(3553,qt,Tn,Vn,Cn,Qn);Y.generateMipmaps=!1}else Ir?(Gr&&r.texStorage2D(3553,vt,Tn,wt.width,wt.height),r.texSubImage2D(3553,0,0,0,Vn,Cn,wt)):r.texImage2D(3553,0,Tn,Vn,Cn,wt);te(Y,bn)&&ae(De),sn.__version=Tt.version,Y.onUpdate&&Y.onUpdate(Y)}W.__version=Y.version}function jt(W,Y,de){if(Y.image.length!==6)return;const De=$e(W,Y),et=Y.source;r.bindTexture(34067,W.__webglTexture,33984+de);const Tt=s.get(et);if(et.version!==Tt.__version||De===!0){r.activeTexture(33984+de),p.pixelStorei(37440,Y.flipY),p.pixelStorei(37441,Y.premultiplyAlpha),p.pixelStorei(3317,Y.unpackAlignment),p.pixelStorei(37443,0);const sn=Y.isCompressedTexture||Y.image[0].isCompressedTexture,Fe=Y.image[0]&&Y.image[0].isDataTexture,wt=[];for(let qt=0;qt<6;qt++)!sn&&!Fe?wt[qt]=G(Y.image[qt],!1,!0,A):wt[qt]=Fe?Y.image[qt].image:Y.image[qt],wt[qt]=ue(Y,wt[qt]);const bn=wt[0],Vn=Z(bn)||m,Cn=u.convert(Y.format,Y.encoding),Tn=u.convert(Y.type),Qn=j(Y.internalFormat,Cn,Tn,Y.encoding),vr=m&&Y.isVideoTexture!==!0,Ir=Tt.__version===void 0||De===!0;let Gr=ge(Y,bn,Vn);at(34067,Y,Vn);let vt;if(sn){vr&&Ir&&r.texStorage2D(34067,Gr,Qn,bn.width,bn.height);for(let qt=0;qt<6;qt++){vt=wt[qt].mipmaps;for(let Sn=0;Sn<vt.length;Sn++){const kn=vt[Sn];Y.format!==Xi?Cn!==null?vr?r.compressedTexSubImage2D(34069+qt,Sn,0,0,kn.width,kn.height,Cn,kn.data):r.compressedTexImage2D(34069+qt,Sn,Qn,kn.width,kn.height,0,kn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):vr?r.texSubImage2D(34069+qt,Sn,0,0,kn.width,kn.height,Cn,Tn,kn.data):r.texImage2D(34069+qt,Sn,Qn,kn.width,kn.height,0,Cn,Tn,kn.data)}}}else{vt=Y.mipmaps,vr&&Ir&&(vt.length>0&&Gr++,r.texStorage2D(34067,Gr,Qn,wt[0].width,wt[0].height));for(let qt=0;qt<6;qt++)if(Fe){vr?r.texSubImage2D(34069+qt,0,0,0,wt[qt].width,wt[qt].height,Cn,Tn,wt[qt].data):r.texImage2D(34069+qt,0,Qn,wt[qt].width,wt[qt].height,0,Cn,Tn,wt[qt].data);for(let Sn=0;Sn<vt.length;Sn++){const qn=vt[Sn].image[qt].image;vr?r.texSubImage2D(34069+qt,Sn+1,0,0,qn.width,qn.height,Cn,Tn,qn.data):r.texImage2D(34069+qt,Sn+1,Qn,qn.width,qn.height,0,Cn,Tn,qn.data)}}else{vr?r.texSubImage2D(34069+qt,0,0,0,Cn,Tn,wt[qt]):r.texImage2D(34069+qt,0,Qn,Cn,Tn,wt[qt]);for(let Sn=0;Sn<vt.length;Sn++){const kn=vt[Sn];vr?r.texSubImage2D(34069+qt,Sn+1,0,0,Cn,Tn,kn.image[qt]):r.texImage2D(34069+qt,Sn+1,Qn,Cn,Tn,kn.image[qt])}}}te(Y,Vn)&&ae(34067),Tt.__version=et.version,Y.onUpdate&&Y.onUpdate(Y)}W.__version=Y.version}function Kt(W,Y,de,De,et){const Tt=u.convert(de.format,de.encoding),sn=u.convert(de.type),Fe=j(de.internalFormat,Tt,sn,de.encoding);s.get(Y).__hasExternalTextures||(et===32879||et===35866?r.texImage3D(et,0,Fe,Y.width,Y.height,Y.depth,0,Tt,sn,null):r.texImage2D(et,0,Fe,Y.width,Y.height,0,Tt,sn,null)),r.bindFramebuffer(36160,W),En(Y)?x.framebufferTexture2DMultisampleEXT(36160,De,et,s.get(de).__webglTexture,0,Un(Y)):(et===3553||et>=34069&&et<=34074)&&p.framebufferTexture2D(36160,De,et,s.get(de).__webglTexture,0),r.bindFramebuffer(36160,null)}function wn(W,Y,de){if(p.bindRenderbuffer(36161,W),Y.depthBuffer&&!Y.stencilBuffer){let De=33189;if(de||En(Y)){const et=Y.depthTexture;et&&et.isDepthTexture&&(et.type===Ei?De=36012:et.type===Qi&&(De=33190));const Tt=Un(Y);En(Y)?x.renderbufferStorageMultisampleEXT(36161,Tt,De,Y.width,Y.height):p.renderbufferStorageMultisample(36161,Tt,De,Y.width,Y.height)}else p.renderbufferStorage(36161,De,Y.width,Y.height);p.framebufferRenderbuffer(36160,36096,36161,W)}else if(Y.depthBuffer&&Y.stencilBuffer){const De=Un(Y);de&&En(Y)===!1?p.renderbufferStorageMultisample(36161,De,35056,Y.width,Y.height):En(Y)?x.renderbufferStorageMultisampleEXT(36161,De,35056,Y.width,Y.height):p.renderbufferStorage(36161,34041,Y.width,Y.height),p.framebufferRenderbuffer(36160,33306,36161,W)}else{const De=Y.isWebGLMultipleRenderTargets===!0?Y.texture:[Y.texture];for(let et=0;et<De.length;et++){const Tt=De[et],sn=u.convert(Tt.format,Tt.encoding),Fe=u.convert(Tt.type),wt=j(Tt.internalFormat,sn,Fe,Tt.encoding),bn=Un(Y);de&&En(Y)===!1?p.renderbufferStorageMultisample(36161,bn,wt,Y.width,Y.height):En(Y)?x.renderbufferStorageMultisampleEXT(36161,bn,wt,Y.width,Y.height):p.renderbufferStorage(36161,wt,Y.width,Y.height)}}p.bindRenderbuffer(36161,null)}function Pn(W,Y){if(Y&&Y.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(36160,W),!(Y.depthTexture&&Y.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!s.get(Y.depthTexture).__webglTexture||Y.depthTexture.image.width!==Y.width||Y.depthTexture.image.height!==Y.height)&&(Y.depthTexture.image.width=Y.width,Y.depthTexture.image.height=Y.height,Y.depthTexture.needsUpdate=!0),mt(Y.depthTexture,0);const De=s.get(Y.depthTexture).__webglTexture,et=Un(Y);if(Y.depthTexture.format===zc)En(Y)?x.framebufferTexture2DMultisampleEXT(36160,36096,3553,De,0,et):p.framebufferTexture2D(36160,36096,3553,De,0);else if(Y.depthTexture.format===nd)En(Y)?x.framebufferTexture2DMultisampleEXT(36160,33306,3553,De,0,et):p.framebufferTexture2D(36160,33306,3553,De,0);else throw new Error("Unknown depthTexture format")}function Xn(W){const Y=s.get(W),de=W.isWebGLCubeRenderTarget===!0;if(W.depthTexture&&!Y.__autoAllocateDepthBuffer){if(de)throw new Error("target.depthTexture not supported in Cube render targets");Pn(Y.__webglFramebuffer,W)}else if(de){Y.__webglDepthbuffer=[];for(let De=0;De<6;De++)r.bindFramebuffer(36160,Y.__webglFramebuffer[De]),Y.__webglDepthbuffer[De]=p.createRenderbuffer(),wn(Y.__webglDepthbuffer[De],W,!1)}else r.bindFramebuffer(36160,Y.__webglFramebuffer),Y.__webglDepthbuffer=p.createRenderbuffer(),wn(Y.__webglDepthbuffer,W,!1);r.bindFramebuffer(36160,null)}function Br(W,Y,de){const De=s.get(W);Y!==void 0&&Kt(De.__webglFramebuffer,W,W.texture,36064,3553),de!==void 0&&Xn(W)}function rn(W){const Y=W.texture,de=s.get(W),De=s.get(Y);W.addEventListener("dispose",je),W.isWebGLMultipleRenderTargets!==!0&&(De.__webglTexture===void 0&&(De.__webglTexture=p.createTexture()),De.__version=Y.version,f.memory.textures++);const et=W.isWebGLCubeRenderTarget===!0,Tt=W.isWebGLMultipleRenderTargets===!0,sn=Z(W)||m;if(et){de.__webglFramebuffer=[];for(let Fe=0;Fe<6;Fe++)de.__webglFramebuffer[Fe]=p.createFramebuffer()}else{if(de.__webglFramebuffer=p.createFramebuffer(),Tt)if(a.drawBuffers){const Fe=W.texture;for(let wt=0,bn=Fe.length;wt<bn;wt++){const Vn=s.get(Fe[wt]);Vn.__webglTexture===void 0&&(Vn.__webglTexture=p.createTexture(),f.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(m&&W.samples>0&&En(W)===!1){const Fe=Tt?Y:[Y];de.__webglMultisampledFramebuffer=p.createFramebuffer(),de.__webglColorRenderbuffer=[],r.bindFramebuffer(36160,de.__webglMultisampledFramebuffer);for(let wt=0;wt<Fe.length;wt++){const bn=Fe[wt];de.__webglColorRenderbuffer[wt]=p.createRenderbuffer(),p.bindRenderbuffer(36161,de.__webglColorRenderbuffer[wt]);const Vn=u.convert(bn.format,bn.encoding),Cn=u.convert(bn.type),Tn=j(bn.internalFormat,Vn,Cn,bn.encoding,W.isXRRenderTarget===!0),Qn=Un(W);p.renderbufferStorageMultisample(36161,Qn,Tn,W.width,W.height),p.framebufferRenderbuffer(36160,36064+wt,36161,de.__webglColorRenderbuffer[wt])}p.bindRenderbuffer(36161,null),W.depthBuffer&&(de.__webglDepthRenderbuffer=p.createRenderbuffer(),wn(de.__webglDepthRenderbuffer,W,!0)),r.bindFramebuffer(36160,null)}}if(et){r.bindTexture(34067,De.__webglTexture),at(34067,Y,sn);for(let Fe=0;Fe<6;Fe++)Kt(de.__webglFramebuffer[Fe],W,Y,36064,34069+Fe);te(Y,sn)&&ae(34067),r.unbindTexture()}else if(Tt){const Fe=W.texture;for(let wt=0,bn=Fe.length;wt<bn;wt++){const Vn=Fe[wt],Cn=s.get(Vn);r.bindTexture(3553,Cn.__webglTexture),at(3553,Vn,sn),Kt(de.__webglFramebuffer,W,Vn,36064+wt,3553),te(Vn,sn)&&ae(3553)}r.unbindTexture()}else{let Fe=3553;(W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(m?Fe=W.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(Fe,De.__webglTexture),at(Fe,Y,sn),Kt(de.__webglFramebuffer,W,Y,36064,Fe),te(Y,sn)&&ae(Fe),r.unbindTexture()}W.depthBuffer&&Xn(W)}function mn(W){const Y=Z(W)||m,de=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let De=0,et=de.length;De<et;De++){const Tt=de[De];if(te(Tt,Y)){const sn=W.isWebGLCubeRenderTarget?34067:3553,Fe=s.get(Tt).__webglTexture;r.bindTexture(sn,Fe),ae(sn),r.unbindTexture()}}}function Ve(W){if(m&&W.samples>0&&En(W)===!1){const Y=W.isWebGLMultipleRenderTargets?W.texture:[W.texture],de=W.width,De=W.height;let et=16384;const Tt=[],sn=W.stencilBuffer?33306:36096,Fe=s.get(W),wt=W.isWebGLMultipleRenderTargets===!0;if(wt)for(let bn=0;bn<Y.length;bn++)r.bindFramebuffer(36160,Fe.__webglMultisampledFramebuffer),p.framebufferRenderbuffer(36160,36064+bn,36161,null),r.bindFramebuffer(36160,Fe.__webglFramebuffer),p.framebufferTexture2D(36009,36064+bn,3553,null,0);r.bindFramebuffer(36008,Fe.__webglMultisampledFramebuffer),r.bindFramebuffer(36009,Fe.__webglFramebuffer);for(let bn=0;bn<Y.length;bn++){Tt.push(36064+bn),W.depthBuffer&&Tt.push(sn);const Vn=Fe.__ignoreDepthValues!==void 0?Fe.__ignoreDepthValues:!1;if(Vn===!1&&(W.depthBuffer&&(et|=256),W.stencilBuffer&&(et|=1024)),wt&&p.framebufferRenderbuffer(36008,36064,36161,Fe.__webglColorRenderbuffer[bn]),Vn===!0&&(p.invalidateFramebuffer(36008,[sn]),p.invalidateFramebuffer(36009,[sn])),wt){const Cn=s.get(Y[bn]).__webglTexture;p.framebufferTexture2D(36009,36064,3553,Cn,0)}p.blitFramebuffer(0,0,de,De,0,0,de,De,et,9728),P&&p.invalidateFramebuffer(36008,Tt)}if(r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),wt)for(let bn=0;bn<Y.length;bn++){r.bindFramebuffer(36160,Fe.__webglMultisampledFramebuffer),p.framebufferRenderbuffer(36160,36064+bn,36161,Fe.__webglColorRenderbuffer[bn]);const Vn=s.get(Y[bn]).__webglTexture;r.bindFramebuffer(36160,Fe.__webglFramebuffer),p.framebufferTexture2D(36009,36064+bn,3553,Vn,0)}r.bindFramebuffer(36009,Fe.__webglMultisampledFramebuffer)}}function Un(W){return Math.min(S,W.samples)}function En(W){const Y=s.get(W);return m&&W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Y.__useRenderToTexture!==!1}function Bt(W){const Y=f.render.frame;O.get(W)!==Y&&(O.set(W,Y),W.update())}function ue(W,Y){const de=W.encoding,De=W.format,et=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||W.format===SA||de!==Vo&&(de===Lr?m===!1?e.has("EXT_sRGB")===!0&&De===Xi?(W.format=SA,W.minFilter=gr,W.generateMipmaps=!1):Y=vE.sRGBToLinear(Y):(De!==Xi||et!==Pt)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",de)),Y}this.allocateTextureUnit=Me,this.resetTextureUnits=tt,this.setTexture2D=mt,this.setTexture2DArray=ft,this.setTexture3D=gt,this.setTextureCube=Qt,this.rebindTextures=Br,this.setupRenderTarget=rn,this.updateRenderTargetMipmap=mn,this.updateMultisampleRenderTarget=Ve,this.setupDepthRenderbuffer=Xn,this.setupFrameBufferTexture=Kt,this.useMultisampledRTT=En}function _O(p,e,r){const s=r.isWebGL2;function a(u,f=null){let m;if(u===Pt)return 5121;if(u===BD)return 32819;if(u===DD)return 32820;if(u===In)return 5120;if(u===rr)return 5122;if(u===Cr)return 5123;if(u===vo)return 5124;if(u===Qi)return 5125;if(u===Ei)return 5126;if(u===$s)return s?5131:(m=e.get("OES_texture_half_float"),m!==null?m.HALF_FLOAT_OES:null);if(u===kD)return 6406;if(u===Xi)return 6408;if(u===OD)return 6409;if(u===FD)return 6410;if(u===zc)return 6402;if(u===nd)return 34041;if(u===LD)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(u===SA)return m=e.get("EXT_sRGB"),m!==null?m.SRGB_ALPHA_EXT:null;if(u===Ul)return 6403;if(u===VD)return 36244;if(u===qf)return 33319;if(u===GD)return 33320;if(u===UD)return 36249;if(u===Im||u===cA||u===uA||u===xm)if(f===Lr)if(m=e.get("WEBGL_compressed_texture_s3tc_srgb"),m!==null){if(u===Im)return m.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(u===cA)return m.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(u===uA)return m.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(u===xm)return m.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(m=e.get("WEBGL_compressed_texture_s3tc"),m!==null){if(u===Im)return m.COMPRESSED_RGB_S3TC_DXT1_EXT;if(u===cA)return m.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(u===uA)return m.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(u===xm)return m.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(u===dA||u===qw||u===fA||u===Yw)if(m=e.get("WEBGL_compressed_texture_pvrtc"),m!==null){if(u===dA)return m.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(u===qw)return m.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(u===fA)return m.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(u===Yw)return m.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(u===Jw)return m=e.get("WEBGL_compressed_texture_etc1"),m!==null?m.COMPRESSED_RGB_ETC1_WEBGL:null;if(u===hA||u===pA)if(m=e.get("WEBGL_compressed_texture_etc"),m!==null){if(u===hA)return f===Lr?m.COMPRESSED_SRGB8_ETC2:m.COMPRESSED_RGB8_ETC2;if(u===pA)return f===Lr?m.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:m.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(u===mA||u===Zw||u===eE||u===tE||u===nE||u===rE||u===iE||u===sE||u===oE||u===aE||u===lE||u===cE||u===uE||u===dE)if(m=e.get("WEBGL_compressed_texture_astc"),m!==null){if(u===mA)return f===Lr?m.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:m.COMPRESSED_RGBA_ASTC_4x4_KHR;if(u===Zw)return f===Lr?m.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:m.COMPRESSED_RGBA_ASTC_5x4_KHR;if(u===eE)return f===Lr?m.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:m.COMPRESSED_RGBA_ASTC_5x5_KHR;if(u===tE)return f===Lr?m.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:m.COMPRESSED_RGBA_ASTC_6x5_KHR;if(u===nE)return f===Lr?m.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:m.COMPRESSED_RGBA_ASTC_6x6_KHR;if(u===rE)return f===Lr?m.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:m.COMPRESSED_RGBA_ASTC_8x5_KHR;if(u===iE)return f===Lr?m.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:m.COMPRESSED_RGBA_ASTC_8x6_KHR;if(u===sE)return f===Lr?m.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:m.COMPRESSED_RGBA_ASTC_8x8_KHR;if(u===oE)return f===Lr?m.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:m.COMPRESSED_RGBA_ASTC_10x5_KHR;if(u===aE)return f===Lr?m.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:m.COMPRESSED_RGBA_ASTC_10x6_KHR;if(u===lE)return f===Lr?m.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:m.COMPRESSED_RGBA_ASTC_10x8_KHR;if(u===cE)return f===Lr?m.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:m.COMPRESSED_RGBA_ASTC_10x10_KHR;if(u===uE)return f===Lr?m.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:m.COMPRESSED_RGBA_ASTC_12x10_KHR;if(u===dE)return f===Lr?m.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:m.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(u===gA)if(m=e.get("EXT_texture_compression_bptc"),m!==null){if(u===gA)return f===Lr?m.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:m.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return u===td?s?34042:(m=e.get("WEBGL_depth_texture"),m!==null?m.UNSIGNED_INT_24_8_WEBGL:null):p[u]!==void 0?p[u]:null}return{convert:a}}class AO extends as{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class qs extends mi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const yO={type:"move"};class e0{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new qs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new qs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ut,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ut),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new qs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ut,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ut),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const r=this._hand;if(r)for(const s of e.hand.values())this._getHandJoint(r,s)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,r,s){let a=null,u=null,f=null;const m=this._targetRay,_=this._grip,A=this._hand;if(e&&r.session.visibilityState!=="visible-blurred"){if(A&&e.hand){f=!0;for(const k of e.hand.values()){const L=r.getJointPose(k,s),U=this._getHandJoint(A,k);L!==null&&(U.matrix.fromArray(L.transform.matrix),U.matrix.decompose(U.position,U.rotation,U.scale),U.jointRadius=L.radius),U.visible=L!==null}const w=A.joints["index-finger-tip"],S=A.joints["thumb-tip"],x=w.position.distanceTo(S.position),P=.02,O=.005;A.inputState.pinching&&x>P+O?(A.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!A.inputState.pinching&&x<=P-O&&(A.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else _!==null&&e.gripSpace&&(u=r.getPose(e.gripSpace,s),u!==null&&(_.matrix.fromArray(u.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),u.linearVelocity?(_.hasLinearVelocity=!0,_.linearVelocity.copy(u.linearVelocity)):_.hasLinearVelocity=!1,u.angularVelocity?(_.hasAngularVelocity=!0,_.angularVelocity.copy(u.angularVelocity)):_.hasAngularVelocity=!1));m!==null&&(a=r.getPose(e.targetRaySpace,s),a===null&&u!==null&&(a=u),a!==null&&(m.matrix.fromArray(a.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),a.linearVelocity?(m.hasLinearVelocity=!0,m.linearVelocity.copy(a.linearVelocity)):m.hasLinearVelocity=!1,a.angularVelocity?(m.hasAngularVelocity=!0,m.angularVelocity.copy(a.angularVelocity)):m.hasAngularVelocity=!1,this.dispatchEvent(yO)))}return m!==null&&(m.visible=a!==null),_!==null&&(_.visible=u!==null),A!==null&&(A.visible=f!==null),this}_getHandJoint(e,r){if(e.joints[r.jointName]===void 0){const s=new qs;s.matrixAutoUpdate=!1,s.visible=!1,e.joints[r.jointName]=s,e.add(s)}return e.joints[r.jointName]}}class bO extends Oi{constructor(e,r,s,a,u,f,m,_,A,w){if(w=w!==void 0?w:zc,w!==zc&&w!==nd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&w===zc&&(s=Qi),s===void 0&&w===nd&&(s=td),super(null,a,u,f,m,_,w,s,A),this.isDepthTexture=!0,this.image={width:e,height:r},this.magFilter=m!==void 0?m:Rn,this.minFilter=_!==void 0?_:Rn,this.flipY=!1,this.generateMipmaps=!1}}class SO extends Wa{constructor(e,r){super();const s=this;let a=null,u=1,f=null,m="local-floor",_=null,A=null,w=null,S=null,x=null,P=null;const O=r.getContextAttributes();let k=null,L=null;const U=[],Q=[],G=new Set,Z=new Map,X=new as;X.layers.enable(1),X.viewport=new oi;const te=new as;te.layers.enable(2),te.viewport=new oi;const ae=[X,te],j=new AO;j.layers.enable(1),j.layers.enable(2);let ge=null,we=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ft){let gt=U[ft];return gt===void 0&&(gt=new e0,U[ft]=gt),gt.getTargetRaySpace()},this.getControllerGrip=function(ft){let gt=U[ft];return gt===void 0&&(gt=new e0,U[ft]=gt),gt.getGripSpace()},this.getHand=function(ft){let gt=U[ft];return gt===void 0&&(gt=new e0,U[ft]=gt),gt.getHandSpace()};function Le(ft){const gt=Q.indexOf(ft.inputSource);if(gt===-1)return;const Qt=U[gt];Qt!==void 0&&Qt.dispatchEvent({type:ft.type,data:ft.inputSource})}function je(){a.removeEventListener("select",Le),a.removeEventListener("selectstart",Le),a.removeEventListener("selectend",Le),a.removeEventListener("squeeze",Le),a.removeEventListener("squeezestart",Le),a.removeEventListener("squeezeend",Le),a.removeEventListener("end",je),a.removeEventListener("inputsourceschange",be);for(let ft=0;ft<U.length;ft++){const gt=Q[ft];gt!==null&&(Q[ft]=null,U[ft].disconnect(gt))}ge=null,we=null,e.setRenderTarget(k),x=null,S=null,w=null,a=null,L=null,mt.stop(),s.isPresenting=!1,s.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ft){u=ft,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ft){m=ft,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return _||f},this.setReferenceSpace=function(ft){_=ft},this.getBaseLayer=function(){return S!==null?S:x},this.getBinding=function(){return w},this.getFrame=function(){return P},this.getSession=function(){return a},this.setSession=async function(ft){if(a=ft,a!==null){if(k=e.getRenderTarget(),a.addEventListener("select",Le),a.addEventListener("selectstart",Le),a.addEventListener("selectend",Le),a.addEventListener("squeeze",Le),a.addEventListener("squeezestart",Le),a.addEventListener("squeezeend",Le),a.addEventListener("end",je),a.addEventListener("inputsourceschange",be),O.xrCompatible!==!0&&await r.makeXRCompatible(),a.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const gt={antialias:a.renderState.layers===void 0?O.antialias:!0,alpha:O.alpha,depth:O.depth,stencil:O.stencil,framebufferScaleFactor:u};x=new XRWebGLLayer(a,r,gt),a.updateRenderState({baseLayer:x}),L=new Xc(x.framebufferWidth,x.framebufferHeight,{format:Xi,type:Pt,encoding:e.outputEncoding,stencilBuffer:O.stencil})}else{let gt=null,Qt=null,c=null;O.depth&&(c=O.stencil?35056:33190,gt=O.stencil?nd:zc,Qt=O.stencil?td:Qi);const pn={colorFormat:32856,depthFormat:c,scaleFactor:u};w=new XRWebGLBinding(a,r),S=w.createProjectionLayer(pn),a.updateRenderState({layers:[S]}),L=new Xc(S.textureWidth,S.textureHeight,{format:Xi,type:Pt,depthTexture:new bO(S.textureWidth,S.textureHeight,Qt,void 0,void 0,void 0,void 0,void 0,void 0,gt),stencilBuffer:O.stencil,encoding:e.outputEncoding,samples:O.antialias?4:0});const at=e.properties.get(L);at.__ignoreDepthValues=S.ignoreDepthValues}L.isXRRenderTarget=!0,this.setFoveation(1),_=null,f=await a.requestReferenceSpace(m),mt.setContext(a),mt.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}};function be(ft){for(let gt=0;gt<ft.removed.length;gt++){const Qt=ft.removed[gt],c=Q.indexOf(Qt);c>=0&&(Q[c]=null,U[c].disconnect(Qt))}for(let gt=0;gt<ft.added.length;gt++){const Qt=ft.added[gt];let c=Q.indexOf(Qt);if(c===-1){for(let at=0;at<U.length;at++)if(at>=Q.length){Q.push(Qt),c=at;break}else if(Q[at]===null){Q[at]=Qt,c=at;break}if(c===-1)break}const pn=U[c];pn&&pn.connect(Qt)}}const Te=new ut,Je=new ut;function it(ft,gt,Qt){Te.setFromMatrixPosition(gt.matrixWorld),Je.setFromMatrixPosition(Qt.matrixWorld);const c=Te.distanceTo(Je),pn=gt.projectionMatrix.elements,at=Qt.projectionMatrix.elements,$e=pn[14]/(pn[10]-1),Mt=pn[14]/(pn[10]+1),jt=(pn[9]+1)/pn[5],Kt=(pn[9]-1)/pn[5],wn=(pn[8]-1)/pn[0],Pn=(at[8]+1)/at[0],Xn=$e*wn,Br=$e*Pn,rn=c/(-wn+Pn),mn=rn*-wn;gt.matrixWorld.decompose(ft.position,ft.quaternion,ft.scale),ft.translateX(mn),ft.translateZ(rn),ft.matrixWorld.compose(ft.position,ft.quaternion,ft.scale),ft.matrixWorldInverse.copy(ft.matrixWorld).invert();const Ve=$e+rn,Un=Mt+rn,En=Xn-mn,Bt=Br+(c-mn),ue=jt*Mt/Un*Ve,W=Kt*Mt/Un*Ve;ft.projectionMatrix.makePerspective(En,Bt,ue,W,Ve,Un)}function tt(ft,gt){gt===null?ft.matrixWorld.copy(ft.matrix):ft.matrixWorld.multiplyMatrices(gt.matrixWorld,ft.matrix),ft.matrixWorldInverse.copy(ft.matrixWorld).invert()}this.updateCamera=function(ft){if(a===null)return;j.near=te.near=X.near=ft.near,j.far=te.far=X.far=ft.far,(ge!==j.near||we!==j.far)&&(a.updateRenderState({depthNear:j.near,depthFar:j.far}),ge=j.near,we=j.far);const gt=ft.parent,Qt=j.cameras;tt(j,gt);for(let pn=0;pn<Qt.length;pn++)tt(Qt[pn],gt);j.matrixWorld.decompose(j.position,j.quaternion,j.scale),ft.matrix.copy(j.matrix),ft.matrix.decompose(ft.position,ft.quaternion,ft.scale);const c=ft.children;for(let pn=0,at=c.length;pn<at;pn++)c[pn].updateMatrixWorld(!0);Qt.length===2?it(j,X,te):j.projectionMatrix.copy(X.projectionMatrix)},this.getCamera=function(){return j},this.getFoveation=function(){if(S!==null)return S.fixedFoveation;if(x!==null)return x.fixedFoveation},this.setFoveation=function(ft){S!==null&&(S.fixedFoveation=ft),x!==null&&x.fixedFoveation!==void 0&&(x.fixedFoveation=ft)},this.getPlanes=function(){return G};let Me=null;function lt(ft,gt){if(A=gt.getViewerPose(_||f),P=gt,A!==null){const Qt=A.views;x!==null&&(e.setRenderTargetFramebuffer(L,x.framebuffer),e.setRenderTarget(L));let c=!1;Qt.length!==j.cameras.length&&(j.cameras.length=0,c=!0);for(let pn=0;pn<Qt.length;pn++){const at=Qt[pn];let $e=null;if(x!==null)$e=x.getViewport(at);else{const jt=w.getViewSubImage(S,at);$e=jt.viewport,pn===0&&(e.setRenderTargetTextures(L,jt.colorTexture,S.ignoreDepthValues?void 0:jt.depthStencilTexture),e.setRenderTarget(L))}let Mt=ae[pn];Mt===void 0&&(Mt=new as,Mt.layers.enable(pn),Mt.viewport=new oi,ae[pn]=Mt),Mt.matrix.fromArray(at.transform.matrix),Mt.projectionMatrix.fromArray(at.projectionMatrix),Mt.viewport.set($e.x,$e.y,$e.width,$e.height),pn===0&&j.matrix.copy(Mt.matrix),c===!0&&j.cameras.push(Mt)}}for(let Qt=0;Qt<U.length;Qt++){const c=Q[Qt],pn=U[Qt];c!==null&&pn!==void 0&&pn.update(c,gt,_||f)}if(Me&&Me(ft,gt),gt.detectedPlanes){s.dispatchEvent({type:"planesdetected",data:gt.detectedPlanes});let Qt=null;for(const c of G)gt.detectedPlanes.has(c)||(Qt===null&&(Qt=[]),Qt.push(c));if(Qt!==null)for(const c of Qt)G.delete(c),Z.delete(c),s.dispatchEvent({type:"planeremoved",data:c});for(const c of gt.detectedPlanes)if(!G.has(c))G.add(c),Z.set(c,gt.lastChangedTime),s.dispatchEvent({type:"planeadded",data:c});else{const pn=Z.get(c);c.lastChangedTime>pn&&(Z.set(c,c.lastChangedTime),s.dispatchEvent({type:"planechanged",data:c}))}}P=null}const mt=new DE;mt.setAnimationLoop(lt),this.setAnimationLoop=function(ft){Me=ft},this.dispose=function(){}}}function wO(p,e){function r(k,L){L.color.getRGB(k.fogColor.value,TE(p)),L.isFog?(k.fogNear.value=L.near,k.fogFar.value=L.far):L.isFogExp2&&(k.fogDensity.value=L.density)}function s(k,L,U,Q,G){L.isMeshBasicMaterial||L.isMeshLambertMaterial?a(k,L):L.isMeshToonMaterial?(a(k,L),w(k,L)):L.isMeshPhongMaterial?(a(k,L),A(k,L)):L.isMeshStandardMaterial?(a(k,L),S(k,L),L.isMeshPhysicalMaterial&&x(k,L,G)):L.isMeshMatcapMaterial?(a(k,L),P(k,L)):L.isMeshDepthMaterial?a(k,L):L.isMeshDistanceMaterial?(a(k,L),O(k,L)):L.isMeshNormalMaterial?a(k,L):L.isLineBasicMaterial?(u(k,L),L.isLineDashedMaterial&&f(k,L)):L.isPointsMaterial?m(k,L,U,Q):L.isSpriteMaterial?_(k,L):L.isShadowMaterial?(k.color.value.copy(L.color),k.opacity.value=L.opacity):L.isShaderMaterial&&(L.uniformsNeedUpdate=!1)}function a(k,L){k.opacity.value=L.opacity,L.color&&k.diffuse.value.copy(L.color),L.emissive&&k.emissive.value.copy(L.emissive).multiplyScalar(L.emissiveIntensity),L.map&&(k.map.value=L.map),L.alphaMap&&(k.alphaMap.value=L.alphaMap),L.bumpMap&&(k.bumpMap.value=L.bumpMap,k.bumpScale.value=L.bumpScale,L.side===H&&(k.bumpScale.value*=-1)),L.displacementMap&&(k.displacementMap.value=L.displacementMap,k.displacementScale.value=L.displacementScale,k.displacementBias.value=L.displacementBias),L.emissiveMap&&(k.emissiveMap.value=L.emissiveMap),L.normalMap&&(k.normalMap.value=L.normalMap,k.normalScale.value.copy(L.normalScale),L.side===H&&k.normalScale.value.negate()),L.specularMap&&(k.specularMap.value=L.specularMap),L.alphaTest>0&&(k.alphaTest.value=L.alphaTest);const U=e.get(L).envMap;if(U&&(k.envMap.value=U,k.flipEnvMap.value=U.isCubeTexture&&U.isRenderTargetTexture===!1?-1:1,k.reflectivity.value=L.reflectivity,k.ior.value=L.ior,k.refractionRatio.value=L.refractionRatio),L.lightMap){k.lightMap.value=L.lightMap;const Z=p.physicallyCorrectLights!==!0?Math.PI:1;k.lightMapIntensity.value=L.lightMapIntensity*Z}L.aoMap&&(k.aoMap.value=L.aoMap,k.aoMapIntensity.value=L.aoMapIntensity);let Q;L.map?Q=L.map:L.specularMap?Q=L.specularMap:L.displacementMap?Q=L.displacementMap:L.normalMap?Q=L.normalMap:L.bumpMap?Q=L.bumpMap:L.roughnessMap?Q=L.roughnessMap:L.metalnessMap?Q=L.metalnessMap:L.alphaMap?Q=L.alphaMap:L.emissiveMap?Q=L.emissiveMap:L.clearcoatMap?Q=L.clearcoatMap:L.clearcoatNormalMap?Q=L.clearcoatNormalMap:L.clearcoatRoughnessMap?Q=L.clearcoatRoughnessMap:L.iridescenceMap?Q=L.iridescenceMap:L.iridescenceThicknessMap?Q=L.iridescenceThicknessMap:L.specularIntensityMap?Q=L.specularIntensityMap:L.specularColorMap?Q=L.specularColorMap:L.transmissionMap?Q=L.transmissionMap:L.thicknessMap?Q=L.thicknessMap:L.sheenColorMap?Q=L.sheenColorMap:L.sheenRoughnessMap&&(Q=L.sheenRoughnessMap),Q!==void 0&&(Q.isWebGLRenderTarget&&(Q=Q.texture),Q.matrixAutoUpdate===!0&&Q.updateMatrix(),k.uvTransform.value.copy(Q.matrix));let G;L.aoMap?G=L.aoMap:L.lightMap&&(G=L.lightMap),G!==void 0&&(G.isWebGLRenderTarget&&(G=G.texture),G.matrixAutoUpdate===!0&&G.updateMatrix(),k.uv2Transform.value.copy(G.matrix))}function u(k,L){k.diffuse.value.copy(L.color),k.opacity.value=L.opacity}function f(k,L){k.dashSize.value=L.dashSize,k.totalSize.value=L.dashSize+L.gapSize,k.scale.value=L.scale}function m(k,L,U,Q){k.diffuse.value.copy(L.color),k.opacity.value=L.opacity,k.size.value=L.size*U,k.scale.value=Q*.5,L.map&&(k.map.value=L.map),L.alphaMap&&(k.alphaMap.value=L.alphaMap),L.alphaTest>0&&(k.alphaTest.value=L.alphaTest);let G;L.map?G=L.map:L.alphaMap&&(G=L.alphaMap),G!==void 0&&(G.matrixAutoUpdate===!0&&G.updateMatrix(),k.uvTransform.value.copy(G.matrix))}function _(k,L){k.diffuse.value.copy(L.color),k.opacity.value=L.opacity,k.rotation.value=L.rotation,L.map&&(k.map.value=L.map),L.alphaMap&&(k.alphaMap.value=L.alphaMap),L.alphaTest>0&&(k.alphaTest.value=L.alphaTest);let U;L.map?U=L.map:L.alphaMap&&(U=L.alphaMap),U!==void 0&&(U.matrixAutoUpdate===!0&&U.updateMatrix(),k.uvTransform.value.copy(U.matrix))}function A(k,L){k.specular.value.copy(L.specular),k.shininess.value=Math.max(L.shininess,1e-4)}function w(k,L){L.gradientMap&&(k.gradientMap.value=L.gradientMap)}function S(k,L){k.roughness.value=L.roughness,k.metalness.value=L.metalness,L.roughnessMap&&(k.roughnessMap.value=L.roughnessMap),L.metalnessMap&&(k.metalnessMap.value=L.metalnessMap),e.get(L).envMap&&(k.envMapIntensity.value=L.envMapIntensity)}function x(k,L,U){k.ior.value=L.ior,L.sheen>0&&(k.sheenColor.value.copy(L.sheenColor).multiplyScalar(L.sheen),k.sheenRoughness.value=L.sheenRoughness,L.sheenColorMap&&(k.sheenColorMap.value=L.sheenColorMap),L.sheenRoughnessMap&&(k.sheenRoughnessMap.value=L.sheenRoughnessMap)),L.clearcoat>0&&(k.clearcoat.value=L.clearcoat,k.clearcoatRoughness.value=L.clearcoatRoughness,L.clearcoatMap&&(k.clearcoatMap.value=L.clearcoatMap),L.clearcoatRoughnessMap&&(k.clearcoatRoughnessMap.value=L.clearcoatRoughnessMap),L.clearcoatNormalMap&&(k.clearcoatNormalScale.value.copy(L.clearcoatNormalScale),k.clearcoatNormalMap.value=L.clearcoatNormalMap,L.side===H&&k.clearcoatNormalScale.value.negate())),L.iridescence>0&&(k.iridescence.value=L.iridescence,k.iridescenceIOR.value=L.iridescenceIOR,k.iridescenceThicknessMinimum.value=L.iridescenceThicknessRange[0],k.iridescenceThicknessMaximum.value=L.iridescenceThicknessRange[1],L.iridescenceMap&&(k.iridescenceMap.value=L.iridescenceMap),L.iridescenceThicknessMap&&(k.iridescenceThicknessMap.value=L.iridescenceThicknessMap)),L.transmission>0&&(k.transmission.value=L.transmission,k.transmissionSamplerMap.value=U.texture,k.transmissionSamplerSize.value.set(U.width,U.height),L.transmissionMap&&(k.transmissionMap.value=L.transmissionMap),k.thickness.value=L.thickness,L.thicknessMap&&(k.thicknessMap.value=L.thicknessMap),k.attenuationDistance.value=L.attenuationDistance,k.attenuationColor.value.copy(L.attenuationColor)),k.specularIntensity.value=L.specularIntensity,k.specularColor.value.copy(L.specularColor),L.specularIntensityMap&&(k.specularIntensityMap.value=L.specularIntensityMap),L.specularColorMap&&(k.specularColorMap.value=L.specularColorMap)}function P(k,L){L.matcap&&(k.matcap.value=L.matcap)}function O(k,L){k.referencePosition.value.copy(L.referencePosition),k.nearDistance.value=L.nearDistance,k.farDistance.value=L.farDistance}return{refreshFogUniforms:r,refreshMaterialUniforms:s}}function EO(p,e,r,s){let a={},u={},f=[];const m=r.isWebGL2?p.getParameter(35375):0;function _(Q,G){const Z=G.program;s.uniformBlockBinding(Q,Z)}function A(Q,G){let Z=a[Q.id];Z===void 0&&(O(Q),Z=w(Q),a[Q.id]=Z,Q.addEventListener("dispose",L));const X=G.program;s.updateUBOMapping(Q,X);const te=e.render.frame;u[Q.id]!==te&&(x(Q),u[Q.id]=te)}function w(Q){const G=S();Q.__bindingPointIndex=G;const Z=p.createBuffer(),X=Q.__size,te=Q.usage;return p.bindBuffer(35345,Z),p.bufferData(35345,X,te),p.bindBuffer(35345,null),p.bindBufferBase(35345,G,Z),Z}function S(){for(let Q=0;Q<m;Q++)if(f.indexOf(Q)===-1)return f.push(Q),Q;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function x(Q){const G=a[Q.id],Z=Q.uniforms,X=Q.__cache;p.bindBuffer(35345,G);for(let te=0,ae=Z.length;te<ae;te++){const j=Z[te];if(P(j,te,X)===!0){const ge=j.__offset,we=Array.isArray(j.value)?j.value:[j.value];let Le=0;for(let je=0;je<we.length;je++){const be=we[je],Te=k(be);typeof be=="number"?(j.__data[0]=be,p.bufferSubData(35345,ge+Le,j.__data)):be.isMatrix3?(j.__data[0]=be.elements[0],j.__data[1]=be.elements[1],j.__data[2]=be.elements[2],j.__data[3]=be.elements[0],j.__data[4]=be.elements[3],j.__data[5]=be.elements[4],j.__data[6]=be.elements[5],j.__data[7]=be.elements[0],j.__data[8]=be.elements[6],j.__data[9]=be.elements[7],j.__data[10]=be.elements[8],j.__data[11]=be.elements[0]):(be.toArray(j.__data,Le),Le+=Te.storage/Float32Array.BYTES_PER_ELEMENT)}p.bufferSubData(35345,ge,j.__data)}}p.bindBuffer(35345,null)}function P(Q,G,Z){const X=Q.value;if(Z[G]===void 0){if(typeof X=="number")Z[G]=X;else{const te=Array.isArray(X)?X:[X],ae=[];for(let j=0;j<te.length;j++)ae.push(te[j].clone());Z[G]=ae}return!0}else if(typeof X=="number"){if(Z[G]!==X)return Z[G]=X,!0}else{const te=Array.isArray(Z[G])?Z[G]:[Z[G]],ae=Array.isArray(X)?X:[X];for(let j=0;j<te.length;j++){const ge=te[j];if(ge.equals(ae[j])===!1)return ge.copy(ae[j]),!0}}return!1}function O(Q){const G=Q.uniforms;let Z=0;const X=16;let te=0;for(let ae=0,j=G.length;ae<j;ae++){const ge=G[ae],we={boundary:0,storage:0},Le=Array.isArray(ge.value)?ge.value:[ge.value];for(let je=0,be=Le.length;je<be;je++){const Te=Le[je],Je=k(Te);we.boundary+=Je.boundary,we.storage+=Je.storage}if(ge.__data=new Float32Array(we.storage/Float32Array.BYTES_PER_ELEMENT),ge.__offset=Z,ae>0){te=Z%X;const je=X-te;te!==0&&je-we.boundary<0&&(Z+=X-te,ge.__offset=Z)}Z+=we.storage}return te=Z%X,te>0&&(Z+=X-te),Q.__size=Z,Q.__cache={},this}function k(Q){const G={boundary:0,storage:0};return typeof Q=="number"?(G.boundary=4,G.storage=4):Q.isVector2?(G.boundary=8,G.storage=8):Q.isVector3||Q.isColor?(G.boundary=16,G.storage=12):Q.isVector4?(G.boundary=16,G.storage=16):Q.isMatrix3?(G.boundary=48,G.storage=48):Q.isMatrix4?(G.boundary=64,G.storage=64):Q.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Q),G}function L(Q){const G=Q.target;G.removeEventListener("dispose",L);const Z=f.indexOf(G.__bindingPointIndex);f.splice(Z,1),p.deleteBuffer(a[G.id]),delete a[G.id],delete u[G.id]}function U(){for(const Q in a)p.deleteBuffer(a[Q]);f=[],a={},u={}}return{bind:_,update:A,dispose:U}}function CO(){const p=th("canvas");return p.style.display="block",p}function rg(p={}){this.isWebGLRenderer=!0;const e=p.canvas!==void 0?p.canvas:CO(),r=p.context!==void 0?p.context:null,s=p.depth!==void 0?p.depth:!0,a=p.stencil!==void 0?p.stencil:!0,u=p.antialias!==void 0?p.antialias:!1,f=p.premultipliedAlpha!==void 0?p.premultipliedAlpha:!0,m=p.preserveDrawingBuffer!==void 0?p.preserveDrawingBuffer:!1,_=p.powerPreference!==void 0?p.powerPreference:"default",A=p.failIfMajorPerformanceCaveat!==void 0?p.failIfMajorPerformanceCaveat:!1;let w;r!==null?w=r.getContextAttributes().alpha:w=p.alpha!==void 0?p.alpha:!1;let S=null,x=null;const P=[],O=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Vo,this.physicallyCorrectLights=!1,this.toneMapping=Ke,this.toneMappingExposure=1;const k=this;let L=!1,U=0,Q=0,G=null,Z=-1,X=null;const te=new oi,ae=new oi;let j=null,ge=e.width,we=e.height,Le=1,je=null,be=null;const Te=new oi(0,0,ge,we),Je=new oi(0,0,ge,we);let it=!1;const tt=new KA;let Me=!1,lt=!1,mt=null;const ft=new Rr,gt=new Gn,Qt=new ut,c={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function pn(){return G===null?Le:1}let at=r;function $e(ze,Gt){for(let Jt=0;Jt<ze.length;Jt++){const kt=ze[Jt],Zt=e.getContext(kt,Gt);if(Zt!==null)return Zt}return null}try{const ze={alpha:!0,depth:s,stencil:a,antialias:u,premultipliedAlpha:f,preserveDrawingBuffer:m,powerPreference:_,failIfMajorPerformanceCaveat:A};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${E}`),e.addEventListener("webglcontextlost",Tn,!1),e.addEventListener("webglcontextrestored",Qn,!1),e.addEventListener("webglcontextcreationerror",vr,!1),at===null){const Gt=["webgl2","webgl","experimental-webgl"];if(k.isWebGL1Renderer===!0&&Gt.shift(),at=$e(Gt,ze),at===null)throw $e(Gt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}at.getShaderPrecisionFormat===void 0&&(at.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ze){throw console.error("THREE.WebGLRenderer: "+ze.message),ze}let Mt,jt,Kt,wn,Pn,Xn,Br,rn,mn,Ve,Un,En,Bt,ue,W,Y,de,De,et,Tt,sn,Fe,wt,bn;function Vn(){Mt=new L4(at),jt=new T4(at,Mt,p),Mt.init(jt),Fe=new _O(at,Mt,jt),Kt=new gO(at,Mt,jt),wn=new V4,Pn=new nO,Xn=new vO(at,Mt,Kt,Pn,jt,Fe,wn),Br=new N4(k),rn=new k4(k),mn=new Mk(at,jt),wt=new M4(at,Mt,mn,jt),Ve=new O4(at,mn,wn,wt),Un=new H4(at,Ve,mn,wn),et=new z4(at,jt,Xn),Y=new P4(Pn),En=new tO(k,Br,rn,Mt,jt,wt,Y),Bt=new wO(k,Pn),ue=new iO,W=new uO(Mt,jt),De=new x4(k,Br,rn,Kt,Un,w,f),de=new mO(k,Un,jt),bn=new EO(at,wn,jt,Kt),Tt=new R4(at,Mt,wn,jt),sn=new F4(at,Mt,wn,jt),wn.programs=En.programs,k.capabilities=jt,k.extensions=Mt,k.properties=Pn,k.renderLists=ue,k.shadowMap=de,k.state=Kt,k.info=wn}Vn();const Cn=new SO(k,at);this.xr=Cn,this.getContext=function(){return at},this.getContextAttributes=function(){return at.getContextAttributes()},this.forceContextLoss=function(){const ze=Mt.get("WEBGL_lose_context");ze&&ze.loseContext()},this.forceContextRestore=function(){const ze=Mt.get("WEBGL_lose_context");ze&&ze.restoreContext()},this.getPixelRatio=function(){return Le},this.setPixelRatio=function(ze){ze!==void 0&&(Le=ze,this.setSize(ge,we,!1))},this.getSize=function(ze){return ze.set(ge,we)},this.setSize=function(ze,Gt,Jt){if(Cn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ge=ze,we=Gt,e.width=Math.floor(ze*Le),e.height=Math.floor(Gt*Le),Jt!==!1&&(e.style.width=ze+"px",e.style.height=Gt+"px"),this.setViewport(0,0,ze,Gt)},this.getDrawingBufferSize=function(ze){return ze.set(ge*Le,we*Le).floor()},this.setDrawingBufferSize=function(ze,Gt,Jt){ge=ze,we=Gt,Le=Jt,e.width=Math.floor(ze*Jt),e.height=Math.floor(Gt*Jt),this.setViewport(0,0,ze,Gt)},this.getCurrentViewport=function(ze){return ze.copy(te)},this.getViewport=function(ze){return ze.copy(Te)},this.setViewport=function(ze,Gt,Jt,kt){ze.isVector4?Te.set(ze.x,ze.y,ze.z,ze.w):Te.set(ze,Gt,Jt,kt),Kt.viewport(te.copy(Te).multiplyScalar(Le).floor())},this.getScissor=function(ze){return ze.copy(Je)},this.setScissor=function(ze,Gt,Jt,kt){ze.isVector4?Je.set(ze.x,ze.y,ze.z,ze.w):Je.set(ze,Gt,Jt,kt),Kt.scissor(ae.copy(Je).multiplyScalar(Le).floor())},this.getScissorTest=function(){return it},this.setScissorTest=function(ze){Kt.setScissorTest(it=ze)},this.setOpaqueSort=function(ze){je=ze},this.setTransparentSort=function(ze){be=ze},this.getClearColor=function(ze){return ze.copy(De.getClearColor())},this.setClearColor=function(){De.setClearColor.apply(De,arguments)},this.getClearAlpha=function(){return De.getClearAlpha()},this.setClearAlpha=function(){De.setClearAlpha.apply(De,arguments)},this.clear=function(ze=!0,Gt=!0,Jt=!0){let kt=0;ze&&(kt|=16384),Gt&&(kt|=256),Jt&&(kt|=1024),at.clear(kt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Tn,!1),e.removeEventListener("webglcontextrestored",Qn,!1),e.removeEventListener("webglcontextcreationerror",vr,!1),ue.dispose(),W.dispose(),Pn.dispose(),Br.dispose(),rn.dispose(),Un.dispose(),wt.dispose(),bn.dispose(),En.dispose(),Cn.dispose(),Cn.removeEventListener("sessionstart",kn),Cn.removeEventListener("sessionend",qn),mt&&(mt.dispose(),mt=null),Xr.stop()};function Tn(ze){ze.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),L=!0}function Qn(){console.log("THREE.WebGLRenderer: Context Restored."),L=!1;const ze=wn.autoReset,Gt=de.enabled,Jt=de.autoUpdate,kt=de.needsUpdate,Zt=de.type;Vn(),wn.autoReset=ze,de.enabled=Gt,de.autoUpdate=Jt,de.needsUpdate=kt,de.type=Zt}function vr(ze){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ze.statusMessage)}function Ir(ze){const Gt=ze.target;Gt.removeEventListener("dispose",Ir),Gr(Gt)}function Gr(ze){vt(ze),Pn.remove(ze)}function vt(ze){const Gt=Pn.get(ze).programs;Gt!==void 0&&(Gt.forEach(function(Jt){En.releaseProgram(Jt)}),ze.isShaderMaterial&&En.releaseShaderCache(ze))}this.renderBufferDirect=function(ze,Gt,Jt,kt,Zt,$n){Gt===null&&(Gt=c);const lr=Zt.isMesh&&Zt.matrixWorld.determinant()<0,wr=ac(ze,Gt,Jt,kt,Zt);Kt.setMaterial(kt,lr);let Ln=Jt.index,Ur=1;kt.wireframe===!0&&(Ln=Ve.getWireframeAttribute(Jt),Ur=2);const Dr=Jt.drawRange,Or=Jt.attributes.position;let Pr=Dr.start*Ur,ms=(Dr.start+Dr.count)*Ur;$n!==null&&(Pr=Math.max(Pr,$n.start*Ur),ms=Math.min(ms,($n.start+$n.count)*Ur)),Ln!==null?(Pr=Math.max(Pr,0),ms=Math.min(ms,Ln.count)):Or!=null&&(Pr=Math.max(Pr,0),ms=Math.min(ms,Or.count));const wo=ms-Pr;if(wo<0||wo===1/0)return;wt.setup(Zt,kt,wr,Jt,Ln);let Ba,wi=Tt;if(Ln!==null&&(Ba=mn.get(Ln),wi=sn,wi.setIndex(Ba)),Zt.isMesh)kt.wireframe===!0?(Kt.setLineWidth(kt.wireframeLinewidth*pn()),wi.setMode(1)):wi.setMode(4);else if(Zt.isLine){let zr=kt.linewidth;zr===void 0&&(zr=1),Kt.setLineWidth(zr*pn()),Zt.isLineSegments?wi.setMode(1):Zt.isLineLoop?wi.setMode(2):wi.setMode(3)}else Zt.isPoints?wi.setMode(0):Zt.isSprite&&wi.setMode(4);if(Zt.isInstancedMesh)wi.renderInstances(Pr,wo,Zt.count);else if(Jt.isInstancedBufferGeometry){const zr=Jt._maxInstanceCount!==void 0?Jt._maxInstanceCount:1/0,tp=Math.min(Jt.instanceCount,zr);wi.renderInstances(Pr,wo,tp)}else wi.render(Pr,wo)},this.compile=function(ze,Gt){function Jt(kt,Zt,$n){kt.transparent===!0&&kt.side===he?(kt.side=H,kt.needsUpdate=!0,Os(kt,Zt,$n),kt.side=z,kt.needsUpdate=!0,Os(kt,Zt,$n),kt.side=he):Os(kt,Zt,$n)}x=W.get(ze),x.init(),O.push(x),ze.traverseVisible(function(kt){kt.isLight&&kt.layers.test(Gt.layers)&&(x.pushLight(kt),kt.castShadow&&x.pushShadow(kt))}),x.setupLights(k.physicallyCorrectLights),ze.traverse(function(kt){const Zt=kt.material;if(Zt)if(Array.isArray(Zt))for(let $n=0;$n<Zt.length;$n++){const lr=Zt[$n];Jt(lr,ze,kt)}else Jt(Zt,ze,kt)}),O.pop(),x=null};let qt=null;function Sn(ze){qt&&qt(ze)}function kn(){Xr.stop()}function qn(){Xr.start()}const Xr=new DE;Xr.setAnimationLoop(Sn),typeof self<"u"&&Xr.setContext(self),this.setAnimationLoop=function(ze){qt=ze,Cn.setAnimationLoop(ze),ze===null?Xr.stop():Xr.start()},Cn.addEventListener("sessionstart",kn),Cn.addEventListener("sessionend",qn),this.render=function(ze,Gt){if(Gt!==void 0&&Gt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(L===!0)return;ze.matrixWorldAutoUpdate===!0&&ze.updateMatrixWorld(),Gt.parent===null&&Gt.matrixWorldAutoUpdate===!0&&Gt.updateMatrixWorld(),Cn.enabled===!0&&Cn.isPresenting===!0&&(Cn.cameraAutoUpdate===!0&&Cn.updateCamera(Gt),Gt=Cn.getCamera()),ze.isScene===!0&&ze.onBeforeRender(k,ze,Gt,G),x=W.get(ze,O.length),x.init(),O.push(x),ft.multiplyMatrices(Gt.projectionMatrix,Gt.matrixWorldInverse),tt.setFromProjectionMatrix(ft),lt=this.localClippingEnabled,Me=Y.init(this.clippingPlanes,lt,Gt),S=ue.get(ze,P.length),S.init(),P.push(S),Pi(ze,Gt,0,k.sortObjects),S.finish(),k.sortObjects===!0&&S.sort(je,be),Me===!0&&Y.beginShadows();const Jt=x.state.shadowsArray;if(de.render(Jt,ze,Gt),Me===!0&&Y.endShadows(),this.info.autoReset===!0&&this.info.reset(),De.render(S,ze),x.setupLights(k.physicallyCorrectLights),Gt.isArrayCamera){const kt=Gt.cameras;for(let Zt=0,$n=kt.length;Zt<$n;Zt++){const lr=kt[Zt];Ci(S,ze,lr,lr.viewport)}}else Ci(S,ze,Gt);G!==null&&(Xn.updateMultisampleRenderTarget(G),Xn.updateRenderTargetMipmap(G)),ze.isScene===!0&&ze.onAfterRender(k,ze,Gt),wt.resetDefaultState(),Z=-1,X=null,O.pop(),O.length>0?x=O[O.length-1]:x=null,P.pop(),P.length>0?S=P[P.length-1]:S=null};function Pi(ze,Gt,Jt,kt){if(ze.visible===!1)return;if(ze.layers.test(Gt.layers)){if(ze.isGroup)Jt=ze.renderOrder;else if(ze.isLOD)ze.autoUpdate===!0&&ze.update(Gt);else if(ze.isLight)x.pushLight(ze),ze.castShadow&&x.pushShadow(ze);else if(ze.isSprite){if(!ze.frustumCulled||tt.intersectsSprite(ze)){kt&&Qt.setFromMatrixPosition(ze.matrixWorld).applyMatrix4(ft);const lr=Un.update(ze),wr=ze.material;wr.visible&&S.push(ze,lr,wr,Jt,Qt.z,null)}}else if((ze.isMesh||ze.isLine||ze.isPoints)&&(ze.isSkinnedMesh&&ze.skeleton.frame!==wn.render.frame&&(ze.skeleton.update(),ze.skeleton.frame=wn.render.frame),!ze.frustumCulled||tt.intersectsObject(ze))){kt&&Qt.setFromMatrixPosition(ze.matrixWorld).applyMatrix4(ft);const lr=Un.update(ze),wr=ze.material;if(Array.isArray(wr)){const Ln=lr.groups;for(let Ur=0,Dr=Ln.length;Ur<Dr;Ur++){const Or=Ln[Ur],Pr=wr[Or.materialIndex];Pr&&Pr.visible&&S.push(ze,lr,Pr,Jt,Qt.z,Or)}}else wr.visible&&S.push(ze,lr,wr,Jt,Qt.z,null)}}const $n=ze.children;for(let lr=0,wr=$n.length;lr<wr;lr++)Pi($n[lr],Gt,Jt,kt)}function Ci(ze,Gt,Jt,kt){const Zt=ze.opaque,$n=ze.transmissive,lr=ze.transparent;x.setupLightsView(Jt),$n.length>0&&ra(Zt,Gt,Jt),kt&&Kt.viewport(te.copy(kt)),Zt.length>0&&ci(Zt,Gt,Jt),$n.length>0&&ci($n,Gt,Jt),lr.length>0&&ci(lr,Gt,Jt),Kt.buffers.depth.setTest(!0),Kt.buffers.depth.setMask(!0),Kt.buffers.color.setMask(!0),Kt.setPolygonOffset(!1)}function ra(ze,Gt,Jt){const kt=jt.isWebGL2;mt===null&&(mt=new Xc(1,1,{generateMipmaps:!0,type:Mt.has("EXT_color_buffer_half_float")?$s:Pt,minFilter:Vr,samples:kt&&u===!0?4:0})),k.getDrawingBufferSize(gt),kt?mt.setSize(gt.x,gt.y):mt.setSize(Tm(gt.x),Tm(gt.y));const Zt=k.getRenderTarget();k.setRenderTarget(mt),k.clear();const $n=k.toneMapping;k.toneMapping=Ke,ci(ze,Gt,Jt),k.toneMapping=$n,Xn.updateMultisampleRenderTarget(mt),Xn.updateRenderTargetMipmap(mt),k.setRenderTarget(Zt)}function ci(ze,Gt,Jt){const kt=Gt.isScene===!0?Gt.overrideMaterial:null;for(let Zt=0,$n=ze.length;Zt<$n;Zt++){const lr=ze[Zt],wr=lr.object,Ln=lr.geometry,Ur=kt===null?lr.material:kt,Dr=lr.group;wr.layers.test(Jt.layers)&&ia(wr,Gt,Jt,Ln,Ur,Dr)}}function ia(ze,Gt,Jt,kt,Zt,$n){ze.onBeforeRender(k,Gt,Jt,kt,Zt,$n),ze.modelViewMatrix.multiplyMatrices(Jt.matrixWorldInverse,ze.matrixWorld),ze.normalMatrix.getNormalMatrix(ze.modelViewMatrix),Zt.onBeforeRender(k,Gt,Jt,kt,ze,$n),Zt.transparent===!0&&Zt.side===he?(Zt.side=H,Zt.needsUpdate=!0,k.renderBufferDirect(Jt,Gt,kt,Zt,ze,$n),Zt.side=z,Zt.needsUpdate=!0,k.renderBufferDirect(Jt,Gt,kt,Zt,ze,$n),Zt.side=he):k.renderBufferDirect(Jt,Gt,kt,Zt,ze,$n),ze.onAfterRender(k,Gt,Jt,kt,Zt,$n)}function Os(ze,Gt,Jt){Gt.isScene!==!0&&(Gt=c);const kt=Pn.get(ze),Zt=x.state.lights,$n=x.state.shadowsArray,lr=Zt.state.version,wr=En.getParameters(ze,Zt.state,$n,Gt,Jt),Ln=En.getProgramCacheKey(wr);let Ur=kt.programs;kt.environment=ze.isMeshStandardMaterial?Gt.environment:null,kt.fog=Gt.fog,kt.envMap=(ze.isMeshStandardMaterial?rn:Br).get(ze.envMap||kt.environment),Ur===void 0&&(ze.addEventListener("dispose",Ir),Ur=new Map,kt.programs=Ur);let Dr=Ur.get(Ln);if(Dr!==void 0){if(kt.currentProgram===Dr&&kt.lightsStateVersion===lr)return Zh(ze,wr),Dr}else wr.uniforms=En.getUniforms(ze),ze.onBuild(Jt,wr,k),ze.onBeforeCompile(wr,k),Dr=En.acquireProgram(wr,Ln),Ur.set(Ln,Dr),kt.uniforms=wr.uniforms;const Or=kt.uniforms;(!ze.isShaderMaterial&&!ze.isRawShaderMaterial||ze.clipping===!0)&&(Or.clippingPlanes=Y.uniform),Zh(ze,wr),kt.needsLights=ep(ze),kt.lightsStateVersion=lr,kt.needsLights&&(Or.ambientLightColor.value=Zt.state.ambient,Or.lightProbe.value=Zt.state.probe,Or.directionalLights.value=Zt.state.directional,Or.directionalLightShadows.value=Zt.state.directionalShadow,Or.spotLights.value=Zt.state.spot,Or.spotLightShadows.value=Zt.state.spotShadow,Or.rectAreaLights.value=Zt.state.rectArea,Or.ltc_1.value=Zt.state.rectAreaLTC1,Or.ltc_2.value=Zt.state.rectAreaLTC2,Or.pointLights.value=Zt.state.point,Or.pointLightShadows.value=Zt.state.pointShadow,Or.hemisphereLights.value=Zt.state.hemi,Or.directionalShadowMap.value=Zt.state.directionalShadowMap,Or.directionalShadowMatrix.value=Zt.state.directionalShadowMatrix,Or.spotShadowMap.value=Zt.state.spotShadowMap,Or.spotLightMatrix.value=Zt.state.spotLightMatrix,Or.spotLightMap.value=Zt.state.spotLightMap,Or.pointShadowMap.value=Zt.state.pointShadowMap,Or.pointShadowMatrix.value=Zt.state.pointShadowMatrix);const Pr=Dr.getUniforms(),ms=ng.seqWithValue(Pr.seq,Or);return kt.currentProgram=Dr,kt.uniformsList=ms,Dr}function Zh(ze,Gt){const Jt=Pn.get(ze);Jt.outputEncoding=Gt.outputEncoding,Jt.instancing=Gt.instancing,Jt.skinning=Gt.skinning,Jt.morphTargets=Gt.morphTargets,Jt.morphNormals=Gt.morphNormals,Jt.morphColors=Gt.morphColors,Jt.morphTargetsCount=Gt.morphTargetsCount,Jt.numClippingPlanes=Gt.numClippingPlanes,Jt.numIntersection=Gt.numClipIntersection,Jt.vertexAlphas=Gt.vertexAlphas,Jt.vertexTangents=Gt.vertexTangents,Jt.toneMapping=Gt.toneMapping}function ac(ze,Gt,Jt,kt,Zt){Gt.isScene!==!0&&(Gt=c),Xn.resetTextureUnits();const $n=Gt.fog,lr=kt.isMeshStandardMaterial?Gt.environment:null,wr=G===null?k.outputEncoding:G.isXRRenderTarget===!0?G.texture.encoding:Vo,Ln=(kt.isMeshStandardMaterial?rn:Br).get(kt.envMap||lr),Ur=kt.vertexColors===!0&&!!Jt.attributes.color&&Jt.attributes.color.itemSize===4,Dr=!!kt.normalMap&&!!Jt.attributes.tangent,Or=!!Jt.morphAttributes.position,Pr=!!Jt.morphAttributes.normal,ms=!!Jt.morphAttributes.color,wo=kt.toneMapped?k.toneMapping:Ke,Ba=Jt.morphAttributes.position||Jt.morphAttributes.normal||Jt.morphAttributes.color,wi=Ba!==void 0?Ba.length:0,zr=Pn.get(kt),tp=x.state.lights;if(Me===!0&&(lt===!0||ze!==X)){const Cs=ze===X&&kt.id===Z;Y.setState(kt,ze,Cs)}let Ni=!1;kt.version===zr.__version?(zr.needsLights&&zr.lightsStateVersion!==tp.state.version||zr.outputEncoding!==wr||Zt.isInstancedMesh&&zr.instancing===!1||!Zt.isInstancedMesh&&zr.instancing===!0||Zt.isSkinnedMesh&&zr.skinning===!1||!Zt.isSkinnedMesh&&zr.skinning===!0||zr.envMap!==Ln||kt.fog===!0&&zr.fog!==$n||zr.numClippingPlanes!==void 0&&(zr.numClippingPlanes!==Y.numPlanes||zr.numIntersection!==Y.numIntersection)||zr.vertexAlphas!==Ur||zr.vertexTangents!==Dr||zr.morphTargets!==Or||zr.morphNormals!==Pr||zr.morphColors!==ms||zr.toneMapping!==wo||jt.isWebGL2===!0&&zr.morphTargetsCount!==wi)&&(Ni=!0):(Ni=!0,zr.__version=kt.version);let gl=zr.currentProgram;Ni===!0&&(gl=Os(kt,Gt,Zt));let $g=!1,io=!1,vl=!1;const Yi=gl.getUniforms(),sa=zr.uniforms;if(Kt.useProgram(gl.program)&&($g=!0,io=!0,vl=!0),kt.id!==Z&&(Z=kt.id,io=!0),$g||X!==ze){if(Yi.setValue(at,"projectionMatrix",ze.projectionMatrix),jt.logarithmicDepthBuffer&&Yi.setValue(at,"logDepthBufFC",2/(Math.log(ze.far+1)/Math.LN2)),X!==ze&&(X=ze,io=!0,vl=!0),kt.isShaderMaterial||kt.isMeshPhongMaterial||kt.isMeshToonMaterial||kt.isMeshStandardMaterial||kt.envMap){const Cs=Yi.map.cameraPosition;Cs!==void 0&&Cs.setValue(at,Qt.setFromMatrixPosition(ze.matrixWorld))}(kt.isMeshPhongMaterial||kt.isMeshToonMaterial||kt.isMeshLambertMaterial||kt.isMeshBasicMaterial||kt.isMeshStandardMaterial||kt.isShaderMaterial)&&Yi.setValue(at,"isOrthographic",ze.isOrthographicCamera===!0),(kt.isMeshPhongMaterial||kt.isMeshToonMaterial||kt.isMeshLambertMaterial||kt.isMeshBasicMaterial||kt.isMeshStandardMaterial||kt.isShaderMaterial||kt.isShadowMaterial||Zt.isSkinnedMesh)&&Yi.setValue(at,"viewMatrix",ze.matrixWorldInverse)}if(Zt.isSkinnedMesh){Yi.setOptional(at,Zt,"bindMatrix"),Yi.setOptional(at,Zt,"bindMatrixInverse");const Cs=Zt.skeleton;Cs&&(jt.floatVertexTextures?(Cs.boneTexture===null&&Cs.computeBoneTexture(),Yi.setValue(at,"boneTexture",Cs.boneTexture,Xn),Yi.setValue(at,"boneTextureSize",Cs.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ji=Jt.morphAttributes;if((Ji.position!==void 0||Ji.normal!==void 0||Ji.color!==void 0&&jt.isWebGL2===!0)&&et.update(Zt,Jt,kt,gl),(io||zr.receiveShadow!==Zt.receiveShadow)&&(zr.receiveShadow=Zt.receiveShadow,Yi.setValue(at,"receiveShadow",Zt.receiveShadow)),kt.isMeshGouraudMaterial&&kt.envMap!==null&&(sa.envMap.value=Ln,sa.flipEnvMap.value=Ln.isCubeTexture&&Ln.isRenderTargetTexture===!1?-1:1),io&&(Yi.setValue(at,"toneMappingExposure",k.toneMappingExposure),zr.needsLights&&du(sa,vl),$n&&kt.fog===!0&&Bt.refreshFogUniforms(sa,$n),Bt.refreshMaterialUniforms(sa,kt,Le,we,mt),ng.upload(at,zr.uniformsList,sa,Xn)),kt.isShaderMaterial&&kt.uniformsNeedUpdate===!0&&(ng.upload(at,zr.uniformsList,sa,Xn),kt.uniformsNeedUpdate=!1),kt.isSpriteMaterial&&Yi.setValue(at,"center",Zt.center),Yi.setValue(at,"modelViewMatrix",Zt.modelViewMatrix),Yi.setValue(at,"normalMatrix",Zt.normalMatrix),Yi.setValue(at,"modelMatrix",Zt.matrixWorld),kt.isShaderMaterial||kt.isRawShaderMaterial){const Cs=kt.uniformsGroups;for(let jd=0,Eo=Cs.length;jd<Eo;jd++)if(jt.isWebGL2){const np=Cs[jd];bn.update(np,gl),bn.bind(np,gl)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return gl}function du(ze,Gt){ze.ambientLightColor.needsUpdate=Gt,ze.lightProbe.needsUpdate=Gt,ze.directionalLights.needsUpdate=Gt,ze.directionalLightShadows.needsUpdate=Gt,ze.pointLights.needsUpdate=Gt,ze.pointLightShadows.needsUpdate=Gt,ze.spotLights.needsUpdate=Gt,ze.spotLightShadows.needsUpdate=Gt,ze.rectAreaLights.needsUpdate=Gt,ze.hemisphereLights.needsUpdate=Gt}function ep(ze){return ze.isMeshLambertMaterial||ze.isMeshToonMaterial||ze.isMeshPhongMaterial||ze.isMeshStandardMaterial||ze.isShadowMaterial||ze.isShaderMaterial&&ze.lights===!0}this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return Q},this.getRenderTarget=function(){return G},this.setRenderTargetTextures=function(ze,Gt,Jt){Pn.get(ze.texture).__webglTexture=Gt,Pn.get(ze.depthTexture).__webglTexture=Jt;const kt=Pn.get(ze);kt.__hasExternalTextures=!0,kt.__hasExternalTextures&&(kt.__autoAllocateDepthBuffer=Jt===void 0,kt.__autoAllocateDepthBuffer||Mt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),kt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ze,Gt){const Jt=Pn.get(ze);Jt.__webglFramebuffer=Gt,Jt.__useDefaultFramebuffer=Gt===void 0},this.setRenderTarget=function(ze,Gt=0,Jt=0){G=ze,U=Gt,Q=Jt;let kt=!0,Zt=null,$n=!1,lr=!1;if(ze){const Ln=Pn.get(ze);Ln.__useDefaultFramebuffer!==void 0?(Kt.bindFramebuffer(36160,null),kt=!1):Ln.__webglFramebuffer===void 0?Xn.setupRenderTarget(ze):Ln.__hasExternalTextures&&Xn.rebindTextures(ze,Pn.get(ze.texture).__webglTexture,Pn.get(ze.depthTexture).__webglTexture);const Ur=ze.texture;(Ur.isData3DTexture||Ur.isDataArrayTexture||Ur.isCompressedArrayTexture)&&(lr=!0);const Dr=Pn.get(ze).__webglFramebuffer;ze.isWebGLCubeRenderTarget?(Zt=Dr[Gt],$n=!0):jt.isWebGL2&&ze.samples>0&&Xn.useMultisampledRTT(ze)===!1?Zt=Pn.get(ze).__webglMultisampledFramebuffer:Zt=Dr,te.copy(ze.viewport),ae.copy(ze.scissor),j=ze.scissorTest}else te.copy(Te).multiplyScalar(Le).floor(),ae.copy(Je).multiplyScalar(Le).floor(),j=it;if(Kt.bindFramebuffer(36160,Zt)&&jt.drawBuffers&&kt&&Kt.drawBuffers(ze,Zt),Kt.viewport(te),Kt.scissor(ae),Kt.setScissorTest(j),$n){const Ln=Pn.get(ze.texture);at.framebufferTexture2D(36160,36064,34069+Gt,Ln.__webglTexture,Jt)}else if(lr){const Ln=Pn.get(ze.texture),Ur=Gt||0;at.framebufferTextureLayer(36160,36064,Ln.__webglTexture,Jt||0,Ur)}Z=-1},this.readRenderTargetPixels=function(ze,Gt,Jt,kt,Zt,$n,lr){if(!(ze&&ze.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let wr=Pn.get(ze).__webglFramebuffer;if(ze.isWebGLCubeRenderTarget&&lr!==void 0&&(wr=wr[lr]),wr){Kt.bindFramebuffer(36160,wr);try{const Ln=ze.texture,Ur=Ln.format,Dr=Ln.type;if(Ur!==Xi&&Fe.convert(Ur)!==at.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Or=Dr===$s&&(Mt.has("EXT_color_buffer_half_float")||jt.isWebGL2&&Mt.has("EXT_color_buffer_float"));if(Dr!==Pt&&Fe.convert(Dr)!==at.getParameter(35738)&&!(Dr===Ei&&(jt.isWebGL2||Mt.has("OES_texture_float")||Mt.has("WEBGL_color_buffer_float")))&&!Or){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Gt>=0&&Gt<=ze.width-kt&&Jt>=0&&Jt<=ze.height-Zt&&at.readPixels(Gt,Jt,kt,Zt,Fe.convert(Ur),Fe.convert(Dr),$n)}finally{const Ln=G!==null?Pn.get(G).__webglFramebuffer:null;Kt.bindFramebuffer(36160,Ln)}}},this.copyFramebufferToTexture=function(ze,Gt,Jt=0){const kt=Math.pow(2,-Jt),Zt=Math.floor(Gt.image.width*kt),$n=Math.floor(Gt.image.height*kt);Xn.setTexture2D(Gt,0),at.copyTexSubImage2D(3553,Jt,0,0,ze.x,ze.y,Zt,$n),Kt.unbindTexture()},this.copyTextureToTexture=function(ze,Gt,Jt,kt=0){const Zt=Gt.image.width,$n=Gt.image.height,lr=Fe.convert(Jt.format),wr=Fe.convert(Jt.type);Xn.setTexture2D(Jt,0),at.pixelStorei(37440,Jt.flipY),at.pixelStorei(37441,Jt.premultiplyAlpha),at.pixelStorei(3317,Jt.unpackAlignment),Gt.isDataTexture?at.texSubImage2D(3553,kt,ze.x,ze.y,Zt,$n,lr,wr,Gt.image.data):Gt.isCompressedTexture?at.compressedTexSubImage2D(3553,kt,ze.x,ze.y,Gt.mipmaps[0].width,Gt.mipmaps[0].height,lr,Gt.mipmaps[0].data):at.texSubImage2D(3553,kt,ze.x,ze.y,lr,wr,Gt.image),kt===0&&Jt.generateMipmaps&&at.generateMipmap(3553),Kt.unbindTexture()},this.copyTextureToTexture3D=function(ze,Gt,Jt,kt,Zt=0){if(k.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const $n=ze.max.x-ze.min.x+1,lr=ze.max.y-ze.min.y+1,wr=ze.max.z-ze.min.z+1,Ln=Fe.convert(kt.format),Ur=Fe.convert(kt.type);let Dr;if(kt.isData3DTexture)Xn.setTexture3D(kt,0),Dr=32879;else if(kt.isDataArrayTexture)Xn.setTexture2DArray(kt,0),Dr=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}at.pixelStorei(37440,kt.flipY),at.pixelStorei(37441,kt.premultiplyAlpha),at.pixelStorei(3317,kt.unpackAlignment);const Or=at.getParameter(3314),Pr=at.getParameter(32878),ms=at.getParameter(3316),wo=at.getParameter(3315),Ba=at.getParameter(32877),wi=Jt.isCompressedTexture?Jt.mipmaps[0]:Jt.image;at.pixelStorei(3314,wi.width),at.pixelStorei(32878,wi.height),at.pixelStorei(3316,ze.min.x),at.pixelStorei(3315,ze.min.y),at.pixelStorei(32877,ze.min.z),Jt.isDataTexture||Jt.isData3DTexture?at.texSubImage3D(Dr,Zt,Gt.x,Gt.y,Gt.z,$n,lr,wr,Ln,Ur,wi.data):Jt.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),at.compressedTexSubImage3D(Dr,Zt,Gt.x,Gt.y,Gt.z,$n,lr,wr,Ln,wi.data)):at.texSubImage3D(Dr,Zt,Gt.x,Gt.y,Gt.z,$n,lr,wr,Ln,Ur,wi),at.pixelStorei(3314,Or),at.pixelStorei(32878,Pr),at.pixelStorei(3316,ms),at.pixelStorei(3315,wo),at.pixelStorei(32877,Ba),Zt===0&&kt.generateMipmaps&&at.generateMipmap(Dr),Kt.unbindTexture()},this.initTexture=function(ze){ze.isCubeTexture?Xn.setTextureCube(ze,0):ze.isData3DTexture?Xn.setTexture3D(ze,0):ze.isDataArrayTexture||ze.isCompressedArrayTexture?Xn.setTexture2DArray(ze,0):Xn.setTexture2D(ze,0),Kt.unbindTexture()},this.resetState=function(){U=0,Q=0,G=null,Kt.reset(),wt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class IO extends rg{}IO.prototype.isWebGL1Renderer=!0;class ig extends mi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,r){return super.copy(e,r),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const r=super.toJSON(e);return this.fog!==null&&(r.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(r.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(r.backgroundIntensity=this.backgroundIntensity),r}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class oC{constructor(e,r){this.isInterleavedBuffer=!0,this.array=e,this.stride=r,this.count=e!==void 0?e.length/r:0,this.usage=bA,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Go()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,r,s){e*=this.stride,s*=r.stride;for(let a=0,u=this.stride;a<u;a++)this.array[e+a]=r.array[s+a];return this}set(e,r=0){return this.array.set(e,r),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Go()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const r=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),s=new this.constructor(r,this.stride);return s.setUsage(this.usage),s}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Go()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ss=new ut;class dh{constructor(e,r,s,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=r,this.offset=s,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let r=0,s=this.data.count;r<s;r++)Ss.fromBufferAttribute(this,r),Ss.applyMatrix4(e),this.setXYZ(r,Ss.x,Ss.y,Ss.z);return this}applyNormalMatrix(e){for(let r=0,s=this.count;r<s;r++)Ss.fromBufferAttribute(this,r),Ss.applyNormalMatrix(e),this.setXYZ(r,Ss.x,Ss.y,Ss.z);return this}transformDirection(e){for(let r=0,s=this.count;r<s;r++)Ss.fromBufferAttribute(this,r),Ss.transformDirection(e),this.setXYZ(r,Ss.x,Ss.y,Ss.z);return this}setX(e,r){return this.normalized&&(r=si(r,this.array)),this.data.array[e*this.data.stride+this.offset]=r,this}setY(e,r){return this.normalized&&(r=si(r,this.array)),this.data.array[e*this.data.stride+this.offset+1]=r,this}setZ(e,r){return this.normalized&&(r=si(r,this.array)),this.data.array[e*this.data.stride+this.offset+2]=r,this}setW(e,r){return this.normalized&&(r=si(r,this.array)),this.data.array[e*this.data.stride+this.offset+3]=r,this}getX(e){let r=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(r=Ka(r,this.array)),r}getY(e){let r=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(r=Ka(r,this.array)),r}getZ(e){let r=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(r=Ka(r,this.array)),r}getW(e){let r=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(r=Ka(r,this.array)),r}setXY(e,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(r=si(r,this.array),s=si(s,this.array)),this.data.array[e+0]=r,this.data.array[e+1]=s,this}setXYZ(e,r,s,a){return e=e*this.data.stride+this.offset,this.normalized&&(r=si(r,this.array),s=si(s,this.array),a=si(a,this.array)),this.data.array[e+0]=r,this.data.array[e+1]=s,this.data.array[e+2]=a,this}setXYZW(e,r,s,a,u){return e=e*this.data.stride+this.offset,this.normalized&&(r=si(r,this.array),s=si(s,this.array),a=si(a,this.array),u=si(u,this.array)),this.data.array[e+0]=r,this.data.array[e+1]=s,this.data.array[e+2]=a,this.data.array[e+3]=u,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const r=[];for(let s=0;s<this.count;s++){const a=s*this.data.stride+this.offset;for(let u=0;u<this.itemSize;u++)r.push(this.data.array[a+u])}return new Yr(new this.array.constructor(r),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new dh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const r=[];for(let s=0;s<this.count;s++){const a=s*this.data.stride+this.offset;for(let u=0;u<this.itemSize;u++)r.push(this.data.array[a+u])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:r,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class aC extends _o{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new dr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Cd;const fh=new ut,Id=new ut,xd=new ut,Md=new Gn,hh=new Gn,lC=new Rr,sg=new ut,ph=new ut,og=new ut,cC=new Gn,t0=new Gn,uC=new Gn;class xO extends mi{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Cd===void 0){Cd=new Ki;const r=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),s=new oC(r,5);Cd.setIndex([0,1,2,0,2,3]),Cd.setAttribute("position",new dh(s,3,0,!1)),Cd.setAttribute("uv",new dh(s,2,3,!1))}this.geometry=Cd,this.material=e!==void 0?e:new aC,this.center=new Gn(.5,.5)}raycast(e,r){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Id.setFromMatrixScale(this.matrixWorld),lC.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),xd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Id.multiplyScalar(-xd.z);const s=this.material.rotation;let a,u;s!==0&&(u=Math.cos(s),a=Math.sin(s));const f=this.center;ag(sg.set(-.5,-.5,0),xd,f,Id,a,u),ag(ph.set(.5,-.5,0),xd,f,Id,a,u),ag(og.set(.5,.5,0),xd,f,Id,a,u),cC.set(0,0),t0.set(1,0),uC.set(1,1);let m=e.ray.intersectTriangle(sg,ph,og,!1,fh);if(m===null&&(ag(ph.set(-.5,.5,0),xd,f,Id,a,u),t0.set(0,1),m=e.ray.intersectTriangle(sg,og,ph,!1,fh),m===null))return;const _=e.ray.origin.distanceTo(fh);_<e.near||_>e.far||r.push({distance:_,point:fh.clone(),uv:xa.getUV(fh,sg,ph,og,cC,t0,uC,new Gn),face:null,object:this})}copy(e,r){return super.copy(e,r),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ag(p,e,r,s,a,u){Md.subVectors(p,r).addScalar(.5).multiply(s),a!==void 0?(hh.x=u*Md.x-a*Md.y,hh.y=a*Md.x+u*Md.y):hh.copy(Md),p.copy(e),p.x+=hh.x,p.y+=hh.y,p.applyMatrix4(lC)}const dC=new ut,fC=new oi,hC=new oi,MO=new ut,pC=new Rr;class RO extends Fi{constructor(e,r){super(e,r),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Rr,this.bindMatrixInverse=new Rr}copy(e,r){return super.copy(e,r),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,r){this.skeleton=e,r===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),r=this.matrixWorld),this.bindMatrix.copy(r),this.bindMatrixInverse.copy(r).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new oi,r=this.geometry.attributes.skinWeight;for(let s=0,a=r.count;s<a;s++){e.fromBufferAttribute(r,s);const u=1/e.manhattanLength();u!==1/0?e.multiplyScalar(u):e.set(1,0,0,0),r.setXYZW(s,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,r){const s=this.skeleton,a=this.geometry;fC.fromBufferAttribute(a.attributes.skinIndex,e),hC.fromBufferAttribute(a.attributes.skinWeight,e),dC.copy(r).applyMatrix4(this.bindMatrix),r.set(0,0,0);for(let u=0;u<4;u++){const f=hC.getComponent(u);if(f!==0){const m=fC.getComponent(u);pC.multiplyMatrices(s.bones[m].matrixWorld,s.boneInverses[m]),r.addScaledVector(MO.copy(dC).applyMatrix4(pC),f)}}return r.applyMatrix4(this.bindMatrixInverse)}}class mC extends mi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class n0 extends Oi{constructor(e=null,r=1,s=1,a,u,f,m,_,A=Rn,w=Rn,S,x){super(null,f,m,_,A,w,a,u,S,x),this.isDataTexture=!0,this.image={data:e,width:r,height:s},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const gC=new Rr,TO=new Rr;class r0{constructor(e=[],r=[]){this.uuid=Go(),this.bones=e.slice(0),this.boneInverses=r,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,r=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),r.length===0)this.calculateInverses();else if(e.length!==r.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let s=0,a=this.bones.length;s<a;s++)this.boneInverses.push(new Rr)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,r=this.bones.length;e<r;e++){const s=new Rr;this.bones[e]&&s.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(s)}}pose(){for(let e=0,r=this.bones.length;e<r;e++){const s=this.bones[e];s&&s.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,r=this.bones.length;e<r;e++){const s=this.bones[e];s&&(s.parent&&s.parent.isBone?(s.matrix.copy(s.parent.matrixWorld).invert(),s.matrix.multiply(s.matrixWorld)):s.matrix.copy(s.matrixWorld),s.matrix.decompose(s.position,s.quaternion,s.scale))}}update(){const e=this.bones,r=this.boneInverses,s=this.boneMatrices,a=this.boneTexture;for(let u=0,f=e.length;u<f;u++){const m=e[u]?e[u].matrixWorld:TO;gC.multiplyMatrices(m,r[u]),gC.toArray(s,u*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new r0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=pE(e),e=Math.max(e,4);const r=new Float32Array(e*e*4);r.set(this.boneMatrices);const s=new n0(r,e,e,Xi,Ei);return s.needsUpdate=!0,this.boneMatrices=r,this.boneTexture=s,this.boneTextureSize=e,this}getBoneByName(e){for(let r=0,s=this.bones.length;r<s;r++){const a=this.bones[r];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,r){this.uuid=e.uuid;for(let s=0,a=e.bones.length;s<a;s++){const u=e.bones[s];let f=r[u];f===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",u),f=new mC),this.bones.push(f),this.boneInverses.push(new Rr().fromArray(e.boneInverses[s]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const r=this.bones,s=this.boneInverses;for(let a=0,u=r.length;a<u;a++){const f=r[a];e.bones.push(f.uuid);const m=s[a];e.boneInverses.push(m.toArray())}return e}}class vC extends Yr{constructor(e,r,s,a=1){super(e,r,s),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const _C=new Rr,AC=new Rr,lg=[],PO=new Rr,mh=new Fi;class NO extends Fi{constructor(e,r,s){super(e,r),this.isInstancedMesh=!0,this.instanceMatrix=new vC(new Float32Array(s*16),16),this.instanceColor=null,this.count=s,this.frustumCulled=!1;for(let a=0;a<s;a++)this.setMatrixAt(a,PO)}copy(e,r){return super.copy(e,r),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,r){r.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,r){r.fromArray(this.instanceMatrix.array,e*16)}raycast(e,r){const s=this.matrixWorld,a=this.count;if(mh.geometry=this.geometry,mh.material=this.material,mh.material!==void 0)for(let u=0;u<a;u++){this.getMatrixAt(u,_C),AC.multiplyMatrices(s,_C),mh.matrixWorld=AC,mh.raycast(e,lg);for(let f=0,m=lg.length;f<m;f++){const _=lg[f];_.instanceId=u,_.object=this,r.push(_)}lg.length=0}}setColorAt(e,r){this.instanceColor===null&&(this.instanceColor=new vC(new Float32Array(this.instanceMatrix.count*3),3)),r.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,r){r.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class cg extends _o{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new dr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const yC=new ut,bC=new ut,SC=new Rr,i0=new Gm,ug=new ud;class s0 extends mi{constructor(e=new Ki,r=new cg){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const r=e.attributes.position,s=[0];for(let a=1,u=r.count;a<u;a++)yC.fromBufferAttribute(r,a-1),bC.fromBufferAttribute(r,a),s[a]=s[a-1],s[a]+=yC.distanceTo(bC);e.setAttribute("lineDistance",new $i(s,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,r){const s=this.geometry,a=this.matrixWorld,u=e.params.Line.threshold,f=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),ug.copy(s.boundingSphere),ug.applyMatrix4(a),ug.radius+=u,e.ray.intersectsSphere(ug)===!1)return;SC.copy(a).invert(),i0.copy(e.ray).applyMatrix4(SC);const m=u/((this.scale.x+this.scale.y+this.scale.z)/3),_=m*m,A=new ut,w=new ut,S=new ut,x=new ut,P=this.isLineSegments?2:1,O=s.index,L=s.attributes.position;if(O!==null){const U=Math.max(0,f.start),Q=Math.min(O.count,f.start+f.count);for(let G=U,Z=Q-1;G<Z;G+=P){const X=O.getX(G),te=O.getX(G+1);if(A.fromBufferAttribute(L,X),w.fromBufferAttribute(L,te),i0.distanceSqToSegment(A,w,x,S)>_)continue;x.applyMatrix4(this.matrixWorld);const j=e.ray.origin.distanceTo(x);j<e.near||j>e.far||r.push({distance:j,point:S.clone().applyMatrix4(this.matrixWorld),index:G,face:null,faceIndex:null,object:this})}}else{const U=Math.max(0,f.start),Q=Math.min(L.count,f.start+f.count);for(let G=U,Z=Q-1;G<Z;G+=P){if(A.fromBufferAttribute(L,G),w.fromBufferAttribute(L,G+1),i0.distanceSqToSegment(A,w,x,S)>_)continue;x.applyMatrix4(this.matrixWorld);const te=e.ray.origin.distanceTo(x);te<e.near||te>e.far||r.push({distance:te,point:S.clone().applyMatrix4(this.matrixWorld),index:G,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const r=this.geometry.morphAttributes,s=Object.keys(r);if(s.length>0){const a=r[s[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,f=a.length;u<f;u++){const m=a[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[m]=u}}}}}const wC=new ut,EC=new ut;class o0 extends s0{constructor(e,r){super(e,r),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const r=e.attributes.position,s=[];for(let a=0,u=r.count;a<u;a+=2)wC.fromBufferAttribute(r,a),EC.fromBufferAttribute(r,a+1),s[a]=a===0?0:s[a-1],s[a+1]=s[a]+wC.distanceTo(EC);e.setAttribute("lineDistance",new $i(s,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class BO extends s0{constructor(e,r){super(e,r),this.isLineLoop=!0,this.type="LineLoop"}}class CC extends _o{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new dr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const IC=new Rr,a0=new Gm,dg=new ud,fg=new ut;class DO extends mi{constructor(e=new Ki,r=new CC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),this.material=e.material,this.geometry=e.geometry,this}raycast(e,r){const s=this.geometry,a=this.matrixWorld,u=e.params.Points.threshold,f=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),dg.copy(s.boundingSphere),dg.applyMatrix4(a),dg.radius+=u,e.ray.intersectsSphere(dg)===!1)return;IC.copy(a).invert(),a0.copy(e.ray).applyMatrix4(IC);const m=u/((this.scale.x+this.scale.y+this.scale.z)/3),_=m*m,A=s.index,S=s.attributes.position;if(A!==null){const x=Math.max(0,f.start),P=Math.min(A.count,f.start+f.count);for(let O=x,k=P;O<k;O++){const L=A.getX(O);fg.fromBufferAttribute(S,L),xC(fg,L,_,a,e,r,this)}}else{const x=Math.max(0,f.start),P=Math.min(S.count,f.start+f.count);for(let O=x,k=P;O<k;O++)fg.fromBufferAttribute(S,O),xC(fg,O,_,a,e,r,this)}}updateMorphTargets(){const r=this.geometry.morphAttributes,s=Object.keys(r);if(s.length>0){const a=r[s[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,f=a.length;u<f;u++){const m=a[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[m]=u}}}}}function xC(p,e,r,s,a,u,f){const m=a0.distanceSqToPoint(p);if(m<r){const _=new ut;a0.closestPointToPoint(p,_),_.applyMatrix4(s);const A=a.ray.origin.distanceTo(_);if(A<a.near||A>a.far)return;u.push({distance:A,distanceToRay:Math.sqrt(m),point:_,index:e,face:null,object:f})}}class MC extends Oi{constructor(e,r,s,a,u,f,m,_,A,w,S,x){super(null,f,m,_,A,w,a,u,S,x),this.isCompressedTexture=!0,this.image={width:r,height:s},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class kO extends MC{constructor(e,r,s,a,u,f){super(e,r,s,u,f),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=_t}}class l0 extends Ki{constructor(e=.5,r=1,s=32,a=1,u=0,f=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:r,thetaSegments:s,phiSegments:a,thetaStart:u,thetaLength:f},s=Math.max(3,s),a=Math.max(1,a);const m=[],_=[],A=[],w=[];let S=e;const x=(r-e)/a,P=new ut,O=new Gn;for(let k=0;k<=a;k++){for(let L=0;L<=s;L++){const U=u+L/s*f;P.x=S*Math.cos(U),P.y=S*Math.sin(U),_.push(P.x,P.y,P.z),A.push(0,0,1),O.x=(P.x/r+1)/2,O.y=(P.y/r+1)/2,w.push(O.x,O.y)}S+=x}for(let k=0;k<a;k++){const L=k*(s+1);for(let U=0;U<s;U++){const Q=U+L,G=Q,Z=Q+s+1,X=Q+s+2,te=Q+1;m.push(G,Z,te),m.push(Z,X,te)}}this.setIndex(m),this.setAttribute("position",new $i(_,3)),this.setAttribute("normal",new $i(A,3)),this.setAttribute("uv",new $i(w,2))}static fromJSON(e){return new l0(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class LO extends Qo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class hg extends _o{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new dr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=AA,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Zc extends hg{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Gn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return os(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(r){this.ior=(1+.4*r)/(1-.4*r)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new dr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new dr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new dr(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class OO extends _o{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new dr(16777215),this.specular=new dr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=AA,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ft,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}function $l(p,e,r){return RC(p)?new p.constructor(p.subarray(e,r!==void 0?r:p.length)):p.slice(e,r)}function pg(p,e,r){return!p||!r&&p.constructor===e?p:typeof e.BYTES_PER_ELEMENT=="number"?new e(p):Array.prototype.slice.call(p)}function RC(p){return ArrayBuffer.isView(p)&&!(p instanceof DataView)}function FO(p){function e(a,u){return p[a]-p[u]}const r=p.length,s=new Array(r);for(let a=0;a!==r;++a)s[a]=a;return s.sort(e),s}function TC(p,e,r){const s=p.length,a=new p.constructor(s);for(let u=0,f=0;f!==s;++u){const m=r[u]*e;for(let _=0;_!==e;++_)a[f++]=p[m+_]}return a}function PC(p,e,r,s){let a=1,u=p[0];for(;u!==void 0&&u[s]===void 0;)u=p[a++];if(u===void 0)return;let f=u[s];if(f!==void 0)if(Array.isArray(f))do f=u[s],f!==void 0&&(e.push(u.time),r.push.apply(r,f)),u=p[a++];while(u!==void 0);else if(f.toArray!==void 0)do f=u[s],f!==void 0&&(e.push(u.time),f.toArray(r,r.length)),u=p[a++];while(u!==void 0);else do f=u[s],f!==void 0&&(e.push(u.time),r.push(f)),u=p[a++];while(u!==void 0)}class gh{constructor(e,r,s,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new r.constructor(s),this.sampleValues=r,this.valueSize=s,this.settings=null,this.DefaultSettings_={}}evaluate(e){const r=this.parameterPositions;let s=this._cachedIndex,a=r[s],u=r[s-1];e:{t:{let f;n:{r:if(!(e<a)){for(let m=s+2;;){if(a===void 0){if(e<u)break r;return s=r.length,this._cachedIndex=s,this.copySampleValue_(s-1)}if(s===m)break;if(u=a,a=r[++s],e<a)break t}f=r.length;break n}if(!(e>=u)){const m=r[1];e<m&&(s=2,u=m);for(let _=s-2;;){if(u===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===_)break;if(a=u,u=r[--s-1],e>=u)break t}f=s,s=0;break n}break e}for(;s<f;){const m=s+f>>>1;e<r[m]?f=m:s=m+1}if(a=r[s],u=r[s-1],u===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return s=r.length,this._cachedIndex=s,this.copySampleValue_(s-1)}this._cachedIndex=s,this.intervalChanged_(s,u,a)}return this.interpolate_(s,u,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=e*a;for(let f=0;f!==a;++f)r[f]=s[u+f];return r}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class VO extends gh{constructor(e,r,s,a){super(e,r,s,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:id,endingEnd:id}}intervalChanged_(e,r,s){const a=this.parameterPositions;let u=e-2,f=e+1,m=a[u],_=a[f];if(m===void 0)switch(this.getSettings_().endingStart){case sd:u=e,m=2*r-s;break;case Mm:u=a.length-2,m=r+a[u]-a[u+1];break;default:u=e,m=s}if(_===void 0)switch(this.getSettings_().endingEnd){case sd:f=e,_=2*s-r;break;case Mm:f=1,_=s+a[1]-a[0];break;default:f=e-1,_=r}const A=(s-r)*.5,w=this.valueSize;this._weightPrev=A/(r-m),this._weightNext=A/(_-s),this._offsetPrev=u*w,this._offsetNext=f*w}interpolate_(e,r,s,a){const u=this.resultBuffer,f=this.sampleValues,m=this.valueSize,_=e*m,A=_-m,w=this._offsetPrev,S=this._offsetNext,x=this._weightPrev,P=this._weightNext,O=(s-r)/(a-r),k=O*O,L=k*O,U=-x*L+2*x*k-x*O,Q=(1+x)*L+(-1.5-2*x)*k+(-.5+x)*O+1,G=(-1-P)*L+(1.5+P)*k+.5*O,Z=P*L-P*k;for(let X=0;X!==m;++X)u[X]=U*f[w+X]+Q*f[A+X]+G*f[_+X]+Z*f[S+X];return u}}class NC extends gh{constructor(e,r,s,a){super(e,r,s,a)}interpolate_(e,r,s,a){const u=this.resultBuffer,f=this.sampleValues,m=this.valueSize,_=e*m,A=_-m,w=(s-r)/(a-r),S=1-w;for(let x=0;x!==m;++x)u[x]=f[A+x]*S+f[_+x]*w;return u}}class GO extends gh{constructor(e,r,s,a){super(e,r,s,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class Xo{constructor(e,r,s,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(r===void 0||r.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=pg(r,this.TimeBufferType),this.values=pg(s,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const r=e.constructor;let s;if(r.toJSON!==this.toJSON)s=r.toJSON(e);else{s={name:e.name,times:pg(e.times,Array),values:pg(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(s.interpolation=a)}return s.type=e.ValueTypeName,s}InterpolantFactoryMethodDiscrete(e){return new GO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new NC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new VO(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let r;switch(e){case rd:r=this.InterpolantFactoryMethodDiscrete;break;case Hc:r=this.InterpolantFactoryMethodLinear;break;case vA:r=this.InterpolantFactoryMethodSmooth;break}if(r===void 0){const s="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(s);return console.warn("THREE.KeyframeTrack:",s),this}return this.createInterpolant=r,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return rd;case this.InterpolantFactoryMethodLinear:return Hc;case this.InterpolantFactoryMethodSmooth:return vA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const r=this.times;for(let s=0,a=r.length;s!==a;++s)r[s]+=e}return this}scale(e){if(e!==1){const r=this.times;for(let s=0,a=r.length;s!==a;++s)r[s]*=e}return this}trim(e,r){const s=this.times,a=s.length;let u=0,f=a-1;for(;u!==a&&s[u]<e;)++u;for(;f!==-1&&s[f]>r;)--f;if(++f,u!==0||f!==a){u>=f&&(f=Math.max(f,1),u=f-1);const m=this.getValueSize();this.times=$l(s,u,f),this.values=$l(this.values,u*m,f*m)}return this}validate(){let e=!0;const r=this.getValueSize();r-Math.floor(r)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const s=this.times,a=this.values,u=s.length;u===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let f=null;for(let m=0;m!==u;m++){const _=s[m];if(typeof _=="number"&&isNaN(_)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,m,_),e=!1;break}if(f!==null&&f>_){console.error("THREE.KeyframeTrack: Out of order keys.",this,m,_,f),e=!1;break}f=_}if(a!==void 0&&RC(a))for(let m=0,_=a.length;m!==_;++m){const A=a[m];if(isNaN(A)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,m,A),e=!1;break}}return e}optimize(){const e=$l(this.times),r=$l(this.values),s=this.getValueSize(),a=this.getInterpolation()===vA,u=e.length-1;let f=1;for(let m=1;m<u;++m){let _=!1;const A=e[m],w=e[m+1];if(A!==w&&(m!==1||A!==e[0]))if(a)_=!0;else{const S=m*s,x=S-s,P=S+s;for(let O=0;O!==s;++O){const k=r[S+O];if(k!==r[x+O]||k!==r[P+O]){_=!0;break}}}if(_){if(m!==f){e[f]=e[m];const S=m*s,x=f*s;for(let P=0;P!==s;++P)r[x+P]=r[S+P]}++f}}if(u>0){e[f]=e[u];for(let m=u*s,_=f*s,A=0;A!==s;++A)r[_+A]=r[m+A];++f}return f!==e.length?(this.times=$l(e,0,f),this.values=$l(r,0,f*s)):(this.times=e,this.values=r),this}clone(){const e=$l(this.times,0),r=$l(this.values,0),s=this.constructor,a=new s(this.name,e,r);return a.createInterpolant=this.createInterpolant,a}}Xo.prototype.TimeBufferType=Float32Array,Xo.prototype.ValueBufferType=Float32Array,Xo.prototype.DefaultInterpolation=Hc;class Rd extends Xo{}Rd.prototype.ValueTypeName="bool",Rd.prototype.ValueBufferType=Array,Rd.prototype.DefaultInterpolation=rd,Rd.prototype.InterpolantFactoryMethodLinear=void 0,Rd.prototype.InterpolantFactoryMethodSmooth=void 0;class BC extends Xo{}BC.prototype.ValueTypeName="color";class vh extends Xo{}vh.prototype.ValueTypeName="number";class UO extends gh{constructor(e,r,s,a){super(e,r,s,a)}interpolate_(e,r,s,a){const u=this.resultBuffer,f=this.sampleValues,m=this.valueSize,_=(s-r)/(a-r);let A=e*m;for(let w=A+m;A!==w;A+=4)Ds.slerpFlat(u,0,f,A-m,f,A,_);return u}}class eu extends Xo{InterpolantFactoryMethodLinear(e){return new UO(this.times,this.values,this.getValueSize(),e)}}eu.prototype.ValueTypeName="quaternion",eu.prototype.DefaultInterpolation=Hc,eu.prototype.InterpolantFactoryMethodSmooth=void 0;class Td extends Xo{}Td.prototype.ValueTypeName="string",Td.prototype.ValueBufferType=Array,Td.prototype.DefaultInterpolation=rd,Td.prototype.InterpolantFactoryMethodLinear=void 0,Td.prototype.InterpolantFactoryMethodSmooth=void 0;class _h extends Xo{}_h.prototype.ValueTypeName="vector";class mg{constructor(e,r=-1,s,a=_A){this.name=e,this.tracks=s,this.duration=r,this.blendMode=a,this.uuid=Go(),this.duration<0&&this.resetDuration()}static parse(e){const r=[],s=e.tracks,a=1/(e.fps||1);for(let f=0,m=s.length;f!==m;++f)r.push(HO(s[f]).scale(a));const u=new this(e.name,e.duration,r,e.blendMode);return u.uuid=e.uuid,u}static toJSON(e){const r=[],s=e.tracks,a={name:e.name,duration:e.duration,tracks:r,uuid:e.uuid,blendMode:e.blendMode};for(let u=0,f=s.length;u!==f;++u)r.push(Xo.toJSON(s[u]));return a}static CreateFromMorphTargetSequence(e,r,s,a){const u=r.length,f=[];for(let m=0;m<u;m++){let _=[],A=[];_.push((m+u-1)%u,m,(m+1)%u),A.push(0,1,0);const w=FO(_);_=TC(_,1,w),A=TC(A,1,w),!a&&_[0]===0&&(_.push(u),A.push(A[0])),f.push(new vh(".morphTargetInfluences["+r[m].name+"]",_,A).scale(1/s))}return new this(e,-1,f)}static findByName(e,r){let s=e;if(!Array.isArray(e)){const a=e;s=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<s.length;a++)if(s[a].name===r)return s[a];return null}static CreateClipsFromMorphTargetSequences(e,r,s){const a={},u=/^([\w-]*?)([\d]+)$/;for(let m=0,_=e.length;m<_;m++){const A=e[m],w=A.name.match(u);if(w&&w.length>1){const S=w[1];let x=a[S];x||(a[S]=x=[]),x.push(A)}}const f=[];for(const m in a)f.push(this.CreateFromMorphTargetSequence(m,a[m],r,s));return f}static parseAnimation(e,r){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const s=function(S,x,P,O,k){if(P.length!==0){const L=[],U=[];PC(P,L,U,O),L.length!==0&&k.push(new S(x,L,U))}},a=[],u=e.name||"default",f=e.fps||30,m=e.blendMode;let _=e.length||-1;const A=e.hierarchy||[];for(let S=0;S<A.length;S++){const x=A[S].keys;if(!(!x||x.length===0))if(x[0].morphTargets){const P={};let O;for(O=0;O<x.length;O++)if(x[O].morphTargets)for(let k=0;k<x[O].morphTargets.length;k++)P[x[O].morphTargets[k]]=-1;for(const k in P){const L=[],U=[];for(let Q=0;Q!==x[O].morphTargets.length;++Q){const G=x[O];L.push(G.time),U.push(G.morphTarget===k?1:0)}a.push(new vh(".morphTargetInfluence["+k+"]",L,U))}_=P.length*f}else{const P=".bones["+r[S].name+"]";s(_h,P+".position",x,"pos",a),s(eu,P+".quaternion",x,"rot",a),s(_h,P+".scale",x,"scl",a)}}return a.length===0?null:new this(u,_,a,m)}resetDuration(){const e=this.tracks;let r=0;for(let s=0,a=e.length;s!==a;++s){const u=this.tracks[s];r=Math.max(r,u.times[u.times.length-1])}return this.duration=r,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let r=0;r<this.tracks.length;r++)e=e&&this.tracks[r].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function zO(p){switch(p.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return vh;case"vector":case"vector2":case"vector3":case"vector4":return _h;case"color":return BC;case"quaternion":return eu;case"bool":case"boolean":return Rd;case"string":return Td}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+p)}function HO(p){if(p.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=zO(p.type);if(p.times===void 0){const r=[],s=[];PC(p.keys,r,s,"value"),p.times=r,p.values=s}return e.parse!==void 0?e.parse(p):new e(p.name,p.times,p.values,p.interpolation)}const Pd={enabled:!1,files:{},add:function(p,e){this.enabled!==!1&&(this.files[p]=e)},get:function(p){if(this.enabled!==!1)return this.files[p]},remove:function(p){delete this.files[p]},clear:function(){this.files={}}};class DC{constructor(e,r,s){const a=this;let u=!1,f=0,m=0,_;const A=[];this.onStart=void 0,this.onLoad=e,this.onProgress=r,this.onError=s,this.itemStart=function(w){m++,u===!1&&a.onStart!==void 0&&a.onStart(w,f,m),u=!0},this.itemEnd=function(w){f++,a.onProgress!==void 0&&a.onProgress(w,f,m),f===m&&(u=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(w){a.onError!==void 0&&a.onError(w)},this.resolveURL=function(w){return _?_(w):w},this.setURLModifier=function(w){return _=w,this},this.addHandler=function(w,S){return A.push(w,S),this},this.removeHandler=function(w){const S=A.indexOf(w);return S!==-1&&A.splice(S,2),this},this.getHandler=function(w){for(let S=0,x=A.length;S<x;S+=2){const P=A[S],O=A[S+1];if(P.global&&(P.lastIndex=0),P.test(w))return O}return null}}}const QO=new DC;class tl{constructor(e){this.manager=e!==void 0?e:QO,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,r){const s=this;return new Promise(function(a,u){s.load(e,a,r,u)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const nl={};class XO extends Error{constructor(e,r){super(e),this.response=r}}class $o extends tl{constructor(e){super(e)}load(e,r,s,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const u=Pd.get(e);if(u!==void 0)return this.manager.itemStart(e),setTimeout(()=>{r&&r(u),this.manager.itemEnd(e)},0),u;if(nl[e]!==void 0){nl[e].push({onLoad:r,onProgress:s,onError:a});return}nl[e]=[],nl[e].push({onLoad:r,onProgress:s,onError:a});const f=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),m=this.mimeType,_=this.responseType;fetch(f).then(A=>{if(A.status===200||A.status===0){if(A.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||A.body===void 0||A.body.getReader===void 0)return A;const w=nl[e],S=A.body.getReader(),x=A.headers.get("Content-Length")||A.headers.get("X-File-Size"),P=x?parseInt(x):0,O=P!==0;let k=0;const L=new ReadableStream({start(U){Q();function Q(){S.read().then(({done:G,value:Z})=>{if(G)U.close();else{k+=Z.byteLength;const X=new ProgressEvent("progress",{lengthComputable:O,loaded:k,total:P});for(let te=0,ae=w.length;te<ae;te++){const j=w[te];j.onProgress&&j.onProgress(X)}U.enqueue(Z),Q()}})}}});return new Response(L)}else throw new XO(`fetch for "${A.url}" responded with ${A.status}: ${A.statusText}`,A)}).then(A=>{switch(_){case"arraybuffer":return A.arrayBuffer();case"blob":return A.blob();case"document":return A.text().then(w=>new DOMParser().parseFromString(w,m));case"json":return A.json();default:if(m===void 0)return A.text();{const S=/charset="?([^;"\s]*)"?/i.exec(m),x=S&&S[1]?S[1].toLowerCase():void 0,P=new TextDecoder(x);return A.arrayBuffer().then(O=>P.decode(O))}}}).then(A=>{Pd.add(e,A);const w=nl[e];delete nl[e];for(let S=0,x=w.length;S<x;S++){const P=w[S];P.onLoad&&P.onLoad(A)}}).catch(A=>{const w=nl[e];if(w===void 0)throw this.manager.itemError(e),A;delete nl[e];for(let S=0,x=w.length;S<x;S++){const P=w[S];P.onError&&P.onError(A)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class $O extends tl{constructor(e){super(e)}load(e,r,s,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const u=this,f=Pd.get(e);if(f!==void 0)return u.manager.itemStart(e),setTimeout(function(){r&&r(f),u.manager.itemEnd(e)},0),f;const m=th("img");function _(){w(),Pd.add(e,this),r&&r(this),u.manager.itemEnd(e)}function A(S){w(),a&&a(S),u.manager.itemError(e),u.manager.itemEnd(e)}function w(){m.removeEventListener("load",_,!1),m.removeEventListener("error",A,!1)}return m.addEventListener("load",_,!1),m.addEventListener("error",A,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(m.crossOrigin=this.crossOrigin),u.manager.itemStart(e),m.src=e,m}}class WO extends tl{constructor(e){super(e)}load(e,r,s,a){const u=this,f=new n0,m=new $o(this.manager);return m.setResponseType("arraybuffer"),m.setRequestHeader(this.requestHeader),m.setPath(this.path),m.setWithCredentials(u.withCredentials),m.load(e,function(_){const A=u.parse(_);!A||(A.image!==void 0?f.image=A.image:A.data!==void 0&&(f.image.width=A.width,f.image.height=A.height,f.image.data=A.data),f.wrapS=A.wrapS!==void 0?A.wrapS:_t,f.wrapT=A.wrapT!==void 0?A.wrapT:_t,f.magFilter=A.magFilter!==void 0?A.magFilter:gr,f.minFilter=A.minFilter!==void 0?A.minFilter:gr,f.anisotropy=A.anisotropy!==void 0?A.anisotropy:1,A.encoding!==void 0&&(f.encoding=A.encoding),A.flipY!==void 0&&(f.flipY=A.flipY),A.format!==void 0&&(f.format=A.format),A.type!==void 0&&(f.type=A.type),A.mipmaps!==void 0&&(f.mipmaps=A.mipmaps,f.minFilter=Vr),A.mipmapCount===1&&(f.minFilter=gr),A.generateMipmaps!==void 0&&(f.generateMipmaps=A.generateMipmaps),f.needsUpdate=!0,r&&r(f,A))},s,a),f}}class c0 extends tl{constructor(e){super(e)}load(e,r,s,a){const u=new Oi,f=new $O(this.manager);return f.setCrossOrigin(this.crossOrigin),f.setPath(this.path),f.load(e,function(m){u.image=m,u.needsUpdate=!0,r!==void 0&&r(u)},s,a),u}}class Ah extends mi{constructor(e,r=1){super(),this.isLight=!0,this.type="Light",this.color=new dr(e),this.intensity=r}dispose(){}copy(e,r){return super.copy(e,r),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const r=super.toJSON(e);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,this.groundColor!==void 0&&(r.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(r.object.distance=this.distance),this.angle!==void 0&&(r.object.angle=this.angle),this.decay!==void 0&&(r.object.decay=this.decay),this.penumbra!==void 0&&(r.object.penumbra=this.penumbra),this.shadow!==void 0&&(r.object.shadow=this.shadow.toJSON()),r}}class kC extends Ah{constructor(e,r,s){super(e,s),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(mi.DefaultUp),this.updateMatrix(),this.groundColor=new dr(r)}copy(e,r){return super.copy(e,r),this.groundColor.copy(e.groundColor),this}}const u0=new Rr,LC=new ut,OC=new ut;class d0{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Gn(512,512),this.map=null,this.mapPass=null,this.matrix=new Rr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new KA,this._frameExtents=new Gn(1,1),this._viewportCount=1,this._viewports=[new oi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const r=this.camera,s=this.matrix;LC.setFromMatrixPosition(e.matrixWorld),r.position.copy(LC),OC.setFromMatrixPosition(e.target.matrixWorld),r.lookAt(OC),r.updateMatrixWorld(),u0.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(u0),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(u0)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class KO extends d0{constructor(){super(new as(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const r=this.camera,s=Zf*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height,u=e.distance||r.far;(s!==r.fov||a!==r.aspect||u!==r.far)&&(r.fov=s,r.aspect=a,r.far=u,r.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class jO extends Ah{constructor(e,r,s=0,a=Math.PI/3,u=0,f=2){super(e,r),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(mi.DefaultUp),this.updateMatrix(),this.target=new mi,this.distance=s,this.angle=a,this.penumbra=u,this.decay=f,this.map=null,this.shadow=new KO}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,r){return super.copy(e,r),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const FC=new Rr,yh=new ut,f0=new ut;class qO extends d0{constructor(){super(new as(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Gn(4,2),this._viewportCount=6,this._viewports=[new oi(2,1,1,1),new oi(0,1,1,1),new oi(3,1,1,1),new oi(1,1,1,1),new oi(3,0,1,1),new oi(1,0,1,1)],this._cubeDirections=[new ut(1,0,0),new ut(-1,0,0),new ut(0,0,1),new ut(0,0,-1),new ut(0,1,0),new ut(0,-1,0)],this._cubeUps=[new ut(0,1,0),new ut(0,1,0),new ut(0,1,0),new ut(0,1,0),new ut(0,0,1),new ut(0,0,-1)]}updateMatrices(e,r=0){const s=this.camera,a=this.matrix,u=e.distance||s.far;u!==s.far&&(s.far=u,s.updateProjectionMatrix()),yh.setFromMatrixPosition(e.matrixWorld),s.position.copy(yh),f0.copy(s.position),f0.add(this._cubeDirections[r]),s.up.copy(this._cubeUps[r]),s.lookAt(f0),s.updateMatrixWorld(),a.makeTranslation(-yh.x,-yh.y,-yh.z),FC.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(FC)}}class YO extends Ah{constructor(e,r,s=0,a=2){super(e,r),this.isPointLight=!0,this.type="PointLight",this.distance=s,this.decay=a,this.shadow=new qO}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,r){return super.copy(e,r),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class JO extends d0{constructor(){super(new Jm(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class h0 extends Ah{constructor(e,r){super(e,r),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(mi.DefaultUp),this.updateMatrix(),this.target=new mi,this.shadow=new JO}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class VC extends Ah{constructor(e,r){super(e,r),this.isAmbientLight=!0,this.type="AmbientLight"}}class Ra{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let r="";for(let s=0,a=e.length;s<a;s++)r+=String.fromCharCode(e[s]);try{return decodeURIComponent(escape(r))}catch{return r}}static extractUrlBase(e){const r=e.lastIndexOf("/");return r===-1?"./":e.slice(0,r+1)}static resolveURL(e,r){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(r)&&/^\//.test(e)&&(r=r.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:r+e)}}class ZO extends tl{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,r,s,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const u=this,f=Pd.get(e);if(f!==void 0)return u.manager.itemStart(e),setTimeout(function(){r&&r(f),u.manager.itemEnd(e)},0),f;const m={};m.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",m.headers=this.requestHeader,fetch(e,m).then(function(_){return _.blob()}).then(function(_){return createImageBitmap(_,Object.assign(u.options,{colorSpaceConversion:"none"}))}).then(function(_){Pd.add(e,_),r&&r(_),u.manager.itemEnd(e)}).catch(function(_){a&&a(_),u.manager.itemError(e),u.manager.itemEnd(e)}),u.manager.itemStart(e)}}class eF{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=GC(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const r=GC();e=(r-this.oldTime)/1e3,this.oldTime=r,this.elapsedTime+=e}return e}}function GC(){return(typeof performance>"u"?Date:performance).now()}class tF{constructor(e,r,s){this.binding=e,this.valueSize=s;let a,u,f;switch(r){case"quaternion":a=this._slerp,u=this._slerpAdditive,f=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(s*6),this._workIndex=5;break;case"string":case"bool":a=this._select,u=this._select,f=this._setAdditiveIdentityOther,this.buffer=new Array(s*5);break;default:a=this._lerp,u=this._lerpAdditive,f=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(s*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=u,this._setIdentity=f,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,r){const s=this.buffer,a=this.valueSize,u=e*a+a;let f=this.cumulativeWeight;if(f===0){for(let m=0;m!==a;++m)s[u+m]=s[m];f=r}else{f+=r;const m=r/f;this._mixBufferRegion(s,u,0,m,a)}this.cumulativeWeight=f}accumulateAdditive(e){const r=this.buffer,s=this.valueSize,a=s*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(r,a,0,e,s),this.cumulativeWeightAdditive+=e}apply(e){const r=this.valueSize,s=this.buffer,a=e*r+r,u=this.cumulativeWeight,f=this.cumulativeWeightAdditive,m=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,u<1){const _=r*this._origIndex;this._mixBufferRegion(s,a,_,1-u,r)}f>0&&this._mixBufferRegionAdditive(s,a,this._addIndex*r,1,r);for(let _=r,A=r+r;_!==A;++_)if(s[_]!==s[_+r]){m.setValue(s,a);break}}saveOriginalState(){const e=this.binding,r=this.buffer,s=this.valueSize,a=s*this._origIndex;e.getValue(r,a);for(let u=s,f=a;u!==f;++u)r[u]=r[a+u%s];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,r=e+this.valueSize;for(let s=e;s<r;s++)this.buffer[s]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,r=this._addIndex*this.valueSize;for(let s=0;s<this.valueSize;s++)this.buffer[r+s]=this.buffer[e+s]}_select(e,r,s,a,u){if(a>=.5)for(let f=0;f!==u;++f)e[r+f]=e[s+f]}_slerp(e,r,s,a){Ds.slerpFlat(e,r,e,r,e,s,a)}_slerpAdditive(e,r,s,a,u){const f=this._workIndex*u;Ds.multiplyQuaternionsFlat(e,f,e,r,e,s),Ds.slerpFlat(e,r,e,r,e,f,a)}_lerp(e,r,s,a,u){const f=1-a;for(let m=0;m!==u;++m){const _=r+m;e[_]=e[_]*f+e[s+m]*a}}_lerpAdditive(e,r,s,a,u){for(let f=0;f!==u;++f){const m=r+f;e[m]=e[m]+e[s+f]*a}}}const p0="\\[\\]\\.:\\/",nF=new RegExp("["+p0+"]","g"),m0="[^"+p0+"]",rF="[^"+p0.replace("\\.","")+"]",iF=/((?:WC+[\/:])*)/.source.replace("WC",m0),sF=/(WCOD+)?/.source.replace("WCOD",rF),oF=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",m0),aF=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",m0),lF=new RegExp("^"+iF+sF+oF+aF+"$"),cF=["material","materials","bones","map"];class uF{constructor(e,r,s){const a=s||Qr.parseTrackName(r);this._targetGroup=e,this._bindings=e.subscribe_(r,a)}getValue(e,r){this.bind();const s=this._targetGroup.nCachedObjects_,a=this._bindings[s];a!==void 0&&a.getValue(e,r)}setValue(e,r){const s=this._bindings;for(let a=this._targetGroup.nCachedObjects_,u=s.length;a!==u;++a)s[a].setValue(e,r)}bind(){const e=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=e.length;r!==s;++r)e[r].bind()}unbind(){const e=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=e.length;r!==s;++r)e[r].unbind()}}class Qr{constructor(e,r,s){this.path=r,this.parsedPath=s||Qr.parseTrackName(r),this.node=Qr.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,r,s){return e&&e.isAnimationObjectGroup?new Qr.Composite(e,r,s):new Qr(e,r,s)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(nF,"")}static parseTrackName(e){const r=lF.exec(e);if(r===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const s={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},a=s.nodeName&&s.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const u=s.nodeName.substring(a+1);cF.indexOf(u)!==-1&&(s.nodeName=s.nodeName.substring(0,a),s.objectName=u)}if(s.propertyName===null||s.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return s}static findNode(e,r){if(r===void 0||r===""||r==="."||r===-1||r===e.name||r===e.uuid)return e;if(e.skeleton){const s=e.skeleton.getBoneByName(r);if(s!==void 0)return s}if(e.children){const s=function(u){for(let f=0;f<u.length;f++){const m=u[f];if(m.name===r||m.uuid===r)return m;const _=s(m.children);if(_)return _}return null},a=s(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,r){e[r]=this.targetObject[this.propertyName]}_getValue_array(e,r){const s=this.resolvedProperty;for(let a=0,u=s.length;a!==u;++a)e[r++]=s[a]}_getValue_arrayElement(e,r){e[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,r){this.resolvedProperty.toArray(e,r)}_setValue_direct(e,r){this.targetObject[this.propertyName]=e[r]}_setValue_direct_setNeedsUpdate(e,r){this.targetObject[this.propertyName]=e[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,r){this.targetObject[this.propertyName]=e[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,r){const s=this.resolvedProperty;for(let a=0,u=s.length;a!==u;++a)s[a]=e[r++]}_setValue_array_setNeedsUpdate(e,r){const s=this.resolvedProperty;for(let a=0,u=s.length;a!==u;++a)s[a]=e[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,r){const s=this.resolvedProperty;for(let a=0,u=s.length;a!==u;++a)s[a]=e[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,r){this.resolvedProperty[this.propertyIndex]=e[r]}_setValue_arrayElement_setNeedsUpdate(e,r){this.resolvedProperty[this.propertyIndex]=e[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,r){this.resolvedProperty[this.propertyIndex]=e[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,r){this.resolvedProperty.fromArray(e,r)}_setValue_fromArray_setNeedsUpdate(e,r){this.resolvedProperty.fromArray(e,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,r){this.resolvedProperty.fromArray(e,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,r){this.bind(),this.getValue(e,r)}_setValue_unbound(e,r){this.bind(),this.setValue(e,r)}bind(){let e=this.node;const r=this.parsedPath,s=r.objectName,a=r.propertyName;let u=r.propertyIndex;if(e||(e=Qr.findNode(this.rootNode,r.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(s){let A=r.objectIndex;switch(s){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let w=0;w<e.length;w++)if(e[w].name===A){A=w;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[s]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[s]}if(A!==void 0){if(e[A]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[A]}}const f=e[a];if(f===void 0){const A=r.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+A+"."+a+" but it wasn't found.",e);return}let m=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?m=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(m=this.Versioning.MatrixWorldNeedsUpdate);let _=this.BindingType.Direct;if(u!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[u]!==void 0&&(u=e.morphTargetDictionary[u])}_=this.BindingType.ArrayElement,this.resolvedProperty=f,this.propertyIndex=u}else f.fromArray!==void 0&&f.toArray!==void 0?(_=this.BindingType.HasFromToArray,this.resolvedProperty=f):Array.isArray(f)?(_=this.BindingType.EntireArray,this.resolvedProperty=f):this.propertyName=a;this.getValue=this.GetterByBindingType[_],this.setValue=this.SetterByBindingTypeAndVersioning[_][m]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Qr.Composite=uF,Qr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Qr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Qr.prototype.GetterByBindingType=[Qr.prototype._getValue_direct,Qr.prototype._getValue_array,Qr.prototype._getValue_arrayElement,Qr.prototype._getValue_toArray],Qr.prototype.SetterByBindingTypeAndVersioning=[[Qr.prototype._setValue_direct,Qr.prototype._setValue_direct_setNeedsUpdate,Qr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Qr.prototype._setValue_array,Qr.prototype._setValue_array_setNeedsUpdate,Qr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Qr.prototype._setValue_arrayElement,Qr.prototype._setValue_arrayElement_setNeedsUpdate,Qr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Qr.prototype._setValue_fromArray,Qr.prototype._setValue_fromArray_setNeedsUpdate,Qr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class dF{constructor(e,r,s=null,a=r.blendMode){this._mixer=e,this._clip=r,this._localRoot=s,this.blendMode=a;const u=r.tracks,f=u.length,m=new Array(f),_={endingStart:id,endingEnd:id};for(let A=0;A!==f;++A){const w=u[A].createInterpolant(null);m[A]=w,w.settings=_}this._interpolantSettings=_,this._interpolants=m,this._propertyBindings=new Array(f),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=HD,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,r){return this.loop=e,this.repetitions=r,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,r,s){if(e.fadeOut(r),this.fadeIn(r),s){const a=this._clip.duration,u=e._clip.duration,f=u/a,m=a/u;e.warp(1,f,r),this.warp(m,1,r)}return this}crossFadeTo(e,r,s){return e.crossFadeFrom(this,r,s)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,r,s){const a=this._mixer,u=a.time,f=this.timeScale;let m=this._timeScaleInterpolant;m===null&&(m=a._lendControlInterpolant(),this._timeScaleInterpolant=m);const _=m.parameterPositions,A=m.sampleValues;return _[0]=u,_[1]=u+s,A[0]=e/f,A[1]=r/f,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,r,s,a){if(!this.enabled){this._updateWeight(e);return}const u=this._startTime;if(u!==null){const _=(e-u)*s;_<0||s===0?r=0:(this._startTime=null,r=s*_)}r*=this._updateTimeScale(e);const f=this._updateTime(r),m=this._updateWeight(e);if(m>0){const _=this._interpolants,A=this._propertyBindings;switch(this.blendMode){case XD:for(let w=0,S=_.length;w!==S;++w)_[w].evaluate(f),A[w].accumulateAdditive(m);break;case _A:default:for(let w=0,S=_.length;w!==S;++w)_[w].evaluate(f),A[w].accumulate(a,m)}}}_updateWeight(e){let r=0;if(this.enabled){r=this.weight;const s=this._weightInterpolant;if(s!==null){const a=s.evaluate(e)[0];r*=a,e>s.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=r,r}_updateTimeScale(e){let r=0;if(!this.paused){r=this.timeScale;const s=this._timeScaleInterpolant;if(s!==null){const a=s.evaluate(e)[0];r*=a,e>s.parameterPositions[1]&&(this.stopWarping(),r===0?this.paused=!0:this.timeScale=r)}}return this._effectiveTimeScale=r,r}_updateTime(e){const r=this._clip.duration,s=this.loop;let a=this.time+e,u=this._loopCount;const f=s===QD;if(e===0)return u===-1?a:f&&(u&1)===1?r-a:a;if(s===zD){u===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=r)a=r;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(u===-1&&(e>=0?(u=0,this._setEndings(!0,this.repetitions===0,f)):this._setEndings(this.repetitions===0,!0,f)),a>=r||a<0){const m=Math.floor(a/r);a-=r*m,u+=Math.abs(m);const _=this.repetitions-u;if(_<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?r:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(_===1){const A=e<0;this._setEndings(A,!A,f)}else this._setEndings(!1,!1,f);this._loopCount=u,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:m})}}else this.time=a;if(f&&(u&1)===1)return r-a}return a}_setEndings(e,r,s){const a=this._interpolantSettings;s?(a.endingStart=sd,a.endingEnd=sd):(e?a.endingStart=this.zeroSlopeAtStart?sd:id:a.endingStart=Mm,r?a.endingEnd=this.zeroSlopeAtEnd?sd:id:a.endingEnd=Mm)}_scheduleFading(e,r,s){const a=this._mixer,u=a.time;let f=this._weightInterpolant;f===null&&(f=a._lendControlInterpolant(),this._weightInterpolant=f);const m=f.parameterPositions,_=f.sampleValues;return m[0]=u,_[0]=r,m[1]=u+e,_[1]=s,this}}const fF=new Float32Array(1);class UC extends Wa{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,r){const s=e._localRoot||this._root,a=e._clip.tracks,u=a.length,f=e._propertyBindings,m=e._interpolants,_=s.uuid,A=this._bindingsByRootAndName;let w=A[_];w===void 0&&(w={},A[_]=w);for(let S=0;S!==u;++S){const x=a[S],P=x.name;let O=w[P];if(O!==void 0)++O.referenceCount,f[S]=O;else{if(O=f[S],O!==void 0){O._cacheIndex===null&&(++O.referenceCount,this._addInactiveBinding(O,_,P));continue}const k=r&&r._propertyBindings[S].binding.parsedPath;O=new tF(Qr.create(s,P,k),x.ValueTypeName,x.getValueSize()),++O.referenceCount,this._addInactiveBinding(O,_,P),f[S]=O}m[S].resultBuffer=O.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const s=(e._localRoot||this._root).uuid,a=e._clip.uuid,u=this._actionsByClip[a];this._bindAction(e,u&&u.knownActions[0]),this._addInactiveAction(e,a,s)}const r=e._propertyBindings;for(let s=0,a=r.length;s!==a;++s){const u=r[s];u.useCount++===0&&(this._lendBinding(u),u.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const r=e._propertyBindings;for(let s=0,a=r.length;s!==a;++s){const u=r[s];--u.useCount===0&&(u.restoreOriginalState(),this._takeBackBinding(u))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const r=e._cacheIndex;return r!==null&&r<this._nActiveActions}_addInactiveAction(e,r,s){const a=this._actions,u=this._actionsByClip;let f=u[r];if(f===void 0)f={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,u[r]=f;else{const m=f.knownActions;e._byClipCacheIndex=m.length,m.push(e)}e._cacheIndex=a.length,a.push(e),f.actionByRoot[s]=e}_removeInactiveAction(e){const r=this._actions,s=r[r.length-1],a=e._cacheIndex;s._cacheIndex=a,r[a]=s,r.pop(),e._cacheIndex=null;const u=e._clip.uuid,f=this._actionsByClip,m=f[u],_=m.knownActions,A=_[_.length-1],w=e._byClipCacheIndex;A._byClipCacheIndex=w,_[w]=A,_.pop(),e._byClipCacheIndex=null;const S=m.actionByRoot,x=(e._localRoot||this._root).uuid;delete S[x],_.length===0&&delete f[u],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const r=e._propertyBindings;for(let s=0,a=r.length;s!==a;++s){const u=r[s];--u.referenceCount===0&&this._removeInactiveBinding(u)}}_lendAction(e){const r=this._actions,s=e._cacheIndex,a=this._nActiveActions++,u=r[a];e._cacheIndex=a,r[a]=e,u._cacheIndex=s,r[s]=u}_takeBackAction(e){const r=this._actions,s=e._cacheIndex,a=--this._nActiveActions,u=r[a];e._cacheIndex=a,r[a]=e,u._cacheIndex=s,r[s]=u}_addInactiveBinding(e,r,s){const a=this._bindingsByRootAndName,u=this._bindings;let f=a[r];f===void 0&&(f={},a[r]=f),f[s]=e,e._cacheIndex=u.length,u.push(e)}_removeInactiveBinding(e){const r=this._bindings,s=e.binding,a=s.rootNode.uuid,u=s.path,f=this._bindingsByRootAndName,m=f[a],_=r[r.length-1],A=e._cacheIndex;_._cacheIndex=A,r[A]=_,r.pop(),delete m[u],Object.keys(m).length===0&&delete f[a]}_lendBinding(e){const r=this._bindings,s=e._cacheIndex,a=this._nActiveBindings++,u=r[a];e._cacheIndex=a,r[a]=e,u._cacheIndex=s,r[s]=u}_takeBackBinding(e){const r=this._bindings,s=e._cacheIndex,a=--this._nActiveBindings,u=r[a];e._cacheIndex=a,r[a]=e,u._cacheIndex=s,r[s]=u}_lendControlInterpolant(){const e=this._controlInterpolants,r=this._nActiveControlInterpolants++;let s=e[r];return s===void 0&&(s=new NC(new Float32Array(2),new Float32Array(2),1,fF),s.__cacheIndex=r,e[r]=s),s}_takeBackControlInterpolant(e){const r=this._controlInterpolants,s=e.__cacheIndex,a=--this._nActiveControlInterpolants,u=r[a];e.__cacheIndex=a,r[a]=e,u.__cacheIndex=s,r[s]=u}clipAction(e,r,s){const a=r||this._root,u=a.uuid;let f=typeof e=="string"?mg.findByName(a,e):e;const m=f!==null?f.uuid:e,_=this._actionsByClip[m];let A=null;if(s===void 0&&(f!==null?s=f.blendMode:s=_A),_!==void 0){const S=_.actionByRoot[u];if(S!==void 0&&S.blendMode===s)return S;A=_.knownActions[0],f===null&&(f=A._clip)}if(f===null)return null;const w=new dF(this,f,r,s);return this._bindAction(w,A),this._addInactiveAction(w,m,u),w}existingAction(e,r){const s=r||this._root,a=s.uuid,u=typeof e=="string"?mg.findByName(s,e):e,f=u?u.uuid:e,m=this._actionsByClip[f];return m!==void 0&&m.actionByRoot[a]||null}stopAllAction(){const e=this._actions,r=this._nActiveActions;for(let s=r-1;s>=0;--s)e[s].stop();return this}update(e){e*=this.timeScale;const r=this._actions,s=this._nActiveActions,a=this.time+=e,u=Math.sign(e),f=this._accuIndex^=1;for(let A=0;A!==s;++A)r[A]._update(a,e,u,f);const m=this._bindings,_=this._nActiveBindings;for(let A=0;A!==_;++A)m[A].apply(f);return this}setTime(e){this.time=0;for(let r=0;r<this._actions.length;r++)this._actions[r].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const r=this._actions,s=e.uuid,a=this._actionsByClip,u=a[s];if(u!==void 0){const f=u.knownActions;for(let m=0,_=f.length;m!==_;++m){const A=f[m];this._deactivateAction(A);const w=A._cacheIndex,S=r[r.length-1];A._cacheIndex=null,A._byClipCacheIndex=null,S._cacheIndex=w,r[w]=S,r.pop(),this._removeInactiveBindingsForAction(A)}delete a[s]}}uncacheRoot(e){const r=e.uuid,s=this._actionsByClip;for(const f in s){const m=s[f].actionByRoot,_=m[r];_!==void 0&&(this._deactivateAction(_),this._removeInactiveAction(_))}const a=this._bindingsByRootAndName,u=a[r];if(u!==void 0)for(const f in u){const m=u[f];m.restoreOriginalState(),this._removeInactiveBinding(m)}}uncacheAction(e,r){const s=this.existingAction(e,r);s!==null&&(this._deactivateAction(s),this._removeInactiveAction(s))}}class hF{constructor(e,r,s=0,a=1/0){this.ray=new Gm(e,r),this.near=s,this.far=a,this.camera=null,this.layers=new FA,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,r){this.ray.set(e,r)}setFromCamera(e,r){r.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(r).sub(this.ray.origin).normalize(),this.camera=r):r.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(r.near+r.far)/(r.near-r.far)).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld),this.camera=r):console.error("THREE.Raycaster: Unsupported camera type: "+r.type)}intersectObject(e,r=!0,s=[]){return g0(e,this,s,r),s.sort(zC),s}intersectObjects(e,r=!0,s=[]){for(let a=0,u=e.length;a<u;a++)g0(e[a],this,s,r);return s.sort(zC),s}}function zC(p,e){return p.distance-e.distance}function g0(p,e,r,s){if(p.layers.test(e.layers)&&p.raycast(e,r),s===!0){const a=p.children;for(let u=0,f=a.length;u<f;u++)g0(a[u],e,r,!0)}}class HC{constructor(e=1,r=0,s=0){return this.radius=e,this.phi=r,this.theta=s,this}set(e,r,s){return this.radius=e,this.phi=r,this.theta=s,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,r,s){return this.radius=Math.sqrt(e*e+r*r+s*s),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,s),this.phi=Math.acos(os(r/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const gg=new Ia;class QC extends o0{constructor(e,r=16776960){const s=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(8*3),u=new Ki;u.setIndex(new Yr(s,1)),u.setAttribute("position",new Yr(a,3)),super(u,new cg({color:r,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&gg.setFromObject(this.object),gg.isEmpty())return;const r=gg.min,s=gg.max,a=this.geometry.attributes.position,u=a.array;u[0]=s.x,u[1]=s.y,u[2]=s.z,u[3]=r.x,u[4]=s.y,u[5]=s.z,u[6]=r.x,u[7]=r.y,u[8]=s.z,u[9]=s.x,u[10]=r.y,u[11]=s.z,u[12]=s.x,u[13]=s.y,u[14]=r.z,u[15]=r.x,u[16]=s.y,u[17]=r.z,u[18]=r.x,u[19]=r.y,u[20]=r.z,u[21]=s.x,u[22]=r.y,u[23]=r.z,a.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,r){return super.copy(e,r),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class pF extends o0{constructor(e=1){const r=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],s=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new Ki;a.setAttribute("position",new $i(r,3)),a.setAttribute("color",new $i(s,3));const u=new cg({vertexColors:!0,toneMapped:!1});super(a,u),this.type="AxesHelper"}setColors(e,r,s){const a=new dr,u=this.geometry.attributes.color.array;return a.set(e),a.toArray(u,0),a.toArray(u,3),a.set(r),a.toArray(u,6),a.toArray(u,9),a.set(s),a.toArray(u,12),a.toArray(u,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const rl=mF();function mF(){const p=new ArrayBuffer(4),e=new Float32Array(p),r=new Uint32Array(p),s=new Uint32Array(512),a=new Uint32Array(512);for(let _=0;_<256;++_){const A=_-127;A<-27?(s[_]=0,s[_|256]=32768,a[_]=24,a[_|256]=24):A<-14?(s[_]=1024>>-A-14,s[_|256]=1024>>-A-14|32768,a[_]=-A-1,a[_|256]=-A-1):A<=15?(s[_]=A+15<<10,s[_|256]=A+15<<10|32768,a[_]=13,a[_|256]=13):A<128?(s[_]=31744,s[_|256]=64512,a[_]=24,a[_|256]=24):(s[_]=31744,s[_|256]=64512,a[_]=13,a[_|256]=13)}const u=new Uint32Array(2048),f=new Uint32Array(64),m=new Uint32Array(64);for(let _=1;_<1024;++_){let A=_<<13,w=0;for(;(A&8388608)===0;)A<<=1,w-=8388608;A&=-8388609,w+=947912704,u[_]=A|w}for(let _=1024;_<2048;++_)u[_]=939524096+(_-1024<<13);for(let _=1;_<31;++_)f[_]=_<<23;f[31]=1199570944,f[32]=2147483648;for(let _=33;_<63;++_)f[_]=2147483648+(_-32<<23);f[63]=3347054592;for(let _=1;_<64;++_)_!==32&&(m[_]=1024);return{floatView:e,uint32View:r,baseTable:s,shiftTable:a,mantissaTable:u,exponentTable:f,offsetTable:m}}function gF(p){Math.abs(p)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),p=os(p,-65504,65504),rl.floatView[0]=p;const e=rl.uint32View[0],r=e>>23&511;return rl.baseTable[r]+((e&8388607)>>rl.shiftTable[r])}function vF(p){const e=p>>10;return rl.uint32View[0]=rl.mantissaTable[rl.offsetTable[e]+(p&1023)]+rl.exponentTable[e],rl.floatView[0]}var vg=Object.freeze({__proto__:null,toHalfFloat:gF,fromHalfFloat:vF});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:E}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=E);var v0=function(){function p(e){this.directionalLight=null,this.currentCamera=e,this.viewpoint=new Wl}return p.prototype.setCameraViewPoint=function(){this.currentCamera.near=this.viewpoint.nearPlane,this.currentCamera.far=this.viewpoint.farPlane,this.currentCamera.position.set(this.viewpoint.eyePosition[0],this.viewpoint.eyePosition[1],this.viewpoint.eyePosition[2]),this.currentCamera.lookAt(this.viewpoint.targetPosition[0],this.viewpoint.targetPosition[1],this.viewpoint.targetPosition[2]),this.currentCamera.up.set(this.viewpoint.upVector[0],this.viewpoint.upVector[1],this.viewpoint.upVector[2]),this.currentCamera.updateProjectionMatrix(),this.updateDirectionalLight()},p.prototype.updateCameraViewPoint=function(e){this.viewpoint=e,this.setCameraViewPoint()},p.prototype.updateDirectionalLight=function(e){e&&(this.directionalLight=e,this.directionalLight.position.set(this.currentCamera.position.x,this.currentCamera.position.y,this.currentCamera.position.z))},p}(),Wl=function(){function p(){this.nearPlane=.1,this.farPlane=2e3,this.eyePosition=[0,0,0],this.targetPosition=[0,0,0],this.upVector=[0,1,0]}return p}(),_F=`#define GLSLIFY 1
attribute vec3 position;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;varying vec2 vUv;void main(){gl_Position=vec4(position,1.0);vUv=vec2(position.x,position.y)*0.5+0.5;}`,AF=`precision mediump float;
#define GLSLIFY 1
vec3 mod289_0(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289_0(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute_0(vec4 x){return mod289_0(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt_0(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float pnoise(vec3 P,vec3 rep){vec3 Pi0=mod(floor(P),rep);vec3 Pi1=mod(Pi0+vec3(1.0),rep);Pi0=mod289_0(Pi0);Pi1=mod289_0(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute_0(permute_0(ix)+iy);vec4 ixy0=permute_0(ixy+iz0);vec4 ixy1=permute_0(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt_0(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt_0(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}vec3 mod289_1(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289_1(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute_1(vec4 x){return mod289_1(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt_1(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g_0=step(x0.yzx,x0.xyz);vec3 l=1.0-g_0;vec3 i1=min(g_0.xyz,l.zxy);vec3 i2=max(g_0.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289_1(i);vec4 p=permute_1(permute_1(permute_1(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt_1(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}float grain(vec2 texCoord,vec2 resolution,float frame,float multiplier){vec2 mult=texCoord*resolution;float offset=snoise(vec3(mult/multiplier,frame));float n1=pnoise(vec3(mult,offset),vec3(1.0/texCoord*resolution,1.0));return n1/2.0+0.5;}float grain(vec2 texCoord,vec2 resolution,float frame){return grain(texCoord,resolution,frame,2.5);}float grain(vec2 texCoord,vec2 resolution){return grain(texCoord,resolution,0.0);}vec3 blendSoftLight(vec3 base,vec3 blend){return mix(sqrt(base)*(2.0*blend-1.0)+2.0*base*(1.0-blend),2.0*base*blend+base*base*(1.0-2.0*blend),step(base,vec3(0.5)));}uniform vec3 color1;uniform vec3 color2;uniform float aspect;uniform vec2 offset;uniform vec2 scale;uniform float noiseAlpha;uniform bool aspectCorrection;uniform float grainScale;uniform float grainTime;uniform vec2 smooth;varying vec2 vUv;void main(){vec2 q=vec2(vUv-0.5);if(aspectCorrection){q.x*=aspect;}q/=scale;q-=offset;float dst=length(q);dst=smoothstep(smooth.x,smooth.y,dst);vec3 color=mix(color1,color2,dst);if(noiseAlpha>0.0&&grainScale>0.0){float gSize=1.0/grainScale;float g=grain(vUv,vec2(gSize*aspect,gSize),grainTime);vec3 noiseColor=blendSoftLight(color,vec3(g));gl_FragColor.rgb=mix(color,noiseColor,noiseAlpha);}else{gl_FragColor.rgb=color;}gl_FragColor.a=1.0;}`;function XC(p){p=p||{};var e=p.geometry||new bd(2,2,1),r=new LO({vertexShader:_F,fragmentShader:AF,side:q,uniforms:{aspectCorrection:{value:!1},aspect:{value:1},grainScale:{value:.005},grainTime:{value:0},noiseAlpha:{value:.25},offset:{value:new Gn(0,0)},scale:{value:new Gn(1,1)},smooth:{value:new Gn(0,1)},color1:{value:new dr("#fff")},color2:{value:new dr("#283844")}},depthTest:!1}),s=new Fi(e,r);s.frustumCulled=!1;var a={mesh:s,style:function(){}};a.style=function(f){if(f=f||{},Array.isArray(f.colors)){var m=f.colors.map(function(P){return typeof P=="string"||typeof P=="number"?new dr(P):P});r.uniforms.color1.value.copy(m[0]),r.uniforms.color2.value.copy(m[1])}if(typeof f.aspect=="number"&&(r.uniforms.aspect.value=f.aspect),typeof f.grainScale=="number"&&(r.uniforms.grainScale.value=f.grainScale),typeof f.grainTime=="number"&&(r.uniforms.grainTime.value=f.grainTime),f.smooth){var _=u(f.smooth);r.uniforms.smooth.value.copy(_)}if(f.offset){var A=u(f.offset);r.uniforms.offset.value.copy(A)}if(typeof f.noiseAlpha=="number"&&(r.uniforms.noiseAlpha.value=f.noiseAlpha),typeof f.scale<"u"){var w=f.scale,S=[];typeof w=="number"&&(S=[w,w]);var x=u(S);r.uniforms.scale.value.copy(x)}typeof f.aspectCorrection<"u"&&(r.uniforms.aspectCorrection.value=Boolean(f.aspectCorrection))};function u(f){return Array.isArray(f)?new Gn().fromArray(f):f}return p?a.style(p):a.style(),a}function yF(p){var e=document.fullscreenElement||document.webkitFullscreenElement;e?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():p.requestFullscreen?p.requestFullscreen():p.webkitRequestFullscreen&&p.webkitRequestFullscreen()}function $C(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function bF(p,e){p.traverse(function(r){!r.isMesh||(Array.isArray(r.material)?e(r.material):[r.material].forEach(e))})}function WC(){var p=document.createElement("div"),e=document.createElement("div"),r=document.createElement("div");return p.style.position="relative",p.style.display="none",r.style.color="#000",p.style.zIndex="1000",p.className="copper3D_flex-center",e.className="copper3D_three-balls-bounce",r.className="copper3D_loading_progress",e.innerHTML="<div class='copper3D_circle'></div><div class='copper3D_circle'></div><div class='copper3D_circle'></div><div class='copper3D_shadow'></div><div class='copper3D_shadow'></div><div class='copper3D_shadow'></div>",p.appendChild(e),p.appendChild(r),{loadingContainer:p,progress:r}}function SF(p,e){return function(r){return((r-e)/p+.5)*255}}function wF(p,e){var r=Math.max.apply(Math,p.lut).toString(2).length,s=r-8,a=p.lut[0]>>s,u=p.lut[p.lut.length-1]>>s,f=p.firstValueMapped+p.lut.length-1;return function(m){return m<p.firstValueMapped?a:m>=f?u:e?p.lut[Math.round(m)-p.firstValueMapped]>>s:p.lut[m-p.firstValueMapped]>>s}}function EF(p,e,r,s){return r?wF(r,s):SF(p,e)}var Nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ls<"u"?ls:typeof self<"u"?self:{};function KC(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}function _0(p,e){return e={exports:{}},p(e,e.exports),e.exports}var CF=_0(function(p,e){/*! dicom-parser - 1.8.12 - 2022-02-07 | (c) 2017 Chris Hafey | https://github.com/cornerstonejs/dicomParser */(function(r,s){p.exports=s(d.default)})(Nd,function(r){return a=[function(f,m){f.exports=r},function(f,m,_){_.r(m),_.d(m,"isStringVr",function(){return w}),_.d(m,"isPrivateTag",function(){return S}),_.d(m,"parsePN",function(){return x}),_.d(m,"parseTM",function(){return P}),_.d(m,"parseDA",function(){return k}),_.d(m,"explicitElementToString",function(){return L}),_.d(m,"explicitDataSetToJS",function(){return U}),_.d(m,"createJPEGBasicOffsetTable",function(){return Z}),_.d(m,"parseDicomDataSetExplicit",function(){return gt}),_.d(m,"parseDicomDataSetImplicit",function(){return Qt}),_.d(m,"readFixedString",function(){return j}),_.d(m,"alloc",function(){return c}),_.d(m,"version",function(){return pn}),_.d(m,"bigEndianByteArrayParser",function(){return at}),_.d(m,"ByteStream",function(){return jt}),_.d(m,"sharedCopy",function(){return $e}),_.d(m,"DataSet",function(){return Le}),_.d(m,"findAndSetUNElementLength",function(){return ae}),_.d(m,"findEndOfEncapsulatedElement",function(){return te}),_.d(m,"findItemDelimitationItemAndSetElementLength",function(){return je}),_.d(m,"littleEndianByteArrayParser",function(){return Kt}),_.d(m,"parseDicom",function(){return Xn}),_.d(m,"readDicomElementExplicit",function(){return ft}),_.d(m,"readDicomElementImplicit",function(){return Te}),_.d(m,"readEncapsulatedImageFrame",function(){return Un}),_.d(m,"readEncapsulatedPixelData",function(){return Bt}),_.d(m,"readEncapsulatedPixelDataFromFragments",function(){return rn}),_.d(m,"readPart10Header",function(){return wn}),_.d(m,"readSequenceItemsExplicit",function(){return lt}),_.d(m,"readSequenceItemsImplicit",function(){return tt}),_.d(m,"readSequenceItem",function(){return Je}),_.d(m,"readTag",function(){return X});var A={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:void 0,UR:!0,US:!1,UT:!0},w=function(ue){return A[ue]},S=function(ue){return parseInt(ue[4],10)%2==1},x=function(ue){if(ue!==void 0)return ue=ue.split("^"),{familyName:ue[0],givenName:ue[1],middleName:ue[2],prefix:ue[3],suffix:ue[4]}};function P(ue,W){if(2<=ue.length){var Y=parseInt(ue.substring(0,2),10),de=4<=ue.length?parseInt(ue.substring(2,4),10):void 0,De=6<=ue.length?parseInt(ue.substring(4,6),10):void 0,et=8<=ue.length?ue.substring(7,13):void 0,et=et?parseInt(et,10)*Math.pow(10,6-et.length):void 0;if(W&&(isNaN(Y)||de!==void 0&&isNaN(de)||De!==void 0&&isNaN(De)||et!==void 0&&isNaN(et)||Y<0||23<Y||de&&(de<0||59<de)||De&&(De<0||59<De)||et&&(et<0||999999<et)))throw"invalid TM '".concat(ue,"'");return{hours:Y,minutes:de,seconds:De,fractionalSeconds:et}}if(W)throw"invalid TM '".concat(ue,"'")}function O(ue,W,Y){return!isNaN(Y)&&0<W&&W<=12&&0<ue&&ue<=function(de,De){switch(de){case 2:return De%4==0&&De%100||De%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}}(W,Y)}function k(ue,W){if(ue&&ue.length===8){var Y=parseInt(ue.substring(0,4),10),de=parseInt(ue.substring(4,6),10),De=parseInt(ue.substring(6,8),10);if(W&&O(De,de,Y)!==!0)throw"invalid DA '".concat(ue,"'");return{year:Y,month:de,day:De}}if(W)throw"invalid DA '".concat(ue,"'")}function L(ue,W){if(ue===void 0||W===void 0)throw"dicomParser.explicitElementToString: missing required parameters";if(W.vr===void 0)throw"dicomParser.explicitElementToString: cannot convert implicit element to string";var Y,de=W.vr,De=W.tag;function et(sn,Fe){for(var wt="",bn=0;bn<sn;bn++)bn!==0&&(wt+="/"),wt+=Fe.call(ue,De,bn).toString();return wt}if(w(de)===!0)Y=ue.string(De);else{if(de==="AT"){var Tt=ue.uint32(De);return Tt===void 0?void 0:"x".concat((Tt=Tt<0?4294967295+Tt+1:Tt).toString(16).toUpperCase())}de==="US"?Y=et(W.length/2,ue.uint16):de==="SS"?Y=et(W.length/2,ue.int16):de==="UL"?Y=et(W.length/4,ue.uint32):de==="SL"?Y=et(W.length/4,ue.int32):de==="FD"?Y=et(W.length/8,ue.double):de==="FL"&&(Y=et(W.length/4,ue.float))}return Y}function U(ue,W){if(ue===void 0)throw"dicomParser.explicitDataSetToJS: missing required parameter dataSet";W=W||{omitPrivateAttibutes:!0,maxElementLength:128};var Y,de={};for(Y in ue.elements){var De=ue.elements[Y];if(W.omitPrivateAttibutes!==!0||!S(Y))if(De.items){for(var et=[],Tt=0;Tt<De.items.length;Tt++)et.push(U(De.items[Tt].dataSet,W));de[Y]=et}else{var sn=void 0;De.length<W.maxElementLength&&(sn=L(ue,De)),de[Y]=sn!==void 0?sn:{dataOffset:De.dataOffset,length:De.length}}}return de}function Q(ue,W){return ue.byteArray[W]===255&&ue.byteArray[W+1]===217}function G(ue,W,Y){for(var de,De,et=Y;et<W.fragments.length;et++)if(de=ue,De=et,De=W.fragments[De],!(!Q(de,De.position+De.length-2)&&!Q(de,De.position+De.length-3)))return et}function Z(ue,W,Y){if(ue===void 0)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet";if(W===void 0)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement";if(W.tag!=="x7fe00010")throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'";if(W.encapsulatedPixelData!==!0||W.hadUndefinedLength!==!0||W.basicOffsetTable===void 0||W.fragments===void 0||W.fragments.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(Y&&Y.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length";Y=Y||W.fragments;for(var de=[],De=0;;){de.push(W.fragments[De].offset);var et=G(ue,W,De);if(et===void 0||et===W.fragments.length-1)return de;De=et+1}}function X(Y){if(Y===void 0)throw"dicomParser.readTag: missing required parameter 'byteStream'";var W=256*Y.readUint16()*256,Y=Y.readUint16();return"x".concat("00000000".concat((W+Y).toString(16)).substr(-8))}function te(ue,W,Y){if(ue===void 0)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'";if(W===void 0)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'";if(W.encapsulatedPixelData=!0,W.basicOffsetTable=[],W.fragments=[],X(ue)!=="xfffee000")throw"dicomParser.findEndOfEncapsulatedElement: basic offset table not found";for(var de=ue.readUint32()/4,De=0;De<de;De++){var et=ue.readUint32();W.basicOffsetTable.push(et)}for(var Tt=ue.position;ue.position<ue.byteArray.length;){var sn=X(ue),Fe=ue.readUint32();if(sn==="xfffee0dd")return ue.seek(Fe),void(W.length=ue.position-W.dataOffset);if(sn!=="xfffee000")return Y&&Y.push("unexpected tag ".concat(sn," while searching for end of pixel data element with undefined length")),Fe>ue.byteArray.length-ue.position&&(Fe=ue.byteArray.length-ue.position),W.fragments.push({offset:ue.position-Tt-8,position:ue.position,length:Fe}),ue.seek(Fe),void(W.length=ue.position-W.dataOffset);W.fragments.push({offset:ue.position-Tt-8,position:ue.position,length:Fe}),ue.seek(Fe)}Y&&Y.push("pixel data element ".concat(W.tag," missing sequence delimiter tag xfffee0dd"))}function ae(ue,W){if(ue===void 0)throw"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'";for(var Y=ue.byteArray.length-8;ue.position<=Y;)if(ue.readUint16()===65534){var de=ue.readUint16();if(de===57565)return ue.readUint32()!==0&&ue.warnings("encountered non zero length following item delimiter at position ".concat(ue.position-4," while reading element of undefined length with tag ").concat(W.tag)),void(W.length=ue.position-W.dataOffset)}W.length=ue.byteArray.length-W.dataOffset,ue.seek(ue.byteArray.length-ue.position)}function j(ue,W,Y){if(Y<0)throw"dicomParser.readFixedString - length cannot be less than 0";if(W+Y>ue.length)throw"dicomParser.readFixedString: attempt to read past end of buffer";for(var de,De="",et=0;et<Y;et++){if((de=ue[W+et])===0)return W+=Y,De;De+=String.fromCharCode(de)}return De}function ge(ue,W){for(var Y=0;Y<W.length;Y++){var de=W[Y];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(ue,de.key,de)}}function we(ue,W){return ue.parser!==void 0?ue.parser:W}var Le=function(){function ue(de,De,et){(function(Tt,sn){if(!(Tt instanceof sn))throw new TypeError("Cannot call a class as a function")})(this,ue),this.byteArrayParser=de,this.byteArray=De,this.elements=et}var W,Y;return W=ue,(Y=[{key:"uint16",value:function(de,De){if(de=this.elements[de],De=De!==void 0?De:0,de&&de.length!==0)return we(de,this.byteArrayParser).readUint16(this.byteArray,de.dataOffset+2*De)}},{key:"int16",value:function(de,De){if(de=this.elements[de],De=De!==void 0?De:0,de&&de.length!==0)return we(de,this.byteArrayParser).readInt16(this.byteArray,de.dataOffset+2*De)}},{key:"uint32",value:function(de,De){if(de=this.elements[de],De=De!==void 0?De:0,de&&de.length!==0)return we(de,this.byteArrayParser).readUint32(this.byteArray,de.dataOffset+4*De)}},{key:"int32",value:function(de,De){if(de=this.elements[de],De=De!==void 0?De:0,de&&de.length!==0)return we(de,this.byteArrayParser).readInt32(this.byteArray,de.dataOffset+4*De)}},{key:"float",value:function(de,De){if(de=this.elements[de],De=De!==void 0?De:0,de&&de.length!==0)return we(de,this.byteArrayParser).readFloat(this.byteArray,de.dataOffset+4*De)}},{key:"double",value:function(de,De){if(de=this.elements[de],De=De!==void 0?De:0,de&&de.length!==0)return we(de,this.byteArrayParser).readDouble(this.byteArray,de.dataOffset+8*De)}},{key:"numStringValues",value:function(de){if(de=this.elements[de],de&&0<de.length)return de=j(this.byteArray,de.dataOffset,de.length).match(/\\/g),de===null?1:de.length+1}},{key:"string",value:function(de,De){if(de=this.elements[de],de&&de.Value)return de.Value;if(de&&0<de.length)return de=j(this.byteArray,de.dataOffset,de.length),0<=De?de.split("\\")[De].trim():de.trim()}},{key:"text",value:function(de,De){if(de=this.elements[de],de&&0<de.length)return de=j(this.byteArray,de.dataOffset,de.length),0<=De?de.split("\\")[De].replace(/ +$/,""):de.replace(/ +$/,"")}},{key:"floatString",value:function(de,De){var et=this.elements[de];if(et&&0<et.length&&(De=this.string(de,De=De!==void 0?De:0),De!==void 0))return parseFloat(De)}},{key:"intString",value:function(de,De){var et=this.elements[de];if(et&&0<et.length&&(De=this.string(de,De=De!==void 0?De:0),De!==void 0))return parseInt(De)}},{key:"attributeTag",value:function(de){var De=this.elements[de];if(De&&De.length===4){var et=we(De,this.byteArrayParser).readUint16,de=this.byteArray,De=De.dataOffset;return"x".concat("00000000".concat((256*et(de,De)*256+et(de,De+2)).toString(16)).substr(-8))}}}])&&ge(W.prototype,Y),Object.defineProperty(W,"prototype",{writable:!1}),ue}();function je(ue,W){if(ue===void 0)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";for(var Y=ue.byteArray.length-8;ue.position<=Y;)if(ue.readUint16()===65534){var de=ue.readUint16();if(de===57357)return ue.readUint32()!==0&&ue.warnings("encountered non zero length following item delimiter at position ".concat(ue.position-4," while reading element of undefined length with tag ").concat(W.tag)),void(W.length=ue.position-W.dataOffset)}W.length=ue.byteArray.length-W.dataOffset,ue.seek(ue.byteArray.length-ue.position)}var be=function(ue,W,Y){return Y!==void 0?Y(ue.tag)==="SQ":W.position+4<=W.byteArray.length?(ue=X(W),W.seek(-4),ue==="xfffee000"||ue==="xfffee0dd"):(W.warnings.push("eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR"),!1)};function Te(ue,W,Y){if(ue===void 0)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";var de={tag:X(ue),length:ue.readUint32(),dataOffset:ue.position};return de.length===4294967295&&(de.hadUndefinedLength=!0),de.tag===W||(be(de,ue,Y)&&!S(de.tag)?tt(ue,de):de.hadUndefinedLength?je(ue,de):ue.seek(de.length)),de}function Je(ue){if(ue===void 0)throw"dicomParser.readSequenceItem: missing required parameter 'byteStream'";var W={tag:X(ue),length:ue.readUint32(),dataOffset:ue.position};if(W.tag!=="xfffee000")throw"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset ".concat(ue.position);return W}function it(ue,W){var Y=Je(ue);return Y.length===4294967295?(Y.hadUndefinedLength=!0,Y.dataSet=function(de,De){for(var et={};de.position<de.byteArray.length;){var Tt=Te(de,void 0,De);if((et[Tt.tag]=Tt).tag==="xfffee00d")return new Le(de.byteArrayParser,de.byteArray,et)}return de.warnings.push("eof encountered before finding sequence item delimiter in sequence item of undefined length"),new Le(de.byteArrayParser,de.byteArray,et)}(ue,W),Y.length=ue.position-Y.dataOffset):(Y.dataSet=new Le(ue.byteArrayParser,ue.byteArray,{}),Qt(Y.dataSet,ue,ue.position+Y.length,{vrCallback:W})),Y}function tt(ue,W,Y){if(ue===void 0)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'";if(W===void 0)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'";W.items=[],(W.length===4294967295?function(de,De,et){for(;de.position+4<=de.byteArray.length;){var Tt=X(de);if(de.seek(-4),Tt==="xfffee0dd")return De.length=de.position-De.dataOffset,de.seek(8);Tt=it(de,et),De.items.push(Tt)}de.warnings.push("eof encountered before finding sequence delimiter in sequence of undefined length"),De.length=de.byteArray.length-De.dataOffset}:function(de,De,et){for(var Tt=De.dataOffset+De.length;de.position<Tt;){var sn=it(de,et);De.items.push(sn)}})(ue,W,Y)}function Me(ue,W){var Y=Je(ue);return Y.length===4294967295?(Y.hadUndefinedLength=!0,Y.dataSet=function(de,De){for(var et={};de.position<de.byteArray.length;){var Tt=ft(de,De);if((et[Tt.tag]=Tt).tag==="xfffee00d")return new Le(de.byteArrayParser,de.byteArray,et)}return De.push("eof encountered before finding item delimiter tag while reading sequence item of undefined length"),new Le(de.byteArrayParser,de.byteArray,et)}(ue,W),Y.length=ue.position-Y.dataOffset):(Y.dataSet=new Le(ue.byteArrayParser,ue.byteArray,{}),gt(Y.dataSet,ue,ue.position+Y.length)),Y}function lt(ue,W,Y){if(ue===void 0)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'";if(W===void 0)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'";W.items=[],(W.length===4294967295?function(de,De,et){for(;de.position+4<=de.byteArray.length;){var Tt=X(de);if(de.seek(-4),Tt==="xfffee0dd")return De.length=de.position-De.dataOffset,de.seek(8);Tt=Me(de,et),De.items.push(Tt)}et.push("eof encountered before finding sequence delimitation tag while reading sequence of undefined length"),De.length=de.position-De.dataOffset}:function(de,De,et){for(var Tt=De.dataOffset+De.length;de.position<Tt;){var sn=Me(de,et);De.items.push(sn)}})(ue,W,Y)}var mt=function(ue){return ue==="OB"||ue==="OD"||ue==="OL"||ue==="OW"||ue==="SQ"||ue==="OF"||ue==="UC"||ue==="UR"||ue==="UT"||ue==="UN"?4:2};function ft(ue,W,Y){if(ue===void 0)throw"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'";var de={tag:X(ue),vr:ue.readFixedString(2)};return mt(de.vr)===2?de.length=ue.readUint16():(ue.seek(2),de.length=ue.readUint32()),de.dataOffset=ue.position,de.length===4294967295&&(de.hadUndefinedLength=!0),de.tag===Y||(de.vr==="SQ"?lt(ue,de,W):de.length===4294967295?de.tag==="x7fe00010"?te(ue,de,W):(de.vr==="UN"?tt:je)(ue,de):ue.seek(de.length)),de}function gt(ue,W,Y){var de=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};if(Y=Y===void 0?W.byteArray.length:Y,W===void 0)throw"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'";if(Y<W.position||Y>W.byteArray.length)throw"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'";for(var De=ue.elements;W.position<Y;){var et=ft(W,ue.warnings,de.untilTag);if((De[et.tag]=et).tag===de.untilTag)return}if(W.position>Y)throw"dicomParser:parseDicomDataSetExplicit: buffer overrun"}function Qt(ue,W,Y){var de=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};if(Y=Y===void 0?ue.byteArray.length:Y,W===void 0)throw"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'";if(Y<W.position||Y>W.byteArray.length)throw"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'";for(var De=ue.elements;W.position<Y;){var et=Te(W,de.untilTag,de.vrCallback);if((De[et.tag]=et).tag===de.untilTag)return}}function c(ue,W){if(typeof Buffer<"u"&&ue instanceof Buffer)return Buffer.alloc(W);if(ue instanceof Uint8Array)return new Uint8Array(W);throw"dicomParser.alloc: unknown type for byteArray"}var pn="1.8.12",at={readUint16:function(ue,W){if(W<0)throw"bigEndianByteArrayParser.readUint16: position cannot be less than 0";if(W+2>ue.length)throw"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer";return(ue[W]<<8)+ue[W+1]},readInt16:function(ue,W){if(W<0)throw"bigEndianByteArrayParser.readInt16: position cannot be less than 0";if(W+2>ue.length)throw"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer";return W=(ue[W]<<8)+ue[W+1],W=32768&W?W-65535-1:W},readUint32:function(ue,W){if(W<0)throw"bigEndianByteArrayParser.readUint32: position cannot be less than 0";if(W+4>ue.length)throw"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer";return 256*(256*(256*ue[W]+ue[W+1])+ue[W+2])+ue[W+3]},readInt32:function(ue,W){if(W<0)throw"bigEndianByteArrayParser.readInt32: position cannot be less than 0";if(W+4>ue.length)throw"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer";return(ue[W]<<24)+(ue[W+1]<<16)+(ue[W+2]<<8)+ue[W+3]},readFloat:function(ue,W){if(W<0)throw"bigEndianByteArrayParser.readFloat: position cannot be less than 0";if(W+4>ue.length)throw"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer";var Y=new Uint8Array(4);return Y[3]=ue[W],Y[2]=ue[W+1],Y[1]=ue[W+2],Y[0]=ue[W+3],new Float32Array(Y.buffer)[0]},readDouble:function(ue,W){if(W<0)throw"bigEndianByteArrayParser.readDouble: position cannot be less than 0";if(W+8>ue.length)throw"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer";var Y=new Uint8Array(8);return Y[7]=ue[W],Y[6]=ue[W+1],Y[5]=ue[W+2],Y[4]=ue[W+3],Y[3]=ue[W+4],Y[2]=ue[W+5],Y[1]=ue[W+6],Y[0]=ue[W+7],new Float64Array(Y.buffer)[0]}};function $e(ue,W,Y){if(typeof Buffer<"u"&&ue instanceof Buffer)return ue.slice(W,W+Y);if(ue instanceof Uint8Array)return new Uint8Array(ue.buffer,ue.byteOffset+W,Y);throw"dicomParser.from: unknown type for byteArray"}function Mt(ue,W){for(var Y=0;Y<W.length;Y++){var de=W[Y];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(ue,de.key,de)}}var jt=function(){function ue(de,De,et){if(function(Tt,sn){if(!(Tt instanceof sn))throw new TypeError("Cannot call a class as a function")}(this,ue),de===void 0)throw"dicomParser.ByteStream: missing required parameter 'byteArrayParser'";if(De===void 0)throw"dicomParser.ByteStream: missing required parameter 'byteArray'";if(!(De instanceof Uint8Array)&&(typeof Buffer>"u"||!(De instanceof Buffer)))throw"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer";if(et<0)throw"dicomParser.ByteStream: parameter 'position' cannot be less than 0";if(et>=De.length)throw"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length";this.byteArrayParser=de,this.byteArray=De,this.position=et||0,this.warnings=[]}var W,Y;return W=ue,(Y=[{key:"seek",value:function(de){if(this.position+de<0)throw"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0";this.position+=de}},{key:"readByteStream",value:function(de){if(this.position+de>this.byteArray.length)throw"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread";var De=$e(this.byteArray,this.position,de);return this.position+=de,new ue(this.byteArrayParser,De)}},{key:"getSize",value:function(){return this.byteArray.length}},{key:"readUint16",value:function(){var de=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,de}},{key:"readUint32",value:function(){var de=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,de}},{key:"readFixedString",value:function(de){var De=j(this.byteArray,this.position,de);return this.position+=de,De}}])&&Mt(W.prototype,Y),Object.defineProperty(W,"prototype",{writable:!1}),ue}(),Kt={readUint16:function(ue,W){if(W<0)throw"littleEndianByteArrayParser.readUint16: position cannot be less than 0";if(W+2>ue.length)throw"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer";return ue[W]+256*ue[W+1]},readInt16:function(ue,W){if(W<0)throw"littleEndianByteArrayParser.readInt16: position cannot be less than 0";if(W+2>ue.length)throw"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer";return W=ue[W]+(ue[W+1]<<8),W=32768&W?W-65535-1:W},readUint32:function(ue,W){if(W<0)throw"littleEndianByteArrayParser.readUint32: position cannot be less than 0";if(W+4>ue.length)throw"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer";return ue[W]+256*ue[W+1]+256*ue[W+2]*256+256*ue[W+3]*256*256},readInt32:function(ue,W){if(W<0)throw"littleEndianByteArrayParser.readInt32: position cannot be less than 0";if(W+4>ue.length)throw"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer";return ue[W]+(ue[W+1]<<8)+(ue[W+2]<<16)+(ue[W+3]<<24)},readFloat:function(ue,W){if(W<0)throw"littleEndianByteArrayParser.readFloat: position cannot be less than 0";if(W+4>ue.length)throw"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer";var Y=new Uint8Array(4);return Y[0]=ue[W],Y[1]=ue[W+1],Y[2]=ue[W+2],Y[3]=ue[W+3],new Float32Array(Y.buffer)[0]},readDouble:function(ue,W){if(W<0)throw"littleEndianByteArrayParser.readDouble: position cannot be less than 0";if(W+8>ue.length)throw"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer";var Y=new Uint8Array(8);return Y[0]=ue[W],Y[1]=ue[W+1],Y[2]=ue[W+2],Y[3]=ue[W+3],Y[4]=ue[W+4],Y[5]=ue[W+5],Y[6]=ue[W+6],Y[7]=ue[W+7],new Float64Array(Y.buffer)[0]}};function wn(ue){var W=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(ue===void 0)throw"dicomParser.readPart10Header: missing required parameter 'byteArray'";var Y=W.TransferSyntaxUID,de=new jt(Kt,ue);return function(){var De=function(){if(de.getSize()<=132&&Y)return!1;if(de.seek(128),de.readFixedString(4)==="DICM")return!0;if(!(W||{}).TransferSyntaxUID)throw"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file.";return de.seek(0),!1}(),et=[],Tt={};if(!De)return de.position=0,{elements:{x00020010:{tag:"x00020010",vr:"UI",Value:Y}},warnings:et};for(;de.position<de.byteArray.length;){var sn=de.position,Fe=ft(de,et);if("x0002ffff"<Fe.tag){de.position=sn;break}Fe.parser=Kt,Tt[Fe.tag]=Fe}return(De=new Le(de.byteArrayParser,de.byteArray,Tt)).warnings=de.warnings,De.position=de.position,De}()}var Pn="1.2.840.10008.1.2.2";function Xn(ue){var W=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(ue===void 0)throw new Error("dicomParser.parseDicom: missing required parameter 'byteArray'");var Y,de=function(et){if(et.elements.x00020010===void 0)throw new Error("dicomParser.parseDicom: missing required meta header attribute 0002,0010");return et=et.elements.x00020010,et&&et.Value||j(ue,et.dataOffset,et.length)};function De(Fe){var sn=de(Fe),Tt=sn!=="1.2.840.10008.1.2",sn=function(wt,bn){var Vn=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";if(wt!=="1.2.840.10008.1.2.1.99")return new jt(wt===Pn?at:Kt,ue,bn);if(W&&W.inflater)return wt=W.inflater(ue,bn),new jt(Kt,wt,0);if(Vn==!0){var Cn=_(0),Tn=$e(ue,bn,ue.length-bn),Cn=Cn.inflateRawSync(Tn),Tn=c(ue,Cn.length+bn);return ue.copy(Tn,0,0,bn),Cn.copy(Tn,bn),new jt(Kt,Tn,0)}if(typeof pako>"u")throw"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax";return Cn=ue.slice(bn),Tn=pako.inflateRaw(Cn),(Cn=c(ue,Tn.length+bn)).set(ue.slice(0,bn),0),Cn.set(Tn,bn),new jt(Kt,Cn,0)}(sn,Fe.position),Fe=new Le(sn.byteArrayParser,sn.byteArray,{});Fe.warnings=sn.warnings;try{(Tt?gt:Qt)(Fe,sn,sn.byteArray.length,W)}catch(wt){throw{exception:wt,dataSet:Fe}}return Fe}return function(et,Tt){for(var sn in et.elements)et.elements.hasOwnProperty(sn)&&(Tt.elements[sn]=et.elements[sn]);return et.warnings!==void 0&&(Tt.warnings=et.warnings.concat(Tt.warnings)),Tt}(Y=wn(ue,W),De(Y))}var Br=function(ue,W,Y){for(var de=0,De=W;De<W+Y;De++)de+=ue[De].length;return de};function rn(ue,Tt,Y,de,De){if(De=De||Tt.fragments,ue===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'";if(Tt===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'";if(Y===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'";if((de=de||1)===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'";if(Tt.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010";if(Tt.encapsulatedPixelData!==!0||Tt.hadUndefinedLength!==!0||Tt.basicOffsetTable===void 0||Tt.fragments===void 0||Tt.fragments.length<=0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(Y<0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0";if(Y>=Tt.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments";if(de<1)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0";if(Y+de>Tt.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments";var et=new jt(ue.byteArrayParser,ue.byteArray,Tt.dataOffset),Tt=Je(et);if(Tt.tag!=="xfffee000")throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000";et.seek(Tt.length);var sn=et.position;if(de===1)return $e(et.byteArray,sn+De[Y].offset+8,De[Y].length);for(var Tt=Br(De,Y,de),Fe=c(et.byteArray,Tt),wt=0,bn=Y;bn<Y+de;bn++)for(var Vn=sn+De[bn].offset+8,Cn=0;Cn<De[bn].length;Cn++)Fe[wt++]=et.byteArray[Vn++];return Fe}var mn=function(ue,W){for(var Y=0;Y<ue.length;Y++)if(ue[Y].offset===W)return Y},Ve=function(ue,W,Y,de){if(ue===W.length-1)return Y.length-de;for(var De=W[ue+1],et=de+1;et<Y.length;et++)if(Y[et].offset===De)return et-de;throw"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table"};function Un(ue,W,Y,de,De){if(de=de||W.basicOffsetTable,De=De||W.fragments,ue===void 0)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'";if(W===void 0)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'";if(Y===void 0)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'";if(de===void 0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable";if(W.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)";if(W.encapsulatedPixelData!==!0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(W.hadUndefinedLength!==!0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length";if(W.fragments===void 0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments";if(de.length===0)throw"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries";if(Y<0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0";if(Y>=de.length)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length";var et=de[Y],et=mn(De,et);if(et===void 0)throw"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry";return rn(ue,W,et,Ve(Y,de,De,et),De)}var En=!1;function Bt(ue,W,Y){if(En||(En=!0,console&&console.log&&console.log("WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated")),ue===void 0)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'";if(W===void 0)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'";if(Y===void 0)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'";if(W.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)";if(W.encapsulatedPixelData!==!0||W.hadUndefinedLength!==!0||W.basicOffsetTable===void 0||W.fragments===void 0)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(Y<0)throw"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0";return W.basicOffsetTable.length!==0?Un(ue,W,Y):rn(ue,W,0,W.fragments.length)}m.default={isStringVr:w,isPrivateTag:S,parsePN:x,parseTM:P,parseDA:k,explicitElementToString:L,explicitDataSetToJS:U,createJPEGBasicOffsetTable:Z,parseDicomDataSetExplicit:gt,parseDicomDataSetImplicit:Qt,readFixedString:j,alloc:c,version:pn,bigEndianByteArrayParser:at,ByteStream:jt,sharedCopy:$e,DataSet:Le,findAndSetUNElementLength:ae,findEndOfEncapsulatedElement:te,findItemDelimitationItemAndSetElementLength:je,littleEndianByteArrayParser:Kt,parseDicom:Xn,readDicomElementExplicit:ft,readDicomElementImplicit:Te,readEncapsulatedImageFrame:Un,readEncapsulatedPixelData:Bt,readEncapsulatedPixelDataFromFragments:rn,readPart10Header:wn,readSequenceItemsExplicit:lt,readSequenceItemsImplicit:tt,readSequenceItem:Je,readTag:X,LEI:"1.2.840.10008.1.2",LEE:"1.2.840.10008.1.2.1"}}],u={},s.m=a,s.c=u,s.d=function(f,m,_){s.o(f,m)||Object.defineProperty(f,m,{enumerable:!0,get:_})},s.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},s.t=function(f,m){if(1&m&&(f=s(f)),8&m||4&m&&typeof f=="object"&&f&&f.__esModule)return f;var _=Object.create(null);if(s.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:f}),2&m&&typeof f!="string")for(var A in f)s.d(_,A,function(w){return f[w]}.bind(null,A));return _},s.n=function(f){var m=f&&f.__esModule?function(){return f.default}:function(){return f};return s.d(m,"a",m),m},s.o=function(f,m){return Object.prototype.hasOwnProperty.call(f,m)},s.p="",s(s.s=1);function s(f){if(u[f])return u[f].exports;var m=u[f]={i:f,l:!1,exports:{}};return a[f].call(m.exports,m,m.exports,s),m.l=!0,m.exports}var a,u})}),A0=KC(CF),IF=new $o().setResponseType("arraybuffer");function jC(p,e){IF.load(p,function(r){var s=new Uint8Array(r),a=A0.parseDicom(s),u=null,f,m,_,A,w,S=0;try{u=A0.explicitDataSetToJS(a),a.elements.x00181060?S=parseInt(u.x00181060):a.elements.x00201041&&(S=parseInt(u.x00201041)),f=parseInt(u.x00280011),m=parseInt(u.x00280010),_=u.x00280004==="MONOCHROME1",A=parseInt(u.x00281050),w=parseInt(u.x00281051)}catch{f=a.uint16("x00280011"),m=a.uint16("x00280010"),_=a.string("x00280004")==="MONOCHROME1",A=parseInt(a.string("x00281050")),w=parseInt(a.string("x00281051")),a.elements.x00181060?S=parseInt(a.string("x00181060")):a.elements.x00201041&&(S=parseInt(a.string("x00201041")))}(A==0||w==0)&&(A=226,w=537);for(var x=a.elements.x7fe00010,P=xF(x,s),O,k=qC(P,w,A,_,O),L=new Uint8ClampedArray(P.length),U=0,Q=P.length;U<Q;U++)L[U]=k.lutArray[P[U]];var G={tags:u,width:f,height:m,windowCenter:A,windowWidth:w,invert:_,uint16:P,uint8:L,order:S};e&&e(G)})}function xF(p,e){var r=A0.sharedCopy(e,p.dataOffset,p.length),s=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/Uint16Array.BYTES_PER_ELEMENT);return s}function qC(p,e,r,s,a){for(var u=0,f=0,m=0,_=p.length;m<_;m++)u>p[m]&&(u=p[m]),f<p[m]&&(f=p[m]);var A=Math.min(u,0),w=new Uint8ClampedArray(f-A+1),S=EF(e,r,a,!0);if(s===!0)for(var x=u;x<=f;x++)w[x+-A]=255-S(x);else for(var x=u;x<=f;x++)w[x+-A]=S(x);return{minPixelValue:u,maxPixelValue:f,lutArray:w}}var Ys=Uint8Array,tu=Uint16Array,YC=Uint32Array,JC=new Ys([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ZC=new Ys([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),MF=new Ys([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eI=function(p,e){for(var r=new tu(31),s=0;s<31;++s)r[s]=e+=1<<p[s-1];for(var a=new YC(r[30]),s=1;s<30;++s)for(var u=r[s];u<r[s+1];++u)a[u]=u-r[s]<<5|s;return[r,a]},tI=eI(JC,2),nI=tI[0],RF=tI[1];nI[28]=258,RF[258]=28;for(var TF=eI(ZC,0),PF=TF[0],y0=new tu(32768),gi=0;gi<32768;++gi){var Kl=(gi&43690)>>>1|(gi&21845)<<1;Kl=(Kl&52428)>>>2|(Kl&13107)<<2,Kl=(Kl&61680)>>>4|(Kl&3855)<<4,y0[gi]=((Kl&65280)>>>8|(Kl&255)<<8)>>>1}for(var bh=function(p,e,r){for(var s=p.length,a=0,u=new tu(e);a<s;++a)p[a]&&++u[p[a]-1];var f=new tu(e);for(a=0;a<e;++a)f[a]=f[a-1]+u[a-1]<<1;var m;if(r){m=new tu(1<<e);var _=15-e;for(a=0;a<s;++a)if(p[a])for(var A=a<<4|p[a],w=e-p[a],S=f[p[a]-1]++<<w,x=S|(1<<w)-1;S<=x;++S)m[y0[S]>>>_]=A}else for(m=new tu(s),a=0;a<s;++a)p[a]&&(m[a]=y0[f[p[a]-1]++]>>>15-p[a]);return m},Sh=new Ys(288),gi=0;gi<144;++gi)Sh[gi]=8;for(var gi=144;gi<256;++gi)Sh[gi]=9;for(var gi=256;gi<280;++gi)Sh[gi]=7;for(var gi=280;gi<288;++gi)Sh[gi]=8;for(var rI=new Ys(32),gi=0;gi<32;++gi)rI[gi]=5;var NF=bh(Sh,9,1),BF=bh(rI,5,1),b0=function(p){for(var e=p[0],r=1;r<p.length;++r)p[r]>e&&(e=p[r]);return e},Wo=function(p,e,r){var s=e/8|0;return(p[s]|p[s+1]<<8)>>(e&7)&r},S0=function(p,e){var r=e/8|0;return(p[r]|p[r+1]<<8|p[r+2]<<16)>>(e&7)},DF=function(p){return(p+7)/8|0},w0=function(p,e,r){(e==null||e<0)&&(e=0),(r==null||r>p.length)&&(r=p.length);var s=new(p.BYTES_PER_ELEMENT==2?tu:p.BYTES_PER_ELEMENT==4?YC:Ys)(r-e);return s.set(p.subarray(e,r)),s},kF=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ko=function(p,e,r){var s=new Error(e||kF[p]);if(s.code=p,Error.captureStackTrace&&Error.captureStackTrace(s,Ko),!r)throw s;return s},LF=function(p,e,r){var s=p.length;if(!s||r&&r.f&&!r.l)return e||new Ys(0);var a=!e||r,u=!r||r.i;r||(r={}),e||(e=new Ys(s*3));var f=function(at){var $e=e.length;if(at>$e){var Mt=new Ys(Math.max($e*2,at));Mt.set(e),e=Mt}},m=r.f||0,_=r.p||0,A=r.b||0,w=r.l,S=r.d,x=r.m,P=r.n,O=s*8;do{if(!w){m=Wo(p,_,1);var k=Wo(p,_+1,3);if(_+=3,k)if(k==1)w=NF,S=BF,x=9,P=5;else if(k==2){var G=Wo(p,_,31)+257,Z=Wo(p,_+10,15)+4,X=G+Wo(p,_+5,31)+1;_+=14;for(var te=new Ys(X),ae=new Ys(19),j=0;j<Z;++j)ae[MF[j]]=Wo(p,_+j*3,7);_+=Z*3;for(var ge=b0(ae),we=(1<<ge)-1,Le=bh(ae,ge,1),j=0;j<X;){var je=Le[Wo(p,_,we)];_+=je&15;var L=je>>>4;if(L<16)te[j++]=L;else{var be=0,Te=0;for(L==16?(Te=3+Wo(p,_,3),_+=2,be=te[j-1]):L==17?(Te=3+Wo(p,_,7),_+=3):L==18&&(Te=11+Wo(p,_,127),_+=7);Te--;)te[j++]=be}}var Je=te.subarray(0,G),it=te.subarray(G);x=b0(Je),P=b0(it),w=bh(Je,x,1),S=bh(it,P,1)}else Ko(1);else{var L=DF(_)+4,U=p[L-4]|p[L-3]<<8,Q=L+U;if(Q>s){u&&Ko(0);break}a&&f(A+U),e.set(p.subarray(L,Q),A),r.b=A+=U,r.p=_=Q*8,r.f=m;continue}if(_>O){u&&Ko(0);break}}a&&f(A+131072);for(var tt=(1<<x)-1,Me=(1<<P)-1,lt=_;;lt=_){var be=w[S0(p,_)&tt],mt=be>>>4;if(_+=be&15,_>O){u&&Ko(0);break}if(be||Ko(2),mt<256)e[A++]=mt;else if(mt==256){lt=_,w=null;break}else{var ft=mt-254;if(mt>264){var j=mt-257,gt=JC[j];ft=Wo(p,_,(1<<gt)-1)+nI[j],_+=gt}var Qt=S[S0(p,_)&Me],c=Qt>>>4;Qt||Ko(3),_+=Qt&15;var it=PF[c];if(c>3){var gt=ZC[c];it+=S0(p,_)&(1<<gt)-1,_+=gt}if(_>O){u&&Ko(0);break}a&&f(A+131072);for(var pn=A+ft;A<pn;A+=4)e[A]=e[A-it],e[A+1]=e[A+1-it],e[A+2]=e[A+2-it],e[A+3]=e[A+3-it];A=pn}}r.l=w,r.p=lt,r.b=A,r.f=m,w&&(m=1,r.m=x,r.d=S,r.n=P)}while(!m);return A==e.length?e:w0(e,0,A)},OF=new Ys(0),Ta=function(p,e){return p[e]|p[e+1]<<8},jo=function(p,e){return(p[e]|p[e+1]<<8|p[e+2]<<16|p[e+3]<<24)>>>0},E0=function(p,e){return jo(p,e)+jo(p,e+4)*4294967296};function FF(p,e){return LF(p,e)}var C0=typeof TextDecoder<"u"&&new TextDecoder,VF=0;try{C0.decode(OF,{stream:!0}),VF=1}catch{}var GF=function(p){for(var e="",r=0;;){var s=p[r++],a=(s>127)+(s>223)+(s>239);if(r+a>p.length)return[e,w0(p,r-1)];a?a==3?(s=((s&15)<<18|(p[r++]&63)<<12|(p[r++]&63)<<6|p[r++]&63)-65536,e+=String.fromCharCode(55296|s>>10,56320|s&1023)):a&1?e+=String.fromCharCode((s&31)<<6|p[r++]&63):e+=String.fromCharCode((s&15)<<12|(p[r++]&63)<<6|p[r++]&63):e+=String.fromCharCode(s)}};function UF(p,e){if(e){for(var r="",s=0;s<p.length;s+=16384)r+=String.fromCharCode.apply(null,p.subarray(s,s+16384));return r}else{if(C0)return C0.decode(p);var a=GF(p),u=a[0],f=a[1];return f.length&&Ko(8),u}}var zF=function(p,e){return e+30+Ta(p,e+26)+Ta(p,e+28)},HF=function(p,e,r){var s=Ta(p,e+28),a=UF(p.subarray(e+46,e+46+s),!(Ta(p,e+8)&2048)),u=e+46+s,f=jo(p,e+20),m=r&&f==4294967295?QF(p,u):[f,jo(p,e+24),jo(p,e+42)],_=m[0],A=m[1],w=m[2];return[Ta(p,e+10),_,A,a,u+Ta(p,e+30)+Ta(p,e+32),w]},QF=function(p,e){for(;Ta(p,e)!=1;e+=4+Ta(p,e+2));return[E0(p,e+12),E0(p,e+4),E0(p,e+20)]};function XF(p,e){for(var r={},s=p.length-22;jo(p,s)!=101010256;--s)(!s||p.length-s>65558)&&Ko(13);var a=Ta(p,s+8);if(!a)return{};var u=jo(p,s+16),f=u==4294967295||a==65535;if(f){var m=jo(p,s-12);f=jo(p,m)==101075792,f&&(a=jo(p,m+32),u=jo(p,m+48))}for(var _=e&&e.filter,A=0;A<a;++A){var w=HF(p,u,f),S=w[0],x=w[1],P=w[2],O=w[3],k=w[4],L=w[5],U=zF(p,L);u=k,(!_||_({name:O,size:x,originalSize:P,compression:S}))&&(S?S==8?r[O]=FF(p.subarray(U,U+x),new Ys(P)):Ko(14,"unknown compression type "+S):r[O]=w0(p,U,U+x))}return r}var iI=`#define GLSLIFY 1
uniform vec2 size;out vec2 vUv;void main(){gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);vUv.xy=position.xy/size+0.5;vUv.y=1.0-vUv.y;}`,sI=`precision highp float;precision highp int;precision highp sampler2DArray;
#define GLSLIFY 1
uniform sampler2DArray diffuse;in vec2 vUv;uniform int depth;out vec4 outColor;void main(){vec4 color=texture(diffuse,vec3(vUv,depth));outColor=vec4(color.rrr*1.5,1.0);}`,wh=80,Eh=80;function $F(p,e){new $o().setResponseType("arraybuffer").load(p,function(r){var s=XF(new Uint8Array(r)),a=new Uint8Array(s.head256x256x109.buffer),u=new km(a,256,256,109);u.format=Ul,u.needsUpdate=!0;var f=new Qo({uniforms:{diffuse:{value:u},depth:{value:1},size:{value:new Gn(wh,Eh)}},vertexShader:iI,fragmentShader:sI,glslVersion:Rm,side:q}),m=new bd(wh,Eh),_=new Fi(m,f);_.name="texture2d_mesh_zip",e.add(_)})}function oI(p,e,r,s){wh=p.width/2,Eh=p.height/2;var a={windowWidth:p.windowWidth,windowCenter:p.windowCenter},u=new km(p.uint8,p.width,p.height,e);u.format=Ul,u.needsUpdate=!0,s&&(s.add(a,"windowWidth").min(1).max(p.windowWidth*2).step(1).onChange(function(){A()}),s.add(a,"windowCenter").min(1).max(p.windowCenter*2).step(1).onChange(function(){A()}));var f=new Qo({uniforms:{diffuse:{value:u},depth:{value:1},size:{value:new Gn(wh,Eh)}},vertexShader:iI,fragmentShader:sI,glslVersion:Rm,side:q}),m=new bd(wh,Eh),_=new Fi(m,f);r.add(_),_.name="texture2d_mesh_array";function A(){for(var w,S=qC(p.uint16,a.windowWidth,a.windowCenter,p.invert,w),x=0,P=p.uint16.length;x<P;x++)p.uint8[x]=S.lutArray[p.uint16[x]];u.needsUpdate=!0}return _}function I0(p,e){if(!(p instanceof e))throw new TypeError("Cannot call a class as a function")}function aI(p,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(p,ZF(s.key),s)}}function x0(p,e,r){return e&&aI(p.prototype,e),r&&aI(p,r),Object.defineProperty(p,"prototype",{writable:!1}),p}function WF(p,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(e&&e.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),e&&lI(p,e)}function M0(p){return(M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(p)}function lI(p,e){return(lI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r})(p,e)}function KF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jF(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function qF(p,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jF(p)}function YF(p){var e=KF();return function(){var r,s=M0(p);return qF(this,e?(r=M0(this).constructor,Reflect.construct(s,arguments,r)):s.apply(this,arguments))}}function JF(p,e){if(typeof p!="object"||p===null)return p;var r=p[Symbol.toPrimitive];if(r===void 0)return(e==="string"?String:Number)(p);if(r=r.call(p,e||"default"),typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}function ZF(p){return p=JF(p,"string"),typeof p=="symbol"?p:String(p)}const cI="148",R0=0,e5=1,t5=2,uI=1,n5=100,r5=204,i5=205,s5=3,o5=0,dI=300,fI=1e3,Ch=1001,hI=1002,pI=1006,a5=1008,l5=1009,c5=1023,u5=3e3,il="srgb",T0="srgb-linear",P0=7680,d5=519,mI=35044;class _g{addEventListener(e,r){this._listeners===void 0&&(this._listeners={});var s=this._listeners;s[e]===void 0&&(s[e]=[]),s[e].indexOf(r)===-1&&s[e].push(r)}hasEventListener(e,r){var s;return this._listeners!==void 0&&(s=this._listeners)[e]!==void 0&&s[e].indexOf(r)!==-1}removeEventListener(e,r){var s;this._listeners!==void 0&&(e=this._listeners[e])!==void 0&&(s=e.indexOf(r))!==-1&&e.splice(s,1)}dispatchEvent(e){if(this._listeners!==void 0){var r=this._listeners[e.type];if(r!==void 0){e.target=this;var s=r.slice(0);for(let a=0,u=s.length;a<u;a++)s[a].call(this,e);e.target=null}}}}const ps=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function Ih(){var p=4294967295*Math.random()|0,e=4294967295*Math.random()|0,r=4294967295*Math.random()|0,s=4294967295*Math.random()|0;return(ps[255&p]+ps[p>>8&255]+ps[p>>16&255]+ps[p>>24&255]+"-"+ps[255&e]+ps[e>>8&255]+"-"+ps[e>>16&15|64]+ps[e>>24&255]+"-"+ps[63&r|128]+ps[r>>8&255]+"-"+ps[r>>16&255]+ps[r>>24&255]+ps[255&s]+ps[s>>8&255]+ps[s>>16&255]+ps[s>>24&255]).toLowerCase()}function Js(p,e,r){return Math.max(e,Math.min(r,p))}function f5(p,e){return(p%e+e)%e}function N0(p,e,r){return(1-r)*p+r*e}function Ag(p,e){switch(e.constructor){case Float32Array:return p;case Uint16Array:return p/65535;case Uint8Array:return p/255;case Int16Array:return Math.max(p/32767,-1);case Int8Array:return Math.max(p/127,-1);default:throw new Error("Invalid component type.")}}function Zs(p,e){switch(e.constructor){case Float32Array:return p;case Uint16Array:return Math.round(65535*p);case Uint8Array:return Math.round(255*p);case Int16Array:return Math.round(32767*p);case Int8Array:return Math.round(127*p);default:throw new Error("Invalid component type.")}}class ks{constructor(e=0,r=0){ks.prototype.isVector2=!0,this.x=e,this.y=r}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,r){return this.x=e,this.y=r,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(a){var r=this.x,s=this.y,a=a.elements;return this.x=a[0]*r+a[3]*s+a[6],this.y=a[1]*r+a[4]*s+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this}clampLength(e,r){var s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(r,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(s){var r=this.x-s.x,s=this.y-s.y;return r*r+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this}lerpVectors(e,r,s){return this.x=e.x+(r.x-e.x)*s,this.y=e.y+(r.y-e.y)*s,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this}rotateAround(e,a){var s=Math.cos(a),a=Math.sin(a),u=this.x-e.x,f=this.y-e.y;return this.x=u*s-f*a+e.x,this.y=u*a+f*s+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class nu{constructor(){nu.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,r,s,a,u,f,m,_,A){var w=this.elements;return w[0]=e,w[1]=a,w[2]=m,w[3]=r,w[4]=u,w[5]=_,w[6]=s,w[7]=f,w[8]=A,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(s){var r=this.elements,s=s.elements;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],this}extractBasis(e,r,s){return e.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(e){return e=e.elements,this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(x,X){var x=x.elements,X=X.elements,s=this.elements,a=x[0],u=x[3],f=x[6],m=x[1],_=x[4],A=x[7],w=x[2],S=x[5],x=x[8],P=X[0],O=X[3],k=X[6],L=X[1],U=X[4],Q=X[7],G=X[2],Z=X[5],X=X[8];return s[0]=a*P+u*L+f*G,s[3]=a*O+u*U+f*Z,s[6]=a*k+u*Q+f*X,s[1]=m*P+_*L+A*G,s[4]=m*O+_*U+A*Z,s[7]=m*k+_*Q+A*X,s[2]=w*P+S*L+x*G,s[5]=w*O+S*U+x*Z,s[8]=w*k+S*Q+x*X,this}multiplyScalar(e){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=e,r[4]*=e,r[7]*=e,r[2]*=e,r[5]*=e,r[8]*=e,this}determinant(){var A=this.elements,e=A[0],r=A[1],s=A[2],a=A[3],u=A[4],f=A[5],m=A[6],_=A[7],A=A[8];return e*u*A-e*f*_-r*a*A+r*f*m+s*a*_-s*u*m}invert(){var e=this.elements,r=e[0],s=e[1],a=e[2],u=e[3],f=e[4],m=e[5],_=e[6],A=e[7],w=e[8],S=w*f-m*A,x=m*_-w*u,P=A*u-f*_,O=r*S+s*x+a*P;return O==0?this.set(0,0,0,0,0,0,0,0,0):(e[0]=S*(S=1/O),e[1]=(a*A-w*s)*S,e[2]=(m*s-a*f)*S,e[3]=x*S,e[4]=(w*r-a*_)*S,e[5]=(a*u-m*r)*S,e[6]=P*S,e[7]=(s*_-A*r)*S,e[8]=(f*r-s*u)*S,this)}transpose(){var e=this.elements,r=e[1];return e[1]=e[3],e[3]=r,r=e[2],e[2]=e[6],e[6]=r,r=e[5],e[5]=e[7],e[7]=r,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){var r=this.elements;return e[0]=r[0],e[1]=r[3],e[2]=r[6],e[3]=r[1],e[4]=r[4],e[5]=r[7],e[6]=r[2],e[7]=r[5],e[8]=r[8],this}setUvTransform(e,r,s,a,A,f,m){var _=Math.cos(A),A=Math.sin(A);return this.set(s*_,s*A,-s*(_*f+A*m)+f+e,-a*A,a*_,-a*(-A*f+_*m)+m+r,0,0,1),this}scale(e,r){return this.premultiply(B0.makeScale(e,r)),this}rotate(e){return this.premultiply(B0.makeRotation(-e)),this}translate(e,r){return this.premultiply(B0.makeTranslation(e,r)),this}makeTranslation(e,r){return this.set(1,0,e,0,1,r,0,0,1),this}makeRotation(s){var r=Math.cos(s),s=Math.sin(s);return this.set(r,-s,0,s,r,0,0,0,1),this}makeScale(e,r){return this.set(e,0,0,0,r,0,0,0,1),this}equals(e){var r=this.elements,s=e.elements;for(let a=0;a<9;a++)if(r[a]!==s[a])return!1;return!0}fromArray(e,r=0){for(let s=0;s<9;s++)this.elements[s]=e[s+r];return this}toArray(e=[],r=0){var s=this.elements;return e[r]=s[0],e[r+1]=s[1],e[r+2]=s[2],e[r+3]=s[3],e[r+4]=s[4],e[r+5]=s[5],e[r+6]=s[6],e[r+7]=s[7],e[r+8]=s[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const B0=new nu;function h5(p){for(let e=p.length-1;0<=e;--e)if(65535<=p[e])return!0;return!1}function gI(p){return document.createElementNS("http://www.w3.org/1999/xhtml",p)}function ru(p){return p<.04045?.0773993808*p:Math.pow(.9478672986*p+.0521327014,2.4)}function yg(p){return p<.0031308?12.92*p:1.055*Math.pow(p,.41666)-.055}const D0={[il]:{[T0]:ru},[T0]:{[il]:yg}},ws={legacyMode:!0,get workingColorSpace(){return T0},set workingColorSpace(p){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(p,e,r){if(this.legacyMode||e===r||!e||!r)return p;if(D0[e]&&D0[e][r]!==void 0)return e=D0[e][r],p.r=e(p.r),p.g=e(p.g),p.b=e(p.b),p;throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(p,e){return this.convert(p,this.workingColorSpace,e)},toWorkingColorSpace:function(p,e){return this.convert(p,e,this.workingColorSpace)}},vI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ui={r:0,g:0,b:0},qo={h:0,s:0,l:0},bg={h:0,s:0,l:0};function k0(p,e,r){return r<0&&(r+=1),1<r&&--r,r<1/6?p+6*(e-p)*r:r<.5?e:r<2/3?p+6*(e-p)*(2/3-r):p}function Sg(p,e){return e.r=p.r,e.g=p.g,e.b=p.b,e}class _I{constructor(e,r,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,r===void 0&&s===void 0?this.set(e):this.setRGB(e,r,s)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,r=il){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,ws.toWorkingColorSpace(this,r),this}setRGB(e,r,s,a=ws.workingColorSpace){return this.r=e,this.g=r,this.b=s,ws.toWorkingColorSpace(this,a),this}setHSL(e,r,s,a=ws.workingColorSpace){return e=f5(e,1),r=Js(r,0,1),s=Js(s,0,1),r===0?this.r=this.g=this.b=s:(this.r=k0(r=2*s-(s=s<=.5?s*(1+r):s+r-s*r),s,e+1/3),this.g=k0(r,s,e),this.b=k0(r,s,e-1/3)),ws.toWorkingColorSpace(this,a),this}setStyle(e,r=il){function s(w){w!==void 0&&parseFloat(w)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(A=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let w;var a,u,f,m=A[1],_=A[2];switch(m){case"rgb":case"rgba":if(w=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(_))return this.r=Math.min(255,parseInt(w[1],10))/255,this.g=Math.min(255,parseInt(w[2],10))/255,this.b=Math.min(255,parseInt(w[3],10))/255,ws.toWorkingColorSpace(this,r),s(w[4]),this;if(w=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(_))return this.r=Math.min(100,parseInt(w[1],10))/100,this.g=Math.min(100,parseInt(w[2],10))/100,this.b=Math.min(100,parseInt(w[3],10))/100,ws.toWorkingColorSpace(this,r),s(w[4]),this;break;case"hsl":case"hsla":if(w=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(_))return a=parseFloat(w[1])/360,u=parseFloat(w[2])/100,f=parseFloat(w[3])/100,s(w[4]),this.setHSL(a,u,f,r)}}else if(A=/^\#([A-Fa-f\d]+)$/.exec(e)){var m=A[1],A=m.length;if(A===3)return this.r=parseInt(m.charAt(0)+m.charAt(0),16)/255,this.g=parseInt(m.charAt(1)+m.charAt(1),16)/255,this.b=parseInt(m.charAt(2)+m.charAt(2),16)/255,ws.toWorkingColorSpace(this,r),this;if(A===6)return this.r=parseInt(m.charAt(0)+m.charAt(1),16)/255,this.g=parseInt(m.charAt(2)+m.charAt(3),16)/255,this.b=parseInt(m.charAt(4)+m.charAt(5),16)/255,ws.toWorkingColorSpace(this,r),this}return e&&0<e.length?this.setColorName(e,r):this}setColorName(e,r=il){var s=vI[e.toLowerCase()];return s!==void 0?this.setHex(s,r):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ru(e.r),this.g=ru(e.g),this.b=ru(e.b),this}copyLinearToSRGB(e){return this.r=yg(e.r),this.g=yg(e.g),this.b=yg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=il){return ws.fromWorkingColorSpace(Sg(this,Ui),e),Js(255*Ui.r,0,255)<<16^Js(255*Ui.g,0,255)<<8^Js(255*Ui.b,0,255)<<0}getHexString(e=il){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,f=ws.workingColorSpace){ws.fromWorkingColorSpace(Sg(this,Ui),f);var s=Ui.r,a=Ui.g,u=Ui.b,f=Math.max(s,a,u),m=Math.min(s,a,u);let _,A;var w=(m+f)/2;if(m===f)_=0,A=0;else{var S=f-m;switch(A=w<=.5?S/(f+m):S/(2-f-m),f){case s:_=(a-u)/S+(a<u?6:0);break;case a:_=(u-s)/S+2;break;case u:_=(s-a)/S+4}_/=6}return e.h=_,e.s=A,e.l=w,e}getRGB(e,r=ws.workingColorSpace){return ws.fromWorkingColorSpace(Sg(this,Ui),r),e.r=Ui.r,e.g=Ui.g,e.b=Ui.b,e}getStyle(e=il){return ws.fromWorkingColorSpace(Sg(this,Ui),e),e!==il?`color(${e} ${Ui.r} ${Ui.g} ${Ui.b})`:`rgb(${255*Ui.r|0},${255*Ui.g|0},${255*Ui.b|0})`}offsetHSL(e,r,s){return this.getHSL(qo),qo.h+=e,qo.s+=r,qo.l+=s,this.setHSL(qo.h,qo.s,qo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,r){return this.r=e.r+r.r,this.g=e.g+r.g,this.b=e.b+r.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,r){return this.r+=(e.r-this.r)*r,this.g+=(e.g-this.g)*r,this.b+=(e.b-this.b)*r,this}lerpColors(e,r,s){return this.r=e.r+(r.r-e.r)*s,this.g=e.g+(r.g-e.g)*s,this.b=e.b+(r.b-e.b)*s,this}lerpHSL(s,u){this.getHSL(qo),s.getHSL(bg);var s=N0(qo.h,bg.h,u),a=N0(qo.s,bg.s,u),u=N0(qo.l,bg.l,u);return this.setHSL(s,a,u),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,r=0){return this.r=e[r],this.g=e[r+1],this.b=e[r+2],this}toArray(e=[],r=0){return e[r]=this.r,e[r+1]=this.g,e[r+2]=this.b,e}fromBufferAttribute(e,r){return this.r=e.getX(r),this.g=e.getY(r),this.b=e.getZ(r),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}_I.NAMES=vI;let Bd;class p5{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;var s;return 2048<(r=e instanceof HTMLCanvasElement?e:((Bd=Bd===void 0?gI("canvas"):Bd).width=e.width,Bd.height=e.height,s=Bd.getContext("2d"),e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),Bd)).width||2048<r.height?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),r.toDataURL("image/jpeg",.6)):r.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){var r=gI("canvas"),s=(r.width=e.width,r.height=e.height,r.getContext("2d")),a=(s.drawImage(e,0,0,e.width,e.height),s.getImageData(0,0,e.width,e.height)),u=a.data;for(let m=0;m<u.length;m++)u[m]=255*ru(u[m]/255);return s.putImageData(a,0,0),r}if(e.data){var f=e.data.slice(0);for(let m=0;m<f.length;m++)f instanceof Uint8Array||f instanceof Uint8ClampedArray?f[m]=Math.floor(255*ru(f[m]/255)):f[m]=ru(f[m]);return{data:f,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class m5{constructor(e=null){this.isSource=!0,this.uuid=Ih(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){var r=e===void 0||typeof e=="string";if(!r&&e.images[this.uuid]!==void 0)return e.images[this.uuid];var s={uuid:this.uuid,url:""},a=this.data;if(a!==null){let u;if(Array.isArray(a)){u=[];for(let f=0,m=a.length;f<m;f++)a[f].isDataTexture?u.push(L0(a[f].image)):u.push(L0(a[f]))}else u=L0(a);s.url=u}return r||(e.images[this.uuid]=s),s}}function L0(p){return typeof HTMLImageElement<"u"&&p instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&p instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&p instanceof ImageBitmap?p5.getDataURL(p):p.data?{data:Array.from(p.data),width:p.width,height:p.height,type:p.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let g5=0;class jl extends _g{constructor(e=jl.DEFAULT_IMAGE,r=jl.DEFAULT_MAPPING,s=Ch,a=Ch,u=pI,f=a5,m=c5,_=l5,A=jl.DEFAULT_ANISOTROPY,w=u5){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:g5++}),this.uuid=Ih(),this.name="",this.source=new m5(e),this.mipmaps=[],this.mapping=r,this.wrapS=s,this.wrapT=a,this.magFilter=u,this.minFilter=f,this.anisotropy=A,this.format=m,this.internalFormat=null,this.type=_,this.offset=new ks(0,0),this.repeat=new ks(1,1),this.center=new ks(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new nu,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=w,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){var r,s=e===void 0||typeof e=="string";return s||e.textures[this.uuid]===void 0?(r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment},0<Object.keys(this.userData).length&&(r.userData=this.userData),s||(e.textures[this.uuid]=r),r):e.textures[this.uuid]}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping===dI){if(e.applyMatrix3(this.matrix),e.x<0||1<e.x)switch(this.wrapS){case fI:e.x=e.x-Math.floor(e.x);break;case Ch:e.x=e.x<0?0:1;break;case hI:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||1<e.y)switch(this.wrapT){case fI:e.y=e.y-Math.floor(e.y);break;case Ch:e.y=e.y<0?0:1;break;case hI:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}return e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}jl.DEFAULT_IMAGE=null,jl.DEFAULT_MAPPING=dI,jl.DEFAULT_ANISOTROPY=1;class xh{constructor(e=0,r=0,s=0,a=1){this.isQuaternion=!0,this._x=e,this._y=r,this._z=s,this._w=a}static slerpFlat(e,r,x,P,k,f,m){let _=x[P+0],A=x[P+1],w=x[P+2],S=x[P+3];var x=k[f+0],P=k[f+1],O=k[f+2],k=k[f+3];if(m===0)e[r+0]=_,e[r+1]=A,e[r+2]=w,e[r+3]=S;else if(m===1)e[r+0]=x,e[r+1]=P,e[r+2]=O,e[r+3]=k;else{if(S!==k||_!==x||A!==P||w!==O){let Q=1-m;var f=_*x+A*P+w*O+S*k,L=0<=f?1:-1,U=1-f*f,f=(U>Number.EPSILON&&(U=Math.sqrt(U),f=Math.atan2(U,f*L),Q=Math.sin(Q*f)/U,m=Math.sin(m*f)/U),m*L);_=_*Q+x*f,A=A*Q+P*f,w=w*Q+O*f,S=S*Q+k*f,Q===1-m&&(U=1/Math.sqrt(_*_+A*A+w*w+S*S),_*=U,A*=U,w*=U,S*=U)}e[r]=_,e[r+1]=A,e[r+2]=w,e[r+3]=S}}static multiplyQuaternionsFlat(e,r,w,S,O,f){var m=w[S],_=w[S+1],A=w[S+2],w=w[S+3],S=O[f],x=O[f+1],P=O[f+2],O=O[f+3];return e[r]=m*O+w*S+_*P-A*x,e[r+1]=_*O+w*x+A*S-m*P,e[r+2]=A*O+w*P+m*x-_*S,e[r+3]=w*O-m*S-_*x-A*P,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,r,s,a){return this._x=e,this._y=r,this._z=s,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(m,r){var s=m._x,a=m._y,u=m._z,f=m._order,m=Math.cos,_=Math.sin,A=m(s/2),w=m(a/2),S=m(u/2),x=_(s/2),P=_(a/2),O=_(u/2);switch(f){case"XYZ":this._x=x*w*S+A*P*O,this._y=A*P*S-x*w*O,this._z=A*w*O+x*P*S,this._w=A*w*S-x*P*O;break;case"YXZ":this._x=x*w*S+A*P*O,this._y=A*P*S-x*w*O,this._z=A*w*O-x*P*S,this._w=A*w*S+x*P*O;break;case"ZXY":this._x=x*w*S-A*P*O,this._y=A*P*S+x*w*O,this._z=A*w*O+x*P*S,this._w=A*w*S-x*P*O;break;case"ZYX":this._x=x*w*S-A*P*O,this._y=A*P*S+x*w*O,this._z=A*w*O-x*P*S,this._w=A*w*S+x*P*O;break;case"YZX":this._x=x*w*S+A*P*O,this._y=A*P*S+x*w*O,this._z=A*w*O-x*P*S,this._w=A*w*S-x*P*O;break;case"XZY":this._x=x*w*S-A*P*O,this._y=A*P*S-x*w*O,this._z=A*w*O+x*P*S,this._w=A*w*S+x*P*O;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+f)}return r!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,s){var s=s/2,a=Math.sin(s);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(w){var w=w.elements,r=w[0],s=w[4],a=w[8],u=w[1],f=w[5],m=w[9],_=w[2],A=w[6],w=w[10],S=r+f+w;return 0<S?(S=.5/Math.sqrt(S+1),this._w=.25/S,this._x=(A-m)*S,this._y=(a-_)*S,this._z=(u-s)*S):f<r&&w<r?(S=2*Math.sqrt(1+r-f-w),this._w=(A-m)/S,this._x=.25*S,this._y=(s+u)/S,this._z=(a+_)/S):w<f?(S=2*Math.sqrt(1+f-r-w),this._w=(a-_)/S,this._x=(s+u)/S,this._y=.25*S,this._z=(m+A)/S):(S=2*Math.sqrt(1+w-r-f),this._w=(u-s)/S,this._x=(a+_)/S,this._y=(m+A)/S,this._z=.25*S),this._onChangeCallback(),this}setFromUnitVectors(e,r){let s=e.dot(r)+1;return s<Number.EPSILON?(s=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*r.z-e.z*r.y,this._y=e.z*r.x-e.x*r.z,this._z=e.x*r.y-e.y*r.x),this._w=s,this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Js(this.dot(e),-1,1)))}rotateTowards(e,r){var s=this.angleTo(e);return s!==0&&(r=Math.min(1,r/s),this.slerp(e,r)),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){var e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(e=1/e),this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(f,w){var s=f._x,a=f._y,u=f._z,f=f._w,m=w._x,_=w._y,A=w._z,w=w._w;return this._x=s*w+f*m+a*A-u*_,this._y=a*w+f*_+u*m-s*A,this._z=u*w+f*A+s*_-a*m,this._w=f*w-s*m-a*_-u*A,this._onChangeCallback(),this}slerp(e,r){if(r!==0){if(r===1)return this.copy(e);var s,a,u=this._x,f=this._y,m=this._z,_=this._w;let A=_*e._w+u*e._x+f*e._y+m*e._z;A<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,A=-A):this.copy(e),1<=A?(this._w=_,this._x=u,this._y=f,this._z=m):((e=1-A*A)<=Number.EPSILON?(this._w=(s=1-r)*_+r*this._w,this._x=s*u+r*this._x,this._y=s*f+r*this._y,this._z=s*m+r*this._z,this.normalize()):(s=Math.sqrt(e),e=Math.atan2(s,A),a=Math.sin((1-r)*e)/s,r=Math.sin(r*e)/s,this._w=_*a+this._w*r,this._x=u*a+this._x*r,this._y=f*a+this._y*r,this._z=m*a+this._z*r),this._onChangeCallback())}return this}slerpQuaternions(e,r,s){return this.copy(e).slerp(r,s)}random(){var r=Math.random(),e=Math.sqrt(1-r),r=Math.sqrt(r),s=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(e*Math.cos(s),r*Math.sin(a),r*Math.cos(a),e*Math.sin(s))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,r=0){return this._x=e[r],this._y=e[r+1],this._z=e[r+2],this._w=e[r+3],this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._w,e}fromBufferAttribute(e,r){return this._x=e.getX(r),this._y=e.getY(r),this._z=e.getZ(r),this._w=e.getW(r),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class nn{constructor(e=0,r=0,s=0){nn.prototype.isVector3=!0,this.x=e,this.y=r,this.z=s}set(e,r,s){return s===void 0&&(s=this.z),this.x=e,this.y=r,this.z=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,r){return this.x=e.x*r.x,this.y=e.y*r.y,this.z=e.z*r.z,this}applyEuler(e){return this.applyQuaternion(AI.setFromEuler(e))}applyAxisAngle(e,r){return this.applyQuaternion(AI.setFromAxisAngle(e,r))}applyMatrix3(u){var r=this.x,s=this.y,a=this.z,u=u.elements;return this.x=u[0]*r+u[3]*s+u[6]*a,this.y=u[1]*r+u[4]*s+u[7]*a,this.z=u[2]*r+u[5]*s+u[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(u){var r=this.x,s=this.y,a=this.z,u=u.elements,f=1/(u[3]*r+u[7]*s+u[11]*a+u[15]);return this.x=(u[0]*r+u[4]*s+u[8]*a+u[12])*f,this.y=(u[1]*r+u[5]*s+u[9]*a+u[13])*f,this.z=(u[2]*r+u[6]*s+u[10]*a+u[14])*f,this}applyQuaternion(m){var S=this.x,r=this.y,s=this.z,a=m.x,u=m.y,f=m.z,m=m.w,_=m*S+u*s-f*r,A=m*r+f*S-a*s,w=m*s+a*r-u*S,S=-a*S-u*r-f*s;return this.x=_*m+S*-a+A*-f-w*-u,this.y=A*m+S*-u+w*-a-_*-f,this.z=w*m+S*-f+_*-u-A*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(u){var r=this.x,s=this.y,a=this.z,u=u.elements;return this.x=u[0]*r+u[4]*s+u[8]*a,this.y=u[1]*r+u[5]*s+u[9]*a,this.z=u[2]*r+u[6]*s+u[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this}clampLength(e,r){var s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(r,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this}lerpVectors(e,r,s){return this.x=e.x+(r.x-e.x)*s,this.y=e.y+(r.y-e.y)*s,this.z=e.z+(r.z-e.z)*s,this}cross(e){return this.crossVectors(this,e)}crossVectors(u,_){var s=u.x,a=u.y,u=u.z,f=_.x,m=_.y,_=_.z;return this.x=a*_-u*m,this.y=u*f-s*_,this.z=s*m-a*f,this}projectOnVector(e){var r=e.lengthSq();return r===0?this.set(0,0,0):(r=e.dot(this)/r,this.copy(e).multiplyScalar(r))}projectOnPlane(e){return O0.copy(this).projectOnVector(e),this.sub(O0)}reflect(e){return this.sub(O0.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){var r=Math.sqrt(this.lengthSq()*e.lengthSq());return r===0?Math.PI/2:(e=this.dot(e)/r,Math.acos(Js(e,-1,1)))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(a){var r=this.x-a.x,s=this.y-a.y,a=this.z-a.z;return r*r+s*s+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,r,s){var a=Math.sin(r)*e;return this.x=a*Math.sin(s),this.y=Math.cos(r)*e,this.z=a*Math.cos(s),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,r,s){return this.x=e*Math.sin(r),this.y=s,this.z=e*Math.cos(r),this}setFromMatrixPosition(e){return e=e.elements,this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(a){var r=this.setFromMatrixColumn(a,0).length(),s=this.setFromMatrixColumn(a,1).length(),a=this.setFromMatrixColumn(a,2).length();return this.x=r,this.y=s,this.z=a,this}setFromMatrixColumn(e,r){return this.fromArray(e.elements,4*r)}setFromMatrix3Column(e,r){return this.fromArray(e.elements,3*r)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){var e=2*(Math.random()-.5),r=Math.random()*Math.PI*2,s=Math.sqrt(1-e**2);return this.x=s*Math.cos(r),this.y=s*Math.sin(r),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const O0=new nn,AI=new xh;class Mh{constructor(e=new nn(1/0,1/0,1/0),r=new nn(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=r}set(e,r){return this.min.copy(e),this.max.copy(r),this}setFromArray(e){let r=1/0,s=1/0,a=1/0,u=-1/0,f=-1/0,m=-1/0;for(let S=0,x=e.length;S<x;S+=3){var _=e[S],A=e[S+1],w=e[S+2];_<r&&(r=_),A<s&&(s=A),w<a&&(a=w),_>u&&(u=_),A>f&&(f=A),w>m&&(m=w)}return this.min.set(r,s,a),this.max.set(u,f,m),this}setFromBufferAttribute(e){let r=1/0,s=1/0,a=1/0,u=-1/0,f=-1/0,m=-1/0;for(let S=0,x=e.count;S<x;S++){var _=e.getX(S),A=e.getY(S),w=e.getZ(S);_<r&&(r=_),A<s&&(s=A),w<a&&(a=w),_>u&&(u=_),A>f&&(f=A),w>m&&(m=w)}return this.min.set(r,s,a),this.max.set(u,f,m),this}setFromPoints(e){this.makeEmpty();for(let r=0,s=e.length;r<s;r++)this.expandByPoint(e[r]);return this}setFromCenterAndSize(e,r){return r=iu.copy(r).multiplyScalar(.5),this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,r=!1){return this.makeEmpty(),this.expandByObject(e,r)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,r=!1){e.updateWorldMatrix(!1,!1);var s=e.geometry;if(s!==void 0)if(r&&s.attributes!=null&&s.attributes.position!==void 0){var a=s.attributes.position;for(let f=0,m=a.count;f<m;f++)iu.fromBufferAttribute(a,f).applyMatrix4(e.matrixWorld),this.expandByPoint(iu)}else s.boundingBox===null&&s.computeBoundingBox(),F0.copy(s.boundingBox),F0.applyMatrix4(e.matrixWorld),this.union(F0);var u=e.children;for(let f=0,m=u.length;f<m;f++)this.expandByObject(u[f],r);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,r){return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,iu),iu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let r,s;return s=0<e.normal.x?(r=e.normal.x*this.min.x,e.normal.x*this.max.x):(r=e.normal.x*this.max.x,e.normal.x*this.min.x),0<e.normal.y?(r+=e.normal.y*this.min.y,s+=e.normal.y*this.max.y):(r+=e.normal.y*this.max.y,s+=e.normal.y*this.min.y),0<e.normal.z?(r+=e.normal.z*this.min.z,s+=e.normal.z*this.max.z):(r+=e.normal.z*this.max.z,s+=e.normal.z*this.min.z),r<=-e.constant&&s>=-e.constant}intersectsTriangle(e){return!this.isEmpty()&&(this.getCenter(Rh),wg.subVectors(this.max,Rh),Dd.subVectors(e.a,Rh),kd.subVectors(e.b,Rh),Ld.subVectors(e.c,Rh),ql.subVectors(kd,Dd),Yl.subVectors(Ld,kd),su.subVectors(Dd,Ld),!!V0([0,-ql.z,ql.y,0,-Yl.z,Yl.y,0,-su.z,su.y,ql.z,0,-ql.x,Yl.z,0,-Yl.x,su.z,0,-su.x,-ql.y,ql.x,0,-Yl.y,Yl.x,0,-su.y,su.x,0],Dd,kd,Ld,wg))&&!!V0([1,0,0,0,1,0,0,0,1],Dd,kd,Ld,wg)&&(Eg.crossVectors(ql,Yl),V0([Eg.x,Eg.y,Eg.z],Dd,kd,Ld,wg))}clampPoint(e,r){return r.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return iu.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(iu).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(sl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),sl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),sl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),sl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),sl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),sl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),sl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),sl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(sl)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const sl=[new nn,new nn,new nn,new nn,new nn,new nn,new nn,new nn],iu=new nn,F0=new Mh,Dd=new nn,kd=new nn,Ld=new nn,ql=new nn,Yl=new nn,su=new nn,Rh=new nn,wg=new nn,Eg=new nn,ou=new nn;function V0(p,e,r,s,a){for(let A=0,w=p.length-3;A<=w;A+=3){ou.fromArray(p,A);var u=a.x*Math.abs(ou.x)+a.y*Math.abs(ou.y)+a.z*Math.abs(ou.z),f=e.dot(ou),m=r.dot(ou),_=s.dot(ou);if(Math.max(-Math.max(f,m,_),Math.min(f,m,_))>u)return!1}return!0}const v5=new Mh,Th=new nn,G0=new nn;class yI{constructor(e=new nn,r=-1){this.center=e,this.radius=r}set(e,r){return this.center.copy(e),this.radius=r,this}setFromPoints(e,r){var s=this.center;r!==void 0?s.copy(r):v5.setFromPoints(e).getCenter(s);let a=0;for(let u=0,f=e.length;u<f;u++)a=Math.max(a,s.distanceToSquared(e[u]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){var r=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=r*r}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,r){var s=this.center.distanceToSquared(e);return r.copy(e),s>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(e){return this.isEmpty()?e.makeEmpty():(e.set(this.center,this.center),e.expandByScalar(this.radius)),e}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){var r;return this.isEmpty()?(this.center.copy(e),this.radius=0):(Th.subVectors(e,this.center),(e=Th.lengthSq())>this.radius*this.radius&&(r=.5*((e=Math.sqrt(e))-this.radius),this.center.addScaledVector(Th,r/e),this.radius+=r)),this}union(e){return e.isEmpty()||(this.isEmpty()?this.copy(e):this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(G0.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Th.copy(e.center).add(G0)),this.expandByPoint(Th.copy(e.center).sub(G0)))),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ol=new nn,U0=new nn,Cg=new nn,Jl=new nn,z0=new nn,Ig=new nn,H0=new nn;class _5{constructor(e=new nn,r=new nn(0,0,-1)){this.origin=e,this.direction=r}set(e,r){return this.origin.copy(e),this.direction.copy(r),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,r){return r.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ol)),this}closestPointToPoint(e,r){return r.subVectors(e,this.origin),e=r.dot(this.direction),e<0?r.copy(this.origin):r.copy(this.direction).multiplyScalar(e).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){var r=ol.subVectors(e,this.origin).dot(this.direction);return(r<0?this.origin:(ol.copy(this.direction).multiplyScalar(r).add(this.origin),ol)).distanceToSquared(e)}distanceSqToSegment(u,f,s,a){U0.copy(u).add(f).multiplyScalar(.5),Cg.copy(f).sub(u).normalize(),Jl.copy(this.origin).sub(U0);var u=.5*u.distanceTo(f),f=-this.direction.dot(Cg),m=Jl.dot(this.direction),_=-Jl.dot(Cg),A=Jl.lengthSq(),w=Math.abs(1-f*f);let S,x,P,O;return P=0<w?(S=f*_-m,x=f*m-_,O=u*w,0<=S?x>=-O?x<=O?(w=1/w,S*=w,x*=w,S*(S+f*x+2*m)+x*(f*S+x+2*_)+A):(x=u,-(S=Math.max(0,-(f*x+m)))*S+x*(x+2*_)+A):(x=-u,-(S=Math.max(0,-(f*x+m)))*S+x*(x+2*_)+A):x<=-O?(S=Math.max(0,-(-f*u+m)),x=0<S?-u:Math.min(Math.max(-u,-_),u),-S*S+x*(x+2*_)+A):x<=O?(S=0,(x=Math.min(Math.max(-u,-_),u))*(x+2*_)+A):(S=Math.max(0,-(f*u+m)),x=0<S?u:Math.min(Math.max(-u,-_),u),-S*S+x*(x+2*_)+A)):(x=0<f?-u:u,-(S=Math.max(0,-(f*x+m)))*S+x*(x+2*_)+A),s&&s.copy(this.direction).multiplyScalar(S).add(this.origin),a&&a.copy(Cg).multiplyScalar(x).add(U0),P}intersectSphere(u,r){ol.subVectors(u.center,this.origin);var s=ol.dot(this.direction),a=ol.dot(ol)-s*s,u=u.radius*u.radius;return u<a||(a=s+(u=Math.sqrt(u-a)),(s=s-u)<0&&a<0)?null:s<0?this.at(a,r):this.at(s,r)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){var r=e.normal.dot(this.direction);return r===0?e.distanceToPoint(this.origin)===0?0:null:0<=(e=-(this.origin.dot(e.normal)+e.constant)/r)?e:null}intersectPlane(e,r){return e=this.distanceToPlane(e),e===null?null:this.at(e,r)}intersectsPlane(e){var r=e.distanceToPoint(this.origin);return r===0||e.normal.dot(this.direction)*r<0}intersectBox(e,r){let s,a,u,f,m,_;var A=1/this.direction.x,w=1/this.direction.y,S=1/this.direction.z,x=this.origin;return a=0<=A?(s=(e.min.x-x.x)*A,(e.max.x-x.x)*A):(s=(e.max.x-x.x)*A,(e.min.x-x.x)*A),f=0<=w?(u=(e.min.y-x.y)*w,(e.max.y-x.y)*w):(u=(e.max.y-x.y)*w,(e.min.y-x.y)*w),s>f||u>a||((u>s||isNaN(s))&&(s=u),(f<a||isNaN(a))&&(a=f),_=0<=S?(m=(e.min.z-x.z)*S,(e.max.z-x.z)*S):(m=(e.max.z-x.z)*S,(e.min.z-x.z)*S),s>_)||m>a||((m>s||s!=s)&&(s=m),(a=_<a||a!=a?_:a)<0)?null:this.at(0<=s?s:a,r)}intersectsBox(e){return this.intersectBox(e,ol)!==null}intersectTriangle(e,r,s,a,u){z0.subVectors(r,e),Ig.subVectors(s,e),H0.crossVectors(z0,Ig);let f=this.direction.dot(H0),m;if(0<f){if(a)return null;m=1}else{if(!(f<0))return null;m=-1,f=-f}return Jl.subVectors(this.origin,e),r=m*this.direction.dot(Ig.crossVectors(Jl,Ig)),r<0||(s=m*this.direction.dot(z0.cross(Jl)))<0||r+s>f||(a=-m*Jl.dot(H0))<0?null:this.at(a/f,u)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class zi{constructor(){zi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,r,s,a,u,f,m,_,A,w,S,x,P,O,k,L){var U=this.elements;return U[0]=e,U[4]=r,U[8]=s,U[12]=a,U[1]=u,U[5]=f,U[9]=m,U[13]=_,U[2]=A,U[6]=w,U[10]=S,U[14]=x,U[3]=P,U[7]=O,U[11]=k,U[15]=L,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new zi().fromArray(this.elements)}copy(s){var r=this.elements,s=s.elements;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],r[9]=s[9],r[10]=s[10],r[11]=s[11],r[12]=s[12],r[13]=s[13],r[14]=s[14],r[15]=s[15],this}copyPosition(s){var r=this.elements,s=s.elements;return r[12]=s[12],r[13]=s[13],r[14]=s[14],this}setFromMatrix3(e){return e=e.elements,this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(e,r,s){return e.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(e,r,s){return this.set(e.x,r.x,s.x,0,e.y,r.y,s.y,0,e.z,r.z,s.z,0,0,0,0,1),this}extractRotation(f){var r=this.elements,s=f.elements,a=1/Od.setFromMatrixColumn(f,0).length(),u=1/Od.setFromMatrixColumn(f,1).length(),f=1/Od.setFromMatrixColumn(f,2).length();return r[0]=s[0]*a,r[1]=s[1]*a,r[2]=s[2]*a,r[3]=0,r[4]=s[4]*u,r[5]=s[5]*u,r[6]=s[6]*u,r[7]=0,r[8]=s[8]*f,r[9]=s[9]*f,r[10]=s[10]*f,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(e){var r,s,a,u,f=this.elements,_=e.x,w=e.y,x=e.z,m=Math.cos(_),_=Math.sin(_),A=Math.cos(w),w=Math.sin(w),S=Math.cos(x),x=Math.sin(x);return e.order==="XYZ"?(s=m*S,a=m*x,u=_*S,r=_*x,f[0]=A*S,f[4]=-A*x,f[8]=w,f[1]=a+u*w,f[5]=s-r*w,f[9]=-_*A,f[2]=r-s*w,f[6]=u+a*w,f[10]=m*A):e.order==="YXZ"?(r=A*x,s=w*S,f[0]=(u=A*S)+(a=w*x)*_,f[4]=s*_-r,f[8]=m*w,f[1]=m*x,f[5]=m*S,f[9]=-_,f[2]=r*_-s,f[6]=a+u*_,f[10]=m*A):e.order==="ZXY"?(r=A*x,s=w*S,f[0]=(a=A*S)-(u=w*x)*_,f[4]=-m*x,f[8]=s+r*_,f[1]=r+s*_,f[5]=m*S,f[9]=u-a*_,f[2]=-m*w,f[6]=_,f[10]=m*A):e.order==="ZYX"?(r=m*S,s=m*x,u=_*S,a=_*x,f[0]=A*S,f[4]=u*w-s,f[8]=r*w+a,f[1]=A*x,f[5]=a*w+r,f[9]=s*w-u,f[2]=-w,f[6]=_*A,f[10]=m*A):e.order==="YZX"?(a=m*A,r=m*w,s=_*A,u=_*w,f[0]=A*S,f[4]=u-a*x,f[8]=s*x+r,f[1]=x,f[5]=m*S,f[9]=-_*S,f[2]=-w*S,f[6]=r*x+s,f[10]=a-u*x):e.order==="XZY"&&(r=m*A,s=m*w,a=_*A,u=_*w,f[0]=A*S,f[4]=-x,f[8]=w*S,f[1]=r*x+u,f[5]=m*S,f[9]=s*x-a,f[2]=a*x-s,f[6]=_*S,f[10]=u*x+r),f[3]=0,f[7]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,this}makeRotationFromQuaternion(e){return this.compose(A5,e,y5)}lookAt(e,r,s){var a=this.elements;return eo.subVectors(e,r),eo.lengthSq()===0&&(eo.z=1),eo.normalize(),Zl.crossVectors(s,eo),Zl.lengthSq()===0&&(Math.abs(s.z)===1?eo.x+=1e-4:eo.z+=1e-4,eo.normalize(),Zl.crossVectors(s,eo)),Zl.normalize(),xg.crossVectors(eo,Zl),a[0]=Zl.x,a[4]=xg.x,a[8]=eo.x,a[1]=Zl.y,a[5]=xg.y,a[9]=eo.y,a[2]=Zl.z,a[6]=xg.z,a[10]=eo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(G,lt){var G=G.elements,lt=lt.elements,s=this.elements,a=G[0],u=G[4],f=G[8],m=G[12],_=G[1],A=G[5],w=G[9],S=G[13],x=G[2],P=G[6],O=G[10],k=G[14],L=G[3],U=G[7],Q=G[11],G=G[15],Z=lt[0],X=lt[4],te=lt[8],ae=lt[12],j=lt[1],ge=lt[5],we=lt[9],Le=lt[13],je=lt[2],be=lt[6],Te=lt[10],Je=lt[14],it=lt[3],tt=lt[7],Me=lt[11],lt=lt[15];return s[0]=a*Z+u*j+f*je+m*it,s[4]=a*X+u*ge+f*be+m*tt,s[8]=a*te+u*we+f*Te+m*Me,s[12]=a*ae+u*Le+f*Je+m*lt,s[1]=_*Z+A*j+w*je+S*it,s[5]=_*X+A*ge+w*be+S*tt,s[9]=_*te+A*we+w*Te+S*Me,s[13]=_*ae+A*Le+w*Je+S*lt,s[2]=x*Z+P*j+O*je+k*it,s[6]=x*X+P*ge+O*be+k*tt,s[10]=x*te+P*we+O*Te+k*Me,s[14]=x*ae+P*Le+O*Je+k*lt,s[3]=L*Z+U*j+Q*je+G*it,s[7]=L*X+U*ge+Q*be+G*tt,s[11]=L*te+U*we+Q*Te+G*Me,s[15]=L*ae+U*Le+Q*Je+G*lt,this}multiplyScalar(e){var r=this.elements;return r[0]*=e,r[4]*=e,r[8]*=e,r[12]*=e,r[1]*=e,r[5]*=e,r[9]*=e,r[13]*=e,r[2]*=e,r[6]*=e,r[10]*=e,r[14]*=e,r[3]*=e,r[7]*=e,r[11]*=e,r[15]*=e,this}determinant(){var e=this.elements,r=e[0],s=e[4],a=e[8],u=e[12],f=e[1],m=e[5],_=e[9],A=e[13],w=e[2],S=e[6],x=e[10],P=e[14];return e[3]*(+u*_*S-a*A*S-u*m*x+s*A*x+a*m*P-s*_*P)+e[7]*(+r*_*P-r*A*x+u*f*x-a*f*P+a*A*w-u*_*w)+e[11]*(+r*A*S-r*m*P-u*f*S+s*f*P+u*m*w-s*A*w)+e[15]*(-a*m*w-r*_*S+r*m*x+a*f*S-s*f*x+s*_*w)}transpose(){var e=this.elements,r=e[1];return e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,this}setPosition(e,r,s){var a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=r,a[14]=s),this}invert(){var e=this.elements,r=e[0],s=e[1],a=e[2],u=e[3],f=e[4],m=e[5],_=e[6],A=e[7],w=e[8],S=e[9],x=e[10],P=e[11],O=e[12],k=e[13],L=e[14],U=e[15],Q=S*L*A-k*x*A+k*_*P-m*L*P-S*_*U+m*x*U,G=O*x*A-w*L*A-O*_*P+f*L*P+w*_*U-f*x*U,Z=w*k*A-O*S*A+O*m*P-f*k*P-w*m*U+f*S*U,X=O*S*_-w*k*_-O*m*x+f*k*x+w*m*L-f*S*L,te=r*Q+s*G+a*Z+u*X;return te==0?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(e[0]=Q*(Q=1/te),e[1]=(k*x*u-S*L*u-k*a*P+s*L*P+S*a*U-s*x*U)*Q,e[2]=(m*L*u-k*_*u+k*a*A-s*L*A-m*a*U+s*_*U)*Q,e[3]=(S*_*u-m*x*u-S*a*A+s*x*A+m*a*P-s*_*P)*Q,e[4]=G*Q,e[5]=(w*L*u-O*x*u+O*a*P-r*L*P-w*a*U+r*x*U)*Q,e[6]=(O*_*u-f*L*u-O*a*A+r*L*A+f*a*U-r*_*U)*Q,e[7]=(f*x*u-w*_*u+w*a*A-r*x*A-f*a*P+r*_*P)*Q,e[8]=Z*Q,e[9]=(O*S*u-w*k*u-O*s*P+r*k*P+w*s*U-r*S*U)*Q,e[10]=(f*k*u-O*m*u+O*s*A-r*k*A-f*s*U+r*m*U)*Q,e[11]=(w*m*u-f*S*u-w*s*A+r*S*A+f*s*P-r*m*P)*Q,e[12]=X*Q,e[13]=(w*k*a-O*S*a+O*s*x-r*k*x-w*s*L+r*S*L)*Q,e[14]=(O*m*a-f*k*a-O*s*_+r*k*_+f*s*L-r*m*L)*Q,e[15]=(f*S*a-w*m*a+w*s*_-r*S*_-f*s*x+r*m*x)*Q,this)}scale(u){var r=this.elements,s=u.x,a=u.y,u=u.z;return r[0]*=s,r[4]*=a,r[8]*=u,r[1]*=s,r[5]*=a,r[9]*=u,r[2]*=s,r[6]*=a,r[10]*=u,r[3]*=s,r[7]*=a,r[11]*=u,this}getMaxScaleOnAxis(){var s=this.elements,e=s[0]*s[0]+s[1]*s[1]+s[2]*s[2],r=s[4]*s[4]+s[5]*s[5]+s[6]*s[6],s=s[8]*s[8]+s[9]*s[9]+s[10]*s[10];return Math.sqrt(Math.max(e,r,s))}makeTranslation(e,r,s){return this.set(1,0,0,e,0,1,0,r,0,0,1,s,0,0,0,1),this}makeRotationX(s){var r=Math.cos(s),s=Math.sin(s);return this.set(1,0,0,0,0,r,-s,0,0,s,r,0,0,0,0,1),this}makeRotationY(s){var r=Math.cos(s),s=Math.sin(s);return this.set(r,0,s,0,0,1,0,0,-s,0,r,0,0,0,0,1),this}makeRotationZ(s){var r=Math.cos(s),s=Math.sin(s);return this.set(r,-s,0,0,s,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(_,a){var s=Math.cos(a),a=Math.sin(a),u=1-s,f=_.x,m=_.y,_=_.z,A=u*f,w=u*m;return this.set(A*f+s,A*m-a*_,A*_+a*m,0,A*m+a*_,w*m+s,w*_-a*f,0,A*_-a*m,w*_+a*f,u*_*_+s,0,0,0,0,1),this}makeScale(e,r,s){return this.set(e,0,0,0,0,r,0,0,0,0,s,0,0,0,0,1),this}makeShear(e,r,s,a,u,f){return this.set(1,s,u,0,e,1,f,0,r,a,1,0,0,0,0,1),this}compose(e,P,L){var a=this.elements,m=P._x,A=P._y,w=P._z,P=P._w,S=m+m,x=A+A,O=w+w,u=m*S,f=m*x,m=m*O,_=A*x,A=A*O,w=w*O,S=P*S,x=P*x,P=P*O,O=L.x,k=L.y,L=L.z;return a[0]=(1-(_+w))*O,a[1]=(f+P)*O,a[2]=(m-x)*O,a[3]=0,a[4]=(f-P)*k,a[5]=(1-(u+w))*k,a[6]=(A+S)*k,a[7]=0,a[8]=(m+x)*L,a[9]=(A-S)*L,a[10]=(1-(u+_))*L,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(m,r,s){var _=this.elements;let a=Od.set(_[0],_[1],_[2]).length();var u=Od.set(_[4],_[5],_[6]).length(),f=Od.set(_[8],_[9],_[10]).length(),m=(this.determinant()<0&&(a=-a),m.x=_[12],m.y=_[13],m.z=_[14],Yo.copy(this),1/a),_=1/u,A=1/f;return Yo.elements[0]*=m,Yo.elements[1]*=m,Yo.elements[2]*=m,Yo.elements[4]*=_,Yo.elements[5]*=_,Yo.elements[6]*=_,Yo.elements[8]*=A,Yo.elements[9]*=A,Yo.elements[10]*=A,r.setFromRotationMatrix(Yo),s.x=a,s.y=u,s.z=f,this}makePerspective(e,r,w,S,u,x){var m=this.elements,_=2*u/(w-S),A=(r+e)/(r-e),w=(w+S)/(w-S),S=-(x+u)/(x-u),x=-2*x*u/(x-u);return m[0]=2*u/(r-e),m[4]=0,m[8]=A,m[12]=0,m[1]=0,m[5]=_,m[9]=w,m[13]=0,m[2]=0,m[6]=0,m[10]=S,m[14]=x,m[3]=0,m[7]=0,m[11]=-1,m[15]=0,this}makeOrthographic(x,S,P,a,u,f){var m=this.elements,_=1/(S-x),A=1/(P-a),w=1/(f-u),S=(S+x)*_,x=(P+a)*A,P=(f+u)*w;return m[0]=2*_,m[4]=0,m[8]=0,m[12]=-S,m[1]=0,m[5]=2*A,m[9]=0,m[13]=-x,m[2]=0,m[6]=0,m[10]=-2*w,m[14]=-P,m[3]=0,m[7]=0,m[11]=0,m[15]=1,this}equals(e){var r=this.elements,s=e.elements;for(let a=0;a<16;a++)if(r[a]!==s[a])return!1;return!0}fromArray(e,r=0){for(let s=0;s<16;s++)this.elements[s]=e[s+r];return this}toArray(e=[],r=0){var s=this.elements;return e[r]=s[0],e[r+1]=s[1],e[r+2]=s[2],e[r+3]=s[3],e[r+4]=s[4],e[r+5]=s[5],e[r+6]=s[6],e[r+7]=s[7],e[r+8]=s[8],e[r+9]=s[9],e[r+10]=s[10],e[r+11]=s[11],e[r+12]=s[12],e[r+13]=s[13],e[r+14]=s[14],e[r+15]=s[15],e}}const Od=new nn,Yo=new zi,A5=new nn(0,0,0),y5=new nn(1,1,1),Zl=new nn,xg=new nn,eo=new nn,bI=new zi,SI=new xh;class Ph{constructor(e=0,r=0,s=0,a=Ph.DefaultOrder){this.isEuler=!0,this._x=e,this._y=r,this._z=s,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,r,s,a=this._order){return this._x=e,this._y=r,this._z=s,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(a,r=this._order,s=!0){var a=a.elements,u=a[0],f=a[4],m=a[8],_=a[1],A=a[5],w=a[9],S=a[2],x=a[6],P=a[10];switch(r){case"XYZ":this._y=Math.asin(Js(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(-w,P),this._z=Math.atan2(-f,u)):(this._x=Math.atan2(x,A),this._z=0);break;case"YXZ":this._x=Math.asin(-Js(w,-1,1)),Math.abs(w)<.9999999?(this._y=Math.atan2(m,P),this._z=Math.atan2(_,A)):(this._y=Math.atan2(-S,u),this._z=0);break;case"ZXY":this._x=Math.asin(Js(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-S,P),this._z=Math.atan2(-f,A)):(this._y=0,this._z=Math.atan2(_,u));break;case"ZYX":this._y=Math.asin(-Js(S,-1,1)),Math.abs(S)<.9999999?(this._x=Math.atan2(x,P),this._z=Math.atan2(_,u)):(this._x=0,this._z=Math.atan2(-f,A));break;case"YZX":this._z=Math.asin(Js(_,-1,1)),Math.abs(_)<.9999999?(this._x=Math.atan2(-w,A),this._y=Math.atan2(-S,u)):(this._x=0,this._y=Math.atan2(m,P));break;case"XZY":this._z=Math.asin(-Js(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(x,A),this._y=Math.atan2(m,u)):(this._x=Math.atan2(-w,P),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,s===!0&&this._onChangeCallback(),this}setFromQuaternion(e,r,s){return bI.makeRotationFromQuaternion(e),this.setFromRotationMatrix(bI,r,s)}setFromVector3(e,r=this._order){return this.set(e.x,e.y,e.z,r)}reorder(e){return SI.setFromEuler(this),this.setFromQuaternion(SI,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Ph.DefaultOrder="XYZ",Ph.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class b5{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}isEnabled(e){return(this.mask&(1<<e|0))!=0}}let S5=0;const wI=new nn,Fd=new xh,al=new zi,Mg=new nn,Nh=new nn,w5=new nn,E5=new xh,EI=new nn(1,0,0),CI=new nn(0,1,0),II=new nn(0,0,1),C5={type:"added"},xI={type:"removed"};class ll extends _g{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:S5++}),this.uuid=Ih(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ll.DefaultUp.clone();var e=new nn;const r=new Ph,s=new xh;var a=new nn(1,1,1);r._onChange(function(){s.setFromEuler(r,!1)}),s._onChange(function(){r.setFromQuaternion(s,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new zi},normalMatrix:{value:new nu}}),this.matrix=new zi,this.matrixWorld=new zi,this.matrixAutoUpdate=ll.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=ll.DefaultMatrixWorldAutoUpdate,this.layers=new b5,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,r){this.quaternion.setFromAxisAngle(e,r)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,r){return Fd.setFromAxisAngle(e,r),this.quaternion.multiply(Fd),this}rotateOnWorldAxis(e,r){return Fd.setFromAxisAngle(e,r),this.quaternion.premultiply(Fd),this}rotateX(e){return this.rotateOnAxis(EI,e)}rotateY(e){return this.rotateOnAxis(CI,e)}rotateZ(e){return this.rotateOnAxis(II,e)}translateOnAxis(e,r){return wI.copy(e).applyQuaternion(this.quaternion),this.position.add(wI.multiplyScalar(r)),this}translateX(e){return this.translateOnAxis(EI,e)}translateY(e){return this.translateOnAxis(CI,e)}translateZ(e){return this.translateOnAxis(II,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(al.copy(this.matrixWorld).invert())}lookAt(e,r,s){e.isVector3?Mg.copy(e):Mg.set(e,r,s),e=this.parent,this.updateWorldMatrix(!0,!1),Nh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?al.lookAt(Nh,Mg,this.up):al.lookAt(Mg,Nh,this.up),this.quaternion.setFromRotationMatrix(al),e&&(al.extractRotation(e.matrixWorld),Fd.setFromRotationMatrix(al),this.quaternion.premultiply(Fd.invert()))}add(e){if(1<arguments.length)for(let r=0;r<arguments.length;r++)this.add(arguments[r]);else e===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",e):e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),(e.parent=this).children.push(e),e.dispatchEvent(C5)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e);return this}remove(e){if(1<arguments.length)for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);else{var r=this.children.indexOf(e);r!==-1&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(xI))}return this}removeFromParent(){var e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let r=0;r<this.children.length;r++){var e=this.children[r];e.parent=null,e.dispatchEvent(xI)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),al.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),al.multiply(e.parent.matrixWorld)),e.applyMatrix4(al),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,r){if(this[e]===r)return this;for(let a=0,u=this.children.length;a<u;a++){var s=this.children[a].getObjectByProperty(e,r);if(s!==void 0)return s}}getObjectsByProperty(e,r){let s=[];this[e]===r&&s.push(this);for(let u=0,f=this.children.length;u<f;u++){var a=this.children[u].getObjectsByProperty(e,r);0<a.length&&(s=s.concat(a))}return s}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nh,e,w5),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nh,E5,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);var r=this.matrixWorld.elements;return e.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(e){e(this);var r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].traverse(e)}traverseVisible(e){if(this.visible!==!1){e(this);var r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].traverseVisible(e)}}traverseAncestors(e){var r=this.parent;r!==null&&(e(r),r.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e=!(this.matrixWorldNeedsUpdate=!1));var r=this.children;for(let a=0,u=r.length;a<u;a++){var s=r[a];s.matrixWorldAutoUpdate!==!0&&e!==!0||s.updateMatrixWorld(e)}}updateWorldMatrix(e,r){var s=this.parent;if(e===!0&&s!==null&&s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0){var a=this.children;for(let f=0,m=a.length;f<m;f++){var u=a[f];u.matrixWorldAutoUpdate===!0&&u.updateWorldMatrix(!1,!0)}}}toJSON(e){var r,s,a,u,f,m,_=e===void 0||typeof e=="string",A={},w=(_&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},A.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"}),{});function S(Q,G){return Q[G.uuid]===void 0&&(Q[G.uuid]=G.toJSON(e)),G.uuid}if(w.uuid=this.uuid,w.type=this.type,this.name!==""&&(w.name=this.name),this.castShadow===!0&&(w.castShadow=!0),this.receiveShadow===!0&&(w.receiveShadow=!0),this.visible===!1&&(w.visible=!1),this.frustumCulled===!1&&(w.frustumCulled=!1),this.renderOrder!==0&&(w.renderOrder=this.renderOrder),0<Object.keys(this.userData).length&&(w.userData=this.userData),w.layers=this.layers.mask,w.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(w.matrixAutoUpdate=!1),this.isInstancedMesh&&(w.type="InstancedMesh",w.count=this.count,w.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null)&&(w.instanceColor=this.instanceColor.toJSON()),this.isScene)this.background&&(this.background.isColor?w.background=this.background.toJSON():this.background.isTexture&&(w.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(w.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){w.geometry=S(e.geometries,this.geometry);var x=this.geometry.parameters;if(x!==void 0&&x.shapes!==void 0){var P=x.shapes;if(Array.isArray(P))for(let Q=0,G=P.length;Q<G;Q++){var O=P[Q];S(e.shapes,O)}else S(e.shapes,P)}}if(this.isSkinnedMesh&&(w.bindMode=this.bindMode,w.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0)&&(S(e.skeletons,this.skeleton),w.skeleton=this.skeleton.uuid),this.material!==void 0)if(Array.isArray(this.material)){var k=[];for(let Q=0,G=this.material.length;Q<G;Q++)k.push(S(e.materials,this.material[Q]));w.material=k}else w.material=S(e.materials,this.material);if(0<this.children.length){w.children=[];for(let Q=0;Q<this.children.length;Q++)w.children.push(this.children[Q].toJSON(e).object)}if(0<this.animations.length){w.animations=[];for(let Q=0;Q<this.animations.length;Q++){var L=this.animations[Q];w.animations.push(S(e.animations,L))}}return _&&(x=U(e.geometries),_=U(e.materials),r=U(e.textures),s=U(e.images),a=U(e.shapes),u=U(e.skeletons),f=U(e.animations),m=U(e.nodes),0<x.length&&(A.geometries=x),0<_.length&&(A.materials=_),0<r.length&&(A.textures=r),0<s.length&&(A.images=s),0<a.length&&(A.shapes=a),0<u.length&&(A.skeletons=u),0<f.length&&(A.animations=f),0<m.length)&&(A.nodes=m),A.object=w,A;function U(Q){var G=[];for(const X in Q){var Z=Q[X];delete Z.metadata,G.push(Z)}return G}}clone(e){return new this.constructor().copy(this,e)}copy(e,r=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),r===!0)for(let a=0;a<e.children.length;a++){var s=e.children[a];this.add(s.clone())}return this}}ll.DefaultUp=new nn(0,1,0),ll.DefaultMatrixAutoUpdate=!0,ll.DefaultMatrixWorldAutoUpdate=!0;const Jo=new nn,cl=new nn,Q0=new nn,ul=new nn,Vd=new nn,Gd=new nn,MI=new nn,X0=new nn,$0=new nn,W0=new nn;class dl{constructor(e=new nn,r=new nn,s=new nn){this.a=e,this.b=r,this.c=s}static getNormal(e,r,s,a){return a.subVectors(s,r),Jo.subVectors(e,r),a.cross(Jo),s=a.lengthSq(),0<s?a.multiplyScalar(1/Math.sqrt(s)):a.set(0,0,0)}static getBarycoord(_,A,m,f,u){Jo.subVectors(f,A),cl.subVectors(m,A),Q0.subVectors(_,A);var f=Jo.dot(Jo),m=Jo.dot(cl),_=Jo.dot(Q0),A=cl.dot(cl),w=cl.dot(Q0),S=f*A-m*m;return S==0?u.set(-2,-1,-1):u.set(1-(A=(A*_-m*w)*(u=1/S))-(S=(f*w-m*_)*u),S,A)}static containsPoint(e,r,s,a){return this.getBarycoord(e,r,s,a,ul),0<=ul.x&&0<=ul.y&&ul.x+ul.y<=1}static getUV(e,r,s,a,u,f,m,_){return this.getBarycoord(e,r,s,a,ul),_.set(0,0),_.addScaledVector(u,ul.x),_.addScaledVector(f,ul.y),_.addScaledVector(m,ul.z),_}static isFrontFacing(e,r,s,a){return Jo.subVectors(s,r),cl.subVectors(e,r),Jo.cross(cl).dot(a)<0}set(e,r,s){return this.a.copy(e),this.b.copy(r),this.c.copy(s),this}setFromPointsAndIndices(e,r,s,a){return this.a.copy(e[r]),this.b.copy(e[s]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,r,s,a){return this.a.fromBufferAttribute(e,r),this.b.fromBufferAttribute(e,s),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Jo.subVectors(this.c,this.b),cl.subVectors(this.a,this.b),.5*Jo.cross(cl).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return dl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,r){return dl.getBarycoord(e,this.a,this.b,this.c,r)}getUV(e,r,s,a,u){return dl.getUV(e,this.a,this.b,this.c,r,s,a,u)}containsPoint(e){return dl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return dl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(P,r){var s=this.a,a=this.b,u=this.c;let f,m;Vd.subVectors(a,s),Gd.subVectors(u,s),X0.subVectors(P,s);var _=Vd.dot(X0),A=Gd.dot(X0);if(_<=0&&A<=0)return r.copy(s);$0.subVectors(P,a);var w=Vd.dot($0),S=Gd.dot($0);if(0<=w&&S<=w)return r.copy(a);var x=_*S-w*A;if(x<=0&&0<=_&&w<=0)return f=_/(_-w),r.copy(s).addScaledVector(Vd,f);W0.subVectors(P,u);var P=Vd.dot(W0),O=Gd.dot(W0);return 0<=O&&P<=O?r.copy(u):(_=P*A-_*O)<=0&&0<=A&&O<=0?(m=A/(A-O),r.copy(s).addScaledVector(Gd,m)):(A=w*O-P*S)<=0&&0<=S-w&&0<=P-O?(MI.subVectors(u,a),m=(S-w)/(S-w+(P-O)),r.copy(a).addScaledVector(MI,m)):(u=1/(A+_+x),f=_*u,m=x*u,r.copy(s).addScaledVector(Vd,f).addScaledVector(Gd,m))}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let I5=0;class x5 extends _g{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:I5++}),this.uuid=Ih(),this.name="",this.type="Material",this.blending=uI,this.side=R0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=r5,this.blendDst=i5,this.blendEquation=n5,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=s5,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=d5,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=P0,this.stencilZFail=P0,this.stencilZPass=P0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){0<this._alphaTest!=0<e&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const a in e){var r,s=e[a];s===void 0?console.warn("THREE.Material: '"+a+"' parameter is undefined."):(r=this[a])===void 0?console.warn("THREE."+this.type+": '"+a+"' is not a property of this material."):r&&r.isColor?r.set(s):r&&r.isVector3&&s&&s.isVector3?r.copy(s):this[a]=s}}toJSON(e){var r=e===void 0||typeof e=="string",s=(r&&(e={textures:{},images:{}}),{metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}});function a(u){var f=[];for(const _ in u){var m=u[_];delete m.metadata,f.push(m)}return f}return s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(s.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(s.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(e).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(e).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(e).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(e).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(e).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0)&&(s.combine=this.combine),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==uI&&(s.blending=this.blending),this.side!==R0&&(s.side=this.side),this.vertexColors&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=this.transparent),s.depthFunc=this.depthFunc,s.depthTest=this.depthTest,s.depthWrite=this.depthWrite,s.colorWrite=this.colorWrite,s.stencilWrite=this.stencilWrite,s.stencilWriteMask=this.stencilWriteMask,s.stencilFunc=this.stencilFunc,s.stencilRef=this.stencilRef,s.stencilFuncMask=this.stencilFuncMask,s.stencilFail=this.stencilFail,s.stencilZFail=this.stencilZFail,s.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),0<this.alphaTest&&(s.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(s.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(s.wireframe=this.wireframe),1<this.wireframeLinewidth&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=this.flatShading),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),0<Object.keys(this.userData).length&&(s.userData=this.userData),r&&(r=a(e.textures),e=a(e.images),0<r.length&&(s.textures=r),0<e.length)&&(s.images=e),s}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var r=e.clippingPlanes;let s=null;if(r!==null){var a=r.length;s=new Array(a);for(let u=0;u!==a;++u)s[u]=r[u].clone()}return this.clippingPlanes=s,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class RI extends x5{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new _I(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=o5,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ti=new nn,Rg=new ks;class Ud{constructor(e,r,s=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=r,this.count=e!==void 0?e.length/r:0,this.normalized=s,this.usage=mI,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,r,s){e*=this.itemSize,s*=r.itemSize;for(let a=0,u=this.itemSize;a<u;a++)this.array[e+a]=r.array[s+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let r=0,s=this.count;r<s;r++)Rg.fromBufferAttribute(this,r),Rg.applyMatrix3(e),this.setXY(r,Rg.x,Rg.y);else if(this.itemSize===3)for(let r=0,s=this.count;r<s;r++)Ti.fromBufferAttribute(this,r),Ti.applyMatrix3(e),this.setXYZ(r,Ti.x,Ti.y,Ti.z);return this}applyMatrix4(e){for(let r=0,s=this.count;r<s;r++)Ti.fromBufferAttribute(this,r),Ti.applyMatrix4(e),this.setXYZ(r,Ti.x,Ti.y,Ti.z);return this}applyNormalMatrix(e){for(let r=0,s=this.count;r<s;r++)Ti.fromBufferAttribute(this,r),Ti.applyNormalMatrix(e),this.setXYZ(r,Ti.x,Ti.y,Ti.z);return this}transformDirection(e){for(let r=0,s=this.count;r<s;r++)Ti.fromBufferAttribute(this,r),Ti.transformDirection(e),this.setXYZ(r,Ti.x,Ti.y,Ti.z);return this}set(e,r=0){return this.array.set(e,r),this}getX(e){let r=this.array[e*this.itemSize];return r=this.normalized?Ag(r,this.array):r}setX(e,r){return this.normalized&&(r=Zs(r,this.array)),this.array[e*this.itemSize]=r,this}getY(e){let r=this.array[e*this.itemSize+1];return r=this.normalized?Ag(r,this.array):r}setY(e,r){return this.normalized&&(r=Zs(r,this.array)),this.array[e*this.itemSize+1]=r,this}getZ(e){let r=this.array[e*this.itemSize+2];return r=this.normalized?Ag(r,this.array):r}setZ(e,r){return this.normalized&&(r=Zs(r,this.array)),this.array[e*this.itemSize+2]=r,this}getW(e){let r=this.array[e*this.itemSize+3];return r=this.normalized?Ag(r,this.array):r}setW(e,r){return this.normalized&&(r=Zs(r,this.array)),this.array[e*this.itemSize+3]=r,this}setXY(e,r,s){return e*=this.itemSize,this.normalized&&(r=Zs(r,this.array),s=Zs(s,this.array)),this.array[e+0]=r,this.array[e+1]=s,this}setXYZ(e,r,s,a){return e*=this.itemSize,this.normalized&&(r=Zs(r,this.array),s=Zs(s,this.array),a=Zs(a,this.array)),this.array[e+0]=r,this.array[e+1]=s,this.array[e+2]=a,this}setXYZW(e,r,s,a,u){return e*=this.itemSize,this.normalized&&(r=Zs(r,this.array),s=Zs(s,this.array),a=Zs(a,this.array),u=Zs(u,this.array)),this.array[e+0]=r,this.array[e+1]=s,this.array[e+2]=a,this.array[e+3]=u,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==mI&&(e.usage=this.usage),this.updateRange.offset===0&&this.updateRange.count===-1||(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class M5 extends Ud{constructor(e,r,s){super(new Uint16Array(e),r,s)}}class R5 extends Ud{constructor(e,r,s){super(new Uint32Array(e),r,s)}}class Tg extends Ud{constructor(e,r,s){super(new Float32Array(e),r,s)}}let T5=0;const yo=new zi,K0=new ll,zd=new nn,to=new Mh,Bh=new Mh,ji=new nn;class Pg extends _g{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:T5++}),this.uuid=Ih(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(h5(e)?R5:M5)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,r){return this.attributes[e]=r,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,r,s=0){this.groups.push({start:e,count:r,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}applyMatrix4(e){var r=this.attributes.position,r=(r!==void 0&&(r.applyMatrix4(e),r.needsUpdate=!0),this.attributes.normal),s=(r!==void 0&&(s=new nu().getNormalMatrix(e),r.applyNormalMatrix(s),r.needsUpdate=!0),this.attributes.tangent);return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return yo.makeRotationFromQuaternion(e),this.applyMatrix4(yo),this}rotateX(e){return yo.makeRotationX(e),this.applyMatrix4(yo),this}rotateY(e){return yo.makeRotationY(e),this.applyMatrix4(yo),this}rotateZ(e){return yo.makeRotationZ(e),this.applyMatrix4(yo),this}translate(e,r,s){return yo.makeTranslation(e,r,s),this.applyMatrix4(yo),this}scale(e,r,s){return yo.makeScale(e,r,s),this.applyMatrix4(yo),this}lookAt(e){return K0.lookAt(e),K0.updateMatrix(),this.applyMatrix4(K0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zd).negate(),this.translate(zd.x,zd.y,zd.z),this}setFromPoints(e){var r=[];for(let a=0,u=e.length;a<u;a++){var s=e[a];r.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Tg(r,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Mh);var e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new nn(-1/0,-1/0,-1/0),new nn(1/0,1/0,1/0));else{if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),r)for(let a=0,u=r.length;a<u;a++){var s=r[a];to.setFromBufferAttribute(s),this.morphTargetsRelative?(ji.addVectors(this.boundingBox.min,to.min),this.boundingBox.expandByPoint(ji),ji.addVectors(this.boundingBox.max,to.max),this.boundingBox.expandByPoint(ji)):(this.boundingBox.expandByPoint(to.min),this.boundingBox.expandByPoint(to.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new yI);var e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new nn,1/0);else if(e){var s=this.boundingSphere.center;if(to.setFromBufferAttribute(e),r)for(let _=0,A=r.length;_<A;_++){var a=r[_];Bh.setFromBufferAttribute(a),this.morphTargetsRelative?(ji.addVectors(to.min,Bh.min),to.expandByPoint(ji),ji.addVectors(to.max,Bh.max),to.expandByPoint(ji)):(to.expandByPoint(Bh.min),to.expandByPoint(Bh.max))}to.getCenter(s);let m=0;for(let _=0,A=e.count;_<A;_++)ji.fromBufferAttribute(e,_),m=Math.max(m,s.distanceToSquared(ji));if(r)for(let _=0,A=r.length;_<A;_++){var u=r[_],f=this.morphTargetsRelative;for(let w=0,S=u.count;w<S;w++)ji.fromBufferAttribute(u,w),f&&(zd.fromBufferAttribute(e,w),ji.add(zd)),m=Math.max(m,s.distanceToSquared(ji))}this.boundingSphere.radius=Math.sqrt(m),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){var e=this.index,r=this.attributes;if(e===null||r.position===void 0||r.normal===void 0||r.uv===void 0)console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");else{let tt=function(Me){Je.fromArray(k,3*Me),it.copy(Je);var lt=Q[Me],lt=(be.copy(lt),be.sub(Je.multiplyScalar(Je.dot(lt))).normalize(),Te.crossVectors(it,lt),Te.dot(G[Me])),lt=lt<0?-1:1;U[4*Me]=be.x,U[4*Me+1]=be.y,U[4*Me+2]=be.z,U[4*Me+3]=lt};var P=tt,s=e.array;const O=r.position.array,k=r.normal.array,L=r.uv.array;var a,u,f,m,_=O.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ud(new Float32Array(4*_),4));const U=this.getAttribute("tangent").array,Q=[],G=[];for(let Me=0;Me<_;Me++)Q[Me]=new nn,G[Me]=new nn;const Z=new nn,X=new nn,te=new nn,ae=new ks,j=new ks,ge=new ks,we=new nn,Le=new nn;let je=this.groups;for(let Me=0,lt=(je=je.length===0?[{start:0,count:s.length}]:je).length;Me<lt;++Me){var A=je[Me],w=A.start;for(let mt=w,ft=w+A.count;mt<ft;mt+=3)a=s[mt+0],u=s[mt+1],f=s[mt+2],m=void 0,Z.fromArray(O,3*a),X.fromArray(O,3*u),te.fromArray(O,3*f),ae.fromArray(L,2*a),j.fromArray(L,2*u),ge.fromArray(L,2*f),X.sub(Z),te.sub(Z),j.sub(ae),ge.sub(ae),m=1/(j.x*ge.y-ge.x*j.y),isFinite(m)&&(we.copy(X).multiplyScalar(ge.y).addScaledVector(te,-j.y).multiplyScalar(m),Le.copy(te).multiplyScalar(j.x).addScaledVector(X,-ge.x).multiplyScalar(m),Q[a].add(we),Q[u].add(we),Q[f].add(we),G[a].add(Le),G[u].add(Le),G[f].add(Le))}const be=new nn,Te=new nn,Je=new nn,it=new nn;for(let Me=0,lt=je.length;Me<lt;++Me){var S=je[Me],x=S.start;for(let mt=x,ft=x+S.count;mt<ft;mt+=3)tt(s[mt+0]),tt(s[mt+1]),tt(s[mt+2])}}}computeVertexNormals(){var e=this.index,r=this.getAttribute("position");if(r!==void 0){let O=this.getAttribute("normal");if(O===void 0)O=new Ud(new Float32Array(3*r.count),3),this.setAttribute("normal",O);else for(let k=0,L=O.count;k<L;k++)O.setXYZ(k,0,0,0);var s=new nn,a=new nn,u=new nn,f=new nn,m=new nn,_=new nn,A=new nn,w=new nn;if(e)for(let k=0,L=e.count;k<L;k+=3){var S=e.getX(k+0),x=e.getX(k+1),P=e.getX(k+2);s.fromBufferAttribute(r,S),a.fromBufferAttribute(r,x),u.fromBufferAttribute(r,P),A.subVectors(u,a),w.subVectors(s,a),A.cross(w),f.fromBufferAttribute(O,S),m.fromBufferAttribute(O,x),_.fromBufferAttribute(O,P),f.add(A),m.add(A),_.add(A),O.setXYZ(S,f.x,f.y,f.z),O.setXYZ(x,m.x,m.y,m.z),O.setXYZ(P,_.x,_.y,_.z)}else for(let k=0,L=r.count;k<L;k+=3)s.fromBufferAttribute(r,k+0),a.fromBufferAttribute(r,k+1),u.fromBufferAttribute(r,k+2),A.subVectors(u,a),w.subVectors(s,a),A.cross(w),O.setXYZ(k+0,A.x,A.y,A.z),O.setXYZ(k+1,A.x,A.y,A.z),O.setXYZ(k+2,A.x,A.y,A.z);this.normalizeNormals(),O.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){var e=this.attributes.normal;for(let r=0,s=e.count;r<s;r++)ji.fromBufferAttribute(e,r),ji.normalize(),e.setXYZ(r,ji.x,ji.y,ji.z)}toNonIndexed(){function e(x,P){var O=x.array,k=x.itemSize,L=x.normalized,U=new O.constructor(P.length*k);let Q=0,G=0;for(let Z=0,X=P.length;Z<X;Z++){Q=x.isInterleavedBufferAttribute?P[Z]*x.data.stride+x.offset:P[Z]*k;for(let te=0;te<k;te++)U[G++]=O[Q++]}return new Ud(U,k,L)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var r=new Pg,s=this.index.array,a=this.attributes;for(const x in a){var u=e(a[x],s);r.setAttribute(x,u)}var f=this.morphAttributes;for(const x in f){var m=[],_=f[x];for(let P=0,O=_.length;P<O;P++){var A=e(_[P],s);m.push(A)}r.morphAttributes[x]=m}r.morphTargetsRelative=this.morphTargetsRelative;var w=this.groups;for(let x=0,P=w.length;x<P;x++){var S=w[x];r.addGroup(S.start,S.count,S.materialIndex)}return r}toJSON(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),0<Object.keys(this.userData).length&&(e.userData=this.userData),this.parameters!==void 0){var r=this.parameters;for(const w in r)r[w]!==void 0&&(e[w]=r[w])}else{e.data={attributes:{}};var s=this.index,a=(s!==null&&(e.data.index={type:s.array.constructor.name,array:Array.prototype.slice.call(s.array)}),this.attributes);for(const S in a){var u=a[S];e.data.attributes[S]=u.toJSON(e.data)}var f={};let w=!1;for(const S in this.morphAttributes){var m=this.morphAttributes[S],_=[];for(let x=0,P=m.length;x<P;x++){var A=m[x];_.push(A.toJSON(e.data))}0<_.length&&(f[S]=_,w=!0)}w&&(e.data.morphAttributes=f,e.data.morphTargetsRelative=this.morphTargetsRelative),s=this.groups,s=(0<s.length&&(e.data.groups=JSON.parse(JSON.stringify(s))),this.boundingSphere),s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius})}return e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var r={},s=(this.name=e.name,e.index),a=(s!==null&&this.setIndex(s.clone(r)),e.attributes);for(const S in a){var u=a[S];this.setAttribute(S,u.clone(r))}var f=e.morphAttributes;for(const S in f){var m=[],_=f[S];for(let x=0,P=_.length;x<P;x++)m.push(_[x].clone(r));this.morphAttributes[S]=m}this.morphTargetsRelative=e.morphTargetsRelative;var A=e.groups;for(let S=0,x=A.length;S<x;S++){var w=A[S];this.addGroup(w.start,w.count,w.materialIndex)}return s=e.boundingBox,s!==null&&(this.boundingBox=s.clone()),s=e.boundingSphere,s!==null&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const TI=new zi,Hd=new _5,j0=new yI,Dh=new nn,kh=new nn,Lh=new nn,q0=new nn,Ng=new nn,Bg=new ks,Dg=new ks,kg=new ks,Y0=new nn,Lg=new nn;class P5 extends ll{constructor(e=new Pg,r=new RI){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){var e=this.geometry.morphAttributes,r=Object.keys(e);if(0<r.length){var s=e[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,f=s.length;u<f;u++){var a=s[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=u}}}}getVertexPosition(e,r){var s=this.geometry,a=s.attributes.position,u=s.morphAttributes.position,f=s.morphTargetsRelative,m=(r.fromBufferAttribute(a,e),this.morphTargetInfluences);if(u&&m){Ng.set(0,0,0);for(let w=0,S=u.length;w<S;w++){var _=m[w],A=u[w];_!==0&&(q0.fromBufferAttribute(A,e),f?Ng.addScaledVector(q0,_):Ng.addScaledVector(q0.sub(r),_))}r.add(Ng)}return this.isSkinnedMesh&&this.boneTransform(e,r),r}raycast(e,r){var s=this.geometry,a=this.material,u=this.matrixWorld;if(a!==void 0&&(s.boundingSphere===null&&s.computeBoundingSphere(),j0.copy(s.boundingSphere),j0.applyMatrix4(u),e.ray.intersectsSphere(j0)!==!1)&&(TI.copy(u).invert(),Hd.copy(e.ray).applyMatrix4(TI),s.boundingBox===null||Hd.intersectsBox(s.boundingBox)!==!1)){let je;var f=s.index,m=s.attributes.position,_=s.attributes.uv,A=s.attributes.uv2,w=s.groups,S=s.drawRange;if(f!==null)if(Array.isArray(a))for(let be=0,Te=w.length;be<Te;be++){var x=w[be],P=a[x.materialIndex];for(let Je=Math.max(x.start,S.start),it=Math.min(f.count,Math.min(x.start+x.count,S.start+S.count));Je<it;Je+=3){var O=f.getX(Je),k=f.getX(Je+1),L=f.getX(Je+2);(je=Og(this,P,e,Hd,_,A,O,k,L))&&(je.faceIndex=Math.floor(Je/3),je.face.materialIndex=x.materialIndex,r.push(je))}}else for(let be=Math.max(0,S.start),Te=Math.min(f.count,S.start+S.count);be<Te;be+=3){var U=f.getX(be),Q=f.getX(be+1),G=f.getX(be+2);(je=Og(this,a,e,Hd,_,A,U,Q,G))&&(je.faceIndex=Math.floor(be/3),r.push(je))}else if(m!==void 0)if(Array.isArray(a))for(let be=0,Te=w.length;be<Te;be++){var Z=w[be],X=a[Z.materialIndex];for(let Je=Math.max(Z.start,S.start),it=Math.min(m.count,Math.min(Z.start+Z.count,S.start+S.count));Je<it;Je+=3){var te=Je,ae=Je+1,j=Je+2;(je=Og(this,X,e,Hd,_,A,te,ae,j))&&(je.faceIndex=Math.floor(Je/3),je.face.materialIndex=Z.materialIndex,r.push(je))}}else for(let be=Math.max(0,S.start),Te=Math.min(m.count,S.start+S.count);be<Te;be+=3){var ge=be,we=be+1,Le=be+2;(je=Og(this,a,e,Hd,_,A,ge,we,Le))&&(je.faceIndex=Math.floor(be/3),r.push(je))}}}}function N5(p,e,r,s,a,u,f,m){return(e.side===e5?s.intersectTriangle(f,u,a,!0,m):s.intersectTriangle(a,u,f,e.side===R0,m))===null?null:(Lg.copy(m),Lg.applyMatrix4(p.matrixWorld),s=r.ray.origin.distanceTo(Lg),s<r.near||s>r.far?null:{distance:s,point:Lg.clone(),object:p})}function Og(p,e,r,s,a,u,f,m,_){return p.getVertexPosition(f,Dh),p.getVertexPosition(m,kh),p.getVertexPosition(_,Lh),p=N5(p,e,r,s,Dh,kh,Lh,Y0),p&&(a&&(Bg.fromBufferAttribute(a,f),Dg.fromBufferAttribute(a,m),kg.fromBufferAttribute(a,_),p.uv=dl.getUV(Y0,Dh,kh,Lh,Bg,Dg,kg,new ks)),u&&(Bg.fromBufferAttribute(u,f),Dg.fromBufferAttribute(u,m),kg.fromBufferAttribute(u,_),p.uv2=dl.getUV(Y0,Dh,kh,Lh,Bg,Dg,kg,new ks)),e={a:f,b:m,c:_,normal:new nn,materialIndex:0},dl.getNormal(Dh,kh,Lh,e.normal),p.face=e),p}class J0 extends Pg{constructor(e=1,r=1,s=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:r,widthSegments:s,heightSegments:a};var u=e/2,f=r/2,m=Math.floor(s),_=Math.floor(a),A=m+1,w=_+1,S=e/m,x=r/_,P=[],O=[],k=[],L=[];for(let ae=0;ae<w;ae++){var U=ae*x-f;for(let j=0;j<A;j++){var Q=j*S-u;O.push(Q,-U,0),k.push(0,0,1),L.push(j/m),L.push(1-ae/_)}}for(let ae=0;ae<_;ae++)for(let j=0;j<m;j++){var G=j+A*ae,Z=j+A*(ae+1),X=j+1+A*(ae+1),te=j+1+A*ae;P.push(G,Z,te),P.push(Z,X,te)}this.setIndex(P),this.setAttribute("position",new Tg(O,3)),this.setAttribute("normal",new Tg(k,3)),this.setAttribute("uv",new Tg(L,2))}static fromJSON(e){return new J0(e.width,e.height,e.widthSegments,e.heightSegments)}}const PI={enabled:!1,files:{},add:function(p,e){this.enabled!==!1&&(this.files[p]=e)},get:function(p){if(this.enabled!==!1)return this.files[p]},remove:function(p){delete this.files[p]},clear:function(){this.files={}}};class B5{constructor(e,r,s){const a=this;let u=!1,f=0,m=0,_;const A=[];this.onStart=void 0,this.onLoad=e,this.onProgress=r,this.onError=s,this.itemStart=function(w){m++,u===!1&&a.onStart!==void 0&&a.onStart(w,f,m),u=!0},this.itemEnd=function(w){f++,a.onProgress!==void 0&&a.onProgress(w,f,m),f===m&&(u=!1,a.onLoad!==void 0)&&a.onLoad()},this.itemError=function(w){a.onError!==void 0&&a.onError(w)},this.resolveURL=function(w){return _?_(w):w},this.setURLModifier=function(w){return _=w,this},this.addHandler=function(w,S){return A.push(w,S),this},this.removeHandler=function(w){return w=A.indexOf(w),w!==-1&&A.splice(w,2),this},this.getHandler=function(w){for(let P=0,O=A.length;P<O;P+=2){var S=A[P],x=A[P+1];if(S.global&&(S.lastIndex=0),S.test(w))return x}return null}}}const D5=new B5;class NI{constructor(e){this.manager=e!==void 0?e:D5,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,r){const s=this;return new Promise(function(a,u){s.load(e,a,r,u)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const fl={};class k5 extends Error{constructor(e,r){super(e),this.response=r}}class L5 extends NI{constructor(e){super(e)}load(e,r,s,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const u=PI.get(e);if(u!==void 0)return this.manager.itemStart(e),setTimeout(()=>{r&&r(u),this.manager.itemEnd(e)},0),u;if(fl[e]!==void 0)fl[e].push({onLoad:r,onProgress:s,onError:a});else{fl[e]=[],fl[e].push({onLoad:r,onProgress:s,onError:a}),s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});const f=this.mimeType,m=this.responseType;fetch(s).then(_=>{if(_.status!==200&&_.status!==0)throw new k5(`fetch for "${_.url}" responded with ${_.status}: `+_.statusText,_);{if(_.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||_.body===void 0||_.body.getReader===void 0)return _;const A=fl[e],w=_.body.getReader();_=_.headers.get("Content-Length")||_.headers.get("X-File-Size");const S=_?parseInt(_):0,x=S!==0;let P=0;return _=new ReadableStream({start(O){(function k(){w.read().then(({done:L,value:U})=>{if(L)O.close();else{P+=U.byteLength;const Q=new ProgressEvent("progress",{lengthComputable:x,loaded:P,total:S});for(let G=0,Z=A.length;G<Z;G++){const X=A[G];X.onProgress&&X.onProgress(Q)}O.enqueue(U),k()}})})()}}),new Response(_)}}).then(_=>{switch(m){case"arraybuffer":return _.arrayBuffer();case"blob":return _.blob();case"document":return _.text().then(w=>new DOMParser().parseFromString(w,f));case"json":return _.json();default:if(f===void 0)return _.text();{var A=/charset="?([^;"\s]*)"?/i.exec(f),A=A&&A[1]?A[1].toLowerCase():void 0;const w=new TextDecoder(A);return _.arrayBuffer().then(S=>w.decode(S))}}}).then(_=>{PI.add(e,_);var A=fl[e];delete fl[e];for(let S=0,x=A.length;S<x;S++){var w=A[S];w.onLoad&&w.onLoad(_)}}).catch(_=>{var A=fl[e];if(A===void 0)throw this.manager.itemError(e),_;delete fl[e];for(let S=0,x=A.length;S<x;S++){var w=A[S];w.onError&&w.onError(_)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:cI}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=cI);for(var no=Uint8Array,au=Uint16Array,BI=Uint32Array,DI=new no([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kI=new no([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),O5=new no([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LI=function(p,e){for(var r=new au(31),s=0;s<31;++s)r[s]=e+=1<<p[s-1];for(var a=new BI(r[30]),s=1;s<30;++s)for(var u=r[s];u<r[s+1];++u)a[u]=u-r[s]<<5|s;return[r,a]},OI=LI(DI,2),FI=OI[0],F5=OI[1],V5=(FI[28]=258,F5[258]=28,LI(kI,0)),G5=V5[0],Z0=new au(32768),vi=0;vi<32768;++vi){var Qd=(52428&(Qd=(43690&vi)>>>1|(21845&vi)<<1))>>>2|(13107&Qd)<<2;Z0[vi]=((65280&(Qd=(61680&Qd)>>>4|(3855&Qd)<<4))>>>8|(255&Qd)<<8)>>>1}for(var Oh=function(e,r,s){for(var a=e.length,u=0,f=new au(r);u<a;++u)e[u]&&++f[e[u]-1];var m=new au(r);for(u=0;u<r;++u)m[u]=m[u-1]+f[u-1]<<1;if(s){for(var _=new au(1<<r),A=15-r,u=0;u<a;++u)if(e[u])for(var w=u<<4|e[u],S=r-e[u],x=m[e[u]-1]++<<S,P=x|(1<<S)-1;x<=P;++x)_[Z0[x]>>>A]=w}else for(_=new au(a),u=0;u<a;++u)e[u]&&(_[u]=Z0[m[e[u]-1]++]>>>15-e[u]);return _},Fh=new no(288),vi=0;vi<144;++vi)Fh[vi]=8;for(vi=144;vi<256;++vi)Fh[vi]=9;for(vi=256;vi<280;++vi)Fh[vi]=7;for(vi=280;vi<288;++vi)Fh[vi]=8;for(var VI=new no(32),vi=0;vi<32;++vi)VI[vi]=5;var U5=Oh(Fh,9,1),z5=Oh(VI,5,1),ey=function(p){for(var e=p[0],r=1;r<p.length;++r)p[r]>e&&(e=p[r]);return e},Zo=function(p,e,r){var s=e/8|0;return(p[s]|p[1+s]<<8)>>(7&e)&r},ty=function(p,e){var r=e/8|0;return(p[r]|p[1+r]<<8|p[2+r]<<16)>>(7&e)},H5=function(p){return(p+7)/8|0},Q5=function(p,e,r){(r==null||r>p.length)&&(r=p.length);var s=new(p.BYTES_PER_ELEMENT==2?au:p.BYTES_PER_ELEMENT==4?BI:no)(r-(e=e==null||e<0?0:e));return s.set(p.subarray(e,r)),s},X5=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],hl=function(p,e,r){if(e=new Error(e||X5[p]),e.code=p,Error.captureStackTrace&&Error.captureStackTrace(e,hl),r)return e;throw e},$5=function(p,e,r){var s=p.length;if(!s||r&&r.f&&!r.l)return e||new no(0);function a(gt){var Qt=e.length;Qt<gt&&((Qt=new no(Math.max(2*Qt,gt))).set(e),e=Qt)}var u=!e||r,f=!r||r.i,m=(r=r||{},e=e||new no(3*s),r.f||0),_=r.p||0,A=r.b||0,w=r.l,S=r.d,x=r.m,P=r.n,O=8*s;do{if(!w){var m=Zo(p,_,1),k=Zo(p,_+1,3);if(_+=3,!k){var L=p[(ge=H5(_)+4)-4]|p[ge-3]<<8,U=ge+L;if(s<U){f&&hl(0);break}u&&a(A+L),e.set(p.subarray(ge,U),A),r.b=A+=L,r.p=_=8*U,r.f=m;continue}if(k==1)w=U5,S=z5,x=9,P=5;else if(k==2){for(var L=Zo(p,_,31)+257,Q=Zo(p,_+10,15)+4,G=L+Zo(p,_+5,31)+1,Z=(_+=14,new no(G)),X=new no(19),te=0;te<Q;++te)X[O5[te]]=Zo(p,_+3*te,7);_+=3*Q;for(var U=ey(X),ae=(1<<U)-1,j=Oh(X,U,1),te=0;te<G;){var ge,we=j[Zo(p,_,ae)];if(_+=15&we,(ge=we>>>4)<16)Z[te++]=ge;else{var Le=0,je=0;for(ge==16?(je=3+Zo(p,_,3),_+=2,Le=Z[te-1]):ge==17?(je=3+Zo(p,_,7),_+=3):ge==18&&(je=11+Zo(p,_,127),_+=7);je--;)Z[te++]=Le}}var k=Z.subarray(0,L),be=Z.subarray(L),x=ey(k),P=ey(be),w=Oh(k,x,1),S=Oh(be,P,1)}else hl(1);if(O<_){f&&hl(0);break}}u&&a(A+131072);for(var Te=(1<<x)-1,Je=(1<<P)-1,it=_;;it=_){var tt=(Le=w[ty(p,_)&Te])>>>4;if(O<(_+=15&Le)){f&&hl(0);break}if(Le||hl(2),tt<256)e[A++]=tt;else{if(tt==256){it=_,w=null;break}var Me,lt=tt-254,tt=(264<tt&&(Me=DI[te=tt-257],lt=Zo(p,_,(1<<Me)-1)+FI[te],_+=Me),S[ty(p,_)&Je]),mt=tt>>>4,be=(tt||hl(3),_+=15&tt,G5[mt]);if(3<mt&&(Me=kI[mt],be+=ty(p,_)&(1<<Me)-1,_+=Me),O<_){f&&hl(0);break}u&&a(A+131072);for(var ft=A+lt;A<ft;A+=4)e[A]=e[A-be],e[A+1]=e[A+1-be],e[A+2]=e[A+2-be],e[A+3]=e[A+3-be];A=ft}}r.l=w,r.p=it,r.b=A,r.f=m,w&&(m=1,r.m=x,r.d=S,r.n=P)}while(!m);return A==e.length?e:Q5(e,0,A)},W5=new no(0),K5=function(p){p[0]==31&&p[1]==139&&p[2]==8||hl(6,"invalid gzip data");var e=p[3],r=10;4&e&&(r+=p[10]|2+(p[11]<<8));for(var s=(e>>3&1)+(e>>4&1);0<s;s-=!p[r++]);return r+(2&e)},j5=function(p){var e=p.length;return(p[e-4]|p[e-3]<<8|p[e-2]<<16|p[e-1]<<24)>>>0};function q5(p,e){return $5(p.subarray(K5(p),-8),e||new no(j5(p)))}var Y5=typeof TextDecoder<"u"&&new TextDecoder,J5=0;try{Y5.decode(W5,{stream:!0}),J5=1}catch{}var Z5=function(){function p(u,r,f){I0(this,p);var a=this,u=(this.volume=u,r=r||0,Object.defineProperty(this,"index",{get:function(){return r},set:function(m){return r=m,a.geometryNeedsUpdate=!0,r}}),this.axis=f||"z",this.canvas=document.createElement("canvas"),this.canvasBuffer=document.createElement("canvas"),this.updateGeometry(),new jl(this.canvas)),f=(u.minFilter=pI,u.wrapS=u.wrapT=Ch,new RI({map:u,side:t5,transparent:!0}));this.mesh=new P5(this.geometry,f),this.mesh.matrixAutoUpdate=!1,this.geometryNeedsUpdate=!0,this.repaint()}return x0(p,[{key:"repaint",value:function(){this.geometryNeedsUpdate&&this.updateGeometry();var e=this.iLength,r=this.jLength,s=this.sliceAccess,a=this.volume,u=this.canvasBuffer,f=this.ctxBuffer,m=f.getImageData(0,0,e,r),_=m.data,A=a.data,w=a.upperThreshold,S=a.lowerThreshold,x=a.windowLow,P=a.windowHigh,O=0;if(a.dataType==="label")for(var k=0;k<r;k++)for(var L=0;L<e;L++){var U=(U=A[s(L,k)])>=this.colorMap.length?U%this.colorMap.length+1:U,U=this.colorMap[U];_[4*O]=U>>24&255,_[4*O+1]=U>>16&255,_[4*O+2]=U>>8&255,_[4*O+3]=255&U,O++}else for(var Q=0;Q<r;Q++)for(var G=0;G<e;G++){var Z=(X=A[s(G,Q)])<=w&&S<=X?255:0,X=Math.floor(255*(X-x)/(P-x));_[4*O]=X=255<X?255:X<0?0:0|X,_[4*O+1]=X,_[4*O+2]=X,_[4*O+3]=Z,O++}f.putImageData(m,0,0),this.ctx.drawImage(u,0,0,e,r,0,0,this.canvas.width,this.canvas.height),this.mesh.material.map.needsUpdate=!0}},{key:"updateGeometry",value:function(){var e=this.volume.extractPerpendicularPlane(this.axis,this.index);this.sliceAccess=e.sliceAccess,this.jLength=e.jLength,this.iLength=e.iLength,this.matrix=e.matrix,this.canvas.width=e.planeWidth,this.canvas.height=e.planeHeight,this.canvasBuffer.width=this.iLength,this.canvasBuffer.height=this.jLength,this.ctx=this.canvas.getContext("2d"),this.ctxBuffer=this.canvasBuffer.getContext("2d"),this.geometry&&this.geometry.dispose(),this.geometry=new J0(e.planeWidth,e.planeHeight),this.mesh&&(this.mesh.geometry=this.geometry,this.mesh.matrix.identity(),this.mesh.applyMatrix4(this.matrix)),this.geometryNeedsUpdate=!1}}]),p}(),eV=function(){function p(e,r,s,a,u){if(I0(this,p),e!==void 0){switch(this.xLength=Number(e)||1,this.yLength=Number(r)||1,this.zLength=Number(s)||1,this.axisOrder=["x","y","z"],a){case"Uint8":case"uint8":case"uchar":case"unsigned char":case"uint8_t":this.data=new Uint8Array(u);break;case"Int8":case"int8":case"signed char":case"int8_t":this.data=new Int8Array(u);break;case"Int16":case"int16":case"short":case"short int":case"signed short":case"signed short int":case"int16_t":this.data=new Int16Array(u);break;case"Uint16":case"uint16":case"ushort":case"unsigned short":case"unsigned short int":case"uint16_t":this.data=new Uint16Array(u);break;case"Int32":case"int32":case"int":case"signed int":case"int32_t":this.data=new Int32Array(u);break;case"Uint32":case"uint32":case"uint":case"unsigned int":case"uint32_t":this.data=new Uint32Array(u);break;case"longlong":case"long long":case"long long int":case"signed long long":case"signed long long int":case"int64":case"int64_t":case"ulonglong":case"unsigned long long":case"unsigned long long int":case"uint64":case"uint64_t":throw new Error("Error in Volume constructor : this type is not supported in JavaScript");case"Float32":case"float32":case"float":this.data=new Float32Array(u);break;case"Float64":case"float64":case"double":this.data=new Float64Array(u);break;default:this.data=new Uint8Array(u)}if(this.data.length!==this.xLength*this.yLength*this.zLength)throw new Error("Error in Volume constructor, lengths are not matching arrayBuffer size")}this.spacing=[1,1,1],this.offset=[0,0,0],this.matrix=new nu,this.matrix.identity();var f=-1/0,m=(Object.defineProperty(this,"lowerThreshold",{get:function(){return f},set:function(_){f=_,this.sliceList.forEach(function(A){A.geometryNeedsUpdate=!0})}}),1/0);Object.defineProperty(this,"upperThreshold",{get:function(){return m},set:function(_){m=_,this.sliceList.forEach(function(A){A.geometryNeedsUpdate=!0})}}),this.sliceList=[]}return x0(p,[{key:"getData",value:function(e,r,s){return this.data[s*this.xLength*this.yLength+r*this.xLength+e]}},{key:"access",value:function(e,r,s){return s*this.xLength*this.yLength+r*this.xLength+e}},{key:"reverseAccess",value:function(e){var r=Math.floor(e/(this.yLength*this.xLength)),s=Math.floor((e-r*this.yLength*this.xLength)/this.xLength);return[e-r*this.yLength*this.xLength-s*this.xLength,s,r]}},{key:"map",value:function(e,r){var s=this.data.length;r=r||this;for(var a=0;a<s;a++)this.data[a]=e.call(r,this.data[a],a,this.data);return this}},{key:"extractPerpendicularPlane",value:function(S,r){var s,a,u,f=new nn,m=new nn,_=new nn,A=new zi().identity(),w=this,x=new nn(this.xLength,this.yLength,this.zLength);switch(S){case"x":f.set(1,0,0),m.set(0,0,-1),_.set(0,-1,0),s=this.spacing[this.axisOrder.indexOf("z")],a=this.spacing[this.axisOrder.indexOf("y")],k=new nn(r,0,0),A.multiply(new zi().makeRotationY(Math.PI/2)),u=(w.RASDimensions[0]-1)/2,A.setPosition(new nn(r-u,0,0));break;case"y":f.set(0,1,0),m.set(1,0,0),_.set(0,0,1),s=this.spacing[this.axisOrder.indexOf("x")],a=this.spacing[this.axisOrder.indexOf("z")],k=new nn(0,r,0),A.multiply(new zi().makeRotationX(-Math.PI/2)),u=(w.RASDimensions[1]-1)/2,A.setPosition(new nn(0,r-u,0));break;default:f.set(0,0,1),m.set(1,0,0),_.set(0,-1,0),s=this.spacing[this.axisOrder.indexOf("x")],a=this.spacing[this.axisOrder.indexOf("y")],k=new nn(0,0,r),u=(w.RASDimensions[2]-1)/2,A.setPosition(new nn(0,0,r-u))}m.applyMatrix4(w.inverseMatrix).normalize(),m.arglet="i",_.applyMatrix4(w.inverseMatrix).normalize(),_.arglet="j",f.applyMatrix4(w.inverseMatrix).normalize();var S=Math.floor(Math.abs(m.dot(x))),x=Math.floor(Math.abs(_.dot(x))),P=Math.abs(S*s),O=Math.abs(x*a),k=Math.abs(Math.round(k.applyMatrix4(w.inverseMatrix).dot(f))),L=[new nn(1,0,0),new nn(0,1,0),new nn(0,0,1)],U=[m,_,f].find(function(Z){return .9<Math.abs(Z.dot(L[0]))}),Q=[m,_,f].find(function(Z){return .9<Math.abs(Z.dot(L[1]))}),G=[m,_,f].find(function(Z){return .9<Math.abs(Z.dot(L[2]))});return{iLength:S,jLength:x,sliceAccess:function(te,ae){var j=U===f?k:U.arglet==="i"?te:ae,ge=Q===f?k:Q.arglet==="i"?te:ae,te=G===f?k:G.arglet==="i"?te:ae,ae=0<U.dot(L[0])?j:w.xLength-1-j,j=0<Q.dot(L[1])?ge:w.yLength-1-ge,ge=0<G.dot(L[2])?te:w.zLength-1-te;return w.access(ae,j,ge)},matrix:A,planeWidth:P,planeHeight:O}}},{key:"extractSlice",value:function(e,r){return r=new Z5(this,r,e),this.sliceList.push(r),r}},{key:"repaintAllSlices",value:function(){return this.sliceList.forEach(function(e){e.repaint()}),this}},{key:"computeMinMax",value:function(){for(var e,r=1/0,s=-1/0,a=this.data.length,u=0,u=0;u<a;u++)isNaN(this.data[u])||(e=this.data[u],r=Math.min(r,e),s=Math.max(s,e));return[this.min=r,this.max=s]}}]),p}(),GI=function(){WF(e,NI);var p=YF(e);function e(r){return I0(this,e),p.call(this,r)}return x0(e,[{key:"load",value:function(r,s,a,u){var f=this,m=new L5(f.manager);m.setPath(f.path),m.setResponseType("arraybuffer"),m.setRequestHeader(f.requestHeader),m.setWithCredentials(f.withCredentials),m.load(r,function(_){try{s(f.parse(_))}catch(A){u?u(A):console.error(A),f.manager.itemError(r)}},a,u)}},{key:"setSegmentation",value:function(r){this.segmentation=r}},{key:"parse",value:function(ae){for(var te=ae,s=0,a=0<new Int8Array(new Int16Array([1]).buffer)[0],u=!0,f={},m=function(Te,Je){Je==null&&(Je=1);var it=1,tt=Uint8Array;switch(Te){case"uchar":break;case"schar":tt=Int8Array;break;case"ushort":tt=Uint16Array,it=2;break;case"sshort":tt=Int16Array,it=2;break;case"uint":tt=Uint32Array,it=4;break;case"sint":tt=Int32Array,it=4;break;case"float":tt=Float32Array,it=4;break;case"complex":case"double":tt=Float64Array,it=8}return Te=new tt(te.slice(s,s+=Je*it)),a!=u&&(Te=function(Me,lt){for(var mt=new Uint8Array(Me.buffer,Me.byteOffset,Me.byteLength),ft=0;ft<Me.byteLength;ft+=lt)for(var gt=ft+lt-1,Qt=ft;Qt<gt;gt--,Qt++){var c=mt[Qt];mt[Qt]=mt[gt],mt[gt]=c}return Me}(Te,it)),Je==1?Te[0]:Te}("uchar",ae.byteLength),_=m.length,A=null,w=0,S=1;S<_;S++)if(m[S-1]==10&&m[S]==10){A=this.parseChars(m,0,S-2),w=S+1;break}for(var x,P,O,k,L=A.split(/\r?\n/),U=0,Q=L.length;U<Q;U++)(k=L[U]).match(/NRRD\d+/)?f.isNrrd=!0:!k.match(/^#/)&&(k=k.match(/(.*):(.*)/))&&(x=k[1].trim(),k=k[2].trim(),(P=tV[x])?P.call(f,k):f[x]=k);if(!f.isNrrd)throw new Error("Not an NRRD file");if(f.encoding==="bz2"||f.encoding==="bzip2")throw new Error("Bzip is not supported");if(!f.vectors&&(f.vectors=[],f.vectors.push([1,0,0]),f.vectors.push([0,1,0]),f.vectors.push([0,0,1]),f.spacings)){for(O=0;O<=2;O++)if(!isNaN(f.spacings[O]))for(var G=0;G<=2;G++)f.vectors[O][G]*=f.spacings[O]}if(te=m.subarray(w),f.encoding.substring(0,2)==="gz")te=q5(new Uint8Array(te));else if(f.encoding==="ascii"||f.encoding==="text"||f.encoding==="txt"||f.encoding==="hex")te=function(Te,Je,it){var tt,Me="",lt=(Je=Je||0,it=it||Te.length,f.sizes.reduce(function(pn,at){return pn*at},1)),mt=10,ft=(f.encoding==="hex"&&(mt=16),new f.__array(lt)),gt=0,Qt=parseInt;f.__array!==Float32Array&&f.__array!==Float64Array||(Qt=parseFloat);for(var c=Je;c<it;c++)((tt=Te[c])<9||13<tt)&&tt!==32?Me+=String.fromCharCode(tt):(Me!==""&&(ft[gt]=Qt(Me,mt),gt++),Me="");return Me!==""&&(ft[gt]=Qt(Me,mt),gt++),ft}(te);else if(f.encoding==="raw"){for(var Z=new Uint8Array(te.length),X=0;X<te.length;X++)Z[X]=te[X];te=Z}var te=te.buffer,ae=new eV,ge=(ae.header=f,ae.data=new f.__array(te),ae.computeMinMax()),j=ge[0],ge=ge[1],we=(ae.windowLow=j,ae.windowHigh=ge,ae.dimensions=[f.sizes[0],f.sizes[1],f.sizes[2]],ae.xLength=ae.dimensions[0],ae.yLength=ae.dimensions[1],ae.zLength=ae.dimensions[2],f.vectors?(we=f.vectors.findIndex(function(Te){return Te[0]!==0}),Le=f.vectors.findIndex(function(Te){return Te[1]!==0}),je=f.vectors.findIndex(function(Te){return Te[2]!==0}),be=[],we!==Le&&we!==je&&Le!==je?(be[we]="x",be[Le]="y",be[je]="z"):be=["x","y","z"],ae.axisOrder=be):ae.axisOrder=["x","y","z"],new nn().fromArray(f.vectors[0]).length()),Le=new nn().fromArray(f.vectors[1]).length(),je=new nn().fromArray(f.vectors[2]).length(),be=(ae.spacing=[we,Le,je],ae.matrix=new zi,new zi);return f.space==="left-posterior-superior"?be.set(-1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1):f.space==="left-anterior-superior"&&be.set(1,0,0,0,0,1,0,0,0,0,-1,0,0,0,0,1),!f.vectors||this.segmentation?(console.log("set segmentation mode"),ae.matrix.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)):(we=f.vectors,Le=new zi().set(we[0][0],we[1][0],we[2][0],0,we[0][1],we[1][1],we[2][1],0,we[0][2],we[1][2],we[2][2],0,0,0,0,1),je=new zi().multiplyMatrices(Le,be),ae.matrix=je),ae.inverseMatrix=new zi,ae.inverseMatrix.copy(ae.matrix).invert(),ae.RASDimensions=new nn(ae.xLength,ae.yLength,ae.zLength).applyMatrix4(ae.matrix).round().toArray().map(Math.abs),ae.lowerThreshold===-1/0&&(ae.lowerThreshold=j),ae.upperThreshold===1/0&&(ae.upperThreshold=ge),ae}},{key:"parseChars",value:function(r,s,a){a===void 0&&(a=r.length);for(var u="",f=0,f=s=s===void 0?0:s;f<a;++f)u+=String.fromCharCode(r[f]);return u}}]),e}(),tV={type:function(p){switch(p){case"uchar":case"unsigned char":case"uint8":case"uint8_t":this.__array=Uint8Array;break;case"signed char":case"int8":case"int8_t":this.__array=Int8Array;break;case"short":case"short int":case"signed short":case"signed short int":case"int16":case"int16_t":this.__array=Int16Array;break;case"ushort":case"unsigned short":case"unsigned short int":case"uint16":case"uint16_t":this.__array=Uint16Array;break;case"int":case"signed int":case"int32":case"int32_t":this.__array=Int32Array;break;case"uint":case"unsigned int":case"uint32":case"uint32_t":this.__array=Uint32Array;break;case"float":this.__array=Float32Array;break;case"double":this.__array=Float64Array;break;default:throw new Error("Unsupported NRRD data type: "+p)}return this.type=p},endian:function(p){return this.endian=p},encoding:function(p){return this.encoding=p},dimension:function(p){return this.dim=parseInt(p,10)},sizes:function(p){var e;return this.sizes=function(){for(var r=p.split(/\s+/),s=[],a=0,u=r.length;a<u;a++)e=r[a],s.push(parseInt(e,10));return s}()},space:function(p){return this.space=p},"space origin":function(p){return this.space_origin=p.split("(")[1].split(")")[0].split(",")},"space directions":function(p){var e,r,s=p.match(/\(.*?\)/g);return this.vectors=function(){for(var a=[],u=0,f=s.length;u<f;u++)r=s[u],a.push(function(){for(var m=r.slice(1,-1).split(/,/),_=[],A=0,w=m.length;A<w;A++)e=m[A],_.push(parseFloat(e));return _}());return a}()},spacings:function(p){var e,r=p.split(/\s+/);return this.spacings=function(){for(var s=[],a=0,u=r.length;a<u;a++)e=r[a],s.push(parseFloat(e));return s}()}};const nV={uniforms:{u_size:{value:new ut(1,1,1)},u_renderstyle:{value:0},u_renderthreshold:{value:.5},u_clim:{value:new Gn(1,1)},u_data:{value:null},u_cmdata:{value:null}},vertexShader:`

		varying vec4 v_nearpos;
		varying vec4 v_farpos;
		varying vec3 v_position;

		void main() {
				// Prepare transforms to map to "camera view". See also:
				// https://threejs.org/docs/#api/renderers/webgl/WebGLProgram
				mat4 viewtransformf = modelViewMatrix;
				mat4 viewtransformi = inverse(modelViewMatrix);

				// Project local vertex coordinate to camera position. Then do a step
				// backward (in cam coords) to the near clipping plane, and project back. Do
				// the same for the far clipping plane. This gives us all the information we
				// need to calculate the ray and truncate it to the viewing cone.
				vec4 position4 = vec4(position, 1.0);
				vec4 pos_in_cam = viewtransformf * position4;

				// Intersection of ray and near clipping plane (z = -1 in clip coords)
				pos_in_cam.z = -pos_in_cam.w;
				v_nearpos = viewtransformi * pos_in_cam;

				// Intersection of ray and far clipping plane (z = +1 in clip coords)
				pos_in_cam.z = pos_in_cam.w;
				v_farpos = viewtransformi * pos_in_cam;

				// Set varyings and output pos
				v_position = position;
				gl_Position = projectionMatrix * viewMatrix * modelMatrix * position4;
		}`,fragmentShader:`

				precision highp float;
				precision mediump sampler3D;

				uniform vec3 u_size;
				uniform int u_renderstyle;
				uniform float u_renderthreshold;
				uniform vec2 u_clim;

				uniform sampler3D u_data;
				uniform sampler2D u_cmdata;

				varying vec3 v_position;
				varying vec4 v_nearpos;
				varying vec4 v_farpos;

				// The maximum distance through our rendering volume is sqrt(3).
				const int MAX_STEPS = 887;	// 887 for 512^3, 1774 for 1024^3
				const int REFINEMENT_STEPS = 4;
				const float relative_step_size = 1.0;
				const vec4 ambient_color = vec4(0.2, 0.4, 0.2, 1.0);
				const vec4 diffuse_color = vec4(0.8, 0.2, 0.2, 1.0);
				const vec4 specular_color = vec4(1.0, 1.0, 1.0, 1.0);
				const float shininess = 40.0;

				void cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);
				void cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);

				float sample1(vec3 texcoords);
				vec4 apply_colormap(float val);
				vec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray);


				void main() {
						// Normalize clipping plane info
						vec3 farpos = v_farpos.xyz / v_farpos.w;
						vec3 nearpos = v_nearpos.xyz / v_nearpos.w;

						// Calculate unit vector pointing in the view direction through this fragment.
						vec3 view_ray = normalize(nearpos.xyz - farpos.xyz);

						// Compute the (negative) distance to the front surface or near clipping plane.
						// v_position is the back face of the cuboid, so the initial distance calculated in the dot
						// product below is the distance from near clip plane to the back of the cuboid
						float distance = dot(nearpos - v_position, view_ray);
						distance = max(distance, min((-0.5 - v_position.x) / view_ray.x,
																				(u_size.x - 0.5 - v_position.x) / view_ray.x));
						distance = max(distance, min((-0.5 - v_position.y) / view_ray.y,
																				(u_size.y - 0.5 - v_position.y) / view_ray.y));
						distance = max(distance, min((-0.5 - v_position.z) / view_ray.z,
																				(u_size.z - 0.5 - v_position.z) / view_ray.z));

						// Now we have the starting position on the front surface
						vec3 front = v_position + view_ray * distance;

						// Decide how many steps to take
						int nsteps = int(-distance / relative_step_size + 0.5);
						if ( nsteps < 1 )
								discard;

						// Get starting location and step vector in texture coordinates
						vec3 step = ((v_position - front) / u_size) / float(nsteps);
						vec3 start_loc = front / u_size;

						// For testing: show the number of steps. This helps to establish
						// whether the rays are correctly oriented
						//'gl_FragColor = vec4(0.0, float(nsteps) / 1.0 / u_size.x, 1.0, 1.0);
						//'return;

						if (u_renderstyle == 0)
								cast_mip(start_loc, step, nsteps, view_ray);
						else if (u_renderstyle == 1)
								cast_iso(start_loc, step, nsteps, view_ray);

						if (gl_FragColor.a < 0.05)
								discard;
				}


				float sample1(vec3 texcoords) {
						/* Sample float value from a 3D texture. Assumes intensity data. */
						return texture(u_data, texcoords.xyz).r;
				}


				vec4 apply_colormap(float val) {
						val = (val - u_clim[0]) / (u_clim[1] - u_clim[0]);
						return texture2D(u_cmdata, vec2(val, 0.5));
				}


				void cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {

						float max_val = -1e6;
						int max_i = 100;
						vec3 loc = start_loc;

						// Enter the raycasting loop. In WebGL 1 the loop index cannot be compared with
						// non-constant expression. So we use a hard-coded max, and an additional condition
						// inside the loop.
						for (int iter=0; iter<MAX_STEPS; iter++) {
								if (iter >= nsteps)
										break;
								// Sample from the 3D texture
								float val = sample1(loc);
								// Apply MIP operation
								if (val > max_val) {
										max_val = val;
										max_i = iter;
								}
								// Advance location deeper into the volume
								loc += step;
						}

						// Refine location, gives crispier images
						vec3 iloc = start_loc + step * (float(max_i) - 0.5);
						vec3 istep = step / float(REFINEMENT_STEPS);
						for (int i=0; i<REFINEMENT_STEPS; i++) {
								max_val = max(max_val, sample1(iloc));
								iloc += istep;
						}

						// Resolve final color
						gl_FragColor = apply_colormap(max_val);
				}


				void cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {

						gl_FragColor = vec4(0.0);	// init transparent
						vec4 color3 = vec4(0.0);	// final color
						vec3 dstep = 1.5 / u_size;	// step to sample derivative
						vec3 loc = start_loc;

						float low_threshold = u_renderthreshold - 0.02 * (u_clim[1] - u_clim[0]);

						// Enter the raycasting loop. In WebGL 1 the loop index cannot be compared with
						// non-constant expression. So we use a hard-coded max, and an additional condition
						// inside the loop.
						for (int iter=0; iter<MAX_STEPS; iter++) {
								if (iter >= nsteps)
										break;

								// Sample from the 3D texture
								float val = sample1(loc);

								if (val > low_threshold) {
										// Take the last interval in smaller steps
										vec3 iloc = loc - 0.5 * step;
										vec3 istep = step / float(REFINEMENT_STEPS);
										for (int i=0; i<REFINEMENT_STEPS; i++) {
												val = sample1(iloc);
												if (val > u_renderthreshold) {
														gl_FragColor = add_lighting(val, iloc, dstep, view_ray);
														return;
												}
												iloc += istep;
										}
								}

								// Advance location deeper into the volume
								loc += step;
						}
				}


				vec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray)
				{
					// Calculate color by incorporating lighting

						// View direction
						vec3 V = normalize(view_ray);

						// calculate normal vector from gradient
						vec3 N;
						float val1, val2;
						val1 = sample1(loc + vec3(-step[0], 0.0, 0.0));
						val2 = sample1(loc + vec3(+step[0], 0.0, 0.0));
						N[0] = val1 - val2;
						val = max(max(val1, val2), val);
						val1 = sample1(loc + vec3(0.0, -step[1], 0.0));
						val2 = sample1(loc + vec3(0.0, +step[1], 0.0));
						N[1] = val1 - val2;
						val = max(max(val1, val2), val);
						val1 = sample1(loc + vec3(0.0, 0.0, -step[2]));
						val2 = sample1(loc + vec3(0.0, 0.0, +step[2]));
						N[2] = val1 - val2;
						val = max(max(val1, val2), val);

						float gm = length(N); // gradient magnitude
						N = normalize(N);

						// Flip normal so it points towards viewer
						float Nselect = float(dot(N, V) > 0.0);
						N = (2.0 * Nselect - 1.0) * N;	// ==	Nselect * N - (1.0-Nselect)*N;

						// Init colors
						vec4 ambient_color = vec4(0.0, 0.0, 0.0, 0.0);
						vec4 diffuse_color = vec4(0.0, 0.0, 0.0, 0.0);
						vec4 specular_color = vec4(0.0, 0.0, 0.0, 0.0);

						// note: could allow multiple lights
						for (int i=0; i<1; i++)
						{
								 // Get light direction (make sure to prevent zero devision)
								vec3 L = normalize(view_ray);	//lightDirs[i];
								float lightEnabled = float( length(L) > 0.0 );
								L = normalize(L + (1.0 - lightEnabled));

								// Calculate lighting properties
								float lambertTerm = clamp(dot(N, L), 0.0, 1.0);
								vec3 H = normalize(L+V); // Halfway vector
								float specularTerm = pow(max(dot(H, N), 0.0), shininess);

								// Calculate mask
								float mask1 = lightEnabled;

								// Calculate colors
								ambient_color +=	mask1 * ambient_color;	// * gl_LightSource[i].ambient;
								diffuse_color +=	mask1 * lambertTerm;
								specular_color += mask1 * specularTerm * specular_color;
						}

						// Calculate final color by componing different components
						vec4 final_color;
						vec4 color = apply_colormap(val);
						final_color = color * (ambient_color + diffuse_color) + specular_color;
						final_color.a = color.a;
						return final_color;
				}`};var rV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAABCAIAAAC+O+cgAAAAEklEQVR42mNkYGBgHAWjYKQCAH7BAv8WAlmwAAAAAElFTkSuQmCC",iV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAABCAIAAAC+O+cgAAAAtUlEQVR42n2Q0W3FMAzEyNNqHaH7j2L1w3ZenDwUMAwedXKA+MMvSqJiiBoiCWqWxKBEXaMZ8Sqs0zcmIv1p2nKwEvpLZMYOe3R4wku+TO7es/O8H+vHlH/KR9zQT8+z8F4531kRe379MIK4oD3v/SP7iplyHTKB5WNPs4AFH3kzO446Y+y6wA4TxqfMXBmzVrtwREY5ZrMY069dxr28Yb+wVjp02QWhSwKFJcHCaGGwTLBIzB9eyYkORwhbNAAAAABJRU5ErkJggg==";function sV(p){if(!!p&&!(typeof window>"u")){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=p,document.head.appendChild(e),p}}function Xd(p,e){var r=p.__state.conversionName.toString(),s=Math.round(p.r),a=Math.round(p.g),u=Math.round(p.b),f=p.a,m=Math.round(p.h),_=p.s.toFixed(1),A=p.v.toFixed(1);if(e||r==="THREE_CHAR_HEX"||r==="SIX_CHAR_HEX"){for(var w=p.hex.toString(16);w.length<6;)w="0"+w;return"#"+w}else{if(r==="CSS_RGB")return"rgb("+s+","+a+","+u+")";if(r==="CSS_RGBA")return"rgba("+s+","+a+","+u+","+f+")";if(r==="HEX")return"0x"+p.hex.toString(16);if(r==="RGB_ARRAY")return"["+s+","+a+","+u+"]";if(r==="RGBA_ARRAY")return"["+s+","+a+","+u+","+f+"]";if(r==="RGB_OBJ")return"{r:"+s+",g:"+a+",b:"+u+"}";if(r==="RGBA_OBJ")return"{r:"+s+",g:"+a+",b:"+u+",a:"+f+"}";if(r==="HSV_OBJ")return"{h:"+m+",s:"+_+",v:"+A+"}";if(r==="HSVA_OBJ")return"{h:"+m+",s:"+_+",v:"+A+",a:"+f+"}"}return"unknown format"}var UI=Array.prototype.forEach,Vh=Array.prototype.slice,ln={BREAK:{},extend:function(e){return this.each(Vh.call(arguments,1),function(r){var s=this.isObject(r)?Object.keys(r):[];s.forEach(function(a){this.isUndefined(r[a])||(e[a]=r[a])}.bind(this))},this),e},defaults:function(e){return this.each(Vh.call(arguments,1),function(r){var s=this.isObject(r)?Object.keys(r):[];s.forEach(function(a){this.isUndefined(e[a])&&(e[a]=r[a])}.bind(this))},this),e},compose:function(){var e=Vh.call(arguments);return function(){for(var r=Vh.call(arguments),s=e.length-1;s>=0;s--)r=[e[s].apply(this,r)];return r[0]}},each:function(e,r,s){if(!!e){if(UI&&e.forEach&&e.forEach===UI)e.forEach(r,s);else if(e.length===e.length+0){var a=void 0,u=void 0;for(a=0,u=e.length;a<u;a++)if(a in e&&r.call(s,e[a],a)===this.BREAK)return}else for(var f in e)if(r.call(s,e[f],f)===this.BREAK)return}},defer:function(e){setTimeout(e,0)},debounce:function(e,r,s){var a=void 0;return function(){var u=this,f=arguments;function m(){a=null,s||e.apply(u,f)}var _=s||!a;clearTimeout(a),a=setTimeout(m,r),_&&e.apply(u,f)}},toArray:function(e){return e.toArray?e.toArray():Vh.call(e)},isUndefined:function(e){return e===void 0},isNull:function(e){return e===null},isNaN:function(p){function e(r){return p.apply(this,arguments)}return e.toString=function(){return p.toString()},e}(function(p){return isNaN(p)}),isArray:Array.isArray||function(p){return p.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return e instanceof Function}},oV=[{litmus:ln.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var r=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return r===null?!1:{space:"HEX",hex:parseInt("0x"+r[1].toString()+r[1].toString()+r[2].toString()+r[2].toString()+r[3].toString()+r[3].toString(),0)}},write:Xd},SIX_CHAR_HEX:{read:function(e){var r=e.match(/^#([A-F0-9]{6})$/i);return r===null?!1:{space:"HEX",hex:parseInt("0x"+r[1].toString(),0)}},write:Xd},CSS_RGB:{read:function(e){var r=e.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return r===null?!1:{space:"RGB",r:parseFloat(r[1]),g:parseFloat(r[2]),b:parseFloat(r[3])}},write:Xd},CSS_RGBA:{read:function(e){var r=e.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return r===null?!1:{space:"RGB",r:parseFloat(r[1]),g:parseFloat(r[2]),b:parseFloat(r[3]),a:parseFloat(r[4])}},write:Xd}}},{litmus:ln.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:ln.isArray,conversions:{RGB_ARRAY:{read:function(e){return e.length!==3?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return e.length!==4?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:ln.isObject,conversions:{RGBA_OBJ:{read:function(e){return ln.isNumber(e.r)&&ln.isNumber(e.g)&&ln.isNumber(e.b)&&ln.isNumber(e.a)?{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return ln.isNumber(e.r)&&ln.isNumber(e.g)&&ln.isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return ln.isNumber(e.h)&&ln.isNumber(e.s)&&ln.isNumber(e.v)&&ln.isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return ln.isNumber(e.h)&&ln.isNumber(e.s)&&ln.isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],Gh=void 0,Fg=void 0,ny=function(){Fg=!1;var e=arguments.length>1?ln.toArray(arguments):arguments[0];return ln.each(oV,function(r){if(r.litmus(e))return ln.each(r.conversions,function(s,a){if(Gh=s.read(e),Fg===!1&&Gh!==!1)return Fg=Gh,Gh.conversionName=a,Gh.conversion=s,ln.BREAK}),ln.BREAK}),Fg},zI=void 0,Vg={hsv_to_rgb:function(e,r,s){var a=Math.floor(e/60)%6,u=e/60-Math.floor(e/60),f=s*(1-r),m=s*(1-u*r),_=s*(1-(1-u)*r),A=[[s,_,f],[m,s,f],[f,s,_],[f,m,s],[_,f,s],[s,f,m]][a];return{r:A[0]*255,g:A[1]*255,b:A[2]*255}},rgb_to_hsv:function(e,r,s){var a=Math.min(e,r,s),u=Math.max(e,r,s),f=u-a,m=void 0,_=void 0;if(u!==0)_=f/u;else return{h:NaN,s:0,v:0};return e===u?m=(r-s)/f:r===u?m=2+(s-e)/f:m=4+(e-r)/f,m/=6,m<0&&(m+=1),{h:m*360,s:_,v:u/255}},rgb_to_hex:function(e,r,s){var a=this.hex_with_component(0,2,e);return a=this.hex_with_component(a,1,r),a=this.hex_with_component(a,0,s),a},component_from_hex:function(e,r){return e>>r*8&255},hex_with_component:function(e,r,s){return s<<(zI=r*8)|e&~(255<<zI)}},aV=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},ea=function(p,e){if(!(p instanceof e))throw new TypeError("Cannot call a class as a function")},ta=function(){function p(e,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,r,s){return r&&p(e.prototype,r),s&&p(e,s),e}}(),ec=function p(e,r,s){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,r);if(a===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:p(u,r,s)}else{if("value"in a)return a.value;var f=a.get;return f===void 0?void 0:f.call(s)}},tc=function(p,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);p.prototype=Object.create(e&&e.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(p,e):p.__proto__=e)},nc=function(p,e){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:p},qi=function(){function p(){if(ea(this,p),this.__state=ny.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return ta(p,[{key:"toString",value:function(){return Xd(this)}},{key:"toHexString",value:function(){return Xd(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),p}();function ry(p,e,r){Object.defineProperty(p,e,{get:function(){return this.__state.space==="RGB"?this.__state[e]:(qi.recalculateRGB(this,e,r),this.__state[e])},set:function(a){this.__state.space!=="RGB"&&(qi.recalculateRGB(this,e,r),this.__state.space="RGB"),this.__state[e]=a}})}function iy(p,e){Object.defineProperty(p,e,{get:function(){return this.__state.space==="HSV"?this.__state[e]:(qi.recalculateHSV(this),this.__state[e])},set:function(s){this.__state.space!=="HSV"&&(qi.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=s}})}qi.recalculateRGB=function(p,e,r){if(p.__state.space==="HEX")p.__state[e]=Vg.component_from_hex(p.__state.hex,r);else if(p.__state.space==="HSV")ln.extend(p.__state,Vg.hsv_to_rgb(p.__state.h,p.__state.s,p.__state.v));else throw new Error("Corrupted color state")},qi.recalculateHSV=function(p){var e=Vg.rgb_to_hsv(p.r,p.g,p.b);ln.extend(p.__state,{s:e.s,v:e.v}),ln.isNaN(e.h)?ln.isUndefined(p.__state.h)&&(p.__state.h=0):p.__state.h=e.h},qi.COMPONENTS=["r","g","b","h","s","v","hex","a"],ry(qi.prototype,"r",2),ry(qi.prototype,"g",1),ry(qi.prototype,"b",0),iy(qi.prototype,"h"),iy(qi.prototype,"s"),iy(qi.prototype,"v"),Object.defineProperty(qi.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(qi.prototype,"hex",{get:function(){return this.__state.space!=="HEX"&&(this.__state.hex=Vg.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var lu=function(){function p(e,r){ea(this,p),this.initialValue=e[r],this.domElement=document.createElement("div"),this.object=e,this.property=r,this.__onChange=void 0,this.__onFinishChange=void 0}return ta(p,[{key:"onChange",value:function(r){return this.__onChange=r,this}},{key:"onFinishChange",value:function(r){return this.__onFinishChange=r,this}},{key:"setValue",value:function(r){return this.object[this.property]=r,this.__onChange&&this.__onChange.call(this,r),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),p}(),lV={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},HI={};ln.each(lV,function(p,e){ln.each(p,function(r){HI[r]=e})});var cV=/(\d+(\.\d+)?)px/;function Pa(p){if(p==="0"||ln.isUndefined(p))return 0;var e=p.match(cV);return ln.isNull(e)?0:parseFloat(e[1])}var Ut={makeSelectable:function(e,r){e===void 0||e.style===void 0||(e.onselectstart=r?function(){return!1}:function(){},e.style.MozUserSelect=r?"auto":"none",e.style.KhtmlUserSelect=r?"auto":"none",e.unselectable=r?"on":"off")},makeFullscreen:function(e,r,s){var a=s,u=r;ln.isUndefined(u)&&(u=!0),ln.isUndefined(a)&&(a=!0),e.style.position="absolute",u&&(e.style.left=0,e.style.right=0),a&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,r,s,a){var u=s||{},f=HI[r];if(!f)throw new Error("Event type "+r+" not supported.");var m=document.createEvent(f);switch(f){case"MouseEvents":{var _=u.x||u.clientX||0,A=u.y||u.clientY||0;m.initMouseEvent(r,u.bubbles||!1,u.cancelable||!0,window,u.clickCount||1,0,0,_,A,!1,!1,!1,!1,0,null);break}case"KeyboardEvents":{var w=m.initKeyboardEvent||m.initKeyEvent;ln.defaults(u,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),w(r,u.bubbles||!1,u.cancelable,window,u.ctrlKey,u.altKey,u.shiftKey,u.metaKey,u.keyCode,u.charCode);break}default:{m.initEvent(r,u.bubbles||!1,u.cancelable||!0);break}}ln.defaults(m,a),e.dispatchEvent(m)},bind:function(e,r,s,a){var u=a||!1;return e.addEventListener?e.addEventListener(r,s,u):e.attachEvent&&e.attachEvent("on"+r,s),Ut},unbind:function(e,r,s,a){var u=a||!1;return e.removeEventListener?e.removeEventListener(r,s,u):e.detachEvent&&e.detachEvent("on"+r,s),Ut},addClass:function(e,r){if(e.className===void 0)e.className=r;else if(e.className!==r){var s=e.className.split(/ +/);s.indexOf(r)===-1&&(s.push(r),e.className=s.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return Ut},removeClass:function(e,r){if(r)if(e.className===r)e.removeAttribute("class");else{var s=e.className.split(/ +/),a=s.indexOf(r);a!==-1&&(s.splice(a,1),e.className=s.join(" "))}else e.className=void 0;return Ut},hasClass:function(e,r){return new RegExp("(?:^|\\s+)"+r+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var r=getComputedStyle(e);return Pa(r["border-left-width"])+Pa(r["border-right-width"])+Pa(r["padding-left"])+Pa(r["padding-right"])+Pa(r.width)},getHeight:function(e){var r=getComputedStyle(e);return Pa(r["border-top-width"])+Pa(r["border-bottom-width"])+Pa(r["padding-top"])+Pa(r["padding-bottom"])+Pa(r.height)},getOffset:function(e){var r=e,s={left:0,top:0};if(r.offsetParent)do s.left+=r.offsetLeft,s.top+=r.offsetTop,r=r.offsetParent;while(r);return s},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},QI=function(p){tc(e,p);function e(r,s){ea(this,e);var a=nc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,s)),u=a;a.__prev=a.getValue(),a.__checkbox=document.createElement("input"),a.__checkbox.setAttribute("type","checkbox");function f(){u.setValue(!u.__prev)}return Ut.bind(a.__checkbox,"change",f,!1),a.domElement.appendChild(a.__checkbox),a.updateDisplay(),a}return ta(e,[{key:"setValue",value:function(s){var a=ec(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,s);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),a}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),ec(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(lu),uV=function(p){tc(e,p);function e(r,s,a){ea(this,e);var u=nc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,s)),f=a,m=u;if(u.__select=document.createElement("select"),ln.isArray(f)){var _={};ln.each(f,function(A){_[A]=A}),f=_}return ln.each(f,function(A,w){var S=document.createElement("option");S.innerHTML=w,S.setAttribute("value",A),m.__select.appendChild(S)}),u.updateDisplay(),Ut.bind(u.__select,"change",function(){var A=this.options[this.selectedIndex].value;m.setValue(A)}),u.domElement.appendChild(u.__select),u}return ta(e,[{key:"setValue",value:function(s){var a=ec(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,s);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),a}},{key:"updateDisplay",value:function(){return Ut.isActive(this.__select)?this:(this.__select.value=this.getValue(),ec(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(lu),dV=function(p){tc(e,p);function e(r,s){ea(this,e);var a=nc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,s)),u=a;function f(){u.setValue(u.__input.value)}function m(){u.__onFinishChange&&u.__onFinishChange.call(u,u.getValue())}return a.__input=document.createElement("input"),a.__input.setAttribute("type","text"),Ut.bind(a.__input,"keyup",f),Ut.bind(a.__input,"change",f),Ut.bind(a.__input,"blur",m),Ut.bind(a.__input,"keydown",function(_){_.keyCode===13&&this.blur()}),a.updateDisplay(),a.domElement.appendChild(a.__input),a}return ta(e,[{key:"updateDisplay",value:function(){return Ut.isActive(this.__input)||(this.__input.value=this.getValue()),ec(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(lu);function XI(p){var e=p.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var $I=function(p){tc(e,p);function e(r,s,a){ea(this,e);var u=nc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,s)),f=a||{};return u.__min=f.min,u.__max=f.max,u.__step=f.step,ln.isUndefined(u.__step)?u.initialValue===0?u.__impliedStep=1:u.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(u.initialValue))/Math.LN10))/10:u.__impliedStep=u.__step,u.__precision=XI(u.__impliedStep),u}return ta(e,[{key:"setValue",value:function(s){var a=s;return this.__min!==void 0&&a<this.__min?a=this.__min:this.__max!==void 0&&a>this.__max&&(a=this.__max),this.__step!==void 0&&a%this.__step!==0&&(a=Math.round(a/this.__step)*this.__step),ec(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,a)}},{key:"min",value:function(s){return this.__min=s,this}},{key:"max",value:function(s){return this.__max=s,this}},{key:"step",value:function(s){return this.__step=s,this.__impliedStep=s,this.__precision=XI(s),this}}]),e}(lu);function fV(p,e){var r=Math.pow(10,e);return Math.round(p*r)/r}var Gg=function(p){tc(e,p);function e(r,s,a){ea(this,e);var u=nc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,s,a));u.__truncationSuspended=!1;var f=u,m=void 0;function _(){var O=parseFloat(f.__input.value);ln.isNaN(O)||f.setValue(O)}function A(){f.__onFinishChange&&f.__onFinishChange.call(f,f.getValue())}function w(){A()}function S(O){var k=m-O.clientY;f.setValue(f.getValue()+k*f.__impliedStep),m=O.clientY}function x(){Ut.unbind(window,"mousemove",S),Ut.unbind(window,"mouseup",x),A()}function P(O){Ut.bind(window,"mousemove",S),Ut.bind(window,"mouseup",x),m=O.clientY}return u.__input=document.createElement("input"),u.__input.setAttribute("type","text"),Ut.bind(u.__input,"change",_),Ut.bind(u.__input,"blur",w),Ut.bind(u.__input,"mousedown",P),Ut.bind(u.__input,"keydown",function(O){O.keyCode===13&&(f.__truncationSuspended=!0,this.blur(),f.__truncationSuspended=!1,A())}),u.updateDisplay(),u.domElement.appendChild(u.__input),u}return ta(e,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():fV(this.getValue(),this.__precision),ec(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}($I);function WI(p,e,r,s,a){return s+(a-s)*((p-e)/(r-e))}var sy=function(p){tc(e,p);function e(r,s,a,u,f){ea(this,e);var m=nc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,s,{min:a,max:u,step:f})),_=m;m.__background=document.createElement("div"),m.__foreground=document.createElement("div"),Ut.bind(m.__background,"mousedown",A),Ut.bind(m.__background,"touchstart",x),Ut.addClass(m.__background,"slider"),Ut.addClass(m.__foreground,"slider-fg");function A(k){document.activeElement.blur(),Ut.bind(window,"mousemove",w),Ut.bind(window,"mouseup",S),w(k)}function w(k){k.preventDefault();var L=_.__background.getBoundingClientRect();return _.setValue(WI(k.clientX,L.left,L.right,_.__min,_.__max)),!1}function S(){Ut.unbind(window,"mousemove",w),Ut.unbind(window,"mouseup",S),_.__onFinishChange&&_.__onFinishChange.call(_,_.getValue())}function x(k){k.touches.length===1&&(Ut.bind(window,"touchmove",P),Ut.bind(window,"touchend",O),P(k))}function P(k){var L=k.touches[0].clientX,U=_.__background.getBoundingClientRect();_.setValue(WI(L,U.left,U.right,_.__min,_.__max))}function O(){Ut.unbind(window,"touchmove",P),Ut.unbind(window,"touchend",O),_.__onFinishChange&&_.__onFinishChange.call(_,_.getValue())}return m.updateDisplay(),m.__background.appendChild(m.__foreground),m.domElement.appendChild(m.__background),m}return ta(e,[{key:"updateDisplay",value:function(){var s=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=s*100+"%",ec(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}($I),KI=function(p){tc(e,p);function e(r,s,a){ea(this,e);var u=nc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,s)),f=u;return u.__button=document.createElement("div"),u.__button.innerHTML=a===void 0?"Fire":a,Ut.bind(u.__button,"click",function(m){return m.preventDefault(),f.fire(),!1}),Ut.addClass(u.__button,"button"),u.domElement.appendChild(u.__button),u}return ta(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(lu),oy=function(p){tc(e,p);function e(r,s){ea(this,e);var a=nc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,s));a.__color=new qi(a.getValue()),a.__temp=new qi(0);var u=a;a.domElement=document.createElement("div"),Ut.makeSelectable(a.domElement,!1),a.__selector=document.createElement("div"),a.__selector.className="selector",a.__saturation_field=document.createElement("div"),a.__saturation_field.className="saturation-field",a.__field_knob=document.createElement("div"),a.__field_knob.className="field-knob",a.__field_knob_border="2px solid ",a.__hue_knob=document.createElement("div"),a.__hue_knob.className="hue-knob",a.__hue_field=document.createElement("div"),a.__hue_field.className="hue-field",a.__input=document.createElement("input"),a.__input.type="text",a.__input_textShadow="0 1px 1px ",Ut.bind(a.__input,"keydown",function(k){k.keyCode===13&&S.call(this)}),Ut.bind(a.__input,"blur",S),Ut.bind(a.__selector,"mousedown",function(){Ut.addClass(this,"drag").bind(window,"mouseup",function(){Ut.removeClass(u.__selector,"drag")})}),Ut.bind(a.__selector,"touchstart",function(){Ut.addClass(this,"drag").bind(window,"touchend",function(){Ut.removeClass(u.__selector,"drag")})});var f=document.createElement("div");ln.extend(a.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),ln.extend(a.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:a.__field_knob_border+(a.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),ln.extend(a.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),ln.extend(a.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),ln.extend(f.style,{width:"100%",height:"100%",background:"none"}),jI(f,"top","rgba(0,0,0,0)","#000"),ln.extend(a.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),pV(a.__hue_field),ln.extend(a.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:a.__input_textShadow+"rgba(0,0,0,0.7)"}),Ut.bind(a.__saturation_field,"mousedown",m),Ut.bind(a.__saturation_field,"touchstart",m),Ut.bind(a.__field_knob,"mousedown",m),Ut.bind(a.__field_knob,"touchstart",m),Ut.bind(a.__hue_field,"mousedown",_),Ut.bind(a.__hue_field,"touchstart",_);function m(k){P(k),Ut.bind(window,"mousemove",P),Ut.bind(window,"touchmove",P),Ut.bind(window,"mouseup",A),Ut.bind(window,"touchend",A)}function _(k){O(k),Ut.bind(window,"mousemove",O),Ut.bind(window,"touchmove",O),Ut.bind(window,"mouseup",w),Ut.bind(window,"touchend",w)}function A(){Ut.unbind(window,"mousemove",P),Ut.unbind(window,"touchmove",P),Ut.unbind(window,"mouseup",A),Ut.unbind(window,"touchend",A),x()}function w(){Ut.unbind(window,"mousemove",O),Ut.unbind(window,"touchmove",O),Ut.unbind(window,"mouseup",w),Ut.unbind(window,"touchend",w),x()}function S(){var k=ny(this.value);k!==!1?(u.__color.__state=k,u.setValue(u.__color.toOriginal())):this.value=u.__color.toString()}function x(){u.__onFinishChange&&u.__onFinishChange.call(u,u.__color.toOriginal())}a.__saturation_field.appendChild(f),a.__selector.appendChild(a.__field_knob),a.__selector.appendChild(a.__saturation_field),a.__selector.appendChild(a.__hue_field),a.__hue_field.appendChild(a.__hue_knob),a.domElement.appendChild(a.__input),a.domElement.appendChild(a.__selector),a.updateDisplay();function P(k){k.type.indexOf("touch")===-1&&k.preventDefault();var L=u.__saturation_field.getBoundingClientRect(),U=k.touches&&k.touches[0]||k,Q=U.clientX,G=U.clientY,Z=(Q-L.left)/(L.right-L.left),X=1-(G-L.top)/(L.bottom-L.top);return X>1?X=1:X<0&&(X=0),Z>1?Z=1:Z<0&&(Z=0),u.__color.v=X,u.__color.s=Z,u.setValue(u.__color.toOriginal()),!1}function O(k){k.type.indexOf("touch")===-1&&k.preventDefault();var L=u.__hue_field.getBoundingClientRect(),U=k.touches&&k.touches[0]||k,Q=U.clientY,G=1-(Q-L.top)/(L.bottom-L.top);return G>1?G=1:G<0&&(G=0),u.__color.h=G*360,u.setValue(u.__color.toOriginal()),!1}return a}return ta(e,[{key:"updateDisplay",value:function(){var s=ny(this.getValue());if(s!==!1){var a=!1;ln.each(qi.COMPONENTS,function(m){if(!ln.isUndefined(s[m])&&!ln.isUndefined(this.__color.__state[m])&&s[m]!==this.__color.__state[m])return a=!0,{}},this),a&&ln.extend(this.__color.__state,s)}ln.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var u=this.__color.v<.5||this.__color.s>.5?255:0,f=255-u;ln.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+u+","+u+","+u+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,jI(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),ln.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+u+","+u+","+u+")",textShadow:this.__input_textShadow+"rgba("+f+","+f+","+f+",.7)"})}}]),e}(lu),hV=["-moz-","-o-","-webkit-","-ms-",""];function jI(p,e,r,s){p.style.background="",ln.each(hV,function(a){p.style.cssText+="background: "+a+"linear-gradient("+e+", "+r+" 0%, "+s+" 100%); "})}function pV(p){p.style.background="",p.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",p.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",p.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",p.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",p.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var mV={load:function(e,r){var s=r||document,a=s.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=e,s.getElementsByTagName("head")[0].appendChild(a)},inject:function(e,r){var s=r||document,a=document.createElement("style");a.type="text/css",a.innerHTML=e;var u=s.getElementsByTagName("head")[0];try{u.appendChild(a)}catch{}}},gV=`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.

    </div>

  </div>

</div>`,vV=function(e,r){var s=e[r];return ln.isArray(arguments[2])||ln.isObject(arguments[2])?new uV(e,r,arguments[2]):ln.isNumber(s)?ln.isNumber(arguments[2])&&ln.isNumber(arguments[3])?ln.isNumber(arguments[4])?new sy(e,r,arguments[2],arguments[3],arguments[4]):new sy(e,r,arguments[2],arguments[3]):ln.isNumber(arguments[4])?new Gg(e,r,{min:arguments[2],max:arguments[3],step:arguments[4]}):new Gg(e,r,{min:arguments[2],max:arguments[3]}):ln.isString(s)?new dV(e,r):ln.isFunction(s)?new KI(e,r,""):ln.isBoolean(s)?new QI(e,r):null};function _V(p){setTimeout(p,1e3/60)}var AV=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||_V,yV=function(){function p(){ea(this,p),this.backgroundElement=document.createElement("div"),ln.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),Ut.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),ln.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;Ut.bind(this.backgroundElement,"click",function(){e.hide()})}return ta(p,[{key:"show",value:function(){var r=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),ln.defer(function(){r.backgroundElement.style.opacity=1,r.domElement.style.opacity=1,r.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var r=this,s=function a(){r.domElement.style.display="none",r.backgroundElement.style.display="none",Ut.unbind(r.domElement,"webkitTransitionEnd",a),Ut.unbind(r.domElement,"transitionend",a),Ut.unbind(r.domElement,"oTransitionEnd",a)};Ut.bind(this.domElement,"webkitTransitionEnd",s),Ut.bind(this.domElement,"transitionend",s),Ut.bind(this.domElement,"oTransitionEnd",s),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-Ut.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-Ut.getHeight(this.domElement)/2+"px"}}]),p}(),bV=sV(`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`);mV.inject(bV);var qI="dg",YI=72,JI=20,Uh="Default",zh=function(){try{return!!window.localStorage}catch{return!1}}(),Hh=void 0,ZI=!0,$d=void 0,ay=!1,ex=[],li=function p(e){var r=this,s=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),Ut.addClass(this.domElement,qI),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],s=ln.defaults(s,{closeOnTop:!1,autoPlace:!0,width:p.DEFAULT_WIDTH}),s=ln.defaults(s,{resizable:s.autoPlace,hideable:s.autoPlace}),ln.isUndefined(s.load)?s.load={preset:Uh}:s.preset&&(s.load.preset=s.preset),ln.isUndefined(s.parent)&&s.hideable&&ex.push(this),s.resizable=ln.isUndefined(s.parent)&&s.resizable,s.autoPlace&&ln.isUndefined(s.scrollable)&&(s.scrollable=!0);var a=zh&&localStorage.getItem(Wd(this,"isLocal"))==="true",u=void 0,f=void 0;if(Object.defineProperties(this,{parent:{get:function(){return s.parent}},scrollable:{get:function(){return s.scrollable}},autoPlace:{get:function(){return s.autoPlace}},closeOnTop:{get:function(){return s.closeOnTop}},preset:{get:function(){return r.parent?r.getRoot().preset:s.load.preset},set:function(x){r.parent?r.getRoot().preset=x:s.load.preset=x,CV(this),r.revert()}},width:{get:function(){return s.width},set:function(x){s.width=x,dy(r,x)}},name:{get:function(){return s.name},set:function(x){s.name=x,f&&(f.innerHTML=s.name)}},closed:{get:function(){return s.closed},set:function(x){s.closed=x,s.closed?Ut.addClass(r.__ul,p.CLASS_CLOSED):Ut.removeClass(r.__ul,p.CLASS_CLOSED),this.onResize(),r.__closeButton&&(r.__closeButton.innerHTML=x?p.TEXT_OPEN:p.TEXT_CLOSED)}},load:{get:function(){return s.load}},useLocalStorage:{get:function(){return a},set:function(x){zh&&(a=x,x?Ut.bind(window,"unload",u):Ut.unbind(window,"unload",u),localStorage.setItem(Wd(r,"isLocal"),x))}}}),ln.isUndefined(s.parent)){if(this.closed=s.closed||!1,Ut.addClass(this.domElement,p.CLASS_MAIN),Ut.makeSelectable(this.domElement,!1),zh&&a){r.useLocalStorage=!0;var m=localStorage.getItem(Wd(this,"gui"));m&&(s.load=JSON.parse(m))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=p.TEXT_CLOSED,Ut.addClass(this.__closeButton,p.CLASS_CLOSE_BUTTON),s.closeOnTop?(Ut.addClass(this.__closeButton,p.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(Ut.addClass(this.__closeButton,p.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),Ut.bind(this.__closeButton,"click",function(){r.closed=!r.closed})}else{s.closed===void 0&&(s.closed=!0);var _=document.createTextNode(s.name);Ut.addClass(_,"controller-name"),f=ly(r,_);var A=function(x){return x.preventDefault(),r.closed=!r.closed,!1};Ut.addClass(this.__ul,p.CLASS_CLOSED),Ut.addClass(f,"title"),Ut.bind(f,"click",A),s.closed||(this.closed=!1)}s.autoPlace&&(ln.isUndefined(s.parent)&&(ZI&&($d=document.createElement("div"),Ut.addClass($d,qI),Ut.addClass($d,p.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild($d),ZI=!1),$d.appendChild(this.domElement),Ut.addClass(this.domElement,p.CLASS_AUTO_PLACE)),this.parent||dy(r,s.width)),this.__resizeHandler=function(){r.onResizeDebounced()},Ut.bind(window,"resize",this.__resizeHandler),Ut.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),Ut.bind(this.__ul,"transitionend",this.__resizeHandler),Ut.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),s.resizable&&EV(this),u=function(){zh&&localStorage.getItem(Wd(r,"isLocal"))==="true"&&localStorage.setItem(Wd(r,"gui"),JSON.stringify(r.getSaveObject()))},this.saveToLocalStorageIfPossible=u;function w(){var S=r.getRoot();S.width+=1,ln.defer(function(){S.width-=1})}s.parent||w()};li.toggleHide=function(){ay=!ay,ln.each(ex,function(p){p.domElement.style.display=ay?"none":""})},li.CLASS_AUTO_PLACE="a",li.CLASS_AUTO_PLACE_CONTAINER="ac",li.CLASS_MAIN="main",li.CLASS_CONTROLLER_ROW="cr",li.CLASS_TOO_TALL="taller-than-window",li.CLASS_CLOSED="closed",li.CLASS_CLOSE_BUTTON="close-button",li.CLASS_CLOSE_TOP="close-top",li.CLASS_CLOSE_BOTTOM="close-bottom",li.CLASS_DRAG="drag",li.DEFAULT_WIDTH=245,li.TEXT_CLOSED="Close Controls",li.TEXT_OPEN="Open Controls",li._keydownHandler=function(p){document.activeElement.type!=="text"&&(p.which===YI||p.keyCode===YI)&&li.toggleHide()},Ut.bind(window,"keydown",li._keydownHandler,!1),ln.extend(li.prototype,{add:function(e,r){return Qh(this,e,r,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,r){return Qh(this,e,r,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var r=this;ln.defer(function(){r.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&$d.removeChild(this.domElement);var e=this;ln.each(this.__folders,function(r){e.removeFolder(r)}),Ut.unbind(window,"keydown",li._keydownHandler,!1),tx(this)},addFolder:function(e){if(this.__folders[e]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+e+'"');var r={name:e,parent:this};r.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(r.closed=this.load.folders[e].closed,r.load=this.load.folders[e]);var s=new li(r);this.__folders[e]=s;var a=ly(this,s.domElement);return Ut.addClass(a,"folder"),s},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],tx(e);var r=this;ln.each(e.__folders,function(s){e.removeFolder(s)}),ln.defer(function(){r.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var r=Ut.getOffset(e.__ul).top,s=0;ln.each(e.__ul.childNodes,function(a){e.autoPlace&&a===e.__save_row||(s+=Ut.getHeight(a))}),window.innerHeight-r-JI<s?(Ut.addClass(e.domElement,li.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-r-JI+"px"):(Ut.removeClass(e.domElement,li.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&ln.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:ln.debounce(function(){this.onResize()},50),remember:function(){if(ln.isUndefined(Hh)&&(Hh=new yV,Hh.domElement.innerHTML=gV),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;ln.each(Array.prototype.slice.call(arguments),function(r){e.__rememberedObjects.length===0&&wV(e),e.__rememberedObjects.indexOf(r)===-1&&e.__rememberedObjects.push(r)}),this.autoPlace&&dy(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=Ug(this)),e.folders={},ln.each(this.__folders,function(r,s){e.folders[s]=r.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=Ug(this),cy(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[Uh]=Ug(this,!0)),this.load.remembered[e]=Ug(this),this.preset=e,uy(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){ln.each(this.__controllers,function(r){this.getRoot().load.remembered?nx(e||this.getRoot(),r):r.setValue(r.initialValue),r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())},this),ln.each(this.__folders,function(r){r.revert(r)}),e||cy(this.getRoot(),!1)},listen:function(e){var r=this.__listening.length===0;this.__listening.push(e),r&&ix(this.__listening)},updateDisplay:function(){ln.each(this.__controllers,function(e){e.updateDisplay()}),ln.each(this.__folders,function(e){e.updateDisplay()})}});function ly(p,e,r){var s=document.createElement("li");return e&&s.appendChild(e),r?p.__ul.insertBefore(s,r):p.__ul.appendChild(s),p.onResize(),s}function tx(p){Ut.unbind(window,"resize",p.__resizeHandler),p.saveToLocalStorageIfPossible&&Ut.unbind(window,"unload",p.saveToLocalStorageIfPossible)}function cy(p,e){var r=p.__preset_select[p.__preset_select.selectedIndex];e?r.innerHTML=r.value+"*":r.innerHTML=r.value}function SV(p,e,r){if(r.__li=e,r.__gui=p,ln.extend(r,{options:function(f){if(arguments.length>1){var m=r.__li.nextElementSibling;return r.remove(),Qh(p,r.object,r.property,{before:m,factoryArgs:[ln.toArray(arguments)]})}if(ln.isArray(f)||ln.isObject(f)){var _=r.__li.nextElementSibling;return r.remove(),Qh(p,r.object,r.property,{before:_,factoryArgs:[f]})}},name:function(f){return r.__li.firstElementChild.firstElementChild.innerHTML=f,r},listen:function(){return r.__gui.listen(r),r},remove:function(){return r.__gui.remove(r),r}}),r instanceof sy){var s=new Gg(r.object,r.property,{min:r.__min,max:r.__max,step:r.__step});ln.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(u){var f=r[u],m=s[u];r[u]=s[u]=function(){var _=Array.prototype.slice.call(arguments);return m.apply(s,_),f.apply(r,_)}}),Ut.addClass(e,"has-slider"),r.domElement.insertBefore(s.domElement,r.domElement.firstElementChild)}else if(r instanceof Gg){var a=function(f){if(ln.isNumber(r.__min)&&ln.isNumber(r.__max)){var m=r.__li.firstElementChild.firstElementChild.innerHTML,_=r.__gui.__listening.indexOf(r)>-1;r.remove();var A=Qh(p,r.object,r.property,{before:r.__li.nextElementSibling,factoryArgs:[r.__min,r.__max,r.__step]});return A.name(m),_&&A.listen(),A}return f};r.min=ln.compose(a,r.min),r.max=ln.compose(a,r.max)}else r instanceof QI?(Ut.bind(e,"click",function(){Ut.fakeEvent(r.__checkbox,"click")}),Ut.bind(r.__checkbox,"click",function(u){u.stopPropagation()})):r instanceof KI?(Ut.bind(e,"click",function(){Ut.fakeEvent(r.__button,"click")}),Ut.bind(e,"mouseover",function(){Ut.addClass(r.__button,"hover")}),Ut.bind(e,"mouseout",function(){Ut.removeClass(r.__button,"hover")})):r instanceof oy&&(Ut.addClass(e,"color"),r.updateDisplay=ln.compose(function(u){return e.style.borderLeftColor=r.__color.toString(),u},r.updateDisplay),r.updateDisplay());r.setValue=ln.compose(function(u){return p.getRoot().__preset_select&&r.isModified()&&cy(p.getRoot(),!0),u},r.setValue)}function nx(p,e){var r=p.getRoot(),s=r.__rememberedObjects.indexOf(e.object);if(s!==-1){var a=r.__rememberedObjectIndecesToControllers[s];if(a===void 0&&(a={},r.__rememberedObjectIndecesToControllers[s]=a),a[e.property]=e,r.load&&r.load.remembered){var u=r.load.remembered,f=void 0;if(u[p.preset])f=u[p.preset];else if(u[Uh])f=u[Uh];else return;if(f[s]&&f[s][e.property]!==void 0){var m=f[s][e.property];e.initialValue=m,e.setValue(m)}}}}function Qh(p,e,r,s){if(e[r]===void 0)throw new Error('Object "'+e+'" has no property "'+r+'"');var a=void 0;if(s.color)a=new oy(e,r);else{var u=[e,r].concat(s.factoryArgs);a=vV.apply(p,u)}s.before instanceof lu&&(s.before=s.before.__li),nx(p,a),Ut.addClass(a.domElement,"c");var f=document.createElement("span");Ut.addClass(f,"property-name"),f.innerHTML=a.property;var m=document.createElement("div");m.appendChild(f),m.appendChild(a.domElement);var _=ly(p,m,s.before);return Ut.addClass(_,li.CLASS_CONTROLLER_ROW),a instanceof oy?Ut.addClass(_,"color"):Ut.addClass(_,aV(a.getValue())),SV(p,_,a),p.__controllers.push(a),a}function Wd(p,e){return document.location.href+"."+e}function uy(p,e,r){var s=document.createElement("option");s.innerHTML=e,s.value=e,p.__preset_select.appendChild(s),r&&(p.__preset_select.selectedIndex=p.__preset_select.length-1)}function rx(p,e){e.style.display=p.useLocalStorage?"block":"none"}function wV(p){var e=p.__save_row=document.createElement("li");Ut.addClass(p.domElement,"has-save"),p.__ul.insertBefore(e,p.__ul.firstChild),Ut.addClass(e,"save-row");var r=document.createElement("span");r.innerHTML="&nbsp;",Ut.addClass(r,"button gears");var s=document.createElement("span");s.innerHTML="Save",Ut.addClass(s,"button"),Ut.addClass(s,"save");var a=document.createElement("span");a.innerHTML="New",Ut.addClass(a,"button"),Ut.addClass(a,"save-as");var u=document.createElement("span");u.innerHTML="Revert",Ut.addClass(u,"button"),Ut.addClass(u,"revert");var f=p.__preset_select=document.createElement("select");if(p.load&&p.load.remembered?ln.each(p.load.remembered,function(S,x){uy(p,x,x===p.preset)}):uy(p,Uh,!1),Ut.bind(f,"change",function(){for(var S=0;S<p.__preset_select.length;S++)p.__preset_select[S].innerHTML=p.__preset_select[S].value;p.preset=this.value}),e.appendChild(f),e.appendChild(r),e.appendChild(s),e.appendChild(a),e.appendChild(u),zh){var m=document.getElementById("dg-local-explain"),_=document.getElementById("dg-local-storage"),A=document.getElementById("dg-save-locally");A.style.display="block",localStorage.getItem(Wd(p,"isLocal"))==="true"&&_.setAttribute("checked","checked"),rx(p,m),Ut.bind(_,"change",function(){p.useLocalStorage=!p.useLocalStorage,rx(p,m)})}var w=document.getElementById("dg-new-constructor");Ut.bind(w,"keydown",function(S){S.metaKey&&(S.which===67||S.keyCode===67)&&Hh.hide()}),Ut.bind(r,"click",function(){w.innerHTML=JSON.stringify(p.getSaveObject(),void 0,2),Hh.show(),w.focus(),w.select()}),Ut.bind(s,"click",function(){p.save()}),Ut.bind(a,"click",function(){var S=prompt("Enter a new preset name.");S&&p.saveAs(S)}),Ut.bind(u,"click",function(){p.revert()})}function EV(p){var e=void 0;p.__resize_handle=document.createElement("div"),ln.extend(p.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function r(u){return u.preventDefault(),p.width+=e-u.clientX,p.onResize(),e=u.clientX,!1}function s(){Ut.removeClass(p.__closeButton,li.CLASS_DRAG),Ut.unbind(window,"mousemove",r),Ut.unbind(window,"mouseup",s)}function a(u){return u.preventDefault(),e=u.clientX,Ut.addClass(p.__closeButton,li.CLASS_DRAG),Ut.bind(window,"mousemove",r),Ut.bind(window,"mouseup",s),!1}Ut.bind(p.__resize_handle,"mousedown",a),Ut.bind(p.__closeButton,"mousedown",a),p.domElement.insertBefore(p.__resize_handle,p.domElement.firstElementChild)}function dy(p,e){p.domElement.style.width=e+"px",p.__save_row&&p.autoPlace&&(p.__save_row.style.width=e+"px"),p.__closeButton&&(p.__closeButton.style.width=e+"px")}function Ug(p,e){var r={};return ln.each(p.__rememberedObjects,function(s,a){var u={},f=p.__rememberedObjectIndecesToControllers[a];ln.each(f,function(m,_){u[_]=e?m.initialValue:m.getValue()}),r[a]=u}),r}function CV(p){for(var e=0;e<p.__preset_select.length;e++)p.__preset_select[e].value===p.preset&&(p.__preset_select.selectedIndex=e)}function ix(p){p.length!==0&&AV.call(window,function(){ix(p)}),ln.each(p,function(e){e.updateDisplay()})}var Xh=li,fy;fy=new GI,fy.setSegmentation(!0);var IV,Ls;new l0(5,6,30),new el({transparent:!0,side:q});function xV(p,e,r,s){var a,u,f=e.loadingContainer,m=e.progress,_=p.split("/").pop();fy.load(p,function(A){PV(s);var w=A.RASDimensions,S=A.dimensions,x=A.spacing,P=Math.floor(S[2]/2),O=Math.floor(S[1]/2),k=Math.floor(S[0]/2),L=A.extractSlice("z",P),U=A.extractSlice("y",O),Q=A.extractSlice("x",k);L.initIndex=P,U.initIndex=O,Q.initIndex=k,L.MaxIndex=S[2]-1,U.MaxIndex=S[1]-1,Q.MaxIndex=S[0]-1,L.RSARatio=x[2],U.RSARatio=x[1],Q.RSARatio=x[0],L.RSAMaxIndex=w[2]-1,U.RSAMaxIndex=w[1]-1,Q.RSAMaxIndex=w[0]-1,a={x:Q.mesh,y:U.mesh,z:L.mesh},u={x:Q,y:U,z:L},Ls&&(Ls.add(Q,"index",0,A.RASDimensions[0],1).name("indexX").onChange(function(){Q.repaint.call(Q)}),Ls.add(U,"index",0,A.RASDimensions[1],1).name("indexY").onChange(function(){U.repaint.call(U)}),Ls.add(L,"index",0,A.RASDimensions[2]-1,1).name("indexZ").onChange(function(){L.repaint.call(L)}),Ls.add(A,"lowerThreshold",A.min,A.max,1).name("Lower Threshold").onChange(function(){A.repaintAllSlices()}),Ls.add(A,"upperThreshold",A.min,A.max,1).name("Upper Threshold").onChange(function(){A.repaintAllSlices()}),Ls.add(A,"windowLow",A.min,A.max,1).name("Window Low").onChange(function(){A.repaintAllSlices()}),Ls.add(A,"windowHigh",A.min,A.max,1).name("Window High").onChange(function(){A.repaintAllSlices()})),Ls?r&&r(A,a,u,Ls):r&&r(A,a,u)},function(A){f.style.display="flex",m.innerText="File: ".concat(_," ").concat(Math.ceil(A.loaded/A.total*100)," % loaded"),A.loaded/A.total===1&&(f.style.display="none")})}function MV(p,e,r,s){var a={clim1:0,clim2:1,renderStyle:"iso",isothreshold:-.15,colormap:"viridis"},u=WC(),f=u.loadingContainer,m=u.progress;r.appendChild(f);var _,A,w,S;S=new GI,S.load(p,function(x){var P=x.data.byteLength/x.data.length===2;x.lowerThreshold=19,x.upperThreshold=498,x.windowLow=0,x.windowHigh=354;var O=P?NV(x.data,0,x.data.length):x.data,k=new TA(O,x.xLength,x.yLength,x.zLength);k.format=Ul,k.type=Ei,k.minFilter=k.magFilter=gr,k.unpackAlignment=1,k.needsUpdate=!0,_={viridis:new c0().load(iV),gray:new c0().load(rV)};var L=nV,U=PE.clone(L.uniforms);U.u_data.value=k,U.u_size.value.set(x.xLength,x.yLength,x.zLength),U.u_clim.value.set(a.clim1,a.clim2),U.u_renderstyle.value=a.renderStyle==="mip"?0:1,U.u_renderthreshold.value=a.isothreshold,U.u_cmdata.value=_[a.colormap],A=new Qo({uniforms:U,vertexShader:L.vertexShader,fragmentShader:L.fragmentShader,side:H});var Q=new jc(x.xLength,x.yLength,x.zLength);Q.translate(x.xLength/2-.5,x.yLength/2-.5,x.zLength/2-.5),w=new Fi(Q,A);var G=new QC(w);e.add(G),G.applyMatrix4(x.matrix),e.add(w);var Z=new Xh;Z.add(a,"clim1",-1,1,.01).onChange(X),Z.add(a,"clim2",-1,1,.01).onChange(X),Z.add(a,"colormap",{gray:"gray",viridis:"viridis"}).onChange(X),Z.add(a,"renderStyle",{mip:"mip",iso:"iso"}).onChange(X),Z.add(a,"isothreshold",-1,1,.01).onChange(X);function X(){A.uniforms.u_clim.value.set(a.clim1,a.clim2),A.uniforms.u_renderstyle.value=a.renderStyle=="mip"?0:1,A.uniforms.u_renderthreshold.value=a.isothreshold,A.uniforms.u_cmdata.value=_[a.colormap]}s&&s(x,Z)},function(x){f.style.display="flex",m.innerText="".concat(Math.ceil(x.loaded/x.total*100)," % loaded"),x.loaded/x.total===1&&(f.style.display="none")})}function RV(p,e,r,s){var a=0;p.x.volume.RASDimensions[0],p.y.volume.RASDimensions[1];var u=p.z.volume.RASDimensions[2];new qs,e.add(p.z.mesh);var f=!0;function m(){requestAnimationFrame(m),a<0&&(a=0,f=!0),a>u&&(a=u,f=!1),setTimeout(function(){p.z.index=a,p.z.repaint(p.z),p.z.mesh.position.set(0,0,.5)},100),f?a++:a--}m();var _={indexX:0};r.add(_,"indexX",0,50,1).name("indexZ").onChange(function(A){s.enabled=!1}),r.add(s,"enabled").name("controls")}function TV(p,e,r){var s;r?s=r:s=IV;var a=new QC(s);p.addObject(a),a.applyMatrix4(e.matrix)}function PV(p){p&&p.openGui&&(p.container?(Ls=new Xh({width:260,autoPlace:!1}),p.container.appendChild(Ls.domElement)):(Ls=new Xh,Ls.closed=!0))}function NV(p,e,r){for(var s=new Float32Array(p.length-e),a=e;a<r;a++){var u=p[a],f=u>=32768?-(65536-u)/32768:u/32767;s[a]=f}return s}var sx=new hF,pl,cu;function BV(p,e,r,s){var a=new el({wireframe:!0,color:65382}),u={},f="";r.forEach(function(_){u[_.name]=_.material});var m=function(_){var A=new Gn(_.offsetX,_.offsetY);pl=ox(p,e,r,A.x,A.y),pl.length>0?cu=pl[0].object:(cu=null,f="",s(void 0)),r.forEach(function(w,S){cu&&cu.name===w.name?f!=w.name&&(f=w.name,r[S].material=a,s(r[S])):r[S].material=u[w.name]})};e.addEventListener("mousemove",zg(m,80),!1)}function zg(p,e){var r=0;return function(s){var a=Date.now();a-r>e&&(p.call(null,s),r=a)}}function ox(p,e,r,s,a){return sx.setFromCamera({x:s/e.clientWidth*2-1,y:-(a/e.clientHeight)*2+1},p),pl=sx.intersectObjects(r,!1),pl}function DV(p,e,r,s){return pl=ox(p,e,r,s.x,s.y),pl.length>0?cu=pl[0].object:cu=null,{intersectedObject:cu,intersects:pl}}var ax=function(){function p(e){this.subDiv=null,this.subScene=new ig,this.subCamera=null,this.subRender=null,this.subCopperControl=null,this.sort=!0,this.depthStep=.4,this.pickableObjects=[],this.container=e,this.scene=new ig,this.camera=new as(75,e.clientWidth/e.clientHeight,.1,500),this.preRenderCallbackFunctions={index:0,cache:{},add:function(r){if(!r.id){r.id=++this.index,this.cache[r.id]=r;return}}}}return p.prototype.createDemoMesh=function(){var e=new jc,r=new OO({color:16711935,wireframe:!0}),s=new Fi(e,r);this.scene.add(s),this.scene.add(new pF(5))},p.prototype.addObject=function(e){this.scene.add(e)},p.prototype.setDepth=function(e){this.depthStep=e},p.prototype.setDicomFilesOrder=function(e){e==="ascending"?this.sort=!0:e==="descending"&&(this.sort=!1)},p.prototype.addPreRenderCallbackFunction=function(e){this.preRenderCallbackFunctions.add(e);var r=this.preRenderCallbackFunctions.index;return r},p.prototype.pickModel=function(e,r,s){var a=this;e.traverse(function(u){if(u.isMesh){var f=u;s&&s.includes(f.name)||a.pickableObjects.push(f)}}),BV(this.camera,this.container,this.pickableObjects,r)},p.prototype.addSubView=function(){this.subDiv=document.createElement("div"),this.container.appendChild(this.subDiv),this.subDiv.classList.add("copper3D_sub_axes");var e=this.subDiv,r=e.clientWidth,s=e.clientHeight;return this.subCamera=new as(50,r/s,.1,10),this.subScene.add(this.subCamera),this.subCopperControl=new v0(this.subCamera),this.subRender=new rg({alpha:!0}),this.subRender.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.subRender.setSize(this.subDiv.clientWidth,this.subDiv.clientWidth),this.subCamera.up=this.camera.up,this.subDiv.appendChild(this.subRender.domElement),this.subDiv},p.prototype.loadDicom=function(e,r){var s=this,a;if(r&&(a=r.gui),Array.isArray(e)){var u=e.length,f=[],m=[],_=[];e.forEach(function(S){jC(S,function(x){if(f.push(x),f.length===u){f.sort(function(U,Q){return s.sort?U.order-Q.order:Q.order-U.order}),f.forEach(function(U){m.push(U.uint8),_.push(U.uint16)});var P=new Uint8ClampedArray(x.width*x.height*u),O=new Uint16Array(P.length),k=0,L=0;m.forEach(function(U,Q){k=Q*x.width*x.height;for(var G=0;G<U.length;G++)P[G+k]=U[G]}),_.forEach(function(U,Q){L=Q*x.width*x.height;for(var G=0;G<U.length;G++)O[G+L]=U[G]}),x.uint8=P,x.uint16=O,A(x)}})});var A=function(S){a&&a.add(s,"depthStep").min(.01).max(1).step(.01);var x=oI(S,u,s.scene,a),P=x.material.uniforms.depth.value,O=function(){r!=null&&r.setAnimation?P=r.setAnimation(P,u,s.depthStep):(P+=s.depthStep,(P>u||P<0)&&(P>1&&(P=u*2-P),P<0&&(P=-P),s.depthStep=-s.depthStep)),x.material.uniforms.depth.value=P};s.addPreRenderCallbackFunction(O)}}else{var w=e;jC(w,function(S){oI(S,1,s.scene)})}},p.prototype.loadNrrd=function(e,r,s,a){xV(e,r,s,a)},p}(),kV=$C(),hy=function(p){g(e,p);function e(r,s){var a=p.call(this,r)||this;return a.sceneName="",a.cameraPositionFlag=!1,a.content=new qs,a.exportContent=new qs,a.isHalfed=!1,a.viewPoint=new Wl,a.color1="#5454ad",a.color2="#18e5a7",a.lights=[],a.onWindowResize=function(){a.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),a.camera.aspect=a.container.clientWidth/a.container.clientHeight,a.camera.updateProjectionMatrix(),a.vignette.style({aspect:a.camera.aspect}),a.renderer.setSize(a.container.clientWidth,a.container.clientHeight)},a.renderer=s,a.ambientLight=new VC(2105376,.3),a.directionalLight=new h0(16777215,.3),a.vignette=XC({aspect:a.container.clientWidth/a.container.clientHeight,grainScale:kV?0:.001,colors:[a.color1,a.color2]}),a.vignette.mesh.name="Vignette",a.vignette.mesh.renderOrder=-1,a.copperControl=new v0(a.camera),a.init(),a}return e.prototype.init=function(){this.copperControl.setCameraViewPoint(),this.camera.position.z=2,this.scene.add(this.camera),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.addLights()},e.prototype.loadMetadataUrl=function(r){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState==4&&s.status==200){var a=JSON.parse(s.responseText),u=a.length;u===1||u>1||console.error("Empty metadata!")}},s.open("GET",r,!0),s.send()},e.prototype.loadViewUrl=function(r){var s=this,a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState==4&&a.status==200){var u=JSON.parse(a.responseText);s.loadView(u)}},a.open("GET",r,!0),a.send()},e.prototype.loadView=function(r){this.cameraPositionFlag=!0,this.viewPoint=r;var s=new Wl;s.farPlane=r.farPlane,s.nearPlane=r.nearPlane,s.eyePosition=r.eyePosition,s.targetPosition=r.targetPosition,s.upVector=r.upVector,this.copperControl.updateCameraViewPoint(s)},e.prototype.getDefaultViewPoint=function(){return this.viewPoint},e.prototype.setViewPoint=function(r,s){var a=new Wl;return a.farPlane=r.far,a.nearPlane=r.near,a.eyePosition=[r.position.x,r.position.y,r.position.z],s?a.targetPosition=[s[0],s[1],s[2]]:a.targetPosition=[0,0,0],a.upVector=[r.up.x,r.up.y,r.up.z],a},e.prototype.addObject=function(r){this.scene.add(r)},e.prototype.addLights=function(){var r=new kC;r.name="hemi_light",this.scene.add(r),this.ambientLight.name="ambient_light",this.directionalLight.name="main_light",this.directionalLight.position.set(.5,0,.866),this.camera.add(this.ambientLight),this.camera.add(this.directionalLight),this.lights.push(this.ambientLight),this.lights.push(this.directionalLight),this.lights.push(r)},e.prototype.removeLights=function(){this.lights&&(this.lights.forEach(function(r){return r.parent.remove(r)}),this.lights.length=0)},e.prototype.updateLights=function(r){var s=this.lights;r.addLights&&!s.length?this.addLights():!r.addLights&&s.length&&this.removeLights(),s.length===3&&(s[0].intensity=r.ambientIntensity,s[0].color.setHex(r.ambientColor),s[1].intensity=r.directIntensity,s[1].color.setHex(r.directColor))},e.prototype.updateDisplay=function(r){bF(this.content,function(s){s.wireframe=r.wireframe})},e.prototype.updateBackground=function(r,s){this.vignette.style({colors:[r,s]})},e.prototype.updateModelChildrenVisualisation=function(r){r.visible=!r.visible;var s=[];this.content.traverse(function(a){s.push(a.visible)}),s.includes(!1)?this.isHalfed=!0:this.isHalfed=!1},e.prototype.render=function(){this.renderer.render(this.scene,this.camera)},e}(ax),LV="",OV="";function FV(p){py[1].path=p}var py=[{id:"",name:"None",path:null,format:".hdr"},{id:"venice-sunset",name:"Venice Sunset",path:OV,format:".hdr"},{id:"footprint-court",name:"Footprint Court (HDR Labs)",path:LV,format:".hdr"}];class lx extends WO{constructor(e){super(e),this.type=$s}parse(e){const m=function(G,Z){switch(G){case 1:console.error("THREE.RGBELoader Read Error: "+(Z||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(Z||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(Z||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(Z||""))}return-1},S=`
`,x=function(G,Z,X){Z=Z||1024;let ae=G.pos,j=-1,ge=0,we="",Le=String.fromCharCode.apply(null,new Uint16Array(G.subarray(ae,ae+128)));for(;0>(j=Le.indexOf(S))&&ge<Z&&ae<G.byteLength;)we+=Le,ge+=Le.length,ae+=128,Le+=String.fromCharCode.apply(null,new Uint16Array(G.subarray(ae,ae+128)));return-1<j?(X!==!1&&(G.pos+=ge+j+1),we+Le.slice(0,j)):!1},P=function(G){const Z=/^#\?(\S+)/,X=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,te=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,ae=/^\s*FORMAT=(\S+)\s*$/,j=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,ge={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let we,Le;if(G.pos>=G.byteLength||!(we=x(G)))return m(1,"no header found");if(!(Le=we.match(Z)))return m(3,"bad initial token");for(ge.valid|=1,ge.programtype=Le[1],ge.string+=we+`
`;we=x(G),we!==!1;){if(ge.string+=we+`
`,we.charAt(0)==="#"){ge.comments+=we+`
`;continue}if((Le=we.match(X))&&(ge.gamma=parseFloat(Le[1])),(Le=we.match(te))&&(ge.exposure=parseFloat(Le[1])),(Le=we.match(ae))&&(ge.valid|=2,ge.format=Le[1]),(Le=we.match(j))&&(ge.valid|=4,ge.height=parseInt(Le[1],10),ge.width=parseInt(Le[2],10)),ge.valid&2&&ge.valid&4)break}return ge.valid&2?ge.valid&4?ge:m(3,"missing image size specifier"):m(3,"missing format specifier")},O=function(G,Z,X){const te=Z;if(te<8||te>32767||G[0]!==2||G[1]!==2||G[2]&128)return new Uint8Array(G);if(te!==(G[2]<<8|G[3]))return m(3,"wrong scanline width");const ae=new Uint8Array(4*Z*X);if(!ae.length)return m(4,"unable to allocate buffer space");let j=0,ge=0;const we=4*te,Le=new Uint8Array(4),je=new Uint8Array(we);let be=X;for(;be>0&&ge<G.byteLength;){if(ge+4>G.byteLength)return m(1);if(Le[0]=G[ge++],Le[1]=G[ge++],Le[2]=G[ge++],Le[3]=G[ge++],Le[0]!=2||Le[1]!=2||(Le[2]<<8|Le[3])!=te)return m(3,"bad rgbe scanline format");let Te=0,Je;for(;Te<we&&ge<G.byteLength;){Je=G[ge++];const tt=Je>128;if(tt&&(Je-=128),Je===0||Te+Je>we)return m(3,"bad scanline data");if(tt){const Me=G[ge++];for(let lt=0;lt<Je;lt++)je[Te++]=Me}else je.set(G.subarray(ge,ge+Je),Te),Te+=Je,ge+=Je}const it=te;for(let tt=0;tt<it;tt++){let Me=0;ae[j]=je[tt+Me],Me+=te,ae[j+1]=je[tt+Me],Me+=te,ae[j+2]=je[tt+Me],Me+=te,ae[j+3]=je[tt+Me],j+=4}be--}return ae},k=function(G,Z,X,te){const ae=G[Z+3],j=Math.pow(2,ae-128)/255;X[te+0]=G[Z+0]*j,X[te+1]=G[Z+1]*j,X[te+2]=G[Z+2]*j,X[te+3]=1},L=function(G,Z,X,te){const ae=G[Z+3],j=Math.pow(2,ae-128)/255;X[te+0]=vg.toHalfFloat(Math.min(G[Z+0]*j,65504)),X[te+1]=vg.toHalfFloat(Math.min(G[Z+1]*j,65504)),X[te+2]=vg.toHalfFloat(Math.min(G[Z+2]*j,65504)),X[te+3]=vg.toHalfFloat(1)},U=new Uint8Array(e);U.pos=0;const Q=P(U);if(Q!==-1){const G=Q.width,Z=Q.height,X=O(U.subarray(U.pos),G,Z);if(X!==-1){let te,ae,j;switch(this.type){case Ei:j=X.length/4;const ge=new Float32Array(j*4);for(let Le=0;Le<j;Le++)k(X,Le*4,ge,Le*4);te=ge,ae=Ei;break;case $s:j=X.length/4;const we=new Uint16Array(j*4);for(let Le=0;Le<j;Le++)L(X,Le*4,we,Le*4);te=we,ae=$s;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:G,height:Z,data:te,header:Q.string,gamma:Q.gamma,exposure:Q.exposure,type:ae}}}return null}setDataType(e){return this.type=e,this}load(e,r,s,a){function u(f,m){switch(f.type){case Ei:case $s:f.encoding=Vo,f.minFilter=gr,f.magFilter=gr,f.generateMipmaps=!1,f.flipY=!0;break}r&&r(f,m)}return super.load(e,u,s,a)}}var $h=function(){var p=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(w){w.preventDefault(),s(++p%e.children.length)},!1);function r(w){return e.appendChild(w.dom),w}function s(w){for(var S=0;S<e.children.length;S++)e.children[S].style.display=S===w?"block":"none";p=w}var a=(performance||Date).now(),u=a,f=0,m=r(new $h.Panel("FPS","#0ff","#002")),_=r(new $h.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var A=r(new $h.Panel("MB","#f08","#201"));return s(0),{REVISION:16,dom:e,addPanel:r,showPanel:s,begin:function(){a=(performance||Date).now()},end:function(){f++;var w=(performance||Date).now();if(_.update(w-a,200),w>=u+1e3&&(m.update(f*1e3/(w-u),100),u=w,f=0,A)){var S=performance.memory;A.update(S.usedJSHeapSize/1048576,S.jsHeapSizeLimit/1048576)}return w},update:function(){a=this.end()},domElement:e,setMode:s}};$h.Panel=function(p,e,r){var s=1/0,a=0,u=Math.round,f=u(window.devicePixelRatio||1),m=80*f,_=48*f,A=3*f,w=2*f,S=3*f,x=15*f,P=74*f,O=30*f,k=document.createElement("canvas");k.width=m,k.height=_,k.style.cssText="width:80px;height:48px";var L=k.getContext("2d");return L.font="bold "+9*f+"px Helvetica,Arial,sans-serif",L.textBaseline="top",L.fillStyle=r,L.fillRect(0,0,m,_),L.fillStyle=e,L.fillText(p,A,w),L.fillRect(S,x,P,O),L.fillStyle=r,L.globalAlpha=.9,L.fillRect(S,x,P,O),{dom:k,update:function(U,Q){s=Math.min(s,U),a=Math.max(a,U),L.fillStyle=r,L.globalAlpha=1,L.fillRect(0,0,m,x),L.fillStyle=e,L.fillText(u(U)+" "+p+" ("+u(s)+"-"+u(a)+")",A,w),L.drawImage(k,S+f,x,P-f,O,S,x,P-f,O),L.fillRect(S+P-f,x,f,O),L.fillStyle=r,L.globalAlpha=.9,L.fillRect(S+P-f,x,f,u((1-U/Q)*O))}}};var VV=$h;class my{constructor(){this.pluginCallbacks=[],this.register(function(e){return new KV(e)}),this.register(function(e){return new jV(e)}),this.register(function(e){return new JV(e)}),this.register(function(e){return new ZV(e)}),this.register(function(e){return new qV(e)}),this.register(function(e){return new YV(e)})}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,r,s,a){const u=new WV,f=[];for(let m=0,_=this.pluginCallbacks.length;m<_;m++)f.push(this.pluginCallbacks[m](u));u.setPlugins(f),u.write(e,r,a).catch(s)}parseAsync(e,r){const s=this;return new Promise(function(a,u){s.parse(e,a,u,r)})}}const ei={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,FLOAT:5126,UNSIGNED_INT:5125,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},ro={};ro[Rn]=ei.NEAREST,ro[xr]=ei.NEAREST_MIPMAP_NEAREST,ro[ii]=ei.NEAREST_MIPMAP_LINEAR,ro[gr]=ei.LINEAR,ro[Yn]=ei.LINEAR_MIPMAP_NEAREST,ro[Vr]=ei.LINEAR_MIPMAP_LINEAR,ro[_t]=ei.CLAMP_TO_EDGE,ro[We]=ei.REPEAT,ro[Vt]=ei.MIRRORED_REPEAT;const cx={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},ux=12,GV=1179937895,UV=2,dx=8,zV=1313821514,HV=5130562;function Wh(p,e){return p.length===e.length&&p.every(function(r,s){return r===e[s]})}function QV(p){return new TextEncoder().encode(p).buffer}function XV(p){return Wh(p.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function $V(p,e,r){const s={min:new Array(p.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(p.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let a=e;a<e+r;a++)for(let u=0;u<p.itemSize;u++){let f;p.itemSize>4?f=p.array[a*p.itemSize+u]:(u===0?f=p.getX(a):u===1?f=p.getY(a):u===2?f=p.getZ(a):u===3&&(f=p.getW(a)),p.normalized===!0&&(f=Pm.normalize(f,p.array))),s.min[u]=Math.min(s.min[u],f),s.max[u]=Math.max(s.max[u],f)}return s}function fx(p){return Math.ceil(p/4)*4}function gy(p,e=0){const r=fx(p.byteLength);if(r!==p.byteLength){const s=new Uint8Array(r);if(s.set(new Uint8Array(p)),e!==0)for(let a=p.byteLength;a<r;a++)s[a]=e;return s.buffer}return p}function hx(){return typeof document>"u"&&typeof OffscreenCanvas<"u"?new OffscreenCanvas(1,1):document.createElement("canvas")}function px(p,e){if(p.toBlob!==void 0)return new Promise(s=>p.toBlob(s,e));let r;return e==="image/jpeg"?r=.92:e==="image/webp"&&(r=.8),p.convertToBlob({type:e,quality:r})}class WV{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(e){this.plugins=e}async write(e,r,s={}){this.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},s),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(e),await Promise.all(this.pending);const a=this,u=a.buffers,f=a.json;s=a.options;const m=a.extensionsUsed,_=new Blob(u,{type:"application/octet-stream"}),A=Object.keys(m);if(A.length>0&&(f.extensionsUsed=A),f.buffers&&f.buffers.length>0&&(f.buffers[0].byteLength=_.size),s.binary===!0){const w=new FileReader;w.readAsArrayBuffer(_),w.onloadend=function(){const S=gy(w.result),x=new DataView(new ArrayBuffer(dx));x.setUint32(0,S.byteLength,!0),x.setUint32(4,HV,!0);const P=gy(QV(JSON.stringify(f)),32),O=new DataView(new ArrayBuffer(dx));O.setUint32(0,P.byteLength,!0),O.setUint32(4,zV,!0);const k=new ArrayBuffer(ux),L=new DataView(k);L.setUint32(0,GV,!0),L.setUint32(4,UV,!0);const U=ux+O.byteLength+P.byteLength+x.byteLength+S.byteLength;L.setUint32(8,U,!0);const Q=new Blob([k,O,P,x,S],{type:"application/octet-stream"}),G=new FileReader;G.readAsArrayBuffer(Q),G.onloadend=function(){r(G.result)}}}else if(f.buffers&&f.buffers.length>0){const w=new FileReader;w.readAsDataURL(_),w.onloadend=function(){const S=w.result;f.buffers[0].uri=S,r(f)}}else r(f)}serializeUserData(e,r){if(Object.keys(e.userData).length===0)return;const s=this.options,a=this.extensionsUsed;try{const u=JSON.parse(JSON.stringify(e.userData));if(s.includeCustomExtensions&&u.gltfExtensions){r.extensions===void 0&&(r.extensions={});for(const f in u.gltfExtensions)r.extensions[f]=u.gltfExtensions[f],a[f]=!0;delete u.gltfExtensions}Object.keys(u).length>0&&(r.extras=u)}catch(u){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+u.message)}}getUID(e,r=!1){if(this.uids.has(e)===!1){const a=new Map;a.set(!0,this.uid++),a.set(!1,this.uid++),this.uids.set(e,a)}return this.uids.get(e).get(r)}isNormalizedNormalAttribute(e){if(this.cache.attributesNormalized.has(e))return!1;const s=new ut;for(let a=0,u=e.count;a<u;a++)if(Math.abs(s.fromBufferAttribute(e,a).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(e){const r=this.cache;if(r.attributesNormalized.has(e))return r.attributesNormalized.get(e);const s=e.clone(),a=new ut;for(let u=0,f=s.count;u<f;u++)a.fromBufferAttribute(s,u),a.x===0&&a.y===0&&a.z===0?a.setX(1):a.normalize(),s.setXYZ(u,a.x,a.y,a.z);return r.attributesNormalized.set(e,s),s}applyTextureTransform(e,r){let s=!1;const a={};(r.offset.x!==0||r.offset.y!==0)&&(a.offset=r.offset.toArray(),s=!0),r.rotation!==0&&(a.rotation=r.rotation,s=!0),(r.repeat.x!==1||r.repeat.y!==1)&&(a.scale=r.repeat.toArray(),s=!0),s&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=a,this.extensionsUsed.KHR_texture_transform=!0)}buildMetalRoughTexture(e,r){if(e===r)return e;function s(P){return P.encoding===Lr?function(k){return k<.04045?k*.0773993808:Math.pow(k*.9478672986+.0521327014,2.4)}:function(k){return k}}console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.");const a=e==null?void 0:e.image,u=r==null?void 0:r.image,f=Math.max((a==null?void 0:a.width)||0,(u==null?void 0:u.width)||0),m=Math.max((a==null?void 0:a.height)||0,(u==null?void 0:u.height)||0),_=hx();_.width=f,_.height=m;const A=_.getContext("2d");A.fillStyle="#00ffff",A.fillRect(0,0,f,m);const w=A.getImageData(0,0,f,m);if(a){A.drawImage(a,0,0,f,m);const P=s(e),O=A.getImageData(0,0,f,m).data;for(let k=2;k<O.length;k+=4)w.data[k]=P(O[k]/256)*256}if(u){A.drawImage(u,0,0,f,m);const P=s(r),O=A.getImageData(0,0,f,m).data;for(let k=1;k<O.length;k+=4)w.data[k]=P(O[k]/256)*256}A.putImageData(w,0,0);const x=(e||r).clone();return x.source=new MA(_),x.encoding=Vo,x}processBuffer(e){const r=this.json,s=this.buffers;return r.buffers||(r.buffers=[{byteLength:0}]),s.push(e),0}processBufferView(e,r,s,a,u){const f=this.json;f.bufferViews||(f.bufferViews=[]);let m;r===ei.UNSIGNED_BYTE?m=1:r===ei.UNSIGNED_SHORT?m=2:m=4;const _=fx(a*e.itemSize*m),A=new DataView(new ArrayBuffer(_));let w=0;for(let P=s;P<s+a;P++)for(let O=0;O<e.itemSize;O++){let k;e.itemSize>4?k=e.array[P*e.itemSize+O]:(O===0?k=e.getX(P):O===1?k=e.getY(P):O===2?k=e.getZ(P):O===3&&(k=e.getW(P)),e.normalized===!0&&(k=Pm.normalize(k,e.array))),r===ei.FLOAT?A.setFloat32(w,k,!0):r===ei.UNSIGNED_INT?A.setUint32(w,k,!0):r===ei.UNSIGNED_SHORT?A.setUint16(w,k,!0):r===ei.UNSIGNED_BYTE&&A.setUint8(w,k),w+=m}const S={buffer:this.processBuffer(A.buffer),byteOffset:this.byteOffset,byteLength:_};return u!==void 0&&(S.target=u),u===ei.ARRAY_BUFFER&&(S.byteStride=e.itemSize*m),this.byteOffset+=_,f.bufferViews.push(S),{id:f.bufferViews.length-1,byteLength:0}}processBufferViewImage(e){const r=this,s=r.json;return s.bufferViews||(s.bufferViews=[]),new Promise(function(a){const u=new FileReader;u.readAsArrayBuffer(e),u.onloadend=function(){const f=gy(u.result),m={buffer:r.processBuffer(f),byteOffset:r.byteOffset,byteLength:f.byteLength};r.byteOffset+=f.byteLength,a(s.bufferViews.push(m)-1)}})}processAccessor(e,r,s,a){const u=this.json,f={1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"};let m;if(e.array.constructor===Float32Array)m=ei.FLOAT;else if(e.array.constructor===Uint32Array)m=ei.UNSIGNED_INT;else if(e.array.constructor===Uint16Array)m=ei.UNSIGNED_SHORT;else if(e.array.constructor===Uint8Array)m=ei.UNSIGNED_BYTE;else throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");if(s===void 0&&(s=0),a===void 0&&(a=e.count),a===0)return null;const _=$V(e,s,a);let A;r!==void 0&&(A=e===r.index?ei.ELEMENT_ARRAY_BUFFER:ei.ARRAY_BUFFER);const w=this.processBufferView(e,m,s,a,A),S={bufferView:w.id,byteOffset:w.byteOffset,componentType:m,count:a,max:_.max,min:_.min,type:f[e.itemSize]};return e.normalized===!0&&(S.normalized=!0),u.accessors||(u.accessors=[]),u.accessors.push(S)-1}processImage(e,r,s,a="image/png"){if(e!==null){const u=this,f=u.cache,m=u.json,_=u.options,A=u.pending;f.images.has(e)||f.images.set(e,{});const w=f.images.get(e),S=a+":flipY/"+s.toString();if(w[S]!==void 0)return w[S];m.images||(m.images=[]);const x={mimeType:a},P=hx();P.width=Math.min(e.width,_.maxTextureSize),P.height=Math.min(e.height,_.maxTextureSize);const O=P.getContext("2d");if(s===!0&&(O.translate(0,P.height),O.scale(1,-1)),e.data!==void 0){r!==Xi&&console.error("GLTFExporter: Only RGBAFormat is supported."),(e.width>_.maxTextureSize||e.height>_.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);const L=new Uint8ClampedArray(e.height*e.width*4);for(let U=0;U<L.length;U+=4)L[U+0]=e.data[U+0],L[U+1]=e.data[U+1],L[U+2]=e.data[U+2],L[U+3]=e.data[U+3];O.putImageData(new ImageData(L,e.width,e.height),0,0)}else O.drawImage(e,0,0,P.width,P.height);_.binary===!0?A.push(px(P,a).then(L=>u.processBufferViewImage(L)).then(L=>{x.bufferView=L})):P.toDataURL!==void 0?x.uri=P.toDataURL(a):A.push(px(P,a).then(L=>new FileReader().readAsDataURL(L)).then(L=>{x.uri=L}));const k=m.images.push(x)-1;return w[S]=k,k}else throw new Error("THREE.GLTFExporter: No valid image data found. Unable to process texture.")}processSampler(e){const r=this.json;r.samplers||(r.samplers=[]);const s={magFilter:ro[e.magFilter],minFilter:ro[e.minFilter],wrapS:ro[e.wrapS],wrapT:ro[e.wrapT]};return r.samplers.push(s)-1}processTexture(e){const r=this.cache,s=this.json;if(r.textures.has(e))return r.textures.get(e);s.textures||(s.textures=[]);let a=e.userData.mimeType;a==="image/webp"&&(a="image/png");const u={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,a)};e.name&&(u.name=e.name),this._invokeAll(function(m){m.writeTexture&&m.writeTexture(e,u)});const f=s.textures.push(u)-1;return r.textures.set(e,f),f}processMaterial(e){const r=this.cache,s=this.json;if(r.materials.has(e))return r.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;s.materials||(s.materials=[]);const a={pbrMetallicRoughness:{}};e.isMeshStandardMaterial!==!0&&e.isMeshBasicMaterial!==!0&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const u=e.color.toArray().concat([e.opacity]);if(Wh(u,[1,1,1,1])||(a.pbrMetallicRoughness.baseColorFactor=u),e.isMeshStandardMaterial?(a.pbrMetallicRoughness.metallicFactor=e.metalness,a.pbrMetallicRoughness.roughnessFactor=e.roughness):(a.pbrMetallicRoughness.metallicFactor=.5,a.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap){const m=this.buildMetalRoughTexture(e.metalnessMap,e.roughnessMap),_={index:this.processTexture(m)};this.applyTextureTransform(_,m),a.pbrMetallicRoughness.metallicRoughnessTexture=_}if(e.map){const m={index:this.processTexture(e.map)};this.applyTextureTransform(m,e.map),a.pbrMetallicRoughness.baseColorTexture=m}if(e.emissive){const m=e.emissive.clone().multiplyScalar(e.emissiveIntensity),_=Math.max(m.r,m.g,m.b);if(_>1&&(m.multiplyScalar(1/_),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),_>0&&(a.emissiveFactor=m.toArray()),e.emissiveMap){const A={index:this.processTexture(e.emissiveMap)};this.applyTextureTransform(A,e.emissiveMap),a.emissiveTexture=A}}if(e.normalMap){const m={index:this.processTexture(e.normalMap)};e.normalScale&&e.normalScale.x!==1&&(m.scale=e.normalScale.x),this.applyTextureTransform(m,e.normalMap),a.normalTexture=m}if(e.aoMap){const m={index:this.processTexture(e.aoMap),texCoord:1};e.aoMapIntensity!==1&&(m.strength=e.aoMapIntensity),this.applyTextureTransform(m,e.aoMap),a.occlusionTexture=m}e.transparent?a.alphaMode="BLEND":e.alphaTest>0&&(a.alphaMode="MASK",a.alphaCutoff=e.alphaTest),e.side===q&&(a.doubleSided=!0),e.name!==""&&(a.name=e.name),this.serializeUserData(e,a),this._invokeAll(function(m){m.writeMaterial&&m.writeMaterial(e,a)});const f=s.materials.push(a)-1;return r.materials.set(e,f),f}processMesh(e){const r=this.cache,s=this.json,a=[e.geometry.uuid];if(Array.isArray(e.material))for(let G=0,Z=e.material.length;G<Z;G++)a.push(e.material[G].uuid);else a.push(e.material.uuid);const u=a.join(":");if(r.meshes.has(u))return r.meshes.get(u);const f=e.geometry;let m;e.isLineSegments?m=ei.LINES:e.isLineLoop?m=ei.LINE_LOOP:e.isLine?m=ei.LINE_STRIP:e.isPoints?m=ei.POINTS:m=e.material.wireframe?ei.LINES:ei.TRIANGLES;const _={},A={},w=[],S=[],x={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},P=f.getAttribute("normal");P!==void 0&&!this.isNormalizedNormalAttribute(P)&&(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),f.setAttribute("normal",this.createNormalizedNormalAttribute(P)));let O=null;for(let G in f.attributes){if(G.slice(0,5)==="morph")continue;const Z=f.attributes[G];if(G=x[G]||G.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(G)||(G="_"+G),r.attributes.has(this.getUID(Z))){A[G]=r.attributes.get(this.getUID(Z));continue}O=null;const te=Z.array;G==="JOINTS_0"&&!(te instanceof Uint16Array)&&!(te instanceof Uint8Array)&&(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),O=new Yr(new Uint16Array(te),Z.itemSize,Z.normalized));const ae=this.processAccessor(O||Z,f);ae!==null&&(A[G]=ae,r.attributes.set(this.getUID(Z),ae))}if(P!==void 0&&f.setAttribute("normal",P),Object.keys(A).length===0)return null;if(e.morphTargetInfluences!==void 0&&e.morphTargetInfluences.length>0){const G=[],Z=[],X={};if(e.morphTargetDictionary!==void 0)for(const te in e.morphTargetDictionary)X[e.morphTargetDictionary[te]]=te;for(let te=0;te<e.morphTargetInfluences.length;++te){const ae={};let j=!1;for(const ge in f.morphAttributes){if(ge!=="position"&&ge!=="normal"){j||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),j=!0);continue}const we=f.morphAttributes[ge][te],Le=ge.toUpperCase(),je=f.attributes[ge];if(r.attributes.has(this.getUID(we,!0))){ae[Le]=r.attributes.get(this.getUID(we,!0));continue}const be=we.clone();if(!f.morphTargetsRelative)for(let Te=0,Je=we.count;Te<Je;Te++)for(let it=0;it<we.itemSize;it++)it===0&&be.setX(Te,we.getX(Te)-je.getX(Te)),it===1&&be.setY(Te,we.getY(Te)-je.getY(Te)),it===2&&be.setZ(Te,we.getZ(Te)-je.getZ(Te)),it===3&&be.setW(Te,we.getW(Te)-je.getW(Te));ae[Le]=this.processAccessor(be,f),r.attributes.set(this.getUID(je,!0),ae[Le])}S.push(ae),G.push(e.morphTargetInfluences[te]),e.morphTargetDictionary!==void 0&&Z.push(X[te])}_.weights=G,Z.length>0&&(_.extras={},_.extras.targetNames=Z)}const k=Array.isArray(e.material);if(k&&f.groups.length===0)return null;const L=k?e.material:[e.material],U=k?f.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let G=0,Z=U.length;G<Z;G++){const X={mode:m,attributes:A};if(this.serializeUserData(f,X),S.length>0&&(X.targets=S),f.index!==null){let ae=this.getUID(f.index);(U[G].start!==void 0||U[G].count!==void 0)&&(ae+=":"+U[G].start+":"+U[G].count),r.attributes.has(ae)?X.indices=r.attributes.get(ae):(X.indices=this.processAccessor(f.index,f,U[G].start,U[G].count),r.attributes.set(ae,X.indices)),X.indices===null&&delete X.indices}const te=this.processMaterial(L[U[G].materialIndex]);te!==null&&(X.material=te),w.push(X)}_.primitives=w,s.meshes||(s.meshes=[]),this._invokeAll(function(G){G.writeMesh&&G.writeMesh(e,_)});const Q=s.meshes.push(_)-1;return r.meshes.set(u,Q),Q}processCamera(e){const r=this.json;r.cameras||(r.cameras=[]);const s=e.isOrthographicCamera,a={type:s?"orthographic":"perspective"};return s?a.orthographic={xmag:e.right*2,ymag:e.top*2,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:a.perspective={aspectRatio:e.aspect,yfov:Pm.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},e.name!==""&&(a.name=e.type),r.cameras.push(a)-1}processAnimation(e,r){const s=this.json,a=this.nodeMap;s.animations||(s.animations=[]),e=my.Utils.mergeMorphTargetTracks(e.clone(),r);const u=e.tracks,f=[],m=[];for(let _=0;_<u.length;++_){const A=u[_],w=Qr.parseTrackName(A.name);let S=Qr.findNode(r,w.nodeName);const x=cx[w.propertyName];if(w.objectName==="bones"&&(S.isSkinnedMesh===!0?S=S.skeleton.getBoneByName(w.objectIndex):S=void 0),!S||!x)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',A.name),null;const P=1;let O=A.values.length/A.times.length;x===cx.morphTargetInfluences&&(O/=S.morphTargetInfluences.length);let k;A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(k="CUBICSPLINE",O/=3):A.getInterpolation()===rd?k="STEP":k="LINEAR",m.push({input:this.processAccessor(new Yr(A.times,P)),output:this.processAccessor(new Yr(A.values,O)),interpolation:k}),f.push({sampler:m.length-1,target:{node:a.get(S),path:x}})}return s.animations.push({name:e.name||"clip_"+s.animations.length,samplers:m,channels:f}),s.animations.length-1}processSkin(e){const r=this.json,s=this.nodeMap,a=r.nodes[s.get(e)],u=e.skeleton;if(u===void 0)return null;const f=e.skeleton.bones[0];if(f===void 0)return null;const m=[],_=new Float32Array(u.bones.length*16),A=new Rr;for(let S=0;S<u.bones.length;++S)m.push(s.get(u.bones[S])),A.copy(u.boneInverses[S]),A.multiply(e.bindMatrix).toArray(_,S*16);return r.skins===void 0&&(r.skins=[]),r.skins.push({inverseBindMatrices:this.processAccessor(new Yr(_,16)),joints:m,skeleton:s.get(f)}),a.skin=r.skins.length-1}processNode(e){const r=this.json,s=this.options,a=this.nodeMap;r.nodes||(r.nodes=[]);const u={};if(s.trs){const m=e.quaternion.toArray(),_=e.position.toArray(),A=e.scale.toArray();Wh(m,[0,0,0,1])||(u.rotation=m),Wh(_,[0,0,0])||(u.translation=_),Wh(A,[1,1,1])||(u.scale=A)}else e.matrixAutoUpdate&&e.updateMatrix(),XV(e.matrix)===!1&&(u.matrix=e.matrix.elements);if(e.name!==""&&(u.name=String(e.name)),this.serializeUserData(e,u),e.isMesh||e.isLine||e.isPoints){const m=this.processMesh(e);m!==null&&(u.mesh=m)}else e.isCamera&&(u.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){const m=[];for(let _=0,A=e.children.length;_<A;_++){const w=e.children[_];if(w.visible||s.onlyVisible===!1){const S=this.processNode(w);S!==null&&m.push(S)}}m.length>0&&(u.children=m)}this._invokeAll(function(m){m.writeNode&&m.writeNode(e,u)});const f=r.nodes.push(u)-1;return a.set(e,f),f}processScene(e){const r=this.json,s=this.options;r.scenes||(r.scenes=[],r.scene=0);const a={};e.name!==""&&(a.name=e.name),r.scenes.push(a);const u=[];for(let f=0,m=e.children.length;f<m;f++){const _=e.children[f];if(_.visible||s.onlyVisible===!1){const A=this.processNode(_);A!==null&&u.push(A)}}u.length>0&&(a.nodes=u),this.serializeUserData(e,a)}processObjects(e){const r=new ig;r.name="AuxScene";for(let s=0;s<e.length;s++)r.children.push(e[s]);this.processScene(r)}processInput(e){const r=this.options;e=e instanceof Array?e:[e],this._invokeAll(function(a){a.beforeParse&&a.beforeParse(e)});const s=[];for(let a=0;a<e.length;a++)e[a]instanceof ig?this.processScene(e[a]):s.push(e[a]);s.length>0&&this.processObjects(s);for(let a=0;a<this.skins.length;++a)this.processSkin(this.skins[a]);for(let a=0;a<r.animations.length;++a)this.processAnimation(r.animations[a],e[0]);this._invokeAll(function(a){a.afterParse&&a.afterParse(e)})}_invokeAll(e){for(let r=0,s=this.plugins.length;r<s;r++)e(this.plugins[r])}}class KV{constructor(e){this.writer=e,this.name="KHR_lights_punctual"}writeNode(e,r){if(!e.isLight)return;if(!e.isDirectionalLight&&!e.isPointLight&&!e.isSpotLight){console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e);return}const s=this.writer,a=s.json,u=s.extensionsUsed,f={};e.name&&(f.name=e.name),f.color=e.color.toArray(),f.intensity=e.intensity,e.isDirectionalLight?f.type="directional":e.isPointLight?(f.type="point",e.distance>0&&(f.range=e.distance)):e.isSpotLight&&(f.type="spot",e.distance>0&&(f.range=e.distance),f.spot={},f.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,f.spot.outerConeAngle=e.angle),e.decay!==void 0&&e.decay!==2&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),e.target&&(e.target.parent!==e||e.target.position.x!==0||e.target.position.y!==0||e.target.position.z!==-1)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),u[this.name]||(a.extensions=a.extensions||{},a.extensions[this.name]={lights:[]},u[this.name]=!0);const m=a.extensions[this.name].lights;m.push(f),r.extensions=r.extensions||{},r.extensions[this.name]={light:m.length-1}}}class jV{constructor(e){this.writer=e,this.name="KHR_materials_unlit"}writeMaterial(e,r){if(!e.isMeshBasicMaterial)return;const a=this.writer.extensionsUsed;r.extensions=r.extensions||{},r.extensions[this.name]={},a[this.name]=!0,r.pbrMetallicRoughness.metallicFactor=0,r.pbrMetallicRoughness.roughnessFactor=.9}}class qV{constructor(e){this.writer=e,this.name="KHR_materials_clearcoat"}writeMaterial(e,r){if(!e.isMeshPhysicalMaterial)return;const s=this.writer,a=s.extensionsUsed,u={};if(u.clearcoatFactor=e.clearcoat,e.clearcoatMap){const f={index:s.processTexture(e.clearcoatMap)};s.applyTextureTransform(f,e.clearcoatMap),u.clearcoatTexture=f}if(u.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){const f={index:s.processTexture(e.clearcoatRoughnessMap)};s.applyTextureTransform(f,e.clearcoatRoughnessMap),u.clearcoatRoughnessTexture=f}if(e.clearcoatNormalMap){const f={index:s.processTexture(e.clearcoatNormalMap)};s.applyTextureTransform(f,e.clearcoatNormalMap),u.clearcoatNormalTexture=f}r.extensions=r.extensions||{},r.extensions[this.name]=u,a[this.name]=!0}}class YV{constructor(e){this.writer=e,this.name="KHR_materials_iridescence"}writeMaterial(e,r){if(!e.isMeshPhysicalMaterial)return;const s=this.writer,a=s.extensionsUsed,u={};if(u.iridescenceFactor=e.iridescence,e.iridescenceMap){const f={index:s.processTexture(e.iridescenceMap)};s.applyTextureTransform(f,e.iridescenceMap),u.iridescenceTexture=f}if(u.iridescenceIor=e.iridescenceIOR,u.iridescenceThicknessMinimum=e.iridescenceThicknessRange[0],u.iridescenceThicknessMaximum=e.iridescenceThicknessRange[1],e.iridescenceThicknessMap){const f={index:s.processTexture(e.iridescenceThicknessMap)};s.applyTextureTransform(f,e.iridescenceThicknessMap),u.iridescenceThicknessTexture=f}r.extensions=r.extensions||{},r.extensions[this.name]=u,a[this.name]=!0}}class JV{constructor(e){this.writer=e,this.name="KHR_materials_transmission"}writeMaterial(e,r){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;const s=this.writer,a=s.extensionsUsed,u={};if(u.transmissionFactor=e.transmission,e.transmissionMap){const f={index:s.processTexture(e.transmissionMap)};s.applyTextureTransform(f,e.transmissionMap),u.transmissionTexture=f}r.extensions=r.extensions||{},r.extensions[this.name]=u,a[this.name]=!0}}class ZV{constructor(e){this.writer=e,this.name="KHR_materials_volume"}writeMaterial(e,r){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;const s=this.writer,a=s.extensionsUsed,u={};if(u.thicknessFactor=e.thickness,e.thicknessMap){const f={index:s.processTexture(e.thicknessMap)};s.applyTextureTransform(f,e.thicknessMap),u.thicknessTexture=f}u.attenuationDistance=e.attenuationDistance,u.attenuationColor=e.attenuationColor.toArray(),r.extensions=r.extensions||{},r.extensions[this.name]=u,a[this.name]=!0}}my.Utils={insertKeyframe:function(p,e){const s=p.getValueSize(),a=new p.TimeBufferType(p.times.length+1),u=new p.ValueBufferType(p.values.length+s),f=p.createInterpolant(new p.ValueBufferType(s));let m;if(p.times.length===0){a[0]=e;for(let _=0;_<s;_++)u[_]=0;m=0}else if(e<p.times[0]){if(Math.abs(p.times[0]-e)<.001)return 0;a[0]=e,a.set(p.times,1),u.set(f.evaluate(e),0),u.set(p.values,s),m=0}else if(e>p.times[p.times.length-1]){if(Math.abs(p.times[p.times.length-1]-e)<.001)return p.times.length-1;a[a.length-1]=e,a.set(p.times,0),u.set(p.values,0),u.set(f.evaluate(e),p.values.length),m=a.length-1}else for(let _=0;_<p.times.length;_++){if(Math.abs(p.times[_]-e)<.001)return _;if(p.times[_]<e&&p.times[_+1]>e){a.set(p.times.slice(0,_+1),0),a[_+1]=e,a.set(p.times.slice(_+1),_+2),u.set(p.values.slice(0,(_+1)*s),0),u.set(f.evaluate(e),(_+1)*s),u.set(p.values.slice((_+1)*s),(_+2)*s),m=_+1;break}}return p.times=a,p.values=u,m},mergeMorphTargetTracks:function(p,e){const r=[],s={},a=p.tracks;for(let u=0;u<a.length;++u){let f=a[u];const m=Qr.parseTrackName(f.name),_=Qr.findNode(e,m.nodeName);if(m.propertyName!=="morphTargetInfluences"||m.propertyIndex===void 0){r.push(f);continue}if(f.createInterpolant!==f.InterpolantFactoryMethodDiscrete&&f.createInterpolant!==f.InterpolantFactoryMethodLinear){if(f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),f=f.clone(),f.setInterpolation(Hc)}const A=_.morphTargetInfluences.length,w=_.morphTargetDictionary[m.propertyIndex];if(w===void 0)throw new Error("THREE.GLTFExporter: Morph target name not found: "+m.propertyIndex);let S;if(s[_.uuid]===void 0){S=f.clone();const P=new S.ValueBufferType(A*S.times.length);for(let O=0;O<S.times.length;O++)P[O*A+w]=S.values[O];S.name=(m.nodeName||"")+".morphTargetInfluences",S.values=P,s[_.uuid]=S,r.push(S);continue}const x=f.createInterpolant(new f.ValueBufferType(1));S=s[_.uuid];for(let P=0;P<S.times.length;P++)S.values[P*A+w]=x.evaluate(S.times[P]);for(let P=0;P<f.times.length;P++){const O=this.insertKeyframe(S,f.times[P]);S.values[O*A+w]=f.values[P]}}return p.tracks=r,p}};var eG=function(){function p(e){this.gltfExporter=new my,this.options={trs:!1,onlyVisible:!0,truncateDrawRange:!0,binary:!1,maxTextureSize:4096e7,animations:[]},Object.assign(this.options,e),this.link=document.createElement("a"),this.link.style.display="none",document.body.appendChild(this.link)}return p.prototype.export=function(e){var r=this,s=e.name?e.name:"export";this.gltfExporter.parse(e,function(a){if(a instanceof ArrayBuffer)r.saveArrayBuffer(a,s+".glb");else{var u=JSON.stringify(a,null,2);r.saveString(u,s+".gltf")}},function(a){console.log("An error happened during parsing",a)},this.options)},p.prototype.save=function(e,r){this.link.href=URL.createObjectURL(e),this.link.download=r,this.link.click()},p.prototype.saveString=function(e,r){this.save(new Blob([e],{type:"text/plain"}),r)},p.prototype.saveArrayBuffer=function(e,r){this.save(new Blob([e],{type:"application/octet-stream"}),r)},p}(),mx=function(){function p(e,r){var s=this;this.visualCtrls=[],this.exporter=null,this.container=e,this.options=r,this.renderer=new rg({antialias:!0}),this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=Lr,this.gui=null,this.stats=VV(),this.pmremGenerator=new Zm(this.renderer),this.pmremGenerator.compileEquirectangularShader(),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.currentScene=new hy(this.container,this.renderer),this.currentScene.sceneName="default",this.updateEnvironment(this.currentScene.vignette),this.state={playbackSpeed:1,wireframe:!1,skeleton:!1,grid:!1,addLights:!0,exposure:1,ambientIntensity:.3,ambientColor:2105376,directIntensity:.8*Math.PI,directColor:16777215,bgColor1:"#5454ad",bgColor2:"#18e5a7",exportGltf:function(){s.exporter||(s.exporter=new eG({animations:s.currentScene.exportContent.animations})),s.exporter.export(s.currentScene.exportContent)}},this.visualiseFolder=null,this.cameraFolder=null,this.init()}return p.prototype.init=function(){var e;this.currentScene.sceneName===""&&(this.currentScene.sceneName="default"),((e=this.options)===null||e===void 0?void 0:e.guiOpen)&&!this.gui&&this.addGui(),[].forEach.call(this.stats.dom.children,function(r){return r.style.display=""}),this.container.appendChild(this.renderer.domElement)},p.prototype.updateEnvironment=function(e){var r=this,s=py.filter(function(a){return a.name==="Venice Sunset"})[0];this.getCubeMapTexture(s).then(function(a){var u=r.getCurrentScene();a&&e&&(u==null||u.scene.add(e.mesh)),u.scene.environment=a,u.scene.background=a})},p.prototype.getCubeMapTexture=function(e){var r=this,s=e.path;return s?new Promise(function(a,u){new lx().load(s,function(f){var m=r.pmremGenerator.fromEquirectangular(f).texture;r.pmremGenerator.dispose(),a(m)},void 0,u)}):Promise.resolve({envMap:null})},p.prototype.getCurrentScene=function(){return this.currentScene},p.prototype.hideGui=function(){this.gui&&this.gui.hide()},p.prototype.closeGui=function(){this.gui&&(this.gui.closed=!0)},p.prototype.addGui=function(){var e=this,r,s,a,u=this.gui=new Xh({width:260}),f=u.addFolder("Visualisation settings"),m=f.add(this.state,"wireframe");m.onChange(function(){return e.currentScene.updateDisplay(e.state)}),this.visualiseFolder=f.addFolder("ModelVisualisation");var _=f.addColor(this.state,"bgColor1"),A=f.addColor(this.state,"bgColor2");if(_.onChange(function(){return e.currentScene.updateBackground(e.state.bgColor1,e.state.bgColor2)}),A.onChange(function(){return e.currentScene.updateBackground(e.state.bgColor1,e.state.bgColor2)}),!((r=this.options)===null||r===void 0)&&r.camera&&(this.cameraFolder=u.addFolder("Camera")),!((s=this.options)===null||s===void 0)&&s.performance){var w=u.addFolder("Performance"),S=document.createElement("li");this.stats.dom.style.position="static",S.appendChild(this.stats.dom),S.style.height="50px",w.__ul.appendChild(S)}if(!((a=this.options)===null||a===void 0)&&a.light){var x=u.addFolder("LightsFolder");[x.add(this.state,"addLights").listen(),x.add(this.state,"ambientIntensity",0,2),x.addColor(this.state,"ambientColor"),x.add(this.state,"directIntensity",0,4),x.addColor(this.state,"directColor")].forEach(function(P){return P.onChange(function(){return e.currentScene.updateLights(e.state)})})}u.add(this.state,"exportGltf")},p.prototype.updateGui=function(){var e=this;this.visualCtrls.length!==0&&this.visualCtrls.forEach(function(r){var s;(s=e.visualiseFolder)===null||s===void 0||s.remove(r)}),this.visualCtrls=[],setTimeout(function(){var r,s,a,u,f,m,_,A,w=[];(r=e.currentScene.content)===null||r===void 0||r.children;var S=function(Q){if(Q.isMesh){var G={name:Q.name||"Untitled",visible:Q.visible,mesh:Q};w.push(G)}};if((s=e.currentScene.content)===null||s===void 0||s.traverse(function(Q){Q.isMesh&&S(Q)}),w.forEach(function(Q){var G=e.visualiseFolder.add(Q,"visible").name(Q.name).onChange(function(){e.currentScene.updateModelChildrenVisualisation(Q.mesh)});e.visualCtrls.push(G)}),e.cameraFolder){if(e.cameraFolder.__controllers.length>0){var x=[];e.cameraFolder.__controllers.forEach(function(Q){x.push(Q)}),x.forEach(function(Q){var G;(G=e.cameraFolder)===null||G===void 0||G.remove(Q)})}(a=e.cameraFolder)===null||a===void 0||a.add(e.currentScene.camera,"near"),(u=e.cameraFolder)===null||u===void 0||u.add(e.currentScene.camera,"far");var P=(f=e.cameraFolder)===null||f===void 0?void 0:f.__folders;for(var O in P)if(Object.prototype.hasOwnProperty.call(P,O)){var k=P[O];(m=e.cameraFolder)===null||m===void 0||m.removeFolder(k)}var L=(_=e.cameraFolder)===null||_===void 0?void 0:_.addFolder("position");L.add(e.currentScene.camera.position,"x"),L.add(e.currentScene.camera.position,"y"),L.add(e.currentScene.camera.position,"z");var U=(A=e.cameraFolder)===null||A===void 0?void 0:A.addFolder("up");U.add(e.currentScene.camera.up,"x"),U.add(e.currentScene.camera.up,"y"),U.add(e.currentScene.camera.up,"z")}},1500)},p}();const vy={type:"change"},_y={type:"start"},Ay={type:"end"};class gx extends Wa{constructor(e,r){super();const s=this,a={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=r,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:I.ROTATE,MIDDLE:I.DOLLY,RIGHT:I.PAN},this.target=new ut;const u=1e-6,f=new ut;let m=1,_=a.NONE,A=a.NONE,w=0,S=0,x=0;const P=new ut,O=new Gn,k=new Gn,L=new ut,U=new Gn,Q=new Gn,G=new Gn,Z=new Gn,X=[],te={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const $e=s.domElement.getBoundingClientRect(),Mt=s.domElement.ownerDocument.documentElement;s.screen.left=$e.left+window.pageXOffset-Mt.clientLeft,s.screen.top=$e.top+window.pageYOffset-Mt.clientTop,s.screen.width=$e.width,s.screen.height=$e.height};const ae=function(){const $e=new Gn;return function(jt,Kt){return $e.set((jt-s.screen.left)/s.screen.width,(Kt-s.screen.top)/s.screen.height),$e}}(),j=function(){const $e=new Gn;return function(jt,Kt){return $e.set((jt-s.screen.width*.5-s.screen.left)/(s.screen.width*.5),(s.screen.height+2*(s.screen.top-Kt))/s.screen.width),$e}}();this.rotateCamera=function(){const $e=new ut,Mt=new Ds,jt=new ut,Kt=new ut,wn=new ut,Pn=new ut;return function(){Pn.set(k.x-O.x,k.y-O.y,0);let Br=Pn.length();Br?(P.copy(s.object.position).sub(s.target),jt.copy(P).normalize(),Kt.copy(s.object.up).normalize(),wn.crossVectors(Kt,jt).normalize(),Kt.setLength(k.y-O.y),wn.setLength(k.x-O.x),Pn.copy(Kt.add(wn)),$e.crossVectors(Pn,P).normalize(),Br*=s.rotateSpeed,Mt.setFromAxisAngle($e,Br),P.applyQuaternion(Mt),s.object.up.applyQuaternion(Mt),L.copy($e),x=Br):!s.staticMoving&&x&&(x*=Math.sqrt(1-s.dynamicDampingFactor),P.copy(s.object.position).sub(s.target),Mt.setFromAxisAngle(L,x),P.applyQuaternion(Mt),s.object.up.applyQuaternion(Mt)),O.copy(k)}}(),this.zoomCamera=function(){let $e;_===a.TOUCH_ZOOM_PAN?($e=w/S,w=S,s.object.isPerspectiveCamera?P.multiplyScalar($e):s.object.isOrthographicCamera?(s.object.zoom/=$e,s.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):($e=1+(Q.y-U.y)*s.zoomSpeed,$e!==1&&$e>0&&(s.object.isPerspectiveCamera?P.multiplyScalar($e):s.object.isOrthographicCamera?(s.object.zoom/=$e,s.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),s.staticMoving?U.copy(Q):U.y+=(Q.y-U.y)*this.dynamicDampingFactor)},this.panCamera=function(){const $e=new Gn,Mt=new ut,jt=new ut;return function(){if($e.copy(Z).sub(G),$e.lengthSq()){if(s.object.isOrthographicCamera){const wn=(s.object.right-s.object.left)/s.object.zoom/s.domElement.clientWidth,Pn=(s.object.top-s.object.bottom)/s.object.zoom/s.domElement.clientWidth;$e.x*=wn,$e.y*=Pn}$e.multiplyScalar(P.length()*s.panSpeed),jt.copy(P).cross(s.object.up).setLength($e.x),jt.add(Mt.copy(s.object.up).setLength($e.y)),s.object.position.add(jt),s.target.add(jt),s.staticMoving?G.copy(Z):G.add($e.subVectors(Z,G).multiplyScalar(s.dynamicDampingFactor))}}}(),this.checkDistances=function(){(!s.noZoom||!s.noPan)&&(P.lengthSq()>s.maxDistance*s.maxDistance&&(s.object.position.addVectors(s.target,P.setLength(s.maxDistance)),U.copy(Q)),P.lengthSq()<s.minDistance*s.minDistance&&(s.object.position.addVectors(s.target,P.setLength(s.minDistance)),U.copy(Q)))},this.update=function(){P.subVectors(s.object.position,s.target),s.noRotate||s.rotateCamera(),s.noZoom||s.zoomCamera(),s.noPan||s.panCamera(),s.object.position.addVectors(s.target,P),s.object.isPerspectiveCamera?(s.checkDistances(),s.object.lookAt(s.target),f.distanceToSquared(s.object.position)>u&&(s.dispatchEvent(vy),f.copy(s.object.position))):s.object.isOrthographicCamera?(s.object.lookAt(s.target),(f.distanceToSquared(s.object.position)>u||m!==s.object.zoom)&&(s.dispatchEvent(vy),f.copy(s.object.position),m=s.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){_=a.NONE,A=a.NONE,s.target.copy(s.target0),s.object.position.copy(s.position0),s.object.up.copy(s.up0),s.object.zoom=s.zoom0,s.object.updateProjectionMatrix(),P.subVectors(s.object.position,s.target),s.object.lookAt(s.target),s.dispatchEvent(vy),f.copy(s.object.position),m=s.object.zoom};function ge($e){s.enabled!==!1&&(X.length===0&&(s.domElement.setPointerCapture($e.pointerId),s.domElement.addEventListener("pointermove",we),s.domElement.addEventListener("pointerup",Le)),Qt($e),$e.pointerType==="touch"?lt($e):Je($e))}function we($e){s.enabled!==!1&&($e.pointerType==="touch"?mt($e):it($e))}function Le($e){s.enabled!==!1&&($e.pointerType==="touch"?ft($e):tt(),c($e),X.length===0&&(s.domElement.releasePointerCapture($e.pointerId),s.domElement.removeEventListener("pointermove",we),s.domElement.removeEventListener("pointerup",Le)))}function je($e){c($e)}function be($e){s.enabled!==!1&&(window.removeEventListener("keydown",be),A===a.NONE&&($e.code===s.keys[a.ROTATE]&&!s.noRotate?A=a.ROTATE:$e.code===s.keys[a.ZOOM]&&!s.noZoom?A=a.ZOOM:$e.code===s.keys[a.PAN]&&!s.noPan&&(A=a.PAN)))}function Te(){s.enabled!==!1&&(A=a.NONE,window.addEventListener("keydown",be))}function Je($e){if(_===a.NONE)switch($e.button){case s.mouseButtons.LEFT:_=a.ROTATE;break;case s.mouseButtons.MIDDLE:_=a.ZOOM;break;case s.mouseButtons.RIGHT:_=a.PAN;break}const Mt=A!==a.NONE?A:_;Mt===a.ROTATE&&!s.noRotate?(k.copy(j($e.pageX,$e.pageY)),O.copy(k)):Mt===a.ZOOM&&!s.noZoom?(U.copy(ae($e.pageX,$e.pageY)),Q.copy(U)):Mt===a.PAN&&!s.noPan&&(G.copy(ae($e.pageX,$e.pageY)),Z.copy(G)),s.dispatchEvent(_y)}function it($e){const Mt=A!==a.NONE?A:_;Mt===a.ROTATE&&!s.noRotate?(O.copy(k),k.copy(j($e.pageX,$e.pageY))):Mt===a.ZOOM&&!s.noZoom?Q.copy(ae($e.pageX,$e.pageY)):Mt===a.PAN&&!s.noPan&&Z.copy(ae($e.pageX,$e.pageY))}function tt(){_=a.NONE,s.dispatchEvent(Ay)}function Me($e){if(s.enabled!==!1&&s.noZoom!==!0){switch($e.preventDefault(),$e.deltaMode){case 2:U.y-=$e.deltaY*.025;break;case 1:U.y-=$e.deltaY*.01;break;default:U.y-=$e.deltaY*25e-5;break}s.dispatchEvent(_y),s.dispatchEvent(Ay)}}function lt($e){switch(pn($e),X.length){case 1:_=a.TOUCH_ROTATE,k.copy(j(X[0].pageX,X[0].pageY)),O.copy(k);break;default:_=a.TOUCH_ZOOM_PAN;const Mt=X[0].pageX-X[1].pageX,jt=X[0].pageY-X[1].pageY;S=w=Math.sqrt(Mt*Mt+jt*jt);const Kt=(X[0].pageX+X[1].pageX)/2,wn=(X[0].pageY+X[1].pageY)/2;G.copy(ae(Kt,wn)),Z.copy(G);break}s.dispatchEvent(_y)}function mt($e){switch(pn($e),X.length){case 1:O.copy(k),k.copy(j($e.pageX,$e.pageY));break;default:const Mt=at($e),jt=$e.pageX-Mt.x,Kt=$e.pageY-Mt.y;S=Math.sqrt(jt*jt+Kt*Kt);const wn=($e.pageX+Mt.x)/2,Pn=($e.pageY+Mt.y)/2;Z.copy(ae(wn,Pn));break}}function ft($e){switch(X.length){case 0:_=a.NONE;break;case 1:_=a.TOUCH_ROTATE,k.copy(j($e.pageX,$e.pageY)),O.copy(k);break;case 2:_=a.TOUCH_ZOOM_PAN;for(let Mt=0;Mt<X.length;Mt++)if(X[Mt].pointerId!==$e.pointerId){const jt=te[X[Mt].pointerId];k.copy(j(jt.x,jt.y)),O.copy(k);break}break}s.dispatchEvent(Ay)}function gt($e){s.enabled!==!1&&$e.preventDefault()}function Qt($e){X.push($e)}function c($e){delete te[$e.pointerId];for(let Mt=0;Mt<X.length;Mt++)if(X[Mt].pointerId==$e.pointerId){X.splice(Mt,1);return}}function pn($e){let Mt=te[$e.pointerId];Mt===void 0&&(Mt=new Gn,te[$e.pointerId]=Mt),Mt.set($e.pageX,$e.pageY)}function at($e){const Mt=$e.pointerId===X[0].pointerId?X[1]:X[0];return te[Mt.pointerId]}this.dispose=function(){s.domElement.removeEventListener("contextmenu",gt),s.domElement.removeEventListener("pointerdown",ge),s.domElement.removeEventListener("pointercancel",je),s.domElement.removeEventListener("wheel",Me),s.domElement.removeEventListener("pointermove",we),s.domElement.removeEventListener("pointerup",Le),window.removeEventListener("keydown",be),window.removeEventListener("keyup",Te)},this.domElement.addEventListener("contextmenu",gt),this.domElement.addEventListener("pointerdown",ge),this.domElement.addEventListener("pointercancel",je),this.domElement.addEventListener("wheel",Me,{passive:!1}),window.addEventListener("keydown",be),window.addEventListener("keyup",Te),this.handleResize(),this.update()}}class tG extends tl{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(r){return new oG(r)}),this.register(function(r){return new hG(r)}),this.register(function(r){return new pG(r)}),this.register(function(r){return new lG(r)}),this.register(function(r){return new cG(r)}),this.register(function(r){return new uG(r)}),this.register(function(r){return new dG(r)}),this.register(function(r){return new sG(r)}),this.register(function(r){return new fG(r)}),this.register(function(r){return new aG(r)}),this.register(function(r){return new rG(r)}),this.register(function(r){return new mG(r)}),this.register(function(r){return new gG(r)})}load(e,r,s,a){const u=this;let f;this.resourcePath!==""?f=this.resourcePath:this.path!==""?f=this.path:f=Ra.extractUrlBase(e),this.manager.itemStart(e);const m=function(A){a?a(A):console.error(A),u.manager.itemError(e),u.manager.itemEnd(e)},_=new $o(this.manager);_.setPath(this.path),_.setResponseType("arraybuffer"),_.setRequestHeader(this.requestHeader),_.setWithCredentials(this.withCredentials),_.load(e,function(A){try{u.parse(A,f,function(w){r(w),u.manager.itemEnd(e)},m)}catch(w){m(w)}},s,m)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,r,s,a){let u;const f={},m={};if(typeof e=="string")u=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Ra.decodeText(new Uint8Array(e,0,4))===vx){try{f[$r.KHR_BINARY_GLTF]=new vG(e)}catch(w){a&&a(w);return}u=JSON.parse(f[$r.KHR_BINARY_GLTF].content)}else u=JSON.parse(Ra.decodeText(new Uint8Array(e)));else u=e;if(u.asset===void 0||u.asset.version[0]<2){a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const _=new TG(u,{path:r||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});_.fileLoader.setRequestHeader(this.requestHeader);for(let A=0;A<this.pluginCallbacks.length;A++){const w=this.pluginCallbacks[A](_);m[w.name]=w,f[w.name]=!0}if(u.extensionsUsed)for(let A=0;A<u.extensionsUsed.length;++A){const w=u.extensionsUsed[A],S=u.extensionsRequired||[];switch(w){case $r.KHR_MATERIALS_UNLIT:f[w]=new iG;break;case $r.KHR_DRACO_MESH_COMPRESSION:f[w]=new _G(u,this.dracoLoader);break;case $r.KHR_TEXTURE_TRANSFORM:f[w]=new AG;break;case $r.KHR_MESH_QUANTIZATION:f[w]=new yG;break;default:S.indexOf(w)>=0&&m[w]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}_.setExtensions(f),_.setPlugins(m),_.parse(s,a)}parseAsync(e,r){const s=this;return new Promise(function(a,u){s.parse(e,r,a,u)})}}function nG(){let p={};return{get:function(e){return p[e]},add:function(e,r){p[e]=r},remove:function(e){delete p[e]},removeAll:function(){p={}}}}const $r={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class rG{constructor(e){this.parser=e,this.name=$r.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,r=this.parser.json.nodes||[];for(let s=0,a=r.length;s<a;s++){const u=r[s];u.extensions&&u.extensions[this.name]&&u.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,u.extensions[this.name].light)}}_loadLight(e){const r=this.parser,s="light:"+e;let a=r.cache.get(s);if(a)return a;const u=r.json,_=((u.extensions&&u.extensions[this.name]||{}).lights||[])[e];let A;const w=new dr(16777215);_.color!==void 0&&w.fromArray(_.color);const S=_.range!==void 0?_.range:0;switch(_.type){case"directional":A=new h0(w),A.target.position.set(0,0,-1),A.add(A.target);break;case"point":A=new YO(w),A.distance=S;break;case"spot":A=new jO(w),A.distance=S,_.spot=_.spot||{},_.spot.innerConeAngle=_.spot.innerConeAngle!==void 0?_.spot.innerConeAngle:0,_.spot.outerConeAngle=_.spot.outerConeAngle!==void 0?_.spot.outerConeAngle:Math.PI/4,A.angle=_.spot.outerConeAngle,A.penumbra=1-_.spot.innerConeAngle/_.spot.outerConeAngle,A.target.position.set(0,0,-1),A.add(A.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+_.type)}return A.position.set(0,0,0),A.decay=2,ic(A,_),_.intensity!==void 0&&(A.intensity=_.intensity),A.name=r.createUniqueName(_.name||"light_"+e),a=Promise.resolve(A),r.cache.add(s,a),a}getDependency(e,r){if(e==="light")return this._loadLight(r)}createNodeAttachment(e){const r=this,s=this.parser,u=s.json.nodes[e],m=(u.extensions&&u.extensions[this.name]||{}).light;return m===void 0?null:this._loadLight(m).then(function(_){return s._getNodeRef(r.cache,m,_)})}}class iG{constructor(){this.name=$r.KHR_MATERIALS_UNLIT}getMaterialType(){return el}extendParams(e,r,s){const a=[];e.color=new dr(1,1,1),e.opacity=1;const u=r.pbrMetallicRoughness;if(u){if(Array.isArray(u.baseColorFactor)){const f=u.baseColorFactor;e.color.fromArray(f),e.opacity=f[3]}u.baseColorTexture!==void 0&&a.push(s.assignTexture(e,"map",u.baseColorTexture,Lr))}return Promise.all(a)}}class sG{constructor(e){this.parser=e,this.name=$r.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,r){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=a.extensions[this.name].emissiveStrength;return u!==void 0&&(r.emissiveIntensity=u),Promise.resolve()}}class oG{constructor(e){this.parser=e,this.name=$r.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:Zc}extendMaterialParams(e,r){const s=this.parser,a=s.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=[],f=a.extensions[this.name];if(f.clearcoatFactor!==void 0&&(r.clearcoat=f.clearcoatFactor),f.clearcoatTexture!==void 0&&u.push(s.assignTexture(r,"clearcoatMap",f.clearcoatTexture)),f.clearcoatRoughnessFactor!==void 0&&(r.clearcoatRoughness=f.clearcoatRoughnessFactor),f.clearcoatRoughnessTexture!==void 0&&u.push(s.assignTexture(r,"clearcoatRoughnessMap",f.clearcoatRoughnessTexture)),f.clearcoatNormalTexture!==void 0&&(u.push(s.assignTexture(r,"clearcoatNormalMap",f.clearcoatNormalTexture)),f.clearcoatNormalTexture.scale!==void 0)){const m=f.clearcoatNormalTexture.scale;r.clearcoatNormalScale=new Gn(m,m)}return Promise.all(u)}}class aG{constructor(e){this.parser=e,this.name=$r.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:Zc}extendMaterialParams(e,r){const s=this.parser,a=s.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=[],f=a.extensions[this.name];return f.iridescenceFactor!==void 0&&(r.iridescence=f.iridescenceFactor),f.iridescenceTexture!==void 0&&u.push(s.assignTexture(r,"iridescenceMap",f.iridescenceTexture)),f.iridescenceIor!==void 0&&(r.iridescenceIOR=f.iridescenceIor),r.iridescenceThicknessRange===void 0&&(r.iridescenceThicknessRange=[100,400]),f.iridescenceThicknessMinimum!==void 0&&(r.iridescenceThicknessRange[0]=f.iridescenceThicknessMinimum),f.iridescenceThicknessMaximum!==void 0&&(r.iridescenceThicknessRange[1]=f.iridescenceThicknessMaximum),f.iridescenceThicknessTexture!==void 0&&u.push(s.assignTexture(r,"iridescenceThicknessMap",f.iridescenceThicknessTexture)),Promise.all(u)}}class lG{constructor(e){this.parser=e,this.name=$r.KHR_MATERIALS_SHEEN}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:Zc}extendMaterialParams(e,r){const s=this.parser,a=s.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=[];r.sheenColor=new dr(0,0,0),r.sheenRoughness=0,r.sheen=1;const f=a.extensions[this.name];return f.sheenColorFactor!==void 0&&r.sheenColor.fromArray(f.sheenColorFactor),f.sheenRoughnessFactor!==void 0&&(r.sheenRoughness=f.sheenRoughnessFactor),f.sheenColorTexture!==void 0&&u.push(s.assignTexture(r,"sheenColorMap",f.sheenColorTexture,Lr)),f.sheenRoughnessTexture!==void 0&&u.push(s.assignTexture(r,"sheenRoughnessMap",f.sheenRoughnessTexture)),Promise.all(u)}}class cG{constructor(e){this.parser=e,this.name=$r.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:Zc}extendMaterialParams(e,r){const s=this.parser,a=s.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=[],f=a.extensions[this.name];return f.transmissionFactor!==void 0&&(r.transmission=f.transmissionFactor),f.transmissionTexture!==void 0&&u.push(s.assignTexture(r,"transmissionMap",f.transmissionTexture)),Promise.all(u)}}class uG{constructor(e){this.parser=e,this.name=$r.KHR_MATERIALS_VOLUME}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:Zc}extendMaterialParams(e,r){const s=this.parser,a=s.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=[],f=a.extensions[this.name];r.thickness=f.thicknessFactor!==void 0?f.thicknessFactor:0,f.thicknessTexture!==void 0&&u.push(s.assignTexture(r,"thicknessMap",f.thicknessTexture)),r.attenuationDistance=f.attenuationDistance||1/0;const m=f.attenuationColor||[1,1,1];return r.attenuationColor=new dr(m[0],m[1],m[2]),Promise.all(u)}}class dG{constructor(e){this.parser=e,this.name=$r.KHR_MATERIALS_IOR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:Zc}extendMaterialParams(e,r){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=a.extensions[this.name];return r.ior=u.ior!==void 0?u.ior:1.5,Promise.resolve()}}class fG{constructor(e){this.parser=e,this.name=$r.KHR_MATERIALS_SPECULAR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:Zc}extendMaterialParams(e,r){const s=this.parser,a=s.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=[],f=a.extensions[this.name];r.specularIntensity=f.specularFactor!==void 0?f.specularFactor:1,f.specularTexture!==void 0&&u.push(s.assignTexture(r,"specularIntensityMap",f.specularTexture));const m=f.specularColorFactor||[1,1,1];return r.specularColor=new dr(m[0],m[1],m[2]),f.specularColorTexture!==void 0&&u.push(s.assignTexture(r,"specularColorMap",f.specularColorTexture,Lr)),Promise.all(u)}}class hG{constructor(e){this.parser=e,this.name=$r.KHR_TEXTURE_BASISU}loadTexture(e){const r=this.parser,s=r.json,a=s.textures[e];if(!a.extensions||!a.extensions[this.name])return null;const u=a.extensions[this.name],f=r.options.ktx2Loader;if(!f){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return r.loadTextureImage(e,u.source,f)}}class pG{constructor(e){this.parser=e,this.name=$r.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const r=this.name,s=this.parser,a=s.json,u=a.textures[e];if(!u.extensions||!u.extensions[r])return null;const f=u.extensions[r],m=a.images[f.source];let _=s.textureLoader;if(m.uri){const A=s.options.manager.getHandler(m.uri);A!==null&&(_=A)}return this.detectSupport().then(function(A){if(A)return s.loadTextureImage(e,f.source,_);if(a.extensionsRequired&&a.extensionsRequired.indexOf(r)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return s.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const r=new Image;r.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",r.onload=r.onerror=function(){e(r.height===1)}})),this.isSupported}}class mG{constructor(e){this.name=$r.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const r=this.parser.json,s=r.bufferViews[e];if(s.extensions&&s.extensions[this.name]){const a=s.extensions[this.name],u=this.parser.getDependency("buffer",a.buffer),f=this.parser.options.meshoptDecoder;if(!f||!f.supported){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return u.then(function(m){const _=a.byteOffset||0,A=a.byteLength||0,w=a.count,S=a.byteStride,x=new Uint8Array(m,_,A);return f.decodeGltfBufferAsync?f.decodeGltfBufferAsync(w,S,x,a.mode,a.filter).then(function(P){return P.buffer}):f.ready.then(function(){const P=new ArrayBuffer(w*S);return f.decodeGltfBuffer(new Uint8Array(P),w,S,x,a.mode,a.filter),P})})}else return null}}class gG{constructor(e){this.name=$r.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const r=this.parser.json,s=r.nodes[e];if(!s.extensions||!s.extensions[this.name]||s.mesh===void 0)return null;const a=r.meshes[s.mesh];for(const A of a.primitives)if(A.mode!==bo.TRIANGLES&&A.mode!==bo.TRIANGLE_STRIP&&A.mode!==bo.TRIANGLE_FAN&&A.mode!==void 0)return null;const f=s.extensions[this.name].attributes,m=[],_={};for(const A in f)m.push(this.parser.getDependency("accessor",f[A]).then(w=>(_[A]=w,_[A])));return m.length<1?null:(m.push(this.parser.createNodeMesh(e)),Promise.all(m).then(A=>{const w=A.pop(),S=w.isGroup?w.children:[w],x=A[0].count,P=[];for(const O of S){const k=new Rr,L=new ut,U=new Ds,Q=new ut(1,1,1),G=new NO(O.geometry,O.material,x);for(let Z=0;Z<x;Z++)_.TRANSLATION&&L.fromBufferAttribute(_.TRANSLATION,Z),_.ROTATION&&U.fromBufferAttribute(_.ROTATION,Z),_.SCALE&&Q.fromBufferAttribute(_.SCALE,Z),G.setMatrixAt(Z,k.compose(L,U,Q));for(const Z in _)Z!=="TRANSLATION"&&Z!=="ROTATION"&&Z!=="SCALE"&&O.geometry.setAttribute(Z,_[Z]);mi.prototype.copy.call(G,O),G.frustumCulled=!1,this.parser.assignFinalMaterial(G),P.push(G)}return w.isGroup?(w.clear(),w.add(...P),w):P[0]}))}}const vx="glTF",Kh=12,_x={JSON:1313821514,BIN:5130562};class vG{constructor(e){this.name=$r.KHR_BINARY_GLTF,this.content=null,this.body=null;const r=new DataView(e,0,Kh);if(this.header={magic:Ra.decodeText(new Uint8Array(e.slice(0,4))),version:r.getUint32(4,!0),length:r.getUint32(8,!0)},this.header.magic!==vx)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-Kh,a=new DataView(e,Kh);let u=0;for(;u<s;){const f=a.getUint32(u,!0);u+=4;const m=a.getUint32(u,!0);if(u+=4,m===_x.JSON){const _=new Uint8Array(e,Kh+u,f);this.content=Ra.decodeText(_)}else if(m===_x.BIN){const _=Kh+u;this.body=e.slice(_,_+f)}u+=f}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class _G{constructor(e,r){if(!r)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=$r.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=r,this.dracoLoader.preload()}decodePrimitive(e,r){const s=this.json,a=this.dracoLoader,u=e.extensions[this.name].bufferView,f=e.extensions[this.name].attributes,m={},_={},A={};for(const w in f){const S=by[w]||w.toLowerCase();m[S]=f[w]}for(const w in e.attributes){const S=by[w]||w.toLowerCase();if(f[w]!==void 0){const x=s.accessors[e.attributes[w]],P=Kd[x.componentType];A[S]=P.name,_[S]=x.normalized===!0}}return r.getDependency("bufferView",u).then(function(w){return new Promise(function(S){a.decodeDracoFile(w,function(x){for(const P in x.attributes){const O=x.attributes[P],k=_[P];k!==void 0&&(O.normalized=k)}S(x)},m,A)})})}}class AG{constructor(){this.name=$r.KHR_TEXTURE_TRANSFORM}extendTexture(e,r){return r.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),r.offset===void 0&&r.rotation===void 0&&r.scale===void 0||(e=e.clone(),r.offset!==void 0&&e.offset.fromArray(r.offset),r.rotation!==void 0&&(e.rotation=r.rotation),r.scale!==void 0&&e.repeat.fromArray(r.scale),e.needsUpdate=!0),e}}class yG{constructor(){this.name=$r.KHR_MESH_QUANTIZATION}}class Ax extends gh{constructor(e,r,s,a){super(e,r,s,a)}copySampleValue_(e){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=e*a*3+a;for(let f=0;f!==a;f++)r[f]=s[u+f];return r}interpolate_(e,r,s,a){const u=this.resultBuffer,f=this.sampleValues,m=this.valueSize,_=m*2,A=m*3,w=a-r,S=(s-r)/w,x=S*S,P=x*S,O=e*A,k=O-A,L=-2*P+3*x,U=P-x,Q=1-L,G=U-x+S;for(let Z=0;Z!==m;Z++){const X=f[k+Z+m],te=f[k+Z+_]*w,ae=f[O+Z+m],j=f[O+Z]*w;u[Z]=Q*X+G*te+L*ae+U*j}return u}}const bG=new Ds;class SG extends Ax{interpolate_(e,r,s,a){const u=super.interpolate_(e,r,s,a);return bG.fromArray(u).normalize().toArray(u),u}}const bo={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Kd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},yx={9728:Rn,9729:gr,9984:xr,9985:Yn,9986:ii,9987:Vr},bx={33071:_t,33648:Vt,10497:We},yy={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},by={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},rc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},wG={CUBICSPLINE:void 0,LINEAR:Hc,STEP:rd},Sy={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function EG(p){return p.DefaultMaterial===void 0&&(p.DefaultMaterial=new hg({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:z})),p.DefaultMaterial}function jh(p,e,r){for(const s in r.extensions)p[s]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[s]=r.extensions[s])}function ic(p,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(p.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function CG(p,e,r){let s=!1,a=!1,u=!1;for(let A=0,w=e.length;A<w;A++){const S=e[A];if(S.POSITION!==void 0&&(s=!0),S.NORMAL!==void 0&&(a=!0),S.COLOR_0!==void 0&&(u=!0),s&&a&&u)break}if(!s&&!a&&!u)return Promise.resolve(p);const f=[],m=[],_=[];for(let A=0,w=e.length;A<w;A++){const S=e[A];if(s){const x=S.POSITION!==void 0?r.getDependency("accessor",S.POSITION):p.attributes.position;f.push(x)}if(a){const x=S.NORMAL!==void 0?r.getDependency("accessor",S.NORMAL):p.attributes.normal;m.push(x)}if(u){const x=S.COLOR_0!==void 0?r.getDependency("accessor",S.COLOR_0):p.attributes.color;_.push(x)}}return Promise.all([Promise.all(f),Promise.all(m),Promise.all(_)]).then(function(A){const w=A[0],S=A[1],x=A[2];return s&&(p.morphAttributes.position=w),a&&(p.morphAttributes.normal=S),u&&(p.morphAttributes.color=x),p.morphTargetsRelative=!0,p})}function IG(p,e){if(p.updateMorphTargets(),e.weights!==void 0)for(let r=0,s=e.weights.length;r<s;r++)p.morphTargetInfluences[r]=e.weights[r];if(e.extras&&Array.isArray(e.extras.targetNames)){const r=e.extras.targetNames;if(p.morphTargetInfluences.length===r.length){p.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++)p.morphTargetDictionary[r[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function xG(p){const e=p.extensions&&p.extensions[$r.KHR_DRACO_MESH_COMPRESSION];let r;return e?r="draco:"+e.bufferView+":"+e.indices+":"+Sx(e.attributes):r=p.indices+":"+Sx(p.attributes)+":"+p.mode,r}function Sx(p){let e="";const r=Object.keys(p).sort();for(let s=0,a=r.length;s<a;s++)e+=r[s]+":"+p[r[s]]+";";return e}function wy(p){switch(p){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function MG(p){return p.search(/\.jpe?g($|\?)/i)>0||p.search(/^data\:image\/jpeg/)===0?"image/jpeg":p.search(/\.webp($|\?)/i)>0||p.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const RG=new Rr;class TG{constructor(e={},r={}){this.json=e,this.extensions={},this.plugins={},this.options=r,this.cache=new nG,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let s=!1,a=!1,u=-1;typeof navigator<"u"&&(s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,a=navigator.userAgent.indexOf("Firefox")>-1,u=a?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||s||a&&u<98?this.textureLoader=new c0(this.options.manager):this.textureLoader=new ZO(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new $o(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,r){const s=this,a=this.json,u=this.extensions;this.cache.removeAll(),this._invokeAll(function(f){return f._markDefs&&f._markDefs()}),Promise.all(this._invokeAll(function(f){return f.beforeRoot&&f.beforeRoot()})).then(function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])}).then(function(f){const m={scene:f[0][a.scene||0],scenes:f[0],animations:f[1],cameras:f[2],asset:a.asset,parser:s,userData:{}};jh(u,m,a),ic(m,a),Promise.all(s._invokeAll(function(_){return _.afterRoot&&_.afterRoot(m)})).then(function(){e(m)})}).catch(r)}_markDefs(){const e=this.json.nodes||[],r=this.json.skins||[],s=this.json.meshes||[];for(let a=0,u=r.length;a<u;a++){const f=r[a].joints;for(let m=0,_=f.length;m<_;m++)e[f[m]].isBone=!0}for(let a=0,u=e.length;a<u;a++){const f=e[a];f.mesh!==void 0&&(this._addNodeRef(this.meshCache,f.mesh),f.skin!==void 0&&(s[f.mesh].isSkinnedMesh=!0)),f.camera!==void 0&&this._addNodeRef(this.cameraCache,f.camera)}}_addNodeRef(e,r){r!==void 0&&(e.refs[r]===void 0&&(e.refs[r]=e.uses[r]=0),e.refs[r]++)}_getNodeRef(e,r,s){if(e.refs[r]<=1)return s;const a=s.clone(),u=(f,m)=>{const _=this.associations.get(f);_!=null&&this.associations.set(m,_);for(const[A,w]of f.children.entries())u(w,m.children[A])};return u(s,a),a.name+="_instance_"+e.uses[r]++,a}_invokeOne(e){const r=Object.values(this.plugins);r.push(this);for(let s=0;s<r.length;s++){const a=e(r[s]);if(a)return a}return null}_invokeAll(e){const r=Object.values(this.plugins);r.unshift(this);const s=[];for(let a=0;a<r.length;a++){const u=e(r[a]);u&&s.push(u)}return s}getDependency(e,r){const s=e+":"+r;let a=this.cache.get(s);if(!a){switch(e){case"scene":a=this.loadScene(r);break;case"node":a=this._invokeOne(function(u){return u.loadNode&&u.loadNode(r)});break;case"mesh":a=this._invokeOne(function(u){return u.loadMesh&&u.loadMesh(r)});break;case"accessor":a=this.loadAccessor(r);break;case"bufferView":a=this._invokeOne(function(u){return u.loadBufferView&&u.loadBufferView(r)});break;case"buffer":a=this.loadBuffer(r);break;case"material":a=this._invokeOne(function(u){return u.loadMaterial&&u.loadMaterial(r)});break;case"texture":a=this._invokeOne(function(u){return u.loadTexture&&u.loadTexture(r)});break;case"skin":a=this.loadSkin(r);break;case"animation":a=this._invokeOne(function(u){return u.loadAnimation&&u.loadAnimation(r)});break;case"camera":a=this.loadCamera(r);break;default:if(a=this._invokeOne(function(u){return u!=this&&u.getDependency&&u.getDependency(e,r)}),!a)throw new Error("Unknown type: "+e);break}this.cache.add(s,a)}return a}getDependencies(e){let r=this.cache.get(e);if(!r){const s=this,a=this.json[e+(e==="mesh"?"es":"s")]||[];r=Promise.all(a.map(function(u,f){return s.getDependency(e,f)})),this.cache.add(e,r)}return r}loadBuffer(e){const r=this.json.buffers[e],s=this.fileLoader;if(r.type&&r.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+r.type+" buffer type is not supported.");if(r.uri===void 0&&e===0)return Promise.resolve(this.extensions[$r.KHR_BINARY_GLTF].body);const a=this.options;return new Promise(function(u,f){s.load(Ra.resolveURL(r.uri,a.path),u,void 0,function(){f(new Error('THREE.GLTFLoader: Failed to load buffer "'+r.uri+'".'))})})}loadBufferView(e){const r=this.json.bufferViews[e];return this.getDependency("buffer",r.buffer).then(function(s){const a=r.byteLength||0,u=r.byteOffset||0;return s.slice(u,u+a)})}loadAccessor(e){const r=this,s=this.json,a=this.json.accessors[e];if(a.bufferView===void 0&&a.sparse===void 0){const f=yy[a.type],m=Kd[a.componentType],_=a.normalized===!0,A=new m(a.count*f);return Promise.resolve(new Yr(A,f,_))}const u=[];return a.bufferView!==void 0?u.push(this.getDependency("bufferView",a.bufferView)):u.push(null),a.sparse!==void 0&&(u.push(this.getDependency("bufferView",a.sparse.indices.bufferView)),u.push(this.getDependency("bufferView",a.sparse.values.bufferView))),Promise.all(u).then(function(f){const m=f[0],_=yy[a.type],A=Kd[a.componentType],w=A.BYTES_PER_ELEMENT,S=w*_,x=a.byteOffset||0,P=a.bufferView!==void 0?s.bufferViews[a.bufferView].byteStride:void 0,O=a.normalized===!0;let k,L;if(P&&P!==S){const U=Math.floor(x/P),Q="InterleavedBuffer:"+a.bufferView+":"+a.componentType+":"+U+":"+a.count;let G=r.cache.get(Q);G||(k=new A(m,U*P,a.count*P/w),G=new oC(k,P/w),r.cache.add(Q,G)),L=new dh(G,_,x%P/w,O)}else m===null?k=new A(a.count*_):k=new A(m,x,a.count*_),L=new Yr(k,_,O);if(a.sparse!==void 0){const U=yy.SCALAR,Q=Kd[a.sparse.indices.componentType],G=a.sparse.indices.byteOffset||0,Z=a.sparse.values.byteOffset||0,X=new Q(f[1],G,a.sparse.count*U),te=new A(f[2],Z,a.sparse.count*_);m!==null&&(L=new Yr(L.array.slice(),L.itemSize,L.normalized));for(let ae=0,j=X.length;ae<j;ae++){const ge=X[ae];if(L.setX(ge,te[ae*_]),_>=2&&L.setY(ge,te[ae*_+1]),_>=3&&L.setZ(ge,te[ae*_+2]),_>=4&&L.setW(ge,te[ae*_+3]),_>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return L})}loadTexture(e){const r=this.json,s=this.options,u=r.textures[e].source,f=r.images[u];let m=this.textureLoader;if(f.uri){const _=s.manager.getHandler(f.uri);_!==null&&(m=_)}return this.loadTextureImage(e,u,m)}loadTextureImage(e,r,s){const a=this,u=this.json,f=u.textures[e],m=u.images[r],_=(m.uri||m.bufferView)+":"+f.sampler;if(this.textureCache[_])return this.textureCache[_];const A=this.loadImageSource(r,s).then(function(w){w.flipY=!1,w.name=f.name||m.name||"";const x=(u.samplers||{})[f.sampler]||{};return w.magFilter=yx[x.magFilter]||gr,w.minFilter=yx[x.minFilter]||Vr,w.wrapS=bx[x.wrapS]||We,w.wrapT=bx[x.wrapT]||We,a.associations.set(w,{textures:e}),w}).catch(function(){return null});return this.textureCache[_]=A,A}loadImageSource(e,r){const s=this,a=this.json,u=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(S=>S.clone());const f=a.images[e],m=self.URL||self.webkitURL;let _=f.uri||"",A=!1;if(f.bufferView!==void 0)_=s.getDependency("bufferView",f.bufferView).then(function(S){A=!0;const x=new Blob([S],{type:f.mimeType});return _=m.createObjectURL(x),_});else if(f.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const w=Promise.resolve(_).then(function(S){return new Promise(function(x,P){let O=x;r.isImageBitmapLoader===!0&&(O=function(k){const L=new Oi(k);L.needsUpdate=!0,x(L)}),r.load(Ra.resolveURL(S,u.path),O,void 0,P)})}).then(function(S){return A===!0&&m.revokeObjectURL(_),S.userData.mimeType=f.mimeType||MG(f.uri),S}).catch(function(S){throw console.error("THREE.GLTFLoader: Couldn't load texture",_),S});return this.sourceCache[e]=w,w}assignTexture(e,r,s,a){const u=this;return this.getDependency("texture",s.index).then(function(f){if(!f)return null;if(s.texCoord!==void 0&&s.texCoord!=0&&!(r==="aoMap"&&s.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+s.texCoord+" for texture "+r+" not yet supported."),u.extensions[$r.KHR_TEXTURE_TRANSFORM]){const m=s.extensions!==void 0?s.extensions[$r.KHR_TEXTURE_TRANSFORM]:void 0;if(m){const _=u.associations.get(f);f=u.extensions[$r.KHR_TEXTURE_TRANSFORM].extendTexture(f,m),u.associations.set(f,_)}}return a!==void 0&&(f.encoding=a),e[r]=f,f})}assignFinalMaterial(e){const r=e.geometry;let s=e.material;const a=r.attributes.tangent===void 0,u=r.attributes.color!==void 0,f=r.attributes.normal===void 0;if(e.isPoints){const m="PointsMaterial:"+s.uuid;let _=this.cache.get(m);_||(_=new CC,_o.prototype.copy.call(_,s),_.color.copy(s.color),_.map=s.map,_.sizeAttenuation=!1,this.cache.add(m,_)),s=_}else if(e.isLine){const m="LineBasicMaterial:"+s.uuid;let _=this.cache.get(m);_||(_=new cg,_o.prototype.copy.call(_,s),_.color.copy(s.color),this.cache.add(m,_)),s=_}if(a||u||f){let m="ClonedMaterial:"+s.uuid+":";a&&(m+="derivative-tangents:"),u&&(m+="vertex-colors:"),f&&(m+="flat-shading:");let _=this.cache.get(m);_||(_=s.clone(),u&&(_.vertexColors=!0),f&&(_.flatShading=!0),a&&(_.normalScale&&(_.normalScale.y*=-1),_.clearcoatNormalScale&&(_.clearcoatNormalScale.y*=-1)),this.cache.add(m,_),this.associations.set(_,this.associations.get(s))),s=_}s.aoMap&&r.attributes.uv2===void 0&&r.attributes.uv!==void 0&&r.setAttribute("uv2",r.attributes.uv),e.material=s}getMaterialType(){return hg}loadMaterial(e){const r=this,s=this.json,a=this.extensions,u=s.materials[e];let f;const m={},_=u.extensions||{},A=[];if(_[$r.KHR_MATERIALS_UNLIT]){const S=a[$r.KHR_MATERIALS_UNLIT];f=S.getMaterialType(),A.push(S.extendParams(m,u,r))}else{const S=u.pbrMetallicRoughness||{};if(m.color=new dr(1,1,1),m.opacity=1,Array.isArray(S.baseColorFactor)){const x=S.baseColorFactor;m.color.fromArray(x),m.opacity=x[3]}S.baseColorTexture!==void 0&&A.push(r.assignTexture(m,"map",S.baseColorTexture,Lr)),m.metalness=S.metallicFactor!==void 0?S.metallicFactor:1,m.roughness=S.roughnessFactor!==void 0?S.roughnessFactor:1,S.metallicRoughnessTexture!==void 0&&(A.push(r.assignTexture(m,"metalnessMap",S.metallicRoughnessTexture)),A.push(r.assignTexture(m,"roughnessMap",S.metallicRoughnessTexture))),f=this._invokeOne(function(x){return x.getMaterialType&&x.getMaterialType(e)}),A.push(Promise.all(this._invokeAll(function(x){return x.extendMaterialParams&&x.extendMaterialParams(e,m)})))}u.doubleSided===!0&&(m.side=q);const w=u.alphaMode||Sy.OPAQUE;if(w===Sy.BLEND?(m.transparent=!0,m.depthWrite=!1):(m.transparent=!1,w===Sy.MASK&&(m.alphaTest=u.alphaCutoff!==void 0?u.alphaCutoff:.5)),u.normalTexture!==void 0&&f!==el&&(A.push(r.assignTexture(m,"normalMap",u.normalTexture)),m.normalScale=new Gn(1,1),u.normalTexture.scale!==void 0)){const S=u.normalTexture.scale;m.normalScale.set(S,S)}return u.occlusionTexture!==void 0&&f!==el&&(A.push(r.assignTexture(m,"aoMap",u.occlusionTexture)),u.occlusionTexture.strength!==void 0&&(m.aoMapIntensity=u.occlusionTexture.strength)),u.emissiveFactor!==void 0&&f!==el&&(m.emissive=new dr().fromArray(u.emissiveFactor)),u.emissiveTexture!==void 0&&f!==el&&A.push(r.assignTexture(m,"emissiveMap",u.emissiveTexture,Lr)),Promise.all(A).then(function(){const S=new f(m);return u.name&&(S.name=u.name),ic(S,u),r.associations.set(S,{materials:e}),u.extensions&&jh(a,S,u),S})}createUniqueName(e){const r=Qr.sanitizeNodeName(e||"");let s=r;for(let a=1;this.nodeNamesUsed[s];++a)s=r+"_"+a;return this.nodeNamesUsed[s]=!0,s}loadGeometries(e){const r=this,s=this.extensions,a=this.primitiveCache;function u(m){return s[$r.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(m,r).then(function(_){return wx(_,m,r)})}const f=[];for(let m=0,_=e.length;m<_;m++){const A=e[m],w=xG(A),S=a[w];if(S)f.push(S.promise);else{let x;A.extensions&&A.extensions[$r.KHR_DRACO_MESH_COMPRESSION]?x=u(A):x=wx(new Ki,A,r),a[w]={primitive:A,promise:x},f.push(x)}}return Promise.all(f)}loadMesh(e){const r=this,s=this.json,a=this.extensions,u=s.meshes[e],f=u.primitives,m=[];for(let _=0,A=f.length;_<A;_++){const w=f[_].material===void 0?EG(this.cache):this.getDependency("material",f[_].material);m.push(w)}return m.push(r.loadGeometries(f)),Promise.all(m).then(function(_){const A=_.slice(0,_.length-1),w=_[_.length-1],S=[];for(let P=0,O=w.length;P<O;P++){const k=w[P],L=f[P];let U;const Q=A[P];if(L.mode===bo.TRIANGLES||L.mode===bo.TRIANGLE_STRIP||L.mode===bo.TRIANGLE_FAN||L.mode===void 0)U=u.isSkinnedMesh===!0?new RO(k,Q):new Fi(k,Q),U.isSkinnedMesh===!0&&!U.geometry.attributes.skinWeight.normalized&&U.normalizeSkinWeights(),L.mode===bo.TRIANGLE_STRIP?U.geometry=Ex(U.geometry,$D):L.mode===bo.TRIANGLE_FAN&&(U.geometry=Ex(U.geometry,fE));else if(L.mode===bo.LINES)U=new o0(k,Q);else if(L.mode===bo.LINE_STRIP)U=new s0(k,Q);else if(L.mode===bo.LINE_LOOP)U=new BO(k,Q);else if(L.mode===bo.POINTS)U=new DO(k,Q);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+L.mode);Object.keys(U.geometry.morphAttributes).length>0&&IG(U,u),U.name=r.createUniqueName(u.name||"mesh_"+e),ic(U,u),L.extensions&&jh(a,U,L),r.assignFinalMaterial(U),S.push(U)}for(let P=0,O=S.length;P<O;P++)r.associations.set(S[P],{meshes:e,primitives:P});if(S.length===1)return S[0];const x=new qs;r.associations.set(x,{meshes:e});for(let P=0,O=S.length;P<O;P++)x.add(S[P]);return x})}loadCamera(e){let r;const s=this.json.cameras[e],a=s[s.type];if(!a){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return s.type==="perspective"?r=new as(Pm.radToDeg(a.yfov),a.aspectRatio||1,a.znear||1,a.zfar||2e6):s.type==="orthographic"&&(r=new Jm(-a.xmag,a.xmag,a.ymag,-a.ymag,a.znear,a.zfar)),s.name&&(r.name=this.createUniqueName(s.name)),ic(r,s),Promise.resolve(r)}loadSkin(e){const r=this.json.skins[e],s=[];for(let a=0,u=r.joints.length;a<u;a++)s.push(this.getDependency("node",r.joints[a]));return r.inverseBindMatrices!==void 0?s.push(this.getDependency("accessor",r.inverseBindMatrices)):s.push(null),Promise.all(s).then(function(a){const u=a.pop(),f=a,m=[],_=[];for(let A=0,w=f.length;A<w;A++){const S=f[A];if(S){m.push(S);const x=new Rr;u!==null&&x.fromArray(u.array,A*16),_.push(x)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',r.joints[A])}return new r0(m,_)})}loadAnimation(e){const s=this.json.animations[e],a=[],u=[],f=[],m=[],_=[];for(let A=0,w=s.channels.length;A<w;A++){const S=s.channels[A],x=s.samplers[S.sampler],P=S.target,O=P.node,k=s.parameters!==void 0?s.parameters[x.input]:x.input,L=s.parameters!==void 0?s.parameters[x.output]:x.output;a.push(this.getDependency("node",O)),u.push(this.getDependency("accessor",k)),f.push(this.getDependency("accessor",L)),m.push(x),_.push(P)}return Promise.all([Promise.all(a),Promise.all(u),Promise.all(f),Promise.all(m),Promise.all(_)]).then(function(A){const w=A[0],S=A[1],x=A[2],P=A[3],O=A[4],k=[];for(let U=0,Q=w.length;U<Q;U++){const G=w[U],Z=S[U],X=x[U],te=P[U],ae=O[U];if(G===void 0)continue;G.updateMatrix();let j;switch(rc[ae.path]){case rc.weights:j=vh;break;case rc.rotation:j=eu;break;case rc.position:case rc.scale:default:j=_h;break}const ge=G.name?G.name:G.uuid,we=te.interpolation!==void 0?wG[te.interpolation]:Hc,Le=[];rc[ae.path]===rc.weights?G.traverse(function(be){be.morphTargetInfluences&&Le.push(be.name?be.name:be.uuid)}):Le.push(ge);let je=X.array;if(X.normalized){const be=wy(je.constructor),Te=new Float32Array(je.length);for(let Je=0,it=je.length;Je<it;Je++)Te[Je]=je[Je]*be;je=Te}for(let be=0,Te=Le.length;be<Te;be++){const Je=new j(Le[be]+"."+rc[ae.path],Z.array,je,we);te.interpolation==="CUBICSPLINE"&&(Je.createInterpolant=function(tt){const Me=this instanceof eu?SG:Ax;return new Me(this.times,this.values,this.getValueSize()/3,tt)},Je.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),k.push(Je)}}const L=s.name?s.name:"animation_"+e;return new mg(L,void 0,k)})}createNodeMesh(e){const r=this.json,s=this,a=r.nodes[e];return a.mesh===void 0?null:s.getDependency("mesh",a.mesh).then(function(u){const f=s._getNodeRef(s.meshCache,a.mesh,u);return a.weights!==void 0&&f.traverse(function(m){if(!!m.isMesh)for(let _=0,A=a.weights.length;_<A;_++)m.morphTargetInfluences[_]=a.weights[_]}),f})}loadNode(e){const r=this.json,s=this.extensions,a=this,u=r.nodes[e],f=u.name?a.createUniqueName(u.name):"";return function(){const m=[],_=a._invokeOne(function(x){return x.createNodeMesh&&x.createNodeMesh(e)});_&&m.push(_),u.camera!==void 0&&m.push(a.getDependency("camera",u.camera).then(function(x){return a._getNodeRef(a.cameraCache,u.camera,x)})),a._invokeAll(function(x){return x.createNodeAttachment&&x.createNodeAttachment(e)}).forEach(function(x){m.push(x)});const A=[],w=u.children||[];for(let x=0,P=w.length;x<P;x++)A.push(a.getDependency("node",w[x]));const S=u.skin===void 0?Promise.resolve(null):a.getDependency("skin",u.skin);return Promise.all([Promise.all(m),Promise.all(A),S])}().then(function(m){const _=m[0],A=m[1],w=m[2];let S;if(u.isBone===!0?S=new mC:_.length>1?S=new qs:_.length===1?S=_[0]:S=new mi,S!==_[0])for(let x=0,P=_.length;x<P;x++)S.add(_[x]);if(u.name&&(S.userData.name=u.name,S.name=f),ic(S,u),u.extensions&&jh(s,S,u),u.matrix!==void 0){const x=new Rr;x.fromArray(u.matrix),S.applyMatrix4(x)}else u.translation!==void 0&&S.position.fromArray(u.translation),u.rotation!==void 0&&S.quaternion.fromArray(u.rotation),u.scale!==void 0&&S.scale.fromArray(u.scale);a.associations.has(S)||a.associations.set(S,{}),a.associations.get(S).nodes=e,w!==null&&S.traverse(function(x){!x.isSkinnedMesh||x.bind(w,RG)});for(let x=0,P=A.length;x<P;x++)S.add(A[x]);return S})}loadScene(e){const r=this.extensions,s=this.json.scenes[e],a=this,u=new qs;s.name&&(u.name=a.createUniqueName(s.name)),ic(u,s),s.extensions&&jh(r,u,s);const f=s.nodes||[],m=[];for(let _=0,A=f.length;_<A;_++)m.push(a.getDependency("node",f[_]));return Promise.all(m).then(function(_){for(let w=0,S=_.length;w<S;w++)u.add(_[w]);const A=w=>{const S=new Map;for(const[x,P]of a.associations)(x instanceof _o||x instanceof Oi)&&S.set(x,P);return w.traverse(x=>{const P=a.associations.get(x);P!=null&&S.set(x,P)}),S};return a.associations=A(u),u})}}function PG(p,e,r){const s=e.attributes,a=new Ia;if(s.POSITION!==void 0){const m=r.json.accessors[s.POSITION],_=m.min,A=m.max;if(_!==void 0&&A!==void 0){if(a.set(new ut(_[0],_[1],_[2]),new ut(A[0],A[1],A[2])),m.normalized){const w=wy(Kd[m.componentType]);a.min.multiplyScalar(w),a.max.multiplyScalar(w)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const u=e.targets;if(u!==void 0){const m=new ut,_=new ut;for(let A=0,w=u.length;A<w;A++){const S=u[A];if(S.POSITION!==void 0){const x=r.json.accessors[S.POSITION],P=x.min,O=x.max;if(P!==void 0&&O!==void 0){if(_.setX(Math.max(Math.abs(P[0]),Math.abs(O[0]))),_.setY(Math.max(Math.abs(P[1]),Math.abs(O[1]))),_.setZ(Math.max(Math.abs(P[2]),Math.abs(O[2]))),x.normalized){const k=wy(Kd[x.componentType]);_.multiplyScalar(k)}m.max(_)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(m)}p.boundingBox=a;const f=new ud;a.getCenter(f.center),f.radius=a.min.distanceTo(a.max)/2,p.boundingSphere=f}function wx(p,e,r){const s=e.attributes,a=[];function u(f,m){return r.getDependency("accessor",f).then(function(_){p.setAttribute(m,_)})}for(const f in s){const m=by[f]||f.toLowerCase();m in p.attributes||a.push(u(s[f],m))}if(e.indices!==void 0&&!p.index){const f=r.getDependency("accessor",e.indices).then(function(m){p.setIndex(m)});a.push(f)}return ic(p,e),PG(p,e,r),Promise.all(a).then(function(){return e.targets!==void 0?CG(p,e.targets,r):p})}function Ex(p,e){let r=p.getIndex();if(r===null){const f=[],m=p.getAttribute("position");if(m!==void 0){for(let _=0;_<m.count;_++)f.push(_);p.setIndex(f),r=p.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),p}const s=r.count-2,a=[];if(e===fE)for(let f=1;f<=s;f++)a.push(r.getX(0)),a.push(r.getX(f)),a.push(r.getX(f+1));else for(let f=0;f<s;f++)f%2===0?(a.push(r.getX(f)),a.push(r.getX(f+1)),a.push(r.getX(f+2))):(a.push(r.getX(f+2)),a.push(r.getX(f+1)),a.push(r.getX(f)));a.length/3!==s&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const u=p.clone();return u.setIndex(a),u}class NG{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const r=this.workerCreator();r.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=r}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,r){const s=this.workersResolve[e];if(s&&s(r),this.queue.length){const{resolve:a,msg:u,transfer:f}=this.queue.shift();this.workersResolve[e]=a,this.workers[e].postMessage(u,f)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,r){return new Promise(s=>{const a=this._getIdleWorker();a!==-1?(this._initWorker(a),this.workerStatus|=1<<a,this.workersResolve[a]=s,this.workers[a].postMessage(e,r)):this.queue.push({resolve:s,msg:e,transfer:r})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const BG=0,DG=2,kG=1,LG=2,OG=0,Cx=9,Ey=15,Ix=16,Cy=22,xx=37,Iy=43,Mx=76,Rx=83,Tx=97,Px=100,Nx=103,Bx=109;class FG{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class qh{constructor(e,r,s,a){this._dataView=new DataView(e.buffer,e.byteOffset+r,s),this._littleEndian=a,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,r=0){const s=this._offset;let a=0;for(;this._dataView.getUint8(this._offset)!==r&&a<e;)a++,this._offset++;return a<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+s,a)}}const Es=[171,75,84,88,32,50,48,187,13,10,26,10];function Dx(p){return typeof TextDecoder<"u"?new TextDecoder().decode(p):Buffer.from(p).toString("utf8")}function VG(p){const e=new Uint8Array(p.buffer,p.byteOffset,Es.length);if(e[0]!==Es[0]||e[1]!==Es[1]||e[2]!==Es[2]||e[3]!==Es[3]||e[4]!==Es[4]||e[5]!==Es[5]||e[6]!==Es[6]||e[7]!==Es[7]||e[8]!==Es[8]||e[9]!==Es[9]||e[10]!==Es[10]||e[11]!==Es[11])throw new Error("Missing KTX 2.0 identifier.");const r=new FG,s=17*Uint32Array.BYTES_PER_ELEMENT,a=new qh(p,Es.length,s,!0);r.vkFormat=a._nextUint32(),r.typeSize=a._nextUint32(),r.pixelWidth=a._nextUint32(),r.pixelHeight=a._nextUint32(),r.pixelDepth=a._nextUint32(),r.layerCount=a._nextUint32(),r.faceCount=a._nextUint32();const u=a._nextUint32();r.supercompressionScheme=a._nextUint32();const f=a._nextUint32(),m=a._nextUint32(),_=a._nextUint32(),A=a._nextUint32(),w=a._nextUint64(),S=a._nextUint64(),x=new qh(p,Es.length+s,3*u*8,!0);for(let tt=0;tt<u;tt++)r.levels.push({levelData:new Uint8Array(p.buffer,p.byteOffset+x._nextUint64(),x._nextUint64()),uncompressedByteLength:x._nextUint64()});const P=new qh(p,f,m,!0),O={vendorId:P._skip(4)._nextUint16(),descriptorType:P._nextUint16(),versionNumber:P._nextUint16(),descriptorBlockSize:P._nextUint16(),colorModel:P._nextUint8(),colorPrimaries:P._nextUint8(),transferFunction:P._nextUint8(),flags:P._nextUint8(),texelBlockDimension:[P._nextUint8(),P._nextUint8(),P._nextUint8(),P._nextUint8()],bytesPlane:[P._nextUint8(),P._nextUint8(),P._nextUint8(),P._nextUint8(),P._nextUint8(),P._nextUint8(),P._nextUint8(),P._nextUint8()],samples:[]},k=(O.descriptorBlockSize/4-6)/4;for(let tt=0;tt<k;tt++){const Me={bitOffset:P._nextUint16(),bitLength:P._nextUint8(),channelType:P._nextUint8(),samplePosition:[P._nextUint8(),P._nextUint8(),P._nextUint8(),P._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&Me.channelType?(Me.sampleLower=P._nextInt32(),Me.sampleUpper=P._nextInt32()):(Me.sampleLower=P._nextUint32(),Me.sampleUpper=P._nextUint32()),O.samples[tt]=Me}r.dataFormatDescriptor.length=0,r.dataFormatDescriptor.push(O);const L=new qh(p,_,A,!0);for(;L._offset<A;){const tt=L._nextUint32(),Me=L._scan(tt),lt=Dx(Me),mt=L._scan(tt-Me.byteLength);r.keyValue[lt]=lt.match(/^ktx/i)?Dx(mt):mt,L._offset%4&&L._skip(4-L._offset%4)}if(S<=0)return r;const U=new qh(p,w,S,!0),Q=U._nextUint16(),G=U._nextUint16(),Z=U._nextUint32(),X=U._nextUint32(),te=U._nextUint32(),ae=U._nextUint32(),j=[];for(let tt=0;tt<u;tt++)j.push({imageFlags:U._nextUint32(),rgbSliceByteOffset:U._nextUint32(),rgbSliceByteLength:U._nextUint32(),alphaSliceByteOffset:U._nextUint32(),alphaSliceByteLength:U._nextUint32()});const ge=w+U._offset,we=ge+Z,Le=we+X,je=Le+te,be=new Uint8Array(p.buffer,p.byteOffset+ge,Z),Te=new Uint8Array(p.buffer,p.byteOffset+we,X),Je=new Uint8Array(p.buffer,p.byteOffset+Le,te),it=new Uint8Array(p.buffer,p.byteOffset+je,ae);return r.globalData={endpointCount:Q,selectorCount:G,imageDescs:j,endpointsData:be,selectorsData:Te,tablesData:Je,extendedData:it},r}let xy,ml,My;const Ry={env:{emscripten_notify_memory_growth:function(p){My=new Uint8Array(ml.exports.memory.buffer)}}};class GG{init(){return xy||(xy=typeof fetch<"u"?fetch("data:application/wasm;base64,"+kx).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,Ry)).then(this._init):WebAssembly.instantiate(Buffer.from(kx,"base64"),Ry).then(this._init),xy)}_init(e){ml=e.instance,Ry.env.emscripten_notify_memory_growth(0)}decode(e,r=0){if(!ml)throw new Error("ZSTDDecoder: Await .init() before decoding.");const s=e.byteLength,a=ml.exports.malloc(s);My.set(e,a),r=r||Number(ml.exports.ZSTD_findDecompressedSize(a,s));const u=ml.exports.malloc(r),f=ml.exports.ZSTD_decompress(u,r,a,s),m=My.slice(u,u+f);return ml.exports.free(a),ml.exports.free(u),m}}const kx="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ",Ty=new WeakMap;let Py=0,Ny;class Na extends tl{constructor(e){super(e),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new NG,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}detectSupport(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const e=new $o(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const r=e.loadAsync("basis_transcoder.js"),s=new $o(this.manager);s.setPath(this.transcoderPath),s.setResponseType("arraybuffer"),s.setWithCredentials(this.withCredentials);const a=s.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([r,a]).then(([u,f])=>{const m=Na.BasisWorker.toString(),_=["/* constants */","let _EngineFormat = "+JSON.stringify(Na.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(Na.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Na.BasisFormat),"/* basis_transcoder.js */",u,"/* worker */",m.substring(m.indexOf("{")+1,m.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([_])),this.transcoderBinary=f,this.workerPool.setWorkerCreator(()=>{const A=new Worker(this.workerSourceURL),w=this.transcoderBinary.slice(0);return A.postMessage({type:"init",config:this.workerConfig,transcoderBinary:w},[w]),A})}),Py>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),Py++}return this.transcoderPending}load(e,r,s,a){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const u=new $o(this.manager);u.setResponseType("arraybuffer"),u.setWithCredentials(this.withCredentials),u.load(e,f=>{if(Ty.has(f))return Ty.get(f).promise.then(r).catch(a);this._createTexture(f).then(m=>r?r(m):null).catch(a)},s,a)}_createTextureFrom(e,r){const{mipmaps:s,width:a,height:u,format:f,type:m,error:_,dfdTransferFn:A,dfdFlags:w}=e;if(m==="error")return Promise.reject(_);const S=r.layerCount>1?new kO(s,a,u,r.layerCount,f,Pt):new MC(s,a,u,f,Pt);return S.minFilter=s.length===1?gr:Vr,S.magFilter=gr,S.generateMipmaps=!1,S.needsUpdate=!0,S.encoding=A===LG?Lr:Vo,S.premultiplyAlpha=!!(w&kG),S}async _createTexture(e,r={}){const s=VG(new Uint8Array(e));if(s.vkFormat!==OG)return zG(s);const a=r,u=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:e,taskConfig:a},[e])).then(f=>this._createTextureFrom(f.data,s));return Ty.set(e,{promise:u}),u}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),Py--,this}}Na.BasisFormat={ETC1S:0,UASTC_4x4:1},Na.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},Na.EngineFormat={RGBAFormat:Xi,RGBA_ASTC_4x4_Format:mA,RGBA_BPTC_Format:gA,RGBA_ETC2_EAC_Format:pA,RGBA_PVRTC_4BPPV1_Format:fA,RGBA_S3TC_DXT5_Format:xm,RGB_ETC1_Format:Jw,RGB_ETC2_Format:hA,RGB_PVRTC_4BPPV1_Format:dA,RGB_S3TC_DXT1_Format:Im},Na.BasisWorker=function(){let p,e,r;const s=_EngineFormat,a=_TranscoderFormat,u=_BasisFormat;self.addEventListener("message",function(O){const k=O.data;switch(k.type){case"init":p=k.config,f(k.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:L,height:U,hasAlpha:Q,mipmaps:G,format:Z,dfdTransferFn:X,dfdFlags:te}=m(k.buffer),ae=[];for(let j=0;j<G.length;++j)ae.push(G[j].data.buffer);self.postMessage({type:"transcode",id:k.id,width:L,height:U,hasAlpha:Q,mipmaps:G,format:Z,dfdTransferFn:X,dfdFlags:te},ae)}catch(L){console.error(L),self.postMessage({type:"error",id:k.id,error:L.message})}});break}});function f(O){e=new Promise(k=>{r={wasmBinary:O,onRuntimeInitialized:k},BASIS(r)}).then(()=>{r.initializeBasis(),r.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function m(O){const k=new r.KTX2File(new Uint8Array(O));function L(){k.close(),k.delete()}if(!k.isValid())throw L(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const U=k.isUASTC()?u.UASTC_4x4:u.ETC1S,Q=k.getWidth(),G=k.getHeight(),Z=k.getLayers()||1,X=k.getLevels(),te=k.getHasAlpha(),ae=k.getDFDTransferFunc(),j=k.getDFDFlags(),{transcoderFormat:ge,engineFormat:we}=S(U,Q,G,te);if(!Q||!G||!X)throw L(),new Error("THREE.KTX2Loader:	Invalid texture");if(!k.startTranscoding())throw L(),new Error("THREE.KTX2Loader: .startTranscoding failed");const Le=[];for(let je=0;je<X;je++){const be=[];let Te,Je;for(let it=0;it<Z;it++){const tt=k.getImageLevelInfo(je,it,0);Te=tt.origWidth,Je=tt.origHeight;const Me=new Uint8Array(k.getImageTranscodedSizeInBytes(je,it,0,ge));if(!k.transcodeImage(Me,je,it,0,ge,0,-1,-1))throw L(),new Error("THREE.KTX2Loader: .transcodeImage failed.");be.push(Me)}Le.push({data:P(be),width:Te,height:Je})}return L(),{width:Q,height:G,hasAlpha:te,mipmaps:Le,format:we,dfdTransferFn:ae,dfdFlags:j}}const _=[{if:"astcSupported",basisFormat:[u.UASTC_4x4],transcoderFormat:[a.ASTC_4x4,a.ASTC_4x4],engineFormat:[s.RGBA_ASTC_4x4_Format,s.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[u.ETC1S,u.UASTC_4x4],transcoderFormat:[a.BC7_M5,a.BC7_M5],engineFormat:[s.RGBA_BPTC_Format,s.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[u.ETC1S,u.UASTC_4x4],transcoderFormat:[a.BC1,a.BC3],engineFormat:[s.RGB_S3TC_DXT1_Format,s.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[u.ETC1S,u.UASTC_4x4],transcoderFormat:[a.ETC1,a.ETC2],engineFormat:[s.RGB_ETC2_Format,s.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[u.ETC1S,u.UASTC_4x4],transcoderFormat:[a.ETC1],engineFormat:[s.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[u.ETC1S,u.UASTC_4x4],transcoderFormat:[a.PVRTC1_4_RGB,a.PVRTC1_4_RGBA],engineFormat:[s.RGB_PVRTC_4BPPV1_Format,s.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],A=_.sort(function(O,k){return O.priorityETC1S-k.priorityETC1S}),w=_.sort(function(O,k){return O.priorityUASTC-k.priorityUASTC});function S(O,k,L,U){let Q,G;const Z=O===u.ETC1S?A:w;for(let X=0;X<Z.length;X++){const te=Z[X];if(!!p[te.if]&&!!te.basisFormat.includes(O)&&!(U&&te.transcoderFormat.length<2)&&!(te.needsPowerOfTwo&&!(x(k)&&x(L))))return Q=te.transcoderFormat[U?1:0],G=te.engineFormat[U?1:0],{transcoderFormat:Q,engineFormat:G}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),Q=a.RGBA32,G=s.RGBAFormat,{transcoderFormat:Q,engineFormat:G}}function x(O){return O<=2?!0:(O&O-1)===0&&O!==0}function P(O){let k=0;for(const Q of O)k+=Q.byteLength;const L=new Uint8Array(k);let U=0;for(const Q of O)L.set(Q,U),U+=Q.byteLength;return L}};const Lx={[Bx]:Xi,[Tx]:Xi,[xx]:Xi,[Iy]:Xi,[Nx]:qf,[Rx]:qf,[Ix]:qf,[Cy]:qf,[Px]:Ul,[Mx]:Ul,[Ey]:Ul,[Cx]:Ul},By={[Bx]:Ei,[Tx]:$s,[xx]:Pt,[Iy]:Pt,[Nx]:Ei,[Rx]:$s,[Ix]:Pt,[Cy]:Pt,[Px]:Ei,[Mx]:$s,[Ey]:Pt,[Cx]:Pt},UG={[Iy]:Lr,[Cy]:Lr,[Ey]:Lr};async function zG(p){const{vkFormat:e,pixelWidth:r,pixelHeight:s,pixelDepth:a}=p;if(Lx[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const u=p.levels[0];let f,m;if(p.supercompressionScheme===BG)f=u.levelData;else if(p.supercompressionScheme===DG)Ny||(Ny=new Promise(async A=>{const w=new GG;await w.init(),A(w)})),f=(await Ny).decode(u.levelData,u.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");By[e]===Ei?m=new Float32Array(f.buffer,f.byteOffset,f.byteLength/Float32Array.BYTES_PER_ELEMENT):By[e]===$s?m=new Uint16Array(f.buffer,f.byteOffset,f.byteLength/Uint16Array.BYTES_PER_ELEMENT):m=f;const _=a===0?new n0(m,r,s):new TA(m,r,s,a);return _.type=By[e],_.format=Lx[e],_.encoding=UG[e]||Vo,_.needsUpdate=!0,Promise.resolve(_)}const Dy=new WeakMap;class HG extends tl{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,r,s,a){const u=new $o(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,f=>{this.decodeDracoFile(f,r).catch(a)},s,a)}decodeDracoFile(e,r,s,a){const u={attributeIDs:s||this.defaultAttributeIDs,attributeTypes:a||this.defaultAttributeTypes,useUniqueIDs:!!s};return this.decodeGeometry(e,u).then(r)}decodeGeometry(e,r){const s=JSON.stringify(r);if(Dy.has(e)){const _=Dy.get(e);if(_.key===s)return _.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let a;const u=this.workerNextTaskID++,f=e.byteLength,m=this._getWorker(u,f).then(_=>(a=_,new Promise((A,w)=>{a._callbacks[u]={resolve:A,reject:w},a.postMessage({type:"decode",id:u,taskConfig:r,buffer:e},[e])}))).then(_=>this._createGeometry(_.geometry));return m.catch(()=>!0).then(()=>{a&&u&&this._releaseTask(a,u)}),Dy.set(e,{key:s,promise:m}),m}_createGeometry(e){const r=new Ki;e.index&&r.setIndex(new Yr(e.index.array,1));for(let s=0;s<e.attributes.length;s++){const a=e.attributes[s],u=a.name,f=a.array,m=a.itemSize;r.setAttribute(u,new Yr(f,m))}return r}_loadLibrary(e,r){const s=new $o(this.manager);return s.setPath(this.decoderPath),s.setResponseType(r),s.setWithCredentials(this.withCredentials),new Promise((a,u)=>{s.load(e,a,void 0,u)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",r=[];return e?r.push(this._loadLibrary("draco_decoder.js","text")):(r.push(this._loadLibrary("draco_wasm_wrapper.js","text")),r.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(r).then(s=>{const a=s[0];e||(this.decoderConfig.wasmBinary=s[1]);const u=QG.toString(),f=["/* draco decoder */",a,"","/* worker */",u.substring(u.indexOf("{")+1,u.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([f]))}),this.decoderPending}_getWorker(e,r){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const a=new Worker(this.workerSourceURL);a._callbacks={},a._taskCosts={},a._taskLoad=0,a.postMessage({type:"init",decoderConfig:this.decoderConfig}),a.onmessage=function(u){const f=u.data;switch(f.type){case"decode":a._callbacks[f.id].resolve(f);break;case"error":a._callbacks[f.id].reject(f);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+f.type+'"')}},this.workerPool.push(a)}else this.workerPool.sort(function(a,u){return a._taskLoad>u._taskLoad?-1:1});const s=this.workerPool[this.workerPool.length-1];return s._taskCosts[e]=r,s._taskLoad+=r,s})}_releaseTask(e,r){e._taskLoad-=e._taskCosts[r],delete e._callbacks[r],delete e._taskCosts[r]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function QG(){let p,e;onmessage=function(f){const m=f.data;switch(m.type){case"init":p=m.decoderConfig,e=new Promise(function(w){p.onModuleLoaded=function(S){w({draco:S})},DracoDecoderModule(p)});break;case"decode":const _=m.buffer,A=m.taskConfig;e.then(w=>{const S=w.draco,x=new S.Decoder,P=new S.DecoderBuffer;P.Init(new Int8Array(_),_.byteLength);try{const O=r(S,x,P,A),k=O.attributes.map(L=>L.array.buffer);O.index&&k.push(O.index.array.buffer),self.postMessage({type:"decode",id:m.id,geometry:O},k)}catch(O){console.error(O),self.postMessage({type:"error",id:m.id,error:O.message})}finally{S.destroy(P),S.destroy(x)}});break}};function r(f,m,_,A){const w=A.attributeIDs,S=A.attributeTypes;let x,P;const O=m.GetEncodedGeometryType(_);if(O===f.TRIANGULAR_MESH)x=new f.Mesh,P=m.DecodeBufferToMesh(_,x);else if(O===f.POINT_CLOUD)x=new f.PointCloud,P=m.DecodeBufferToPointCloud(_,x);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!P.ok()||x.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+P.error_msg());const k={index:null,attributes:[]};for(const L in w){const U=self[S[L]];let Q,G;if(A.useUniqueIDs)G=w[L],Q=m.GetAttributeByUniqueId(x,G);else{if(G=m.GetAttributeId(x,f[w[L]]),G===-1)continue;Q=m.GetAttribute(x,G)}k.attributes.push(a(f,m,x,L,U,Q))}return O===f.TRIANGULAR_MESH&&(k.index=s(f,m,x)),f.destroy(x),k}function s(f,m,_){const w=_.num_faces()*3,S=w*4,x=f._malloc(S);m.GetTrianglesUInt32Array(_,S,x);const P=new Uint32Array(f.HEAPF32.buffer,x,w).slice();return f._free(x),{array:P,itemSize:1}}function a(f,m,_,A,w,S){const x=S.num_components(),O=_.num_points()*x,k=O*w.BYTES_PER_ELEMENT,L=u(f,w),U=f._malloc(k);m.GetAttributeDataArrayForAllPoints(_,S,L,k,U);const Q=new w(f.HEAPF32.buffer,U,O).slice();return f._free(U),{name:A,array:Q,itemSize:x}}function u(f,m){switch(m){case Float32Array:return f.DT_FLOAT32;case Int8Array:return f.DT_INT8;case Int16Array:return f.DT_INT16;case Int32Array:return f.DT_INT32;case Uint8Array:return f.DT_UINT8;case Uint16Array:return f.DT_UINT16;case Uint32Array:return f.DT_UINT32}}}var Ox="https://unpkg.com/three@0.".concat(E,".x"),ky=new DC,XG=new HG(ky).setDecoderPath("".concat(Ox,"/examples/js/libs/draco/gltf/")),$G=new Na(ky).setTranscoderPath("".concat(Ox,"/examples/js/libs/basis"));function Ly(p){var e=new tG(ky).setCrossOrigin("anonymous").setDRACOLoader(XG).setKTX2Loader($G.detectSupport(p));return e}/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var Fx=function(p){return URL.createObjectURL(new Blob([p],{type:"text/javascript"}))};try{URL.revokeObjectURL(Fx(""))}catch{Fx=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)}}var So=Uint8Array,sc=Uint16Array,Oy=Uint32Array,Vx=new So([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Gx=new So([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),WG=new So([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ux=function(p,e){for(var r=new sc(31),s=0;s<31;++s)r[s]=e+=1<<p[s-1];for(var a=new Oy(r[30]),s=1;s<30;++s)for(var u=r[s];u<r[s+1];++u)a[u]=u-r[s]<<5|s;return[r,a]},zx=Ux(Vx,2),Hx=zx[0],KG=zx[1];Hx[28]=258,KG[258]=28;for(var jG=Ux(Gx,0),qG=jG[0],Fy=new sc(32768),_i=0;_i<32768;++_i){var oc=(_i&43690)>>>1|(_i&21845)<<1;oc=(oc&52428)>>>2|(oc&13107)<<2,oc=(oc&61680)>>>4|(oc&3855)<<4,Fy[_i]=((oc&65280)>>>8|(oc&255)<<8)>>>1}for(var Yh=function(p,e,r){for(var s=p.length,a=0,u=new sc(e);a<s;++a)++u[p[a]-1];var f=new sc(e);for(a=0;a<e;++a)f[a]=f[a-1]+u[a-1]<<1;var m;if(r){m=new sc(1<<e);var _=15-e;for(a=0;a<s;++a)if(p[a])for(var A=a<<4|p[a],w=e-p[a],S=f[p[a]-1]++<<w,x=S|(1<<w)-1;S<=x;++S)m[Fy[S]>>>_]=A}else for(m=new sc(s),a=0;a<s;++a)p[a]&&(m[a]=Fy[f[p[a]-1]++]>>>15-p[a]);return m},Jh=new So(288),_i=0;_i<144;++_i)Jh[_i]=8;for(var _i=144;_i<256;++_i)Jh[_i]=9;for(var _i=256;_i<280;++_i)Jh[_i]=7;for(var _i=280;_i<288;++_i)Jh[_i]=8;for(var Qx=new So(32),_i=0;_i<32;++_i)Qx[_i]=5;var YG=Yh(Jh,9,1),JG=Yh(Qx,5,1),Vy=function(p){for(var e=p[0],r=1;r<p.length;++r)p[r]>e&&(e=p[r]);return e},na=function(p,e,r){var s=e/8|0;return(p[s]|p[s+1]<<8)>>(e&7)&r},Gy=function(p,e){var r=e/8|0;return(p[r]|p[r+1]<<8|p[r+2]<<16)>>(e&7)},ZG=function(p){return(p/8|0)+(p&7&&1)},eU=function(p,e,r){(e==null||e<0)&&(e=0),(r==null||r>p.length)&&(r=p.length);var s=new(p instanceof sc?sc:p instanceof Oy?Oy:So)(r-e);return s.set(p.subarray(e,r)),s},tU=function(p,e,r){var s=p.length;if(!s||r&&!r.l&&s<5)return e||new So(0);var a=!e||r,u=!r||r.i;r||(r={}),e||(e=new So(s*3));var f=function(at){var $e=e.length;if(at>$e){var Mt=new So(Math.max($e*2,at));Mt.set(e),e=Mt}},m=r.f||0,_=r.p||0,A=r.b||0,w=r.l,S=r.d,x=r.m,P=r.n,O=s*8;do{if(!w){r.f=m=na(p,_,1);var k=na(p,_+1,3);if(_+=3,k)if(k==1)w=YG,S=JG,x=9,P=5;else if(k==2){var G=na(p,_,31)+257,Z=na(p,_+10,15)+4,X=G+na(p,_+5,31)+1;_+=14;for(var te=new So(X),ae=new So(19),j=0;j<Z;++j)ae[WG[j]]=na(p,_+j*3,7);_+=Z*3;for(var ge=Vy(ae),we=(1<<ge)-1,Le=Yh(ae,ge,1),j=0;j<X;){var je=Le[na(p,_,we)];_+=je&15;var L=je>>>4;if(L<16)te[j++]=L;else{var be=0,Te=0;for(L==16?(Te=3+na(p,_,3),_+=2,be=te[j-1]):L==17?(Te=3+na(p,_,7),_+=3):L==18&&(Te=11+na(p,_,127),_+=7);Te--;)te[j++]=be}}var Je=te.subarray(0,G),it=te.subarray(G);x=Vy(Je),P=Vy(it),w=Yh(Je,x,1),S=Yh(it,P,1)}else throw"invalid block type";else{var L=ZG(_)+4,U=p[L-4]|p[L-3]<<8,Q=L+U;if(Q>s){if(u)throw"unexpected EOF";break}a&&f(A+U),e.set(p.subarray(L,Q),A),r.b=A+=U,r.p=_=Q*8;continue}if(_>O){if(u)throw"unexpected EOF";break}}a&&f(A+131072);for(var tt=(1<<x)-1,Me=(1<<P)-1,lt=_;;lt=_){var be=w[Gy(p,_)&tt],mt=be>>>4;if(_+=be&15,_>O){if(u)throw"unexpected EOF";break}if(!be)throw"invalid length/literal";if(mt<256)e[A++]=mt;else if(mt==256){lt=_,w=null;break}else{var ft=mt-254;if(mt>264){var j=mt-257,gt=Vx[j];ft=na(p,_,(1<<gt)-1)+Hx[j],_+=gt}var Qt=S[Gy(p,_)&Me],c=Qt>>>4;if(!Qt)throw"invalid distance";_+=Qt&15;var it=qG[c];if(c>3){var gt=Gx[c];it+=Gy(p,_)&(1<<gt)-1,_+=gt}if(_>O){if(u)throw"unexpected EOF";break}a&&f(A+131072);for(var pn=A+ft;A<pn;A+=4)e[A]=e[A-it],e[A+1]=e[A+1-it],e[A+2]=e[A+2-it],e[A+3]=e[A+3-it];A=pn}}r.l=w,r.p=lt,r.b=A,w&&(m=1,r.m=x,r.d=S,r.n=P)}while(!m);return A==e.length?e:eU(e,0,A)},nU=new So(0),rU=function(p){if((p[0]&15)!=8||p[0]>>>4>7||(p[0]<<8|p[1])%31)throw"invalid zlib data";if(p[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function iU(p,e){return tU((rU(p),p.subarray(2,-4)),e)}var sU=typeof TextDecoder<"u"&&new TextDecoder,oU=0;try{sU.decode(nU,{stream:!0}),oU=1}catch{}class aU extends tl{constructor(e){super(e)}load(e,r,s,a){const u=this,f=new $o(u.manager);f.setPath(u.path),f.setResponseType("arraybuffer"),f.setRequestHeader(u.requestHeader),f.setWithCredentials(u.withCredentials),f.load(e,function(m){try{r(u.parse(m))}catch(_){a?a(_):console.error(_),u.manager.itemError(e)}},s,a)}parse(e){function r(_){const A=[],w=[],S=[],x=[];let P;const O=/^[^\d.\s-]+/,k=/(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)/g,L=/^(\d+)\s+([\s\d]*)/,U=/^POINTS /,Q=/^POLYGONS /,G=/^TRIANGLE_STRIPS /,Z=/^POINT_DATA[ ]+(\d+)/,X=/^CELL_DATA[ ]+(\d+)/,te=/^COLOR_SCALARS[ ]+(\w+)[ ]+3/,ae=/^NORMALS[ ]+(\w+)[ ]+(\w+)/;let j=!1,ge=!1,we=!1,Le=!1,je=!1,be=!1,Te=!1;const Je=_.split(`
`);for(const tt in Je){const Me=Je[tt].trim();if(Me.indexOf("DATASET")===0){const lt=Me.split(" ")[1];if(lt!=="POLYDATA")throw new Error("Unsupported DATASET type: "+lt)}else if(j)for(;(P=k.exec(Me))!==null&&O.exec(Me)===null;){const lt=parseFloat(P[1]),mt=parseFloat(P[2]),ft=parseFloat(P[3]);w.push(lt,mt,ft)}else if(ge){if((P=L.exec(Me))!==null){const lt=parseInt(P[1]),mt=P[2].split(/\s+/);if(lt>=3){const ft=parseInt(mt[0]);let gt=1;for(let Qt=0;Qt<lt-2;++Qt){const c=parseInt(mt[gt]),pn=parseInt(mt[gt+1]);A.push(ft,c,pn),gt++}}}}else if(we){if((P=L.exec(Me))!==null){const lt=parseInt(P[1]),mt=P[2].split(/\s+/);if(lt>=3)for(let ft=0;ft<lt-2;ft++)if(ft%2===1){const gt=parseInt(mt[ft]),Qt=parseInt(mt[ft+2]),c=parseInt(mt[ft+1]);A.push(gt,Qt,c)}else{const gt=parseInt(mt[ft]),Qt=parseInt(mt[ft+1]),c=parseInt(mt[ft+2]);A.push(gt,Qt,c)}}}else if(Le||je){if(be)for(;(P=k.exec(Me))!==null&&O.exec(Me)===null;){const lt=parseFloat(P[1]),mt=parseFloat(P[2]),ft=parseFloat(P[3]);S.push(lt,mt,ft)}else if(Te)for(;(P=k.exec(Me))!==null&&O.exec(Me)===null;){const lt=parseFloat(P[1]),mt=parseFloat(P[2]),ft=parseFloat(P[3]);x.push(lt,mt,ft)}}Q.exec(Me)!==null?(ge=!0,j=!1,we=!1):U.exec(Me)!==null?(ge=!1,j=!0,we=!1):G.exec(Me)!==null?(ge=!1,j=!1,we=!0):Z.exec(Me)!==null?(Le=!0,j=!1,ge=!1,we=!1):X.exec(Me)!==null?(je=!0,j=!1,ge=!1,we=!1):te.exec(Me)!==null?(be=!0,Te=!1,j=!1,ge=!1,we=!1):ae.exec(Me)!==null&&(Te=!0,be=!1,j=!1,ge=!1,we=!1)}let it=new Ki;if(it.setIndex(A),it.setAttribute("position",new $i(w,3)),x.length===w.length&&it.setAttribute("normal",new $i(x,3)),S.length!==A.length)S.length===w.length&&it.setAttribute("color",new $i(S,3));else{it=it.toNonIndexed();const tt=it.attributes.position.count/3;if(S.length===tt*3){const Me=[];for(let lt=0;lt<tt;lt++){const mt=S[3*lt+0],ft=S[3*lt+1],gt=S[3*lt+2];Me.push(mt,ft,gt),Me.push(mt,ft,gt),Me.push(mt,ft,gt)}it.setAttribute("color",new $i(Me,3))}}return it}function s(_){const A=new Uint8Array(_),w=new DataView(_);let S=[],x=[],P=[],O=0;function k(G,Z){let X=Z,te=G[X];const ae=[];for(;te!==10;)ae.push(String.fromCharCode(te)),X++,te=G[X];return{start:Z,end:X,next:X+1,parsedString:ae.join("")}}let L,U;for(;;){if(L=k(A,O),U=L.parsedString,U.indexOf("DATASET")===0){const G=U.split(" ")[1];if(G!=="POLYDATA")throw new Error("Unsupported DATASET type: "+G)}else if(U.indexOf("POINTS")===0){const G=parseInt(U.split(" ")[1],10),Z=G*4*3;S=new Float32Array(G*3);let X=L.next;for(let te=0;te<G;te++)S[3*te]=w.getFloat32(X,!1),S[3*te+1]=w.getFloat32(X+4,!1),S[3*te+2]=w.getFloat32(X+8,!1),X=X+12;L.next=L.next+Z+1}else if(U.indexOf("TRIANGLE_STRIPS")===0){const G=parseInt(U.split(" ")[1],10),Z=parseInt(U.split(" ")[2],10),X=Z*4;P=new Uint32Array(3*Z-9*G);let te=0,ae=L.next;for(let j=0;j<G;j++){const ge=w.getInt32(ae,!1),we=[];ae+=4;for(let Le=0;Le<ge;Le++)we.push(w.getInt32(ae,!1)),ae+=4;for(let Le=0;Le<ge-2;Le++)Le%2?(P[te++]=we[Le],P[te++]=we[Le+2],P[te++]=we[Le+1]):(P[te++]=we[Le],P[te++]=we[Le+1],P[te++]=we[Le+2])}L.next=L.next+X+1}else if(U.indexOf("POLYGONS")===0){const G=parseInt(U.split(" ")[1],10),Z=parseInt(U.split(" ")[2],10),X=Z*4;P=new Uint32Array(3*Z-9*G);let te=0,ae=L.next;for(let j=0;j<G;j++){const ge=w.getInt32(ae,!1),we=[];ae+=4;for(let Le=0;Le<ge;Le++)we.push(w.getInt32(ae,!1)),ae+=4;for(let Le=1;Le<ge-1;Le++)P[te++]=we[0],P[te++]=we[Le],P[te++]=we[Le+1]}L.next=L.next+X+1}else if(U.indexOf("POINT_DATA")===0){const G=parseInt(U.split(" ")[1],10);L=k(A,L.next);const Z=G*4*3;x=new Float32Array(G*3);let X=L.next;for(let te=0;te<G;te++)x[3*te]=w.getFloat32(X,!1),x[3*te+1]=w.getFloat32(X+4,!1),x[3*te+2]=w.getFloat32(X+8,!1),X+=12;L.next=L.next+Z}if(O=L.next,O>=A.byteLength)break}const Q=new Ki;return Q.setIndex(new Yr(P,1)),Q.setAttribute("position",new Yr(S,3)),x.length===S.length&&Q.setAttribute("normal",new Yr(x,3)),Q}function a(_,A){const w=_.length,S=new Float32Array(w+A.length);return S.set(_),S.set(A,w),S}function u(_,A){const w=_.length,S=new Int32Array(w+A.length);return S.set(_),S.set(A,w),S}function f(_){function A(Q){let G={};if(Q.nodeType===1){if(Q.attributes&&Q.attributes.length>0){G.attributes={};for(let Z=0;Z<Q.attributes.length;Z++){const X=Q.attributes.item(Z);G.attributes[X.nodeName]=X.nodeValue.trim()}}}else Q.nodeType===3&&(G=Q.nodeValue.trim());if(Q.hasChildNodes())for(let Z=0;Z<Q.childNodes.length;Z++){const X=Q.childNodes.item(Z),te=X.nodeName;if(typeof G[te]>"u"){const ae=A(X);ae!==""&&(G[te]=ae)}else{if(typeof G[te].push>"u"){const j=G[te];G[te]=[j]}const ae=A(X);ae!==""&&G[te].push(ae)}}return G}function w(Q){const G=typeof Uint8Array<"u"?Uint8Array:Array,Z=[],X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(let be=0,Te=X.length;be<Te;++be)Z[X.charCodeAt(be)]=be;Z["-".charCodeAt(0)]=62,Z["_".charCodeAt(0)]=63;const te=Q.length;if(te%4>0)throw new Error("Invalid string. Length must be a multiple of 4");const ae=Q[te-2]==="="?2:Q[te-1]==="="?1:0,j=new G(te*3/4-ae),ge=ae>0?te-4:te;let we=0,Le,je;for(Le=0,je=0;Le<ge;Le+=4,je+=3){const be=Z[Q.charCodeAt(Le)]<<18|Z[Q.charCodeAt(Le+1)]<<12|Z[Q.charCodeAt(Le+2)]<<6|Z[Q.charCodeAt(Le+3)];j[we++]=(be&16711680)>>16,j[we++]=(be&65280)>>8,j[we++]=be&255}if(ae===2){const be=Z[Q.charCodeAt(Le)]<<2|Z[Q.charCodeAt(Le+1)]>>4;j[we++]=be&255}else if(ae===1){const be=Z[Q.charCodeAt(Le)]<<10|Z[Q.charCodeAt(Le+1)]<<4|Z[Q.charCodeAt(Le+2)]>>2;j[we++]=be>>8&255,j[we++]=be&255}return j}function S(Q,G){let Z=0;O.attributes.header_type==="UInt64"?Z=8:O.attributes.header_type==="UInt32"&&(Z=4);let X,te;if(Q.attributes.format==="binary"&&G){Q.attributes.type==="Float32"?X=new Float32Array:(Q.attributes.type==="Int32"||Q.attributes.type==="Int64")&&(X=new Int32Array);const ae=Q["#text"],j=Array.isArray(ae)?ae[0]:ae,ge=w(j),we=8;let Le=ge[0];for(let tt=1;tt<Z-1;tt++)Le=Le|ge[tt]<<tt*we;let je=(Le+3)*Z;const be=je%3>0?3-je%3:0;je=je+be;const Te=[];let Je=je;Te.push(Je);const it=3*Z;for(let tt=0;tt<Le;tt++){let Me=ge[tt*Z+it];for(let lt=1;lt<Z-1;lt++)Me=Me|ge[tt*Z+it+lt]<<lt*we;Je=Je+Me,Te.push(Je)}for(let tt=0;tt<Te.length-1;tt++)te=iU(ge.slice(Te[tt],Te[tt+1])).buffer,Q.attributes.type==="Float32"?(te=new Float32Array(te),X=a(X,te)):(Q.attributes.type==="Int32"||Q.attributes.type==="Int64")&&(te=new Int32Array(te),X=u(X,te));delete Q["#text"],Q.attributes.type==="Int64"&&Q.attributes.format==="binary"&&(X=X.filter(function(tt,Me){if(Me%2!==1)return!0}))}else Q.attributes.format==="binary"&&!G?(te=w(Q["#text"]),te=te.slice(Z).buffer):Q["#text"]?te=Q["#text"].split(/\s+/).filter(function(ae){if(ae!=="")return ae}):te=new Int32Array(0).buffer,delete Q["#text"],Q.attributes.type==="Float32"?X=new Float32Array(te):Q.attributes.type==="Int32"?X=new Int32Array(te):Q.attributes.type==="Int64"&&(X=new Int32Array(te),Q.attributes.format==="binary"&&(X=X.filter(function(ae,j){if(j%2!==1)return!0})));return X}const P=new DOMParser().parseFromString(_,"application/xml").documentElement,O=A(P);let k=[],L=[],U=[];if(O.PolyData){const Q=O.PolyData.Piece,G=O.attributes.hasOwnProperty("compressor"),Z=["PointData","Points","Strips","Polys"];let X=0;const te=Z.length;for(;X<te;){const j=Q[Z[X]];if(j&&j.DataArray){let ge;Array.isArray(j.DataArray)?ge=j.DataArray:ge=[j.DataArray];let we=0;const Le=ge.length;for(;we<Le;)"#text"in ge[we]&&ge[we]["#text"].length>0&&(ge[we].text=S(ge[we],G)),we++;switch(Z[X]){case"PointData":{const je=parseInt(Q.attributes.NumberOfPoints),be=j.attributes.Normals;if(je>0){for(let Te=0,Je=ge.length;Te<Je;Te++)if(be===ge[Te].attributes.Name){const it=ge[Te].attributes.NumberOfComponents;L=new Float32Array(je*it),L.set(ge[Te].text,0)}}}break;case"Points":{const je=parseInt(Q.attributes.NumberOfPoints);if(je>0){const be=j.DataArray.attributes.NumberOfComponents;k=new Float32Array(je*be),k.set(j.DataArray.text,0)}}break;case"Strips":{const je=parseInt(Q.attributes.NumberOfStrips);if(je>0){const be=new Int32Array(j.DataArray[0].text.length),Te=new Int32Array(j.DataArray[1].text.length);be.set(j.DataArray[0].text,0),Te.set(j.DataArray[1].text,0);const Je=je+be.length;U=new Uint32Array(3*Je-9*je);let it=0;for(let tt=0,Me=je;tt<Me;tt++){const lt=[];for(let mt=0,ft=Te[tt],gt=0;mt<ft-gt;mt++)lt.push(be[mt]),tt>0&&(gt=Te[tt-1]);for(let mt=0,ft=Te[tt],gt=0;mt<ft-gt-2;mt++)mt%2?(U[it++]=lt[mt],U[it++]=lt[mt+2],U[it++]=lt[mt+1]):(U[it++]=lt[mt],U[it++]=lt[mt+1],U[it++]=lt[mt+2]),tt>0&&(gt=Te[tt-1])}}}break;case"Polys":{const je=parseInt(Q.attributes.NumberOfPolys);if(je>0){const be=new Int32Array(j.DataArray[0].text.length),Te=new Int32Array(j.DataArray[1].text.length);be.set(j.DataArray[0].text,0),Te.set(j.DataArray[1].text,0);const Je=je+be.length;U=new Uint32Array(3*Je-9*je);let it=0,tt=0,Me=0,lt=0;const mt=je;for(;Me<mt;){const ft=[];let gt=0;const Qt=Te[Me];for(;gt<Qt-lt;)ft.push(be[tt++]),gt++;let c=1;for(;c<Qt-lt-1;)U[it++]=ft[0],U[it++]=ft[c],U[it++]=ft[c+1],c++;Me++,lt=Te[Me-1]}}}break}}X++}const ae=new Ki;return ae.setIndex(new Yr(U,1)),ae.setAttribute("position",new Yr(k,3)),L.length===k.length&&ae.setAttribute("normal",new Yr(L,3)),ae}else throw new Error("Unsupported DATASET type")}const m=Ra.decodeText(new Uint8Array(e,0,250)).split(`
`);return m[0].indexOf("xml")!==-1?f(Ra.decodeText(e)):m[2].includes("ASCII")?r(Ra.decodeText(e)):s(e)}}var Xx=new aU,$x=new hg({wireframe:!1,side:q,color:16773120});function lU(p,e,r){Xx.load(p,function(s){s.center(),s.computeVertexNormals();var a=new Fi(s,$x);a.scale.multiplyScalar(.1),r.add(a),e.add(r)})}function cU(){return{vtkLoader:Xx,vtkmaterial:$x}}var Wx=function(p){g(e,p);function e(r,s){var a=p.call(this,r,s)||this;return a.clock=new eF,a.mixer=null,a.playRate=1,a.modelReady=!1,a.texture2dMesh=null,a.controls=new gx(a.camera,a.renderer.domElement),window.addEventListener("resize",a.onWindowResize,!1),a}return e.prototype.loadGltf=function(r,s){var a=this,u=Ly(this.renderer);u.load(r,function(f){var m=new Ia().setFromObject(f.scene),_=m.getSize(new ut).length(),A=m.getCenter(new ut);a.controls.maxDistance=_*10,f.scene.position.x+=f.scene.position.x-A.x,f.scene.position.y+=f.scene.position.y-A.y,f.scene.position.z+=f.scene.position.z-A.z,a.cameraPositionFlag||(a.camera.position.copy(A),a.camera.position.x+=_/2,a.camera.position.y+=_/5,a.camera.position.z+=_/2,a.camera.lookAt(A),a.viewPoint=a.setViewPoint(a.camera,[A.x,A.y,A.z])),a.mixer=new UC(f.scene),f.animations.forEach(function(w,S){var x,P;S===0?a.clipAction=(x=a.mixer)===null||x===void 0?void 0:x.clipAction(w).play():(P=a.mixer)===null||P===void 0||P.clipAction(w).play()}),a.content=f.scene,a.exportContent.copy(f.scene),a.exportContent.animations=f.animations,a.scene.add(f.scene),a.modelReady=!0,s&&s(f.scene)},function(f){})},e.prototype.loadVtk=function(r){lU(r,this.scene,this.content)},e.prototype.loadVtks=function(r){var s=this,a=0,u=cU(),f=u.vtkLoader,m=u.vtkmaterial,_=new qs,A=setInterval(function(){a===r.length&&(s.scene.add(s.exportContent),s.mixer=new UC(_),s.exportContent.animations.forEach(function(S){var x,P=(x=s.mixer)===null||x===void 0?void 0:x.clipAction(S);P.timeScale=3,P.play()}),s.modelReady=!0,clearInterval(A))},100);r.forEach(function(S){var x=[];S.urls.forEach(function(P,O){f.load(P,function(k){k.center(),k.computeVertexNormals(),k.name=O.toString(),x.push(k),x.length===S.urls.length&&(x.sort(function(L,U){return s.sort?parseInt(L.name)-parseInt(U.name):parseInt(U.name)-parseInt(L.name)}),w(x,S),a+=1)})})});var w=function(S,x){var P=S[0];S.forEach(function(X,te){te===0?(P=X,P.morphAttributes.position=[]):P.morphAttributes.position.push(X.attributes.position)});var O=new Fi(P,m);O.scale.multiplyScalar(.1),_.add(O),s.exportContent.add(_),O.morphTargetInfluences=[],O.name=x.name;for(var k=0,L=[],U=S.length-1,Q=0;Q<U;Q++){var G=new Xo("".concat(O.name,".morphTargetInfluences[").concat(Q,"]"),[k,k+1,k+2],[0,1,0]);L.push(G),k=k+2}var Z=new mg("copper3d_heart_morph_".concat(O.name),U,L);s.exportContent.animations.push(Z)}},e.prototype.texture2d=function(r){var s=this;$F(r,this.scene);var a=setInterval(function(){var u;s.scene.children.forEach(function(f){if(f.isMesh&&f.name==="texture2d_mesh_zip"){s.texture2dMesh=f;var m=function(){if(s.texture2dMesh){var _=s.texture2dMesh.material.uniforms.depth.value;_+=s.depthStep,(_>109||_<0)&&(_>1&&(_=109*2-_),_<0&&(_=-_),s.depthStep=-s.depthStep),s.texture2dMesh.material.uniforms.depth.value=_}};s.addPreRenderCallbackFunction(m)}}),((u=s.texture2dMesh)===null||u===void 0?void 0:u.name)==="texture2d_mesh_zip"&&clearInterval(a)},500)},e.prototype.getPlayRate=function(){return this.playRate},e.prototype.setPlayRate=function(r){this.playRate=r},e.prototype.setModelPosition=function(r,s){s.x&&(r.position.x=s.x),s.y&&(r.position.y=s.y),s.z&&(r.position.z=s.z)},e.prototype.resetView=function(){this.controls.reset(),this.updateCamera(this.viewPoint)},e.prototype.updateCamera=function(r){this.cameraPositionFlag=!0,this.copperControl.updateCameraViewPoint(r)},e.prototype.getCurrentTime=function(){var r=0;return this.clipAction&&(r=this.clipAction.time/this.clipAction._clip.duration),r},e.prototype.getCurrentMixer=function(){return this.mixer},e.prototype.render=function(){this.controls.update(),this.modelReady&&this.mixer&&this.mixer.update(this.clock.getDelta()*this.playRate),Object.values(this.preRenderCallbackFunctions.cache).forEach(function(r){r&&r.call(null)}),this.subDiv&&this.subCamera&&this.subRender&&(this.subCamera.aspect=this.subDiv.clientWidth/this.subDiv.clientHeight,this.subCamera.updateProjectionMatrix(),this.subRender.setSize(this.subDiv.clientWidth,this.subDiv.clientHeight),this.subCamera.position.copy(this.camera.position),this.subCamera.lookAt(this.subScene.position),this.subRender.render(this.subScene,this.subCamera)),this.renderer.render(this.scene,this.camera)},e}(hy),uU=function(p){g(e,p);function e(r,s){var a=p.call(this,r,s)||this;return a.sceneMap={},a.animate=function(){a.render(),a.stats.update(),requestAnimationFrame(a.animate)},a}return e.prototype.getSceneByName=function(r){return this.sceneMap[r]},e.prototype.setCurrentScene=function(r){var s;r&&(this.currentScene=r,!((s=this.options)===null||s===void 0)&&s.guiOpen&&this.updateGui(),this.onWindowResize())},e.prototype.createScene=function(r){if(this.sceneMap[r]==null){var s=new Wx(this.container,this.renderer);return s.sceneName=r,this.updateEnvironment(s.vignette),this.sceneMap[r]=s,s}},e.prototype.onWindowResize=function(){},e.prototype.render=function(){this.currentScene.render()},e}(mx);function dU(p,e,r,s,a,u){var f=document.createElement("canvas");f.width=512,f.height=512;var m=f.getContext("2d");m.textBaseline="alphabetic";var _=m.measureText(p);_.width,m.fillStyle="rgb(255,255,255)",m.textAlign="center",u?m.font=u.font_size+" "+u.font:m.font="30px Helvetica",m.fillText(p,256,256),m.strokeStyle="rgb(255,255,255)",m.strokeText(p,256,256);var A=new Oi(f);A.needsUpdate=!0;var w=new aC({map:A,color:"#ffffff"}),S=new xO(w);return S.scale.set(a,a,1),S.position.set(e,r,s),S}function fU(p,e,r,s,a,u,f){var m=dU(e,r,s,a,u,f);p.addObject(m)}function hU(p,e,r){var s=new ut,a,u=new ut;s.set(r.x/p.clientWidth*2-1,-(r.y/p.clientHeight)*2+1,.5),s.unproject(e),s.sub(e.position).normalize();var f=(.2-e.position.z)/s.z;return u.copy(e.position).add(s.multiplyScalar(f)),a={x:u.x,y:u.y,z:u.z},a}function pU(p,e,r){var s=new ut;r.getWorldPosition(s);var a=s.project(e),u=p.clientWidth/2,f=p.clientHeight/2,m=Math.round(u*a.x+u),_=Math.round(f*a.y+f),A={x:m,y:_};return A}const Kx={type:"change"},Uy={type:"start"},jx={type:"end"};class Hg extends Wa{constructor(e,r){super(),this.object=e,this.domElement=r,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new ut,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:I.ROTATE,MIDDLE:I.DOLLY,RIGHT:I.PAN},this.touches={ONE:M.ROTATE,TWO:M.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return m.phi},this.getAzimuthalAngle=function(){return m.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Fe){Fe.addEventListener("keydown",ue),this._domElementKeyEvents=Fe},this.saveState=function(){s.target0.copy(s.target),s.position0.copy(s.object.position),s.zoom0=s.object.zoom},this.reset=function(){s.target.copy(s.target0),s.object.position.copy(s.position0),s.object.zoom=s.zoom0,s.object.updateProjectionMatrix(),s.dispatchEvent(Kx),s.update(),u=a.NONE},this.update=function(){const Fe=new ut,wt=new Ds().setFromUnitVectors(e.up,new ut(0,1,0)),bn=wt.clone().invert(),Vn=new ut,Cn=new Ds,Tn=2*Math.PI;return function(){const vr=s.object.position;Fe.copy(vr).sub(s.target),Fe.applyQuaternion(wt),m.setFromVector3(Fe),s.autoRotate&&u===a.NONE&&ge(ae()),s.enableDamping?(m.theta+=_.theta*s.dampingFactor,m.phi+=_.phi*s.dampingFactor):(m.theta+=_.theta,m.phi+=_.phi);let Ir=s.minAzimuthAngle,Gr=s.maxAzimuthAngle;return isFinite(Ir)&&isFinite(Gr)&&(Ir<-Math.PI?Ir+=Tn:Ir>Math.PI&&(Ir-=Tn),Gr<-Math.PI?Gr+=Tn:Gr>Math.PI&&(Gr-=Tn),Ir<=Gr?m.theta=Math.max(Ir,Math.min(Gr,m.theta)):m.theta=m.theta>(Ir+Gr)/2?Math.max(Ir,m.theta):Math.min(Gr,m.theta)),m.phi=Math.max(s.minPolarAngle,Math.min(s.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=A,m.radius=Math.max(s.minDistance,Math.min(s.maxDistance,m.radius)),s.enableDamping===!0?s.target.addScaledVector(w,s.dampingFactor):s.target.add(w),Fe.setFromSpherical(m),Fe.applyQuaternion(bn),vr.copy(s.target).add(Fe),s.object.lookAt(s.target),s.enableDamping===!0?(_.theta*=1-s.dampingFactor,_.phi*=1-s.dampingFactor,w.multiplyScalar(1-s.dampingFactor)):(_.set(0,0,0),w.set(0,0,0)),A=1,S||Vn.distanceToSquared(s.object.position)>f||8*(1-Cn.dot(s.object.quaternion))>f?(s.dispatchEvent(Kx),Vn.copy(s.object.position),Cn.copy(s.object.quaternion),S=!1,!0):!1}}(),this.dispose=function(){s.domElement.removeEventListener("contextmenu",de),s.domElement.removeEventListener("pointerdown",Br),s.domElement.removeEventListener("pointercancel",Ve),s.domElement.removeEventListener("wheel",Bt),s.domElement.removeEventListener("pointermove",rn),s.domElement.removeEventListener("pointerup",mn),s._domElementKeyEvents!==null&&s._domElementKeyEvents.removeEventListener("keydown",ue)};const s=this,a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=a.NONE;const f=1e-6,m=new HC,_=new HC;let A=1;const w=new ut;let S=!1;const x=new Gn,P=new Gn,O=new Gn,k=new Gn,L=new Gn,U=new Gn,Q=new Gn,G=new Gn,Z=new Gn,X=[],te={};function ae(){return 2*Math.PI/60/60*s.autoRotateSpeed}function j(){return Math.pow(.95,s.zoomSpeed)}function ge(Fe){_.theta-=Fe}function we(Fe){_.phi-=Fe}const Le=function(){const Fe=new ut;return function(bn,Vn){Fe.setFromMatrixColumn(Vn,0),Fe.multiplyScalar(-bn),w.add(Fe)}}(),je=function(){const Fe=new ut;return function(bn,Vn){s.screenSpacePanning===!0?Fe.setFromMatrixColumn(Vn,1):(Fe.setFromMatrixColumn(Vn,0),Fe.crossVectors(s.object.up,Fe)),Fe.multiplyScalar(bn),w.add(Fe)}}(),be=function(){const Fe=new ut;return function(bn,Vn){const Cn=s.domElement;if(s.object.isPerspectiveCamera){const Tn=s.object.position;Fe.copy(Tn).sub(s.target);let Qn=Fe.length();Qn*=Math.tan(s.object.fov/2*Math.PI/180),Le(2*bn*Qn/Cn.clientHeight,s.object.matrix),je(2*Vn*Qn/Cn.clientHeight,s.object.matrix)}else s.object.isOrthographicCamera?(Le(bn*(s.object.right-s.object.left)/s.object.zoom/Cn.clientWidth,s.object.matrix),je(Vn*(s.object.top-s.object.bottom)/s.object.zoom/Cn.clientHeight,s.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),s.enablePan=!1)}}();function Te(Fe){s.object.isPerspectiveCamera?A/=Fe:s.object.isOrthographicCamera?(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom*Fe)),s.object.updateProjectionMatrix(),S=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function Je(Fe){s.object.isPerspectiveCamera?A*=Fe:s.object.isOrthographicCamera?(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom/Fe)),s.object.updateProjectionMatrix(),S=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function it(Fe){x.set(Fe.clientX,Fe.clientY)}function tt(Fe){Q.set(Fe.clientX,Fe.clientY)}function Me(Fe){k.set(Fe.clientX,Fe.clientY)}function lt(Fe){P.set(Fe.clientX,Fe.clientY),O.subVectors(P,x).multiplyScalar(s.rotateSpeed);const wt=s.domElement;ge(2*Math.PI*O.x/wt.clientHeight),we(2*Math.PI*O.y/wt.clientHeight),x.copy(P),s.update()}function mt(Fe){G.set(Fe.clientX,Fe.clientY),Z.subVectors(G,Q),Z.y>0?Te(j()):Z.y<0&&Je(j()),Q.copy(G),s.update()}function ft(Fe){L.set(Fe.clientX,Fe.clientY),U.subVectors(L,k).multiplyScalar(s.panSpeed),be(U.x,U.y),k.copy(L),s.update()}function gt(Fe){Fe.deltaY<0?Je(j()):Fe.deltaY>0&&Te(j()),s.update()}function Qt(Fe){let wt=!1;switch(Fe.code){case s.keys.UP:Fe.ctrlKey||Fe.metaKey||Fe.shiftKey?we(2*Math.PI*s.rotateSpeed/s.domElement.clientHeight):be(0,s.keyPanSpeed),wt=!0;break;case s.keys.BOTTOM:Fe.ctrlKey||Fe.metaKey||Fe.shiftKey?we(-2*Math.PI*s.rotateSpeed/s.domElement.clientHeight):be(0,-s.keyPanSpeed),wt=!0;break;case s.keys.LEFT:Fe.ctrlKey||Fe.metaKey||Fe.shiftKey?ge(2*Math.PI*s.rotateSpeed/s.domElement.clientHeight):be(s.keyPanSpeed,0),wt=!0;break;case s.keys.RIGHT:Fe.ctrlKey||Fe.metaKey||Fe.shiftKey?ge(-2*Math.PI*s.rotateSpeed/s.domElement.clientHeight):be(-s.keyPanSpeed,0),wt=!0;break}wt&&(Fe.preventDefault(),s.update())}function c(){if(X.length===1)x.set(X[0].pageX,X[0].pageY);else{const Fe=.5*(X[0].pageX+X[1].pageX),wt=.5*(X[0].pageY+X[1].pageY);x.set(Fe,wt)}}function pn(){if(X.length===1)k.set(X[0].pageX,X[0].pageY);else{const Fe=.5*(X[0].pageX+X[1].pageX),wt=.5*(X[0].pageY+X[1].pageY);k.set(Fe,wt)}}function at(){const Fe=X[0].pageX-X[1].pageX,wt=X[0].pageY-X[1].pageY,bn=Math.sqrt(Fe*Fe+wt*wt);Q.set(0,bn)}function $e(){s.enableZoom&&at(),s.enablePan&&pn()}function Mt(){s.enableZoom&&at(),s.enableRotate&&c()}function jt(Fe){if(X.length==1)P.set(Fe.pageX,Fe.pageY);else{const bn=sn(Fe),Vn=.5*(Fe.pageX+bn.x),Cn=.5*(Fe.pageY+bn.y);P.set(Vn,Cn)}O.subVectors(P,x).multiplyScalar(s.rotateSpeed);const wt=s.domElement;ge(2*Math.PI*O.x/wt.clientHeight),we(2*Math.PI*O.y/wt.clientHeight),x.copy(P)}function Kt(Fe){if(X.length===1)L.set(Fe.pageX,Fe.pageY);else{const wt=sn(Fe),bn=.5*(Fe.pageX+wt.x),Vn=.5*(Fe.pageY+wt.y);L.set(bn,Vn)}U.subVectors(L,k).multiplyScalar(s.panSpeed),be(U.x,U.y),k.copy(L)}function wn(Fe){const wt=sn(Fe),bn=Fe.pageX-wt.x,Vn=Fe.pageY-wt.y,Cn=Math.sqrt(bn*bn+Vn*Vn);G.set(0,Cn),Z.set(0,Math.pow(G.y/Q.y,s.zoomSpeed)),Te(Z.y),Q.copy(G)}function Pn(Fe){s.enableZoom&&wn(Fe),s.enablePan&&Kt(Fe)}function Xn(Fe){s.enableZoom&&wn(Fe),s.enableRotate&&jt(Fe)}function Br(Fe){s.enabled!==!1&&(X.length===0&&(s.domElement.setPointerCapture(Fe.pointerId),s.domElement.addEventListener("pointermove",rn),s.domElement.addEventListener("pointerup",mn)),De(Fe),Fe.pointerType==="touch"?W(Fe):Un(Fe))}function rn(Fe){s.enabled!==!1&&(Fe.pointerType==="touch"?Y(Fe):En(Fe))}function mn(Fe){et(Fe),X.length===0&&(s.domElement.releasePointerCapture(Fe.pointerId),s.domElement.removeEventListener("pointermove",rn),s.domElement.removeEventListener("pointerup",mn)),s.dispatchEvent(jx),u=a.NONE}function Ve(Fe){et(Fe)}function Un(Fe){let wt;switch(Fe.button){case 0:wt=s.mouseButtons.LEFT;break;case 1:wt=s.mouseButtons.MIDDLE;break;case 2:wt=s.mouseButtons.RIGHT;break;default:wt=-1}switch(wt){case I.DOLLY:if(s.enableZoom===!1)return;tt(Fe),u=a.DOLLY;break;case I.ROTATE:if(Fe.ctrlKey||Fe.metaKey||Fe.shiftKey){if(s.enablePan===!1)return;Me(Fe),u=a.PAN}else{if(s.enableRotate===!1)return;it(Fe),u=a.ROTATE}break;case I.PAN:if(Fe.ctrlKey||Fe.metaKey||Fe.shiftKey){if(s.enableRotate===!1)return;it(Fe),u=a.ROTATE}else{if(s.enablePan===!1)return;Me(Fe),u=a.PAN}break;default:u=a.NONE}u!==a.NONE&&s.dispatchEvent(Uy)}function En(Fe){switch(u){case a.ROTATE:if(s.enableRotate===!1)return;lt(Fe);break;case a.DOLLY:if(s.enableZoom===!1)return;mt(Fe);break;case a.PAN:if(s.enablePan===!1)return;ft(Fe);break}}function Bt(Fe){s.enabled===!1||s.enableZoom===!1||u!==a.NONE||(Fe.preventDefault(),s.dispatchEvent(Uy),gt(Fe),s.dispatchEvent(jx))}function ue(Fe){s.enabled===!1||s.enablePan===!1||Qt(Fe)}function W(Fe){switch(Tt(Fe),X.length){case 1:switch(s.touches.ONE){case M.ROTATE:if(s.enableRotate===!1)return;c(),u=a.TOUCH_ROTATE;break;case M.PAN:if(s.enablePan===!1)return;pn(),u=a.TOUCH_PAN;break;default:u=a.NONE}break;case 2:switch(s.touches.TWO){case M.DOLLY_PAN:if(s.enableZoom===!1&&s.enablePan===!1)return;$e(),u=a.TOUCH_DOLLY_PAN;break;case M.DOLLY_ROTATE:if(s.enableZoom===!1&&s.enableRotate===!1)return;Mt(),u=a.TOUCH_DOLLY_ROTATE;break;default:u=a.NONE}break;default:u=a.NONE}u!==a.NONE&&s.dispatchEvent(Uy)}function Y(Fe){switch(Tt(Fe),u){case a.TOUCH_ROTATE:if(s.enableRotate===!1)return;jt(Fe),s.update();break;case a.TOUCH_PAN:if(s.enablePan===!1)return;Kt(Fe),s.update();break;case a.TOUCH_DOLLY_PAN:if(s.enableZoom===!1&&s.enablePan===!1)return;Pn(Fe),s.update();break;case a.TOUCH_DOLLY_ROTATE:if(s.enableZoom===!1&&s.enableRotate===!1)return;Xn(Fe),s.update();break;default:u=a.NONE}}function de(Fe){s.enabled!==!1&&Fe.preventDefault()}function De(Fe){X.push(Fe)}function et(Fe){delete te[Fe.pointerId];for(let wt=0;wt<X.length;wt++)if(X[wt].pointerId==Fe.pointerId){X.splice(wt,1);return}}function Tt(Fe){let wt=te[Fe.pointerId];wt===void 0&&(wt=new Gn,te[Fe.pointerId]=wt),wt.set(Fe.pageX,Fe.pageY)}function sn(Fe){const wt=Fe.pointerId===X[0].pointerId?X[1]:X[0];return te[wt.pointerId]}s.domElement.addEventListener("contextmenu",de),s.domElement.addEventListener("pointerdown",Br),s.domElement.addEventListener("pointercancel",Ve),s.domElement.addEventListener("wheel",Bt,{passive:!1}),this.update()}}var qx=function(p){g(e,p);function e(r,s){var a=p.call(this,r,s)||this;return a.renderRequested=!1,a.isResize=!1,a.confirmResize=function(){a.isResize=!0,a.requestRenderIfNotRequested()},a.render=function(){a.renderRequested=void 0,a.controls.update(),a.renderer.render(a.scene,a.camera)},a.requestRenderIfNotRequested=function(){a.renderRequested||(a.isResize&&(a.isResize=!1,a.onWindowResize()),a.renderRequested=!0,requestAnimationFrame(a.render))},a.controls=new Hg(a.camera,s.domElement),a.controls.addEventListener("change",a.requestRenderIfNotRequested),window.addEventListener("resize",a.confirmResize,!1),requestAnimationFrame(a.render),a}return e.prototype.loadGltf=function(r,s){var a=this,u=Ly(this.renderer);u.load(r,function(f){var m=new Ia().setFromObject(f.scene),_=m.getSize(new ut).length(),A=m.getCenter(new ut);a.controls.maxDistance=_*10,f.scene.position.x+=f.scene.position.x-A.x,f.scene.position.y+=f.scene.position.y-A.y,f.scene.position.z+=f.scene.position.z-A.z,a.cameraPositionFlag||(a.camera.position.copy(A),a.camera.position.x+=_/2,a.camera.position.y+=_/5,a.camera.position.z+=_/2,a.camera.lookAt(A),a.viewPoint=a.setViewPoint(a.camera,[A.x,A.y,A.z])),a.content=f.scene,a.scene.add(f.scene),s&&s(f.scene)},function(f){})},e}(hy),mU=function(p){g(e,p);function e(r,s){var a=p.call(this,r,s)||this;return a.sceneMap={},a.animate=function(){a.render(),a.stats.update()},a}return e.prototype.getSceneByName=function(r){return this.sceneMap[r]},e.prototype.setCurrentScene=function(r){var s;r&&(this.currentScene=r,!((s=this.options)===null||s===void 0)&&s.guiOpen&&this.updateGui())},e.prototype.createScene=function(r){if(this.sceneMap[r]==null){var s=new qx(this.container,this.renderer);return s.sceneName=r,this.updateEnvironment(s.vignette),this.sceneMap[r]=s,s}},e.prototype.render=function(){this.currentScene.render()},e}(mx);$C();var Yx=function(p){g(e,p);function e(r,s){var a=p.call(this,r)||this;return a.gui=new Xh({width:260,autoPlace:!1}),a.sceneName="",a.viewPoint=new Wl,a.cameraPositionFlag=!1,a.content=new qs,a.isHalfed=!1,a.color1="#5454ad",a.color2="#18e5a7",a.lights=[],a.renderNrrdVolume=!1,a.guiContainer=document.createElement("div"),a.onWindowResize=function(){var u=a.container.getBoundingClientRect(),f=u.width,m=u.height,_=f/m;if(a.renderNrrdVolume){var A=a.camera,w=A.top-A.bottom;A.left=-w*_/2,A.right=w*_/2}else a.camera.aspect=_;a.camera.updateProjectionMatrix(),a.subDiv&&a.subCamera&&a.subRender&&(a.subCamera.aspect=a.subDiv.clientWidth/a.subDiv.clientHeight,a.subCamera.updateProjectionMatrix(),a.subRender.setSize(a.subDiv.clientWidth,a.subDiv.clientHeight)),a.controls.update()},a.container=r,a.renderer=s,a.camera=new as(75,r.clientWidth/r.clientHeight,.1,500),a.ambientLight=new VC(2105376,1),a.directionalLight=new h0(16777215,2.5),a.vignette=XC({aspect:a.container.clientWidth/a.container.clientHeight,grainScale:0,colors:[a.color1,a.color2]}),a.vignette.mesh.name="Vignette",a.vignette.mesh.renderOrder=-1,a.copperControl=new v0(a.camera),a.controls=new Hg(a.camera,a.container),a.preRenderCallbackFunctions={index:0,cache:{},add:function(u){if(!u.id){u.id=++this.index,this.cache[u.id]=u;return}}},a.init(),a}return e.prototype.init=function(){var r=this;this.copperControl.setCameraViewPoint(),this.camera.position.z=2,this.guiContainer.style.position="fixed",this.guiContainer.style.top="0",this.guiContainer.style.right="0",this.guiContainer.style.zIndex="100",this.guiContainer.appendChild(this.gui.domElement),this.container.appendChild(this.guiContainer),this.guiContainer.addEventListener("pointerover",zg(function(){r.controls.enabled=!1},100),!1),this.guiContainer.addEventListener("pointerleave",function(){r.controls.enabled=!0},!1),this.addLights()},e.prototype.setControls=function(r){switch(r){case 0:this.controls=new Hg(this.camera,this.container);break;default:this.controls=new gx(this.camera,this.container),this.controls.rotateSpeed=.01;break}},e.prototype.loadGltf=function(r,s){var a=this,u=Ly(this.renderer);u.load(r,function(f){var m,_,A,w=new Ia().setFromObject(f.scene),S=w.getSize(new ut).length(),x=w.getCenter(new ut);if(a.controls.maxDistance=S*10,f.scene.position.x+=f.scene.position.x-x.x,f.scene.position.y+=f.scene.position.y-x.y,f.scene.position.z+=f.scene.position.z-x.z,!a.cameraPositionFlag&&(a.camera.position.copy(x),a.camera.position.x+=S/2,a.camera.position.y+=S/5,a.camera.position.z+=S/2,a.camera.lookAt(x),a.viewPoint=a.setViewPoint(a.camera,[x.x,x.y,x.z]),a.subCamera)){(m=a.subCamera)===null||m===void 0||m.position.copy(a.camera.position),(_=a.subCamera)===null||_===void 0||_.lookAt(a.subScene.position),a.subCamera.near=S/100,a.subCamera.far=S*100,(A=a.subCamera)===null||A===void 0||A.updateProjectionMatrix();var P=new qs().copy(f.scene);P.scale.set(S,S,S),a.subScene.add(P)}a.content=f.scene,a.scene.add(f.scene),s&&s(f.scene)},function(f){})},e.prototype.pickSpecifiedModel=function(r,s){return Array.isArray(r)?this.pickableObjects=r:this.pickableObjects.push(r),DV(this.camera,this.container,this.pickableObjects,s)},e.prototype.setViewPoint=function(r,s){var a=new Wl;return a.farPlane=r.far,a.nearPlane=r.near,a.eyePosition=[r.position.x,r.position.y,r.position.z],s?a.targetPosition=[s[0],s[1],s[2]]:a.targetPosition=[0,0,0],a.upVector=[r.up.x,r.up.y,r.up.z],this.viewPoint=a,a},e.prototype.loadNrrd1=function(r,s){var a=1024,u=window.innerWidth/window.innerHeight;this.camera=new Jm(-a*u/2,a*u/2,a/2,-a/2,1,1e3),this.camera.position.set(0,0,128),this.camera.up.set(0,0,1),this.controls.dispose(),this.controls=new Hg(this.camera,this.container),this.controls.target.set(64,64,128),this.controls.minZoom=.5,this.controls.maxZoom=4,this.controls.enablePan=!1,this.renderNrrdVolume=!0,MV(r,this.scene,this.container,s)},e.prototype.drawWholeNrrd=function(r){RV(r,this.scene,this.gui,this.controls)},e.prototype.updateBackground=function(r,s){this.vignette.style({colors:[r,s]})},e.prototype.addLights=function(){var r=new kC;r.name="hemi_light",this.scene.add(r),this.ambientLight.name="ambient_light",this.directionalLight.name="main_light",this.directionalLight.position.set(.5,0,.866),this.camera.add(this.ambientLight),this.camera.add(this.directionalLight),this.lights.push(r),this.lights.push(this.ambientLight),this.lights.push(this.directionalLight)},e.prototype.removeLights=function(){this.lights&&(this.lights.forEach(function(r){return r.parent.remove(r)}),this.lights.length=0)},e.prototype.loadViewUrl=function(r){var s=this,a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState==4&&a.status==200){var u=JSON.parse(a.responseText);s.loadView(u)}},a.open("GET",r,!0),a.send()},e.prototype.loadView=function(r){this.cameraPositionFlag=!0,this.viewPoint=r;var s=new Wl;s.farPlane=r.farPlane,s.nearPlane=r.nearPlane,s.eyePosition=r.eyePosition,s.targetPosition=r.targetPosition,s.upVector=r.upVector,this.copperControl.updateCameraViewPoint(s),this.subCopperControl&&this.subCopperControl.updateCameraViewPoint(s)},e.prototype.updateCamera=function(r){this.cameraPositionFlag=!0,this.copperControl.updateCameraViewPoint(r)},e.prototype.setCameraPosition=function(r){typeof r.x=="number"&&(this.camera.position.x=r.x),typeof r.y=="number"&&(this.camera.position.y=r.y),typeof r.z=="number"&&(this.camera.position.z=r.z),this.setViewPoint(this.camera)},e.prototype.resetView=function(){this.controls.reset(),this.updateCamera(this.viewPoint)},e.prototype.render=function(){this.controls.update(),this.onWindowResize(),this.renderer.render(this.scene,this.camera),Object.values(this.preRenderCallbackFunctions.cache).forEach(function(r){r&&r.call(null)}),this.subDiv&&this.subCamera&&this.subRender&&(this.subCamera.position.copy(this.camera.position),this.subCamera.lookAt(this.subScene.position),this.subRender.render(this.subScene,this.subCamera))},e}(ax),gU=function(){function p(e,r,s){var a=this;this.renderer=new rg({alpha:!0,antialias:!0}),this.renderSceneInfo=function(u){var f=u.container,m=f.getBoundingClientRect(),_=m.left,A=m.right,w=m.top,S=m.bottom,x=m.width,P=m.height,O=S<0||w>a.renderer.domElement.clientHeight||A<0||_>a.renderer.domElement.clientWidth;if(!O){var k=a.renderer.domElement.clientHeight-S;a.renderer.setScissor(_,k,x,P),a.renderer.setViewport(_,k,x,P),u.render()}},this.resizeRendererToDisplaySize=function(){var u=a.renderer.domElement.clientWidth,f=a.renderer.domElement.clientHeight,m=a.renderer.domElement.width!==u||a.renderer.domElement.height!==f;m&&(a.elems.map(function(_,A){A===a.numberOfScene-1&&a.numberOfScene%2!==0?_.style.width=a.container.clientWidth+"px":_.style.width=a.container.clientWidth/2-2+"px",_.style.height=a.container.clientHeight/Math.ceil(a.numberOfScene/2)+"px"}),a.renderer.setSize(u,f,!1))},this.animate=function(){var u=new dr("#000");a.renderer.setScissorTest(!1),a.renderer.setClearColor(u,0),a.renderer.clear(!0,!0),a.renderer.setScissorTest(!0),a.resizeRendererToDisplaySize(),a.sceneInfos.forEach(function(m){a.renderSceneInfo(m)});var f="translateY(".concat(window.scrollY,"px)");a.renderer.domElement.style.transform=f,window.requestAnimationFrame(a.animate)},this.numberOfScene=r>0?r:1,this.container=e,this.elems=[],this.scenes=[],this.cameras=[],this.sceneInfos=[],this.canvas=this.renderer.domElement,this.pmremGenerator=new Zm(this.renderer),this.init()}return p.prototype.init=function(){this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=Lr,this.pmremGenerator.compileEquirectangularShader(),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.canvas.className="copper3D_canvas",this.container.className="copper3D_container_root",this.container.appendChild(this.canvas);for(var e=0;e<this.numberOfScene;e++){var r=document.createElement("div");r.className="copper3D_scene_div",this.container.appendChild(r),this.elems.push(r);var s=new Yx(r,this.renderer);this.updateEnvironment(s),this.sceneInfos.push(s)}},p.prototype.updateEnvironment=function(e){var r=py.filter(function(s){return s.name==="Venice Sunset"})[0];this.getCubeMapTexture(r).then(function(s){s&&e.vignette&&e.scene.add(e.vignette.mesh),e.scene.environment=s,e.scene.background=s})},p.prototype.getCubeMapTexture=function(e){var r=this,s=e.path;return s?new Promise(function(a,u){new lx().load(s,function(f){var m=r.pmremGenerator.fromEquirectangular(f).texture;r.pmremGenerator.dispose(),a(m)},void 0,u)}):Promise.resolve({envMap:null})},p}(),vU=_0(function(p,e){(function(s,a){p.exports=a()})(self,function(){return(()=>{var r={"./node_modules/copper3d_plugin_heartjs_config/dist/copper3d_plugin_heartjs_config.js":f=>{(function(_,A){f.exports=A()})(self,()=>(()=>{var m={591:(S,x,P)=>{var O=P(8).default;function k(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */S.exports=k=function(){return L},S.exports.__esModule=!0,S.exports.default=S.exports;var L={},U=Object.prototype,Q=U.hasOwnProperty,G=typeof Symbol=="function"?Symbol:{},Z=G.iterator||"@@iterator",X=G.asyncIterator||"@@asyncIterator",te=G.toStringTag||"@@toStringTag";function ae(at,$e,Mt){return Object.defineProperty(at,$e,{value:Mt,enumerable:!0,configurable:!0,writable:!0}),at[$e]}try{ae({},"")}catch{ae=function(Mt,jt,Kt){return Mt[jt]=Kt}}function j(at,$e,Mt,jt){var Kt=$e&&$e.prototype instanceof Le?$e:Le,wn=Object.create(Kt.prototype),Pn=new Qt(jt||[]);return wn._invoke=function(Xn,Br,rn){var mn="suspendedStart";return function(Ve,Un){if(mn==="executing")throw new Error("Generator is already running");if(mn==="completed"){if(Ve==="throw")throw Un;return pn()}for(rn.method=Ve,rn.arg=Un;;){var En=rn.delegate;if(En){var Bt=mt(En,rn);if(Bt){if(Bt===we)continue;return Bt}}if(rn.method==="next")rn.sent=rn._sent=rn.arg;else if(rn.method==="throw"){if(mn==="suspendedStart")throw mn="completed",rn.arg;rn.dispatchException(rn.arg)}else rn.method==="return"&&rn.abrupt("return",rn.arg);mn="executing";var ue=ge(Xn,Br,rn);if(ue.type==="normal"){if(mn=rn.done?"completed":"suspendedYield",ue.arg===we)continue;return{value:ue.arg,done:rn.done}}ue.type==="throw"&&(mn="completed",rn.method="throw",rn.arg=ue.arg)}}}(at,Mt,Pn),wn}function ge(at,$e,Mt){try{return{type:"normal",arg:at.call($e,Mt)}}catch(jt){return{type:"throw",arg:jt}}}L.wrap=j;var we={};function Le(){}function je(){}function be(){}var Te={};ae(Te,Z,function(){return this});var Je=Object.getPrototypeOf,it=Je&&Je(Je(c([])));it&&it!==U&&Q.call(it,Z)&&(Te=it);var tt=be.prototype=Le.prototype=Object.create(Te);function Me(at){["next","throw","return"].forEach(function($e){ae(at,$e,function(Mt){return this._invoke($e,Mt)})})}function lt(at,$e){function Mt(Kt,wn,Pn,Xn){var Br=ge(at[Kt],at,wn);if(Br.type!=="throw"){var rn=Br.arg,mn=rn.value;return mn&&O(mn)=="object"&&Q.call(mn,"__await")?$e.resolve(mn.__await).then(function(Ve){Mt("next",Ve,Pn,Xn)},function(Ve){Mt("throw",Ve,Pn,Xn)}):$e.resolve(mn).then(function(Ve){rn.value=Ve,Pn(rn)},function(Ve){return Mt("throw",Ve,Pn,Xn)})}Xn(Br.arg)}var jt;this._invoke=function(Kt,wn){function Pn(){return new $e(function(Xn,Br){Mt(Kt,wn,Xn,Br)})}return jt=jt?jt.then(Pn,Pn):Pn()}}function mt(at,$e){var Mt=at.iterator[$e.method];if(Mt===void 0){if($e.delegate=null,$e.method==="throw"){if(at.iterator.return&&($e.method="return",$e.arg=void 0,mt(at,$e),$e.method==="throw"))return we;$e.method="throw",$e.arg=new TypeError("The iterator does not provide a 'throw' method")}return we}var jt=ge(Mt,at.iterator,$e.arg);if(jt.type==="throw")return $e.method="throw",$e.arg=jt.arg,$e.delegate=null,we;var Kt=jt.arg;return Kt?Kt.done?($e[at.resultName]=Kt.value,$e.next=at.nextLoc,$e.method!=="return"&&($e.method="next",$e.arg=void 0),$e.delegate=null,we):Kt:($e.method="throw",$e.arg=new TypeError("iterator result is not an object"),$e.delegate=null,we)}function ft(at){var $e={tryLoc:at[0]};1 in at&&($e.catchLoc=at[1]),2 in at&&($e.finallyLoc=at[2],$e.afterLoc=at[3]),this.tryEntries.push($e)}function gt(at){var $e=at.completion||{};$e.type="normal",delete $e.arg,at.completion=$e}function Qt(at){this.tryEntries=[{tryLoc:"root"}],at.forEach(ft,this),this.reset(!0)}function c(at){if(at){var $e=at[Z];if($e)return $e.call(at);if(typeof at.next=="function")return at;if(!isNaN(at.length)){var Mt=-1,jt=function Kt(){for(;++Mt<at.length;)if(Q.call(at,Mt))return Kt.value=at[Mt],Kt.done=!1,Kt;return Kt.value=void 0,Kt.done=!0,Kt};return jt.next=jt}}return{next:pn}}function pn(){return{value:void 0,done:!0}}return je.prototype=be,ae(tt,"constructor",be),ae(be,"constructor",je),je.displayName=ae(be,te,"GeneratorFunction"),L.isGeneratorFunction=function(at){var $e=typeof at=="function"&&at.constructor;return!!$e&&($e===je||($e.displayName||$e.name)==="GeneratorFunction")},L.mark=function(at){return Object.setPrototypeOf?Object.setPrototypeOf(at,be):(at.__proto__=be,ae(at,te,"GeneratorFunction")),at.prototype=Object.create(tt),at},L.awrap=function(at){return{__await:at}},Me(lt.prototype),ae(lt.prototype,X,function(){return this}),L.AsyncIterator=lt,L.async=function(at,$e,Mt,jt,Kt){Kt===void 0&&(Kt=Promise);var wn=new lt(j(at,$e,Mt,jt),Kt);return L.isGeneratorFunction($e)?wn:wn.next().then(function(Pn){return Pn.done?Pn.value:wn.next()})},Me(tt),ae(tt,te,"Generator"),ae(tt,Z,function(){return this}),ae(tt,"toString",function(){return"[object Generator]"}),L.keys=function(at){var $e=[];for(var Mt in at)$e.push(Mt);return $e.reverse(),function jt(){for(;$e.length;){var Kt=$e.pop();if(Kt in at)return jt.value=Kt,jt.done=!1,jt}return jt.done=!0,jt}},L.values=c,Qt.prototype={constructor:Qt,reset:function($e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(gt),!$e)for(var Mt in this)Mt.charAt(0)==="t"&&Q.call(this,Mt)&&!isNaN(+Mt.slice(1))&&(this[Mt]=void 0)},stop:function(){this.done=!0;var $e=this.tryEntries[0].completion;if($e.type==="throw")throw $e.arg;return this.rval},dispatchException:function($e){if(this.done)throw $e;var Mt=this;function jt(rn,mn){return Pn.type="throw",Pn.arg=$e,Mt.next=rn,mn&&(Mt.method="next",Mt.arg=void 0),!!mn}for(var Kt=this.tryEntries.length-1;Kt>=0;--Kt){var wn=this.tryEntries[Kt],Pn=wn.completion;if(wn.tryLoc==="root")return jt("end");if(wn.tryLoc<=this.prev){var Xn=Q.call(wn,"catchLoc"),Br=Q.call(wn,"finallyLoc");if(Xn&&Br){if(this.prev<wn.catchLoc)return jt(wn.catchLoc,!0);if(this.prev<wn.finallyLoc)return jt(wn.finallyLoc)}else if(Xn){if(this.prev<wn.catchLoc)return jt(wn.catchLoc,!0)}else{if(!Br)throw new Error("try statement without catch or finally");if(this.prev<wn.finallyLoc)return jt(wn.finallyLoc)}}}},abrupt:function($e,Mt){for(var jt=this.tryEntries.length-1;jt>=0;--jt){var Kt=this.tryEntries[jt];if(Kt.tryLoc<=this.prev&&Q.call(Kt,"finallyLoc")&&this.prev<Kt.finallyLoc){var wn=Kt;break}}wn&&($e==="break"||$e==="continue")&&wn.tryLoc<=Mt&&Mt<=wn.finallyLoc&&(wn=null);var Pn=wn?wn.completion:{};return Pn.type=$e,Pn.arg=Mt,wn?(this.method="next",this.next=wn.finallyLoc,we):this.complete(Pn)},complete:function($e,Mt){if($e.type==="throw")throw $e.arg;return $e.type==="break"||$e.type==="continue"?this.next=$e.arg:$e.type==="return"?(this.rval=this.arg=$e.arg,this.method="return",this.next="end"):$e.type==="normal"&&Mt&&(this.next=Mt),we},finish:function($e){for(var Mt=this.tryEntries.length-1;Mt>=0;--Mt){var jt=this.tryEntries[Mt];if(jt.finallyLoc===$e)return this.complete(jt.completion,jt.afterLoc),gt(jt),we}},catch:function($e){for(var Mt=this.tryEntries.length-1;Mt>=0;--Mt){var jt=this.tryEntries[Mt];if(jt.tryLoc===$e){var Kt=jt.completion;if(Kt.type==="throw"){var wn=Kt.arg;gt(jt)}return wn}}throw new Error("illegal catch attempt")},delegateYield:function($e,Mt,jt){return this.delegate={iterator:c($e),resultName:Mt,nextLoc:jt},this.method==="next"&&(this.arg=void 0),we}},L}S.exports=k,S.exports.__esModule=!0,S.exports.default=S.exports},8:S=>{function x(P){return S.exports=x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},S.exports.__esModule=!0,S.exports.default=S.exports,x(P)}S.exports=x,S.exports.__esModule=!0,S.exports.default=S.exports},757:(S,x,P)=>{var O=P(591)();S.exports=O;try{regeneratorRuntime=O}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=O:Function("r","regeneratorRuntime = r")(O)}},140:(S,x,P)=>{S.exports=P.p+"791f4146c35521990ba3e84e823a55f3.wasm"},915:(S,x,P)=>{S.exports=P.p+"f1877cdf3dec53d47652f14c1e1b12c1.bin"}},_={};function A(S){var x=_[S];if(x!==void 0)return x.exports;var P=_[S]={exports:{}};return m[S](P,P.exports,A),P.exports}A.n=S=>{var x=S&&S.__esModule?()=>S.default:()=>S;return A.d(x,{a:x}),x},A.d=(S,x)=>{for(var P in x)A.o(x,P)&&!A.o(S,P)&&Object.defineProperty(S,P,{enumerable:!0,get:x[P]})},A.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),A.o=(S,x)=>Object.prototype.hasOwnProperty.call(S,x),A.r=S=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})},(()=>{var S;A.g.importScripts&&(S=A.g.location+"");var x=A.g.document;if(!S&&x&&(x.currentScript&&(S=x.currentScript.src),!S)){var P=x.getElementsByTagName("script");P.length&&(S=P[P.length-1].src)}if(!S)throw new Error("Automatic publicPath is not supported in this browser");S=S.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),A.p=S})();var w={};return(()=>{A.r(w),A.d(w,{HeartRateDetector:()=>Br,setBinUrl:()=>Xn,setWasm:()=>P});function S(rn){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(mn){return typeof mn}:function(mn){return mn&&typeof Symbol=="function"&&mn.constructor===Symbol&&mn!==Symbol.prototype?"symbol":typeof mn},S(rn)}A(140);var x;function P(rn){x=rn}var O=function(){var rn=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(mn){mn=mn||{};var Ve=typeof mn<"u"?mn:{},Un,En;Ve.ready=new Promise(function(Ee,F){Un=Ee,En=F});var Bt={},ue;for(ue in Ve)Ve.hasOwnProperty(ue)&&(Bt[ue]=Ve[ue]);var W=function(F,ee){throw ee},Y=!0,de="";function De(Ee){return Ve.locateFile?Ve.locateFile(Ee,de):de+Ee}var et,Tt;typeof document<"u"&&document.currentScript&&(de=document.currentScript.src),rn&&(de=rn),de.indexOf("blob:")!==0?de=de.substr(0,de.lastIndexOf("/")+1):de="",et=function(F){var ee=new XMLHttpRequest;return ee.open("GET",F,!1),ee.send(null),ee.responseText};var sn=Ve.print||console.log.bind(console),Fe=Ve.printErr||console.warn.bind(console);for(ue in Bt)Bt.hasOwnProperty(ue)&&(Ve[ue]=Bt[ue]);Bt=null,Ve.arguments&&Ve.arguments,Ve.thisProgram&&Ve.thisProgram,Ve.quit&&(W=Ve.quit);var wt=16;function bn(Ee,F){return F||(F=wt),Math.ceil(Ee/F)*F}function Vn(Ee,F){if(typeof WebAssembly.Function=="function"){for(var ee={i:"i32",j:"i64",f:"f32",d:"f64"},ve={parameters:[],results:F[0]=="v"?[]:[ee[F[0]]]},ke=1;ke<F.length;++ke)ve.parameters.push(ee[F[ke]]);return new WebAssembly.Function(ve,Ee)}var qe=[1,0,1,96],ct=F.slice(0,1),Rt=F.slice(1),Yt={i:127,j:126,f:125,d:124};qe.push(Rt.length);for(var ke=0;ke<Rt.length;++ke)qe.push(Yt[Rt[ke]]);ct=="v"?qe.push(0):qe=qe.concat([1,Yt[ct]]),qe[1]=qe.length-2;var _n=new Uint8Array([0,97,115,109,1,0,0,0].concat(qe,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),ar=new WebAssembly.Module(_n),Ar=new WebAssembly.Instance(ar,{e:{f:Ee}}),_r=Ar.exports.f;return _r}var Cn=[],Tn;function Qn(){if(Cn.length)return Cn.pop();try{Pr.grow(1)}catch(Ee){throw Ee instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Ee}return Pr.length-1}function vr(Ee,F){if(!Tn){Tn=new WeakMap;for(var ee=0;ee<Pr.length;ee++){var ve=Pr.get(ee);ve&&Tn.set(ve,ee)}}if(Tn.has(Ee))return Tn.get(Ee);var ke=Qn();try{Pr.set(ke,Ee)}catch(ct){if(!(ct instanceof TypeError))throw ct;var qe=Vn(Ee,F);Pr.set(ke,qe)}return Tn.set(Ee,ke),ke}function Ir(Ee){Tn.delete(Pr.get(Ee)),Cn.push(Ee)}function Gr(Ee,F){return vr(Ee,F)}var vt=0,qt=function(F){vt=F},Sn=function(){return vt},kn;Ve.wasmBinary&&(kn=Ve.wasmBinary);var qn=Ve.noExitRuntime||!0;(typeof WebAssembly>"u"?"undefined":S(WebAssembly))!=="object"&&Ji("no native wasm support detected");function Xr(Ee,F,ee,ve){switch(ee=ee||"i8",ee.charAt(ee.length-1)==="*"&&(ee="i32"),ee){case"i1":$n[Ee>>0]=F;break;case"i8":$n[Ee>>0]=F;break;case"i16":wr[Ee>>1]=F;break;case"i32":Ln[Ee>>2]=F;break;case"i64":Co=[F>>>0,(bi=F,+Math.abs(bi)>=1?bi>0?(Math.min(+Math.floor(bi/4294967296),4294967295)|0)>>>0:~~+Math.ceil((bi-+(~~bi>>>0))/4294967296)>>>0:0)],Ln[Ee>>2]=Co[0],Ln[Ee+4>>2]=Co[1];break;case"float":Ur[Ee>>2]=F;break;case"double":Dr[Ee>>3]=F;break;default:Ji("invalid type for setValue: "+ee)}}function Pi(Ee,F,ee){switch(F=F||"i8",F.charAt(F.length-1)==="*"&&(F="i32"),F){case"i1":return $n[Ee>>0];case"i8":return $n[Ee>>0];case"i16":return wr[Ee>>1];case"i32":return Ln[Ee>>2];case"i64":return Ln[Ee>>2];case"float":return Ur[Ee>>2];case"double":return Dr[Ee>>3];default:Ji("invalid type for getValue: "+F)}return null}var Ci,ra=!1;function ci(Ee,F){Ee||Ji("Assertion failed: "+F)}function ia(Ee){var F=Ve["_"+Ee];return ci(F,"Cannot call unknown function "+Ee+", make sure it is exported"),F}function Os(Ee,F,ee,ve,ke){var qe={string:function(tr){var Nr=0;if(tr!=null&&tr!==0){var Ii=(tr.length<<2)+1;Nr=jy(Ii),ze(tr,Nr,Ii)}return Nr},array:function(tr){var Nr=jy(tr.length);return Jt(tr,Nr),Nr}};function ct(hr){return F==="string"?du(hr):F==="boolean"?Boolean(hr):hr}var Rt=ia(Ee),Yt=[],_n=0;if(ve)for(var ar=0;ar<ve.length;ar++){var Ar=qe[ee[ar]];Ar?(_n===0&&(_n=oa()),Yt[ar]=Ar(ve[ar])):Yt[ar]=ve[ar]}var _r=Rt.apply(null,Yt);return _r=ct(_r),_n!==0&&aa(_n),_r}var Zh=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ac(Ee,F,ee){for(var ve=F+ee,ke=F;Ee[ke]&&!(ke>=ve);)++ke;if(ke-F>16&&Ee.subarray&&Zh)return Zh.decode(Ee.subarray(F,ke));for(var qe="";F<ke;){var ct=Ee[F++];if(!(ct&128)){qe+=String.fromCharCode(ct);continue}var Rt=Ee[F++]&63;if((ct&224)==192){qe+=String.fromCharCode((ct&31)<<6|Rt);continue}var Yt=Ee[F++]&63;if((ct&240)==224?ct=(ct&15)<<12|Rt<<6|Yt:ct=(ct&7)<<18|Rt<<12|Yt<<6|Ee[F++]&63,ct<65536)qe+=String.fromCharCode(ct);else{var _n=ct-65536;qe+=String.fromCharCode(55296|_n>>10,56320|_n&1023)}}return qe}function du(Ee,F){return Ee?ac(lr,Ee,F):""}function ep(Ee,F,ee,ve){if(!(ve>0))return 0;for(var ke=ee,qe=ee+ve-1,ct=0;ct<Ee.length;++ct){var Rt=Ee.charCodeAt(ct);if(Rt>=55296&&Rt<=57343){var Yt=Ee.charCodeAt(++ct);Rt=65536+((Rt&1023)<<10)|Yt&1023}if(Rt<=127){if(ee>=qe)break;F[ee++]=Rt}else if(Rt<=2047){if(ee+1>=qe)break;F[ee++]=192|Rt>>6,F[ee++]=128|Rt&63}else if(Rt<=65535){if(ee+2>=qe)break;F[ee++]=224|Rt>>12,F[ee++]=128|Rt>>6&63,F[ee++]=128|Rt&63}else{if(ee+3>=qe)break;F[ee++]=240|Rt>>18,F[ee++]=128|Rt>>12&63,F[ee++]=128|Rt>>6&63,F[ee++]=128|Rt&63}}return F[ee]=0,ee-ke}function ze(Ee,F,ee){return ep(Ee,lr,F,ee)}function Gt(Ee){for(var F=0,ee=0;ee<Ee.length;++ee){var ve=Ee.charCodeAt(ee);ve>=55296&&ve<=57343&&(ve=65536+((ve&1023)<<10)|Ee.charCodeAt(++ee)&1023),ve<=127?++F:ve<=2047?F+=2:ve<=65535?F+=3:F+=4}return F}function Jt(Ee,F){$n.set(Ee,F)}function kt(Ee,F){return Ee%F>0&&(Ee+=F-Ee%F),Ee}var Zt,$n,lr,wr,Ln,Ur,Dr;function Or(Ee){Zt=Ee,Ve.HEAP8=$n=new Int8Array(Ee),Ve.HEAP16=wr=new Int16Array(Ee),Ve.HEAP32=Ln=new Int32Array(Ee),Ve.HEAPU8=lr=new Uint8Array(Ee),Ve.HEAPU16=new Uint16Array(Ee),Ve.HEAPU32=new Uint32Array(Ee),Ve.HEAPF32=Ur=new Float32Array(Ee),Ve.HEAPF64=Dr=new Float64Array(Ee)}Ve.INITIAL_MEMORY;var Pr,ms=[],wo=[],Ba=[];function wi(){if(Ve.preRun)for(typeof Ve.preRun=="function"&&(Ve.preRun=[Ve.preRun]);Ve.preRun.length;)Ni(Ve.preRun.shift());$y(ms)}function zr(){!Ve.noFSInit&&!pe.init.initialized&&pe.init(),$y(wo)}function tp(){if(Ve.postRun)for(typeof Ve.postRun=="function"&&(Ve.postRun=[Ve.postRun]);Ve.postRun.length;)$g(Ve.postRun.shift());$y(Ba)}function Ni(Ee){ms.unshift(Ee)}function gl(Ee){wo.unshift(Ee)}function $g(Ee){Ba.unshift(Ee)}var io=0,vl=null;function Yi(Ee){io++,Ve.monitorRunDependencies&&Ve.monitorRunDependencies(io)}function sa(Ee){if(io--,Ve.monitorRunDependencies&&Ve.monitorRunDependencies(io),io==0&&vl){var F=vl;vl=null,F()}}Ve.preloadedImages={},Ve.preloadedAudios={};function Ji(Ee){Ve.onAbort&&Ve.onAbort(Ee),Ee+="",Fe(Ee),ra=!0,Ee="abort("+Ee+"). Build with -s ASSERTIONS=1 for more info.";var F=new WebAssembly.RuntimeError(Ee);throw En(F),F}var Cs="data:application/octet-stream;base64,";function jd(Ee){return Ee.startsWith(Cs)}var Eo=x;jd(Eo)||(Eo=De(Eo));function np(Ee){try{if(Ee==Eo&&kn)return new Uint8Array(kn);if(!Tt)throw"both async and sync fetching of the wasm failed"}catch(F){Ji(F)}}function bU(){return!kn&&Y&&typeof fetch=="function"?fetch(Eo,{credentials:"same-origin"}).then(function(Ee){if(!Ee.ok)throw"failed to load wasm binary file at '"+Eo+"'";return Ee.arrayBuffer()}).catch(function(){return np(Eo)}):Promise.resolve().then(function(){return np(Eo)})}function SU(){var Ee={a:qU};function F(ct,Rt){var Yt=ct.exports;Ve.asm=Yt,Ci=Ve.asm.D,Or(Ci.buffer),Pr=Ve.asm.la,gl(Ve.asm.E),sa()}Yi();function ee(ct){F(ct.instance)}function ve(ct){return bU().then(function(Rt){var Yt=WebAssembly.instantiate(Rt,Ee);return Yt}).then(ct,function(Rt){Fe("failed to asynchronously prepare wasm: "+Rt),Ji(Rt)})}function ke(){return!kn&&typeof WebAssembly.instantiateStreaming=="function"&&!jd(Eo)&&typeof fetch=="function"?fetch(Eo,{credentials:"same-origin"}).then(function(ct){var Rt=WebAssembly.instantiateStreaming(ct,Ee);return Rt.then(ee,function(Yt){return Fe("wasm streaming compile failed: "+Yt),Fe("falling back to ArrayBuffer instantiation"),ve(ee)})}):ve(ee)}if(Ve.instantiateWasm)try{var qe=Ve.instantiateWasm(Ee,F);return qe}catch(ct){return Fe("Module.instantiateWasm callback failed with error: "+ct),!1}return ke().catch(En),{}}var bi,Co;function $y(Ee){for(;Ee.length>0;){var F=Ee.shift();if(typeof F=="function"){F(Ve);continue}var ee=F.func;typeof ee=="number"?F.arg===void 0?Pr.get(ee)():Pr.get(ee)(F.arg):ee(F.arg===void 0?null:F.arg)}}var wU=0;function Zx(){return qn||wU>0}function EU(Ee,F,ee,ve){Ji("Assertion failed: "+du(Ee)+", at: "+[F?du(F):"unknown filename",ee,ve?du(ve):"unknown function"])}var Kr={splitPath:function(F){var ee=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return ee.exec(F).slice(1)},normalizeArray:function(F,ee){for(var ve=0,ke=F.length-1;ke>=0;ke--){var qe=F[ke];qe==="."?F.splice(ke,1):qe===".."?(F.splice(ke,1),ve++):ve&&(F.splice(ke,1),ve--)}if(ee)for(;ve;ve--)F.unshift("..");return F},normalize:function(F){var ee=F.charAt(0)==="/",ve=F.substr(-1)==="/";return F=Kr.normalizeArray(F.split("/").filter(function(ke){return!!ke}),!ee).join("/"),!F&&!ee&&(F="."),F&&ve&&(F+="/"),(ee?"/":"")+F},dirname:function(F){var ee=Kr.splitPath(F),ve=ee[0],ke=ee[1];return!ve&&!ke?".":(ke&&(ke=ke.substr(0,ke.length-1)),ve+ke)},basename:function(F){if(F==="/")return"/";F=Kr.normalize(F),F=F.replace(/\/$/,"");var ee=F.lastIndexOf("/");return ee===-1?F:F.substr(ee+1)},extname:function(F){return Kr.splitPath(F)[3]},join:function(){var F=Array.prototype.slice.call(arguments,0);return Kr.normalize(F.join("/"))},join2:function(F,ee){return Kr.normalize(F+"/"+ee)}};function CU(){if((typeof crypto>"u"?"undefined":S(crypto))==="object"&&typeof crypto.getRandomValues=="function"){var Ee=new Uint8Array(1);return function(){return crypto.getRandomValues(Ee),Ee[0]}}else return function(){Ji("randomDevice")}}var _l={resolve:function(){for(var F="",ee=!1,ve=arguments.length-1;ve>=-1&&!ee;ve--){var ke=ve>=0?arguments[ve]:pe.cwd();if(typeof ke!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!ke)return"";F=ke+"/"+F,ee=ke.charAt(0)==="/"}return F=Kr.normalizeArray(F.split("/").filter(function(qe){return!!qe}),!ee).join("/"),(ee?"/":"")+F||"."},relative:function(F,ee){F=_l.resolve(F).substr(1),ee=_l.resolve(ee).substr(1);function ve(ar){for(var Ar=0;Ar<ar.length&&ar[Ar]==="";Ar++);for(var _r=ar.length-1;_r>=0&&ar[_r]==="";_r--);return Ar>_r?[]:ar.slice(Ar,_r-Ar+1)}for(var ke=ve(F.split("/")),qe=ve(ee.split("/")),ct=Math.min(ke.length,qe.length),Rt=ct,Yt=0;Yt<ct;Yt++)if(ke[Yt]!==qe[Yt]){Rt=Yt;break}for(var _n=[],Yt=Rt;Yt<ke.length;Yt++)_n.push("..");return _n=_n.concat(qe.slice(Rt)),_n.join("/")}},fu={ttys:[],init:function(){},shutdown:function(){},register:function(F,ee){fu.ttys[F]={input:[],output:[],ops:ee},pe.registerDevice(F,fu.stream_ops)},stream_ops:{open:function(F){var ee=fu.ttys[F.node.rdev];if(!ee)throw new pe.ErrnoError(43);F.tty=ee,F.seekable=!1},close:function(F){F.tty.ops.flush(F.tty)},flush:function(F){F.tty.ops.flush(F.tty)},read:function(F,ee,ve,ke,qe){if(!F.tty||!F.tty.ops.get_char)throw new pe.ErrnoError(60);for(var ct=0,Rt=0;Rt<ke;Rt++){var Yt;try{Yt=F.tty.ops.get_char(F.tty)}catch{throw new pe.ErrnoError(29)}if(Yt===void 0&&ct===0)throw new pe.ErrnoError(6);if(Yt==null)break;ct++,ee[ve+Rt]=Yt}return ct&&(F.node.timestamp=Date.now()),ct},write:function(F,ee,ve,ke,qe){if(!F.tty||!F.tty.ops.put_char)throw new pe.ErrnoError(60);try{for(var ct=0;ct<ke;ct++)F.tty.ops.put_char(F.tty,ee[ve+ct])}catch{throw new pe.ErrnoError(29)}return ke&&(F.node.timestamp=Date.now()),ct}},default_tty_ops:{get_char:function(F){if(!F.input.length){var ee=null;if(typeof window<"u"&&typeof window.prompt=="function"?(ee=window.prompt("Input: "),ee!==null&&(ee+=`
`)):typeof readline=="function"&&(ee=readline(),ee!==null&&(ee+=`
`)),!ee)return null;F.input=Ky(ee,!0)}return F.input.shift()},put_char:function(F,ee){ee===null||ee===10?(sn(ac(F.output,0)),F.output=[]):ee!=0&&F.output.push(ee)},flush:function(F){F.output&&F.output.length>0&&(sn(ac(F.output,0)),F.output=[])}},default_tty1_ops:{put_char:function(F,ee){ee===null||ee===10?(Fe(ac(F.output,0)),F.output=[]):ee!=0&&F.output.push(ee)},flush:function(F){F.output&&F.output.length>0&&(Fe(ac(F.output,0)),F.output=[])}}};function IU(Ee){for(var F=bn(Ee,65536),ee=t2(F);Ee<F;)$n[ee+Ee++]=0;return ee}var Er={ops_table:null,mount:function(F){return Er.createNode(null,"/",16895,0)},createNode:function(F,ee,ve,ke){if(pe.isBlkdev(ve)||pe.isFIFO(ve))throw new pe.ErrnoError(63);Er.ops_table||(Er.ops_table={dir:{node:{getattr:Er.node_ops.getattr,setattr:Er.node_ops.setattr,lookup:Er.node_ops.lookup,mknod:Er.node_ops.mknod,rename:Er.node_ops.rename,unlink:Er.node_ops.unlink,rmdir:Er.node_ops.rmdir,readdir:Er.node_ops.readdir,symlink:Er.node_ops.symlink},stream:{llseek:Er.stream_ops.llseek}},file:{node:{getattr:Er.node_ops.getattr,setattr:Er.node_ops.setattr},stream:{llseek:Er.stream_ops.llseek,read:Er.stream_ops.read,write:Er.stream_ops.write,allocate:Er.stream_ops.allocate,mmap:Er.stream_ops.mmap,msync:Er.stream_ops.msync}},link:{node:{getattr:Er.node_ops.getattr,setattr:Er.node_ops.setattr,readlink:Er.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Er.node_ops.getattr,setattr:Er.node_ops.setattr},stream:pe.chrdev_stream_ops}});var qe=pe.createNode(F,ee,ve,ke);return pe.isDir(qe.mode)?(qe.node_ops=Er.ops_table.dir.node,qe.stream_ops=Er.ops_table.dir.stream,qe.contents={}):pe.isFile(qe.mode)?(qe.node_ops=Er.ops_table.file.node,qe.stream_ops=Er.ops_table.file.stream,qe.usedBytes=0,qe.contents=null):pe.isLink(qe.mode)?(qe.node_ops=Er.ops_table.link.node,qe.stream_ops=Er.ops_table.link.stream):pe.isChrdev(qe.mode)&&(qe.node_ops=Er.ops_table.chrdev.node,qe.stream_ops=Er.ops_table.chrdev.stream),qe.timestamp=Date.now(),F&&(F.contents[ee]=qe,F.timestamp=qe.timestamp),qe},getFileDataAsTypedArray:function(F){return F.contents?F.contents.subarray?F.contents.subarray(0,F.usedBytes):new Uint8Array(F.contents):new Uint8Array(0)},expandFileStorage:function(F,ee){var ve=F.contents?F.contents.length:0;if(!(ve>=ee)){var ke=1024*1024;ee=Math.max(ee,ve*(ve<ke?2:1.125)>>>0),ve!=0&&(ee=Math.max(ee,256));var qe=F.contents;F.contents=new Uint8Array(ee),F.usedBytes>0&&F.contents.set(qe.subarray(0,F.usedBytes),0)}},resizeFileStorage:function(F,ee){if(F.usedBytes!=ee)if(ee==0)F.contents=null,F.usedBytes=0;else{var ve=F.contents;F.contents=new Uint8Array(ee),ve&&F.contents.set(ve.subarray(0,Math.min(ee,F.usedBytes))),F.usedBytes=ee}},node_ops:{getattr:function(F){var ee={};return ee.dev=pe.isChrdev(F.mode)?F.id:1,ee.ino=F.id,ee.mode=F.mode,ee.nlink=1,ee.uid=0,ee.gid=0,ee.rdev=F.rdev,pe.isDir(F.mode)?ee.size=4096:pe.isFile(F.mode)?ee.size=F.usedBytes:pe.isLink(F.mode)?ee.size=F.link.length:ee.size=0,ee.atime=new Date(F.timestamp),ee.mtime=new Date(F.timestamp),ee.ctime=new Date(F.timestamp),ee.blksize=4096,ee.blocks=Math.ceil(ee.size/ee.blksize),ee},setattr:function(F,ee){ee.mode!==void 0&&(F.mode=ee.mode),ee.timestamp!==void 0&&(F.timestamp=ee.timestamp),ee.size!==void 0&&Er.resizeFileStorage(F,ee.size)},lookup:function(F,ee){throw pe.genericErrors[44]},mknod:function(F,ee,ve,ke){return Er.createNode(F,ee,ve,ke)},rename:function(F,ee,ve){if(pe.isDir(F.mode)){var ke;try{ke=pe.lookupNode(ee,ve)}catch{}if(ke)for(var qe in ke.contents)throw new pe.ErrnoError(55)}delete F.parent.contents[F.name],F.parent.timestamp=Date.now(),F.name=ve,ee.contents[ve]=F,ee.timestamp=F.parent.timestamp,F.parent=ee},unlink:function(F,ee){delete F.contents[ee],F.timestamp=Date.now()},rmdir:function(F,ee){var ve=pe.lookupNode(F,ee);for(var ke in ve.contents)throw new pe.ErrnoError(55);delete F.contents[ee],F.timestamp=Date.now()},readdir:function(F){var ee=[".",".."];for(var ve in F.contents)!F.contents.hasOwnProperty(ve)||ee.push(ve);return ee},symlink:function(F,ee,ve){var ke=Er.createNode(F,ee,41471,0);return ke.link=ve,ke},readlink:function(F){if(!pe.isLink(F.mode))throw new pe.ErrnoError(28);return F.link}},stream_ops:{read:function(F,ee,ve,ke,qe){var ct=F.node.contents;if(qe>=F.node.usedBytes)return 0;var Rt=Math.min(F.node.usedBytes-qe,ke);if(Rt>8&&ct.subarray)ee.set(ct.subarray(qe,qe+Rt),ve);else for(var Yt=0;Yt<Rt;Yt++)ee[ve+Yt]=ct[qe+Yt];return Rt},write:function(F,ee,ve,ke,qe,ct){if(ee.buffer===$n.buffer&&(ct=!1),!ke)return 0;var Rt=F.node;if(Rt.timestamp=Date.now(),ee.subarray&&(!Rt.contents||Rt.contents.subarray)){if(ct)return Rt.contents=ee.subarray(ve,ve+ke),Rt.usedBytes=ke,ke;if(Rt.usedBytes===0&&qe===0)return Rt.contents=ee.slice(ve,ve+ke),Rt.usedBytes=ke,ke;if(qe+ke<=Rt.usedBytes)return Rt.contents.set(ee.subarray(ve,ve+ke),qe),ke}if(Er.expandFileStorage(Rt,qe+ke),Rt.contents.subarray&&ee.subarray)Rt.contents.set(ee.subarray(ve,ve+ke),qe);else for(var Yt=0;Yt<ke;Yt++)Rt.contents[qe+Yt]=ee[ve+Yt];return Rt.usedBytes=Math.max(Rt.usedBytes,qe+ke),ke},llseek:function(F,ee,ve){var ke=ee;if(ve===1?ke+=F.position:ve===2&&pe.isFile(F.node.mode)&&(ke+=F.node.usedBytes),ke<0)throw new pe.ErrnoError(28);return ke},allocate:function(F,ee,ve){Er.expandFileStorage(F.node,ee+ve),F.node.usedBytes=Math.max(F.node.usedBytes,ee+ve)},mmap:function(F,ee,ve,ke,qe,ct){if(ee!==0)throw new pe.ErrnoError(28);if(!pe.isFile(F.node.mode))throw new pe.ErrnoError(43);var Rt,Yt,_n=F.node.contents;if(!(ct&2)&&_n.buffer===Zt)Yt=!1,Rt=_n.byteOffset;else{if((ke>0||ke+ve<_n.length)&&(_n.subarray?_n=_n.subarray(ke,ke+ve):_n=Array.prototype.slice.call(_n,ke,ke+ve)),Yt=!0,Rt=IU(ve),!Rt)throw new pe.ErrnoError(48);$n.set(_n,Rt)}return{ptr:Rt,allocated:Yt}},msync:function(F,ee,ve,ke,qe){if(!pe.isFile(F.node.mode))throw new pe.ErrnoError(43);return qe&2||Er.stream_ops.write(F,ee,0,ke,ve,!1),0}}},pe={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(F,ee){if(F=_l.resolve(pe.cwd(),F),ee=ee||{},!F)return{path:"",node:null};var ve={follow_mount:!0,recurse_count:0};for(var ke in ve)ee[ke]===void 0&&(ee[ke]=ve[ke]);if(ee.recurse_count>8)throw new pe.ErrnoError(32);for(var qe=Kr.normalizeArray(F.split("/").filter(function(hr){return!!hr}),!1),ct=pe.root,Rt="/",Yt=0;Yt<qe.length;Yt++){var _n=Yt===qe.length-1;if(_n&&ee.parent)break;if(ct=pe.lookupNode(ct,qe[Yt]),Rt=Kr.join2(Rt,qe[Yt]),pe.isMountpoint(ct)&&(!_n||_n&&ee.follow_mount)&&(ct=ct.mounted.root),!_n||ee.follow)for(var ar=0;pe.isLink(ct.mode);){var Ar=pe.readlink(Rt);Rt=_l.resolve(Kr.dirname(Rt),Ar);var _r=pe.lookupPath(Rt,{recurse_count:ee.recurse_count});if(ct=_r.node,ar++>40)throw new pe.ErrnoError(32)}}return{path:Rt,node:ct}},getPath:function(F){for(var ee;;){if(pe.isRoot(F)){var ve=F.mount.mountpoint;return ee?ve[ve.length-1]!=="/"?ve+"/"+ee:ve+ee:ve}ee=ee?F.name+"/"+ee:F.name,F=F.parent}},hashName:function(F,ee){for(var ve=0,ke=0;ke<ee.length;ke++)ve=(ve<<5)-ve+ee.charCodeAt(ke)|0;return(F+ve>>>0)%pe.nameTable.length},hashAddNode:function(F){var ee=pe.hashName(F.parent.id,F.name);F.name_next=pe.nameTable[ee],pe.nameTable[ee]=F},hashRemoveNode:function(F){var ee=pe.hashName(F.parent.id,F.name);if(pe.nameTable[ee]===F)pe.nameTable[ee]=F.name_next;else for(var ve=pe.nameTable[ee];ve;){if(ve.name_next===F){ve.name_next=F.name_next;break}ve=ve.name_next}},lookupNode:function(F,ee){var ve=pe.mayLookup(F);if(ve)throw new pe.ErrnoError(ve,F);for(var ke=pe.hashName(F.id,ee),qe=pe.nameTable[ke];qe;qe=qe.name_next){var ct=qe.name;if(qe.parent.id===F.id&&ct===ee)return qe}return pe.lookup(F,ee)},createNode:function(F,ee,ve,ke){var qe=new pe.FSNode(F,ee,ve,ke);return pe.hashAddNode(qe),qe},destroyNode:function(F){pe.hashRemoveNode(F)},isRoot:function(F){return F===F.parent},isMountpoint:function(F){return!!F.mounted},isFile:function(F){return(F&61440)===32768},isDir:function(F){return(F&61440)===16384},isLink:function(F){return(F&61440)===40960},isChrdev:function(F){return(F&61440)===8192},isBlkdev:function(F){return(F&61440)===24576},isFIFO:function(F){return(F&61440)===4096},isSocket:function(F){return(F&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(F){var ee=pe.flagModes[F];if(typeof ee>"u")throw new Error("Unknown file open mode: "+F);return ee},flagsToPermissionString:function(F){var ee=["r","w","rw"][F&3];return F&512&&(ee+="w"),ee},nodePermissions:function(F,ee){return 0},mayLookup:function(F){var ee=pe.nodePermissions(F,"x");return ee||(F.node_ops.lookup?0:2)},mayCreate:function(F,ee){try{var ve=pe.lookupNode(F,ee);return 20}catch{}return pe.nodePermissions(F,"wx")},mayDelete:function(F,ee,ve){var ke;try{ke=pe.lookupNode(F,ee)}catch(ct){return ct.errno}var qe=pe.nodePermissions(F,"wx");if(qe)return qe;if(ve){if(!pe.isDir(ke.mode))return 54;if(pe.isRoot(ke)||pe.getPath(ke)===pe.cwd())return 10}else if(pe.isDir(ke.mode))return 31;return 0},mayOpen:function(F,ee){return F?pe.isLink(F.mode)?32:pe.isDir(F.mode)&&(pe.flagsToPermissionString(ee)!=="r"||ee&512)?31:pe.nodePermissions(F,pe.flagsToPermissionString(ee)):44},MAX_OPEN_FDS:4096,nextfd:function(F,ee){F=F||0,ee=ee||pe.MAX_OPEN_FDS;for(var ve=F;ve<=ee;ve++)if(!pe.streams[ve])return ve;throw new pe.ErrnoError(33)},getStream:function(F){return pe.streams[F]},createStream:function(F,ee,ve){pe.FSStream||(pe.FSStream=function(){},pe.FSStream.prototype={object:{get:function(){return this.node},set:function(Yt){this.node=Yt}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var ke=new pe.FSStream;for(var qe in F)ke[qe]=F[qe];F=ke;var ct=pe.nextfd(ee,ve);return F.fd=ct,pe.streams[ct]=F,F},closeStream:function(F){pe.streams[F]=null},chrdev_stream_ops:{open:function(F){var ee=pe.getDevice(F.node.rdev);F.stream_ops=ee.stream_ops,F.stream_ops.open&&F.stream_ops.open(F)},llseek:function(){throw new pe.ErrnoError(70)}},major:function(F){return F>>8},minor:function(F){return F&255},makedev:function(F,ee){return F<<8|ee},registerDevice:function(F,ee){pe.devices[F]={stream_ops:ee}},getDevice:function(F){return pe.devices[F]},getMounts:function(F){for(var ee=[],ve=[F];ve.length;){var ke=ve.pop();ee.push(ke),ve.push.apply(ve,ke.mounts)}return ee},syncfs:function(F,ee){typeof F=="function"&&(ee=F,F=!1),pe.syncFSRequests++,pe.syncFSRequests>1&&Fe("warning: "+pe.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var ve=pe.getMounts(pe.root.mount),ke=0;function qe(Rt){return pe.syncFSRequests--,ee(Rt)}function ct(Rt){if(Rt)return ct.errored?void 0:(ct.errored=!0,qe(Rt));++ke>=ve.length&&qe(null)}ve.forEach(function(Rt){if(!Rt.type.syncfs)return ct(null);Rt.type.syncfs(Rt,F,ct)})},mount:function(F,ee,ve){var ke=ve==="/",qe=!ve,ct;if(ke&&pe.root)throw new pe.ErrnoError(10);if(!ke&&!qe){var Rt=pe.lookupPath(ve,{follow_mount:!1});if(ve=Rt.path,ct=Rt.node,pe.isMountpoint(ct))throw new pe.ErrnoError(10);if(!pe.isDir(ct.mode))throw new pe.ErrnoError(54)}var Yt={type:F,opts:ee,mountpoint:ve,mounts:[]},_n=F.mount(Yt);return _n.mount=Yt,Yt.root=_n,ke?pe.root=_n:ct&&(ct.mounted=Yt,ct.mount&&ct.mount.mounts.push(Yt)),_n},unmount:function(F){var ee=pe.lookupPath(F,{follow_mount:!1});if(!pe.isMountpoint(ee.node))throw new pe.ErrnoError(28);var ve=ee.node,ke=ve.mounted,qe=pe.getMounts(ke);Object.keys(pe.nameTable).forEach(function(Rt){for(var Yt=pe.nameTable[Rt];Yt;){var _n=Yt.name_next;qe.includes(Yt.mount)&&pe.destroyNode(Yt),Yt=_n}}),ve.mounted=null;var ct=ve.mount.mounts.indexOf(ke);ve.mount.mounts.splice(ct,1)},lookup:function(F,ee){return F.node_ops.lookup(F,ee)},mknod:function(F,ee,ve){var ke=pe.lookupPath(F,{parent:!0}),qe=ke.node,ct=Kr.basename(F);if(!ct||ct==="."||ct==="..")throw new pe.ErrnoError(28);var Rt=pe.mayCreate(qe,ct);if(Rt)throw new pe.ErrnoError(Rt);if(!qe.node_ops.mknod)throw new pe.ErrnoError(63);return qe.node_ops.mknod(qe,ct,ee,ve)},create:function(F,ee){return ee=ee!==void 0?ee:438,ee&=4095,ee|=32768,pe.mknod(F,ee,0)},mkdir:function(F,ee){return ee=ee!==void 0?ee:511,ee&=1023,ee|=16384,pe.mknod(F,ee,0)},mkdirTree:function(F,ee){for(var ve=F.split("/"),ke="",qe=0;qe<ve.length;++qe)if(!!ve[qe]){ke+="/"+ve[qe];try{pe.mkdir(ke,ee)}catch(ct){if(ct.errno!=20)throw ct}}},mkdev:function(F,ee,ve){return typeof ve>"u"&&(ve=ee,ee=438),ee|=8192,pe.mknod(F,ee,ve)},symlink:function(F,ee){if(!_l.resolve(F))throw new pe.ErrnoError(44);var ve=pe.lookupPath(ee,{parent:!0}),ke=ve.node;if(!ke)throw new pe.ErrnoError(44);var qe=Kr.basename(ee),ct=pe.mayCreate(ke,qe);if(ct)throw new pe.ErrnoError(ct);if(!ke.node_ops.symlink)throw new pe.ErrnoError(63);return ke.node_ops.symlink(ke,qe,F)},rename:function(F,ee){var ve=Kr.dirname(F),ke=Kr.dirname(ee),qe=Kr.basename(F),ct=Kr.basename(ee),Rt,Yt,_n;if(Rt=pe.lookupPath(F,{parent:!0}),Yt=Rt.node,Rt=pe.lookupPath(ee,{parent:!0}),_n=Rt.node,!Yt||!_n)throw new pe.ErrnoError(44);if(Yt.mount!==_n.mount)throw new pe.ErrnoError(75);var ar=pe.lookupNode(Yt,qe),Ar=_l.relative(F,ke);if(Ar.charAt(0)!==".")throw new pe.ErrnoError(28);if(Ar=_l.relative(ee,ve),Ar.charAt(0)!==".")throw new pe.ErrnoError(55);var _r;try{_r=pe.lookupNode(_n,ct)}catch{}if(ar!==_r){var hr=pe.isDir(ar.mode),tr=pe.mayDelete(Yt,qe,hr);if(tr)throw new pe.ErrnoError(tr);if(tr=_r?pe.mayDelete(_n,ct,hr):pe.mayCreate(_n,ct),tr)throw new pe.ErrnoError(tr);if(!Yt.node_ops.rename)throw new pe.ErrnoError(63);if(pe.isMountpoint(ar)||_r&&pe.isMountpoint(_r))throw new pe.ErrnoError(10);if(_n!==Yt&&(tr=pe.nodePermissions(Yt,"w"),tr))throw new pe.ErrnoError(tr);try{pe.trackingDelegate.willMovePath&&pe.trackingDelegate.willMovePath(F,ee)}catch(Nr){Fe("FS.trackingDelegate['willMovePath']('"+F+"', '"+ee+"') threw an exception: "+Nr.message)}pe.hashRemoveNode(ar);try{Yt.node_ops.rename(ar,_n,ct)}catch(Nr){throw Nr}finally{pe.hashAddNode(ar)}try{pe.trackingDelegate.onMovePath&&pe.trackingDelegate.onMovePath(F,ee)}catch(Nr){Fe("FS.trackingDelegate['onMovePath']('"+F+"', '"+ee+"') threw an exception: "+Nr.message)}}},rmdir:function(F){var ee=pe.lookupPath(F,{parent:!0}),ve=ee.node,ke=Kr.basename(F),qe=pe.lookupNode(ve,ke),ct=pe.mayDelete(ve,ke,!0);if(ct)throw new pe.ErrnoError(ct);if(!ve.node_ops.rmdir)throw new pe.ErrnoError(63);if(pe.isMountpoint(qe))throw new pe.ErrnoError(10);try{pe.trackingDelegate.willDeletePath&&pe.trackingDelegate.willDeletePath(F)}catch(Rt){Fe("FS.trackingDelegate['willDeletePath']('"+F+"') threw an exception: "+Rt.message)}ve.node_ops.rmdir(ve,ke),pe.destroyNode(qe);try{pe.trackingDelegate.onDeletePath&&pe.trackingDelegate.onDeletePath(F)}catch(Rt){Fe("FS.trackingDelegate['onDeletePath']('"+F+"') threw an exception: "+Rt.message)}},readdir:function(F){var ee=pe.lookupPath(F,{follow:!0}),ve=ee.node;if(!ve.node_ops.readdir)throw new pe.ErrnoError(54);return ve.node_ops.readdir(ve)},unlink:function(F){var ee=pe.lookupPath(F,{parent:!0}),ve=ee.node,ke=Kr.basename(F),qe=pe.lookupNode(ve,ke),ct=pe.mayDelete(ve,ke,!1);if(ct)throw new pe.ErrnoError(ct);if(!ve.node_ops.unlink)throw new pe.ErrnoError(63);if(pe.isMountpoint(qe))throw new pe.ErrnoError(10);try{pe.trackingDelegate.willDeletePath&&pe.trackingDelegate.willDeletePath(F)}catch(Rt){Fe("FS.trackingDelegate['willDeletePath']('"+F+"') threw an exception: "+Rt.message)}ve.node_ops.unlink(ve,ke),pe.destroyNode(qe);try{pe.trackingDelegate.onDeletePath&&pe.trackingDelegate.onDeletePath(F)}catch(Rt){Fe("FS.trackingDelegate['onDeletePath']('"+F+"') threw an exception: "+Rt.message)}},readlink:function(F){var ee=pe.lookupPath(F),ve=ee.node;if(!ve)throw new pe.ErrnoError(44);if(!ve.node_ops.readlink)throw new pe.ErrnoError(28);return _l.resolve(pe.getPath(ve.parent),ve.node_ops.readlink(ve))},stat:function(F,ee){var ve=pe.lookupPath(F,{follow:!ee}),ke=ve.node;if(!ke)throw new pe.ErrnoError(44);if(!ke.node_ops.getattr)throw new pe.ErrnoError(63);return ke.node_ops.getattr(ke)},lstat:function(F){return pe.stat(F,!0)},chmod:function(F,ee,ve){var ke;if(typeof F=="string"){var qe=pe.lookupPath(F,{follow:!ve});ke=qe.node}else ke=F;if(!ke.node_ops.setattr)throw new pe.ErrnoError(63);ke.node_ops.setattr(ke,{mode:ee&4095|ke.mode&-4096,timestamp:Date.now()})},lchmod:function(F,ee){pe.chmod(F,ee,!0)},fchmod:function(F,ee){var ve=pe.getStream(F);if(!ve)throw new pe.ErrnoError(8);pe.chmod(ve.node,ee)},chown:function(F,ee,ve,ke){var qe;if(typeof F=="string"){var ct=pe.lookupPath(F,{follow:!ke});qe=ct.node}else qe=F;if(!qe.node_ops.setattr)throw new pe.ErrnoError(63);qe.node_ops.setattr(qe,{timestamp:Date.now()})},lchown:function(F,ee,ve){pe.chown(F,ee,ve,!0)},fchown:function(F,ee,ve){var ke=pe.getStream(F);if(!ke)throw new pe.ErrnoError(8);pe.chown(ke.node,ee,ve)},truncate:function(F,ee){if(ee<0)throw new pe.ErrnoError(28);var ve;if(typeof F=="string"){var ke=pe.lookupPath(F,{follow:!0});ve=ke.node}else ve=F;if(!ve.node_ops.setattr)throw new pe.ErrnoError(63);if(pe.isDir(ve.mode))throw new pe.ErrnoError(31);if(!pe.isFile(ve.mode))throw new pe.ErrnoError(28);var qe=pe.nodePermissions(ve,"w");if(qe)throw new pe.ErrnoError(qe);ve.node_ops.setattr(ve,{size:ee,timestamp:Date.now()})},ftruncate:function(F,ee){var ve=pe.getStream(F);if(!ve)throw new pe.ErrnoError(8);if((ve.flags&2097155)===0)throw new pe.ErrnoError(28);pe.truncate(ve.node,ee)},utime:function(F,ee,ve){var ke=pe.lookupPath(F,{follow:!0}),qe=ke.node;qe.node_ops.setattr(qe,{timestamp:Math.max(ee,ve)})},open:function(F,ee,ve,ke,qe){if(F==="")throw new pe.ErrnoError(44);ee=typeof ee=="string"?pe.modeStringToFlags(ee):ee,ve=typeof ve>"u"?438:ve,ee&64?ve=ve&4095|32768:ve=0;var ct;if(S(F)==="object")ct=F;else{F=Kr.normalize(F);try{var Rt=pe.lookupPath(F,{follow:!(ee&131072)});ct=Rt.node}catch{}}var Yt=!1;if(ee&64)if(ct){if(ee&128)throw new pe.ErrnoError(20)}else ct=pe.mknod(F,ve,0),Yt=!0;if(!ct)throw new pe.ErrnoError(44);if(pe.isChrdev(ct.mode)&&(ee&=-513),ee&65536&&!pe.isDir(ct.mode))throw new pe.ErrnoError(54);if(!Yt){var _n=pe.mayOpen(ct,ee);if(_n)throw new pe.ErrnoError(_n)}ee&512&&pe.truncate(ct,0),ee&=-131713;var ar=pe.createStream({node:ct,path:pe.getPath(ct),flags:ee,seekable:!0,position:0,stream_ops:ct.stream_ops,ungotten:[],error:!1},ke,qe);ar.stream_ops.open&&ar.stream_ops.open(ar),Ve.logReadFiles&&!(ee&1)&&(pe.readFiles||(pe.readFiles={}),F in pe.readFiles||(pe.readFiles[F]=1,Fe("FS.trackingDelegate error on read file: "+F)));try{if(pe.trackingDelegate.onOpenFile){var Ar=0;(ee&2097155)!==1&&(Ar|=pe.tracking.openFlags.READ),(ee&2097155)!==0&&(Ar|=pe.tracking.openFlags.WRITE),pe.trackingDelegate.onOpenFile(F,Ar)}}catch(_r){Fe("FS.trackingDelegate['onOpenFile']('"+F+"', flags) threw an exception: "+_r.message)}return ar},close:function(F){if(pe.isClosed(F))throw new pe.ErrnoError(8);F.getdents&&(F.getdents=null);try{F.stream_ops.close&&F.stream_ops.close(F)}catch(ee){throw ee}finally{pe.closeStream(F.fd)}F.fd=null},isClosed:function(F){return F.fd===null},llseek:function(F,ee,ve){if(pe.isClosed(F))throw new pe.ErrnoError(8);if(!F.seekable||!F.stream_ops.llseek)throw new pe.ErrnoError(70);if(ve!=0&&ve!=1&&ve!=2)throw new pe.ErrnoError(28);return F.position=F.stream_ops.llseek(F,ee,ve),F.ungotten=[],F.position},read:function(F,ee,ve,ke,qe){if(ke<0||qe<0)throw new pe.ErrnoError(28);if(pe.isClosed(F))throw new pe.ErrnoError(8);if((F.flags&2097155)===1)throw new pe.ErrnoError(8);if(pe.isDir(F.node.mode))throw new pe.ErrnoError(31);if(!F.stream_ops.read)throw new pe.ErrnoError(28);var ct=typeof qe<"u";if(!ct)qe=F.position;else if(!F.seekable)throw new pe.ErrnoError(70);var Rt=F.stream_ops.read(F,ee,ve,ke,qe);return ct||(F.position+=Rt),Rt},write:function(F,ee,ve,ke,qe,ct){if(ke<0||qe<0)throw new pe.ErrnoError(28);if(pe.isClosed(F))throw new pe.ErrnoError(8);if((F.flags&2097155)===0)throw new pe.ErrnoError(8);if(pe.isDir(F.node.mode))throw new pe.ErrnoError(31);if(!F.stream_ops.write)throw new pe.ErrnoError(28);F.seekable&&F.flags&1024&&pe.llseek(F,0,2);var Rt=typeof qe<"u";if(!Rt)qe=F.position;else if(!F.seekable)throw new pe.ErrnoError(70);var Yt=F.stream_ops.write(F,ee,ve,ke,qe,ct);Rt||(F.position+=Yt);try{F.path&&pe.trackingDelegate.onWriteToFile&&pe.trackingDelegate.onWriteToFile(F.path)}catch(_n){Fe("FS.trackingDelegate['onWriteToFile']('"+F.path+"') threw an exception: "+_n.message)}return Yt},allocate:function(F,ee,ve){if(pe.isClosed(F))throw new pe.ErrnoError(8);if(ee<0||ve<=0)throw new pe.ErrnoError(28);if((F.flags&2097155)===0)throw new pe.ErrnoError(8);if(!pe.isFile(F.node.mode)&&!pe.isDir(F.node.mode))throw new pe.ErrnoError(43);if(!F.stream_ops.allocate)throw new pe.ErrnoError(138);F.stream_ops.allocate(F,ee,ve)},mmap:function(F,ee,ve,ke,qe,ct){if((qe&2)!==0&&(ct&2)===0&&(F.flags&2097155)!==2)throw new pe.ErrnoError(2);if((F.flags&2097155)===1)throw new pe.ErrnoError(2);if(!F.stream_ops.mmap)throw new pe.ErrnoError(43);return F.stream_ops.mmap(F,ee,ve,ke,qe,ct)},msync:function(F,ee,ve,ke,qe){return!F||!F.stream_ops.msync?0:F.stream_ops.msync(F,ee,ve,ke,qe)},munmap:function(F){return 0},ioctl:function(F,ee,ve){if(!F.stream_ops.ioctl)throw new pe.ErrnoError(59);return F.stream_ops.ioctl(F,ee,ve)},readFile:function(F,ee){if(ee=ee||{},ee.flags=ee.flags||0,ee.encoding=ee.encoding||"binary",ee.encoding!=="utf8"&&ee.encoding!=="binary")throw new Error('Invalid encoding type "'+ee.encoding+'"');var ve,ke=pe.open(F,ee.flags),qe=pe.stat(F),ct=qe.size,Rt=new Uint8Array(ct);return pe.read(ke,Rt,0,ct,0),ee.encoding==="utf8"?ve=ac(Rt,0):ee.encoding==="binary"&&(ve=Rt),pe.close(ke),ve},writeFile:function(F,ee,ve){ve=ve||{},ve.flags=ve.flags||577;var ke=pe.open(F,ve.flags,ve.mode);if(typeof ee=="string"){var qe=new Uint8Array(Gt(ee)+1),ct=ep(ee,qe,0,qe.length);pe.write(ke,qe,0,ct,void 0,ve.canOwn)}else if(ArrayBuffer.isView(ee))pe.write(ke,ee,0,ee.byteLength,void 0,ve.canOwn);else throw new Error("Unsupported data type");pe.close(ke)},cwd:function(){return pe.currentPath},chdir:function(F){var ee=pe.lookupPath(F,{follow:!0});if(ee.node===null)throw new pe.ErrnoError(44);if(!pe.isDir(ee.node.mode))throw new pe.ErrnoError(54);var ve=pe.nodePermissions(ee.node,"x");if(ve)throw new pe.ErrnoError(ve);pe.currentPath=ee.path},createDefaultDirectories:function(){pe.mkdir("/tmp"),pe.mkdir("/home"),pe.mkdir("/home/web_user")},createDefaultDevices:function(){pe.mkdir("/dev"),pe.registerDevice(pe.makedev(1,3),{read:function(){return 0},write:function(ve,ke,qe,ct,Rt){return ct}}),pe.mkdev("/dev/null",pe.makedev(1,3)),fu.register(pe.makedev(5,0),fu.default_tty_ops),fu.register(pe.makedev(6,0),fu.default_tty1_ops),pe.mkdev("/dev/tty",pe.makedev(5,0)),pe.mkdev("/dev/tty1",pe.makedev(6,0));var F=CU();pe.createDevice("/dev","random",F),pe.createDevice("/dev","urandom",F),pe.mkdir("/dev/shm"),pe.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){pe.mkdir("/proc");var F=pe.mkdir("/proc/self");pe.mkdir("/proc/self/fd"),pe.mount({mount:function(){var ve=pe.createNode(F,"fd",16895,73);return ve.node_ops={lookup:function(qe,ct){var Rt=+ct,Yt=pe.getStream(Rt);if(!Yt)throw new pe.ErrnoError(8);var _n={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return Yt.path}}};return _n.parent=_n,_n}},ve}},{},"/proc/self/fd")},createStandardStreams:function(){Ve.stdin?pe.createDevice("/dev","stdin",Ve.stdin):pe.symlink("/dev/tty","/dev/stdin"),Ve.stdout?pe.createDevice("/dev","stdout",null,Ve.stdout):pe.symlink("/dev/tty","/dev/stdout"),Ve.stderr?pe.createDevice("/dev","stderr",null,Ve.stderr):pe.symlink("/dev/tty1","/dev/stderr"),pe.open("/dev/stdin",0),pe.open("/dev/stdout",1),pe.open("/dev/stderr",1)},ensureErrnoError:function(){pe.ErrnoError||(pe.ErrnoError=function(ee,ve){this.node=ve,this.setErrno=function(ke){this.errno=ke},this.setErrno(ee),this.message="FS error"},pe.ErrnoError.prototype=new Error,pe.ErrnoError.prototype.constructor=pe.ErrnoError,[44].forEach(function(F){pe.genericErrors[F]=new pe.ErrnoError(F),pe.genericErrors[F].stack="<generic error, no stack>"}))},staticInit:function(){pe.ensureErrnoError(),pe.nameTable=new Array(4096),pe.mount(Er,{},"/"),pe.createDefaultDirectories(),pe.createDefaultDevices(),pe.createSpecialDirectories(),pe.filesystems={MEMFS:Er}},init:function(F,ee,ve){pe.init.initialized=!0,pe.ensureErrnoError(),Ve.stdin=F||Ve.stdin,Ve.stdout=ee||Ve.stdout,Ve.stderr=ve||Ve.stderr,pe.createStandardStreams()},quit:function(){pe.init.initialized=!1;var F=Ve._fflush;F&&F(0);for(var ee=0;ee<pe.streams.length;ee++){var ve=pe.streams[ee];!ve||pe.close(ve)}},getMode:function(F,ee){var ve=0;return F&&(ve|=365),ee&&(ve|=146),ve},findObject:function(F,ee){var ve=pe.analyzePath(F,ee);return ve.exists?ve.object:null},analyzePath:function(F,ee){try{var ve=pe.lookupPath(F,{follow:!ee});F=ve.path}catch{}var ke={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var ve=pe.lookupPath(F,{parent:!0});ke.parentExists=!0,ke.parentPath=ve.path,ke.parentObject=ve.node,ke.name=Kr.basename(F),ve=pe.lookupPath(F,{follow:!ee}),ke.exists=!0,ke.path=ve.path,ke.object=ve.node,ke.name=ve.node.name,ke.isRoot=ve.path==="/"}catch(qe){ke.error=qe.errno}return ke},createPath:function(F,ee,ve,ke){F=typeof F=="string"?F:pe.getPath(F);for(var qe=ee.split("/").reverse();qe.length;){var ct=qe.pop();if(!!ct){var Rt=Kr.join2(F,ct);try{pe.mkdir(Rt)}catch{}F=Rt}}return Rt},createFile:function(F,ee,ve,ke,qe){var ct=Kr.join2(typeof F=="string"?F:pe.getPath(F),ee),Rt=pe.getMode(ke,qe);return pe.create(ct,Rt)},createDataFile:function(F,ee,ve,ke,qe,ct){var Rt=ee?Kr.join2(typeof F=="string"?F:pe.getPath(F),ee):F,Yt=pe.getMode(ke,qe),_n=pe.create(Rt,Yt);if(ve){if(typeof ve=="string"){for(var ar=new Array(ve.length),Ar=0,_r=ve.length;Ar<_r;++Ar)ar[Ar]=ve.charCodeAt(Ar);ve=ar}pe.chmod(_n,Yt|146);var hr=pe.open(_n,577);pe.write(hr,ve,0,ve.length,0,ct),pe.close(hr),pe.chmod(_n,Yt)}return _n},createDevice:function(F,ee,ve,ke){var qe=Kr.join2(typeof F=="string"?F:pe.getPath(F),ee),ct=pe.getMode(!!ve,!!ke);pe.createDevice.major||(pe.createDevice.major=64);var Rt=pe.makedev(pe.createDevice.major++,0);return pe.registerDevice(Rt,{open:function(_n){_n.seekable=!1},close:function(_n){ke&&ke.buffer&&ke.buffer.length&&ke(10)},read:function(_n,ar,Ar,_r,hr){for(var tr=0,Nr=0;Nr<_r;Nr++){var Ii;try{Ii=ve()}catch{throw new pe.ErrnoError(29)}if(Ii===void 0&&tr===0)throw new pe.ErrnoError(6);if(Ii==null)break;tr++,ar[Ar+Nr]=Ii}return tr&&(_n.node.timestamp=Date.now()),tr},write:function(_n,ar,Ar,_r,hr){for(var tr=0;tr<_r;tr++)try{ke(ar[Ar+tr])}catch{throw new pe.ErrnoError(29)}return _r&&(_n.node.timestamp=Date.now()),tr}}),pe.mkdev(qe,ct,Rt)},forceLoadFile:function(F){if(F.isDevice||F.isFolder||F.link||F.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(et)try{F.contents=Ky(et(F.url),!0),F.usedBytes=F.contents.length}catch{throw new pe.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(F,ee,ve,ke,qe){function ct(){this.lengthKnown=!1,this.chunks=[]}if(ct.prototype.get=function(hr){if(!(hr>this.length-1||hr<0)){var tr=hr%this.chunkSize,Nr=hr/this.chunkSize|0;return this.getter(Nr)[tr]}},ct.prototype.setDataGetter=function(hr){this.getter=hr},ct.prototype.cacheLength=function(){var hr=new XMLHttpRequest;if(hr.open("HEAD",ve,!1),hr.send(null),!(hr.status>=200&&hr.status<300||hr.status===304))throw new Error("Couldn't load "+ve+". Status: "+hr.status);var tr=Number(hr.getResponseHeader("Content-length")),Nr,Ii=(Nr=hr.getResponseHeader("Accept-Ranges"))&&Nr==="bytes",hu=(Nr=hr.getResponseHeader("Content-Encoding"))&&Nr==="gzip",so=1024*1024;Ii||(so=tr);var rp=function(ip,lc){if(ip>lc)throw new Error("invalid range ("+ip+", "+lc+") or no bytes requested!");if(lc>tr-1)throw new Error("only "+tr+" bytes available! programmer error!");var oo=new XMLHttpRequest;if(oo.open("GET",ve,!1),tr!==so&&oo.setRequestHeader("Range","bytes="+ip+"-"+lc),typeof Uint8Array<"u"&&(oo.responseType="arraybuffer"),oo.overrideMimeType&&oo.overrideMimeType("text/plain; charset=x-user-defined"),oo.send(null),!(oo.status>=200&&oo.status<300||oo.status===304))throw new Error("Couldn't load "+ve+". Status: "+oo.status);return oo.response!==void 0?new Uint8Array(oo.response||[]):Ky(oo.responseText||"",!0)},Is=this;Is.setDataGetter(function(pu){var ip=pu*so,lc=(pu+1)*so-1;if(lc=Math.min(lc,tr-1),typeof Is.chunks[pu]>"u"&&(Is.chunks[pu]=rp(ip,lc)),typeof Is.chunks[pu]>"u")throw new Error("doXHR failed!");return Is.chunks[pu]}),(hu||!tr)&&(so=tr=1,tr=this.getter(0).length,so=tr,sn("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=tr,this._chunkSize=so,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Rt,Yt}else var Yt={isDevice:!1,url:ve};var _n=pe.createFile(F,ee,Yt,ke,qe);Yt.contents?_n.contents=Yt.contents:Yt.url&&(_n.contents=null,_n.url=Yt.url),Object.defineProperties(_n,{usedBytes:{get:function(){return this.contents.length}}});var ar={},Ar=Object.keys(_n.stream_ops);return Ar.forEach(function(_r){var hr=_n.stream_ops[_r];ar[_r]=function(){return pe.forceLoadFile(_n),hr.apply(null,arguments)}}),ar.read=function(hr,tr,Nr,Ii,hu){pe.forceLoadFile(_n);var so=hr.node.contents;if(hu>=so.length)return 0;var rp=Math.min(so.length-hu,Ii);if(so.slice)for(var Is=0;Is<rp;Is++)tr[Nr+Is]=so[hu+Is];else for(var Is=0;Is<rp;Is++)tr[Nr+Is]=so.get(hu+Is);return rp},_n.stream_ops=ar,_n},createPreloadedFile:function(F,ee,ve,ke,qe,ct,Rt,Yt,_n,ar){Browser.init();var Ar=ee?_l.resolve(Kr.join2(F,ee)):F;function _r(hr){function tr(Ii){ar&&ar(),Yt||pe.createDataFile(F,ee,Ii,ke,qe,_n),ct&&ct(),sa()}var Nr=!1;Ve.preloadPlugins.forEach(function(Ii){Nr||Ii.canHandle(Ar)&&(Ii.handle(hr,Ar,tr,function(){Rt&&Rt(),sa()}),Nr=!0)}),Nr||tr(hr)}Yi(),typeof ve=="string"?Browser.asyncLoad(ve,function(hr){_r(hr)},Rt):_r(ve)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(F,ee,ve){ee=ee||function(){},ve=ve||function(){};var ke=pe.indexedDB();try{var qe=ke.open(pe.DB_NAME(),pe.DB_VERSION)}catch(ct){return ve(ct)}qe.onupgradeneeded=function(){sn("creating db");var Rt=qe.result;Rt.createObjectStore(pe.DB_STORE_NAME)},qe.onsuccess=function(){var Rt=qe.result,Yt=Rt.transaction([pe.DB_STORE_NAME],"readwrite"),_n=Yt.objectStore(pe.DB_STORE_NAME),ar=0,Ar=0,_r=F.length;function hr(){Ar==0?ee():ve()}F.forEach(function(tr){var Nr=_n.put(pe.analyzePath(tr).object.contents,tr);Nr.onsuccess=function(){ar++,ar+Ar==_r&&hr()},Nr.onerror=function(){Ar++,ar+Ar==_r&&hr()}}),Yt.onerror=ve},qe.onerror=ve},loadFilesFromDB:function(F,ee,ve){ee=ee||function(){},ve=ve||function(){};var ke=pe.indexedDB();try{var qe=ke.open(pe.DB_NAME(),pe.DB_VERSION)}catch(ct){return ve(ct)}qe.onupgradeneeded=ve,qe.onsuccess=function(){var Rt=qe.result;try{var Yt=Rt.transaction([pe.DB_STORE_NAME],"readonly")}catch(tr){ve(tr);return}var _n=Yt.objectStore(pe.DB_STORE_NAME),ar=0,Ar=0,_r=F.length;function hr(){Ar==0?ee():ve()}F.forEach(function(tr){var Nr=_n.get(tr);Nr.onsuccess=function(){pe.analyzePath(tr).exists&&pe.unlink(tr),pe.createDataFile(Kr.dirname(tr),Kr.basename(tr),Nr.result,!0,!0,!0),ar++,ar+Ar==_r&&hr()},Nr.onerror=function(){Ar++,ar+Ar==_r&&hr()}}),Yt.onerror=ve},qe.onerror=ve}},Da={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(F,ee,ve){if(ee[0]==="/")return ee;var ke;if(F===-100)ke=pe.cwd();else{var qe=pe.getStream(F);if(!qe)throw new pe.ErrnoError(8);ke=qe.path}if(ee.length==0){if(!ve)throw new pe.ErrnoError(44);return ke}return Kr.join2(ke,ee)},doStat:function(F,ee,ve){try{var ke=F(ee)}catch(qe){if(qe&&qe.node&&Kr.normalize(ee)!==Kr.normalize(pe.getPath(qe.node)))return-54;throw qe}return Ln[ve>>2]=ke.dev,Ln[ve+4>>2]=0,Ln[ve+8>>2]=ke.ino,Ln[ve+12>>2]=ke.mode,Ln[ve+16>>2]=ke.nlink,Ln[ve+20>>2]=ke.uid,Ln[ve+24>>2]=ke.gid,Ln[ve+28>>2]=ke.rdev,Ln[ve+32>>2]=0,Co=[ke.size>>>0,(bi=ke.size,+Math.abs(bi)>=1?bi>0?(Math.min(+Math.floor(bi/4294967296),4294967295)|0)>>>0:~~+Math.ceil((bi-+(~~bi>>>0))/4294967296)>>>0:0)],Ln[ve+40>>2]=Co[0],Ln[ve+44>>2]=Co[1],Ln[ve+48>>2]=4096,Ln[ve+52>>2]=ke.blocks,Ln[ve+56>>2]=ke.atime.getTime()/1e3|0,Ln[ve+60>>2]=0,Ln[ve+64>>2]=ke.mtime.getTime()/1e3|0,Ln[ve+68>>2]=0,Ln[ve+72>>2]=ke.ctime.getTime()/1e3|0,Ln[ve+76>>2]=0,Co=[ke.ino>>>0,(bi=ke.ino,+Math.abs(bi)>=1?bi>0?(Math.min(+Math.floor(bi/4294967296),4294967295)|0)>>>0:~~+Math.ceil((bi-+(~~bi>>>0))/4294967296)>>>0:0)],Ln[ve+80>>2]=Co[0],Ln[ve+84>>2]=Co[1],0},doMsync:function(F,ee,ve,ke,qe){var ct=lr.slice(F,F+ve);pe.msync(ee,ct,qe,ve,ke)},doMkdir:function(F,ee){return F=Kr.normalize(F),F[F.length-1]==="/"&&(F=F.substr(0,F.length-1)),pe.mkdir(F,ee,0),0},doMknod:function(F,ee,ve){switch(ee&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return pe.mknod(F,ee,ve),0},doReadlink:function(F,ee,ve){if(ve<=0)return-28;var ke=pe.readlink(F),qe=Math.min(ve,Gt(ke)),ct=$n[ee+qe];return ze(ke,ee,ve+1),$n[ee+qe]=ct,qe},doAccess:function(F,ee){if(ee&-8)return-28;var ve,ke=pe.lookupPath(F,{follow:!0});if(ve=ke.node,!ve)return-44;var qe="";return ee&4&&(qe+="r"),ee&2&&(qe+="w"),ee&1&&(qe+="x"),qe&&pe.nodePermissions(ve,qe)?-2:0},doDup:function(F,ee,ve){var ke=pe.getStream(ve);return ke&&pe.close(ke),pe.open(F,ee,0,ve,ve).fd},doReadv:function(F,ee,ve,ke){for(var qe=0,ct=0;ct<ve;ct++){var Rt=Ln[ee+ct*8>>2],Yt=Ln[ee+(ct*8+4)>>2],_n=pe.read(F,$n,Rt,Yt,ke);if(_n<0)return-1;if(qe+=_n,_n<Yt)break}return qe},doWritev:function(F,ee,ve,ke){for(var qe=0,ct=0;ct<ve;ct++){var Rt=Ln[ee+ct*8>>2],Yt=Ln[ee+(ct*8+4)>>2],_n=pe.write(F,$n,Rt,Yt,ke);if(_n<0)return-1;qe+=_n}return qe},varargs:void 0,get:function(){Da.varargs+=4;var F=Ln[Da.varargs-4>>2];return F},getStr:function(F){var ee=du(F);return ee},getStreamFromFD:function(F){var ee=pe.getStream(F);if(!ee)throw new pe.ErrnoError(8);return ee},get64:function(F,ee){return F}};function xU(Ee,F,ee,ve,ke,qe){qe<<=12;var ct,Rt=!1;if((ve&16)!==0&&Ee%65536!==0)return-28;if((ve&32)!==0){if(ct=r2(65536,F),!ct)return-48;i2(ct,0,F),Rt=!0}else{var Yt=pe.getStream(ke);if(!Yt)return-8;var _n=pe.mmap(Yt,Ee,F,qe,ee,ve);ct=_n.ptr,Rt=_n.allocated}return Da.mappings[ct]={malloc:ct,len:F,allocated:Rt,fd:ke,prot:ee,flags:ve,offset:qe},ct}function MU(Ee,F,ee,ve,ke,qe){try{return xU(Ee,F,ee,ve,ke,qe)}catch(ct){return(typeof pe>"u"||!(ct instanceof pe.ErrnoError))&&Ji(ct),-ct.errno}}function RU(Ee,F,ee){return 0}function TU(Ee,F){if((Ee|0)===-1||F===0)return-28;var ee=Da.mappings[Ee];if(!ee)return 0;if(F===ee.len){var ve=pe.getStream(ee.fd);ve&&ee.prot&2&&Da.doMsync(Ee,ve,F,ee.flags,ee.offset),Da.mappings[Ee]=null,ee.allocated&&n2(ee.malloc)}return 0}function PU(Ee,F){try{return TU(Ee,F)}catch(ee){return(typeof pe>"u"||!(ee instanceof pe.ErrnoError))&&Ji(ee),-ee.errno}}function NU(){Ji()}function BU(Ee,F){throw la(Ee,F||1),"longjmp"}function DU(Ee,F){return BU(Ee,F)}function kU(Ee,F,ee){lr.copyWithin(Ee,F,F+ee)}function LU(Ee){try{return Ci.grow(Ee-Zt.byteLength+65535>>>16),Or(Ci.buffer),1}catch{}}function OU(Ee){var F=lr.length;Ee=Ee>>>0;var ee=2147483648;if(Ee>ee)return!1;for(var ve=1;ve<=4;ve*=2){var ke=F*(1+.2/ve);ke=Math.min(ke,Ee+100663296);var qe=Math.min(ee,kt(Math.max(Ee,ke),65536)),ct=LU(qe);if(ct)return!0}return!1}var Wy;Wy=function(){return performance.now()};function FU(Ee){for(var F=Wy();Wy()-F<Ee;);}function VU(Ee){az(Ee)}function GU(Ee){try{var F=Da.getStreamFromFD(Ee);return pe.close(F),0}catch(ee){return(typeof pe>"u"||!(ee instanceof pe.ErrnoError))&&Ji(ee),ee.errno}}function UU(Ee,F,ee,ve,ke){try{var qe=Da.getStreamFromFD(Ee),ct=4294967296,Rt=ee*ct+(F>>>0),Yt=9007199254740992;return Rt<=-Yt||Rt>=Yt?-61:(pe.llseek(qe,Rt,ve),Co=[qe.position>>>0,(bi=qe.position,+Math.abs(bi)>=1?bi>0?(Math.min(+Math.floor(bi/4294967296),4294967295)|0)>>>0:~~+Math.ceil((bi-+(~~bi>>>0))/4294967296)>>>0:0)],Ln[ke>>2]=Co[0],Ln[ke+4>>2]=Co[1],qe.getdents&&Rt===0&&ve===0&&(qe.getdents=null),0)}catch(_n){return(typeof pe>"u"||!(_n instanceof pe.ErrnoError))&&Ji(_n),_n.errno}}function zU(Ee,F,ee,ve){try{var ke=Da.getStreamFromFD(Ee),qe=Da.doWritev(ke,F,ee);return Ln[ve>>2]=qe,0}catch(ct){return(typeof pe>"u"||!(ct instanceof pe.ErrnoError))&&Ji(ct),ct.errno}}function HU(){return Sn()}function QU(Ee){var F=Date.now();return Ln[Ee>>2]=F/1e3|0,Ln[Ee+4>>2]=F%1e3*1e3|0,0}function XU(){return 6}function $U(){return 28}function WU(Ee,F,ee){return Fe("pthread_sigmask() is not supported: this is a no-op."),0}function KU(Ee){qt(Ee)}function jU(Ee){return Ln[Ee>>2]=-1>>>0,0}var e2=function(F,ee,ve,ke){F||(F=this),this.parent=F,this.mount=F.mount,this.mounted=null,this.id=pe.nextInode++,this.name=ee,this.mode=ve,this.node_ops={},this.stream_ops={},this.rdev=ke},Wg=365,Kg=146;Object.defineProperties(e2.prototype,{read:{get:function(){return(this.mode&Wg)===Wg},set:function(F){F?this.mode|=Wg:this.mode&=~Wg}},write:{get:function(){return(this.mode&Kg)===Kg},set:function(F){F?this.mode|=Kg:this.mode&=~Kg}},isFolder:{get:function(){return pe.isDir(this.mode)}},isDevice:{get:function(){return pe.isChrdev(this.mode)}}}),pe.FSNode=e2,pe.staticInit();function Ky(Ee,F,ee){var ve=ee>0?ee:Gt(Ee)+1,ke=new Array(ve),qe=ep(Ee,ke,0,ke.length);return F&&(ke.length=qe),ke}var qU={a:EU,v:MU,x:RU,w:PU,b:NU,f:DU,B:kU,C:OU,r:FU,e:VU,m:GU,q:UU,l:zU,d:HU,k:QU,h:YU,i:tz,z:rz,j:JU,g:ez,y:iz,A:nz,o:ZU,p:sz,t:XU,s:$U,n:WU,c:KU,u:jU};SU(),Ve.___wasm_call_ctors=function(){return(Ve.___wasm_call_ctors=Ve.asm.E).apply(null,arguments)},Ve._uc_version=function(){return(Ve._uc_version=Ve.asm.F).apply(null,arguments)},Ve._uc_errno=function(){return(Ve._uc_errno=Ve.asm.G).apply(null,arguments)},Ve._uc_strerror=function(){return(Ve._uc_strerror=Ve.asm.H).apply(null,arguments)},Ve._uc_arch_supported=function(){return(Ve._uc_arch_supported=Ve.asm.I).apply(null,arguments)},Ve._uc_open=function(){return(Ve._uc_open=Ve.asm.J).apply(null,arguments)},Ve._uc_close=function(){return(Ve._uc_close=Ve.asm.K).apply(null,arguments)},Ve._uc_reg_read_batch=function(){return(Ve._uc_reg_read_batch=Ve.asm.L).apply(null,arguments)},Ve._uc_reg_write_batch=function(){return(Ve._uc_reg_write_batch=Ve.asm.M).apply(null,arguments)},Ve._uc_reg_read=function(){return(Ve._uc_reg_read=Ve.asm.N).apply(null,arguments)},Ve._uc_reg_write=function(){return(Ve._uc_reg_write=Ve.asm.O).apply(null,arguments)},Ve._uc_mem_read=function(){return(Ve._uc_mem_read=Ve.asm.P).apply(null,arguments)},Ve._uc_mem_write=function(){return(Ve._uc_mem_write=Ve.asm.Q).apply(null,arguments)},Ve._uc_emu_start=function(){return(Ve._uc_emu_start=Ve.asm.R).apply(null,arguments)},Ve._uc_hook_del=function(){return(Ve._uc_hook_del=Ve.asm.S).apply(null,arguments)},Ve._uc_hook_add=function(){return(Ve._uc_hook_add=Ve.asm.T).apply(null,arguments)},Ve._uc_emu_stop=function(){return(Ve._uc_emu_stop=Ve.asm.U).apply(null,arguments)},Ve._uc_mem_map=function(){return(Ve._uc_mem_map=Ve.asm.V).apply(null,arguments)},Ve._uc_mem_map_ptr=function(){return(Ve._uc_mem_map_ptr=Ve.asm.W).apply(null,arguments)},Ve._uc_mem_protect=function(){return(Ve._uc_mem_protect=Ve.asm.X).apply(null,arguments)},Ve._uc_mem_unmap=function(){return(Ve._uc_mem_unmap=Ve.asm.Y).apply(null,arguments)},Ve._uc_mem_regions=function(){return(Ve._uc_mem_regions=Ve.asm.Z).apply(null,arguments)},Ve._uc_query=function(){return(Ve._uc_query=Ve.asm._).apply(null,arguments)},Ve._uc_context_alloc=function(){return(Ve._uc_context_alloc=Ve.asm.$).apply(null,arguments)},Ve._uc_free=function(){return(Ve._uc_free=Ve.asm.aa).apply(null,arguments)},Ve._uc_context_save=function(){return(Ve._uc_context_save=Ve.asm.ba).apply(null,arguments)},Ve._uc_context_restore=function(){return(Ve._uc_context_restore=Ve.asm.ca).apply(null,arguments)};var oa=Ve.stackSave=function(){return(oa=Ve.stackSave=Ve.asm.da).apply(null,arguments)},aa=Ve.stackRestore=function(){return(aa=Ve.stackRestore=Ve.asm.ea).apply(null,arguments)},jy=Ve.stackAlloc=function(){return(jy=Ve.stackAlloc=Ve.asm.fa).apply(null,arguments)},la=Ve._setThrew=function(){return(la=Ve._setThrew=Ve.asm.ga).apply(null,arguments)},t2=Ve._malloc=function(){return(t2=Ve._malloc=Ve.asm.ha).apply(null,arguments)},n2=Ve._free=function(){return(n2=Ve._free=Ve.asm.ia).apply(null,arguments)},r2=Ve._memalign=function(){return(r2=Ve._memalign=Ve.asm.ja).apply(null,arguments)},i2=Ve._memset=function(){return(i2=Ve._memset=Ve.asm.ka).apply(null,arguments)},s2=Ve.dynCall_vij=function(){return(s2=Ve.dynCall_vij=Ve.asm.ma).apply(null,arguments)};function YU(Ee,F){var ee=oa();try{return Pr.get(Ee)(F)}catch(ve){if(aa(ee),ve!==ve+0&&ve!=="longjmp")throw ve;la(1,0)}}function JU(Ee,F,ee,ve,ke,qe,ct){var Rt=oa();try{return Pr.get(Ee)(F,ee,ve,ke,qe,ct)}catch(Yt){if(aa(Rt),Yt!==Yt+0&&Yt!=="longjmp")throw Yt;la(1,0)}}function ZU(Ee,F,ee,ve,ke){var qe=oa();try{Pr.get(Ee)(F,ee,ve,ke)}catch(ct){if(aa(qe),ct!==ct+0&&ct!=="longjmp")throw ct;la(1,0)}}function ez(Ee,F){var ee=oa();try{Pr.get(Ee)(F)}catch(ve){if(aa(ee),ve!==ve+0&&ve!=="longjmp")throw ve;la(1,0)}}function tz(Ee,F,ee){var ve=oa();try{return Pr.get(Ee)(F,ee)}catch(ke){if(aa(ve),ke!==ke+0&&ke!=="longjmp")throw ke;la(1,0)}}function nz(Ee,F,ee,ve){var ke=oa();try{Pr.get(Ee)(F,ee,ve)}catch(qe){if(aa(ke),qe!==qe+0&&qe!=="longjmp")throw qe;la(1,0)}}function rz(Ee,F,ee,ve,ke,qe){var ct=oa();try{return Pr.get(Ee)(F,ee,ve,ke,qe)}catch(Rt){if(aa(ct),Rt!==Rt+0&&Rt!=="longjmp")throw Rt;la(1,0)}}function iz(Ee,F,ee){var ve=oa();try{Pr.get(Ee)(F,ee)}catch(ke){if(aa(ve),ke!==ke+0&&ke!=="longjmp")throw ke;la(1,0)}}function sz(Ee,F,ee,ve){var ke=oa();try{s2(Ee,F,ee,ve)}catch(qe){if(aa(ke),qe!==qe+0&&qe!=="longjmp")throw qe;la(1,0)}}Ve.ccall=Os,Ve.setValue=Xr,Ve.getValue=Pi,Ve.writeArrayToMemory=Jt,Ve.addFunction=Gr,Ve.removeFunction=Ir;var jg;function oz(Ee){this.name="ExitStatus",this.message="Program terminated with exit("+Ee+")",this.status=Ee}vl=function Ee(){jg||qy(),jg||(vl=Ee)};function qy(Ee){if(io>0||(wi(),io>0))return;function F(){jg||(jg=!0,Ve.calledRun=!0,!ra&&(zr(),Un(Ve),Ve.onRuntimeInitialized&&Ve.onRuntimeInitialized(),tp()))}Ve.setStatus?(Ve.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Ve.setStatus("")},1),F()},1)):F()}Ve.run=qy;function az(Ee,F){F&&Zx()&&Ee===0||(Zx()||(Ve.onExit&&Ve.onExit(Ee),ra=!0),W(Ee,new oz(Ee)))}if(Ve.preInit)for(typeof Ve.preInit=="function"&&(Ve.preInit=[Ve.preInit]);Ve.preInit.length>0;)Ve.preInit.pop()();return qy(),mn.ready}}();function k(rn,mn,Ve,Un,En,Bt,ue){try{var W=rn[Bt](ue),Y=W.value}catch(de){Ve(de);return}W.done?mn(Y):Promise.resolve(Y).then(Un,En)}function L(rn){return function(){var mn=this,Ve=arguments;return new Promise(function(Un,En){var Bt=rn.apply(mn,Ve);function ue(Y){k(Bt,Un,En,ue,W,"next",Y)}function W(Y){k(Bt,Un,En,ue,W,"throw",Y)}ue(void 0)})}}function U(rn,mn){if(!(rn instanceof mn))throw new TypeError("Cannot call a class as a function")}function Q(rn,mn){for(var Ve=0;Ve<mn.length;Ve++){var Un=mn[Ve];Un.enumerable=Un.enumerable||!1,Un.configurable=!0,"value"in Un&&(Un.writable=!0),Object.defineProperty(rn,Un.key,Un)}}function G(rn,mn,Ve){return mn&&Q(rn.prototype,mn),Ve&&Q(rn,Ve),Object.defineProperty(rn,"prototype",{writable:!1}),rn}function Z(rn,mn,Ve){return mn in rn?Object.defineProperty(rn,mn,{value:Ve,enumerable:!0,configurable:!0,writable:!0}):rn[mn]=Ve,rn}var X=A(757),te=A.n(X);function ae(rn){if(Array.isArray(rn))return rn}function j(rn,mn){var Ve=rn==null?null:typeof Symbol<"u"&&rn[Symbol.iterator]||rn["@@iterator"];if(Ve!=null){var Un=[],En=!0,Bt=!1,ue,W;try{for(Ve=Ve.call(rn);!(En=(ue=Ve.next()).done)&&(Un.push(ue.value),!(mn&&Un.length===mn));En=!0);}catch(Y){Bt=!0,W=Y}finally{try{!En&&Ve.return!=null&&Ve.return()}finally{if(Bt)throw W}}return Un}}function ge(rn,mn){(mn==null||mn>rn.length)&&(mn=rn.length);for(var Ve=0,Un=new Array(mn);Ve<mn;Ve++)Un[Ve]=rn[Ve];return Un}function we(rn,mn){if(!!rn){if(typeof rn=="string")return ge(rn,mn);var Ve=Object.prototype.toString.call(rn).slice(8,-1);if(Ve==="Object"&&rn.constructor&&(Ve=rn.constructor.name),Ve==="Map"||Ve==="Set")return Array.from(rn);if(Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve))return ge(rn,mn)}}function Le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function je(rn,mn){return ae(rn)||j(rn,mn)||we(rn,mn)||Le()}var be=function(mn){var Ve=(1<<(mn-1)%16+1)-1,Un=(mn+15)/16;return function(En){if(this.width=mn,this.chunks=new Uint16Array(Un),this.mask=Ve,En==null)this.chunks.fill(0);else{if(typeof En=="number"){Number.isSafeInteger(En)||console.warn("Libelf.js: number "+En+" is beyond 53 bits integer precision, use other initialization formats for better precision"),(En>Math.pow(2,this.width)-1||En<-Math.pow(2,this.width-1))&&console.warn("Libelf.js: number "+En+" overflows "+this.width+" bits width, use larger width to keep higher bits");for(var Bt=0;Bt<this.chunks.length;Bt++)this.chunks[Bt]=En&(Bt===this.chunks.length-1?this.mask:65535),En<0&&(En-=65535),En/=65536}if(typeof En=="string"){En.toLowerCase().startsWith("0x")&&(En=En.slice(2));for(var Bt=0;Bt<this.chunks.length;Bt++)this.chunks[Bt]=parseInt(En.slice(-4),16)|0,En.slice(0,-4)}if(S(En)==="object"&&Array.isArray(En))for(var Bt=0;Bt<this.chunks.length;Bt++)Bt%2==0?this.chunks[Bt]=En[Bt/2|0]>>>0&65535:this.chunks[Bt]=En[Bt/2|0]>>>16&65535;if(S(En)==="object"&&!Array.isArray(En))for(var Bt=0;Bt<this.chunks.length;Bt++)this.chunks[Bt]=En.chunks[Bt]}this.clone=function(){},this.neg=function(){return this.not().add(1)},this.not=function(){for(var ue=new this.constructor(this),W=0;W<this.chunks.length;W++)ue.chunks[W]=~this.chunks[W];return ue},this.add=function(Y){for(var W=new this.constructor(this),Y=new this.constructor(Y),de=0,De=0;De<this.chunks.length;De++){var et=W.chunks[De],Tt=Y.chunks[De];W.chunks[De]=et+Tt+de,de=et+Tt+de>65535?1:0}return W},this.sub=function(W){new this.constructor(this);var W=new this.constructor(W);return this.add(W.neg())},this.mul=function(Y){var W=new this.constructor(this),Y=new this.constructor(Y);return W},this.div=function(Y){var W=new this.constructor(this),Y=new this.constructor(Y);return W},this.shl=function(ue){var W=new this.constructor(this);return W},this.shr=function(ue){var W=new this.constructor(this);return W},this.ror=function(ue){var W=new this.constructor(this);return W},this.rol=function(ue){var W=new this.constructor(this);return W},this.hex=function(){for(var ue="0x",W=this.chunks.length-1;W>=0;W--){var Y=this.chunks[W].toString(16);Y="0".repeat(4-Y.length)+Y,ue+=Y}return ue},this.num=function(){for(var ue=0,W=this.chunks.length-1;W>=0;W--)ue=ue*65536+this.chunks[W];return Number.isSafeInteger(ue)||console.warn("Libelf.js: number "+ue+" is beyond 53 bits integer precision, use other conversion formats for better precision"),ue},this.valueOf=this.num}},Te=be(8),Je=be(16),it=be(32),tt=be(64),Me=void 0;function lt(){return mt.apply(this,arguments)}function mt(){return mt=L(te().mark(function rn(){return te().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:return Ve.next=2,O();case 2:Me=Ve.sent;case 3:case"end":return Ve.stop()}},rn)})),mt.apply(this,arguments)}var ft=1,gt=2,Qt=3,c={version:function(){major_ptr=Me._malloc(4),minor_ptr=Me._malloc(4);var mn=Me.ccall("uc_version","number",["pointer","pointer"],[major_ptr,minor_ptr]);return major=Me.getValue(major_ptr,"i32"),minor=Me.getValue(minor_ptr,"i32"),Me._free(major_ptr),Me._free(minor_ptr),mn},arch_supported:function(mn){var Ve=Me.ccall("uc_arch_supported","number",["number"],[mn]);return Ve},strerror:function(mn){var Ve=Me.ccall("uc_strerror","string",["number"],[mn]);return Ve},Unicorn:function(mn,Ve){this.arch=mn,this.mode=Ve,this.handle_ptr=Me._malloc(4),this.reg_write=function(Bt,ue){var W=ue.length,Y=Me._malloc(W);Me.writeArrayToMemory(ue,Y);var de=Me.getValue(this.handle_ptr,"*"),De=Me.ccall("uc_reg_write","number",["pointer","number","pointer"],[de,Bt,Y]);if(Me._free(Y),De!=c.ERR_OK){var et="Unicorn.js: Function uc_reg_write failed with code "+De+`:
`+c.strerror(De);throw et}},this.reg_read=function(Bt,ue){for(var W=Me._malloc(ue),Y=0;Y<ue;Y++)Me.setValue(W+Y,0,"i8");for(var de=Me.getValue(this.handle_ptr,"*"),De=Me.ccall("uc_reg_read","number",["pointer","number","pointer"],[de,Bt,W]),et=new Uint8Array(ue),Y=0;Y<ue;Y++)et[Y]=Me.getValue(W+Y,"i8");if(Me._free(W),De!=c.ERR_OK){var Tt="Unicorn.js: Function uc_reg_read failed with code "+De+`:
`+c.strerror(De);throw Tt}return et},this.mem_write=function(Bt,ue){var W=ue.length,Y=Me._malloc(W);Me.writeArrayToMemory(ue,Y);var de=this.__address(Bt),De=je(de,2),et=De[0],Tt=De[1],sn=Me.getValue(this.handle_ptr,"*"),Fe=Me.ccall("uc_mem_write","number",["pointer","number","number","pointer","number"],[sn,et,Tt,Y,W]);if(Me._free(Y),Fe!=c.ERR_OK){var wt="Unicorn.js: Function uc_mem_write failed with code "+Fe+`:
`+c.strerror(Fe);throw wt}},this.mem_read=function(Bt,ue){for(var W=Me._malloc(ue),Y=0;Y<ue;Y++)Me.setValue(W+Y,0,"i8");for(var de=this.__address(Bt),De=je(de,2),et=De[0],Tt=De[1],sn=Me.getValue(this.handle_ptr,"*"),Fe=Me.ccall("uc_mem_read","number",["pointer","number","number","pointer","number"],[sn,et,Tt,W,ue]),wt=new Uint8Array(ue),Y=0;Y<ue;Y++)wt[Y]=Me.getValue(W+Y,"i8");if(Me._free(W),Fe!=c.ERR_OK){var bn="Unicorn.js: Function uc_mem_read failed with code "+Fe+`:
`+c.strerror(Fe);throw bn}return wt},this.mem_map=function(Bt,ue,W){var Y=this.__address(Bt),de=je(Y,2),De=de[0],et=de[1],Tt=Me.getValue(this.handle_ptr,"*"),sn=Me.ccall("uc_mem_map","number",["pointer","number","number","number","number"],[Tt,De,et,ue,W]);if(sn!=c.ERR_OK){var Fe="Unicorn.js: Function uc_mem_map failed with code "+sn+`:
`+c.strerror(sn);throw Fe}},this.mem_protect=function(Bt,ue,W){var Y=this.__address(Bt),de=je(Y,2),De=de[0],et=de[1],Tt=Me.getValue(this.handle_ptr,"*"),sn=Me.ccall("uc_mem_protect","number",["pointer","number","number","number","number"],[Tt,De,et,ue,W]);if(sn!=c.ERR_OK){var Fe="Unicorn.js: Function uc_mem_protect failed with code "+sn+`:
`+c.strerror(sn);throw Fe}},this.mem_regions=function(){console.error("Unicorn.js: Method mem_regions unimplemented")},this.mem_unmap=function(Bt,ue){var W=this.__address(Bt),Y=je(W,2),de=Y[0],De=Y[1],et=Me.getValue(this.handle_ptr,"*"),Tt=Me.ccall("uc_mem_unmap","number",["pointer","number","number","number"],[et,de,De,ue]);if(Tt!=c.ERR_OK){var sn="Unicorn.js: Function uc_mem_unmap failed with code "+Tt+`:
`+c.strerror(Tt);throw sn}},this.hook_add=function(Bt,ue,W,Y,de,De){var et=Me.getValue(this.handle_ptr,"*");switch(typeof W>"u"&&(W={}),typeof Y>"u"&&typeof de>"u"&&(Y=1,de=0),Bt){case c.HOOK_INSN:var Tt=function(Cn,Tn){return function(Qn,vr){ue(Cn,Tn)}}(this,W),sn=Me.addFunction(Tt,"vii");break;case c.HOOK_INTR:var Tt=function(Cn,Tn){return function(Qn,vr,Ir){ue(Cn,vr,Tn)}}(this,W),sn=Me.addFunction(Tt,"viii");break;case c.HOOK_CODE:case c.HOOK_BLOCK:var Tt=function(Cn,Tn){return function(Qn,vr,Ir,Gr,vt){ue(Cn,vr,Ir,Gr,Tn)}}(this,W),sn=Me.addFunction(Tt,"viiii");break;default:if(Bt&c.HOOK_MEM_READ||Bt&c.HOOK_MEM_WRITE||Bt&c.HOOK_MEM_FETCH||Bt&c.HOOK_MEM_READ_AFTER)var Tt=function(Qn,vr){return function(Ir,Gr,vt,qt,Sn,kn,qn,Xr){ue(Qn,Gr,vt,qt,Sn,kn,qn,vr)}}(this,W),sn=Me.addFunction(Tt,"viiiiiiii");if(Bt&c.HOOK_MEM_READ_UNMAPPED||Bt&c.HOOK_MEM_WRITE_UNMAPPED||Bt&c.HOOK_MEM_FETCH_UNMAPPED||Bt&c.HOOK_MEM_READ_PROT||Bt&c.HOOK_MEM_WRITE_PROT||Bt&c.HOOK_MEM_FETCH_PROT)var Tt=function(Qn,vr){return function(Ir,Gr,vt,qt,Sn,kn,qn,Xr){return ue(Qn,Gr,vt,qt,Sn,kn,qn,vr)}}(this,W),sn=Me.addFunction(Tt,"iiiiiiiii")}if(typeof Tt>"u")throw"Unicorn.js: Unimplemented hook type";var Fe=Me._malloc(4),wt=Me.ccall("uc_hook_add","number",["pointer","pointer","number","pointer","pointer","number","number","number","number","number"],[et,Fe,Bt,sn,0,Y,0,de,0,De]);if(wt!=c.ERR_OK){Me.removeFunction(sn),Me._free(Fe);var bn="Unicorn.js: Function uc_mem_unmap failed with code "+wt+`:
`+c.strerror(wt);throw bn}var Vn={handle:Me.getValue(Fe,"*"),callback:sn};return Me._free(Fe),Vn},this.hook_del=function(Bt){var ue=Me.getValue(this.handle_ptr,"*"),W=Me.ccall("uc_hook_del","number",["pointer","pointer"],[ue,Bt.handle]);if(W!=c.ERR_OK){var Y="Unicorn.js: Function uc_mem_unmap failed with code "+W+`:
`+c.strerror(W);throw Y}Me.removeFunction(Bt.callback)},this.emu_start=function(Bt,ue,W,Y){var de=Me.getValue(this.handle_ptr,"*"),De=Me.ccall("uc_emu_start","number",["pointer","number","number","number","number","number","number","number"],[de,Bt,0,ue,0,W,0,Y]);if(De!=c.ERR_OK){var et="Unicorn.js: Function uc_emu_start failed with code "+De+`:
`+c.strerror(De);throw et}},this.emu_stop=function(Bt,ue,W,Y){var de=Me.getValue(this.handle_ptr,"*"),De=Me.ccall("uc_emu_stop","number",["pointer"],[de]);if(De!=c.ERR_OK){var et="Unicorn.js: Function uc_emu_stop failed with code "+De+`:
`+c.strerror(De);throw et}},this.context_alloc=function(){console.error("Unicorn.js: Contexts not implemented")},this.context_free=function(){console.error("Unicorn.js: Contexts not implemented")},this.context_save=function(){console.error("Unicorn.js: Contexts not implemented")},this.context_restore=function(){console.error("Unicorn.js: Contexts not implemented")},this.errno=function(){var Bt=Me.getValue(this.handle_ptr,"*"),ue=Me.ccall("uc_errno","number",["pointer"],[Bt]);return ue},this.close=function(){var Bt=Me.getValue(this.handle_ptr,"*"),ue=Me.ccall("uc_close","number",["pointer"],[Bt]);if(ue!=c.ERR_OK){var W="Unicorn.js: Function uc_close failed with code "+ue+`:
`+c.strerror(ue);throw W}},this.__integer=function(Bt,ue){switch(typeof Bt=="number"&&(Bt=[Bt]),this.get_integer_type()){case ft:return Bt[0];case gt:return Bt.map(function(Y){return Y.toString(16).toUpperCase()}).map(function(Y){return"0".repeat(ue/4-Y.length)+Y}).reverse().join("");case Qt:switch(ue){case 8:return new Te(Bt);case 16:return new Je(Bt);case 32:return new it(Bt);case 64:return new tt(Bt);default:throw"Unexpected width"}default:var W="Unimplemented integer type";throw W}},this.__address=function(Bt){var ue=new tt(Bt);return[ue.chunks[0]+(ue.chunks[1]<<16),ue.chunks[2]+(ue.chunks[3]<<16)]},this._sizeof=function(Bt){switch(Bt){case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:return 0}},this.reg_write_type=function(Bt,ue,W){for(var Y=this._sizeof(ue),de=Me._malloc(Y),De=new(be(Y*8))(W),et=0;et<Y/2;et++)Me.setValue(de+et*2,De.chunks[et],"i16");var Tt=Me.getValue(this.handle_ptr,"*"),sn=Me.ccall("uc_reg_write","number",["pointer","number","pointer"],[Tt,Bt,de]);if(Me._free(de),sn!=c.ERR_OK){var Fe="Unicorn.js: Function uc_reg_write failed with code "+sn+`:
`+c.strerror(sn);throw Fe}},this.reg_write_i8=function(Bt,ue){this.reg_write_type(Bt,"i8",ue)},this.reg_write_i16=function(Bt,ue){this.reg_write_type(Bt,"i16",ue)},this.reg_write_i32=function(Bt,ue){this.reg_write_type(Bt,"i32",ue)},this.reg_write_i64=function(Bt,ue){this.reg_write_type(Bt,"i64",ue)},this.reg_write_float=function(Bt,ue){this.reg_write_type(Bt,"float",ue)},this.reg_write_double=function(Bt,ue){this.reg_write_type(Bt,"double",ue)},this.reg_read_type=function(Bt,ue){var W=this._sizeof(ue),Y=Me._malloc(W);Me.setValue(Y,0,ue);var de=Me.getValue(this.handle_ptr,"*"),De=Me.ccall("uc_reg_read","number",["pointer","number","pointer"],[de,Bt,Y]),et=Me.getValue(Y,ue);if(ue==="i64"&&(et=[et,Me.getValue(Y+4,"i32")]),ue.includes("i")&&(et=this.__integer(et,W*8)),Me._free(Y),De!=c.ERR_OK){var Tt="Unicorn.js: Function uc_reg_read failed with code "+De+`:
`+c.strerror(De);throw Tt}return et},this.reg_read_i8=function(Bt){return this.reg_read_type(Bt,"i8")},this.reg_read_i16=function(Bt){return this.reg_read_type(Bt,"i16")},this.reg_read_i32=function(Bt){return this.reg_read_type(Bt,"i32")},this.reg_read_i64=function(Bt){return this.reg_read_type(Bt,"i64")},this.reg_read_float=function(Bt){return this.reg_read_type(Bt,"float")},this.reg_read_double=function(Bt){return this.reg_read_type(Bt,"double")},this.query_type=function(Bt,ue){var W=this._sizeof(ue),Y=Me._malloc(W);Me.setValue(value_ptr,0,ue);var de=Me.getValue(this.handle_ptr,"*"),De=Me.ccall("uc_query","number",["pointer","number","pointer"],[de,Bt,Y]),et=Me.getValue(Y,ue);if(type==="i64"&&(et=[et,Me.getValue(Y+4,"i32")]),type.includes("i")&&(et=this.__integer(et,W*8)),Me._free(Y),De!=c.ERR_OK){var Tt="Unicorn.js: Function uc_query failed with code "+De+`:
`+c.strerror(De);throw Tt}return et},this.query_i8=function(Bt){return this.query_type(Bt,"i8")},this.query_i16=function(Bt){return this.query_type(Bt,"i16")},this.query_i32=function(Bt){return this.query_type(Bt,"i32")},this.query_i64=function(Bt){return this.query_type(Bt,"i64")},this.query_float=function(Bt){return this.query_type(Bt,"float")},this.query_double=function(Bt){return this.query_type(Bt,"double")},this.get_integer_type=function(){return this.integer_type==null?ft:this.integer_type},this.set_integer_type=function(Bt){this.integer_type=Bt};var Un=Me.ccall("uc_open","number",["number","number","pointer"],[this.arch,this.mode,this.handle_ptr]);if(Un!=c.ERR_OK){Me.setValue(this.handle_ptr,0,"*");var En="Unicorn.js: Function uc_open failed with code "+Un+`:
`+c.strerror(Un);throw En}}};A(915),c.ARM64_REG_INVALID=0,c.ARM64_REG_X29=1,c.ARM64_REG_X30=2,c.ARM64_REG_NZCV=3,c.ARM64_REG_SP=4,c.ARM64_REG_WSP=5,c.ARM64_REG_WZR=6,c.ARM64_REG_XZR=7,c.ARM64_REG_B0=8,c.ARM64_REG_B1=9,c.ARM64_REG_B2=10,c.ARM64_REG_B3=11,c.ARM64_REG_B4=12,c.ARM64_REG_B5=13,c.ARM64_REG_B6=14,c.ARM64_REG_B7=15,c.ARM64_REG_B8=16,c.ARM64_REG_B9=17,c.ARM64_REG_B10=18,c.ARM64_REG_B11=19,c.ARM64_REG_B12=20,c.ARM64_REG_B13=21,c.ARM64_REG_B14=22,c.ARM64_REG_B15=23,c.ARM64_REG_B16=24,c.ARM64_REG_B17=25,c.ARM64_REG_B18=26,c.ARM64_REG_B19=27,c.ARM64_REG_B20=28,c.ARM64_REG_B21=29,c.ARM64_REG_B22=30,c.ARM64_REG_B23=31,c.ARM64_REG_B24=32,c.ARM64_REG_B25=33,c.ARM64_REG_B26=34,c.ARM64_REG_B27=35,c.ARM64_REG_B28=36,c.ARM64_REG_B29=37,c.ARM64_REG_B30=38,c.ARM64_REG_B31=39,c.ARM64_REG_D0=40,c.ARM64_REG_D1=41,c.ARM64_REG_D2=42,c.ARM64_REG_D3=43,c.ARM64_REG_D4=44,c.ARM64_REG_D5=45,c.ARM64_REG_D6=46,c.ARM64_REG_D7=47,c.ARM64_REG_D8=48,c.ARM64_REG_D9=49,c.ARM64_REG_D10=50,c.ARM64_REG_D11=51,c.ARM64_REG_D12=52,c.ARM64_REG_D13=53,c.ARM64_REG_D14=54,c.ARM64_REG_D15=55,c.ARM64_REG_D16=56,c.ARM64_REG_D17=57,c.ARM64_REG_D18=58,c.ARM64_REG_D19=59,c.ARM64_REG_D20=60,c.ARM64_REG_D21=61,c.ARM64_REG_D22=62,c.ARM64_REG_D23=63,c.ARM64_REG_D24=64,c.ARM64_REG_D25=65,c.ARM64_REG_D26=66,c.ARM64_REG_D27=67,c.ARM64_REG_D28=68,c.ARM64_REG_D29=69,c.ARM64_REG_D30=70,c.ARM64_REG_D31=71,c.ARM64_REG_H0=72,c.ARM64_REG_H1=73,c.ARM64_REG_H2=74,c.ARM64_REG_H3=75,c.ARM64_REG_H4=76,c.ARM64_REG_H5=77,c.ARM64_REG_H6=78,c.ARM64_REG_H7=79,c.ARM64_REG_H8=80,c.ARM64_REG_H9=81,c.ARM64_REG_H10=82,c.ARM64_REG_H11=83,c.ARM64_REG_H12=84,c.ARM64_REG_H13=85,c.ARM64_REG_H14=86,c.ARM64_REG_H15=87,c.ARM64_REG_H16=88,c.ARM64_REG_H17=89,c.ARM64_REG_H18=90,c.ARM64_REG_H19=91,c.ARM64_REG_H20=92,c.ARM64_REG_H21=93,c.ARM64_REG_H22=94,c.ARM64_REG_H23=95,c.ARM64_REG_H24=96,c.ARM64_REG_H25=97,c.ARM64_REG_H26=98,c.ARM64_REG_H27=99,c.ARM64_REG_H28=100,c.ARM64_REG_H29=101,c.ARM64_REG_H30=102,c.ARM64_REG_H31=103,c.ARM64_REG_Q0=104,c.ARM64_REG_Q1=105,c.ARM64_REG_Q2=106,c.ARM64_REG_Q3=107,c.ARM64_REG_Q4=108,c.ARM64_REG_Q5=109,c.ARM64_REG_Q6=110,c.ARM64_REG_Q7=111,c.ARM64_REG_Q8=112,c.ARM64_REG_Q9=113,c.ARM64_REG_Q10=114,c.ARM64_REG_Q11=115,c.ARM64_REG_Q12=116,c.ARM64_REG_Q13=117,c.ARM64_REG_Q14=118,c.ARM64_REG_Q15=119,c.ARM64_REG_Q16=120,c.ARM64_REG_Q17=121,c.ARM64_REG_Q18=122,c.ARM64_REG_Q19=123,c.ARM64_REG_Q20=124,c.ARM64_REG_Q21=125,c.ARM64_REG_Q22=126,c.ARM64_REG_Q23=127,c.ARM64_REG_Q24=128,c.ARM64_REG_Q25=129,c.ARM64_REG_Q26=130,c.ARM64_REG_Q27=131,c.ARM64_REG_Q28=132,c.ARM64_REG_Q29=133,c.ARM64_REG_Q30=134,c.ARM64_REG_Q31=135,c.ARM64_REG_S0=136,c.ARM64_REG_S1=137,c.ARM64_REG_S2=138,c.ARM64_REG_S3=139,c.ARM64_REG_S4=140,c.ARM64_REG_S5=141,c.ARM64_REG_S6=142,c.ARM64_REG_S7=143,c.ARM64_REG_S8=144,c.ARM64_REG_S9=145,c.ARM64_REG_S10=146,c.ARM64_REG_S11=147,c.ARM64_REG_S12=148,c.ARM64_REG_S13=149,c.ARM64_REG_S14=150,c.ARM64_REG_S15=151,c.ARM64_REG_S16=152,c.ARM64_REG_S17=153,c.ARM64_REG_S18=154,c.ARM64_REG_S19=155,c.ARM64_REG_S20=156,c.ARM64_REG_S21=157,c.ARM64_REG_S22=158,c.ARM64_REG_S23=159,c.ARM64_REG_S24=160,c.ARM64_REG_S25=161,c.ARM64_REG_S26=162,c.ARM64_REG_S27=163,c.ARM64_REG_S28=164,c.ARM64_REG_S29=165,c.ARM64_REG_S30=166,c.ARM64_REG_S31=167,c.ARM64_REG_W0=168,c.ARM64_REG_W1=169,c.ARM64_REG_W2=170,c.ARM64_REG_W3=171,c.ARM64_REG_W4=172,c.ARM64_REG_W5=173,c.ARM64_REG_W6=174,c.ARM64_REG_W7=175,c.ARM64_REG_W8=176,c.ARM64_REG_W9=177,c.ARM64_REG_W10=178,c.ARM64_REG_W11=179,c.ARM64_REG_W12=180,c.ARM64_REG_W13=181,c.ARM64_REG_W14=182,c.ARM64_REG_W15=183,c.ARM64_REG_W16=184,c.ARM64_REG_W17=185,c.ARM64_REG_W18=186,c.ARM64_REG_W19=187,c.ARM64_REG_W20=188,c.ARM64_REG_W21=189,c.ARM64_REG_W22=190,c.ARM64_REG_W23=191,c.ARM64_REG_W24=192,c.ARM64_REG_W25=193,c.ARM64_REG_W26=194,c.ARM64_REG_W27=195,c.ARM64_REG_W28=196,c.ARM64_REG_W29=197,c.ARM64_REG_W30=198,c.ARM64_REG_X0=199,c.ARM64_REG_X1=200,c.ARM64_REG_X2=201,c.ARM64_REG_X3=202,c.ARM64_REG_X4=203,c.ARM64_REG_X5=204,c.ARM64_REG_X6=205,c.ARM64_REG_X7=206,c.ARM64_REG_X8=207,c.ARM64_REG_X9=208,c.ARM64_REG_X10=209,c.ARM64_REG_X11=210,c.ARM64_REG_X12=211,c.ARM64_REG_X13=212,c.ARM64_REG_X14=213,c.ARM64_REG_X15=214,c.ARM64_REG_X16=215,c.ARM64_REG_X17=216,c.ARM64_REG_X18=217,c.ARM64_REG_X19=218,c.ARM64_REG_X20=219,c.ARM64_REG_X21=220,c.ARM64_REG_X22=221,c.ARM64_REG_X23=222,c.ARM64_REG_X24=223,c.ARM64_REG_X25=224,c.ARM64_REG_X26=225,c.ARM64_REG_X27=226,c.ARM64_REG_X28=227,c.ARM64_REG_V0=228,c.ARM64_REG_V1=229,c.ARM64_REG_V2=230,c.ARM64_REG_V3=231,c.ARM64_REG_V4=232,c.ARM64_REG_V5=233,c.ARM64_REG_V6=234,c.ARM64_REG_V7=235,c.ARM64_REG_V8=236,c.ARM64_REG_V9=237,c.ARM64_REG_V10=238,c.ARM64_REG_V11=239,c.ARM64_REG_V12=240,c.ARM64_REG_V13=241,c.ARM64_REG_V14=242,c.ARM64_REG_V15=243,c.ARM64_REG_V16=244,c.ARM64_REG_V17=245,c.ARM64_REG_V18=246,c.ARM64_REG_V19=247,c.ARM64_REG_V20=248,c.ARM64_REG_V21=249,c.ARM64_REG_V22=250,c.ARM64_REG_V23=251,c.ARM64_REG_V24=252,c.ARM64_REG_V25=253,c.ARM64_REG_V26=254,c.ARM64_REG_V27=255,c.ARM64_REG_V28=256,c.ARM64_REG_V29=257,c.ARM64_REG_V30=258,c.ARM64_REG_V31=259,c.ARM64_REG_PC=260,c.ARM64_REG_CPACR_EL1=261,c.ARM64_REG_TPIDR_EL0=262,c.ARM64_REG_TPIDRRO_EL0=263,c.ARM64_REG_TPIDR_EL1=264,c.ARM64_REG_PSTATE=265,c.ARM64_REG_ELR_EL0=266,c.ARM64_REG_ELR_EL1=267,c.ARM64_REG_ELR_EL2=268,c.ARM64_REG_ELR_EL3=269,c.ARM64_REG_SP_EL0=270,c.ARM64_REG_SP_EL1=271,c.ARM64_REG_SP_EL2=272,c.ARM64_REG_SP_EL3=273,c.ARM64_REG_TTBR0_EL1=274,c.ARM64_REG_TTBR1_EL1=275,c.ARM64_REG_ESR_EL0=276,c.ARM64_REG_ESR_EL1=277,c.ARM64_REG_ESR_EL2=278,c.ARM64_REG_ESR_EL3=279,c.ARM64_REG_FAR_EL0=280,c.ARM64_REG_FAR_EL1=281,c.ARM64_REG_FAR_EL2=282,c.ARM64_REG_FAR_EL3=283,c.ARM64_REG_PAR_EL1=284,c.ARM64_REG_MAIR_EL1=285,c.ARM64_REG_VBAR_EL0=286,c.ARM64_REG_VBAR_EL1=287,c.ARM64_REG_VBAR_EL2=288,c.ARM64_REG_VBAR_EL3=289,c.ARM64_REG_ENDING=290,c.ARM64_REG_IP0=215,c.ARM64_REG_IP1=216,c.ARM64_REG_FP=1,c.ARM64_REG_LR=2,c.ARM_REG_INVALID=0,c.ARM_REG_APSR=1,c.ARM_REG_APSR_NZCV=2,c.ARM_REG_CPSR=3,c.ARM_REG_FPEXC=4,c.ARM_REG_FPINST=5,c.ARM_REG_FPSCR=6,c.ARM_REG_FPSCR_NZCV=7,c.ARM_REG_FPSID=8,c.ARM_REG_ITSTATE=9,c.ARM_REG_LR=10,c.ARM_REG_PC=11,c.ARM_REG_SP=12,c.ARM_REG_SPSR=13,c.ARM_REG_D0=14,c.ARM_REG_D1=15,c.ARM_REG_D2=16,c.ARM_REG_D3=17,c.ARM_REG_D4=18,c.ARM_REG_D5=19,c.ARM_REG_D6=20,c.ARM_REG_D7=21,c.ARM_REG_D8=22,c.ARM_REG_D9=23,c.ARM_REG_D10=24,c.ARM_REG_D11=25,c.ARM_REG_D12=26,c.ARM_REG_D13=27,c.ARM_REG_D14=28,c.ARM_REG_D15=29,c.ARM_REG_D16=30,c.ARM_REG_D17=31,c.ARM_REG_D18=32,c.ARM_REG_D19=33,c.ARM_REG_D20=34,c.ARM_REG_D21=35,c.ARM_REG_D22=36,c.ARM_REG_D23=37,c.ARM_REG_D24=38,c.ARM_REG_D25=39,c.ARM_REG_D26=40,c.ARM_REG_D27=41,c.ARM_REG_D28=42,c.ARM_REG_D29=43,c.ARM_REG_D30=44,c.ARM_REG_D31=45,c.ARM_REG_FPINST2=46,c.ARM_REG_MVFR0=47,c.ARM_REG_MVFR1=48,c.ARM_REG_MVFR2=49,c.ARM_REG_Q0=50,c.ARM_REG_Q1=51,c.ARM_REG_Q2=52,c.ARM_REG_Q3=53,c.ARM_REG_Q4=54,c.ARM_REG_Q5=55,c.ARM_REG_Q6=56,c.ARM_REG_Q7=57,c.ARM_REG_Q8=58,c.ARM_REG_Q9=59,c.ARM_REG_Q10=60,c.ARM_REG_Q11=61,c.ARM_REG_Q12=62,c.ARM_REG_Q13=63,c.ARM_REG_Q14=64,c.ARM_REG_Q15=65,c.ARM_REG_R0=66,c.ARM_REG_R1=67,c.ARM_REG_R2=68,c.ARM_REG_R3=69,c.ARM_REG_R4=70,c.ARM_REG_R5=71,c.ARM_REG_R6=72,c.ARM_REG_R7=73,c.ARM_REG_R8=74,c.ARM_REG_R9=75,c.ARM_REG_R10=76,c.ARM_REG_R11=77,c.ARM_REG_R12=78,c.ARM_REG_S0=79,c.ARM_REG_S1=80,c.ARM_REG_S2=81,c.ARM_REG_S3=82,c.ARM_REG_S4=83,c.ARM_REG_S5=84,c.ARM_REG_S6=85,c.ARM_REG_S7=86,c.ARM_REG_S8=87,c.ARM_REG_S9=88,c.ARM_REG_S10=89,c.ARM_REG_S11=90,c.ARM_REG_S12=91,c.ARM_REG_S13=92,c.ARM_REG_S14=93,c.ARM_REG_S15=94,c.ARM_REG_S16=95,c.ARM_REG_S17=96,c.ARM_REG_S18=97,c.ARM_REG_S19=98,c.ARM_REG_S20=99,c.ARM_REG_S21=100,c.ARM_REG_S22=101,c.ARM_REG_S23=102,c.ARM_REG_S24=103,c.ARM_REG_S25=104,c.ARM_REG_S26=105,c.ARM_REG_S27=106,c.ARM_REG_S28=107,c.ARM_REG_S29=108,c.ARM_REG_S30=109,c.ARM_REG_S31=110,c.ARM_REG_C1_C0_2=111,c.ARM_REG_C13_C0_2=112,c.ARM_REG_C13_C0_3=113,c.ARM_REG_IPSR=114,c.ARM_REG_MSP=115,c.ARM_REG_PSP=116,c.ARM_REG_CONTROL=117,c.ARM_REG_ENDING=118,c.ARM_REG_R13=12,c.ARM_REG_R14=10,c.ARM_REG_R15=11,c.ARM_REG_SB=75,c.ARM_REG_SL=76,c.ARM_REG_FP=77,c.ARM_REG_IP=78,c.M68K_REG_INVALID=0,c.M68K_REG_A0=1,c.M68K_REG_A1=2,c.M68K_REG_A2=3,c.M68K_REG_A3=4,c.M68K_REG_A4=5,c.M68K_REG_A5=6,c.M68K_REG_A6=7,c.M68K_REG_A7=8,c.M68K_REG_D0=9,c.M68K_REG_D1=10,c.M68K_REG_D2=11,c.M68K_REG_D3=12,c.M68K_REG_D4=13,c.M68K_REG_D5=14,c.M68K_REG_D6=15,c.M68K_REG_D7=16,c.M68K_REG_SR=17,c.M68K_REG_PC=18,c.M68K_REG_ENDING=19,c.MIPS_REG_INVALID=0,c.MIPS_REG_PC=1,c.MIPS_REG_0=2,c.MIPS_REG_1=3,c.MIPS_REG_2=4,c.MIPS_REG_3=5,c.MIPS_REG_4=6,c.MIPS_REG_5=7,c.MIPS_REG_6=8,c.MIPS_REG_7=9,c.MIPS_REG_8=10,c.MIPS_REG_9=11,c.MIPS_REG_10=12,c.MIPS_REG_11=13,c.MIPS_REG_12=14,c.MIPS_REG_13=15,c.MIPS_REG_14=16,c.MIPS_REG_15=17,c.MIPS_REG_16=18,c.MIPS_REG_17=19,c.MIPS_REG_18=20,c.MIPS_REG_19=21,c.MIPS_REG_20=22,c.MIPS_REG_21=23,c.MIPS_REG_22=24,c.MIPS_REG_23=25,c.MIPS_REG_24=26,c.MIPS_REG_25=27,c.MIPS_REG_26=28,c.MIPS_REG_27=29,c.MIPS_REG_28=30,c.MIPS_REG_29=31,c.MIPS_REG_30=32,c.MIPS_REG_31=33,c.MIPS_REG_DSPCCOND=34,c.MIPS_REG_DSPCARRY=35,c.MIPS_REG_DSPEFI=36,c.MIPS_REG_DSPOUTFLAG=37,c.MIPS_REG_DSPOUTFLAG16_19=38,c.MIPS_REG_DSPOUTFLAG20=39,c.MIPS_REG_DSPOUTFLAG21=40,c.MIPS_REG_DSPOUTFLAG22=41,c.MIPS_REG_DSPOUTFLAG23=42,c.MIPS_REG_DSPPOS=43,c.MIPS_REG_DSPSCOUNT=44,c.MIPS_REG_AC0=45,c.MIPS_REG_AC1=46,c.MIPS_REG_AC2=47,c.MIPS_REG_AC3=48,c.MIPS_REG_CC0=49,c.MIPS_REG_CC1=50,c.MIPS_REG_CC2=51,c.MIPS_REG_CC3=52,c.MIPS_REG_CC4=53,c.MIPS_REG_CC5=54,c.MIPS_REG_CC6=55,c.MIPS_REG_CC7=56,c.MIPS_REG_F0=57,c.MIPS_REG_F1=58,c.MIPS_REG_F2=59,c.MIPS_REG_F3=60,c.MIPS_REG_F4=61,c.MIPS_REG_F5=62,c.MIPS_REG_F6=63,c.MIPS_REG_F7=64,c.MIPS_REG_F8=65,c.MIPS_REG_F9=66,c.MIPS_REG_F10=67,c.MIPS_REG_F11=68,c.MIPS_REG_F12=69,c.MIPS_REG_F13=70,c.MIPS_REG_F14=71,c.MIPS_REG_F15=72,c.MIPS_REG_F16=73,c.MIPS_REG_F17=74,c.MIPS_REG_F18=75,c.MIPS_REG_F19=76,c.MIPS_REG_F20=77,c.MIPS_REG_F21=78,c.MIPS_REG_F22=79,c.MIPS_REG_F23=80,c.MIPS_REG_F24=81,c.MIPS_REG_F25=82,c.MIPS_REG_F26=83,c.MIPS_REG_F27=84,c.MIPS_REG_F28=85,c.MIPS_REG_F29=86,c.MIPS_REG_F30=87,c.MIPS_REG_F31=88,c.MIPS_REG_FCC0=89,c.MIPS_REG_FCC1=90,c.MIPS_REG_FCC2=91,c.MIPS_REG_FCC3=92,c.MIPS_REG_FCC4=93,c.MIPS_REG_FCC5=94,c.MIPS_REG_FCC6=95,c.MIPS_REG_FCC7=96,c.MIPS_REG_W0=97,c.MIPS_REG_W1=98,c.MIPS_REG_W2=99,c.MIPS_REG_W3=100,c.MIPS_REG_W4=101,c.MIPS_REG_W5=102,c.MIPS_REG_W6=103,c.MIPS_REG_W7=104,c.MIPS_REG_W8=105,c.MIPS_REG_W9=106,c.MIPS_REG_W10=107,c.MIPS_REG_W11=108,c.MIPS_REG_W12=109,c.MIPS_REG_W13=110,c.MIPS_REG_W14=111,c.MIPS_REG_W15=112,c.MIPS_REG_W16=113,c.MIPS_REG_W17=114,c.MIPS_REG_W18=115,c.MIPS_REG_W19=116,c.MIPS_REG_W20=117,c.MIPS_REG_W21=118,c.MIPS_REG_W22=119,c.MIPS_REG_W23=120,c.MIPS_REG_W24=121,c.MIPS_REG_W25=122,c.MIPS_REG_W26=123,c.MIPS_REG_W27=124,c.MIPS_REG_W28=125,c.MIPS_REG_W29=126,c.MIPS_REG_W30=127,c.MIPS_REG_W31=128,c.MIPS_REG_HI=129,c.MIPS_REG_LO=130,c.MIPS_REG_P0=131,c.MIPS_REG_P1=132,c.MIPS_REG_P2=133,c.MIPS_REG_MPL0=134,c.MIPS_REG_MPL1=135,c.MIPS_REG_MPL2=136,c.MIPS_REG_CP0_CONFIG3=137,c.MIPS_REG_CP0_USERLOCAL=138,c.MIPS_REG_ENDING=139,c.MIPS_REG_ZERO=2,c.MIPS_REG_AT=3,c.MIPS_REG_V0=4,c.MIPS_REG_V1=5,c.MIPS_REG_A0=6,c.MIPS_REG_A1=7,c.MIPS_REG_A2=8,c.MIPS_REG_A3=9,c.MIPS_REG_T0=10,c.MIPS_REG_T1=11,c.MIPS_REG_T2=12,c.MIPS_REG_T3=13,c.MIPS_REG_T4=14,c.MIPS_REG_T5=15,c.MIPS_REG_T6=16,c.MIPS_REG_T7=17,c.MIPS_REG_S0=18,c.MIPS_REG_S1=19,c.MIPS_REG_S2=20,c.MIPS_REG_S3=21,c.MIPS_REG_S4=22,c.MIPS_REG_S5=23,c.MIPS_REG_S6=24,c.MIPS_REG_S7=25,c.MIPS_REG_T8=26,c.MIPS_REG_T9=27,c.MIPS_REG_K0=28,c.MIPS_REG_K1=29,c.MIPS_REG_GP=30,c.MIPS_REG_SP=31,c.MIPS_REG_FP=32,c.MIPS_REG_S8=32,c.MIPS_REG_RA=33,c.MIPS_REG_HI0=45,c.MIPS_REG_HI1=46,c.MIPS_REG_HI2=47,c.MIPS_REG_HI3=48,c.MIPS_REG_LO0=45,c.MIPS_REG_LO1=46,c.MIPS_REG_LO2=47,c.MIPS_REG_LO3=48,c.SPARC_REG_INVALID=0,c.SPARC_REG_F0=1,c.SPARC_REG_F1=2,c.SPARC_REG_F2=3,c.SPARC_REG_F3=4,c.SPARC_REG_F4=5,c.SPARC_REG_F5=6,c.SPARC_REG_F6=7,c.SPARC_REG_F7=8,c.SPARC_REG_F8=9,c.SPARC_REG_F9=10,c.SPARC_REG_F10=11,c.SPARC_REG_F11=12,c.SPARC_REG_F12=13,c.SPARC_REG_F13=14,c.SPARC_REG_F14=15,c.SPARC_REG_F15=16,c.SPARC_REG_F16=17,c.SPARC_REG_F17=18,c.SPARC_REG_F18=19,c.SPARC_REG_F19=20,c.SPARC_REG_F20=21,c.SPARC_REG_F21=22,c.SPARC_REG_F22=23,c.SPARC_REG_F23=24,c.SPARC_REG_F24=25,c.SPARC_REG_F25=26,c.SPARC_REG_F26=27,c.SPARC_REG_F27=28,c.SPARC_REG_F28=29,c.SPARC_REG_F29=30,c.SPARC_REG_F30=31,c.SPARC_REG_F31=32,c.SPARC_REG_F32=33,c.SPARC_REG_F34=34,c.SPARC_REG_F36=35,c.SPARC_REG_F38=36,c.SPARC_REG_F40=37,c.SPARC_REG_F42=38,c.SPARC_REG_F44=39,c.SPARC_REG_F46=40,c.SPARC_REG_F48=41,c.SPARC_REG_F50=42,c.SPARC_REG_F52=43,c.SPARC_REG_F54=44,c.SPARC_REG_F56=45,c.SPARC_REG_F58=46,c.SPARC_REG_F60=47,c.SPARC_REG_F62=48,c.SPARC_REG_FCC0=49,c.SPARC_REG_FCC1=50,c.SPARC_REG_FCC2=51,c.SPARC_REG_FCC3=52,c.SPARC_REG_G0=53,c.SPARC_REG_G1=54,c.SPARC_REG_G2=55,c.SPARC_REG_G3=56,c.SPARC_REG_G4=57,c.SPARC_REG_G5=58,c.SPARC_REG_G6=59,c.SPARC_REG_G7=60,c.SPARC_REG_I0=61,c.SPARC_REG_I1=62,c.SPARC_REG_I2=63,c.SPARC_REG_I3=64,c.SPARC_REG_I4=65,c.SPARC_REG_I5=66,c.SPARC_REG_FP=67,c.SPARC_REG_I7=68,c.SPARC_REG_ICC=69,c.SPARC_REG_L0=70,c.SPARC_REG_L1=71,c.SPARC_REG_L2=72,c.SPARC_REG_L3=73,c.SPARC_REG_L4=74,c.SPARC_REG_L5=75,c.SPARC_REG_L6=76,c.SPARC_REG_L7=77,c.SPARC_REG_O0=78,c.SPARC_REG_O1=79,c.SPARC_REG_O2=80,c.SPARC_REG_O3=81,c.SPARC_REG_O4=82,c.SPARC_REG_O5=83,c.SPARC_REG_SP=84,c.SPARC_REG_O7=85,c.SPARC_REG_Y=86,c.SPARC_REG_XCC=87,c.SPARC_REG_PC=88,c.SPARC_REG_ENDING=89,c.SPARC_REG_O6=84,c.SPARC_REG_I6=67,c.X86_REG_INVALID=0,c.X86_REG_AH=1,c.X86_REG_AL=2,c.X86_REG_AX=3,c.X86_REG_BH=4,c.X86_REG_BL=5,c.X86_REG_BP=6,c.X86_REG_BPL=7,c.X86_REG_BX=8,c.X86_REG_CH=9,c.X86_REG_CL=10,c.X86_REG_CS=11,c.X86_REG_CX=12,c.X86_REG_DH=13,c.X86_REG_DI=14,c.X86_REG_DIL=15,c.X86_REG_DL=16,c.X86_REG_DS=17,c.X86_REG_DX=18,c.X86_REG_EAX=19,c.X86_REG_EBP=20,c.X86_REG_EBX=21,c.X86_REG_ECX=22,c.X86_REG_EDI=23,c.X86_REG_EDX=24,c.X86_REG_EFLAGS=25,c.X86_REG_EIP=26,c.X86_REG_EIZ=27,c.X86_REG_ES=28,c.X86_REG_ESI=29,c.X86_REG_ESP=30,c.X86_REG_FPSW=31,c.X86_REG_FS=32,c.X86_REG_GS=33,c.X86_REG_IP=34,c.X86_REG_RAX=35,c.X86_REG_RBP=36,c.X86_REG_RBX=37,c.X86_REG_RCX=38,c.X86_REG_RDI=39,c.X86_REG_RDX=40,c.X86_REG_RIP=41,c.X86_REG_RIZ=42,c.X86_REG_RSI=43,c.X86_REG_RSP=44,c.X86_REG_SI=45,c.X86_REG_SIL=46,c.X86_REG_SP=47,c.X86_REG_SPL=48,c.X86_REG_SS=49,c.X86_REG_CR0=50,c.X86_REG_CR1=51,c.X86_REG_CR2=52,c.X86_REG_CR3=53,c.X86_REG_CR4=54,c.X86_REG_CR5=55,c.X86_REG_CR6=56,c.X86_REG_CR7=57,c.X86_REG_CR8=58,c.X86_REG_CR9=59,c.X86_REG_CR10=60,c.X86_REG_CR11=61,c.X86_REG_CR12=62,c.X86_REG_CR13=63,c.X86_REG_CR14=64,c.X86_REG_CR15=65,c.X86_REG_DR0=66,c.X86_REG_DR1=67,c.X86_REG_DR2=68,c.X86_REG_DR3=69,c.X86_REG_DR4=70,c.X86_REG_DR5=71,c.X86_REG_DR6=72,c.X86_REG_DR7=73,c.X86_REG_DR8=74,c.X86_REG_DR9=75,c.X86_REG_DR10=76,c.X86_REG_DR11=77,c.X86_REG_DR12=78,c.X86_REG_DR13=79,c.X86_REG_DR14=80,c.X86_REG_DR15=81,c.X86_REG_FP0=82,c.X86_REG_FP1=83,c.X86_REG_FP2=84,c.X86_REG_FP3=85,c.X86_REG_FP4=86,c.X86_REG_FP5=87,c.X86_REG_FP6=88,c.X86_REG_FP7=89,c.X86_REG_K0=90,c.X86_REG_K1=91,c.X86_REG_K2=92,c.X86_REG_K3=93,c.X86_REG_K4=94,c.X86_REG_K5=95,c.X86_REG_K6=96,c.X86_REG_K7=97,c.X86_REG_MM0=98,c.X86_REG_MM1=99,c.X86_REG_MM2=100,c.X86_REG_MM3=101,c.X86_REG_MM4=102,c.X86_REG_MM5=103,c.X86_REG_MM6=104,c.X86_REG_MM7=105,c.X86_REG_R8=106,c.X86_REG_R9=107,c.X86_REG_R10=108,c.X86_REG_R11=109,c.X86_REG_R12=110,c.X86_REG_R13=111,c.X86_REG_R14=112,c.X86_REG_R15=113,c.X86_REG_ST0=114,c.X86_REG_ST1=115,c.X86_REG_ST2=116,c.X86_REG_ST3=117,c.X86_REG_ST4=118,c.X86_REG_ST5=119,c.X86_REG_ST6=120,c.X86_REG_ST7=121,c.X86_REG_XMM0=122,c.X86_REG_XMM1=123,c.X86_REG_XMM2=124,c.X86_REG_XMM3=125,c.X86_REG_XMM4=126,c.X86_REG_XMM5=127,c.X86_REG_XMM6=128,c.X86_REG_XMM7=129,c.X86_REG_XMM8=130,c.X86_REG_XMM9=131,c.X86_REG_XMM10=132,c.X86_REG_XMM11=133,c.X86_REG_XMM12=134,c.X86_REG_XMM13=135,c.X86_REG_XMM14=136,c.X86_REG_XMM15=137,c.X86_REG_XMM16=138,c.X86_REG_XMM17=139,c.X86_REG_XMM18=140,c.X86_REG_XMM19=141,c.X86_REG_XMM20=142,c.X86_REG_XMM21=143,c.X86_REG_XMM22=144,c.X86_REG_XMM23=145,c.X86_REG_XMM24=146,c.X86_REG_XMM25=147,c.X86_REG_XMM26=148,c.X86_REG_XMM27=149,c.X86_REG_XMM28=150,c.X86_REG_XMM29=151,c.X86_REG_XMM30=152,c.X86_REG_XMM31=153,c.X86_REG_YMM0=154,c.X86_REG_YMM1=155,c.X86_REG_YMM2=156,c.X86_REG_YMM3=157,c.X86_REG_YMM4=158,c.X86_REG_YMM5=159,c.X86_REG_YMM6=160,c.X86_REG_YMM7=161,c.X86_REG_YMM8=162,c.X86_REG_YMM9=163,c.X86_REG_YMM10=164,c.X86_REG_YMM11=165,c.X86_REG_YMM12=166,c.X86_REG_YMM13=167,c.X86_REG_YMM14=168,c.X86_REG_YMM15=169,c.X86_REG_YMM16=170,c.X86_REG_YMM17=171,c.X86_REG_YMM18=172,c.X86_REG_YMM19=173,c.X86_REG_YMM20=174,c.X86_REG_YMM21=175,c.X86_REG_YMM22=176,c.X86_REG_YMM23=177,c.X86_REG_YMM24=178,c.X86_REG_YMM25=179,c.X86_REG_YMM26=180,c.X86_REG_YMM27=181,c.X86_REG_YMM28=182,c.X86_REG_YMM29=183,c.X86_REG_YMM30=184,c.X86_REG_YMM31=185,c.X86_REG_ZMM0=186,c.X86_REG_ZMM1=187,c.X86_REG_ZMM2=188,c.X86_REG_ZMM3=189,c.X86_REG_ZMM4=190,c.X86_REG_ZMM5=191,c.X86_REG_ZMM6=192,c.X86_REG_ZMM7=193,c.X86_REG_ZMM8=194,c.X86_REG_ZMM9=195,c.X86_REG_ZMM10=196,c.X86_REG_ZMM11=197,c.X86_REG_ZMM12=198,c.X86_REG_ZMM13=199,c.X86_REG_ZMM14=200,c.X86_REG_ZMM15=201,c.X86_REG_ZMM16=202,c.X86_REG_ZMM17=203,c.X86_REG_ZMM18=204,c.X86_REG_ZMM19=205,c.X86_REG_ZMM20=206,c.X86_REG_ZMM21=207,c.X86_REG_ZMM22=208,c.X86_REG_ZMM23=209,c.X86_REG_ZMM24=210,c.X86_REG_ZMM25=211,c.X86_REG_ZMM26=212,c.X86_REG_ZMM27=213,c.X86_REG_ZMM28=214,c.X86_REG_ZMM29=215,c.X86_REG_ZMM30=216,c.X86_REG_ZMM31=217,c.X86_REG_R8B=218,c.X86_REG_R9B=219,c.X86_REG_R10B=220,c.X86_REG_R11B=221,c.X86_REG_R12B=222,c.X86_REG_R13B=223,c.X86_REG_R14B=224,c.X86_REG_R15B=225,c.X86_REG_R8D=226,c.X86_REG_R9D=227,c.X86_REG_R10D=228,c.X86_REG_R11D=229,c.X86_REG_R12D=230,c.X86_REG_R13D=231,c.X86_REG_R14D=232,c.X86_REG_R15D=233,c.X86_REG_R8W=234,c.X86_REG_R9W=235,c.X86_REG_R10W=236,c.X86_REG_R11W=237,c.X86_REG_R12W=238,c.X86_REG_R13W=239,c.X86_REG_R14W=240,c.X86_REG_R15W=241,c.X86_REG_IDTR=242,c.X86_REG_GDTR=243,c.X86_REG_LDTR=244,c.X86_REG_TR=245,c.X86_REG_FPCW=246,c.X86_REG_FPTAG=247,c.X86_REG_MSR=248,c.X86_REG_MXCSR=249,c.X86_REG_FS_BASE=250,c.X86_REG_GS_BASE=251,c.X86_REG_ENDING=252,c.X86_INS_INVALID=0,c.X86_INS_AAA=1,c.X86_INS_AAD=2,c.X86_INS_AAM=3,c.X86_INS_AAS=4,c.X86_INS_FABS=5,c.X86_INS_ADC=6,c.X86_INS_ADCX=7,c.X86_INS_ADD=8,c.X86_INS_ADDPD=9,c.X86_INS_ADDPS=10,c.X86_INS_ADDSD=11,c.X86_INS_ADDSS=12,c.X86_INS_ADDSUBPD=13,c.X86_INS_ADDSUBPS=14,c.X86_INS_FADD=15,c.X86_INS_FIADD=16,c.X86_INS_FADDP=17,c.X86_INS_ADOX=18,c.X86_INS_AESDECLAST=19,c.X86_INS_AESDEC=20,c.X86_INS_AESENCLAST=21,c.X86_INS_AESENC=22,c.X86_INS_AESIMC=23,c.X86_INS_AESKEYGENASSIST=24,c.X86_INS_AND=25,c.X86_INS_ANDN=26,c.X86_INS_ANDNPD=27,c.X86_INS_ANDNPS=28,c.X86_INS_ANDPD=29,c.X86_INS_ANDPS=30,c.X86_INS_ARPL=31,c.X86_INS_BEXTR=32,c.X86_INS_BLCFILL=33,c.X86_INS_BLCI=34,c.X86_INS_BLCIC=35,c.X86_INS_BLCMSK=36,c.X86_INS_BLCS=37,c.X86_INS_BLENDPD=38,c.X86_INS_BLENDPS=39,c.X86_INS_BLENDVPD=40,c.X86_INS_BLENDVPS=41,c.X86_INS_BLSFILL=42,c.X86_INS_BLSI=43,c.X86_INS_BLSIC=44,c.X86_INS_BLSMSK=45,c.X86_INS_BLSR=46,c.X86_INS_BOUND=47,c.X86_INS_BSF=48,c.X86_INS_BSR=49,c.X86_INS_BSWAP=50,c.X86_INS_BT=51,c.X86_INS_BTC=52,c.X86_INS_BTR=53,c.X86_INS_BTS=54,c.X86_INS_BZHI=55,c.X86_INS_CALL=56,c.X86_INS_CBW=57,c.X86_INS_CDQ=58,c.X86_INS_CDQE=59,c.X86_INS_FCHS=60,c.X86_INS_CLAC=61,c.X86_INS_CLC=62,c.X86_INS_CLD=63,c.X86_INS_CLFLUSH=64,c.X86_INS_CLFLUSHOPT=65,c.X86_INS_CLGI=66,c.X86_INS_CLI=67,c.X86_INS_CLTS=68,c.X86_INS_CLWB=69,c.X86_INS_CMC=70,c.X86_INS_CMOVA=71,c.X86_INS_CMOVAE=72,c.X86_INS_CMOVB=73,c.X86_INS_CMOVBE=74,c.X86_INS_FCMOVBE=75,c.X86_INS_FCMOVB=76,c.X86_INS_CMOVE=77,c.X86_INS_FCMOVE=78,c.X86_INS_CMOVG=79,c.X86_INS_CMOVGE=80,c.X86_INS_CMOVL=81,c.X86_INS_CMOVLE=82,c.X86_INS_FCMOVNBE=83,c.X86_INS_FCMOVNB=84,c.X86_INS_CMOVNE=85,c.X86_INS_FCMOVNE=86,c.X86_INS_CMOVNO=87,c.X86_INS_CMOVNP=88,c.X86_INS_FCMOVNU=89,c.X86_INS_CMOVNS=90,c.X86_INS_CMOVO=91,c.X86_INS_CMOVP=92,c.X86_INS_FCMOVU=93,c.X86_INS_CMOVS=94,c.X86_INS_CMP=95,c.X86_INS_CMPPD=96,c.X86_INS_CMPPS=97,c.X86_INS_CMPSB=98,c.X86_INS_CMPSD=99,c.X86_INS_CMPSQ=100,c.X86_INS_CMPSS=101,c.X86_INS_CMPSW=102,c.X86_INS_CMPXCHG16B=103,c.X86_INS_CMPXCHG=104,c.X86_INS_CMPXCHG8B=105,c.X86_INS_COMISD=106,c.X86_INS_COMISS=107,c.X86_INS_FCOMP=108,c.X86_INS_FCOMPI=109,c.X86_INS_FCOMI=110,c.X86_INS_FCOM=111,c.X86_INS_FCOS=112,c.X86_INS_CPUID=113,c.X86_INS_CQO=114,c.X86_INS_CRC32=115,c.X86_INS_CVTDQ2PD=116,c.X86_INS_CVTDQ2PS=117,c.X86_INS_CVTPD2DQ=118,c.X86_INS_CVTPD2PS=119,c.X86_INS_CVTPS2DQ=120,c.X86_INS_CVTPS2PD=121,c.X86_INS_CVTSD2SI=122,c.X86_INS_CVTSD2SS=123,c.X86_INS_CVTSI2SD=124,c.X86_INS_CVTSI2SS=125,c.X86_INS_CVTSS2SD=126,c.X86_INS_CVTSS2SI=127,c.X86_INS_CVTTPD2DQ=128,c.X86_INS_CVTTPS2DQ=129,c.X86_INS_CVTTSD2SI=130,c.X86_INS_CVTTSS2SI=131,c.X86_INS_CWD=132,c.X86_INS_CWDE=133,c.X86_INS_DAA=134,c.X86_INS_DAS=135,c.X86_INS_DATA16=136,c.X86_INS_DEC=137,c.X86_INS_DIV=138,c.X86_INS_DIVPD=139,c.X86_INS_DIVPS=140,c.X86_INS_FDIVR=141,c.X86_INS_FIDIVR=142,c.X86_INS_FDIVRP=143,c.X86_INS_DIVSD=144,c.X86_INS_DIVSS=145,c.X86_INS_FDIV=146,c.X86_INS_FIDIV=147,c.X86_INS_FDIVP=148,c.X86_INS_DPPD=149,c.X86_INS_DPPS=150,c.X86_INS_RET=151,c.X86_INS_ENCLS=152,c.X86_INS_ENCLU=153,c.X86_INS_ENTER=154,c.X86_INS_EXTRACTPS=155,c.X86_INS_EXTRQ=156,c.X86_INS_F2XM1=157,c.X86_INS_LCALL=158,c.X86_INS_LJMP=159,c.X86_INS_FBLD=160,c.X86_INS_FBSTP=161,c.X86_INS_FCOMPP=162,c.X86_INS_FDECSTP=163,c.X86_INS_FEMMS=164,c.X86_INS_FFREE=165,c.X86_INS_FICOM=166,c.X86_INS_FICOMP=167,c.X86_INS_FINCSTP=168,c.X86_INS_FLDCW=169,c.X86_INS_FLDENV=170,c.X86_INS_FLDL2E=171,c.X86_INS_FLDL2T=172,c.X86_INS_FLDLG2=173,c.X86_INS_FLDLN2=174,c.X86_INS_FLDPI=175,c.X86_INS_FNCLEX=176,c.X86_INS_FNINIT=177,c.X86_INS_FNOP=178,c.X86_INS_FNSTCW=179,c.X86_INS_FNSTSW=180,c.X86_INS_FPATAN=181,c.X86_INS_FPREM=182,c.X86_INS_FPREM1=183,c.X86_INS_FPTAN=184,c.X86_INS_FFREEP=185,c.X86_INS_FRNDINT=186,c.X86_INS_FRSTOR=187,c.X86_INS_FNSAVE=188,c.X86_INS_FSCALE=189,c.X86_INS_FSETPM=190,c.X86_INS_FSINCOS=191,c.X86_INS_FNSTENV=192,c.X86_INS_FXAM=193,c.X86_INS_FXRSTOR=194,c.X86_INS_FXRSTOR64=195,c.X86_INS_FXSAVE=196,c.X86_INS_FXSAVE64=197,c.X86_INS_FXTRACT=198,c.X86_INS_FYL2X=199,c.X86_INS_FYL2XP1=200,c.X86_INS_MOVAPD=201,c.X86_INS_MOVAPS=202,c.X86_INS_ORPD=203,c.X86_INS_ORPS=204,c.X86_INS_VMOVAPD=205,c.X86_INS_VMOVAPS=206,c.X86_INS_XORPD=207,c.X86_INS_XORPS=208,c.X86_INS_GETSEC=209,c.X86_INS_HADDPD=210,c.X86_INS_HADDPS=211,c.X86_INS_HLT=212,c.X86_INS_HSUBPD=213,c.X86_INS_HSUBPS=214,c.X86_INS_IDIV=215,c.X86_INS_FILD=216,c.X86_INS_IMUL=217,c.X86_INS_IN=218,c.X86_INS_INC=219,c.X86_INS_INSB=220,c.X86_INS_INSERTPS=221,c.X86_INS_INSERTQ=222,c.X86_INS_INSD=223,c.X86_INS_INSW=224,c.X86_INS_INT=225,c.X86_INS_INT1=226,c.X86_INS_INT3=227,c.X86_INS_INTO=228,c.X86_INS_INVD=229,c.X86_INS_INVEPT=230,c.X86_INS_INVLPG=231,c.X86_INS_INVLPGA=232,c.X86_INS_INVPCID=233,c.X86_INS_INVVPID=234,c.X86_INS_IRET=235,c.X86_INS_IRETD=236,c.X86_INS_IRETQ=237,c.X86_INS_FISTTP=238,c.X86_INS_FIST=239,c.X86_INS_FISTP=240,c.X86_INS_UCOMISD=241,c.X86_INS_UCOMISS=242,c.X86_INS_VCOMISD=243,c.X86_INS_VCOMISS=244,c.X86_INS_VCVTSD2SS=245,c.X86_INS_VCVTSI2SD=246,c.X86_INS_VCVTSI2SS=247,c.X86_INS_VCVTSS2SD=248,c.X86_INS_VCVTTSD2SI=249,c.X86_INS_VCVTTSD2USI=250,c.X86_INS_VCVTTSS2SI=251,c.X86_INS_VCVTTSS2USI=252,c.X86_INS_VCVTUSI2SD=253,c.X86_INS_VCVTUSI2SS=254,c.X86_INS_VUCOMISD=255,c.X86_INS_VUCOMISS=256,c.X86_INS_JAE=257,c.X86_INS_JA=258,c.X86_INS_JBE=259,c.X86_INS_JB=260,c.X86_INS_JCXZ=261,c.X86_INS_JECXZ=262,c.X86_INS_JE=263,c.X86_INS_JGE=264,c.X86_INS_JG=265,c.X86_INS_JLE=266,c.X86_INS_JL=267,c.X86_INS_JMP=268,c.X86_INS_JNE=269,c.X86_INS_JNO=270,c.X86_INS_JNP=271,c.X86_INS_JNS=272,c.X86_INS_JO=273,c.X86_INS_JP=274,c.X86_INS_JRCXZ=275,c.X86_INS_JS=276,c.X86_INS_KANDB=277,c.X86_INS_KANDD=278,c.X86_INS_KANDNB=279,c.X86_INS_KANDND=280,c.X86_INS_KANDNQ=281,c.X86_INS_KANDNW=282,c.X86_INS_KANDQ=283,c.X86_INS_KANDW=284,c.X86_INS_KMOVB=285,c.X86_INS_KMOVD=286,c.X86_INS_KMOVQ=287,c.X86_INS_KMOVW=288,c.X86_INS_KNOTB=289,c.X86_INS_KNOTD=290,c.X86_INS_KNOTQ=291,c.X86_INS_KNOTW=292,c.X86_INS_KORB=293,c.X86_INS_KORD=294,c.X86_INS_KORQ=295,c.X86_INS_KORTESTB=296,c.X86_INS_KORTESTD=297,c.X86_INS_KORTESTQ=298,c.X86_INS_KORTESTW=299,c.X86_INS_KORW=300,c.X86_INS_KSHIFTLB=301,c.X86_INS_KSHIFTLD=302,c.X86_INS_KSHIFTLQ=303,c.X86_INS_KSHIFTLW=304,c.X86_INS_KSHIFTRB=305,c.X86_INS_KSHIFTRD=306,c.X86_INS_KSHIFTRQ=307,c.X86_INS_KSHIFTRW=308,c.X86_INS_KUNPCKBW=309,c.X86_INS_KXNORB=310,c.X86_INS_KXNORD=311,c.X86_INS_KXNORQ=312,c.X86_INS_KXNORW=313,c.X86_INS_KXORB=314,c.X86_INS_KXORD=315,c.X86_INS_KXORQ=316,c.X86_INS_KXORW=317,c.X86_INS_LAHF=318,c.X86_INS_LAR=319,c.X86_INS_LDDQU=320,c.X86_INS_LDMXCSR=321,c.X86_INS_LDS=322,c.X86_INS_FLDZ=323,c.X86_INS_FLD1=324,c.X86_INS_FLD=325,c.X86_INS_LEA=326,c.X86_INS_LEAVE=327,c.X86_INS_LES=328,c.X86_INS_LFENCE=329,c.X86_INS_LFS=330,c.X86_INS_LGDT=331,c.X86_INS_LGS=332,c.X86_INS_LIDT=333,c.X86_INS_LLDT=334,c.X86_INS_LMSW=335,c.X86_INS_OR=336,c.X86_INS_SUB=337,c.X86_INS_XOR=338,c.X86_INS_LODSB=339,c.X86_INS_LODSD=340,c.X86_INS_LODSQ=341,c.X86_INS_LODSW=342,c.X86_INS_LOOP=343,c.X86_INS_LOOPE=344,c.X86_INS_LOOPNE=345,c.X86_INS_RETF=346,c.X86_INS_RETFQ=347,c.X86_INS_LSL=348,c.X86_INS_LSS=349,c.X86_INS_LTR=350,c.X86_INS_XADD=351,c.X86_INS_LZCNT=352,c.X86_INS_MASKMOVDQU=353,c.X86_INS_MAXPD=354,c.X86_INS_MAXPS=355,c.X86_INS_MAXSD=356,c.X86_INS_MAXSS=357,c.X86_INS_MFENCE=358,c.X86_INS_MINPD=359,c.X86_INS_MINPS=360,c.X86_INS_MINSD=361,c.X86_INS_MINSS=362,c.X86_INS_CVTPD2PI=363,c.X86_INS_CVTPI2PD=364,c.X86_INS_CVTPI2PS=365,c.X86_INS_CVTPS2PI=366,c.X86_INS_CVTTPD2PI=367,c.X86_INS_CVTTPS2PI=368,c.X86_INS_EMMS=369,c.X86_INS_MASKMOVQ=370,c.X86_INS_MOVD=371,c.X86_INS_MOVDQ2Q=372,c.X86_INS_MOVNTQ=373,c.X86_INS_MOVQ2DQ=374,c.X86_INS_MOVQ=375,c.X86_INS_PABSB=376,c.X86_INS_PABSD=377,c.X86_INS_PABSW=378,c.X86_INS_PACKSSDW=379,c.X86_INS_PACKSSWB=380,c.X86_INS_PACKUSWB=381,c.X86_INS_PADDB=382,c.X86_INS_PADDD=383,c.X86_INS_PADDQ=384,c.X86_INS_PADDSB=385,c.X86_INS_PADDSW=386,c.X86_INS_PADDUSB=387,c.X86_INS_PADDUSW=388,c.X86_INS_PADDW=389,c.X86_INS_PALIGNR=390,c.X86_INS_PANDN=391,c.X86_INS_PAND=392,c.X86_INS_PAVGB=393,c.X86_INS_PAVGW=394,c.X86_INS_PCMPEQB=395,c.X86_INS_PCMPEQD=396,c.X86_INS_PCMPEQW=397,c.X86_INS_PCMPGTB=398,c.X86_INS_PCMPGTD=399,c.X86_INS_PCMPGTW=400,c.X86_INS_PEXTRW=401,c.X86_INS_PHADDSW=402,c.X86_INS_PHADDW=403,c.X86_INS_PHADDD=404,c.X86_INS_PHSUBD=405,c.X86_INS_PHSUBSW=406,c.X86_INS_PHSUBW=407,c.X86_INS_PINSRW=408,c.X86_INS_PMADDUBSW=409,c.X86_INS_PMADDWD=410,c.X86_INS_PMAXSW=411,c.X86_INS_PMAXUB=412,c.X86_INS_PMINSW=413,c.X86_INS_PMINUB=414,c.X86_INS_PMOVMSKB=415,c.X86_INS_PMULHRSW=416,c.X86_INS_PMULHUW=417,c.X86_INS_PMULHW=418,c.X86_INS_PMULLW=419,c.X86_INS_PMULUDQ=420,c.X86_INS_POR=421,c.X86_INS_PSADBW=422,c.X86_INS_PSHUFB=423,c.X86_INS_PSHUFW=424,c.X86_INS_PSIGNB=425,c.X86_INS_PSIGND=426,c.X86_INS_PSIGNW=427,c.X86_INS_PSLLD=428,c.X86_INS_PSLLQ=429,c.X86_INS_PSLLW=430,c.X86_INS_PSRAD=431,c.X86_INS_PSRAW=432,c.X86_INS_PSRLD=433,c.X86_INS_PSRLQ=434,c.X86_INS_PSRLW=435,c.X86_INS_PSUBB=436,c.X86_INS_PSUBD=437,c.X86_INS_PSUBQ=438,c.X86_INS_PSUBSB=439,c.X86_INS_PSUBSW=440,c.X86_INS_PSUBUSB=441,c.X86_INS_PSUBUSW=442,c.X86_INS_PSUBW=443,c.X86_INS_PUNPCKHBW=444,c.X86_INS_PUNPCKHDQ=445,c.X86_INS_PUNPCKHWD=446,c.X86_INS_PUNPCKLBW=447,c.X86_INS_PUNPCKLDQ=448,c.X86_INS_PUNPCKLWD=449,c.X86_INS_PXOR=450,c.X86_INS_MONITOR=451,c.X86_INS_MONTMUL=452,c.X86_INS_MOV=453,c.X86_INS_MOVABS=454,c.X86_INS_MOVBE=455,c.X86_INS_MOVDDUP=456,c.X86_INS_MOVDQA=457,c.X86_INS_MOVDQU=458,c.X86_INS_MOVHLPS=459,c.X86_INS_MOVHPD=460,c.X86_INS_MOVHPS=461,c.X86_INS_MOVLHPS=462,c.X86_INS_MOVLPD=463,c.X86_INS_MOVLPS=464,c.X86_INS_MOVMSKPD=465,c.X86_INS_MOVMSKPS=466,c.X86_INS_MOVNTDQA=467,c.X86_INS_MOVNTDQ=468,c.X86_INS_MOVNTI=469,c.X86_INS_MOVNTPD=470,c.X86_INS_MOVNTPS=471,c.X86_INS_MOVNTSD=472,c.X86_INS_MOVNTSS=473,c.X86_INS_MOVSB=474,c.X86_INS_MOVSD=475,c.X86_INS_MOVSHDUP=476,c.X86_INS_MOVSLDUP=477,c.X86_INS_MOVSQ=478,c.X86_INS_MOVSS=479,c.X86_INS_MOVSW=480,c.X86_INS_MOVSX=481,c.X86_INS_MOVSXD=482,c.X86_INS_MOVUPD=483,c.X86_INS_MOVUPS=484,c.X86_INS_MOVZX=485,c.X86_INS_MPSADBW=486,c.X86_INS_MUL=487,c.X86_INS_MULPD=488,c.X86_INS_MULPS=489,c.X86_INS_MULSD=490,c.X86_INS_MULSS=491,c.X86_INS_MULX=492,c.X86_INS_FMUL=493,c.X86_INS_FIMUL=494,c.X86_INS_FMULP=495,c.X86_INS_MWAIT=496,c.X86_INS_NEG=497,c.X86_INS_NOP=498,c.X86_INS_NOT=499,c.X86_INS_OUT=500,c.X86_INS_OUTSB=501,c.X86_INS_OUTSD=502,c.X86_INS_OUTSW=503,c.X86_INS_PACKUSDW=504,c.X86_INS_PAUSE=505,c.X86_INS_PAVGUSB=506,c.X86_INS_PBLENDVB=507,c.X86_INS_PBLENDW=508,c.X86_INS_PCLMULQDQ=509,c.X86_INS_PCMPEQQ=510,c.X86_INS_PCMPESTRI=511,c.X86_INS_PCMPESTRM=512,c.X86_INS_PCMPGTQ=513,c.X86_INS_PCMPISTRI=514,c.X86_INS_PCMPISTRM=515,c.X86_INS_PCOMMIT=516,c.X86_INS_PDEP=517,c.X86_INS_PEXT=518,c.X86_INS_PEXTRB=519,c.X86_INS_PEXTRD=520,c.X86_INS_PEXTRQ=521,c.X86_INS_PF2ID=522,c.X86_INS_PF2IW=523,c.X86_INS_PFACC=524,c.X86_INS_PFADD=525,c.X86_INS_PFCMPEQ=526,c.X86_INS_PFCMPGE=527,c.X86_INS_PFCMPGT=528,c.X86_INS_PFMAX=529,c.X86_INS_PFMIN=530,c.X86_INS_PFMUL=531,c.X86_INS_PFNACC=532,c.X86_INS_PFPNACC=533,c.X86_INS_PFRCPIT1=534,c.X86_INS_PFRCPIT2=535,c.X86_INS_PFRCP=536,c.X86_INS_PFRSQIT1=537,c.X86_INS_PFRSQRT=538,c.X86_INS_PFSUBR=539,c.X86_INS_PFSUB=540,c.X86_INS_PHMINPOSUW=541,c.X86_INS_PI2FD=542,c.X86_INS_PI2FW=543,c.X86_INS_PINSRB=544,c.X86_INS_PINSRD=545,c.X86_INS_PINSRQ=546,c.X86_INS_PMAXSB=547,c.X86_INS_PMAXSD=548,c.X86_INS_PMAXUD=549,c.X86_INS_PMAXUW=550,c.X86_INS_PMINSB=551,c.X86_INS_PMINSD=552,c.X86_INS_PMINUD=553,c.X86_INS_PMINUW=554,c.X86_INS_PMOVSXBD=555,c.X86_INS_PMOVSXBQ=556,c.X86_INS_PMOVSXBW=557,c.X86_INS_PMOVSXDQ=558,c.X86_INS_PMOVSXWD=559,c.X86_INS_PMOVSXWQ=560,c.X86_INS_PMOVZXBD=561,c.X86_INS_PMOVZXBQ=562,c.X86_INS_PMOVZXBW=563,c.X86_INS_PMOVZXDQ=564,c.X86_INS_PMOVZXWD=565,c.X86_INS_PMOVZXWQ=566,c.X86_INS_PMULDQ=567,c.X86_INS_PMULHRW=568,c.X86_INS_PMULLD=569,c.X86_INS_POP=570,c.X86_INS_POPAW=571,c.X86_INS_POPAL=572,c.X86_INS_POPCNT=573,c.X86_INS_POPF=574,c.X86_INS_POPFD=575,c.X86_INS_POPFQ=576,c.X86_INS_PREFETCH=577,c.X86_INS_PREFETCHNTA=578,c.X86_INS_PREFETCHT0=579,c.X86_INS_PREFETCHT1=580,c.X86_INS_PREFETCHT2=581,c.X86_INS_PREFETCHW=582,c.X86_INS_PSHUFD=583,c.X86_INS_PSHUFHW=584,c.X86_INS_PSHUFLW=585,c.X86_INS_PSLLDQ=586,c.X86_INS_PSRLDQ=587,c.X86_INS_PSWAPD=588,c.X86_INS_PTEST=589,c.X86_INS_PUNPCKHQDQ=590,c.X86_INS_PUNPCKLQDQ=591,c.X86_INS_PUSH=592,c.X86_INS_PUSHAW=593,c.X86_INS_PUSHAL=594,c.X86_INS_PUSHF=595,c.X86_INS_PUSHFD=596,c.X86_INS_PUSHFQ=597,c.X86_INS_RCL=598,c.X86_INS_RCPPS=599,c.X86_INS_RCPSS=600,c.X86_INS_RCR=601,c.X86_INS_RDFSBASE=602,c.X86_INS_RDGSBASE=603,c.X86_INS_RDMSR=604,c.X86_INS_RDPMC=605,c.X86_INS_RDRAND=606,c.X86_INS_RDSEED=607,c.X86_INS_RDTSC=608,c.X86_INS_RDTSCP=609,c.X86_INS_ROL=610,c.X86_INS_ROR=611,c.X86_INS_RORX=612,c.X86_INS_ROUNDPD=613,c.X86_INS_ROUNDPS=614,c.X86_INS_ROUNDSD=615,c.X86_INS_ROUNDSS=616,c.X86_INS_RSM=617,c.X86_INS_RSQRTPS=618,c.X86_INS_RSQRTSS=619,c.X86_INS_SAHF=620,c.X86_INS_SAL=621,c.X86_INS_SALC=622,c.X86_INS_SAR=623,c.X86_INS_SARX=624,c.X86_INS_SBB=625,c.X86_INS_SCASB=626,c.X86_INS_SCASD=627,c.X86_INS_SCASQ=628,c.X86_INS_SCASW=629,c.X86_INS_SETAE=630,c.X86_INS_SETA=631,c.X86_INS_SETBE=632,c.X86_INS_SETB=633,c.X86_INS_SETE=634,c.X86_INS_SETGE=635,c.X86_INS_SETG=636,c.X86_INS_SETLE=637,c.X86_INS_SETL=638,c.X86_INS_SETNE=639,c.X86_INS_SETNO=640,c.X86_INS_SETNP=641,c.X86_INS_SETNS=642,c.X86_INS_SETO=643,c.X86_INS_SETP=644,c.X86_INS_SETS=645,c.X86_INS_SFENCE=646,c.X86_INS_SGDT=647,c.X86_INS_SHA1MSG1=648,c.X86_INS_SHA1MSG2=649,c.X86_INS_SHA1NEXTE=650,c.X86_INS_SHA1RNDS4=651,c.X86_INS_SHA256MSG1=652,c.X86_INS_SHA256MSG2=653,c.X86_INS_SHA256RNDS2=654,c.X86_INS_SHL=655,c.X86_INS_SHLD=656,c.X86_INS_SHLX=657,c.X86_INS_SHR=658,c.X86_INS_SHRD=659,c.X86_INS_SHRX=660,c.X86_INS_SHUFPD=661,c.X86_INS_SHUFPS=662,c.X86_INS_SIDT=663,c.X86_INS_FSIN=664,c.X86_INS_SKINIT=665,c.X86_INS_SLDT=666,c.X86_INS_SMSW=667,c.X86_INS_SQRTPD=668,c.X86_INS_SQRTPS=669,c.X86_INS_SQRTSD=670,c.X86_INS_SQRTSS=671,c.X86_INS_FSQRT=672,c.X86_INS_STAC=673,c.X86_INS_STC=674,c.X86_INS_STD=675,c.X86_INS_STGI=676,c.X86_INS_STI=677,c.X86_INS_STMXCSR=678,c.X86_INS_STOSB=679,c.X86_INS_STOSD=680,c.X86_INS_STOSQ=681,c.X86_INS_STOSW=682,c.X86_INS_STR=683,c.X86_INS_FST=684,c.X86_INS_FSTP=685,c.X86_INS_FSTPNCE=686,c.X86_INS_FXCH=687,c.X86_INS_SUBPD=688,c.X86_INS_SUBPS=689,c.X86_INS_FSUBR=690,c.X86_INS_FISUBR=691,c.X86_INS_FSUBRP=692,c.X86_INS_SUBSD=693,c.X86_INS_SUBSS=694,c.X86_INS_FSUB=695,c.X86_INS_FISUB=696,c.X86_INS_FSUBP=697,c.X86_INS_SWAPGS=698,c.X86_INS_SYSCALL=699,c.X86_INS_SYSENTER=700,c.X86_INS_SYSEXIT=701,c.X86_INS_SYSRET=702,c.X86_INS_T1MSKC=703,c.X86_INS_TEST=704,c.X86_INS_UD2=705,c.X86_INS_FTST=706,c.X86_INS_TZCNT=707,c.X86_INS_TZMSK=708,c.X86_INS_FUCOMPI=709,c.X86_INS_FUCOMI=710,c.X86_INS_FUCOMPP=711,c.X86_INS_FUCOMP=712,c.X86_INS_FUCOM=713,c.X86_INS_UD2B=714,c.X86_INS_UNPCKHPD=715,c.X86_INS_UNPCKHPS=716,c.X86_INS_UNPCKLPD=717,c.X86_INS_UNPCKLPS=718,c.X86_INS_VADDPD=719,c.X86_INS_VADDPS=720,c.X86_INS_VADDSD=721,c.X86_INS_VADDSS=722,c.X86_INS_VADDSUBPD=723,c.X86_INS_VADDSUBPS=724,c.X86_INS_VAESDECLAST=725,c.X86_INS_VAESDEC=726,c.X86_INS_VAESENCLAST=727,c.X86_INS_VAESENC=728,c.X86_INS_VAESIMC=729,c.X86_INS_VAESKEYGENASSIST=730,c.X86_INS_VALIGND=731,c.X86_INS_VALIGNQ=732,c.X86_INS_VANDNPD=733,c.X86_INS_VANDNPS=734,c.X86_INS_VANDPD=735,c.X86_INS_VANDPS=736,c.X86_INS_VBLENDMPD=737,c.X86_INS_VBLENDMPS=738,c.X86_INS_VBLENDPD=739,c.X86_INS_VBLENDPS=740,c.X86_INS_VBLENDVPD=741,c.X86_INS_VBLENDVPS=742,c.X86_INS_VBROADCASTF128=743,c.X86_INS_VBROADCASTI32X4=744,c.X86_INS_VBROADCASTI64X4=745,c.X86_INS_VBROADCASTSD=746,c.X86_INS_VBROADCASTSS=747,c.X86_INS_VCMPPD=748,c.X86_INS_VCMPPS=749,c.X86_INS_VCMPSD=750,c.X86_INS_VCMPSS=751,c.X86_INS_VCOMPRESSPD=752,c.X86_INS_VCOMPRESSPS=753,c.X86_INS_VCVTDQ2PD=754,c.X86_INS_VCVTDQ2PS=755,c.X86_INS_VCVTPD2DQX=756,c.X86_INS_VCVTPD2DQ=757,c.X86_INS_VCVTPD2PSX=758,c.X86_INS_VCVTPD2PS=759,c.X86_INS_VCVTPD2UDQ=760,c.X86_INS_VCVTPH2PS=761,c.X86_INS_VCVTPS2DQ=762,c.X86_INS_VCVTPS2PD=763,c.X86_INS_VCVTPS2PH=764,c.X86_INS_VCVTPS2UDQ=765,c.X86_INS_VCVTSD2SI=766,c.X86_INS_VCVTSD2USI=767,c.X86_INS_VCVTSS2SI=768,c.X86_INS_VCVTSS2USI=769,c.X86_INS_VCVTTPD2DQX=770,c.X86_INS_VCVTTPD2DQ=771,c.X86_INS_VCVTTPD2UDQ=772,c.X86_INS_VCVTTPS2DQ=773,c.X86_INS_VCVTTPS2UDQ=774,c.X86_INS_VCVTUDQ2PD=775,c.X86_INS_VCVTUDQ2PS=776,c.X86_INS_VDIVPD=777,c.X86_INS_VDIVPS=778,c.X86_INS_VDIVSD=779,c.X86_INS_VDIVSS=780,c.X86_INS_VDPPD=781,c.X86_INS_VDPPS=782,c.X86_INS_VERR=783,c.X86_INS_VERW=784,c.X86_INS_VEXP2PD=785,c.X86_INS_VEXP2PS=786,c.X86_INS_VEXPANDPD=787,c.X86_INS_VEXPANDPS=788,c.X86_INS_VEXTRACTF128=789,c.X86_INS_VEXTRACTF32X4=790,c.X86_INS_VEXTRACTF64X4=791,c.X86_INS_VEXTRACTI128=792,c.X86_INS_VEXTRACTI32X4=793,c.X86_INS_VEXTRACTI64X4=794,c.X86_INS_VEXTRACTPS=795,c.X86_INS_VFMADD132PD=796,c.X86_INS_VFMADD132PS=797,c.X86_INS_VFMADDPD=798,c.X86_INS_VFMADD213PD=799,c.X86_INS_VFMADD231PD=800,c.X86_INS_VFMADDPS=801,c.X86_INS_VFMADD213PS=802,c.X86_INS_VFMADD231PS=803,c.X86_INS_VFMADDSD=804,c.X86_INS_VFMADD213SD=805,c.X86_INS_VFMADD132SD=806,c.X86_INS_VFMADD231SD=807,c.X86_INS_VFMADDSS=808,c.X86_INS_VFMADD213SS=809,c.X86_INS_VFMADD132SS=810,c.X86_INS_VFMADD231SS=811,c.X86_INS_VFMADDSUB132PD=812,c.X86_INS_VFMADDSUB132PS=813,c.X86_INS_VFMADDSUBPD=814,c.X86_INS_VFMADDSUB213PD=815,c.X86_INS_VFMADDSUB231PD=816,c.X86_INS_VFMADDSUBPS=817,c.X86_INS_VFMADDSUB213PS=818,c.X86_INS_VFMADDSUB231PS=819,c.X86_INS_VFMSUB132PD=820,c.X86_INS_VFMSUB132PS=821,c.X86_INS_VFMSUBADD132PD=822,c.X86_INS_VFMSUBADD132PS=823,c.X86_INS_VFMSUBADDPD=824,c.X86_INS_VFMSUBADD213PD=825,c.X86_INS_VFMSUBADD231PD=826,c.X86_INS_VFMSUBADDPS=827,c.X86_INS_VFMSUBADD213PS=828,c.X86_INS_VFMSUBADD231PS=829,c.X86_INS_VFMSUBPD=830,c.X86_INS_VFMSUB213PD=831,c.X86_INS_VFMSUB231PD=832,c.X86_INS_VFMSUBPS=833,c.X86_INS_VFMSUB213PS=834,c.X86_INS_VFMSUB231PS=835,c.X86_INS_VFMSUBSD=836,c.X86_INS_VFMSUB213SD=837,c.X86_INS_VFMSUB132SD=838,c.X86_INS_VFMSUB231SD=839,c.X86_INS_VFMSUBSS=840,c.X86_INS_VFMSUB213SS=841,c.X86_INS_VFMSUB132SS=842,c.X86_INS_VFMSUB231SS=843,c.X86_INS_VFNMADD132PD=844,c.X86_INS_VFNMADD132PS=845,c.X86_INS_VFNMADDPD=846,c.X86_INS_VFNMADD213PD=847,c.X86_INS_VFNMADD231PD=848,c.X86_INS_VFNMADDPS=849,c.X86_INS_VFNMADD213PS=850,c.X86_INS_VFNMADD231PS=851,c.X86_INS_VFNMADDSD=852,c.X86_INS_VFNMADD213SD=853,c.X86_INS_VFNMADD132SD=854,c.X86_INS_VFNMADD231SD=855,c.X86_INS_VFNMADDSS=856,c.X86_INS_VFNMADD213SS=857,c.X86_INS_VFNMADD132SS=858,c.X86_INS_VFNMADD231SS=859,c.X86_INS_VFNMSUB132PD=860,c.X86_INS_VFNMSUB132PS=861,c.X86_INS_VFNMSUBPD=862,c.X86_INS_VFNMSUB213PD=863,c.X86_INS_VFNMSUB231PD=864,c.X86_INS_VFNMSUBPS=865,c.X86_INS_VFNMSUB213PS=866,c.X86_INS_VFNMSUB231PS=867,c.X86_INS_VFNMSUBSD=868,c.X86_INS_VFNMSUB213SD=869,c.X86_INS_VFNMSUB132SD=870,c.X86_INS_VFNMSUB231SD=871,c.X86_INS_VFNMSUBSS=872,c.X86_INS_VFNMSUB213SS=873,c.X86_INS_VFNMSUB132SS=874,c.X86_INS_VFNMSUB231SS=875,c.X86_INS_VFRCZPD=876,c.X86_INS_VFRCZPS=877,c.X86_INS_VFRCZSD=878,c.X86_INS_VFRCZSS=879,c.X86_INS_VORPD=880,c.X86_INS_VORPS=881,c.X86_INS_VXORPD=882,c.X86_INS_VXORPS=883,c.X86_INS_VGATHERDPD=884,c.X86_INS_VGATHERDPS=885,c.X86_INS_VGATHERPF0DPD=886,c.X86_INS_VGATHERPF0DPS=887,c.X86_INS_VGATHERPF0QPD=888,c.X86_INS_VGATHERPF0QPS=889,c.X86_INS_VGATHERPF1DPD=890,c.X86_INS_VGATHERPF1DPS=891,c.X86_INS_VGATHERPF1QPD=892,c.X86_INS_VGATHERPF1QPS=893,c.X86_INS_VGATHERQPD=894,c.X86_INS_VGATHERQPS=895,c.X86_INS_VHADDPD=896,c.X86_INS_VHADDPS=897,c.X86_INS_VHSUBPD=898,c.X86_INS_VHSUBPS=899,c.X86_INS_VINSERTF128=900,c.X86_INS_VINSERTF32X4=901,c.X86_INS_VINSERTF32X8=902,c.X86_INS_VINSERTF64X2=903,c.X86_INS_VINSERTF64X4=904,c.X86_INS_VINSERTI128=905,c.X86_INS_VINSERTI32X4=906,c.X86_INS_VINSERTI32X8=907,c.X86_INS_VINSERTI64X2=908,c.X86_INS_VINSERTI64X4=909,c.X86_INS_VINSERTPS=910,c.X86_INS_VLDDQU=911,c.X86_INS_VLDMXCSR=912,c.X86_INS_VMASKMOVDQU=913,c.X86_INS_VMASKMOVPD=914,c.X86_INS_VMASKMOVPS=915,c.X86_INS_VMAXPD=916,c.X86_INS_VMAXPS=917,c.X86_INS_VMAXSD=918,c.X86_INS_VMAXSS=919,c.X86_INS_VMCALL=920,c.X86_INS_VMCLEAR=921,c.X86_INS_VMFUNC=922,c.X86_INS_VMINPD=923,c.X86_INS_VMINPS=924,c.X86_INS_VMINSD=925,c.X86_INS_VMINSS=926,c.X86_INS_VMLAUNCH=927,c.X86_INS_VMLOAD=928,c.X86_INS_VMMCALL=929,c.X86_INS_VMOVQ=930,c.X86_INS_VMOVDDUP=931,c.X86_INS_VMOVD=932,c.X86_INS_VMOVDQA32=933,c.X86_INS_VMOVDQA64=934,c.X86_INS_VMOVDQA=935,c.X86_INS_VMOVDQU16=936,c.X86_INS_VMOVDQU32=937,c.X86_INS_VMOVDQU64=938,c.X86_INS_VMOVDQU8=939,c.X86_INS_VMOVDQU=940,c.X86_INS_VMOVHLPS=941,c.X86_INS_VMOVHPD=942,c.X86_INS_VMOVHPS=943,c.X86_INS_VMOVLHPS=944,c.X86_INS_VMOVLPD=945,c.X86_INS_VMOVLPS=946,c.X86_INS_VMOVMSKPD=947,c.X86_INS_VMOVMSKPS=948,c.X86_INS_VMOVNTDQA=949,c.X86_INS_VMOVNTDQ=950,c.X86_INS_VMOVNTPD=951,c.X86_INS_VMOVNTPS=952,c.X86_INS_VMOVSD=953,c.X86_INS_VMOVSHDUP=954,c.X86_INS_VMOVSLDUP=955,c.X86_INS_VMOVSS=956,c.X86_INS_VMOVUPD=957,c.X86_INS_VMOVUPS=958,c.X86_INS_VMPSADBW=959,c.X86_INS_VMPTRLD=960,c.X86_INS_VMPTRST=961,c.X86_INS_VMREAD=962,c.X86_INS_VMRESUME=963,c.X86_INS_VMRUN=964,c.X86_INS_VMSAVE=965,c.X86_INS_VMULPD=966,c.X86_INS_VMULPS=967,c.X86_INS_VMULSD=968,c.X86_INS_VMULSS=969,c.X86_INS_VMWRITE=970,c.X86_INS_VMXOFF=971,c.X86_INS_VMXON=972,c.X86_INS_VPABSB=973,c.X86_INS_VPABSD=974,c.X86_INS_VPABSQ=975,c.X86_INS_VPABSW=976,c.X86_INS_VPACKSSDW=977,c.X86_INS_VPACKSSWB=978,c.X86_INS_VPACKUSDW=979,c.X86_INS_VPACKUSWB=980,c.X86_INS_VPADDB=981,c.X86_INS_VPADDD=982,c.X86_INS_VPADDQ=983,c.X86_INS_VPADDSB=984,c.X86_INS_VPADDSW=985,c.X86_INS_VPADDUSB=986,c.X86_INS_VPADDUSW=987,c.X86_INS_VPADDW=988,c.X86_INS_VPALIGNR=989,c.X86_INS_VPANDD=990,c.X86_INS_VPANDND=991,c.X86_INS_VPANDNQ=992,c.X86_INS_VPANDN=993,c.X86_INS_VPANDQ=994,c.X86_INS_VPAND=995,c.X86_INS_VPAVGB=996,c.X86_INS_VPAVGW=997,c.X86_INS_VPBLENDD=998,c.X86_INS_VPBLENDMB=999,c.X86_INS_VPBLENDMD=1e3,c.X86_INS_VPBLENDMQ=1001,c.X86_INS_VPBLENDMW=1002,c.X86_INS_VPBLENDVB=1003,c.X86_INS_VPBLENDW=1004,c.X86_INS_VPBROADCASTB=1005,c.X86_INS_VPBROADCASTD=1006,c.X86_INS_VPBROADCASTMB2Q=1007,c.X86_INS_VPBROADCASTMW2D=1008,c.X86_INS_VPBROADCASTQ=1009,c.X86_INS_VPBROADCASTW=1010,c.X86_INS_VPCLMULQDQ=1011,c.X86_INS_VPCMOV=1012,c.X86_INS_VPCMPB=1013,c.X86_INS_VPCMPD=1014,c.X86_INS_VPCMPEQB=1015,c.X86_INS_VPCMPEQD=1016,c.X86_INS_VPCMPEQQ=1017,c.X86_INS_VPCMPEQW=1018,c.X86_INS_VPCMPESTRI=1019,c.X86_INS_VPCMPESTRM=1020,c.X86_INS_VPCMPGTB=1021,c.X86_INS_VPCMPGTD=1022,c.X86_INS_VPCMPGTQ=1023,c.X86_INS_VPCMPGTW=1024,c.X86_INS_VPCMPISTRI=1025,c.X86_INS_VPCMPISTRM=1026,c.X86_INS_VPCMPQ=1027,c.X86_INS_VPCMPUB=1028,c.X86_INS_VPCMPUD=1029,c.X86_INS_VPCMPUQ=1030,c.X86_INS_VPCMPUW=1031,c.X86_INS_VPCMPW=1032,c.X86_INS_VPCOMB=1033,c.X86_INS_VPCOMD=1034,c.X86_INS_VPCOMPRESSD=1035,c.X86_INS_VPCOMPRESSQ=1036,c.X86_INS_VPCOMQ=1037,c.X86_INS_VPCOMUB=1038,c.X86_INS_VPCOMUD=1039,c.X86_INS_VPCOMUQ=1040,c.X86_INS_VPCOMUW=1041,c.X86_INS_VPCOMW=1042,c.X86_INS_VPCONFLICTD=1043,c.X86_INS_VPCONFLICTQ=1044,c.X86_INS_VPERM2F128=1045,c.X86_INS_VPERM2I128=1046,c.X86_INS_VPERMD=1047,c.X86_INS_VPERMI2D=1048,c.X86_INS_VPERMI2PD=1049,c.X86_INS_VPERMI2PS=1050,c.X86_INS_VPERMI2Q=1051,c.X86_INS_VPERMIL2PD=1052,c.X86_INS_VPERMIL2PS=1053,c.X86_INS_VPERMILPD=1054,c.X86_INS_VPERMILPS=1055,c.X86_INS_VPERMPD=1056,c.X86_INS_VPERMPS=1057,c.X86_INS_VPERMQ=1058,c.X86_INS_VPERMT2D=1059,c.X86_INS_VPERMT2PD=1060,c.X86_INS_VPERMT2PS=1061,c.X86_INS_VPERMT2Q=1062,c.X86_INS_VPEXPANDD=1063,c.X86_INS_VPEXPANDQ=1064,c.X86_INS_VPEXTRB=1065,c.X86_INS_VPEXTRD=1066,c.X86_INS_VPEXTRQ=1067,c.X86_INS_VPEXTRW=1068,c.X86_INS_VPGATHERDD=1069,c.X86_INS_VPGATHERDQ=1070,c.X86_INS_VPGATHERQD=1071,c.X86_INS_VPGATHERQQ=1072,c.X86_INS_VPHADDBD=1073,c.X86_INS_VPHADDBQ=1074,c.X86_INS_VPHADDBW=1075,c.X86_INS_VPHADDDQ=1076,c.X86_INS_VPHADDD=1077,c.X86_INS_VPHADDSW=1078,c.X86_INS_VPHADDUBD=1079,c.X86_INS_VPHADDUBQ=1080,c.X86_INS_VPHADDUBW=1081,c.X86_INS_VPHADDUDQ=1082,c.X86_INS_VPHADDUWD=1083,c.X86_INS_VPHADDUWQ=1084,c.X86_INS_VPHADDWD=1085,c.X86_INS_VPHADDWQ=1086,c.X86_INS_VPHADDW=1087,c.X86_INS_VPHMINPOSUW=1088,c.X86_INS_VPHSUBBW=1089,c.X86_INS_VPHSUBDQ=1090,c.X86_INS_VPHSUBD=1091,c.X86_INS_VPHSUBSW=1092,c.X86_INS_VPHSUBWD=1093,c.X86_INS_VPHSUBW=1094,c.X86_INS_VPINSRB=1095,c.X86_INS_VPINSRD=1096,c.X86_INS_VPINSRQ=1097,c.X86_INS_VPINSRW=1098,c.X86_INS_VPLZCNTD=1099,c.X86_INS_VPLZCNTQ=1100,c.X86_INS_VPMACSDD=1101,c.X86_INS_VPMACSDQH=1102,c.X86_INS_VPMACSDQL=1103,c.X86_INS_VPMACSSDD=1104,c.X86_INS_VPMACSSDQH=1105,c.X86_INS_VPMACSSDQL=1106,c.X86_INS_VPMACSSWD=1107,c.X86_INS_VPMACSSWW=1108,c.X86_INS_VPMACSWD=1109,c.X86_INS_VPMACSWW=1110,c.X86_INS_VPMADCSSWD=1111,c.X86_INS_VPMADCSWD=1112,c.X86_INS_VPMADDUBSW=1113,c.X86_INS_VPMADDWD=1114,c.X86_INS_VPMASKMOVD=1115,c.X86_INS_VPMASKMOVQ=1116,c.X86_INS_VPMAXSB=1117,c.X86_INS_VPMAXSD=1118,c.X86_INS_VPMAXSQ=1119,c.X86_INS_VPMAXSW=1120,c.X86_INS_VPMAXUB=1121,c.X86_INS_VPMAXUD=1122,c.X86_INS_VPMAXUQ=1123,c.X86_INS_VPMAXUW=1124,c.X86_INS_VPMINSB=1125,c.X86_INS_VPMINSD=1126,c.X86_INS_VPMINSQ=1127,c.X86_INS_VPMINSW=1128,c.X86_INS_VPMINUB=1129,c.X86_INS_VPMINUD=1130,c.X86_INS_VPMINUQ=1131,c.X86_INS_VPMINUW=1132,c.X86_INS_VPMOVDB=1133,c.X86_INS_VPMOVDW=1134,c.X86_INS_VPMOVM2B=1135,c.X86_INS_VPMOVM2D=1136,c.X86_INS_VPMOVM2Q=1137,c.X86_INS_VPMOVM2W=1138,c.X86_INS_VPMOVMSKB=1139,c.X86_INS_VPMOVQB=1140,c.X86_INS_VPMOVQD=1141,c.X86_INS_VPMOVQW=1142,c.X86_INS_VPMOVSDB=1143,c.X86_INS_VPMOVSDW=1144,c.X86_INS_VPMOVSQB=1145,c.X86_INS_VPMOVSQD=1146,c.X86_INS_VPMOVSQW=1147,c.X86_INS_VPMOVSXBD=1148,c.X86_INS_VPMOVSXBQ=1149,c.X86_INS_VPMOVSXBW=1150,c.X86_INS_VPMOVSXDQ=1151,c.X86_INS_VPMOVSXWD=1152,c.X86_INS_VPMOVSXWQ=1153,c.X86_INS_VPMOVUSDB=1154,c.X86_INS_VPMOVUSDW=1155,c.X86_INS_VPMOVUSQB=1156,c.X86_INS_VPMOVUSQD=1157,c.X86_INS_VPMOVUSQW=1158,c.X86_INS_VPMOVZXBD=1159,c.X86_INS_VPMOVZXBQ=1160,c.X86_INS_VPMOVZXBW=1161,c.X86_INS_VPMOVZXDQ=1162,c.X86_INS_VPMOVZXWD=1163,c.X86_INS_VPMOVZXWQ=1164,c.X86_INS_VPMULDQ=1165,c.X86_INS_VPMULHRSW=1166,c.X86_INS_VPMULHUW=1167,c.X86_INS_VPMULHW=1168,c.X86_INS_VPMULLD=1169,c.X86_INS_VPMULLQ=1170,c.X86_INS_VPMULLW=1171,c.X86_INS_VPMULUDQ=1172,c.X86_INS_VPORD=1173,c.X86_INS_VPORQ=1174,c.X86_INS_VPOR=1175,c.X86_INS_VPPERM=1176,c.X86_INS_VPROTB=1177,c.X86_INS_VPROTD=1178,c.X86_INS_VPROTQ=1179,c.X86_INS_VPROTW=1180,c.X86_INS_VPSADBW=1181,c.X86_INS_VPSCATTERDD=1182,c.X86_INS_VPSCATTERDQ=1183,c.X86_INS_VPSCATTERQD=1184,c.X86_INS_VPSCATTERQQ=1185,c.X86_INS_VPSHAB=1186,c.X86_INS_VPSHAD=1187,c.X86_INS_VPSHAQ=1188,c.X86_INS_VPSHAW=1189,c.X86_INS_VPSHLB=1190,c.X86_INS_VPSHLD=1191,c.X86_INS_VPSHLQ=1192,c.X86_INS_VPSHLW=1193,c.X86_INS_VPSHUFB=1194,c.X86_INS_VPSHUFD=1195,c.X86_INS_VPSHUFHW=1196,c.X86_INS_VPSHUFLW=1197,c.X86_INS_VPSIGNB=1198,c.X86_INS_VPSIGND=1199,c.X86_INS_VPSIGNW=1200,c.X86_INS_VPSLLDQ=1201,c.X86_INS_VPSLLD=1202,c.X86_INS_VPSLLQ=1203,c.X86_INS_VPSLLVD=1204,c.X86_INS_VPSLLVQ=1205,c.X86_INS_VPSLLW=1206,c.X86_INS_VPSRAD=1207,c.X86_INS_VPSRAQ=1208,c.X86_INS_VPSRAVD=1209,c.X86_INS_VPSRAVQ=1210,c.X86_INS_VPSRAW=1211,c.X86_INS_VPSRLDQ=1212,c.X86_INS_VPSRLD=1213,c.X86_INS_VPSRLQ=1214,c.X86_INS_VPSRLVD=1215,c.X86_INS_VPSRLVQ=1216,c.X86_INS_VPSRLW=1217,c.X86_INS_VPSUBB=1218,c.X86_INS_VPSUBD=1219,c.X86_INS_VPSUBQ=1220,c.X86_INS_VPSUBSB=1221,c.X86_INS_VPSUBSW=1222,c.X86_INS_VPSUBUSB=1223,c.X86_INS_VPSUBUSW=1224,c.X86_INS_VPSUBW=1225,c.X86_INS_VPTESTMD=1226,c.X86_INS_VPTESTMQ=1227,c.X86_INS_VPTESTNMD=1228,c.X86_INS_VPTESTNMQ=1229,c.X86_INS_VPTEST=1230,c.X86_INS_VPUNPCKHBW=1231,c.X86_INS_VPUNPCKHDQ=1232,c.X86_INS_VPUNPCKHQDQ=1233,c.X86_INS_VPUNPCKHWD=1234,c.X86_INS_VPUNPCKLBW=1235,c.X86_INS_VPUNPCKLDQ=1236,c.X86_INS_VPUNPCKLQDQ=1237,c.X86_INS_VPUNPCKLWD=1238,c.X86_INS_VPXORD=1239,c.X86_INS_VPXORQ=1240,c.X86_INS_VPXOR=1241,c.X86_INS_VRCP14PD=1242,c.X86_INS_VRCP14PS=1243,c.X86_INS_VRCP14SD=1244,c.X86_INS_VRCP14SS=1245,c.X86_INS_VRCP28PD=1246,c.X86_INS_VRCP28PS=1247,c.X86_INS_VRCP28SD=1248,c.X86_INS_VRCP28SS=1249,c.X86_INS_VRCPPS=1250,c.X86_INS_VRCPSS=1251,c.X86_INS_VRNDSCALEPD=1252,c.X86_INS_VRNDSCALEPS=1253,c.X86_INS_VRNDSCALESD=1254,c.X86_INS_VRNDSCALESS=1255,c.X86_INS_VROUNDPD=1256,c.X86_INS_VROUNDPS=1257,c.X86_INS_VROUNDSD=1258,c.X86_INS_VROUNDSS=1259,c.X86_INS_VRSQRT14PD=1260,c.X86_INS_VRSQRT14PS=1261,c.X86_INS_VRSQRT14SD=1262,c.X86_INS_VRSQRT14SS=1263,c.X86_INS_VRSQRT28PD=1264,c.X86_INS_VRSQRT28PS=1265,c.X86_INS_VRSQRT28SD=1266,c.X86_INS_VRSQRT28SS=1267,c.X86_INS_VRSQRTPS=1268,c.X86_INS_VRSQRTSS=1269,c.X86_INS_VSCATTERDPD=1270,c.X86_INS_VSCATTERDPS=1271,c.X86_INS_VSCATTERPF0DPD=1272,c.X86_INS_VSCATTERPF0DPS=1273,c.X86_INS_VSCATTERPF0QPD=1274,c.X86_INS_VSCATTERPF0QPS=1275,c.X86_INS_VSCATTERPF1DPD=1276,c.X86_INS_VSCATTERPF1DPS=1277,c.X86_INS_VSCATTERPF1QPD=1278,c.X86_INS_VSCATTERPF1QPS=1279,c.X86_INS_VSCATTERQPD=1280,c.X86_INS_VSCATTERQPS=1281,c.X86_INS_VSHUFPD=1282,c.X86_INS_VSHUFPS=1283,c.X86_INS_VSQRTPD=1284,c.X86_INS_VSQRTPS=1285,c.X86_INS_VSQRTSD=1286,c.X86_INS_VSQRTSS=1287,c.X86_INS_VSTMXCSR=1288,c.X86_INS_VSUBPD=1289,c.X86_INS_VSUBPS=1290,c.X86_INS_VSUBSD=1291,c.X86_INS_VSUBSS=1292,c.X86_INS_VTESTPD=1293,c.X86_INS_VTESTPS=1294,c.X86_INS_VUNPCKHPD=1295,c.X86_INS_VUNPCKHPS=1296,c.X86_INS_VUNPCKLPD=1297,c.X86_INS_VUNPCKLPS=1298,c.X86_INS_VZEROALL=1299,c.X86_INS_VZEROUPPER=1300,c.X86_INS_WAIT=1301,c.X86_INS_WBINVD=1302,c.X86_INS_WRFSBASE=1303,c.X86_INS_WRGSBASE=1304,c.X86_INS_WRMSR=1305,c.X86_INS_XABORT=1306,c.X86_INS_XACQUIRE=1307,c.X86_INS_XBEGIN=1308,c.X86_INS_XCHG=1309,c.X86_INS_XCRYPTCBC=1310,c.X86_INS_XCRYPTCFB=1311,c.X86_INS_XCRYPTCTR=1312,c.X86_INS_XCRYPTECB=1313,c.X86_INS_XCRYPTOFB=1314,c.X86_INS_XEND=1315,c.X86_INS_XGETBV=1316,c.X86_INS_XLATB=1317,c.X86_INS_XRELEASE=1318,c.X86_INS_XRSTOR=1319,c.X86_INS_XRSTOR64=1320,c.X86_INS_XRSTORS=1321,c.X86_INS_XRSTORS64=1322,c.X86_INS_XSAVE=1323,c.X86_INS_XSAVE64=1324,c.X86_INS_XSAVEC=1325,c.X86_INS_XSAVEC64=1326,c.X86_INS_XSAVEOPT=1327,c.X86_INS_XSAVEOPT64=1328,c.X86_INS_XSAVES=1329,c.X86_INS_XSAVES64=1330,c.X86_INS_XSETBV=1331,c.X86_INS_XSHA1=1332,c.X86_INS_XSHA256=1333,c.X86_INS_XSTORE=1334,c.X86_INS_XTEST=1335,c.X86_INS_FDISI8087_NOP=1336,c.X86_INS_FENI8087_NOP=1337,c.X86_INS_ENDING=1338,c.API_MAJOR=1,c.API_MINOR=0,c.VERSION_MAJOR=1,c.VERSION_MINOR=0,c.VERSION_EXTRA=3,c.SECOND_SCALE=1e6,c.MILISECOND_SCALE=1e3,c.ARCH_ARM=1,c.ARCH_ARM64=2,c.ARCH_MIPS=3,c.ARCH_X86=4,c.ARCH_PPC=5,c.ARCH_SPARC=6,c.ARCH_M68K=7,c.ARCH_MAX=8,c.MODE_LITTLE_ENDIAN=0,c.MODE_BIG_ENDIAN=1073741824,c.MODE_ARM=0,c.MODE_THUMB=16,c.MODE_MCLASS=32,c.MODE_V8=64,c.MODE_ARM926=128,c.MODE_ARM946=256,c.MODE_ARM1176=512,c.MODE_ARMBE8=1024,c.MODE_MICRO=16,c.MODE_MIPS3=32,c.MODE_MIPS32R6=64,c.MODE_MIPS32=4,c.MODE_MIPS64=8,c.MODE_16=2,c.MODE_32=4,c.MODE_64=8,c.MODE_PPC32=4,c.MODE_PPC64=8,c.MODE_QPX=16,c.MODE_SPARC32=4,c.MODE_SPARC64=8,c.MODE_V9=16,c.ERR_OK=0,c.ERR_NOMEM=1,c.ERR_ARCH=2,c.ERR_HANDLE=3,c.ERR_MODE=4,c.ERR_VERSION=5,c.ERR_READ_UNMAPPED=6,c.ERR_WRITE_UNMAPPED=7,c.ERR_FETCH_UNMAPPED=8,c.ERR_HOOK=9,c.ERR_INSN_INVALID=10,c.ERR_MAP=11,c.ERR_WRITE_PROT=12,c.ERR_READ_PROT=13,c.ERR_FETCH_PROT=14,c.ERR_ARG=15,c.ERR_READ_UNALIGNED=16,c.ERR_WRITE_UNALIGNED=17,c.ERR_FETCH_UNALIGNED=18,c.ERR_HOOK_EXIST=19,c.ERR_RESOURCE=20,c.ERR_EXCEPTION=21,c.MEM_READ=16,c.MEM_WRITE=17,c.MEM_FETCH=18,c.MEM_READ_UNMAPPED=19,c.MEM_WRITE_UNMAPPED=20,c.MEM_FETCH_UNMAPPED=21,c.MEM_WRITE_PROT=22,c.MEM_READ_PROT=23,c.MEM_FETCH_PROT=24,c.MEM_READ_AFTER=25,c.HOOK_INTR=1,c.HOOK_INSN=2,c.HOOK_CODE=4,c.HOOK_BLOCK=8,c.HOOK_MEM_READ_UNMAPPED=16,c.HOOK_MEM_WRITE_UNMAPPED=32,c.HOOK_MEM_FETCH_UNMAPPED=64,c.HOOK_MEM_READ_PROT=128,c.HOOK_MEM_WRITE_PROT=256,c.HOOK_MEM_FETCH_PROT=512,c.HOOK_MEM_READ=1024,c.HOOK_MEM_WRITE=2048,c.HOOK_MEM_FETCH=4096,c.HOOK_MEM_READ_AFTER=8192,c.HOOK_INSN_INVALID=16384,c.HOOK_MEM_UNMAPPED=112,c.HOOK_MEM_PROT=896,c.HOOK_MEM_READ_INVALID=144,c.HOOK_MEM_WRITE_INVALID=288,c.HOOK_MEM_FETCH_INVALID=576,c.HOOK_MEM_INVALID=1008,c.HOOK_MEM_VALID=7168,c.QUERY_MODE=1,c.QUERY_PAGE_SIZE=2,c.QUERY_ARCH=3,c.QUERY_TIMEOUT=4,c.PROT_NONE=0,c.PROT_READ=1,c.PROT_WRITE=2,c.PROT_EXEC=4,c.PROT_ALL=7,c.ARM64_REG_INVALID=0,c.ARM64_REG_X29=1,c.ARM64_REG_X30=2,c.ARM64_REG_NZCV=3,c.ARM64_REG_SP=4,c.ARM64_REG_WSP=5,c.ARM64_REG_WZR=6,c.ARM64_REG_XZR=7,c.ARM64_REG_B0=8,c.ARM64_REG_B1=9,c.ARM64_REG_B2=10,c.ARM64_REG_B3=11,c.ARM64_REG_B4=12,c.ARM64_REG_B5=13,c.ARM64_REG_B6=14,c.ARM64_REG_B7=15,c.ARM64_REG_B8=16,c.ARM64_REG_B9=17,c.ARM64_REG_B10=18,c.ARM64_REG_B11=19,c.ARM64_REG_B12=20,c.ARM64_REG_B13=21,c.ARM64_REG_B14=22,c.ARM64_REG_B15=23,c.ARM64_REG_B16=24,c.ARM64_REG_B17=25,c.ARM64_REG_B18=26,c.ARM64_REG_B19=27,c.ARM64_REG_B20=28,c.ARM64_REG_B21=29,c.ARM64_REG_B22=30,c.ARM64_REG_B23=31,c.ARM64_REG_B24=32,c.ARM64_REG_B25=33,c.ARM64_REG_B26=34,c.ARM64_REG_B27=35,c.ARM64_REG_B28=36,c.ARM64_REG_B29=37,c.ARM64_REG_B30=38,c.ARM64_REG_B31=39,c.ARM64_REG_D0=40,c.ARM64_REG_D1=41,c.ARM64_REG_D2=42,c.ARM64_REG_D3=43,c.ARM64_REG_D4=44,c.ARM64_REG_D5=45,c.ARM64_REG_D6=46,c.ARM64_REG_D7=47,c.ARM64_REG_D8=48,c.ARM64_REG_D9=49,c.ARM64_REG_D10=50,c.ARM64_REG_D11=51,c.ARM64_REG_D12=52,c.ARM64_REG_D13=53,c.ARM64_REG_D14=54,c.ARM64_REG_D15=55,c.ARM64_REG_D16=56,c.ARM64_REG_D17=57,c.ARM64_REG_D18=58,c.ARM64_REG_D19=59,c.ARM64_REG_D20=60,c.ARM64_REG_D21=61,c.ARM64_REG_D22=62,c.ARM64_REG_D23=63,c.ARM64_REG_D24=64,c.ARM64_REG_D25=65,c.ARM64_REG_D26=66,c.ARM64_REG_D27=67,c.ARM64_REG_D28=68,c.ARM64_REG_D29=69,c.ARM64_REG_D30=70,c.ARM64_REG_D31=71,c.ARM64_REG_H0=72,c.ARM64_REG_H1=73,c.ARM64_REG_H2=74,c.ARM64_REG_H3=75,c.ARM64_REG_H4=76,c.ARM64_REG_H5=77,c.ARM64_REG_H6=78,c.ARM64_REG_H7=79,c.ARM64_REG_H8=80,c.ARM64_REG_H9=81,c.ARM64_REG_H10=82,c.ARM64_REG_H11=83,c.ARM64_REG_H12=84,c.ARM64_REG_H13=85,c.ARM64_REG_H14=86,c.ARM64_REG_H15=87,c.ARM64_REG_H16=88,c.ARM64_REG_H17=89,c.ARM64_REG_H18=90,c.ARM64_REG_H19=91,c.ARM64_REG_H20=92,c.ARM64_REG_H21=93,c.ARM64_REG_H22=94,c.ARM64_REG_H23=95,c.ARM64_REG_H24=96,c.ARM64_REG_H25=97,c.ARM64_REG_H26=98,c.ARM64_REG_H27=99,c.ARM64_REG_H28=100,c.ARM64_REG_H29=101,c.ARM64_REG_H30=102,c.ARM64_REG_H31=103,c.ARM64_REG_Q0=104,c.ARM64_REG_Q1=105,c.ARM64_REG_Q2=106,c.ARM64_REG_Q3=107,c.ARM64_REG_Q4=108,c.ARM64_REG_Q5=109,c.ARM64_REG_Q6=110,c.ARM64_REG_Q7=111,c.ARM64_REG_Q8=112,c.ARM64_REG_Q9=113,c.ARM64_REG_Q10=114,c.ARM64_REG_Q11=115,c.ARM64_REG_Q12=116,c.ARM64_REG_Q13=117,c.ARM64_REG_Q14=118,c.ARM64_REG_Q15=119,c.ARM64_REG_Q16=120,c.ARM64_REG_Q17=121,c.ARM64_REG_Q18=122,c.ARM64_REG_Q19=123,c.ARM64_REG_Q20=124,c.ARM64_REG_Q21=125,c.ARM64_REG_Q22=126,c.ARM64_REG_Q23=127,c.ARM64_REG_Q24=128,c.ARM64_REG_Q25=129,c.ARM64_REG_Q26=130,c.ARM64_REG_Q27=131,c.ARM64_REG_Q28=132,c.ARM64_REG_Q29=133,c.ARM64_REG_Q30=134,c.ARM64_REG_Q31=135,c.ARM64_REG_S0=136,c.ARM64_REG_S1=137,c.ARM64_REG_S2=138,c.ARM64_REG_S3=139,c.ARM64_REG_S4=140,c.ARM64_REG_S5=141,c.ARM64_REG_S6=142,c.ARM64_REG_S7=143,c.ARM64_REG_S8=144,c.ARM64_REG_S9=145,c.ARM64_REG_S10=146,c.ARM64_REG_S11=147,c.ARM64_REG_S12=148,c.ARM64_REG_S13=149,c.ARM64_REG_S14=150,c.ARM64_REG_S15=151,c.ARM64_REG_S16=152,c.ARM64_REG_S17=153,c.ARM64_REG_S18=154,c.ARM64_REG_S19=155,c.ARM64_REG_S20=156,c.ARM64_REG_S21=157,c.ARM64_REG_S22=158,c.ARM64_REG_S23=159,c.ARM64_REG_S24=160,c.ARM64_REG_S25=161,c.ARM64_REG_S26=162,c.ARM64_REG_S27=163,c.ARM64_REG_S28=164,c.ARM64_REG_S29=165,c.ARM64_REG_S30=166,c.ARM64_REG_S31=167,c.ARM64_REG_W0=168,c.ARM64_REG_W1=169,c.ARM64_REG_W2=170,c.ARM64_REG_W3=171,c.ARM64_REG_W4=172,c.ARM64_REG_W5=173,c.ARM64_REG_W6=174,c.ARM64_REG_W7=175,c.ARM64_REG_W8=176,c.ARM64_REG_W9=177,c.ARM64_REG_W10=178,c.ARM64_REG_W11=179,c.ARM64_REG_W12=180,c.ARM64_REG_W13=181,c.ARM64_REG_W14=182,c.ARM64_REG_W15=183,c.ARM64_REG_W16=184,c.ARM64_REG_W17=185,c.ARM64_REG_W18=186,c.ARM64_REG_W19=187,c.ARM64_REG_W20=188,c.ARM64_REG_W21=189,c.ARM64_REG_W22=190,c.ARM64_REG_W23=191,c.ARM64_REG_W24=192,c.ARM64_REG_W25=193,c.ARM64_REG_W26=194,c.ARM64_REG_W27=195,c.ARM64_REG_W28=196,c.ARM64_REG_W29=197,c.ARM64_REG_W30=198,c.ARM64_REG_X0=199,c.ARM64_REG_X1=200,c.ARM64_REG_X2=201,c.ARM64_REG_X3=202,c.ARM64_REG_X4=203,c.ARM64_REG_X5=204,c.ARM64_REG_X6=205,c.ARM64_REG_X7=206,c.ARM64_REG_X8=207,c.ARM64_REG_X9=208,c.ARM64_REG_X10=209,c.ARM64_REG_X11=210,c.ARM64_REG_X12=211,c.ARM64_REG_X13=212,c.ARM64_REG_X14=213,c.ARM64_REG_X15=214,c.ARM64_REG_X16=215,c.ARM64_REG_X17=216,c.ARM64_REG_X18=217,c.ARM64_REG_X19=218,c.ARM64_REG_X20=219,c.ARM64_REG_X21=220,c.ARM64_REG_X22=221,c.ARM64_REG_X23=222,c.ARM64_REG_X24=223,c.ARM64_REG_X25=224,c.ARM64_REG_X26=225,c.ARM64_REG_X27=226,c.ARM64_REG_X28=227,c.ARM64_REG_V0=228,c.ARM64_REG_V1=229,c.ARM64_REG_V2=230,c.ARM64_REG_V3=231,c.ARM64_REG_V4=232,c.ARM64_REG_V5=233,c.ARM64_REG_V6=234,c.ARM64_REG_V7=235,c.ARM64_REG_V8=236,c.ARM64_REG_V9=237,c.ARM64_REG_V10=238,c.ARM64_REG_V11=239,c.ARM64_REG_V12=240,c.ARM64_REG_V13=241,c.ARM64_REG_V14=242,c.ARM64_REG_V15=243,c.ARM64_REG_V16=244,c.ARM64_REG_V17=245,c.ARM64_REG_V18=246,c.ARM64_REG_V19=247,c.ARM64_REG_V20=248,c.ARM64_REG_V21=249,c.ARM64_REG_V22=250,c.ARM64_REG_V23=251,c.ARM64_REG_V24=252,c.ARM64_REG_V25=253,c.ARM64_REG_V26=254,c.ARM64_REG_V27=255,c.ARM64_REG_V28=256,c.ARM64_REG_V29=257,c.ARM64_REG_V30=258,c.ARM64_REG_V31=259,c.ARM64_REG_PC=260,c.ARM64_REG_CPACR_EL1=261,c.ARM64_REG_TPIDR_EL0=262,c.ARM64_REG_TPIDRRO_EL0=263,c.ARM64_REG_TPIDR_EL1=264,c.ARM64_REG_PSTATE=265,c.ARM64_REG_ELR_EL0=266,c.ARM64_REG_ELR_EL1=267,c.ARM64_REG_ELR_EL2=268,c.ARM64_REG_ELR_EL3=269,c.ARM64_REG_SP_EL0=270,c.ARM64_REG_SP_EL1=271,c.ARM64_REG_SP_EL2=272,c.ARM64_REG_SP_EL3=273,c.ARM64_REG_TTBR0_EL1=274,c.ARM64_REG_TTBR1_EL1=275,c.ARM64_REG_ESR_EL0=276,c.ARM64_REG_ESR_EL1=277,c.ARM64_REG_ESR_EL2=278,c.ARM64_REG_ESR_EL3=279,c.ARM64_REG_FAR_EL0=280,c.ARM64_REG_FAR_EL1=281,c.ARM64_REG_FAR_EL2=282,c.ARM64_REG_FAR_EL3=283,c.ARM64_REG_PAR_EL1=284,c.ARM64_REG_MAIR_EL1=285,c.ARM64_REG_VBAR_EL0=286,c.ARM64_REG_VBAR_EL1=287,c.ARM64_REG_VBAR_EL2=288,c.ARM64_REG_VBAR_EL3=289,c.ARM64_REG_ENDING=290,c.ARM64_REG_IP0=215,c.ARM64_REG_IP1=216,c.ARM64_REG_FP=1,c.ARM64_REG_LR=2;var pn=4194304,at=32768,$e=32781,Mt=32788,jt=2097152,Kt=3670016,wn=4128768,Pn="https://linkungao.github.io/copper3d_examples/kiwrious-config/prog.bin";function Xn(rn){Pn=rn}var Br=function(){function rn(){U(this,rn),Z(this,"machine",void 0)}return G(rn,[{key:"loadBinary",value:function(){var mn=L(te().mark(function Un(){var En,Bt;return te().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,fetch(Pn);case 2:return En=W.sent,W.next=5,En.arrayBuffer();case 5:return Bt=W.sent,W.abrupt("return",new Uint8Array(Bt));case 7:case"end":return W.stop()}},Un)}));function Ve(){return mn.apply(this,arguments)}return Ve}()},{key:"setupEmulator",value:function(){var mn=L(te().mark(function Un(){var En,Bt,ue;return te().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,lt();case 2:return En=new c.Unicorn(c.ARCH_ARM,c.MODE_THUMB),Y.next=5,this.loadBinary();case 5:return Bt=Y.sent,En.mem_map(0,pn,c.PROT_ALL),En.mem_write(at,Bt),ue=En.reg_read_i32(c.ARM_REG_C1_C0_2),ue=ue|15728640,En.reg_write_i32(c.ARM_REG_C1_C0_2,ue),En.reg_write_i32(c.ARM_REG_D16,4294906129),En.reg_write_i32(c.ARM_REG_FPEXC,1073741824),Y.abrupt("return",En);case 14:case"end":return Y.stop()}},Un,this)}));function Ve(){return mn.apply(this,arguments)}return Ve}()},{key:"analyzeResult",value:function(Ve){var Un=new DataView(Ve.buffer,0),En=Un.getUint32(0,!0),Bt=Un.getUint32(4,!0),ue=Un.getUint32(8,!0),W=Un.getUint32(12,!0),Y="";return En===4?Y="Not Touched":En===48?Y="Ready":En===0?Y="Calculating":Y="Unknown",{status:Y,heartrate:Bt,trustlevel:ue,snr:W}}},{key:"detectHeartRate",value:function(){var mn=L(te().mark(function Un(En){var Bt;return te().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(this.machine){W.next=4;break}return W.next=3,this.setupEmulator();case 3:this.machine=W.sent;case 4:return this.machine.mem_write(Kt,En),this.machine.reg_write_i32(c.ARM_REG_SP,jt),this.machine.reg_write_i32(c.ARM_REG_LR,$e),this.machine.emu_start($e,Mt,0,33554431),Bt=this.machine.mem_read(wn,16),W.abrupt("return",this.analyzeResult(Bt));case 10:case"end":return W.stop()}},Un,this)}));function Ve(Un){return mn.apply(this,arguments)}return Ve}()}]),rn}()})(),w})())},"./node_modules/jsfft/dist/complex_array.js":(f,m)=>{Object.defineProperty(m,"__esModule",{value:!0});var _=function(){function S(x,P){for(var O=0;O<P.length;O++){var k=P[O];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,P,O){return P&&S(x.prototype,P),O&&S(x,O),x}}();function A(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}var w=function(){function S(x){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Float32Array;A(this,S),x instanceof S?(this.ArrayType=x.ArrayType,this.real=new this.ArrayType(x.real),this.imag=new this.ArrayType(x.imag)):(this.ArrayType=P,this.real=new this.ArrayType(x),this.imag=new this.ArrayType(this.real.length)),this.length=this.real.length}return _(S,[{key:"toString",value:function(){var P=[];return this.forEach(function(O,k){P.push("("+O.real.toFixed(2)+", "+O.imag.toFixed(2)+")")}),"["+P.join(", ")+"]"}},{key:"forEach",value:function(P){for(var O=this.length,k=Object.seal(Object.defineProperties({},{real:{writable:!0},imag:{writable:!0}})),L=0;L<O;L++)k.real=this.real[L],k.imag=this.imag[L],P(k,L,O)}},{key:"map",value:function(P){var O=this;return this.forEach(function(k,L,U){P(k,L,U),O.real[L]=k.real,O.imag[L]=k.imag}),this}},{key:"conjugate",value:function(){return new S(this).map(function(P){P.imag*=-1})}},{key:"magnitude",value:function(){var P=new this.ArrayType(this.length);return this.forEach(function(O,k){P[k]=Math.sqrt(O.real*O.real+O.imag*O.imag)}),P}}]),S}();m.default=w},"./node_modules/jsfft/dist/fft.js":(f,m,_)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.ComplexArray=void 0;var A=function(){function be(Te,Je){for(var it=0;it<Je.length;it++){var tt=Je[it];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(Te,tt.key,tt)}}return function(Te,Je,it){return Je&&be(Te.prototype,Je),it&&be(Te,it),Te}}();m.FFT=Q,m.InvFFT=G,m.frequencyMap=Z;var w=_("./node_modules/jsfft/dist/complex_array.js"),S=x(w);function x(be){return be&&be.__esModule?be:{default:be}}function P(be,Te){if(!(be instanceof Te))throw new TypeError("Cannot call a class as a function")}function O(be,Te){if(!be)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Te&&(typeof Te=="object"||typeof Te=="function")?Te:be}function k(be,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Te);be.prototype=Object.create(Te&&Te.prototype,{constructor:{value:be,enumerable:!1,writable:!0,configurable:!0}}),Te&&(Object.setPrototypeOf?Object.setPrototypeOf(be,Te):be.__proto__=Te)}var L=Math.PI,U=Math.SQRT1_2;function Q(be){return te(be).FFT()}function G(be){return te(be).InvFFT()}function Z(be,Te){return te(be).frequencyMap(Te)}var X=m.ComplexArray=function(be){k(Te,be);function Te(){return P(this,Te),O(this,(Te.__proto__||Object.getPrototypeOf(Te)).apply(this,arguments))}return A(Te,[{key:"FFT",value:function(){return ae(this,!1)}},{key:"InvFFT",value:function(){return ae(this,!0)}},{key:"frequencyMap",value:function(it){return this.FFT().map(it).InvFFT()}}]),Te}(S.default);function te(be){return be instanceof X&&be||new X(be)}function ae(be,Te){var Je=be.length;return Je&Je-1?j(be,Te):ge(be,Te)}function j(be,Te){var Je=be.length;if(Je===1)return be;for(var it=new X(Je,be.ArrayType),tt=je(Je),Me=Je/tt,lt=1/Math.sqrt(tt),mt=new X(Me,be.ArrayType),ft=0;ft<tt;ft++){for(var gt=0;gt<Me;gt++)mt.real[gt]=be.real[gt*tt+ft],mt.imag[gt]=be.imag[gt*tt+ft];Me>1&&(mt=ae(mt,Te));for(var Qt=Math.cos(2*L*ft/Je),c=(Te?-1:1)*Math.sin(2*L*ft/Je),pn=1,at=0,$e=0;$e<Je;$e++){var Mt=mt.real[$e%Me],jt=mt.imag[$e%Me];it.real[$e]+=pn*Mt-at*jt,it.imag[$e]+=pn*jt+at*Mt;var Kt=[pn*Qt-at*c,at=pn*c+at*Qt];pn=Kt[0],at=Kt[1]}}for(var wn=0;wn<Je;wn++)be.real[wn]=lt*it.real[wn],be.imag[wn]=lt*it.imag[wn];return be}function ge(be,Te){for(var Je=be.length,it=Le(be),tt=it.real,Me=it.imag,lt=1;lt<Je;){for(var mt=Math.cos(L/lt),ft=(Te?-1:1)*Math.sin(L/lt),gt=0;gt<Je/(2*lt);gt++)for(var Qt=1,c=0,pn=0;pn<lt;pn++){var at=2*gt*lt+pn,$e=at+lt,Mt=tt[at],jt=Me[at],Kt=Qt*tt[$e]-c*Me[$e],wn=c*tt[$e]+Qt*Me[$e];tt[at]=U*(Mt+Kt),Me[at]=U*(jt+wn),tt[$e]=U*(Mt-Kt),Me[$e]=U*(jt-wn);var Pn=[Qt*mt-c*ft,Qt*ft+c*mt];Qt=Pn[0],c=Pn[1]}lt<<=1}return it}function we(be,Te){for(var Je=0;Te>1;)Je<<=1,Je+=be&1,be>>=1,Te>>=1;return Je}function Le(be){for(var Te=be.length,Je=new Set,it=0;it<Te;it++){var tt=we(it,Te);if(!Je.has(it)){var Me=[be.real[tt],be.real[it]];be.real[it]=Me[0],be.real[tt]=Me[1];var lt=[be.imag[tt],be.imag[it]];be.imag[it]=lt[0],be.imag[tt]=lt[1],Je.add(tt)}}return be}function je(be){for(var Te=Math.sqrt(be),Je=3;Je<=Te;){if(be%Je===0)return Je;Je+=2}return be}},"./ts/kiwrious/service/serial/HeartRateProcessor.ts":(f,m,_)=>{_.r(m),_.d(m,{HEART_RATE_RESULT_STATUS:()=>Q,HeartRateProcessor:()=>X});var A=function(te,ae,j){if(j||arguments.length===2)for(var ge=0,we=ae.length,Le;ge<we;ge++)(Le||!(ge in ae))&&(Le||(Le=Array.prototype.slice.call(ae,0,ge)),Le[ge]=ae[ge]);return te.concat(Le||Array.prototype.slice.call(ae))},w=_("./node_modules/jsfft/dist/fft.js"),S=3e5,x=9e5,P=200,O=2048,k=100,L=[[[1,0,-1],[1,-1.9794,.9847]],[[1,0,-1],[1,-1.9948,.9953]],[[1,0,-1],[1,-1.9537,.9583]],[[1,0,-1],[1,-1.9849,.9855]],[[1,0,-1],[1,-1.973,.9737]],[[1,0,-1],[1,-1.9392,.9426]],[[1,0,-1],[1,-1.9571,.9583]],[[1,0,-1],[1,-1.941,.9432]]],U=[.0256,.0256,.0254,.0254,.0252,.0252,.0251,.0251,1],Q={TOO_LOW:"TOO_LOW",TOO_HIGH:"TOO_HIGH",PROCESSING:"PROCESSING",READY:"READY"},G=function(){function te(ae){this._size=ae,this._array=[],this._sum=0}return te.prototype._log=function(){for(var ae=[],j=0;j<arguments.length;j++)ae[j]=arguments[j];console.log.apply(console,A(["|FixedArray|"],ae,!1))},Object.defineProperty(te.prototype,"isAverageReady",{get:function(){return this._array.length>=this._size},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"average",{get:function(){return te.calcAverage(this._sum,this._array.length)},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"array",{get:function(){return this._array},enumerable:!1,configurable:!0}),te.prototype._cleanup=function(){for(;this._array.length>this._size;){var ae=this._array.shift();ae&&(this._sum-=ae)}},te.prototype._add=function(ae){this._array.push(ae),this._sum+=ae},te.prototype.add=function(ae){this._add(ae),this._cleanup()},te.prototype.addItems=function(ae){for(var j=0,ge=ae;j<ge.length;j++){var we=ge[j];this._add(we)}this._cleanup()},te.calcSum=function(ae){return ae.reduce(function(j,ge){return j+ge},0)},te.calcAverage=function(ae,j){return j?ae/j:0},te.createSteppedArray=function(ae,j,ge){for(var we=[],Le=(j-ae)/(ge-1),je=0;je<ge;je++)we.push(ae+Le*je);return we},te}(),Z=function(){function te(ae,j,ge,we){this.b=ae,this.a=j,this.g1=ge,this.g2=we,this.w=[1,1,1]}return te.prototype._log=function(){for(var ae=[],j=0;j<arguments.length;j++)ae[j]=arguments[j];console.log.apply(console,A(["|Biquad|"],ae,!1))},te.prototype.updateFilter=function(ae){var j=ae*this.g1;this.w[2]=this.w[1],this.w[1]=this.w[0],this.w[0]=j-this.a[1]*this.w[1]-this.a[2]*this.w[2];var ge=this.b[0]*this.w[0]+this.b[1]*this.w[1]+this.b[2]*this.w[2],we=ge*this.g2;return we},te}(),X=function(){function te(){this._log("ctor"),this._initFilters();var ae=Math.floor(P/2);this._resultArray=new G(k),this._inputArray=new G(O);var j=O,ge=Math.floor(j/2);this._xf=G.createSteppedArray(0,ae,ge)}return te.prototype._log=function(){for(var ae=[],j=0;j<arguments.length;j++)ae[j]=arguments[j];console.log.apply(console,A(["|HeartRateProcessor|"],ae,!1))},te.prototype._initFilters=function(){this._filters=L.map(function(ae,j){return new Z(ae[0],ae[1],U[j],1)})},te.prototype.getStatusForInput=function(ae){return ae<S?Q.TOO_LOW:ae>x?Q.TOO_HIGH:Q.PROCESSING},te.prototype.processSingleInput=function(ae){var j=this.getStatusForInput(ae);if(j!==Q.PROCESSING){var ge={status:j};return ge}this._inputArray.add(ae);var we=this.process();if(!we){var Le={status:Q.PROCESSING};return Le}var je={status:Q.READY,value:we};return je},te.prototype.processMultiInput=function(ae){for(var j=0,ge=ae;j<ge.length;j++){var we=ge[j],Le=this.getStatusForInput(we);if(Le!==Q.PROCESSING){var je={status:Le};return je}}this._inputArray.addItems(ae);var be=this.process();if(!be){var Te={status:Q.PROCESSING};return Te}var Je={status:Q.READY,value:be};return Je},te.prototype.process=function(){if(!this._inputArray.isAverageReady)return null;var ae=this._process(this._inputArray);return!ae||(this._resultArray.add(ae),!this._resultArray.isAverageReady)?null:this._resultArray.average},te.prototype._process=function(ae){var j=this;if(!ae.isAverageReady)throw new Error("average is not ready. arr len: ".concat(ae.array.length));for(var ge=ae.array.map(function(Me){var lt=Me-ae.average;return j._updateAllFilters(lt)}),we=new w.ComplexArray(ge.length).map(function(Me,lt,mt){Me.real=ge[lt]}),Le=we.FFT(),je=Le.magnitude(),be=0,Te=0,Je=0;Je<je.length/2;Je++){var it=je[Je];it>be&&(be=it,Te=Je)}var tt=this._xf[Te]*60;return tt},te.prototype._updateAllFilters=function(ae){for(var j,ge=ae,we=0,Le=this._filters;we<Le.length;we++){var je=Le[we];j=je.updateFilter(ge),ge=j}return j},te}()},"./ts/kiwrious/service/serial/SerialDecoder.ts":(f,m,_)=>{_.r(m),_.d(m,{SerialDecoder:()=>w});var A=function(S,x,P){if(P||arguments.length===2)for(var O=0,k=x.length,L;O<k;O++)(L||!(O in x))&&(L||(L=Array.prototype.slice.call(x,0,O)),L[O]=x[O]);return S.concat(L||Array.prototype.slice.call(x))},w=function(){function S(){}return S.prototype._log=function(){for(var x=[],P=0;P<arguments.length;P++)x[P]=arguments[P];console.log.apply(console,A(["|SerialDecoder|"],x,!1))},S.prototype._err=function(){for(var x=[],P=0;P<arguments.length;P++)x[P]=arguments[P];console.error.apply(console,A(["|SerialDecoder|"],x,!1))},S}()},"./ts/kiwrious/service/serial/SerialHeartRateDecoder.ts":(f,m,_)=>{_.r(m),_.d(m,{SerialHeartRateDecoder:()=>Q});var A=_("./ts/kiwrious/service/serial/HeartRateProcessor.ts"),w=_("./ts/kiwrious/service/serial/SerialDecoder.ts"),S=_("./ts/kiwrious/service/serial/SerialRawValue.ts"),x=_("./ts/kiwrious/service/serial/SerialUtil.ts"),P=_("./node_modules/copper3d_plugin_heartjs_config/dist/copper3d_plugin_heartjs_config.js"),O=function(){var G=function(Z,X){return G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,ae){te.__proto__=ae}||function(te,ae){for(var j in ae)Object.prototype.hasOwnProperty.call(ae,j)&&(te[j]=ae[j])},G(Z,X)};return function(Z,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");G(Z,X);function te(){this.constructor=Z}Z.prototype=X===null?Object.create(X):(te.prototype=X.prototype,new te)}}(),k=function(G,Z,X,te){function ae(j){return j instanceof X?j:new X(function(ge){ge(j)})}return new(X||(X=Promise))(function(j,ge){function we(be){try{je(te.next(be))}catch(Te){ge(Te)}}function Le(be){try{je(te.throw(be))}catch(Te){ge(Te)}}function je(be){be.done?j(be.value):ae(be.value).then(we,Le)}je((te=te.apply(G,Z||[])).next())})},L=function(G,Z){var X={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},te,ae,j,ge;return ge={next:we(0),throw:we(1),return:we(2)},typeof Symbol=="function"&&(ge[Symbol.iterator]=function(){return this}),ge;function we(je){return function(be){return Le([je,be])}}function Le(je){if(te)throw new TypeError("Generator is already executing.");for(;X;)try{if(te=1,ae&&(j=je[0]&2?ae.return:je[0]?ae.throw||((j=ae.return)&&j.call(ae),0):ae.next)&&!(j=j.call(ae,je[1])).done)return j;switch(ae=0,j&&(je=[je[0]&2,j.value]),je[0]){case 0:case 1:j=je;break;case 4:return X.label++,{value:je[1],done:!1};case 5:X.label++,ae=je[1],je=[0];continue;case 7:je=X.ops.pop(),X.trys.pop();continue;default:if(j=X.trys,!(j=j.length>0&&j[j.length-1])&&(je[0]===6||je[0]===2)){X=0;continue}if(je[0]===3&&(!j||je[1]>j[0]&&je[1]<j[3])){X.label=je[1];break}if(je[0]===6&&X.label<j[1]){X.label=j[1],j=je;break}if(j&&X.label<j[2]){X.label=j[2],X.ops.push(je);break}j[2]&&X.ops.pop(),X.trys.pop();continue}je=Z.call(G,X)}catch(be){je=[6,be],ae=0}finally{te=j=0}if(je[0]&5)throw je[1];return{value:je[0]?je[1]:void 0,done:!0}}},U=function(G,Z,X){if(X||arguments.length===2)for(var te=0,ae=Z.length,j;te<ae;te++)(j||!(te in Z))&&(j||(j=Array.prototype.slice.call(Z,0,te)),j[te]=Z[te]);return G.concat(j||Array.prototype.slice.call(Z))},Q=function(G){O(Z,G);function Z(){var X=G.call(this)||this;return X._processor=new A.HeartRateProcessor,X._detector=new P.HeartRateDetector,X}return Z.prototype._log=function(){for(var X=[],te=0;te<arguments.length;te++)X[te]=arguments[te];console.log.apply(console,U(["|SerialHeartRateDecoder|"],X,!1))},Z.prototype.decode=function(X){return k(this,void 0,void 0,function(){var te,ae,j,ge,we;return L(this,function(Le){switch(Le.label){case 0:return te=X.map(function(je){return je.rawValue.subarray(6,22)}),ae=x.SerialUtil.concatMultiArrays(te),[4,this._detector.detectHeartRate(ae)];case 1:return j=Le.sent(),this._log("heartrate-result",j),ge={label:S.SENSOR_VALUE.HEART_RATE,value:j,type:"object"},we={sensorType:X[0].sensorType,decodedValues:[ge]},[2,we]}})})},Z}(w.SerialDecoder)},"./ts/kiwrious/service/serial/SerialHexValue.ts":(f,m,_)=>{_.r(m),_.d(m,{SerialHexValue:()=>A,SerialNumberValue:()=>w});var A=function(){function S(x){this.rawHexValue=x}return S.prototype.toFloat=function(){var x=Number(this.rawHexValue),P=x&2147483648?-1:1,O=(x>>23&255)-127,k=1+(x&8388607)/8388607;return P*k*Math.pow(2,O)},S.prototype.toInt=function(){return Number(parseInt(this.rawHexValue).toFixed())},S.prototype.divideByHundred=function(){return Number((parseInt(this.rawHexValue)/100).toFixed())},S}(),w=function(){function S(x){this._raw=x}return Object.defineProperty(S.prototype,"value",{get:function(){return this._raw},enumerable:!1,configurable:!0}),S.prototype.toInt=function(){return Number(this._raw.toFixed())},S.prototype.divideByHundred=function(){return Number((this._raw/100).toFixed())},S}()},"./ts/kiwrious/service/serial/SerialRawValue.ts":(f,m,_)=>{_.r(m),_.d(m,{SENSOR_TYPE:()=>w,SENSOR_VALUE:()=>S,SerialRawValue:()=>x});var A=_("./ts/kiwrious/service/serial/SerialHexValue.ts"),w={UNKNOWN:"UNKNOWN",UV:"UV",HUMIDITY:"HUMIDITY",VOC:"VOC",CONDUCTIVITY:"CONDUCTIVITY",HEART_RATE:"HEART_RATE",TEMPERATURE:"TEMPERATURE",TEMPERATURE2:"TEMPERATURE2"},S={UNKNOWN:"UNKNOWN",UV_INDEX:"Uv",LUX:"Lux",HUMIDITY:"Hum",TEMPERATURE:"Temp",VOC:"Voc",CONDUCTIVITY:"Con",HEART_RATE:"HeartRate",INFRARED_TEMPERATURE:"InfraredTemp",AMBIENT_TEMPERATURE:"AmbientTemp"},x=function(){function P(O){if(this.rawValue=O,this.dataView=new DataView(O.buffer),!this.isValidLength)throw new Error("invalid array length. expected [] but got [".concat(O.length,"]"))}return Object.defineProperty(P.prototype,"isValidLength",{get:function(){return this.rawValue.length===26},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"sensorTypeRaw",{get:function(){return this.rawValue[2]},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"header2Bytes",{get:function(){return this.getTwoBytesByIndex(0)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"sequence2Bytes",{get:function(){return this.getTwoBytesByIndex(22)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"footer2Bytes",{get:function(){return this.getTwoBytesByIndex(24)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"sensorType",{get:function(){switch(this.sensorTypeRaw){case 10:return w.HEART_RATE;default:throw new Error("invalid sensor type ".concat(this.sensorTypeRaw))}},enumerable:!1,configurable:!0}),P.prototype.getTwoBytesSignedByIndex=function(O){var k=this.dataView.getInt16(O,!0);return k},P.prototype.getTwoBytesUnsignedByIndex=function(O){var k=this.dataView.getUint16(O,!0);return k},P.prototype.getTwoBytesByIndex=function(O){var k=this.dataView.getUint16(O,!0);return k},P.prototype.getFourBytesByIndex=function(O){var k=this.dataView.getUint32(O,!0);return k},P.prototype.getFourBytesFloatByIndex=function(O){var k=this.dataView.getFloat32(O,!0);return k},P.prototype.sliceBytes=function(O,k){if(O+k>this.rawValue.length)throw new Error("invalid index [".concat(O,"] for array length [").concat(this.rawValue.length,"]"));var L=this.rawValue.slice(O,O+k);return L},P.prototype.getByteByIndex=function(O){if(O>=this.rawValue.length)throw new Error("invalid index [".concat(O,"] for array length [").concat(this.rawValue.length,"]"));var k=this.rawValue[O];return k},P.prototype.getHexDigitByIndex=function(O){if(O>=this.rawValue.length)throw new Error("invalid index [".concat(O,"] for array length [").concat(this.rawValue.length,"]"));var k=this.rawValue[O].toString(16).padStart(2,"0");return k},P.prototype.getHexString2=function(O,k){var L=this.getHexDigitByIndex(O),U=this.getHexDigitByIndex(k),Q="0x".concat(L).concat(U);return new A.SerialHexValue(Q)},P.prototype.getHexString4=function(O,k,L,U){var Q=this.getHexDigitByIndex(O),G=this.getHexDigitByIndex(k),Z=this.getHexDigitByIndex(L),X=this.getHexDigitByIndex(U),te="0x".concat(Q).concat(G).concat(Z).concat(X);return new A.SerialHexValue(te)},P}()},"./ts/kiwrious/service/serial/SerialReader.ts":(f,m,_)=>{_.r(m),_.d(m,{SerialReader:()=>k});var A=_("./ts/kiwrious/service/serial/SerialRawValue.ts"),w=_("./ts/kiwrious/service/serial/SerialUtil.ts"),S=function(L,U,Q,G){function Z(X){return X instanceof Q?X:new Q(function(te){te(X)})}return new(Q||(Q=Promise))(function(X,te){function ae(we){try{ge(G.next(we))}catch(Le){te(Le)}}function j(we){try{ge(G.throw(we))}catch(Le){te(Le)}}function ge(we){we.done?X(we.value):Z(we.value).then(ae,j)}ge((G=G.apply(L,U||[])).next())})},x=function(L,U){var Q={label:0,sent:function(){if(X[0]&1)throw X[1];return X[1]},trys:[],ops:[]},G,Z,X,te;return te={next:ae(0),throw:ae(1),return:ae(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function ae(ge){return function(we){return j([ge,we])}}function j(ge){if(G)throw new TypeError("Generator is already executing.");for(;Q;)try{if(G=1,Z&&(X=ge[0]&2?Z.return:ge[0]?Z.throw||((X=Z.return)&&X.call(Z),0):Z.next)&&!(X=X.call(Z,ge[1])).done)return X;switch(Z=0,X&&(ge=[ge[0]&2,X.value]),ge[0]){case 0:case 1:X=ge;break;case 4:return Q.label++,{value:ge[1],done:!1};case 5:Q.label++,Z=ge[1],ge=[0];continue;case 7:ge=Q.ops.pop(),Q.trys.pop();continue;default:if(X=Q.trys,!(X=X.length>0&&X[X.length-1])&&(ge[0]===6||ge[0]===2)){Q=0;continue}if(ge[0]===3&&(!X||ge[1]>X[0]&&ge[1]<X[3])){Q.label=ge[1];break}if(ge[0]===6&&Q.label<X[1]){Q.label=X[1],X=ge;break}if(X&&Q.label<X[2]){Q.label=X[2],Q.ops.push(ge);break}X[2]&&Q.ops.pop(),Q.trys.pop();continue}ge=U.call(L,Q)}catch(we){ge=[6,we],Z=0}finally{G=X=0}if(ge[0]&5)throw ge[1];return{value:ge[0]?ge[1]:void 0,done:!0}}},P=function(L,U,Q){if(Q||arguments.length===2)for(var G=0,Z=U.length,X;G<Z;G++)(X||!(G in U))&&(X||(X=Array.prototype.slice.call(U,0,G)),X[G]=U[G]);return L.concat(X||Array.prototype.slice.call(U))},O=26,k=function(){function L(U){this._reader=U,this._array=new Uint8Array}return L.prototype._log=function(){for(var U=[],Q=0;Q<arguments.length;Q++)U[Q]=arguments[Q];console.log.apply(console,P(["|SerialReader|"],U,!1))},L.prototype._err=function(){for(var U=[],Q=0;Q<arguments.length;Q++)U[Q]=arguments[Q];console.error.apply(console,P(["|SerialReader|"],U,!1))},L.prototype._read=function(){return S(this,void 0,void 0,function(){var U,Q,G,Z;return x(this,function(X){switch(X.label){case 0:if(this._array.length>=O)return U=this._array.subarray(0,O),this._array=this._array.subarray(O),[2,new A.SerialRawValue(U)];if(!this._reader)throw this._err("readLoop - no reader. returning"),new Error("no reader");return[4,this._reader.read()];case 1:if(Q=X.sent(),G=Q.value,Z=Q.done,Z)throw new Error("reader done");return G.length===O?(this._array=new Uint8Array,[2,new A.SerialRawValue(G.subarray(0))]):(this._array=w.SerialUtil.concatArray(this._array,G),[4,this.readOnce()]);case 2:return[2,X.sent()]}})})},L.prototype.readMultiple=function(U){return U===void 0&&(U=10),S(this,void 0,void 0,function(){var Q,G;return x(this,function(Z){switch(Z.label){case 0:Q=[],Z.label=1;case 1:return Q.length<U?[4,this._read()]:[3,3];case 2:return G=Z.sent(),Q.push(G),[3,1];case 3:return[2,Q]}})})},L.prototype.readOnce=function(){return S(this,void 0,void 0,function(){var U;return x(this,function(Q){switch(Q.label){case 0:return[4,this._read()];case 1:return U=Q.sent(),[2,U]}})})},L}()},"./ts/kiwrious/service/serial/SerialService.ts":(f,m,_)=>{_.r(m),_.d(m,{default:()=>L});var A=_("./ts/kiwrious/service/serial/SerialReader.ts"),w=_("./ts/kiwrious/service/serial/SerialHeartRateDecoder.ts"),S=function(U,Q,G,Z){function X(te){return te instanceof G?te:new G(function(ae){ae(te)})}return new(G||(G=Promise))(function(te,ae){function j(Le){try{we(Z.next(Le))}catch(je){ae(je)}}function ge(Le){try{we(Z.throw(Le))}catch(je){ae(je)}}function we(Le){Le.done?te(Le.value):X(Le.value).then(j,ge)}we((Z=Z.apply(U,Q||[])).next())})},x=function(U,Q){var G={label:0,sent:function(){if(te[0]&1)throw te[1];return te[1]},trys:[],ops:[]},Z,X,te,ae;return ae={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(ae[Symbol.iterator]=function(){return this}),ae;function j(we){return function(Le){return ge([we,Le])}}function ge(we){if(Z)throw new TypeError("Generator is already executing.");for(;G;)try{if(Z=1,X&&(te=we[0]&2?X.return:we[0]?X.throw||((te=X.return)&&te.call(X),0):X.next)&&!(te=te.call(X,we[1])).done)return te;switch(X=0,te&&(we=[we[0]&2,te.value]),we[0]){case 0:case 1:te=we;break;case 4:return G.label++,{value:we[1],done:!1};case 5:G.label++,X=we[1],we=[0];continue;case 7:we=G.ops.pop(),G.trys.pop();continue;default:if(te=G.trys,!(te=te.length>0&&te[te.length-1])&&(we[0]===6||we[0]===2)){G=0;continue}if(we[0]===3&&(!te||we[1]>te[0]&&we[1]<te[3])){G.label=we[1];break}if(we[0]===6&&G.label<te[1]){G.label=te[1],te=we;break}if(te&&G.label<te[2]){G.label=te[2],G.ops.push(we);break}te[2]&&G.ops.pop(),G.trys.pop();continue}we=Q.call(U,G)}catch(Le){we=[6,Le],X=0}finally{Z=te=0}if(we[0]&5)throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}},P=function(U,Q,G){if(G||arguments.length===2)for(var Z=0,X=Q.length,te;Z<X;Z++)(te||!(Z in Q))&&(te||(te=Array.prototype.slice.call(Q,0,Z)),te[Z]=Q[Z]);return U.concat(te||Array.prototype.slice.call(Q))},O=function(){function U(){this._isConnected=!1,this._isReading=!1,this._log("ctor")}return U.prototype._log=function(){for(var Q=[],G=0;G<arguments.length;G++)Q[G]=arguments[G];console.log.apply(console,P(["|SerialService|"],Q,!1))},U.prototype._err=function(){for(var Q=[],G=0;G<arguments.length;G++)Q[G]=arguments[G];console.error.apply(console,P(["|SerialService|"],Q,!1))},Object.defineProperty(U.prototype,"isReading",{get:function(){return this._isReading},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"canResumeReading",{get:function(){return!!this._port},enumerable:!1,configurable:!0}),U.prototype.triggerStopReading=function(){this._isReading=!1},U.prototype.closeReader=function(){if(this._log("closing reader.."),!this._reader){this._log("no reader found. exiting..");return}this.triggerStopReading(),this._log("cancelling.."),this._reader.cancel(),this._log("releasing lock.."),this._reader.releaseLock(),this._reader=null,this._log("reader closed")},U.prototype.closePortAsync=function(){return S(this,void 0,void 0,function(){var Q;return x(this,function(G){switch(G.label){case 0:if(this._log("closing port.."),!this._port)return this._log("no port found. exiting.."),[2];this._isConnected=!1,G.label=1;case 1:return G.trys.push([1,3,,4]),[4,this._port.close()];case 2:return G.sent(),this._log("port closed"),[3,4];case 3:return Q=G.sent(),this._err("failed to close port",Q),[3,4];case 4:return this.onSerialConnection&&this.onSerialConnection(this._isConnected),[2]}})})},U.prototype.resumeReading=function(){return S(this,void 0,void 0,function(){return x(this,function(Q){switch(Q.label){case 0:return this._log("resume reading.."),this._port?[3,2]:(this._log("port not found, restarting.."),[4,this.connectAndReadAsync()]);case 1:return Q.sent(),[2];case 2:return[4,this.startStage2ConnectPortAsync(this._port)];case 3:return[2,Q.sent()]}})})},U.prototype.disconnectAsync=function(){return S(this,void 0,void 0,function(){var Q=this;return x(this,function(G){return this._log("disconnecting.."),this.triggerStopReading(),setTimeout(function(){return S(Q,void 0,void 0,function(){return x(this,function(Z){switch(Z.label){case 0:return[4,this.stopStage2ClosePortAsync()];case 1:return Z.sent(),[2]}})})},0),[2]})})},U.prototype.connectAndReadAsync=function(){return S(this,void 0,void 0,function(){var Q;return x(this,function(G){switch(G.label){case 0:return this._log("connect and read.."),[4,this.startStage1RequestPortAsync()];case 1:return Q=G.sent(),Q?[4,this.startStage2ConnectPortAsync(Q)]:(this._err("unable to request port"),[2]);case 2:return[2,G.sent()]}})})},U.prototype.startStage1RequestPortAsync=function(){return S(this,void 0,void 0,function(){var Q,G,Z=this;return x(this,function(X){switch(X.label){case 0:return Q=navigator.serial,Q?(Q.onconnect=function(){Z._log("serial connect")},Q.ondisconnect=function(){return S(Z,void 0,void 0,function(){return x(this,function(te){switch(te.label){case 0:return this._log("serial disconnect"),[4,this.disconnectAsync()];case 1:return te.sent(),this._port=null,[2]}})})},this._log("requesting port.."),[4,Q.requestPort({filters:[{usbVendorId:1240,vendorId:1240},{usbVendorId:3368,usbProductId:516}]}).catch(function(te){Z._err("failed to serial.requestPort",te)})]):(alert("This feature only works on Chrome with 'Experimental Web Platform features' enabled"),[2,null]);case 1:return G=X.sent(),G?[2,G]:(this._err("unable to find port value"),[2,null])}})})},U.prototype.startStage2ConnectPortAsync=function(Q){return S(this,void 0,void 0,function(){var G;return x(this,function(Z){switch(Z.label){case 0:return this._log("startStage2ReadingAsync"),[4,this.connectPortAsync(Q)];case 1:return G=Z.sent(),G?(this._isConnected=!0,this._port=G.port,this._reader=G.reader,this.onSerialConnection&&this.onSerialConnection(this._isConnected),this.startReading(),[2]):(this._err("failed to connect"),[2])}})})},U.prototype.stopStage2ClosePortAsync=function(){return S(this,void 0,void 0,function(){return x(this,function(Q){switch(Q.label){case 0:return this._log("stopStage2ClosePortAsync"),this.closeReader(),[4,this.closePortAsync()];case 1:return Q.sent(),[2]}})})},U.prototype.connectPortAsync=function(Q){return S(this,void 0,void 0,function(){var G,Z,X=this;return x(this,function(te){switch(te.label){case 0:return G=Q.getInfo(),this._log("port info",G),Q.readable?(this._err("port is already readable"),[2,null]):(this._log("openning port.."),[4,Q.open({baudrate:230400,baudRate:230400}).catch(function(ae){X._err("failed to port.open",ae)})]);case 1:return te.sent(),Q.readable?(Z=Q.readable.getReader(),Z.locked?(this._err("reader is locked"),[2,null]):[2,{port:Q,reader:Z}]):(this._err("port is not readable.."),[2,null])}})})},U.prototype.startReading=function(){return S(this,void 0,void 0,function(){var Q,G,Z,X,te;return x(this,function(ae){switch(ae.label){case 0:ae.trys.push([0,5,6,7]),this._log("starting reader.."),Q=new A.SerialReader(this._reader),this._log("creating decoder.."),G=new w.SerialHeartRateDecoder,this._log("starting loop.."),this._isReading=!0,ae.label=1;case 1:return this._isReading?[4,Q.readMultiple(10)]:[3,4];case 2:return Z=ae.sent(),[4,G.decode(Z)];case 3:return X=ae.sent(),X&&this.onSerialData&&this.onSerialData(X),[3,1];case 4:return this._log("loop complete.."),[3,7];case 5:return te=ae.sent(),this._err("error reading loop startReading",te),[3,7];case 6:return this.stopStage2ClosePortAsync(),this._log("startReading complete"),[7];case 7:return[2]}})})},U}(),k=new O;const L=k},"./ts/kiwrious/service/serial/SerialUtil.ts":(f,m,_)=>{_.r(m),_.d(m,{SerialUtil:()=>A});var A=function(){function w(){}return w.concatArray=function(S,x){var P=new Uint8Array(S.length+x.length);return P.set(S,0),P.set(x,S.length),P},w.concatMultiArrays=function(S){var x=S.reduce(function(O,k){return O+k.length},0),P=new Uint8Array(x);return S.reduce(function(O,k){return P.set(k,O),O+k.length},0),P},w}()}},s={};function a(f){var m=s[f];if(m!==void 0)return m.exports;var _=s[f]={exports:{}};return r[f](_,_.exports,a),_.exports}a.n=f=>{var m=f&&f.__esModule?()=>f.default:()=>f;return a.d(m,{a:m}),m},a.d=(f,m)=>{for(var _ in m)a.o(m,_)&&!a.o(f,_)&&Object.defineProperty(f,_,{enumerable:!0,get:m[_]})},a.o=(f,m)=>Object.prototype.hasOwnProperty.call(f,m),a.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})};var u={};return(()=>{/*!********************!*\
  !*** ./ts/main.ts ***!
  \********************/a.r(u),a.d(u,{serialService:()=>f.default,setWasm:()=>m.setWasm,setBinUrl:()=>m.setBinUrl});var f=a("./ts/kiwrious/service/serial/SerialService.ts"),m=a("./node_modules/copper3d_plugin_heartjs_config/dist/copper3d_plugin_heartjs_config.js")})(),u})()})}),Qg=KC(vU),zy,Hy,Qy;Qg?(zy=Qg.serialService,Hy=Qg.setBinUrl,Qy=Qg.setWasm):(zy=void 0,Hy=void 0,Qy=void 0);var uu={serialService:zy,setBinUrl:Hy,setWasm:Qy};function _U(p,e,r,s,a,u){var f=this;uu.setBinUrl(r),uu.setWasm(s),p.onclick=function(){return y(f,void 0,void 0,function(){return b(this,function(m){switch(m.label){case 0:return p.disabled=!0,[4,uu.serialService.connectAndReadAsync()];case 1:return m.sent(),p.disabled=!1,[2]}})})},e.onclick=function(){return y(f,void 0,void 0,function(){return b(this,function(m){switch(m.label){case 0:return e.disabled=!0,[4,uu.serialService.disconnectAsync()];case 1:return m.sent(),e.disabled=!1,[2]}})})},uu.serialService.onSerialConnection=function(m){a(m)},uu.serialService.onSerialData=function(m){var _=m.decodedValues,A=_[0].value;u(A,A.status,A.heartrate)}}var Xg=_0(function(p,e){(function(r,s){s()})(Nd,function(){function r(A,w){return typeof w>"u"?w={autoBom:!1}:typeof w!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),w={autoBom:!w}),w.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(A.type)?new Blob(["\uFEFF",A],{type:A.type}):A}function s(A,w,S){var x=new XMLHttpRequest;x.open("GET",A),x.responseType="blob",x.onload=function(){_(x.response,w,S)},x.onerror=function(){console.error("could not download file")},x.send()}function a(A){var w=new XMLHttpRequest;w.open("HEAD",A,!1);try{w.send()}catch{}return 200<=w.status&&299>=w.status}function u(A){try{A.dispatchEvent(new MouseEvent("click"))}catch{var w=document.createEvent("MouseEvents");w.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),A.dispatchEvent(w)}}var f=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Nd=="object"&&Nd.global===Nd?Nd:void 0,m=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),_=f.saveAs||(typeof window!="object"||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!m?function(A,w,S){var x=f.URL||f.webkitURL,P=document.createElement("a");w=w||A.name||"download",P.download=w,P.rel="noopener",typeof A=="string"?(P.href=A,P.origin===location.origin?u(P):a(P.href)?s(A,w,S):u(P,P.target="_blank")):(P.href=x.createObjectURL(A),setTimeout(function(){x.revokeObjectURL(P.href)},4e4),setTimeout(function(){u(P)},0))}:"msSaveOrOpenBlob"in navigator?function(A,w,S){if(w=w||A.name||"download",typeof A!="string")navigator.msSaveOrOpenBlob(r(A,S),w);else if(a(A))s(A,w,S);else{var x=document.createElement("a");x.href=A,x.target="_blank",setTimeout(function(){u(x)})}}:function(A,w,S,x){if(x=x||open("","_blank"),x&&(x.document.title=x.document.body.innerText="downloading..."),typeof A=="string")return s(A,w,S);var P=A.type==="application/octet-stream",O=/constructor/i.test(f.HTMLElement)||f.safari,k=/CriOS\/[\d]+/.test(navigator.userAgent);if((k||P&&O||m)&&typeof FileReader<"u"){var L=new FileReader;L.onloadend=function(){var G=L.result;G=k?G:G.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=G:location=G,x=null},L.readAsDataURL(A)}else{var U=f.URL||f.webkitURL,Q=U.createObjectURL(A);x?x.location=Q:location.href=Q,x=null,setTimeout(function(){U.revokeObjectURL(Q)},4e4)}});f.saveAs=_.saveAs=_,p.exports=_})}),Jx=Object.freeze({__proto__:null,default:Xg,__moduleExports:Xg});function Xy(p,e){if(!!Jx&&!!Xg)Xg.saveAs(p,e);else if(Jx)(void 0)(p,e);else{var r=sX();r.saveAs(p,e)}}var AU=function(){function p(e){var r=this;this.paintImages={x:[],y:[],z:[]},this.allSlicesArray=[],this.displaySlices=[],this.backUpDisplaySlices=[],this.skipSlicesDic={},this.axis="z",this.mainAreaContainer=document.createElement("div"),this.showDragNumberDiv=document.createElement("div"),this.drawingCanvas=document.createElement("canvas"),this.displayCanvas=document.createElement("canvas"),this.downloadCanvas=document.createElement("canvas"),this.emptyCanvas=document.createElement("canvas"),this.downloadImage=document.createElement("a"),this.drawingCanvasLayerOne=document.createElement("canvas"),this.Is_Shift_Pressed=!1,this.Is_Draw=!1,this.sensitiveArray=[],this.handleWheelMove=function(){},this.start=function(){},this.undoArray=[],this.initState=!0,this.nrrd_states={originWidth:0,originHeight:0,nrrd_x_pixel:0,nrrd_y_pixel:0,nrrd_z_pixel:0,nrrd_x_centimeter:0,nrrd_y_centimeter:0,nrrd_z_centimeter:0,changedWidth:0,changedHeight:0,oldIndex:0,currentIndex:0,maxIndex:0,minIndex:0,RSARatio:0,voxelSpacing:[],dimensions:[],ratios:{x:1,y:1,z:1},sharedPlace:{x:[-1],y:[-1],z:[-1]},latestNotEmptyImg:new Image,contrastNum:0,Max_sensitive:100,readyToUpdate:!0,showContrast:!1,enableCursorChoose:!1,isCursorSelect:!1,cursorPageX:0,cursorPageY:0,Mouse_Over_x:0,Mouse_Over_y:0,Mouse_Over:!1,stepClear:1,sizeFoctor:1,defaultPaintCursor:"url(https://raw.githubusercontent.com/LinkunGao/copper3d-datasets/main/icons/dot.svg) 12 12,auto",drawStartPos:new Gn(1,1)},this.cursorPage={x:{cursorPageX:0,cursorPageY:0,index:0,updated:!1},y:{cursorPageX:0,cursorPageY:0,index:0,updated:!1},z:{cursorPageX:0,cursorPageY:0,index:0,updated:!1}},this.gui_states={mainAreaSize:1,dragSensitivity:75,Eraser:!1,globalAlpha:.7,lineWidth:2,color:"#f50a33",segmentation:!0,fillColor:"#3fac58",brushColor:"#3fac58",brushAndEraserSize:15,cursor:"dot",clear:function(){r.clearPaint()},clearAll:function(){var s="Are you sure remove annotations on All slice?";confirm(s)===!0&&(r.clearPaint(),r.clearStoreImages())},undo:function(){r.undoLastPainting()},downloadCurrentMask:function(){r.enableDownload()},resetZoom:function(){r.nrrd_states.sizeFoctor=1,r.resizePaintArea(1),r.resetPaintArea()},subView:!1,subViewScale:1,resetView:function(){var s;(s=r.sceneIn)===null||s===void 0||s.resetView()},exportMarks:function(){r.exportData()}},this.drawLine=function(s,a,u,f){r.drawingCtx.beginPath(),r.drawingCtx.moveTo(s,a),r.drawingCtx.lineTo(u,f),r.drawingCtx.strokeStyle=r.gui_states.color,r.drawingCtx.stroke()},this.container=e,this.displayCtx=this.displayCanvas.getContext("2d"),this.drawingCtx=this.drawingCanvas.getContext("2d"),this.emptyCtx=this.emptyCanvas.getContext("2d"),this.drawingLayerOneCtx=this.drawingCanvasLayerOne.getContext("2d"),this.previousDrawingImage=this.emptyCtx.createImageData(1,1),this.init()}return p.prototype.init=function(){var e=this;this.showDragNumberDiv=this.createShowSliceNumberDiv(),this.mainAreaContainer.classList.add("copper3D_drawingCanvasContainer"),this.container.appendChild(this.mainAreaContainer),this.autoFocusDiv(this.container),this.downloadImage.href="",this.downloadImage.target="_blank";for(var r=0;r<this.nrrd_states.Max_sensitive;r++)this.sensitiveArray.push((r+1)/20);this.container.addEventListener("keydown",function(s){s.key==="Shift"&&(e.Is_Shift_Pressed=!0,e.nrrd_states.enableCursorChoose=!1),s.key==="s"&&(e.Is_Draw=!1,e.nrrd_states.enableCursorChoose=!e.nrrd_states.enableCursorChoose)}),this.container.addEventListener("keyup",function(s){s.key==="Shift"&&(e.Is_Shift_Pressed=!1)})},p.prototype.setAllSlices=function(e){this.allSlicesArray=C([],e,!0),this.nrrd_states.nrrd_x_pixel=this.allSlicesArray[0].z.canvas.width,this.nrrd_states.nrrd_y_pixel=this.allSlicesArray[0].z.canvas.height,this.nrrd_states.nrrd_z_pixel=this.allSlicesArray[0].x.canvas.width,this.nrrd_states.nrrd_x_centimeter=this.allSlicesArray[0].x.volume.dimensions[0],this.nrrd_states.nrrd_y_centimeter=this.allSlicesArray[0].x.volume.dimensions[1],this.nrrd_states.nrrd_z_centimeter=this.allSlicesArray[0].x.volume.dimensions[2],this.nrrd_states.dimensions=this.allSlicesArray[0].x.volume.dimensions,this.nrrd_states.voxelSpacing=this.allSlicesArray[0].x.volume.spacing,this.allSlicesArray.forEach(function(r,s){r.x.contrastOrder=s,r.y.contrastOrder=s,r.z.contrastOrder=s}),this.nrrd_states.sharedPlace.x=this.getSharedPlace(this.nrrd_states.dimensions[0],this.nrrd_states.ratios.x),this.nrrd_states.sharedPlace.y=this.getSharedPlace(this.nrrd_states.dimensions[1],this.nrrd_states.ratios.y),this.nrrd_states.sharedPlace.z=this.getSharedPlace(this.nrrd_states.dimensions[2],this.nrrd_states.ratios.z),this.initPaintImages(this.nrrd_states.dimensions),this.setDisplaySlicesBaseOnAxis(),this.afterLoadSlice()},p.prototype.getSharedPlace=function(e,r){for(var s=-1,a=[],u=new Set,f=0;f<e;f++){var m=Math.floor(f*r);m===s?(u.add(f-1),u.add(f)):s=m}return u.forEach(function(_){a.push(_)}),a},p.prototype.initPaintImages=function(e){for(var r=0;r<e[0];r++){var s=this.emptyCtx.createImageData(this.nrrd_states.nrrd_z_centimeter,this.nrrd_states.nrrd_y_centimeter),a={index:r,image:s};this.paintImages.x.push(a)}for(var r=0;r<e[1];r++){var u=this.emptyCtx.createImageData(this.nrrd_states.nrrd_x_centimeter,this.nrrd_states.nrrd_z_centimeter),f={index:r,image:u};this.paintImages.y.push(f)}for(var r=0;r<e[2];r++){var m=this.emptyCtx.createImageData(this.nrrd_states.nrrd_x_centimeter,this.nrrd_states.nrrd_y_centimeter),_={index:r,image:m};this.paintImages.z.push(_)}},p.prototype.setSliceOrientation=function(e){this.nrrd_states.enableCursorChoose&&(this.axis==="z"?(this.cursorPage.z.index=this.nrrd_states.currentIndex,this.cursorPage.z.cursorPageX=this.nrrd_states.cursorPageX,this.cursorPage.z.cursorPageY=this.nrrd_states.cursorPageY):this.axis==="x"?(this.cursorPage.x.index=this.nrrd_states.currentIndex,this.cursorPage.x.cursorPageX=this.nrrd_states.cursorPageX,this.cursorPage.x.cursorPageY=this.nrrd_states.cursorPageY):this.axis==="y"&&(this.cursorPage.y.index=this.nrrd_states.currentIndex,this.cursorPage.y.cursorPageX=this.nrrd_states.cursorPageX,this.cursorPage.y.cursorPageY=this.nrrd_states.cursorPageY),e==="z"?this.nrrd_states.isCursorSelect&&!this.cursorPage.z.updated?(this.axis==="x"&&(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=Math.ceil(this.cursorPage.x.cursorPageX/this.nrrd_states.nrrd_z_pixel*this.nrrd_states.dimensions[2]),this.nrrd_states.cursorPageX=Math.ceil(this.cursorPage.x.index/this.nrrd_states.dimensions[0]*this.nrrd_states.nrrd_x_pixel)),this.axis==="y"&&(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=Math.ceil(this.cursorPage.y.cursorPageY/this.nrrd_states.nrrd_z_pixel*this.nrrd_states.dimensions[2]),this.nrrd_states.cursorPageY=Math.ceil(this.cursorPage.y.index/this.nrrd_states.dimensions[1]*this.nrrd_states.nrrd_y_pixel)),this.cursorPage.z.updated=!0):(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=this.cursorPage.z.index,this.nrrd_states.cursorPageX=this.cursorPage.z.cursorPageX,this.nrrd_states.cursorPageY=this.cursorPage.z.cursorPageY):e==="x"?this.nrrd_states.isCursorSelect&&!this.cursorPage.x.updated?(this.axis==="z"&&(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=Math.ceil(this.cursorPage.z.cursorPageX/this.nrrd_states.nrrd_x_pixel*this.nrrd_states.dimensions[0]),this.nrrd_states.cursorPageX=Math.floor(this.cursorPage.z.index/this.nrrd_states.dimensions[2]*this.nrrd_states.nrrd_z_pixel)),this.axis==="y"&&(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=Math.ceil(this.cursorPage.y.cursorPageX/this.nrrd_states.nrrd_y_pixel*this.nrrd_states.dimensions[1]),this.nrrd_states.cursorPageX=this.cursorPage.y.cursorPageY,this.nrrd_states.cursorPageY=Math.ceil(this.cursorPage.y.index/this.nrrd_states.dimensions[1]*this.nrrd_states.nrrd_y_pixel)),this.cursorPage.x.updated=!0):(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=this.cursorPage.x.index,this.nrrd_states.cursorPageX=this.cursorPage.x.cursorPageX,this.nrrd_states.cursorPageY=this.cursorPage.x.cursorPageY):e==="y"&&(this.nrrd_states.isCursorSelect&&!this.cursorPage.y.updated?(this.axis==="z"&&(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=Math.ceil(this.cursorPage.z.cursorPageY/this.nrrd_states.nrrd_y_pixel*this.nrrd_states.dimensions[1]),this.nrrd_states.cursorPageY=Math.ceil(this.cursorPage.z.index/this.nrrd_states.dimensions[2]*this.nrrd_states.nrrd_z_pixel)),this.axis==="x"&&(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=Math.ceil(this.cursorPage.x.cursorPageY/this.nrrd_states.nrrd_x_pixel*this.nrrd_states.dimensions[0]),this.nrrd_states.cursorPageX=Math.ceil(this.cursorPage.x.index/this.nrrd_states.dimensions[0]*this.nrrd_states.nrrd_x_pixel),this.nrrd_states.cursorPageY=this.cursorPage.x.cursorPageX),this.cursorPage.y.updated=!0):(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=this.cursorPage.y.index,this.nrrd_states.cursorPageX=this.cursorPage.y.cursorPageX,this.nrrd_states.cursorPageY=this.cursorPage.y.cursorPageY)),this.cursorPage.x.updated&&this.cursorPage.y.updated&&this.cursorPage.z.updated&&(this.nrrd_states.isCursorSelect=!1)),this.axis=e,this.resetDisplaySlicesStatus()},p.prototype.addSkip=function(e){this.skipSlicesDic[e]=this.backUpDisplaySlices[e],e>=this.displaySlices.length?this.nrrd_states.contrastNum=this.displaySlices.length:this.nrrd_states.contrastNum=e,this.resetDisplaySlicesStatus()},p.prototype.removeSkip=function(e){this.skipSlicesDic[e]=void 0,this.nrrd_states.contrastNum=0,this.resetDisplaySlicesStatus()},p.prototype.clear=function(){this.allSlicesArray.length=0,this.displaySlices.length=0,this.undoArray.length=0,this.paintImages.x.length=0,this.paintImages.y.length=0,this.paintImages.z.length=0,this.clearDictionary(this.skipSlicesDic),this.backUpDisplaySlices.length=0,this.mainPreSlice=void 0,this.currentShowingSlice=void 0,this.previousDrawingImage=this.emptyCtx.createImageData(1,1),this.initState=!0,this.axis="z",this.nrrd_states.sizeFoctor=1,this.drawingCanvasLayerOne.width=this.drawingCanvasLayerOne.width,this.drawingCanvas.width=this.drawingCanvas.width,this.displayCanvas.width=this.displayCanvas.width},p.prototype.setSliceMoving=function(e){this.mainPreSlice&&(this.Is_Draw=!0,this.setSyncsliceNum(),this.updateIndex(e),this.setIsDrawFalse(1e3))},p.prototype.setShowInMainArea=function(e){this.nrrd_states.showContrast=e,this.nrrd_states.contrastNum=0,this.mainPreSlice&&(this.redrawMianPreOnDisplayCanvas(),this.updateShowNumDiv(this.nrrd_states.contrastNum))},p.prototype.setMainAreaSize=function(e){this.nrrd_states.sizeFoctor+=e,this.nrrd_states.sizeFoctor>=8?this.nrrd_states.sizeFoctor=8:this.nrrd_states.sizeFoctor<=1&&(this.nrrd_states.sizeFoctor=1),this.resizePaintArea(this.nrrd_states.sizeFoctor),this.resetPaintArea(),this.setIsDrawFalse(1e3)},p.prototype.getMaxSliceNum=function(){return this.nrrd_states.showContrast?[this.nrrd_states.maxIndex,this.nrrd_states.maxIndex*this.displaySlices.length]:[this.nrrd_states.maxIndex]},p.prototype.getCurrentSlicesNumAndContrastNum=function(){return{currentIndex:this.nrrd_states.currentIndex,contrastIndex:this.nrrd_states.contrastNum}},p.prototype.getCurrentSliceIndex=function(){return Math.ceil(this.mainPreSlice.index)},p.prototype.getIsShowContrastState=function(){return this.nrrd_states.showContrast},p.prototype.setIsDrawFalse=function(e){var r=this;this.preTimer=setTimeout(function(){r.Is_Draw=!1,r.preTimer&&(window.clearTimeout(r.preTimer),r.preTimer=void 0)},e)},p.prototype.setDisplaySlicesBaseOnAxis=function(){var e=this;this.displaySlices.length=0,this.backUpDisplaySlices.length=0,this.allSlicesArray.forEach(function(r){e.backUpDisplaySlices.push(r[e.axis])}),this.loadDisplaySlicesArray()},p.prototype.loadDisplaySlicesArray=function(){var e=this,r=Object.values(this.skipSlicesDic);r.length===0?this.backUpDisplaySlices.forEach(function(s,a){e.skipSlicesDic[a]=s,e.displaySlices.push(s)}):r.forEach(function(s,a){s&&(e.displaySlices.push(e.backUpDisplaySlices[a]),e.skipSlicesDic[a]=e.backUpDisplaySlices[a])})},p.prototype.resetDisplaySlicesStatus=function(){this.setDisplaySlicesBaseOnAxis(),this.setupConfigs()},p.prototype.setupConfigs=function(){this.setMainPreSlice(),this.updateMaxIndex(),this.setOriginCanvasAndPre(),this.updateShowNumDiv(this.nrrd_states.contrastNum),this.repraintCurrentContrastSlice(),this.resizePaintArea(this.nrrd_states.sizeFoctor),this.resetPaintArea()},p.prototype.setMainPreSlice=function(){this.mainPreSlice=this.displaySlices[0],this.mainPreSlice&&(this.nrrd_states.RSARatio=this.mainPreSlice.RSARatio)},p.prototype.setOriginCanvasAndPre=function(){this.mainPreSlice&&(this.nrrd_states.oldIndex>this.nrrd_states.maxIndex&&(this.nrrd_states.oldIndex=this.nrrd_states.maxIndex),this.initState?(this.nrrd_states.oldIndex=this.mainPreSlice.initIndex,this.nrrd_states.currentIndex=this.mainPreSlice.initIndex):this.mainPreSlice.index=this.nrrd_states.oldIndex,this.originCanvas=this.mainPreSlice.canvas,this.updateOriginAndChangedWH())},p.prototype.afterLoadSlice=function(){this.setMainPreSlice(),this.setOriginCanvasAndPre(),this.currentShowingSlice=this.mainPreSlice,this.undoArray=[{sliceIndex:this.mainPreSlice.index,undos:[]}],this.nrrd_states.oldIndex=this.mainPreSlice.initIndex,this.nrrd_states.currentIndex=this.mainPreSlice.initIndex,this.updateMaxIndex(),this.updateShowNumDiv(this.nrrd_states.contrastNum),this.initState=!1},p.prototype.updateMaxIndex=function(){this.mainPreSlice&&(this.nrrd_states.maxIndex=this.mainPreSlice.MaxIndex)},p.prototype.updateCurrentContrastSlice=function(){return this.currentShowingSlice=this.displaySlices[this.nrrd_states.contrastNum],this.currentShowingSlice},p.prototype.createShowSliceNumberDiv=function(){var e=document.createElement("div");return e.className="copper3d_sliceNumber",e.style.position="absolute",e.style.zIndex="100",e.style.top="20px",e.style.left="100px",e},p.prototype.updateOriginAndChangedWH=function(){this.nrrd_states.originWidth=this.originCanvas.width,this.nrrd_states.originHeight=this.originCanvas.height,this.nrrd_states.changedWidth=this.nrrd_states.originWidth*Number(this.gui_states.mainAreaSize),this.nrrd_states.changedHeight=this.nrrd_states.originWidth*Number(this.gui_states.mainAreaSize),this.resizePaintArea(1),this.resetPaintArea()},p.prototype.initAllCanvas=function(){this.displayCanvas.style.position="absolute",this.displayCanvas.style.zIndex="9",this.displayCanvas.width=this.nrrd_states.changedWidth,this.displayCanvas.height=this.nrrd_states.changedHeight,this.drawingCanvas.style.zIndex="10",this.drawingCanvas.style.position="absolute",this.drawingCanvas.width=this.nrrd_states.changedWidth,this.drawingCanvas.height=this.nrrd_states.changedHeight,this.drawingCanvas.style.cursor=this.nrrd_states.defaultPaintCursor,this.drawingCanvas.oncontextmenu=function(){return!1},this.drawingCanvasLayerOne.width=this.nrrd_states.changedWidth,this.drawingCanvasLayerOne.height=this.nrrd_states.changedHeight,this.mainAreaContainer.style.width=this.nrrd_states.originWidth*8+"px",this.mainAreaContainer.style.height=this.nrrd_states.originHeight*8+"px",this.mainAreaContainer.appendChild(this.displayCanvas),this.mainAreaContainer.appendChild(this.drawingCanvas)},p.prototype.autoFocusDiv=function(e){e.tabIndex=10,e.addEventListener("mouseover",function(){e.focus()}),e.style.outline="none"},p.prototype.setSyncsliceNum=function(){var e=this;this.displaySlices.forEach(function(r,s){s!==0&&(r.index=e.mainPreSlice.index)})},p.prototype.repraintCurrentContrastSlice=function(){this.setSyncsliceNum(),this.displaySlices.forEach(function(e,r){e.repaint.call(e)})},p.prototype.repraintAllContrastSlices=function(){this.displaySlices.forEach(function(e,r){e.volume.repaintAllSlices()})},p.prototype.updateShowNumDiv=function(e){this.mainPreSlice&&(this.nrrd_states.currentIndex>this.nrrd_states.maxIndex&&(this.nrrd_states.currentIndex=this.nrrd_states.maxIndex),this.nrrd_states.showContrast?this.showDragNumberDiv.innerHTML="ContrastNum: ".concat(e,"/").concat(this.displaySlices.length-1," SliceNum: ").concat(this.nrrd_states.currentIndex,"/").concat(this.nrrd_states.maxIndex):this.showDragNumberDiv.innerHTML="SliceNum: ".concat(this.nrrd_states.currentIndex,"/").concat(this.nrrd_states.maxIndex))},p.prototype.appendLoadingbar=function(e){this.mainAreaContainer.appendChild(e)},p.prototype.drag=function(e){var r=this,s,a,u=this.container.offsetHeight,f=1,m,_,A;this.sensitiveArray.reverse(),e!=null&&e.showNumber&&this.container.appendChild(this.showDragNumberDiv),_=function(S){r.drawingCanvas.removeEventListener("wheel",r.handleWheelMove),S.button===0&&(r.setSyncsliceNum(),a=S.offsetY/u,r.container.addEventListener("pointermove",A,!1),f=r.sensitiveArray[r.gui_states.dragSensitivity-1])},A=zg(function(S){a-S.offsetY/u>=0?s=-Math.ceil((a-S.offsetY/u)*10/f):s=-Math.floor((a-S.offsetY/u)*10/f),r.updateIndex(s),e!=null&&e.getSliceNum&&e.getSliceNum(r.nrrd_states.currentIndex,r.nrrd_states.contrastNum),a=S.offsetY/u},f*200),m=function(S){r.drawingCanvas.addEventListener("wheel",r.handleWheelMove),r.setSyncsliceNum(),r.container.removeEventListener("pointermove",A,!1)};var w=function(){r.container.style.cursor="pointer",r.container.addEventListener("pointerdown",_,!0),r.container.addEventListener("pointerup",m,!0)};w(),this.container.addEventListener("keydown",function(S){S.key==="Shift"&&(r.container.style.cursor="",r.container.removeEventListener("pointerdown",_,!0),r.container.removeEventListener("pointerup",m,!1),r.setIsDrawFalse(1e3))}),this.container.addEventListener("keyup",function(S){S.key==="Shift"&&w()})},p.prototype.updateIndex=function(e){var r=0,s=0;this.nrrd_states.showContrast?(s=e%this.displaySlices.length,this.nrrd_states.contrastNum+=s,e>0?this.mainPreSlice.index<=this.nrrd_states.maxIndex?(r=Math.floor(e/this.displaySlices.length),this.nrrd_states.contrastNum>this.displaySlices.length-1&&(r+=1,this.nrrd_states.contrastNum-=this.displaySlices.length)):r=0:(r=Math.ceil(e/this.displaySlices.length),this.nrrd_states.contrastNum<0&&(this.nrrd_states.contrastNum+=this.displaySlices.length,r-=1))):r=e;var a=this.nrrd_states.oldIndex+r;if(a!=this.nrrd_states.oldIndex||this.nrrd_states.showContrast){if(a>this.nrrd_states.maxIndex)a=this.nrrd_states.maxIndex,this.nrrd_states.contrastNum=4;else if(a<this.nrrd_states.minIndex)a=this.nrrd_states.minIndex,this.nrrd_states.contrastNum=0;else{this.mainPreSlice.index=a,this.nrrd_states.currentIndex=a,a!=this.nrrd_states.oldIndex&&(this.drawingCanvasLayerOne.width=this.drawingCanvasLayerOne.width),this.displayCanvas.width=this.displayCanvas.width,this.nrrd_states.changedWidth===0&&(this.nrrd_states.changedWidth=this.nrrd_states.originWidth,this.nrrd_states.changedHeight=this.nrrd_states.originHeight);var u=this.updateCurrentContrastSlice();u.repaint.call(u),this.drawDragSlice(u.canvas,a)}this.nrrd_states.oldIndex=a,this.updateShowNumDiv(this.nrrd_states.contrastNum)}},p.prototype.drawDragSlice=function(e,r){var s;this.displayCtx.save(),this.flipDisplayImageByAxis(),this.displayCtx.drawImage(e,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight),this.displayCtx.restore(),(this.paintImages.x.length>0||this.paintImages.y.length>0||this.paintImages.z.length>0)&&r!=this.nrrd_states.oldIndex&&(this.paintedImage=this.filterDrawedImage(this.axis,this.nrrd_states.currentIndex),!((s=this.paintedImage)===null||s===void 0)&&s.image&&(this.setEmptyCanvasSize(),this.emptyCtx.putImageData(this.paintedImage.image,0,0),this.drawingLayerOneCtx.drawImage(this.emptyCanvas,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight)))},p.prototype.draw=function(e,r){var s,a;this.sceneIn=e,e.controls.enabled=!1,this.gui_states.subView===!1&&e.subDiv&&(e.subDiv.style.display="none"),s=r.addFolder("Mode Parameters"),e.subDiv&&(a=r.addFolder("Sub View"),a.add(this.gui_states,"resetView"),a.add(this.gui_states,"subView").onChange(function(u){u?(e.controls.enabled=!0,e.subDiv&&(e.subDiv.style.display="block")):(e.subDiv&&(e.subDiv.style.display="none"),e.controls.enabled=!1)}),a.add(this.gui_states,"subViewScale").min(.25).max(2).step(.01).onFinishChange(function(u){e.subDiv&&(e.subDiv.style.width=200*u+"px"),e.subDiv&&(e.subDiv.style.height=200*u+"px")})),this.paintOnCanvas(s)},p.prototype.paintOnCanvas=function(e){var r=this,s,a,u,f,m=!1,_=!1,A=0,w=0,S=this.mainPreSlice.index,x=!1,P=[];this.updateOriginAndChangedWH(),this.initAllCanvas(),this.configGui(e),(s=this.displayCtx)===null||s===void 0||s.save(),this.flipDisplayImageByAxis(),(a=this.displayCtx)===null||a===void 0||a.drawImage(this.originCanvas,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight),(u=this.displayCtx)===null||u===void 0||u.restore(),this.previousDrawingImage=this.drawingCtx.getImageData(0,0,this.drawingCanvas.width,this.drawingCanvas.height),this.handleWheelMove=this.configMouseWheel((f=this.sceneIn)===null||f===void 0?void 0:f.controls),this.drawingCanvas.addEventListener("wheel",this.handleWheelMove,{passive:!1});var O=zg(function(G){r.drawingCanvas.style.cursor="grabbing",r.displayCanvas.style.left=r.drawingCanvas.style.left=G.clientX-A+"px",r.displayCanvas.style.top=r.drawingCanvas.style.top=G.clientY-w+"px"},80),k=function(G){r.nrrd_states.Mouse_Over_x=G.offsetX,r.nrrd_states.Mouse_Over_y=G.offsetY,r.nrrd_states.Mouse_Over_x===void 0&&(r.nrrd_states.Mouse_Over_x=G.clientX,r.nrrd_states.Mouse_Over_y=G.clientY),G.type==="mouseout"?(r.nrrd_states.Mouse_Over=!1,r.drawingCanvas.removeEventListener("mousemove",k)):G.type==="mouseover"&&(r.nrrd_states.Mouse_Over=!0,r.drawingCanvas.addEventListener("mousemove",k)),G.preventDefault()};this.drawingCanvas.addEventListener("mouseover",k),this.drawingCanvas.addEventListener("mouseout",k),this.drawingCanvas.addEventListener("pointerdown",function(G){if(m||_){r.drawingCanvas.removeEventListener("pointerup",Q),r.drawingLayerOneCtx.closePath();return}if(S!==r.mainPreSlice.index&&(r.previousDrawingImage=r.emptyCtx.createImageData(1,1),S=r.mainPreSlice.index),r.drawingCanvas.removeEventListener("wheel",r.handleWheelMove),G.button===0){if(r.Is_Shift_Pressed)m=!0,P=[],x=!0,r.Is_Draw=!0,r.gui_states.Eraser?r.drawingCanvas.style.cursor="url(https://raw.githubusercontent.com/LinkunGao/copper3d_icons/main/icons/circular-cursor.png) 52 52, crosshair":r.drawingCanvas.style.cursor=r.nrrd_states.defaultPaintCursor,r.nrrd_states.drawStartPos.set(G.offsetX,G.offsetY),r.drawingLayerOneCtx.beginPath(),r.drawingCanvas.addEventListener("pointerup",Q),r.drawingCanvas.addEventListener("pointermove",U);else if(r.nrrd_states.enableCursorChoose)switch(r.nrrd_states.cursorPageX=G.offsetX/r.nrrd_states.sizeFoctor,r.nrrd_states.cursorPageY=G.offsetY/r.nrrd_states.sizeFoctor,r.nrrd_states.isCursorSelect=!0,r.axis){case"x":r.cursorPage.x.updated=!0,r.cursorPage.y.updated=!1,r.cursorPage.z.updated=!1;break;case"y":r.cursorPage.x.updated=!1,r.cursorPage.y.updated=!0,r.cursorPage.z.updated=!1;break;case"z":r.cursorPage.x.updated=!1,r.cursorPage.y.updated=!1,r.cursorPage.z.updated=!0;break}}else if(G.button===2){_=!0;var Z=parseInt(r.drawingCanvas.style.left),X=parseInt(r.drawingCanvas.style.top);A=G.clientX-Z,w=G.clientY-X,r.drawingCanvas.style.cursor="grab",r.drawingCanvas.addEventListener("pointerup",Q),r.drawingCanvas.addEventListener("pointermove",O)}else return},!0);var L=this.useEraser(),U=function(G){r.Is_Draw=!0,x&&(r.gui_states.Eraser?(r.nrrd_states.stepClear=1,L(G.offsetX,G.offsetY,r.gui_states.brushAndEraserSize)):(P.push({x:G.offsetX,y:G.offsetY}),r.paintOnCanvasLayerOne(G.offsetX,G.offsetY)))},Q=function(G){var Z;if(G.button===0){if(r.Is_Shift_Pressed||x){if(m=!1,r.drawingLayerOneCtx.closePath(),r.drawingCanvas.removeEventListener("pointermove",U),!r.gui_states.Eraser&&r.gui_states.segmentation){r.drawingCanvasLayerOne.width=r.drawingCanvasLayerOne.width;var X=(Z=r.filterDrawedImage(r.axis,r.nrrd_states.currentIndex))===null||Z===void 0?void 0:Z.image;X&&(r.previousDrawingImage=X),r.emptyCanvas.width=r.emptyCanvas.width,r.emptyCtx.putImageData(r.previousDrawingImage,0,0),r.drawingLayerOneCtx.drawImage(r.emptyCanvas,0,0,r.nrrd_states.changedWidth,r.nrrd_states.changedHeight),r.drawingLayerOneCtx.beginPath(),r.drawingLayerOneCtx.moveTo(P[0].x,P[0].y);for(var te=1;te<P.length;te++)r.drawingLayerOneCtx.lineTo(P[te].x,P[te].y);r.drawingLayerOneCtx.closePath(),r.drawingLayerOneCtx.lineWidth=1,r.drawingLayerOneCtx.fillStyle=r.gui_states.fillColor,r.drawingLayerOneCtx.fill()}r.previousDrawingImage=r.drawingLayerOneCtx.getImageData(0,0,r.drawingCanvasLayerOne.width,r.drawingCanvasLayerOne.height),r.storeAllImages();var ae=r.drawingCtx.getImageData(0,0,r.drawingCanvas.width,r.drawingCanvas.height);console.log("Paint mark data -----> :",ae),x=!1;var j=r.getCurrentUndo(),ge=r.drawingCanvasLayerOne.toDataURL(),we=new Image;if(we.src=ge,j.length>0)j[0].undos.push(we);else{var Le={sliceIndex:r.nrrd_states.currentIndex,undos:[]};Le.undos.push(we),r.undoArray.push(Le)}}}else if(G.button===2)_=!1,r.drawingCanvas.style.cursor="grab",r.drawingCanvas.removeEventListener("pointermove",O);else return;r.drawingCanvas.addEventListener("wheel",r.handleWheelMove,{passive:!1}),r.gui_states.segmentation||r.setIsDrawFalse(100)};this.drawingCanvas.addEventListener("pointerleave",function(G){x=!1,m&&(m=!1,r.drawingLayerOneCtx.closePath(),r.drawingCanvas.removeEventListener("pointermove",U)),_&&(_=!1,r.drawingCanvas.style.cursor="grab",r.drawingCanvas.removeEventListener("pointermove",O)),r.setIsDrawFalse(100),r.gui_states.segmentation&&r.setIsDrawFalse(1e3)}),this.start=function(){if(r.nrrd_states.readyToUpdate){if(r.drawingCtx.clearRect(0,0,r.nrrd_states.changedWidth,r.nrrd_states.changedHeight),r.drawingCtx.globalAlpha=r.gui_states.globalAlpha,r.Is_Draw)r.drawingLayerOneCtx.lineCap="round",r.drawingLayerOneCtx.globalAlpha=1;else if(r.Is_Shift_Pressed&&!r.gui_states.segmentation&&!r.gui_states.Eraser&&r.nrrd_states.Mouse_Over&&(r.drawingCtx.clearRect(0,0,r.nrrd_states.changedWidth,r.nrrd_states.changedHeight),r.drawingCtx.fillStyle=r.gui_states.brushColor,r.drawingCtx.beginPath(),r.drawingCtx.arc(r.nrrd_states.Mouse_Over_x,r.nrrd_states.Mouse_Over_y,r.gui_states.brushAndEraserSize/2+1,0,Math.PI*2),r.drawingCtx.strokeStyle=r.gui_states.brushColor,r.drawingCtx.stroke()),r.nrrd_states.enableCursorChoose){r.drawingCtx.clearRect(0,0,r.nrrd_states.changedWidth,r.nrrd_states.changedHeight);var G=r.nrrd_states.cursorPageX*r.nrrd_states.sizeFoctor,Z=r.nrrd_states.cursorPageY*r.nrrd_states.sizeFoctor;r.drawLine(G,0,G,r.drawingCanvas.height),r.drawLine(0,Z,r.drawingCanvas.width,Z)}r.drawingCtx.drawImage(r.drawingCanvasLayerOne,0,0)}else r.redrawDisplayCanvas()},document.addEventListener("keydown",function(G){(G.ctrlKey||G.metaKey)&&G.code==="KeyZ"&&r.undoLastPainting()})},p.prototype.undoLastPainting=function(){this.Is_Draw=!0,this.drawingCanvasLayerOne.width=this.drawingCanvasLayerOne.width,this.mainPreSlice.repaint.call(this.mainPreSlice);var e=this.getCurrentUndo();if(e.length>0){var r=e[0];if(r.undos.length===0)return;if(r.undos.pop(),r.undos.length>0){var s=r.undos[r.undos.length-1];this.drawingLayerOneCtx.drawImage(s,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight)}this.previousDrawingImage=this.drawingLayerOneCtx.getImageData(0,0,this.drawingCanvasLayerOne.width,this.drawingCanvasLayerOne.height),this.storeAllImages(),this.setIsDrawFalse(1e3)}},p.prototype.getCurrentUndo=function(){var e=this;return this.undoArray.filter(function(r){return r.sliceIndex===e.nrrd_states.currentIndex})},p.prototype.configMouseWheel=function(e){var r=this,s=1,a=function(u){if(!r.Is_Shift_Pressed){u.preventDefault();var f=u.detail?u.detail>0:u.wheelDelta<0;r.Is_Draw=!0;var m=(u.clientX-r.mainAreaContainer.offsetLeft-r.drawingCanvas.offsetLeft)/r.drawingCanvas.offsetWidth,_=(u.clientY-r.mainAreaContainer.offsetTop-r.drawingCanvas.offsetTop)/r.drawingCanvas.offsetHeight,A=f?1-.1:1+.1,w=r.drawingCanvas.offsetWidth*A,S=r.drawingCanvas.offsetHeight*A,x=Math.round(u.clientX-r.mainAreaContainer.offsetLeft-w*m),P=Math.round(u.clientY-r.mainAreaContainer.offsetTop-S*_);s=w/r.nrrd_states.originWidth,s>8?s=8:s<1?s=1:(r.resizePaintArea(s),r.resetPaintArea(x,P),e&&(e.enabled=!1),r.setIsDrawFalse(1e3)),r.nrrd_states.sizeFoctor=s}};return a},p.prototype.useEraser=function(){var e=this,r=function(s,a,u){var f=u-e.nrrd_states.stepClear,m=Math.sqrt(u*u-f*f),_=s-f,A=a-m,w=2*f,S=2*m;e.nrrd_states.stepClear<=u&&(e.drawingLayerOneCtx.clearRect(_,A,w,S),e.nrrd_states.stepClear+=1,r(s,a,u))};return r},p.prototype.clearPaint=function(){this.Is_Draw=!0,this.drawingCanvasLayerOne.width=this.drawingCanvas.width,this.originCanvas.width=this.originCanvas.width,this.mainPreSlice.repaint.call(this.mainPreSlice),this.previousDrawingImage=this.emptyCtx.createImageData(1,1),this.storeAllImages(),this.setIsDrawFalse(1e3)},p.prototype.clearStoreImages=function(){this.paintImages.x.length=0,this.paintImages.y.length=0,this.paintImages.z.length=0,this.initPaintImages(this.nrrd_states.dimensions)},p.prototype.enableDownload=function(){this.downloadImage.download="slice_".concat(this.axis,"_#").concat(this.nrrd_states.currentIndex);var e=this.downloadCanvas.getContext("2d");this.downloadCanvas.width=this.nrrd_states.originWidth,this.downloadCanvas.height=this.nrrd_states.originHeight,e.drawImage(this.drawingCanvas,0,0,this.nrrd_states.originWidth,this.nrrd_states.originHeight),this.downloadImage.href=this.downloadCanvas.toDataURL(),this.downloadImage.click()},p.prototype.paintOnCanvasLayerOne=function(e,r){this.drawingLayerOneCtx.beginPath(),this.drawingLayerOneCtx.moveTo(this.nrrd_states.drawStartPos.x,this.nrrd_states.drawStartPos.y),this.gui_states.segmentation?(this.drawingLayerOneCtx.strokeStyle=this.gui_states.color,this.drawingLayerOneCtx.lineWidth=this.gui_states.lineWidth):(this.drawingLayerOneCtx.strokeStyle=this.gui_states.brushColor,this.drawingLayerOneCtx.lineWidth=this.gui_states.brushAndEraserSize),this.drawingLayerOneCtx.lineTo(e,r),this.drawingLayerOneCtx.stroke(),this.nrrd_states.drawStartPos.set(e,r),this.drawingLayerOneCtx.closePath(),this.mainPreSlice.mesh.material.map.needsUpdate=!0},p.prototype.configGui=function(e){var r=this;e.__controllers.length>0&&this.removeGuiFolderChilden(e),e.open();var s=e.addFolder("Default Actions");s.add(this.gui_states,"cursor",["crosshair","pencil","dot"]).name("cursor icons").onChange(function(_){_==="crosshair"&&(r.nrrd_states.defaultPaintCursor="crosshair"),_==="pencil"&&(r.nrrd_states.defaultPaintCursor="url(https://raw.githubusercontent.com/LinkunGao/copper3d_icons/main/icons/pencil-black.svg), auto"),_==="dot"&&(r.nrrd_states.defaultPaintCursor="url(https://raw.githubusercontent.com/LinkunGao/copper3d-datasets/main/icons/dot.svg) 12 12,auto"),r.drawingCanvas.style.cursor=r.nrrd_states.defaultPaintCursor}),s.add(this.gui_states,"mainAreaSize").name("zoom").min(1).max(8).onFinishChange(function(_){r.resetPaintArea(),r.nrrd_states.sizeFoctor=_,r.resizePaintArea(_)}),s.add(this.gui_states,"resetZoom"),s.add(this.gui_states,"globalAlpha").name("opacity").min(.1).max(1).step(.01),s.add(this.gui_states,"segmentation").name("Pencil"),s.add(this.gui_states,"brushAndEraserSize").min(5).max(50).step(1),s.add(this.gui_states,"Eraser").onChange(function(_){r.gui_states.Eraser=_,r.gui_states.Eraser?r.drawingCanvas.style.cursor="url(https://raw.githubusercontent.com/LinkunGao/copper3d_icons/main/icons/circular-cursor.png) 52 52, crosshair":r.drawingCanvas.style.cursor=r.nrrd_states.defaultPaintCursor}),s.add(this.gui_states,"clear"),s.add(this.gui_states,"clearAll"),s.add(this.gui_states,"undo"),s.add(this.mainPreSlice.volume,"windowHigh",this.mainPreSlice.volume.min,this.mainPreSlice.volume.max,1).name("Image contrast").onChange(function(_){r.nrrd_states.readyToUpdate=!1,r.updateSlicesContrast(_,"windowHigh")}).onFinishChange(function(){r.repraintAllContrastSlices(),r.nrrd_states.readyToUpdate=!0}),s.add(this.gui_states,"exportMarks");var a=e.addFolder("Advance settings");a.add(this.gui_states,"dragSensitivity").min(1).max(this.nrrd_states.Max_sensitive).step(1);var u=a.addFolder("Pencil settings");u.add(this.gui_states,"lineWidth").name("outerLineWidth").min(1.7).max(3).step(.01),u.addColor(this.gui_states,"color"),u.addColor(this.gui_states,"fillColor");var f=a.addFolder("Brush settings");f.addColor(this.gui_states,"brushColor"),a.add(this.gui_states,"downloadCurrentMask");var m=a.addFolder("contrast advance settings");m.add(this.mainPreSlice.volume,"lowerThreshold",this.mainPreSlice.volume.min,this.mainPreSlice.volume.max,1).name("Lower Threshold").onChange(function(_){r.nrrd_states.readyToUpdate=!1,r.updateSlicesContrast(_,"lowerThreshold")}).onFinishChange(function(){r.repraintAllContrastSlices(),r.nrrd_states.readyToUpdate=!0}),m.add(this.mainPreSlice.volume,"upperThreshold",this.mainPreSlice.volume.min,this.mainPreSlice.volume.max,1).name("Upper Threshold").onChange(function(_){r.nrrd_states.readyToUpdate=!1,r.updateSlicesContrast(_,"upperThreshold")}).onFinishChange(function(){r.repraintAllContrastSlices(),r.nrrd_states.readyToUpdate=!0}),m.add(this.mainPreSlice.volume,"windowLow",this.mainPreSlice.volume.min,this.mainPreSlice.volume.max,1).name("Window Low").onChange(function(_){r.nrrd_states.readyToUpdate=!1,r.updateSlicesContrast(_,"windowLow")}).onFinishChange(function(){r.repraintAllContrastSlices(),r.nrrd_states.readyToUpdate=!0}),s.open()},p.prototype.updateSlicesContrast=function(e,r){switch(r){case"lowerThreshold":this.displaySlices.forEach(function(s,a){s.volume.lowerThreshold=e});break;case"upperThreshold":this.displaySlices.forEach(function(s,a){s.volume.upperThreshold=e});break;case"windowLow":this.displaySlices.forEach(function(s,a){s.volume.windowLow=e});break;case"windowHigh":this.displaySlices.forEach(function(s,a){s.volume.windowHigh=e});break}this.repraintCurrentContrastSlice()},p.prototype.resetPaintArea=function(e,r){e&&r?(this.displayCanvas.style.left=this.drawingCanvas.style.left=e+"px",this.displayCanvas.style.top=this.drawingCanvas.style.top=r+"px"):(this.displayCanvas.style.left=this.drawingCanvas.style.left="",this.displayCanvas.style.top=this.drawingCanvas.style.top="",this.mainAreaContainer.style.justifyContent="center",this.mainAreaContainer.style.alignItems="center")},p.prototype.redrawDisplayCanvas=function(){var e,r,s;this.updateCurrentContrastSlice(),this.displayCanvas.width=this.displayCanvas.width,this.displayCanvas.height=this.displayCanvas.height,this.originCanvas.width=this.originCanvas.width,this.currentShowingSlice&&(this.currentShowingSlice.repaint.call(this.currentShowingSlice),(e=this.displayCtx)===null||e===void 0||e.save(),this.flipDisplayImageByAxis(),(r=this.displayCtx)===null||r===void 0||r.drawImage(this.currentShowingSlice.canvas,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight),(s=this.displayCtx)===null||s===void 0||s.restore())},p.prototype.redrawMianPreOnDisplayCanvas=function(){var e;this.displayCanvas.width=this.displayCanvas.width,this.displayCanvas.height=this.displayCanvas.height,this.originCanvas.width=this.originCanvas.width,this.mainPreSlice&&(this.mainPreSlice.repaint.call(this.mainPreSlice),this.flipDisplayImageByAxis(),(e=this.displayCtx)===null||e===void 0||e.drawImage(this.originCanvas,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight),this.resizePaintArea(this.nrrd_states.sizeFoctor))},p.prototype.resizePaintArea=function(e){var r,s;switch(this.originCanvas.width=this.originCanvas.width,this.displayCanvas.width=this.displayCanvas.width,this.drawingCanvas.width=this.drawingCanvas.width,this.drawingCanvasLayerOne.width=this.drawingCanvasLayerOne.width,this.nrrd_states.changedWidth=this.nrrd_states.originWidth*e,this.nrrd_states.changedHeight=this.nrrd_states.originHeight*e,this.displayCanvas.width=this.nrrd_states.changedWidth,this.displayCanvas.height=this.nrrd_states.changedHeight,this.drawingCanvas.width=this.nrrd_states.changedWidth,this.drawingCanvas.height=this.nrrd_states.changedHeight,this.drawingCanvasLayerOne.width=this.nrrd_states.changedWidth,this.drawingCanvasLayerOne.height=this.nrrd_states.changedHeight,this.redrawDisplayCanvas(),this.axis){case"x":this.paintImages.x.length>0?this.paintedImage=this.filterDrawedImage("x",this.nrrd_states.currentIndex):this.paintedImage=void 0;break;case"y":this.paintImages.y.length>0?this.paintedImage=this.filterDrawedImage("y",this.nrrd_states.currentIndex):this.paintedImage=void 0;break;case"z":this.paintImages.z.length>0?this.paintedImage=this.filterDrawedImage("z",this.nrrd_states.currentIndex):this.paintedImage=void 0;break}!((r=this.paintedImage)===null||r===void 0)&&r.image&&(this.setEmptyCanvasSize(),this.emptyCtx.putImageData(this.paintedImage.image,0,0),(s=this.drawingLayerOneCtx)===null||s===void 0||s.drawImage(this.emptyCanvas,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight))},p.prototype.flipDisplayImageByAxis=function(){var e,r,s,a;this.axis==="x"?((e=this.displayCtx)===null||e===void 0||e.scale(-1,-1),(r=this.displayCtx)===null||r===void 0||r.translate(-this.nrrd_states.changedWidth,-this.nrrd_states.changedHeight)):this.axis==="z"&&((s=this.displayCtx)===null||s===void 0||s.scale(1,-1),(a=this.displayCtx)===null||a===void 0||a.translate(0,-this.nrrd_states.changedHeight))},p.prototype.filterDrawedImage=function(e,r){return this.paintImages[e].filter(function(s){return s.index===r})[0]},p.prototype.removeGuiFolderChilden=function(e){var r=e.__controllers;r.length>0&&r.forEach(function(s){setTimeout(function(){e.remove(s)},100)})},p.prototype.verifyCanvasIsEmpty=function(e){this.emptyCanvas.width=e.width,this.emptyCanvas.height=e.height;var r=e.toDataURL()===this.emptyCanvas.toDataURL();return r},p.prototype.clearDictionary=function(e){for(var r in e)delete e[r]},p.prototype.storeAllImages=function(){var e,r,s;this.setEmptyCanvasSize(),this.emptyCtx.drawImage(this.drawingCanvasLayerOne,0,0,this.emptyCanvas.width,this.emptyCanvas.height);var a=this.emptyCtx.getImageData(0,0,this.emptyCanvas.width,this.emptyCanvas.height);switch(this.axis){case"x":var u=this.checkSharedPlaceSlice(this.nrrd_states.nrrd_x_centimeter,this.nrrd_states.nrrd_y_centimeter,a),f=this.sliceArrayV(u,this.nrrd_states.nrrd_y_centimeter,this.nrrd_states.nrrd_z_centimeter),m=this.sliceArrayH(u,this.nrrd_states.nrrd_y_centimeter,this.nrrd_states.nrrd_z_centimeter),_=this.nrrd_states.currentIndex;this.replaceVerticalColPixels(this.paintImages.z,this.nrrd_states.dimensions[2],this.nrrd_states.ratios.z,f,this.nrrd_states.nrrd_x_centimeter,_),this.replaceVerticalColPixels(this.paintImages.y,this.nrrd_states.dimensions[1],this.nrrd_states.ratios.y,m,this.nrrd_states.nrrd_x_centimeter,_);break;case"y":var A=this.checkSharedPlaceSlice(this.nrrd_states.nrrd_x_centimeter,this.nrrd_states.nrrd_y_centimeter,a),w=this.sliceArrayV(A,this.nrrd_states.nrrd_z_centimeter,this.nrrd_states.nrrd_x_centimeter),S=this.sliceArrayH(A,this.nrrd_states.nrrd_z_centimeter,this.nrrd_states.nrrd_x_centimeter),x=this.nrrd_states.currentIndex;this.replaceHorizontalRowPixels(this.paintImages.x,this.nrrd_states.dimensions[0],this.nrrd_states.ratios.x,w,this.nrrd_states.nrrd_z_centimeter,x),this.replaceHorizontalRowPixels(this.paintImages.z,this.nrrd_states.dimensions[2],this.nrrd_states.ratios.z,S,this.nrrd_states.nrrd_x_centimeter,x);break;case"z":var P=this.checkSharedPlaceSlice(this.nrrd_states.nrrd_x_centimeter,this.nrrd_states.nrrd_y_centimeter,a),O=this.sliceArrayV(P,this.nrrd_states.nrrd_y_centimeter,this.nrrd_states.nrrd_x_centimeter),k=this.sliceArrayH(P,this.nrrd_states.nrrd_y_centimeter,this.nrrd_states.nrrd_x_centimeter),L=this.nrrd_states.currentIndex;this.replaceVerticalColPixels(this.paintImages.x,this.nrrd_states.dimensions[0],this.nrrd_states.ratios.x,O,this.nrrd_states.nrrd_z_centimeter,L),this.replaceHorizontalRowPixels(this.paintImages.y,this.nrrd_states.dimensions[1],this.nrrd_states.ratios.y,k,this.nrrd_states.nrrd_x_centimeter,L);break}var U={index:this.nrrd_states.currentIndex,image:a},Q;switch(this.axis){case"x":Q=this.filterDrawedImage("x",this.nrrd_states.currentIndex),Q?Q.image=a:(e=this.paintImages.x)===null||e===void 0||e.push(U);break;case"y":Q=this.filterDrawedImage("y",this.nrrd_states.currentIndex),Q?Q.image=a:(r=this.paintImages.y)===null||r===void 0||r.push(U);break;case"z":Q=this.filterDrawedImage("z",this.nrrd_states.currentIndex),Q?Q.image=a:(s=this.paintImages.z)===null||s===void 0||s.push(U);break}},p.prototype.sliceArrayH=function(e,r,s){for(var a=[],u=0;u<r;u++){var f=u*s*4,m=(u+1)*s*4,_=e.slice(f,m);a.push(_)}return a},p.prototype.sliceArrayV=function(e,r,s){for(var a=[],u=s*4,f=0;f<s;f++){for(var m=[],_=0;_<r;_++){var A=u*_+f*4;m.push(e[A]),m.push(e[A+1]),m.push(e[A+2]),m.push(e[A+3])}a.push(m)}return a},p.prototype.replaceVerticalColPixels=function(e,r,s,a,u,f){for(var m=0,_=r;m<_;m++)for(var A=Math.floor(m*s),w=e[m].image.data,S=a[A],x=u*4,P=0,O=S.length;P<O;P+=4){var k=P/4*x+f*4;w[k]=S[P],w[k+1]=S[P+1],w[k+2]=S[P+2],w[k+3]=S[P+3]}},p.prototype.replaceHorizontalRowPixels=function(e,r,s,a,u,f){for(var m=0,_=r;m<_;m++)for(var A=Math.floor(m*s),w=e[m].image.data,S=a[A],x=u*f*4,P=0,O=S.length;P<O;P++)w[x+P]=S[P]},p.prototype.setEmptyCanvasSize=function(){switch(this.axis){case"x":this.emptyCanvas.width=this.nrrd_states.nrrd_z_centimeter,this.emptyCanvas.height=this.nrrd_states.nrrd_y_centimeter;break;case"y":this.emptyCanvas.width=this.nrrd_states.nrrd_x_centimeter,this.emptyCanvas.height=this.nrrd_states.nrrd_z_centimeter;break;case"z":this.emptyCanvas.width=this.nrrd_states.nrrd_x_centimeter,this.emptyCanvas.height=this.nrrd_states.nrrd_y_centimeter;break}},p.prototype.checkSharedPlaceSlice=function(e,r,s){var a=this.emptyCtx.createImageData(e,r).data;if(this.nrrd_states.sharedPlace.z.includes(this.nrrd_states.currentIndex)){var u=this.findSliceInSharedPlace();if(u.push(s),u.length>0)for(var f=0;f<u.length;f++)this.replaceArray(a,u[f].data)}else a=s.data;return a},p.prototype.replaceArray=function(e,r){for(var s=0,a=r.length;s<a;s++)r[s]===0||e[s]!==0||(e[s]=r[s])},p.prototype.findSliceInSharedPlace=function(){for(var e=[],r=Math.floor(this.nrrd_states.currentIndex*this.nrrd_states.ratios[this.axis]),s=1;s<=3;s++){var a=this.nrrd_states.currentIndex-s;if(a<this.nrrd_states.minIndex)break;var u=Math.floor(a*this.nrrd_states.ratios[this.axis]);u===r&&e.push(this.paintImages[this.axis][a].image)}for(var s=1;s<=3;s++){var a=this.nrrd_states.currentIndex+s;if(a>this.nrrd_states.maxIndex)break;var u=Math.floor(a*this.nrrd_states.ratios[this.axis]);u===r&&e.push(this.paintImages[this.axis][a].image)}return e},p.prototype.exportData=function(){var e={x:[],y:[],z:[]};e.z=this.restructData(this.paintImages.z,this.paintImages.z.length,this.nrrd_states.nrrd_x_centimeter,this.nrrd_states.nrrd_y_centimeter),window.alert("Export all images, starting!!!");try{for(var r=0;r<3;r++)switch(r){case 0:if(e.x.length>0){var s=new Blob([JSON.stringify(e.x)],{type:"text/plain;charset=utf-8"});Xy(s,"copper3D_export data_x.json")}break;case 1:if(e.y.length>0){var a=new Blob([JSON.stringify(e.y)],{type:"text/plain;charset=utf-8"});Xy(a,"copper3D_export data_y.json")}break;case 2:if(e.z.length>0){var u=new Blob([JSON.stringify(e.z)],{type:"text/plain;charset=utf-8"});Xy(u,"copper3D_export data_z.json")}break}window.alert("Export all images successfully!!!")}catch(f){console.log(f),window.alert("Export failed!")}},p.prototype.restructData=function(e,r,s,a){for(var u=[],f=0;f<r;f++){var m={sliceIndex:0,dataFormat:"RGBA - Each successive 4-digit number forms a pixel point in data array",width:s,height:a,voxelSpacing:this.nrrd_states.voxelSpacing,data:[]};m.sliceIndex=e[f].index;for(var _=e[f].image,A=[],w=0;w<_.data.length;w++)A.push(_.data[w]);m.data=A,u.push(m)}return u},p}(),yU="v1.13.7";console.log("%cCopper3D Visualisation %cBeta:v1.13.7","padding: 3px;color:white; background:#023047","padding: 3px;color:white; background:#f50a25"),i.CameraViewPoint=Wl,i.REVISION=yU,i.addBoxHelper=TV,i.addLabelToScene=fU,i.configKiwriousHeart=_U,i.convert3DPostoScreenPos=pU,i.convertScreenPosto3DPos=hU,i.copperMScene=Yx,i.copperMSceneRenderer=gU,i.copperRenderer=uU,i.copperRendererOnDemond=mU,i.copperScene=Wx,i.copperSceneOnDemond=qx,i.fullScreenListenner=yF,i.kiwrious=uu,i.loading=WC,i.nrrd_tools=AU,i.setHDRFilePath=FV,Object.defineProperty(i,"__esModule",{value:!0})})})(Cu,Cu.exports);const oX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAA3XQAAN10BGYBGXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAWxSURBVHic7Z1LaB1VGIC/1LZJ0LZ620ptrUlqrS1aEt/oRhTE58JqVVz42hQEURHU6kK6cScERfFBRetjoUFFXIhUpUWk0vioFKFBq5vGqm2q0YoxD+Pin0tyZ87M3Js75/wzc88HP4TJzPyvmfM+c8Hj8Xg8Ho/H4/G0Gm3aBtTJmcDlwIXA+kA6QueMAQcCGQR2AT+5M7F89ADbgIPA9BzlB+AJoNup5QXnEmAncw+6Sf4DPgAuduhH4VgJ7ECClWXwZ8sU8AqwwpFPheFu4E/sBT4so8AdLhzLO+3AdtwFPiwvAgute5lTlgFfoBf8quwBllr2NXcsBr5EP/hV2QsssupxjugAdqMf9LDsItq3KCUvoB/sOHnWot+54E70g5wmpW0dnQocQz/AaTKCNBBKx5voB7de2WEpBmqch90ebtYyBWy0Egkl3kc/qI3Ku1YiocBaivX0z34LeizEo4Z5thUgLR8b8w6fAhdZuG+VeYjthWeIbJ/Mr4CbmEmqzbfgu6yD4ZousgnEcWTQzvTE2y6KTs8kEjHMt3lz4ErDsSHgNaSVsQFYDlSQYYBR4DBwBJnNGgzkW2DCsq1xXAG8rqS7aZ4j+kT1Z6zD9hvwTMb21mC7Ej7bcGyPZZ1ZY/IhM2wnYI3h2JBlnVlj8iEzbCdgieHYUcs6s+Zkmze3XQmfZDj2e8o1fcAtwd9vIxVwM+wDBoK/bwV6G7y+0BM140QrtQUJ528OXTOOtPmTSKpAB0L6FgDvpFwTlrF6HM0rI0QdqiSc/7Ph/EMpOpKCd5rh/FUp14TlSIr+XPMjUYfOiTl3meHcepIWd81wwjWmRMfJ98kuNoftSvig4di6mHOPIp2wMMPIRE6jjCf8798G7mPyITNsJ8DU5Lwg4fz7qe3xTgTHNClas7mGe4i+0p+nXNMHPBlIoy2WennQYFecFHqOeDVRh6aAMzSNCthKfQkwVeSF4gBRp7aqWjRDP8nBL/xwNMBjRB37BejUNCqgDXie+AQ8omdadnQBk0Sdu0/TqFmcgMyuhe2bRIrQUvAGUQdHyUf5uhqxJWxfqZam9GKemH9L06iA9zA3FM7VNMoGr2IuZzWLoodjbNquaJM14pYmTgKbFOzZhDzpYXtKuzQR4DbMT9wYcKNDO25HhiNMtmx2aIcKccvTJ4B7LetuQ5qWcQvFSr88HWRP1sfEt70HkOIqa1YAHybo/YjkuYpSkbZF6RgyCNeega5O4CFkXD9OX0ttUaqyGPiE5KGAQ8CjzG1x1FnILvm0sf+dtGDwq7QjW0WTAlRtl+8FnkIq8o3AKcE92pBWyzpkLrkf+LqOe04j65ZadpvqbG4muYjIWn5Dp+mba5YCL2P/UwUvkTzF2fKsQYol04qKucoY8DQO1vuXiZb4XE2RP9i0iJmFX8eBv/AfbPIUlQrmvQS2uArzutWWZRtSZu8HtmDnmw0dwAPIQqtp4HELOgpJJ/ArtZXnMDJodx3NJaMTuAFpeh426MhiqKMp8lAJb0GanXH8DXyDrJLeh6xUGEHGi0YQHypIP6KCzGT1IuuL+oATE+59F7JdqqUZxF0POCyfOfAv16xHL/jTSK9btXPmYqN2EtrL/tpyYIMq1RaJpuy37mVO2YB+8Kuy1rKvsWgWQdcr6g5zrZZizQRcrag7zDVairX6AfOBP0huo7tkFOlHTLlWrPUGpHWQXLMEpaWIWgm4VElvEpdpKNVKQNI+MS3O11CqlQBbe7+aQcUmjUp4ITJ7lbflIP8gs2xOK2KNN6CH/AUfZOi6y7VSjQRY/fxLkzi3TSMB3Qo666XbtUKNBDh/zRug27VCjQSsVNBZL6tcK9RIwHIFnfXifGuSRgLy/Hstzm3zCailJRJg+o5cXnC+UUMjAeprcRJw/iM+GgnIYy+4ivOHwyegljy/nR6Px+PxeDwej6ck/A9up+46a1KUwwAAAABJRU5ErkJggg==",aX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAA3XQAAN10BGYBGXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAYDSURBVHic7ZxZbBVVGIC/1tKWpDRWENyw0hLXgjap4hI1uCX64kZcMBoxGiVBUR8EfVCjPvCgRiOIIqKNqEEDicuDpkpQgzWIUQIajSIaXDGttgiU0tv68N/GcufcuWeWM2fm3vMl/8tk/jP//8/MWf9zwOFwOBwOh8PhcDgcDofDUSlU2TZAk1bgfKADODEv9QX3DADf5uVzYAOwIzkTy49pwMPAdmAkpPwAPAgcl6jlGWcW0EX4oKtkGHgHOCNBPzLHUUAnEqw4gz9WcsBLwBEJ+ZQZbgb6MRf4QukDbkzCsbRTB6wkucAXyvNArXEvU8ok4DPsBX9UuoGJhn1NHY3AZuwHf1Q2AROMepwi6oGPsB/0QtmAd2xRljxHsMAcAL4MqBNWlhr0OxXcRPCgdCJ19I8hdMNI2faOJgO9BAtGDpiZ1z8T2BtQP4z0IB2EsuNVggfj2YIyziGZ8UJnvK7bp53gI9we5K8pZDawO2BZQSUHzIjN+xTwFsECMAxc6lPedGBLwDKDyroY/E4F0wn+9S/TKHcC8ErAcoP+BdMi+J0aHiGY428A1QHK70Dm/028hIdCeZwyvkPf4Q+B8SGeUQvcGvBZOvJ1CFtSRTP6zr5L9JFoNXAl0uMK2uUtJsdEtMkq89Bz8ilgXMzPrgHOBe5FXsg24Df+H0vsA34FvgJeAx5A/QdlemC2FP/A/wVcY806L8/gtfFpqxZFpNjSYg5YRfpGnHPx2vqeVYsiopq/WQOcZNMoH9rx2vu9VYsi0oPXocOtWuTPVNTVpDFqTBYONCiu9Wvq1iJrxW3AVmR+ZtCwbq/iWqYXagbxflE6vZ1avMuV3eit30bRrVPYO6Chl1pUVdBhGnq3K/RGgNsM605S6BmtgoIM+cPQp7h2pIZeW5HrOjOUUXRVtv2joRca0y9gu+La8Rp624pc32pY9wTFNZUPmUE1EHtMQ89WG7BEYa/RgZjpXtAXimuzNfQGgfMI15OJoquybbOGXmpR9atzwLE2jSpCC+p1C502KzSm24CdyARX4TPnGn5uGK7Hu1/iG+B3C7bEyv14v6o/CDfvb4oGpLtZaOd9No2Ki2ZgCK9zC2waVcA9eO0bQqrQsmA1Xgf7MFy/anI06lSXskpNORV1A7fGplFInb8OdUeh2IAus7yMeorAZlV0dxGbVlq0yRjFUhOHkHXcpJmDum0q29REgGtRf3EDwBUJ2nFV/pkqW+YkaIcViqWnHwDmJ/D8Bai//BEqID0dZE7mA9QBGAHeRJ0TGpUpwFqf575P/JkZqaXUFqVe4C5kgSQq9Uhj+7fP8ypqi9IojUgmXLGgjAC/AIsIlxw1FViM5P74PaOLCgz+KHXIVlG/AI32yzcBjyMN+QygaUw5TchGjuuAJ/L35jTKXUYFb1Mdy9Wo52JMyS7sdH1TzUTgRcwfVbACvXXpiqUFqZZUGRVhZQBZ2SqLfP+wHIr0bLYgCbOlzipK8riaKmAh8ClwZ97WsuF0pGrZw8HBWYv+EQGtwC3Ipr31SJbz2H1iu/PX1ufvmYf+1z4FeLvAtj3IfFCHZhmp5GxgI/5f6J/YWx2rQl6UKndprGwEzrJkYyhakG1GQRrTj5Fc/qS4EMmU0LVvGJk6T3UbMg54lOKTXDrSBVwOHGLAvhqkuxvlnIoBZM+b6WySwLQS79EzPwNPIl9qlPmZWuBipAe0M0b7uonpb4jj1MQbkIavMYayVOxFXu4nyImIO4CfkIby3/w9DXlpRgJzMlKlzcLc4n8/cAfwuqHyS1KFOpOs0mRJ1ECGoRpYHsLYcpXlmM+xOogXDDiRdVkRKaIBWJyQQ1mURRHiqsVl6E3zVqrk8D9kJBKTSXbKOKuyC0MbEVelwLmsSOx5RW2YnacvNxkGTtEJrG7XaSHZOeo+DVQhU+9aN5aiCVnYTlM6eRbYhxxI7rvJT+cPuAQX/DCMBy4qdZPOC9DZ0+VQc0GpG3ReQHsMhlQqp5W6QecFtMRgSKVSMnY6jfB+XPJSWPZTIQeCOxwOh8PhcDgcDofD4XA4HA6HP/8BSHPkmGmqh+wAAAAASUVORK5CYII=",lX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAA3XQAAN10BGYBGXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAYCSURBVHic7ZxriFVVFIC/sXHmOqVlU42k0zQ2UdDTsOz9AEnJ6OFIFlH0qwikB0RZ2RRB0I8iondYaqQYUlFBZBbYj1BHp4wINdKIqYaUZpypaFKn2499L13PrH32utd77znXWR8sBvasdfZea5/HOnuvc8EwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwyk5d0gNQcgpwBTATOD0nmYjOMLA9J5uB9cCP1Rvi4Uc78ASwE8iWKD8AXcDJVR15jTMLWEfpQZfkX+Aj4IIq+lFznAiswAWrnMEvlBFgGTClSj7VDHcAQ1Qu8FEZBG6rhmNppxFYSvUCH5XXgIaKe5lSjgM2klzw87IBaK6wr6ljErCF5IOfl25gYkU9ThEZ4AuSD3pU1jP63aJmGY//3voqyQfbJy96xpwBmoqMQSI0416ePkF+y76d5IMcEl929BnwNCl9XjQADwIDOCduFHROAPpJPsAh+R2XIESZn/v/APAQLoNLBXNw6y95BzYjn/0rSSagpcgKYfx1wNcFOruABUXEqexkgJcZPfhOQXcGlX3DLbeMAGcJftwi6L5NAhlUB7BVGMwgcibxgaCbdnlP8KMJ+Y39e+BMVeTKwMX47+VvCPod1NbZX3gVtAv+vOnR3wtcqojfIXFRriPfoOcKNk/G6KddHhf8mROjP5SLUUWYBvTFdP43cu6/I8Ym7fKd4E8DbvPHZ9MHTA3EsmiOADYFBrtRsGsP2NSCtAl+hWKxIRezIOM0SsDdhDczNgltVyqPn2YuF9q6AzYXAndpDq6ZgCZgiUKvR2ibqRlEyjlfaJN8jdKFYvlCMwHXAi0KvZ1C22kKu7Qj+bBLYdcCzAspaSbgeoUOuOwoynSlbZqRfBhQ2l4XUtBMwLnKzvqFtqOVtmnmGKFN8lViRkhBMwHTlJ1JZ8VRStu0kBXapGUG7QS0hhQ0E3AoxVu1UviVZ3+ZjydN6EFoJqBX2dmxQtsfStu0IMVD8kG7J/BTKR1G+UbZ2WShbVBpmxbqhTYpuZB8ldgaUtBMwPvKzqRBSalpKRwo03FKQfJBewWsCSloJuBjYI9CT0rXdijsQvSQbBGV5EOHwq4X+DSkpJmAv4BHFXqzhDbNG2OIx4DVwP0oHmoVYIvQJr0dR1kM7CvXIOpxW41xC1DSWlBbwCYkz0eONw93NVZzMU5Kw0M1TV+iX2dT0wr8FtPpMPJy9PYYmzhZhvxQnAosJ35JuFwiLUc3Av/E2PyKKzSuCJfgMhtf59cINkti9CXZA9ypGEsL8ACu7DxfjVGq+HbsHhb6nRdznL3It2IvpbwonQGsRd50WAXcGmlrw2USofXxb4G3cMW6UuoXxzjchEzBnX1NxKeKw7gNpAHcLtZs4KmITn5LMvoetAq3OR+lF7dbtq3IsZfEqbj3g+gZMARMEPRXC7pZYDfwHP41k+OBy3J/i0Vr24J8Ba0UdCcgb8p/RQILjxngFWEwNwm65yBf5u/EHP8R3NJAFpdNLC5ibFrbOlz1Q3RcI8hVDgsF3RdIuEhrLgfv+/Yg39qWM3rwWWCRoDvbo3uVYjzF2N7n0V0q6NbhzvS8zjbgasV4qkK+NDFfMXGDoOMrTTzA6FLGZwW9LPCMYixa2wW5vqN6vtLEztz/+3EP//GKsVSdI4F7ccW5Uh4sXcJZ3EOxcNK6PHqarVGN7Xz8aaxUblgPfIgrLk5NTWgcTfhr7X3l6ftxm//gMqfow24QOEnRd8h2EfKZn8Vfnt5ASs/4UmjAlXr7cuk1uNvVebjPVftwayrB3aUCJNsW4N2YftdyGAU5ROgTpX7gHspzuWdwD9u4l7Ux9YlSnknA5/iDkgV+xtXia7dFC2nFpZ+/BPpYxxgMfp5G3KeicQHK4vLyblwmsxBXOl74pjsZOBu4GZcFdedsQsd9iTH8mWohnVR3lXM38lc8Y5pmXHl7pX+q4HXk/Wsjx3TcbWkf5Qv8MG5vQar3NzyMiZ+rqZW6HekHmybyf+HXn7jyEfvBJsMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMOA/wBRhElTRA5BGwAAAABJRU5ErkJggg==",L_=t=>(hP("data-v-450e6d30"),t=t(),pP(),t),cX={class:"nav"},uX={class:"content"},dX={class:"arrows"},fX=L_(()=>Ie("img",{class:"image",src:oX,alt:""},null,-1)),hX=[fX],pX=L_(()=>Ie("img",{class:"image",src:aX,alt:""},null,-1)),mX=[pX],gX=L_(()=>Ie("img",{class:"image",src:lX,alt:""},null,-1)),vX=[gX],_X=L_(()=>Ie("ion-icon",{name:"cloud-upload-outline"},null,-1)),AX=[_X],yX=Ge({__name:"NavBar",props:{fileNum:{default:0},min:{default:0},max:{default:160},showContrast:{type:Boolean,default:!1},initSliceIndex:null,immediateSliceNum:{default:0},contrastIndex:{default:0},isAxisClicked:{type:Boolean,default:!1}},emits:["onSliceChange","resetMainAreaSize","onChangeOrientation","onOpenDialog"],setup(t,{emit:n}){const i=t,o=Mr(i),{immediateSliceNum:l,contrastIndex:d,initSliceIndex:h,fileNum:g}=Di(o),y=re(0);let b=0,C=!1,E=!1;const I=()=>{n("onOpenDialog",!0)},M=N=>{C=!0,n("onChangeOrientation",N),C=!1};document.addEventListener("keydown",N=>{N.key==="ArrowUp"&&b>0&&(b-=1,R(),n("onSliceChange",-1)),N.key==="ArrowDown"&&b<i.max&&(b+=1,R(),n("onSliceChange",1))});const T=()=>{const N=y.value-b;b+=N,!C&&!E&&n("onSliceChange",N),C=!1,E=!1},R=()=>{y.value=b};return _s(()=>{b=l.value*g.value+d.value,R()}),_s(()=>{h!=null&&h.value&&(b=(h==null?void 0:h.value)*g.value),R()}),(N,D)=>{const V=Mn("el-slider");return $(),_e("div",cX,[Ie("div",uX,[Re(V,{modelValue:y.value,"onUpdate:modelValue":D[0]||(D[0]=B=>y.value=B),max:v(i).max,onInput:T,"show-input":""},null,8,["modelValue","max"]),Ie("div",dX,[Ie("span",{onClick:D[1]||(D[1]=B=>M("x"))},hX),Ie("span",{onClick:D[2]||(D[2]=B=>M("z"))},mX),Ie("span",{onClick:D[3]||(D[3]=B=>M("y"))},vX),Ie("span",{onClick:I},AX)])])])}}}),nN=(t,n)=>{const i=t.__vccOpts||t;for(const[o,l]of n)i[o]=l;return i},bX=nN(yX,[["__scopeId","data-v-450e6d30"]]);/*! Element Plus Icons Vue v2.0.10 */var br=(t,n)=>{let i=t.__vccOpts||t;for(let[o,l]of n)i[o]=l;return i},SX={name:"ArrowDown"},wX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},EX=Ie("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),CX=[EX];function IX(t,n,i,o,l,d){return $(),_e("svg",wX,CX)}var kc=br(SX,[["render",IX],["__file","arrow-down.vue"]]),xX={name:"ArrowLeft"},MX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},RX=Ie("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),TX=[RX];function PX(t,n,i,o,l,d){return $(),_e("svg",MX,TX)}var Ic=br(xX,[["render",PX],["__file","arrow-left.vue"]]),NX={name:"ArrowRight"},BX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},DX=Ie("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),kX=[DX];function LX(t,n,i,o,l,d){return $(),_e("svg",BX,kX)}var Ts=br(NX,[["render",LX],["__file","arrow-right.vue"]]),OX={name:"ArrowUp"},FX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},VX=Ie("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),GX=[VX];function UX(t,n,i,o,l,d){return $(),_e("svg",FX,GX)}var O_=br(OX,[["render",UX],["__file","arrow-up.vue"]]),zX={name:"Back"},HX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},QX=Ie("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),XX=Ie("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1),$X=[QX,XX];function WX(t,n,i,o,l,d){return $(),_e("svg",HX,$X)}var KX=br(zX,[["render",WX],["__file","back.vue"]]),jX={name:"Calendar"},qX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},YX=Ie("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),JX=[YX];function ZX(t,n,i,o,l,d){return $(),_e("svg",qX,JX)}var e$=br(jX,[["render",ZX],["__file","calendar.vue"]]),t$={name:"CaretRight"},n$={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},r$=Ie("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),i$=[r$];function s$(t,n,i,o,l,d){return $(),_e("svg",n$,i$)}var rN=br(t$,[["render",s$],["__file","caret-right.vue"]]),o$={name:"CaretTop"},a$={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},l$=Ie("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"},null,-1),c$=[l$];function u$(t,n,i,o,l,d){return $(),_e("svg",a$,c$)}var d$=br(o$,[["render",u$],["__file","caret-top.vue"]]),f$={name:"Check"},h$={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},p$=Ie("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),m$=[p$];function g$(t,n,i,o,l,d){return $(),_e("svg",h$,m$)}var mm=br(f$,[["render",g$],["__file","check.vue"]]),v$={name:"CircleCheckFilled"},_$={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},A$=Ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),y$=[A$];function b$(t,n,i,o,l,d){return $(),_e("svg",_$,y$)}var S$=br(v$,[["render",b$],["__file","circle-check-filled.vue"]]),w$={name:"CircleCheck"},E$={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},C$=Ie("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),I$=Ie("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),x$=[C$,I$];function M$(t,n,i,o,l,d){return $(),_e("svg",E$,x$)}var ES=br(w$,[["render",M$],["__file","circle-check.vue"]]),R$={name:"CircleCloseFilled"},T$={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},P$=Ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),N$=[P$];function B$(t,n,i,o,l,d){return $(),_e("svg",T$,N$)}var CS=br(R$,[["render",B$],["__file","circle-close-filled.vue"]]),D$={name:"CircleClose"},k$={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},L$=Ie("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),O$=Ie("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),F$=[L$,O$];function V$(t,n,i,o,l,d){return $(),_e("svg",k$,F$)}var Lc=br(D$,[["render",V$],["__file","circle-close.vue"]]),G$={name:"Clock"},U$={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},z$=Ie("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),H$=Ie("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),Q$=Ie("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),X$=[z$,H$,Q$];function $$(t,n,i,o,l,d){return $(),_e("svg",U$,X$)}var iN=br(G$,[["render",$$],["__file","clock.vue"]]),W$={name:"Close"},K$={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},j$=Ie("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),q$=[j$];function Y$(t,n,i,o,l,d){return $(),_e("svg",K$,q$)}var ga=br(W$,[["render",Y$],["__file","close.vue"]]),J$={name:"DArrowLeft"},Z$={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},e9=Ie("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),t9=[e9];function n9(t,n,i,o,l,d){return $(),_e("svg",Z$,t9)}var xf=br(J$,[["render",n9],["__file","d-arrow-left.vue"]]),r9={name:"DArrowRight"},i9={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},s9=Ie("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),o9=[s9];function a9(t,n,i,o,l,d){return $(),_e("svg",i9,o9)}var Mf=br(r9,[["render",a9],["__file","d-arrow-right.vue"]]),l9={name:"Delete"},c9={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},u9=Ie("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),d9=[u9];function f9(t,n,i,o,l,d){return $(),_e("svg",c9,d9)}var h9=br(l9,[["render",f9],["__file","delete.vue"]]),p9={name:"Document"},m9={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},g9=Ie("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),v9=[g9];function _9(t,n,i,o,l,d){return $(),_e("svg",m9,v9)}var A9=br(p9,[["render",_9],["__file","document.vue"]]),y9={name:"FullScreen"},b9={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},S9=Ie("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),w9=[S9];function E9(t,n,i,o,l,d){return $(),_e("svg",b9,w9)}var C9=br(y9,[["render",E9],["__file","full-screen.vue"]]),I9={name:"Hide"},x9={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},M9=Ie("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),R9=Ie("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),T9=[M9,R9];function P9(t,n,i,o,l,d){return $(),_e("svg",x9,T9)}var N9=br(I9,[["render",P9],["__file","hide.vue"]]),B9={name:"InfoFilled"},D9={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},k9=Ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),L9=[k9];function O9(t,n,i,o,l,d){return $(),_e("svg",D9,L9)}var IS=br(B9,[["render",O9],["__file","info-filled.vue"]]),F9={name:"Loading"},V9={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},G9=Ie("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),U9=[G9];function z9(t,n,i,o,l,d){return $(),_e("svg",V9,U9)}var Oc=br(F9,[["render",z9],["__file","loading.vue"]]),H9={name:"Minus"},Q9={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},X9=Ie("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),$9=[X9];function W9(t,n,i,o,l,d){return $(),_e("svg",Q9,$9)}var K9=br(H9,[["render",W9],["__file","minus.vue"]]),j9={name:"MoreFilled"},q9={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Y9=Ie("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),J9=[Y9];function Z9(t,n,i,o,l,d){return $(),_e("svg",q9,J9)}var eM=br(j9,[["render",Z9],["__file","more-filled.vue"]]),e7={name:"More"},t7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},n7=Ie("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),r7=[n7];function i7(t,n,i,o,l,d){return $(),_e("svg",t7,r7)}var s7=br(e7,[["render",i7],["__file","more.vue"]]),o7={name:"PictureFilled"},a7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},l7=Ie("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32H96zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112zM256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384z"},null,-1),c7=[l7];function u7(t,n,i,o,l,d){return $(),_e("svg",a7,c7)}var d7=br(o7,[["render",u7],["__file","picture-filled.vue"]]),f7={name:"Plus"},h7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},p7=Ie("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),m7=[p7];function g7(t,n,i,o,l,d){return $(),_e("svg",h7,m7)}var sN=br(f7,[["render",g7],["__file","plus.vue"]]),v7={name:"QuestionFilled"},_7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},A7=Ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1),y7=[A7];function b7(t,n,i,o,l,d){return $(),_e("svg",_7,y7)}var S7=br(v7,[["render",b7],["__file","question-filled.vue"]]),w7={name:"RefreshLeft"},E7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},C7=Ie("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),I7=[C7];function x7(t,n,i,o,l,d){return $(),_e("svg",E7,I7)}var M7=br(w7,[["render",x7],["__file","refresh-left.vue"]]),R7={name:"RefreshRight"},T7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},P7=Ie("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),N7=[P7];function B7(t,n,i,o,l,d){return $(),_e("svg",T7,N7)}var D7=br(R7,[["render",B7],["__file","refresh-right.vue"]]),k7={name:"ScaleToOriginal"},L7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},O7=Ie("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),F7=[O7];function V7(t,n,i,o,l,d){return $(),_e("svg",L7,F7)}var G7=br(k7,[["render",V7],["__file","scale-to-original.vue"]]),U7={name:"Search"},z7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},H7=Ie("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),Q7=[H7];function X7(t,n,i,o,l,d){return $(),_e("svg",z7,Q7)}var $7=br(U7,[["render",X7],["__file","search.vue"]]),W7={name:"SortDown"},K7={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},j7=Ie("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0z"},null,-1),q7=[j7];function Y7(t,n,i,o,l,d){return $(),_e("svg",K7,q7)}var J7=br(W7,[["render",Y7],["__file","sort-down.vue"]]),Z7={name:"SortUp"},eW={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},tW=Ie("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248z"},null,-1),nW=[tW];function rW(t,n,i,o,l,d){return $(),_e("svg",eW,nW)}var iW=br(Z7,[["render",rW],["__file","sort-up.vue"]]),sW={name:"StarFilled"},oW={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},aW=Ie("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),lW=[aW];function cW(t,n,i,o,l,d){return $(),_e("svg",oW,lW)}var sv=br(sW,[["render",cW],["__file","star-filled.vue"]]),uW={name:"Star"},dW={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},fW=Ie("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1),hW=[fW];function pW(t,n,i,o,l,d){return $(),_e("svg",dW,hW)}var mW=br(uW,[["render",pW],["__file","star.vue"]]),gW={name:"SuccessFilled"},vW={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_W=Ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),AW=[_W];function yW(t,n,i,o,l,d){return $(),_e("svg",vW,AW)}var oN=br(gW,[["render",yW],["__file","success-filled.vue"]]),bW={name:"UploadFilled"},SW={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},wW=Ie("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6H544z"},null,-1),EW=[wW];function CW(t,n,i,o,l,d){return $(),_e("svg",SW,EW)}var IW=br(bW,[["render",CW],["__file","upload-filled.vue"]]),xW={name:"View"},MW={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},RW=Ie("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),TW=[RW];function PW(t,n,i,o,l,d){return $(),_e("svg",MW,TW)}var NW=br(xW,[["render",PW],["__file","view.vue"]]),BW={name:"WarningFilled"},DW={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kW=Ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),LW=[kW];function OW(t,n,i,o,l,d){return $(),_e("svg",DW,LW)}var F_=br(BW,[["render",OW],["__file","warning-filled.vue"]]),FW={name:"ZoomIn"},VW={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},GW=Ie("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),UW=[GW];function zW(t,n,i,o,l,d){return $(),_e("svg",VW,UW)}var aN=br(FW,[["render",zW],["__file","zoom-in.vue"]]),HW={name:"ZoomOut"},QW={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},XW=Ie("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),$W=[XW];function WW(t,n,i,o,l,d){return $(),_e("svg",QW,$W)}var KW=br(HW,[["render",WW],["__file","zoom-out.vue"]]);const xS=t=>(hP("data-v-504a663e"),t=t(),pP(),t),jW=xS(()=>Ie("div",{class:"el-upload__text"},[mr(" Drop file here or "),Ie("em",null,"click to upload")],-1)),qW=xS(()=>Ie("div",{class:"el-upload__tip"},"Please drag or upload NRRD files!",-1)),YW=xS(()=>Ie("div",{class:"el-upload__tip"}," Ready to Submit: Please click drak area!!! ",-1)),JW=Ge({__name:"Upload",props:{dialog:{type:Boolean,default:!1}},emits:["onCloseDialog","getLoadFilesUrls"],setup(t,{emit:n}){let i=[],o=[],l=!1;const d=C=>{let E=C.currentTarget,I=C.target;E===I&&(i.forEach(M=>{const T=URL.createObjectURL(M);o.push(T)}),n("getLoadFilesUrls",o),n("onCloseDialog",!1),l=!0,h())},h=()=>{i=[],o.forEach(C=>{URL.revokeObjectURL(C)}),o=[]},g=C=>{l&&(l=!1,h());let E=C.name,I;E.match(/\.(nrrd)$/)&&(I=C.raw,i.push(I)),I||b("No .nrrd asset found!")},y=C=>{i=i.filter(E=>E.name!==C.name)},b=C=>{let E=(C||{}).message||C.toString();E.match(/ProgressEvent/)?E="Unable to retrieve this file. Check JS console and browser network tab.":E.match(/Unexpected token/)?E=`Unable to parse file content. Verify that this file is valid. Error: "${E}"`:C&&C.target&&C.target instanceof Image&&(E="Missing texture: "+C.target.src.split("/").pop()),window.alert(E)};return(C,E)=>{const I=Mn("el-icon"),M=Mn("el-upload");return t.dialog?($(),_e("div",{key:0,onClick:d,class:"upload_container"},[Re(M,{"auto-upload":!1,onChange:g,onRemove:y,class:"upload-demo",drag:"",action:"/",multiple:""},{tip:Ue(()=>[qW,YW]),default:Ue(()=>[Re(I,{class:"el-icon--upload"},{default:Ue(()=>[Re(v(IW))]),_:1}),jW]),_:1})])):Ze("",!0)}}}),ZW=nN(JW,[["__scopeId","data-v-504a663e"]]),eK=QH("<h3>How to use:</h3><p><strong>--&gt; Zoom:</strong> Mouse wheel.</p><p><strong>--&gt; Pan: </strong> Mouse right click + drag image.</p><p><strong>--&gt; Switch slice:</strong> Mouse left click + drag image.</p><p><strong>--&gt; Painting:</strong> Press `shift` key on your keyboard (don&#39;t release it), then use mouse left click to paint. </p><p><strong> --&gt; Undo:</strong> 1. In GUI click undo; or 2. on keyborad using ctrl+z (windows) / command+z (mac). </p><p><strong> --&gt; Cursor Inspector:</strong> Press `s` on the keyboard to enable/disable, then left click on images, and use bottom tool&#39;s bar to switch the image orientation. </p>",7),tK=[eK],nK=Ge({__name:"App",setup(t){let n,i=re(0),o=re(0),l=re(0),d=re(0),h=re(0),g=re(!1),y=re(),b=re(),C=re(),E=re(),I,M=re(),T=new eX({width:300,autoPlace:!1}),R,N,D=[],V=[],B=re(0),z,H=!0;jn(()=>{var Se;console.log("%cNRRD Segmentation App %cBeta:v2.2.5","padding: 3px;color:white; background:#d94607","padding: 3px;color:white; background:#219EBC"),(Se=C.value)==null||Se.appendChild(T.domElement),n=new Cu.exports.copperRenderer(y.value),R=new Cu.exports.nrrd_tools(E.value),N=Cu.exports.loading(),E.value.appendChild(N.loadingContainer),document.addEventListener("keydown",ye=>{ye.code==="KeyF"&&Cu.exports.fullScreenListenner(y.value)}),Ae(),me("nrrd_tools"),n.animate()});const q=Se=>{d.value=Se.length,V=Se,V.length>0&&ce(V)},he=Se=>{g.value=Se},ne=Se=>{g.value=Se},se=Se=>{R.setSliceOrientation(Se),i.value=R.getMaxSliceNum()[1];const{currentIndex:ye,contrastIndex:ie}=R.getCurrentSlicesNumAndContrastNum();o.value=ye,l.value=ie},oe=Se=>{R.setSliceMoving(Se)},xe=Se=>{R.setMainAreaSize(Se)};_s(()=>{if(B.value!=0&&D.length!=0&&B.value===V.length){console.log("All files ready!"),R.clear(),D.sort((ie,fe)=>ie.order-fe.order),R.setShowInMainArea(!0),R.setAllSlices(D),h.value=R.getCurrentSliceIndex();const Se=(ie,fe)=>{o.value=ie,l.value=fe};H?(R.drag({showNumber:!0,getSliceNum:Se}),R.draw(I,T),I==null||I.addPreRenderCallbackFunction(R.start)):R.redrawMianPreOnDisplayCanvas(),i.value=R.getMaxSliceNum()[1],setTimeout(()=>{h.value=0,B.value=0},1e3),H=!1;const ye={};for(let ie=0;ie<D.length;ie++)if(ie==0)ye.pre=!0;else{const fe="contrast"+ie;ye[fe]=!0}R.removeGuiFolderChilden(z);for(let ie=0;ie<D.length;ie++){let fe="";ie===0?fe="pre":fe="contrast"+ie,z.add(ye,fe).onChange(le=>{le?(d.value+=1,R.addSkip(ie)):(d.value-=1,R.removeSkip(ie));const Oe=R.getMaxSliceNum()[1];if(Oe){i.value=Oe;const{currentIndex:Qe,contrastIndex:Pe}=R.getCurrentSlicesNumAndContrastNum();o.value=Qe,l.value=Pe+1}})}}});function me(Se){I=n.getSceneByName(Se),I==null&&(I=n.createScene(Se),I&&(n.setCurrentScene(I),I&&I.loadViewUrl("/NRRD_Segmentation_Tool/nrrd_view.json"),Cu.exports.setHDRFilePath("/NRRD_Segmentation_Tool/venice_sunset_1k.hdr"),I.updateBackground("#18e5a7","#ff00ff")),n.updateEnvironment(),V=["/NRRD_Segmentation_Tool/nrrd/case1/pre.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c1.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c2.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c3.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c4.nrrd"],ce(V))}const ce=Se=>{d.value=Se.length,D=[];const ye=(ie,fe,le)=>{const Oe=Object.assign(le,{order:0});D.push(Oe),M.value=le,B.value+=1};I==null||I.loadNrrd(Se[0],N,ye);for(let ie=1;ie<Se.length;ie++)I==null||I.loadNrrd(Se[ie],N,(fe,le,Oe)=>{const Qe=Object.assign(Oe,{order:ie});D.push(Qe),B.value+=1})};function Ae(){const Se={introduction:!0,showContrast:!1,switchCase:"case1"};T.add(Se,"introduction").name("Intro Panel").onChange(ye=>{ye?b.value.style.display="flex":b.value.style.display="none"}),T.add(Se,"switchCase",["case1","case2","case3"]).onChange(ye=>{switch(ye){case"case1":V=["/NRRD_Segmentation_Tool/nrrd/case1/pre.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c1.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c2.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c3.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c4.nrrd"];break;case"case2":V=["/NRRD_Segmentation_Tool/nrrd/case2/pre.nrrd","/NRRD_Segmentation_Tool/nrrd/case2/c1.nrrd","/NRRD_Segmentation_Tool/nrrd/case2/c2.nrrd","/NRRD_Segmentation_Tool/nrrd/case2/c3.nrrd","/NRRD_Segmentation_Tool/nrrd/case2/c4.nrrd"];break;case"case3":V=["/NRRD_Segmentation_Tool/nrrd/case3/pre.nrrd","/NRRD_Segmentation_Tool/nrrd/case3/c1.nrrd","/NRRD_Segmentation_Tool/nrrd/case3/c2.nrrd","/NRRD_Segmentation_Tool/nrrd/case3/c3.nrrd","/NRRD_Segmentation_Tool/nrrd/case3/c4.nrrd"];break}q(V)}),z=T.addFolder("select display contrast")}return(Se,ye)=>($(),_e("div",{id:"bg",ref_key:"base_container",ref:y},[Ie("div",{class:"intro",ref_key:"intro",ref:b},tK,512),Ie("div",{ref_key:"c_gui",ref:C,id:"gui"},null,512),Ie("div",{ref_key:"nrrd_c",ref:E,class:"nrrd_c"},null,512),Re(bX,{"file-num":v(d),max:v(i),"immediate-slice-num":v(o),"contrast-index":v(l),"init-slice-index":v(h),onOnSliceChange:oe,onResetMainAreaSize:xe,onOnChangeOrientation:se,onOnOpenDialog:he},null,8,["file-num","max","immediate-slice-num","contrast-index","init-slice-index"]),Re(ZW,{dialog:v(g),onOnCloseDialog:ne,onGetLoadFilesUrls:q},null,8,["dialog"])],512))}});var rK=typeof global=="object"&&global&&global.Object===Object&&global;const lN=rK;var iK=typeof self=="object"&&self&&self.Object===Object&&self,sK=lN||iK||Function("return this")();const ba=sK;var oK=ba.Symbol;const Do=oK;var cN=Object.prototype,aK=cN.hasOwnProperty,lK=cN.toString,up=Do?Do.toStringTag:void 0;function cK(t){var n=aK.call(t,up),i=t[up];try{t[up]=void 0;var o=!0}catch{}var l=lK.call(t);return o&&(n?t[up]=i:delete t[up]),l}var uK=Object.prototype,dK=uK.toString;function fK(t){return dK.call(t)}var hK="[object Null]",pK="[object Undefined]",tM=Do?Do.toStringTag:void 0;function Xf(t){return t==null?t===void 0?pK:hK:tM&&tM in Object(t)?cK(t):fK(t)}function Tl(t){return t!=null&&typeof t=="object"}var mK="[object Symbol]";function V_(t){return typeof t=="symbol"||Tl(t)&&Xf(t)==mK}function uN(t,n){for(var i=-1,o=t==null?0:t.length,l=Array(o);++i<o;)l[i]=n(t[i],i,t);return l}var gK=Array.isArray;const go=gK;var vK=1/0,nM=Do?Do.prototype:void 0,rM=nM?nM.toString:void 0;function dN(t){if(typeof t=="string")return t;if(go(t))return uN(t,dN)+"";if(V_(t))return rM?rM.call(t):"";var n=t+"";return n=="0"&&1/t==-vK?"-0":n}var _K=/\s/;function AK(t){for(var n=t.length;n--&&_K.test(t.charAt(n)););return n}var yK=/^\s+/;function bK(t){return t&&t.slice(0,AK(t)+1).replace(yK,"")}function ko(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var iM=0/0,SK=/^[-+]0x[0-9a-f]+$/i,wK=/^0b[01]+$/i,EK=/^0o[0-7]+$/i,CK=parseInt;function sM(t){if(typeof t=="number")return t;if(V_(t))return iM;if(ko(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=ko(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=bK(t);var i=wK.test(t);return i||EK.test(t)?CK(t.slice(2),i?2:8):SK.test(t)?iM:+t}function MS(t){return t}var IK="[object AsyncFunction]",xK="[object Function]",MK="[object GeneratorFunction]",RK="[object Proxy]";function fN(t){if(!ko(t))return!1;var n=Xf(t);return n==xK||n==MK||n==IK||n==RK}var TK=ba["__core-js_shared__"];const sb=TK;var oM=function(){var t=/[^.]+$/.exec(sb&&sb.keys&&sb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function PK(t){return!!oM&&oM in t}var NK=Function.prototype,BK=NK.toString;function Yu(t){if(t!=null){try{return BK.call(t)}catch{}try{return t+""}catch{}}return""}var DK=/[\\^$.*+?()[\]{}|]/g,kK=/^\[object .+?Constructor\]$/,LK=Function.prototype,OK=Object.prototype,FK=LK.toString,VK=OK.hasOwnProperty,GK=RegExp("^"+FK.call(VK).replace(DK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function UK(t){if(!ko(t)||PK(t))return!1;var n=fN(t)?GK:kK;return n.test(Yu(t))}function zK(t,n){return t==null?void 0:t[n]}function Ju(t,n){var i=zK(t,n);return UK(i)?i:void 0}var HK=Ju(ba,"WeakMap");const Yb=HK;var aM=Object.create,QK=function(){function t(){}return function(n){if(!ko(n))return{};if(aM)return aM(n);t.prototype=n;var i=new t;return t.prototype=void 0,i}}();const XK=QK;function $K(t,n,i){switch(i.length){case 0:return t.call(n);case 1:return t.call(n,i[0]);case 2:return t.call(n,i[0],i[1]);case 3:return t.call(n,i[0],i[1],i[2])}return t.apply(n,i)}function WK(){}function KK(t,n){var i=-1,o=t.length;for(n||(n=Array(o));++i<o;)n[i]=t[i];return n}var jK=800,qK=16,YK=Date.now;function JK(t){var n=0,i=0;return function(){var o=YK(),l=qK-(o-i);if(i=o,l>0){if(++n>=jK)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}function ZK(t){return function(){return t}}var ej=function(){try{var t=Ju(Object,"defineProperty");return t({},"",{}),t}catch{}}();const i_=ej;var tj=i_?function(t,n){return i_(t,"toString",{configurable:!0,enumerable:!1,value:ZK(n),writable:!0})}:MS;const nj=tj;var rj=JK(nj);const hN=rj;function ij(t,n){for(var i=-1,o=t==null?0:t.length;++i<o&&n(t[i],i,t)!==!1;);return t}function sj(t,n,i,o){for(var l=t.length,d=i+(o?1:-1);o?d--:++d<l;)if(n(t[d],d,t))return d;return-1}function oj(t){return t!==t}function aj(t,n,i){for(var o=i-1,l=t.length;++o<l;)if(t[o]===n)return o;return-1}function lj(t,n,i){return n===n?aj(t,n,i):sj(t,oj,i)}function cj(t,n){var i=t==null?0:t.length;return!!i&&lj(t,n,0)>-1}var uj=9007199254740991,dj=/^(?:0|[1-9]\d*)$/;function RS(t,n){var i=typeof t;return n=n==null?uj:n,!!n&&(i=="number"||i!="symbol"&&dj.test(t))&&t>-1&&t%1==0&&t<n}function pN(t,n,i){n=="__proto__"&&i_?i_(t,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[n]=i}function TS(t,n){return t===n||t!==t&&n!==n}var fj=Object.prototype,hj=fj.hasOwnProperty;function PS(t,n,i){var o=t[n];(!(hj.call(t,n)&&TS(o,i))||i===void 0&&!(n in t))&&pN(t,n,i)}function G_(t,n,i,o){var l=!i;i||(i={});for(var d=-1,h=n.length;++d<h;){var g=n[d],y=o?o(i[g],t[g],g,i,t):void 0;y===void 0&&(y=t[g]),l?pN(i,g,y):PS(i,g,y)}return i}var lM=Math.max;function mN(t,n,i){return n=lM(n===void 0?t.length-1:n,0),function(){for(var o=arguments,l=-1,d=lM(o.length-n,0),h=Array(d);++l<d;)h[l]=o[n+l];l=-1;for(var g=Array(n+1);++l<n;)g[l]=o[l];return g[n]=i(h),$K(t,this,g)}}function pj(t,n){return hN(mN(t,n,MS),t+"")}var mj=9007199254740991;function NS(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=mj}function gm(t){return t!=null&&NS(t.length)&&!fN(t)}var gj=Object.prototype;function BS(t){var n=t&&t.constructor,i=typeof n=="function"&&n.prototype||gj;return t===i}function vj(t,n){for(var i=-1,o=Array(t);++i<t;)o[i]=n(i);return o}var _j="[object Arguments]";function cM(t){return Tl(t)&&Xf(t)==_j}var gN=Object.prototype,Aj=gN.hasOwnProperty,yj=gN.propertyIsEnumerable,bj=cM(function(){return arguments}())?cM:function(t){return Tl(t)&&Aj.call(t,"callee")&&!yj.call(t,"callee")};const DS=bj;function Sj(){return!1}var vN=typeof fo=="object"&&fo&&!fo.nodeType&&fo,uM=vN&&typeof ho=="object"&&ho&&!ho.nodeType&&ho,wj=uM&&uM.exports===vN,dM=wj?ba.Buffer:void 0,Ej=dM?dM.isBuffer:void 0,Cj=Ej||Sj;const s_=Cj;var Ij="[object Arguments]",xj="[object Array]",Mj="[object Boolean]",Rj="[object Date]",Tj="[object Error]",Pj="[object Function]",Nj="[object Map]",Bj="[object Number]",Dj="[object Object]",kj="[object RegExp]",Lj="[object Set]",Oj="[object String]",Fj="[object WeakMap]",Vj="[object ArrayBuffer]",Gj="[object DataView]",Uj="[object Float32Array]",zj="[object Float64Array]",Hj="[object Int8Array]",Qj="[object Int16Array]",Xj="[object Int32Array]",$j="[object Uint8Array]",Wj="[object Uint8ClampedArray]",Kj="[object Uint16Array]",jj="[object Uint32Array]",Ai={};Ai[Uj]=Ai[zj]=Ai[Hj]=Ai[Qj]=Ai[Xj]=Ai[$j]=Ai[Wj]=Ai[Kj]=Ai[jj]=!0;Ai[Ij]=Ai[xj]=Ai[Vj]=Ai[Mj]=Ai[Gj]=Ai[Rj]=Ai[Tj]=Ai[Pj]=Ai[Nj]=Ai[Bj]=Ai[Dj]=Ai[kj]=Ai[Lj]=Ai[Oj]=Ai[Fj]=!1;function qj(t){return Tl(t)&&NS(t.length)&&!!Ai[Xf(t)]}function kS(t){return function(n){return t(n)}}var _N=typeof fo=="object"&&fo&&!fo.nodeType&&fo,Cp=_N&&typeof ho=="object"&&ho&&!ho.nodeType&&ho,Yj=Cp&&Cp.exports===_N,ob=Yj&&lN.process,Jj=function(){try{var t=Cp&&Cp.require&&Cp.require("util").types;return t||ob&&ob.binding&&ob.binding("util")}catch{}}();const Rf=Jj;var fM=Rf&&Rf.isTypedArray,Zj=fM?kS(fM):qj;const AN=Zj;var eq=Object.prototype,tq=eq.hasOwnProperty;function yN(t,n){var i=go(t),o=!i&&DS(t),l=!i&&!o&&s_(t),d=!i&&!o&&!l&&AN(t),h=i||o||l||d,g=h?vj(t.length,String):[],y=g.length;for(var b in t)(n||tq.call(t,b))&&!(h&&(b=="length"||l&&(b=="offset"||b=="parent")||d&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||RS(b,y)))&&g.push(b);return g}function bN(t,n){return function(i){return t(n(i))}}var nq=bN(Object.keys,Object);const rq=nq;var iq=Object.prototype,sq=iq.hasOwnProperty;function oq(t){if(!BS(t))return rq(t);var n=[];for(var i in Object(t))sq.call(t,i)&&i!="constructor"&&n.push(i);return n}function vm(t){return gm(t)?yN(t):oq(t)}function aq(t){var n=[];if(t!=null)for(var i in Object(t))n.push(i);return n}var lq=Object.prototype,cq=lq.hasOwnProperty;function uq(t){if(!ko(t))return aq(t);var n=BS(t),i=[];for(var o in t)o=="constructor"&&(n||!cq.call(t,o))||i.push(o);return i}function LS(t){return gm(t)?yN(t,!0):uq(t)}var dq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fq=/^\w*$/;function OS(t,n){if(go(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||V_(t)?!0:fq.test(t)||!dq.test(t)||n!=null&&t in Object(n)}var hq=Ju(Object,"create");const $p=hq;function pq(){this.__data__=$p?$p(null):{},this.size=0}function mq(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var gq="__lodash_hash_undefined__",vq=Object.prototype,_q=vq.hasOwnProperty;function Aq(t){var n=this.__data__;if($p){var i=n[t];return i===gq?void 0:i}return _q.call(n,t)?n[t]:void 0}var yq=Object.prototype,bq=yq.hasOwnProperty;function Sq(t){var n=this.__data__;return $p?n[t]!==void 0:bq.call(n,t)}var wq="__lodash_hash_undefined__";function Eq(t,n){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=$p&&n===void 0?wq:n,this}function Hu(t){var n=-1,i=t==null?0:t.length;for(this.clear();++n<i;){var o=t[n];this.set(o[0],o[1])}}Hu.prototype.clear=pq;Hu.prototype.delete=mq;Hu.prototype.get=Aq;Hu.prototype.has=Sq;Hu.prototype.set=Eq;function Cq(){this.__data__=[],this.size=0}function U_(t,n){for(var i=t.length;i--;)if(TS(t[i][0],n))return i;return-1}var Iq=Array.prototype,xq=Iq.splice;function Mq(t){var n=this.__data__,i=U_(n,t);if(i<0)return!1;var o=n.length-1;return i==o?n.pop():xq.call(n,i,1),--this.size,!0}function Rq(t){var n=this.__data__,i=U_(n,t);return i<0?void 0:n[i][1]}function Tq(t){return U_(this.__data__,t)>-1}function Pq(t,n){var i=this.__data__,o=U_(i,t);return o<0?(++this.size,i.push([t,n])):i[o][1]=n,this}function kl(t){var n=-1,i=t==null?0:t.length;for(this.clear();++n<i;){var o=t[n];this.set(o[0],o[1])}}kl.prototype.clear=Cq;kl.prototype.delete=Mq;kl.prototype.get=Rq;kl.prototype.has=Tq;kl.prototype.set=Pq;var Nq=Ju(ba,"Map");const Wp=Nq;function Bq(){this.size=0,this.__data__={hash:new Hu,map:new(Wp||kl),string:new Hu}}function Dq(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function z_(t,n){var i=t.__data__;return Dq(n)?i[typeof n=="string"?"string":"hash"]:i.map}function kq(t){var n=z_(this,t).delete(t);return this.size-=n?1:0,n}function Lq(t){return z_(this,t).get(t)}function Oq(t){return z_(this,t).has(t)}function Fq(t,n){var i=z_(this,t),o=i.size;return i.set(t,n),this.size+=i.size==o?0:1,this}function Ll(t){var n=-1,i=t==null?0:t.length;for(this.clear();++n<i;){var o=t[n];this.set(o[0],o[1])}}Ll.prototype.clear=Bq;Ll.prototype.delete=kq;Ll.prototype.get=Lq;Ll.prototype.has=Oq;Ll.prototype.set=Fq;var Vq="Expected a function";function H_(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(Vq);var i=function(){var o=arguments,l=n?n.apply(this,o):o[0],d=i.cache;if(d.has(l))return d.get(l);var h=t.apply(this,o);return i.cache=d.set(l,h)||d,h};return i.cache=new(H_.Cache||Ll),i}H_.Cache=Ll;var Gq=500;function Uq(t){var n=H_(t,function(o){return i.size===Gq&&i.clear(),o}),i=n.cache;return n}var zq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hq=/\\(\\)?/g,Qq=Uq(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(zq,function(i,o,l,d){n.push(l?d.replace(Hq,"$1"):o||i)}),n});const Xq=Qq;function $q(t){return t==null?"":dN(t)}function Q_(t,n){return go(t)?t:OS(t,n)?[t]:Xq($q(t))}var Wq=1/0;function _m(t){if(typeof t=="string"||V_(t))return t;var n=t+"";return n=="0"&&1/t==-Wq?"-0":n}function FS(t,n){n=Q_(n,t);for(var i=0,o=n.length;t!=null&&i<o;)t=t[_m(n[i++])];return i&&i==o?t:void 0}function ti(t,n,i){var o=t==null?void 0:FS(t,n);return o===void 0?i:o}function VS(t,n){for(var i=-1,o=n.length,l=t.length;++i<o;)t[l+i]=n[i];return t}var hM=Do?Do.isConcatSpreadable:void 0;function Kq(t){return go(t)||DS(t)||!!(hM&&t&&t[hM])}function Am(t,n,i,o,l){var d=-1,h=t.length;for(i||(i=Kq),l||(l=[]);++d<h;){var g=t[d];n>0&&i(g)?n>1?Am(g,n-1,i,o,l):VS(l,g):o||(l[l.length]=g)}return l}function SN(t){var n=t==null?0:t.length;return n?Am(t,1):[]}function jq(t){return hN(mN(t,void 0,SN),t+"")}var qq=bN(Object.getPrototypeOf,Object);const wN=qq;function Tf(){if(!arguments.length)return[];var t=arguments[0];return go(t)?t:[t]}function Yq(){this.__data__=new kl,this.size=0}function Jq(t){var n=this.__data__,i=n.delete(t);return this.size=n.size,i}function Zq(t){return this.__data__.get(t)}function eY(t){return this.__data__.has(t)}var tY=200;function nY(t,n){var i=this.__data__;if(i instanceof kl){var o=i.__data__;if(!Wp||o.length<tY-1)return o.push([t,n]),this.size=++i.size,this;i=this.__data__=new Ll(o)}return i.set(t,n),this.size=i.size,this}function za(t){var n=this.__data__=new kl(t);this.size=n.size}za.prototype.clear=Yq;za.prototype.delete=Jq;za.prototype.get=Zq;za.prototype.has=eY;za.prototype.set=nY;function rY(t,n){return t&&G_(n,vm(n),t)}function iY(t,n){return t&&G_(n,LS(n),t)}var EN=typeof fo=="object"&&fo&&!fo.nodeType&&fo,pM=EN&&typeof ho=="object"&&ho&&!ho.nodeType&&ho,sY=pM&&pM.exports===EN,mM=sY?ba.Buffer:void 0,gM=mM?mM.allocUnsafe:void 0;function oY(t,n){if(n)return t.slice();var i=t.length,o=gM?gM(i):new t.constructor(i);return t.copy(o),o}function aY(t,n){for(var i=-1,o=t==null?0:t.length,l=0,d=[];++i<o;){var h=t[i];n(h,i,t)&&(d[l++]=h)}return d}function CN(){return[]}var lY=Object.prototype,cY=lY.propertyIsEnumerable,vM=Object.getOwnPropertySymbols,uY=vM?function(t){return t==null?[]:(t=Object(t),aY(vM(t),function(n){return cY.call(t,n)}))}:CN;const GS=uY;function dY(t,n){return G_(t,GS(t),n)}var fY=Object.getOwnPropertySymbols,hY=fY?function(t){for(var n=[];t;)VS(n,GS(t)),t=wN(t);return n}:CN;const IN=hY;function pY(t,n){return G_(t,IN(t),n)}function xN(t,n,i){var o=n(t);return go(t)?o:VS(o,i(t))}function Jb(t){return xN(t,vm,GS)}function mY(t){return xN(t,LS,IN)}var gY=Ju(ba,"DataView");const Zb=gY;var vY=Ju(ba,"Promise");const e1=vY;var _Y=Ju(ba,"Set");const gf=_Y;var _M="[object Map]",AY="[object Object]",AM="[object Promise]",yM="[object Set]",bM="[object WeakMap]",SM="[object DataView]",yY=Yu(Zb),bY=Yu(Wp),SY=Yu(e1),wY=Yu(gf),EY=Yu(Yb),bu=Xf;(Zb&&bu(new Zb(new ArrayBuffer(1)))!=SM||Wp&&bu(new Wp)!=_M||e1&&bu(e1.resolve())!=AM||gf&&bu(new gf)!=yM||Yb&&bu(new Yb)!=bM)&&(bu=function(t){var n=Xf(t),i=n==AY?t.constructor:void 0,o=i?Yu(i):"";if(o)switch(o){case yY:return SM;case bY:return _M;case SY:return AM;case wY:return yM;case EY:return bM}return n});const Kp=bu;var CY=Object.prototype,IY=CY.hasOwnProperty;function xY(t){var n=t.length,i=new t.constructor(n);return n&&typeof t[0]=="string"&&IY.call(t,"index")&&(i.index=t.index,i.input=t.input),i}var MY=ba.Uint8Array;const o_=MY;function US(t){var n=new t.constructor(t.byteLength);return new o_(n).set(new o_(t)),n}function RY(t,n){var i=n?US(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}var TY=/\w*$/;function PY(t){var n=new t.constructor(t.source,TY.exec(t));return n.lastIndex=t.lastIndex,n}var wM=Do?Do.prototype:void 0,EM=wM?wM.valueOf:void 0;function NY(t){return EM?Object(EM.call(t)):{}}function BY(t,n){var i=n?US(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var DY="[object Boolean]",kY="[object Date]",LY="[object Map]",OY="[object Number]",FY="[object RegExp]",VY="[object Set]",GY="[object String]",UY="[object Symbol]",zY="[object ArrayBuffer]",HY="[object DataView]",QY="[object Float32Array]",XY="[object Float64Array]",$Y="[object Int8Array]",WY="[object Int16Array]",KY="[object Int32Array]",jY="[object Uint8Array]",qY="[object Uint8ClampedArray]",YY="[object Uint16Array]",JY="[object Uint32Array]";function ZY(t,n,i){var o=t.constructor;switch(n){case zY:return US(t);case DY:case kY:return new o(+t);case HY:return RY(t,i);case QY:case XY:case $Y:case WY:case KY:case jY:case qY:case YY:case JY:return BY(t,i);case LY:return new o;case OY:case GY:return new o(t);case FY:return PY(t);case VY:return new o;case UY:return NY(t)}}function eJ(t){return typeof t.constructor=="function"&&!BS(t)?XK(wN(t)):{}}var tJ="[object Map]";function nJ(t){return Tl(t)&&Kp(t)==tJ}var CM=Rf&&Rf.isMap,rJ=CM?kS(CM):nJ;const iJ=rJ;var sJ="[object Set]";function oJ(t){return Tl(t)&&Kp(t)==sJ}var IM=Rf&&Rf.isSet,aJ=IM?kS(IM):oJ;const lJ=aJ;var cJ=1,uJ=2,dJ=4,MN="[object Arguments]",fJ="[object Array]",hJ="[object Boolean]",pJ="[object Date]",mJ="[object Error]",RN="[object Function]",gJ="[object GeneratorFunction]",vJ="[object Map]",_J="[object Number]",TN="[object Object]",AJ="[object RegExp]",yJ="[object Set]",bJ="[object String]",SJ="[object Symbol]",wJ="[object WeakMap]",EJ="[object ArrayBuffer]",CJ="[object DataView]",IJ="[object Float32Array]",xJ="[object Float64Array]",MJ="[object Int8Array]",RJ="[object Int16Array]",TJ="[object Int32Array]",PJ="[object Uint8Array]",NJ="[object Uint8ClampedArray]",BJ="[object Uint16Array]",DJ="[object Uint32Array]",ui={};ui[MN]=ui[fJ]=ui[EJ]=ui[CJ]=ui[hJ]=ui[pJ]=ui[IJ]=ui[xJ]=ui[MJ]=ui[RJ]=ui[TJ]=ui[vJ]=ui[_J]=ui[TN]=ui[AJ]=ui[yJ]=ui[bJ]=ui[SJ]=ui[PJ]=ui[NJ]=ui[BJ]=ui[DJ]=!0;ui[mJ]=ui[RN]=ui[wJ]=!1;function Ip(t,n,i,o,l,d){var h,g=n&cJ,y=n&uJ,b=n&dJ;if(i&&(h=l?i(t,o,l,d):i(t)),h!==void 0)return h;if(!ko(t))return t;var C=go(t);if(C){if(h=xY(t),!g)return KK(t,h)}else{var E=Kp(t),I=E==RN||E==gJ;if(s_(t))return oY(t,g);if(E==TN||E==MN||I&&!l){if(h=y||I?{}:eJ(t),!g)return y?pY(t,iY(h,t)):dY(t,rY(h,t))}else{if(!ui[E])return l?t:{};h=ZY(t,E,g)}}d||(d=new za);var M=d.get(t);if(M)return M;d.set(t,h),lJ(t)?t.forEach(function(N){h.add(Ip(N,n,i,N,t,d))}):iJ(t)&&t.forEach(function(N,D){h.set(D,Ip(N,n,i,D,t,d))});var T=b?y?mY:Jb:y?LS:vm,R=C?void 0:T(t);return ij(R||t,function(N,D){R&&(D=N,N=t[D]),PS(h,D,Ip(N,n,i,D,t,d))}),h}var kJ=4;function xM(t){return Ip(t,kJ)}var LJ=1,OJ=4;function PN(t){return Ip(t,LJ|OJ)}var FJ="__lodash_hash_undefined__";function VJ(t){return this.__data__.set(t,FJ),this}function GJ(t){return this.__data__.has(t)}function jp(t){var n=-1,i=t==null?0:t.length;for(this.__data__=new Ll;++n<i;)this.add(t[n])}jp.prototype.add=jp.prototype.push=VJ;jp.prototype.has=GJ;function UJ(t,n){for(var i=-1,o=t==null?0:t.length;++i<o;)if(n(t[i],i,t))return!0;return!1}function NN(t,n){return t.has(n)}var zJ=1,HJ=2;function BN(t,n,i,o,l,d){var h=i&zJ,g=t.length,y=n.length;if(g!=y&&!(h&&y>g))return!1;var b=d.get(t),C=d.get(n);if(b&&C)return b==n&&C==t;var E=-1,I=!0,M=i&HJ?new jp:void 0;for(d.set(t,n),d.set(n,t);++E<g;){var T=t[E],R=n[E];if(o)var N=h?o(R,T,E,n,t,d):o(T,R,E,t,n,d);if(N!==void 0){if(N)continue;I=!1;break}if(M){if(!UJ(n,function(D,V){if(!NN(M,V)&&(T===D||l(T,D,i,o,d)))return M.push(V)})){I=!1;break}}else if(!(T===R||l(T,R,i,o,d))){I=!1;break}}return d.delete(t),d.delete(n),I}function QJ(t){var n=-1,i=Array(t.size);return t.forEach(function(o,l){i[++n]=[l,o]}),i}function zS(t){var n=-1,i=Array(t.size);return t.forEach(function(o){i[++n]=o}),i}var XJ=1,$J=2,WJ="[object Boolean]",KJ="[object Date]",jJ="[object Error]",qJ="[object Map]",YJ="[object Number]",JJ="[object RegExp]",ZJ="[object Set]",eZ="[object String]",tZ="[object Symbol]",nZ="[object ArrayBuffer]",rZ="[object DataView]",MM=Do?Do.prototype:void 0,ab=MM?MM.valueOf:void 0;function iZ(t,n,i,o,l,d,h){switch(i){case rZ:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case nZ:return!(t.byteLength!=n.byteLength||!d(new o_(t),new o_(n)));case WJ:case KJ:case YJ:return TS(+t,+n);case jJ:return t.name==n.name&&t.message==n.message;case JJ:case eZ:return t==n+"";case qJ:var g=QJ;case ZJ:var y=o&XJ;if(g||(g=zS),t.size!=n.size&&!y)return!1;var b=h.get(t);if(b)return b==n;o|=$J,h.set(t,n);var C=BN(g(t),g(n),o,l,d,h);return h.delete(t),C;case tZ:if(ab)return ab.call(t)==ab.call(n)}return!1}var sZ=1,oZ=Object.prototype,aZ=oZ.hasOwnProperty;function lZ(t,n,i,o,l,d){var h=i&sZ,g=Jb(t),y=g.length,b=Jb(n),C=b.length;if(y!=C&&!h)return!1;for(var E=y;E--;){var I=g[E];if(!(h?I in n:aZ.call(n,I)))return!1}var M=d.get(t),T=d.get(n);if(M&&T)return M==n&&T==t;var R=!0;d.set(t,n),d.set(n,t);for(var N=h;++E<y;){I=g[E];var D=t[I],V=n[I];if(o)var B=h?o(V,D,I,n,t,d):o(D,V,I,t,n,d);if(!(B===void 0?D===V||l(D,V,i,o,d):B)){R=!1;break}N||(N=I=="constructor")}if(R&&!N){var z=t.constructor,H=n.constructor;z!=H&&"constructor"in t&&"constructor"in n&&!(typeof z=="function"&&z instanceof z&&typeof H=="function"&&H instanceof H)&&(R=!1)}return d.delete(t),d.delete(n),R}var cZ=1,RM="[object Arguments]",TM="[object Array]",ov="[object Object]",uZ=Object.prototype,PM=uZ.hasOwnProperty;function dZ(t,n,i,o,l,d){var h=go(t),g=go(n),y=h?TM:Kp(t),b=g?TM:Kp(n);y=y==RM?ov:y,b=b==RM?ov:b;var C=y==ov,E=b==ov,I=y==b;if(I&&s_(t)){if(!s_(n))return!1;h=!0,C=!1}if(I&&!C)return d||(d=new za),h||AN(t)?BN(t,n,i,o,l,d):iZ(t,n,y,i,o,l,d);if(!(i&cZ)){var M=C&&PM.call(t,"__wrapped__"),T=E&&PM.call(n,"__wrapped__");if(M||T){var R=M?t.value():t,N=T?n.value():n;return d||(d=new za),l(R,N,i,o,d)}}return I?(d||(d=new za),lZ(t,n,i,o,l,d)):!1}function X_(t,n,i,o,l){return t===n?!0:t==null||n==null||!Tl(t)&&!Tl(n)?t!==t&&n!==n:dZ(t,n,i,o,X_,l)}var fZ=1,hZ=2;function pZ(t,n,i,o){var l=i.length,d=l,h=!o;if(t==null)return!d;for(t=Object(t);l--;){var g=i[l];if(h&&g[2]?g[1]!==t[g[0]]:!(g[0]in t))return!1}for(;++l<d;){g=i[l];var y=g[0],b=t[y],C=g[1];if(h&&g[2]){if(b===void 0&&!(y in t))return!1}else{var E=new za;if(o)var I=o(b,C,y,t,n,E);if(!(I===void 0?X_(C,b,fZ|hZ,o,E):I))return!1}}return!0}function DN(t){return t===t&&!ko(t)}function mZ(t){for(var n=vm(t),i=n.length;i--;){var o=n[i],l=t[o];n[i]=[o,l,DN(l)]}return n}function kN(t,n){return function(i){return i==null?!1:i[t]===n&&(n!==void 0||t in Object(i))}}function gZ(t){var n=mZ(t);return n.length==1&&n[0][2]?kN(n[0][0],n[0][1]):function(i){return i===t||pZ(i,t,n)}}function vZ(t,n){return t!=null&&n in Object(t)}function _Z(t,n,i){n=Q_(n,t);for(var o=-1,l=n.length,d=!1;++o<l;){var h=_m(n[o]);if(!(d=t!=null&&i(t,h)))break;t=t[h]}return d||++o!=l?d:(l=t==null?0:t.length,!!l&&NS(l)&&RS(h,l)&&(go(t)||DS(t)))}function LN(t,n){return t!=null&&_Z(t,n,vZ)}var AZ=1,yZ=2;function bZ(t,n){return OS(t)&&DN(n)?kN(_m(t),n):function(i){var o=ti(i,t);return o===void 0&&o===n?LN(i,t):X_(n,o,AZ|yZ)}}function SZ(t){return function(n){return n==null?void 0:n[t]}}function wZ(t){return function(n){return FS(n,t)}}function EZ(t){return OS(t)?SZ(_m(t)):wZ(t)}function CZ(t){return typeof t=="function"?t:t==null?MS:typeof t=="object"?go(t)?bZ(t[0],t[1]):gZ(t):EZ(t)}function IZ(t){return function(n,i,o){for(var l=-1,d=Object(n),h=o(n),g=h.length;g--;){var y=h[t?g:++l];if(i(d[y],y,d)===!1)break}return n}}var xZ=IZ();const MZ=xZ;function RZ(t,n){return t&&MZ(t,n,vm)}function TZ(t,n){return function(i,o){if(i==null)return i;if(!gm(i))return t(i,o);for(var l=i.length,d=n?l:-1,h=Object(i);(n?d--:++d<l)&&o(h[d],d,h)!==!1;);return i}}var PZ=TZ(RZ);const NZ=PZ;var BZ=function(){return ba.Date.now()};const lb=BZ;var DZ="Expected a function",kZ=Math.max,LZ=Math.min;function Ns(t,n,i){var o,l,d,h,g,y,b=0,C=!1,E=!1,I=!0;if(typeof t!="function")throw new TypeError(DZ);n=sM(n)||0,ko(i)&&(C=!!i.leading,E="maxWait"in i,d=E?kZ(sM(i.maxWait)||0,n):d,I="trailing"in i?!!i.trailing:I);function M(q){var he=o,ne=l;return o=l=void 0,b=q,h=t.apply(ne,he),h}function T(q){return b=q,g=setTimeout(D,n),C?M(q):h}function R(q){var he=q-y,ne=q-b,se=n-he;return E?LZ(se,d-ne):se}function N(q){var he=q-y,ne=q-b;return y===void 0||he>=n||he<0||E&&ne>=d}function D(){var q=lb();if(N(q))return V(q);g=setTimeout(D,R(q))}function V(q){return g=void 0,I&&o?M(q):(o=l=void 0,h)}function B(){g!==void 0&&clearTimeout(g),b=0,o=y=l=g=void 0}function z(){return g===void 0?h:V(lb())}function H(){var q=lb(),he=N(q);if(o=arguments,l=this,y=q,he){if(g===void 0)return T(y);if(E)return clearTimeout(g),g=setTimeout(D,n),M(y)}return g===void 0&&(g=setTimeout(D,n)),h}return H.cancel=B,H.flush=z,H}function OZ(t){return Tl(t)&&gm(t)}function FZ(t,n,i){for(var o=-1,l=t==null?0:t.length;++o<l;)if(i(n,t[o]))return!0;return!1}function VZ(t,n){var i=-1,o=gm(t)?Array(t.length):[];return NZ(t,function(l,d,h){o[++i]=n(l,d,h)}),o}function GZ(t,n){var i=go(t)?uN:VZ;return i(t,CZ(n))}function UZ(t,n){return Am(GZ(t,n),1)}var zZ=1/0;function HZ(t){var n=t==null?0:t.length;return n?Am(t,zZ):[]}function ON(t){for(var n=-1,i=t==null?0:t.length,o={};++n<i;){var l=t[n];o[l[0]]=l[1]}return o}function po(t,n){return X_(t,n)}function rs(t){return t==null}function FN(t,n,i,o){if(!ko(t))return t;n=Q_(n,t);for(var l=-1,d=n.length,h=d-1,g=t;g!=null&&++l<d;){var y=_m(n[l]),b=i;if(y==="__proto__"||y==="constructor"||y==="prototype")return t;if(l!=h){var C=g[y];b=o?o(C,y,g):void 0,b===void 0&&(b=ko(C)?C:RS(n[l+1])?[]:{})}PS(g,y,b),g=g[y]}return t}function QZ(t,n,i){for(var o=-1,l=n.length,d={};++o<l;){var h=n[o],g=FS(t,h);i(g,h)&&FN(d,Q_(h,t),g)}return d}function XZ(t,n){return QZ(t,n,function(i,o){return LN(t,o)})}var $Z=jq(function(t,n){return t==null?{}:XZ(t,n)});const Il=$Z;function WZ(t,n,i){return t==null?t:FN(t,n,i)}var KZ="Expected a function";function Fu(t,n,i){var o=!0,l=!0;if(typeof t!="function")throw new TypeError(KZ);return ko(i)&&(o="leading"in i?!!i.leading:o,l="trailing"in i?!!i.trailing:l),Ns(t,n,{leading:o,maxWait:n,trailing:l})}var jZ=1/0,qZ=gf&&1/zS(new gf([,-0]))[1]==jZ?function(t){return new gf(t)}:WK;const YZ=qZ;var JZ=200;function ZZ(t,n,i){var o=-1,l=cj,d=t.length,h=!0,g=[],y=g;if(i)h=!1,l=FZ;else if(d>=JZ){var b=n?null:YZ(t);if(b)return zS(b);h=!1,l=NN,y=new jp}else y=n?[]:g;e:for(;++o<d;){var C=t[o],E=n?n(C):C;if(C=i||C!==0?C:0,h&&E===E){for(var I=y.length;I--;)if(y[I]===E)continue e;n&&y.push(E),g.push(C)}else l(y,E,i)||(y!==g&&y.push(E),g.push(C))}return g}var eee=pj(function(t){return ZZ(Am(t,1,OZ,!0))});const cb=eee,tee='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',nee=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,NM=t=>Array.from(t.querySelectorAll(tee)).filter(n=>ree(n)&&nee(n)),ree=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},xv=function(t,n,...i){let o;n.includes("mouse")||n.includes("click")?o="MouseEvents":n.includes("key")?o="KeyboardEvent":o="HTMLEvents";const l=document.createEvent(o);return l.initEvent(n,...i),t.dispatchEvent(l),t},VN=t=>!t.getAttribute("aria-owns"),GN=(t,n,i)=>{const{parentNode:o}=t;if(!o)return null;const l=o.querySelectorAll(i),d=Array.prototype.indexOf.call(l,t);return l[d+n]||null},Mv=t=>{!t||(t.focus(),!VN(t)&&t.click())},di=(t,n,{checkForDefaultPrevented:i=!0}={})=>l=>{const d=t==null?void 0:t(l);if(i===!1||!d)return n==null?void 0:n(l)},BM=t=>n=>n.pointerType==="mouse"?t(n):void 0;var iee=Object.defineProperty,see=Object.defineProperties,oee=Object.getOwnPropertyDescriptors,DM=Object.getOwnPropertySymbols,aee=Object.prototype.hasOwnProperty,lee=Object.prototype.propertyIsEnumerable,kM=(t,n,i)=>n in t?iee(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,cee=(t,n)=>{for(var i in n||(n={}))aee.call(n,i)&&kM(t,i,n[i]);if(DM)for(var i of DM(n))lee.call(n,i)&&kM(t,i,n[i]);return t},uee=(t,n)=>see(t,oee(n));function LM(t,n){var i;const o=qr();return _s(()=>{o.value=t()},uee(cee({},n),{flush:(i=n==null?void 0:n.flush)!=null?i:"sync"})),fm(o)}var OM;const fr=typeof window<"u",dee=t=>typeof t<"u",Bi=t=>typeof t=="boolean",fee=t=>typeof t=="function",Hn=t=>typeof t=="number",hee=t=>typeof t=="string",pee=()=>{};fr&&((OM=window==null?void 0:window.navigator)==null?void 0:OM.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Qu(t){return typeof t=="function"?t():v(t)}function UN(t,n){function i(...o){t(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})}return i}function mee(t,n={}){let i,o;return d=>{const h=Qu(t),g=Qu(n.maxWait);if(i&&clearTimeout(i),h<=0||g!==void 0&&g<=0)return o&&(clearTimeout(o),o=null),d();g&&!o&&(o=setTimeout(()=>{i&&clearTimeout(i),o=null,d()},g)),i=setTimeout(()=>{o&&clearTimeout(o),o=null,d()},h)}}function gee(t,n=!0,i=!0){let o=0,l,d=!0;const h=()=>{l&&(clearTimeout(l),l=void 0)};return y=>{const b=Qu(t),C=Date.now()-o;if(h(),b<=0)return o=Date.now(),y();C>b&&(i||!d)?(o=Date.now(),y()):n&&(l=setTimeout(()=>{o=Date.now(),d=!0,h(),y()},b-C)),!i&&!l&&(l=setTimeout(()=>d=!0,b)),d=!1}}function vee(t){return t}function $_(t){return Ez()?(QT(t),!0):!1}function _ee(t,n=200,i={}){return UN(mee(n,i),t)}function Aee(t,n=200,i={}){const o=re(t.value),l=_ee(()=>{o.value=t.value},n,i);return It(t,()=>l()),o}function zN(t,n=200,i=!1,o=!0){return UN(gee(n,i,o),t)}function HS(t,n=!0){Zn()?jn(t):n?t():dn(t)}function Xu(t,n,i={}){const{immediate:o=!0}=i,l=re(!1);let d=null;function h(){d&&(clearTimeout(d),d=null)}function g(){l.value=!1,h()}function y(...b){h(),l.value=!0,d=setTimeout(()=>{l.value=!1,d=null,t(...b)},Qu(n))}return o&&(l.value=!0,fr&&y()),$_(g),{isPending:l,start:y,stop:g}}function co(t){var n;const i=Qu(t);return(n=i==null?void 0:i.$el)!=null?n:i}const $f=fr?window:void 0,yee=fr?window.document:void 0;function Jr(...t){let n,i,o,l;if(hee(t[0])||Array.isArray(t[0])?([i,o,l]=t,n=$f):[n,i,o,l]=t,!n)return pee;Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]);const d=[],h=()=>{d.forEach(C=>C()),d.length=0},g=(C,E,I)=>(C.addEventListener(E,I,l),()=>C.removeEventListener(E,I,l)),y=It(()=>co(n),C=>{h(),C&&d.push(...i.flatMap(E=>o.map(I=>g(C,E,I))))},{immediate:!0,flush:"post"}),b=()=>{y(),h()};return $_(b),b}function QS(t,n,i={}){const{window:o=$f,ignore:l,capture:d=!0,detectIframe:h=!1}=i;if(!o)return;const g=re(!0);let y;const b=M=>{o.clearTimeout(y);const T=co(t);!T||T===M.target||M.composedPath().includes(T)||!g.value||n(M)},C=M=>l&&l.some(T=>{const R=co(T);return R&&(M.target===R||M.composedPath().includes(R))}),E=[Jr(o,"click",b,{passive:!0,capture:d}),Jr(o,"pointerdown",M=>{const T=co(t);g.value=!!T&&!M.composedPath().includes(T)&&!C(M)},{passive:!0}),Jr(o,"pointerup",M=>{if(M.button===0){const T=M.composedPath();M.composedPath=()=>T,y=o.setTimeout(()=>b(M),50)}},{passive:!0}),h&&Jr(o,"blur",M=>{var T;const R=co(t);((T=o.document.activeElement)==null?void 0:T.tagName)==="IFRAME"&&!(R!=null&&R.contains(o.document.activeElement))&&n(M)})].filter(Boolean);return()=>E.forEach(M=>M())}function bee(t,n=!1){const i=re(),o=()=>i.value=Boolean(t());return o(),HS(o,n),i}function See(t){return JSON.parse(JSON.stringify(t))}const t1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n1="__vueuse_ssr_handlers__";t1[n1]=t1[n1]||{};t1[n1];function wee(t,n,{window:i=$f,initialValue:o=""}={}){const l=re(o),d=K(()=>{var h;return co(n)||((h=i==null?void 0:i.document)==null?void 0:h.documentElement)});return It([d,()=>Qu(t)],([h,g])=>{var y;if(h&&i){const b=(y=i.getComputedStyle(h).getPropertyValue(g))==null?void 0:y.trim();l.value=b||o}},{immediate:!0}),It(l,h=>{var g;(g=d.value)!=null&&g.style&&d.value.style.setProperty(Qu(t),h)}),l}function Eee({document:t=yee}={}){if(!t)return re("visible");const n=re(t.visibilityState);return Jr(t,"visibilitychange",()=>{n.value=t.visibilityState}),n}var FM=Object.getOwnPropertySymbols,Cee=Object.prototype.hasOwnProperty,Iee=Object.prototype.propertyIsEnumerable,xee=(t,n)=>{var i={};for(var o in t)Cee.call(t,o)&&n.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&FM)for(var o of FM(t))n.indexOf(o)<0&&Iee.call(t,o)&&(i[o]=t[o]);return i};function As(t,n,i={}){const o=i,{window:l=$f}=o,d=xee(o,["window"]);let h;const g=bee(()=>l&&"ResizeObserver"in l),y=()=>{h&&(h.disconnect(),h=void 0)},b=It(()=>co(t),E=>{y(),g.value&&l&&E&&(h=new ResizeObserver(n),h.observe(E,d))},{immediate:!0,flush:"post"}),C=()=>{y(),b()};return $_(C),{isSupported:g,stop:C}}function VM(t,n={}){const{reset:i=!0,windowResize:o=!0,windowScroll:l=!0,immediate:d=!0}=n,h=re(0),g=re(0),y=re(0),b=re(0),C=re(0),E=re(0),I=re(0),M=re(0);function T(){const R=co(t);if(!R){i&&(h.value=0,g.value=0,y.value=0,b.value=0,C.value=0,E.value=0,I.value=0,M.value=0);return}const N=R.getBoundingClientRect();h.value=N.height,g.value=N.bottom,y.value=N.left,b.value=N.right,C.value=N.top,E.value=N.width,I.value=N.x,M.value=N.y}return As(t,T),It(()=>co(t),R=>!R&&T()),l&&Jr("scroll",T,{passive:!0}),o&&Jr("resize",T,{passive:!0}),HS(()=>{d&&T()}),{height:h,bottom:g,left:y,right:b,top:C,width:E,x:I,y:M,update:T}}var GM;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(GM||(GM={}));var Mee=Object.defineProperty,UM=Object.getOwnPropertySymbols,Ree=Object.prototype.hasOwnProperty,Tee=Object.prototype.propertyIsEnumerable,zM=(t,n,i)=>n in t?Mee(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,Pee=(t,n)=>{for(var i in n||(n={}))Ree.call(n,i)&&zM(t,i,n[i]);if(UM)for(var i of UM(n))Tee.call(n,i)&&zM(t,i,n[i]);return t};const Nee={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Pee({linear:vee},Nee);function Bee(t,n,i,o={}){var l,d,h;const{clone:g=!1,passive:y=!1,eventName:b,deep:C=!1,defaultValue:E}=o,I=Zn(),M=i||(I==null?void 0:I.emit)||((l=I==null?void 0:I.$emit)==null?void 0:l.bind(I))||((h=(d=I==null?void 0:I.proxy)==null?void 0:d.$emit)==null?void 0:h.bind(I==null?void 0:I.proxy));let T=b;n||(n="modelValue"),T=b||T||`update:${n.toString()}`;const R=D=>g?fee(g)?g(D):See(D):D,N=()=>dee(t[n])?R(t[n]):E;if(y){const D=N(),V=re(D);return It(()=>t[n],B=>V.value=R(B)),It(V,B=>{(B!==t[n]||C)&&M(T,B)},{deep:C}),V}else return K({get(){return N()},set(D){M(T,D)}})}function Dee({window:t=$f}={}){if(!t)return re(!1);const n=re(t.document.hasFocus());return Jr(t,"blur",()=>{n.value=!1}),Jr(t,"focus",()=>{n.value=!0}),n}function kee(t={}){const{window:n=$f,initialWidth:i=1/0,initialHeight:o=1/0,listenOrientation:l=!0,includeScrollbar:d=!0}=t,h=re(i),g=re(o),y=()=>{n&&(d?(h.value=n.innerWidth,g.value=n.innerHeight):(h.value=n.document.documentElement.clientWidth,g.value=n.document.documentElement.clientHeight))};return y(),HS(y),Jr("resize",y,{passive:!0}),l&&Jr("orientationchange",y,{passive:!0}),{width:h,height:g}}const Lee=(t,n)=>{if(!fr||!t||!n)return!1;const i=t.getBoundingClientRect();let o;return n instanceof Element?o=n.getBoundingClientRect():o={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},i.top<o.bottom&&i.bottom>o.top&&i.right>o.left&&i.left<o.right},HM=t=>{let n=0,i=t;for(;i;)n+=i.offsetTop,i=i.offsetParent;return n},Oee=(t,n)=>Math.abs(HM(t)-HM(n)),XS=t=>{let n,i;return t.type==="touchend"?(i=t.changedTouches[0].clientY,n=t.changedTouches[0].clientX):t.type.startsWith("touch")?(i=t.touches[0].clientY,n=t.touches[0].clientX):(i=t.clientY,n=t.clientX),{clientX:n,clientY:i}},ts=t=>t===void 0,Mo=t=>!t&&t!==0||on(t)&&t.length===0||nr(t)&&!Object.keys(t).length,va=t=>typeof Element>"u"?!1:t instanceof Element,Fee=t=>rs(t),Vee=t=>On(t)?!Number.isNaN(Number(t)):!1,Gee=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Ro=t=>dm(t),qp=t=>Object.keys(t),Uee=t=>Object.entries(t),Rv=(t,n,i)=>({get value(){return ti(t,n,i)},set value(o){WZ(t,n,o)}});class zee extends Error{constructor(n){super(n),this.name="ElementPlusError"}}function ki(t,n){throw new zee(`[${t}] ${n}`)}const HN=(t="")=>t.split(" ").filter(n=>!!n.trim()),ma=(t,n)=>{if(!t||!n)return!1;if(n.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(n)},Va=(t,n)=>{!t||!n.trim()||t.classList.add(...HN(n))},Us=(t,n)=>{!t||!n.trim()||t.classList.remove(...HN(n))},El=(t,n)=>{var i;if(!fr||!t||!n)return"";let o=Bo(n);o==="float"&&(o="cssFloat");try{const l=t.style[o];if(l)return l;const d=(i=document.defaultView)==null?void 0:i.getComputedStyle(t,"");return d?d[o]:""}catch{return t.style[o]}};function xi(t,n="px"){if(!t)return"";if(Hn(t)||Vee(t))return`${t}${n}`;if(On(t))return t}const Hee=(t,n)=>{if(!fr)return!1;const i={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(n)],o=El(t,i);return["scroll","auto","overlay"].some(l=>o.includes(l))},$S=(t,n)=>{if(!fr)return;let i=t;for(;i;){if([window,document,document.documentElement].includes(i))return window;if(Hee(i,n))return i;i=i.parentNode}return i};let av;const QN=t=>{var n;if(!fr)return 0;if(av!==void 0)return av;const i=document.createElement("div");i.className=`${t}-scrollbar__wrap`,i.style.visibility="hidden",i.style.width="100px",i.style.position="absolute",i.style.top="-9999px",document.body.appendChild(i);const o=i.offsetWidth;i.style.overflow="scroll";const l=document.createElement("div");l.style.width="100%",i.appendChild(l);const d=l.offsetWidth;return(n=i.parentNode)==null||n.removeChild(i),av=o-d,av};function XN(t,n){if(!fr)return;if(!n){t.scrollTop=0;return}const i=[];let o=n.offsetParent;for(;o!==null&&t!==o&&t.contains(o);)i.push(o),o=o.offsetParent;const l=n.offsetTop+i.reduce((y,b)=>y+b.offsetTop,0),d=l+n.offsetHeight,h=t.scrollTop,g=h+t.clientHeight;l<h?t.scrollTop=l:d>g&&(t.scrollTop=d-t.clientHeight)}const $N="__epPropKey",nt=t=>t,Qee=t=>nr(t)&&!!t[$N],Sa=(t,n)=>{if(!nr(t)||Qee(t))return t;const{values:i,required:o,default:l,type:d,validator:h}=t,y={type:d,required:!!o,validator:i||h?b=>{let C=!1,E=[];if(i&&(E=Array.from(i),cr(t,"default")&&E.push(l),C||(C=E.includes(b))),h&&(C||(C=h(b))),!C&&E.length>0){const I=[...new Set(E)].map(M=>JSON.stringify(M)).join(", ");eH(`Invalid prop: validation failed${n?` for prop "${n}"`:""}. Expected one of [${I}], got value ${JSON.stringify(b)}.`)}return C}:void 0,[$N]:!0};return cr(t,"default")&&(y.default=l),y},$t=t=>ON(Object.entries(t).map(([n,i])=>[n,Sa(i,n)])),jr=nt([String,Object,Function]),WN={Close:ga},WS={Close:ga,SuccessFilled:oN,InfoFilled:IS,WarningFilled:F_,CircleCloseFilled:CS},xc={success:oN,warning:F_,error:CS,info:IS},KN={validating:Oc,success:ES,error:Lc},er=(t,n)=>{if(t.install=i=>{for(const o of[t,...Object.values(n!=null?n:{})])i.component(o.name,o)},n)for(const[i,o]of Object.entries(n))t[i]=o;return t},jN=(t,n)=>(t.install=i=>{t._context=i._context,i.config.globalProperties[n]=t},t),Xee=(t,n)=>(t.install=i=>{i.directive(n,t)},t),pi=t=>(t.install=Fr,t),W_=(...t)=>n=>{t.forEach(i=>{Nn(i)?i(n):i.value=n})},An={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},$ee=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],ub=["sun","mon","tue","wed","thu","fri","sat"],Jn="update:modelValue",Zr="change",Ps="input",QM=Symbol("INSTALLED_KEY"),Fc=["","default","small","large"],Wee={large:40,default:32,small:24},Kee=t=>Wee[t||"default"],Wf=t=>["",...Fc].includes(t);var xo=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(xo||{});function r1(t){return ri(t)&&t.type===gn}function jee(t){return ri(t)&&t.type===Rs}function qee(t){return ri(t)&&!r1(t)&&!jee(t)}const Yee=t=>{if(!ri(t))return{};const n=t.props||{},i=(ri(t.type)?t.type.props:void 0)||{},o={};return Object.keys(i).forEach(l=>{cr(i[l],"default")&&(o[l]=i[l].default)}),Object.keys(n).forEach(l=>{o[Bo(l)]=n[l]}),o},Jee=t=>{if(!on(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},vf=t=>{const n=on(t)?t:[t],i=[];return n.forEach(o=>{var l;on(o)?i.push(...vf(o)):ri(o)&&on(o.children)?i.push(...vf(o.children)):(i.push(o),ri(o)&&((l=o.component)==null?void 0:l.subTree)&&i.push(...vf(o.component.subTree)))}),i},XM=t=>t**3,Zee=t=>t<.5?XM(t*2)/2:1-XM((1-t)*2)/2,$M=t=>[...new Set(t)],xl=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],KS=()=>fr&&/firefox/i.test(window.navigator.userAgent),K_=t=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(t),jS=t=>fr?window.requestAnimationFrame(t):setTimeout(t,16),qS=t=>fr?window.cancelAnimationFrame(t):clearTimeout(t),ym=()=>Math.floor(Math.random()*1e4),ni=t=>t,ete=["class","style"],tte=/^on[A-Z]/,YS=(t={})=>{const{excludeListeners:n=!1,excludeKeys:i}=t,o=K(()=>((i==null?void 0:i.value)||[]).concat(ete)),l=Zn();return K(l?()=>{var d;return ON(Object.entries((d=l.proxy)==null?void 0:d.$attrs).filter(([h])=>!o.value.includes(h)&&!(n&&tte.test(h))))}:()=>({}))},qN=Symbol("breadcrumbKey"),YN=Symbol("buttonGroupContextKey"),JN=Symbol("carouselContextKey"),Kf=Symbol("checkboxGroupContextKey"),ZN=Symbol("collapseContextKey"),e3=Symbol(),t3=Symbol("dialogInjectionKey"),Zu=Symbol("formContextKey"),Qa=Symbol("formItemContextKey"),n3=Symbol("elPaginationKey"),r3=Symbol("radioGroupKey"),i3=Symbol("rowContextKey"),s3=Symbol("scrollbarContextKey"),o3=Symbol("sliderContextKey"),j_=Symbol("tabsRootContextKey"),a3=Symbol("uploadContextKey"),JS=Symbol("popper"),l3=Symbol("popperContent"),q_=Symbol("elTooltip"),Y_=Symbol("tooltipV2"),c3=Symbol("tooltipV2Content"),db="tooltip_v2.open",ZS=Symbol(),u3=t=>{const n=Zn();return K(()=>{var i,o;return(o=((i=n.proxy)==null?void 0:i.$props)[t])!=null?o:void 0})},a_=re();function Ol(t,n=void 0){const i=Zn()?hn(e3,a_):a_;return t?K(()=>{var o,l;return(l=(o=i.value)==null?void 0:o[t])!=null?l:n}):i}const d3=(t,n,i=!1)=>{var o;const l=!!Zn(),d=l?Ol():void 0,h=(o=n==null?void 0:n.provide)!=null?o:l?or:void 0;if(!h)return;const g=K(()=>{const y=v(t);return d!=null&&d.value?nte(d.value,y):y});return h(e3,g),(i||!a_.value)&&(a_.value=g.value),g},nte=(t,n)=>{var i;const o=[...new Set([...qp(t),...qp(n)])],l={};for(const d of o)l[d]=(i=n[d])!=null?i:t[d];return l},Qs=Sa({type:String,values:Fc,required:!1}),Mi=(t,n={})=>{const i=re(void 0),o=n.prop?i:u3("size"),l=n.global?i:Ol("size"),d=n.form?{size:void 0}:hn(Zu,void 0),h=n.formItem?{size:void 0}:hn(Qa,void 0);return K(()=>o.value||v(t)||(h==null?void 0:h.size)||(d==null?void 0:d.size)||l.value||"")},wa=t=>{const n=u3("disabled"),i=hn(Zu,void 0);return K(()=>n.value||v(t)||(i==null?void 0:i.disabled)||!1)},Mc=({from:t,replacement:n,scope:i,version:o,ref:l,type:d="API"},h)=>{It(()=>v(h),g=>{},{immediate:!0})},f3=(t,n,i)=>{let o={offsetX:0,offsetY:0};const l=g=>{const y=g.clientX,b=g.clientY,{offsetX:C,offsetY:E}=o,I=t.value.getBoundingClientRect(),M=I.left,T=I.top,R=I.width,N=I.height,D=document.documentElement.clientWidth,V=document.documentElement.clientHeight,B=-M+C,z=-T+E,H=D-M-R+C,q=V-T-N+E,he=se=>{const oe=Math.min(Math.max(C+se.clientX-y,B),H),xe=Math.min(Math.max(E+se.clientY-b,z),q);o={offsetX:oe,offsetY:xe},t.value.style.transform=`translate(${xi(oe)}, ${xi(xe)})`},ne=()=>{document.removeEventListener("mousemove",he),document.removeEventListener("mouseup",ne)};document.addEventListener("mousemove",he),document.addEventListener("mouseup",ne)},d=()=>{n.value&&t.value&&n.value.addEventListener("mousedown",l)},h=()=>{n.value&&t.value&&n.value.removeEventListener("mousedown",l)};jn(()=>{_s(()=>{i.value?d():h()})}),hi(()=>{h()})},rte=t=>({focus:()=>{var n,i;(i=(n=t.value)==null?void 0:n.focus)==null||i.call(n)}}),J_="el",ite="is-",_u=(t,n,i,o,l)=>{let d=`${t}-${n}`;return i&&(d+=`-${i}`),o&&(d+=`__${o}`),l&&(d+=`--${l}`),d},Ct=t=>{const n=Ol("namespace",J_);return{namespace:n,b:(T="")=>_u(n.value,t,T,"",""),e:T=>T?_u(n.value,t,"",T,""):"",m:T=>T?_u(n.value,t,"","",T):"",be:(T,R)=>T&&R?_u(n.value,t,T,R,""):"",em:(T,R)=>T&&R?_u(n.value,t,"",T,R):"",bm:(T,R)=>T&&R?_u(n.value,t,T,"",R):"",bem:(T,R,N)=>T&&R&&N?_u(n.value,t,T,R,N):"",is:(T,...R)=>{const N=R.length>=1?R[0]:!0;return T&&N?`${ite}${T}`:""},cssVar:T=>{const R={};for(const N in T)T[N]&&(R[`--${n.value}-${N}`]=T[N]);return R},cssVarName:T=>`--${n.value}-${T}`,cssVarBlock:T=>{const R={};for(const N in T)T[N]&&(R[`--${n.value}-${t}-${N}`]=T[N]);return R},cssVarBlockName:T=>`--${n.value}-${t}-${T}`}},ste={prefix:Math.floor(Math.random()*1e4),current:0},ote=Symbol("elIdInjection"),_a=t=>{const n=hn(ote,ste),i=Ol("namespace",J_);return K(()=>v(t)||`${i.value}-id-${n.prefix}-${n.current++}`)},Bs=()=>{const t=hn(Zu,void 0),n=hn(Qa,void 0);return{form:t,formItem:n}},Vc=(t,{formItemContext:n,disableIdGeneration:i,disableIdManagement:o})=>{i||(i=re(!1)),o||(o=re(!1));const l=re();let d;const h=K(()=>{var g;return!!(!t.label&&n&&n.inputIds&&((g=n.inputIds)==null?void 0:g.length)<=1)});return jn(()=>{d=It([ai(t,"id"),i],([g,y])=>{const b=g!=null?g:y?void 0:_a().value;b!==l.value&&(n!=null&&n.removeInputId&&(l.value&&n.removeInputId(l.value),!(o!=null&&o.value)&&!y&&b&&n.addInputId(b)),l.value=b)},{immediate:!0})}),ju(()=>{d&&d(),n!=null&&n.removeInputId&&l.value&&n.removeInputId(l.value)}),{isLabeledByFormItem:h,inputId:l}};var ate={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const lte=t=>(n,i)=>cte(n,i,v(t)),cte=(t,n,i)=>ti(i,t,t).replace(/\{(\w+)\}/g,(o,l)=>{var d;return`${(d=n==null?void 0:n[l])!=null?d:`{${l}}`}`}),ute=t=>{const n=K(()=>v(t).name),i=Wr(t)?t:re(t);return{lang:n,locale:i,t:lte(t)}},Sr=()=>{const t=Ol("locale");return ute(K(()=>t.value||ate))},h3=t=>{Wr(t)||ki("[useLockscreen]","You need to pass a ref param to this function");const n=Ct("popup"),i=aP(()=>n.bm("parent","hidden"));if(!fr||ma(document.body,i.value))return;let o=0,l=!1,d="0";const h=()=>{setTimeout(()=>{Us(document.body,i.value),l&&(document.body.style.width=d)},200)};It(t,g=>{if(!g){h();return}l=!ma(document.body,i.value),l&&(d=document.body.style.width),o=QN(n.namespace.value);const y=document.documentElement.clientHeight<document.body.scrollHeight,b=El(document.body,"overflowY");o>0&&(y||b==="scroll")&&l&&(document.body.style.width=`calc(100% - ${o}px)`),Va(document.body,i.value)}),QT(()=>h())},dte=Sa({type:nt(Boolean),default:null}),fte=Sa({type:nt(Function)}),hte=t=>{const n=`update:${t}`,i=`onUpdate:${t}`,o=[n],l={[t]:dte,[i]:fte};return{useModelToggle:({indicator:h,toggleReason:g,shouldHideWhenRouteChanges:y,shouldProceed:b,onShow:C,onHide:E})=>{const I=Zn(),{emit:M}=I,T=I.props,R=K(()=>Nn(T[i])),N=K(()=>T[t]===null),D=he=>{h.value!==!0&&(h.value=!0,g&&(g.value=he),Nn(C)&&C(he))},V=he=>{h.value!==!1&&(h.value=!1,g&&(g.value=he),Nn(E)&&E(he))},B=he=>{if(T.disabled===!0||Nn(b)&&!b())return;const ne=R.value&&fr;ne&&M(n,!0),(N.value||!ne)&&D(he)},z=he=>{if(T.disabled===!0||!fr)return;const ne=R.value&&fr;ne&&M(n,!1),(N.value||!ne)&&V(he)},H=he=>{!Bi(he)||(T.disabled&&he?R.value&&M(n,!1):h.value!==he&&(he?D():V()))},q=()=>{h.value?z():B()};return It(()=>T[t],H),y&&I.appContext.config.globalProperties.$route!==void 0&&It(()=>({...I.proxy.$route}),()=>{y.value&&h.value&&z()}),jn(()=>{H(T[t])}),{hide:z,show:B,toggle:q,hasUpdateHandler:R}},useModelToggleProps:l,useModelToggleEmits:o}},pte=(t,n)=>{let i;It(()=>t.value,o=>{var l,d;o?(i=document.activeElement,Wr(n)&&((d=(l=n.value).focus)==null||d.call(l))):i.focus()})},ew=t=>{if(!t)return{onClick:Fr,onMousedown:Fr,onMouseup:Fr};let n=!1,i=!1;return{onClick:h=>{n&&i&&t(h),n=i=!1},onMousedown:h=>{n=h.target===h.currentTarget},onMouseup:h=>{i=h.target===h.currentTarget}}},mte=(t,n=0)=>{if(n===0)return t;const i=re(!1);let o=0;const l=()=>{o&&clearTimeout(o),o=window.setTimeout(()=>{i.value=t.value},n)};return jn(l),It(()=>t.value,d=>{d?l():i.value=d}),i};function gte(){let t;const n=(o,l)=>{i(),t=window.setTimeout(o,l)},i=()=>window.clearTimeout(t);return $_(()=>i()),{registerTimeout:n,cancelTimeout:i}}let nf=[];const WM=t=>{const n=t;n.key===An.esc&&nf.forEach(i=>i(n))},vte=t=>{jn(()=>{nf.length===0&&document.addEventListener("keydown",WM),fr&&nf.push(t)}),hi(()=>{nf=nf.filter(n=>n!==t),nf.length===0&&fr&&document.removeEventListener("keydown",WM)})};let KM;const _te=Ol("namespace",J_),p3=`${_te.value}-popper-container-${ym()}`,m3=`#${p3}`,Ate=()=>{const t=document.createElement("div");return t.id=p3,document.body.appendChild(t),t},yte=()=>{N_(()=>{!fr||(!KM||!document.body.querySelector(m3))&&(KM=Ate())})},bte=$t({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),Ste=({showAfter:t,hideAfter:n,open:i,close:o})=>{const{registerTimeout:l}=gte();return{onOpen:g=>{l(()=>{i(g)},v(t))},onClose:g=>{l(()=>{o(g)},v(n))}}},g3=Symbol("elForwardRef"),wte=t=>{or(g3,{setForwardRef:i=>{t.value=i}})},Ete=t=>({mounted(n){t(n)},updated(n){t(n)},unmounted(){t(null)}}),jM=re(0),Fl=()=>{const t=Ol("zIndex",2e3),n=K(()=>t.value+jM.value);return{initialZIndex:t,currentZIndex:n,nextZIndex:()=>(jM.value++,n.value)}};function tw(t){return t.split("-")[0]}function nw(t){return t.split("-")[1]}function rw(t){return["top","bottom"].includes(tw(t))?"x":"y"}function v3(t){return t==="y"?"height":"width"}function qM(t,n,i){let{reference:o,floating:l}=t;const d=o.x+o.width/2-l.width/2,h=o.y+o.height/2-l.height/2,g=rw(n),y=v3(g),b=o[y]/2-l[y]/2,C=tw(n),E=g==="x";let I;switch(C){case"top":I={x:d,y:o.y-l.height};break;case"bottom":I={x:d,y:o.y+o.height};break;case"right":I={x:o.x+o.width,y:h};break;case"left":I={x:o.x-l.width,y:h};break;default:I={x:o.x,y:o.y}}switch(nw(n)){case"start":I[g]-=b*(i&&E?-1:1);break;case"end":I[g]+=b*(i&&E?-1:1);break}return I}const Cte=async(t,n,i)=>{const{placement:o="bottom",strategy:l="absolute",middleware:d=[],platform:h}=i,g=d.filter(Boolean),y=await(h.isRTL==null?void 0:h.isRTL(n));let b=await h.getElementRects({reference:t,floating:n,strategy:l}),{x:C,y:E}=qM(b,o,y),I=o,M={},T=0;for(let R=0;R<g.length;R++){const{name:N,fn:D}=g[R],{x:V,y:B,data:z,reset:H}=await D({x:C,y:E,initialPlacement:o,placement:I,strategy:l,middlewareData:M,rects:b,platform:h,elements:{reference:t,floating:n}});if(C=V!=null?V:C,E=B!=null?B:E,M={...M,[N]:{...M[N],...z}},H&&T<=50){T++,typeof H=="object"&&(H.placement&&(I=H.placement),H.rects&&(b=H.rects===!0?await h.getElementRects({reference:t,floating:n,strategy:l}):H.rects),{x:C,y:E}=qM(b,I,y)),R=-1;continue}}return{x:C,y:E,placement:I,strategy:l,middlewareData:M}};function Ite(t){return{top:0,right:0,bottom:0,left:0,...t}}function xte(t){return typeof t!="number"?Ite(t):{top:t,right:t,bottom:t,left:t}}function YM(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const Mte=Math.min,Rte=Math.max;function Tte(t,n,i){return Rte(t,Mte(n,i))}const Pte=t=>({name:"arrow",options:t,async fn(n){const{element:i,padding:o=0}=t!=null?t:{},{x:l,y:d,placement:h,rects:g,platform:y}=n;if(i==null)return{};const b=xte(o),C={x:l,y:d},E=rw(h),I=nw(h),M=v3(E),T=await y.getDimensions(i),R=E==="y"?"top":"left",N=E==="y"?"bottom":"right",D=g.reference[M]+g.reference[E]-C[E]-g.floating[M],V=C[E]-g.reference[E],B=await(y.getOffsetParent==null?void 0:y.getOffsetParent(i));let z=B?E==="y"?B.clientHeight||0:B.clientWidth||0:0;z===0&&(z=g.floating[M]);const H=D/2-V/2,q=b[R],he=z-T[M]-b[N],ne=z/2-T[M]/2+H,se=Tte(q,ne,he),me=(I==="start"?b[R]:b[N])>0&&ne!==se&&g.reference[M]<=g.floating[M]?ne<q?q-ne:he-ne:0;return{[E]:C[E]-me,data:{[E]:se,centerOffset:ne-se}}}});async function Nte(t,n){const{placement:i,platform:o,elements:l}=t,d=await(o.isRTL==null?void 0:o.isRTL(l.floating)),h=tw(i),g=nw(i),y=rw(i)==="x",b=["left","top"].includes(h)?-1:1,C=d&&y?-1:1,E=typeof n=="function"?n(t):n;let{mainAxis:I,crossAxis:M,alignmentAxis:T}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...E};return g&&typeof T=="number"&&(M=g==="end"?T*-1:T),y?{x:M*C,y:I*b}:{x:I*b,y:M*C}}const Bte=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){const{x:i,y:o}=n,l=await Nte(n,t);return{x:i+l.x,y:o+l.y,data:l}}}};function _3(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function Vl(t){if(t==null)return window;if(!_3(t)){const n=t.ownerDocument;return n&&n.defaultView||window}return t}function Rc(t){return Vl(t).getComputedStyle(t)}function Tc(t){return _3(t)?"":t?(t.nodeName||"").toLowerCase():""}function A3(){const t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(n=>n.brand+"/"+n.version).join(" "):navigator.userAgent}function Pl(t){return t instanceof Vl(t).HTMLElement}function Pf(t){return t instanceof Vl(t).Element}function Dte(t){return t instanceof Vl(t).Node}function JM(t){if(typeof ShadowRoot>"u")return!1;const n=Vl(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function Z_(t){const{overflow:n,overflowX:i,overflowY:o,display:l}=Rc(t);return/auto|scroll|overlay|hidden/.test(n+o+i)&&!["inline","contents"].includes(l)}function kte(t){return["table","td","th"].includes(Tc(t))}function iw(t){const n=/firefox/i.test(A3()),i=Rc(t),o=i.backdropFilter||i.WebkitBackdropFilter;return i.transform!=="none"||i.perspective!=="none"||(o?o!=="none":!1)||n&&i.willChange==="filter"||n&&(i.filter?i.filter!=="none":!1)||["transform","perspective"].some(l=>i.willChange.includes(l))||["paint","layout","strict","content"].some(l=>{const d=i.contain;return d!=null?d.includes(l):!1})}function y3(){return!/^((?!chrome|android).)*safari/i.test(A3())}function sw(t){return["html","body","#document"].includes(Tc(t))}const ZM=Math.min,xp=Math.max,l_=Math.round;function $u(t,n,i){var o,l,d,h;n===void 0&&(n=!1),i===void 0&&(i=!1);const g=t.getBoundingClientRect();let y=1,b=1;n&&Pl(t)&&(y=t.offsetWidth>0&&l_(g.width)/t.offsetWidth||1,b=t.offsetHeight>0&&l_(g.height)/t.offsetHeight||1);const C=Pf(t)?Vl(t):window,E=!y3()&&i,I=(g.left+(E&&(o=(l=C.visualViewport)==null?void 0:l.offsetLeft)!=null?o:0))/y,M=(g.top+(E&&(d=(h=C.visualViewport)==null?void 0:h.offsetTop)!=null?d:0))/b,T=g.width/y,R=g.height/b;return{width:T,height:R,top:M,right:I+T,bottom:M+R,left:I,x:I,y:M}}function Gc(t){return((Dte(t)?t.ownerDocument:t.document)||window.document).documentElement}function eA(t){return Pf(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function b3(t){return $u(Gc(t)).left+eA(t).scrollLeft}function Lte(t){const n=$u(t);return l_(n.width)!==t.offsetWidth||l_(n.height)!==t.offsetHeight}function Ote(t,n,i){const o=Pl(n),l=Gc(n),d=$u(t,o&&Lte(n),i==="fixed");let h={scrollLeft:0,scrollTop:0};const g={x:0,y:0};if(o||!o&&i!=="fixed")if((Tc(n)!=="body"||Z_(l))&&(h=eA(n)),Pl(n)){const y=$u(n,!0);g.x=y.x+n.clientLeft,g.y=y.y+n.clientTop}else l&&(g.x=b3(l));return{x:d.left+h.scrollLeft-g.x,y:d.top+h.scrollTop-g.y,width:d.width,height:d.height}}function c_(t){if(Tc(t)==="html")return t;const n=t.assignedSlot||t.parentNode||(JM(t)?t.host:null)||Gc(t);return JM(n)?n.host:n}function eR(t){return!Pl(t)||Rc(t).position==="fixed"?null:t.offsetParent}function Fte(t){let n=c_(t);for(;Pl(n)&&!sw(n);){if(iw(n))return n;n=c_(n)}return null}function tR(t){const n=Vl(t);let i=eR(t);for(;i&&kte(i)&&Rc(i).position==="static";)i=eR(i);return i&&(Tc(i)==="html"||Tc(i)==="body"&&Rc(i).position==="static"&&!iw(i))?n:i||Fte(t)||n}function nR(t){if(Pl(t))return{width:t.offsetWidth,height:t.offsetHeight};const n=$u(t);return{width:n.width,height:n.height}}function Vte(t){let{rect:n,offsetParent:i,strategy:o}=t;const l=Pl(i),d=Gc(i);if(i===d)return n;let h={scrollLeft:0,scrollTop:0};const g={x:0,y:0};if((l||!l&&o!=="fixed")&&((Tc(i)!=="body"||Z_(d))&&(h=eA(i)),Pl(i))){const y=$u(i,!0);g.x=y.x+i.clientLeft,g.y=y.y+i.clientTop}return{...n,x:n.x-h.scrollLeft+g.x,y:n.y-h.scrollTop+g.y}}function Gte(t,n){const i=Vl(t),o=Gc(t),l=i.visualViewport;let d=o.clientWidth,h=o.clientHeight,g=0,y=0;if(l){d=l.width,h=l.height;const b=y3();(b||!b&&n==="fixed")&&(g=l.offsetLeft,y=l.offsetTop)}return{width:d,height:h,x:g,y}}function Ute(t){var n;const i=Gc(t),o=eA(t),l=(n=t.ownerDocument)==null?void 0:n.body,d=xp(i.scrollWidth,i.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),h=xp(i.scrollHeight,i.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0);let g=-o.scrollLeft+b3(t);const y=-o.scrollTop;return Rc(l||i).direction==="rtl"&&(g+=xp(i.clientWidth,l?l.clientWidth:0)-d),{width:d,height:h,x:g,y}}function S3(t){const n=c_(t);return sw(n)?t.ownerDocument.body:Pl(n)&&Z_(n)?n:S3(n)}function w3(t,n){var i;n===void 0&&(n=[]);const o=S3(t),l=o===((i=t.ownerDocument)==null?void 0:i.body),d=Vl(o),h=l?[d].concat(d.visualViewport||[],Z_(o)?o:[]):o,g=n.concat(h);return l?g:g.concat(w3(h))}function zte(t,n){const i=$u(t,!1,n==="fixed"),o=i.top+t.clientTop,l=i.left+t.clientLeft;return{top:o,left:l,x:l,y:o,right:l+t.clientWidth,bottom:o+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function rR(t,n,i){return n==="viewport"?YM(Gte(t,i)):Pf(n)?zte(n,i):YM(Ute(Gc(t)))}function Hte(t){let n=w3(t).filter(l=>Pf(l)&&Tc(l)!=="body"),i=t,o=null;for(;Pf(i)&&!sw(i);){const l=Rc(i);l.position==="static"&&o&&["absolute","fixed"].includes(o.position)&&!iw(i)?n=n.filter(d=>d!==i):o=l,i=c_(i)}return n}function Qte(t){let{element:n,boundary:i,rootBoundary:o,strategy:l}=t;const h=[...i==="clippingAncestors"?Hte(n):[].concat(i),o],g=h[0],y=h.reduce((b,C)=>{const E=rR(n,C,l);return b.top=xp(E.top,b.top),b.right=ZM(E.right,b.right),b.bottom=ZM(E.bottom,b.bottom),b.left=xp(E.left,b.left),b},rR(n,g,l));return{width:y.right-y.left,height:y.bottom-y.top,x:y.left,y:y.top}}const Xte={getClippingRect:Qte,convertOffsetParentRelativeRectToViewportRelativeRect:Vte,isElement:Pf,getDimensions:nR,getOffsetParent:tR,getDocumentElement:Gc,getElementRects:t=>{let{reference:n,floating:i,strategy:o}=t;return{reference:Ote(n,tR(i),o),floating:{...nR(i),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>Rc(t).direction==="rtl"},$te=(t,n,i)=>Cte(t,n,{platform:Xte,...i});$t({});const Wte=t=>{if(!fr)return;if(!t)return t;const n=co(t);return n||(Wr(t)?n:t)},Kte=({middleware:t,placement:n,strategy:i})=>{const o=re(),l=re(),d=re(),h=re(),g=re({}),y={x:d,y:h,placement:n,strategy:i,middlewareData:g},b=async()=>{if(!fr)return;const C=Wte(o),E=co(l);if(!C||!E)return;const I=await $te(C,E,{placement:v(n),strategy:v(i),middleware:v(t)});qp(y).forEach(M=>{y[M].value=I[M]})};return jn(()=>{_s(()=>{b()})}),{...y,update:b,referenceRef:o,contentRef:l}},jte=({arrowRef:t,padding:n})=>({name:"arrow",options:{element:t,padding:n},fn(i){const o=v(t);return o?Pte({element:o,padding:n}).fn(i):{}}});function qte(t){const n=re();function i(){if(t.value==null)return;const{selectionStart:l,selectionEnd:d,value:h}=t.value;if(l==null||d==null)return;const g=h.slice(0,Math.max(0,l)),y=h.slice(Math.max(0,d));n.value={selectionStart:l,selectionEnd:d,value:h,beforeTxt:g,afterTxt:y}}function o(){if(t.value==null||n.value==null)return;const{value:l}=t.value,{beforeTxt:d,afterTxt:h,selectionStart:g}=n.value;if(d==null||h==null||g==null)return;let y=l.length;if(l.endsWith(h))y=l.length-h.length;else if(l.startsWith(d))y=d.length;else{const b=d[g-1],C=l.indexOf(b,g-1);C!==-1&&(y=C+1)}t.value.setSelectionRange(y,y)}return[i,o]}const Yte=(t,n,i)=>vf(t.subTree).filter(d=>{var h;return ri(d)&&((h=d.type)==null?void 0:h.name)===n&&!!d.component}).map(d=>d.component.uid).map(d=>i[d]).filter(d=>!!d),E3=(t,n)=>{const i={},o=qr([]);return{children:o,addChild:h=>{i[h.uid]=h,o.value=Yte(t,n,i)},removeChild:h=>{delete i[h],o.value=o.value.filter(g=>g.uid!==h)}}},Jte="2.2.21",Zte=(t=[])=>({version:Jte,install:(i,o)=>{i[QM]||(i[QM]=!0,t.forEach(l=>i.use(l)),o&&d3(o,i,!0))}}),ene=$t({zIndex:{type:nt([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),tne={scroll:({scrollTop:t,fixed:n})=>Hn(t)&&Bi(n),[Zr]:t=>Bi(t)};var Ht=(t,n)=>{const i=t.__vccOpts||t;for(const[o,l]of n)i[o]=l;return i};const C3="ElAffix",nne=Ge({name:C3}),rne=Ge({...nne,props:ene,emits:tne,setup(t,{expose:n,emit:i}){const o=t,l=Ct("affix"),d=qr(),h=qr(),g=qr(),{height:y}=kee(),{height:b,width:C,top:E,bottom:I,update:M}=VM(h,{windowScroll:!1}),T=VM(d),R=re(!1),N=re(0),D=re(0),V=K(()=>({height:R.value?`${b.value}px`:"",width:R.value?`${C.value}px`:""})),B=K(()=>{if(!R.value)return{};const q=o.offset?xi(o.offset):0;return{height:`${b.value}px`,width:`${C.value}px`,top:o.position==="top"?q:"",bottom:o.position==="bottom"?q:"",transform:D.value?`translateY(${D.value}px)`:"",zIndex:o.zIndex}}),z=()=>{if(!!g.value)if(N.value=g.value instanceof Window?document.documentElement.scrollTop:g.value.scrollTop||0,o.position==="top")if(o.target){const q=T.bottom.value-o.offset-b.value;R.value=o.offset>E.value&&T.bottom.value>0,D.value=q<0?q:0}else R.value=o.offset>E.value;else if(o.target){const q=y.value-T.top.value-o.offset-b.value;R.value=y.value-o.offset<I.value&&y.value>T.top.value,D.value=q<0?-q:0}else R.value=y.value-o.offset<I.value},H=()=>{M(),i("scroll",{scrollTop:N.value,fixed:R.value})};return It(R,q=>i("change",q)),jn(()=>{var q;o.target?(d.value=(q=document.querySelector(o.target))!=null?q:void 0,d.value||ki(C3,`Target is not existed: ${o.target}`)):d.value=document.documentElement,g.value=$S(h.value,!0),M()}),Jr(g,"scroll",H),_s(z),n({update:z,updateRoot:M}),(q,he)=>($(),_e("div",{ref_key:"root",ref:h,class:J(v(l).b()),style:fn(v(V))},[Ie("div",{class:J({[v(l).m("fixed")]:R.value}),style:fn(v(B))},[yt(q.$slots,"default")],6)],6))}});var ine=Ht(rne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]);const sne=er(ine),one=$t({size:{type:nt([Number,String])},color:{type:String}}),ane=Ge({name:"ElIcon",inheritAttrs:!1}),lne=Ge({...ane,props:one,setup(t){const n=t,i=Ct("icon"),o=K(()=>{const{size:l,color:d}=n;return!l&&!d?{}:{fontSize:ts(l)?void 0:xi(l),"--color":d}});return(l,d)=>($(),_e("i",ir({class:v(i).b(),style:v(o)},l.$attrs),[yt(l.$slots,"default")],16))}});var cne=Ht(lne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const un=er(cne),une=["light","dark"],dne=$t({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:qp(xc),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:une,default:"light"}}),fne={close:t=>t instanceof MouseEvent},hne=Ge({name:"ElAlert"}),pne=Ge({...hne,props:dne,emits:fne,setup(t,{emit:n}){const i=t,{Close:o}=WS,l=ss(),d=Ct("alert"),h=re(!0),g=K(()=>xc[i.type]),y=K(()=>[d.e("icon"),{[d.is("big")]:!!i.description||!!l.default}]),b=K(()=>({[d.is("bold")]:i.description||l.default})),C=E=>{h.value=!1,n("close",E)};return(E,I)=>($(),rt(Si,{name:v(d).b("fade"),persisted:""},{default:Ue(()=>[zn(Ie("div",{class:J([v(d).b(),v(d).m(E.type),v(d).is("center",E.center),v(d).is(E.effect)]),role:"alert"},[E.showIcon&&v(g)?($(),rt(v(un),{key:0,class:J(v(y))},{default:Ue(()=>[($(),rt(sr(v(g))))]),_:1},8,["class"])):Ze("v-if",!0),Ie("div",{class:J(v(d).e("content"))},[E.title||E.$slots.title?($(),_e("span",{key:0,class:J([v(d).e("title"),v(b)])},[yt(E.$slots,"title",{},()=>[mr(Xt(E.title),1)])],2)):Ze("v-if",!0),E.$slots.default||E.description?($(),_e("p",{key:1,class:J(v(d).e("description"))},[yt(E.$slots,"default",{},()=>[mr(Xt(E.description),1)])],2)):Ze("v-if",!0),E.closable?($(),_e(gn,{key:2},[E.closeText?($(),_e("div",{key:0,class:J([v(d).e("close-btn"),v(d).is("customed")]),onClick:C},Xt(E.closeText),3)):($(),rt(v(un),{key:1,class:J(v(d).e("close-btn")),onClick:C},{default:Ue(()=>[Re(v(o))]),_:1},8,["class"]))],64)):Ze("v-if",!0)],2)],2),[[yr,h.value]])]),_:3},8,["name"]))}});var mne=Ht(pne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const gne=er(mne);let ca;const vne=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,_ne=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Ane(t){const n=window.getComputedStyle(t),i=n.getPropertyValue("box-sizing"),o=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),l=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:_ne.map(h=>`${h}:${n.getPropertyValue(h)}`).join(";"),paddingSize:o,borderSize:l,boxSizing:i}}function iR(t,n=1,i){var o;ca||(ca=document.createElement("textarea"),document.body.appendChild(ca));const{paddingSize:l,borderSize:d,boxSizing:h,contextStyle:g}=Ane(t);ca.setAttribute("style",`${g};${vne}`),ca.value=t.value||t.placeholder||"";let y=ca.scrollHeight;const b={};h==="border-box"?y=y+d:h==="content-box"&&(y=y-l),ca.value="";const C=ca.scrollHeight-l;if(Hn(n)){let E=C*n;h==="border-box"&&(E=E+l+d),y=Math.max(E,y),b.minHeight=`${E}px`}if(Hn(i)){let E=C*i;h==="border-box"&&(E=E+l+d),y=Math.min(E,y)}return b.height=`${y}px`,(o=ca.parentNode)==null||o.removeChild(ca),ca=void 0,b}const yne=$t({id:{type:String,default:void 0},size:Qs,disabled:Boolean,modelValue:{type:nt([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:nt([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:jr},prefixIcon:{type:jr},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:nt([Object,Array,String]),default:()=>ni({})}}),bne={[Jn]:t=>On(t),input:t=>On(t),change:t=>On(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},Sne=["role"],wne=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],Ene=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],Cne=Ge({name:"ElInput",inheritAttrs:!1}),Ine=Ge({...Cne,props:yne,emits:bne,setup(t,{expose:n,emit:i}){const o=t,l=pm(),d=ss(),h=K(()=>{const Ne={};return o.containerRole==="combobox"&&(Ne["aria-haspopup"]=l["aria-haspopup"],Ne["aria-owns"]=l["aria-owns"],Ne["aria-expanded"]=l["aria-expanded"]),Ne}),g=YS({excludeKeys:K(()=>Object.keys(h.value))}),{form:y,formItem:b}=Bs(),{inputId:C}=Vc(o,{formItemContext:b}),E=Mi(),I=wa(),M=Ct("input"),T=Ct("textarea"),R=qr(),N=qr(),D=re(!1),V=re(!1),B=re(!1),z=re(!1),H=re(),q=qr(o.inputStyle),he=K(()=>R.value||N.value),ne=K(()=>{var Ne;return(Ne=y==null?void 0:y.statusIcon)!=null?Ne:!1}),se=K(()=>(b==null?void 0:b.validateState)||""),oe=K(()=>se.value&&KN[se.value]),xe=K(()=>z.value?NW:N9),me=K(()=>[l.style,o.inputStyle]),ce=K(()=>[o.inputStyle,q.value,{resize:o.resize}]),Ae=K(()=>rs(o.modelValue)?"":String(o.modelValue)),Se=K(()=>o.clearable&&!I.value&&!o.readonly&&!!Ae.value&&(D.value||V.value)),ye=K(()=>o.showPassword&&!I.value&&!o.readonly&&!!Ae.value&&(!!Ae.value||D.value)),ie=K(()=>o.showWordLimit&&!!g.value.maxlength&&(o.type==="text"||o.type==="textarea")&&!I.value&&!o.readonly&&!o.showPassword),fe=K(()=>Array.from(Ae.value).length),le=K(()=>!!ie.value&&fe.value>Number(g.value.maxlength)),Oe=K(()=>!!d.suffix||!!o.suffixIcon||Se.value||o.showPassword||ie.value||!!se.value&&ne.value),[Qe,Pe]=qte(R);As(N,Ne=>{if(!ie.value||o.resize!=="both")return;const Ke=Ne[0],{width:Lt}=Ke.contentRect;H.value={right:`calc(100% - ${Lt+15+6}px)`}});const He=()=>{const{type:Ne,autosize:Ke}=o;if(!(!fr||Ne!=="textarea"))if(Ke){const Lt=nr(Ke)?Ke.minRows:void 0,Wt=nr(Ke)?Ke.maxRows:void 0;q.value={...iR(N.value,Lt,Wt)}}else q.value={minHeight:iR(N.value).minHeight}},bt=()=>{const Ne=he.value;!Ne||Ne.value===Ae.value||(Ne.value=Ae.value)},xt=async Ne=>{Qe();let{value:Ke}=Ne.target;if(o.formatter&&(Ke=o.parser?o.parser(Ke):Ke,Ke=o.formatter(Ke)),!B.value){if(Ke===Ae.value){bt();return}i(Jn,Ke),i("input",Ke),await dn(),bt(),Pe()}},Nt=Ne=>{i("change",Ne.target.value)},st=Ne=>{i("compositionstart",Ne),B.value=!0},Ye=Ne=>{var Ke;i("compositionupdate",Ne);const Lt=(Ke=Ne.target)==null?void 0:Ke.value,Wt=Lt[Lt.length-1]||"";B.value=!K_(Wt)},ot=Ne=>{i("compositionend",Ne),B.value&&(B.value=!1,xt(Ne))},Et=()=>{z.value=!z.value,an()},an=async()=>{var Ne;await dn(),(Ne=he.value)==null||Ne.focus()},Be=()=>{var Ne;return(Ne=he.value)==null?void 0:Ne.blur()},Xe=Ne=>{D.value=!0,i("focus",Ne)},ht=Ne=>{var Ke;D.value=!1,i("blur",Ne),o.validateEvent&&((Ke=b==null?void 0:b.validate)==null||Ke.call(b,"blur").catch(Lt=>void 0))},Dt=Ne=>{V.value=!1,i("mouseleave",Ne)},Ot=Ne=>{V.value=!0,i("mouseenter",Ne)},dt=Ne=>{i("keydown",Ne)},Ft=()=>{var Ne;(Ne=he.value)==null||Ne.select()},At=()=>{i(Jn,""),i("change",""),i("clear"),i("input","")};return It(()=>o.modelValue,()=>{var Ne;dn(()=>He()),o.validateEvent&&((Ne=b==null?void 0:b.validate)==null||Ne.call(b,"change").catch(Ke=>void 0))}),It(Ae,()=>bt()),It(()=>o.type,async()=>{await dn(),bt(),He()}),jn(()=>{!o.formatter&&o.parser,bt(),dn(He)}),n({input:R,textarea:N,ref:he,textareaStyle:ce,autosize:ai(o,"autosize"),focus:an,blur:Be,select:Ft,clear:At,resizeTextarea:He}),(Ne,Ke)=>zn(($(),_e("div",ir(v(h),{class:[Ne.type==="textarea"?v(T).b():v(M).b(),v(M).m(v(E)),v(M).is("disabled",v(I)),v(M).is("exceed",v(le)),{[v(M).b("group")]:Ne.$slots.prepend||Ne.$slots.append,[v(M).bm("group","append")]:Ne.$slots.append,[v(M).bm("group","prepend")]:Ne.$slots.prepend,[v(M).m("prefix")]:Ne.$slots.prefix||Ne.prefixIcon,[v(M).m("suffix")]:Ne.$slots.suffix||Ne.suffixIcon||Ne.clearable||Ne.showPassword,[v(M).bm("suffix","password-clear")]:v(Se)&&v(ye)},Ne.$attrs.class],style:v(me),role:Ne.containerRole,onMouseenter:Ot,onMouseleave:Dt}),[Ze(" input "),Ne.type!=="textarea"?($(),_e(gn,{key:0},[Ze(" prepend slot "),Ne.$slots.prepend?($(),_e("div",{key:0,class:J(v(M).be("group","prepend"))},[yt(Ne.$slots,"prepend")],2)):Ze("v-if",!0),Ie("div",{class:J([v(M).e("wrapper"),v(M).is("focus",D.value)])},[Ze(" prefix slot "),Ne.$slots.prefix||Ne.prefixIcon?($(),_e("span",{key:0,class:J(v(M).e("prefix"))},[Ie("span",{class:J(v(M).e("prefix-inner"))},[yt(Ne.$slots,"prefix"),Ne.prefixIcon?($(),rt(v(un),{key:0,class:J(v(M).e("icon"))},{default:Ue(()=>[($(),rt(sr(Ne.prefixIcon)))]),_:1},8,["class"])):Ze("v-if",!0)],2)],2)):Ze("v-if",!0),Ie("input",ir({id:v(C),ref_key:"input",ref:R,class:v(M).e("inner")},v(g),{type:Ne.showPassword?z.value?"text":"password":Ne.type,disabled:v(I),formatter:Ne.formatter,parser:Ne.parser,readonly:Ne.readonly,autocomplete:Ne.autocomplete,tabindex:Ne.tabindex,"aria-label":Ne.label,placeholder:Ne.placeholder,style:Ne.inputStyle,form:o.form,onCompositionstart:st,onCompositionupdate:Ye,onCompositionend:ot,onInput:xt,onFocus:Xe,onBlur:ht,onChange:Nt,onKeydown:dt}),null,16,wne),Ze(" suffix slot "),v(Oe)?($(),_e("span",{key:1,class:J(v(M).e("suffix"))},[Ie("span",{class:J(v(M).e("suffix-inner"))},[!v(Se)||!v(ye)||!v(ie)?($(),_e(gn,{key:0},[yt(Ne.$slots,"suffix"),Ne.suffixIcon?($(),rt(v(un),{key:0,class:J(v(M).e("icon"))},{default:Ue(()=>[($(),rt(sr(Ne.suffixIcon)))]),_:1},8,["class"])):Ze("v-if",!0)],64)):Ze("v-if",!0),v(Se)?($(),rt(v(un),{key:1,class:J([v(M).e("icon"),v(M).e("clear")]),onMousedown:Dn(v(Fr),["prevent"]),onClick:At},{default:Ue(()=>[Re(v(Lc))]),_:1},8,["class","onMousedown"])):Ze("v-if",!0),v(ye)?($(),rt(v(un),{key:2,class:J([v(M).e("icon"),v(M).e("password")]),onClick:Et},{default:Ue(()=>[($(),rt(sr(v(xe))))]),_:1},8,["class"])):Ze("v-if",!0),v(ie)?($(),_e("span",{key:3,class:J(v(M).e("count"))},[Ie("span",{class:J(v(M).e("count-inner"))},Xt(v(fe))+" / "+Xt(v(g).maxlength),3)],2)):Ze("v-if",!0),v(se)&&v(oe)&&v(ne)?($(),rt(v(un),{key:4,class:J([v(M).e("icon"),v(M).e("validateIcon"),v(M).is("loading",v(se)==="validating")])},{default:Ue(()=>[($(),rt(sr(v(oe))))]),_:1},8,["class"])):Ze("v-if",!0)],2)],2)):Ze("v-if",!0)],2),Ze(" append slot "),Ne.$slots.append?($(),_e("div",{key:1,class:J(v(M).be("group","append"))},[yt(Ne.$slots,"append")],2)):Ze("v-if",!0)],64)):($(),_e(gn,{key:1},[Ze(" textarea "),Ie("textarea",ir({id:v(C),ref_key:"textarea",ref:N,class:v(T).e("inner")},v(g),{tabindex:Ne.tabindex,disabled:v(I),readonly:Ne.readonly,autocomplete:Ne.autocomplete,style:v(ce),"aria-label":Ne.label,placeholder:Ne.placeholder,form:o.form,onCompositionstart:st,onCompositionupdate:Ye,onCompositionend:ot,onInput:xt,onFocus:Xe,onBlur:ht,onChange:Nt,onKeydown:dt}),null,16,Ene),v(ie)?($(),_e("span",{key:0,style:fn(H.value),class:J(v(M).e("count"))},Xt(v(fe))+" / "+Xt(v(g).maxlength),7)):Ze("v-if",!0)],64))],16,Sne)),[[yr,Ne.type!=="hidden"]])}});var xne=Ht(Ine,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const vs=er(xne),lf=4,I3={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Mne=({move:t,size:n,bar:i})=>({[i.size]:n,transform:`translate${i.axis}(${t}%)`}),Rne=$t({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Tne="Thumb",Pne=Ge({__name:"thumb",props:Rne,setup(t){const n=t,i=hn(s3),o=Ct("scrollbar");i||ki(Tne,"can not inject scrollbar context");const l=re(),d=re(),h=re({}),g=re(!1);let y=!1,b=!1,C=fr?document.onselectstart:null;const E=K(()=>I3[n.vertical?"vertical":"horizontal"]),I=K(()=>Mne({size:n.size,move:n.move,bar:E.value})),M=K(()=>l.value[E.value.offset]**2/i.wrapElement[E.value.scrollSize]/n.ratio/d.value[E.value.offset]),T=q=>{var he;if(q.stopPropagation(),q.ctrlKey||[1,2].includes(q.button))return;(he=window.getSelection())==null||he.removeAllRanges(),N(q);const ne=q.currentTarget;!ne||(h.value[E.value.axis]=ne[E.value.offset]-(q[E.value.client]-ne.getBoundingClientRect()[E.value.direction]))},R=q=>{if(!d.value||!l.value||!i.wrapElement)return;const he=Math.abs(q.target.getBoundingClientRect()[E.value.direction]-q[E.value.client]),ne=d.value[E.value.offset]/2,se=(he-ne)*100*M.value/l.value[E.value.offset];i.wrapElement[E.value.scroll]=se*i.wrapElement[E.value.scrollSize]/100},N=q=>{q.stopImmediatePropagation(),y=!0,document.addEventListener("mousemove",D),document.addEventListener("mouseup",V),C=document.onselectstart,document.onselectstart=()=>!1},D=q=>{if(!l.value||!d.value||y===!1)return;const he=h.value[E.value.axis];if(!he)return;const ne=(l.value.getBoundingClientRect()[E.value.direction]-q[E.value.client])*-1,se=d.value[E.value.offset]-he,oe=(ne-se)*100*M.value/l.value[E.value.offset];i.wrapElement[E.value.scroll]=oe*i.wrapElement[E.value.scrollSize]/100},V=()=>{y=!1,h.value[E.value.axis]=0,document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",V),H(),b&&(g.value=!1)},B=()=>{b=!1,g.value=!!n.size},z=()=>{b=!0,g.value=y};hi(()=>{H(),document.removeEventListener("mouseup",V)});const H=()=>{document.onselectstart!==C&&(document.onselectstart=C)};return Jr(ai(i,"scrollbarElement"),"mousemove",B),Jr(ai(i,"scrollbarElement"),"mouseleave",z),(q,he)=>($(),rt(Si,{name:v(o).b("fade"),persisted:""},{default:Ue(()=>[zn(Ie("div",{ref_key:"instance",ref:l,class:J([v(o).e("bar"),v(o).is(v(E).key)]),onMousedown:R},[Ie("div",{ref_key:"thumb",ref:d,class:J(v(o).e("thumb")),style:fn(v(I)),onMousedown:T},null,38)],34),[[yr,q.always||g.value]])]),_:1},8,["name"]))}});var sR=Ht(Pne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Nne=$t({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Bne=Ge({__name:"bar",props:Nne,setup(t,{expose:n}){const i=t,o=re(0),l=re(0);return n({handleScroll:h=>{if(h){const g=h.offsetHeight-lf,y=h.offsetWidth-lf;l.value=h.scrollTop*100/g*i.ratioY,o.value=h.scrollLeft*100/y*i.ratioX}}}),(h,g)=>($(),_e(gn,null,[Re(sR,{move:o.value,ratio:h.ratioX,size:h.width,always:h.always},null,8,["move","ratio","size","always"]),Re(sR,{move:l.value,ratio:h.ratioY,size:h.height,vertical:"",always:h.always},null,8,["move","ratio","size","always"])],64))}});var Dne=Ht(Bne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const kne=$t({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:nt([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),Lne={scroll:({scrollTop:t,scrollLeft:n})=>[t,n].every(Hn)},One=Ge({name:"ElScrollbar"}),Fne=Ge({...One,props:kne,emits:Lne,setup(t,{expose:n,emit:i}){const o=t,l=Ct("scrollbar");let d,h;const g=re(),y=re(),b=re(),C=re("0"),E=re("0"),I=re(),M=re(1),T=re(1),R=K(()=>{const H={};return o.height&&(H.height=xi(o.height)),o.maxHeight&&(H.maxHeight=xi(o.maxHeight)),[o.wrapStyle,H]}),N=()=>{var H;y.value&&((H=I.value)==null||H.handleScroll(y.value),i("scroll",{scrollTop:y.value.scrollTop,scrollLeft:y.value.scrollLeft}))};function D(H,q){nr(H)?y.value.scrollTo(H):Hn(H)&&Hn(q)&&y.value.scrollTo(H,q)}const V=H=>{!Hn(H)||(y.value.scrollTop=H)},B=H=>{!Hn(H)||(y.value.scrollLeft=H)},z=()=>{if(!y.value)return;const H=y.value.offsetHeight-lf,q=y.value.offsetWidth-lf,he=H**2/y.value.scrollHeight,ne=q**2/y.value.scrollWidth,se=Math.max(he,o.minSize),oe=Math.max(ne,o.minSize);M.value=he/(H-he)/(se/(H-se)),T.value=ne/(q-ne)/(oe/(q-oe)),E.value=se+lf<H?`${se}px`:"",C.value=oe+lf<q?`${oe}px`:""};return It(()=>o.noresize,H=>{H?(d==null||d(),h==null||h()):({stop:d}=As(b,z),h=Jr("resize",z))},{immediate:!0}),It(()=>[o.maxHeight,o.height],()=>{o.native||dn(()=>{var H;z(),y.value&&((H=I.value)==null||H.handleScroll(y.value))})}),or(s3,Mr({scrollbarElement:g,wrapElement:y})),jn(()=>{o.native||dn(()=>{z()})}),Dl(()=>z()),n({wrap$:y,update:z,scrollTo:D,setScrollTop:V,setScrollLeft:B,handleScroll:N}),(H,q)=>($(),_e("div",{ref_key:"scrollbar$",ref:g,class:J(v(l).b())},[Ie("div",{ref_key:"wrap$",ref:y,class:J([H.wrapClass,v(l).e("wrap"),{[v(l).em("wrap","hidden-default")]:!H.native}]),style:fn(v(R)),onScroll:N},[($(),rt(sr(H.tag),{ref_key:"resize$",ref:b,class:J([v(l).e("view"),H.viewClass]),style:fn(H.viewStyle)},{default:Ue(()=>[yt(H.$slots,"default")]),_:3},8,["class","style"]))],38),H.native?Ze("v-if",!0):($(),rt(Dne,{key:0,ref_key:"barRef",ref:I,height:E.value,width:C.value,always:H.always,"ratio-x":T.value,"ratio-y":M.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Vne=Ht(Fne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const Gl=er(Vne),Gne={LIGHT:"light",DARK:"dark"},Une=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],x3=$t({role:{type:String,values:Une,default:"tooltip"}}),zne=Ge({name:"ElPopperRoot",inheritAttrs:!1}),Hne=Ge({...zne,props:x3,setup(t,{expose:n}){const i=t,o=re(),l=re(),d=re(),h=re(),g=K(()=>i.role),y={triggerRef:o,popperInstanceRef:l,contentRef:d,referenceRef:h,role:g};return n(y),or(JS,y),(b,C)=>yt(b.$slots,"default")}});var Qne=Ht(Hne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const M3=$t({arrowOffset:{type:Number,default:5}}),Xne=Ge({name:"ElPopperArrow",inheritAttrs:!1}),$ne=Ge({...Xne,props:M3,setup(t,{expose:n}){const i=t,o=Ct("popper"),{arrowOffset:l,arrowRef:d}=hn(l3,void 0);return It(()=>i.arrowOffset,h=>{l.value=h}),hi(()=>{d.value=void 0}),n({arrowRef:d}),(h,g)=>($(),_e("span",{ref_key:"arrowRef",ref:d,class:J(v(o).e("arrow")),"data-popper-arrow":""},null,2))}});var Wne=Ht($ne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const Kne="ElOnlyChild",R3=Ge({name:Kne,setup(t,{slots:n,attrs:i}){var o;const l=hn(g3),d=Ete((o=l==null?void 0:l.setForwardRef)!=null?o:Fr);return()=>{var h;const g=(h=n.default)==null?void 0:h.call(n,i);if(!g||g.length>1)return null;const y=T3(g);return y?zn(Rl(y,i),[[d]]):null}}});function T3(t){if(!t)return null;const n=t;for(const i of n){if(nr(i))switch(i.type){case Rs:continue;case Qf:case"svg":return oR(i);case gn:return T3(i.children);default:return i}return oR(i)}return null}function oR(t){const n=Ct("only-child");return Re("span",{class:n.e("content")},[t])}const P3=$t({virtualRef:{type:nt(Object)},virtualTriggering:Boolean,onMouseenter:{type:nt(Function)},onMouseleave:{type:nt(Function)},onClick:{type:nt(Function)},onKeydown:{type:nt(Function)},onFocus:{type:nt(Function)},onBlur:{type:nt(Function)},onContextmenu:{type:nt(Function)},id:String,open:Boolean}),jne=Ge({name:"ElPopperTrigger",inheritAttrs:!1}),qne=Ge({...jne,props:P3,setup(t,{expose:n}){const i=t,{role:o,triggerRef:l}=hn(JS,void 0);wte(l);const d=K(()=>g.value?i.id:void 0),h=K(()=>{if(o&&o.value==="tooltip")return i.open&&i.id?i.id:void 0}),g=K(()=>{if(o&&o.value!=="tooltip")return o.value}),y=K(()=>g.value?`${i.open}`:void 0);let b;return jn(()=>{It(()=>i.virtualRef,C=>{C&&(l.value=co(C))},{immediate:!0}),It(l,(C,E)=>{b==null||b(),b=void 0,va(C)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(I=>{var M;const T=i[I];T&&(C.addEventListener(I.slice(2).toLowerCase(),T),(M=E==null?void 0:E.removeEventListener)==null||M.call(E,I.slice(2).toLowerCase(),T))}),b=It([d,h,g,y],I=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((M,T)=>{rs(I[T])?C.removeAttribute(M):C.setAttribute(M,I[T])})},{immediate:!0})),va(E)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(I=>E.removeAttribute(I))},{immediate:!0})}),hi(()=>{b==null||b(),b=void 0}),n({triggerRef:l}),(C,E)=>C.virtualTriggering?Ze("v-if",!0):($(),rt(v(R3),ir({key:0},C.$attrs,{"aria-controls":v(d),"aria-describedby":v(h),"aria-expanded":v(y),"aria-haspopup":v(g)}),{default:Ue(()=>[yt(C.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var Yne=Ht(qne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]),zs="top",Lo="bottom",Oo="right",Hs="left",ow="auto",bm=[zs,Lo,Oo,Hs],Nf="start",Yp="end",Jne="clippingParents",N3="viewport",dp="popper",Zne="reference",aR=bm.reduce(function(t,n){return t.concat([n+"-"+Nf,n+"-"+Yp])},[]),ed=[].concat(bm,[ow]).reduce(function(t,n){return t.concat([n,n+"-"+Nf,n+"-"+Yp])},[]),ere="beforeRead",tre="read",nre="afterRead",rre="beforeMain",ire="main",sre="afterMain",ore="beforeWrite",are="write",lre="afterWrite",cre=[ere,tre,nre,rre,ire,sre,ore,are,lre];function Xa(t){return t?(t.nodeName||"").toLowerCase():null}function Ea(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function Bf(t){var n=Ea(t).Element;return t instanceof n||t instanceof Element}function No(t){var n=Ea(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function aw(t){if(typeof ShadowRoot>"u")return!1;var n=Ea(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function ure(t){var n=t.state;Object.keys(n.elements).forEach(function(i){var o=n.styles[i]||{},l=n.attributes[i]||{},d=n.elements[i];!No(d)||!Xa(d)||(Object.assign(d.style,o),Object.keys(l).forEach(function(h){var g=l[h];g===!1?d.removeAttribute(h):d.setAttribute(h,g===!0?"":g)}))})}function dre(t){var n=t.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow),function(){Object.keys(n.elements).forEach(function(o){var l=n.elements[o],d=n.attributes[o]||{},h=Object.keys(n.styles.hasOwnProperty(o)?n.styles[o]:i[o]),g=h.reduce(function(y,b){return y[b]="",y},{});!No(l)||!Xa(l)||(Object.assign(l.style,g),Object.keys(d).forEach(function(y){l.removeAttribute(y)}))})}}var B3={name:"applyStyles",enabled:!0,phase:"write",fn:ure,effect:dre,requires:["computeStyles"]};function Ha(t){return t.split("-")[0]}var Vu=Math.max,u_=Math.min,Df=Math.round;function kf(t,n){n===void 0&&(n=!1);var i=t.getBoundingClientRect(),o=1,l=1;if(No(t)&&n){var d=t.offsetHeight,h=t.offsetWidth;h>0&&(o=Df(i.width)/h||1),d>0&&(l=Df(i.height)/d||1)}return{width:i.width/o,height:i.height/l,top:i.top/l,right:i.right/o,bottom:i.bottom/l,left:i.left/o,x:i.left/o,y:i.top/l}}function lw(t){var n=kf(t),i=t.offsetWidth,o=t.offsetHeight;return Math.abs(n.width-i)<=1&&(i=n.width),Math.abs(n.height-o)<=1&&(o=n.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:o}}function D3(t,n){var i=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(i&&aw(i)){var o=n;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Nl(t){return Ea(t).getComputedStyle(t)}function fre(t){return["table","td","th"].indexOf(Xa(t))>=0}function Uc(t){return((Bf(t)?t.ownerDocument:t.document)||window.document).documentElement}function tA(t){return Xa(t)==="html"?t:t.assignedSlot||t.parentNode||(aw(t)?t.host:null)||Uc(t)}function lR(t){return!No(t)||Nl(t).position==="fixed"?null:t.offsetParent}function hre(t){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&No(t)){var o=Nl(t);if(o.position==="fixed")return null}var l=tA(t);for(aw(l)&&(l=l.host);No(l)&&["html","body"].indexOf(Xa(l))<0;){var d=Nl(l);if(d.transform!=="none"||d.perspective!=="none"||d.contain==="paint"||["transform","perspective"].indexOf(d.willChange)!==-1||n&&d.willChange==="filter"||n&&d.filter&&d.filter!=="none")return l;l=l.parentNode}return null}function Sm(t){for(var n=Ea(t),i=lR(t);i&&fre(i)&&Nl(i).position==="static";)i=lR(i);return i&&(Xa(i)==="html"||Xa(i)==="body"&&Nl(i).position==="static")?n:i||hre(t)||n}function cw(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Mp(t,n,i){return Vu(t,u_(n,i))}function pre(t,n,i){var o=Mp(t,n,i);return o>i?i:o}function k3(){return{top:0,right:0,bottom:0,left:0}}function L3(t){return Object.assign({},k3(),t)}function O3(t,n){return n.reduce(function(i,o){return i[o]=t,i},{})}var mre=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,L3(typeof t!="number"?t:O3(t,bm))};function gre(t){var n,i=t.state,o=t.name,l=t.options,d=i.elements.arrow,h=i.modifiersData.popperOffsets,g=Ha(i.placement),y=cw(g),b=[Hs,Oo].indexOf(g)>=0,C=b?"height":"width";if(!(!d||!h)){var E=mre(l.padding,i),I=lw(d),M=y==="y"?zs:Hs,T=y==="y"?Lo:Oo,R=i.rects.reference[C]+i.rects.reference[y]-h[y]-i.rects.popper[C],N=h[y]-i.rects.reference[y],D=Sm(d),V=D?y==="y"?D.clientHeight||0:D.clientWidth||0:0,B=R/2-N/2,z=E[M],H=V-I[C]-E[T],q=V/2-I[C]/2+B,he=Mp(z,q,H),ne=y;i.modifiersData[o]=(n={},n[ne]=he,n.centerOffset=he-q,n)}}function vre(t){var n=t.state,i=t.options,o=i.element,l=o===void 0?"[data-popper-arrow]":o;l!=null&&(typeof l=="string"&&(l=n.elements.popper.querySelector(l),!l)||!D3(n.elements.popper,l)||(n.elements.arrow=l))}var _re={name:"arrow",enabled:!0,phase:"main",fn:gre,effect:vre,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Lf(t){return t.split("-")[1]}var Are={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yre(t){var n=t.x,i=t.y,o=window,l=o.devicePixelRatio||1;return{x:Df(n*l)/l||0,y:Df(i*l)/l||0}}function cR(t){var n,i=t.popper,o=t.popperRect,l=t.placement,d=t.variation,h=t.offsets,g=t.position,y=t.gpuAcceleration,b=t.adaptive,C=t.roundOffsets,E=t.isFixed,I=h.x,M=I===void 0?0:I,T=h.y,R=T===void 0?0:T,N=typeof C=="function"?C({x:M,y:R}):{x:M,y:R};M=N.x,R=N.y;var D=h.hasOwnProperty("x"),V=h.hasOwnProperty("y"),B=Hs,z=zs,H=window;if(b){var q=Sm(i),he="clientHeight",ne="clientWidth";if(q===Ea(i)&&(q=Uc(i),Nl(q).position!=="static"&&g==="absolute"&&(he="scrollHeight",ne="scrollWidth")),q=q,l===zs||(l===Hs||l===Oo)&&d===Yp){z=Lo;var se=E&&q===H&&H.visualViewport?H.visualViewport.height:q[he];R-=se-o.height,R*=y?1:-1}if(l===Hs||(l===zs||l===Lo)&&d===Yp){B=Oo;var oe=E&&q===H&&H.visualViewport?H.visualViewport.width:q[ne];M-=oe-o.width,M*=y?1:-1}}var xe=Object.assign({position:g},b&&Are),me=C===!0?yre({x:M,y:R}):{x:M,y:R};if(M=me.x,R=me.y,y){var ce;return Object.assign({},xe,(ce={},ce[z]=V?"0":"",ce[B]=D?"0":"",ce.transform=(H.devicePixelRatio||1)<=1?"translate("+M+"px, "+R+"px)":"translate3d("+M+"px, "+R+"px, 0)",ce))}return Object.assign({},xe,(n={},n[z]=V?R+"px":"",n[B]=D?M+"px":"",n.transform="",n))}function bre(t){var n=t.state,i=t.options,o=i.gpuAcceleration,l=o===void 0?!0:o,d=i.adaptive,h=d===void 0?!0:d,g=i.roundOffsets,y=g===void 0?!0:g,b={placement:Ha(n.placement),variation:Lf(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:l,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,cR(Object.assign({},b,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:h,roundOffsets:y})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,cR(Object.assign({},b,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:y})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var F3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bre,data:{}},lv={passive:!0};function Sre(t){var n=t.state,i=t.instance,o=t.options,l=o.scroll,d=l===void 0?!0:l,h=o.resize,g=h===void 0?!0:h,y=Ea(n.elements.popper),b=[].concat(n.scrollParents.reference,n.scrollParents.popper);return d&&b.forEach(function(C){C.addEventListener("scroll",i.update,lv)}),g&&y.addEventListener("resize",i.update,lv),function(){d&&b.forEach(function(C){C.removeEventListener("scroll",i.update,lv)}),g&&y.removeEventListener("resize",i.update,lv)}}var V3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Sre,data:{}},wre={left:"right",right:"left",bottom:"top",top:"bottom"};function Tv(t){return t.replace(/left|right|bottom|top/g,function(n){return wre[n]})}var Ere={start:"end",end:"start"};function uR(t){return t.replace(/start|end/g,function(n){return Ere[n]})}function uw(t){var n=Ea(t),i=n.pageXOffset,o=n.pageYOffset;return{scrollLeft:i,scrollTop:o}}function dw(t){return kf(Uc(t)).left+uw(t).scrollLeft}function Cre(t){var n=Ea(t),i=Uc(t),o=n.visualViewport,l=i.clientWidth,d=i.clientHeight,h=0,g=0;return o&&(l=o.width,d=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(h=o.offsetLeft,g=o.offsetTop)),{width:l,height:d,x:h+dw(t),y:g}}function Ire(t){var n,i=Uc(t),o=uw(t),l=(n=t.ownerDocument)==null?void 0:n.body,d=Vu(i.scrollWidth,i.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),h=Vu(i.scrollHeight,i.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),g=-o.scrollLeft+dw(t),y=-o.scrollTop;return Nl(l||i).direction==="rtl"&&(g+=Vu(i.clientWidth,l?l.clientWidth:0)-d),{width:d,height:h,x:g,y}}function fw(t){var n=Nl(t),i=n.overflow,o=n.overflowX,l=n.overflowY;return/auto|scroll|overlay|hidden/.test(i+l+o)}function G3(t){return["html","body","#document"].indexOf(Xa(t))>=0?t.ownerDocument.body:No(t)&&fw(t)?t:G3(tA(t))}function Rp(t,n){var i;n===void 0&&(n=[]);var o=G3(t),l=o===((i=t.ownerDocument)==null?void 0:i.body),d=Ea(o),h=l?[d].concat(d.visualViewport||[],fw(o)?o:[]):o,g=n.concat(h);return l?g:g.concat(Rp(tA(h)))}function i1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function xre(t){var n=kf(t);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function dR(t,n){return n===N3?i1(Cre(t)):Bf(n)?xre(n):i1(Ire(Uc(t)))}function Mre(t){var n=Rp(tA(t)),i=["absolute","fixed"].indexOf(Nl(t).position)>=0,o=i&&No(t)?Sm(t):t;return Bf(o)?n.filter(function(l){return Bf(l)&&D3(l,o)&&Xa(l)!=="body"}):[]}function Rre(t,n,i){var o=n==="clippingParents"?Mre(t):[].concat(n),l=[].concat(o,[i]),d=l[0],h=l.reduce(function(g,y){var b=dR(t,y);return g.top=Vu(b.top,g.top),g.right=u_(b.right,g.right),g.bottom=u_(b.bottom,g.bottom),g.left=Vu(b.left,g.left),g},dR(t,d));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}function U3(t){var n=t.reference,i=t.element,o=t.placement,l=o?Ha(o):null,d=o?Lf(o):null,h=n.x+n.width/2-i.width/2,g=n.y+n.height/2-i.height/2,y;switch(l){case zs:y={x:h,y:n.y-i.height};break;case Lo:y={x:h,y:n.y+n.height};break;case Oo:y={x:n.x+n.width,y:g};break;case Hs:y={x:n.x-i.width,y:g};break;default:y={x:n.x,y:n.y}}var b=l?cw(l):null;if(b!=null){var C=b==="y"?"height":"width";switch(d){case Nf:y[b]=y[b]-(n[C]/2-i[C]/2);break;case Yp:y[b]=y[b]+(n[C]/2-i[C]/2);break}}return y}function Jp(t,n){n===void 0&&(n={});var i=n,o=i.placement,l=o===void 0?t.placement:o,d=i.boundary,h=d===void 0?Jne:d,g=i.rootBoundary,y=g===void 0?N3:g,b=i.elementContext,C=b===void 0?dp:b,E=i.altBoundary,I=E===void 0?!1:E,M=i.padding,T=M===void 0?0:M,R=L3(typeof T!="number"?T:O3(T,bm)),N=C===dp?Zne:dp,D=t.rects.popper,V=t.elements[I?N:C],B=Rre(Bf(V)?V:V.contextElement||Uc(t.elements.popper),h,y),z=kf(t.elements.reference),H=U3({reference:z,element:D,strategy:"absolute",placement:l}),q=i1(Object.assign({},D,H)),he=C===dp?q:z,ne={top:B.top-he.top+R.top,bottom:he.bottom-B.bottom+R.bottom,left:B.left-he.left+R.left,right:he.right-B.right+R.right},se=t.modifiersData.offset;if(C===dp&&se){var oe=se[l];Object.keys(ne).forEach(function(xe){var me=[Oo,Lo].indexOf(xe)>=0?1:-1,ce=[zs,Lo].indexOf(xe)>=0?"y":"x";ne[xe]+=oe[ce]*me})}return ne}function Tre(t,n){n===void 0&&(n={});var i=n,o=i.placement,l=i.boundary,d=i.rootBoundary,h=i.padding,g=i.flipVariations,y=i.allowedAutoPlacements,b=y===void 0?ed:y,C=Lf(o),E=C?g?aR:aR.filter(function(T){return Lf(T)===C}):bm,I=E.filter(function(T){return b.indexOf(T)>=0});I.length===0&&(I=E);var M=I.reduce(function(T,R){return T[R]=Jp(t,{placement:R,boundary:l,rootBoundary:d,padding:h})[Ha(R)],T},{});return Object.keys(M).sort(function(T,R){return M[T]-M[R]})}function Pre(t){if(Ha(t)===ow)return[];var n=Tv(t);return[uR(t),n,uR(n)]}function Nre(t){var n=t.state,i=t.options,o=t.name;if(!n.modifiersData[o]._skip){for(var l=i.mainAxis,d=l===void 0?!0:l,h=i.altAxis,g=h===void 0?!0:h,y=i.fallbackPlacements,b=i.padding,C=i.boundary,E=i.rootBoundary,I=i.altBoundary,M=i.flipVariations,T=M===void 0?!0:M,R=i.allowedAutoPlacements,N=n.options.placement,D=Ha(N),V=D===N,B=y||(V||!T?[Tv(N)]:Pre(N)),z=[N].concat(B).reduce(function(bt,xt){return bt.concat(Ha(xt)===ow?Tre(n,{placement:xt,boundary:C,rootBoundary:E,padding:b,flipVariations:T,allowedAutoPlacements:R}):xt)},[]),H=n.rects.reference,q=n.rects.popper,he=new Map,ne=!0,se=z[0],oe=0;oe<z.length;oe++){var xe=z[oe],me=Ha(xe),ce=Lf(xe)===Nf,Ae=[zs,Lo].indexOf(me)>=0,Se=Ae?"width":"height",ye=Jp(n,{placement:xe,boundary:C,rootBoundary:E,altBoundary:I,padding:b}),ie=Ae?ce?Oo:Hs:ce?Lo:zs;H[Se]>q[Se]&&(ie=Tv(ie));var fe=Tv(ie),le=[];if(d&&le.push(ye[me]<=0),g&&le.push(ye[ie]<=0,ye[fe]<=0),le.every(function(bt){return bt})){se=xe,ne=!1;break}he.set(xe,le)}if(ne)for(var Oe=T?3:1,Qe=function(bt){var xt=z.find(function(Nt){var st=he.get(Nt);if(st)return st.slice(0,bt).every(function(Ye){return Ye})});if(xt)return se=xt,"break"},Pe=Oe;Pe>0;Pe--){var He=Qe(Pe);if(He==="break")break}n.placement!==se&&(n.modifiersData[o]._skip=!0,n.placement=se,n.reset=!0)}}var Bre={name:"flip",enabled:!0,phase:"main",fn:Nre,requiresIfExists:["offset"],data:{_skip:!1}};function fR(t,n,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-n.height-i.y,right:t.right-n.width+i.x,bottom:t.bottom-n.height+i.y,left:t.left-n.width-i.x}}function hR(t){return[zs,Oo,Lo,Hs].some(function(n){return t[n]>=0})}function Dre(t){var n=t.state,i=t.name,o=n.rects.reference,l=n.rects.popper,d=n.modifiersData.preventOverflow,h=Jp(n,{elementContext:"reference"}),g=Jp(n,{altBoundary:!0}),y=fR(h,o),b=fR(g,l,d),C=hR(y),E=hR(b);n.modifiersData[i]={referenceClippingOffsets:y,popperEscapeOffsets:b,isReferenceHidden:C,hasPopperEscaped:E},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":C,"data-popper-escaped":E})}var kre={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Dre};function Lre(t,n,i){var o=Ha(t),l=[Hs,zs].indexOf(o)>=0?-1:1,d=typeof i=="function"?i(Object.assign({},n,{placement:t})):i,h=d[0],g=d[1];return h=h||0,g=(g||0)*l,[Hs,Oo].indexOf(o)>=0?{x:g,y:h}:{x:h,y:g}}function Ore(t){var n=t.state,i=t.options,o=t.name,l=i.offset,d=l===void 0?[0,0]:l,h=ed.reduce(function(C,E){return C[E]=Lre(E,n.rects,d),C},{}),g=h[n.placement],y=g.x,b=g.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=y,n.modifiersData.popperOffsets.y+=b),n.modifiersData[o]=h}var Fre={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ore};function Vre(t){var n=t.state,i=t.name;n.modifiersData[i]=U3({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var z3={name:"popperOffsets",enabled:!0,phase:"read",fn:Vre,data:{}};function Gre(t){return t==="x"?"y":"x"}function Ure(t){var n=t.state,i=t.options,o=t.name,l=i.mainAxis,d=l===void 0?!0:l,h=i.altAxis,g=h===void 0?!1:h,y=i.boundary,b=i.rootBoundary,C=i.altBoundary,E=i.padding,I=i.tether,M=I===void 0?!0:I,T=i.tetherOffset,R=T===void 0?0:T,N=Jp(n,{boundary:y,rootBoundary:b,padding:E,altBoundary:C}),D=Ha(n.placement),V=Lf(n.placement),B=!V,z=cw(D),H=Gre(z),q=n.modifiersData.popperOffsets,he=n.rects.reference,ne=n.rects.popper,se=typeof R=="function"?R(Object.assign({},n.rects,{placement:n.placement})):R,oe=typeof se=="number"?{mainAxis:se,altAxis:se}:Object.assign({mainAxis:0,altAxis:0},se),xe=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,me={x:0,y:0};if(q){if(d){var ce,Ae=z==="y"?zs:Hs,Se=z==="y"?Lo:Oo,ye=z==="y"?"height":"width",ie=q[z],fe=ie+N[Ae],le=ie-N[Se],Oe=M?-ne[ye]/2:0,Qe=V===Nf?he[ye]:ne[ye],Pe=V===Nf?-ne[ye]:-he[ye],He=n.elements.arrow,bt=M&&He?lw(He):{width:0,height:0},xt=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:k3(),Nt=xt[Ae],st=xt[Se],Ye=Mp(0,he[ye],bt[ye]),ot=B?he[ye]/2-Oe-Ye-Nt-oe.mainAxis:Qe-Ye-Nt-oe.mainAxis,Et=B?-he[ye]/2+Oe+Ye+st+oe.mainAxis:Pe+Ye+st+oe.mainAxis,an=n.elements.arrow&&Sm(n.elements.arrow),Be=an?z==="y"?an.clientTop||0:an.clientLeft||0:0,Xe=(ce=xe==null?void 0:xe[z])!=null?ce:0,ht=ie+ot-Xe-Be,Dt=ie+Et-Xe,Ot=Mp(M?u_(fe,ht):fe,ie,M?Vu(le,Dt):le);q[z]=Ot,me[z]=Ot-ie}if(g){var dt,Ft=z==="x"?zs:Hs,At=z==="x"?Lo:Oo,Ne=q[H],Ke=H==="y"?"height":"width",Lt=Ne+N[Ft],Wt=Ne-N[At],en=[zs,Hs].indexOf(D)!==-1,vn=(dt=xe==null?void 0:xe[H])!=null?dt:0,xn=en?Lt:Ne-he[Ke]-ne[Ke]-vn+oe.altAxis,Wn=en?Ne+he[Ke]+ne[Ke]-vn-oe.altAxis:Wt,pt=M&&en?pre(xn,Ne,Wn):Mp(M?xn:Lt,Ne,M?Wn:Wt);q[H]=pt,me[H]=pt-Ne}n.modifiersData[o]=me}}var zre={name:"preventOverflow",enabled:!0,phase:"main",fn:Ure,requiresIfExists:["offset"]};function Hre(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Qre(t){return t===Ea(t)||!No(t)?uw(t):Hre(t)}function Xre(t){var n=t.getBoundingClientRect(),i=Df(n.width)/t.offsetWidth||1,o=Df(n.height)/t.offsetHeight||1;return i!==1||o!==1}function $re(t,n,i){i===void 0&&(i=!1);var o=No(n),l=No(n)&&Xre(n),d=Uc(n),h=kf(t,l),g={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(o||!o&&!i)&&((Xa(n)!=="body"||fw(d))&&(g=Qre(n)),No(n)?(y=kf(n,!0),y.x+=n.clientLeft,y.y+=n.clientTop):d&&(y.x=dw(d))),{x:h.left+g.scrollLeft-y.x,y:h.top+g.scrollTop-y.y,width:h.width,height:h.height}}function Wre(t){var n=new Map,i=new Set,o=[];t.forEach(function(d){n.set(d.name,d)});function l(d){i.add(d.name);var h=[].concat(d.requires||[],d.requiresIfExists||[]);h.forEach(function(g){if(!i.has(g)){var y=n.get(g);y&&l(y)}}),o.push(d)}return t.forEach(function(d){i.has(d.name)||l(d)}),o}function Kre(t){var n=Wre(t);return cre.reduce(function(i,o){return i.concat(n.filter(function(l){return l.phase===o}))},[])}function jre(t){var n;return function(){return n||(n=new Promise(function(i){Promise.resolve().then(function(){n=void 0,i(t())})})),n}}function qre(t){var n=t.reduce(function(i,o){var l=i[o.name];return i[o.name]=l?Object.assign({},l,o,{options:Object.assign({},l.options,o.options),data:Object.assign({},l.data,o.data)}):o,i},{});return Object.keys(n).map(function(i){return n[i]})}var pR={placement:"bottom",modifiers:[],strategy:"absolute"};function mR(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return!n.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function hw(t){t===void 0&&(t={});var n=t,i=n.defaultModifiers,o=i===void 0?[]:i,l=n.defaultOptions,d=l===void 0?pR:l;return function(h,g,y){y===void 0&&(y=d);var b={placement:"bottom",orderedModifiers:[],options:Object.assign({},pR,d),modifiersData:{},elements:{reference:h,popper:g},attributes:{},styles:{}},C=[],E=!1,I={state:b,setOptions:function(R){var N=typeof R=="function"?R(b.options):R;T(),b.options=Object.assign({},d,b.options,N),b.scrollParents={reference:Bf(h)?Rp(h):h.contextElement?Rp(h.contextElement):[],popper:Rp(g)};var D=Kre(qre([].concat(o,b.options.modifiers)));return b.orderedModifiers=D.filter(function(V){return V.enabled}),M(),I.update()},forceUpdate:function(){if(!E){var R=b.elements,N=R.reference,D=R.popper;if(mR(N,D)){b.rects={reference:$re(N,Sm(D),b.options.strategy==="fixed"),popper:lw(D)},b.reset=!1,b.placement=b.options.placement,b.orderedModifiers.forEach(function(ne){return b.modifiersData[ne.name]=Object.assign({},ne.data)});for(var V=0;V<b.orderedModifiers.length;V++){if(b.reset===!0){b.reset=!1,V=-1;continue}var B=b.orderedModifiers[V],z=B.fn,H=B.options,q=H===void 0?{}:H,he=B.name;typeof z=="function"&&(b=z({state:b,options:q,name:he,instance:I})||b)}}}},update:jre(function(){return new Promise(function(R){I.forceUpdate(),R(b)})}),destroy:function(){T(),E=!0}};if(!mR(h,g))return I;I.setOptions(y).then(function(R){!E&&y.onFirstUpdate&&y.onFirstUpdate(R)});function M(){b.orderedModifiers.forEach(function(R){var N=R.name,D=R.options,V=D===void 0?{}:D,B=R.effect;if(typeof B=="function"){var z=B({state:b,name:N,instance:I,options:V}),H=function(){};C.push(z||H)}})}function T(){C.forEach(function(R){return R()}),C=[]}return I}}hw();var Yre=[V3,z3,F3,B3];hw({defaultModifiers:Yre});var Jre=[V3,z3,F3,B3,Fre,Bre,zre,_re,kre],H3=hw({defaultModifiers:Jre});const fb="focus-trap.focus-after-trapped",hb="focus-trap.focus-after-released",Zre="focus-trap.focusout-prevented",gR={cancelable:!0,bubbles:!1},eie={cancelable:!0,bubbles:!1},vR="focusAfterTrapped",_R="focusAfterReleased",pw=Symbol("elFocusTrap"),mw=re(),nA=re(0),gw=re(0);let cv=0;const Q3=t=>{const n=[],i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const l=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||l?NodeFilter.FILTER_SKIP:o.tabIndex>=0||o===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)n.push(i.currentNode);return n},AR=(t,n)=>{for(const i of t)if(!tie(i,n))return i},tie=(t,n)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(n&&t===n)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},nie=t=>{const n=Q3(t),i=AR(n,t),o=AR(n.reverse(),t);return[i,o]},rie=t=>t instanceof HTMLInputElement&&"select"in t,hc=(t,n)=>{if(t&&t.focus){const i=document.activeElement;if(t.focus({preventScroll:!0}),gw.value=window.performance.now(),t!==i&&rie(t)&&n){if(t.tagName==="INPUT"){t.setSelectionRange(t.value.length,t.value.length);return}t.select()}}};function yR(t,n){const i=[...t],o=t.indexOf(n);return o!==-1&&i.splice(o,1),i}const iie=()=>{let t=[];return{push:o=>{const l=t[0];l&&o!==l&&l.pause(),t=yR(t,o),t.unshift(o)},remove:o=>{var l,d;t=yR(t,o),(d=(l=t[0])==null?void 0:l.resume)==null||d.call(l)}}},sie=(t,n=!1)=>{const i=document.activeElement;for(const o of t)if(hc(o,n),document.activeElement!==i)return},bR=iie(),oie=()=>nA.value>gw.value,uv=()=>{mw.value="pointer",nA.value=window.performance.now()},SR=()=>{mw.value="keyboard",nA.value=window.performance.now()},aie=()=>(jn(()=>{cv===0&&(document.addEventListener("mousedown",uv),document.addEventListener("touchstart",uv),document.addEventListener("keydown",SR)),cv++}),hi(()=>{cv--,cv<=0&&(document.removeEventListener("mousedown",uv),document.removeEventListener("touchstart",uv),document.removeEventListener("keydown",SR))}),{focusReason:mw,lastUserFocusTimestamp:nA,lastAutomatedFocusTimestamp:gw}),dv=t=>new CustomEvent(Zre,{...eie,detail:t}),lie=Ge({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[vR,_R,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:n}){const i=re();let o,l;const{focusReason:d}=aie();vte(T=>{t.trapped&&!h.paused&&n("release-requested",T)});const h={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},g=T=>{if(!t.loop&&!t.trapped||h.paused)return;const{key:R,altKey:N,ctrlKey:D,metaKey:V,currentTarget:B,shiftKey:z}=T,{loop:H}=t,q=R===An.tab&&!N&&!D&&!V,he=document.activeElement;if(q&&he){const ne=B,[se,oe]=nie(ne);if(se&&oe){if(!z&&he===oe){const me=dv({focusReason:d.value});n("focusout-prevented",me),me.defaultPrevented||(T.preventDefault(),H&&hc(se,!0))}else if(z&&[se,ne].includes(he)){const me=dv({focusReason:d.value});n("focusout-prevented",me),me.defaultPrevented||(T.preventDefault(),H&&hc(oe,!0))}}else if(he===ne){const me=dv({focusReason:d.value});n("focusout-prevented",me),me.defaultPrevented||T.preventDefault()}}};or(pw,{focusTrapRef:i,onKeydown:g}),It(()=>t.focusTrapEl,T=>{T&&(i.value=T)},{immediate:!0}),It([i],([T],[R])=>{T&&(T.addEventListener("keydown",g),T.addEventListener("focusin",C),T.addEventListener("focusout",E)),R&&(R.removeEventListener("keydown",g),R.removeEventListener("focusin",C),R.removeEventListener("focusout",E))});const y=T=>{n(vR,T)},b=T=>n(_R,T),C=T=>{const R=v(i);if(!R)return;const N=T.target,D=T.relatedTarget,V=N&&R.contains(N);t.trapped||D&&R.contains(D)||(o=D),V&&n("focusin",T),!h.paused&&t.trapped&&(V?l=N:hc(l,!0))},E=T=>{const R=v(i);if(!(h.paused||!R))if(t.trapped){const N=T.relatedTarget;!rs(N)&&!R.contains(N)&&setTimeout(()=>{if(!h.paused&&t.trapped){const D=dv({focusReason:d.value});n("focusout-prevented",D),D.defaultPrevented||hc(l,!0)}},0)}else{const N=T.target;N&&R.contains(N)||n("focusout",T)}};async function I(){await dn();const T=v(i);if(T){bR.push(h);const R=T.contains(document.activeElement)?o:document.activeElement;if(o=R,!T.contains(R)){const D=new Event(fb,gR);T.addEventListener(fb,y),T.dispatchEvent(D),D.defaultPrevented||dn(()=>{let V=t.focusStartEl;On(V)||(hc(V),document.activeElement!==V&&(V="first")),V==="first"&&sie(Q3(T),!0),(document.activeElement===R||V==="container")&&hc(T)})}}}function M(){const T=v(i);if(T){T.removeEventListener(fb,y);const R=new CustomEvent(hb,{...gR,detail:{focusReason:d.value}});T.addEventListener(hb,b),T.dispatchEvent(R),!R.defaultPrevented&&(d.value=="keyboard"||!oie())&&hc(o!=null?o:document.body,!0),T.removeEventListener(hb,y),bR.remove(h)}}return jn(()=>{t.trapped&&I(),It(()=>t.trapped,T=>{T?I():M()})}),hi(()=>{t.trapped&&M()}),{onKeydown:g}}});function cie(t,n,i,o,l,d){return yt(t.$slots,"default",{handleKeydown:t.onKeydown})}var rA=Ht(lie,[["render",cie],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const uie=["fixed","absolute"],die=$t({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:nt(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:ed,default:"bottom"},popperOptions:{type:nt(Object),default:()=>({})},strategy:{type:String,values:uie,default:"absolute"}}),X3=$t({...die,id:String,style:{type:nt([String,Array,Object])},className:{type:nt([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:nt([String,Array,Object])},popperStyle:{type:nt([String,Array,Object])},referenceEl:{type:nt(Object)},triggerTargetEl:{type:nt(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),fie={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},wR=(t,n)=>{const{placement:i,strategy:o,popperOptions:l}=t,d={placement:i,strategy:o,...l,modifiers:pie(t)};return mie(d,n),gie(d,l==null?void 0:l.modifiers),d},hie=t=>{if(!!fr)return co(t)};function pie(t){const{offset:n,gpuAcceleration:i,fallbackPlacements:o}=t;return[{name:"offset",options:{offset:[0,n!=null?n:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:o}},{name:"computeStyles",options:{gpuAcceleration:i}}]}function mie(t,{arrowEl:n,arrowOffset:i}){t.modifiers.push({name:"arrow",options:{element:n,padding:i!=null?i:5}})}function gie(t,n){n&&(t.modifiers=[...t.modifiers,...n!=null?n:[]])}const vie=Ge({name:"ElPopperContent"}),_ie=Ge({...vie,props:X3,emits:fie,setup(t,{expose:n,emit:i}){const o=t,{popperInstanceRef:l,contentRef:d,triggerRef:h,role:g}=hn(JS,void 0),y=hn(Qa,void 0),{nextZIndex:b}=Fl(),C=Ct("popper"),E=re(),I=re("first"),M=re(),T=re();or(l3,{arrowRef:M,arrowOffset:T}),y&&(y.addInputId||y.removeInputId)&&or(Qa,{...y,addInputId:Fr,removeInputId:Fr});const R=re(o.zIndex||b()),N=re(!1);let D;const V=K(()=>hie(o.referenceEl)||v(h)),B=K(()=>[{zIndex:v(R)},o.popperStyle]),z=K(()=>[C.b(),C.is("pure",o.pure),C.is(o.effect),o.popperClass]),H=K(()=>g&&g.value==="dialog"?"false":void 0),q=({referenceEl:Ae,popperContentEl:Se,arrowEl:ye})=>{const ie=wR(o,{arrowEl:ye,arrowOffset:v(T)});return H3(Ae,Se,ie)},he=(Ae=!0)=>{var Se;(Se=v(l))==null||Se.update(),Ae&&(R.value=o.zIndex||b())},ne=()=>{var Ae,Se;const ye={name:"eventListeners",enabled:o.visible};(Se=(Ae=v(l))==null?void 0:Ae.setOptions)==null||Se.call(Ae,ie=>({...ie,modifiers:[...ie.modifiers||[],ye]})),he(!1),o.visible&&o.focusOnShow?N.value=!0:o.visible===!1&&(N.value=!1)},se=()=>{i("focus")},oe=Ae=>{var Se;((Se=Ae.detail)==null?void 0:Se.focusReason)!=="pointer"&&(I.value="first",i("blur"))},xe=Ae=>{o.visible&&!N.value&&(Ae.target&&(I.value=Ae.target),N.value=!0)},me=Ae=>{o.trapping||(Ae.detail.focusReason==="pointer"&&Ae.preventDefault(),N.value=!1)},ce=()=>{N.value=!1,i("close")};return jn(()=>{let Ae;It(V,Se=>{var ye;Ae==null||Ae();const ie=v(l);if((ye=ie==null?void 0:ie.destroy)==null||ye.call(ie),Se){const fe=v(E);d.value=fe,l.value=q({referenceEl:Se,popperContentEl:fe,arrowEl:v(M)}),Ae=It(()=>Se.getBoundingClientRect(),()=>he(),{immediate:!0})}else l.value=void 0},{immediate:!0}),It(()=>o.triggerTargetEl,(Se,ye)=>{D==null||D(),D=void 0;const ie=v(Se||E.value),fe=v(ye||E.value);va(ie)&&(D=It([g,()=>o.ariaLabel,H,()=>o.id],le=>{["role","aria-label","aria-modal","id"].forEach((Oe,Qe)=>{rs(le[Qe])?ie.removeAttribute(Oe):ie.setAttribute(Oe,le[Qe])})},{immediate:!0})),fe!==ie&&va(fe)&&["role","aria-label","aria-modal","id"].forEach(le=>{fe.removeAttribute(le)})},{immediate:!0}),It(()=>o.visible,ne,{immediate:!0}),It(()=>wR(o,{arrowEl:v(M),arrowOffset:v(T)}),Se=>{var ye;return(ye=l.value)==null?void 0:ye.setOptions(Se)})}),hi(()=>{D==null||D(),D=void 0}),n({popperContentRef:E,popperInstanceRef:l,updatePopper:he,contentStyle:B}),(Ae,Se)=>($(),_e("div",{ref_key:"popperContentRef",ref:E,style:fn(v(B)),class:J(v(z)),tabindex:"-1",onMouseenter:Se[0]||(Se[0]=ye=>Ae.$emit("mouseenter",ye)),onMouseleave:Se[1]||(Se[1]=ye=>Ae.$emit("mouseleave",ye))},[Re(v(rA),{trapped:N.value,"trap-on-focus-in":!0,"focus-trap-el":E.value,"focus-start-el":I.value,onFocusAfterTrapped:se,onFocusAfterReleased:oe,onFocusin:xe,onFocusoutPrevented:me,onReleaseRequested:ce},{default:Ue(()=>[yt(Ae.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el"])],38))}});var Aie=Ht(_ie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const $3=er(Qne),yie=Ct("tooltip"),Zi=$t({...bte,...X3,appendTo:{type:nt([String,Object]),default:m3},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:nt(Boolean),default:null},transition:{type:String,default:`${yie.namespace.value}-fade-in-linear`},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}}),Zp=$t({...P3,disabled:Boolean,trigger:{type:nt([String,Array]),default:"hover"},triggerKeys:{type:nt(Array),default:()=>[An.enter,An.space]}}),{useModelToggleProps:bie,useModelToggleEmits:Sie,useModelToggle:wie}=hte("visible"),Eie=$t({...x3,...bie,...Zi,...Zp,...M3,showArrow:{type:Boolean,default:!0}}),Cie=[...Sie,"before-show","before-hide","show","hide","open","close"],Iie=(t,n)=>on(t)?t.includes(n):t===n,qd=(t,n,i)=>o=>{Iie(v(t),n)&&i(o)},xie=Ge({name:"ElTooltipTrigger"}),Mie=Ge({...xie,props:Zp,setup(t,{expose:n}){const i=t,o=Ct("tooltip"),{controlled:l,id:d,open:h,onOpen:g,onClose:y,onToggle:b}=hn(q_,void 0),C=re(null),E=()=>{if(v(l)||i.disabled)return!0},I=ai(i,"trigger"),M=di(E,qd(I,"hover",g)),T=di(E,qd(I,"hover",y)),R=di(E,qd(I,"click",z=>{z.button===0&&b(z)})),N=di(E,qd(I,"focus",g)),D=di(E,qd(I,"focus",y)),V=di(E,qd(I,"contextmenu",z=>{z.preventDefault(),b(z)})),B=di(E,z=>{const{code:H}=z;i.triggerKeys.includes(H)&&(z.preventDefault(),b(z))});return n({triggerRef:C}),(z,H)=>($(),rt(v(Yne),{id:v(d),"virtual-ref":z.virtualRef,open:v(h),"virtual-triggering":z.virtualTriggering,class:J(v(o).e("trigger")),onBlur:v(D),onClick:v(R),onContextmenu:v(V),onFocus:v(N),onMouseenter:v(M),onMouseleave:v(T),onKeydown:v(B)},{default:Ue(()=>[yt(z.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var Rie=Ht(Mie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const Tie=Ge({name:"ElTooltipContent",inheritAttrs:!1}),Pie=Ge({...Tie,props:Zi,setup(t,{expose:n}){const i=t,o=re(null),l=re(!1),{controlled:d,id:h,open:g,trigger:y,onClose:b,onOpen:C,onShow:E,onHide:I,onBeforeShow:M,onBeforeHide:T}=hn(q_,void 0),R=K(()=>i.persistent);hi(()=>{l.value=!0});const N=K(()=>v(R)?!0:v(g)),D=K(()=>i.disabled?!1:v(g)),V=K(()=>{var ce;return(ce=i.style)!=null?ce:{}}),B=K(()=>!v(g)),z=()=>{I()},H=()=>{if(v(d))return!0},q=di(H,()=>{i.enterable&&v(y)==="hover"&&C()}),he=di(H,()=>{v(y)==="hover"&&b()}),ne=()=>{var ce,Ae;(Ae=(ce=o.value)==null?void 0:ce.updatePopper)==null||Ae.call(ce),M==null||M()},se=()=>{T==null||T()},oe=()=>{E(),me=QS(K(()=>{var ce;return(ce=o.value)==null?void 0:ce.popperContentRef}),()=>{if(v(d))return;v(y)!=="hover"&&b()})},xe=()=>{i.virtualTriggering||b()};let me;return It(()=>v(g),ce=>{ce||me==null||me()},{flush:"post"}),It(()=>i.content,()=>{var ce,Ae;(Ae=(ce=o.value)==null?void 0:ce.updatePopper)==null||Ae.call(ce)}),n({contentRef:o}),(ce,Ae)=>($(),rt(hm,{disabled:!ce.teleported,to:ce.appendTo},[Re(Si,{name:ce.transition,onAfterLeave:z,onBeforeEnter:ne,onAfterEnter:oe,onBeforeLeave:se},{default:Ue(()=>[v(N)?zn(($(),rt(v(Aie),ir({key:0,id:v(h),ref_key:"contentRef",ref:o},ce.$attrs,{"aria-label":ce.ariaLabel,"aria-hidden":v(B),"boundaries-padding":ce.boundariesPadding,"fallback-placements":ce.fallbackPlacements,"gpu-acceleration":ce.gpuAcceleration,offset:ce.offset,placement:ce.placement,"popper-options":ce.popperOptions,strategy:ce.strategy,effect:ce.effect,enterable:ce.enterable,pure:ce.pure,"popper-class":ce.popperClass,"popper-style":[ce.popperStyle,v(V)],"reference-el":ce.referenceEl,"trigger-target-el":ce.triggerTargetEl,visible:v(D),"z-index":ce.zIndex,onMouseenter:v(q),onMouseleave:v(he),onBlur:xe,onClose:v(b)}),{default:Ue(()=>[Ze(" Workaround bug #6378 "),l.value?Ze("v-if",!0):yt(ce.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[yr,v(D)]]):Ze("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var Nie=Ht(Pie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const Bie=["innerHTML"],Die={key:1},kie=Ge({name:"ElTooltip"}),Lie=Ge({...kie,props:Eie,emits:Cie,setup(t,{expose:n,emit:i}){const o=t;yte();const l=_a(),d=re(),h=re(),g=()=>{var D;const V=v(d);V&&((D=V.popperInstanceRef)==null||D.update())},y=re(!1),b=re(),{show:C,hide:E,hasUpdateHandler:I}=wie({indicator:y,toggleReason:b}),{onOpen:M,onClose:T}=Ste({showAfter:ai(o,"showAfter"),hideAfter:ai(o,"hideAfter"),open:C,close:E}),R=K(()=>Bi(o.visible)&&!I.value);or(q_,{controlled:R,id:l,open:fm(y),trigger:ai(o,"trigger"),onOpen:D=>{M(D)},onClose:D=>{T(D)},onToggle:D=>{v(y)?T(D):M(D)},onShow:()=>{i("show",b.value)},onHide:()=>{i("hide",b.value)},onBeforeShow:()=>{i("before-show",b.value)},onBeforeHide:()=>{i("before-hide",b.value)},updatePopper:g}),It(()=>o.disabled,D=>{D&&y.value&&(y.value=!1)});const N=()=>{var D,V;const B=(V=(D=h.value)==null?void 0:D.contentRef)==null?void 0:V.popperContentRef;return B&&B.contains(document.activeElement)};return AP(()=>y.value&&E()),n({popperRef:d,contentRef:h,isFocusInsideContent:N,updatePopper:g,onOpen:M,onClose:T,hide:E}),(D,V)=>($(),rt(v($3),{ref_key:"popperRef",ref:d,role:D.role},{default:Ue(()=>[Re(Rie,{disabled:D.disabled,trigger:D.trigger,"trigger-keys":D.triggerKeys,"virtual-ref":D.virtualRef,"virtual-triggering":D.virtualTriggering},{default:Ue(()=>[D.$slots.default?yt(D.$slots,"default",{key:0}):Ze("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Re(Nie,{ref_key:"contentRef",ref:h,"aria-label":D.ariaLabel,"boundaries-padding":D.boundariesPadding,content:D.content,disabled:D.disabled,effect:D.effect,enterable:D.enterable,"fallback-placements":D.fallbackPlacements,"hide-after":D.hideAfter,"gpu-acceleration":D.gpuAcceleration,offset:D.offset,persistent:D.persistent,"popper-class":D.popperClass,"popper-style":D.popperStyle,placement:D.placement,"popper-options":D.popperOptions,pure:D.pure,"raw-content":D.rawContent,"reference-el":D.referenceEl,"trigger-target-el":D.triggerTargetEl,"show-after":D.showAfter,strategy:D.strategy,teleported:D.teleported,transition:D.transition,"virtual-triggering":D.virtualTriggering,"z-index":D.zIndex,"append-to":D.appendTo},{default:Ue(()=>[yt(D.$slots,"content",{},()=>[D.rawContent?($(),_e("span",{key:0,innerHTML:D.content},null,8,Bie)):($(),_e("span",Die,Xt(D.content),1))]),D.showArrow?($(),rt(v(Wne),{key:0,"arrow-offset":D.arrowOffset},null,8,["arrow-offset"])):Ze("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Oie=Ht(Lie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const Xs=er(Oie),Fie=$t({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:nt(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:nt([Function,Array]),default:Fr},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:Zi.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1}}),Vie={[Jn]:t=>On(t),[Ps]:t=>On(t),[Zr]:t=>On(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>nr(t)},Gie=["aria-expanded","aria-owns"],Uie={key:0},zie=["id","aria-selected","onClick"],W3="ElAutocomplete",Hie=Ge({name:W3,inheritAttrs:!1}),Qie=Ge({...Hie,props:Fie,emits:Vie,setup(t,{expose:n,emit:i}){const o=t,l=YS(),d=pm(),h=wa(),g=Ct("autocomplete"),y=re(),b=re(),C=re(),E=re();let I=!1,M=!1;const T=re([]),R=re(-1),N=re(""),D=re(!1),V=re(!1),B=re(!1),z=K(()=>g.b(String(ym()))),H=K(()=>d.style),q=K(()=>(T.value.length>0||B.value)&&D.value),he=K(()=>!o.hideLoading&&B.value),ne=K(()=>y.value?Array.from(y.value.$el.querySelectorAll("input")):[]),se=async()=>{await dn(),q.value&&(N.value=`${y.value.$el.offsetWidth}px`)},oe=()=>{M=!0},xe=()=>{M=!1,R.value=-1},ce=Ns(async st=>{if(V.value)return;const Ye=ot=>{B.value=!1,!V.value&&(on(ot)?(T.value=ot,R.value=o.highlightFirstItem?0:-1):ki(W3,"autocomplete suggestions must be an array"))};if(B.value=!0,on(o.fetchSuggestions))Ye(o.fetchSuggestions);else{const ot=await o.fetchSuggestions(st,Ye);on(ot)&&Ye(ot)}},o.debounce),Ae=st=>{const Ye=!!st;if(i(Ps,st),i(Jn,st),V.value=!1,D.value||(D.value=Ye),!o.triggerOnFocus&&!st){V.value=!0,T.value=[];return}ce(st)},Se=st=>{var Ye;h.value||(((Ye=st.target)==null?void 0:Ye.tagName)!=="INPUT"||ne.value.includes(document.activeElement))&&(D.value=!0)},ye=st=>{i(Zr,st)},ie=st=>{M||(D.value=!0,i("focus",st),o.triggerOnFocus&&!I&&ce(String(o.modelValue)))},fe=st=>{M||i("blur",st)},le=()=>{D.value=!1,i(Jn,""),i("clear")},Oe=async()=>{q.value&&R.value>=0&&R.value<T.value.length?xt(T.value[R.value]):o.selectWhenUnmatched&&(i("select",{value:o.modelValue}),T.value=[],R.value=-1)},Qe=st=>{q.value&&(st.preventDefault(),st.stopPropagation(),Pe())},Pe=()=>{D.value=!1},He=()=>{var st;(st=y.value)==null||st.focus()},bt=()=>{var st;(st=y.value)==null||st.blur()},xt=async st=>{i(Ps,st[o.valueKey]),i(Jn,st[o.valueKey]),i("select",st),T.value=[],R.value=-1},Nt=st=>{if(!q.value||B.value)return;if(st<0){R.value=-1;return}st>=T.value.length&&(st=T.value.length-1);const Ye=b.value.querySelector(`.${g.be("suggestion","wrap")}`),Et=Ye.querySelectorAll(`.${g.be("suggestion","list")} li`)[st],an=Ye.scrollTop,{offsetTop:Be,scrollHeight:Xe}=Et;Be+Xe>an+Ye.clientHeight&&(Ye.scrollTop+=Xe),Be<an&&(Ye.scrollTop-=Xe),R.value=st,y.value.ref.setAttribute("aria-activedescendant",`${z.value}-item-${R.value}`)};return QS(E,()=>{q.value&&Pe()}),jn(()=>{y.value.ref.setAttribute("role","textbox"),y.value.ref.setAttribute("aria-autocomplete","list"),y.value.ref.setAttribute("aria-controls","id"),y.value.ref.setAttribute("aria-activedescendant",`${z.value}-item-${R.value}`),I=y.value.ref.hasAttribute("readonly")}),n({highlightedIndex:R,activated:D,loading:B,inputRef:y,popperRef:C,suggestions:T,handleSelect:xt,handleKeyEnter:Oe,focus:He,blur:bt,close:Pe,highlight:Nt}),(st,Ye)=>($(),rt(v(Xs),{ref_key:"popperRef",ref:C,visible:v(q),placement:st.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[v(g).e("popper"),st.popperClass],teleported:st.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${v(g).namespace.value}-zoom-in-top`,persistent:"",onBeforeShow:se,onShow:oe,onHide:xe},{content:Ue(()=>[Ie("div",{ref_key:"regionRef",ref:b,class:J([v(g).b("suggestion"),v(g).is("loading",v(he))]),style:fn({[st.fitInputWidth?"width":"minWidth"]:N.value,outline:"none"}),role:"region"},[Re(v(Gl),{id:v(z),tag:"ul","wrap-class":v(g).be("suggestion","wrap"),"view-class":v(g).be("suggestion","list"),role:"listbox"},{default:Ue(()=>[v(he)?($(),_e("li",Uie,[Re(v(un),{class:J(v(g).is("loading"))},{default:Ue(()=>[Re(v(Oc))]),_:1},8,["class"])])):($(!0),_e(gn,{key:1},ur(T.value,(ot,Et)=>($(),_e("li",{id:`${v(z)}-item-${Et}`,key:Et,class:J({highlighted:R.value===Et}),role:"option","aria-selected":R.value===Et,onClick:an=>xt(ot)},[yt(st.$slots,"default",{item:ot},()=>[mr(Xt(ot[st.valueKey]),1)])],10,zie))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:Ue(()=>[Ie("div",{ref_key:"listboxRef",ref:E,class:J([v(g).b(),st.$attrs.class]),style:fn(v(H)),role:"combobox","aria-haspopup":"listbox","aria-expanded":v(q),"aria-owns":v(z)},[Re(v(vs),ir({ref_key:"inputRef",ref:y},v(l),{"model-value":st.modelValue,onInput:Ae,onChange:ye,onFocus:ie,onBlur:fe,onClear:le,onKeydown:[Ye[0]||(Ye[0]=pr(Dn(ot=>Nt(R.value-1),["prevent"]),["up"])),Ye[1]||(Ye[1]=pr(Dn(ot=>Nt(R.value+1),["prevent"]),["down"])),pr(Oe,["enter"]),pr(Pe,["tab"]),pr(Qe,["esc"])],onMousedown:Se}),Ec({_:2},[st.$slots.prepend?{name:"prepend",fn:Ue(()=>[yt(st.$slots,"prepend")])}:void 0,st.$slots.append?{name:"append",fn:Ue(()=>[yt(st.$slots,"append")])}:void 0,st.$slots.prefix?{name:"prefix",fn:Ue(()=>[yt(st.$slots,"prefix")])}:void 0,st.$slots.suffix?{name:"suffix",fn:Ue(()=>[yt(st.$slots,"suffix")])}:void 0]),1040,["model-value","onKeydown"])],14,Gie)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var Xie=Ht(Qie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]);const $ie=er(Xie),Wie=$t({size:{type:[Number,String],values:Fc,default:"",validator:t=>Hn(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:jr},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:nt(String),default:"cover"}}),Kie={error:t=>t instanceof Event},jie=["src","alt","srcset"],qie=Ge({name:"ElAvatar"}),Yie=Ge({...qie,props:Wie,emits:Kie,setup(t,{emit:n}){const i=t,o=Ct("avatar"),l=re(!1),d=K(()=>{const{size:b,icon:C,shape:E}=i,I=[o.b()];return On(b)&&I.push(o.m(b)),C&&I.push(o.m("icon")),E&&I.push(o.m(E)),I}),h=K(()=>{const{size:b}=i;return Hn(b)?o.cssVarBlock({size:xi(b)||""}):void 0}),g=K(()=>({objectFit:i.fit}));It(()=>i.src,()=>l.value=!1);function y(b){l.value=!0,n("error",b)}return(b,C)=>($(),_e("span",{class:J(v(d)),style:fn(v(h))},[(b.src||b.srcSet)&&!l.value?($(),_e("img",{key:0,src:b.src,alt:b.alt,srcset:b.srcSet,style:fn(v(g)),onError:y},null,44,jie)):b.icon?($(),rt(v(un),{key:1},{default:Ue(()=>[($(),rt(sr(b.icon)))]),_:1})):yt(b.$slots,"default",{key:2})],6))}});var Jie=Ht(Yie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const Zie=er(Jie),ese={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},tse={click:t=>t instanceof MouseEvent},nse=(t,n,i)=>{const o=qr(),l=qr(),d=re(!1),h=()=>{if(!o.value)return;const C=Date.now(),E=o.value.scrollTop,I=()=>{if(!o.value)return;const M=(Date.now()-C)/500;M<1?(o.value.scrollTop=E*(1-Zee(M)),requestAnimationFrame(I)):o.value.scrollTop=0};requestAnimationFrame(I)},g=()=>{o.value&&(d.value=o.value.scrollTop>=t.visibilityHeight)},y=C=>{h(),n("click",C)},b=zN(g,300,!0);return Jr(l,"scroll",b),jn(()=>{var C;l.value=document,o.value=document.documentElement,t.target&&(o.value=(C=document.querySelector(t.target))!=null?C:void 0,o.value||ki(i,`target does not exist: ${t.target}`),l.value=o.value)}),{visible:d,handleClick:y}},K3="ElBacktop",rse=Ge({name:K3}),ise=Ge({...rse,props:ese,emits:tse,setup(t,{emit:n}){const i=t,o=Ct("backtop"),{handleClick:l,visible:d}=nse(i,n,K3),h=K(()=>({right:`${i.right}px`,bottom:`${i.bottom}px`}));return(g,y)=>($(),rt(Si,{name:`${v(o).namespace.value}-fade-in`},{default:Ue(()=>[v(d)?($(),_e("div",{key:0,style:fn(v(h)),class:J(v(o).b()),onClick:y[0]||(y[0]=Dn((...b)=>v(l)&&v(l)(...b),["stop"]))},[yt(g.$slots,"default",{},()=>[Re(v(un),{class:J(v(o).e("icon"))},{default:Ue(()=>[Re(v(d$))]),_:1},8,["class"])])],6)):Ze("v-if",!0)]),_:3},8,["name"]))}});var sse=Ht(ise,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const ose=er(sse),ase=$t({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),lse=["textContent"],cse=Ge({name:"ElBadge"}),use=Ge({...cse,props:ase,setup(t,{expose:n}){const i=t,o=Ct("badge"),l=K(()=>i.isDot?"":Hn(i.value)&&Hn(i.max)?i.max<i.value?`${i.max}+`:`${i.value}`:`${i.value}`);return n({content:l}),(d,h)=>($(),_e("div",{class:J(v(o).b())},[yt(d.$slots,"default"),Re(Si,{name:`${v(o).namespace.value}-zoom-in-center`,persisted:""},{default:Ue(()=>[zn(Ie("sup",{class:J([v(o).e("content"),v(o).em("content",d.type),v(o).is("fixed",!!d.$slots.default),v(o).is("dot",d.isDot)]),textContent:Xt(v(l))},null,10,lse),[[yr,!d.hidden&&(v(l)||d.isDot)]])]),_:1},8,["name"])],2))}});var dse=Ht(use,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const j3=er(dse),fse=$t({separator:{type:String,default:"/"},separatorIcon:{type:jr}}),hse=Ge({name:"ElBreadcrumb"}),pse=Ge({...hse,props:fse,setup(t){const n=t,i=Ct("breadcrumb"),o=re();return or(qN,n),jn(()=>{const l=o.value.querySelectorAll(`.${i.e("item")}`);l.length&&l[l.length-1].setAttribute("aria-current","page")}),(l,d)=>($(),_e("div",{ref_key:"breadcrumb",ref:o,class:J(v(i).b()),"aria-label":"Breadcrumb",role:"navigation"},[yt(l.$slots,"default")],2))}});var mse=Ht(pse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const gse=$t({to:{type:nt([String,Object]),default:""},replace:{type:Boolean,default:!1}}),vse=Ge({name:"ElBreadcrumbItem"}),_se=Ge({...vse,props:gse,setup(t){const n=t,i=Zn(),o=hn(qN,void 0),l=Ct("breadcrumb"),{separator:d,separatorIcon:h}=Di(o),g=i.appContext.config.globalProperties.$router,y=re(),b=()=>{!n.to||!g||(n.replace?g.replace(n.to):g.push(n.to))};return(C,E)=>($(),_e("span",{class:J(v(l).e("item"))},[Ie("span",{ref_key:"link",ref:y,class:J([v(l).e("inner"),v(l).is("link",!!C.to)]),role:"link",onClick:b},[yt(C.$slots,"default")],2),v(h)?($(),rt(v(un),{key:0,class:J(v(l).e("separator"))},{default:Ue(()=>[($(),rt(sr(v(h))))]),_:1},8,["class"])):($(),_e("span",{key:1,class:J(v(l).e("separator")),role:"presentation"},Xt(v(d)),3))],2))}});var q3=Ht(_se,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const Ase=er(mse,{BreadcrumbItem:q3}),yse=pi(q3),bse=(t,n)=>{Mc({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},K(()=>t.type==="text"));const i=hn(YN,void 0),o=Ol("button"),{form:l}=Bs(),d=Mi(K(()=>i==null?void 0:i.size)),h=wa(),g=re(),y=ss(),b=K(()=>t.type||(i==null?void 0:i.type)||""),C=K(()=>{var M,T,R;return(R=(T=t.autoInsertSpace)!=null?T:(M=o.value)==null?void 0:M.autoInsertSpace)!=null?R:!1}),E=K(()=>{var M;const T=(M=y.default)==null?void 0:M.call(y);if(C.value&&(T==null?void 0:T.length)===1){const R=T[0];if((R==null?void 0:R.type)===Qf){const N=R.children;return/^\p{Unified_Ideograph}{2}$/u.test(N.trim())}}return!1});return{_disabled:h,_size:d,_type:b,_ref:g,shouldAddSpace:E,handleClick:M=>{t.nativeType==="reset"&&(l==null||l.resetFields()),n("click",M)}}},s1=["default","primary","success","warning","info","danger","text",""],Sse=["button","submit","reset"],o1=$t({size:Qs,disabled:Boolean,type:{type:String,values:s1,default:""},icon:{type:jr},nativeType:{type:String,values:Sse,default:"button"},loading:Boolean,loadingIcon:{type:jr,default:()=>Oc},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0}}),wse={click:t=>t instanceof MouseEvent};function ds(t,n){Ese(t)&&(t="100%");var i=Cse(t);return t=n===360?t:Math.min(n,Math.max(0,parseFloat(t))),i&&(t=parseInt(String(t*n),10)/100),Math.abs(t-n)<1e-6?1:(n===360?t=(t<0?t%n+n:t%n)/parseFloat(String(n)):t=t%n/parseFloat(String(n)),t)}function fv(t){return Math.min(1,Math.max(0,t))}function Ese(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function Cse(t){return typeof t=="string"&&t.indexOf("%")!==-1}function Y3(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function hv(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Ru(t){return t.length===1?"0"+t:String(t)}function Ise(t,n,i){return{r:ds(t,255)*255,g:ds(n,255)*255,b:ds(i,255)*255}}function ER(t,n,i){t=ds(t,255),n=ds(n,255),i=ds(i,255);var o=Math.max(t,n,i),l=Math.min(t,n,i),d=0,h=0,g=(o+l)/2;if(o===l)h=0,d=0;else{var y=o-l;switch(h=g>.5?y/(2-o-l):y/(o+l),o){case t:d=(n-i)/y+(n<i?6:0);break;case n:d=(i-t)/y+2;break;case i:d=(t-n)/y+4;break}d/=6}return{h:d,s:h,l:g}}function pb(t,n,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(n-t)*(6*i):i<1/2?n:i<2/3?t+(n-t)*(2/3-i)*6:t}function xse(t,n,i){var o,l,d;if(t=ds(t,360),n=ds(n,100),i=ds(i,100),n===0)l=i,d=i,o=i;else{var h=i<.5?i*(1+n):i+n-i*n,g=2*i-h;o=pb(g,h,t+1/3),l=pb(g,h,t),d=pb(g,h,t-1/3)}return{r:o*255,g:l*255,b:d*255}}function CR(t,n,i){t=ds(t,255),n=ds(n,255),i=ds(i,255);var o=Math.max(t,n,i),l=Math.min(t,n,i),d=0,h=o,g=o-l,y=o===0?0:g/o;if(o===l)d=0;else{switch(o){case t:d=(n-i)/g+(n<i?6:0);break;case n:d=(i-t)/g+2;break;case i:d=(t-n)/g+4;break}d/=6}return{h:d,s:y,v:h}}function Mse(t,n,i){t=ds(t,360)*6,n=ds(n,100),i=ds(i,100);var o=Math.floor(t),l=t-o,d=i*(1-n),h=i*(1-l*n),g=i*(1-(1-l)*n),y=o%6,b=[i,h,d,d,g,i][y],C=[g,i,i,h,d,d][y],E=[d,d,g,i,i,h][y];return{r:b*255,g:C*255,b:E*255}}function IR(t,n,i,o){var l=[Ru(Math.round(t).toString(16)),Ru(Math.round(n).toString(16)),Ru(Math.round(i).toString(16))];return o&&l[0].startsWith(l[0].charAt(1))&&l[1].startsWith(l[1].charAt(1))&&l[2].startsWith(l[2].charAt(1))?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0):l.join("")}function Rse(t,n,i,o,l){var d=[Ru(Math.round(t).toString(16)),Ru(Math.round(n).toString(16)),Ru(Math.round(i).toString(16)),Ru(Tse(o))];return l&&d[0].startsWith(d[0].charAt(1))&&d[1].startsWith(d[1].charAt(1))&&d[2].startsWith(d[2].charAt(1))&&d[3].startsWith(d[3].charAt(1))?d[0].charAt(0)+d[1].charAt(0)+d[2].charAt(0)+d[3].charAt(0):d.join("")}function Tse(t){return Math.round(parseFloat(t)*255).toString(16)}function xR(t){return ao(t)/255}function ao(t){return parseInt(t,16)}function Pse(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var a1={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Nse(t){var n={r:0,g:0,b:0},i=1,o=null,l=null,d=null,h=!1,g=!1;return typeof t=="string"&&(t=kse(t)),typeof t=="object"&&(Al(t.r)&&Al(t.g)&&Al(t.b)?(n=Ise(t.r,t.g,t.b),h=!0,g=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Al(t.h)&&Al(t.s)&&Al(t.v)?(o=hv(t.s),l=hv(t.v),n=Mse(t.h,o,l),h=!0,g="hsv"):Al(t.h)&&Al(t.s)&&Al(t.l)&&(o=hv(t.s),d=hv(t.l),n=xse(t.h,o,d),h=!0,g="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(i=t.a)),i=Y3(i),{ok:h,format:t.format||g,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:i}}var Bse="[-\\+]?\\d+%?",Dse="[-\\+]?\\d*\\.\\d+%?",_c="(?:".concat(Dse,")|(?:").concat(Bse,")"),mb="[\\s|\\(]+(".concat(_c,")[,|\\s]+(").concat(_c,")[,|\\s]+(").concat(_c,")\\s*\\)?"),gb="[\\s|\\(]+(".concat(_c,")[,|\\s]+(").concat(_c,")[,|\\s]+(").concat(_c,")[,|\\s]+(").concat(_c,")\\s*\\)?"),ua={CSS_UNIT:new RegExp(_c),rgb:new RegExp("rgb"+mb),rgba:new RegExp("rgba"+gb),hsl:new RegExp("hsl"+mb),hsla:new RegExp("hsla"+gb),hsv:new RegExp("hsv"+mb),hsva:new RegExp("hsva"+gb),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function kse(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var n=!1;if(a1[t])t=a1[t],n=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i=ua.rgb.exec(t);return i?{r:i[1],g:i[2],b:i[3]}:(i=ua.rgba.exec(t),i?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=ua.hsl.exec(t),i?{h:i[1],s:i[2],l:i[3]}:(i=ua.hsla.exec(t),i?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=ua.hsv.exec(t),i?{h:i[1],s:i[2],v:i[3]}:(i=ua.hsva.exec(t),i?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=ua.hex8.exec(t),i?{r:ao(i[1]),g:ao(i[2]),b:ao(i[3]),a:xR(i[4]),format:n?"name":"hex8"}:(i=ua.hex6.exec(t),i?{r:ao(i[1]),g:ao(i[2]),b:ao(i[3]),format:n?"name":"hex"}:(i=ua.hex4.exec(t),i?{r:ao(i[1]+i[1]),g:ao(i[2]+i[2]),b:ao(i[3]+i[3]),a:xR(i[4]+i[4]),format:n?"name":"hex8"}:(i=ua.hex3.exec(t),i?{r:ao(i[1]+i[1]),g:ao(i[2]+i[2]),b:ao(i[3]+i[3]),format:n?"name":"hex"}:!1)))))))))}function Al(t){return Boolean(ua.CSS_UNIT.exec(String(t)))}var J3=function(){function t(n,i){n===void 0&&(n=""),i===void 0&&(i={});var o;if(n instanceof t)return n;typeof n=="number"&&(n=Pse(n)),this.originalInput=n;var l=Nse(n);this.originalInput=n,this.r=l.r,this.g=l.g,this.b=l.b,this.a=l.a,this.roundA=Math.round(100*this.a)/100,this.format=(o=i.format)!==null&&o!==void 0?o:l.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=l.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},t.prototype.getLuminance=function(){var n=this.toRgb(),i,o,l,d=n.r/255,h=n.g/255,g=n.b/255;return d<=.03928?i=d/12.92:i=Math.pow((d+.055)/1.055,2.4),h<=.03928?o=h/12.92:o=Math.pow((h+.055)/1.055,2.4),g<=.03928?l=g/12.92:l=Math.pow((g+.055)/1.055,2.4),.2126*i+.7152*o+.0722*l},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(n){return this.a=Y3(n),this.roundA=Math.round(100*this.a)/100,this},t.prototype.toHsv=function(){var n=CR(this.r,this.g,this.b);return{h:n.h*360,s:n.s,v:n.v,a:this.a}},t.prototype.toHsvString=function(){var n=CR(this.r,this.g,this.b),i=Math.round(n.h*360),o=Math.round(n.s*100),l=Math.round(n.v*100);return this.a===1?"hsv(".concat(i,", ").concat(o,"%, ").concat(l,"%)"):"hsva(".concat(i,", ").concat(o,"%, ").concat(l,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var n=ER(this.r,this.g,this.b);return{h:n.h*360,s:n.s,l:n.l,a:this.a}},t.prototype.toHslString=function(){var n=ER(this.r,this.g,this.b),i=Math.round(n.h*360),o=Math.round(n.s*100),l=Math.round(n.l*100);return this.a===1?"hsl(".concat(i,", ").concat(o,"%, ").concat(l,"%)"):"hsla(".concat(i,", ").concat(o,"%, ").concat(l,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(n){return n===void 0&&(n=!1),IR(this.r,this.g,this.b,n)},t.prototype.toHexString=function(n){return n===void 0&&(n=!1),"#"+this.toHex(n)},t.prototype.toHex8=function(n){return n===void 0&&(n=!1),Rse(this.r,this.g,this.b,this.a,n)},t.prototype.toHex8String=function(n){return n===void 0&&(n=!1),"#"+this.toHex8(n)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var n=Math.round(this.r),i=Math.round(this.g),o=Math.round(this.b);return this.a===1?"rgb(".concat(n,", ").concat(i,", ").concat(o,")"):"rgba(".concat(n,", ").concat(i,", ").concat(o,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var n=function(i){return"".concat(Math.round(ds(i,255)*100),"%")};return{r:n(this.r),g:n(this.g),b:n(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var n=function(i){return Math.round(ds(i,255)*100)};return this.a===1?"rgb(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%)"):"rgba(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var n="#"+IR(this.r,this.g,this.b,!1),i=0,o=Object.entries(a1);i<o.length;i++){var l=o[i],d=l[0],h=l[1];if(n===h)return d}return!1},t.prototype.toString=function(n){var i=Boolean(n);n=n!=null?n:this.format;var o=!1,l=this.a<1&&this.a>=0,d=!i&&l&&(n.startsWith("hex")||n==="name");return d?n==="name"&&this.a===0?this.toName():this.toRgbString():(n==="rgb"&&(o=this.toRgbString()),n==="prgb"&&(o=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(o=this.toHexString()),n==="hex3"&&(o=this.toHexString(!0)),n==="hex4"&&(o=this.toHex8String(!0)),n==="hex8"&&(o=this.toHex8String()),n==="name"&&(o=this.toName()),n==="hsl"&&(o=this.toHslString()),n==="hsv"&&(o=this.toHsvString()),o||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.l+=n/100,i.l=fv(i.l),new t(i)},t.prototype.brighten=function(n){n===void 0&&(n=10);var i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(n/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(n/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(n/100)))),new t(i)},t.prototype.darken=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.l-=n/100,i.l=fv(i.l),new t(i)},t.prototype.tint=function(n){return n===void 0&&(n=10),this.mix("white",n)},t.prototype.shade=function(n){return n===void 0&&(n=10),this.mix("black",n)},t.prototype.desaturate=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.s-=n/100,i.s=fv(i.s),new t(i)},t.prototype.saturate=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.s+=n/100,i.s=fv(i.s),new t(i)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(n){var i=this.toHsl(),o=(i.h+n)%360;return i.h=o<0?360+o:o,new t(i)},t.prototype.mix=function(n,i){i===void 0&&(i=50);var o=this.toRgb(),l=new t(n).toRgb(),d=i/100,h={r:(l.r-o.r)*d+o.r,g:(l.g-o.g)*d+o.g,b:(l.b-o.b)*d+o.b,a:(l.a-o.a)*d+o.a};return new t(h)},t.prototype.analogous=function(n,i){n===void 0&&(n=6),i===void 0&&(i=30);var o=this.toHsl(),l=360/i,d=[this];for(o.h=(o.h-(l*n>>1)+720)%360;--n;)o.h=(o.h+l)%360,d.push(new t(o));return d},t.prototype.complement=function(){var n=this.toHsl();return n.h=(n.h+180)%360,new t(n)},t.prototype.monochromatic=function(n){n===void 0&&(n=6);for(var i=this.toHsv(),o=i.h,l=i.s,d=i.v,h=[],g=1/n;n--;)h.push(new t({h:o,s:l,v:d})),d=(d+g)%1;return h},t.prototype.splitcomplement=function(){var n=this.toHsl(),i=n.h;return[this,new t({h:(i+72)%360,s:n.s,l:n.l}),new t({h:(i+216)%360,s:n.s,l:n.l})]},t.prototype.onBackground=function(n){var i=this.toRgb(),o=new t(n).toRgb();return new t({r:o.r+(i.r-o.r)*i.a,g:o.g+(i.g-o.g)*i.a,b:o.b+(i.b-o.b)*i.a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(n){for(var i=this.toHsl(),o=i.h,l=[this],d=360/n,h=1;h<n;h++)l.push(new t({h:(o+h*d)%360,s:i.s,l:i.l}));return l},t.prototype.equals=function(n){return this.toRgbString()===new t(n).toRgbString()},t}();function dc(t,n=20){return t.mix("#141414",n).toString()}function Lse(t){const n=wa(),i=Ct("button");return K(()=>{let o={};const l=t.color;if(l){const d=new J3(l),h=t.dark?d.tint(20).toString():dc(d,20);if(t.plain)o=i.cssVarBlock({"bg-color":t.dark?dc(d,90):d.tint(90).toString(),"text-color":l,"border-color":t.dark?dc(d,50):d.tint(50).toString(),"hover-text-color":`var(${i.cssVarName("color-white")})`,"hover-bg-color":l,"hover-border-color":l,"active-bg-color":h,"active-text-color":`var(${i.cssVarName("color-white")})`,"active-border-color":h}),n.value&&(o[i.cssVarBlockName("disabled-bg-color")]=t.dark?dc(d,90):d.tint(90).toString(),o[i.cssVarBlockName("disabled-text-color")]=t.dark?dc(d,50):d.tint(50).toString(),o[i.cssVarBlockName("disabled-border-color")]=t.dark?dc(d,80):d.tint(80).toString());else{const g=t.dark?dc(d,30):d.tint(30).toString(),y=d.isDark()?`var(${i.cssVarName("color-white")})`:`var(${i.cssVarName("color-black")})`;if(o=i.cssVarBlock({"bg-color":l,"text-color":y,"border-color":l,"hover-bg-color":g,"hover-text-color":y,"hover-border-color":g,"active-bg-color":h,"active-border-color":h}),n.value){const b=t.dark?dc(d,50):d.tint(50).toString();o[i.cssVarBlockName("disabled-bg-color")]=b,o[i.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${i.cssVarName("color-white")})`,o[i.cssVarBlockName("disabled-border-color")]=b}}}return o})}const Ose=["aria-disabled","disabled","autofocus","type"],Fse=Ge({name:"ElButton"}),Vse=Ge({...Fse,props:o1,emits:wse,setup(t,{expose:n,emit:i}){const o=t,l=Lse(o),d=Ct("button"),{_ref:h,_size:g,_type:y,_disabled:b,shouldAddSpace:C,handleClick:E}=bse(o,i);return n({ref:h,size:g,type:y,disabled:b,shouldAddSpace:C}),(I,M)=>($(),_e("button",{ref_key:"_ref",ref:h,class:J([v(d).b(),v(d).m(v(y)),v(d).m(v(g)),v(d).is("disabled",v(b)),v(d).is("loading",I.loading),v(d).is("plain",I.plain),v(d).is("round",I.round),v(d).is("circle",I.circle),v(d).is("text",I.text),v(d).is("link",I.link),v(d).is("has-bg",I.bg)]),"aria-disabled":v(b)||I.loading,disabled:v(b)||I.loading,autofocus:I.autofocus,type:I.nativeType,style:fn(v(l)),onClick:M[0]||(M[0]=(...T)=>v(E)&&v(E)(...T))},[I.loading?($(),_e(gn,{key:0},[I.$slots.loading?yt(I.$slots,"loading",{key:0}):($(),rt(v(un),{key:1,class:J(v(d).is("loading"))},{default:Ue(()=>[($(),rt(sr(I.loadingIcon)))]),_:1},8,["class"]))],64)):I.icon||I.$slots.icon?($(),rt(v(un),{key:1},{default:Ue(()=>[I.icon?($(),rt(sr(I.icon),{key:0})):yt(I.$slots,"icon",{key:1})]),_:3})):Ze("v-if",!0),I.$slots.default?($(),_e("span",{key:2,class:J({[v(d).em("text","expand")]:v(C)})},[yt(I.$slots,"default")],2)):Ze("v-if",!0)],14,Ose))}});var Gse=Ht(Vse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const Use={size:o1.size,type:o1.type},zse=Ge({name:"ElButtonGroup"}),Hse=Ge({...zse,props:Use,setup(t){const n=t;or(YN,Mr({size:ai(n,"size"),type:ai(n,"type")}));const i=Ct("button");return(o,l)=>($(),_e("div",{class:J(`${v(i).b("group")}`)},[yt(o.$slots,"default")],2))}});var Z3=Ht(Hse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const fs=er(Gse,{ButtonGroup:Z3}),eB=pi(Z3);var tB={exports:{}};(function(t,n){(function(i,o){t.exports=o()})(ls,function(){var i=1e3,o=6e4,l=36e5,d="millisecond",h="second",g="minute",y="hour",b="day",C="week",E="month",I="quarter",M="year",T="date",R="Invalid Date",N=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,V={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ce){var Ae=["th","st","nd","rd"],Se=ce%100;return"["+ce+(Ae[(Se-20)%10]||Ae[Se]||Ae[0])+"]"}},B=function(ce,Ae,Se){var ye=String(ce);return!ye||ye.length>=Ae?ce:""+Array(Ae+1-ye.length).join(Se)+ce},z={s:B,z:function(ce){var Ae=-ce.utcOffset(),Se=Math.abs(Ae),ye=Math.floor(Se/60),ie=Se%60;return(Ae<=0?"+":"-")+B(ye,2,"0")+":"+B(ie,2,"0")},m:function ce(Ae,Se){if(Ae.date()<Se.date())return-ce(Se,Ae);var ye=12*(Se.year()-Ae.year())+(Se.month()-Ae.month()),ie=Ae.clone().add(ye,E),fe=Se-ie<0,le=Ae.clone().add(ye+(fe?-1:1),E);return+(-(ye+(Se-ie)/(fe?ie-le:le-ie))||0)},a:function(ce){return ce<0?Math.ceil(ce)||0:Math.floor(ce)},p:function(ce){return{M:E,y:M,w:C,d:b,D:T,h:y,m:g,s:h,ms:d,Q:I}[ce]||String(ce||"").toLowerCase().replace(/s$/,"")},u:function(ce){return ce===void 0}},H="en",q={};q[H]=V;var he=function(ce){return ce instanceof xe},ne=function ce(Ae,Se,ye){var ie;if(!Ae)return H;if(typeof Ae=="string"){var fe=Ae.toLowerCase();q[fe]&&(ie=fe),Se&&(q[fe]=Se,ie=fe);var le=Ae.split("-");if(!ie&&le.length>1)return ce(le[0])}else{var Oe=Ae.name;q[Oe]=Ae,ie=Oe}return!ye&&ie&&(H=ie),ie||!ye&&H},se=function(ce,Ae){if(he(ce))return ce.clone();var Se=typeof Ae=="object"?Ae:{};return Se.date=ce,Se.args=arguments,new xe(Se)},oe=z;oe.l=ne,oe.i=he,oe.w=function(ce,Ae){return se(ce,{locale:Ae.$L,utc:Ae.$u,x:Ae.$x,$offset:Ae.$offset})};var xe=function(){function ce(Se){this.$L=ne(Se.locale,null,!0),this.parse(Se)}var Ae=ce.prototype;return Ae.parse=function(Se){this.$d=function(ye){var ie=ye.date,fe=ye.utc;if(ie===null)return new Date(NaN);if(oe.u(ie))return new Date;if(ie instanceof Date)return new Date(ie);if(typeof ie=="string"&&!/Z$/i.test(ie)){var le=ie.match(N);if(le){var Oe=le[2]-1||0,Qe=(le[7]||"0").substring(0,3);return fe?new Date(Date.UTC(le[1],Oe,le[3]||1,le[4]||0,le[5]||0,le[6]||0,Qe)):new Date(le[1],Oe,le[3]||1,le[4]||0,le[5]||0,le[6]||0,Qe)}}return new Date(ie)}(Se),this.$x=Se.x||{},this.init()},Ae.init=function(){var Se=this.$d;this.$y=Se.getFullYear(),this.$M=Se.getMonth(),this.$D=Se.getDate(),this.$W=Se.getDay(),this.$H=Se.getHours(),this.$m=Se.getMinutes(),this.$s=Se.getSeconds(),this.$ms=Se.getMilliseconds()},Ae.$utils=function(){return oe},Ae.isValid=function(){return this.$d.toString()!==R},Ae.isSame=function(Se,ye){var ie=se(Se);return this.startOf(ye)<=ie&&ie<=this.endOf(ye)},Ae.isAfter=function(Se,ye){return se(Se)<this.startOf(ye)},Ae.isBefore=function(Se,ye){return this.endOf(ye)<se(Se)},Ae.$g=function(Se,ye,ie){return oe.u(Se)?this[ye]:this.set(ie,Se)},Ae.unix=function(){return Math.floor(this.valueOf()/1e3)},Ae.valueOf=function(){return this.$d.getTime()},Ae.startOf=function(Se,ye){var ie=this,fe=!!oe.u(ye)||ye,le=oe.p(Se),Oe=function(Ye,ot){var Et=oe.w(ie.$u?Date.UTC(ie.$y,ot,Ye):new Date(ie.$y,ot,Ye),ie);return fe?Et:Et.endOf(b)},Qe=function(Ye,ot){return oe.w(ie.toDate()[Ye].apply(ie.toDate("s"),(fe?[0,0,0,0]:[23,59,59,999]).slice(ot)),ie)},Pe=this.$W,He=this.$M,bt=this.$D,xt="set"+(this.$u?"UTC":"");switch(le){case M:return fe?Oe(1,0):Oe(31,11);case E:return fe?Oe(1,He):Oe(0,He+1);case C:var Nt=this.$locale().weekStart||0,st=(Pe<Nt?Pe+7:Pe)-Nt;return Oe(fe?bt-st:bt+(6-st),He);case b:case T:return Qe(xt+"Hours",0);case y:return Qe(xt+"Minutes",1);case g:return Qe(xt+"Seconds",2);case h:return Qe(xt+"Milliseconds",3);default:return this.clone()}},Ae.endOf=function(Se){return this.startOf(Se,!1)},Ae.$set=function(Se,ye){var ie,fe=oe.p(Se),le="set"+(this.$u?"UTC":""),Oe=(ie={},ie[b]=le+"Date",ie[T]=le+"Date",ie[E]=le+"Month",ie[M]=le+"FullYear",ie[y]=le+"Hours",ie[g]=le+"Minutes",ie[h]=le+"Seconds",ie[d]=le+"Milliseconds",ie)[fe],Qe=fe===b?this.$D+(ye-this.$W):ye;if(fe===E||fe===M){var Pe=this.clone().set(T,1);Pe.$d[Oe](Qe),Pe.init(),this.$d=Pe.set(T,Math.min(this.$D,Pe.daysInMonth())).$d}else Oe&&this.$d[Oe](Qe);return this.init(),this},Ae.set=function(Se,ye){return this.clone().$set(Se,ye)},Ae.get=function(Se){return this[oe.p(Se)]()},Ae.add=function(Se,ye){var ie,fe=this;Se=Number(Se);var le=oe.p(ye),Oe=function(He){var bt=se(fe);return oe.w(bt.date(bt.date()+Math.round(He*Se)),fe)};if(le===E)return this.set(E,this.$M+Se);if(le===M)return this.set(M,this.$y+Se);if(le===b)return Oe(1);if(le===C)return Oe(7);var Qe=(ie={},ie[g]=o,ie[y]=l,ie[h]=i,ie)[le]||1,Pe=this.$d.getTime()+Se*Qe;return oe.w(Pe,this)},Ae.subtract=function(Se,ye){return this.add(-1*Se,ye)},Ae.format=function(Se){var ye=this,ie=this.$locale();if(!this.isValid())return ie.invalidDate||R;var fe=Se||"YYYY-MM-DDTHH:mm:ssZ",le=oe.z(this),Oe=this.$H,Qe=this.$m,Pe=this.$M,He=ie.weekdays,bt=ie.months,xt=function(ot,Et,an,Be){return ot&&(ot[Et]||ot(ye,fe))||an[Et].slice(0,Be)},Nt=function(ot){return oe.s(Oe%12||12,ot,"0")},st=ie.meridiem||function(ot,Et,an){var Be=ot<12?"AM":"PM";return an?Be.toLowerCase():Be},Ye={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Pe+1,MM:oe.s(Pe+1,2,"0"),MMM:xt(ie.monthsShort,Pe,bt,3),MMMM:xt(bt,Pe),D:this.$D,DD:oe.s(this.$D,2,"0"),d:String(this.$W),dd:xt(ie.weekdaysMin,this.$W,He,2),ddd:xt(ie.weekdaysShort,this.$W,He,3),dddd:He[this.$W],H:String(Oe),HH:oe.s(Oe,2,"0"),h:Nt(1),hh:Nt(2),a:st(Oe,Qe,!0),A:st(Oe,Qe,!1),m:String(Qe),mm:oe.s(Qe,2,"0"),s:String(this.$s),ss:oe.s(this.$s,2,"0"),SSS:oe.s(this.$ms,3,"0"),Z:le};return fe.replace(D,function(ot,Et){return Et||Ye[ot]||le.replace(":","")})},Ae.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Ae.diff=function(Se,ye,ie){var fe,le=oe.p(ye),Oe=se(Se),Qe=(Oe.utcOffset()-this.utcOffset())*o,Pe=this-Oe,He=oe.m(this,Oe);return He=(fe={},fe[M]=He/12,fe[E]=He,fe[I]=He/3,fe[C]=(Pe-Qe)/6048e5,fe[b]=(Pe-Qe)/864e5,fe[y]=Pe/l,fe[g]=Pe/o,fe[h]=Pe/i,fe)[le]||Pe,ie?He:oe.a(He)},Ae.daysInMonth=function(){return this.endOf(E).$D},Ae.$locale=function(){return q[this.$L]},Ae.locale=function(Se,ye){if(!Se)return this.$L;var ie=this.clone(),fe=ne(Se,ye,!0);return fe&&(ie.$L=fe),ie},Ae.clone=function(){return oe.w(this.$d,this)},Ae.toDate=function(){return new Date(this.valueOf())},Ae.toJSON=function(){return this.isValid()?this.toISOString():null},Ae.toISOString=function(){return this.$d.toISOString()},Ae.toString=function(){return this.$d.toUTCString()},ce}(),me=xe.prototype;return se.prototype=me,[["$ms",d],["$s",h],["$m",g],["$H",y],["$W",b],["$M",E],["$y",M],["$D",T]].forEach(function(ce){me[ce[1]]=function(Ae){return this.$g(Ae,ce[0],ce[1])}}),se.extend=function(ce,Ae){return ce.$i||(ce(Ae,xe,se),ce.$i=!0),se},se.locale=ne,se.isDayjs=he,se.unix=function(ce){return se(1e3*ce)},se.en=q[H],se.Ls=q,se.p={},se})})(tB);const Kn=tB.exports;var nB={exports:{}};(function(t,n){(function(i,o){t.exports=o()})(ls,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,d=/\d\d?/,h=/\d*[^-_:/,()\s\d]+/,g={},y=function(R){return(R=+R)+(R>68?1900:2e3)},b=function(R){return function(N){this[R]=+N}},C=[/[+-]\d\d:?(\d\d)?|Z/,function(R){(this.zone||(this.zone={})).offset=function(N){if(!N||N==="Z")return 0;var D=N.match(/([+-]|\d\d)/g),V=60*D[1]+(+D[2]||0);return V===0?0:D[0]==="+"?-V:V}(R)}],E=function(R){var N=g[R];return N&&(N.indexOf?N:N.s.concat(N.f))},I=function(R,N){var D,V=g.meridiem;if(V){for(var B=1;B<=24;B+=1)if(R.indexOf(V(B,0,N))>-1){D=B>12;break}}else D=R===(N?"pm":"PM");return D},M={A:[h,function(R){this.afternoon=I(R,!1)}],a:[h,function(R){this.afternoon=I(R,!0)}],S:[/\d/,function(R){this.milliseconds=100*+R}],SS:[l,function(R){this.milliseconds=10*+R}],SSS:[/\d{3}/,function(R){this.milliseconds=+R}],s:[d,b("seconds")],ss:[d,b("seconds")],m:[d,b("minutes")],mm:[d,b("minutes")],H:[d,b("hours")],h:[d,b("hours")],HH:[d,b("hours")],hh:[d,b("hours")],D:[d,b("day")],DD:[l,b("day")],Do:[h,function(R){var N=g.ordinal,D=R.match(/\d+/);if(this.day=D[0],N)for(var V=1;V<=31;V+=1)N(V).replace(/\[|\]/g,"")===R&&(this.day=V)}],M:[d,b("month")],MM:[l,b("month")],MMM:[h,function(R){var N=E("months"),D=(E("monthsShort")||N.map(function(V){return V.slice(0,3)})).indexOf(R)+1;if(D<1)throw new Error;this.month=D%12||D}],MMMM:[h,function(R){var N=E("months").indexOf(R)+1;if(N<1)throw new Error;this.month=N%12||N}],Y:[/[+-]?\d+/,b("year")],YY:[l,function(R){this.year=y(R)}],YYYY:[/\d{4}/,b("year")],Z:C,ZZ:C};function T(R){var N,D;N=R,D=g&&g.formats;for(var V=(R=N.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(se,oe,xe){var me=xe&&xe.toUpperCase();return oe||D[xe]||i[xe]||D[me].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ce,Ae,Se){return Ae||Se.slice(1)})})).match(o),B=V.length,z=0;z<B;z+=1){var H=V[z],q=M[H],he=q&&q[0],ne=q&&q[1];V[z]=ne?{regex:he,parser:ne}:H.replace(/^\[|\]$/g,"")}return function(se){for(var oe={},xe=0,me=0;xe<B;xe+=1){var ce=V[xe];if(typeof ce=="string")me+=ce.length;else{var Ae=ce.regex,Se=ce.parser,ye=se.slice(me),ie=Ae.exec(ye)[0];Se.call(oe,ie),se=se.replace(ie,"")}}return function(fe){var le=fe.afternoon;if(le!==void 0){var Oe=fe.hours;le?Oe<12&&(fe.hours+=12):Oe===12&&(fe.hours=0),delete fe.afternoon}}(oe),oe}}return function(R,N,D){D.p.customParseFormat=!0,R&&R.parseTwoDigitYear&&(y=R.parseTwoDigitYear);var V=N.prototype,B=V.parse;V.parse=function(z){var H=z.date,q=z.utc,he=z.args;this.$u=q;var ne=he[1];if(typeof ne=="string"){var se=he[2]===!0,oe=he[3]===!0,xe=se||oe,me=he[2];oe&&(me=he[2]),g=this.$locale(),!se&&me&&(g=D.Ls[me]),this.$d=function(ye,ie,fe){try{if(["x","X"].indexOf(ie)>-1)return new Date((ie==="X"?1e3:1)*ye);var le=T(ie)(ye),Oe=le.year,Qe=le.month,Pe=le.day,He=le.hours,bt=le.minutes,xt=le.seconds,Nt=le.milliseconds,st=le.zone,Ye=new Date,ot=Pe||(Oe||Qe?1:Ye.getDate()),Et=Oe||Ye.getFullYear(),an=0;Oe&&!Qe||(an=Qe>0?Qe-1:Ye.getMonth());var Be=He||0,Xe=bt||0,ht=xt||0,Dt=Nt||0;return st?new Date(Date.UTC(Et,an,ot,Be,Xe,ht,Dt+60*st.offset*1e3)):fe?new Date(Date.UTC(Et,an,ot,Be,Xe,ht,Dt)):new Date(Et,an,ot,Be,Xe,ht,Dt)}catch{return new Date("")}}(H,ne,q),this.init(),me&&me!==!0&&(this.$L=this.locale(me).$L),xe&&H!=this.format(ne)&&(this.$d=new Date("")),g={}}else if(ne instanceof Array)for(var ce=ne.length,Ae=1;Ae<=ce;Ae+=1){he[1]=ne[Ae-1];var Se=D.apply(this,he);if(Se.isValid()){this.$d=Se.$d,this.$L=Se.$L,this.init();break}Ae===ce&&(this.$d=new Date(""))}else B.call(this,z)}}})})(nB);const vw=nB.exports,MR=["hours","minutes","seconds"],l1="HH:mm:ss",rf="YYYY-MM-DD",Qse={date:rf,dates:rf,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${rf} ${l1}`,monthrange:"YYYY-MM",daterange:rf,datetimerange:`${rf} ${l1}`},vb=(t,n)=>[t>0?t-1:void 0,t,t<n?t+1:void 0],Sc=t=>Array.from(Array.from({length:t}).keys()),rB=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),iB=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),RR=function(t,n){const i=zu(t),o=zu(n);return i&&o?t.getTime()===n.getTime():!i&&!o?t===n:!1},TR=function(t,n){const i=on(t),o=on(n);return i&&o?t.length!==n.length?!1:t.every((l,d)=>RR(l,n[d])):!i&&!o?RR(t,n):!1},PR=function(t,n,i){const o=Mo(n)||n==="x"?Kn(t).locale(i):Kn(t,n).locale(i);return o.isValid()?o:void 0},NR=function(t,n,i){return Mo(n)?t:n==="x"?+t:Kn(t).locale(i).format(n)},_b=(t,n)=>{var i;const o=[],l=n==null?void 0:n();for(let d=0;d<t;d++)o.push((i=l==null?void 0:l.includes(d))!=null?i:!1);return o},sB=$t({disabledHours:{type:nt(Function)},disabledMinutes:{type:nt(Function)},disabledSeconds:{type:nt(Function)}}),oB=$t({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),_w=$t({id:{type:nt([Array,String])},name:{type:nt([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:nt([String,Object]),default:Lc},editable:{type:Boolean,default:!0},prefixIcon:{type:nt([String,Object]),default:""},size:Qs,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:nt(Object),default:()=>({})},modelValue:{type:nt([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:nt([Date,Array])},defaultTime:{type:nt([Date,Array])},isRange:{type:Boolean,default:!1},...sB,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:nt([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Xse=["id","name","placeholder","value","disabled","readonly"],$se=["id","name","placeholder","value","disabled","readonly"],Wse=Ge({name:"Picker"}),Kse=Ge({...Wse,props:_w,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:n,emit:i}){const o=t,{lang:l}=Sr(),d=Ct("date"),h=Ct("input"),g=Ct("range"),{form:y,formItem:b}=Bs(),C=hn("ElPopperOptions",{}),E=re(),I=re(),M=re(!1),T=re(!1),R=re(null);let N=!1,D=!1;It(M,Ce=>{Ce?dn(()=>{Ce&&(R.value=o.modelValue)}):(dt.value=null,dn(()=>{V(o.modelValue)}))});const V=(Ce,We)=>{(We||!TR(Ce,R.value))&&(i("change",Ce),o.validateEvent&&(b==null||b.validate("change").catch(_t=>void 0)))},B=Ce=>{if(!TR(o.modelValue,Ce)){let We;on(Ce)?We=Ce.map(_t=>NR(_t,o.valueFormat,l.value)):Ce&&(We=NR(Ce,o.valueFormat,l.value)),i("update:modelValue",Ce&&We,l.value)}},z=Ce=>{i("keydown",Ce)},H=K(()=>{if(I.value){const Ce=Xe.value?I.value:I.value.$el;return Array.from(Ce.querySelectorAll("input"))}return[]}),q=(Ce,We,_t)=>{const Vt=H.value;!Vt.length||(!_t||_t==="min"?(Vt[0].setSelectionRange(Ce,We),Vt[0].focus()):_t==="max"&&(Vt[1].setSelectionRange(Ce,We),Vt[1].focus()))},he=()=>{Se(!0,!0),dn(()=>{D=!1})},ne=(Ce="",We=!1)=>{We||(D=!0),M.value=We;let _t;on(Ce)?_t=Ce.map(Vt=>Vt.toDate()):_t=Ce&&Ce.toDate(),dt.value=null,B(_t)},se=()=>{T.value=!0},oe=()=>{i("visible-change",!0)},xe=Ce=>{(Ce==null?void 0:Ce.key)===An.esc&&Se(!0,!0)},me=()=>{T.value=!1,M.value=!1,D=!1,i("visible-change",!1)},ce=()=>{M.value=!0},Ae=()=>{M.value=!1},Se=(Ce=!0,We=!1)=>{D=We;const[_t,Vt]=v(H);let Rn=_t;!Ce&&Xe.value&&(Rn=Vt),Rn&&Rn.focus()},ye=Ce=>{o.readonly||le.value||M.value||D||(M.value=!0,i("focus",Ce))};let ie;const fe=Ce=>{const We=async()=>{setTimeout(()=>{var _t;ie===We&&(!(((_t=E.value)==null?void 0:_t.isFocusInsideContent())&&!N)&&H.value.filter(Vt=>Vt.contains(document.activeElement)).length===0&&(Ft(),M.value=!1,i("blur",Ce),o.validateEvent&&(b==null||b.validate("blur").catch(Vt=>void 0))),N=!1)},0)};ie=We,We()},le=K(()=>o.disabled||(y==null?void 0:y.disabled)),Oe=K(()=>{let Ce;if(Ye.value?pt.value.getDefaultValue&&(Ce=pt.value.getDefaultValue()):on(o.modelValue)?Ce=o.modelValue.map(We=>PR(We,o.valueFormat,l.value)):Ce=PR(o.modelValue,o.valueFormat,l.value),pt.value.getRangeAvailableTime){const We=pt.value.getRangeAvailableTime(Ce);po(We,Ce)||(Ce=We,B(on(Ce)?Ce.map(_t=>_t.toDate()):Ce.toDate()))}return on(Ce)&&Ce.some(We=>!We)&&(Ce=[]),Ce}),Qe=K(()=>{if(!pt.value.panelReady)return"";const Ce=Ne(Oe.value);return on(dt.value)?[dt.value[0]||Ce&&Ce[0]||"",dt.value[1]||Ce&&Ce[1]||""]:dt.value!==null?dt.value:!He.value&&Ye.value||!M.value&&Ye.value?"":Ce?bt.value?Ce.join(", "):Ce:""}),Pe=K(()=>o.type.includes("time")),He=K(()=>o.type.startsWith("time")),bt=K(()=>o.type==="dates"),xt=K(()=>o.prefixIcon||(Pe.value?iN:e$)),Nt=re(!1),st=Ce=>{o.readonly||le.value||Nt.value&&(Ce.stopPropagation(),he(),B(null),V(null,!0),Nt.value=!1,M.value=!1,pt.value.handleClear&&pt.value.handleClear())},Ye=K(()=>{const{modelValue:Ce}=o;return!Ce||on(Ce)&&!Ce.filter(Boolean).length}),ot=async Ce=>{var We;o.readonly||le.value||(((We=Ce.target)==null?void 0:We.tagName)!=="INPUT"||H.value.includes(document.activeElement))&&(M.value=!0)},Et=()=>{o.readonly||le.value||!Ye.value&&o.clearable&&(Nt.value=!0)},an=()=>{Nt.value=!1},Be=Ce=>{var We;o.readonly||le.value||(((We=Ce.touches[0].target)==null?void 0:We.tagName)!=="INPUT"||H.value.includes(document.activeElement))&&(M.value=!0)},Xe=K(()=>o.type.includes("range")),ht=Mi(),Dt=K(()=>{var Ce,We;return(We=(Ce=v(E))==null?void 0:Ce.popperRef)==null?void 0:We.contentRef}),Ot=K(()=>{var Ce;return v(Xe)?v(I):(Ce=v(I))==null?void 0:Ce.$el});QS(Ot,Ce=>{const We=v(Dt),_t=v(Ot);We&&(Ce.target===We||Ce.composedPath().includes(We))||Ce.target===_t||Ce.composedPath().includes(_t)||(M.value=!1)});const dt=re(null),Ft=()=>{if(dt.value){const Ce=At(Qe.value);Ce&&Ke(Ce)&&(B(on(Ce)?Ce.map(We=>We.toDate()):Ce.toDate()),dt.value=null)}dt.value===""&&(B(null),V(null),dt.value=null)},At=Ce=>Ce?pt.value.parseUserInput(Ce):null,Ne=Ce=>Ce?pt.value.formatToString(Ce):null,Ke=Ce=>pt.value.isValidValue(Ce),Lt=async Ce=>{if(o.readonly||le.value)return;const{code:We}=Ce;if(z(Ce),We===An.esc){M.value===!0&&(M.value=!1,Ce.preventDefault(),Ce.stopPropagation());return}if(We===An.down&&(pt.value.handleFocusPicker&&(Ce.preventDefault(),Ce.stopPropagation()),M.value===!1&&(M.value=!0,await dn()),pt.value.handleFocusPicker)){pt.value.handleFocusPicker();return}if(We===An.tab){N=!0;return}if(We===An.enter||We===An.numpadEnter){(dt.value===null||dt.value===""||Ke(At(Qe.value)))&&(Ft(),M.value=!1),Ce.stopPropagation();return}if(dt.value){Ce.stopPropagation();return}pt.value.handleKeydownInput&&pt.value.handleKeydownInput(Ce)},Wt=Ce=>{dt.value=Ce,M.value||(M.value=!0)},en=Ce=>{const We=Ce.target;dt.value?dt.value=[We.value,dt.value[1]]:dt.value=[We.value,null]},vn=Ce=>{const We=Ce.target;dt.value?dt.value=[dt.value[0],We.value]:dt.value=[null,We.value]},xn=()=>{var Ce;const We=dt.value,_t=At(We&&We[0]),Vt=v(Oe);if(_t&&_t.isValid()){dt.value=[Ne(_t),((Ce=Qe.value)==null?void 0:Ce[1])||null];const Rn=[_t,Vt&&(Vt[1]||null)];Ke(Rn)&&(B(Rn),dt.value=null)}},Wn=()=>{var Ce;const We=v(dt),_t=At(We&&We[1]),Vt=v(Oe);if(_t&&_t.isValid()){dt.value=[((Ce=v(Qe))==null?void 0:Ce[0])||null,Ne(_t)];const Rn=[Vt&&Vt[0],_t];Ke(Rn)&&(B(Rn),dt.value=null)}},pt=re({}),St=Ce=>{pt.value[Ce[0]]=Ce[1],pt.value.panelReady=!0},tn=Ce=>{i("calendar-change",Ce)},Fn=(Ce,We,_t)=>{i("panel-change",Ce,We,_t)};return or("EP_PICKER_BASE",{props:o}),n({focus:Se,handleFocusInput:ye,handleBlurInput:fe,handleOpen:ce,handleClose:Ae,onPick:ne}),(Ce,We)=>($(),rt(v(Xs),ir({ref_key:"refPopper",ref:E,visible:M.value,effect:"light",pure:"",trigger:"click"},Ce.$attrs,{role:"dialog",teleported:"",transition:`${v(d).namespace.value}-zoom-in-top`,"popper-class":[`${v(d).namespace.value}-picker__popper`,Ce.popperClass],"popper-options":v(C),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:se,onShow:oe,onHide:me}),{default:Ue(()=>[v(Xe)?($(),_e("div",{key:1,ref_key:"inputRef",ref:I,class:J([v(d).b("editor"),v(d).bm("editor",Ce.type),v(h).e("wrapper"),v(d).is("disabled",v(le)),v(d).is("active",M.value),v(g).b("editor"),v(ht)?v(g).bm("editor",v(ht)):"",Ce.$attrs.class]),style:fn(Ce.$attrs.style),onClick:ye,onMouseenter:Et,onMouseleave:an,onTouchstart:Be,onKeydown:Lt},[v(xt)?($(),rt(v(un),{key:0,class:J([v(h).e("icon"),v(g).e("icon")]),onMousedown:Dn(ot,["prevent"]),onTouchstart:Be},{default:Ue(()=>[($(),rt(sr(v(xt))))]),_:1},8,["class","onMousedown"])):Ze("v-if",!0),Ie("input",{id:Ce.id&&Ce.id[0],autocomplete:"off",name:Ce.name&&Ce.name[0],placeholder:Ce.startPlaceholder,value:v(Qe)&&v(Qe)[0],disabled:v(le),readonly:!Ce.editable||Ce.readonly,class:J(v(g).b("input")),onMousedown:ot,onInput:en,onChange:xn,onFocus:ye,onBlur:fe},null,42,Xse),yt(Ce.$slots,"range-separator",{},()=>[Ie("span",{class:J(v(g).b("separator"))},Xt(Ce.rangeSeparator),3)]),Ie("input",{id:Ce.id&&Ce.id[1],autocomplete:"off",name:Ce.name&&Ce.name[1],placeholder:Ce.endPlaceholder,value:v(Qe)&&v(Qe)[1],disabled:v(le),readonly:!Ce.editable||Ce.readonly,class:J(v(g).b("input")),onMousedown:ot,onFocus:ye,onBlur:fe,onInput:vn,onChange:Wn},null,42,$se),Ce.clearIcon?($(),rt(v(un),{key:1,class:J([v(h).e("icon"),v(g).e("close-icon"),{[v(g).e("close-icon--hidden")]:!Nt.value}]),onClick:st},{default:Ue(()=>[($(),rt(sr(Ce.clearIcon)))]),_:1},8,["class"])):Ze("v-if",!0)],38)):($(),rt(v(vs),{key:0,id:Ce.id,ref_key:"inputRef",ref:I,"container-role":"combobox","model-value":v(Qe),name:Ce.name,size:v(ht),disabled:v(le),placeholder:Ce.placeholder,class:J([v(d).b("editor"),v(d).bm("editor",Ce.type),Ce.$attrs.class]),style:fn(Ce.$attrs.style),readonly:!Ce.editable||Ce.readonly||v(bt)||Ce.type==="week",label:Ce.label,tabindex:Ce.tabindex,"validate-event":!1,onInput:Wt,onFocus:ye,onBlur:fe,onKeydown:Lt,onChange:Ft,onMousedown:ot,onMouseenter:Et,onMouseleave:an,onTouchstart:Be,onClick:We[0]||(We[0]=Dn(()=>{},["stop"]))},{prefix:Ue(()=>[v(xt)?($(),rt(v(un),{key:0,class:J(v(h).e("icon")),onMousedown:Dn(ot,["prevent"]),onTouchstart:Be},{default:Ue(()=>[($(),rt(sr(v(xt))))]),_:1},8,["class","onMousedown"])):Ze("v-if",!0)]),suffix:Ue(()=>[Nt.value&&Ce.clearIcon?($(),rt(v(un),{key:0,class:J(`${v(h).e("icon")} clear-icon`),onClick:Dn(st,["stop"])},{default:Ue(()=>[($(),rt(sr(Ce.clearIcon)))]),_:1},8,["class","onClick"])):Ze("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:Ue(()=>[yt(Ce.$slots,"default",{visible:M.value,actualVisible:T.value,parsedValue:v(Oe),format:Ce.format,unlinkPanels:Ce.unlinkPanels,type:Ce.type,defaultValue:Ce.defaultValue,onPick:ne,onSelectRange:q,onSetPickerOption:St,onCalendarChange:tn,onPanelChange:Fn,onKeydown:xe,onMousedown:We[1]||(We[1]=Dn(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var aB=Ht(Kse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const jse=$t({...oB,datetimeRole:String,parsedValue:{type:nt(Object)}}),lB=({getAvailableHours:t,getAvailableMinutes:n,getAvailableSeconds:i})=>{const o=(h,g,y,b)=>{const C={hour:t,minute:n,second:i};let E=h;return["hour","minute","second"].forEach(I=>{if(C[I]){let M;const T=C[I];switch(I){case"minute":{M=T(E.hour(),g,b);break}case"second":{M=T(E.hour(),E.minute(),g,b);break}default:{M=T(g,b);break}}if((M==null?void 0:M.length)&&!M.includes(E[I]())){const R=y?0:M.length-1;E=E[I](M[R])}}}),E},l={};return{timePickerOptions:l,getAvailableTime:o,onSetOption:([h,g])=>{l[h]=g}}},Ab=t=>{const n=(o,l)=>o||l,i=o=>o!==!0;return t.map(n).filter(i)},cB=(t,n,i)=>({getHoursList:(h,g)=>_b(24,t&&(()=>t==null?void 0:t(h,g))),getMinutesList:(h,g,y)=>_b(60,n&&(()=>n==null?void 0:n(h,g,y))),getSecondsList:(h,g,y,b)=>_b(60,i&&(()=>i==null?void 0:i(h,g,y,b)))}),uB=(t,n,i)=>{const{getHoursList:o,getMinutesList:l,getSecondsList:d}=cB(t,n,i);return{getAvailableHours:(b,C)=>Ab(o(b,C)),getAvailableMinutes:(b,C,E)=>Ab(l(b,C,E)),getAvailableSeconds:(b,C,E,I)=>Ab(d(b,C,E,I))}},dB=t=>{const n=re(t.parsedValue);return It(()=>t.visible,i=>{i||(n.value=t.parsedValue)}),n},pc=new Map;let BR;fr&&(document.addEventListener("mousedown",t=>BR=t),document.addEventListener("mouseup",t=>{for(const n of pc.values())for(const{documentHandler:i}of n)i(t,BR)}));function DR(t,n){let i=[];return Array.isArray(n.arg)?i=n.arg:va(n.arg)&&i.push(n.arg),function(o,l){const d=n.instance.popperRef,h=o.target,g=l==null?void 0:l.target,y=!n||!n.instance,b=!h||!g,C=t.contains(h)||t.contains(g),E=t===h,I=i.length&&i.some(T=>T==null?void 0:T.contains(h))||i.length&&i.includes(g),M=d&&(d.contains(h)||d.contains(g));y||b||C||E||I||M||n.value(o,l)}}const Pc={beforeMount(t,n){pc.has(t)||pc.set(t,[]),pc.get(t).push({documentHandler:DR(t,n),bindingFn:n.value})},updated(t,n){pc.has(t)||pc.set(t,[]);const i=pc.get(t),o=i.findIndex(d=>d.bindingFn===n.oldValue),l={documentHandler:DR(t,n),bindingFn:n.value};o>=0?i.splice(o,1,l):i.push(l)},unmounted(t){pc.delete(t)}},qse=100,Yse=600,d_={beforeMount(t,n){const i=n.value,{interval:o=qse,delay:l=Yse}=Nn(i)?{}:i;let d,h;const g=()=>Nn(i)?i():i.handler(),y=()=>{h&&(clearTimeout(h),h=void 0),d&&(clearInterval(d),d=void 0)};t.addEventListener("mousedown",b=>{b.button===0&&(y(),g(),document.addEventListener("mouseup",()=>y(),{once:!0}),h=setTimeout(()=>{d=setInterval(()=>{g()},o)},l))})}},c1="_trap-focus-children",Tu=[],kR=t=>{if(Tu.length===0)return;const n=Tu[Tu.length-1][c1];if(n.length>0&&t.code===An.tab){if(n.length===1){t.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const i=t.shiftKey,o=t.target===n[0],l=t.target===n[n.length-1];o&&i&&(t.preventDefault(),n[n.length-1].focus()),l&&!i&&(t.preventDefault(),n[0].focus())}},Jse={beforeMount(t){t[c1]=NM(t),Tu.push(t),Tu.length<=1&&document.addEventListener("keydown",kR)},updated(t){dn(()=>{t[c1]=NM(t)})},unmounted(){Tu.shift(),Tu.length===0&&document.removeEventListener("keydown",kR)}};var LR=!1,Iu,u1,d1,Pv,Nv,fB,Bv,f1,h1,p1,hB,m1,g1,pB,mB;function Fs(){if(!LR){LR=!0;var t=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),i=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(m1=/\b(iPhone|iP[ao]d)/.exec(t),g1=/\b(iP[ao]d)/.exec(t),p1=/Android/i.exec(t),pB=/FBAN\/\w+;/i.exec(t),mB=/Mobile/i.exec(t),hB=!!/Win64/.exec(t),n){Iu=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,Iu&&document&&document.documentMode&&(Iu=document.documentMode);var o=/(?:Trident\/(\d+.\d+))/.exec(t);fB=o?parseFloat(o[1])+4:Iu,u1=n[2]?parseFloat(n[2]):NaN,d1=n[3]?parseFloat(n[3]):NaN,Pv=n[4]?parseFloat(n[4]):NaN,Pv?(n=/(?:Chrome\/(\d+\.\d+))/.exec(t),Nv=n&&n[1]?parseFloat(n[1]):NaN):Nv=NaN}else Iu=u1=d1=Nv=Pv=NaN;if(i){if(i[1]){var l=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Bv=l?parseFloat(l[1].replace("_",".")):!0}else Bv=!1;f1=!!i[2],h1=!!i[3]}else Bv=f1=h1=!1}}var v1={ie:function(){return Fs()||Iu},ieCompatibilityMode:function(){return Fs()||fB>Iu},ie64:function(){return v1.ie()&&hB},firefox:function(){return Fs()||u1},opera:function(){return Fs()||d1},webkit:function(){return Fs()||Pv},safari:function(){return v1.webkit()},chrome:function(){return Fs()||Nv},windows:function(){return Fs()||f1},osx:function(){return Fs()||Bv},linux:function(){return Fs()||h1},iphone:function(){return Fs()||m1},mobile:function(){return Fs()||m1||g1||p1||mB},nativeApp:function(){return Fs()||pB},android:function(){return Fs()||p1},ipad:function(){return Fs()||g1}},Zse=v1,pv=!!(typeof window<"u"&&window.document&&window.document.createElement),eoe={canUseDOM:pv,canUseWorkers:typeof Worker<"u",canUseEventListeners:pv&&!!(window.addEventListener||window.attachEvent),canUseViewport:pv&&!!window.screen,isInWorker:!pv},gB=eoe,vB;gB.canUseDOM&&(vB=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function toe(t,n){if(!gB.canUseDOM||n&&!("addEventListener"in document))return!1;var i="on"+t,o=i in document;if(!o){var l=document.createElement("div");l.setAttribute(i,"return;"),o=typeof l[i]=="function"}return!o&&vB&&t==="wheel"&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}var noe=toe,OR=10,FR=40,VR=800;function _B(t){var n=0,i=0,o=0,l=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(n=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=i,i=0),o=n*OR,l=i*OR,"deltaY"in t&&(l=t.deltaY),"deltaX"in t&&(o=t.deltaX),(o||l)&&t.deltaMode&&(t.deltaMode==1?(o*=FR,l*=FR):(o*=VR,l*=VR)),o&&!n&&(n=o<1?-1:1),l&&!i&&(i=l<1?-1:1),{spinX:n,spinY:i,pixelX:o,pixelY:l}}_B.getEventType=function(){return Zse.firefox()?"DOMMouseScroll":noe("wheel")?"wheel":"mousewheel"};var roe=_B;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const ioe=function(t,n){if(t&&t.addEventListener){const i=function(o){const l=roe(o);n&&Reflect.apply(n,this,[o,l])};t.addEventListener("wheel",i,{passive:!0})}},soe={beforeMount(t,n){ioe(t,n.value)}},ooe=$t({role:{type:String,required:!0},spinnerDate:{type:nt(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:nt(String),default:""},...sB}),aoe=["onClick"],loe=["onMouseenter"],coe=Ge({__name:"basic-time-spinner",props:ooe,emits:["change","select-range","set-option"],setup(t,{emit:n}){const i=t,o=Ct("time"),{getHoursList:l,getMinutesList:d,getSecondsList:h}=cB(i.disabledHours,i.disabledMinutes,i.disabledSeconds);let g=!1;const y=re(),b=re(),C=re(),E=re(),I={hours:b,minutes:C,seconds:E},M=K(()=>i.showSeconds?MR:MR.slice(0,2)),T=K(()=>{const{spinnerDate:le}=i,Oe=le.hour(),Qe=le.minute(),Pe=le.second();return{hours:Oe,minutes:Qe,seconds:Pe}}),R=K(()=>{const{hours:le,minutes:Oe}=v(T);return{hours:l(i.role),minutes:d(le,i.role),seconds:h(le,Oe,i.role)}}),N=K(()=>{const{hours:le,minutes:Oe,seconds:Qe}=v(T);return{hours:vb(le,23),minutes:vb(Oe,59),seconds:vb(Qe,59)}}),D=Ns(le=>{g=!1,z(le)},200),V=le=>{if(!!!i.amPmMode)return"";const Qe=i.amPmMode==="A";let Pe=le<12?" am":" pm";return Qe&&(Pe=Pe.toUpperCase()),Pe},B=le=>{let Oe;switch(le){case"hours":Oe=[0,2];break;case"minutes":Oe=[3,5];break;case"seconds":Oe=[6,8];break}const[Qe,Pe]=Oe;n("select-range",Qe,Pe),y.value=le},z=le=>{he(le,v(T)[le])},H=()=>{z("hours"),z("minutes"),z("seconds")},q=le=>le.querySelector(`.${o.namespace.value}-scrollbar__wrap`),he=(le,Oe)=>{if(i.arrowControl)return;const Qe=v(I[le]);Qe&&Qe.$el&&(q(Qe.$el).scrollTop=Math.max(0,Oe*ne(le)))},ne=le=>{const Oe=v(I[le]);return(Oe==null?void 0:Oe.$el.querySelector("li").offsetHeight)||0},se=()=>{xe(1)},oe=()=>{xe(-1)},xe=le=>{y.value||B("hours");const Oe=y.value,Qe=v(T)[Oe],Pe=y.value==="hours"?24:60,He=me(Oe,Qe,le,Pe);ce(Oe,He),he(Oe,He),dn(()=>B(Oe))},me=(le,Oe,Qe,Pe)=>{let He=(Oe+Qe+Pe)%Pe;const bt=v(R)[le];for(;bt[He]&&He!==Oe;)He=(He+Qe+Pe)%Pe;return He},ce=(le,Oe)=>{if(v(R)[le][Oe])return;const{hours:He,minutes:bt,seconds:xt}=v(T);let Nt;switch(le){case"hours":Nt=i.spinnerDate.hour(Oe).minute(bt).second(xt);break;case"minutes":Nt=i.spinnerDate.hour(He).minute(Oe).second(xt);break;case"seconds":Nt=i.spinnerDate.hour(He).minute(bt).second(Oe);break}n("change",Nt)},Ae=(le,{value:Oe,disabled:Qe})=>{Qe||(ce(le,Oe),B(le),he(le,Oe))},Se=le=>{g=!0,D(le);const Oe=Math.min(Math.round((q(v(I[le]).$el).scrollTop-(ye(le)*.5-10)/ne(le)+3)/ne(le)),le==="hours"?23:59);ce(le,Oe)},ye=le=>v(I[le]).$el.offsetHeight,ie=()=>{const le=Oe=>{const Qe=v(I[Oe]);Qe&&Qe.$el&&(q(Qe.$el).onscroll=()=>{Se(Oe)})};le("hours"),le("minutes"),le("seconds")};jn(()=>{dn(()=>{!i.arrowControl&&ie(),H(),i.role==="start"&&B("hours")})});const fe=(le,Oe)=>{I[Oe].value=le};return n("set-option",[`${i.role}_scrollDown`,xe]),n("set-option",[`${i.role}_emitSelectRange`,B]),It(()=>i.spinnerDate,()=>{g||H()}),(le,Oe)=>($(),_e("div",{class:J([v(o).b("spinner"),{"has-seconds":le.showSeconds}])},[le.arrowControl?Ze("v-if",!0):($(!0),_e(gn,{key:0},ur(v(M),Qe=>($(),rt(v(Gl),{key:Qe,ref_for:!0,ref:Pe=>fe(Pe,Qe),class:J(v(o).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":v(o).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:Pe=>B(Qe),onMousemove:Pe=>z(Qe)},{default:Ue(()=>[($(!0),_e(gn,null,ur(v(R)[Qe],(Pe,He)=>($(),_e("li",{key:He,class:J([v(o).be("spinner","item"),v(o).is("active",He===v(T)[Qe]),v(o).is("disabled",Pe)]),onClick:bt=>Ae(Qe,{value:He,disabled:Pe})},[Qe==="hours"?($(),_e(gn,{key:0},[mr(Xt(("0"+(le.amPmMode?He%12||12:He)).slice(-2))+Xt(V(He)),1)],64)):($(),_e(gn,{key:1},[mr(Xt(("0"+He).slice(-2)),1)],64))],10,aoe))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),le.arrowControl?($(!0),_e(gn,{key:1},ur(v(M),Qe=>($(),_e("div",{key:Qe,class:J([v(o).be("spinner","wrapper"),v(o).is("arrow")]),onMouseenter:Pe=>B(Qe)},[zn(($(),rt(v(un),{class:J(["arrow-up",v(o).be("spinner","arrow")])},{default:Ue(()=>[Re(v(O_))]),_:1},8,["class"])),[[v(d_),oe]]),zn(($(),rt(v(un),{class:J(["arrow-down",v(o).be("spinner","arrow")])},{default:Ue(()=>[Re(v(kc))]),_:1},8,["class"])),[[v(d_),se]]),Ie("ul",{class:J(v(o).be("spinner","list"))},[($(!0),_e(gn,null,ur(v(N)[Qe],(Pe,He)=>($(),_e("li",{key:He,class:J([v(o).be("spinner","item"),v(o).is("active",Pe===v(T)[Qe]),v(o).is("disabled",v(R)[Qe][Pe])])},[typeof Pe=="number"?($(),_e(gn,{key:0},[Qe==="hours"?($(),_e(gn,{key:0},[mr(Xt(("0"+(le.amPmMode?Pe%12||12:Pe)).slice(-2))+Xt(V(Pe)),1)],64)):($(),_e(gn,{key:1},[mr(Xt(("0"+Pe).slice(-2)),1)],64))],64)):Ze("v-if",!0)],2))),128))],2)],42,loe))),128)):Ze("v-if",!0)],2))}});var _1=Ht(coe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const uoe=Ge({__name:"panel-time-pick",props:jse,emits:["pick","select-range","set-picker-option"],setup(t,{emit:n}){const i=t,o=hn("EP_PICKER_BASE"),{arrowControl:l,disabledHours:d,disabledMinutes:h,disabledSeconds:g,defaultValue:y}=o.props,{getAvailableHours:b,getAvailableMinutes:C,getAvailableSeconds:E}=uB(d,h,g),I=Ct("time"),{t:M,lang:T}=Sr(),R=re([0,2]),N=dB(i),D=K(()=>ts(i.actualVisible)?`${I.namespace.value}-zoom-in-top`:""),V=K(()=>i.format.includes("ss")),B=K(()=>i.format.includes("A")?"A":i.format.includes("a")?"a":""),z=fe=>{const le=Kn(fe).locale(T.value),Oe=Ae(le);return le.isSame(Oe)},H=()=>{n("pick",N.value,!1)},q=(fe=!1,le=!1)=>{le||n("pick",i.parsedValue,fe)},he=fe=>{if(!i.visible)return;const le=Ae(fe).millisecond(0);n("pick",le,!0)},ne=(fe,le)=>{n("select-range",fe,le),R.value=[fe,le]},se=fe=>{const le=[0,3].concat(V.value?[6]:[]),Oe=["hours","minutes"].concat(V.value?["seconds"]:[]),Pe=(le.indexOf(R.value[0])+fe+le.length)%le.length;xe.start_emitSelectRange(Oe[Pe])},oe=fe=>{const le=fe.code,{left:Oe,right:Qe,up:Pe,down:He}=An;if([Oe,Qe].includes(le)){se(le===Oe?-1:1),fe.preventDefault();return}if([Pe,He].includes(le)){const bt=le===Pe?-1:1;xe.start_scrollDown(bt),fe.preventDefault();return}},{timePickerOptions:xe,onSetOption:me,getAvailableTime:ce}=lB({getAvailableHours:b,getAvailableMinutes:C,getAvailableSeconds:E}),Ae=fe=>ce(fe,i.datetimeRole||"",!0),Se=fe=>fe?Kn(fe,i.format).locale(T.value):null,ye=fe=>fe?fe.format(i.format):null,ie=()=>Kn(y).locale(T.value);return n("set-picker-option",["isValidValue",z]),n("set-picker-option",["formatToString",ye]),n("set-picker-option",["parseUserInput",Se]),n("set-picker-option",["handleKeydownInput",oe]),n("set-picker-option",["getRangeAvailableTime",Ae]),n("set-picker-option",["getDefaultValue",ie]),(fe,le)=>($(),rt(Si,{name:v(D)},{default:Ue(()=>[fe.actualVisible||fe.visible?($(),_e("div",{key:0,class:J(v(I).b("panel"))},[Ie("div",{class:J([v(I).be("panel","content"),{"has-seconds":v(V)}])},[Re(_1,{ref:"spinner",role:fe.datetimeRole||"start","arrow-control":v(l),"show-seconds":v(V),"am-pm-mode":v(B),"spinner-date":fe.parsedValue,"disabled-hours":v(d),"disabled-minutes":v(h),"disabled-seconds":v(g),onChange:he,onSetOption:v(me),onSelectRange:ne},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Ie("div",{class:J(v(I).be("panel","footer"))},[Ie("button",{type:"button",class:J([v(I).be("panel","btn"),"cancel"]),onClick:H},Xt(v(M)("el.datepicker.cancel")),3),Ie("button",{type:"button",class:J([v(I).be("panel","btn"),"confirm"]),onClick:le[0]||(le[0]=Oe=>q())},Xt(v(M)("el.datepicker.confirm")),3)],2)],2)):Ze("v-if",!0)]),_:1},8,["name"]))}});var f_=Ht(uoe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const doe=$t({...oB,parsedValue:{type:nt(Array)}}),foe=["disabled"],hoe=Ge({__name:"panel-time-range",props:doe,emits:["pick","select-range","set-picker-option"],setup(t,{emit:n}){const i=t,o=(ot,Et)=>{const an=[];for(let Be=ot;Be<=Et;Be++)an.push(Be);return an},{t:l,lang:d}=Sr(),h=Ct("time"),g=Ct("picker"),y=hn("EP_PICKER_BASE"),{arrowControl:b,disabledHours:C,disabledMinutes:E,disabledSeconds:I,defaultValue:M}=y.props,T=K(()=>i.parsedValue[0]),R=K(()=>i.parsedValue[1]),N=dB(i),D=()=>{n("pick",N.value,!1)},V=K(()=>i.format.includes("ss")),B=K(()=>i.format.includes("A")?"A":i.format.includes("a")?"a":""),z=(ot=!1)=>{n("pick",[T.value,R.value],ot)},H=ot=>{ne(ot.millisecond(0),R.value)},q=ot=>{ne(T.value,ot.millisecond(0))},he=ot=>{const Et=ot.map(Be=>Kn(Be).locale(d.value)),an=le(Et);return Et[0].isSame(an[0])&&Et[1].isSame(an[1])},ne=(ot,Et)=>{n("pick",[ot,Et],!0)},se=K(()=>T.value>R.value),oe=re([0,2]),xe=(ot,Et)=>{n("select-range",ot,Et,"min"),oe.value=[ot,Et]},me=K(()=>V.value?11:8),ce=(ot,Et)=>{n("select-range",ot,Et,"max");const an=v(me);oe.value=[ot+an,Et+an]},Ae=ot=>{const Et=V.value?[0,3,6,11,14,17]:[0,3,8,11],an=["hours","minutes"].concat(V.value?["seconds"]:[]),Xe=(Et.indexOf(oe.value[0])+ot+Et.length)%Et.length,ht=Et.length/2;Xe<ht?He.start_emitSelectRange(an[Xe]):He.end_emitSelectRange(an[Xe-ht])},Se=ot=>{const Et=ot.code,{left:an,right:Be,up:Xe,down:ht}=An;if([an,Be].includes(Et)){Ae(Et===an?-1:1),ot.preventDefault();return}if([Xe,ht].includes(Et)){const Dt=Et===Xe?-1:1,Ot=oe.value[0]<me.value?"start":"end";He[`${Ot}_scrollDown`](Dt),ot.preventDefault();return}},ye=(ot,Et)=>{const an=C?C(ot):[],Be=ot==="start",ht=(Et||(Be?R.value:T.value)).hour(),Dt=Be?o(ht+1,23):o(0,ht-1);return cb(an,Dt)},ie=(ot,Et,an)=>{const Be=E?E(ot,Et):[],Xe=Et==="start",ht=an||(Xe?R.value:T.value),Dt=ht.hour();if(ot!==Dt)return Be;const Ot=ht.minute(),dt=Xe?o(Ot+1,59):o(0,Ot-1);return cb(Be,dt)},fe=(ot,Et,an,Be)=>{const Xe=I?I(ot,Et,an):[],ht=an==="start",Dt=Be||(ht?R.value:T.value),Ot=Dt.hour(),dt=Dt.minute();if(ot!==Ot||Et!==dt)return Xe;const Ft=Dt.second(),At=ht?o(Ft+1,59):o(0,Ft-1);return cb(Xe,At)},le=([ot,Et])=>[bt(ot,"start",!0,Et),bt(Et,"end",!1,ot)],{getAvailableHours:Oe,getAvailableMinutes:Qe,getAvailableSeconds:Pe}=uB(ye,ie,fe),{timePickerOptions:He,getAvailableTime:bt,onSetOption:xt}=lB({getAvailableHours:Oe,getAvailableMinutes:Qe,getAvailableSeconds:Pe}),Nt=ot=>ot?on(ot)?ot.map(Et=>Kn(Et,i.format).locale(d.value)):Kn(ot,i.format).locale(d.value):null,st=ot=>ot?on(ot)?ot.map(Et=>Et.format(i.format)):ot.format(i.format):null,Ye=()=>{if(on(M))return M.map(Et=>Kn(Et).locale(d.value));const ot=Kn(M).locale(d.value);return[ot,ot.add(60,"m")]};return n("set-picker-option",["formatToString",st]),n("set-picker-option",["parseUserInput",Nt]),n("set-picker-option",["isValidValue",he]),n("set-picker-option",["handleKeydownInput",Se]),n("set-picker-option",["getDefaultValue",Ye]),n("set-picker-option",["getRangeAvailableTime",le]),(ot,Et)=>ot.actualVisible?($(),_e("div",{key:0,class:J([v(h).b("range-picker"),v(g).b("panel")])},[Ie("div",{class:J(v(h).be("range-picker","content"))},[Ie("div",{class:J(v(h).be("range-picker","cell"))},[Ie("div",{class:J(v(h).be("range-picker","header"))},Xt(v(l)("el.datepicker.startTime")),3),Ie("div",{class:J([v(h).be("range-picker","body"),v(h).be("panel","content"),v(h).is("arrow",v(b)),{"has-seconds":v(V)}])},[Re(_1,{ref:"minSpinner",role:"start","show-seconds":v(V),"am-pm-mode":v(B),"arrow-control":v(b),"spinner-date":v(T),"disabled-hours":ye,"disabled-minutes":ie,"disabled-seconds":fe,onChange:H,onSetOption:v(xt),onSelectRange:xe},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Ie("div",{class:J(v(h).be("range-picker","cell"))},[Ie("div",{class:J(v(h).be("range-picker","header"))},Xt(v(l)("el.datepicker.endTime")),3),Ie("div",{class:J([v(h).be("range-picker","body"),v(h).be("panel","content"),v(h).is("arrow",v(b)),{"has-seconds":v(V)}])},[Re(_1,{ref:"maxSpinner",role:"end","show-seconds":v(V),"am-pm-mode":v(B),"arrow-control":v(b),"spinner-date":v(R),"disabled-hours":ye,"disabled-minutes":ie,"disabled-seconds":fe,onChange:q,onSetOption:v(xt),onSelectRange:ce},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Ie("div",{class:J(v(h).be("panel","footer"))},[Ie("button",{type:"button",class:J([v(h).be("panel","btn"),"cancel"]),onClick:Et[0]||(Et[0]=an=>D())},Xt(v(l)("el.datepicker.cancel")),3),Ie("button",{type:"button",class:J([v(h).be("panel","btn"),"confirm"]),disabled:v(se),onClick:Et[1]||(Et[1]=an=>z())},Xt(v(l)("el.datepicker.confirm")),11,foe)],2)],2)):Ze("v-if",!0)}});var poe=Ht(hoe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);Kn.extend(vw);var moe=Ge({name:"ElTimePicker",install:null,props:{..._w,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,n){const i=re(),[o,l]=t.isRange?["timerange",poe]:["time",f_],d=h=>n.emit("update:modelValue",h);return or("ElPopperOptions",t.popperOptions),n.expose({focus:h=>{var g;(g=i.value)==null||g.handleFocusInput(h)},blur:h=>{var g;(g=i.value)==null||g.handleBlurInput(h)},handleOpen:()=>{var h;(h=i.value)==null||h.handleOpen()},handleClose:()=>{var h;(h=i.value)==null||h.handleClose()}}),()=>{var h;const g=(h=t.format)!=null?h:l1;return Re(aB,ir(t,{ref:i,type:o,format:g,"onUpdate:modelValue":d}),{default:y=>Re(l,y,null)})}}});const Dv=moe;Dv.install=t=>{t.component(Dv.name,Dv)};const goe=Dv,voe=(t,n)=>{const i=t.subtract(1,"month").endOf("month").date();return Sc(n).map((o,l)=>i-(n-l-1))},_oe=t=>{const n=t.daysInMonth();return Sc(n).map((i,o)=>o+1)},Aoe=t=>Sc(t.length/7).map(n=>{const i=n*7;return t.slice(i,i+7)}),yoe=$t({selectedDay:{type:nt(Object)},range:{type:nt(Array)},date:{type:nt(Object),required:!0},hideHeader:{type:Boolean}}),boe={pick:t=>nr(t)};var AB={exports:{}};(function(t,n){(function(i,o){t.exports=o()})(ls,function(){return function(i,o,l){var d=o.prototype,h=function(E){return E&&(E.indexOf?E:E.s)},g=function(E,I,M,T,R){var N=E.name?E:E.$locale(),D=h(N[I]),V=h(N[M]),B=D||V.map(function(H){return H.slice(0,T)});if(!R)return B;var z=N.weekStart;return B.map(function(H,q){return B[(q+(z||0))%7]})},y=function(){return l.Ls[l.locale()]},b=function(E,I){return E.formats[I]||function(M){return M.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,R,N){return R||N.slice(1)})}(E.formats[I.toUpperCase()])},C=function(){var E=this;return{months:function(I){return I?I.format("MMMM"):g(E,"months")},monthsShort:function(I){return I?I.format("MMM"):g(E,"monthsShort","months",3)},firstDayOfWeek:function(){return E.$locale().weekStart||0},weekdays:function(I){return I?I.format("dddd"):g(E,"weekdays")},weekdaysMin:function(I){return I?I.format("dd"):g(E,"weekdaysMin","weekdays",2)},weekdaysShort:function(I){return I?I.format("ddd"):g(E,"weekdaysShort","weekdays",3)},longDateFormat:function(I){return b(E.$locale(),I)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};d.localeData=function(){return C.bind(this)()},l.localeData=function(){var E=y();return{firstDayOfWeek:function(){return E.weekStart||0},weekdays:function(){return l.weekdays()},weekdaysShort:function(){return l.weekdaysShort()},weekdaysMin:function(){return l.weekdaysMin()},months:function(){return l.months()},monthsShort:function(){return l.monthsShort()},longDateFormat:function(I){return b(E,I)},meridiem:E.meridiem,ordinal:E.ordinal}},l.months=function(){return g(y(),"months")},l.monthsShort=function(){return g(y(),"monthsShort","months",3)},l.weekdays=function(E){return g(y(),"weekdays",null,null,E)},l.weekdaysShort=function(E){return g(y(),"weekdaysShort","weekdays",3,E)},l.weekdaysMin=function(E){return g(y(),"weekdaysMin","weekdays",2,E)}}})})(AB);const yB=AB.exports,Soe=(t,n)=>{Kn.extend(yB);const i=Kn.localeData().firstDayOfWeek(),{t:o,lang:l}=Sr(),d=Kn().locale(l.value),h=K(()=>!!t.range&&!!t.range.length),g=K(()=>{let I=[];if(h.value){const[M,T]=t.range,R=Sc(T.date()-M.date()+1).map(V=>({text:M.date()+V,type:"current"}));let N=R.length%7;N=N===0?0:7-N;const D=Sc(N).map((V,B)=>({text:B+1,type:"next"}));I=R.concat(D)}else{const M=t.date.startOf("month").day(),T=voe(t.date,(M-i+7)%7).map(V=>({text:V,type:"prev"})),R=_oe(t.date).map(V=>({text:V,type:"current"}));I=[...T,...R];const N=7-(I.length%7||7),D=Sc(N).map((V,B)=>({text:B+1,type:"next"}));I=I.concat(D)}return Aoe(I)}),y=K(()=>{const I=i;return I===0?ub.map(M=>o(`el.datepicker.weeks.${M}`)):ub.slice(I).concat(ub.slice(0,I)).map(M=>o(`el.datepicker.weeks.${M}`))}),b=(I,M)=>{switch(M){case"prev":return t.date.startOf("month").subtract(1,"month").date(I);case"next":return t.date.startOf("month").add(1,"month").date(I);case"current":return t.date.date(I)}};return{now:d,isInRange:h,rows:g,weekDays:y,getFormattedDate:b,handlePickDay:({text:I,type:M})=>{const T=b(I,M);n("pick",T)},getSlotData:({text:I,type:M})=>{const T=b(I,M);return{isSelected:T.isSame(t.selectedDay),type:`${M}-month`,day:T.format("YYYY-MM-DD"),date:T.toDate()}}}},woe={key:0},Eoe=["onClick"],Coe=Ge({name:"DateTable"}),Ioe=Ge({...Coe,props:yoe,emits:boe,setup(t,{expose:n,emit:i}){const o=t,{isInRange:l,now:d,rows:h,weekDays:g,getFormattedDate:y,handlePickDay:b,getSlotData:C}=Soe(o,i),E=Ct("calendar-table"),I=Ct("calendar-day"),M=({text:T,type:R})=>{const N=[R];if(R==="current"){const D=y(T,R);D.isSame(o.selectedDay,"day")&&N.push(I.is("selected")),D.isSame(d,"day")&&N.push(I.is("today"))}return N};return n({getFormattedDate:y}),(T,R)=>($(),_e("table",{class:J([v(E).b(),v(E).is("range",v(l))]),cellspacing:"0",cellpadding:"0"},[T.hideHeader?Ze("v-if",!0):($(),_e("thead",woe,[($(!0),_e(gn,null,ur(v(g),N=>($(),_e("th",{key:N},Xt(N),1))),128))])),Ie("tbody",null,[($(!0),_e(gn,null,ur(v(h),(N,D)=>($(),_e("tr",{key:D,class:J({[v(E).e("row")]:!0,[v(E).em("row","hide-border")]:D===0&&T.hideHeader})},[($(!0),_e(gn,null,ur(N,(V,B)=>($(),_e("td",{key:B,class:J(M(V)),onClick:z=>v(b)(V)},[Ie("div",{class:J(v(I).b())},[yt(T.$slots,"date-cell",{data:v(C)(V)},()=>[Ie("span",null,Xt(V.text),1)])],2)],10,Eoe))),128))],2))),128))])],2))}});var GR=Ht(Ioe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const xoe=(t,n)=>{const i=t.endOf("month"),o=n.startOf("month"),d=i.isSame(o,"week")?o.add(1,"week"):o;return[[t,i],[d.startOf("week"),n]]},Moe=(t,n)=>{const i=t.endOf("month"),o=t.add(1,"month").startOf("month"),l=i.isSame(o,"week")?o.add(1,"week"):o,d=l.endOf("month"),h=n.startOf("month"),g=d.isSame(h,"week")?h.add(1,"week"):h;return[[t,i],[l.startOf("week"),d],[g.startOf("week"),n]]},Roe=(t,n,i)=>{const o=ss(),{lang:l}=Sr(),d=re(),h=Kn().locale(l.value),g=K({get(){return t.modelValue?b.value:d.value},set(D){if(!D)return;d.value=D;const V=D.toDate();n(Ps,V),n(Jn,V)}}),y=K(()=>{if(!t.range)return[];const D=t.range.map(z=>Kn(z).locale(l.value)),[V,B]=D;return V.isAfter(B)?[]:V.isSame(B,"month")?T(V,B):V.add(1,"month").month()!==B.month()?[]:T(V,B)}),b=K(()=>t.modelValue?Kn(t.modelValue).locale(l.value):g.value||(y.value.length?y.value[0][0]:h)),C=K(()=>b.value.subtract(1,"month").date(1)),E=K(()=>b.value.add(1,"month").date(1)),I=K(()=>b.value.subtract(1,"year").date(1)),M=K(()=>b.value.add(1,"year").date(1)),T=(D,V)=>{const B=D.startOf("week"),z=V.endOf("week"),H=B.get("month"),q=z.get("month");return H===q?[[B,z]]:(H+1)%12===q?xoe(B,z):H+2===q||(H+1)%11===q?Moe(B,z):[]},R=D=>{g.value=D},N=D=>{const B={"prev-month":C.value,"next-month":E.value,"prev-year":I.value,"next-year":M.value,today:h}[D];B.isSame(b.value,"day")||R(B)};return Mc({from:'"dateCell"',replacement:'"date-cell"',scope:"ElCalendar",version:"2.3.0",ref:"https://element-plus.org/en-US/component/calendar.html#slots",type:"Slot"},K(()=>!!o.dateCell)),{calculateValidatedDateRange:T,date:b,realSelectedDay:g,pickDay:R,selectDate:N,validatedRange:y}},Toe=t=>on(t)&&t.length===2&&t.every(n=>zu(n)),Poe=$t({modelValue:{type:Date},range:{type:nt(Array),validator:Toe}}),Noe={[Jn]:t=>zu(t),[Ps]:t=>zu(t)},Boe="ElCalendar",Doe=Ge({name:Boe}),koe=Ge({...Doe,props:Poe,emits:Noe,setup(t,{expose:n,emit:i}){const o=t,l=Ct("calendar"),{calculateValidatedDateRange:d,date:h,pickDay:g,realSelectedDay:y,selectDate:b,validatedRange:C}=Roe(o,i),{t:E}=Sr(),I=K(()=>{const M=`el.datepicker.month${h.value.format("M")}`;return`${h.value.year()} ${E("el.datepicker.year")} ${E(M)}`});return n({selectedDay:y,pickDay:g,selectDate:b,calculateValidatedDateRange:d}),(M,T)=>($(),_e("div",{class:J(v(l).b())},[Ie("div",{class:J(v(l).e("header"))},[yt(M.$slots,"header",{date:v(I)},()=>[Ie("div",{class:J(v(l).e("title"))},Xt(v(I)),3),v(C).length===0?($(),_e("div",{key:0,class:J(v(l).e("button-group"))},[Re(v(eB),null,{default:Ue(()=>[Re(v(fs),{size:"small",onClick:T[0]||(T[0]=R=>v(b)("prev-month"))},{default:Ue(()=>[mr(Xt(v(E)("el.datepicker.prevMonth")),1)]),_:1}),Re(v(fs),{size:"small",onClick:T[1]||(T[1]=R=>v(b)("today"))},{default:Ue(()=>[mr(Xt(v(E)("el.datepicker.today")),1)]),_:1}),Re(v(fs),{size:"small",onClick:T[2]||(T[2]=R=>v(b)("next-month"))},{default:Ue(()=>[mr(Xt(v(E)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):Ze("v-if",!0)])],2),v(C).length===0?($(),_e("div",{key:0,class:J(v(l).e("body"))},[Re(GR,{date:v(h),"selected-day":v(y),onPick:v(g)},Ec({_:2},[M.$slots["date-cell"]||M.$slots.dateCell?{name:"date-cell",fn:Ue(R=>[M.$slots["date-cell"]?yt(M.$slots,"date-cell",ha(ir({key:0},R))):yt(M.$slots,"dateCell",ha(ir({key:1},R)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):($(),_e("div",{key:1,class:J(v(l).e("body"))},[($(!0),_e(gn,null,ur(v(C),(R,N)=>($(),rt(GR,{key:N,date:R[0],"selected-day":v(y),range:R,"hide-header":N!==0,onPick:v(g)},Ec({_:2},[M.$slots["date-cell"]||M.$slots.dateCell?{name:"date-cell",fn:Ue(D=>[M.$slots["date-cell"]?yt(M.$slots,"date-cell",ha(ir({key:0},D))):yt(M.$slots,"dateCell",ha(ir({key:1},D)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var Loe=Ht(koe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const Ooe=er(Loe),Foe=$t({header:{type:String,default:""},bodyStyle:{type:nt([String,Object,Array]),default:""},shadow:{type:String,values:["always","hover","never"],default:"always"}}),Voe=Ge({name:"ElCard"}),Goe=Ge({...Voe,props:Foe,setup(t){const n=Ct("card");return(i,o)=>($(),_e("div",{class:J([v(n).b(),v(n).is(`${i.shadow}-shadow`)])},[i.$slots.header||i.header?($(),_e("div",{key:0,class:J(v(n).e("header"))},[yt(i.$slots,"header",{},()=>[mr(Xt(i.header),1)])],2)):Ze("v-if",!0),Ie("div",{class:J(v(n).e("body")),style:fn(i.bodyStyle)},[yt(i.$slots,"default")],6)],2))}});var Uoe=Ht(Goe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const zoe=er(Uoe),Hoe=$t({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),Qoe={change:(t,n)=>[t,n].every(Hn)},UR=300,Xoe=(t,n,i)=>{const{children:o,addChild:l,removeChild:d}=E3(Zn(),"ElCarouselItem"),h=re(-1),g=re(null),y=re(!1),b=re(),C=K(()=>t.arrow!=="never"&&!v(M)),E=K(()=>o.value.some(ye=>ye.props.label.toString().length>0)),I=K(()=>t.type==="card"),M=K(()=>t.direction==="vertical"),T=Fu(ye=>{B(ye)},UR,{trailing:!0}),R=Fu(ye=>{xe(ye)},UR);function N(){g.value&&(clearInterval(g.value),g.value=null)}function D(){t.interval<=0||!t.autoplay||g.value||(g.value=setInterval(()=>V(),t.interval))}const V=()=>{h.value<o.value.length-1?h.value=h.value+1:t.loop&&(h.value=0)};function B(ye){if(On(ye)){const le=o.value.filter(Oe=>Oe.props.name===ye);le.length>0&&(ye=o.value.indexOf(le[0]))}if(ye=Number(ye),Number.isNaN(ye)||ye!==Math.floor(ye))return;const ie=o.value.length,fe=h.value;ye<0?h.value=t.loop?ie-1:0:ye>=ie?h.value=t.loop?0:ie-1:h.value=ye,fe===h.value&&z(fe),Ae()}function z(ye){o.value.forEach((ie,fe)=>{ie.translateItem(fe,h.value,ye)})}function H(ye,ie){var fe,le,Oe,Qe;const Pe=v(o),He=Pe.length;if(He===0||!ye.states.inStage)return!1;const bt=ie+1,xt=ie-1,Nt=He-1,st=Pe[Nt].states.active,Ye=Pe[0].states.active,ot=(le=(fe=Pe[bt])==null?void 0:fe.states)==null?void 0:le.active,Et=(Qe=(Oe=Pe[xt])==null?void 0:Oe.states)==null?void 0:Qe.active;return ie===Nt&&Ye||ot?"left":ie===0&&st||Et?"right":!1}function q(){y.value=!0,t.pauseOnHover&&N()}function he(){y.value=!1,D()}function ne(ye){v(M)||o.value.forEach((ie,fe)=>{ye===H(ie,fe)&&(ie.states.hover=!0)})}function se(){v(M)||o.value.forEach(ye=>{ye.states.hover=!1})}function oe(ye){h.value=ye}function xe(ye){t.trigger==="hover"&&ye!==h.value&&(h.value=ye)}function me(){B(h.value-1)}function ce(){B(h.value+1)}function Ae(){N(),D()}It(()=>h.value,(ye,ie)=>{z(ie),ie>-1&&n("change",ye,ie)}),It(()=>t.autoplay,ye=>{ye?D():N()}),It(()=>t.loop,()=>{B(h.value)}),It(()=>t.interval,()=>{Ae()}),It(()=>o.value,()=>{o.value.length>0&&B(t.initialIndex)});const Se=qr();return jn(()=>{Se.value=As(b.value,()=>{z()}),D()}),hi(()=>{N(),b.value&&Se.value&&Se.value.stop()}),or(JN,{root:b,isCardType:I,isVertical:M,items:o,loop:t.loop,addItem:l,removeItem:d,setActiveItem:B}),{root:b,activeIndex:h,arrowDisplay:C,hasLabel:E,hover:y,isCardType:I,items:o,handleButtonEnter:ne,handleButtonLeave:se,handleIndicatorClick:oe,handleMouseEnter:q,handleMouseLeave:he,setActiveItem:B,prev:me,next:ce,throttledArrowClick:T,throttledIndicatorHover:R}},$oe=["onMouseenter","onClick"],Woe={key:0},Koe="ElCarousel",joe=Ge({name:Koe}),qoe=Ge({...joe,props:Hoe,emits:Qoe,setup(t,{expose:n,emit:i}){const o=t,{root:l,activeIndex:d,arrowDisplay:h,hasLabel:g,hover:y,isCardType:b,items:C,handleButtonEnter:E,handleButtonLeave:I,handleIndicatorClick:M,handleMouseEnter:T,handleMouseLeave:R,setActiveItem:N,prev:D,next:V,throttledArrowClick:B,throttledIndicatorHover:z}=Xoe(o,i),H=Ct("carousel"),q=K(()=>{const ne=[H.b(),H.m(o.direction)];return v(b)&&ne.push(H.m("card")),ne}),he=K(()=>{const ne=[H.e("indicators"),H.em("indicators",o.direction)];return v(g)&&ne.push(H.em("indicators","labels")),(o.indicatorPosition==="outside"||v(b))&&ne.push(H.em("indicators","outside")),ne});return n({setActiveItem:N,prev:D,next:V}),(ne,se)=>($(),_e("div",{ref_key:"root",ref:l,class:J(v(q)),onMouseenter:se[6]||(se[6]=Dn((...oe)=>v(T)&&v(T)(...oe),["stop"])),onMouseleave:se[7]||(se[7]=Dn((...oe)=>v(R)&&v(R)(...oe),["stop"]))},[Ie("div",{class:J(v(H).e("container")),style:fn({height:ne.height})},[v(h)?($(),rt(Si,{key:0,name:"carousel-arrow-left",persisted:""},{default:Ue(()=>[zn(Ie("button",{type:"button",class:J([v(H).e("arrow"),v(H).em("arrow","left")]),onMouseenter:se[0]||(se[0]=oe=>v(E)("left")),onMouseleave:se[1]||(se[1]=(...oe)=>v(I)&&v(I)(...oe)),onClick:se[2]||(se[2]=Dn(oe=>v(B)(v(d)-1),["stop"]))},[Re(v(un),null,{default:Ue(()=>[Re(v(Ic))]),_:1})],34),[[yr,(ne.arrow==="always"||v(y))&&(o.loop||v(d)>0)]])]),_:1})):Ze("v-if",!0),v(h)?($(),rt(Si,{key:1,name:"carousel-arrow-right",persisted:""},{default:Ue(()=>[zn(Ie("button",{type:"button",class:J([v(H).e("arrow"),v(H).em("arrow","right")]),onMouseenter:se[3]||(se[3]=oe=>v(E)("right")),onMouseleave:se[4]||(se[4]=(...oe)=>v(I)&&v(I)(...oe)),onClick:se[5]||(se[5]=Dn(oe=>v(B)(v(d)+1),["stop"]))},[Re(v(un),null,{default:Ue(()=>[Re(v(Ts))]),_:1})],34),[[yr,(ne.arrow==="always"||v(y))&&(o.loop||v(d)<v(C).length-1)]])]),_:1})):Ze("v-if",!0),yt(ne.$slots,"default")],6),ne.indicatorPosition!=="none"?($(),_e("ul",{key:0,class:J(v(he))},[($(!0),_e(gn,null,ur(v(C),(oe,xe)=>($(),_e("li",{key:xe,class:J([v(H).e("indicator"),v(H).em("indicator",ne.direction),v(H).is("active",xe===v(d))]),onMouseenter:me=>v(z)(xe),onClick:Dn(me=>v(M)(xe),["stop"])},[Ie("button",{class:J(v(H).e("button"))},[v(g)?($(),_e("span",Woe,Xt(oe.props.label),1)):Ze("v-if",!0)],2)],42,$oe))),128))],2)):Ze("v-if",!0)],34))}});var Yoe=Ht(qoe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const Joe=$t({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Zoe=(t,n)=>{const i=hn(JN),o=Zn(),l=.83,d=re(!1),h=re(0),g=re(1),y=re(!1),b=re(!1),C=re(!1),E=re(!1),{isCardType:I,isVertical:M}=i;function T(B,z,H){const q=H-1,he=z-1,ne=z+1,se=H/2;return z===0&&B===q?-1:z===q&&B===0?H:B<he&&z-B>=se?H+1:B>ne&&B-z>=se?-2:B}function R(B,z){var H;const q=((H=i.root.value)==null?void 0:H.offsetWidth)||0;return C.value?q*((2-l)*(B-z)+1)/4:B<z?-(1+l)*q/4:(3+l)*q/4}function N(B,z,H){const q=i.root.value;return q?((H?q.offsetHeight:q.offsetWidth)||0)*(B-z):0}const D=(B,z,H)=>{var q;const he=v(I),ne=(q=i.items.value.length)!=null?q:Number.NaN,se=B===z;!he&&!ts(H)&&(E.value=se||B===H),!se&&ne>2&&i.loop&&(B=T(B,z,ne));const oe=v(M);y.value=se,he?(C.value=Math.round(Math.abs(B-z))<=1,h.value=R(B,z),g.value=v(y)?1:l):h.value=N(B,z,oe),b.value=!0};function V(){if(i&&v(I)){const B=i.items.value.findIndex(({uid:z})=>z===o.uid);i.setActiveItem(B)}}return jn(()=>{i.addItem({props:t,states:Mr({hover:d,translate:h,scale:g,active:y,ready:b,inStage:C,animating:E}),uid:o.uid,translateItem:D})}),ju(()=>{i.removeItem(o.uid)}),{active:y,animating:E,hover:d,inStage:C,isVertical:M,translate:h,isCardType:I,scale:g,ready:b,handleItemClick:V}},eae=Ge({name:"ElCarouselItem"}),tae=Ge({...eae,props:Joe,setup(t){const n=t,i=Ct("carousel"),{active:o,animating:l,hover:d,inStage:h,isVertical:g,translate:y,isCardType:b,scale:C,ready:E,handleItemClick:I}=Zoe(n),M=K(()=>{const R=`${`translate${v(g)?"Y":"X"}`}(${v(y)}px)`,N=`scale(${v(C)})`;return{transform:[R,N].join(" ")}});return(T,R)=>zn(($(),_e("div",{class:J([v(i).e("item"),v(i).is("active",v(o)),v(i).is("in-stage",v(h)),v(i).is("hover",v(d)),v(i).is("animating",v(l)),{[v(i).em("item","card")]:v(b)}]),style:fn(v(M)),onClick:R[0]||(R[0]=(...N)=>v(I)&&v(I)(...N))},[v(b)?zn(($(),_e("div",{key:0,class:J(v(i).e("mask"))},null,2)),[[yr,!v(o)]]):Ze("v-if",!0),yt(T.$slots,"default")],6)),[[yr,v(E)]])}});var bB=Ht(tae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const nae=er(Yoe,{CarouselItem:bB}),rae=pi(bB),SB={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Qs,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},wB={[Jn]:t=>On(t)||Hn(t)||Bi(t),change:t=>On(t)||Hn(t)||Bi(t)},iae=({model:t,isChecked:n})=>{const i=hn(Kf,void 0),o=K(()=>{var d,h;const g=(d=i==null?void 0:i.max)==null?void 0:d.value,y=(h=i==null?void 0:i.min)==null?void 0:h.value;return!ts(g)&&t.value.length>=g&&!n.value||!ts(y)&&t.value.length<=y&&n.value});return{isDisabled:wa(K(()=>(i==null?void 0:i.disabled.value)||o.value)),isLimitDisabled:o}},sae=(t,{model:n,isLimitExceeded:i,hasOwnLabel:o,isDisabled:l,isLabeledByFormItem:d})=>{const h=hn(Kf,void 0),{formItem:g}=Bs(),{emit:y}=Zn();function b(T){var R,N;return T===t.trueLabel||T===!0?(R=t.trueLabel)!=null?R:!0:(N=t.falseLabel)!=null?N:!1}function C(T,R){y("change",b(T),R)}function E(T){if(i.value)return;const R=T.target;y("change",b(R.checked),T)}async function I(T){i.value||!o.value&&!l.value&&d.value&&(T.composedPath().some(D=>D.tagName==="LABEL")||(n.value=b([!1,t.falseLabel].includes(n.value)),await dn(),C(n.value,T)))}const M=K(()=>(h==null?void 0:h.validateEvent)||t.validateEvent);return It(()=>t.modelValue,()=>{M.value&&(g==null||g.validate("change").catch(T=>void 0))}),{handleChange:E,onClickRoot:I}},oae=t=>{const n=re(!1),{emit:i}=Zn(),o=hn(Kf,void 0),l=K(()=>ts(o)===!1),d=re(!1);return{model:K({get(){var g,y;return l.value?(g=o==null?void 0:o.modelValue)==null?void 0:g.value:(y=t.modelValue)!=null?y:n.value},set(g){var y,b;l.value&&on(g)?(d.value=((y=o==null?void 0:o.max)==null?void 0:y.value)!==void 0&&g.length>(o==null?void 0:o.max.value),d.value===!1&&((b=o==null?void 0:o.changeEvent)==null||b.call(o,g))):(i(Jn,g),n.value=g)}}),isGroup:l,isLimitExceeded:d}},aae=(t,n,{model:i})=>{const o=hn(Kf,void 0),l=re(!1),d=K(()=>{const b=i.value;return Bi(b)?b:on(b)?nr(t.label)?b.map(kr).some(C=>po(C,t.label)):b.map(kr).includes(t.label):b!=null?b===t.trueLabel:!!b}),h=Mi(K(()=>{var b;return(b=o==null?void 0:o.size)==null?void 0:b.value}),{prop:!0}),g=Mi(K(()=>{var b;return(b=o==null?void 0:o.size)==null?void 0:b.value})),y=K(()=>!!(n.default||t.label));return{checkboxButtonSize:h,isChecked:d,isFocused:l,checkboxSize:g,hasOwnLabel:y}},lae=(t,{model:n})=>{function i(){on(n.value)&&!n.value.includes(t.label)?n.value.push(t.label):n.value=t.trueLabel||!0}t.checked&&i()},EB=(t,n)=>{const{formItem:i}=Bs(),{model:o,isGroup:l,isLimitExceeded:d}=oae(t),{isFocused:h,isChecked:g,checkboxButtonSize:y,checkboxSize:b,hasOwnLabel:C}=aae(t,n,{model:o}),{isDisabled:E}=iae({model:o,isChecked:g}),{inputId:I,isLabeledByFormItem:M}=Vc(t,{formItemContext:i,disableIdGeneration:C,disableIdManagement:l}),{handleChange:T,onClickRoot:R}=sae(t,{model:o,isLimitExceeded:d,hasOwnLabel:C,isDisabled:E,isLabeledByFormItem:M});return lae(t,{model:o}),{inputId:I,isLabeledByFormItem:M,isChecked:g,isDisabled:E,isFocused:h,checkboxButtonSize:y,checkboxSize:b,hasOwnLabel:C,model:o,handleChange:T,onClickRoot:R}},cae=["tabindex","role","aria-checked"],uae=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],dae=["id","aria-hidden","disabled","value","name","tabindex"],fae=Ge({name:"ElCheckbox"}),hae=Ge({...fae,props:SB,emits:wB,setup(t){const n=t,i=ss(),{inputId:o,isLabeledByFormItem:l,isChecked:d,isDisabled:h,isFocused:g,checkboxSize:y,hasOwnLabel:b,model:C,handleChange:E,onClickRoot:I}=EB(n,i),M=Ct("checkbox");return(T,R)=>($(),rt(sr(!v(b)&&v(l)?"span":"label"),{class:J([v(M).b(),v(M).m(v(y)),v(M).is("disabled",v(h)),v(M).is("bordered",T.border),v(M).is("checked",v(d))]),"aria-controls":T.indeterminate?T.controls:null,onClick:v(I)},{default:Ue(()=>[Ie("span",{class:J([v(M).e("input"),v(M).is("disabled",v(h)),v(M).is("checked",v(d)),v(M).is("indeterminate",T.indeterminate),v(M).is("focus",v(g))]),tabindex:T.indeterminate?0:void 0,role:T.indeterminate?"checkbox":void 0,"aria-checked":T.indeterminate?"mixed":void 0},[T.trueLabel||T.falseLabel?zn(($(),_e("input",{key:0,id:v(o),"onUpdate:modelValue":R[0]||(R[0]=N=>Wr(C)?C.value=N:null),class:J(v(M).e("original")),type:"checkbox","aria-hidden":T.indeterminate?"true":"false",name:T.name,tabindex:T.tabindex,disabled:v(h),"true-value":T.trueLabel,"false-value":T.falseLabel,onChange:R[1]||(R[1]=(...N)=>v(E)&&v(E)(...N)),onFocus:R[2]||(R[2]=N=>g.value=!0),onBlur:R[3]||(R[3]=N=>g.value=!1)},null,42,uae)),[[t_,v(C)]]):zn(($(),_e("input",{key:1,id:v(o),"onUpdate:modelValue":R[4]||(R[4]=N=>Wr(C)?C.value=N:null),class:J(v(M).e("original")),type:"checkbox","aria-hidden":T.indeterminate?"true":"false",disabled:v(h),value:T.label,name:T.name,tabindex:T.tabindex,onChange:R[5]||(R[5]=(...N)=>v(E)&&v(E)(...N)),onFocus:R[6]||(R[6]=N=>g.value=!0),onBlur:R[7]||(R[7]=N=>g.value=!1)},null,42,dae)),[[t_,v(C)]]),Ie("span",{class:J(v(M).e("inner"))},null,2)],10,cae),v(b)?($(),_e("span",{key:0,class:J(v(M).e("label"))},[yt(T.$slots,"default"),T.$slots.default?Ze("v-if",!0):($(),_e(gn,{key:0},[mr(Xt(T.label),1)],64))],2)):Ze("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var pae=Ht(hae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const mae=["name","tabindex","disabled","true-value","false-value"],gae=["name","tabindex","disabled","value"],vae=Ge({name:"ElCheckboxButton"}),_ae=Ge({...vae,props:SB,emits:wB,setup(t){const n=t,i=ss(),{isFocused:o,isChecked:l,isDisabled:d,checkboxButtonSize:h,model:g,handleChange:y}=EB(n,i),b=hn(Kf,void 0),C=Ct("checkbox"),E=K(()=>{var I,M,T,R;const N=(M=(I=b==null?void 0:b.fill)==null?void 0:I.value)!=null?M:"";return{backgroundColor:N,borderColor:N,color:(R=(T=b==null?void 0:b.textColor)==null?void 0:T.value)!=null?R:"",boxShadow:N?`-1px 0 0 0 ${N}`:void 0}});return(I,M)=>($(),_e("label",{class:J([v(C).b("button"),v(C).bm("button",v(h)),v(C).is("disabled",v(d)),v(C).is("checked",v(l)),v(C).is("focus",v(o))])},[I.trueLabel||I.falseLabel?zn(($(),_e("input",{key:0,"onUpdate:modelValue":M[0]||(M[0]=T=>Wr(g)?g.value=T:null),class:J(v(C).be("button","original")),type:"checkbox",name:I.name,tabindex:I.tabindex,disabled:v(d),"true-value":I.trueLabel,"false-value":I.falseLabel,onChange:M[1]||(M[1]=(...T)=>v(y)&&v(y)(...T)),onFocus:M[2]||(M[2]=T=>o.value=!0),onBlur:M[3]||(M[3]=T=>o.value=!1)},null,42,mae)),[[t_,v(g)]]):zn(($(),_e("input",{key:1,"onUpdate:modelValue":M[4]||(M[4]=T=>Wr(g)?g.value=T:null),class:J(v(C).be("button","original")),type:"checkbox",name:I.name,tabindex:I.tabindex,disabled:v(d),value:I.label,onChange:M[5]||(M[5]=(...T)=>v(y)&&v(y)(...T)),onFocus:M[6]||(M[6]=T=>o.value=!0),onBlur:M[7]||(M[7]=T=>o.value=!1)},null,42,gae)),[[t_,v(g)]]),I.$slots.default||I.label?($(),_e("span",{key:2,class:J(v(C).be("button","inner")),style:fn(v(l)?v(E):void 0)},[yt(I.$slots,"default",{},()=>[mr(Xt(I.label),1)])],6)):Ze("v-if",!0)],2))}});var CB=Ht(_ae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const Aae=$t({modelValue:{type:nt(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Qs,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),yae={[Jn]:t=>on(t),change:t=>on(t)},bae=Ge({name:"ElCheckboxGroup"}),Sae=Ge({...bae,props:Aae,emits:yae,setup(t,{emit:n}){const i=t,o=Ct("checkbox"),{formItem:l}=Bs(),{inputId:d,isLabeledByFormItem:h}=Vc(i,{formItemContext:l}),g=async b=>{n(Jn,b),await dn(),n("change",b)},y=K({get(){return i.modelValue},set(b){g(b)}});return or(Kf,{...Il(Di(i),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:y,changeEvent:g}),It(()=>i.modelValue,()=>{i.validateEvent&&(l==null||l.validate("change").catch(b=>void 0))}),(b,C)=>{var E;return $(),rt(sr(b.tag),{id:v(d),class:J(v(o).b("group")),role:"group","aria-label":v(h)?void 0:b.label||"checkbox-group","aria-labelledby":v(h)?(E=v(l))==null?void 0:E.labelId:void 0},{default:Ue(()=>[yt(b.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var IB=Ht(Sae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Fo=er(pae,{CheckboxButton:CB,CheckboxGroup:IB}),wae=pi(CB),xB=pi(IB),MB=$t({size:Qs,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Eae=$t({...MB,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),RB={[Jn]:t=>On(t)||Hn(t)||Bi(t),[Zr]:t=>On(t)||Hn(t)||Bi(t)},TB=(t,n)=>{const i=re(),o=hn(r3,void 0),l=K(()=>!!o),d=K({get(){return l.value?o.modelValue:t.modelValue},set(C){l.value?o.changeEvent(C):n&&n(Jn,C),i.value.checked=t.modelValue===t.label}}),h=Mi(K(()=>o==null?void 0:o.size)),g=wa(K(()=>o==null?void 0:o.disabled)),y=re(!1),b=K(()=>g.value||l.value&&d.value!==t.label?-1:0);return{radioRef:i,isGroup:l,radioGroup:o,focus:y,size:h,disabled:g,tabIndex:b,modelValue:d}},Cae=["value","name","disabled"],Iae=Ge({name:"ElRadio"}),xae=Ge({...Iae,props:Eae,emits:RB,setup(t,{emit:n}){const i=t,o=Ct("radio"),{radioRef:l,radioGroup:d,focus:h,size:g,disabled:y,modelValue:b}=TB(i,n);function C(){dn(()=>n("change",b.value))}return(E,I)=>{var M;return $(),_e("label",{class:J([v(o).b(),v(o).is("disabled",v(y)),v(o).is("focus",v(h)),v(o).is("bordered",E.border),v(o).is("checked",v(b)===E.label),v(o).m(v(g))])},[Ie("span",{class:J([v(o).e("input"),v(o).is("disabled",v(y)),v(o).is("checked",v(b)===E.label)])},[zn(Ie("input",{ref_key:"radioRef",ref:l,"onUpdate:modelValue":I[0]||(I[0]=T=>Wr(b)?b.value=T:null),class:J(v(o).e("original")),value:E.label,name:E.name||((M=v(d))==null?void 0:M.name),disabled:v(y),type:"radio",onFocus:I[1]||(I[1]=T=>h.value=!0),onBlur:I[2]||(I[2]=T=>h.value=!1),onChange:C},null,42,Cae),[[QP,v(b)]]),Ie("span",{class:J(v(o).e("inner"))},null,2)],2),Ie("span",{class:J(v(o).e("label")),onKeydown:I[3]||(I[3]=Dn(()=>{},["stop"]))},[yt(E.$slots,"default",{},()=>[mr(Xt(E.label),1)])],34)],2)}}});var Mae=Ht(xae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const Rae=$t({...MB,name:{type:String,default:""}}),Tae=["value","name","disabled"],Pae=Ge({name:"ElRadioButton"}),Nae=Ge({...Pae,props:Rae,setup(t){const n=t,i=Ct("radio"),{radioRef:o,focus:l,size:d,disabled:h,modelValue:g,radioGroup:y}=TB(n),b=K(()=>({backgroundColor:(y==null?void 0:y.fill)||"",borderColor:(y==null?void 0:y.fill)||"",boxShadow:y!=null&&y.fill?`-1px 0 0 0 ${y.fill}`:"",color:(y==null?void 0:y.textColor)||""}));return(C,E)=>{var I;return $(),_e("label",{class:J([v(i).b("button"),v(i).is("active",v(g)===C.label),v(i).is("disabled",v(h)),v(i).is("focus",v(l)),v(i).bm("button",v(d))])},[zn(Ie("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":E[0]||(E[0]=M=>Wr(g)?g.value=M:null),class:J(v(i).be("button","original-radio")),value:C.label,type:"radio",name:C.name||((I=v(y))==null?void 0:I.name),disabled:v(h),onFocus:E[1]||(E[1]=M=>l.value=!0),onBlur:E[2]||(E[2]=M=>l.value=!1)},null,42,Tae),[[QP,v(g)]]),Ie("span",{class:J(v(i).be("button","inner")),style:fn(v(g)===C.label?v(b):{}),onKeydown:E[3]||(E[3]=Dn(()=>{},["stop"]))},[yt(C.$slots,"default",{},()=>[mr(Xt(C.label),1)])],38)],2)}}});var PB=Ht(Nae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const Bae=$t({id:{type:String,default:void 0},size:Qs,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Dae=RB,kae=["id","aria-label","aria-labelledby"],Lae=Ge({name:"ElRadioGroup"}),Oae=Ge({...Lae,props:Bae,emits:Dae,setup(t,{emit:n}){const i=t,o=Ct("radio"),l=_a(),d=re(),{formItem:h}=Bs(),{inputId:g,isLabeledByFormItem:y}=Vc(i,{formItemContext:h}),b=E=>{n(Jn,E),dn(()=>n("change",E))};jn(()=>{const E=d.value.querySelectorAll("[type=radio]"),I=E[0];!Array.from(E).some(M=>M.checked)&&I&&(I.tabIndex=0)});const C=K(()=>i.name||l.value);return or(r3,Mr({...Di(i),changeEvent:b,name:C})),It(()=>i.modelValue,()=>{i.validateEvent&&(h==null||h.validate("change").catch(E=>void 0))}),(E,I)=>($(),_e("div",{id:v(g),ref_key:"radioGroupRef",ref:d,class:J(v(o).b("group")),role:"radiogroup","aria-label":v(y)?void 0:E.label||"radio-group","aria-labelledby":v(y)?v(h).labelId:void 0},[yt(E.$slots,"default")],10,kae))}});var NB=Ht(Oae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const BB=er(Mae,{RadioButton:PB,RadioGroup:NB}),Fae=pi(NB),Vae=pi(PB);var Gae=Ge({name:"NodeContent",setup(){return{ns:Ct("cascader-node")}},render(){const{ns:t}=this,{node:n,panel:i}=this.$parent,{data:o,label:l}=n,{renderLabelFn:d}=i;return yn("span",{class:t.e("label")},d?d({node:n,data:o}):l)}});const Aw=Symbol(),Uae=Ge({name:"ElCascaderNode",components:{ElCheckbox:Fo,ElRadio:BB,NodeContent:Gae,ElIcon:un,Check:mm,Loading:Oc,ArrowRight:Ts},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:n}){const i=hn(Aw),o=Ct("cascader-node"),l=K(()=>i.isHoverMenu),d=K(()=>i.config.multiple),h=K(()=>i.config.checkStrictly),g=K(()=>{var q;return(q=i.checkedNodes[0])==null?void 0:q.uid}),y=K(()=>t.node.isDisabled),b=K(()=>t.node.isLeaf),C=K(()=>h.value&&!b.value||!y.value),E=K(()=>M(i.expandingNode)),I=K(()=>h.value&&i.checkedNodes.some(M)),M=q=>{var he;const{level:ne,uid:se}=t.node;return((he=q==null?void 0:q.pathNodes[ne-1])==null?void 0:he.uid)===se},T=()=>{E.value||i.expandNode(t.node)},R=q=>{const{node:he}=t;q!==he.checked&&i.handleCheckChange(he,q)},N=()=>{i.lazyLoad(t.node,()=>{b.value||T()})},D=q=>{!l.value||(V(),!b.value&&n("expand",q))},V=()=>{const{node:q}=t;!C.value||q.loading||(q.loaded?T():N())},B=()=>{l.value&&!b.value||(b.value&&!y.value&&!h.value&&!d.value?H(!0):V())},z=q=>{h.value?(R(q),t.node.loaded&&T()):H(q)},H=q=>{t.node.loaded?(R(q),!h.value&&T()):N()};return{panel:i,isHoverMenu:l,multiple:d,checkStrictly:h,checkedNodeId:g,isDisabled:y,isLeaf:b,expandable:C,inExpandingPath:E,inCheckedPath:I,ns:o,handleHoverExpand:D,handleExpand:V,handleClick:B,handleCheck:H,handleSelectCheck:z}}}),zae=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],Hae=Ie("span",null,null,-1);function Qae(t,n,i,o,l,d){const h=Mn("el-checkbox"),g=Mn("el-radio"),y=Mn("check"),b=Mn("el-icon"),C=Mn("node-content"),E=Mn("loading"),I=Mn("arrow-right");return $(),_e("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:J([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:n[2]||(n[2]=(...M)=>t.handleHoverExpand&&t.handleHoverExpand(...M)),onFocus:n[3]||(n[3]=(...M)=>t.handleHoverExpand&&t.handleHoverExpand(...M)),onClick:n[4]||(n[4]=(...M)=>t.handleClick&&t.handleClick(...M))},[Ze(" prefix "),t.multiple?($(),rt(h,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:n[0]||(n[0]=Dn(()=>{},["stop"])),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):t.checkStrictly?($(),rt(g,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:n[1]||(n[1]=Dn(()=>{},["stop"]))},{default:Ue(()=>[Ze(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),Hae]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):t.isLeaf&&t.node.checked?($(),rt(b,{key:2,class:J(t.ns.e("prefix"))},{default:Ue(()=>[Re(y)]),_:1},8,["class"])):Ze("v-if",!0),Ze(" content "),Re(C),Ze(" postfix "),t.isLeaf?Ze("v-if",!0):($(),_e(gn,{key:3},[t.node.loading?($(),rt(b,{key:0,class:J([t.ns.is("loading"),t.ns.e("postfix")])},{default:Ue(()=>[Re(E)]),_:1},8,["class"])):($(),rt(b,{key:1,class:J(["arrow-right",t.ns.e("postfix")])},{default:Ue(()=>[Re(I)]),_:1},8,["class"]))],64))],42,zae)}var Xae=Ht(Uae,[["render",Qae],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const $ae=Ge({name:"ElCascaderMenu",components:{Loading:Oc,ElIcon:un,ElScrollbar:Gl,ElCascaderNode:Xae},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const n=Zn(),i=Ct("cascader-menu"),{t:o}=Sr(),l=ym();let d=null,h=null;const g=hn(Aw),y=re(null),b=K(()=>!t.nodes.length),C=K(()=>!g.initialLoaded),E=K(()=>`cascader-menu-${l}-${t.index}`),I=N=>{d=N.target},M=N=>{if(!(!g.isHoverMenu||!d||!y.value))if(d.contains(N.target)){T();const D=n.vnode.el,{left:V}=D.getBoundingClientRect(),{offsetWidth:B,offsetHeight:z}=D,H=N.clientX-V,q=d.offsetTop,he=q+d.offsetHeight;y.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${H} ${q} L${B} 0 V${q} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${H} ${he} L${B} ${z} V${he} Z" />
        `}else h||(h=window.setTimeout(R,g.config.hoverThreshold))},T=()=>{!h||(clearTimeout(h),h=null)},R=()=>{!y.value||(y.value.innerHTML="",T())};return{ns:i,panel:g,hoverZone:y,isEmpty:b,isLoading:C,menuId:E,t:o,handleExpand:I,handleMouseMove:M,clearHoverZone:R}}});function Wae(t,n,i,o,l,d){const h=Mn("el-cascader-node"),g=Mn("loading"),y=Mn("el-icon"),b=Mn("el-scrollbar");return $(),rt(b,{key:t.menuId,tag:"ul",role:"menu",class:J(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:Ue(()=>{var C;return[($(!0),_e(gn,null,ur(t.nodes,E=>($(),rt(h,{key:E.uid,node:E,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?($(),_e("div",{key:0,class:J(t.ns.e("empty-text"))},[Re(y,{size:"14",class:J(t.ns.is("loading"))},{default:Ue(()=>[Re(g)]),_:1},8,["class"]),mr(" "+Xt(t.t("el.cascader.loading")),1)],2)):t.isEmpty?($(),_e("div",{key:1,class:J(t.ns.e("empty-text"))},Xt(t.t("el.cascader.noData")),3)):(C=t.panel)!=null&&C.isHoverMenu?($(),_e("svg",{key:2,ref:"hoverZone",class:J(t.ns.e("hover-zone"))},null,2)):Ze("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var Kae=Ht($ae,[["render",Wae],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let jae=0;const qae=t=>{const n=[t];let{parent:i}=t;for(;i;)n.unshift(i),i=i.parent;return n};class Of{constructor(n,i,o,l=!1){this.data=n,this.config=i,this.parent=o,this.root=l,this.uid=jae++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:d,label:h,children:g}=i,y=n[g],b=qae(this);this.level=l?0:o?o.level+1:1,this.value=n[d],this.label=n[h],this.pathNodes=b,this.pathValues=b.map(C=>C.value),this.pathLabels=b.map(C=>C.label),this.childrenData=y,this.children=(y||[]).map(C=>new Of(C,i,this)),this.loaded=!i.lazy||this.isLeaf||!Mo(y)}get isDisabled(){const{data:n,parent:i,config:o}=this,{disabled:l,checkStrictly:d}=o;return(Nn(l)?l(n,this):!!n[l])||!d&&(i==null?void 0:i.isDisabled)}get isLeaf(){const{data:n,config:i,childrenData:o,loaded:l}=this,{lazy:d,leaf:h}=i,g=Nn(h)?h(n,this):n[h];return ts(g)?d&&!l?!1:!(Array.isArray(o)&&o.length):!!g}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(n){const{childrenData:i,children:o}=this,l=new Of(n,this.config,this);return Array.isArray(i)?i.push(n):this.childrenData=[n],o.push(l),l}calcText(n,i){const o=n?this.pathLabels.join(i):this.label;return this.text=o,o}broadcast(n,...i){const o=`onParent${Ro(n)}`;this.children.forEach(l=>{l&&(l.broadcast(n,...i),l[o]&&l[o](...i))})}emit(n,...i){const{parent:o}=this,l=`onChild${Ro(n)}`;o&&(o[l]&&o[l](...i),o.emit(n,...i))}onParentCheck(n){this.isDisabled||this.setCheckState(n)}onChildCheck(){const{children:n}=this,i=n.filter(l=>!l.isDisabled),o=i.length?i.every(l=>l.checked):!1;this.setCheckState(o)}setCheckState(n){const i=this.children.length,o=this.children.reduce((l,d)=>{const h=d.checked?1:d.indeterminate?.5:0;return l+h},0);this.checked=this.loaded&&this.children.filter(l=>!l.isDisabled).every(l=>l.loaded&&l.checked)&&n,this.indeterminate=this.loaded&&o!==i&&o>0}doCheck(n){if(this.checked===n)return;const{checkStrictly:i,multiple:o}=this.config;i||!o?this.checked=n:(this.broadcast("check",n),this.setCheckState(n),this.emit("check"))}}const A1=(t,n)=>t.reduce((i,o)=>(o.isLeaf?i.push(o):(!n&&i.push(o),i=i.concat(A1(o.children,n))),i),[]);class zR{constructor(n,i){this.config=i;const o=(n||[]).map(l=>new Of(l,this.config));this.nodes=o,this.allNodes=A1(o,!1),this.leafNodes=A1(o,!0)}getNodes(){return this.nodes}getFlattedNodes(n){return n?this.leafNodes:this.allNodes}appendNode(n,i){const o=i?i.appendChild(n):new Of(n,this.config);i||this.nodes.push(o),this.allNodes.push(o),o.isLeaf&&this.leafNodes.push(o)}appendNodes(n,i){n.forEach(o=>this.appendNode(o,i))}getNodeByValue(n,i=!1){return!n&&n!==0?null:this.getFlattedNodes(i).find(l=>po(l.value,n)||po(l.pathValues,n))||null}getSameNode(n){return n&&this.getFlattedNodes(!1).find(({value:o,level:l})=>po(n.value,o)&&n.level===l)||null}}const DB={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},Yae={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Fr,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Jae=t=>K(()=>({...Yae,...t.props})),HR=t=>{if(!t)return 0;const n=t.id.split("-");return Number(n[n.length-2])},Zae=t=>{if(!t)return;const n=t.querySelector("input");n?n.click():VN(t)&&t.click()},ele=(t,n)=>{const i=n.slice(0),o=i.map(d=>d.uid),l=t.reduce((d,h)=>{const g=o.indexOf(h.uid);return g>-1&&(d.push(h),i.splice(g,1),o.splice(g,1)),d},[]);return l.push(...i),l},tle=Ge({name:"ElCascaderPanel",components:{ElCascaderMenu:Kae},props:{...DB,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Jn,Zr,"close","expand-change"],setup(t,{emit:n,slots:i}){let o=!1;const l=Ct("cascader"),d=Jae(t);let h=null;const g=re(!0),y=re([]),b=re(null),C=re([]),E=re(null),I=re([]),M=K(()=>d.value.expandTrigger==="hover"),T=K(()=>t.renderLabel||i.default),R=()=>{const{options:me}=t,ce=d.value;o=!1,h=new zR(me,ce),C.value=[h.getNodes()],ce.lazy&&Mo(t.options)?(g.value=!1,N(void 0,Ae=>{Ae&&(h=new zR(Ae,ce),C.value=[h.getNodes()]),g.value=!0,ne(!1,!0)})):ne(!1,!0)},N=(me,ce)=>{const Ae=d.value;me=me||new Of({},Ae,void 0,!0),me.loading=!0;const Se=ye=>{const ie=me,fe=ie.root?null:ie;ye&&(h==null||h.appendNodes(ye,fe)),ie.loading=!1,ie.loaded=!0,ie.childrenData=ie.childrenData||[],ce&&ce(ye)};Ae.lazyLoad(me,Se)},D=(me,ce)=>{var Ae;const{level:Se}=me,ye=C.value.slice(0,Se);let ie;me.isLeaf?ie=me.pathNodes[Se-2]:(ie=me,ye.push(me.children)),((Ae=E.value)==null?void 0:Ae.uid)!==(ie==null?void 0:ie.uid)&&(E.value=me,C.value=ye,!ce&&n("expand-change",(me==null?void 0:me.pathValues)||[]))},V=(me,ce,Ae=!0)=>{const{checkStrictly:Se,multiple:ye}=d.value,ie=I.value[0];o=!0,!ye&&(ie==null||ie.doCheck(!1)),me.doCheck(ce),he(),Ae&&!ye&&!Se&&n("close"),!Ae&&!ye&&!Se&&B(me)},B=me=>{!me||(me=me.parent,B(me),me&&D(me))},z=me=>h==null?void 0:h.getFlattedNodes(me),H=me=>{var ce;return(ce=z(me))==null?void 0:ce.filter(Ae=>Ae.checked!==!1)},q=()=>{I.value.forEach(me=>me.doCheck(!1)),he()},he=()=>{var me;const{checkStrictly:ce,multiple:Ae}=d.value,Se=I.value,ye=H(!ce),ie=ele(Se,ye),fe=ie.map(le=>le.valueByOption);I.value=ie,b.value=Ae?fe:(me=fe[0])!=null?me:null},ne=(me=!1,ce=!1)=>{const{modelValue:Ae}=t,{lazy:Se,multiple:ye,checkStrictly:ie}=d.value,fe=!ie;if(!(!g.value||o||!ce&&po(Ae,b.value)))if(Se&&!me){const Oe=$M(HZ(xl(Ae))).map(Qe=>h==null?void 0:h.getNodeByValue(Qe)).filter(Qe=>!!Qe&&!Qe.loaded&&!Qe.loading);Oe.length?Oe.forEach(Qe=>{N(Qe,()=>ne(!1,ce))}):ne(!0,ce)}else{const le=ye?xl(Ae):[Ae],Oe=$M(le.map(Qe=>h==null?void 0:h.getNodeByValue(Qe,fe)));se(Oe,ce),b.value=PN(Ae)}},se=(me,ce=!0)=>{const{checkStrictly:Ae}=d.value,Se=I.value,ye=me.filter(le=>!!le&&(Ae||le.isLeaf)),ie=h==null?void 0:h.getSameNode(E.value),fe=ce&&ie||ye[0];fe?fe.pathNodes.forEach(le=>D(le,!0)):E.value=null,Se.forEach(le=>le.doCheck(!1)),ye.forEach(le=>le.doCheck(!0)),I.value=ye,dn(oe)},oe=()=>{!fr||y.value.forEach(me=>{const ce=me==null?void 0:me.$el;if(ce){const Ae=ce.querySelector(`.${l.namespace.value}-scrollbar__wrap`),Se=ce.querySelector(`.${l.b("node")}.${l.is("active")}`)||ce.querySelector(`.${l.b("node")}.in-active-path`);XN(Ae,Se)}})},xe=me=>{const ce=me.target,{code:Ae}=me;switch(Ae){case An.up:case An.down:{me.preventDefault();const Se=Ae===An.up?-1:1;Mv(GN(ce,Se,`.${l.b("node")}[tabindex="-1"]`));break}case An.left:{me.preventDefault();const Se=y.value[HR(ce)-1],ye=Se==null?void 0:Se.$el.querySelector(`.${l.b("node")}[aria-expanded="true"]`);Mv(ye);break}case An.right:{me.preventDefault();const Se=y.value[HR(ce)+1],ye=Se==null?void 0:Se.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`);Mv(ye);break}case An.enter:Zae(ce);break}};return or(Aw,Mr({config:d,expandingNode:E,checkedNodes:I,isHoverMenu:M,initialLoaded:g,renderLabelFn:T,lazyLoad:N,expandNode:D,handleCheckChange:V})),It([d,()=>t.options],R,{deep:!0,immediate:!0}),It(()=>t.modelValue,()=>{o=!1,ne()},{deep:!0}),It(()=>b.value,me=>{po(me,t.modelValue)||(n(Jn,me),n(Zr,me))}),bP(()=>y.value=[]),jn(()=>!Mo(t.modelValue)&&ne()),{ns:l,menuList:y,menus:C,checkedNodes:I,handleKeyDown:xe,handleCheckChange:V,getFlattedNodes:z,getCheckedNodes:H,clearCheckedNodes:q,calculateCheckedValue:he,scrollToExpandingNode:oe}}});function nle(t,n,i,o,l,d){const h=Mn("el-cascader-menu");return $(),_e("div",{class:J([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:n[0]||(n[0]=(...g)=>t.handleKeyDown&&t.handleKeyDown(...g))},[($(!0),_e(gn,null,ur(t.menus,(g,y)=>($(),rt(h,{key:y,ref_for:!0,ref:b=>t.menuList[y]=b,index:y,nodes:[...g]},null,8,["index","nodes"]))),128))],34)}var kv=Ht(tle,[["render",nle],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);kv.install=t=>{t.component(kv.name,kv)};const kB=kv,rle=kB,yw=$t({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:Fc,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),ile={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},sle=Ge({name:"ElTag"}),ole=Ge({...sle,props:yw,emits:ile,setup(t,{emit:n}){const i=t,o=Mi(),l=Ct("tag"),d=K(()=>{const{type:y,hit:b,effect:C,closable:E,round:I}=i;return[l.b(),l.is("closable",E),l.m(y),l.m(o.value),l.m(C),l.is("hit",b),l.is("round",I)]}),h=y=>{n("close",y)},g=y=>{n("click",y)};return(y,b)=>y.disableTransitions?($(),_e("span",{key:0,class:J(v(d)),style:fn({backgroundColor:y.color}),onClick:g},[Ie("span",{class:J(v(l).e("content"))},[yt(y.$slots,"default")],2),y.closable?($(),rt(v(un),{key:0,class:J(v(l).e("close")),onClick:Dn(h,["stop"])},{default:Ue(()=>[Re(v(ga))]),_:1},8,["class","onClick"])):Ze("v-if",!0)],6)):($(),rt(Si,{key:1,name:`${v(l).namespace.value}-zoom-in-center`,appear:""},{default:Ue(()=>[Ie("span",{class:J(v(d)),style:fn({backgroundColor:y.color}),onClick:g},[Ie("span",{class:J(v(l).e("content"))},[yt(y.$slots,"default")],2),y.closable?($(),rt(v(un),{key:0,class:J(v(l).e("close")),onClick:Dn(h,["stop"])},{default:Ue(()=>[Re(v(ga))]),_:1},8,["class","onClick"])):Ze("v-if",!0)],6)]),_:3},8,["name"]))}});var ale=Ht(ole,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const iA=er(ale),lle={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:t})=>{const{modifiersData:n,placement:i}=t;["right","left","bottom","top"].includes(i)||(n.arrow.x=35)},requires:["arrow"]}]},cle="ElCascader",ule=Ge({name:cle,components:{ElCascaderPanel:kB,ElInput:vs,ElTooltip:Xs,ElScrollbar:Gl,ElTag:iA,ElIcon:un,CircleClose:Lc,Check:mm,ArrowDown:kc},directives:{Clickoutside:Pc},props:{...DB,size:{type:String,validator:Wf},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(t,n)=>t.text.includes(n)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},teleported:Zi.teleported,tagType:{...yw.type,default:"info"},validateEvent:{type:Boolean,default:!0}},emits:[Jn,Zr,"focus","blur","visible-change","expand-change","remove-tag"],setup(t,{emit:n}){let i=0,o=0;const l=Ct("cascader"),d=Ct("input"),{t:h}=Sr(),{form:g,formItem:y}=Bs(),b=re(null),C=re(null),E=re(null),I=re(null),M=re(null),T=re(!1),R=re(!1),N=re(!1),D=re(""),V=re(""),B=re([]),z=re([]),H=re([]),q=re(!1),he=K(()=>t.disabled||(g==null?void 0:g.disabled)),ne=K(()=>t.placeholder||h("el.cascader.placeholder")),se=K(()=>V.value||B.value.length>0?"":ne.value),oe=Mi(),xe=K(()=>["small"].includes(oe.value)?"small":"default"),me=K(()=>!!t.props.multiple),ce=K(()=>!t.filterable||me.value),Ae=K(()=>me.value?V.value:D.value),Se=K(()=>{var Ne;return((Ne=I.value)==null?void 0:Ne.checkedNodes)||[]}),ye=K(()=>!t.clearable||he.value||N.value||!R.value?!1:!!Se.value.length),ie=K(()=>{const{showAllLevels:Ne,separator:Ke}=t,Lt=Se.value;return Lt.length?me.value?"":Lt[0].calcText(Ne,Ke):""}),fe=K({get(){return PN(t.modelValue)},set(Ne){n(Jn,Ne),n(Zr,Ne),t.validateEvent&&(y==null||y.validate("change").catch(Ke=>void 0))}}),le=K(()=>{var Ne,Ke;return(Ke=(Ne=b.value)==null?void 0:Ne.popperRef)==null?void 0:Ke.contentRef}),Oe=Ne=>{var Ke,Lt,Wt;he.value||(Ne=Ne!=null?Ne:!T.value,Ne!==T.value&&(T.value=Ne,(Lt=(Ke=C.value)==null?void 0:Ke.input)==null||Lt.setAttribute("aria-expanded",`${Ne}`),Ne?(Qe(),dn((Wt=I.value)==null?void 0:Wt.scrollToExpandingNode)):t.filterable&&ht(),n("visible-change",Ne)))},Qe=()=>{dn(()=>{var Ne;(Ne=b.value)==null||Ne.updatePopper()})},Pe=()=>{N.value=!1},He=Ne=>{const{showAllLevels:Ke,separator:Lt}=t;return{node:Ne,key:Ne.uid,text:Ne.calcText(Ke,Lt),hitState:!1,closable:!he.value&&!Ne.isDisabled,isCollapseTag:!1}},bt=Ne=>{var Ke;const Lt=Ne.node;Lt.doCheck(!1),(Ke=I.value)==null||Ke.calculateCheckedValue(),n("remove-tag",Lt.valueByOption)},xt=()=>{if(!me.value)return;const Ne=Se.value,Ke=[],Lt=[];if(Ne.forEach(Wt=>Lt.push(He(Wt))),z.value=Lt,Ne.length){const[Wt,...en]=Ne,vn=en.length;Ke.push(He(Wt)),vn&&(t.collapseTags?Ke.push({key:-1,text:`+ ${vn}`,closable:!1,isCollapseTag:!0}):en.forEach(xn=>Ke.push(He(xn))))}B.value=Ke},Nt=()=>{var Ne,Ke;const{filterMethod:Lt,showAllLevels:Wt,separator:en}=t,vn=(Ke=(Ne=I.value)==null?void 0:Ne.getFlattedNodes(!t.props.checkStrictly))==null?void 0:Ke.filter(xn=>xn.isDisabled?!1:(xn.calcText(Wt,en),Lt(xn,Ae.value)));me.value&&(B.value.forEach(xn=>{xn.hitState=!1}),z.value.forEach(xn=>{xn.hitState=!1})),N.value=!0,H.value=vn,Qe()},st=()=>{var Ne;let Ke;N.value&&M.value?Ke=M.value.$el.querySelector(`.${l.e("suggestion-item")}`):Ke=(Ne=I.value)==null?void 0:Ne.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),Ke&&(Ke.focus(),!N.value&&Ke.click())},Ye=()=>{var Ne,Ke;const Lt=(Ne=C.value)==null?void 0:Ne.input,Wt=E.value,en=(Ke=M.value)==null?void 0:Ke.$el;if(!(!fr||!Lt)){if(en){const vn=en.querySelector(`.${l.e("suggestion-list")}`);vn.style.minWidth=`${Lt.offsetWidth}px`}if(Wt){const{offsetHeight:vn}=Wt,xn=B.value.length>0?`${Math.max(vn+6,i)}px`:`${i}px`;Lt.style.height=xn,Qe()}}},ot=Ne=>{var Ke;return(Ke=I.value)==null?void 0:Ke.getCheckedNodes(Ne)},Et=Ne=>{Qe(),n("expand-change",Ne)},an=Ne=>{var Ke;const Lt=(Ke=Ne.target)==null?void 0:Ke.value;if(Ne.type==="compositionend")q.value=!1,dn(()=>At(Lt));else{const Wt=Lt[Lt.length-1]||"";q.value=!K_(Wt)}},Be=Ne=>{if(!q.value)switch(Ne.code){case An.enter:Oe();break;case An.down:Oe(!0),dn(st),Ne.preventDefault();break;case An.esc:T.value===!0&&(Ne.preventDefault(),Ne.stopPropagation(),Oe(!1));break;case An.tab:Oe(!1);break}},Xe=()=>{var Ne;(Ne=I.value)==null||Ne.clearCheckedNodes(),!T.value&&t.filterable&&ht(),Oe(!1)},ht=()=>{const{value:Ne}=ie;D.value=Ne,V.value=Ne},Dt=Ne=>{var Ke,Lt;const{checked:Wt}=Ne;me.value?(Ke=I.value)==null||Ke.handleCheckChange(Ne,!Wt,!1):(!Wt&&((Lt=I.value)==null||Lt.handleCheckChange(Ne,!0,!1)),Oe(!1))},Ot=Ne=>{const Ke=Ne.target,{code:Lt}=Ne;switch(Lt){case An.up:case An.down:{const Wt=Lt===An.up?-1:1;Mv(GN(Ke,Wt,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case An.enter:Ke.click();break}},dt=()=>{const Ne=B.value,Ke=Ne[Ne.length-1];o=V.value?0:o+1,!(!Ke||!o||t.collapseTags&&Ne.length>1)&&(Ke.hitState?bt(Ke):Ke.hitState=!0)},Ft=Ns(()=>{const{value:Ne}=Ae;if(!Ne)return;const Ke=t.beforeFilter(Ne);kp(Ke)?Ke.then(Nt).catch(()=>{}):Ke!==!1?Nt():Pe()},t.debounce),At=(Ne,Ke)=>{!T.value&&Oe(!0),!(Ke!=null&&Ke.isComposing)&&(Ne?Ft():Pe())};return It(N,Qe),It([Se,he],xt),It(B,()=>{dn(()=>Ye())}),It(ie,ht,{immediate:!0}),jn(()=>{const Ne=C.value.input,Ke=Number.parseFloat(wee(d.cssVarName("input-height"),Ne).value)-2;i=Ne.offsetHeight||Ke,As(Ne,Ye)}),{popperOptions:lle,tooltipRef:b,popperPaneRef:le,input:C,tagWrapper:E,panel:I,suggestionPanel:M,popperVisible:T,inputHover:R,inputPlaceholder:ne,currentPlaceholder:se,filtering:N,presentText:ie,checkedValue:fe,inputValue:D,searchInputValue:V,presentTags:B,allPresentTags:z,suggestions:H,isDisabled:he,isOnComposition:q,realSize:oe,tagSize:xe,multiple:me,readonly:ce,clearBtnVisible:ye,nsCascader:l,nsInput:d,t:h,togglePopperVisible:Oe,hideSuggestionPanel:Pe,deleteTag:bt,focusFirstNode:st,getCheckedNodes:ot,handleExpandChange:Et,handleKeyDown:Be,handleComposition:an,handleClear:Xe,handleSuggestionClick:Dt,handleSuggestionKeyDown:Ot,handleDelete:dt,handleInput:At}}}),dle={key:0},fle=["placeholder"],hle=["onClick"];function ple(t,n,i,o,l,d){const h=Mn("circle-close"),g=Mn("el-icon"),y=Mn("arrow-down"),b=Mn("el-input"),C=Mn("el-tag"),E=Mn("el-tooltip"),I=Mn("el-cascader-panel"),M=Mn("check"),T=Mn("el-scrollbar"),R=wf("clickoutside");return $(),rt(E,{ref:"tooltipRef",visible:t.popperVisible,teleported:t.teleported,"popper-class":[t.nsCascader.e("dropdown"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${t.nsCascader.namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:t.hideSuggestionPanel},{default:Ue(()=>[zn(($(),_e("div",{class:J([t.nsCascader.b(),t.nsCascader.m(t.realSize),t.nsCascader.is("disabled",t.isDisabled),t.$attrs.class]),style:fn(t.$attrs.style),onClick:n[11]||(n[11]=()=>t.togglePopperVisible(t.readonly?void 0:!0)),onKeydown:n[12]||(n[12]=(...N)=>t.handleKeyDown&&t.handleKeyDown(...N)),onMouseenter:n[13]||(n[13]=N=>t.inputHover=!0),onMouseleave:n[14]||(n[14]=N=>t.inputHover=!1)},[Re(b,{ref:"input",modelValue:t.inputValue,"onUpdate:modelValue":n[1]||(n[1]=N=>t.inputValue=N),placeholder:t.currentPlaceholder,readonly:t.readonly,disabled:t.isDisabled,"validate-event":!1,size:t.realSize,class:J(t.nsCascader.is("focus",t.popperVisible)),onCompositionstart:t.handleComposition,onCompositionupdate:t.handleComposition,onCompositionend:t.handleComposition,onFocus:n[2]||(n[2]=N=>t.$emit("focus",N)),onBlur:n[3]||(n[3]=N=>t.$emit("blur",N)),onInput:t.handleInput},{suffix:Ue(()=>[t.clearBtnVisible?($(),rt(g,{key:"clear",class:J([t.nsInput.e("icon"),"icon-circle-close"]),onClick:Dn(t.handleClear,["stop"])},{default:Ue(()=>[Re(h)]),_:1},8,["class","onClick"])):($(),rt(g,{key:"arrow-down",class:J([t.nsInput.e("icon"),"icon-arrow-down",t.nsCascader.is("reverse",t.popperVisible)]),onClick:n[0]||(n[0]=Dn(N=>t.togglePopperVisible(),["stop"]))},{default:Ue(()=>[Re(y)]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),t.multiple?($(),_e("div",{key:0,ref:"tagWrapper",class:J(t.nsCascader.e("tags"))},[($(!0),_e(gn,null,ur(t.presentTags,N=>($(),rt(C,{key:N.key,type:t.tagType,size:t.tagSize,hit:N.hitState,closable:N.closable,"disable-transitions":"",onClose:D=>t.deleteTag(N)},{default:Ue(()=>[N.isCollapseTag===!1?($(),_e("span",dle,Xt(N.text),1)):($(),rt(E,{key:1,teleported:!1,disabled:t.popperVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:Ue(()=>[Ie("span",null,Xt(N.text),1)]),content:Ue(()=>[Ie("div",{class:J(t.nsCascader.e("collapse-tags"))},[($(!0),_e(gn,null,ur(t.allPresentTags.slice(1),(D,V)=>($(),_e("div",{key:V,class:J(t.nsCascader.e("collapse-tag"))},[($(),rt(C,{key:D.key,class:"in-tooltip",type:t.tagType,size:t.tagSize,hit:D.hitState,closable:D.closable,"disable-transitions":"",onClose:B=>t.deleteTag(D)},{default:Ue(()=>[Ie("span",null,Xt(D.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),t.filterable&&!t.isDisabled?zn(($(),_e("input",{key:0,"onUpdate:modelValue":n[4]||(n[4]=N=>t.searchInputValue=N),type:"text",class:J(t.nsCascader.e("search-input")),placeholder:t.presentText?"":t.inputPlaceholder,onInput:n[5]||(n[5]=N=>t.handleInput(t.searchInputValue,N)),onClick:n[6]||(n[6]=Dn(N=>t.togglePopperVisible(!0),["stop"])),onKeydown:n[7]||(n[7]=pr((...N)=>t.handleDelete&&t.handleDelete(...N),["delete"])),onCompositionstart:n[8]||(n[8]=(...N)=>t.handleComposition&&t.handleComposition(...N)),onCompositionupdate:n[9]||(n[9]=(...N)=>t.handleComposition&&t.handleComposition(...N)),onCompositionend:n[10]||(n[10]=(...N)=>t.handleComposition&&t.handleComposition(...N))},null,42,fle)),[[yS,t.searchInputValue]]):Ze("v-if",!0)],2)):Ze("v-if",!0)],38)),[[R,()=>t.togglePopperVisible(!1),t.popperPaneRef]])]),content:Ue(()=>[zn(Re(I,{ref:"panel",modelValue:t.checkedValue,"onUpdate:modelValue":n[15]||(n[15]=N=>t.checkedValue=N),options:t.options,props:t.props,border:!1,"render-label":t.$slots.default,onExpandChange:t.handleExpandChange,onClose:n[16]||(n[16]=N=>t.$nextTick(()=>t.togglePopperVisible(!1)))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[yr,!t.filtering]]),t.filterable?zn(($(),rt(T,{key:0,ref:"suggestionPanel",tag:"ul",class:J(t.nsCascader.e("suggestion-panel")),"view-class":t.nsCascader.e("suggestion-list"),onKeydown:t.handleSuggestionKeyDown},{default:Ue(()=>[t.suggestions.length?($(!0),_e(gn,{key:0},ur(t.suggestions,N=>($(),_e("li",{key:N.uid,class:J([t.nsCascader.e("suggestion-item"),t.nsCascader.is("checked",N.checked)]),tabindex:-1,onClick:D=>t.handleSuggestionClick(N)},[Ie("span",null,Xt(N.text),1),N.checked?($(),rt(g,{key:0},{default:Ue(()=>[Re(M)]),_:1})):Ze("v-if",!0)],10,hle))),128)):yt(t.$slots,"empty",{key:1},()=>[Ie("li",{class:J(t.nsCascader.e("empty-text"))},Xt(t.t("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class","onKeydown"])),[[yr,t.filtering]]):Ze("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-options","transition","onHide"])}var Lv=Ht(ule,[["render",ple],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/index.vue"]]);Lv.install=t=>{t.component(Lv.name,Lv)};const mle=Lv,gle=mle,vle=$t({checked:{type:Boolean,default:!1}}),_le={"update:checked":t=>Bi(t),[Zr]:t=>Bi(t)},Ale=Ge({name:"ElCheckTag"}),yle=Ge({...Ale,props:vle,emits:_le,setup(t,{emit:n}){const i=t,o=Ct("check-tag"),l=()=>{const d=!i.checked;n(Zr,d),n("update:checked",d)};return(d,h)=>($(),_e("span",{class:J([v(o).b(),v(o).is("checked",d.checked)]),onClick:l},[yt(d.$slots,"default")],2))}});var ble=Ht(yle,[["__file","/home/runner/work/element-plus/element-plus/packages/components/check-tag/src/check-tag.vue"]]);const Sle=er(ble),wle=$t({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:nt([Number,Object]),default:()=>ni({})},sm:{type:nt([Number,Object]),default:()=>ni({})},md:{type:nt([Number,Object]),default:()=>ni({})},lg:{type:nt([Number,Object]),default:()=>ni({})},xl:{type:nt([Number,Object]),default:()=>ni({})}}),Ele=Ge({name:"ElCol"}),Cle=Ge({...Ele,props:wle,setup(t){const n=t,{gutter:i}=hn(i3,{gutter:K(()=>0)}),o=Ct("col"),l=K(()=>{const h={};return i.value&&(h.paddingLeft=h.paddingRight=`${i.value/2}px`),h}),d=K(()=>{const h=[];return["span","offset","pull","push"].forEach(b=>{const C=n[b];Hn(C)&&(b==="span"?h.push(o.b(`${n[b]}`)):C>0&&h.push(o.b(`${b}-${n[b]}`)))}),["xs","sm","md","lg","xl"].forEach(b=>{Hn(n[b])?h.push(o.b(`${b}-${n[b]}`)):nr(n[b])&&Object.entries(n[b]).forEach(([C,E])=>{h.push(C!=="span"?o.b(`${b}-${C}-${E}`):o.b(`${b}-${E}`))})}),i.value&&h.push(o.is("guttered")),h});return(h,g)=>($(),rt(sr(h.tag),{class:J([v(o).b(),v(d)]),style:fn(v(l))},{default:Ue(()=>[yt(h.$slots,"default")]),_:3},8,["class","style"]))}});var Ile=Ht(Cle,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const xle=er(Ile),QR=t=>typeof Hn(t),Mle=$t({accordion:Boolean,modelValue:{type:nt([Array,String,Number]),default:()=>ni([])}}),Rle={[Jn]:QR,[Zr]:QR},Tle=(t,n)=>{const i=re(Tf(t.modelValue)),o=d=>{i.value=d;const h=t.accordion?i.value[0]:i.value;n(Jn,h),n(Zr,h)},l=d=>{if(t.accordion)o([i.value[0]===d?"":d]);else{const h=[...i.value],g=h.indexOf(d);g>-1?h.splice(g,1):h.push(d),o(h)}};return It(()=>t.modelValue,()=>i.value=Tf(t.modelValue),{deep:!0}),or(ZN,{activeNames:i,handleItemClick:l}),{activeNames:i,setActiveNames:o}},Ple=()=>{const t=Ct("collapse");return{rootKls:K(()=>t.b())}},Nle=Ge({name:"ElCollapse"}),Ble=Ge({...Nle,props:Mle,emits:Rle,setup(t,{expose:n,emit:i}){const o=t,{activeNames:l,setActiveNames:d}=Tle(o,i),{rootKls:h}=Ple();return n({activeNames:l,setActiveNames:d}),(g,y)=>($(),_e("div",{class:J(v(h)),role:"tablist","aria-multiselectable":"true"},[yt(g.$slots,"default")],2))}});var Dle=Ht(Ble,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const kle=Ge({name:"ElCollapseTransition"}),Lle=Ge({...kle,setup(t){const n=Ct("collapse-transition"),i={beforeEnter(o){o.dataset||(o.dataset={}),o.dataset.oldPaddingTop=o.style.paddingTop,o.dataset.oldPaddingBottom=o.style.paddingBottom,o.style.maxHeight=0,o.style.paddingTop=0,o.style.paddingBottom=0},enter(o){o.dataset.oldOverflow=o.style.overflow,o.scrollHeight!==0?(o.style.maxHeight=`${o.scrollHeight}px`,o.style.paddingTop=o.dataset.oldPaddingTop,o.style.paddingBottom=o.dataset.oldPaddingBottom):(o.style.maxHeight=0,o.style.paddingTop=o.dataset.oldPaddingTop,o.style.paddingBottom=o.dataset.oldPaddingBottom),o.style.overflow="hidden"},afterEnter(o){o.style.maxHeight="",o.style.overflow=o.dataset.oldOverflow},beforeLeave(o){o.dataset||(o.dataset={}),o.dataset.oldPaddingTop=o.style.paddingTop,o.dataset.oldPaddingBottom=o.style.paddingBottom,o.dataset.oldOverflow=o.style.overflow,o.style.maxHeight=`${o.scrollHeight}px`,o.style.overflow="hidden"},leave(o){o.scrollHeight!==0&&(o.style.maxHeight=0,o.style.paddingTop=0,o.style.paddingBottom=0)},afterLeave(o){o.style.maxHeight="",o.style.overflow=o.dataset.oldOverflow,o.style.paddingTop=o.dataset.oldPaddingTop,o.style.paddingBottom=o.dataset.oldPaddingBottom}};return(o,l)=>($(),rt(Si,ir({name:v(n).b()},SH(i)),{default:Ue(()=>[yt(o.$slots,"default")]),_:3},16,["name"]))}});var Ov=Ht(Lle,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);Ov.install=t=>{t.component(Ov.name,Ov)};const sA=Ov,Ole=sA,Fle=$t({title:{type:String,default:""},name:{type:nt([String,Number]),default:()=>ym()},disabled:Boolean}),Vle=t=>{const n=hn(ZN),i=re(!1),o=re(!1),l=re(ym()),d=K(()=>n==null?void 0:n.activeNames.value.includes(t.name));return{focusing:i,id:l,isActive:d,handleFocus:()=>{setTimeout(()=>{o.value?o.value=!1:i.value=!0},50)},handleHeaderClick:()=>{t.disabled||(n==null||n.handleItemClick(t.name),i.value=!1,o.value=!0)},handleEnterClick:()=>{n==null||n.handleItemClick(t.name)}}},Gle=(t,{focusing:n,isActive:i,id:o})=>{const l=Ct("collapse"),d=K(()=>[l.b("item"),l.is("active",v(i)),l.is("disabled",t.disabled)]),h=K(()=>[l.be("item","header"),l.is("active",v(i)),{focusing:v(n)&&!t.disabled}]),g=K(()=>[l.be("item","arrow"),l.is("active",v(i))]),y=K(()=>l.be("item","wrap")),b=K(()=>l.be("item","content")),C=K(()=>l.b(`content-${v(o)}`)),E=K(()=>l.b(`head-${v(o)}`));return{arrowKls:g,headKls:h,rootKls:d,itemWrapperKls:y,itemContentKls:b,scopedContentId:C,scopedHeadId:E}},Ule=["aria-expanded","aria-controls","aria-describedby"],zle=["id","tabindex"],Hle=["id","aria-hidden","aria-labelledby"],Qle=Ge({name:"ElCollapseItem"}),Xle=Ge({...Qle,props:Fle,setup(t,{expose:n}){const i=t,{focusing:o,id:l,isActive:d,handleFocus:h,handleHeaderClick:g,handleEnterClick:y}=Vle(i),{arrowKls:b,headKls:C,rootKls:E,itemWrapperKls:I,itemContentKls:M,scopedContentId:T,scopedHeadId:R}=Gle(i,{focusing:o,isActive:d,id:l});return n({isActive:d}),(N,D)=>($(),_e("div",{class:J(v(E))},[Ie("div",{role:"tab","aria-expanded":v(d),"aria-controls":v(T),"aria-describedby":v(T)},[Ie("div",{id:v(R),class:J(v(C)),role:"button",tabindex:N.disabled?-1:0,onClick:D[0]||(D[0]=(...V)=>v(g)&&v(g)(...V)),onKeypress:D[1]||(D[1]=pr(Dn((...V)=>v(y)&&v(y)(...V),["stop","prevent"]),["space","enter"])),onFocus:D[2]||(D[2]=(...V)=>v(h)&&v(h)(...V)),onBlur:D[3]||(D[3]=V=>o.value=!1)},[yt(N.$slots,"title",{},()=>[mr(Xt(N.title),1)]),Re(v(un),{class:J(v(b))},{default:Ue(()=>[Re(v(Ts))]),_:1},8,["class"])],42,zle)],8,Ule),Re(v(sA),null,{default:Ue(()=>[zn(Ie("div",{id:v(T),class:J(v(I)),role:"tabpanel","aria-hidden":!v(d),"aria-labelledby":v(R)},[Ie("div",{class:J(v(M))},[yt(N.$slots,"default")],2)],10,Hle),[[yr,v(d)]])]),_:3})],2))}});var LB=Ht(Xle,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const $le=er(Dle,{CollapseItem:LB}),Wle=pi(LB);let yb=!1;function em(t,n){if(!fr)return;const i=function(d){var h;(h=n.drag)==null||h.call(n,d)},o=function(d){var h;document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",i),document.removeEventListener("touchend",o),document.onselectstart=null,document.ondragstart=null,yb=!1,(h=n.end)==null||h.call(n,d)},l=function(d){var h;yb||(d.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",i),document.addEventListener("mouseup",o),document.addEventListener("touchmove",i),document.addEventListener("touchend",o),yb=!0,(h=n.start)==null||h.call(n,d))};t.addEventListener("mousedown",l),t.addEventListener("touchstart",l)}const Kle=Ge({name:"ElColorAlphaSlider",props:{color:{type:Object,required:!0},vertical:{type:Boolean,default:!1}},setup(t){const n=Ct("color-alpha-slider"),i=Zn(),o=qr(),l=qr(),d=re(0),h=re(0),g=re();It(()=>t.color.get("alpha"),()=>{M()}),It(()=>t.color.value,()=>{M()});function y(){if(!o.value||t.vertical)return 0;const T=i.vnode.el,R=t.color.get("alpha");return T?Math.round(R*(T.offsetWidth-o.value.offsetWidth/2)/100):0}function b(){if(!o.value)return 0;const T=i.vnode.el;if(!t.vertical)return 0;const R=t.color.get("alpha");return T?Math.round(R*(T.offsetHeight-o.value.offsetHeight/2)/100):0}function C(){if(t.color&&t.color.value){const{r:T,g:R,b:N}=t.color.toRgb();return`linear-gradient(to right, rgba(${T}, ${R}, ${N}, 0) 0%, rgba(${T}, ${R}, ${N}, 1) 100%)`}return""}function E(T){T.target!==o.value&&I(T)}function I(T){if(!l.value||!o.value)return;const N=i.vnode.el.getBoundingClientRect(),{clientX:D,clientY:V}=XS(T);if(t.vertical){let B=V-N.top;B=Math.max(o.value.offsetHeight/2,B),B=Math.min(B,N.height-o.value.offsetHeight/2),t.color.set("alpha",Math.round((B-o.value.offsetHeight/2)/(N.height-o.value.offsetHeight)*100))}else{let B=D-N.left;B=Math.max(o.value.offsetWidth/2,B),B=Math.min(B,N.width-o.value.offsetWidth/2),t.color.set("alpha",Math.round((B-o.value.offsetWidth/2)/(N.width-o.value.offsetWidth)*100))}}function M(){d.value=y(),h.value=b(),g.value=C()}return jn(()=>{if(!l.value||!o.value)return;const T={drag:R=>{I(R)},end:R=>{I(R)}};em(l.value,T),em(o.value,T),M()}),{thumb:o,bar:l,thumbLeft:d,thumbTop:h,background:g,handleClick:E,update:M,ns:n}}});function jle(t,n,i,o,l,d){return $(),_e("div",{class:J([t.ns.b(),t.ns.is("vertical",t.vertical)])},[Ie("div",{ref:"bar",class:J(t.ns.e("bar")),style:fn({background:t.background}),onClick:n[0]||(n[0]=(...h)=>t.handleClick&&t.handleClick(...h))},null,6),Ie("div",{ref:"thumb",class:J(t.ns.e("thumb")),style:fn({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var qle=Ht(Kle,[["render",jle],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const Yle=Ge({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const n=Ct("color-hue-slider"),i=Zn(),o=re(),l=re(),d=re(0),h=re(0),g=K(()=>t.color.get("hue"));It(()=>g.value,()=>{I()});function y(M){M.target!==o.value&&b(M)}function b(M){if(!l.value||!o.value)return;const R=i.vnode.el.getBoundingClientRect(),{clientX:N,clientY:D}=XS(M);let V;if(t.vertical){let B=D-R.top;B=Math.min(B,R.height-o.value.offsetHeight/2),B=Math.max(o.value.offsetHeight/2,B),V=Math.round((B-o.value.offsetHeight/2)/(R.height-o.value.offsetHeight)*360)}else{let B=N-R.left;B=Math.min(B,R.width-o.value.offsetWidth/2),B=Math.max(o.value.offsetWidth/2,B),V=Math.round((B-o.value.offsetWidth/2)/(R.width-o.value.offsetWidth)*360)}t.color.set("hue",V)}function C(){if(!o.value)return 0;const M=i.vnode.el;if(t.vertical)return 0;const T=t.color.get("hue");return M?Math.round(T*(M.offsetWidth-o.value.offsetWidth/2)/360):0}function E(){if(!o.value)return 0;const M=i.vnode.el;if(!t.vertical)return 0;const T=t.color.get("hue");return M?Math.round(T*(M.offsetHeight-o.value.offsetHeight/2)/360):0}function I(){d.value=C(),h.value=E()}return jn(()=>{if(!l.value||!o.value)return;const M={drag:T=>{b(T)},end:T=>{b(T)}};em(l.value,M),em(o.value,M),I()}),{bar:l,thumb:o,thumbLeft:d,thumbTop:h,hueValue:g,handleClick:y,update:I,ns:n}}});function Jle(t,n,i,o,l,d){return $(),_e("div",{class:J([t.ns.b(),t.ns.is("vertical",t.vertical)])},[Ie("div",{ref:"bar",class:J(t.ns.e("bar")),onClick:n[0]||(n[0]=(...h)=>t.handleClick&&t.handleClick(...h))},null,2),Ie("div",{ref:"thumb",class:J(t.ns.e("thumb")),style:fn({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var Zle=Ht(Yle,[["render",Jle],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const ece=$t({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Qs,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:nt(Array)},validateEvent:{type:Boolean,default:!0}}),tce={[Jn]:t=>On(t)||rs(t),[Zr]:t=>On(t)||rs(t),activeChange:t=>On(t)||rs(t)},OB=Symbol("colorPickerContextKey"),XR=function(t,n,i){return[t,n*i/((t=(2-n)*i)<1?t:2-t)||0,t/2]},nce=function(t){return typeof t=="string"&&t.includes(".")&&Number.parseFloat(t)===1},rce=function(t){return typeof t=="string"&&t.includes("%")},_f=function(t,n){nce(t)&&(t="100%");const i=rce(t);return t=Math.min(n,Math.max(0,Number.parseFloat(`${t}`))),i&&(t=Number.parseInt(`${t*n}`,10)/100),Math.abs(t-n)<1e-6?1:t%n/Number.parseFloat(n)},$R={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Fv=t=>{t=Math.min(Math.round(t),255);const n=Math.floor(t/16),i=t%16;return`${$R[n]||n}${$R[i]||i}`},WR=function({r:t,g:n,b:i}){return Number.isNaN(+t)||Number.isNaN(+n)||Number.isNaN(+i)?"":`#${Fv(t)}${Fv(n)}${Fv(i)}`},bb={A:10,B:11,C:12,D:13,E:14,F:15},Au=function(t){return t.length===2?(bb[t[0].toUpperCase()]||+t[0])*16+(bb[t[1].toUpperCase()]||+t[1]):bb[t[1].toUpperCase()]||+t[1]},ice=function(t,n,i){n=n/100,i=i/100;let o=n;const l=Math.max(i,.01);i*=2,n*=i<=1?i:2-i,o*=l<=1?l:2-l;const d=(i+n)/2,h=i===0?2*o/(l+o):2*n/(i+n);return{h:t,s:h*100,v:d*100}},KR=(t,n,i)=>{t=_f(t,255),n=_f(n,255),i=_f(i,255);const o=Math.max(t,n,i),l=Math.min(t,n,i);let d;const h=o,g=o-l,y=o===0?0:g/o;if(o===l)d=0;else{switch(o){case t:{d=(n-i)/g+(n<i?6:0);break}case n:{d=(i-t)/g+2;break}case i:{d=(t-n)/g+4;break}}d/=6}return{h:d*360,s:y*100,v:h*100}},fp=function(t,n,i){t=_f(t,360)*6,n=_f(n,100),i=_f(i,100);const o=Math.floor(t),l=t-o,d=i*(1-n),h=i*(1-l*n),g=i*(1-(1-l)*n),y=o%6,b=[i,h,d,d,g,i][y],C=[g,i,i,h,d,d][y],E=[d,d,g,i,i,h][y];return{r:Math.round(b*255),g:Math.round(C*255),b:Math.round(E*255)}};class Tp{constructor(n={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const i in n)cr(n,i)&&(this[i]=n[i]);n.value?this.fromString(n.value):this.doOnChange()}set(n,i){if(arguments.length===1&&typeof n=="object"){for(const o in n)cr(n,o)&&this.set(o,n[o]);return}this[`_${n}`]=i,this.doOnChange()}get(n){return n==="alpha"?Math.floor(this[`_${n}`]):this[`_${n}`]}toRgb(){return fp(this._hue,this._saturation,this._value)}fromString(n){if(!n){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const i=(o,l,d)=>{this._hue=Math.max(0,Math.min(360,o)),this._saturation=Math.max(0,Math.min(100,l)),this._value=Math.max(0,Math.min(100,d)),this.doOnChange()};if(n.includes("hsl")){const o=n.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(l=>l!=="").map((l,d)=>d>2?Number.parseFloat(l):Number.parseInt(l,10));if(o.length===4?this._alpha=Number.parseFloat(o[3])*100:o.length===3&&(this._alpha=100),o.length>=3){const{h:l,s:d,v:h}=ice(o[0],o[1],o[2]);i(l,d,h)}}else if(n.includes("hsv")){const o=n.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(l=>l!=="").map((l,d)=>d>2?Number.parseFloat(l):Number.parseInt(l,10));o.length===4?this._alpha=Number.parseFloat(o[3])*100:o.length===3&&(this._alpha=100),o.length>=3&&i(o[0],o[1],o[2])}else if(n.includes("rgb")){const o=n.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(l=>l!=="").map((l,d)=>d>2?Number.parseFloat(l):Number.parseInt(l,10));if(o.length===4?this._alpha=Number.parseFloat(o[3])*100:o.length===3&&(this._alpha=100),o.length>=3){const{h:l,s:d,v:h}=KR(o[0],o[1],o[2]);i(l,d,h)}}else if(n.includes("#")){const o=n.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(o))return;let l,d,h;o.length===3?(l=Au(o[0]+o[0]),d=Au(o[1]+o[1]),h=Au(o[2]+o[2])):(o.length===6||o.length===8)&&(l=Au(o.slice(0,2)),d=Au(o.slice(2,4)),h=Au(o.slice(4,6))),o.length===8?this._alpha=Au(o.slice(6))/255*100:(o.length===3||o.length===6)&&(this._alpha=100);const{h:g,s:y,v:b}=KR(l,d,h);i(g,y,b)}}compare(n){return Math.abs(n._hue-this._hue)<2&&Math.abs(n._saturation-this._saturation)<1&&Math.abs(n._value-this._value)<1&&Math.abs(n._alpha-this._alpha)<1}doOnChange(){const{_hue:n,_saturation:i,_value:o,_alpha:l,format:d}=this;if(this.enableAlpha)switch(d){case"hsl":{const h=XR(n,i/100,o/100);this.value=`hsla(${n}, ${Math.round(h[1]*100)}%, ${Math.round(h[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${n}, ${Math.round(i)}%, ${Math.round(o)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${WR(fp(n,i,o))}${Fv(l*255/100)}`;break}default:{const{r:h,g,b:y}=fp(n,i,o);this.value=`rgba(${h}, ${g}, ${y}, ${this.get("alpha")/100})`}}else switch(d){case"hsl":{const h=XR(n,i/100,o/100);this.value=`hsl(${n}, ${Math.round(h[1]*100)}%, ${Math.round(h[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${n}, ${Math.round(i)}%, ${Math.round(o)}%)`;break}case"rgb":{const{r:h,g,b:y}=fp(n,i,o);this.value=`rgb(${h}, ${g}, ${y})`;break}default:this.value=WR(fp(n,i,o))}}}const sce=Ge({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(t){const n=Ct("color-predefine"),{currentColor:i}=hn(OB),o=re(d(t.colors,t.color));It(()=>i.value,h=>{const g=new Tp;g.fromString(h),o.value.forEach(y=>{y.selected=g.compare(y)})}),_s(()=>{o.value=d(t.colors,t.color)});function l(h){t.color.fromString(t.colors[h])}function d(h,g){return h.map(y=>{const b=new Tp;return b.enableAlpha=!0,b.format="rgba",b.fromString(y),b.selected=b.value===g.value,b})}return{rgbaColors:o,handleSelect:l,ns:n}}}),oce=["onClick"];function ace(t,n,i,o,l,d){return $(),_e("div",{class:J(t.ns.b())},[Ie("div",{class:J(t.ns.e("colors"))},[($(!0),_e(gn,null,ur(t.rgbaColors,(h,g)=>($(),_e("div",{key:t.colors[g],class:J([t.ns.e("color-selector"),t.ns.is("alpha",h._alpha<100),{selected:h.selected}]),onClick:y=>t.handleSelect(g)},[Ie("div",{style:fn({backgroundColor:h.value})},null,4)],10,oce))),128))],2)],2)}var lce=Ht(sce,[["render",ace],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const cce=Ge({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const n=Ct("color-svpanel"),i=Zn(),o=re(0),l=re(0),d=re("hsl(0, 100%, 50%)"),h=K(()=>{const b=t.color.get("hue"),C=t.color.get("value");return{hue:b,value:C}});function g(){const b=t.color.get("saturation"),C=t.color.get("value"),E=i.vnode.el,{clientWidth:I,clientHeight:M}=E;l.value=b*I/100,o.value=(100-C)*M/100,d.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function y(b){const E=i.vnode.el.getBoundingClientRect(),{clientX:I,clientY:M}=XS(b);let T=I-E.left,R=M-E.top;T=Math.max(0,T),T=Math.min(T,E.width),R=Math.max(0,R),R=Math.min(R,E.height),l.value=T,o.value=R,t.color.set({saturation:T/E.width*100,value:100-R/E.height*100})}return It(()=>h.value,()=>{g()}),jn(()=>{em(i.vnode.el,{drag:b=>{y(b)},end:b=>{y(b)}}),g()}),{cursorTop:o,cursorLeft:l,background:d,colorValue:h,handleDrag:y,update:g,ns:n}}}),uce=Ie("div",null,null,-1),dce=[uce];function fce(t,n,i,o,l,d){return $(),_e("div",{class:J(t.ns.b()),style:fn({backgroundColor:t.background})},[Ie("div",{class:J(t.ns.e("white"))},null,2),Ie("div",{class:J(t.ns.e("black"))},null,2),Ie("div",{class:J(t.ns.e("cursor")),style:fn({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},dce,6)],6)}var hce=Ht(cce,[["render",fce],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const pce=["id","aria-label","aria-labelledby","aria-description","tabindex","onKeydown"],mce=Ge({name:"ElColorPicker"}),gce=Ge({...mce,props:ece,emits:tce,setup(t,{expose:n,emit:i}){const o=t,{t:l}=Sr(),d=Ct("color"),{formItem:h}=Bs(),g=Mi(),y=wa(),{inputId:b,isLabeledByFormItem:C}=Vc(o,{formItemContext:h}),E=re(),I=re(),M=re(),T=re();let R=!0;const N=Mr(new Tp({enableAlpha:o.showAlpha,format:o.colorFormat||"",value:o.modelValue})),D=re(!1),V=re(!1),B=re(""),z=K(()=>!o.modelValue&&!V.value?"transparent":ne(N,o.showAlpha)),H=K(()=>!o.modelValue&&!V.value?"":N.value),q=K(()=>C.value?void 0:o.label||l("el.colorpicker.defaultLabel")),he=K(()=>C.value?h==null?void 0:h.labelId:void 0);function ne(ie,fe){if(!(ie instanceof Tp))throw new TypeError("color should be instance of _color Class");const{r:le,g:Oe,b:Qe}=ie.toRgb();return fe?`rgba(${le}, ${Oe}, ${Qe}, ${ie.get("alpha")/100})`:`rgb(${le}, ${Oe}, ${Qe})`}function se(ie){D.value=ie}const oe=Ns(se,100);function xe(){oe(!1),me()}function me(){dn(()=>{o.modelValue?N.fromString(o.modelValue):(N.value="",dn(()=>{V.value=!1}))})}function ce(){y.value||oe(!D.value)}function Ae(){N.fromString(B.value)}function Se(){const ie=N.value;i(Jn,ie),i("change",ie),o.validateEvent&&(h==null||h.validate("change").catch(fe=>void 0)),oe(!1),dn(()=>{const fe=new Tp({enableAlpha:o.showAlpha,format:o.colorFormat||"",value:o.modelValue});N.compare(fe)||me()})}function ye(){oe(!1),i(Jn,null),i("change",null),o.modelValue!==null&&o.validateEvent&&(h==null||h.validate("change").catch(ie=>void 0)),me()}return jn(()=>{o.modelValue&&(B.value=H.value)}),It(()=>o.modelValue,ie=>{ie?ie&&ie!==N.value&&(R=!1,N.fromString(ie)):V.value=!1}),It(()=>H.value,ie=>{B.value=ie,R&&i("activeChange",ie),R=!0}),It(()=>N.value,()=>{!o.modelValue&&!V.value&&(V.value=!0)}),It(()=>D.value,()=>{dn(()=>{var ie,fe,le;(ie=E.value)==null||ie.update(),(fe=I.value)==null||fe.update(),(le=M.value)==null||le.update()})}),or(OB,{currentColor:H}),n({color:N}),(ie,fe)=>($(),rt(v(Xs),{ref_key:"popper",ref:T,visible:D.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[v(d).be("picker","panel"),v(d).b("dropdown"),ie.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${v(d).namespace.value}-zoom-in-top`,persistent:""},{content:Ue(()=>[zn(($(),_e("div",null,[Ie("div",{class:J(v(d).be("dropdown","main-wrapper"))},[Re(Zle,{ref_key:"hue",ref:E,class:"hue-slider",color:v(N),vertical:""},null,8,["color"]),Re(hce,{ref:"svPanel",color:v(N)},null,8,["color"])],2),ie.showAlpha?($(),rt(qle,{key:0,ref_key:"alpha",ref:M,color:v(N)},null,8,["color"])):Ze("v-if",!0),ie.predefine?($(),rt(lce,{key:1,ref:"predefine",color:v(N),colors:ie.predefine},null,8,["color","colors"])):Ze("v-if",!0),Ie("div",{class:J(v(d).be("dropdown","btns"))},[Ie("span",{class:J(v(d).be("dropdown","value"))},[Re(v(vs),{modelValue:B.value,"onUpdate:modelValue":fe[0]||(fe[0]=le=>B.value=le),"validate-event":!1,size:"small",onKeyup:pr(Ae,["enter"]),onBlur:Ae},null,8,["modelValue","onKeyup"])],2),Re(v(fs),{class:J(v(d).be("dropdown","link-btn")),text:"",size:"small",onClick:ye},{default:Ue(()=>[mr(Xt(v(l)("el.colorpicker.clear")),1)]),_:1},8,["class"]),Re(v(fs),{plain:"",size:"small",class:J(v(d).be("dropdown","btn")),onClick:Se},{default:Ue(()=>[mr(Xt(v(l)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)])),[[v(Pc),xe]])]),default:Ue(()=>[Ie("div",{id:v(b),class:J([v(d).b("picker"),v(d).is("disabled",v(y)),v(d).bm("picker",v(g))]),role:"button","aria-label":v(q),"aria-labelledby":v(he),"aria-description":v(l)("el.colorpicker.description",{color:ie.modelValue||""}),tabindex:ie.tabindex,onKeydown:pr(ce,["enter"])},[v(y)?($(),_e("div",{key:0,class:J(v(d).be("picker","mask"))},null,2)):Ze("v-if",!0),Ie("div",{class:J(v(d).be("picker","trigger")),onClick:ce},[Ie("span",{class:J([v(d).be("picker","color"),v(d).is("alpha",ie.showAlpha)])},[Ie("span",{class:J(v(d).be("picker","color-inner")),style:fn({backgroundColor:v(z)})},[zn(Re(v(un),{class:J([v(d).be("picker","icon"),v(d).is("icon-arrow-down")])},{default:Ue(()=>[Re(v(kc))]),_:1},8,["class"]),[[yr,ie.modelValue||V.value]]),!ie.modelValue&&!V.value?($(),rt(v(un),{key:0,class:J([v(d).be("picker","empty"),v(d).is("icon-close")])},{default:Ue(()=>[Re(v(ga))]),_:1},8,["class"])):Ze("v-if",!0)],6)],2)],2)],42,pce)]),_:1},8,["visible","popper-class","transition"]))}});var vce=Ht(gce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);const _ce=er(vce),y1={},Ace=$t({a11y:{type:Boolean,default:!0},locale:{type:nt(Object)},size:Qs,button:{type:nt(Object)},experimentalFeatures:{type:nt(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:nt(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),yce=Ge({name:"ElConfigProvider",props:Ace,setup(t,{slots:n}){It(()=>t.message,o=>{Object.assign(y1,o!=null?o:{})},{immediate:!0,deep:!0});const i=d3(t);return()=>yt(n,"default",{config:i==null?void 0:i.value})}}),bce=er(yce),Sce=Ge({name:"ElContainer"}),wce=Ge({...Sce,props:{direction:{type:String}},setup(t){const n=t,i=ss(),o=Ct("container"),l=K(()=>n.direction==="vertical"?!0:n.direction==="horizontal"?!1:i&&i.default?i.default().some(h=>{const g=h.type.name;return g==="ElHeader"||g==="ElFooter"}):!1);return(d,h)=>($(),_e("section",{class:J([v(o).b(),v(o).is("vertical",v(l))])},[yt(d.$slots,"default")],2))}});var Ece=Ht(wce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const Cce=Ge({name:"ElAside"}),Ice=Ge({...Cce,props:{width:{type:String,default:null}},setup(t){const n=t,i=Ct("aside"),o=K(()=>n.width?i.cssVarBlock({width:n.width}):{});return(l,d)=>($(),_e("aside",{class:J(v(i).b()),style:fn(v(o))},[yt(l.$slots,"default")],6))}});var FB=Ht(Ice,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const xce=Ge({name:"ElFooter"}),Mce=Ge({...xce,props:{height:{type:String,default:null}},setup(t){const n=t,i=Ct("footer"),o=K(()=>n.height?i.cssVarBlock({height:n.height}):{});return(l,d)=>($(),_e("footer",{class:J(v(i).b()),style:fn(v(o))},[yt(l.$slots,"default")],6))}});var VB=Ht(Mce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const Rce=Ge({name:"ElHeader"}),Tce=Ge({...Rce,props:{height:{type:String,default:null}},setup(t){const n=t,i=Ct("header"),o=K(()=>n.height?i.cssVarBlock({height:n.height}):{});return(l,d)=>($(),_e("header",{class:J(v(i).b()),style:fn(v(o))},[yt(l.$slots,"default")],6))}});var GB=Ht(Tce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const Pce=Ge({name:"ElMain"}),Nce=Ge({...Pce,setup(t){const n=Ct("main");return(i,o)=>($(),_e("main",{class:J(v(n).b())},[yt(i.$slots,"default")],2))}});var UB=Ht(Nce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const Bce=er(Ece,{Aside:FB,Footer:VB,Header:GB,Main:UB}),Dce=pi(FB),kce=pi(VB),Lce=pi(GB),Oce=pi(UB);var zB={exports:{}};(function(t,n){(function(i,o){t.exports=o()})(ls,function(){return function(i,o){var l=o.prototype,d=l.format;l.format=function(h){var g=this,y=this.$locale();if(!this.isValid())return d.bind(this)(h);var b=this.$utils(),C=(h||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(E){switch(E){case"Q":return Math.ceil((g.$M+1)/3);case"Do":return y.ordinal(g.$D);case"gggg":return g.weekYear();case"GGGG":return g.isoWeekYear();case"wo":return y.ordinal(g.week(),"W");case"w":case"ww":return b.s(g.week(),E==="w"?1:2,"0");case"W":case"WW":return b.s(g.isoWeek(),E==="W"?1:2,"0");case"k":case"kk":return b.s(String(g.$H===0?24:g.$H),E==="k"?1:2,"0");case"X":return Math.floor(g.$d.getTime()/1e3);case"x":return g.$d.getTime();case"z":return"["+g.offsetName()+"]";case"zzz":return"["+g.offsetName("long")+"]";default:return E}});return d.bind(this)(C)}}})})(zB);const Fce=zB.exports;var HB={exports:{}};(function(t,n){(function(i,o){t.exports=o()})(ls,function(){var i="week",o="year";return function(l,d,h){var g=d.prototype;g.week=function(y){if(y===void 0&&(y=null),y!==null)return this.add(7*(y-this.week()),"day");var b=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var C=h(this).startOf(o).add(1,o).date(b),E=h(this).endOf(i);if(C.isBefore(E))return 1}var I=h(this).startOf(o).date(b).startOf(i).subtract(1,"millisecond"),M=this.diff(I,i,!0);return M<0?h(this).startOf("week").week():Math.ceil(M)},g.weeks=function(y){return y===void 0&&(y=null),this.week(y)}}})})(HB);const Vce=HB.exports;var QB={exports:{}};(function(t,n){(function(i,o){t.exports=o()})(ls,function(){return function(i,o){o.prototype.weekYear=function(){var l=this.month(),d=this.week(),h=this.year();return d===1&&l===11?h+1:l===0&&d>=52?h-1:h}}})})(QB);const Gce=QB.exports;var XB={exports:{}};(function(t,n){(function(i,o){t.exports=o()})(ls,function(){return function(i,o,l){o.prototype.dayOfYear=function(d){var h=Math.round((l(this).startOf("day")-l(this).startOf("year"))/864e5)+1;return d==null?h:this.add(d-h,"day")}}})})(XB);const Uce=XB.exports;var $B={exports:{}};(function(t,n){(function(i,o){t.exports=o()})(ls,function(){return function(i,o){o.prototype.isSameOrAfter=function(l,d){return this.isSame(l,d)||this.isAfter(l,d)}}})})($B);const zce=$B.exports;var WB={exports:{}};(function(t,n){(function(i,o){t.exports=o()})(ls,function(){return function(i,o){o.prototype.isSameOrBefore=function(l,d){return this.isSame(l,d)||this.isBefore(l,d)}}})})(WB);const Hce=WB.exports,Qce=$t({type:{type:nt(String),default:"date"}}),Xce=["date","dates","year","month","week","range"],bw=$t({disabledDate:{type:nt(Function)},date:{type:nt(Object),required:!0},minDate:{type:nt(Object)},maxDate:{type:nt(Object)},parsedValue:{type:nt([Object,Array])},rangeState:{type:nt(Object),default:()=>({endDate:null,selecting:!1})}}),KB=$t({type:{type:nt(String),required:!0,values:$ee}}),jB=$t({unlinkPanels:Boolean,parsedValue:{type:nt(Array)}}),qB=t=>({type:String,values:Xce,default:t}),$ce=$t({...KB,parsedValue:{type:nt([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Wce=$t({...bw,cellClassName:{type:nt(Function)},showWeekNumber:Boolean,selectionMode:qB("date")}),b1=t=>{if(!on(t))return!1;const[n,i]=t;return Kn.isDayjs(n)&&Kn.isDayjs(i)&&n.isSameOrBefore(i)},YB=(t,{lang:n,unit:i,unlinkPanels:o})=>{let l;if(on(t)){let[d,h]=t.map(g=>Kn(g).locale(n));return o||(h=d.add(1,i)),[d,h]}else t?l=Kn(t):l=Kn();return l=l.locale(n),[l,l.add(1,i)]},Kce=(t,n,{columnIndexOffset:i,startDate:o,nextEndDate:l,now:d,unit:h,relativeDateGetter:g,setCellMetadata:y,setRowMetadata:b})=>{for(let C=0;C<t.row;C++){const E=n[C];for(let I=0;I<t.column;I++){let M=E[I+i];M||(M={row:C,column:I,type:"normal",inRange:!1,start:!1,end:!1});const T=C*t.column+I,R=g(T);M.dayjs=R,M.date=R.toDate(),M.timestamp=R.valueOf(),M.type="normal",M.inRange=!!(o&&R.isSameOrAfter(o,h)&&l&&R.isSameOrBefore(l,h))||!!(o&&R.isSameOrBefore(o,h)&&l&&R.isSameOrAfter(l,h)),o!=null&&o.isSameOrAfter(l)?(M.start=!!l&&R.isSame(l,h),M.end=o&&R.isSame(o,h)):(M.start=!!o&&R.isSame(o,h),M.end=!!l&&R.isSame(l,h)),R.isSame(d,h)&&(M.type="today"),y==null||y(M,{rowIndex:C,columnIndex:I}),E[I+i]=M}b==null||b(E)}},jce=$t({cell:{type:nt(Object)}});var qce=Ge({name:"ElDatePickerCell",props:jce,setup(t){const n=Ct("date-table-cell"),{slots:i}=hn(ZS);return()=>{const{cell:o}=t;if(i.default){const l=i.default(o).filter(d=>d.patchFlag!==-2&&d.type.toString()!=="Symbol(Comment)");if(l.length)return l}return Re("div",{class:n.b()},[Re("span",{class:n.e("text")},[o==null?void 0:o.text])])}}});const Yce=["aria-label"],Jce={key:0,scope:"col"},Zce=["aria-label"],eue=["aria-current","aria-selected","tabindex"],tue=Ge({__name:"basic-date-table",props:Wce,emits:["changerange","pick","select"],setup(t,{expose:n,emit:i}){const o=t,l=Ct("date-table"),{t:d,lang:h}=Sr(),g=re(),y=re(),b=re(),C=re(),E=re([[],[],[],[],[],[]]);let I=!1;const M=o.date.$locale().weekStart||7,T=o.date.locale("en").localeData().weekdaysShort().map(Pe=>Pe.toLowerCase()),R=K(()=>M>3?7-M:-M),N=K(()=>{const Pe=o.date.startOf("month");return Pe.subtract(Pe.day()||7,"day")}),D=K(()=>T.concat(T).slice(M,M+7)),V=K(()=>SN(ne.value).some(Pe=>Pe.isCurrent)),B=K(()=>{const Pe=o.date.startOf("month"),He=Pe.day()||7,bt=Pe.daysInMonth(),xt=Pe.subtract(1,"month").daysInMonth();return{startOfMonthDay:He,dateCountOfMonth:bt,dateCountOfLastMonth:xt}}),z=K(()=>o.selectionMode==="dates"?xl(o.parsedValue):[]),H=(Pe,{count:He,rowIndex:bt,columnIndex:xt})=>{const{startOfMonthDay:Nt,dateCountOfMonth:st,dateCountOfLastMonth:Ye}=v(B),ot=v(R);if(bt>=0&&bt<=1){const Et=Nt+ot<0?7+Nt+ot:Nt+ot;if(xt+bt*7>=Et)return Pe.text=He,!0;Pe.text=Ye-(Et-xt%7)+1+bt*7,Pe.type="prev-month"}else return He<=st?Pe.text=He:(Pe.text=He-st,Pe.type="next-month"),!0;return!1},q=(Pe,{columnIndex:He,rowIndex:bt},xt)=>{const{disabledDate:Nt,cellClassName:st}=o,Ye=v(z),ot=H(Pe,{count:xt,rowIndex:bt,columnIndex:He}),Et=Pe.dayjs.toDate();return Pe.selected=Ye.find(an=>an.valueOf()===Pe.dayjs.valueOf()),Pe.isSelected=!!Pe.selected,Pe.isCurrent=xe(Pe),Pe.disabled=Nt==null?void 0:Nt(Et),Pe.customClass=st==null?void 0:st(Et),ot},he=Pe=>{if(o.selectionMode==="week"){const[He,bt]=o.showWeekNumber?[1,7]:[0,6],xt=Qe(Pe[He+1]);Pe[He].inRange=xt,Pe[He].start=xt,Pe[bt].inRange=xt,Pe[bt].end=xt}},ne=K(()=>{const{minDate:Pe,maxDate:He,rangeState:bt,showWeekNumber:xt}=o,Nt=R.value,st=E.value,Ye="day";let ot=1;if(xt)for(let Et=0;Et<6;Et++)st[Et][0]||(st[Et][0]={type:"week",text:N.value.add(Et*7+1,Ye).week()});return Kce({row:6,column:7},st,{startDate:Pe,columnIndexOffset:xt?1:0,nextEndDate:bt.endDate||He||bt.selecting&&Pe||null,now:Kn().locale(v(h)).startOf(Ye),unit:Ye,relativeDateGetter:Et=>N.value.add(Et-Nt,Ye),setCellMetadata:(...Et)=>{q(...Et,ot)&&(ot+=1)},setRowMetadata:he}),st});It(()=>o.date,async()=>{var Pe,He;(Pe=g.value)!=null&&Pe.contains(document.activeElement)&&(await dn(),(He=y.value)==null||He.focus())});const se=async()=>{var Pe;(Pe=y.value)==null||Pe.focus()},oe=(Pe="")=>["normal","today"].includes(Pe),xe=Pe=>o.selectionMode==="date"&&oe(Pe.type)&&me(Pe,o.parsedValue),me=(Pe,He)=>He?Kn(He).locale(h.value).isSame(o.date.date(Number(Pe.text)),"day"):!1,ce=Pe=>{const He=[];return oe(Pe.type)&&!Pe.disabled?(He.push("available"),Pe.type==="today"&&He.push("today")):He.push(Pe.type),xe(Pe)&&He.push("current"),Pe.inRange&&(oe(Pe.type)||o.selectionMode==="week")&&(He.push("in-range"),Pe.start&&He.push("start-date"),Pe.end&&He.push("end-date")),Pe.disabled&&He.push("disabled"),Pe.selected&&He.push("selected"),Pe.customClass&&He.push(Pe.customClass),He.join(" ")},Ae=(Pe,He)=>{const bt=Pe*7+(He-(o.showWeekNumber?1:0))-R.value;return N.value.add(bt,"day")},Se=Pe=>{var He;if(!o.rangeState.selecting)return;let bt=Pe.target;if(bt.tagName==="SPAN"&&(bt=(He=bt.parentNode)==null?void 0:He.parentNode),bt.tagName==="DIV"&&(bt=bt.parentNode),bt.tagName!=="TD")return;const xt=bt.parentNode.rowIndex-1,Nt=bt.cellIndex;ne.value[xt][Nt].disabled||(xt!==b.value||Nt!==C.value)&&(b.value=xt,C.value=Nt,i("changerange",{selecting:!0,endDate:Ae(xt,Nt)}))},ye=Pe=>!V.value&&(Pe==null?void 0:Pe.text)===1&&Pe.type==="normal"||Pe.isCurrent,ie=Pe=>{I||V.value||o.selectionMode!=="date"||Oe(Pe,!0)},fe=Pe=>{!Pe.target.closest("td")||(I=!0)},le=Pe=>{!Pe.target.closest("td")||(I=!1)},Oe=(Pe,He=!1)=>{const bt=Pe.target.closest("td");if(!bt)return;const xt=bt.parentNode.rowIndex-1,Nt=bt.cellIndex,st=ne.value[xt][Nt];if(st.disabled||st.type==="week")return;const Ye=Ae(xt,Nt);if(o.selectionMode==="range")!o.rangeState.selecting||!o.minDate?(i("pick",{minDate:Ye,maxDate:null}),i("select",!0)):(Ye>=o.minDate?i("pick",{minDate:o.minDate,maxDate:Ye}):i("pick",{minDate:Ye,maxDate:o.minDate}),i("select",!1));else if(o.selectionMode==="date")i("pick",Ye,He);else if(o.selectionMode==="week"){const ot=Ye.week(),Et=`${Ye.year()}w${ot}`;i("pick",{year:Ye.year(),week:ot,value:Et,date:Ye.startOf("week")})}else if(o.selectionMode==="dates"){const ot=st.selected?xl(o.parsedValue).filter(Et=>(Et==null?void 0:Et.valueOf())!==Ye.valueOf()):xl(o.parsedValue).concat([Ye]);i("pick",ot)}},Qe=Pe=>{if(o.selectionMode!=="week")return!1;let He=o.date.startOf("day");if(Pe.type==="prev-month"&&(He=He.subtract(1,"month")),Pe.type==="next-month"&&(He=He.add(1,"month")),He=He.date(Number.parseInt(Pe.text,10)),o.parsedValue&&!Array.isArray(o.parsedValue)){const bt=(o.parsedValue.day()-M+7)%7-1;return o.parsedValue.subtract(bt,"day").isSame(He,"day")}return!1};return n({focus:se}),(Pe,He)=>($(),_e("table",{role:"grid","aria-label":v(d)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:J([v(l).b(),{"is-week-mode":Pe.selectionMode==="week"}]),onClick:Oe,onMousemove:Se,onMousedown:fe,onMouseup:le},[Ie("tbody",{ref_key:"tbodyRef",ref:g},[Ie("tr",null,[Pe.showWeekNumber?($(),_e("th",Jce,Xt(v(d)("el.datepicker.week")),1)):Ze("v-if",!0),($(!0),_e(gn,null,ur(v(D),(bt,xt)=>($(),_e("th",{key:xt,scope:"col","aria-label":v(d)("el.datepicker.weeksFull."+bt)},Xt(v(d)("el.datepicker.weeks."+bt)),9,Zce))),128))]),($(!0),_e(gn,null,ur(v(ne),(bt,xt)=>($(),_e("tr",{key:xt,class:J([v(l).e("row"),{current:Qe(bt[1])}])},[($(!0),_e(gn,null,ur(bt,(Nt,st)=>($(),_e("td",{key:`${xt}.${st}`,ref_for:!0,ref:Ye=>ye(Nt)&&(y.value=Ye),class:J(ce(Nt)),"aria-current":Nt.isCurrent?"date":void 0,"aria-selected":Nt.isCurrent,tabindex:ye(Nt)?0:-1,onFocus:ie},[Re(v(qce),{cell:Nt},null,8,["cell"])],42,eue))),128))],2))),128))],512)],42,Yce))}});var S1=Ht(tue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const nue=$t({...bw,selectionMode:qB("month")}),rue=["aria-label"],iue=["aria-selected","aria-label","tabindex","onKeydown"],sue={class:"cell"},oue=Ge({__name:"basic-month-table",props:nue,emits:["changerange","pick","select"],setup(t,{expose:n,emit:i}){const o=t,l=(z,H,q)=>{const he=Kn().locale(q).startOf("month").month(H).year(z),ne=he.daysInMonth();return Sc(ne).map(se=>he.add(se,"day").toDate())},d=Ct("month-table"),{t:h,lang:g}=Sr(),y=re(),b=re(),C=re(o.date.locale("en").localeData().monthsShort().map(z=>z.toLowerCase())),E=re([[],[],[]]),I=re(),M=re(),T=K(()=>{var z,H;const q=E.value,he=Kn().locale(g.value).startOf("month");for(let ne=0;ne<3;ne++){const se=q[ne];for(let oe=0;oe<4;oe++){const xe=se[oe]||(se[oe]={row:ne,column:oe,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});xe.type="normal";const me=ne*4+oe,ce=o.date.startOf("year").month(me),Ae=o.rangeState.endDate||o.maxDate||o.rangeState.selecting&&o.minDate||null;xe.inRange=!!(o.minDate&&ce.isSameOrAfter(o.minDate,"month")&&Ae&&ce.isSameOrBefore(Ae,"month"))||!!(o.minDate&&ce.isSameOrBefore(o.minDate,"month")&&Ae&&ce.isSameOrAfter(Ae,"month")),(z=o.minDate)!=null&&z.isSameOrAfter(Ae)?(xe.start=!!(Ae&&ce.isSame(Ae,"month")),xe.end=o.minDate&&ce.isSame(o.minDate,"month")):(xe.start=!!(o.minDate&&ce.isSame(o.minDate,"month")),xe.end=!!(Ae&&ce.isSame(Ae,"month"))),he.isSame(ce)&&(xe.type="today"),xe.text=me,xe.disabled=((H=o.disabledDate)==null?void 0:H.call(o,ce.toDate()))||!1}}return q}),R=()=>{var z;(z=b.value)==null||z.focus()},N=z=>{const H={},q=o.date.year(),he=new Date,ne=z.text;return H.disabled=o.disabledDate?l(q,ne,g.value).every(o.disabledDate):!1,H.current=xl(o.parsedValue).findIndex(se=>Kn.isDayjs(se)&&se.year()===q&&se.month()===ne)>=0,H.today=he.getFullYear()===q&&he.getMonth()===ne,z.inRange&&(H["in-range"]=!0,z.start&&(H["start-date"]=!0),z.end&&(H["end-date"]=!0)),H},D=z=>{const H=o.date.year(),q=z.text;return xl(o.date).findIndex(he=>he.year()===H&&he.month()===q)>=0},V=z=>{var H;if(!o.rangeState.selecting)return;let q=z.target;if(q.tagName==="A"&&(q=(H=q.parentNode)==null?void 0:H.parentNode),q.tagName==="DIV"&&(q=q.parentNode),q.tagName!=="TD")return;const he=q.parentNode.rowIndex,ne=q.cellIndex;T.value[he][ne].disabled||(he!==I.value||ne!==M.value)&&(I.value=he,M.value=ne,i("changerange",{selecting:!0,endDate:o.date.startOf("year").month(he*4+ne)}))},B=z=>{var H;const q=(H=z.target)==null?void 0:H.closest("td");if((q==null?void 0:q.tagName)!=="TD"||ma(q,"disabled"))return;const he=q.cellIndex,se=q.parentNode.rowIndex*4+he,oe=o.date.startOf("year").month(se);o.selectionMode==="range"?o.rangeState.selecting?(o.minDate&&oe>=o.minDate?i("pick",{minDate:o.minDate,maxDate:oe}):i("pick",{minDate:oe,maxDate:o.minDate}),i("select",!1)):(i("pick",{minDate:oe,maxDate:null}),i("select",!0)):i("pick",se)};return It(()=>o.date,async()=>{var z,H;(z=y.value)!=null&&z.contains(document.activeElement)&&(await dn(),(H=b.value)==null||H.focus())}),n({focus:R}),(z,H)=>($(),_e("table",{role:"grid","aria-label":v(h)("el.datepicker.monthTablePrompt"),class:J(v(d).b()),onClick:B,onMousemove:V},[Ie("tbody",{ref_key:"tbodyRef",ref:y},[($(!0),_e(gn,null,ur(v(T),(q,he)=>($(),_e("tr",{key:he},[($(!0),_e(gn,null,ur(q,(ne,se)=>($(),_e("td",{key:se,ref_for:!0,ref:oe=>D(ne)&&(b.value=oe),class:J(N(ne)),"aria-selected":`${D(ne)}`,"aria-label":v(h)(`el.datepicker.month${+ne.text+1}`),tabindex:D(ne)?0:-1,onKeydown:[pr(Dn(B,["prevent","stop"]),["space"]),pr(Dn(B,["prevent","stop"]),["enter"])]},[Ie("div",null,[Ie("span",sue,Xt(v(h)("el.datepicker.months."+C.value[ne.text])),1)])],42,iue))),128))]))),128))],512)],42,rue))}});var w1=Ht(oue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:aue,disabledDate:lue,parsedValue:cue}=bw,uue=$t({date:aue,disabledDate:lue,parsedValue:cue}),due=["aria-label"],fue=["aria-selected","tabindex","onKeydown"],hue={class:"cell"},pue={key:1},mue=Ge({__name:"basic-year-table",props:uue,emits:["pick"],setup(t,{expose:n,emit:i}){const o=t,l=(R,N)=>{const D=Kn(String(R)).locale(N).startOf("year"),B=D.endOf("year").dayOfYear();return Sc(B).map(z=>D.add(z,"day").toDate())},d=Ct("year-table"),{t:h,lang:g}=Sr(),y=re(),b=re(),C=K(()=>Math.floor(o.date.year()/10)*10),E=()=>{var R;(R=b.value)==null||R.focus()},I=R=>{const N={},D=Kn().locale(g.value);return N.disabled=o.disabledDate?l(R,g.value).every(o.disabledDate):!1,N.current=xl(o.parsedValue).findIndex(V=>V.year()===R)>=0,N.today=D.year()===R,N},M=R=>R===C.value&&o.date.year()<C.value&&o.date.year()>C.value+9||xl(o.date).findIndex(N=>N.year()===R)>=0,T=R=>{const D=R.target.closest("td");if(D&&D.textContent){if(ma(D,"disabled"))return;const V=D.textContent||D.innerText;i("pick",Number(V))}};return It(()=>o.date,async()=>{var R,N;(R=y.value)!=null&&R.contains(document.activeElement)&&(await dn(),(N=b.value)==null||N.focus())}),n({focus:E}),(R,N)=>($(),_e("table",{role:"grid","aria-label":v(h)("el.datepicker.yearTablePrompt"),class:J(v(d).b()),onClick:T},[Ie("tbody",{ref_key:"tbodyRef",ref:y},[($(),_e(gn,null,ur(3,(D,V)=>Ie("tr",{key:V},[($(),_e(gn,null,ur(4,(B,z)=>($(),_e(gn,{key:V+"_"+z},[V*4+z<10?($(),_e("td",{key:0,ref_for:!0,ref:H=>M(v(C)+V*4+z)&&(b.value=H),class:J(["available",I(v(C)+V*4+z)]),"aria-selected":`${M(v(C)+V*4+z)}`,tabindex:M(v(C)+V*4+z)?0:-1,onKeydown:[pr(Dn(T,["prevent","stop"]),["space"]),pr(Dn(T,["prevent","stop"]),["enter"])]},[Ie("span",hue,Xt(v(C)+V*4+z),1)],42,fue)):($(),_e("td",pue))],64))),64))])),64))],512)],10,due))}});var gue=Ht(mue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const vue=["onClick"],_ue=["aria-label"],Aue=["aria-label"],yue=["aria-label"],bue=["aria-label"],Sue=Ge({__name:"panel-date-pick",props:$ce,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:n}){const i=t,o=(pt,St,tn)=>!0,l=Ct("picker-panel"),d=Ct("date-picker"),h=pm(),g=ss(),{t:y,lang:b}=Sr(),C=hn("EP_PICKER_BASE"),E=hn(q_),{shortcuts:I,disabledDate:M,cellClassName:T,defaultTime:R,arrowControl:N}=C.props,D=ai(C.props,"defaultValue"),V=re(),B=re(Kn().locale(b.value)),z=K(()=>Kn(R).locale(b.value)),H=K(()=>B.value.month()),q=K(()=>B.value.year()),he=re([]),ne=re(null),se=re(null),oe=pt=>he.value.length>0?o(pt,he.value,i.format||"HH:mm:ss"):!0,xe=pt=>R&&!an.value?z.value.year(pt.year()).month(pt.month()).date(pt.date()):xt.value?pt.millisecond(0):pt.startOf("day"),me=(pt,...St)=>{if(!pt)n("pick",pt,...St);else if(on(pt)){const tn=pt.map(xe);n("pick",tn,...St)}else n("pick",xe(pt),...St);ne.value=null,se.value=null},ce=(pt,St)=>{if(le.value==="date"){pt=pt;let tn=i.parsedValue?i.parsedValue.year(pt.year()).month(pt.month()).date(pt.date()):pt;oe(tn)||(tn=he.value[0][0].year(pt.year()).month(pt.month()).date(pt.date())),B.value=tn,me(tn,xt.value||St)}else le.value==="week"?me(pt.date):le.value==="dates"&&me(pt,!0)},Ae=pt=>{const St=pt?"add":"subtract";B.value=B.value[St](1,"month"),Wn("month")},Se=pt=>{const St=B.value,tn=pt?"add":"subtract";B.value=ye.value==="year"?St[tn](10,"year"):St[tn](1,"year"),Wn("year")},ye=re("date"),ie=K(()=>{const pt=y("el.datepicker.year");if(ye.value==="year"){const St=Math.floor(q.value/10)*10;return pt?`${St} ${pt} - ${St+9} ${pt}`:`${St} - ${St+9}`}return`${q.value} ${pt}`}),fe=pt=>{const St=Nn(pt.value)?pt.value():pt.value;if(St){me(Kn(St).locale(b.value));return}pt.onClick&&pt.onClick({attrs:h,slots:g,emit:n})},le=K(()=>{const{type:pt}=i;return["week","month","year","dates"].includes(pt)?pt:"date"}),Oe=K(()=>le.value==="date"?ye.value:le.value),Qe=K(()=>!!I.length),Pe=async pt=>{B.value=B.value.startOf("month").month(pt),le.value==="month"?me(B.value,!1):(ye.value="date",["month","year","date","week"].includes(le.value)&&(me(B.value,!0),await dn(),en())),Wn("month")},He=async pt=>{le.value==="year"?(B.value=B.value.startOf("year").year(pt),me(B.value,!1)):(B.value=B.value.year(pt),ye.value="month",["month","year","date","week"].includes(le.value)&&(me(B.value,!0),await dn(),en())),Wn("year")},bt=async pt=>{ye.value=pt,await dn(),en()},xt=K(()=>i.type==="datetime"||i.type==="datetimerange"),Nt=K(()=>xt.value||le.value==="dates"),st=()=>{if(le.value==="dates")me(i.parsedValue);else{let pt=i.parsedValue;if(!pt){const St=Kn(R).locale(b.value),tn=Wt();pt=St.year(tn.year()).month(tn.month()).date(tn.date())}B.value=pt,me(pt)}},Ye=()=>{const St=Kn().locale(b.value).toDate();(!M||!M(St))&&oe(St)&&(B.value=Kn().locale(b.value),me(B.value))},ot=K(()=>iB(i.format)),Et=K(()=>rB(i.format)),an=K(()=>{if(se.value)return se.value;if(!(!i.parsedValue&&!D.value))return(i.parsedValue||B.value).format(ot.value)}),Be=K(()=>{if(ne.value)return ne.value;if(!(!i.parsedValue&&!D.value))return(i.parsedValue||B.value).format(Et.value)}),Xe=re(!1),ht=()=>{Xe.value=!0},Dt=()=>{Xe.value=!1},Ot=pt=>({hour:pt.hour(),minute:pt.minute(),second:pt.second(),year:pt.year(),month:pt.month(),date:pt.date()}),dt=(pt,St,tn)=>{const{hour:Fn,minute:Ce,second:We}=Ot(pt),_t=i.parsedValue?i.parsedValue.hour(Fn).minute(Ce).second(We):pt;B.value=_t,me(B.value,!0),tn||(Xe.value=St)},Ft=pt=>{const St=Kn(pt,ot.value).locale(b.value);if(St.isValid()&&oe(St)){const{year:tn,month:Fn,date:Ce}=Ot(B.value);B.value=St.year(tn).month(Fn).date(Ce),se.value=null,Xe.value=!1,me(B.value,!0)}},At=pt=>{const St=Kn(pt,Et.value).locale(b.value);if(St.isValid()){if(M&&M(St.toDate()))return;const{hour:tn,minute:Fn,second:Ce}=Ot(B.value);B.value=St.hour(tn).minute(Fn).second(Ce),ne.value=null,me(B.value,!0)}},Ne=pt=>Kn.isDayjs(pt)&&pt.isValid()&&(M?!M(pt.toDate()):!0),Ke=pt=>le.value==="dates"?pt.map(St=>St.format(i.format)):pt.format(i.format),Lt=pt=>Kn(pt,i.format).locale(b.value),Wt=()=>{const pt=Kn(D.value).locale(b.value);if(!D.value){const St=z.value;return Kn().hour(St.hour()).minute(St.minute()).second(St.second()).locale(b.value)}return pt},en=async()=>{var pt;["week","month","year","date"].includes(le.value)&&((pt=V.value)==null||pt.focus(),le.value==="week"&&xn(An.down))},vn=pt=>{const{code:St}=pt;[An.up,An.down,An.left,An.right,An.home,An.end,An.pageUp,An.pageDown].includes(St)&&(xn(St),pt.stopPropagation(),pt.preventDefault()),[An.enter,An.space].includes(St)&&ne.value===null&&se.value===null&&(pt.preventDefault(),me(B.value,!1))},xn=pt=>{var St;const{up:tn,down:Fn,left:Ce,right:We,home:_t,end:Vt,pageUp:Rn,pageDown:xr}=An,ii={year:{[tn]:-4,[Fn]:4,[Ce]:-1,[We]:1,offset:(Yn,Vr)=>Yn.setFullYear(Yn.getFullYear()+Vr)},month:{[tn]:-4,[Fn]:4,[Ce]:-1,[We]:1,offset:(Yn,Vr)=>Yn.setMonth(Yn.getMonth()+Vr)},week:{[tn]:-1,[Fn]:1,[Ce]:-1,[We]:1,offset:(Yn,Vr)=>Yn.setDate(Yn.getDate()+Vr*7)},date:{[tn]:-7,[Fn]:7,[Ce]:-1,[We]:1,[_t]:Yn=>-Yn.getDay(),[Vt]:Yn=>-Yn.getDay()+6,[Rn]:Yn=>-new Date(Yn.getFullYear(),Yn.getMonth(),0).getDate(),[xr]:Yn=>new Date(Yn.getFullYear(),Yn.getMonth()+1,0).getDate(),offset:(Yn,Vr)=>Yn.setDate(Yn.getDate()+Vr)}},gr=B.value.toDate();for(;Math.abs(B.value.diff(gr,"year",!0))<1;){const Yn=ii[Oe.value];if(!Yn)return;if(Yn.offset(gr,Nn(Yn[pt])?Yn[pt](gr):(St=Yn[pt])!=null?St:0),M&&M(gr))break;const Vr=Kn(gr).locale(b.value);B.value=Vr,n("pick",Vr,!0);break}},Wn=pt=>{n("panel-change",B.value.toDate(),pt,ye.value)};return It(()=>le.value,pt=>{if(["month","year"].includes(pt)){ye.value=pt;return}ye.value="date"},{immediate:!0}),It(()=>ye.value,()=>{E==null||E.updatePopper()}),It(()=>D.value,pt=>{pt&&(B.value=Wt())},{immediate:!0}),It(()=>i.parsedValue,pt=>{if(pt){if(le.value==="dates"||Array.isArray(pt))return;B.value=pt}else B.value=Wt()},{immediate:!0}),n("set-picker-option",["isValidValue",Ne]),n("set-picker-option",["formatToString",Ke]),n("set-picker-option",["parseUserInput",Lt]),n("set-picker-option",["handleFocusPicker",en]),(pt,St)=>($(),_e("div",{class:J([v(l).b(),v(d).b(),{"has-sidebar":pt.$slots.sidebar||v(Qe),"has-time":v(xt)}])},[Ie("div",{class:J(v(l).e("body-wrapper"))},[yt(pt.$slots,"sidebar",{class:J(v(l).e("sidebar"))}),v(Qe)?($(),_e("div",{key:0,class:J(v(l).e("sidebar"))},[($(!0),_e(gn,null,ur(v(I),(tn,Fn)=>($(),_e("button",{key:Fn,type:"button",class:J(v(l).e("shortcut")),onClick:Ce=>fe(tn)},Xt(tn.text),11,vue))),128))],2)):Ze("v-if",!0),Ie("div",{class:J(v(l).e("body"))},[v(xt)?($(),_e("div",{key:0,class:J(v(d).e("time-header"))},[Ie("span",{class:J(v(d).e("editor-wrap"))},[Re(v(vs),{placeholder:v(y)("el.datepicker.selectDate"),"model-value":v(Be),size:"small","validate-event":!1,onInput:St[0]||(St[0]=tn=>ne.value=tn),onChange:At},null,8,["placeholder","model-value"])],2),zn(($(),_e("span",{class:J(v(d).e("editor-wrap"))},[Re(v(vs),{placeholder:v(y)("el.datepicker.selectTime"),"model-value":v(an),size:"small","validate-event":!1,onFocus:ht,onInput:St[1]||(St[1]=tn=>se.value=tn),onChange:Ft},null,8,["placeholder","model-value"]),Re(v(f_),{visible:Xe.value,format:v(ot),"time-arrow-control":v(N),"parsed-value":B.value,onPick:dt},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[v(Pc),Dt]])],2)):Ze("v-if",!0),zn(Ie("div",{class:J([v(d).e("header"),(ye.value==="year"||ye.value==="month")&&v(d).e("header--bordered")])},[Ie("span",{class:J(v(d).e("prev-btn"))},[Ie("button",{type:"button","aria-label":v(y)("el.datepicker.prevYear"),class:J(["d-arrow-left",v(l).e("icon-btn")]),onClick:St[2]||(St[2]=tn=>Se(!1))},[Re(v(un),null,{default:Ue(()=>[Re(v(xf))]),_:1})],10,_ue),zn(Ie("button",{type:"button","aria-label":v(y)("el.datepicker.prevMonth"),class:J([v(l).e("icon-btn"),"arrow-left"]),onClick:St[3]||(St[3]=tn=>Ae(!1))},[Re(v(un),null,{default:Ue(()=>[Re(v(Ic))]),_:1})],10,Aue),[[yr,ye.value==="date"]])],2),Ie("span",{role:"button",class:J(v(d).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:St[4]||(St[4]=pr(tn=>bt("year"),["enter"])),onClick:St[5]||(St[5]=tn=>bt("year"))},Xt(v(ie)),35),zn(Ie("span",{role:"button","aria-live":"polite",tabindex:"0",class:J([v(d).e("header-label"),{active:ye.value==="month"}]),onKeydown:St[6]||(St[6]=pr(tn=>bt("month"),["enter"])),onClick:St[7]||(St[7]=tn=>bt("month"))},Xt(v(y)(`el.datepicker.month${v(H)+1}`)),35),[[yr,ye.value==="date"]]),Ie("span",{class:J(v(d).e("next-btn"))},[zn(Ie("button",{type:"button","aria-label":v(y)("el.datepicker.nextMonth"),class:J([v(l).e("icon-btn"),"arrow-right"]),onClick:St[8]||(St[8]=tn=>Ae(!0))},[Re(v(un),null,{default:Ue(()=>[Re(v(Ts))]),_:1})],10,yue),[[yr,ye.value==="date"]]),Ie("button",{type:"button","aria-label":v(y)("el.datepicker.nextYear"),class:J([v(l).e("icon-btn"),"d-arrow-right"]),onClick:St[9]||(St[9]=tn=>Se(!0))},[Re(v(un),null,{default:Ue(()=>[Re(v(Mf))]),_:1})],10,bue)],2)],2),[[yr,ye.value!=="time"]]),Ie("div",{class:J(v(l).e("content")),onKeydown:vn},[ye.value==="date"?($(),rt(S1,{key:0,ref_key:"currentViewRef",ref:V,"selection-mode":v(le),date:B.value,"parsed-value":pt.parsedValue,"disabled-date":v(M),"cell-class-name":v(T),onPick:ce},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Ze("v-if",!0),ye.value==="year"?($(),rt(gue,{key:1,ref_key:"currentViewRef",ref:V,date:B.value,"disabled-date":v(M),"parsed-value":pt.parsedValue,onPick:He},null,8,["date","disabled-date","parsed-value"])):Ze("v-if",!0),ye.value==="month"?($(),rt(w1,{key:2,ref_key:"currentViewRef",ref:V,date:B.value,"parsed-value":pt.parsedValue,"disabled-date":v(M),onPick:Pe},null,8,["date","parsed-value","disabled-date"])):Ze("v-if",!0)],34)],2)],2),zn(Ie("div",{class:J(v(l).e("footer"))},[zn(Re(v(fs),{text:"",size:"small",class:J(v(l).e("link-btn")),onClick:Ye},{default:Ue(()=>[mr(Xt(v(y)("el.datepicker.now")),1)]),_:1},8,["class"]),[[yr,v(le)!=="dates"]]),Re(v(fs),{plain:"",size:"small",class:J(v(l).e("link-btn")),onClick:st},{default:Ue(()=>[mr(Xt(v(y)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[yr,v(Nt)&&ye.value==="date"]])],2))}});var wue=Ht(Sue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const Eue=$t({...KB,...jB}),Cue=t=>{const{emit:n}=Zn(),i=pm(),o=ss();return d=>{const h=Nn(d.value)?d.value():d.value;if(h){n("pick",[Kn(h[0]).locale(t.value),Kn(h[1]).locale(t.value)]);return}d.onClick&&d.onClick({attrs:i,slots:o,emit:n})}},JB=(t,{defaultValue:n,leftDate:i,rightDate:o,unit:l,onParsedValueChanged:d})=>{const{emit:h}=Zn(),{pickerNs:g}=hn(ZS),y=Ct("date-range-picker"),{t:b,lang:C}=Sr(),E=Cue(C),I=re(),M=re(),T=re({endDate:null,selecting:!1}),R=B=>{T.value=B},N=(B=!1)=>{const z=v(I),H=v(M);b1([z,H])&&h("pick",[z,H],B)},D=B=>{T.value.selecting=B,B||(T.value.endDate=null)},V=()=>{const[B,z]=YB(v(n),{lang:v(C),unit:l,unlinkPanels:t.unlinkPanels});I.value=void 0,M.value=void 0,i.value=B,o.value=z};return It(n,B=>{B&&V()},{immediate:!0}),It(()=>t.parsedValue,B=>{if(on(B)&&B.length===2){const[z,H]=B;I.value=z,i.value=z,M.value=H,d(v(I),v(M))}else V()},{immediate:!0}),{minDate:I,maxDate:M,rangeState:T,lang:C,ppNs:g,drpNs:y,handleChangeRange:R,handleRangeConfirm:N,handleShortcutClick:E,onSelect:D,t:b}},Iue=["onClick"],xue=["disabled"],Mue=["disabled"],Rue=["disabled"],Tue=["disabled"],mv="month",Pue=Ge({__name:"panel-date-range",props:Eue,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:n}){const i=t,o=hn("EP_PICKER_BASE"),{disabledDate:l,cellClassName:d,format:h,defaultTime:g,arrowControl:y,clearable:b}=o.props,C=ai(o.props,"shortcuts"),E=ai(o.props,"defaultValue"),{lang:I}=Sr(),M=re(Kn().locale(I.value)),T=re(Kn().locale(I.value).add(1,mv)),{minDate:R,maxDate:N,rangeState:D,ppNs:V,drpNs:B,handleChangeRange:z,handleRangeConfirm:H,handleShortcutClick:q,onSelect:he,t:ne}=JB(i,{defaultValue:E,leftDate:M,rightDate:T,unit:mv,onParsedValueChanged:Ce}),se=re({min:null,max:null}),oe=re({min:null,max:null}),xe=K(()=>`${M.value.year()} ${ne("el.datepicker.year")} ${ne(`el.datepicker.month${M.value.month()+1}`)}`),me=K(()=>`${T.value.year()} ${ne("el.datepicker.year")} ${ne(`el.datepicker.month${T.value.month()+1}`)}`),ce=K(()=>M.value.year()),Ae=K(()=>M.value.month()),Se=K(()=>T.value.year()),ye=K(()=>T.value.month()),ie=K(()=>!!C.value.length),fe=K(()=>se.value.min!==null?se.value.min:R.value?R.value.format(He.value):""),le=K(()=>se.value.max!==null?se.value.max:N.value||R.value?(N.value||R.value).format(He.value):""),Oe=K(()=>oe.value.min!==null?oe.value.min:R.value?R.value.format(Pe.value):""),Qe=K(()=>oe.value.max!==null?oe.value.max:N.value||R.value?(N.value||R.value).format(Pe.value):""),Pe=K(()=>iB(h)),He=K(()=>rB(h)),bt=()=>{M.value=M.value.subtract(1,"year"),i.unlinkPanels||(T.value=M.value.add(1,"month")),Be("year")},xt=()=>{M.value=M.value.subtract(1,"month"),i.unlinkPanels||(T.value=M.value.add(1,"month")),Be("month")},Nt=()=>{i.unlinkPanels?T.value=T.value.add(1,"year"):(M.value=M.value.add(1,"year"),T.value=M.value.add(1,"month")),Be("year")},st=()=>{i.unlinkPanels?T.value=T.value.add(1,"month"):(M.value=M.value.add(1,"month"),T.value=M.value.add(1,"month")),Be("month")},Ye=()=>{M.value=M.value.add(1,"year"),Be("year")},ot=()=>{M.value=M.value.add(1,"month"),Be("month")},Et=()=>{T.value=T.value.subtract(1,"year"),Be("year")},an=()=>{T.value=T.value.subtract(1,"month"),Be("month")},Be=We=>{n("panel-change",[M.value.toDate(),T.value.toDate()],We)},Xe=K(()=>{const We=(Ae.value+1)%12,_t=Ae.value+1>=12?1:0;return i.unlinkPanels&&new Date(ce.value+_t,We)<new Date(Se.value,ye.value)}),ht=K(()=>i.unlinkPanels&&Se.value*12+ye.value-(ce.value*12+Ae.value+1)>=12),Dt=K(()=>!(R.value&&N.value&&!D.value.selecting&&b1([R.value,N.value]))),Ot=K(()=>i.type==="datetime"||i.type==="datetimerange"),dt=(We,_t)=>{if(!!We)return g?Kn(g[_t]||g).locale(I.value).year(We.year()).month(We.month()).date(We.date()):We},Ft=(We,_t=!0)=>{const Vt=We.minDate,Rn=We.maxDate,xr=dt(Vt,0),ii=dt(Rn,1);N.value===ii&&R.value===xr||(n("calendar-change",[Vt.toDate(),Rn&&Rn.toDate()]),N.value=ii,R.value=xr,!(!_t||Ot.value)&&H())},At=re(!1),Ne=re(!1),Ke=()=>{At.value=!1},Lt=()=>{Ne.value=!1},Wt=(We,_t)=>{se.value[_t]=We;const Vt=Kn(We,He.value).locale(I.value);if(Vt.isValid()){if(l&&l(Vt.toDate()))return;_t==="min"?(M.value=Vt,R.value=(R.value||M.value).year(Vt.year()).month(Vt.month()).date(Vt.date()),i.unlinkPanels||(T.value=Vt.add(1,"month"),N.value=R.value.add(1,"month"))):(T.value=Vt,N.value=(N.value||T.value).year(Vt.year()).month(Vt.month()).date(Vt.date()),i.unlinkPanels||(M.value=Vt.subtract(1,"month"),R.value=N.value.subtract(1,"month")))}},en=(We,_t)=>{se.value[_t]=null},vn=(We,_t)=>{oe.value[_t]=We;const Vt=Kn(We,Pe.value).locale(I.value);Vt.isValid()&&(_t==="min"?(At.value=!0,R.value=(R.value||M.value).hour(Vt.hour()).minute(Vt.minute()).second(Vt.second()),(!N.value||N.value.isBefore(R.value))&&(N.value=R.value)):(Ne.value=!0,N.value=(N.value||T.value).hour(Vt.hour()).minute(Vt.minute()).second(Vt.second()),T.value=N.value,N.value&&N.value.isBefore(R.value)&&(R.value=N.value)))},xn=(We,_t)=>{oe.value[_t]=null,_t==="min"?(M.value=R.value,At.value=!1):(T.value=N.value,Ne.value=!1)},Wn=(We,_t,Vt)=>{oe.value.min||(We&&(M.value=We,R.value=(R.value||M.value).hour(We.hour()).minute(We.minute()).second(We.second())),Vt||(At.value=_t),(!N.value||N.value.isBefore(R.value))&&(N.value=R.value,T.value=We))},pt=(We,_t,Vt)=>{oe.value.max||(We&&(T.value=We,N.value=(N.value||T.value).hour(We.hour()).minute(We.minute()).second(We.second())),Vt||(Ne.value=_t),N.value&&N.value.isBefore(R.value)&&(R.value=N.value))},St=()=>{M.value=YB(v(E),{lang:v(I),unit:"month",unlinkPanels:i.unlinkPanels})[0],T.value=M.value.add(1,"month"),n("pick",null)},tn=We=>on(We)?We.map(_t=>_t.format(h)):We.format(h),Fn=We=>on(We)?We.map(_t=>Kn(_t,h).locale(I.value)):Kn(We,h).locale(I.value);function Ce(We,_t){if(i.unlinkPanels&&_t){const Vt=(We==null?void 0:We.year())||0,Rn=(We==null?void 0:We.month())||0,xr=_t.year(),ii=_t.month();T.value=Vt===xr&&Rn===ii?_t.add(1,mv):_t}else T.value=M.value.add(1,mv),_t&&(T.value=T.value.hour(_t.hour()).minute(_t.minute()).second(_t.second()))}return n("set-picker-option",["isValidValue",b1]),n("set-picker-option",["parseUserInput",Fn]),n("set-picker-option",["formatToString",tn]),n("set-picker-option",["handleClear",St]),(We,_t)=>($(),_e("div",{class:J([v(V).b(),v(B).b(),{"has-sidebar":We.$slots.sidebar||v(ie),"has-time":v(Ot)}])},[Ie("div",{class:J(v(V).e("body-wrapper"))},[yt(We.$slots,"sidebar",{class:J(v(V).e("sidebar"))}),v(ie)?($(),_e("div",{key:0,class:J(v(V).e("sidebar"))},[($(!0),_e(gn,null,ur(v(C),(Vt,Rn)=>($(),_e("button",{key:Rn,type:"button",class:J(v(V).e("shortcut")),onClick:xr=>v(q)(Vt)},Xt(Vt.text),11,Iue))),128))],2)):Ze("v-if",!0),Ie("div",{class:J(v(V).e("body"))},[v(Ot)?($(),_e("div",{key:0,class:J(v(B).e("time-header"))},[Ie("span",{class:J(v(B).e("editors-wrap"))},[Ie("span",{class:J(v(B).e("time-picker-wrap"))},[Re(v(vs),{size:"small",disabled:v(D).selecting,placeholder:v(ne)("el.datepicker.startDate"),class:J(v(B).e("editor")),"model-value":v(fe),"validate-event":!1,onInput:_t[0]||(_t[0]=Vt=>Wt(Vt,"min")),onChange:_t[1]||(_t[1]=Vt=>en(Vt,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),zn(($(),_e("span",{class:J(v(B).e("time-picker-wrap"))},[Re(v(vs),{size:"small",class:J(v(B).e("editor")),disabled:v(D).selecting,placeholder:v(ne)("el.datepicker.startTime"),"model-value":v(Oe),"validate-event":!1,onFocus:_t[2]||(_t[2]=Vt=>At.value=!0),onInput:_t[3]||(_t[3]=Vt=>vn(Vt,"min")),onChange:_t[4]||(_t[4]=Vt=>xn(Vt,"min"))},null,8,["class","disabled","placeholder","model-value"]),Re(v(f_),{visible:At.value,format:v(Pe),"datetime-role":"start","time-arrow-control":v(y),"parsed-value":M.value,onPick:Wn},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[v(Pc),Ke]])],2),Ie("span",null,[Re(v(un),null,{default:Ue(()=>[Re(v(Ts))]),_:1})]),Ie("span",{class:J([v(B).e("editors-wrap"),"is-right"])},[Ie("span",{class:J(v(B).e("time-picker-wrap"))},[Re(v(vs),{size:"small",class:J(v(B).e("editor")),disabled:v(D).selecting,placeholder:v(ne)("el.datepicker.endDate"),"model-value":v(le),readonly:!v(R),"validate-event":!1,onInput:_t[5]||(_t[5]=Vt=>Wt(Vt,"max")),onChange:_t[6]||(_t[6]=Vt=>en(Vt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),zn(($(),_e("span",{class:J(v(B).e("time-picker-wrap"))},[Re(v(vs),{size:"small",class:J(v(B).e("editor")),disabled:v(D).selecting,placeholder:v(ne)("el.datepicker.endTime"),"model-value":v(Qe),readonly:!v(R),"validate-event":!1,onFocus:_t[7]||(_t[7]=Vt=>v(R)&&(Ne.value=!0)),onInput:_t[8]||(_t[8]=Vt=>vn(Vt,"max")),onChange:_t[9]||(_t[9]=Vt=>xn(Vt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),Re(v(f_),{"datetime-role":"end",visible:Ne.value,format:v(Pe),"time-arrow-control":v(y),"parsed-value":T.value,onPick:pt},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[v(Pc),Lt]])],2)],2)):Ze("v-if",!0),Ie("div",{class:J([[v(V).e("content"),v(B).e("content")],"is-left"])},[Ie("div",{class:J(v(B).e("header"))},[Ie("button",{type:"button",class:J([v(V).e("icon-btn"),"d-arrow-left"]),onClick:bt},[Re(v(un),null,{default:Ue(()=>[Re(v(xf))]),_:1})],2),Ie("button",{type:"button",class:J([v(V).e("icon-btn"),"arrow-left"]),onClick:xt},[Re(v(un),null,{default:Ue(()=>[Re(v(Ic))]),_:1})],2),We.unlinkPanels?($(),_e("button",{key:0,type:"button",disabled:!v(ht),class:J([[v(V).e("icon-btn"),{"is-disabled":!v(ht)}],"d-arrow-right"]),onClick:Ye},[Re(v(un),null,{default:Ue(()=>[Re(v(Mf))]),_:1})],10,xue)):Ze("v-if",!0),We.unlinkPanels?($(),_e("button",{key:1,type:"button",disabled:!v(Xe),class:J([[v(V).e("icon-btn"),{"is-disabled":!v(Xe)}],"arrow-right"]),onClick:ot},[Re(v(un),null,{default:Ue(()=>[Re(v(Ts))]),_:1})],10,Mue)):Ze("v-if",!0),Ie("div",null,Xt(v(xe)),1)],2),Re(S1,{"selection-mode":"range",date:M.value,"min-date":v(R),"max-date":v(N),"range-state":v(D),"disabled-date":v(l),"cell-class-name":v(d),onChangerange:v(z),onPick:Ft,onSelect:v(he)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),Ie("div",{class:J([[v(V).e("content"),v(B).e("content")],"is-right"])},[Ie("div",{class:J(v(B).e("header"))},[We.unlinkPanels?($(),_e("button",{key:0,type:"button",disabled:!v(ht),class:J([[v(V).e("icon-btn"),{"is-disabled":!v(ht)}],"d-arrow-left"]),onClick:Et},[Re(v(un),null,{default:Ue(()=>[Re(v(xf))]),_:1})],10,Rue)):Ze("v-if",!0),We.unlinkPanels?($(),_e("button",{key:1,type:"button",disabled:!v(Xe),class:J([[v(V).e("icon-btn"),{"is-disabled":!v(Xe)}],"arrow-left"]),onClick:an},[Re(v(un),null,{default:Ue(()=>[Re(v(Ic))]),_:1})],10,Tue)):Ze("v-if",!0),Ie("button",{type:"button",class:J([v(V).e("icon-btn"),"d-arrow-right"]),onClick:Nt},[Re(v(un),null,{default:Ue(()=>[Re(v(Mf))]),_:1})],2),Ie("button",{type:"button",class:J([v(V).e("icon-btn"),"arrow-right"]),onClick:st},[Re(v(un),null,{default:Ue(()=>[Re(v(Ts))]),_:1})],2),Ie("div",null,Xt(v(me)),1)],2),Re(S1,{"selection-mode":"range",date:T.value,"min-date":v(R),"max-date":v(N),"range-state":v(D),"disabled-date":v(l),"cell-class-name":v(d),onChangerange:v(z),onPick:Ft,onSelect:v(he)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),v(Ot)?($(),_e("div",{key:0,class:J(v(V).e("footer"))},[v(b)?($(),rt(v(fs),{key:0,text:"",size:"small",class:J(v(V).e("link-btn")),onClick:St},{default:Ue(()=>[mr(Xt(v(ne)("el.datepicker.clear")),1)]),_:1},8,["class"])):Ze("v-if",!0),Re(v(fs),{plain:"",size:"small",class:J(v(V).e("link-btn")),disabled:v(Dt),onClick:_t[10]||(_t[10]=Vt=>v(H)(!1))},{default:Ue(()=>[mr(Xt(v(ne)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):Ze("v-if",!0)],2))}});var Nue=Ht(Pue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const Bue=$t({...jB}),Due=["pick","set-picker-option"],kue=({unlinkPanels:t,leftDate:n,rightDate:i})=>{const{t:o}=Sr(),l=()=>{n.value=n.value.subtract(1,"year"),t.value||(i.value=i.value.subtract(1,"year"))},d=()=>{t.value||(n.value=n.value.add(1,"year")),i.value=i.value.add(1,"year")},h=()=>{n.value=n.value.add(1,"year")},g=()=>{i.value=i.value.subtract(1,"year")},y=K(()=>`${n.value.year()} ${o("el.datepicker.year")}`),b=K(()=>`${i.value.year()} ${o("el.datepicker.year")}`),C=K(()=>n.value.year()),E=K(()=>i.value.year()===n.value.year()?n.value.year()+1:i.value.year());return{leftPrevYear:l,rightNextYear:d,leftNextYear:h,rightPrevYear:g,leftLabel:y,rightLabel:b,leftYear:C,rightYear:E}},Lue=["onClick"],Oue=["disabled"],Fue=["disabled"],gv="year",Vue=Ge({name:"DatePickerMonthRange"}),Gue=Ge({...Vue,props:Bue,emits:Due,setup(t,{emit:n}){const i=t,{lang:o}=Sr(),l=hn("EP_PICKER_BASE"),{shortcuts:d,disabledDate:h,format:g}=l.props,y=ai(l.props,"defaultValue"),b=re(Kn().locale(o.value)),C=re(Kn().locale(o.value).add(1,gv)),{minDate:E,maxDate:I,rangeState:M,ppNs:T,drpNs:R,handleChangeRange:N,handleRangeConfirm:D,handleShortcutClick:V,onSelect:B}=JB(i,{defaultValue:y,leftDate:b,rightDate:C,unit:gv,onParsedValueChanged:ye}),z=K(()=>!!d.length),{leftPrevYear:H,rightNextYear:q,leftNextYear:he,rightPrevYear:ne,leftLabel:se,rightLabel:oe,leftYear:xe,rightYear:me}=kue({unlinkPanels:ai(i,"unlinkPanels"),leftDate:b,rightDate:C}),ce=K(()=>i.unlinkPanels&&me.value>xe.value+1),Ae=(ie,fe=!0)=>{const le=ie.minDate,Oe=ie.maxDate;I.value===Oe&&E.value===le||(I.value=Oe,E.value=le,fe&&D())},Se=ie=>ie.map(fe=>fe.format(g));function ye(ie,fe){if(i.unlinkPanels&&fe){const le=(ie==null?void 0:ie.year())||0,Oe=fe.year();C.value=le===Oe?fe.add(1,gv):fe}else C.value=b.value.add(1,gv)}return n("set-picker-option",["formatToString",Se]),(ie,fe)=>($(),_e("div",{class:J([v(T).b(),v(R).b(),{"has-sidebar":Boolean(ie.$slots.sidebar)||v(z)}])},[Ie("div",{class:J(v(T).e("body-wrapper"))},[yt(ie.$slots,"sidebar",{class:J(v(T).e("sidebar"))}),v(z)?($(),_e("div",{key:0,class:J(v(T).e("sidebar"))},[($(!0),_e(gn,null,ur(v(d),(le,Oe)=>($(),_e("button",{key:Oe,type:"button",class:J(v(T).e("shortcut")),onClick:Qe=>v(V)(le)},Xt(le.text),11,Lue))),128))],2)):Ze("v-if",!0),Ie("div",{class:J(v(T).e("body"))},[Ie("div",{class:J([[v(T).e("content"),v(R).e("content")],"is-left"])},[Ie("div",{class:J(v(R).e("header"))},[Ie("button",{type:"button",class:J([v(T).e("icon-btn"),"d-arrow-left"]),onClick:fe[0]||(fe[0]=(...le)=>v(H)&&v(H)(...le))},[Re(v(un),null,{default:Ue(()=>[Re(v(xf))]),_:1})],2),ie.unlinkPanels?($(),_e("button",{key:0,type:"button",disabled:!v(ce),class:J([[v(T).e("icon-btn"),{[v(T).is("disabled")]:!v(ce)}],"d-arrow-right"]),onClick:fe[1]||(fe[1]=(...le)=>v(he)&&v(he)(...le))},[Re(v(un),null,{default:Ue(()=>[Re(v(Mf))]),_:1})],10,Oue)):Ze("v-if",!0),Ie("div",null,Xt(v(se)),1)],2),Re(w1,{"selection-mode":"range",date:b.value,"min-date":v(E),"max-date":v(I),"range-state":v(M),"disabled-date":v(h),onChangerange:v(N),onPick:Ae,onSelect:v(B)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),Ie("div",{class:J([[v(T).e("content"),v(R).e("content")],"is-right"])},[Ie("div",{class:J(v(R).e("header"))},[ie.unlinkPanels?($(),_e("button",{key:0,type:"button",disabled:!v(ce),class:J([[v(T).e("icon-btn"),{"is-disabled":!v(ce)}],"d-arrow-left"]),onClick:fe[2]||(fe[2]=(...le)=>v(ne)&&v(ne)(...le))},[Re(v(un),null,{default:Ue(()=>[Re(v(xf))]),_:1})],10,Fue)):Ze("v-if",!0),Ie("button",{type:"button",class:J([v(T).e("icon-btn"),"d-arrow-right"]),onClick:fe[3]||(fe[3]=(...le)=>v(q)&&v(q)(...le))},[Re(v(un),null,{default:Ue(()=>[Re(v(Mf))]),_:1})],2),Ie("div",null,Xt(v(oe)),1)],2),Re(w1,{"selection-mode":"range",date:C.value,"min-date":v(E),"max-date":v(I),"range-state":v(M),"disabled-date":v(h),onChangerange:v(N),onPick:Ae,onSelect:v(B)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var Uue=Ht(Gue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const zue=function(t){switch(t){case"daterange":case"datetimerange":return Nue;case"monthrange":return Uue;default:return wue}};Kn.extend(yB);Kn.extend(Fce);Kn.extend(vw);Kn.extend(Vce);Kn.extend(Gce);Kn.extend(Uce);Kn.extend(zce);Kn.extend(Hce);var Hue=Ge({name:"ElDatePicker",install:null,props:{..._w,...Qce},emits:["update:modelValue"],setup(t,{expose:n,emit:i,slots:o}){const l=Ct("picker-panel");or("ElPopperOptions",Mr(ai(t,"popperOptions"))),or(ZS,{slots:o,pickerNs:l});const d=re();n({focus:(y=!0)=>{var b;(b=d.value)==null||b.focus(y)},handleOpen:()=>{var y;(y=d.value)==null||y.handleOpen()},handleClose:()=>{var y;(y=d.value)==null||y.handleClose()}});const g=y=>{i("update:modelValue",y)};return()=>{var y;const b=(y=t.format)!=null?y:Qse[t.type]||rf,C=zue(t.type);return Re(aB,ir(t,{format:b,type:t.type,ref:d,"onUpdate:modelValue":g}),{default:E=>Re(C,E,null),"range-separator":o["range-separator"]})}}});const Vv=Hue;Vv.install=t=>{t.component(Vv.name,Vv)};const Que=Vv,Sw="elDescriptions";var hp=Ge({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup(){return{descriptions:hn(Sw,{})}},render(){var t,n,i,o,l,d;const h=Yee(this.cell),{border:g,direction:y}=this.descriptions,b=y==="vertical",C=((i=(n=(t=this.cell)==null?void 0:t.children)==null?void 0:n.label)==null?void 0:i.call(n))||h.label,E=(d=(l=(o=this.cell)==null?void 0:o.children)==null?void 0:l.default)==null?void 0:d.call(l),I=h.span,M=h.align?`is-${h.align}`:"",T=h.labelAlign?`is-${h.labelAlign}`:M,R=h.className,N=h.labelClassName,D={width:xi(h.width),minWidth:xi(h.minWidth)},V=Ct("descriptions");switch(this.type){case"label":return yn(this.tag,{style:D,class:[V.e("cell"),V.e("label"),V.is("bordered-label",g),V.is("vertical-label",b),T,N],colSpan:b?I:1},C);case"content":return yn(this.tag,{style:D,class:[V.e("cell"),V.e("content"),V.is("bordered-content",g),V.is("vertical-content",b),M,R],colSpan:b?I:I*2-1},E);default:return yn("td",{style:D,class:[V.e("cell"),M],colSpan:I},[yn("span",{class:[V.e("label"),N]},C),yn("span",{class:[V.e("content"),R]},E)])}}});const Xue=$t({row:{type:Array,default:()=>[]}}),$ue={key:1},Wue=Ge({name:"ElDescriptionsRow"}),Kue=Ge({...Wue,props:Xue,setup(t){const n=hn(Sw,{});return(i,o)=>v(n).direction==="vertical"?($(),_e(gn,{key:0},[Ie("tr",null,[($(!0),_e(gn,null,ur(i.row,(l,d)=>($(),rt(v(hp),{key:`tr1-${d}`,cell:l,tag:"th",type:"label"},null,8,["cell"]))),128))]),Ie("tr",null,[($(!0),_e(gn,null,ur(i.row,(l,d)=>($(),rt(v(hp),{key:`tr2-${d}`,cell:l,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):($(),_e("tr",$ue,[($(!0),_e(gn,null,ur(i.row,(l,d)=>($(),_e(gn,{key:`tr3-${d}`},[v(n).border?($(),_e(gn,{key:0},[Re(v(hp),{cell:l,tag:"td",type:"label"},null,8,["cell"]),Re(v(hp),{cell:l,tag:"td",type:"content"},null,8,["cell"])],64)):($(),rt(v(hp),{key:1,cell:l,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var jue=Ht(Kue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const que=$t({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:Qs,title:{type:String,default:""},extra:{type:String,default:""}}),Yue=Ge({name:"ElDescriptions"}),Jue=Ge({...Yue,props:que,setup(t){const n=t,i=Ct("descriptions"),o=Mi(),l=ss();or(Sw,n);const d=K(()=>[i.b(),i.m(o.value)]),h=(y,b,C,E=!1)=>(y.props||(y.props={}),b>C&&(y.props.span=C),E&&(y.props.span=b),y),g=()=>{var y;const b=vf((y=l.default)==null?void 0:y.call(l)).filter(T=>{var R;return((R=T==null?void 0:T.type)==null?void 0:R.name)==="ElDescriptionsItem"}),C=[];let E=[],I=n.column,M=0;return b.forEach((T,R)=>{var N;const D=((N=T.props)==null?void 0:N.span)||1;if(R<b.length-1&&(M+=D>I?I:D),R===b.length-1){const V=n.column-M%n.column;E.push(h(T,V,I,!0)),C.push(E);return}D<I?(I-=D,E.push(T)):(E.push(h(T,D,I)),C.push(E),I=n.column,E=[])}),C};return(y,b)=>($(),_e("div",{class:J(v(d))},[y.title||y.extra||y.$slots.title||y.$slots.extra?($(),_e("div",{key:0,class:J(v(i).e("header"))},[Ie("div",{class:J(v(i).e("title"))},[yt(y.$slots,"title",{},()=>[mr(Xt(y.title),1)])],2),Ie("div",{class:J(v(i).e("extra"))},[yt(y.$slots,"extra",{},()=>[mr(Xt(y.extra),1)])],2)],2)):Ze("v-if",!0),Ie("div",{class:J(v(i).e("body"))},[Ie("table",{class:J([v(i).e("table"),v(i).is("bordered",y.border)])},[Ie("tbody",null,[($(!0),_e(gn,null,ur(g(),(C,E)=>($(),rt(jue,{key:E,row:C},null,8,["row"]))),128))])],2)],2)],2))}});var Zue=Ht(Jue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]),ZB=Ge({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const ede=er(Zue,{DescriptionsItem:ZB}),tde=pi(ZB),nde=$t({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:nt([String,Array,Object])},zIndex:{type:nt([String,Number])}}),rde={click:t=>t instanceof MouseEvent};var ide=Ge({name:"ElOverlay",props:nde,emits:rde,setup(t,{slots:n,emit:i}){const o=Ct("overlay"),l=y=>{i("click",y)},{onClick:d,onMousedown:h,onMouseup:g}=ew(t.customMaskEvent?void 0:l);return()=>t.mask?Re("div",{class:[o.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:d,onMousedown:h,onMouseup:g},[yt(n,"default")],xo.STYLE|xo.CLASS|xo.PROPS,["onClick","onMouseup","onMousedown"]):yn("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[yt(n,"default")])}});const ww=ide,e6=$t({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:jr},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),sde={close:()=>!0},ode=["aria-label"],ade=["id"],lde=Ge({name:"ElDialogContent"}),cde=Ge({...lde,props:e6,emits:sde,setup(t){const n=t,{t:i}=Sr(),{Close:o}=WN,{dialogRef:l,headerRef:d,bodyId:h,ns:g,style:y}=hn(t3),{focusTrapRef:b}=hn(pw),C=W_(b,l),E=K(()=>n.draggable);return f3(l,d,E),(I,M)=>($(),_e("div",{ref:v(C),class:J([v(g).b(),v(g).is("fullscreen",I.fullscreen),v(g).is("draggable",v(E)),v(g).is("align-center",I.alignCenter),{[v(g).m("center")]:I.center},I.customClass]),style:fn(v(y)),tabindex:"-1"},[Ie("header",{ref_key:"headerRef",ref:d,class:J(v(g).e("header"))},[yt(I.$slots,"header",{},()=>[Ie("span",{role:"heading",class:J(v(g).e("title"))},Xt(I.title),3)]),I.showClose?($(),_e("button",{key:0,"aria-label":v(i)("el.dialog.close"),class:J(v(g).e("headerbtn")),type:"button",onClick:M[0]||(M[0]=T=>I.$emit("close"))},[Re(v(un),{class:J(v(g).e("close"))},{default:Ue(()=>[($(),rt(sr(I.closeIcon||v(o))))]),_:1},8,["class"])],10,ode)):Ze("v-if",!0)],2),Ie("div",{id:v(h),class:J(v(g).e("body"))},[yt(I.$slots,"default")],10,ade),I.$slots.footer?($(),_e("footer",{key:0,class:J(v(g).e("footer"))},[yt(I.$slots,"footer")],2)):Ze("v-if",!0)],6))}});var ude=Ht(cde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const t6=$t({...e6,appendToBody:{type:Boolean,default:!1},beforeClose:{type:nt(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),n6={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Jn]:t=>Bi(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},r6=(t,n)=>{const o=Zn().emit,{nextZIndex:l}=Fl();let d="";const h=_a(),g=_a(),y=re(!1),b=re(!1),C=re(!1),E=re(t.zIndex||l());let I,M;const T=Ol("namespace",J_),R=K(()=>{const Ae={},Se=`--${T.value}-dialog`;return t.fullscreen||(t.top&&(Ae[`${Se}-margin-top`]=t.top),t.width&&(Ae[`${Se}-width`]=xi(t.width))),Ae}),N=K(()=>t.alignCenter?{display:"flex"}:{});function D(){o("opened")}function V(){o("closed"),o(Jn,!1),t.destroyOnClose&&(C.value=!1)}function B(){o("close")}function z(){M==null||M(),I==null||I(),t.openDelay&&t.openDelay>0?{stop:I}=Xu(()=>ne(),t.openDelay):ne()}function H(){I==null||I(),M==null||M(),t.closeDelay&&t.closeDelay>0?{stop:M}=Xu(()=>se(),t.closeDelay):se()}function q(){function Ae(Se){Se||(b.value=!0,y.value=!1)}t.beforeClose?t.beforeClose(Ae):H()}function he(){t.closeOnClickModal&&q()}function ne(){!fr||(y.value=!0)}function se(){y.value=!1}function oe(){o("openAutoFocus")}function xe(){o("closeAutoFocus")}function me(Ae){var Se;((Se=Ae.detail)==null?void 0:Se.focusReason)==="pointer"&&Ae.preventDefault()}t.lockScroll&&h3(y);function ce(){t.closeOnPressEscape&&q()}return It(()=>t.modelValue,Ae=>{Ae?(b.value=!1,z(),C.value=!0,E.value=t.zIndex?E.value++:l(),dn(()=>{o("open"),n.value&&(n.value.scrollTop=0)})):y.value&&H()}),It(()=>t.fullscreen,Ae=>{!n.value||(Ae?(d=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=d)}),jn(()=>{t.modelValue&&(y.value=!0,C.value=!0,z())}),{afterEnter:D,afterLeave:V,beforeLeave:B,handleClose:q,onModalClick:he,close:H,doClose:se,onOpenAutoFocus:oe,onCloseAutoFocus:xe,onCloseRequested:ce,onFocusoutPrevented:me,titleId:h,bodyId:g,closed:b,style:R,overlayDialogStyle:N,rendered:C,visible:y,zIndex:E}},dde=["aria-label","aria-labelledby","aria-describedby"],fde=Ge({name:"ElDialog",inheritAttrs:!1}),hde=Ge({...fde,props:t6,emits:n6,setup(t,{expose:n}){const i=t,o=ss();Mc({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},K(()=>!!o.title)),Mc({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},K(()=>!!i.customClass));const l=Ct("dialog"),d=re(),h=re(),g=re(),{visible:y,titleId:b,bodyId:C,style:E,overlayDialogStyle:I,rendered:M,zIndex:T,afterEnter:R,afterLeave:N,beforeLeave:D,handleClose:V,onModalClick:B,onOpenAutoFocus:z,onCloseAutoFocus:H,onCloseRequested:q,onFocusoutPrevented:he}=r6(i,d);or(t3,{dialogRef:d,headerRef:h,bodyId:C,ns:l,rendered:M,style:E});const ne=ew(B),se=K(()=>i.draggable&&!i.fullscreen);return n({visible:y,dialogContentRef:g}),(oe,xe)=>($(),rt(hm,{to:"body",disabled:!oe.appendToBody},[Re(Si,{name:"dialog-fade",onAfterEnter:v(R),onAfterLeave:v(N),onBeforeLeave:v(D),persisted:""},{default:Ue(()=>[zn(Re(v(ww),{"custom-mask-event":"",mask:oe.modal,"overlay-class":oe.modalClass,"z-index":v(T)},{default:Ue(()=>[Ie("div",{role:"dialog","aria-modal":"true","aria-label":oe.title||void 0,"aria-labelledby":oe.title?void 0:v(b),"aria-describedby":v(C),class:J(`${v(l).namespace.value}-overlay-dialog`),style:fn(v(I)),onClick:xe[0]||(xe[0]=(...me)=>v(ne).onClick&&v(ne).onClick(...me)),onMousedown:xe[1]||(xe[1]=(...me)=>v(ne).onMousedown&&v(ne).onMousedown(...me)),onMouseup:xe[2]||(xe[2]=(...me)=>v(ne).onMouseup&&v(ne).onMouseup(...me))},[Re(v(rA),{loop:"",trapped:v(y),"focus-start-el":"container",onFocusAfterTrapped:v(z),onFocusAfterReleased:v(H),onFocusoutPrevented:v(he),onReleaseRequested:v(q)},{default:Ue(()=>[v(M)?($(),rt(ude,ir({key:0,ref_key:"dialogContentRef",ref:g},oe.$attrs,{"custom-class":oe.customClass,center:oe.center,"align-center":oe.alignCenter,"close-icon":oe.closeIcon,draggable:v(se),fullscreen:oe.fullscreen,"show-close":oe.showClose,title:oe.title,onClose:v(V)}),Ec({header:Ue(()=>[oe.$slots.title?yt(oe.$slots,"title",{key:1}):yt(oe.$slots,"header",{key:0,close:v(V),titleId:v(b),titleClass:v(l).e("title")})]),default:Ue(()=>[yt(oe.$slots,"default")]),_:2},[oe.$slots.footer?{name:"footer",fn:Ue(()=>[yt(oe.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):Ze("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,dde)]),_:3},8,["mask","overlay-class","z-index"]),[[yr,v(y)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var pde=Ht(hde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const mde=er(pde),gde=$t({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:nt(String),default:"solid"}}),vde=Ge({name:"ElDivider"}),_de=Ge({...vde,props:gde,setup(t){const n=t,i=Ct("divider"),o=K(()=>i.cssVar({"border-style":n.borderStyle}));return(l,d)=>($(),_e("div",{class:J([v(i).b(),v(i).m(l.direction)]),style:fn(v(o)),role:"separator"},[l.$slots.default&&l.direction!=="vertical"?($(),_e("div",{key:0,class:J([v(i).e("text"),v(i).is(l.contentPosition)])},[yt(l.$slots,"default")],2)):Ze("v-if",!0)],6))}});var Ade=Ht(_de,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const i6=er(Ade),yde=$t({...t6,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),bde=n6,Sde=Ge({name:"ElDrawer",components:{ElOverlay:ww,ElFocusTrap:rA,ElIcon:un,Close:ga},props:yde,emits:bde,setup(t,{slots:n}){Mc({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},K(()=>!!n.title));const i=re(),o=re(),l=Ct("drawer"),{t:d}=Sr(),h=K(()=>t.direction==="rtl"||t.direction==="ltr"),g=K(()=>xi(t.size));return{...r6(t,i),drawerRef:i,focusStartRef:o,isHorizontal:h,drawerSize:g,ns:l,t:d}}}),wde=["aria-label","aria-labelledby","aria-describedby"],Ede=["id"],Cde=["aria-label"],Ide=["id"];function xde(t,n,i,o,l,d){const h=Mn("close"),g=Mn("el-icon"),y=Mn("el-focus-trap"),b=Mn("el-overlay");return $(),rt(hm,{to:"body",disabled:!t.appendToBody},[Re(Si,{name:t.ns.b("fade"),onAfterEnter:t.afterEnter,onAfterLeave:t.afterLeave,onBeforeLeave:t.beforeLeave,persisted:""},{default:Ue(()=>[zn(Re(b,{mask:t.modal,"overlay-class":t.modalClass,"z-index":t.zIndex,onClick:t.onModalClick},{default:Ue(()=>[Re(y,{loop:"",trapped:t.visible,"focus-trap-el":t.drawerRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:Ue(()=>[Ie("div",{ref:"drawerRef","aria-modal":"true","aria-label":t.title||void 0,"aria-labelledby":t.title?void 0:t.titleId,"aria-describedby":t.bodyId,class:J([t.ns.b(),t.direction,t.visible&&"open",t.customClass]),style:fn(t.isHorizontal?"width: "+t.drawerSize:"height: "+t.drawerSize),role:"dialog",onClick:n[1]||(n[1]=Dn(()=>{},["stop"]))},[Ie("span",{ref:"focusStartRef",class:J(t.ns.e("sr-focus")),tabindex:"-1"},null,2),t.withHeader?($(),_e("header",{key:0,class:J(t.ns.e("header"))},[t.$slots.title?yt(t.$slots,"title",{key:1},()=>[Ze(" DEPRECATED SLOT ")]):yt(t.$slots,"header",{key:0,close:t.handleClose,titleId:t.titleId,titleClass:t.ns.e("title")},()=>[t.$slots.title?Ze("v-if",!0):($(),_e("span",{key:0,id:t.titleId,role:"heading",class:J(t.ns.e("title"))},Xt(t.title),11,Ede))]),t.showClose?($(),_e("button",{key:2,"aria-label":t.t("el.drawer.close"),class:J(t.ns.e("close-btn")),type:"button",onClick:n[0]||(n[0]=(...C)=>t.handleClose&&t.handleClose(...C))},[Re(g,{class:J(t.ns.e("close"))},{default:Ue(()=>[Re(h)]),_:1},8,["class"])],10,Cde)):Ze("v-if",!0)],2)):Ze("v-if",!0),t.rendered?($(),_e("div",{key:1,id:t.bodyId,class:J(t.ns.e("body"))},[yt(t.$slots,"default")],10,Ide)):Ze("v-if",!0),t.$slots.footer?($(),_e("div",{key:2,class:J(t.ns.e("footer"))},[yt(t.$slots,"footer")],2)):Ze("v-if",!0)],14,wde)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[yr,t.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var Mde=Ht(Sde,[["render",xde],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const Rde=er(Mde),Tde=Ge({inheritAttrs:!1});function Pde(t,n,i,o,l,d){return yt(t.$slots,"default")}var Nde=Ht(Tde,[["render",Pde],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const Bde=Ge({name:"ElCollectionItem",inheritAttrs:!1});function Dde(t,n,i,o,l,d){return yt(t.$slots,"default")}var kde=Ht(Bde,[["render",Dde],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const s6="data-el-collection-item",o6=t=>{const n=`El${t}Collection`,i=`${n}Item`,o=Symbol(n),l=Symbol(i),d={...Nde,name:n,setup(){const g=re(null),y=new Map;or(o,{itemMap:y,getItems:()=>{const C=v(g);if(!C)return[];const E=Array.from(C.querySelectorAll(`[${s6}]`));return[...y.values()].sort((M,T)=>E.indexOf(M.ref)-E.indexOf(T.ref))},collectionRef:g})}},h={...kde,name:i,setup(g,{attrs:y}){const b=re(null),C=hn(o,void 0);or(l,{collectionItemRef:b}),jn(()=>{const E=v(b);E&&C.itemMap.set(E,{ref:E,...y})}),hi(()=>{const E=v(b);C.itemMap.delete(E)})}};return{COLLECTION_INJECTION_KEY:o,COLLECTION_ITEM_INJECTION_KEY:l,ElCollection:d,ElCollectionItem:h}},Lde=$t({style:{type:nt([String,Array,Object])},currentTabId:{type:nt(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:nt(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Ode,ElCollectionItem:Fde,COLLECTION_INJECTION_KEY:Ew,COLLECTION_ITEM_INJECTION_KEY:Vde}=o6("RovingFocusGroup"),Cw=Symbol("elRovingFocusGroup"),a6=Symbol("elRovingFocusGroupItem"),Gde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Ude=(t,n)=>{if(n!=="rtl")return t;switch(t){case An.right:return An.left;case An.left:return An.right;default:return t}},zde=(t,n,i)=>{const o=Ude(t.key,i);if(!(n==="vertical"&&[An.left,An.right].includes(o))&&!(n==="horizontal"&&[An.up,An.down].includes(o)))return Gde[o]},Hde=(t,n)=>t.map((i,o)=>t[(o+n)%t.length]),Iw=t=>{const{activeElement:n}=document;for(const i of t)if(i===n||(i.focus(),n!==document.activeElement))return},jR="currentTabIdChange",qR="rovingFocusGroup.entryFocus",Qde={bubbles:!1,cancelable:!0},Xde=Ge({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Lde,emits:[jR,"entryFocus"],setup(t,{emit:n}){var i;const o=re((i=t.currentTabId||t.defaultCurrentTabId)!=null?i:null),l=re(!1),d=re(!1),h=re(null),{getItems:g}=hn(Ew,void 0),y=K(()=>[{outline:"none"},t.style]),b=R=>{n(jR,R)},C=()=>{l.value=!0},E=di(R=>{var N;(N=t.onMousedown)==null||N.call(t,R)},()=>{d.value=!0}),I=di(R=>{var N;(N=t.onFocus)==null||N.call(t,R)},R=>{const N=!v(d),{target:D,currentTarget:V}=R;if(D===V&&N&&!v(l)){const B=new Event(qR,Qde);if(V==null||V.dispatchEvent(B),!B.defaultPrevented){const z=g().filter(se=>se.focusable),H=z.find(se=>se.active),q=z.find(se=>se.id===v(o)),ne=[H,q,...z].filter(Boolean).map(se=>se.ref);Iw(ne)}}d.value=!1}),M=di(R=>{var N;(N=t.onBlur)==null||N.call(t,R)},()=>{l.value=!1}),T=(...R)=>{n("entryFocus",...R)};or(Cw,{currentTabbedId:fm(o),loop:ai(t,"loop"),tabIndex:K(()=>v(l)?-1:0),rovingFocusGroupRef:h,rovingFocusGroupRootStyle:y,orientation:ai(t,"orientation"),dir:ai(t,"dir"),onItemFocus:b,onItemShiftTab:C,onBlur:M,onFocus:I,onMousedown:E}),It(()=>t.currentTabId,R=>{o.value=R!=null?R:null}),Jr(h,qR,T)}});function $de(t,n,i,o,l,d){return yt(t.$slots,"default")}var Wde=Ht(Xde,[["render",$de],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const Kde=Ge({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Ode,ElRovingFocusGroupImpl:Wde}});function jde(t,n,i,o,l,d){const h=Mn("el-roving-focus-group-impl"),g=Mn("el-focus-group-collection");return $(),rt(g,null,{default:Ue(()=>[Re(h,ha(D_(t.$attrs)),{default:Ue(()=>[yt(t.$slots,"default")]),_:3},16)]),_:3})}var qde=Ht(Kde,[["render",jde],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const Yde=Ge({components:{ElRovingFocusCollectionItem:Fde},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:n}){const{currentTabbedId:i,loop:o,onItemFocus:l,onItemShiftTab:d}=hn(Cw,void 0),{getItems:h}=hn(Ew,void 0),g=_a(),y=re(null),b=di(M=>{n("mousedown",M)},M=>{t.focusable?l(v(g)):M.preventDefault()}),C=di(M=>{n("focus",M)},()=>{l(v(g))}),E=di(M=>{n("keydown",M)},M=>{const{key:T,shiftKey:R,target:N,currentTarget:D}=M;if(T===An.tab&&R){d();return}if(N!==D)return;const V=zde(M);if(V){M.preventDefault();let z=h().filter(H=>H.focusable).map(H=>H.ref);switch(V){case"last":{z.reverse();break}case"prev":case"next":{V==="prev"&&z.reverse();const H=z.indexOf(D);z=o.value?Hde(z,H+1):z.slice(H+1);break}}dn(()=>{Iw(z)})}}),I=K(()=>i.value===v(g));return or(a6,{rovingFocusGroupItemRef:y,tabIndex:K(()=>v(I)?0:-1),handleMousedown:b,handleFocus:C,handleKeydown:E}),{id:g,handleKeydown:E,handleFocus:C,handleMousedown:b}}});function Jde(t,n,i,o,l,d){const h=Mn("el-roving-focus-collection-item");return $(),rt(h,{id:t.id,focusable:t.focusable,active:t.active},{default:Ue(()=>[yt(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var Zde=Ht(Yde,[["render",Jde],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const Gv=$t({trigger:Zp.trigger,effect:{...Zi.effect,default:"light"},type:{type:nt(String)},placement:{type:nt(String),default:"bottom"},popperOptions:{type:nt(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:nt([Number,String]),default:0},maxHeight:{type:nt([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:nt(Object)},teleported:Zi.teleported}),l6=$t({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:jr}}),efe=$t({onKeydown:{type:nt(Function)}}),tfe=[An.down,An.pageDown,An.home],c6=[An.up,An.pageUp,An.end],nfe=[...tfe,...c6],{ElCollection:rfe,ElCollectionItem:ife,COLLECTION_INJECTION_KEY:sfe,COLLECTION_ITEM_INJECTION_KEY:ofe}=o6("Dropdown"),oA=Symbol("elDropdown"),{ButtonGroup:afe}=fs,lfe=Ge({name:"ElDropdown",components:{ElButton:fs,ElButtonGroup:afe,ElScrollbar:Gl,ElDropdownCollection:rfe,ElTooltip:Xs,ElRovingFocusGroup:qde,ElOnlyChild:R3,ElIcon:un,ArrowDown:kc},props:Gv,emits:["visible-change","click","command"],setup(t,{emit:n}){const i=Zn(),o=Ct("dropdown"),{t:l}=Sr(),d=re(),h=re(),g=re(null),y=re(null),b=re(null),C=re(null),E=re(!1),I=[An.enter,An.space,An.down],M=K(()=>({maxHeight:xi(t.maxHeight)})),T=K(()=>[o.m(z.value)]),R=_a().value,N=K(()=>t.id||R);function D(){V()}function V(){var Se;(Se=g.value)==null||Se.onClose()}function B(){var Se;(Se=g.value)==null||Se.onOpen()}const z=Mi();function H(...Se){n("command",...Se)}function q(){}function he(){const Se=v(y);Se==null||Se.focus(),C.value=null}function ne(Se){C.value=Se}function se(Se){E.value||(Se.preventDefault(),Se.stopImmediatePropagation())}function oe(){n("visible-change",!0)}function xe(Se){(Se==null?void 0:Se.type)==="keydown"&&y.value.focus()}function me(){n("visible-change",!1)}return or(oA,{contentRef:y,role:K(()=>t.role),triggerId:N,isUsingKeyboard:E,onItemEnter:q,onItemLeave:he}),or("elDropdown",{instance:i,dropdownSize:z,handleClick:D,commandHandler:H,trigger:ai(t,"trigger"),hideOnClick:ai(t,"hideOnClick")}),{t:l,ns:o,scrollbar:b,wrapStyle:M,dropdownTriggerKls:T,dropdownSize:z,triggerId:N,triggerKeys:I,currentTabId:C,handleCurrentTabIdChange:ne,handlerMainButtonClick:Se=>{n("click",Se)},handleEntryFocus:se,handleClose:V,handleOpen:B,handleBeforeShowTooltip:oe,handleShowTooltip:xe,handleBeforeHideTooltip:me,onFocusAfterTrapped:Se=>{var ye,ie;Se.preventDefault(),(ie=(ye=y.value)==null?void 0:ye.focus)==null||ie.call(ye,{preventScroll:!0})},popperRef:g,contentRef:y,triggeringElementRef:d,referenceElementRef:h}}});function cfe(t,n,i,o,l,d){var h;const g=Mn("el-dropdown-collection"),y=Mn("el-roving-focus-group"),b=Mn("el-scrollbar"),C=Mn("el-only-child"),E=Mn("el-tooltip"),I=Mn("el-button"),M=Mn("arrow-down"),T=Mn("el-icon"),R=Mn("el-button-group");return $(),_e("div",{class:J([t.ns.b(),t.ns.is("disabled",t.disabled)])},[Re(E,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(h=t.referenceElementRef)==null?void 0:h.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:"",onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},Ec({content:Ue(()=>[Re(b,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:Ue(()=>[Re(y,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:Ue(()=>[Re(g,null,{default:Ue(()=>[yt(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:Ue(()=>[Re(C,{id:t.triggerId,role:"button",tabindex:t.tabindex},{default:Ue(()=>[yt(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?($(),rt(R,{key:0},{default:Ue(()=>[Re(I,ir({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:Ue(()=>[yt(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),Re(I,ir({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:Ue(()=>[Re(T,{class:J(t.ns.e("icon"))},{default:Ue(()=>[Re(M)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Ze("v-if",!0)],2)}var ufe=Ht(lfe,[["render",cfe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const dfe=Ge({name:"DropdownItemImpl",components:{ElIcon:un},props:l6,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:n}){const i=Ct("dropdown"),{role:o}=hn(oA,void 0),{collectionItemRef:l}=hn(ofe,void 0),{collectionItemRef:d}=hn(Vde,void 0),{rovingFocusGroupItemRef:h,tabIndex:g,handleFocus:y,handleKeydown:b,handleMousedown:C}=hn(a6,void 0),E=W_(l,d,h),I=K(()=>o.value==="menu"?"menuitem":o.value==="navigation"?"link":"button"),M=di(T=>{const{code:R}=T;if(R===An.enter||R===An.space)return T.preventDefault(),T.stopImmediatePropagation(),n("clickimpl",T),!0},b);return{ns:i,itemRef:E,dataset:{[s6]:""},role:I,tabIndex:g,handleFocus:y,handleKeydown:M,handleMousedown:C}}}),ffe=["aria-disabled","tabindex","role"];function hfe(t,n,i,o,l,d){const h=Mn("el-icon");return $(),_e(gn,null,[t.divided?($(),_e("li",ir({key:0,role:"separator",class:t.ns.bem("menu","item","divided")},t.$attrs),null,16)):Ze("v-if",!0),Ie("li",ir({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:n[0]||(n[0]=g=>t.$emit("clickimpl",g)),onFocus:n[1]||(n[1]=(...g)=>t.handleFocus&&t.handleFocus(...g)),onKeydown:n[2]||(n[2]=(...g)=>t.handleKeydown&&t.handleKeydown(...g)),onMousedown:n[3]||(n[3]=(...g)=>t.handleMousedown&&t.handleMousedown(...g)),onPointermove:n[4]||(n[4]=g=>t.$emit("pointermove",g)),onPointerleave:n[5]||(n[5]=g=>t.$emit("pointerleave",g))}),[t.icon?($(),rt(h,{key:0},{default:Ue(()=>[($(),rt(sr(t.icon)))]),_:1})):Ze("v-if",!0),yt(t.$slots,"default")],16,ffe)],64)}var pfe=Ht(dfe,[["render",hfe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const u6=()=>{const t=hn("elDropdown",{}),n=K(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:n}},mfe=Ge({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ife,ElRovingFocusItem:Zde,ElDropdownItemImpl:pfe},inheritAttrs:!1,props:l6,emits:["pointermove","pointerleave","click"],setup(t,{emit:n,attrs:i}){const{elDropdown:o}=u6(),l=Zn(),d=re(null),h=K(()=>{var M,T;return(T=(M=v(d))==null?void 0:M.textContent)!=null?T:""}),{onItemEnter:g,onItemLeave:y}=hn(oA,void 0),b=di(M=>(n("pointermove",M),M.defaultPrevented),BM(M=>{var T;t.disabled?y(M):(g(M),M.defaultPrevented||(T=M.currentTarget)==null||T.focus())})),C=di(M=>(n("pointerleave",M),M.defaultPrevented),BM(M=>{y(M)})),E=di(M=>{if(!t.disabled)return n("click",M),M.type!=="keydown"&&M.defaultPrevented},M=>{var T,R,N;if(t.disabled){M.stopImmediatePropagation();return}(T=o==null?void 0:o.hideOnClick)!=null&&T.value&&((R=o.handleClick)==null||R.call(o)),(N=o.commandHandler)==null||N.call(o,t.command,l,M)}),I=K(()=>({...t,...i}));return{handleClick:E,handlePointerMove:b,handlePointerLeave:C,textContent:h,propsAndAttrs:I}}});function gfe(t,n,i,o,l,d){var h;const g=Mn("el-dropdown-item-impl"),y=Mn("el-roving-focus-item"),b=Mn("el-dropdown-collection-item");return $(),rt(b,{disabled:t.disabled,"text-value":(h=t.textValue)!=null?h:t.textContent},{default:Ue(()=>[Re(y,{focusable:!t.disabled},{default:Ue(()=>[Re(g,ir(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:Ue(()=>[yt(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var d6=Ht(mfe,[["render",gfe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const vfe=Ge({name:"ElDropdownMenu",props:efe,setup(t){const n=Ct("dropdown"),{_elDropdownSize:i}=u6(),o=i.value,{focusTrapRef:l,onKeydown:d}=hn(pw,void 0),{contentRef:h,role:g,triggerId:y}=hn(oA,void 0),{collectionRef:b,getItems:C}=hn(sfe,void 0),{rovingFocusGroupRef:E,rovingFocusGroupRootStyle:I,tabIndex:M,onBlur:T,onFocus:R,onMousedown:N}=hn(Cw,void 0),{collectionRef:D}=hn(Ew,void 0),V=K(()=>[n.b("menu"),n.bm("menu",o==null?void 0:o.value)]),B=W_(h,b,l,E,D),z=di(q=>{var he;(he=t.onKeydown)==null||he.call(t,q)},q=>{const{currentTarget:he,code:ne,target:se}=q;if(he.contains(se),An.tab===ne&&q.stopImmediatePropagation(),q.preventDefault(),se!==v(h)||!nfe.includes(ne))return;const xe=C().filter(me=>!me.disabled).map(me=>me.ref);c6.includes(ne)&&xe.reverse(),Iw(xe)});return{size:o,rovingFocusGroupRootStyle:I,tabIndex:M,dropdownKls:V,role:g,triggerId:y,dropdownListWrapperRef:B,handleKeydown:q=>{z(q),d(q)},onBlur:T,onFocus:R,onMousedown:N}}}),_fe=["role","aria-labelledby"];function Afe(t,n,i,o,l,d){return $(),_e("ul",{ref:t.dropdownListWrapperRef,class:J(t.dropdownKls),style:fn(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:n[0]||(n[0]=(...h)=>t.onBlur&&t.onBlur(...h)),onFocus:n[1]||(n[1]=(...h)=>t.onFocus&&t.onFocus(...h)),onKeydown:n[2]||(n[2]=(...h)=>t.handleKeydown&&t.handleKeydown(...h)),onMousedown:n[3]||(n[3]=(...h)=>t.onMousedown&&t.onMousedown(...h))},[yt(t.$slots,"default")],46,_fe)}var f6=Ht(vfe,[["render",Afe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const yfe=er(ufe,{DropdownItem:d6,DropdownMenu:f6}),bfe=pi(d6),Sfe=pi(f6);let wfe=0;const Efe=Ge({name:"ImgEmpty",setup(){return{ns:Ct("empty"),id:++wfe}}}),Cfe={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Ife=["id"],xfe=["stop-color"],Mfe=["stop-color"],Rfe=["id"],Tfe=["stop-color"],Pfe=["stop-color"],Nfe=["id"],Bfe={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},Dfe={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},kfe={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},Lfe=["fill"],Ofe=["fill"],Ffe={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},Vfe=["fill"],Gfe=["fill"],Ufe=["fill"],zfe=["fill"],Hfe=["fill"],Qfe={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},Xfe=["fill","xlink:href"],$fe=["fill","mask"],Wfe=["fill"];function Kfe(t,n,i,o,l,d){return $(),_e("svg",Cfe,[Ie("defs",null,[Ie("linearGradient",{id:`linearGradient-1-${t.id}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Ie("stop",{"stop-color":`var(${t.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,xfe),Ie("stop",{"stop-color":`var(${t.ns.cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,Mfe)],8,Ife),Ie("linearGradient",{id:`linearGradient-2-${t.id}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Ie("stop",{"stop-color":`var(${t.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,Tfe),Ie("stop",{"stop-color":`var(${t.ns.cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,Pfe)],8,Rfe),Ie("rect",{id:`path-3-${t.id}`,x:"0",y:"0",width:"17",height:"36"},null,8,Nfe)]),Ie("g",Bfe,[Ie("g",Dfe,[Ie("g",kfe,[Ie("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${t.ns.cssVarBlockName("fill-color-3")})`},null,8,Lfe),Ie("polygon",{id:"Rectangle-Copy-14",fill:`var(${t.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,Ofe),Ie("g",Ffe,[Ie("polygon",{id:"Rectangle-Copy-10",fill:`var(${t.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,Vfe),Ie("polygon",{id:"Rectangle-Copy-11",fill:`var(${t.ns.cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,Gfe),Ie("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${t.id})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,Ufe),Ie("polygon",{id:"Rectangle-Copy-13",fill:`var(${t.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,zfe)]),Ie("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${t.id})`,x:"13",y:"45",width:"40",height:"36"},null,8,Hfe),Ie("g",Qfe,[Ie("use",{id:"Mask",fill:`var(${t.ns.cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${t.id}`},null,8,Xfe),Ie("polygon",{id:"Rectangle-Copy",fill:`var(${t.ns.cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${t.id})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,$fe)]),Ie("polygon",{id:"Rectangle-Copy-18",fill:`var(${t.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,Wfe)])])])])}var jfe=Ht(Efe,[["render",Kfe],["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const qfe={image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}},Yfe=["src"],Jfe={key:1},Zfe=Ge({name:"ElEmpty"}),ehe=Ge({...Zfe,props:qfe,setup(t){const n=t,{t:i}=Sr(),o=Ct("empty"),l=K(()=>n.description||i("el.table.emptyText")),d=K(()=>({width:n.imageSize?`${n.imageSize}px`:""}));return(h,g)=>($(),_e("div",{class:J(v(o).b())},[Ie("div",{class:J(v(o).e("image")),style:fn(v(d))},[h.image?($(),_e("img",{key:0,src:h.image,ondragstart:"return false"},null,8,Yfe)):yt(h.$slots,"image",{key:1},()=>[Re(jfe)])],6),Ie("div",{class:J(v(o).e("description"))},[h.$slots.description?yt(h.$slots,"description",{key:0}):($(),_e("p",Jfe,Xt(v(l)),1))],2),h.$slots.default?($(),_e("div",{key:0,class:J(v(o).e("bottom"))},[yt(h.$slots,"default")],2)):Ze("v-if",!0)],2))}});var the=Ht(ehe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const h6=er(the),nhe=$t({model:Object,rules:{type:nt(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:Fc},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),rhe={validate:(t,n,i)=>(on(t)||On(t))&&Bi(n)&&On(i)};function ihe(){const t=re([]),n=K(()=>{if(!t.value.length)return"0";const d=Math.max(...t.value);return d?`${d}px`:""});function i(d){const h=t.value.indexOf(d);return h===-1&&n.value,h}function o(d,h){if(d&&h){const g=i(h);t.value.splice(g,1,d)}else d&&t.value.push(d)}function l(d){const h=i(d);h>-1&&t.value.splice(h,1)}return{autoLabelWidth:n,registerLabelWidth:o,deregisterLabelWidth:l}}const vv=(t,n)=>{const i=Tf(n);return i.length>0?t.filter(o=>o.prop&&i.includes(o.prop)):t},she="ElForm",ohe=Ge({name:she}),ahe=Ge({...ohe,props:nhe,emits:rhe,setup(t,{expose:n,emit:i}){const o=t,l=[],d=Mi(),h=Ct("form"),g=K(()=>{const{labelPosition:V,inline:B}=o;return[h.b(),h.m(d.value||"default"),{[h.m(`label-${V}`)]:V,[h.m("inline")]:B}]}),y=V=>{l.push(V)},b=V=>{V.prop&&l.splice(l.indexOf(V),1)},C=(V=[])=>{!o.model||vv(l,V).forEach(B=>B.resetField())},E=(V=[])=>{vv(l,V).forEach(B=>B.clearValidate())},I=K(()=>!!o.model),M=V=>{if(l.length===0)return[];const B=vv(l,V);return B.length?B:[]},T=async V=>N(void 0,V),R=async(V=[])=>{if(!I.value)return!1;const B=M(V);if(B.length===0)return!0;let z={};for(const H of B)try{await H.validate("")}catch(q){z={...z,...q}}return Object.keys(z).length===0?!0:Promise.reject(z)},N=async(V=[],B)=>{const z=!Nn(B);try{const H=await R(V);return H===!0&&(B==null||B(H)),H}catch(H){if(H instanceof Error)throw H;const q=H;return o.scrollToError&&D(Object.keys(q)[0]),B==null||B(!1,q),z&&Promise.reject(q)}},D=V=>{var B;const z=vv(l,V)[0];z&&((B=z.$el)==null||B.scrollIntoView())};return It(()=>o.rules,()=>{o.validateOnRuleChange&&T().catch(V=>void 0)},{deep:!0}),or(Zu,Mr({...Di(o),emit:i,resetFields:C,clearValidate:E,validateField:N,addField:y,removeField:b,...ihe()})),n({validate:T,validateField:N,resetFields:C,clearValidate:E,scrollToField:D}),(V,B)=>($(),_e("form",{class:J(v(g))},[yt(V.$slots,"default")],2))}});var lhe=Ht(ahe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},Pu.apply(this,arguments)}function che(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,tm(t,n)}function E1(t){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},E1(t)}function tm(t,n){return tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},tm(t,n)}function uhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uv(t,n,i){return uhe()?Uv=Reflect.construct.bind():Uv=function(l,d,h){var g=[null];g.push.apply(g,d);var y=Function.bind.apply(l,g),b=new y;return h&&tm(b,h.prototype),b},Uv.apply(null,arguments)}function dhe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function C1(t){var n=typeof Map=="function"?new Map:void 0;return C1=function(o){if(o===null||!dhe(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(o))return n.get(o);n.set(o,l)}function l(){return Uv(o,arguments,E1(this).constructor)}return l.prototype=Object.create(o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),tm(l,o)},C1(t)}var fhe=/%[sdj%]/g,hhe=function(){};typeof process<"u"&&process.env;function I1(t){if(!t||!t.length)return null;var n={};return t.forEach(function(i){var o=i.field;n[o]=n[o]||[],n[o].push(i)}),n}function uo(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var l=0,d=i.length;if(typeof t=="function")return t.apply(null,i);if(typeof t=="string"){var h=t.replace(fhe,function(g){if(g==="%%")return"%";if(l>=d)return g;switch(g){case"%s":return String(i[l++]);case"%d":return Number(i[l++]);case"%j":try{return JSON.stringify(i[l++])}catch{return"[Circular]"}break;default:return g}});return h}return t}function phe(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Hi(t,n){return!!(t==null||n==="array"&&Array.isArray(t)&&!t.length||phe(n)&&typeof t=="string"&&!t)}function mhe(t,n,i){var o=[],l=0,d=t.length;function h(g){o.push.apply(o,g||[]),l++,l===d&&i(o)}t.forEach(function(g){n(g,h)})}function YR(t,n,i){var o=0,l=t.length;function d(h){if(h&&h.length){i(h);return}var g=o;o=o+1,g<l?n(t[g],d):i([])}d([])}function ghe(t){var n=[];return Object.keys(t).forEach(function(i){n.push.apply(n,t[i]||[])}),n}var JR=function(t){che(n,t);function n(i,o){var l;return l=t.call(this,"Async Validation Error")||this,l.errors=i,l.fields=o,l}return n}(C1(Error));function vhe(t,n,i,o,l){if(n.first){var d=new Promise(function(I,M){var T=function(D){return o(D),D.length?M(new JR(D,I1(D))):I(l)},R=ghe(t);YR(R,i,T)});return d.catch(function(I){return I}),d}var h=n.firstFields===!0?Object.keys(t):n.firstFields||[],g=Object.keys(t),y=g.length,b=0,C=[],E=new Promise(function(I,M){var T=function(N){if(C.push.apply(C,N),b++,b===y)return o(C),C.length?M(new JR(C,I1(C))):I(l)};g.length||(o(C),I(l)),g.forEach(function(R){var N=t[R];h.indexOf(R)!==-1?YR(N,i,T):mhe(N,i,T)})});return E.catch(function(I){return I}),E}function _he(t){return!!(t&&t.message!==void 0)}function Ahe(t,n){for(var i=t,o=0;o<n.length;o++){if(i==null)return i;i=i[n[o]]}return i}function ZR(t,n){return function(i){var o;return t.fullFields?o=Ahe(n,t.fullFields):o=n[i.field||t.fullField],_he(i)?(i.field=i.field||t.fullField,i.fieldValue=o,i):{message:typeof i=="function"?i():i,fieldValue:o,field:i.field||t.fullField}}}function eT(t,n){if(n){for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];typeof o=="object"&&typeof t[i]=="object"?t[i]=Pu({},t[i],o):t[i]=o}}return t}var p6=function(n,i,o,l,d,h){n.required&&(!o.hasOwnProperty(n.field)||Hi(i,h||n.type))&&l.push(uo(d.messages.required,n.fullField))},yhe=function(n,i,o,l,d){(/^\s+$/.test(i)||i==="")&&l.push(uo(d.messages.whitespace,n.fullField))},_v,bhe=function(){if(_v)return _v;var t="[a-fA-F\\d:]",n=function(z){return z&&z.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},i="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",o="[a-fA-F\\d]{1,4}",l=(`
(?:
(?:`+o+":){7}(?:"+o+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+o+":){6}(?:"+i+"|:"+o+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+o+":){5}(?::"+i+"|(?::"+o+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+o+":){4}(?:(?::"+o+"){0,1}:"+i+"|(?::"+o+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+o+":){3}(?:(?::"+o+"){0,2}:"+i+"|(?::"+o+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+o+":){2}(?:(?::"+o+"){0,3}:"+i+"|(?::"+o+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+o+":){1}(?:(?::"+o+"){0,4}:"+i+"|(?::"+o+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+o+"){0,5}:"+i+"|(?::"+o+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),d=new RegExp("(?:^"+i+"$)|(?:^"+l+"$)"),h=new RegExp("^"+i+"$"),g=new RegExp("^"+l+"$"),y=function(z){return z&&z.exact?d:new RegExp("(?:"+n(z)+i+n(z)+")|(?:"+n(z)+l+n(z)+")","g")};y.v4=function(B){return B&&B.exact?h:new RegExp(""+n(B)+i+n(B),"g")},y.v6=function(B){return B&&B.exact?g:new RegExp(""+n(B)+l+n(B),"g")};var b="(?:(?:[a-z]+:)?//)",C="(?:\\S+(?::\\S*)?@)?",E=y.v4().source,I=y.v6().source,M="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",T="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",R="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",N="(?::\\d{2,5})?",D='(?:[/?#][^\\s"]*)?',V="(?:"+b+"|www\\.)"+C+"(?:localhost|"+E+"|"+I+"|"+M+T+R+")"+N+D;return _v=new RegExp("(?:^"+V+"$)","i"),_v},tT={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},vp={integer:function(n){return vp.number(n)&&parseInt(n,10)===n},float:function(n){return vp.number(n)&&!vp.integer(n)},array:function(n){return Array.isArray(n)},regexp:function(n){if(n instanceof RegExp)return!0;try{return!!new RegExp(n)}catch{return!1}},date:function(n){return typeof n.getTime=="function"&&typeof n.getMonth=="function"&&typeof n.getYear=="function"&&!isNaN(n.getTime())},number:function(n){return isNaN(n)?!1:typeof n=="number"},object:function(n){return typeof n=="object"&&!vp.array(n)},method:function(n){return typeof n=="function"},email:function(n){return typeof n=="string"&&n.length<=320&&!!n.match(tT.email)},url:function(n){return typeof n=="string"&&n.length<=2048&&!!n.match(bhe())},hex:function(n){return typeof n=="string"&&!!n.match(tT.hex)}},She=function(n,i,o,l,d){if(n.required&&i===void 0){p6(n,i,o,l,d);return}var h=["integer","float","array","regexp","object","method","email","number","date","url","hex"],g=n.type;h.indexOf(g)>-1?vp[g](i)||l.push(uo(d.messages.types[g],n.fullField,n.type)):g&&typeof i!==n.type&&l.push(uo(d.messages.types[g],n.fullField,n.type))},whe=function(n,i,o,l,d){var h=typeof n.len=="number",g=typeof n.min=="number",y=typeof n.max=="number",b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,C=i,E=null,I=typeof i=="number",M=typeof i=="string",T=Array.isArray(i);if(I?E="number":M?E="string":T&&(E="array"),!E)return!1;T&&(C=i.length),M&&(C=i.replace(b,"_").length),h?C!==n.len&&l.push(uo(d.messages[E].len,n.fullField,n.len)):g&&!y&&C<n.min?l.push(uo(d.messages[E].min,n.fullField,n.min)):y&&!g&&C>n.max?l.push(uo(d.messages[E].max,n.fullField,n.max)):g&&y&&(C<n.min||C>n.max)&&l.push(uo(d.messages[E].range,n.fullField,n.min,n.max))},Yd="enum",Ehe=function(n,i,o,l,d){n[Yd]=Array.isArray(n[Yd])?n[Yd]:[],n[Yd].indexOf(i)===-1&&l.push(uo(d.messages[Yd],n.fullField,n[Yd].join(", ")))},Che=function(n,i,o,l,d){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(i)||l.push(uo(d.messages.pattern.mismatch,n.fullField,i,n.pattern));else if(typeof n.pattern=="string"){var h=new RegExp(n.pattern);h.test(i)||l.push(uo(d.messages.pattern.mismatch,n.fullField,i,n.pattern))}}},Hr={required:p6,whitespace:yhe,type:She,range:whe,enum:Ehe,pattern:Che},Ihe=function(n,i,o,l,d){var h=[],g=n.required||!n.required&&l.hasOwnProperty(n.field);if(g){if(Hi(i,"string")&&!n.required)return o();Hr.required(n,i,l,h,d,"string"),Hi(i,"string")||(Hr.type(n,i,l,h,d),Hr.range(n,i,l,h,d),Hr.pattern(n,i,l,h,d),n.whitespace===!0&&Hr.whitespace(n,i,l,h,d))}o(h)},xhe=function(n,i,o,l,d){var h=[],g=n.required||!n.required&&l.hasOwnProperty(n.field);if(g){if(Hi(i)&&!n.required)return o();Hr.required(n,i,l,h,d),i!==void 0&&Hr.type(n,i,l,h,d)}o(h)},Mhe=function(n,i,o,l,d){var h=[],g=n.required||!n.required&&l.hasOwnProperty(n.field);if(g){if(i===""&&(i=void 0),Hi(i)&&!n.required)return o();Hr.required(n,i,l,h,d),i!==void 0&&(Hr.type(n,i,l,h,d),Hr.range(n,i,l,h,d))}o(h)},Rhe=function(n,i,o,l,d){var h=[],g=n.required||!n.required&&l.hasOwnProperty(n.field);if(g){if(Hi(i)&&!n.required)return o();Hr.required(n,i,l,h,d),i!==void 0&&Hr.type(n,i,l,h,d)}o(h)},The=function(n,i,o,l,d){var h=[],g=n.required||!n.required&&l.hasOwnProperty(n.field);if(g){if(Hi(i)&&!n.required)return o();Hr.required(n,i,l,h,d),Hi(i)||Hr.type(n,i,l,h,d)}o(h)},Phe=function(n,i,o,l,d){var h=[],g=n.required||!n.required&&l.hasOwnProperty(n.field);if(g){if(Hi(i)&&!n.required)return o();Hr.required(n,i,l,h,d),i!==void 0&&(Hr.type(n,i,l,h,d),Hr.range(n,i,l,h,d))}o(h)},Nhe=function(n,i,o,l,d){var h=[],g=n.required||!n.required&&l.hasOwnProperty(n.field);if(g){if(Hi(i)&&!n.required)return o();Hr.required(n,i,l,h,d),i!==void 0&&(Hr.type(n,i,l,h,d),Hr.range(n,i,l,h,d))}o(h)},Bhe=function(n,i,o,l,d){var h=[],g=n.required||!n.required&&l.hasOwnProperty(n.field);if(g){if(i==null&&!n.required)return o();Hr.required(n,i,l,h,d,"array"),i!=null&&(Hr.type(n,i,l,h,d),Hr.range(n,i,l,h,d))}o(h)},Dhe=function(n,i,o,l,d){var h=[],g=n.required||!n.required&&l.hasOwnProperty(n.field);if(g){if(Hi(i)&&!n.required)return o();Hr.required(n,i,l,h,d),i!==void 0&&Hr.type(n,i,l,h,d)}o(h)},khe="enum",Lhe=function(n,i,o,l,d){var h=[],g=n.required||!n.required&&l.hasOwnProperty(n.field);if(g){if(Hi(i)&&!n.required)return o();Hr.required(n,i,l,h,d),i!==void 0&&Hr[khe](n,i,l,h,d)}o(h)},Ohe=function(n,i,o,l,d){var h=[],g=n.required||!n.required&&l.hasOwnProperty(n.field);if(g){if(Hi(i,"string")&&!n.required)return o();Hr.required(n,i,l,h,d),Hi(i,"string")||Hr.pattern(n,i,l,h,d)}o(h)},Fhe=function(n,i,o,l,d){var h=[],g=n.required||!n.required&&l.hasOwnProperty(n.field);if(g){if(Hi(i,"date")&&!n.required)return o();if(Hr.required(n,i,l,h,d),!Hi(i,"date")){var y;i instanceof Date?y=i:y=new Date(i),Hr.type(n,y,l,h,d),y&&Hr.range(n,y.getTime(),l,h,d)}}o(h)},Vhe=function(n,i,o,l,d){var h=[],g=Array.isArray(i)?"array":typeof i;Hr.required(n,i,l,h,d,g),o(h)},Sb=function(n,i,o,l,d){var h=n.type,g=[],y=n.required||!n.required&&l.hasOwnProperty(n.field);if(y){if(Hi(i,h)&&!n.required)return o();Hr.required(n,i,l,g,d,h),Hi(i,h)||Hr.type(n,i,l,g,d)}o(g)},Ghe=function(n,i,o,l,d){var h=[],g=n.required||!n.required&&l.hasOwnProperty(n.field);if(g){if(Hi(i)&&!n.required)return o();Hr.required(n,i,l,h,d)}o(h)},Pp={string:Ihe,method:xhe,number:Mhe,boolean:Rhe,regexp:The,integer:Phe,float:Nhe,array:Bhe,object:Dhe,enum:Lhe,pattern:Ohe,date:Fhe,url:Sb,hex:Sb,email:Sb,required:Vhe,any:Ghe};function x1(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var n=JSON.parse(JSON.stringify(this));return n.clone=this.clone,n}}}var M1=x1(),wm=function(){function t(i){this.rules=null,this._messages=M1,this.define(i)}var n=t.prototype;return n.define=function(o){var l=this;if(!o)throw new Error("Cannot configure a schema with no rules");if(typeof o!="object"||Array.isArray(o))throw new Error("Rules must be an object");this.rules={},Object.keys(o).forEach(function(d){var h=o[d];l.rules[d]=Array.isArray(h)?h:[h]})},n.messages=function(o){return o&&(this._messages=eT(x1(),o)),this._messages},n.validate=function(o,l,d){var h=this;l===void 0&&(l={}),d===void 0&&(d=function(){});var g=o,y=l,b=d;if(typeof y=="function"&&(b=y,y={}),!this.rules||Object.keys(this.rules).length===0)return b&&b(null,g),Promise.resolve(g);function C(R){var N=[],D={};function V(z){if(Array.isArray(z)){var H;N=(H=N).concat.apply(H,z)}else N.push(z)}for(var B=0;B<R.length;B++)V(R[B]);N.length?(D=I1(N),b(N,D)):b(null,g)}if(y.messages){var E=this.messages();E===M1&&(E=x1()),eT(E,y.messages),y.messages=E}else y.messages=this.messages();var I={},M=y.keys||Object.keys(this.rules);M.forEach(function(R){var N=h.rules[R],D=g[R];N.forEach(function(V){var B=V;typeof B.transform=="function"&&(g===o&&(g=Pu({},g)),D=g[R]=B.transform(D)),typeof B=="function"?B={validator:B}:B=Pu({},B),B.validator=h.getValidationMethod(B),B.validator&&(B.field=R,B.fullField=B.fullField||R,B.type=h.getType(B),I[R]=I[R]||[],I[R].push({rule:B,value:D,source:g,field:R}))})});var T={};return vhe(I,y,function(R,N){var D=R.rule,V=(D.type==="object"||D.type==="array")&&(typeof D.fields=="object"||typeof D.defaultField=="object");V=V&&(D.required||!D.required&&R.value),D.field=R.field;function B(q,he){return Pu({},he,{fullField:D.fullField+"."+q,fullFields:D.fullFields?[].concat(D.fullFields,[q]):[q]})}function z(q){q===void 0&&(q=[]);var he=Array.isArray(q)?q:[q];!y.suppressWarning&&he.length&&t.warning("async-validator:",he),he.length&&D.message!==void 0&&(he=[].concat(D.message));var ne=he.map(ZR(D,g));if(y.first&&ne.length)return T[D.field]=1,N(ne);if(!V)N(ne);else{if(D.required&&!R.value)return D.message!==void 0?ne=[].concat(D.message).map(ZR(D,g)):y.error&&(ne=[y.error(D,uo(y.messages.required,D.field))]),N(ne);var se={};D.defaultField&&Object.keys(R.value).map(function(me){se[me]=D.defaultField}),se=Pu({},se,R.rule.fields);var oe={};Object.keys(se).forEach(function(me){var ce=se[me],Ae=Array.isArray(ce)?ce:[ce];oe[me]=Ae.map(B.bind(null,me))});var xe=new t(oe);xe.messages(y.messages),R.rule.options&&(R.rule.options.messages=y.messages,R.rule.options.error=y.error),xe.validate(R.value,R.rule.options||y,function(me){var ce=[];ne&&ne.length&&ce.push.apply(ce,ne),me&&me.length&&ce.push.apply(ce,me),N(ce.length?ce:null)})}}var H;if(D.asyncValidator)H=D.asyncValidator(D,R.value,z,R.source,y);else if(D.validator){try{H=D.validator(D,R.value,z,R.source,y)}catch(q){console.error==null||console.error(q),y.suppressValidatorError||setTimeout(function(){throw q},0),z(q.message)}H===!0?z():H===!1?z(typeof D.message=="function"?D.message(D.fullField||D.field):D.message||(D.fullField||D.field)+" fails"):H instanceof Array?z(H):H instanceof Error&&z(H.message)}H&&H.then&&H.then(function(){return z()},function(q){return z(q)})},function(R){C(R)},g)},n.getType=function(o){if(o.type===void 0&&o.pattern instanceof RegExp&&(o.type="pattern"),typeof o.validator!="function"&&o.type&&!Pp.hasOwnProperty(o.type))throw new Error(uo("Unknown rule type %s",o.type));return o.type||"string"},n.getValidationMethod=function(o){if(typeof o.validator=="function")return o.validator;var l=Object.keys(o),d=l.indexOf("message");return d!==-1&&l.splice(d,1),l.length===1&&l[0]==="required"?Pp.required:Pp[this.getType(o)]||void 0},t}();wm.register=function(n,i){if(typeof i!="function")throw new Error("Cannot register a validator by type, validator is not a function");Pp[n]=i};wm.warning=hhe;wm.messages=M1;wm.validators=Pp;const Uhe=["","error","validating","success"],zhe=$t({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:nt([String,Array])},required:{type:Boolean,default:void 0},rules:{type:nt([Object,Array])},error:String,validateStatus:{type:String,values:Uhe},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Fc}}),nT="ElLabelWrap";var Hhe=Ge({name:nT,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:n}){const i=hn(Zu,void 0),o=hn(Qa);o||ki(nT,"usage: <el-form-item><label-wrap /></el-form-item>");const l=Ct("form"),d=re(),h=re(0),g=()=>{var C;if((C=d.value)!=null&&C.firstElementChild){const E=window.getComputedStyle(d.value.firstElementChild).width;return Math.ceil(Number.parseFloat(E))}else return 0},y=(C="update")=>{dn(()=>{n.default&&t.isAutoWidth&&(C==="update"?h.value=g():C==="remove"&&(i==null||i.deregisterLabelWidth(h.value)))})},b=()=>y("update");return jn(()=>{b()}),hi(()=>{y("remove")}),Dl(()=>b()),It(h,(C,E)=>{t.updateAll&&(i==null||i.registerLabelWidth(C,E))}),As(K(()=>{var C,E;return(E=(C=d.value)==null?void 0:C.firstElementChild)!=null?E:null}),b),()=>{var C,E;if(!n)return null;const{isAutoWidth:I}=t;if(I){const M=i==null?void 0:i.autoLabelWidth,T=o==null?void 0:o.hasLabel,R={};if(T&&M&&M!=="auto"){const N=Math.max(0,Number.parseInt(M,10)-h.value),D=i.labelPosition==="left"?"marginRight":"marginLeft";N&&(R[D]=`${N}px`)}return Re("div",{ref:d,class:[l.be("item","label-wrap")],style:R},[(C=n.default)==null?void 0:C.call(n)])}else return Re(gn,{ref:d},[(E=n.default)==null?void 0:E.call(n)])}}});const Qhe=["role","aria-labelledby"],Xhe=Ge({name:"ElFormItem"}),$he=Ge({...Xhe,props:zhe,setup(t,{expose:n}){const i=t,o=ss(),l=hn(Zu,void 0),d=hn(Qa,void 0),h=Mi(void 0,{formItem:!1}),g=Ct("form-item"),y=_a().value,b=re([]),C=re(""),E=Aee(C,100),I=re(""),M=re();let T,R=!1;const N=K(()=>{if((l==null?void 0:l.labelPosition)==="top")return{};const st=xi(i.labelWidth||(l==null?void 0:l.labelWidth)||"");return st?{width:st}:{}}),D=K(()=>{if((l==null?void 0:l.labelPosition)==="top"||(l==null?void 0:l.inline))return{};if(!i.label&&!i.labelWidth&&se)return{};const st=xi(i.labelWidth||(l==null?void 0:l.labelWidth)||"");return!i.label&&!o.label?{marginLeft:st}:{}}),V=K(()=>[g.b(),g.m(h.value),g.is("error",C.value==="error"),g.is("validating",C.value==="validating"),g.is("success",C.value==="success"),g.is("required",Ae.value||i.required),g.is("no-asterisk",l==null?void 0:l.hideRequiredAsterisk),(l==null?void 0:l.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[g.m("feedback")]:l==null?void 0:l.statusIcon}]),B=K(()=>Bi(i.inlineMessage)?i.inlineMessage:(l==null?void 0:l.inlineMessage)||!1),z=K(()=>[g.e("error"),{[g.em("error","inline")]:B.value}]),H=K(()=>i.prop?On(i.prop)?i.prop:i.prop.join("."):""),q=K(()=>!!(i.label||o.label)),he=K(()=>i.for||b.value.length===1?b.value[0]:void 0),ne=K(()=>!he.value&&q.value),se=!!d,oe=K(()=>{const st=l==null?void 0:l.model;if(!(!st||!i.prop))return Rv(st,i.prop).value}),xe=K(()=>{const{required:st}=i,Ye=[];i.rules&&Ye.push(...Tf(i.rules));const ot=l==null?void 0:l.rules;if(ot&&i.prop){const Et=Rv(ot,i.prop).value;Et&&Ye.push(...Tf(Et))}if(st!==void 0){const Et=Ye.map((an,Be)=>[an,Be]).filter(([an])=>Object.keys(an).includes("required"));if(Et.length>0)for(const[an,Be]of Et)an.required!==st&&(Ye[Be]={...an,required:st});else Ye.push({required:st})}return Ye}),me=K(()=>xe.value.length>0),ce=st=>xe.value.filter(ot=>!ot.trigger||!st?!0:Array.isArray(ot.trigger)?ot.trigger.includes(st):ot.trigger===st).map(({trigger:ot,...Et})=>Et),Ae=K(()=>xe.value.some(st=>st.required)),Se=K(()=>{var st;return E.value==="error"&&i.showMessage&&((st=l==null?void 0:l.showMessage)!=null?st:!0)}),ye=K(()=>`${i.label||""}${(l==null?void 0:l.labelSuffix)||""}`),ie=st=>{C.value=st},fe=st=>{var Ye,ot;const{errors:Et,fields:an}=st;(!Et||!an)&&console.error(st),ie("error"),I.value=Et?(ot=(Ye=Et==null?void 0:Et[0])==null?void 0:Ye.message)!=null?ot:`${i.prop} is required`:"",l==null||l.emit("validate",i.prop,!1,I.value)},le=()=>{ie("success"),l==null||l.emit("validate",i.prop,!0,"")},Oe=async st=>{const Ye=H.value;return new wm({[Ye]:st}).validate({[Ye]:oe.value},{firstFields:!0}).then(()=>(le(),!0)).catch(Et=>(fe(Et),Promise.reject(Et)))},Qe=async(st,Ye)=>{if(R||!i.prop)return!1;const ot=Nn(Ye);if(!me.value)return Ye==null||Ye(!1),!1;const Et=ce(st);return Et.length===0?(Ye==null||Ye(!0),!0):(ie("validating"),Oe(Et).then(()=>(Ye==null||Ye(!0),!0)).catch(an=>{const{fields:Be}=an;return Ye==null||Ye(!1,Be),ot?!1:Promise.reject(Be)}))},Pe=()=>{ie(""),I.value="",R=!1},He=async()=>{const st=l==null?void 0:l.model;if(!st||!i.prop)return;const Ye=Rv(st,i.prop);R=!0,Ye.value=xM(T),await dn(),Pe(),R=!1},bt=st=>{b.value.includes(st)||b.value.push(st)},xt=st=>{b.value=b.value.filter(Ye=>Ye!==st)};It(()=>i.error,st=>{I.value=st||"",ie(st?"error":"")},{immediate:!0}),It(()=>i.validateStatus,st=>ie(st||""));const Nt=Mr({...Di(i),$el:M,size:h,validateState:C,labelId:y,inputIds:b,isGroup:ne,hasLabel:q,addInputId:bt,removeInputId:xt,resetField:He,clearValidate:Pe,validate:Qe});return or(Qa,Nt),jn(()=>{i.prop&&(l==null||l.addField(Nt),T=xM(oe.value))}),hi(()=>{l==null||l.removeField(Nt)}),n({size:h,validateMessage:I,validateState:C,validate:Qe,clearValidate:Pe,resetField:He}),(st,Ye)=>{var ot;return $(),_e("div",{ref_key:"formItemRef",ref:M,class:J(v(V)),role:v(ne)?"group":void 0,"aria-labelledby":v(ne)?v(y):void 0},[Re(v(Hhe),{"is-auto-width":v(N).width==="auto","update-all":((ot=v(l))==null?void 0:ot.labelWidth)==="auto"},{default:Ue(()=>[v(q)?($(),rt(sr(v(he)?"label":"div"),{key:0,id:v(y),for:v(he),class:J(v(g).e("label")),style:fn(v(N))},{default:Ue(()=>[yt(st.$slots,"label",{label:v(ye)},()=>[mr(Xt(v(ye)),1)])]),_:3},8,["id","for","class","style"])):Ze("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Ie("div",{class:J(v(g).e("content")),style:fn(v(D))},[yt(st.$slots,"default"),Re(Si,{name:`${v(g).namespace.value}-zoom-in-top`},{default:Ue(()=>[v(Se)?yt(st.$slots,"error",{key:0,error:I.value},()=>[Ie("div",{class:J(v(z))},Xt(I.value),3)]):Ze("v-if",!0)]),_:3},8,["name"])],6)],10,Qhe)}}});var m6=Ht($he,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const Whe=er(lhe,{FormItem:m6}),Khe=pi(m6),jhe=$t({urlList:{type:nt(Array),default:()=>ni([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0}}),qhe={close:()=>!0,switch:t=>Hn(t)},Yhe=["src"],Jhe=Ge({name:"ElImageViewer"}),Zhe=Ge({...Jhe,props:jhe,emits:qhe,setup(t,{expose:n,emit:i}){const o=t,l={CONTAIN:{name:"contain",icon:Lu(C9)},ORIGINAL:{name:"original",icon:Lu(G7)}},d=KS()?"DOMMouseScroll":"mousewheel",{t:h}=Sr(),g=Ct("image-viewer"),{nextZIndex:y}=Fl(),b=re(),C=re([]),E=Sz(),I=re(!0),M=re(o.initialIndex),T=qr(l.CONTAIN),R=re({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),N=K(()=>{const{urlList:fe}=o;return fe.length<=1}),D=K(()=>M.value===0),V=K(()=>M.value===o.urlList.length-1),B=K(()=>o.urlList[M.value]),z=K(()=>{const{scale:fe,deg:le,offsetX:Oe,offsetY:Qe,enableTransition:Pe}=R.value;let He=Oe/fe,bt=Qe/fe;switch(le%360){case 90:case-270:[He,bt]=[bt,-He];break;case 180:case-180:[He,bt]=[-He,-bt];break;case 270:case-90:[He,bt]=[-bt,He];break}const xt={transform:`scale(${fe}) rotate(${le}deg) translate(${He}px, ${bt}px)`,transition:Pe?"transform .3s":""};return T.value.name===l.CONTAIN.name&&(xt.maxWidth=xt.maxHeight="100%"),xt}),H=K(()=>Hn(o.zIndex)?o.zIndex:y());function q(){ne(),i("close")}function he(){const fe=Fu(Oe=>{switch(Oe.code){case An.esc:o.closeOnPressEscape&&q();break;case An.space:ce();break;case An.left:Se();break;case An.up:ie("zoomIn");break;case An.right:ye();break;case An.down:ie("zoomOut");break}}),le=Fu(Oe=>{(Oe.wheelDelta?Oe.wheelDelta:-Oe.detail)>0?ie("zoomIn",{zoomRate:1.2,enableTransition:!1}):ie("zoomOut",{zoomRate:1.2,enableTransition:!1})});E.run(()=>{Jr(document,"keydown",fe),Jr(document,d,le)})}function ne(){E.stop()}function se(){I.value=!1}function oe(fe){I.value=!1,fe.target.alt=h("el.image.error")}function xe(fe){if(I.value||fe.button!==0||!b.value)return;R.value.enableTransition=!1;const{offsetX:le,offsetY:Oe}=R.value,Qe=fe.pageX,Pe=fe.pageY,He=Fu(xt=>{R.value={...R.value,offsetX:le+xt.pageX-Qe,offsetY:Oe+xt.pageY-Pe}}),bt=Jr(document,"mousemove",He);Jr(document,"mouseup",()=>{bt()}),fe.preventDefault()}function me(){R.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function ce(){if(I.value)return;const fe=qp(l),le=Object.values(l),Oe=T.value.name,Pe=(le.findIndex(He=>He.name===Oe)+1)%fe.length;T.value=l[fe[Pe]],me()}function Ae(fe){const le=o.urlList.length;M.value=(fe+le)%le}function Se(){D.value&&!o.infinite||Ae(M.value-1)}function ye(){V.value&&!o.infinite||Ae(M.value+1)}function ie(fe,le={}){if(I.value)return;const{zoomRate:Oe,rotateDeg:Qe,enableTransition:Pe}={zoomRate:1.4,rotateDeg:90,enableTransition:!0,...le};switch(fe){case"zoomOut":R.value.scale>.2&&(R.value.scale=Number.parseFloat((R.value.scale/Oe).toFixed(3)));break;case"zoomIn":R.value.scale<7&&(R.value.scale=Number.parseFloat((R.value.scale*Oe).toFixed(3)));break;case"clockwise":R.value.deg+=Qe;break;case"anticlockwise":R.value.deg-=Qe;break}R.value.enableTransition=Pe}return It(B,()=>{dn(()=>{const fe=C.value[0];fe!=null&&fe.complete||(I.value=!0)})}),It(M,fe=>{me(),i("switch",fe)}),jn(()=>{var fe,le;he(),(le=(fe=b.value)==null?void 0:fe.focus)==null||le.call(fe)}),n({setActiveItem:Ae}),(fe,le)=>($(),rt(hm,{to:"body",disabled:!fe.teleported},[Re(Si,{name:"viewer-fade",appear:""},{default:Ue(()=>[Ie("div",{ref_key:"wrapper",ref:b,tabindex:-1,class:J(v(g).e("wrapper")),style:fn({zIndex:v(H)})},[Ie("div",{class:J(v(g).e("mask")),onClick:le[0]||(le[0]=Dn(Oe=>fe.hideOnClickModal&&q(),["self"]))},null,2),Ze(" CLOSE "),Ie("span",{class:J([v(g).e("btn"),v(g).e("close")]),onClick:q},[Re(v(un),null,{default:Ue(()=>[Re(v(ga))]),_:1})],2),Ze(" ARROW "),v(N)?Ze("v-if",!0):($(),_e(gn,{key:0},[Ie("span",{class:J([v(g).e("btn"),v(g).e("prev"),v(g).is("disabled",!fe.infinite&&v(D))]),onClick:Se},[Re(v(un),null,{default:Ue(()=>[Re(v(Ic))]),_:1})],2),Ie("span",{class:J([v(g).e("btn"),v(g).e("next"),v(g).is("disabled",!fe.infinite&&v(V))]),onClick:ye},[Re(v(un),null,{default:Ue(()=>[Re(v(Ts))]),_:1})],2)],64)),Ze(" ACTIONS "),Ie("div",{class:J([v(g).e("btn"),v(g).e("actions")])},[Ie("div",{class:J(v(g).e("actions__inner"))},[Re(v(un),{onClick:le[1]||(le[1]=Oe=>ie("zoomOut"))},{default:Ue(()=>[Re(v(KW))]),_:1}),Re(v(un),{onClick:le[2]||(le[2]=Oe=>ie("zoomIn"))},{default:Ue(()=>[Re(v(aN))]),_:1}),Ie("i",{class:J(v(g).e("actions__divider"))},null,2),Re(v(un),{onClick:ce},{default:Ue(()=>[($(),rt(sr(v(T).icon)))]),_:1}),Ie("i",{class:J(v(g).e("actions__divider"))},null,2),Re(v(un),{onClick:le[3]||(le[3]=Oe=>ie("anticlockwise"))},{default:Ue(()=>[Re(v(M7))]),_:1}),Re(v(un),{onClick:le[4]||(le[4]=Oe=>ie("clockwise"))},{default:Ue(()=>[Re(v(D7))]),_:1})],2)],2),Ze(" CANVAS "),Ie("div",{class:J(v(g).e("canvas"))},[($(!0),_e(gn,null,ur(fe.urlList,(Oe,Qe)=>zn(($(),_e("img",{ref_for:!0,ref:Pe=>C.value[Qe]=Pe,key:Oe,src:Oe,style:fn(v(z)),class:J(v(g).e("img")),onLoad:se,onError:oe,onMousedown:xe},null,46,Yhe)),[[yr,Qe===M.value]])),128))],2),yt(fe.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var epe=Ht(Zhe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const g6=er(epe),tpe=$t({hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:{type:Boolean,default:!1},scrollContainer:{type:nt([String,Object])},previewSrcList:{type:nt(Array),default:()=>ni([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0}}),npe={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>Hn(t),close:()=>!0,show:()=>!0},rpe=["src","loading"],ipe={key:0},spe=Ge({name:"ElImage",inheritAttrs:!1}),ope=Ge({...spe,props:tpe,emits:npe,setup(t,{emit:n}){const i=t;let o="";const{t:l}=Sr(),d=Ct("image"),h=pm(),g=YS(),y=re(),b=re(!1),C=re(!0),E=re(!1),I=re(),M=re(),T=fr&&"loading"in HTMLImageElement.prototype;let R,N;const D=K(()=>h.style),V=K(()=>{const{fit:ie}=i;return fr&&ie?{objectFit:ie}:{}}),B=K(()=>{const{previewSrcList:ie}=i;return Array.isArray(ie)&&ie.length>0}),z=K(()=>{const{previewSrcList:ie,initialIndex:fe}=i;let le=fe;return fe>ie.length-1&&(le=0),le}),H=K(()=>i.loading==="eager"?!1:!T&&i.loading==="lazy"||i.lazy),q=()=>{!fr||(C.value=!0,b.value=!1,y.value=i.src)};function he(ie){C.value=!1,b.value=!1,n("load",ie)}function ne(ie){C.value=!1,b.value=!0,n("error",ie)}function se(){Lee(I.value,M.value)&&(q(),me())}const oe=zN(se,200);async function xe(){var ie;if(!fr)return;await dn();const{scrollContainer:fe}=i;va(fe)?M.value=fe:On(fe)&&fe!==""?M.value=(ie=document.querySelector(fe))!=null?ie:void 0:I.value&&(M.value=$S(I.value)),M.value&&(R=Jr(M,"scroll",oe),setTimeout(()=>se(),100))}function me(){!fr||!M.value||!oe||(R==null||R(),M.value=void 0)}function ce(ie){if(!!ie.ctrlKey){if(ie.deltaY<0)return ie.preventDefault(),!1;if(ie.deltaY>0)return ie.preventDefault(),!1}}function Ae(){!B.value||(N=Jr("wheel",ce,{passive:!1}),o=document.body.style.overflow,document.body.style.overflow="hidden",E.value=!0,n("show"))}function Se(){N==null||N(),document.body.style.overflow=o,E.value=!1,n("close")}function ye(ie){n("switch",ie)}return It(()=>i.src,()=>{H.value?(C.value=!0,b.value=!1,me(),xe()):q()}),jn(()=>{H.value?xe():q()}),(ie,fe)=>($(),_e("div",{ref_key:"container",ref:I,class:J([v(d).b(),ie.$attrs.class]),style:fn(v(D))},[y.value!==void 0&&!b.value?($(),_e("img",ir({key:0},v(g),{src:y.value,loading:ie.loading,style:v(V),class:[v(d).e("inner"),v(B)&&v(d).e("preview"),C.value&&v(d).is("loading")],onClick:Ae,onLoad:he,onError:ne}),null,16,rpe)):Ze("v-if",!0),C.value||b.value?($(),_e("div",{key:1,class:J(v(d).e("wrapper"))},[C.value?yt(ie.$slots,"placeholder",{key:0},()=>[Ie("div",{class:J(v(d).e("placeholder"))},null,2)]):b.value?yt(ie.$slots,"error",{key:1},()=>[Ie("div",{class:J(v(d).e("error"))},Xt(v(l)("el.image.error")),3)]):Ze("v-if",!0)],2)):Ze("v-if",!0),v(B)?($(),_e(gn,{key:2},[E.value?($(),rt(v(g6),{key:0,"z-index":ie.zIndex,"initial-index":v(z),infinite:ie.infinite,"url-list":ie.previewSrcList,"hide-on-click-modal":ie.hideOnClickModal,teleported:ie.previewTeleported,"close-on-press-escape":ie.closeOnPressEscape,onClose:Se,onSwitch:ye},{default:Ue(()=>[ie.$slots.viewer?($(),_e("div",ipe,[yt(ie.$slots,"viewer")])):Ze("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):Ze("v-if",!0)],64)):Ze("v-if",!0)],6))}});var ape=Ht(ope,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const lpe=er(ape),cpe=$t({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Qs,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||Hn(t)||["min","max"].includes(t),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0}}),upe={[Zr]:(t,n)=>t!==n,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[Ps]:t=>Hn(t)||rs(t),[Jn]:t=>Hn(t)||rs(t)},dpe=["aria-label","onKeydown"],fpe=["aria-label","onKeydown"],hpe=Ge({name:"ElInputNumber"}),ppe=Ge({...hpe,props:cpe,emits:upe,setup(t,{expose:n,emit:i}){const o=t,{t:l}=Sr(),d=Ct("input-number"),h=re(),g=Mr({currentValue:o.modelValue,userInput:null}),{formItem:y}=Bs(),b=K(()=>Hn(o.modelValue)&&V(o.modelValue,-1)<o.min),C=K(()=>Hn(o.modelValue)&&V(o.modelValue)>o.max),E=K(()=>{const ce=D(o.step);return ts(o.precision)?Math.max(D(o.modelValue),ce):(ce>o.precision,o.precision)}),I=K(()=>o.controls&&o.controlsPosition==="right"),M=Mi(),T=wa(),R=K(()=>{if(g.userInput!==null)return g.userInput;let ce=g.currentValue;if(rs(ce))return"";if(Hn(ce)){if(Number.isNaN(ce))return"";ts(o.precision)||(ce=ce.toFixed(o.precision))}return ce}),N=(ce,Ae)=>{if(ts(Ae)&&(Ae=E.value),Ae===0)return Math.round(ce);let Se=String(ce);const ye=Se.indexOf(".");if(ye===-1||!Se.replace(".","").split("")[ye+Ae])return ce;const le=Se.length;return Se.charAt(le-1)==="5"&&(Se=`${Se.slice(0,Math.max(0,le-1))}6`),Number.parseFloat(Number(Se).toFixed(Ae))},D=ce=>{if(rs(ce))return 0;const Ae=ce.toString(),Se=Ae.indexOf(".");let ye=0;return Se!==-1&&(ye=Ae.length-Se-1),ye},V=(ce,Ae=1)=>Hn(ce)?N(ce+o.step*Ae):g.currentValue,B=()=>{if(o.readonly||T.value||C.value)return;const ce=Number(R.value)||0,Ae=V(ce);q(Ae),i(Ps,g.currentValue)},z=()=>{if(o.readonly||T.value||b.value)return;const ce=Number(R.value)||0,Ae=V(ce,-1);q(Ae),i(Ps,g.currentValue)},H=(ce,Ae)=>{const{max:Se,min:ye,step:ie,precision:fe,stepStrictly:le,valueOnClear:Oe}=o;let Qe=Number(ce);if(rs(ce)||Number.isNaN(Qe))return null;if(ce===""){if(Oe===null)return null;Qe=On(Oe)?{min:ye,max:Se}[Oe]:Oe}return le&&(Qe=N(Math.round(Qe/ie)*ie,fe)),ts(fe)||(Qe=N(Qe,fe)),(Qe>Se||Qe<ye)&&(Qe=Qe>Se?Se:ye,Ae&&i(Jn,Qe)),Qe},q=ce=>{var Ae;const Se=g.currentValue,ye=H(ce);Se!==ye&&(g.userInput=null,i(Jn,ye),i(Zr,ye,Se),o.validateEvent&&((Ae=y==null?void 0:y.validate)==null||Ae.call(y,"change").catch(ie=>void 0)),g.currentValue=ye)},he=ce=>{g.userInput=ce,i(Ps,ce===""?null:Number(ce))},ne=ce=>{const Ae=ce!==""?Number(ce):"";(Hn(Ae)&&!Number.isNaN(Ae)||ce==="")&&q(Ae),g.userInput=null},se=()=>{var ce,Ae;(Ae=(ce=h.value)==null?void 0:ce.focus)==null||Ae.call(ce)},oe=()=>{var ce,Ae;(Ae=(ce=h.value)==null?void 0:ce.blur)==null||Ae.call(ce)},xe=ce=>{i("focus",ce)},me=ce=>{var Ae;i("blur",ce),o.validateEvent&&((Ae=y==null?void 0:y.validate)==null||Ae.call(y,"blur").catch(Se=>void 0))};return It(()=>o.modelValue,ce=>{g.currentValue=H(ce,!0),g.userInput=null},{immediate:!0}),jn(()=>{var ce;const{min:Ae,max:Se,modelValue:ye}=o,ie=(ce=h.value)==null?void 0:ce.input;if(ie.setAttribute("role","spinbutton"),Number.isFinite(Se)?ie.setAttribute("aria-valuemax",String(Se)):ie.removeAttribute("aria-valuemax"),Number.isFinite(Ae)?ie.setAttribute("aria-valuemin",String(Ae)):ie.removeAttribute("aria-valuemin"),ie.setAttribute("aria-valuenow",String(g.currentValue)),ie.setAttribute("aria-disabled",String(T.value)),!Hn(ye)&&ye!=null){let fe=Number(ye);Number.isNaN(fe)&&(fe=null),i(Jn,fe)}}),Dl(()=>{var ce;const Ae=(ce=h.value)==null?void 0:ce.input;Ae==null||Ae.setAttribute("aria-valuenow",`${g.currentValue}`)}),n({focus:se,blur:oe}),(ce,Ae)=>($(),_e("div",{class:J([v(d).b(),v(d).m(v(M)),v(d).is("disabled",v(T)),v(d).is("without-controls",!ce.controls),v(d).is("controls-right",v(I))]),onDragstart:Ae[0]||(Ae[0]=Dn(()=>{},["prevent"]))},[ce.controls?zn(($(),_e("span",{key:0,role:"button","aria-label":v(l)("el.inputNumber.decrease"),class:J([v(d).e("decrease"),v(d).is("disabled",v(b))]),onKeydown:pr(z,["enter"])},[Re(v(un),null,{default:Ue(()=>[v(I)?($(),rt(v(kc),{key:0})):($(),rt(v(K9),{key:1}))]),_:1})],42,dpe)),[[v(d_),z]]):Ze("v-if",!0),ce.controls?zn(($(),_e("span",{key:1,role:"button","aria-label":v(l)("el.inputNumber.increase"),class:J([v(d).e("increase"),v(d).is("disabled",v(C))]),onKeydown:pr(B,["enter"])},[Re(v(un),null,{default:Ue(()=>[v(I)?($(),rt(v(O_),{key:0})):($(),rt(v(sN),{key:1}))]),_:1})],42,fpe)),[[v(d_),B]]):Ze("v-if",!0),Re(v(vs),{id:ce.id,ref_key:"input",ref:h,type:"number",step:ce.step,"model-value":v(R),placeholder:ce.placeholder,readonly:ce.readonly,disabled:v(T),size:v(M),max:ce.max,min:ce.min,name:ce.name,label:ce.label,"validate-event":!1,onKeydown:[pr(Dn(B,["prevent"]),["up"]),pr(Dn(z,["prevent"]),["down"])],onBlur:me,onFocus:xe,onInput:he,onChange:ne},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var mpe=Ht(ppe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const v6=er(mpe),gpe=$t({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:jr}}),vpe={click:t=>t instanceof MouseEvent},_pe=["href"],Ape=Ge({name:"ElLink"}),ype=Ge({...Ape,props:gpe,emits:vpe,setup(t,{emit:n}){const i=t,o=Ct("link");function l(d){i.disabled||n("click",d)}return(d,h)=>($(),_e("a",{class:J([v(o).b(),v(o).m(d.type),v(o).is("disabled",d.disabled),v(o).is("underline",d.underline&&!d.disabled)]),href:d.disabled||!d.href?void 0:d.href,onClick:l},[d.icon?($(),rt(v(un),{key:0},{default:Ue(()=>[($(),rt(sr(d.icon)))]),_:1})):Ze("v-if",!0),d.$slots.default?($(),_e("span",{key:1,class:J(v(o).e("inner"))},[yt(d.$slots,"default")],2)):Ze("v-if",!0),d.$slots.icon?yt(d.$slots,"icon",{key:2}):Ze("v-if",!0)],10,_pe))}});var bpe=Ht(ype,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const Spe=er(bpe);class wpe{constructor(n,i){this.parent=n,this.domNode=i,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,i=>{i.addEventListener("keydown",o=>{let l=!1;switch(o.code){case An.down:{this.gotoSubIndex(this.subIndex+1),l=!0;break}case An.up:{this.gotoSubIndex(this.subIndex-1),l=!0;break}case An.tab:{xv(n,"mouseleave");break}case An.enter:case An.space:{l=!0,o.currentTarget.click();break}}return l&&(o.preventDefault(),o.stopPropagation()),!1})})}}class Epe{constructor(n,i){this.domNode=n,this.submenu=null,this.submenu=null,this.init(i)}init(n){this.domNode.setAttribute("tabindex","0");const i=this.domNode.querySelector(`.${n}-menu`);i&&(this.submenu=new wpe(this,i)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let i=!1;switch(n.code){case An.down:{xv(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),i=!0;break}case An.up:{xv(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),i=!0;break}case An.tab:{xv(n.currentTarget,"mouseleave");break}case An.enter:case An.space:{i=!0,n.currentTarget.click();break}}i&&n.preventDefault()})}}class Cpe{constructor(n,i){this.domNode=n,this.init(i)}init(n){const i=this.domNode.childNodes;Array.from(i).forEach(o=>{o.nodeType===1&&new Epe(o,n)})}}const Ipe=Ge({name:"ElMenuCollapseTransition",setup(){const t=Ct("menu");return{listeners:{onBeforeEnter:i=>i.style.opacity="0.2",onEnter(i,o){Va(i,`${t.namespace.value}-opacity-transition`),i.style.opacity="1",o()},onAfterEnter(i){Us(i,`${t.namespace.value}-opacity-transition`),i.style.opacity=""},onBeforeLeave(i){i.dataset||(i.dataset={}),ma(i,t.m("collapse"))?(Us(i,t.m("collapse")),i.dataset.oldOverflow=i.style.overflow,i.dataset.scrollWidth=i.clientWidth.toString(),Va(i,t.m("collapse"))):(Va(i,t.m("collapse")),i.dataset.oldOverflow=i.style.overflow,i.dataset.scrollWidth=i.clientWidth.toString(),Us(i,t.m("collapse"))),i.style.width=`${i.scrollWidth}px`,i.style.overflow="hidden"},onLeave(i){Va(i,"horizontal-collapse-transition"),i.style.width=`${i.dataset.scrollWidth}px`}}}}});function xpe(t,n,i,o,l,d){return $(),rt(Si,ir({mode:"out-in"},t.listeners),{default:Ue(()=>[yt(t.$slots,"default")]),_:3},16)}var Mpe=Ht(Ipe,[["render",xpe],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function _6(t,n){const i=K(()=>{let l=t.parent;const d=[n.value];for(;l.type.name!=="ElMenu";)l.props.index&&d.unshift(l.props.index),l=l.parent;return d});return{parentMenu:K(()=>{let l=t.parent;for(;l&&!["ElMenu","ElSubMenu"].includes(l.type.name);)l=l.parent;return l}),indexPath:i}}function Rpe(t){return K(()=>{const i=t.backgroundColor;return i?new J3(i).shade(20).toString():""})}const A6=(t,n)=>{const i=Ct("menu");return K(()=>i.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":Rpe(t).value||"","active-color":t.activeTextColor||"",level:`${n}`}))},Tpe=$t({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:jr},expandOpenIcon:{type:jr},collapseCloseIcon:{type:jr},collapseOpenIcon:{type:jr}}),wb="ElSubMenu";var xw=Ge({name:wb,props:Tpe,setup(t,{slots:n,expose:i}){const o=Zn(),{indexPath:l,parentMenu:d}=_6(o,K(()=>t.index)),h=Ct("menu"),g=Ct("sub-menu"),y=hn("rootMenu");y||ki(wb,"can not inject root menu");const b=hn(`subMenu:${d.value.uid}`);b||ki(wb,"can not inject sub menu");const C=re({}),E=re({});let I;const M=re(!1),T=re(),R=re(null),N=K(()=>xe.value==="horizontal"&&V.value?"bottom-start":"right-start"),D=K(()=>xe.value==="horizontal"&&V.value||xe.value==="vertical"&&!y.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?q.value?t.expandOpenIcon:t.expandCloseIcon:kc:t.collapseCloseIcon&&t.collapseOpenIcon?q.value?t.collapseOpenIcon:t.collapseCloseIcon:Ts),V=K(()=>b.level===0),B=K(()=>t.popperAppendToBody===void 0?V.value:Boolean(t.popperAppendToBody)),z=K(()=>y.props.collapse?`${h.namespace.value}-zoom-in-left`:`${h.namespace.value}-zoom-in-top`),H=K(()=>xe.value==="horizontal"&&V.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),q=K(()=>y.openedMenus.includes(t.index)),he=K(()=>{let le=!1;return Object.values(C.value).forEach(Oe=>{Oe.active&&(le=!0)}),Object.values(E.value).forEach(Oe=>{Oe.active&&(le=!0)}),le}),ne=K(()=>y.props.backgroundColor||""),se=K(()=>y.props.activeTextColor||""),oe=K(()=>y.props.textColor||""),xe=K(()=>y.props.mode),me=Mr({index:t.index,indexPath:l,active:he}),ce=K(()=>xe.value!=="horizontal"?{color:oe.value}:{borderBottomColor:he.value?y.props.activeTextColor?se.value:"":"transparent",color:he.value?se.value:oe.value}),Ae=()=>{var le,Oe,Qe;return(Qe=(Oe=(le=R.value)==null?void 0:le.popperRef)==null?void 0:Oe.popperInstanceRef)==null?void 0:Qe.destroy()},Se=le=>{le||Ae()},ye=()=>{y.props.menuTrigger==="hover"&&y.props.mode==="horizontal"||y.props.collapse&&y.props.mode==="vertical"||t.disabled||y.handleSubMenuClick({index:t.index,indexPath:l.value,active:he.value})},ie=(le,Oe=t.showTimeout)=>{var Qe;le.type!=="focus"&&(y.props.menuTrigger==="click"&&y.props.mode==="horizontal"||!y.props.collapse&&y.props.mode==="vertical"||t.disabled||(b.mouseInChild.value=!0,I==null||I(),{stop:I}=Xu(()=>{y.openMenu(t.index,l.value)},Oe),B.value&&((Qe=d.value.vnode.el)==null||Qe.dispatchEvent(new MouseEvent("mouseenter")))))},fe=(le=!1)=>{var Oe,Qe;y.props.menuTrigger==="click"&&y.props.mode==="horizontal"||!y.props.collapse&&y.props.mode==="vertical"||(I==null||I(),b.mouseInChild.value=!1,{stop:I}=Xu(()=>!M.value&&y.closeMenu(t.index,l.value),t.hideTimeout),B.value&&le&&((Oe=o.parent)==null?void 0:Oe.type.name)==="ElSubMenu"&&((Qe=b.handleMouseleave)==null||Qe.call(b,!0)))};It(()=>y.props.collapse,le=>Se(Boolean(le)));{const le=Qe=>{E.value[Qe.index]=Qe},Oe=Qe=>{delete E.value[Qe.index]};or(`subMenu:${o.uid}`,{addSubMenu:le,removeSubMenu:Oe,handleMouseleave:fe,mouseInChild:M,level:b.level+1})}return i({opened:q}),jn(()=>{y.addSubMenu(me),b.addSubMenu(me)}),hi(()=>{b.removeSubMenu(me),y.removeSubMenu(me)}),()=>{var le;const Oe=[(le=n.title)==null?void 0:le.call(n),yn(un,{class:g.e("icon-arrow"),style:{transform:q.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&y.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>On(D.value)?yn(o.appContext.components[D.value]):yn(D.value)})],Qe=A6(y.props,b.level+1),Pe=y.isMenuPopup?yn(Xs,{ref:R,visible:q.value,effect:"light",pure:!0,offset:t.popperOffset,showArrow:!1,persistent:!0,popperClass:t.popperClass,placement:N.value,teleported:B.value,fallbackPlacements:H.value,transition:z.value,gpuAcceleration:!1},{content:()=>{var He;return yn("div",{class:[h.m(xe.value),h.m("popup-container"),t.popperClass],onMouseenter:bt=>ie(bt,100),onMouseleave:()=>fe(!0),onFocus:bt=>ie(bt,100)},[yn("ul",{class:[h.b(),h.m("popup"),h.m(`popup-${N.value}`)],style:Qe.value},[(He=n.default)==null?void 0:He.call(n)])])},default:()=>yn("div",{class:g.e("title"),style:[ce.value,{backgroundColor:ne.value}],onClick:ye},Oe)}):yn(gn,{},[yn("div",{class:g.e("title"),style:[ce.value,{backgroundColor:ne.value}],ref:T,onClick:ye},Oe),yn(sA,{},{default:()=>{var He;return zn(yn("ul",{role:"menu",class:[h.b(),h.m("inline")],style:Qe.value},[(He=n.default)==null?void 0:He.call(n)]),[[yr,q.value]])}})]);return yn("li",{class:[g.b(),g.is("active",he.value),g.is("opened",q.value),g.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:q.value,onMouseenter:ie,onMouseleave:()=>fe(!0),onFocus:ie},[Pe])}}});const Ppe=$t({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:nt(Array),default:()=>ni([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0}}),Eb=t=>Array.isArray(t)&&t.every(n=>On(n)),Npe={close:(t,n)=>On(t)&&Eb(n),open:(t,n)=>On(t)&&Eb(n),select:(t,n,i,o)=>On(t)&&Eb(n)&&nr(i)&&(o===void 0||o instanceof Promise)};var Bpe=Ge({name:"ElMenu",props:Ppe,emits:Npe,setup(t,{emit:n,slots:i,expose:o}){const l=Zn(),d=l.appContext.config.globalProperties.$router,h=re(),g=Ct("menu"),y=Ct("sub-menu"),b=re(-1),C=re(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),E=re(t.defaultActive),I=re({}),M=re({}),T=K(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),R=()=>{const oe=E.value&&I.value[E.value];if(!oe||t.mode==="horizontal"||t.collapse)return;oe.indexPath.forEach(me=>{const ce=M.value[me];ce&&N(me,ce.indexPath)})},N=(oe,xe)=>{C.value.includes(oe)||(t.uniqueOpened&&(C.value=C.value.filter(me=>xe.includes(me))),C.value.push(oe),n("open",oe,xe))},D=(oe,xe)=>{const me=C.value.indexOf(oe);me!==-1&&C.value.splice(me,1),n("close",oe,xe)},V=({index:oe,indexPath:xe})=>{C.value.includes(oe)?D(oe,xe):N(oe,xe)},B=oe=>{(t.mode==="horizontal"||t.collapse)&&(C.value=[]);const{index:xe,indexPath:me}=oe;if(!(xe===void 0||me===void 0))if(t.router&&d){const ce=oe.route||xe,Ae=d.push(ce).then(Se=>(Se||(E.value=xe),Se));n("select",xe,me,{index:xe,indexPath:me,route:ce},Ae)}else E.value=xe,n("select",xe,me,{index:xe,indexPath:me})},z=oe=>{const xe=I.value,me=xe[oe]||E.value&&xe[E.value]||xe[t.defaultActive];me?E.value=me.index:E.value=oe},H=()=>{var oe,xe;if(!h.value)return-1;const me=Array.from((xe=(oe=h.value)==null?void 0:oe.childNodes)!=null?xe:[]).filter(le=>le.nodeName!=="#text"||le.nodeValue),ce=64,Ae=Number.parseInt(getComputedStyle(h.value).paddingLeft,10),Se=Number.parseInt(getComputedStyle(h.value).paddingRight,10),ye=h.value.clientWidth-Ae-Se;let ie=0,fe=0;return me.forEach((le,Oe)=>{ie+=le.offsetWidth||0,ie<=ye-ce&&(fe=Oe+1)}),fe===me.length?-1:fe},q=(oe,xe=33.34)=>{let me;return()=>{me&&clearTimeout(me),me=setTimeout(()=>{oe()},xe)}};let he=!0;const ne=()=>{const oe=()=>{b.value=-1,dn(()=>{b.value=H()})};he?oe():q(oe)(),he=!1};It(()=>t.defaultActive,oe=>{I.value[oe]||(E.value=""),z(oe)}),It(()=>t.collapse,oe=>{oe&&(C.value=[])}),It(I.value,R);let se;_s(()=>{t.mode==="horizontal"&&t.ellipsis?se=As(h,ne).stop:se==null||se()});{const oe=Ae=>{M.value[Ae.index]=Ae},xe=Ae=>{delete M.value[Ae.index]};or("rootMenu",Mr({props:t,openedMenus:C,items:I,subMenus:M,activeIndex:E,isMenuPopup:T,addMenuItem:Ae=>{I.value[Ae.index]=Ae},removeMenuItem:Ae=>{delete I.value[Ae.index]},addSubMenu:oe,removeSubMenu:xe,openMenu:N,closeMenu:D,handleMenuItemClick:B,handleSubMenuClick:V})),or(`subMenu:${l.uid}`,{addSubMenu:oe,removeSubMenu:xe,mouseInChild:re(!1),level:0})}return jn(()=>{t.mode==="horizontal"&&new Cpe(l.vnode.el,g.namespace.value)}),o({open:xe=>{const{indexPath:me}=M.value[xe];me.forEach(ce=>N(ce,me))},close:D,handleResize:ne}),()=>{var oe,xe;let me=(xe=(oe=i.default)==null?void 0:oe.call(i))!=null?xe:[];const ce=[];if(t.mode==="horizontal"&&h.value){const ye=vf(me),ie=b.value===-1?ye:ye.slice(0,b.value),fe=b.value===-1?[]:ye.slice(b.value);(fe==null?void 0:fe.length)&&t.ellipsis&&(me=ie,ce.push(yn(xw,{index:"sub-menu-more",class:y.e("hide-arrow")},{title:()=>yn(un,{class:y.e("icon-more")},{default:()=>yn(s7)}),default:()=>fe})))}const Ae=A6(t,0),Se=yn("ul",{key:String(t.collapse),role:"menubar",ref:h,style:Ae.value,class:{[g.b()]:!0,[g.m(t.mode)]:!0,[g.m("collapse")]:t.collapse}},[...me,...ce]);return t.collapseTransition&&t.mode==="vertical"?yn(Mpe,()=>Se):Se}}});const Dpe=$t({index:{type:nt([String,null]),default:null},route:{type:nt([String,Object])},disabled:Boolean}),kpe={click:t=>On(t.index)&&Array.isArray(t.indexPath)},Cb="ElMenuItem",Lpe=Ge({name:Cb,components:{ElTooltip:Xs},props:Dpe,emits:kpe,setup(t,{emit:n}){const i=Zn(),o=hn("rootMenu"),l=Ct("menu"),d=Ct("menu-item");o||ki(Cb,"can not inject root menu");const{parentMenu:h,indexPath:g}=_6(i,ai(t,"index")),y=hn(`subMenu:${h.value.uid}`);y||ki(Cb,"can not inject sub menu");const b=K(()=>t.index===o.activeIndex),C=Mr({index:t.index,indexPath:g,active:b}),E=()=>{t.disabled||(o.handleMenuItemClick({index:t.index,indexPath:g.value,route:t.route}),n("click",C))};return jn(()=>{y.addSubMenu(C),o.addMenuItem(C)}),hi(()=>{y.removeSubMenu(C),o.removeMenuItem(C)}),{Effect:Gne,parentMenu:h,rootMenu:o,active:b,nsMenu:l,nsMenuItem:d,handleClick:E}}});function Ope(t,n,i,o,l,d){const h=Mn("el-tooltip");return $(),_e("li",{class:J([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:n[0]||(n[0]=(...g)=>t.handleClick&&t.handleClick(...g))},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?($(),rt(h,{key:0,effect:t.Effect.DARK,placement:"right","fallback-placements":["left"],persistent:""},{content:Ue(()=>[yt(t.$slots,"title")]),default:Ue(()=>[Ie("div",{class:J(t.nsMenu.be("tooltip","trigger"))},[yt(t.$slots,"default")],2)]),_:3},8,["effect"])):($(),_e(gn,{key:1},[yt(t.$slots,"default"),yt(t.$slots,"title")],64))],2)}var y6=Ht(Lpe,[["render",Ope],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const Fpe={title:String},Vpe="ElMenuItemGroup",Gpe=Ge({name:Vpe,props:Fpe,setup(){return{ns:Ct("menu-item-group")}}});function Upe(t,n,i,o,l,d){return $(),_e("li",{class:J(t.ns.b())},[Ie("div",{class:J(t.ns.e("title"))},[t.$slots.title?yt(t.$slots,"title",{key:1}):($(),_e(gn,{key:0},[mr(Xt(t.title),1)],64))],2),Ie("ul",null,[yt(t.$slots,"default")])],2)}var b6=Ht(Gpe,[["render",Upe],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const zpe=er(Bpe,{MenuItem:y6,MenuItemGroup:b6,SubMenu:xw}),Hpe=pi(y6),Qpe=pi(b6);pi(xw);const Xpe=$t({icon:{type:jr,default:()=>KX},title:String,content:{type:String,default:""}}),$pe={back:()=>!0},Wpe=["aria-label"],Kpe=Ge({name:"ElPageHeader"}),jpe=Ge({...Kpe,props:Xpe,emits:$pe,setup(t,{emit:n}){const i=ss(),{t:o}=Sr(),l=Ct("page-header"),d=K(()=>[l.b(),{[l.m("has-breadcrumb")]:!!i.breadcrumb,[l.m("has-extra")]:!!i.extra,[l.is("contentful")]:!!i.default}]);function h(){n("back")}return(g,y)=>($(),_e("div",{class:J(v(d))},[Ie("div",{class:J(v(l).e("breadcrumb"))},[yt(g.$slots,"breadcrumb")],2),Ie("div",{class:J(v(l).e("header"))},[Ie("div",{class:J(v(l).e("left"))},[Ie("div",{class:J(v(l).e("back")),role:"button",tabindex:"0",onClick:h},[g.icon||g.$slots.icon?($(),_e("div",{key:0,"aria-label":g.title||v(o)("el.pageHeader.title"),class:J(v(l).e("icon"))},[yt(g.$slots,"icon",{},()=>[g.icon?($(),rt(v(un),{key:0},{default:Ue(()=>[($(),rt(sr(g.icon)))]),_:1})):Ze("v-if",!0)])],10,Wpe)):Ze("v-if",!0),Ie("div",{class:J(v(l).e("title"))},[yt(g.$slots,"title",{},()=>[mr(Xt(g.title||v(o)("el.pageHeader.title")),1)])],2)],2),Re(v(i6),{direction:"vertical"}),Ie("div",{class:J(v(l).e("content"))},[yt(g.$slots,"content",{},()=>[mr(Xt(g.content),1)])],2)],2),g.$slots.extra?($(),_e("div",{key:0,class:J(v(l).e("extra"))},[yt(g.$slots,"extra")],2)):Ze("v-if",!0)],2),g.$slots.default?($(),_e("div",{key:0,class:J(v(l).e("main"))},[yt(g.$slots,"default")],2)):Ze("v-if",!0)],2))}});var qpe=Ht(jpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const Ype=er(qpe),Jpe=$t({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:jr}}),Zpe={click:t=>t instanceof MouseEvent},eme=["disabled","aria-disabled"],tme={key:0},nme=Ge({name:"ElPaginationPrev"}),rme=Ge({...nme,props:Jpe,emits:Zpe,setup(t){const n=t,i=K(()=>n.disabled||n.currentPage<=1);return(o,l)=>($(),_e("button",{type:"button",class:"btn-prev",disabled:v(i),"aria-disabled":v(i),onClick:l[0]||(l[0]=d=>o.$emit("click",d))},[o.prevText?($(),_e("span",tme,Xt(o.prevText),1)):($(),rt(v(un),{key:1},{default:Ue(()=>[($(),rt(sr(o.prevIcon)))]),_:1}))],8,eme))}});var ime=Ht(rme,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const sme=$t({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:jr}}),ome=["disabled","aria-disabled"],ame={key:0},lme=Ge({name:"ElPaginationNext"}),cme=Ge({...lme,props:sme,emits:["click"],setup(t){const n=t,i=K(()=>n.disabled||n.currentPage===n.pageCount||n.pageCount===0);return(o,l)=>($(),_e("button",{type:"button",class:"btn-next",disabled:v(i),"aria-disabled":v(i),onClick:l[0]||(l[0]=d=>o.$emit("click",d))},[o.nextText?($(),_e("span",ame,Xt(o.nextText),1)):($(),rt(v(un),{key:1},{default:Ue(()=>[($(),rt(sr(o.nextIcon)))]),_:1}))],8,ome))}});var ume=Ht(cme,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const S6="ElSelectGroup",aA="ElSelect";function dme(t,n){const i=hn(aA),o=hn(S6,{disabled:!1}),l=K(()=>Object.prototype.toString.call(t.value).toLowerCase()==="[object object]"),d=K(()=>i.props.multiple?E(i.props.modelValue,t.value):I(t.value,i.props.modelValue)),h=K(()=>{if(i.props.multiple){const R=i.props.modelValue||[];return!d.value&&R.length>=i.props.multipleLimit&&i.props.multipleLimit>0}else return!1}),g=K(()=>t.label||(l.value?"":t.value)),y=K(()=>t.value||t.label||""),b=K(()=>t.disabled||n.groupDisabled||h.value),C=Zn(),E=(R=[],N)=>{if(l.value){const D=i.props.valueKey;return R&&R.some(V=>kr(ti(V,D))===ti(N,D))}else return R&&R.includes(N)},I=(R,N)=>{if(l.value){const{valueKey:D}=i.props;return ti(R,D)===ti(N,D)}else return R===N},M=()=>{!t.disabled&&!o.disabled&&(i.hoverIndex=i.optionsArray.indexOf(C.proxy))};It(()=>g.value,()=>{!t.created&&!i.props.remote&&i.setSelected()}),It(()=>t.value,(R,N)=>{const{remote:D,valueKey:V}=i.props;if(Object.is(R,N)||(i.onOptionDestroy(N,C.proxy),i.onOptionCreate(C.proxy)),!t.created&&!D){if(V&&typeof R=="object"&&typeof N=="object"&&R[V]===N[V])return;i.setSelected()}}),It(()=>o.disabled,()=>{n.groupDisabled=o.disabled},{immediate:!0});const{queryChange:T}=kr(i);return It(T,R=>{const{query:N}=v(R),D=new RegExp(Gee(N),"i");n.visible=D.test(g.value)||t.created,n.visible||i.filteredOptionsCount--}),{select:i,currentLabel:g,currentValue:y,itemSelected:d,isDisabled:b,hoverItem:M}}const fme=Ge({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(t){const n=Ct("select"),i=Mr({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:o,itemSelected:l,isDisabled:d,select:h,hoverItem:g}=dme(t,i),{visible:y,hover:b}=Di(i),C=Zn().proxy;h.onOptionCreate(C),hi(()=>{const I=C.value,{selected:M}=h,R=(h.props.multiple?M:[M]).some(N=>N.value===C.value);dn(()=>{h.cachedOptions.get(I)===C&&!R&&h.cachedOptions.delete(I)}),h.onOptionDestroy(I,C)});function E(){t.disabled!==!0&&i.groupDisabled!==!0&&h.handleOptionSelect(C,!0)}return{ns:n,currentLabel:o,itemSelected:l,isDisabled:d,select:h,hoverItem:g,visible:y,hover:b,selectOptionClick:E,states:i}}});function hme(t,n,i,o,l,d){return zn(($(),_e("li",{class:J([t.ns.be("dropdown","item"),t.ns.is("disabled",t.isDisabled),{selected:t.itemSelected,hover:t.hover}]),onMouseenter:n[0]||(n[0]=(...h)=>t.hoverItem&&t.hoverItem(...h)),onClick:n[1]||(n[1]=Dn((...h)=>t.selectOptionClick&&t.selectOptionClick(...h),["stop"]))},[yt(t.$slots,"default",{},()=>[Ie("span",null,Xt(t.currentLabel),1)])],34)),[[yr,t.visible]])}var Mw=Ht(fme,[["render",hme],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const pme=Ge({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=hn(aA),n=Ct("select"),i=K(()=>t.props.popperClass),o=K(()=>t.props.multiple),l=K(()=>t.props.fitInputWidth),d=re("");function h(){var g;d.value=`${(g=t.selectWrapper)==null?void 0:g.offsetWidth}px`}return jn(()=>{h(),As(t.selectWrapper,h)}),{ns:n,minWidth:d,popperClass:i,isMultiple:o,isFitInputWidth:l}}});function mme(t,n,i,o,l,d){return $(),_e("div",{class:J([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:fn({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[yt(t.$slots,"default")],6)}var gme=Ht(pme,[["render",mme],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function vme(t){const{t:n}=Sr();return Mr({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:t.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:n("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}const _me=(t,n,i)=>{const{t:o}=Sr(),l=Ct("select");Mc({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},K(()=>t.suffixTransition===!1));const d=re(null),h=re(null),g=re(null),y=re(null),b=re(null),C=re(null),E=re(-1),I=qr({query:""}),M=qr(""),{form:T,formItem:R}=Bs(),N=K(()=>!t.filterable||t.multiple||!n.visible),D=K(()=>t.disabled||(T==null?void 0:T.disabled)),V=K(()=>{const Ce=t.multiple?Array.isArray(t.modelValue)&&t.modelValue.length>0:t.modelValue!==void 0&&t.modelValue!==null&&t.modelValue!=="";return t.clearable&&!D.value&&n.inputHovering&&Ce}),B=K(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),z=K(()=>l.is("reverse",B.value&&n.visible&&t.suffixTransition)),H=K(()=>t.remote?300:0),q=K(()=>t.loading?t.loadingText||o("el.select.loading"):t.remote&&n.query===""&&n.options.size===0?!1:t.filterable&&n.query&&n.options.size>0&&n.filteredOptionsCount===0?t.noMatchText||o("el.select.noMatch"):n.options.size===0?t.noDataText||o("el.select.noData"):null),he=K(()=>Array.from(n.options.values())),ne=K(()=>Array.from(n.cachedOptions.values())),se=K(()=>{const Ce=he.value.filter(We=>!We.created).some(We=>We.currentLabel===n.query);return t.filterable&&t.allowCreate&&n.query!==""&&!Ce}),oe=Mi(),xe=K(()=>["small"].includes(oe.value)?"small":"default"),me=K({get(){return n.visible&&q.value!==!1},set(Ce){n.visible=Ce}});It([()=>D.value,()=>oe.value,()=>T==null?void 0:T.size],()=>{dn(()=>{ce()})}),It(()=>t.placeholder,Ce=>{n.cachedPlaceHolder=n.currentPlaceholder=Ce}),It(()=>t.modelValue,(Ce,We)=>{t.multiple&&(ce(),Ce&&Ce.length>0||h.value&&n.query!==""?n.currentPlaceholder="":n.currentPlaceholder=n.cachedPlaceHolder,t.filterable&&!t.reserveKeyword&&(n.query="",Ae(n.query))),ie(),t.filterable&&!t.multiple&&(n.inputLength=20),!po(Ce,We)&&t.validateEvent&&(R==null||R.validate("change").catch(_t=>void 0))},{flush:"post",deep:!0}),It(()=>n.visible,Ce=>{var We,_t,Vt;Ce?((_t=(We=g.value)==null?void 0:We.updatePopper)==null||_t.call(We),t.filterable&&(n.filteredOptionsCount=n.optionsCount,n.query=t.remote?"":n.selectedLabel,t.multiple?(Vt=h.value)==null||Vt.focus():n.selectedLabel&&(n.currentPlaceholder=`${n.selectedLabel}`,n.selectedLabel=""),Ae(n.query),!t.multiple&&!t.remote&&(I.value.query="",sp(I),sp(M)))):(t.filterable&&(Nn(t.filterMethod)&&t.filterMethod(""),Nn(t.remoteMethod)&&t.remoteMethod("")),h.value&&h.value.blur(),n.query="",n.previousQuery=null,n.selectedLabel="",n.inputLength=20,n.menuVisibleOnFocus=!1,le(),dn(()=>{h.value&&h.value.value===""&&n.selected.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)}),t.multiple||(n.selected&&(t.filterable&&t.allowCreate&&n.createdSelected&&n.createdLabel?n.selectedLabel=n.createdLabel:n.selectedLabel=n.selected.currentLabel,t.filterable&&(n.query=n.selectedLabel)),t.filterable&&(n.currentPlaceholder=n.cachedPlaceHolder))),i.emit("visible-change",Ce)}),It(()=>n.options.entries(),()=>{var Ce,We,_t;if(!fr)return;(We=(Ce=g.value)==null?void 0:Ce.updatePopper)==null||We.call(Ce),t.multiple&&ce();const Vt=((_t=b.value)==null?void 0:_t.querySelectorAll("input"))||[];Array.from(Vt).includes(document.activeElement)||ie(),t.defaultFirstOption&&(t.filterable||t.remote)&&n.filteredOptionsCount&&ye()},{flush:"post"}),It(()=>n.hoverIndex,Ce=>{Hn(Ce)&&Ce>-1?E.value=he.value[Ce]||{}:E.value={},he.value.forEach(We=>{We.hover=E.value===We})});const ce=()=>{t.collapseTags&&!t.filterable||dn(()=>{var Ce,We;if(!d.value)return;const _t=d.value.$el.querySelector("input"),Vt=y.value,Rn=Kee(oe.value||(T==null?void 0:T.size));_t.style.height=`${(n.selected.length===0?Rn:Math.max(Vt?Vt.clientHeight+(Vt.clientHeight>Rn?6:0):0,Rn))-2}px`,n.tagInMultiLine=Number.parseFloat(_t.style.height)>=Rn,n.visible&&q.value!==!1&&((We=(Ce=g.value)==null?void 0:Ce.updatePopper)==null||We.call(Ce))})},Ae=async Ce=>{if(!(n.previousQuery===Ce||n.isOnComposition)){if(n.previousQuery===null&&(Nn(t.filterMethod)||Nn(t.remoteMethod))){n.previousQuery=Ce;return}n.previousQuery=Ce,dn(()=>{var We,_t;n.visible&&((_t=(We=g.value)==null?void 0:We.updatePopper)==null||_t.call(We))}),n.hoverIndex=-1,t.multiple&&t.filterable&&dn(()=>{const We=h.value.value.length*15+20;n.inputLength=t.collapseTags?Math.min(50,We):We,Se(),ce()}),t.remote&&Nn(t.remoteMethod)?(n.hoverIndex=-1,t.remoteMethod(Ce)):Nn(t.filterMethod)?(t.filterMethod(Ce),sp(M)):(n.filteredOptionsCount=n.optionsCount,I.value.query=Ce,sp(I),sp(M)),t.defaultFirstOption&&(t.filterable||t.remote)&&n.filteredOptionsCount&&(await dn(),ye())}},Se=()=>{n.currentPlaceholder!==""&&(n.currentPlaceholder=h.value.value?"":n.cachedPlaceHolder)},ye=()=>{const Ce=he.value.filter(Vt=>Vt.visible&&!Vt.disabled&&!Vt.states.groupDisabled),We=Ce.find(Vt=>Vt.created),_t=Ce[0];n.hoverIndex=Et(he.value,We||_t)},ie=()=>{var Ce;if(t.multiple)n.selectedLabel="";else{const _t=fe(t.modelValue);(Ce=_t.props)!=null&&Ce.created?(n.createdLabel=_t.props.value,n.createdSelected=!0):n.createdSelected=!1,n.selectedLabel=_t.currentLabel,n.selected=_t,t.filterable&&(n.query=n.selectedLabel);return}const We=[];Array.isArray(t.modelValue)&&t.modelValue.forEach(_t=>{We.push(fe(_t))}),n.selected=We,dn(()=>{ce()})},fe=Ce=>{let We;const _t=bv(Ce).toLowerCase()==="object",Vt=bv(Ce).toLowerCase()==="null",Rn=bv(Ce).toLowerCase()==="undefined";for(let gr=n.cachedOptions.size-1;gr>=0;gr--){const Yn=ne.value[gr];if(_t?ti(Yn.value,t.valueKey)===ti(Ce,t.valueKey):Yn.value===Ce){We={value:Ce,currentLabel:Yn.currentLabel,isDisabled:Yn.isDisabled};break}}if(We)return We;const xr=_t?Ce.label:!Vt&&!Rn?Ce:"",ii={value:Ce,currentLabel:xr};return t.multiple&&(ii.hitState=!1),ii},le=()=>{setTimeout(()=>{const Ce=t.valueKey;t.multiple?n.selected.length>0?n.hoverIndex=Math.min.apply(null,n.selected.map(We=>he.value.findIndex(_t=>ti(_t,Ce)===ti(We,Ce)))):n.hoverIndex=-1:n.hoverIndex=he.value.findIndex(We=>Wn(We)===Wn(n.selected))},300)},Oe=()=>{var Ce,We;Qe(),(We=(Ce=g.value)==null?void 0:Ce.updatePopper)==null||We.call(Ce),t.multiple&&!t.filterable&&ce()},Qe=()=>{var Ce;n.inputWidth=(Ce=d.value)==null?void 0:Ce.$el.getBoundingClientRect().width},Pe=()=>{t.filterable&&n.query!==n.selectedLabel&&(n.query=n.selectedLabel,Ae(n.query))},He=Ns(()=>{Pe()},H.value),bt=Ns(Ce=>{Ae(Ce.target.value)},H.value),xt=Ce=>{po(t.modelValue,Ce)||i.emit(Zr,Ce)},Nt=Ce=>{if(Ce.target.value.length<=0&&!Ot()){const We=t.modelValue.slice();We.pop(),i.emit(Jn,We),xt(We)}Ce.target.value.length===1&&t.modelValue.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)},st=(Ce,We)=>{const _t=n.selected.indexOf(We);if(_t>-1&&!D.value){const Vt=t.modelValue.slice();Vt.splice(_t,1),i.emit(Jn,Vt),xt(Vt),i.emit("remove-tag",We.value)}Ce.stopPropagation()},Ye=Ce=>{Ce.stopPropagation();const We=t.multiple?[]:"";if(!On(We))for(const _t of n.selected)_t.isDisabled&&We.push(_t.value);i.emit(Jn,We),xt(We),n.hoverIndex=-1,n.visible=!1,i.emit("clear")},ot=(Ce,We)=>{var _t;if(t.multiple){const Vt=(t.modelValue||[]).slice(),Rn=Et(Vt,Ce.value);Rn>-1?Vt.splice(Rn,1):(t.multipleLimit<=0||Vt.length<t.multipleLimit)&&Vt.push(Ce.value),i.emit(Jn,Vt),xt(Vt),Ce.created&&(n.query="",Ae(""),n.inputLength=20),t.filterable&&((_t=h.value)==null||_t.focus())}else i.emit(Jn,Ce.value),xt(Ce.value),n.visible=!1;n.isSilentBlur=We,an(),!n.visible&&dn(()=>{Be(Ce)})},Et=(Ce=[],We)=>{if(!nr(We))return Ce.indexOf(We);const _t=t.valueKey;let Vt=-1;return Ce.some((Rn,xr)=>kr(ti(Rn,_t))===ti(We,_t)?(Vt=xr,!0):!1),Vt},an=()=>{n.softFocus=!0;const Ce=h.value||d.value;Ce&&(Ce==null||Ce.focus())},Be=Ce=>{var We,_t,Vt,Rn,xr;const ii=Array.isArray(Ce)?Ce[0]:Ce;let gr=null;if(ii!=null&&ii.value){const Yn=he.value.filter(Vr=>Vr.value===ii.value);Yn.length>0&&(gr=Yn[0].$el)}if(g.value&&gr){const Yn=(Rn=(Vt=(_t=(We=g.value)==null?void 0:We.popperRef)==null?void 0:_t.contentRef)==null?void 0:Vt.querySelector)==null?void 0:Rn.call(Vt,`.${l.be("dropdown","wrap")}`);Yn&&XN(Yn,gr)}(xr=C.value)==null||xr.handleScroll()},Xe=Ce=>{n.optionsCount++,n.filteredOptionsCount++,n.options.set(Ce.value,Ce),n.cachedOptions.set(Ce.value,Ce)},ht=(Ce,We)=>{n.options.get(Ce)===We&&(n.optionsCount--,n.filteredOptionsCount--,n.options.delete(Ce))},Dt=Ce=>{Ce.code!==An.backspace&&Ot(!1),n.inputLength=h.value.value.length*15+20,ce()},Ot=Ce=>{if(!Array.isArray(n.selected))return;const We=n.selected[n.selected.length-1];if(!!We)return Ce===!0||Ce===!1?(We.hitState=Ce,Ce):(We.hitState=!We.hitState,We.hitState)},dt=Ce=>{const We=Ce.target.value;if(Ce.type==="compositionend")n.isOnComposition=!1,dn(()=>Ae(We));else{const _t=We[We.length-1]||"";n.isOnComposition=!K_(_t)}},Ft=()=>{dn(()=>Be(n.selected))},At=Ce=>{n.softFocus?n.softFocus=!1:((t.automaticDropdown||t.filterable)&&(t.filterable&&!n.visible&&(n.menuVisibleOnFocus=!0),n.visible=!0),i.emit("focus",Ce))},Ne=()=>{var Ce;n.visible=!1,(Ce=d.value)==null||Ce.blur()},Ke=Ce=>{dn(()=>{n.isSilentBlur?n.isSilentBlur=!1:i.emit("blur",Ce)}),n.softFocus=!1},Lt=Ce=>{Ye(Ce)},Wt=()=>{n.visible=!1},en=Ce=>{n.visible&&(Ce.preventDefault(),Ce.stopPropagation(),n.visible=!1)},vn=Ce=>{var We;Ce&&!n.mouseEnter||D.value||(n.menuVisibleOnFocus?n.menuVisibleOnFocus=!1:(!g.value||!g.value.isFocusInsideContent())&&(n.visible=!n.visible),n.visible&&((We=h.value||d.value)==null||We.focus()))},xn=()=>{n.visible?he.value[n.hoverIndex]&&ot(he.value[n.hoverIndex],void 0):vn()},Wn=Ce=>nr(Ce.value)?ti(Ce.value,t.valueKey):Ce.value,pt=K(()=>he.value.filter(Ce=>Ce.visible).every(Ce=>Ce.disabled)),St=Ce=>{if(!n.visible){n.visible=!0;return}if(!(n.options.size===0||n.filteredOptionsCount===0)&&!n.isOnComposition&&!pt.value){Ce==="next"?(n.hoverIndex++,n.hoverIndex===n.options.size&&(n.hoverIndex=0)):Ce==="prev"&&(n.hoverIndex--,n.hoverIndex<0&&(n.hoverIndex=n.options.size-1));const We=he.value[n.hoverIndex];(We.disabled===!0||We.states.groupDisabled===!0||!We.visible)&&St(Ce),dn(()=>Be(E.value))}};return{optionsArray:he,selectSize:oe,handleResize:Oe,debouncedOnInputChange:He,debouncedQueryChange:bt,deletePrevTag:Nt,deleteTag:st,deleteSelected:Ye,handleOptionSelect:ot,scrollToOption:Be,readonly:N,resetInputHeight:ce,showClose:V,iconComponent:B,iconReverse:z,showNewOption:se,collapseTagSize:xe,setSelected:ie,managePlaceholder:Se,selectDisabled:D,emptyText:q,toggleLastOptionHitState:Ot,resetInputState:Dt,handleComposition:dt,onOptionCreate:Xe,onOptionDestroy:ht,handleMenuEnter:Ft,handleFocus:At,blur:Ne,handleBlur:Ke,handleClearClick:Lt,handleClose:Wt,handleKeydownEscape:en,toggleMenu:vn,selectOption:xn,getValueKey:Wn,navigateOptions:St,dropMenuVisible:me,queryChange:I,groupQueryChange:M,reference:d,input:h,tooltipRef:g,tags:y,selectWrapper:b,scrollbar:C,handleMouseEnter:()=>{n.mouseEnter=!0},handleMouseLeave:()=>{n.mouseEnter=!1}}},rT="ElSelect",Ame=Ge({name:rT,componentName:rT,components:{ElInput:vs,ElSelectMenu:gme,ElOption:Mw,ElTag:iA,ElScrollbar:Gl,ElTooltip:Xs,ElIcon:un},directives:{ClickOutside:Pc},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:Wf},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},teleported:Zi.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:jr,default:Lc},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:jr,default:kc},tagType:{...yw.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:ed,default:"bottom-start"}},emits:[Jn,Zr,"remove-tag","clear","visible-change","focus","blur"],setup(t,n){const i=Ct("select"),o=Ct("input"),{t:l}=Sr(),d=vme(t),{optionsArray:h,selectSize:g,readonly:y,handleResize:b,collapseTagSize:C,debouncedOnInputChange:E,debouncedQueryChange:I,deletePrevTag:M,deleteTag:T,deleteSelected:R,handleOptionSelect:N,scrollToOption:D,setSelected:V,resetInputHeight:B,managePlaceholder:z,showClose:H,selectDisabled:q,iconComponent:he,iconReverse:ne,showNewOption:se,emptyText:oe,toggleLastOptionHitState:xe,resetInputState:me,handleComposition:ce,onOptionCreate:Ae,onOptionDestroy:Se,handleMenuEnter:ye,handleFocus:ie,blur:fe,handleBlur:le,handleClearClick:Oe,handleClose:Qe,handleKeydownEscape:Pe,toggleMenu:He,selectOption:bt,getValueKey:xt,navigateOptions:Nt,dropMenuVisible:st,reference:Ye,input:ot,tooltipRef:Et,tags:an,selectWrapper:Be,scrollbar:Xe,queryChange:ht,groupQueryChange:Dt,handleMouseEnter:Ot,handleMouseLeave:dt}=_me(t,d,n),{focus:Ft}=rte(Ye),{inputWidth:At,selected:Ne,inputLength:Ke,filteredOptionsCount:Lt,visible:Wt,softFocus:en,selectedLabel:vn,hoverIndex:xn,query:Wn,inputHovering:pt,currentPlaceholder:St,menuVisibleOnFocus:tn,isOnComposition:Fn,isSilentBlur:Ce,options:We,cachedOptions:_t,optionsCount:Vt,prefixWidth:Rn,tagInMultiLine:xr}=Di(d),ii=K(()=>{const Pt=[i.b()],In=v(g);return In&&Pt.push(i.m(In)),t.disabled&&Pt.push(i.m("disabled")),Pt}),gr=K(()=>({maxWidth:`${v(At)-32}px`,width:"100%"})),Yn=K(()=>({maxWidth:`${v(At)>123?v(At)-123:v(At)-75}px`}));or(aA,Mr({props:t,options:We,optionsArray:h,cachedOptions:_t,optionsCount:Vt,filteredOptionsCount:Lt,hoverIndex:xn,handleOptionSelect:N,onOptionCreate:Ae,onOptionDestroy:Se,selectWrapper:Be,selected:Ne,setSelected:V,queryChange:ht,groupQueryChange:Dt})),jn(()=>{d.cachedPlaceHolder=St.value=t.placeholder||l("el.select.placeholder"),t.multiple&&Array.isArray(t.modelValue)&&t.modelValue.length>0&&(St.value=""),As(Be,b),t.remote&&t.multiple&&B(),dn(()=>{const Pt=Ye.value&&Ye.value.$el;if(!!Pt&&(At.value=Pt.getBoundingClientRect().width,n.slots.prefix)){const In=Pt.querySelector(`.${o.e("prefix")}`);Rn.value=Math.max(In.getBoundingClientRect().width+5,30)}}),V()}),t.multiple&&!Array.isArray(t.modelValue)&&n.emit(Jn,[]),!t.multiple&&Array.isArray(t.modelValue)&&n.emit(Jn,"");const Vr=K(()=>{var Pt,In;return(In=(Pt=Et.value)==null?void 0:Pt.popperRef)==null?void 0:In.contentRef});return{tagInMultiLine:xr,prefixWidth:Rn,selectSize:g,readonly:y,handleResize:b,collapseTagSize:C,debouncedOnInputChange:E,debouncedQueryChange:I,deletePrevTag:M,deleteTag:T,deleteSelected:R,handleOptionSelect:N,scrollToOption:D,inputWidth:At,selected:Ne,inputLength:Ke,filteredOptionsCount:Lt,visible:Wt,softFocus:en,selectedLabel:vn,hoverIndex:xn,query:Wn,inputHovering:pt,currentPlaceholder:St,menuVisibleOnFocus:tn,isOnComposition:Fn,isSilentBlur:Ce,options:We,resetInputHeight:B,managePlaceholder:z,showClose:H,selectDisabled:q,iconComponent:he,iconReverse:ne,showNewOption:se,emptyText:oe,toggleLastOptionHitState:xe,resetInputState:me,handleComposition:ce,handleMenuEnter:ye,handleFocus:ie,blur:fe,handleBlur:le,handleClearClick:Oe,handleClose:Qe,handleKeydownEscape:Pe,toggleMenu:He,selectOption:bt,getValueKey:xt,navigateOptions:Nt,dropMenuVisible:st,focus:Ft,reference:Ye,input:ot,tooltipRef:Et,popperPaneRef:Vr,tags:an,selectWrapper:Be,scrollbar:Xe,wrapperKls:ii,selectTagsStyle:gr,nsSelect:i,tagTextStyle:Yn,handleMouseEnter:Ot,handleMouseLeave:dt}}}),yme=["disabled","autocomplete"],bme={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function Sme(t,n,i,o,l,d){const h=Mn("el-tag"),g=Mn("el-tooltip"),y=Mn("el-icon"),b=Mn("el-input"),C=Mn("el-option"),E=Mn("el-scrollbar"),I=Mn("el-select-menu"),M=wf("click-outside");return zn(($(),_e("div",{ref:"selectWrapper",class:J(t.wrapperKls),onMouseenter:n[22]||(n[22]=(...T)=>t.handleMouseEnter&&t.handleMouseEnter(...T)),onMouseleave:n[23]||(n[23]=(...T)=>t.handleMouseLeave&&t.handleMouseLeave(...T)),onClick:n[24]||(n[24]=Dn((...T)=>t.toggleMenu&&t.toggleMenu(...T),["stop"]))},[Re(g,{ref:"tooltipRef",visible:t.dropMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"fallback-placements":["bottom-start","top-start","right","left"],effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,onShow:t.handleMenuEnter},{default:Ue(()=>[Ie("div",{class:"select-trigger",onMouseenter:n[20]||(n[20]=T=>t.inputHovering=!0),onMouseleave:n[21]||(n[21]=T=>t.inputHovering=!1)},[t.multiple?($(),_e("div",{key:0,ref:"tags",class:J(t.nsSelect.e("tags")),style:fn(t.selectTagsStyle)},[t.collapseTags&&t.selected.length?($(),_e("span",{key:0,class:J([t.nsSelect.b("tags-wrapper"),{"has-prefix":t.prefixWidth&&t.selected.length}])},[Re(h,{closable:!t.selectDisabled&&!t.selected[0].isDisabled,size:t.collapseTagSize,hit:t.selected[0].hitState,type:t.tagType,"disable-transitions":"",onClose:n[0]||(n[0]=T=>t.deleteTag(T,t.selected[0]))},{default:Ue(()=>[Ie("span",{class:J(t.nsSelect.e("tags-text")),style:fn(t.tagTextStyle)},Xt(t.selected[0].currentLabel),7)]),_:1},8,["closable","size","hit","type"]),t.selected.length>1?($(),rt(h,{key:0,closable:!1,size:t.collapseTagSize,type:t.tagType,"disable-transitions":""},{default:Ue(()=>[t.collapseTagsTooltip?($(),rt(g,{key:0,disabled:t.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:Ue(()=>[Ie("span",{class:J(t.nsSelect.e("tags-text"))},"+ "+Xt(t.selected.length-1),3)]),content:Ue(()=>[Ie("div",{class:J(t.nsSelect.e("collapse-tags"))},[($(!0),_e(gn,null,ur(t.selected.slice(1),(T,R)=>($(),_e("div",{key:R,class:J(t.nsSelect.e("collapse-tag"))},[($(),rt(h,{key:t.getValueKey(T),class:"in-tooltip",closable:!t.selectDisabled&&!T.isDisabled,size:t.collapseTagSize,hit:T.hitState,type:t.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:N=>t.deleteTag(N,T)},{default:Ue(()=>[Ie("span",{class:J(t.nsSelect.e("tags-text")),style:fn({maxWidth:t.inputWidth-75+"px"})},Xt(T.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):($(),_e("span",{key:1,class:J(t.nsSelect.e("tags-text"))},"+ "+Xt(t.selected.length-1),3))]),_:1},8,["size","type"])):Ze("v-if",!0)],2)):Ze("v-if",!0),Ze(" <div> "),t.collapseTags?Ze("v-if",!0):($(),rt(Si,{key:1,onAfterLeave:t.resetInputHeight},{default:Ue(()=>[Ie("span",{class:J([t.nsSelect.b("tags-wrapper"),{"has-prefix":t.prefixWidth&&t.selected.length}])},[($(!0),_e(gn,null,ur(t.selected,T=>($(),rt(h,{key:t.getValueKey(T),closable:!t.selectDisabled&&!T.isDisabled,size:t.collapseTagSize,hit:T.hitState,type:t.tagType,"disable-transitions":"",onClose:R=>t.deleteTag(R,T)},{default:Ue(()=>[Ie("span",{class:J(t.nsSelect.e("tags-text")),style:fn({maxWidth:t.inputWidth-75+"px"})},Xt(T.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),Ze(" </div> "),t.filterable?zn(($(),_e("input",{key:2,ref:"input","onUpdate:modelValue":n[1]||(n[1]=T=>t.query=T),type:"text",class:J([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:fn({marginLeft:t.prefixWidth&&!t.selected.length||t.tagInMultiLine?`${t.prefixWidth}px`:"",flexGrow:1,width:`${t.inputLength/(t.inputWidth-32)}%`,maxWidth:`${t.inputWidth-42}px`}),onFocus:n[2]||(n[2]=(...T)=>t.handleFocus&&t.handleFocus(...T)),onBlur:n[3]||(n[3]=(...T)=>t.handleBlur&&t.handleBlur(...T)),onKeyup:n[4]||(n[4]=(...T)=>t.managePlaceholder&&t.managePlaceholder(...T)),onKeydown:[n[5]||(n[5]=(...T)=>t.resetInputState&&t.resetInputState(...T)),n[6]||(n[6]=pr(Dn(T=>t.navigateOptions("next"),["prevent"]),["down"])),n[7]||(n[7]=pr(Dn(T=>t.navigateOptions("prev"),["prevent"]),["up"])),n[8]||(n[8]=pr((...T)=>t.handleKeydownEscape&&t.handleKeydownEscape(...T),["esc"])),n[9]||(n[9]=pr(Dn((...T)=>t.selectOption&&t.selectOption(...T),["stop","prevent"]),["enter"])),n[10]||(n[10]=pr((...T)=>t.deletePrevTag&&t.deletePrevTag(...T),["delete"])),n[11]||(n[11]=pr(T=>t.visible=!1,["tab"]))],onCompositionstart:n[12]||(n[12]=(...T)=>t.handleComposition&&t.handleComposition(...T)),onCompositionupdate:n[13]||(n[13]=(...T)=>t.handleComposition&&t.handleComposition(...T)),onCompositionend:n[14]||(n[14]=(...T)=>t.handleComposition&&t.handleComposition(...T)),onInput:n[15]||(n[15]=(...T)=>t.debouncedQueryChange&&t.debouncedQueryChange(...T))},null,46,yme)),[[yS,t.query]]):Ze("v-if",!0)],6)):Ze("v-if",!0),Re(b,{id:t.id,ref:"reference",modelValue:t.selectedLabel,"onUpdate:modelValue":n[16]||(n[16]=T=>t.selectedLabel=T),type:"text",placeholder:t.currentPlaceholder,name:t.name,autocomplete:t.autocomplete,size:t.selectSize,disabled:t.selectDisabled,readonly:t.readonly,"validate-event":!1,class:J([t.nsSelect.is("focus",t.visible)]),tabindex:t.multiple&&t.filterable?-1:void 0,onFocus:t.handleFocus,onBlur:t.handleBlur,onInput:t.debouncedOnInputChange,onPaste:t.debouncedOnInputChange,onCompositionstart:t.handleComposition,onCompositionupdate:t.handleComposition,onCompositionend:t.handleComposition,onKeydown:[n[17]||(n[17]=pr(Dn(T=>t.navigateOptions("next"),["stop","prevent"]),["down"])),n[18]||(n[18]=pr(Dn(T=>t.navigateOptions("prev"),["stop","prevent"]),["up"])),pr(Dn(t.selectOption,["stop","prevent"]),["enter"]),pr(t.handleKeydownEscape,["esc"]),n[19]||(n[19]=pr(T=>t.visible=!1,["tab"]))]},Ec({suffix:Ue(()=>[t.iconComponent&&!t.showClose?($(),rt(y,{key:0,class:J([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:Ue(()=>[($(),rt(sr(t.iconComponent)))]),_:1},8,["class"])):Ze("v-if",!0),t.showClose&&t.clearIcon?($(),rt(y,{key:1,class:J([t.nsSelect.e("caret"),t.nsSelect.e("icon")]),onClick:t.handleClearClick},{default:Ue(()=>[($(),rt(sr(t.clearIcon)))]),_:1},8,["class","onClick"])):Ze("v-if",!0)]),_:2},[t.$slots.prefix?{name:"prefix",fn:Ue(()=>[Ie("div",bme,[yt(t.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:Ue(()=>[Re(I,null,{default:Ue(()=>[zn(Re(E,{ref:"scrollbar",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:J([t.nsSelect.is("empty",!t.allowCreate&&Boolean(t.query)&&t.filteredOptionsCount===0)])},{default:Ue(()=>[t.showNewOption?($(),rt(C,{key:0,value:t.query,created:!0},null,8,["value"])):Ze("v-if",!0),yt(t.$slots,"default")]),_:3},8,["wrap-class","view-class","class"]),[[yr,t.options.size>0&&!t.loading]]),t.emptyText&&(!t.allowCreate||t.loading||t.allowCreate&&t.options.size===0)?($(),_e(gn,{key:0},[t.$slots.empty?yt(t.$slots,"empty",{key:0}):($(),_e("p",{key:1,class:J(t.nsSelect.be("dropdown","empty"))},Xt(t.emptyText),3))],64)):Ze("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","effect","transition","persistent","onShow"])],34)),[[M,t.handleClose,t.popperPaneRef]])}var wme=Ht(Ame,[["render",Sme],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Eme=Ge({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(t){const n=Ct("select"),i=re(!0),o=Zn(),l=re([]);or(S6,Mr({...Di(t)}));const d=hn(aA);jn(()=>{l.value=h(o.subTree)});const h=y=>{const b=[];return Array.isArray(y.children)&&y.children.forEach(C=>{var E;C.type&&C.type.name==="ElOption"&&C.component&&C.component.proxy?b.push(C.component.proxy):(E=C.children)!=null&&E.length&&b.push(...h(C))}),b},{groupQueryChange:g}=kr(d);return It(g,()=>{i.value=l.value.some(y=>y.visible===!0)},{flush:"post"}),{visible:i,ns:n}}});function Cme(t,n,i,o,l,d){return zn(($(),_e("ul",{class:J(t.ns.be("group","wrap"))},[Ie("li",{class:J(t.ns.be("group","title"))},Xt(t.label),3),Ie("li",null,[Ie("ul",{class:J(t.ns.b("group"))},[yt(t.$slots,"default")],2)])],2)),[[yr,t.visible]])}var w6=Ht(Eme,[["render",Cme],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const Wu=er(wme,{Option:Mw,OptionGroup:w6}),h_=pi(Mw),Ime=pi(w6),Rw=()=>hn(n3,{}),xme=$t({pageSize:{type:Number,required:!0},pageSizes:{type:nt(Array),default:()=>ni([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:Fc}}),Mme=Ge({name:"ElPaginationSizes"}),Rme=Ge({...Mme,props:xme,emits:["page-size-change"],setup(t,{emit:n}){const i=t,{t:o}=Sr(),l=Ct("pagination"),d=Rw(),h=re(i.pageSize);It(()=>i.pageSizes,(b,C)=>{if(!po(b,C)&&Array.isArray(b)){const E=b.includes(i.pageSize)?i.pageSize:i.pageSizes[0];n("page-size-change",E)}}),It(()=>i.pageSize,b=>{h.value=b});const g=K(()=>i.pageSizes);function y(b){var C;b!==h.value&&(h.value=b,(C=d.handleSizeChange)==null||C.call(d,Number(b)))}return(b,C)=>($(),_e("span",{class:J(v(l).e("sizes"))},[Re(v(Wu),{"model-value":h.value,disabled:b.disabled,"popper-class":b.popperClass,size:b.size,"validate-event":!1,onChange:y},{default:Ue(()=>[($(!0),_e(gn,null,ur(v(g),E=>($(),rt(v(h_),{key:E,value:E,label:E+v(o)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var Tme=Ht(Rme,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const Pme=["disabled"],Nme=Ge({name:"ElPaginationJumper"}),Bme=Ge({...Nme,setup(t){const{t:n}=Sr(),i=Ct("pagination"),{pageCount:o,disabled:l,currentPage:d,changeEvent:h}=Rw(),g=re(),y=K(()=>{var E;return(E=g.value)!=null?E:d==null?void 0:d.value});function b(E){g.value=+E}function C(E){E=Math.trunc(+E),h==null||h(+E),g.value=void 0}return(E,I)=>($(),_e("span",{class:J(v(i).e("jump")),disabled:v(l)},[mr(Xt(v(n)("el.pagination.goto"))+" ",1),Re(v(vs),{size:"small",class:J([v(i).e("editor"),v(i).is("in-pagination")]),min:1,max:v(o),disabled:v(l),"model-value":v(y),"validate-event":!1,type:"number","onUpdate:modelValue":b,onChange:C},null,8,["class","max","disabled","model-value"]),mr(" "+Xt(v(n)("el.pagination.pageClassifier")),1)],10,Pme))}});var Dme=Ht(Bme,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const kme=$t({total:{type:Number,default:1e3}}),Lme=["disabled"],Ome=Ge({name:"ElPaginationTotal"}),Fme=Ge({...Ome,props:kme,setup(t){const{t:n}=Sr(),i=Ct("pagination"),{disabled:o}=Rw();return(l,d)=>($(),_e("span",{class:J(v(i).e("total")),disabled:v(o)},Xt(v(n)("el.pagination.total",{total:l.total})),11,Lme))}});var Vme=Ht(Fme,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const Gme=$t({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Ume=["onKeyup"],zme=["aria-current","tabindex"],Hme=["tabindex"],Qme=["aria-current","tabindex"],Xme=["tabindex"],$me=["aria-current","tabindex"],Wme=Ge({name:"ElPaginationPager"}),Kme=Ge({...Wme,props:Gme,emits:["change"],setup(t,{emit:n}){const i=t,o=Ct("pager"),l=Ct("icon"),d=re(!1),h=re(!1),g=re(!1),y=re(!1),b=re(!1),C=re(!1),E=K(()=>{const D=i.pagerCount,V=(D-1)/2,B=Number(i.currentPage),z=Number(i.pageCount);let H=!1,q=!1;z>D&&(B>D-V&&(H=!0),B<z-V&&(q=!0));const he=[];if(H&&!q){const ne=z-(D-2);for(let se=ne;se<z;se++)he.push(se)}else if(!H&&q)for(let ne=2;ne<D;ne++)he.push(ne);else if(H&&q){const ne=Math.floor(D/2)-1;for(let se=B-ne;se<=B+ne;se++)he.push(se)}else for(let ne=2;ne<z;ne++)he.push(ne);return he}),I=K(()=>i.disabled?-1:0);_s(()=>{const D=(i.pagerCount-1)/2;d.value=!1,h.value=!1,i.pageCount>i.pagerCount&&(i.currentPage>i.pagerCount-D&&(d.value=!0),i.currentPage<i.pageCount-D&&(h.value=!0))});function M(D=!1){i.disabled||(D?g.value=!0:y.value=!0)}function T(D=!1){D?b.value=!0:C.value=!0}function R(D){const V=D.target;if(V.tagName.toLowerCase()==="li"&&Array.from(V.classList).includes("number")){const B=Number(V.textContent);B!==i.currentPage&&n("change",B)}else V.tagName.toLowerCase()==="li"&&Array.from(V.classList).includes("more")&&N(D)}function N(D){const V=D.target;if(V.tagName.toLowerCase()==="ul"||i.disabled)return;let B=Number(V.textContent);const z=i.pageCount,H=i.currentPage,q=i.pagerCount-2;V.className.includes("more")&&(V.className.includes("quickprev")?B=H-q:V.className.includes("quicknext")&&(B=H+q)),Number.isNaN(+B)||(B<1&&(B=1),B>z&&(B=z)),B!==H&&n("change",B)}return(D,V)=>($(),_e("ul",{class:J(v(o).b()),onClick:N,onKeyup:pr(R,["enter"])},[D.pageCount>0?($(),_e("li",{key:0,class:J([[v(o).is("active",D.currentPage===1),v(o).is("disabled",D.disabled)],"number"]),"aria-current":D.currentPage===1,tabindex:v(I)}," 1 ",10,zme)):Ze("v-if",!0),d.value?($(),_e("li",{key:1,class:J(["more","btn-quickprev",v(l).b(),v(o).is("disabled",D.disabled)]),tabindex:v(I),onMouseenter:V[0]||(V[0]=B=>M(!0)),onMouseleave:V[1]||(V[1]=B=>g.value=!1),onFocus:V[2]||(V[2]=B=>T(!0)),onBlur:V[3]||(V[3]=B=>b.value=!1)},[g.value||b.value?($(),rt(v(xf),{key:0})):($(),rt(v(eM),{key:1}))],42,Hme)):Ze("v-if",!0),($(!0),_e(gn,null,ur(v(E),B=>($(),_e("li",{key:B,class:J([[v(o).is("active",D.currentPage===B),v(o).is("disabled",D.disabled)],"number"]),"aria-current":D.currentPage===B,tabindex:v(I)},Xt(B),11,Qme))),128)),h.value?($(),_e("li",{key:2,class:J(["more","btn-quicknext",v(l).b(),v(o).is("disabled",D.disabled)]),tabindex:v(I),onMouseenter:V[4]||(V[4]=B=>M()),onMouseleave:V[5]||(V[5]=B=>y.value=!1),onFocus:V[6]||(V[6]=B=>T()),onBlur:V[7]||(V[7]=B=>C.value=!1)},[y.value||C.value?($(),rt(v(Mf),{key:0})):($(),rt(v(eM),{key:1}))],42,Xme)):Ze("v-if",!0),D.pageCount>1?($(),_e("li",{key:3,class:J([[v(o).is("active",D.currentPage===D.pageCount),v(o).is("disabled",D.disabled)],"number"]),"aria-current":D.currentPage===D.pageCount,tabindex:v(I)},Xt(D.pageCount),11,$me)):Ze("v-if",!0)],42,Ume))}});var jme=Ht(Kme,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const xs=t=>typeof t!="number",qme=$t({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>typeof t=="number"&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:nt(Array),default:()=>ni([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:jr,default:()=>Ic},nextText:{type:String,default:""},nextIcon:{type:jr,default:()=>Ts},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),Yme={"update:current-page":t=>typeof t=="number","update:page-size":t=>typeof t=="number","size-change":t=>typeof t=="number","current-change":t=>typeof t=="number","prev-click":t=>typeof t=="number","next-click":t=>typeof t=="number"},iT="ElPagination";var Jme=Ge({name:iT,props:qme,emits:Yme,setup(t,{emit:n,slots:i}){const{t:o}=Sr(),l=Ct("pagination"),d=Zn().vnode.props||{},h="onUpdate:currentPage"in d||"onUpdate:current-page"in d||"onCurrentChange"in d,g="onUpdate:pageSize"in d||"onUpdate:page-size"in d||"onSizeChange"in d,y=K(()=>{if(xs(t.total)&&xs(t.pageCount)||!xs(t.currentPage)&&!h)return!1;if(t.layout.includes("sizes")){if(xs(t.pageCount)){if(!xs(t.total)&&!xs(t.pageSize)&&!g)return!1}else if(!g)return!1}return!0}),b=re(xs(t.defaultPageSize)?10:t.defaultPageSize),C=re(xs(t.defaultCurrentPage)?1:t.defaultCurrentPage),E=K({get(){return xs(t.pageSize)?b.value:t.pageSize},set(B){xs(t.pageSize)&&(b.value=B),g&&(n("update:page-size",B),n("size-change",B))}}),I=K(()=>{let B=0;return xs(t.pageCount)?xs(t.total)||(B=Math.max(1,Math.ceil(t.total/E.value))):B=t.pageCount,B}),M=K({get(){return xs(t.currentPage)?C.value:t.currentPage},set(B){let z=B;B<1?z=1:B>I.value&&(z=I.value),xs(t.currentPage)&&(C.value=z),h&&(n("update:current-page",z),n("current-change",z))}});It(I,B=>{M.value>B&&(M.value=B)});function T(B){M.value=B}function R(B){E.value=B;const z=I.value;M.value>z&&(M.value=z)}function N(){t.disabled||(M.value-=1,n("prev-click",M.value))}function D(){t.disabled||(M.value+=1,n("next-click",M.value))}function V(B,z){B&&(B.props||(B.props={}),B.props.class=[B.props.class,z].join(" "))}return or(n3,{pageCount:I,disabled:K(()=>t.disabled),currentPage:M,changeEvent:T,handleSizeChange:R}),()=>{var B,z;if(!y.value)return o("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&I.value<=1)return null;const H=[],q=[],he=yn("div",{class:l.e("rightwrapper")},q),ne={prev:yn(ime,{disabled:t.disabled,currentPage:M.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:N}),jumper:yn(Dme),pager:yn(jme,{currentPage:M.value,pageCount:I.value,pagerCount:t.pagerCount,onChange:T,disabled:t.disabled}),next:yn(ume,{disabled:t.disabled,currentPage:M.value,pageCount:I.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:D}),sizes:yn(Tme,{pageSize:E.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,size:t.small?"small":"default"}),slot:(z=(B=i==null?void 0:i.default)==null?void 0:B.call(i))!=null?z:null,total:yn(Vme,{total:xs(t.total)?0:t.total})},se=t.layout.split(",").map(xe=>xe.trim());let oe=!1;return se.forEach(xe=>{if(xe==="->"){oe=!0;return}oe?q.push(ne[xe]):H.push(ne[xe])}),V(H[0],l.is("first")),V(H[H.length-1],l.is("last")),oe&&q.length>0&&(V(q[0],l.is("first")),V(q[q.length-1],l.is("last")),H.push(he)),yn("div",{role:"pagination","aria-label":"pagination",class:[l.b(),l.is("background",t.background),{[l.m("small")]:t.small}]},H)}}});const Zme=er(Jme),ege=$t({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:s1,default:"primary"},cancelButtonType:{type:String,values:s1,default:"text"},icon:{type:jr,default:()=>S7},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},onConfirm:{type:nt(Function)},onCancel:{type:nt(Function)},teleported:Zi.teleported,persistent:Zi.persistent,width:{type:[String,Number],default:150}}),tge=Ge({name:"ElPopconfirm"}),nge=Ge({...tge,props:ege,setup(t){const n=t,{t:i}=Sr(),o=Ct("popconfirm"),l=re(),d=()=>{var E,I;(I=(E=l.value)==null?void 0:E.onClose)==null||I.call(E)},h=K(()=>({width:xi(n.width)})),g=E=>{var I;(I=n.onConfirm)==null||I.call(n,E),d()},y=E=>{var I;(I=n.onCancel)==null||I.call(n,E),d()},b=K(()=>n.confirmButtonText||i("el.popconfirm.confirmButtonText")),C=K(()=>n.cancelButtonText||i("el.popconfirm.cancelButtonText"));return(E,I)=>($(),rt(v(Xs),ir({ref_key:"tooltipRef",ref:l,trigger:"click",effect:"light"},E.$attrs,{"popper-class":`${v(o).namespace.value}-popover`,"popper-style":v(h),teleported:E.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":E.hideAfter,persistent:E.persistent}),{content:Ue(()=>[Ie("div",{class:J(v(o).b())},[Ie("div",{class:J(v(o).e("main"))},[!E.hideIcon&&E.icon?($(),rt(v(un),{key:0,class:J(v(o).e("icon")),style:fn({color:E.iconColor})},{default:Ue(()=>[($(),rt(sr(E.icon)))]),_:1},8,["class","style"])):Ze("v-if",!0),mr(" "+Xt(E.title),1)],2),Ie("div",{class:J(v(o).e("action"))},[Re(v(fs),{size:"small",type:E.cancelButtonType==="text"?"":E.cancelButtonType,text:E.cancelButtonType==="text",onClick:y},{default:Ue(()=>[mr(Xt(v(C)),1)]),_:1},8,["type","text"]),Re(v(fs),{size:"small",type:E.confirmButtonType==="text"?"":E.confirmButtonType,text:E.confirmButtonType==="text",onClick:g},{default:Ue(()=>[mr(Xt(v(b)),1)]),_:1},8,["type","text"])],2)],2)]),default:Ue(()=>[E.$slots.reference?yt(E.$slots,"reference",{key:0}):Ze("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var rge=Ht(nge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const ige=er(rge),sge=$t({trigger:Zp.trigger,placement:Gv.placement,disabled:Zp.disabled,visible:Zi.visible,transition:Zi.transition,popperOptions:Gv.popperOptions,tabindex:Gv.tabindex,content:Zi.content,popperStyle:Zi.popperStyle,popperClass:Zi.popperClass,enterable:{...Zi.enterable,default:!0},effect:{...Zi.effect,default:"light"},teleported:Zi.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),oge={"update:visible":t=>Bi(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},age="onUpdate:visible",lge=Ge({name:"ElPopover"}),cge=Ge({...lge,props:sge,emits:oge,setup(t,{expose:n,emit:i}){const o=t,l=K(()=>o[age]),d=Ct("popover"),h=re(),g=K(()=>{var N;return(N=v(h))==null?void 0:N.popperRef}),y=K(()=>[{width:xi(o.width)},o.popperStyle]),b=K(()=>[d.b(),o.popperClass,{[d.m("plain")]:!!o.content}]),C=K(()=>o.transition===`${d.namespace.value}-fade-in-linear`),E=()=>{var N;(N=h.value)==null||N.hide()},I=()=>{i("before-enter")},M=()=>{i("before-leave")},T=()=>{i("after-enter")},R=()=>{i("update:visible",!1),i("after-leave")};return n({popperRef:g,hide:E}),(N,D)=>($(),rt(v(Xs),ir({ref_key:"tooltipRef",ref:h},N.$attrs,{trigger:N.trigger,placement:N.placement,disabled:N.disabled,visible:N.visible,transition:N.transition,"popper-options":N.popperOptions,tabindex:N.tabindex,content:N.content,offset:N.offset,"show-after":N.showAfter,"hide-after":N.hideAfter,"auto-close":N.autoClose,"show-arrow":N.showArrow,"aria-label":N.title,effect:N.effect,enterable:N.enterable,"popper-class":v(b),"popper-style":v(y),teleported:N.teleported,persistent:N.persistent,"gpu-acceleration":v(C),"onUpdate:visible":v(l),onBeforeShow:I,onBeforeHide:M,onShow:T,onHide:R}),{content:Ue(()=>[N.title?($(),_e("div",{key:0,class:J(v(d).e("title")),role:"title"},Xt(N.title),3)):Ze("v-if",!0),yt(N.$slots,"default",{},()=>[mr(Xt(N.content),1)])]),default:Ue(()=>[N.$slots.reference?yt(N.$slots,"reference",{key:0}):Ze("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var uge=Ht(cge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const sT=(t,n)=>{const i=n.arg||n.value,o=i==null?void 0:i.popperRef;o&&(o.triggerRef=t)};var dge={mounted(t,n){sT(t,n)},updated(t,n){sT(t,n)}};const fge="popover",E6=Xee(dge,fge),hge=er(uge,{directive:E6}),pge=$t({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:nt(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:nt([String,Array,Function]),default:""},format:{type:nt(Function),default:t=>`${t}%`}}),mge=["aria-valuenow"],gge={viewBox:"0 0 100 100"},vge=["d","stroke","stroke-width"],_ge=["d","stroke","opacity","stroke-linecap","stroke-width"],Age={key:0},yge=Ge({name:"ElProgress"}),bge=Ge({...yge,props:pge,setup(t){const n=t,i={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},o=Ct("progress"),l=K(()=>({width:`${n.percentage}%`,animationDuration:`${n.duration}s`,backgroundColor:V(n.percentage)})),d=K(()=>(n.strokeWidth/n.width*100).toFixed(1)),h=K(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(d.value)/2}`,10):0),g=K(()=>{const B=h.value,z=n.type==="dashboard";return`
          M 50 50
          m 0 ${z?"":"-"}${B}
          a ${B} ${B} 0 1 1 0 ${z?"-":""}${B*2}
          a ${B} ${B} 0 1 1 0 ${z?"":"-"}${B*2}
          `}),y=K(()=>2*Math.PI*h.value),b=K(()=>n.type==="dashboard"?.75:1),C=K(()=>`${-1*y.value*(1-b.value)/2}px`),E=K(()=>({strokeDasharray:`${y.value*b.value}px, ${y.value}px`,strokeDashoffset:C.value})),I=K(()=>({strokeDasharray:`${y.value*b.value*(n.percentage/100)}px, ${y.value}px`,strokeDashoffset:C.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),M=K(()=>{let B;return n.color?B=V(n.percentage):B=i[n.status]||i.default,B}),T=K(()=>n.status==="warning"?F_:n.type==="line"?n.status==="success"?ES:Lc:n.status==="success"?mm:ga),R=K(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),N=K(()=>n.format(n.percentage));function D(B){const z=100/B.length;return B.map((q,he)=>On(q)?{color:q,percentage:(he+1)*z}:q).sort((q,he)=>q.percentage-he.percentage)}const V=B=>{var z;const{color:H}=n;if(Nn(H))return H(B);if(On(H))return H;{const q=D(H);for(const he of q)if(he.percentage>B)return he.color;return(z=q[q.length-1])==null?void 0:z.color}};return(B,z)=>($(),_e("div",{class:J([v(o).b(),v(o).m(B.type),v(o).is(B.status),{[v(o).m("without-text")]:!B.showText,[v(o).m("text-inside")]:B.textInside}]),role:"progressbar","aria-valuenow":B.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[B.type==="line"?($(),_e("div",{key:0,class:J(v(o).b("bar"))},[Ie("div",{class:J(v(o).be("bar","outer")),style:fn({height:`${B.strokeWidth}px`})},[Ie("div",{class:J([v(o).be("bar","inner"),{[v(o).bem("bar","inner","indeterminate")]:B.indeterminate}]),style:fn(v(l))},[(B.showText||B.$slots.default)&&B.textInside?($(),_e("div",{key:0,class:J(v(o).be("bar","innerText"))},[yt(B.$slots,"default",{percentage:B.percentage},()=>[Ie("span",null,Xt(v(N)),1)])],2)):Ze("v-if",!0)],6)],6)],2)):($(),_e("div",{key:1,class:J(v(o).b("circle")),style:fn({height:`${B.width}px`,width:`${B.width}px`})},[($(),_e("svg",gge,[Ie("path",{class:J(v(o).be("circle","track")),d:v(g),stroke:`var(${v(o).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":v(d),fill:"none",style:fn(v(E))},null,14,vge),Ie("path",{class:J(v(o).be("circle","path")),d:v(g),stroke:v(M),fill:"none",opacity:B.percentage?1:0,"stroke-linecap":B.strokeLinecap,"stroke-width":v(d),style:fn(v(I))},null,14,_ge)]))],6)),(B.showText||B.$slots.default)&&!B.textInside?($(),_e("div",{key:2,class:J(v(o).e("text")),style:fn({fontSize:`${v(R)}px`})},[yt(B.$slots,"default",{percentage:B.percentage},()=>[B.status?($(),rt(v(un),{key:1},{default:Ue(()=>[($(),rt(sr(v(T))))]),_:1})):($(),_e("span",Age,Xt(v(N)),1))])],6)):Ze("v-if",!0)],10,mge))}});var Sge=Ht(bge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const C6=er(Sge),wge=$t({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:nt([Array,Object]),default:()=>ni(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:nt([Array,Object]),default:()=>[sv,sv,sv]},voidIcon:{type:jr,default:()=>mW},disabledVoidIcon:{type:jr,default:()=>sv},disabled:{type:Boolean},allowHalf:{type:Boolean},showText:{type:Boolean},showScore:{type:Boolean},textColor:{type:String,default:""},texts:{type:nt(Array),default:()=>ni(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:{type:String,validator:Wf},label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),Ege={[Zr]:t=>Hn(t),[Jn]:t=>Hn(t)},Cge=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],Ige=["onMousemove","onClick"],xge=Ge({name:"ElRate"}),Mge=Ge({...xge,props:wge,emits:Ege,setup(t,{expose:n,emit:i}){const o=t;function l(ye,ie){const fe=Qe=>nr(Qe),le=Object.keys(ie).map(Qe=>+Qe).filter(Qe=>{const Pe=ie[Qe];return(fe(Pe)?Pe.excluded:!1)?ye<Qe:ye<=Qe}).sort((Qe,Pe)=>Qe-Pe),Oe=ie[le[0]];return fe(Oe)&&Oe.value||Oe}const d=hn(Zu,void 0),h=hn(Qa,void 0),g=Mi(),y=Ct("rate"),{inputId:b,isLabeledByFormItem:C}=Vc(o,{formItemContext:h}),E=re(o.modelValue),I=re(-1),M=re(!0),T=K(()=>[y.b(),y.m(g.value)]),R=K(()=>o.disabled||(d==null?void 0:d.disabled)),N=K(()=>y.cssVarBlock({"void-color":o.voidColor,"disabled-void-color":o.disabledVoidColor,"fill-color":z.value})),D=K(()=>{let ye="";return o.showScore?ye=o.scoreTemplate.replace(/\{\s*value\s*\}/,R.value?`${o.modelValue}`:`${E.value}`):o.showText&&(ye=o.texts[Math.ceil(E.value)-1]),ye}),V=K(()=>o.modelValue*100-Math.floor(o.modelValue)*100),B=K(()=>on(o.colors)?{[o.lowThreshold]:o.colors[0],[o.highThreshold]:{value:o.colors[1],excluded:!0},[o.max]:o.colors[2]}:o.colors),z=K(()=>{const ye=l(E.value,B.value);return nr(ye)?"":ye}),H=K(()=>{let ye="";return R.value?ye=`${V.value}%`:o.allowHalf&&(ye="50%"),{color:z.value,width:ye}}),q=K(()=>{let ye=on(o.icons)?[...o.icons]:{...o.icons};return ye=Lu(ye),on(ye)?{[o.lowThreshold]:ye[0],[o.highThreshold]:{value:ye[1],excluded:!0},[o.max]:ye[2]}:ye}),he=K(()=>l(o.modelValue,q.value)),ne=K(()=>R.value?On(o.disabledVoidIcon)?o.disabledVoidIcon:Lu(o.disabledVoidIcon):On(o.voidIcon)?o.voidIcon:Lu(o.voidIcon)),se=K(()=>l(E.value,q.value));function oe(ye){const ie=R.value&&V.value>0&&ye-1<o.modelValue&&ye>o.modelValue,fe=o.allowHalf&&M.value&&ye-.5<=E.value&&ye>E.value;return ie||fe}function xe(ye){o.clearable&&ye===o.modelValue&&(ye=0),i(Jn,ye),o.modelValue!==ye&&i("change",ye)}function me(ye){R.value||(o.allowHalf&&M.value?xe(E.value):xe(ye))}function ce(ye){if(R.value)return;let ie=E.value;const fe=ye.code;return fe===An.up||fe===An.right?(o.allowHalf?ie+=.5:ie+=1,ye.stopPropagation(),ye.preventDefault()):(fe===An.left||fe===An.down)&&(o.allowHalf?ie-=.5:ie-=1,ye.stopPropagation(),ye.preventDefault()),ie=ie<0?0:ie,ie=ie>o.max?o.max:ie,i(Jn,ie),i("change",ie),ie}function Ae(ye,ie){if(!R.value){if(o.allowHalf){let fe=ie.target;ma(fe,y.e("item"))&&(fe=fe.querySelector(`.${y.e("icon")}`)),(fe.clientWidth===0||ma(fe,y.e("decimal")))&&(fe=fe.parentNode),M.value=ie.offsetX*2<=fe.clientWidth,E.value=M.value?ye-.5:ye}else E.value=ye;I.value=ye}}function Se(){R.value||(o.allowHalf&&(M.value=o.modelValue!==Math.floor(o.modelValue)),E.value=o.modelValue,I.value=-1)}return It(()=>o.modelValue,ye=>{E.value=ye,M.value=o.modelValue!==Math.floor(o.modelValue)}),o.modelValue||i(Jn,0),n({setCurrentValue:Ae,resetCurrentValue:Se}),(ye,ie)=>{var fe;return $(),_e("div",{id:v(b),class:J([v(T),v(y).is("disabled",v(R))]),role:"slider","aria-label":v(C)?void 0:ye.label||"rating","aria-labelledby":v(C)?(fe=v(h))==null?void 0:fe.labelId:void 0,"aria-valuenow":E.value,"aria-valuetext":v(D)||void 0,"aria-valuemin":"0","aria-valuemax":ye.max,tabindex:"0",style:fn(v(N)),onKeydown:ce},[($(!0),_e(gn,null,ur(ye.max,(le,Oe)=>($(),_e("span",{key:Oe,class:J(v(y).e("item")),onMousemove:Qe=>Ae(le,Qe),onMouseleave:Se,onClick:Qe=>me(le)},[Re(v(un),{class:J([v(y).e("icon"),{hover:I.value===le},v(y).is("active",le<=E.value)])},{default:Ue(()=>[oe(le)?Ze("v-if",!0):($(),_e(gn,{key:0},[zn(($(),rt(sr(v(se)),null,null,512)),[[yr,le<=E.value]]),zn(($(),rt(sr(v(ne)),null,null,512)),[[yr,!(le<=E.value)]])],64)),oe(le)?($(),rt(v(un),{key:1,style:fn(v(H)),class:J([v(y).e("icon"),v(y).e("decimal")])},{default:Ue(()=>[($(),rt(sr(v(he))))]),_:1},8,["style","class"])):Ze("v-if",!0)]),_:2},1032,["class"])],42,Ige))),128)),ye.showText||ye.showScore?($(),_e("span",{key:0,class:J(v(y).e("text"))},Xt(v(D)),3)):Ze("v-if",!0)],46,Cge)}}});var Rge=Ht(Mge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const Tge=er(Rge),cf={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},oT={[cf.success]:S$,[cf.warning]:F_,[cf.error]:CS,[cf.info]:IS},Pge=$t({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),Nge=Ge({name:"ElResult"}),Bge=Ge({...Nge,props:Pge,setup(t){const n=t,i=Ct("result"),o=K(()=>{const l=n.icon,d=l&&cf[l]?cf[l]:"icon-info",h=oT[d]||oT["icon-info"];return{class:d,component:h}});return(l,d)=>($(),_e("div",{class:J(v(i).b())},[Ie("div",{class:J(v(i).e("icon"))},[yt(l.$slots,"icon",{},()=>[v(o).component?($(),rt(sr(v(o).component),{key:0,class:J(v(o).class)},null,8,["class"])):Ze("v-if",!0)])],2),l.title||l.$slots.title?($(),_e("div",{key:0,class:J(v(i).e("title"))},[yt(l.$slots,"title",{},()=>[Ie("p",null,Xt(l.title),1)])],2)):Ze("v-if",!0),l.subTitle||l.$slots["sub-title"]?($(),_e("div",{key:1,class:J(v(i).e("subtitle"))},[yt(l.$slots,"sub-title",{},()=>[Ie("p",null,Xt(l.subTitle),1)])],2)):Ze("v-if",!0),l.$slots.extra?($(),_e("div",{key:2,class:J(v(i).e("extra"))},[yt(l.$slots,"extra")],2)):Ze("v-if",!0)],2))}});var Dge=Ht(Bge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue"]]);const kge=er(Dge),Lge=["start","center","end","space-around","space-between","space-evenly"],Oge=["top","middle","bottom"],Fge=$t({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Lge,default:"start"},align:{type:String,values:Oge,default:"top"}}),Vge=Ge({name:"ElRow"}),Gge=Ge({...Vge,props:Fge,setup(t){const n=t,i=Ct("row"),o=K(()=>n.gutter);or(i3,{gutter:o});const l=K(()=>{const d={};return n.gutter&&(d.marginRight=d.marginLeft=`-${n.gutter/2}px`),d});return(d,h)=>($(),rt(sr(d.tag),{class:J([v(i).b(),v(i).is(`justify-${n.justify}`,d.justify!=="start"),v(i).is(`align-${n.align}`,d.align!=="top")]),style:fn(v(l))},{default:Ue(()=>[yt(d.$slots,"default")]),_:3},8,["class","style"]))}});var Uge=Ht(Gge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const zge=er(Uge);var aT=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function Hge(t,n){return!!(t===n||aT(t)&&aT(n))}function Qge(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!Hge(t[i],n[i]))return!1;return!0}function Xge(t,n){n===void 0&&(n=Qge);var i=null;function o(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];if(i&&i.lastThis===this&&n(l,i.lastArgs))return i.lastResult;var h=t.apply(this,l);return i={lastResult:h,lastArgs:l,lastThis:this},h}return o.clear=function(){i=null},o}const I6=()=>{const n=Zn().proxy.$props;return K(()=>{const i=(o,l,d)=>({});return n.perfMode?H_(i):Xge(i)})},R1=50,p_="itemRendered",m_="scroll",uf="forward",g_="backward",To="auto",lA="smart",nm="start",Ga="center",rm="end",Ff="horizontal",Tw="vertical",$ge="ltr",Af="rtl",im="negative",Pw="positive-ascending",Nw="positive-descending",Wge={[Ff]:"left",[Tw]:"top"},Kge=20,jge={[Ff]:"deltaX",[Tw]:"deltaY"},qge=({atEndEdge:t,atStartEdge:n,layout:i},o)=>{let l,d=0;const h=y=>y<0&&n.value||y>0&&t.value;return{hasReachedEdge:h,onWheel:y=>{qS(l);const b=y[jge[i.value]];h(d)&&h(d+b)||(d+=b,KS()||y.preventDefault(),l=jS(()=>{o(d),d=0}))}}},T1=Sa({type:nt([Number,Function]),required:!0}),P1=Sa({type:Number}),N1=Sa({type:Number,default:2}),Yge=Sa({type:String,values:["ltr","rtl"],default:"ltr"}),B1=Sa({type:Number,default:0}),v_=Sa({type:Number,required:!0}),x6=Sa({type:String,values:["horizontal","vertical"],default:Tw}),M6=$t({className:{type:String,default:""},containerElement:{type:nt([String,Object]),default:"div"},data:{type:nt(Array),default:()=>ni([])},direction:Yge,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:nt([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),R6=$t({cache:N1,estimatedItemSize:P1,layout:x6,initScrollOffset:B1,total:v_,itemSize:T1,...M6}),D1={type:Number,default:6},T6={type:Number,default:0},P6={type:Number,default:2},Gu=$t({columnCache:N1,columnWidth:T1,estimatedColumnWidth:P1,estimatedRowHeight:P1,initScrollLeft:B1,initScrollTop:B1,itemKey:{type:nt(Function),default:({columnIndex:t,rowIndex:n})=>`${n}:${t}`},rowCache:N1,rowHeight:T1,totalColumn:v_,totalRow:v_,hScrollbarSize:D1,vScrollbarSize:D1,scrollbarStartGap:T6,scrollbarEndGap:P6,...M6}),N6=$t({alwaysOn:Boolean,class:String,layout:x6,total:v_,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:D1,startGap:T6,endGap:P6,visible:Boolean}),Nu=(t,n)=>t<n?uf:g_,sm=t=>t===$ge||t===Af||t===Ff,lT=t=>t===Af;let Jd=null;function __(t=!1){if(Jd===null||t){const n=document.createElement("div"),i=n.style;i.width="50px",i.height="50px",i.overflow="scroll",i.direction="rtl";const o=document.createElement("div"),l=o.style;return l.width="100px",l.height="100px",n.appendChild(o),document.body.appendChild(n),n.scrollLeft>0?Jd=Nw:(n.scrollLeft=1,n.scrollLeft===0?Jd=im:Jd=Pw),document.body.removeChild(n),Jd}return Jd}function Jge({move:t,size:n,bar:i},o){const l={},d=`translate${i.axis}(${t}px)`;return l[i.size]=n,l.transform=d,l.msTransform=d,l.webkitTransform=d,o==="horizontal"?l.height="100%":l.width="100%",l}const k1=Ge({name:"ElVirtualScrollBar",props:N6,emits:["scroll","start-move","stop-move"],setup(t,{emit:n}){const i=K(()=>t.startGap+t.endGap),o=Ct("virtual-scrollbar"),l=Ct("scrollbar"),d=re(),h=re();let g=null,y=null;const b=Mr({isDragging:!1,traveled:0}),C=K(()=>I3[t.layout]),E=K(()=>t.clientSize-v(i)),I=K(()=>({position:"absolute",width:`${Ff===t.layout?E.value:t.scrollbarSize}px`,height:`${Ff===t.layout?t.scrollbarSize:E.value}px`,[Wge[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),M=K(()=>{const q=t.ratio,he=t.clientSize;if(q>=100)return Number.POSITIVE_INFINITY;if(q>=50)return q*he/100;const ne=he/3;return Math.floor(Math.min(Math.max(q*he,Kge),ne))}),T=K(()=>{if(!Number.isFinite(M.value))return{display:"none"};const q=`${M.value}px`;return Jge({bar:C.value,size:q,move:b.traveled},t.layout)}),R=K(()=>Math.floor(t.clientSize-M.value-v(i))),N=()=>{window.addEventListener("mousemove",z),window.addEventListener("mouseup",B);const q=v(h);!q||(y=document.onselectstart,document.onselectstart=()=>!1,q.addEventListener("touchmove",z),q.addEventListener("touchend",B))},D=()=>{window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",B),document.onselectstart=y,y=null;const q=v(h);!q||(q.removeEventListener("touchmove",z),q.removeEventListener("touchend",B))},V=q=>{q.stopImmediatePropagation(),!(q.ctrlKey||[1,2].includes(q.button))&&(b.isDragging=!0,b[C.value.axis]=q.currentTarget[C.value.offset]-(q[C.value.client]-q.currentTarget.getBoundingClientRect()[C.value.direction]),n("start-move"),N())},B=()=>{b.isDragging=!1,b[C.value.axis]=0,n("stop-move"),D()},z=q=>{const{isDragging:he}=b;if(!he||!h.value||!d.value)return;const ne=b[C.value.axis];if(!ne)return;qS(g);const se=(d.value.getBoundingClientRect()[C.value.direction]-q[C.value.client])*-1,oe=h.value[C.value.offset]-ne,xe=se-oe;g=jS(()=>{b.traveled=Math.max(t.startGap,Math.min(xe,R.value)),n("scroll",xe,R.value)})},H=q=>{const he=Math.abs(q.target.getBoundingClientRect()[C.value.direction]-q[C.value.client]),ne=h.value[C.value.offset]/2,se=he-ne;b.traveled=Math.max(0,Math.min(se,R.value)),n("scroll",se,R.value)};return It(()=>t.scrollFrom,q=>{b.isDragging||(b.traveled=Math.ceil(q*R.value))}),hi(()=>{D()}),()=>yn("div",{role:"presentation",ref:d,class:[o.b(),t.class,(t.alwaysOn||b.isDragging)&&"always-on"],style:I.value,onMousedown:Dn(H,["stop","prevent"]),onTouchstartPrevent:V},yn("div",{ref:h,class:l.e("thumb"),style:T.value,onMousedown:V},[]))}}),B6=({name:t,getOffset:n,getItemSize:i,getItemOffset:o,getEstimatedTotalSize:l,getStartIndexForOffset:d,getStopIndexForStartIndex:h,initCache:g,clearCache:y,validateProps:b})=>Ge({name:t!=null?t:"ElVirtualList",props:R6,emits:[p_,m_],setup(C,{emit:E,expose:I}){b(C);const M=Zn(),T=Ct("vl"),R=re(g(C,M)),N=I6(),D=re(),V=re(),B=re(),z=re({isScrolling:!1,scrollDir:"forward",scrollOffset:Hn(C.initScrollOffset)?C.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:C.scrollbarAlwaysOn}),H=K(()=>{const{total:He,cache:bt}=C,{isScrolling:xt,scrollDir:Nt,scrollOffset:st}=v(z);if(He===0)return[0,0,0,0];const Ye=d(C,st,v(R)),ot=h(C,Ye,st,v(R)),Et=!xt||Nt===g_?Math.max(1,bt):1,an=!xt||Nt===uf?Math.max(1,bt):1;return[Math.max(0,Ye-Et),Math.max(0,Math.min(He-1,ot+an)),Ye,ot]}),q=K(()=>l(C,v(R))),he=K(()=>sm(C.layout)),ne=K(()=>[{position:"relative",[`overflow-${he.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:C.direction,height:Hn(C.height)?`${C.height}px`:C.height,width:Hn(C.width)?`${C.width}px`:C.width},C.style]),se=K(()=>{const He=v(q),bt=v(he);return{height:bt?"100%":`${He}px`,pointerEvents:v(z).isScrolling?"none":void 0,width:bt?`${He}px`:"100%"}}),oe=K(()=>he.value?C.width:C.height),{onWheel:xe}=qge({atStartEdge:K(()=>z.value.scrollOffset<=0),atEndEdge:K(()=>z.value.scrollOffset>=q.value),layout:K(()=>C.layout)},He=>{var bt,xt;(xt=(bt=B.value).onMouseUp)==null||xt.call(bt),ie(Math.min(z.value.scrollOffset+He,q.value-oe.value))}),me=()=>{const{total:He}=C;if(He>0){const[st,Ye,ot,Et]=v(H);E(p_,st,Ye,ot,Et)}const{scrollDir:bt,scrollOffset:xt,updateRequested:Nt}=v(z);E(m_,bt,xt,Nt)},ce=He=>{const{clientHeight:bt,scrollHeight:xt,scrollTop:Nt}=He.currentTarget,st=v(z);if(st.scrollOffset===Nt)return;const Ye=Math.max(0,Math.min(Nt,xt-bt));z.value={...st,isScrolling:!0,scrollDir:Nu(st.scrollOffset,Ye),scrollOffset:Ye,updateRequested:!1},dn(Oe)},Ae=He=>{const{clientWidth:bt,scrollLeft:xt,scrollWidth:Nt}=He.currentTarget,st=v(z);if(st.scrollOffset===xt)return;const{direction:Ye}=C;let ot=xt;if(Ye===Af)switch(__()){case im:{ot=-xt;break}case Nw:{ot=Nt-bt-xt;break}}ot=Math.max(0,Math.min(ot,Nt-bt)),z.value={...st,isScrolling:!0,scrollDir:Nu(st.scrollOffset,ot),scrollOffset:ot,updateRequested:!1},dn(Oe)},Se=He=>{v(he)?Ae(He):ce(He),me()},ye=(He,bt)=>{const xt=(q.value-oe.value)/bt*He;ie(Math.min(q.value-oe.value,xt))},ie=He=>{He=Math.max(He,0),He!==v(z).scrollOffset&&(z.value={...v(z),scrollOffset:He,scrollDir:Nu(v(z).scrollOffset,He),updateRequested:!0},dn(Oe))},fe=(He,bt=To)=>{const{scrollOffset:xt}=v(z);He=Math.max(0,Math.min(He,C.total-1)),ie(n(C,He,bt,xt,v(R)))},le=He=>{const{direction:bt,itemSize:xt,layout:Nt}=C,st=N.value(y&&xt,y&&Nt,y&&bt);let Ye;if(cr(st,String(He)))Ye=st[He];else{const ot=o(C,He,v(R)),Et=i(C,He,v(R)),an=v(he),Be=bt===Af,Xe=an?ot:0;st[He]=Ye={position:"absolute",left:Be?void 0:`${Xe}px`,right:Be?`${Xe}px`:void 0,top:an?0:`${ot}px`,height:an?"100%":`${Et}px`,width:an?`${Et}px`:"100%"}}return Ye},Oe=()=>{z.value.isScrolling=!1,dn(()=>{N.value(-1,null,null)})},Qe=()=>{const He=D.value;He&&(He.scrollTop=0)};jn(()=>{if(!fr)return;const{initScrollOffset:He}=C,bt=v(D);Hn(He)&&bt&&(v(he)?bt.scrollLeft=He:bt.scrollTop=He),me()}),Dl(()=>{const{direction:He,layout:bt}=C,{scrollOffset:xt,updateRequested:Nt}=v(z),st=v(D);if(Nt&&st)if(bt===Ff)if(He===Af)switch(__()){case im:{st.scrollLeft=-xt;break}case Pw:{st.scrollLeft=xt;break}default:{const{clientWidth:Ye,scrollWidth:ot}=st;st.scrollLeft=ot-Ye-xt;break}}else st.scrollLeft=xt;else st.scrollTop=xt});const Pe={ns:T,clientSize:oe,estimatedTotalSize:q,windowStyle:ne,windowRef:D,innerRef:V,innerStyle:se,itemsToRender:H,scrollbarRef:B,states:z,getItemStyle:le,onScroll:Se,onScrollbarScroll:ye,onWheel:xe,scrollTo:ie,scrollToItem:fe,resetScrollTop:Qe};return I({windowRef:D,innerRef:V,getItemStyleCache:N,scrollTo:ie,scrollToItem:fe,resetScrollTop:Qe,states:z}),Pe},render(C){var E;const{$slots:I,className:M,clientSize:T,containerElement:R,data:N,getItemStyle:D,innerElement:V,itemsToRender:B,innerStyle:z,layout:H,total:q,onScroll:he,onScrollbarScroll:ne,onWheel:se,states:oe,useIsScrolling:xe,windowStyle:me,ns:ce}=C,[Ae,Se]=B,ye=sr(R),ie=sr(V),fe=[];if(q>0)for(let Pe=Ae;Pe<=Se;Pe++)fe.push((E=I.default)==null?void 0:E.call(I,{data:N,key:Pe,index:Pe,isScrolling:xe?oe.isScrolling:void 0,style:D(Pe)}));const le=[yn(ie,{style:z,ref:"innerRef"},On(ie)?fe:{default:()=>fe})],Oe=yn(k1,{ref:"scrollbarRef",clientSize:T,layout:H,onScroll:ne,ratio:T*100/this.estimatedTotalSize,scrollFrom:oe.scrollOffset/(this.estimatedTotalSize-T),total:q}),Qe=yn(ye,{class:[ce.e("window"),M],style:me,onScroll:he,onWheel:se,ref:"windowRef",key:0},On(ye)?[le]:{default:()=>[le]});return yn("div",{key:0,class:[ce.e("wrapper"),oe.scrollbarAlwaysOn?"always-on":""]},[Qe,Oe])}}),D6=B6({name:"ElFixedSizeList",getItemOffset:({itemSize:t},n)=>n*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:n})=>n*t,getOffset:({height:t,total:n,itemSize:i,layout:o,width:l},d,h,g)=>{const y=sm(o)?l:t,b=Math.max(0,n*i-y),C=Math.min(b,d*i),E=Math.max(0,(d+1)*i-y);switch(h===lA&&(g>=E-y&&g<=C+y?h=To:h=Ga),h){case nm:return C;case rm:return E;case Ga:{const I=Math.round(E+(C-E)/2);return I<Math.ceil(y/2)?0:I>b+Math.floor(y/2)?b:I}case To:default:return g>=E&&g<=C?g:g<E?E:C}},getStartIndexForOffset:({total:t,itemSize:n},i)=>Math.max(0,Math.min(t-1,Math.floor(i/n))),getStopIndexForStartIndex:({height:t,total:n,itemSize:i,layout:o,width:l},d,h)=>{const g=d*i,y=sm(o)?l:t,b=Math.ceil((y+h-g)/i);return Math.max(0,Math.min(n-1,d+b-1))},initCache(){},clearCache:!0,validateProps(){}}),df=(t,n,i)=>{const{itemSize:o}=t,{items:l,lastVisitedIndex:d}=i;if(n>d){let h=0;if(d>=0){const g=l[d];h=g.offset+g.size}for(let g=d+1;g<=n;g++){const y=o(g);l[g]={offset:h,size:y},h+=y}i.lastVisitedIndex=n}return l[n]},Zge=(t,n,i)=>{const{items:o,lastVisitedIndex:l}=n;return(l>0?o[l].offset:0)>=i?k6(t,n,0,l,i):eve(t,n,Math.max(0,l),i)},k6=(t,n,i,o,l)=>{for(;i<=o;){const d=i+Math.floor((o-i)/2),h=df(t,d,n).offset;if(h===l)return d;h<l?i=d+1:h>l&&(o=d-1)}return Math.max(0,i-1)},eve=(t,n,i,o)=>{const{total:l}=t;let d=1;for(;i<l&&df(t,i,n).offset<o;)i+=d,d*=2;return k6(t,n,Math.floor(i/2),Math.min(i,l-1),o)},cT=({total:t},{items:n,estimatedItemSize:i,lastVisitedIndex:o})=>{let l=0;if(o>=t&&(o=t-1),o>=0){const g=n[o];l=g.offset+g.size}const h=(t-o-1)*i;return l+h},tve=B6({name:"ElDynamicSizeList",getItemOffset:(t,n,i)=>df(t,n,i).offset,getItemSize:(t,n,{items:i})=>i[n].size,getEstimatedTotalSize:cT,getOffset:(t,n,i,o,l)=>{const{height:d,layout:h,width:g}=t,y=sm(h)?g:d,b=df(t,n,l),C=cT(t,l),E=Math.max(0,Math.min(C-y,b.offset)),I=Math.max(0,b.offset-y+b.size);switch(i===lA&&(o>=I-y&&o<=E+y?i=To:i=Ga),i){case nm:return E;case rm:return I;case Ga:return Math.round(I+(E-I)/2);case To:default:return o>=I&&o<=E?o:o<I?I:E}},getStartIndexForOffset:(t,n,i)=>Zge(t,i,n),getStopIndexForStartIndex:(t,n,i,o)=>{const{height:l,total:d,layout:h,width:g}=t,y=sm(h)?g:l,b=df(t,n,o),C=i+y;let E=b.offset+b.size,I=n;for(;I<d-1&&E<C;)I++,E+=df(t,I,o).size;return I},initCache({estimatedItemSize:t=R1},n){const i={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return i.clearCacheAfterIndex=(o,l=!0)=>{var d,h;i.lastVisitedIndex=Math.min(i.lastVisitedIndex,o-1),(d=n.exposed)==null||d.getItemStyleCache(-1),l&&((h=n.proxy)==null||h.$forceUpdate())},i},clearCache:!1,validateProps:({itemSize:t})=>{}}),nve=({atXEndEdge:t,atXStartEdge:n,atYEndEdge:i,atYStartEdge:o},l)=>{let d=null,h=0,g=0;const y=(C,E)=>{const I=C<0&&n.value||C>0&&t.value,M=E<0&&o.value||E>0&&i.value;return I&&M};return{hasReachedEdge:y,onWheel:C=>{qS(d);let E=C.deltaX,I=C.deltaY;Math.abs(E)>Math.abs(I)?I=0:E=0,C.shiftKey&&I!==0&&(E=I,I=0),!(y(h,g)&&y(h+E,g+I))&&(h+=E,g+=I,KS()||C.preventDefault(),d=jS(()=>{l(h,g),h=0,g=0}))}}},L6=({name:t,clearCache:n,getColumnPosition:i,getColumnStartIndexForOffset:o,getColumnStopIndexForStartIndex:l,getEstimatedTotalHeight:d,getEstimatedTotalWidth:h,getColumnOffset:g,getRowOffset:y,getRowPosition:b,getRowStartIndexForOffset:C,getRowStopIndexForStartIndex:E,initCache:I,injectToInstance:M,validateProps:T})=>Ge({name:t!=null?t:"ElVirtualList",props:Gu,emits:[p_,m_],setup(R,{emit:N,expose:D,slots:V}){const B=Ct("vl");T(R);const z=Zn(),H=re(I(R,z));M==null||M(z,H);const q=re(),he=re(),ne=re(),se=re(null),oe=re({isScrolling:!1,scrollLeft:Hn(R.initScrollLeft)?R.initScrollLeft:0,scrollTop:Hn(R.initScrollTop)?R.initScrollTop:0,updateRequested:!1,xAxisScrollDir:uf,yAxisScrollDir:uf}),xe=I6(),me=K(()=>Number.parseInt(`${R.height}`,10)),ce=K(()=>Number.parseInt(`${R.width}`,10)),Ae=K(()=>{const{totalColumn:dt,totalRow:Ft,columnCache:At}=R,{isScrolling:Ne,xAxisScrollDir:Ke,scrollLeft:Lt}=v(oe);if(dt===0||Ft===0)return[0,0,0,0];const Wt=o(R,Lt,v(H)),en=l(R,Wt,Lt,v(H)),vn=!Ne||Ke===g_?Math.max(1,At):1,xn=!Ne||Ke===uf?Math.max(1,At):1;return[Math.max(0,Wt-vn),Math.max(0,Math.min(dt-1,en+xn)),Wt,en]}),Se=K(()=>{const{totalColumn:dt,totalRow:Ft,rowCache:At}=R,{isScrolling:Ne,yAxisScrollDir:Ke,scrollTop:Lt}=v(oe);if(dt===0||Ft===0)return[0,0,0,0];const Wt=C(R,Lt,v(H)),en=E(R,Wt,Lt,v(H)),vn=!Ne||Ke===g_?Math.max(1,At):1,xn=!Ne||Ke===uf?Math.max(1,At):1;return[Math.max(0,Wt-vn),Math.max(0,Math.min(Ft-1,en+xn)),Wt,en]}),ye=K(()=>d(R,v(H))),ie=K(()=>h(R,v(H))),fe=K(()=>{var dt;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:R.direction,height:Hn(R.height)?`${R.height}px`:R.height,width:Hn(R.width)?`${R.width}px`:R.width},(dt=R.style)!=null?dt:{}]}),le=K(()=>{const dt=`${v(ie)}px`;return{height:`${v(ye)}px`,pointerEvents:v(oe).isScrolling?"none":void 0,width:dt}}),Oe=()=>{const{totalColumn:dt,totalRow:Ft}=R;if(dt>0&&Ft>0){const[en,vn,xn,Wn]=v(Ae),[pt,St,tn,Fn]=v(Se);N(p_,{columnCacheStart:en,columnCacheEnd:vn,rowCacheStart:pt,rowCacheEnd:St,columnVisibleStart:xn,columnVisibleEnd:Wn,rowVisibleStart:tn,rowVisibleEnd:Fn})}const{scrollLeft:At,scrollTop:Ne,updateRequested:Ke,xAxisScrollDir:Lt,yAxisScrollDir:Wt}=v(oe);N(m_,{xAxisScrollDir:Lt,scrollLeft:At,yAxisScrollDir:Wt,scrollTop:Ne,updateRequested:Ke})},Qe=dt=>{const{clientHeight:Ft,clientWidth:At,scrollHeight:Ne,scrollLeft:Ke,scrollTop:Lt,scrollWidth:Wt}=dt.currentTarget,en=v(oe);if(en.scrollTop===Lt&&en.scrollLeft===Ke)return;let vn=Ke;if(lT(R.direction))switch(__()){case im:vn=-Ke;break;case Nw:vn=Wt-At-Ke;break}oe.value={...en,isScrolling:!0,scrollLeft:vn,scrollTop:Math.max(0,Math.min(Lt,Ne-Ft)),updateRequested:!0,xAxisScrollDir:Nu(en.scrollLeft,vn),yAxisScrollDir:Nu(en.scrollTop,Lt)},dn(()=>Ye()),ot(),Oe()},Pe=(dt,Ft)=>{const At=v(me),Ne=(ye.value-At)/Ft*dt;xt({scrollTop:Math.min(ye.value-At,Ne)})},He=(dt,Ft)=>{const At=v(ce),Ne=(ie.value-At)/Ft*dt;xt({scrollLeft:Math.min(ie.value-At,Ne)})},{onWheel:bt}=nve({atXStartEdge:K(()=>oe.value.scrollLeft<=0),atXEndEdge:K(()=>oe.value.scrollLeft>=ie.value),atYStartEdge:K(()=>oe.value.scrollTop<=0),atYEndEdge:K(()=>oe.value.scrollTop>=ye.value)},(dt,Ft)=>{var At,Ne,Ke,Lt;(Ne=(At=he.value)==null?void 0:At.onMouseUp)==null||Ne.call(At),(Lt=(Ke=he.value)==null?void 0:Ke.onMouseUp)==null||Lt.call(Ke);const Wt=v(ce),en=v(me);xt({scrollLeft:Math.min(oe.value.scrollLeft+dt,ie.value-Wt),scrollTop:Math.min(oe.value.scrollTop+Ft,ye.value-en)})}),xt=({scrollLeft:dt=oe.value.scrollLeft,scrollTop:Ft=oe.value.scrollTop})=>{dt=Math.max(dt,0),Ft=Math.max(Ft,0);const At=v(oe);Ft===At.scrollTop&&dt===At.scrollLeft||(oe.value={...At,xAxisScrollDir:Nu(At.scrollLeft,dt),yAxisScrollDir:Nu(At.scrollTop,Ft),scrollLeft:dt,scrollTop:Ft,updateRequested:!0},dn(()=>Ye()),ot(),Oe())},Nt=(dt=0,Ft=0,At=To)=>{const Ne=v(oe);Ft=Math.max(0,Math.min(Ft,R.totalColumn-1)),dt=Math.max(0,Math.min(dt,R.totalRow-1));const Ke=QN(B.namespace.value),Lt=v(H),Wt=d(R,Lt),en=h(R,Lt);xt({scrollLeft:g(R,Ft,At,Ne.scrollLeft,Lt,en>R.width?Ke:0),scrollTop:y(R,dt,At,Ne.scrollTop,Lt,Wt>R.height?Ke:0)})},st=(dt,Ft)=>{const{columnWidth:At,direction:Ne,rowHeight:Ke}=R,Lt=xe.value(n&&At,n&&Ke,n&&Ne),Wt=`${dt},${Ft}`;if(cr(Lt,Wt))return Lt[Wt];{const[,en]=i(R,Ft,v(H)),vn=v(H),xn=lT(Ne),[Wn,pt]=b(R,dt,vn),[St]=i(R,Ft,vn);return Lt[Wt]={position:"absolute",left:xn?void 0:`${en}px`,right:xn?`${en}px`:void 0,top:`${pt}px`,height:`${Wn}px`,width:`${St}px`},Lt[Wt]}},Ye=()=>{oe.value.isScrolling=!1,dn(()=>{xe.value(-1,null,null)})};jn(()=>{if(!fr)return;const{initScrollLeft:dt,initScrollTop:Ft}=R,At=v(q);At&&(Hn(dt)&&(At.scrollLeft=dt),Hn(Ft)&&(At.scrollTop=Ft)),Oe()});const ot=()=>{const{direction:dt}=R,{scrollLeft:Ft,scrollTop:At,updateRequested:Ne}=v(oe),Ke=v(q);if(Ne&&Ke){if(dt===Af)switch(__()){case im:{Ke.scrollLeft=-Ft;break}case Pw:{Ke.scrollLeft=Ft;break}default:{const{clientWidth:Lt,scrollWidth:Wt}=Ke;Ke.scrollLeft=Wt-Lt-Ft;break}}else Ke.scrollLeft=Math.max(0,Ft);Ke.scrollTop=Math.max(0,At)}},{resetAfterColumnIndex:Et,resetAfterRowIndex:an,resetAfter:Be}=z.proxy;D({windowRef:q,innerRef:se,getItemStyleCache:xe,scrollTo:xt,scrollToItem:Nt,states:oe,resetAfterColumnIndex:Et,resetAfterRowIndex:an,resetAfter:Be});const Xe=()=>{const{scrollbarAlwaysOn:dt,scrollbarStartGap:Ft,scrollbarEndGap:At,totalColumn:Ne,totalRow:Ke}=R,Lt=v(ce),Wt=v(me),en=v(ie),vn=v(ye),{scrollLeft:xn,scrollTop:Wn}=v(oe),pt=yn(k1,{ref:he,alwaysOn:dt,startGap:Ft,endGap:At,class:B.e("horizontal"),clientSize:Lt,layout:"horizontal",onScroll:He,ratio:Lt*100/en,scrollFrom:xn/(en-Lt),total:Ke,visible:!0}),St=yn(k1,{ref:ne,alwaysOn:dt,startGap:Ft,endGap:At,class:B.e("vertical"),clientSize:Wt,layout:"vertical",onScroll:Pe,ratio:Wt*100/vn,scrollFrom:Wn/(vn-Wt),total:Ne,visible:!0});return{horizontalScrollbar:pt,verticalScrollbar:St}},ht=()=>{var dt;const[Ft,At]=v(Ae),[Ne,Ke]=v(Se),{data:Lt,totalColumn:Wt,totalRow:en,useIsScrolling:vn,itemKey:xn}=R,Wn=[];if(en>0&&Wt>0)for(let pt=Ne;pt<=Ke;pt++)for(let St=Ft;St<=At;St++)Wn.push((dt=V.default)==null?void 0:dt.call(V,{columnIndex:St,data:Lt,key:xn({columnIndex:St,data:Lt,rowIndex:pt}),isScrolling:vn?v(oe).isScrolling:void 0,style:st(pt,St),rowIndex:pt}));return Wn},Dt=()=>{const dt=sr(R.innerElement),Ft=ht();return[yn(dt,{style:v(le),ref:se},On(dt)?Ft:{default:()=>Ft})]};return()=>{const dt=sr(R.containerElement),{horizontalScrollbar:Ft,verticalScrollbar:At}=Xe(),Ne=Dt();return yn("div",{key:0,class:B.e("wrapper")},[yn(dt,{class:R.className,style:v(fe),onScroll:Qe,onWheel:bt,ref:q},On(dt)?Ne:{default:()=>Ne}),Ft,At])}}}),rve=L6({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},n)=>[t,n*t],getRowPosition:({rowHeight:t},n)=>[t,n*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:n})=>n*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:n})=>n*t,getColumnOffset:({totalColumn:t,columnWidth:n,width:i},o,l,d,h,g)=>{i=Number(i);const y=Math.max(0,t*n-i),b=Math.min(y,o*n),C=Math.max(0,o*n-i+g+n);switch(l==="smart"&&(d>=C-i&&d<=b+i?l=To:l=Ga),l){case nm:return b;case rm:return C;case Ga:{const E=Math.round(C+(b-C)/2);return E<Math.ceil(i/2)?0:E>y+Math.floor(i/2)?y:E}case To:default:return d>=C&&d<=b?d:C>b||d<C?C:b}},getRowOffset:({rowHeight:t,height:n,totalRow:i},o,l,d,h,g)=>{n=Number(n);const y=Math.max(0,i*t-n),b=Math.min(y,o*t),C=Math.max(0,o*t-n+g+t);switch(l===lA&&(d>=C-n&&d<=b+n?l=To:l=Ga),l){case nm:return b;case rm:return C;case Ga:{const E=Math.round(C+(b-C)/2);return E<Math.ceil(n/2)?0:E>y+Math.floor(n/2)?y:E}case To:default:return d>=C&&d<=b?d:C>b||d<C?C:b}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:n},i)=>Math.max(0,Math.min(n-1,Math.floor(i/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:n,width:i},o,l)=>{const d=o*t,h=Math.ceil((i+l-d)/t);return Math.max(0,Math.min(n-1,o+h-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:n},i)=>Math.max(0,Math.min(n-1,Math.floor(i/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:n,height:i},o,l)=>{const d=o*t,h=Math.ceil((i+l-d)/t);return Math.max(0,Math.min(n-1,o+h-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:n})=>{}}),{max:A_,min:O6,floor:F6}=Math,ive={column:"columnWidth",row:"rowHeight"},L1={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},wl=(t,n,i,o)=>{const[l,d,h]=[i[o],t[ive[o]],i[L1[o]]];if(n>h){let g=0;if(h>=0){const y=l[h];g=y.offset+y.size}for(let y=h+1;y<=n;y++){const b=d(y);l[y]={offset:g,size:b},g+=b}i[L1[o]]=n}return l[n]},V6=(t,n,i,o,l,d)=>{for(;i<=o;){const h=i+F6((o-i)/2),g=wl(t,h,n,d).offset;if(g===l)return h;g<l?i=h+1:o=h-1}return A_(0,i-1)},sve=(t,n,i,o,l)=>{const d=l==="column"?t.totalColumn:t.totalRow;let h=1;for(;i<d&&wl(t,i,n,l).offset<o;)i+=h,h*=2;return V6(t,n,F6(i/2),O6(i,d-1),o,l)},uT=(t,n,i,o)=>{const[l,d]=[n[o],n[L1[o]]];return(d>0?l[d].offset:0)>=i?V6(t,n,0,d,i,o):sve(t,n,A_(0,d),i,o)},G6=({totalRow:t},{estimatedRowHeight:n,lastVisitedRowIndex:i,row:o})=>{let l=0;if(i>=t&&(i=t-1),i>=0){const g=o[i];l=g.offset+g.size}const h=(t-i-1)*n;return l+h},U6=({totalColumn:t},{column:n,estimatedColumnWidth:i,lastVisitedColumnIndex:o})=>{let l=0;if(o>t&&(o=t-1),o>=0){const g=n[o];l=g.offset+g.size}const h=(t-o-1)*i;return l+h},ove={column:U6,row:G6},dT=(t,n,i,o,l,d,h)=>{const[g,y]=[d==="row"?t.height:t.width,ove[d]],b=wl(t,n,l,d),C=y(t,l),E=A_(0,O6(C-g,b.offset)),I=A_(0,b.offset-g+h+b.size);switch(i===lA&&(o>=I-g&&o<=E+g?i=To:i=Ga),i){case nm:return E;case rm:return I;case Ga:return Math.round(I+(E-I)/2);case To:default:return o>=I&&o<=E?o:I>E||o<I?I:E}},ave=L6({name:"ElDynamicSizeGrid",getColumnPosition:(t,n,i)=>{const o=wl(t,n,i,"column");return[o.size,o.offset]},getRowPosition:(t,n,i)=>{const o=wl(t,n,i,"row");return[o.size,o.offset]},getColumnOffset:(t,n,i,o,l,d)=>dT(t,n,i,o,l,"column",d),getRowOffset:(t,n,i,o,l,d)=>dT(t,n,i,o,l,"row",d),getColumnStartIndexForOffset:(t,n,i)=>uT(t,i,n,"column"),getColumnStopIndexForStartIndex:(t,n,i,o)=>{const l=wl(t,n,o,"column"),d=i+t.width;let h=l.offset+l.size,g=n;for(;g<t.totalColumn-1&&h<d;)g++,h+=wl(t,n,o,"column").size;return g},getEstimatedTotalHeight:G6,getEstimatedTotalWidth:U6,getRowStartIndexForOffset:(t,n,i)=>uT(t,i,n,"row"),getRowStopIndexForStartIndex:(t,n,i,o)=>{const{totalRow:l,height:d}=t,h=wl(t,n,o,"row"),g=i+d;let y=h.size+h.offset,b=n;for(;b<l-1&&y<g;)b++,y+=wl(t,b,o,"row").size;return b},injectToInstance:(t,n)=>{const i=({columnIndex:d,rowIndex:h},g)=>{var y,b;g=ts(g)?!0:g,Hn(d)&&(n.value.lastVisitedColumnIndex=Math.min(n.value.lastVisitedColumnIndex,d-1)),Hn(h)&&(n.value.lastVisitedRowIndex=Math.min(n.value.lastVisitedRowIndex,h-1)),(y=t.exposed)==null||y.getItemStyleCache.value(-1,null,null),g&&((b=t.proxy)==null||b.$forceUpdate())},o=(d,h)=>{i({columnIndex:d},h)},l=(d,h)=>{i({rowIndex:d},h)};Object.assign(t.proxy,{resetAfterColumnIndex:o,resetAfterRowIndex:l,resetAfter:i})},initCache:({estimatedColumnWidth:t=R1,estimatedRowHeight:n=R1})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:n,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:n})=>{}}),lve=Ge({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:Ct("select")}}});function cve(t,n,i,o,l,d){return t.item.isTitle?($(),_e("div",{key:0,class:J(t.ns.be("group","title")),style:fn([t.style,{lineHeight:`${t.height}px`}])},Xt(t.item.label),7)):($(),_e("div",{key:1,class:J(t.ns.be("group","split")),style:fn(t.style)},[Ie("span",{class:J(t.ns.be("group","split-dash")),style:fn({top:`${t.height/2}px`})},null,6)],6))}var uve=Ht(lve,[["render",cve],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function dve(t,{emit:n}){return{hoverItem:()=>{t.disabled||n("hover",t.index)},selectOptionClick:()=>{t.disabled||n("select",t.item,t.index)}}}const fve={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:Lc},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:Zi.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:Wf},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:nt(String),values:ed,default:"bottom-start"}},hve={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},pve=Ge({props:hve,emits:["select","hover"],setup(t,{emit:n}){const i=Ct("select"),{hoverItem:o,selectOptionClick:l}=dve(t,{emit:n});return{ns:i,hoverItem:o,selectOptionClick:l}}}),mve=["aria-selected"];function gve(t,n,i,o,l,d){return $(),_e("li",{"aria-selected":t.selected,style:fn(t.style),class:J([t.ns.be("dropdown","option-item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),{hover:t.hovering}]),onMouseenter:n[0]||(n[0]=(...h)=>t.hoverItem&&t.hoverItem(...h)),onClick:n[1]||(n[1]=Dn((...h)=>t.selectOptionClick&&t.selectOptionClick(...h),["stop"]))},[yt(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[Ie("span",null,Xt(t.item.label),1)])],46,mve)}var vve=Ht(pve,[["render",gve],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const z6="ElSelectV2Injection";var _ve=Ge({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(t,{slots:n,expose:i}){const o=hn(z6),l=Ct("select"),d=re([]),h=re(),g=K(()=>t.data.length);It(()=>g.value,()=>{var ne,se;(se=(ne=o.popper.value).updatePopper)==null||se.call(ne)});const y=K(()=>ts(o.props.estimatedOptionHeight)),b=K(()=>y.value?{itemSize:o.props.itemHeight}:{estimatedSize:o.props.estimatedOptionHeight,itemSize:ne=>d.value[ne]}),C=(ne=[],se)=>{const{props:{valueKey:oe}}=o;return nr(se)?ne&&ne.some(xe=>ti(xe,oe)===ti(se,oe)):ne.includes(se)},E=(ne,se)=>{if(nr(se)){const{valueKey:oe}=o.props;return ti(ne,oe)===ti(se,oe)}else return ne===se},I=(ne,se)=>{const{valueKey:oe}=o.props;return o.props.multiple?C(ne,ti(se,oe)):E(ne,ti(se,oe))},M=(ne,se)=>{const{disabled:oe,multiple:xe,multipleLimit:me}=o.props;return oe||!se&&(xe?me>0&&ne.length>=me:!1)},T=ne=>t.hoveringIndex===ne;i({listRef:h,isSized:y,isItemDisabled:M,isItemHovering:T,isItemSelected:I,scrollToItem:ne=>{const se=h.value;se&&se.scrollToItem(ne)},resetScrollTop:()=>{const ne=h.value;ne&&ne.resetScrollTop()}});const D=ne=>{const{index:se,data:oe,style:xe}=ne,me=v(y),{itemSize:ce,estimatedSize:Ae}=v(b),{modelValue:Se}=o.props,{onSelect:ye,onHover:ie}=o,fe=oe[se];if(fe.type==="Group")return Re(uve,{item:fe,style:xe,height:me?ce:Ae},null);const le=I(Se,fe),Oe=M(Se,le),Qe=T(se);return Re(vve,ir(ne,{selected:le,disabled:fe.disabled||Oe,created:!!fe.created,hovering:Qe,item:fe,onSelect:ye,onHover:ie}),{default:Pe=>{var He;return((He=n.default)==null?void 0:He.call(n,Pe))||Re("span",null,[fe.label])}})},{onKeyboardNavigate:V,onKeyboardSelect:B}=o,z=()=>{V("forward")},H=()=>{V("backward")},q=()=>{o.expanded=!1},he=ne=>{const{code:se}=ne,{tab:oe,esc:xe,down:me,up:ce,enter:Ae}=An;switch(se!==oe&&(ne.preventDefault(),ne.stopPropagation()),se){case oe:case xe:{q();break}case me:{z();break}case ce:{H();break}case Ae:{B();break}}};return()=>{var ne;const{data:se,width:oe}=t,{height:xe,multiple:me,scrollbarAlwaysOn:ce}=o.props;if(se.length===0)return Re("div",{class:l.b("dropdown"),style:{width:`${oe}px`}},[(ne=n.empty)==null?void 0:ne.call(n)]);const Ae=v(y)?D6:tve;return Re("div",{class:[l.b("dropdown"),l.is("multiple",me)]},[Re(Ae,ir({ref:h},v(b),{className:l.be("dropdown","list"),scrollbarAlwaysOn:ce,data:se,height:xe,width:oe,total:se.length,onKeydown:he}),{default:Se=>Re(D,Se,null)})])}}});function Ave(t,n){const i=re(0),o=re(null),l=K(()=>t.allowCreate&&t.filterable);function d(C){const E=I=>I.value===C;return t.options&&t.options.some(E)||n.createdOptions.some(E)}function h(C){!l.value||(t.multiple&&C.created?i.value++:o.value=C)}function g(C){if(l.value)if(C&&C.length>0&&!d(C)){const E={value:C,label:C,created:!0,disabled:!1};n.createdOptions.length>=i.value?n.createdOptions[i.value]=E:n.createdOptions.push(E)}else if(t.multiple)n.createdOptions.length=i.value;else{const E=o.value;n.createdOptions.length=0,E&&E.created&&n.createdOptions.push(E)}}function y(C){if(!l.value||!C||!C.created||C.created&&t.reserveKeyword&&n.inputValue===C.label)return;const E=n.createdOptions.findIndex(I=>I.value===C.value);~E&&(n.createdOptions.splice(E,1),i.value--)}function b(){l.value&&(n.createdOptions.length=0,i.value=0)}return{createNewOption:g,removeNewOption:y,selectNewOption:h,clearAllNewOption:b}}const yve=t=>{const n=[];return t.forEach(i=>{on(i.options)?(n.push({label:i.label,isTitle:!0,type:"Group"}),i.options.forEach(o=>{n.push(o)}),n.push({type:"Group"})):n.push(i)}),n};function bve(t){const n=re(!1);return{handleCompositionStart:()=>{n.value=!0},handleCompositionUpdate:d=>{const h=d.target.value,g=h[h.length-1]||"";n.value=!K_(g)},handleCompositionEnd:d=>{n.value&&(n.value=!1,Nn(t)&&t(d))}}}const fT="",hT=11,Sve={larget:51,default:42,small:33},wve=(t,n)=>{const{t:i}=Sr(),o=Ct("select-v2"),l=Ct("input"),{form:d,formItem:h}=Bs(),g=Mr({inputValue:fT,displayInputValue:fT,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),y=re(-1),b=re(-1),C=re(null),E=re(null),I=re(null),M=re(null),T=re(null),R=re(null),N=re(null),D=re(!1),V=K(()=>t.disabled||(d==null?void 0:d.disabled)),B=K(()=>{const Pt=me.value.length*34;return Pt>t.height?t.height:Pt}),z=K(()=>!rs(t.modelValue)),H=K(()=>{const Pt=t.multiple?Array.isArray(t.modelValue)&&t.modelValue.length>0:z.value;return t.clearable&&!V.value&&g.comboBoxHovering&&Pt}),q=K(()=>t.remote&&t.filterable?"":O_),he=K(()=>q.value&&o.is("reverse",D.value)),ne=K(()=>(h==null?void 0:h.validateState)||""),se=K(()=>KN[ne.value]),oe=K(()=>t.remote?300:0),xe=K(()=>{const Pt=me.value;return t.loading?t.loadingText||i("el.select.loading"):t.remote&&g.inputValue===""&&Pt.length===0?!1:t.filterable&&g.inputValue&&Pt.length>0?t.noMatchText||i("el.select.noMatch"):Pt.length===0?t.noDataText||i("el.select.noData"):null}),me=K(()=>{const Pt=In=>{var rr;const Cr=g.inputValue;return Cr?(rr=In.label)==null?void 0:rr.includes(Cr):!0};return t.loading?[]:yve(t.options.concat(g.createdOptions).map(In=>{if(on(In.options)){const rr=In.options.filter(Pt);if(rr.length>0)return{...In,options:rr}}else if(t.remote||Pt(In))return In;return null}).filter(In=>In!==null))}),ce=K(()=>me.value.every(Pt=>Pt.disabled)),Ae=Mi(),Se=K(()=>Ae.value==="small"?"small":"default"),ye=K(()=>{const Pt=R.value,In=Se.value||"default",rr=Pt?Number.parseInt(getComputedStyle(Pt).paddingLeft):0,Cr=Pt?Number.parseInt(getComputedStyle(Pt).paddingRight):0;return g.selectWidth-Cr-rr-Sve[In]}),ie=()=>{var Pt;b.value=((Pt=T.value)==null?void 0:Pt.offsetWidth)||200},fe=K(()=>({width:`${g.calculatedWidth===0?hT:Math.ceil(g.calculatedWidth)+hT}px`})),le=K(()=>on(t.modelValue)?t.modelValue.length===0&&!g.displayInputValue:t.filterable?g.displayInputValue.length===0:!0),Oe=K(()=>{const Pt=t.placeholder||i("el.select.placeholder");return t.multiple||rs(t.modelValue)?Pt:g.selectedLabel}),Qe=K(()=>{var Pt,In;return(In=(Pt=M.value)==null?void 0:Pt.popperRef)==null?void 0:In.contentRef}),Pe=K(()=>{if(t.multiple){const Pt=t.modelValue.length;if(t.modelValue.length>0)return me.value.findIndex(In=>In.value===t.modelValue[Pt-1])}else if(t.modelValue)return me.value.findIndex(Pt=>Pt.value===t.modelValue);return-1}),He=K({get(){return D.value&&xe.value!==!1},set(Pt){D.value=Pt}}),{createNewOption:bt,removeNewOption:xt,selectNewOption:Nt,clearAllNewOption:st}=Ave(t,g),{handleCompositionStart:Ye,handleCompositionUpdate:ot,handleCompositionEnd:Et}=bve(Pt=>xr(Pt)),an=()=>{var Pt,In,rr;(In=(Pt=E.value).focus)==null||In.call(Pt),(rr=M.value)==null||rr.updatePopper()},Be=()=>{if(!t.automaticDropdown&&!V.value)return g.isComposing&&(g.softFocus=!0),dn(()=>{var Pt,In;D.value=!D.value,(In=(Pt=E.value)==null?void 0:Pt.focus)==null||In.call(Pt)})},Xe=()=>(t.filterable&&g.inputValue!==g.selectedLabel&&(g.query=g.selectedLabel),Dt(g.inputValue),dn(()=>{bt(g.inputValue)})),ht=Ns(Xe,oe.value),Dt=Pt=>{g.previousQuery!==Pt&&(g.previousQuery=Pt,t.filterable&&Nn(t.filterMethod)?t.filterMethod(Pt):t.filterable&&t.remote&&Nn(t.remoteMethod)&&t.remoteMethod(Pt))},Ot=Pt=>{po(t.modelValue,Pt)||n(Zr,Pt)},dt=Pt=>{n(Jn,Pt),Ot(Pt),g.previousValue=Pt==null?void 0:Pt.toString()},Ft=(Pt=[],In)=>{if(!nr(In))return Pt.indexOf(In);const rr=t.valueKey;let Cr=-1;return Pt.some((vo,Qi)=>ti(vo,rr)===ti(In,rr)?(Cr=Qi,!0):!1),Cr},At=Pt=>nr(Pt)?ti(Pt,t.valueKey):Pt,Ne=Pt=>nr(Pt)?Pt.label:Pt,Ke=()=>{if(!(t.collapseTags&&!t.filterable))return dn(()=>{var Pt,In;if(!E.value)return;const rr=R.value;T.value.height=rr.offsetHeight,D.value&&xe.value!==!1&&((In=(Pt=M.value)==null?void 0:Pt.updatePopper)==null||In.call(Pt))})},Lt=()=>{var Pt,In;if(Wt(),ie(),(In=(Pt=M.value)==null?void 0:Pt.updatePopper)==null||In.call(Pt),t.multiple)return Ke()},Wt=()=>{const Pt=R.value;Pt&&(g.selectWidth=Pt.getBoundingClientRect().width)},en=(Pt,In,rr=!0)=>{var Cr,vo;if(t.multiple){let Qi=t.modelValue.slice();const Ei=Ft(Qi,At(Pt));Ei>-1?(Qi=[...Qi.slice(0,Ei),...Qi.slice(Ei+1)],g.cachedOptions.splice(Ei,1),xt(Pt)):(t.multipleLimit<=0||Qi.length<t.multipleLimit)&&(Qi=[...Qi,At(Pt)],g.cachedOptions.push(Pt),Nt(Pt),_t(In)),dt(Qi),Pt.created&&(g.query="",Dt(""),g.inputLength=20),t.filterable&&!t.reserveKeyword&&((vo=(Cr=E.value).focus)==null||vo.call(Cr),Fn("")),t.filterable&&(g.calculatedWidth=N.value.getBoundingClientRect().width),Ke(),Rn()}else y.value=In,g.selectedLabel=Pt.label,dt(At(Pt)),D.value=!1,g.isComposing=!1,g.isSilentBlur=rr,Nt(Pt),Pt.created||st(),_t(In)},vn=(Pt,In)=>{const{valueKey:rr}=t,Cr=t.modelValue.indexOf(ti(In,rr));if(Cr>-1&&!V.value){const vo=[...t.modelValue.slice(0,Cr),...t.modelValue.slice(Cr+1)];return g.cachedOptions.splice(Cr,1),dt(vo),n("remove-tag",ti(In,rr)),g.softFocus=!0,xt(In),dn(an)}Pt.stopPropagation()},xn=Pt=>{const In=g.isComposing;g.isComposing=!0,g.softFocus?g.softFocus=!1:In||n("focus",Pt)},Wn=Pt=>(g.softFocus=!1,dn(()=>{var In,rr;(rr=(In=E.value)==null?void 0:In.blur)==null||rr.call(In),N.value&&(g.calculatedWidth=N.value.getBoundingClientRect().width),g.isSilentBlur?g.isSilentBlur=!1:g.isComposing&&n("blur",Pt),g.isComposing=!1})),pt=()=>{g.displayInputValue.length>0?Fn(""):D.value=!1},St=Pt=>{if(g.displayInputValue.length===0){Pt.preventDefault();const In=t.modelValue.slice();In.pop(),xt(g.cachedOptions.pop()),dt(In)}},tn=()=>{let Pt;return on(t.modelValue)?Pt=[]:Pt=void 0,g.softFocus=!0,t.multiple?g.cachedOptions=[]:g.selectedLabel="",D.value=!1,dt(Pt),n("clear"),st(),dn(an)},Fn=Pt=>{g.displayInputValue=Pt,g.inputValue=Pt},Ce=(Pt,In=void 0)=>{const rr=me.value;if(!["forward","backward"].includes(Pt)||V.value||rr.length<=0||ce.value)return;if(!D.value)return Be();In===void 0&&(In=g.hoveringIndex);let Cr=-1;Pt==="forward"?(Cr=In+1,Cr>=rr.length&&(Cr=0)):Pt==="backward"&&(Cr=In-1,(Cr<0||Cr>=rr.length)&&(Cr=rr.length-1));const vo=rr[Cr];if(vo.disabled||vo.type==="Group")return Ce(Pt,Cr);_t(Cr),Yn(Cr)},We=()=>{if(D.value)~g.hoveringIndex&&me.value[g.hoveringIndex]&&en(me.value[g.hoveringIndex],g.hoveringIndex,!1);else return Be()},_t=Pt=>{g.hoveringIndex=Pt},Vt=()=>{g.hoveringIndex=-1},Rn=()=>{var Pt;const In=E.value;In&&((Pt=In.focus)==null||Pt.call(In))},xr=Pt=>{const In=Pt.target.value;if(Fn(In),g.displayInputValue.length>0&&!D.value&&(D.value=!0),g.calculatedWidth=N.value.getBoundingClientRect().width,t.multiple&&Ke(),t.remote)ht();else return Xe()},ii=()=>(D.value=!1,Wn()),gr=()=>(g.inputValue=g.displayInputValue,dn(()=>{~Pe.value&&(_t(Pe.value),Yn(g.hoveringIndex))})),Yn=Pt=>{I.value.scrollToItem(Pt)},Vr=()=>{if(Vt(),t.multiple)if(t.modelValue.length>0){let Pt=!1;g.cachedOptions.length=0,g.previousValue=t.modelValue.toString(),t.modelValue.forEach(In=>{const rr=me.value.findIndex(Cr=>At(Cr)===In);~rr&&(g.cachedOptions.push(me.value[rr]),Pt||_t(rr),Pt=!0)})}else g.cachedOptions=[],g.previousValue=void 0;else if(z.value){g.previousValue=t.modelValue;const Pt=me.value,In=Pt.findIndex(rr=>At(rr)===At(t.modelValue));~In?(g.selectedLabel=Pt[In].label,_t(In)):g.selectedLabel=`${t.modelValue}`}else g.selectedLabel="",g.previousValue=void 0;st(),ie()};return It(D,Pt=>{var In,rr;n("visible-change",Pt),Pt?(rr=(In=M.value).update)==null||rr.call(In):(g.displayInputValue="",g.previousQuery=null,bt(""))}),It(()=>t.modelValue,(Pt,In)=>{var rr;(!Pt||Pt.toString()!==g.previousValue)&&Vr(),!po(Pt,In)&&t.validateEvent&&((rr=h==null?void 0:h.validate)==null||rr.call(h,"change").catch(Cr=>void 0))},{deep:!0}),It(()=>t.options,()=>{const Pt=E.value;(!Pt||Pt&&document.activeElement!==Pt)&&Vr()},{deep:!0}),It(me,()=>dn(I.value.resetScrollTop)),jn(()=>{Vr()}),As(T,Lt),{collapseTagSize:Se,currentPlaceholder:Oe,expanded:D,emptyText:xe,popupHeight:B,debounce:oe,filteredOptions:me,iconComponent:q,iconReverse:he,inputWrapperStyle:fe,popperSize:b,dropdownMenuVisible:He,hasModelValue:z,shouldShowPlaceholder:le,selectDisabled:V,selectSize:Ae,showClearBtn:H,states:g,tagMaxWidth:ye,nsSelectV2:o,nsInput:l,calculatorRef:N,controlRef:C,inputRef:E,menuRef:I,popper:M,selectRef:T,selectionRef:R,popperRef:Qe,validateState:ne,validateIcon:se,debouncedOnInputChange:ht,deleteTag:vn,getLabel:Ne,getValueKey:At,handleBlur:Wn,handleClear:tn,handleClickOutside:ii,handleDel:St,handleEsc:pt,handleFocus:xn,handleMenuEnter:gr,handleResize:Lt,toggleMenu:Be,scrollTo:Yn,onInput:xr,onKeyboardNavigate:Ce,onKeyboardSelect:We,onSelect:en,onHover:_t,onUpdateInputValue:Fn,handleCompositionStart:Ye,handleCompositionEnd:Et,handleCompositionUpdate:ot}},Eve=Ge({name:"ElSelectV2",components:{ElSelectMenu:_ve,ElTag:iA,ElTooltip:Xs,ElIcon:un},directives:{ClickOutside:Pc,ModelText:yS},props:fve,emits:[Jn,Zr,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:n}){const i=wve(t,n);return or(z6,{props:Mr({...Di(t),height:i.popupHeight}),popper:i.popper,onSelect:i.onSelect,onHover:i.onHover,onKeyboardNavigate:i.onKeyboardNavigate,onKeyboardSelect:i.onKeyboardSelect}),i}}),Cve={key:0},Ive=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],xve=["textContent"],Mve=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],Rve=["textContent"];function Tve(t,n,i,o,l,d){const h=Mn("el-tag"),g=Mn("el-tooltip"),y=Mn("el-icon"),b=Mn("el-select-menu"),C=wf("model-text"),E=wf("click-outside");return zn(($(),_e("div",{ref:"selectRef",class:J([t.nsSelectV2.b(),t.nsSelectV2.m(t.selectSize)]),onClick:n[25]||(n[25]=Dn((...I)=>t.toggleMenu&&t.toggleMenu(...I),["stop"])),onMouseenter:n[26]||(n[26]=I=>t.states.comboBoxHovering=!0),onMouseleave:n[27]||(n[27]=I=>t.states.comboBoxHovering=!1)},[Re(g,{ref:"popper",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelectV2.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:n[24]||(n[24]=I=>t.states.inputValue=t.states.displayInputValue)},{default:Ue(()=>{var I;return[Ie("div",{ref:"selectionRef",class:J([t.nsSelectV2.e("wrapper"),t.nsSelectV2.is("focused",t.states.isComposing||t.expanded),t.nsSelectV2.is("hovering",t.states.comboBoxHovering),t.nsSelectV2.is("filterable",t.filterable),t.nsSelectV2.is("disabled",t.selectDisabled)])},[t.$slots.prefix?($(),_e("div",Cve,[yt(t.$slots,"prefix")])):Ze("v-if",!0),t.multiple?($(),_e("div",{key:1,class:J(t.nsSelectV2.e("selection"))},[t.collapseTags&&t.modelValue.length>0?($(),_e("div",{key:0,class:J(t.nsSelectV2.e("selected-item"))},[Re(h,{closable:!t.selectDisabled&&!((I=t.states.cachedOptions[0])!=null&&I.disable),size:t.collapseTagSize,type:"info","disable-transitions":"",onClose:n[0]||(n[0]=M=>t.deleteTag(M,t.states.cachedOptions[0]))},{default:Ue(()=>{var M;return[Ie("span",{class:J(t.nsSelectV2.e("tags-text")),style:fn({maxWidth:`${t.tagMaxWidth}px`})},Xt((M=t.states.cachedOptions[0])==null?void 0:M.label),7)]}),_:1},8,["closable","size"]),t.modelValue.length>1?($(),rt(h,{key:0,closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""},{default:Ue(()=>[t.collapseTagsTooltip?($(),rt(g,{key:0,disabled:t.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:!1},{default:Ue(()=>[Ie("span",{class:J(t.nsSelectV2.e("tags-text")),style:fn({maxWidth:`${t.tagMaxWidth}px`})},"+ "+Xt(t.modelValue.length-1),7)]),content:Ue(()=>[Ie("div",{class:J(t.nsSelectV2.e("selection"))},[($(!0),_e(gn,null,ur(t.states.cachedOptions.slice(1),(M,T)=>($(),_e("div",{key:T,class:J(t.nsSelectV2.e("selected-item"))},[($(),rt(h,{key:t.getValueKey(M),closable:!t.selectDisabled&&!M.disabled,size:t.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:R=>t.deleteTag(R,M)},{default:Ue(()=>[Ie("span",{class:J(t.nsSelectV2.e("tags-text")),style:fn({maxWidth:`${t.tagMaxWidth}px`})},Xt(t.getLabel(M)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect"])):($(),_e("span",{key:1,class:J(t.nsSelectV2.e("tags-text")),style:fn({maxWidth:`${t.tagMaxWidth}px`})},"+ "+Xt(t.modelValue.length-1),7))]),_:1},8,["size"])):Ze("v-if",!0)],2)):($(!0),_e(gn,{key:1},ur(t.states.cachedOptions,(M,T)=>($(),_e("div",{key:T,class:J(t.nsSelectV2.e("selected-item"))},[($(),rt(h,{key:t.getValueKey(M),closable:!t.selectDisabled&&!M.disabled,size:t.collapseTagSize,type:"info","disable-transitions":"",onClose:R=>t.deleteTag(R,M)},{default:Ue(()=>[Ie("span",{class:J(t.nsSelectV2.e("tags-text")),style:fn({maxWidth:`${t.tagMaxWidth}px`})},Xt(t.getLabel(M)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128)),Ie("div",{class:J([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-wrapper")]),style:fn(t.inputWrapperStyle)},[zn(Ie("input",{id:t.id,ref:"inputRef",autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-labelledby":t.label,class:J([t.nsSelectV2.is(t.selectSize),t.nsSelectV2.e("combobox-input")]),disabled:t.disabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,unselectable:t.expanded?"on":void 0,"onUpdate:modelValue":n[1]||(n[1]=(...M)=>t.onUpdateInputValue&&t.onUpdateInputValue(...M)),onFocus:n[2]||(n[2]=(...M)=>t.handleFocus&&t.handleFocus(...M)),onBlur:n[3]||(n[3]=(...M)=>t.handleBlur&&t.handleBlur(...M)),onInput:n[4]||(n[4]=(...M)=>t.onInput&&t.onInput(...M)),onCompositionstart:n[5]||(n[5]=(...M)=>t.handleCompositionStart&&t.handleCompositionStart(...M)),onCompositionupdate:n[6]||(n[6]=(...M)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...M)),onCompositionend:n[7]||(n[7]=(...M)=>t.handleCompositionEnd&&t.handleCompositionEnd(...M)),onKeydown:[n[8]||(n[8]=pr(Dn(M=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),n[9]||(n[9]=pr(Dn(M=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),n[10]||(n[10]=pr(Dn((...M)=>t.onKeyboardSelect&&t.onKeyboardSelect(...M),["stop","prevent"]),["enter"])),n[11]||(n[11]=pr(Dn((...M)=>t.handleEsc&&t.handleEsc(...M),["stop","prevent"]),["esc"])),n[12]||(n[12]=pr(Dn((...M)=>t.handleDel&&t.handleDel(...M),["stop"]),["delete"]))]},null,42,Ive),[[C,t.states.displayInputValue]]),t.filterable?($(),_e("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:J(t.nsSelectV2.e("input-calculator")),textContent:Xt(t.states.displayInputValue)},null,10,xve)):Ze("v-if",!0)],6)],2)):($(),_e(gn,{key:2},[Ie("div",{class:J([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-wrapper")])},[zn(Ie("input",{id:t.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":t.label,"aria-expanded":t.expanded,autocapitalize:"off",autocomplete:t.autocomplete,class:J(t.nsSelectV2.e("combobox-input")),disabled:t.disabled,name:t.name,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",unselectable:t.expanded?"on":void 0,onCompositionstart:n[13]||(n[13]=(...M)=>t.handleCompositionStart&&t.handleCompositionStart(...M)),onCompositionupdate:n[14]||(n[14]=(...M)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...M)),onCompositionend:n[15]||(n[15]=(...M)=>t.handleCompositionEnd&&t.handleCompositionEnd(...M)),onFocus:n[16]||(n[16]=(...M)=>t.handleFocus&&t.handleFocus(...M)),onBlur:n[17]||(n[17]=(...M)=>t.handleBlur&&t.handleBlur(...M)),onInput:n[18]||(n[18]=(...M)=>t.onInput&&t.onInput(...M)),onKeydown:[n[19]||(n[19]=pr(Dn(M=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),n[20]||(n[20]=pr(Dn(M=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),n[21]||(n[21]=pr(Dn((...M)=>t.onKeyboardSelect&&t.onKeyboardSelect(...M),["stop","prevent"]),["enter"])),n[22]||(n[22]=pr(Dn((...M)=>t.handleEsc&&t.handleEsc(...M),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":n[23]||(n[23]=(...M)=>t.onUpdateInputValue&&t.onUpdateInputValue(...M))},null,42,Mve),[[C,t.states.displayInputValue]])],2),t.filterable?($(),_e("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:J([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-calculator")]),textContent:Xt(t.states.displayInputValue)},null,10,Rve)):Ze("v-if",!0)],64)),t.shouldShowPlaceholder?($(),_e("span",{key:3,class:J([t.nsSelectV2.e("placeholder"),t.nsSelectV2.is("transparent",t.multiple?t.modelValue.length===0:!t.hasModelValue)])},Xt(t.currentPlaceholder),3)):Ze("v-if",!0),Ie("span",{class:J(t.nsSelectV2.e("suffix"))},[t.iconComponent?zn(($(),rt(y,{key:0,class:J([t.nsSelectV2.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:Ue(()=>[($(),rt(sr(t.iconComponent)))]),_:1},8,["class"])),[[yr,!t.showClearBtn]]):Ze("v-if",!0),t.showClearBtn&&t.clearIcon?($(),rt(y,{key:1,class:J([t.nsSelectV2.e("caret"),t.nsInput.e("icon")]),onClick:Dn(t.handleClear,["prevent","stop"])},{default:Ue(()=>[($(),rt(sr(t.clearIcon)))]),_:1},8,["class","onClick"])):Ze("v-if",!0),t.validateState&&t.validateIcon?($(),rt(y,{key:2,class:J([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:Ue(()=>[($(),rt(sr(t.validateIcon)))]),_:1},8,["class"])):Ze("v-if",!0)],2)],2)]}),content:Ue(()=>[Re(b,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},{default:Ue(I=>[yt(t.$slots,"default",ha(D_(I)))]),empty:Ue(()=>[yt(t.$slots,"empty",{},()=>[Ie("p",{class:J(t.nsSelectV2.e("empty"))},Xt(t.emptyText?t.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[E,t.handleClickOutside,t.popperRef]])}var zv=Ht(Eve,[["render",Tve],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);zv.install=t=>{t.component(zv.name,zv)};const Pve=zv,Nve=Pve,Bve=$t({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),Dve=$t({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),kve=Ge({name:"ElSkeletonItem"}),Lve=Ge({...kve,props:Dve,setup(t){const n=Ct("skeleton");return(i,o)=>($(),_e("div",{class:J([v(n).e("item"),v(n).e(i.variant)])},[i.variant==="image"?($(),rt(v(d7),{key:0})):Ze("v-if",!0)],2))}});var y_=Ht(Lve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const Ove=Ge({name:"ElSkeleton"}),Fve=Ge({...Ove,props:Bve,setup(t,{expose:n}){const i=t,o=Ct("skeleton"),l=mte(ai(i,"loading"),i.throttle);return n({uiLoading:l}),(d,h)=>v(l)?($(),_e("div",ir({key:0,class:[v(o).b(),v(o).is("animated",d.animated)]},d.$attrs),[($(!0),_e(gn,null,ur(d.count,g=>($(),_e(gn,{key:g},[d.loading?yt(d.$slots,"template",{key:g},()=>[Re(y_,{class:J(v(o).is("first")),variant:"p"},null,8,["class"]),($(!0),_e(gn,null,ur(d.rows,y=>($(),rt(y_,{key:y,class:J([v(o).e("paragraph"),v(o).is("last",y===d.rows&&d.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Ze("v-if",!0)],64))),128))],16)):yt(d.$slots,"default",ha(ir({key:1},d.$attrs)))}});var Vve=Ht(Fve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const Gve=er(Vve,{SkeletonItem:y_}),Uve=pi(y_),zve=$t({modelValue:{type:nt([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Qs,inputSize:Qs,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:nt(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:nt(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:ed,default:"top"},marks:{type:nt(Object)},validateEvent:{type:Boolean,default:!0}}),Ib=t=>Hn(t)||on(t)&&t.every(Hn),Hve={[Jn]:Ib,[Ps]:Ib,[Zr]:Ib},Qve=(t,n,i)=>{const o=re();return jn(async()=>{t.range?(Array.isArray(t.modelValue)?(n.firstValue=Math.max(t.min,t.modelValue[0]),n.secondValue=Math.min(t.max,t.modelValue[1])):(n.firstValue=t.min,n.secondValue=t.max),n.oldValue=[n.firstValue,n.secondValue]):(typeof t.modelValue!="number"||Number.isNaN(t.modelValue)?n.firstValue=t.min:n.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),n.oldValue=n.firstValue),Jr(window,"resize",i),await dn(),i()}),{sliderWrapper:o}},Xve=t=>K(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((i,o)=>i-o).filter(i=>i<=t.max&&i>=t.min).map(i=>({point:i,position:(i-t.min)*100/(t.max-t.min),mark:t.marks[i]})):[]),$ve=(t,n,i)=>{const{form:o,formItem:l}=Bs(),d=qr(),h=re(),g=re(),y={firstButton:h,secondButton:g},b=K(()=>t.disabled||(o==null?void 0:o.disabled)||!1),C=K(()=>Math.min(n.firstValue,n.secondValue)),E=K(()=>Math.max(n.firstValue,n.secondValue)),I=K(()=>t.range?`${100*(E.value-C.value)/(t.max-t.min)}%`:`${100*(n.firstValue-t.min)/(t.max-t.min)}%`),M=K(()=>t.range?`${100*(C.value-t.min)/(t.max-t.min)}%`:"0%"),T=K(()=>t.vertical?{height:t.height}:{}),R=K(()=>t.vertical?{height:I.value,bottom:M.value}:{width:I.value,left:M.value}),N=()=>{d.value&&(n.sliderSize=d.value[`client${t.vertical?"Height":"Width"}`])},D=xe=>{const me=t.min+xe*(t.max-t.min)/100;if(!t.range)return h;let ce;return Math.abs(C.value-me)<Math.abs(E.value-me)?ce=n.firstValue<n.secondValue?"firstButton":"secondButton":ce=n.firstValue>n.secondValue?"firstButton":"secondButton",y[ce]},V=xe=>{const me=D(xe);return me.value.setPosition(xe),me},B=xe=>{n.firstValue=xe,H(t.range?[C.value,E.value]:xe)},z=xe=>{n.secondValue=xe,t.range&&H([C.value,E.value])},H=xe=>{i(Jn,xe),i(Ps,xe)},q=async()=>{await dn(),i(Zr,t.range?[C.value,E.value]:t.modelValue)},he=xe=>{var me,ce,Ae,Se,ye,ie;if(b.value||n.dragging)return;N();let fe=0;if(t.vertical){const le=(Ae=(ce=(me=xe.touches)==null?void 0:me.item(0))==null?void 0:ce.clientY)!=null?Ae:xe.clientY;fe=(d.value.getBoundingClientRect().bottom-le)/n.sliderSize*100}else{const le=(ie=(ye=(Se=xe.touches)==null?void 0:Se.item(0))==null?void 0:ye.clientX)!=null?ie:xe.clientX,Oe=d.value.getBoundingClientRect().left;fe=(le-Oe)/n.sliderSize*100}if(!(fe<0||fe>100))return V(fe)};return{elFormItem:l,slider:d,firstButton:h,secondButton:g,sliderDisabled:b,minValue:C,maxValue:E,runwayStyle:T,barStyle:R,resetSize:N,setPosition:V,emitChange:q,onSliderWrapperPrevent:xe=>{var me,ce;(((me=y.firstButton.value)==null?void 0:me.dragging)||((ce=y.secondButton.value)==null?void 0:ce.dragging))&&xe.preventDefault()},onSliderClick:xe=>{he(xe)&&q()},onSliderDown:async xe=>{const me=he(xe);me&&(await dn(),me.value.onButtonDown(xe))},setFirstValue:B,setSecondValue:z}},{left:Wve,down:Kve,right:jve,up:qve,home:Yve,end:Jve,pageUp:Zve,pageDown:e_e}=An,t_e=(t,n,i)=>{const o=re(),l=re(!1),d=K(()=>n.value instanceof Function),h=K(()=>d.value&&n.value(t.modelValue)||t.modelValue),g=Ns(()=>{i.value&&(l.value=!0)},50),y=Ns(()=>{i.value&&(l.value=!1)},50);return{tooltip:o,tooltipVisible:l,formatValue:h,displayTooltip:g,hideTooltip:y}},n_e=(t,n,i)=>{const{disabled:o,min:l,max:d,step:h,showTooltip:g,precision:y,sliderSize:b,formatTooltip:C,emitChange:E,resetSize:I,updateDragging:M}=hn(o3),{tooltip:T,tooltipVisible:R,formatValue:N,displayTooltip:D,hideTooltip:V}=t_e(t,C,g),B=re(),z=K(()=>`${(t.modelValue-l.value)/(d.value-l.value)*100}%`),H=K(()=>t.vertical?{bottom:z.value}:{left:z.value}),q=()=>{n.hovering=!0,D()},he=()=>{n.hovering=!1,n.dragging||V()},ne=Pe=>{o.value||(Pe.preventDefault(),fe(Pe),window.addEventListener("mousemove",le),window.addEventListener("touchmove",le),window.addEventListener("mouseup",Oe),window.addEventListener("touchend",Oe),window.addEventListener("contextmenu",Oe),B.value.focus())},se=Pe=>{o.value||(n.newPosition=Number.parseFloat(z.value)+Pe/(d.value-l.value)*100,Qe(n.newPosition),E())},oe=()=>{se(-h.value)},xe=()=>{se(h.value)},me=()=>{se(-h.value*4)},ce=()=>{se(h.value*4)},Ae=()=>{o.value||(Qe(0),E())},Se=()=>{o.value||(Qe(100),E())},ye=Pe=>{let He=!0;[Wve,Kve].includes(Pe.key)?oe():[jve,qve].includes(Pe.key)?xe():Pe.key===Yve?Ae():Pe.key===Jve?Se():Pe.key===e_e?me():Pe.key===Zve?ce():He=!1,He&&Pe.preventDefault()},ie=Pe=>{let He,bt;return Pe.type.startsWith("touch")?(bt=Pe.touches[0].clientY,He=Pe.touches[0].clientX):(bt=Pe.clientY,He=Pe.clientX),{clientX:He,clientY:bt}},fe=Pe=>{n.dragging=!0,n.isClick=!0;const{clientX:He,clientY:bt}=ie(Pe);t.vertical?n.startY=bt:n.startX=He,n.startPosition=Number.parseFloat(z.value),n.newPosition=n.startPosition},le=Pe=>{if(n.dragging){n.isClick=!1,D(),I();let He;const{clientX:bt,clientY:xt}=ie(Pe);t.vertical?(n.currentY=xt,He=(n.startY-n.currentY)/b.value*100):(n.currentX=bt,He=(n.currentX-n.startX)/b.value*100),n.newPosition=n.startPosition+He,Qe(n.newPosition)}},Oe=()=>{n.dragging&&(setTimeout(()=>{n.dragging=!1,n.hovering||V(),n.isClick||Qe(n.newPosition),E()},0),window.removeEventListener("mousemove",le),window.removeEventListener("touchmove",le),window.removeEventListener("mouseup",Oe),window.removeEventListener("touchend",Oe),window.removeEventListener("contextmenu",Oe))},Qe=async Pe=>{if(Pe===null||Number.isNaN(+Pe))return;Pe<0?Pe=0:Pe>100&&(Pe=100);const He=100/((d.value-l.value)/h.value);let xt=Math.round(Pe/He)*He*(d.value-l.value)*.01+l.value;xt=Number.parseFloat(xt.toFixed(y.value)),xt!==t.modelValue&&i(Jn,xt),!n.dragging&&t.modelValue!==n.oldValue&&(n.oldValue=t.modelValue),await dn(),n.dragging&&D(),T.value.updatePopper()};return It(()=>n.dragging,Pe=>{M(Pe)}),{disabled:o,button:B,tooltip:T,tooltipVisible:R,showTooltip:g,wrapperStyle:H,formatValue:N,handleMouseEnter:q,handleMouseLeave:he,onButtonDown:ne,onKeyDown:ye,setPosition:Qe}},r_e=(t,n,i,o)=>({stops:K(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const h=(t.max-t.min)/t.step,g=100*t.step/(t.max-t.min),y=Array.from({length:h-1}).map((b,C)=>(C+1)*g);return t.range?y.filter(b=>b<100*(i.value-t.min)/(t.max-t.min)||b>100*(o.value-t.min)/(t.max-t.min)):y.filter(b=>b>100*(n.firstValue-t.min)/(t.max-t.min))}),getStopStyle:h=>t.vertical?{bottom:`${h}%`}:{left:`${h}%`}}),i_e=(t,n,i,o,l,d)=>{const h=b=>{l(Jn,b),l(Ps,b)},g=()=>t.range?![i.value,o.value].every((b,C)=>b===n.oldValue[C]):t.modelValue!==n.oldValue,y=()=>{var b,C;if(t.min>t.max){ki("Slider","min should not be greater than max.");return}const E=t.modelValue;t.range&&Array.isArray(E)?E[1]<t.min?h([t.min,t.min]):E[0]>t.max?h([t.max,t.max]):E[0]<t.min?h([t.min,E[1]]):E[1]>t.max?h([E[0],t.max]):(n.firstValue=E[0],n.secondValue=E[1],g()&&(t.validateEvent&&((b=d==null?void 0:d.validate)==null||b.call(d,"change").catch(I=>void 0)),n.oldValue=E.slice())):!t.range&&typeof E=="number"&&!Number.isNaN(E)&&(E<t.min?h(t.min):E>t.max?h(t.max):(n.firstValue=E,g()&&(t.validateEvent&&((C=d==null?void 0:d.validate)==null||C.call(d,"change").catch(I=>void 0)),n.oldValue=E)))};y(),It(()=>n.dragging,b=>{b||y()}),It(()=>t.modelValue,(b,C)=>{n.dragging||Array.isArray(b)&&Array.isArray(C)&&b.every((E,I)=>E===C[I])&&n.firstValue===b[0]&&n.secondValue===b[1]||y()},{deep:!0}),It(()=>[t.min,t.max],()=>{y()})},s_e=$t({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:ed,default:"top"}}),o_e={[Jn]:t=>Hn(t)},a_e=["tabindex"],l_e=Ge({name:"ElSliderButton"}),c_e=Ge({...l_e,props:s_e,emits:o_e,setup(t,{expose:n,emit:i}){const o=t,l=Ct("slider"),d=Mr({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:o.modelValue}),{disabled:h,button:g,tooltip:y,showTooltip:b,tooltipVisible:C,wrapperStyle:E,formatValue:I,handleMouseEnter:M,handleMouseLeave:T,onButtonDown:R,onKeyDown:N,setPosition:D}=n_e(o,d,i),{hovering:V,dragging:B}=Di(d);return n({onButtonDown:R,onKeyDown:N,setPosition:D,hovering:V,dragging:B}),(z,H)=>($(),_e("div",{ref_key:"button",ref:g,class:J([v(l).e("button-wrapper"),{hover:v(V),dragging:v(B)}]),style:fn(v(E)),tabindex:v(h)?-1:0,onMouseenter:H[0]||(H[0]=(...q)=>v(M)&&v(M)(...q)),onMouseleave:H[1]||(H[1]=(...q)=>v(T)&&v(T)(...q)),onMousedown:H[2]||(H[2]=(...q)=>v(R)&&v(R)(...q)),onTouchstart:H[3]||(H[3]=(...q)=>v(R)&&v(R)(...q)),onFocus:H[4]||(H[4]=(...q)=>v(M)&&v(M)(...q)),onBlur:H[5]||(H[5]=(...q)=>v(T)&&v(T)(...q)),onKeydown:H[6]||(H[6]=(...q)=>v(N)&&v(N)(...q))},[Re(v(Xs),{ref_key:"tooltip",ref:y,visible:v(C),placement:z.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":z.tooltipClass,disabled:!v(b),persistent:""},{content:Ue(()=>[Ie("span",null,Xt(v(I)),1)]),default:Ue(()=>[Ie("div",{class:J([v(l).e("button"),{hover:v(V),dragging:v(B)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,a_e))}});var pT=Ht(c_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const u_e=$t({mark:{type:nt([String,Object]),default:void 0}});var d_e=Ge({name:"ElSliderMarker",props:u_e,setup(t){const n=Ct("slider"),i=K(()=>On(t.mark)?t.mark:t.mark.label),o=K(()=>On(t.mark)?void 0:t.mark.style);return()=>yn("div",{class:n.e("marks-text"),style:o.value},i.value)}});const f_e=["id","role","aria-label","aria-labelledby"],h_e={key:1},p_e=Ge({name:"ElSlider"}),m_e=Ge({...p_e,props:zve,emits:Hve,setup(t,{expose:n,emit:i}){const o=t,l=Ct("slider"),{t:d}=Sr(),h=Mr({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:g,slider:y,firstButton:b,secondButton:C,sliderDisabled:E,minValue:I,maxValue:M,runwayStyle:T,barStyle:R,resetSize:N,emitChange:D,onSliderWrapperPrevent:V,onSliderClick:B,onSliderDown:z,setFirstValue:H,setSecondValue:q}=$ve(o,h,i),{stops:he,getStopStyle:ne}=r_e(o,h,I,M),{inputId:se,isLabeledByFormItem:oe}=Vc(o,{formItemContext:g}),xe=Mi(),me=K(()=>o.inputSize||xe.value),ce=K(()=>o.label||d("el.slider.defaultLabel",{min:o.min,max:o.max})),Ae=K(()=>o.range?o.rangeStartLabel||d("el.slider.defaultRangeStartLabel"):ce.value),Se=K(()=>o.formatValueText?o.formatValueText(Pe.value):`${Pe.value}`),ye=K(()=>o.rangeEndLabel||d("el.slider.defaultRangeEndLabel")),ie=K(()=>o.formatValueText?o.formatValueText(He.value):`${He.value}`),fe=K(()=>[l.b(),l.m(xe.value),l.is("vertical",o.vertical),{[l.m("with-input")]:o.showInput}]),le=Xve(o);i_e(o,h,I,M,i,g);const Oe=K(()=>{const Nt=[o.min,o.max,o.step].map(st=>{const Ye=`${st}`.split(".")[1];return Ye?Ye.length:0});return Math.max.apply(null,Nt)}),{sliderWrapper:Qe}=Qve(o,h,N),{firstValue:Pe,secondValue:He,sliderSize:bt}=Di(h),xt=Nt=>{h.dragging=Nt};return or(o3,{...Di(o),sliderSize:bt,disabled:E,precision:Oe,emitChange:D,resetSize:N,updateDragging:xt}),n({onSliderClick:B}),(Nt,st)=>{var Ye,ot;return $(),_e("div",{id:Nt.range?v(se):void 0,ref_key:"sliderWrapper",ref:Qe,class:J(v(fe)),role:Nt.range?"group":void 0,"aria-label":Nt.range&&!v(oe)?v(ce):void 0,"aria-labelledby":Nt.range&&v(oe)?(Ye=v(g))==null?void 0:Ye.labelId:void 0,onTouchstart:st[2]||(st[2]=(...Et)=>v(V)&&v(V)(...Et)),onTouchmove:st[3]||(st[3]=(...Et)=>v(V)&&v(V)(...Et))},[Ie("div",{ref_key:"slider",ref:y,class:J([v(l).e("runway"),{"show-input":Nt.showInput&&!Nt.range},v(l).is("disabled",v(E))]),style:fn(v(T)),onMousedown:st[0]||(st[0]=(...Et)=>v(z)&&v(z)(...Et)),onTouchstart:st[1]||(st[1]=(...Et)=>v(z)&&v(z)(...Et))},[Ie("div",{class:J(v(l).e("bar")),style:fn(v(R))},null,6),Re(pT,{id:Nt.range?void 0:v(se),ref_key:"firstButton",ref:b,"model-value":v(Pe),vertical:Nt.vertical,"tooltip-class":Nt.tooltipClass,placement:Nt.placement,role:"slider","aria-label":Nt.range||!v(oe)?v(Ae):void 0,"aria-labelledby":!Nt.range&&v(oe)?(ot=v(g))==null?void 0:ot.labelId:void 0,"aria-valuemin":Nt.min,"aria-valuemax":Nt.range?v(He):Nt.max,"aria-valuenow":v(Pe),"aria-valuetext":v(Se),"aria-orientation":Nt.vertical?"vertical":"horizontal","aria-disabled":v(E),"onUpdate:modelValue":v(H)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Nt.range?($(),rt(pT,{key:0,ref_key:"secondButton",ref:C,"model-value":v(He),vertical:Nt.vertical,"tooltip-class":Nt.tooltipClass,placement:Nt.placement,role:"slider","aria-label":v(ye),"aria-valuemin":v(Pe),"aria-valuemax":Nt.max,"aria-valuenow":v(He),"aria-valuetext":v(ie),"aria-orientation":Nt.vertical?"vertical":"horizontal","aria-disabled":v(E),"onUpdate:modelValue":v(q)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Ze("v-if",!0),Nt.showStops?($(),_e("div",h_e,[($(!0),_e(gn,null,ur(v(he),(Et,an)=>($(),_e("div",{key:an,class:J(v(l).e("stop")),style:fn(v(ne)(Et))},null,6))),128))])):Ze("v-if",!0),v(le).length>0?($(),_e(gn,{key:2},[Ie("div",null,[($(!0),_e(gn,null,ur(v(le),(Et,an)=>($(),_e("div",{key:an,style:fn(v(ne)(Et.position)),class:J([v(l).e("stop"),v(l).e("marks-stop")])},null,6))),128))]),Ie("div",{class:J(v(l).e("marks"))},[($(!0),_e(gn,null,ur(v(le),(Et,an)=>($(),rt(v(d_e),{key:an,mark:Et.mark,style:fn(v(ne)(Et.position))},null,8,["mark","style"]))),128))],2)],64)):Ze("v-if",!0)],38),Nt.showInput&&!Nt.range?($(),rt(v(v6),{key:0,ref:"input","model-value":v(Pe),class:J(v(l).e("input")),step:Nt.step,disabled:v(E),controls:Nt.showInputControls,min:Nt.min,max:Nt.max,debounce:Nt.debounce,size:v(me),"onUpdate:modelValue":v(H),onChange:v(D)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):Ze("v-if",!0)],42,f_e)}}});var g_e=Ht(m_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const v_e=er(g_e),__e=$t({prefixCls:{type:String}}),mT=Ge({name:"ElSpaceItem",props:__e,setup(t,{slots:n}){const i=Ct("space"),o=K(()=>`${t.prefixCls||i.b()}__item`);return()=>yn("div",{class:o.value},yt(n,"default"))}}),gT={small:8,default:12,large:16};function A_e(t){const n=Ct("space"),i=K(()=>[n.b(),n.m(t.direction),t.class]),o=re(0),l=re(0),d=K(()=>{const g=t.wrap||t.fill?{flexWrap:"wrap",marginBottom:`-${l.value}px`}:{},y={alignItems:t.alignment};return[g,y,t.style]}),h=K(()=>{const g={paddingBottom:`${l.value}px`,marginRight:`${o.value}px`},y=t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{};return[g,y]});return _s(()=>{const{size:g="small",wrap:y,direction:b,fill:C}=t;if(on(g)){const[E=0,I=0]=g;o.value=E,l.value=I}else{let E;Hn(g)?E=g:E=gT[g||"small"]||gT.small,(y||C)&&b==="horizontal"?o.value=l.value=E:b==="horizontal"?(o.value=E,l.value=0):(l.value=E,o.value=0)}}),{classes:i,containerStyle:d,itemStyle:h}}const y_e=$t({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:nt([String,Object,Array]),default:""},style:{type:nt([String,Array,Object]),default:""},alignment:{type:nt(String),default:"center"},prefixCls:{type:String},spacer:{type:nt([Object,String,Number,Array]),default:null,validator:t=>ri(t)||Hn(t)||On(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Fc,validator:t=>Hn(t)||on(t)&&t.length===2&&t.every(Hn)}});var b_e=Ge({name:"ElSpace",props:y_e,setup(t,{slots:n}){const{classes:i,containerStyle:o,itemStyle:l}=A_e(t);function d(h,g="",y=[]){const{prefixCls:b}=t;return h.forEach((C,E)=>{r1(C)?on(C.children)&&C.children.forEach((I,M)=>{r1(I)&&on(I.children)?d(I.children,`${g+M}-`,y):y.push(Re(mT,{style:l.value,prefixCls:b,key:`nested-${g+M}`},{default:()=>[I]},xo.PROPS|xo.STYLE,["style","prefixCls"]))}):qee(C)&&y.push(Re(mT,{style:l.value,prefixCls:b,key:`LoopKey${g+E}`},{default:()=>[C]},xo.PROPS|xo.STYLE,["style","prefixCls"]))}),y}return()=>{var h;const{spacer:g,direction:y}=t,b=yt(n,"default",{key:0},()=>[]);if(((h=b.children)!=null?h:[]).length===0)return null;if(on(b.children)){let C=d(b.children);if(g){const E=C.length-1;C=C.reduce((I,M,T)=>{const R=[...I,M];return T!==E&&R.push(Re("span",{style:[l.value,y==="vertical"?"width: 100%":null],key:T},[ri(g)?g:mr(g,xo.TEXT)],xo.STYLE)),R},[])}return Re("div",{class:i.value,style:o.value},C,xo.STYLE|xo.CLASS)}return b.children}}});const S_e=er(b_e),w_e=$t({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),E_e={[Zr]:(t,n)=>[t,n].every(Hn)},C_e=Ge({name:"ElSteps"}),I_e=Ge({...C_e,props:w_e,emits:E_e,setup(t,{emit:n}){const i=t,o=Ct("steps"),l=re([]);return It(l,()=>{l.value.forEach((d,h)=>{d.setIndex(h)})}),or("ElSteps",{props:i,steps:l}),It(()=>i.active,(d,h)=>{n(Zr,d,h)}),(d,h)=>($(),_e("div",{class:J([v(o).b(),v(o).m(d.simple?"simple":d.direction)])},[yt(d.$slots,"default")],2))}});var x_e=Ht(I_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const M_e=$t({title:{type:String,default:""},icon:{type:jr},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),R_e=Ge({name:"ElStep"}),T_e=Ge({...R_e,props:M_e,setup(t){const n=t,i=Ct("step"),o=re(-1),l=re({}),d=re(""),h=hn("ElSteps"),g=Zn();jn(()=>{It([()=>h.props.active,()=>h.props.processStatus,()=>h.props.finishStatus],([H])=>{B(H)},{immediate:!0})}),hi(()=>{h.steps.value=h.steps.value.filter(H=>H.uid!==(g==null?void 0:g.uid))});const y=K(()=>n.status||d.value),b=K(()=>{const H=h.steps.value[o.value-1];return H?H.currentStatus:"wait"}),C=K(()=>h.props.alignCenter),E=K(()=>h.props.direction==="vertical"),I=K(()=>h.props.simple),M=K(()=>h.steps.value.length),T=K(()=>{var H;return((H=h.steps.value[M.value-1])==null?void 0:H.uid)===(g==null?void 0:g.uid)}),R=K(()=>I.value?"":h.props.space),N=K(()=>{const H={flexBasis:typeof R.value=="number"?`${R.value}px`:R.value?R.value:`${100/(M.value-(C.value?0:1))}%`};return E.value||T.value&&(H.maxWidth=`${100/M.value}%`),H}),D=H=>{o.value=H},V=H=>{let q=100;const he={};he.transitionDelay=`${150*o.value}ms`,H===h.props.processStatus?q=0:H==="wait"&&(q=0,he.transitionDelay=`${-150*o.value}ms`),he.borderWidth=q&&!I.value?"1px":0,he[h.props.direction==="vertical"?"height":"width"]=`${q}%`,l.value=he},B=H=>{H>o.value?d.value=h.props.finishStatus:H===o.value&&b.value!=="error"?d.value=h.props.processStatus:d.value="wait";const q=h.steps.value[o.value-1];q&&q.calcProgress(d.value)},z=Mr({uid:K(()=>g==null?void 0:g.uid),currentStatus:y,setIndex:D,calcProgress:V});return h.steps.value=[...h.steps.value,z],(H,q)=>($(),_e("div",{style:fn(v(N)),class:J([v(i).b(),v(i).is(v(I)?"simple":v(h).props.direction),v(i).is("flex",v(T)&&!v(R)&&!v(C)),v(i).is("center",v(C)&&!v(E)&&!v(I))])},[Ze(" icon & line "),Ie("div",{class:J([v(i).e("head"),v(i).is(v(y))])},[v(I)?Ze("v-if",!0):($(),_e("div",{key:0,class:J(v(i).e("line"))},[Ie("i",{class:J(v(i).e("line-inner")),style:fn(l.value)},null,6)],2)),Ie("div",{class:J([v(i).e("icon"),v(i).is(H.icon||H.$slots.icon?"icon":"text")])},[yt(H.$slots,"icon",{},()=>[H.icon?($(),rt(v(un),{key:0,class:J(v(i).e("icon-inner"))},{default:Ue(()=>[($(),rt(sr(H.icon)))]),_:1},8,["class"])):v(y)==="success"?($(),rt(v(un),{key:1,class:J([v(i).e("icon-inner"),v(i).is("status")])},{default:Ue(()=>[Re(v(mm))]),_:1},8,["class"])):v(y)==="error"?($(),rt(v(un),{key:2,class:J([v(i).e("icon-inner"),v(i).is("status")])},{default:Ue(()=>[Re(v(ga))]),_:1},8,["class"])):v(I)?Ze("v-if",!0):($(),_e("div",{key:3,class:J(v(i).e("icon-inner"))},Xt(o.value+1),3))])],2)],2),Ze(" title & description "),Ie("div",{class:J(v(i).e("main"))},[Ie("div",{class:J([v(i).e("title"),v(i).is(v(y))])},[yt(H.$slots,"title",{},()=>[mr(Xt(H.title),1)])],2),v(I)?($(),_e("div",{key:0,class:J(v(i).e("arrow"))},null,2)):($(),_e("div",{key:1,class:J([v(i).e("description"),v(i).is(v(y))])},[yt(H.$slots,"description",{},()=>[mr(Xt(H.description),1)])],2))],2)],6))}});var H6=Ht(T_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const P_e=er(x_e,{Step:H6}),N_e=pi(H6),B_e=$t({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:jr},inactiveIcon:{type:jr},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:nt(Function)},size:{type:String,validator:Wf},tabindex:{type:[String,Number]}}),D_e={[Jn]:t=>Bi(t)||On(t)||Hn(t),[Zr]:t=>Bi(t)||On(t)||Hn(t),[Ps]:t=>Bi(t)||On(t)||Hn(t)},k_e=["onClick"],L_e=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],O_e=["aria-hidden"],F_e=["aria-hidden"],V_e=["aria-hidden"],O1="ElSwitch",G_e=Ge({name:O1}),U_e=Ge({...G_e,props:B_e,emits:D_e,setup(t,{expose:n,emit:i}){const o=t,l=Zn(),{formItem:d}=Bs(),h=Mi(),g=Ct("switch");Mc({from:'"value"',replacement:'"model-value" or "v-model"',scope:O1,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},K(()=>{var H;return!!((H=l.vnode.props)!=null&&H.value)}));const{inputId:y}=Vc(o,{formItemContext:d}),b=wa(K(()=>o.loading)),C=re(o.modelValue!==!1),E=re(),I=re(),M=K(()=>[g.b(),g.m(h.value),g.is("disabled",b.value),g.is("checked",N.value)]),T=K(()=>({width:xi(o.width)}));It(()=>o.modelValue,()=>{C.value=!0}),It(()=>o.value,()=>{C.value=!1});const R=K(()=>C.value?o.modelValue:o.value),N=K(()=>R.value===o.activeValue);[o.activeValue,o.inactiveValue].includes(R.value)||(i(Jn,o.inactiveValue),i(Zr,o.inactiveValue),i(Ps,o.inactiveValue)),It(N,H=>{var q;E.value.checked=H,o.validateEvent&&((q=d==null?void 0:d.validate)==null||q.call(d,"change").catch(he=>void 0))});const D=()=>{const H=N.value?o.inactiveValue:o.activeValue;i(Jn,H),i(Zr,H),i(Ps,H),dn(()=>{E.value.checked=N.value})},V=()=>{if(b.value)return;const{beforeChange:H}=o;if(!H){D();return}const q=H();[kp(q),Bi(q)].includes(!0)||ki(O1,"beforeChange must return type `Promise<boolean>` or `boolean`"),kp(q)?q.then(ne=>{ne&&D()}).catch(ne=>{}):q&&D()},B=K(()=>g.cssVarBlock({...o.activeColor?{"on-color":o.activeColor}:null,...o.inactiveColor?{"off-color":o.inactiveColor}:null,...o.borderColor?{"border-color":o.borderColor}:null})),z=()=>{var H,q;(q=(H=E.value)==null?void 0:H.focus)==null||q.call(H)};return jn(()=>{E.value.checked=N.value}),n({focus:z,checked:N}),(H,q)=>($(),_e("div",{class:J(v(M)),style:fn(v(B)),onClick:Dn(V,["prevent"])},[Ie("input",{id:v(y),ref_key:"input",ref:E,class:J(v(g).e("input")),type:"checkbox",role:"switch","aria-checked":v(N),"aria-disabled":v(b),name:H.name,"true-value":H.activeValue,"false-value":H.inactiveValue,disabled:v(b),tabindex:H.tabindex,onChange:D,onKeydown:pr(V,["enter"])},null,42,L_e),!H.inlinePrompt&&(H.inactiveIcon||H.inactiveText)?($(),_e("span",{key:0,class:J([v(g).e("label"),v(g).em("label","left"),v(g).is("active",!v(N))])},[H.inactiveIcon?($(),rt(v(un),{key:0},{default:Ue(()=>[($(),rt(sr(H.inactiveIcon)))]),_:1})):Ze("v-if",!0),!H.inactiveIcon&&H.inactiveText?($(),_e("span",{key:1,"aria-hidden":v(N)},Xt(H.inactiveText),9,O_e)):Ze("v-if",!0)],2)):Ze("v-if",!0),Ie("span",{ref_key:"core",ref:I,class:J(v(g).e("core")),style:fn(v(T))},[H.inlinePrompt?($(),_e("div",{key:0,class:J(v(g).e("inner"))},[H.activeIcon||H.inactiveIcon?($(),rt(v(un),{key:0,class:J(v(g).is("icon"))},{default:Ue(()=>[($(),rt(sr(v(N)?H.activeIcon:H.inactiveIcon)))]),_:1},8,["class"])):H.activeText||H.inactiveText?($(),_e("span",{key:1,class:J(v(g).is("text")),"aria-hidden":!v(N)},Xt(v(N)?H.activeText:H.inactiveText),11,F_e)):Ze("v-if",!0)],2)):Ze("v-if",!0),Ie("div",{class:J(v(g).e("action"))},[H.loading?($(),rt(v(un),{key:0,class:J(v(g).is("loading"))},{default:Ue(()=>[Re(v(Oc))]),_:1},8,["class"])):Ze("v-if",!0)],2)],6),!H.inlinePrompt&&(H.activeIcon||H.activeText)?($(),_e("span",{key:1,class:J([v(g).e("label"),v(g).em("label","right"),v(g).is("active",v(N))])},[H.activeIcon?($(),rt(v(un),{key:0},{default:Ue(()=>[($(),rt(sr(H.activeIcon)))]),_:1})):Ze("v-if",!0),!H.activeIcon&&H.activeText?($(),_e("span",{key:1,"aria-hidden":!v(N)},Xt(H.activeText),9,V_e)):Ze("v-if",!0)],2)):Ze("v-if",!0)],14,k_e))}});var z_e=Ht(U_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const H_e=er(z_e);/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var Q_e=/["'&<>]/,X_e=$_e;function $_e(t){var n=""+t,i=Q_e.exec(n);if(!i)return n;var o,l="",d=0,h=0;for(d=i.index;d<n.length;d++){switch(n.charCodeAt(d)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#39;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}h!==d&&(l+=n.substring(h,d)),h=d+1,l+=o}return h!==d?l+n.substring(h,d):l}const xb=function(t){var n;return(n=t.target)==null?void 0:n.closest("td")},vT=function(t){return t!==null&&typeof t=="object"},W_e=function(t,n,i,o,l){if(!n&&!o&&(!l||Array.isArray(l)&&!l.length))return t;typeof i=="string"?i=i==="descending"?-1:1:i=i&&i<0?-1:1;const d=o?null:function(g,y){return l?(Array.isArray(l)||(l=[l]),l.map(b=>typeof b=="string"?ti(g,b):b(g,y,t))):(n!=="$key"&&vT(g)&&"$value"in g&&(g=g.$value),[vT(g)?ti(g,n):g])},h=function(g,y){if(o)return o(g.value,y.value);for(let b=0,C=g.key.length;b<C;b++){if(g.key[b]<y.key[b])return-1;if(g.key[b]>y.key[b])return 1}return 0};return t.map((g,y)=>({value:g,index:y,key:d?d(g,y):null})).sort((g,y)=>{let b=h(g,y);return b||(b=g.index-y.index),b*+i}).map(g=>g.value)},Q6=function(t,n){let i=null;return t.columns.forEach(o=>{o.id===n&&(i=o)}),i},K_e=function(t,n){let i=null;for(let o=0;o<t.columns.length;o++){const l=t.columns[o];if(l.columnKey===n){i=l;break}}return i||ki("ElTable",`No column matching with column-key: ${n}`),i},_T=function(t,n,i){const o=(n.className||"").match(new RegExp(`${i}-table_[^\\s]+`,"gm"));return o?Q6(t,o[0]):null},cs=(t,n)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof n=="string"){if(!n.includes("."))return`${t[n]}`;const i=n.split(".");let o=t;for(const l of i)o=o[l];return`${o}`}else if(typeof n=="function")return n.call(null,t)},Bu=function(t,n){const i={};return(t||[]).forEach((o,l)=>{i[cs(o,n)]={row:o,index:l}}),i};function j_e(t,n){const i={};let o;for(o in t)i[o]=t[o];for(o in n)if(cr(n,o)){const l=n[o];typeof l<"u"&&(i[o]=l)}return i}function Bw(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function X6(t){return t===""||t!==void 0&&(t=Bw(t),Number.isNaN(t)&&(t=80)),t}function q_e(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function Y_e(...t){return t.length===0?n=>n:t.length===1?t[0]:t.reduce((n,i)=>(...o)=>n(i(...o)))}function Np(t,n,i){let o=!1;const l=t.indexOf(n),d=l!==-1,h=g=>{g==="add"?t.push(n):t.splice(l,1),o=!0,on(n.children)&&n.children.forEach(y=>{Np(t,y,i!=null?i:!d)})};return Bi(i)?i&&!d?h("add"):!i&&d&&h("remove"):h(d?"remove":"add"),o}function J_e(t,n,i="children",o="hasChildren"){const l=h=>!(Array.isArray(h)&&h.length);function d(h,g,y){n(h,g,y),g.forEach(b=>{if(b[o]){n(b,null,y+1);return}const C=b[i];l(C)||d(b,C,y+1)})}t.forEach(h=>{if(h[o]){n(h,null,0);return}const g=h[i];l(g)||d(h,g,0)})}let bl;function Z_e(t,n,i,o,l){const{nextZIndex:d}=Fl(),h=t==null?void 0:t.dataset.prefix,g=t==null?void 0:t.querySelector(`.${h}-scrollbar__wrap`);function y(){const T=l==="light",R=document.createElement("div");return R.className=`${h}-popper ${T?"is-light":"is-dark"}`,i=X_e(i),R.innerHTML=i,R.style.zIndex=String(d()),t==null||t.appendChild(R),R}function b(){const T=document.createElement("div");return T.className=`${h}-popper__arrow`,T}function C(){E&&E.update()}bl==null||bl(),bl=()=>{try{E&&E.destroy(),I&&(t==null||t.removeChild(I)),n.removeEventListener("mouseenter",C),n.removeEventListener("mouseleave",bl),g==null||g.removeEventListener("scroll",bl),bl=void 0}catch{}};let E=null;const I=y(),M=b();return I.appendChild(M),E=H3(n,I,{strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:M,padding:10}}],...o}),n.addEventListener("mouseenter",C),n.addEventListener("mouseleave",bl),g==null||g.addEventListener("scroll",bl),E}function $6(t){return t.children?UZ(t.children,$6):[t]}function AT(t,n){return t+n.colSpan}const W6=(t,n,i,o)=>{let l=0,d=t;const h=i.states.columns.value;if(o){const y=$6(o[t]);l=h.slice(0,h.indexOf(y[0])).reduce(AT,0),d=l+y.reduce(AT,0)-1}else l=t;let g;switch(n){case"left":d<i.states.fixedLeafColumnsLength.value&&(g="left");break;case"right":l>=h.length-i.states.rightFixedLeafColumnsLength.value&&(g="right");break;default:d<i.states.fixedLeafColumnsLength.value?g="left":l>=h.length-i.states.rightFixedLeafColumnsLength.value&&(g="right")}return g?{direction:g,start:l,after:d}:{}},Dw=(t,n,i,o,l,d=0)=>{const h=[],{direction:g,start:y,after:b}=W6(n,i,o,l);if(g){const C=g==="left";h.push(`${t}-fixed-column--${g}`),C&&b+d===o.states.fixedLeafColumnsLength.value-1?h.push("is-last-column"):!C&&y-d===o.states.columns.value.length-o.states.rightFixedLeafColumnsLength.value&&h.push("is-first-column")}return h};function yT(t,n){return t+(n.realWidth===null||Number.isNaN(n.realWidth)?Number(n.width):n.realWidth)}const kw=(t,n,i,o)=>{const{direction:l,start:d=0,after:h=0}=W6(t,n,i,o);if(!l)return;const g={},y=l==="left",b=i.states.columns.value;return y?g.left=b.slice(0,d).reduce(yT,0):g.right=b.slice(h+1).reverse().reduce(yT,0),g},Vf=(t,n)=>{!t||Number.isNaN(t[n])||(t[n]=`${t[n]}px`)};function eAe(t){const n=Zn(),i=re(!1),o=re([]);return{updateExpandRows:()=>{const y=t.data.value||[],b=t.rowKey.value;if(i.value)o.value=y.slice();else if(b){const C=Bu(o.value,b);o.value=y.reduce((E,I)=>{const M=cs(I,b);return C[M]&&E.push(I),E},[])}else o.value=[]},toggleRowExpansion:(y,b)=>{Np(o.value,y,b)&&n.emit("expand-change",y,o.value.slice())},setExpandRowKeys:y=>{n.store.assertRowKey();const b=t.data.value||[],C=t.rowKey.value,E=Bu(b,C);o.value=y.reduce((I,M)=>{const T=E[M];return T&&I.push(T.row),I},[])},isRowExpanded:y=>{const b=t.rowKey.value;return b?!!Bu(o.value,b)[cs(y,b)]:o.value.includes(y)},states:{expandRows:o,defaultExpandAll:i}}}function tAe(t){const n=Zn(),i=re(null),o=re(null),l=b=>{n.store.assertRowKey(),i.value=b,h(b)},d=()=>{i.value=null},h=b=>{const{data:C,rowKey:E}=t;let I=null;E.value&&(I=(v(C)||[]).find(M=>cs(M,E.value)===b)),o.value=I,n.emit("current-change",o.value,null)};return{setCurrentRowKey:l,restoreCurrentRowKey:d,setCurrentRowByKey:h,updateCurrentRow:b=>{const C=o.value;if(b&&b!==C){o.value=b,n.emit("current-change",o.value,C);return}!b&&C&&(o.value=null,n.emit("current-change",null,C))},updateCurrentRowData:()=>{const b=t.rowKey.value,C=t.data.value||[],E=o.value;if(!C.includes(E)&&E){if(b){const I=cs(E,b);h(I)}else o.value=null;o.value===null&&n.emit("current-change",null,E)}else i.value&&(h(i.value),d())},states:{_currentRowKey:i,currentRow:o}}}function nAe(t){const n=re([]),i=re({}),o=re(16),l=re(!1),d=re({}),h=re("hasChildren"),g=re("children"),y=Zn(),b=K(()=>{if(!t.rowKey.value)return{};const D=t.data.value||[];return E(D)}),C=K(()=>{const D=t.rowKey.value,V=Object.keys(d.value),B={};return V.length&&V.forEach(z=>{if(d.value[z].length){const H={children:[]};d.value[z].forEach(q=>{const he=cs(q,D);H.children.push(he),q[h.value]&&!B[he]&&(B[he]={children:[]})}),B[z]=H}}),B}),E=D=>{const V=t.rowKey.value,B={};return J_e(D,(z,H,q)=>{const he=cs(z,V);Array.isArray(H)?B[he]={children:H.map(ne=>cs(ne,V)),level:q}:l.value&&(B[he]={children:[],lazy:!0,level:q})},g.value,h.value),B},I=(D=!1,V=(B=>(B=y.store)==null?void 0:B.states.defaultExpandAll.value)())=>{var B;const z=b.value,H=C.value,q=Object.keys(z),he={};if(q.length){const ne=v(i),se=[],oe=(me,ce)=>{if(D)return n.value?V||n.value.includes(ce):!!(V||(me==null?void 0:me.expanded));{const Ae=V||n.value&&n.value.includes(ce);return!!((me==null?void 0:me.expanded)||Ae)}};q.forEach(me=>{const ce=ne[me],Ae={...z[me]};if(Ae.expanded=oe(ce,me),Ae.lazy){const{loaded:Se=!1,loading:ye=!1}=ce||{};Ae.loaded=!!Se,Ae.loading=!!ye,se.push(me)}he[me]=Ae});const xe=Object.keys(H);l.value&&xe.length&&se.length&&xe.forEach(me=>{const ce=ne[me],Ae=H[me].children;if(se.includes(me)){if(he[me].children.length!==0)throw new Error("[ElTable]children must be an empty array.");he[me].children=Ae}else{const{loaded:Se=!1,loading:ye=!1}=ce||{};he[me]={lazy:!0,loaded:!!Se,loading:!!ye,expanded:oe(ce,me),children:Ae,level:""}}})}i.value=he,(B=y.store)==null||B.updateTableScrollY()};It(()=>n.value,()=>{I(!0)}),It(()=>b.value,()=>{I()}),It(()=>C.value,()=>{I()});const M=D=>{n.value=D,I()},T=(D,V)=>{y.store.assertRowKey();const B=t.rowKey.value,z=cs(D,B),H=z&&i.value[z];if(z&&H&&"expanded"in H){const q=H.expanded;V=typeof V>"u"?!H.expanded:V,i.value[z].expanded=V,q!==V&&y.emit("expand-change",D,V),y.store.updateTableScrollY()}},R=D=>{y.store.assertRowKey();const V=t.rowKey.value,B=cs(D,V),z=i.value[B];l.value&&z&&"loaded"in z&&!z.loaded?N(D,B,z):T(D,void 0)},N=(D,V,B)=>{const{load:z}=y.props;z&&!i.value[V].loaded&&(i.value[V].loading=!0,z(D,B,H=>{if(!Array.isArray(H))throw new TypeError("[ElTable] data must be an array");i.value[V].loading=!1,i.value[V].loaded=!0,i.value[V].expanded=!0,H.length&&(d.value[V]=H),y.emit("expand-change",D,!0)}))};return{loadData:N,loadOrToggle:R,toggleTreeExpansion:T,updateTreeExpandKeys:M,updateTreeData:I,normalize:E,states:{expandRowKeys:n,treeData:i,indent:o,lazy:l,lazyTreeNodeMap:d,lazyColumnIdentifier:h,childrenColumnName:g}}}const rAe=(t,n)=>{const i=n.sortingColumn;return!i||typeof i.sortable=="string"?t:W_e(t,n.sortProp,n.sortOrder,i.sortMethod,i.sortBy)},Hv=t=>{const n=[];return t.forEach(i=>{i.children?n.push.apply(n,Hv(i.children)):n.push(i)}),n};function iAe(){var t;const n=Zn(),{size:i}=Di((t=n.proxy)==null?void 0:t.$props),o=re(null),l=re([]),d=re([]),h=re(!1),g=re([]),y=re([]),b=re([]),C=re([]),E=re([]),I=re([]),M=re([]),T=re([]),R=re(0),N=re(0),D=re(0),V=re(!1),B=re([]),z=re(!1),H=re(!1),q=re(null),he=re({}),ne=re(null),se=re(null),oe=re(null),xe=re(null),me=re(null);It(l,()=>n.state&&ye(!1),{deep:!0});const ce=()=>{if(!o.value)throw new Error("[ElTable] prop row-key is required")},Ae=St=>{var tn;(tn=St.children)==null||tn.forEach(Fn=>{Fn.fixed=St.fixed,Ae(Fn)})},Se=()=>{g.value.forEach(We=>{Ae(We)}),C.value=g.value.filter(We=>We.fixed===!0||We.fixed==="left"),E.value=g.value.filter(We=>We.fixed==="right"),C.value.length>0&&g.value[0]&&g.value[0].type==="selection"&&!g.value[0].fixed&&(g.value[0].fixed=!0,C.value.unshift(g.value[0]));const St=g.value.filter(We=>!We.fixed);y.value=[].concat(C.value).concat(St).concat(E.value);const tn=Hv(St),Fn=Hv(C.value),Ce=Hv(E.value);R.value=tn.length,N.value=Fn.length,D.value=Ce.length,b.value=[].concat(Fn).concat(tn).concat(Ce),h.value=C.value.length>0||E.value.length>0},ye=(St,tn=!1)=>{St&&Se(),tn?n.state.doLayout():n.state.debouncedUpdateLayout()},ie=St=>B.value.includes(St),fe=()=>{V.value=!1,B.value.length&&(B.value=[],n.emit("selection-change",[]))},le=()=>{let St;if(o.value){St=[];const tn=Bu(B.value,o.value),Fn=Bu(l.value,o.value);for(const Ce in tn)cr(tn,Ce)&&!Fn[Ce]&&St.push(tn[Ce].row)}else St=B.value.filter(tn=>!l.value.includes(tn));if(St.length){const tn=B.value.filter(Fn=>!St.includes(Fn));B.value=tn,n.emit("selection-change",tn.slice())}},Oe=()=>(B.value||[]).slice(),Qe=(St,tn=void 0,Fn=!0)=>{if(Np(B.value,St,tn)){const We=(B.value||[]).slice();Fn&&n.emit("select",We,St),n.emit("selection-change",We)}},Pe=()=>{var St,tn;const Fn=H.value?!V.value:!(V.value||B.value.length);V.value=Fn;let Ce=!1,We=0;const _t=(tn=(St=n==null?void 0:n.store)==null?void 0:St.states)==null?void 0:tn.rowKey.value;l.value.forEach((Vt,Rn)=>{const xr=Rn+We;q.value?q.value.call(null,Vt,xr)&&Np(B.value,Vt,Fn)&&(Ce=!0):Np(B.value,Vt,Fn)&&(Ce=!0),We+=xt(cs(Vt,_t))}),Ce&&n.emit("selection-change",B.value?B.value.slice():[]),n.emit("select-all",B.value)},He=()=>{const St=Bu(B.value,o.value);l.value.forEach(tn=>{const Fn=cs(tn,o.value),Ce=St[Fn];Ce&&(B.value[Ce.index]=tn)})},bt=()=>{var St,tn,Fn;if(((St=l.value)==null?void 0:St.length)===0){V.value=!1;return}let Ce;o.value&&(Ce=Bu(B.value,o.value));const We=function(xr){return Ce?!!Ce[cs(xr,o.value)]:B.value.includes(xr)};let _t=!0,Vt=0,Rn=0;for(let xr=0,ii=(l.value||[]).length;xr<ii;xr++){const gr=(Fn=(tn=n==null?void 0:n.store)==null?void 0:tn.states)==null?void 0:Fn.rowKey.value,Yn=xr+Rn,Vr=l.value[xr],Pt=q.value&&q.value.call(null,Vr,Yn);if(We(Vr))Vt++;else if(!q.value||Pt){_t=!1;break}Rn+=xt(cs(Vr,gr))}Vt===0&&(_t=!1),V.value=_t},xt=St=>{var tn;if(!n||!n.store)return 0;const{treeData:Fn}=n.store.states;let Ce=0;const We=(tn=Fn.value[St])==null?void 0:tn.children;return We&&(Ce+=We.length,We.forEach(_t=>{Ce+=xt(_t)})),Ce},Nt=(St,tn)=>{Array.isArray(St)||(St=[St]);const Fn={};return St.forEach(Ce=>{he.value[Ce.id]=tn,Fn[Ce.columnKey||Ce.id]=tn}),Fn},st=(St,tn,Fn)=>{se.value&&se.value!==St&&(se.value.order=null),se.value=St,oe.value=tn,xe.value=Fn},Ye=()=>{let St=v(d);Object.keys(he.value).forEach(tn=>{const Fn=he.value[tn];if(!Fn||Fn.length===0)return;const Ce=Q6({columns:b.value},tn);Ce&&Ce.filterMethod&&(St=St.filter(We=>Fn.some(_t=>Ce.filterMethod.call(null,_t,We,Ce))))}),ne.value=St},ot=()=>{l.value=rAe(ne.value,{sortingColumn:se.value,sortProp:oe.value,sortOrder:xe.value})},Et=(St=void 0)=>{St&&St.filter||Ye(),ot()},an=St=>{const{tableHeaderRef:tn}=n.refs;if(!tn)return;const Fn=Object.assign({},tn.filterPanels),Ce=Object.keys(Fn);if(!!Ce.length)if(typeof St=="string"&&(St=[St]),Array.isArray(St)){const We=St.map(_t=>K_e({columns:b.value},_t));Ce.forEach(_t=>{const Vt=We.find(Rn=>Rn.id===_t);Vt&&(Vt.filteredValue=[])}),n.store.commit("filterChange",{column:We,values:[],silent:!0,multi:!0})}else Ce.forEach(We=>{const _t=b.value.find(Vt=>Vt.id===We);_t&&(_t.filteredValue=[])}),he.value={},n.store.commit("filterChange",{column:{},values:[],silent:!0})},Be=()=>{!se.value||(st(null,null,null),n.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Xe,toggleRowExpansion:ht,updateExpandRows:Dt,states:Ot,isRowExpanded:dt}=eAe({data:l,rowKey:o}),{updateTreeExpandKeys:Ft,toggleTreeExpansion:At,updateTreeData:Ne,loadOrToggle:Ke,states:Lt}=nAe({data:l,rowKey:o}),{updateCurrentRowData:Wt,updateCurrentRow:en,setCurrentRowKey:vn,states:xn}=tAe({data:l,rowKey:o});return{assertRowKey:ce,updateColumns:Se,scheduleLayout:ye,isSelected:ie,clearSelection:fe,cleanSelection:le,getSelectionRows:Oe,toggleRowSelection:Qe,_toggleAllSelection:Pe,toggleAllSelection:null,updateSelectionByRowKey:He,updateAllSelected:bt,updateFilters:Nt,updateCurrentRow:en,updateSort:st,execFilter:Ye,execSort:ot,execQuery:Et,clearFilter:an,clearSort:Be,toggleRowExpansion:ht,setExpandRowKeysAdapter:St=>{Xe(St),Ft(St)},setCurrentRowKey:vn,toggleRowExpansionAdapter:(St,tn)=>{b.value.some(({type:Ce})=>Ce==="expand")?ht(St,tn):At(St,tn)},isRowExpanded:dt,updateExpandRows:Dt,updateCurrentRowData:Wt,loadOrToggle:Ke,updateTreeData:Ne,states:{tableSize:i,rowKey:o,data:l,_data:d,isComplex:h,_columns:g,originColumns:y,columns:b,fixedColumns:C,rightFixedColumns:E,leafColumns:I,fixedLeafColumns:M,rightFixedLeafColumns:T,leafColumnsLength:R,fixedLeafColumnsLength:N,rightFixedLeafColumnsLength:D,isAllSelected:V,selection:B,reserveSelection:z,selectOnIndeterminate:H,selectable:q,filters:he,filteredData:ne,sortingColumn:se,sortProp:oe,sortOrder:xe,hoverRow:me,...Ot,...Lt,...xn}}}function F1(t,n){return t.map(i=>{var o;return i.id===n.id?n:((o=i.children)!=null&&o.length&&(i.children=F1(i.children,n)),i)})}function K6(t){t.forEach(n=>{var i,o;n.no=(i=n.getColumnIndex)==null?void 0:i.call(n),(o=n.children)!=null&&o.length&&K6(n.children)}),t.sort((n,i)=>n.no-i.no)}function sAe(){const t=Zn(),n=iAe();return{ns:Ct("table"),...n,mutations:{setData(h,g){const y=v(h._data)!==g;h.data.value=g,h._data.value=g,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),v(h.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):y?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(h,g,y){const b=v(h._columns);let C=[];y?(y&&!y.children&&(y.children=[]),y.children.push(g),C=F1(b,y)):(b.push(g),C=b),K6(C),h._columns.value=C,g.type==="selection"&&(h.selectable.value=g.selectable,h.reserveSelection.value=g.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},removeColumn(h,g,y){const b=v(h._columns)||[];if(y)y.children.splice(y.children.findIndex(C=>C.id===g.id),1),y.children.length===0&&delete y.children,h._columns.value=F1(b,y);else{const C=b.indexOf(g);C>-1&&(b.splice(C,1),h._columns.value=b)}t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(h,g){const{prop:y,order:b,init:C}=g;if(y){const E=v(h.columns).find(I=>I.property===y);E&&(E.order=b,t.store.updateSort(E,y,b),t.store.commit("changeSortCondition",{init:C}))}},changeSortCondition(h,g){const{sortingColumn:y,sortProp:b,sortOrder:C}=h,E=v(y),I=v(b),M=v(C);M===null&&(h.sortingColumn.value=null,h.sortProp.value=null);const T={filter:!0};t.store.execQuery(T),(!g||!(g.silent||g.init))&&t.emit("sort-change",{column:E,prop:I,order:M}),t.store.updateTableScrollY()},filterChange(h,g){const{column:y,values:b,silent:C}=g,E=t.store.updateFilters(y,b);t.store.execQuery(),C||t.emit("filter-change",E),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(h,g){t.store.toggleRowSelection(g),t.store.updateAllSelected()},setHoverRow(h,g){h.hoverRow.value=g},setCurrentRow(h,g){t.store.updateCurrentRow(g)}},commit:function(h,...g){const y=t.store.mutations;if(y[h])y[h].apply(t,[t.store.states].concat(g));else throw new Error(`Action not found: ${h}`)},updateTableScrollY:function(){dn(()=>t.layout.updateScrollY.apply(t.layout))}}}const Bp={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function oAe(t,n){if(!t)throw new Error("Table is required.");const i=sAe();return i.toggleAllSelection=Ns(i._toggleAllSelection,10),Object.keys(Bp).forEach(o=>{j6(q6(n,o),o,i)}),aAe(i,n),i}function aAe(t,n){Object.keys(Bp).forEach(i=>{It(()=>q6(n,i),o=>{j6(o,i,t)})})}function j6(t,n,i){let o=t,l=Bp[n];typeof Bp[n]=="object"&&(l=l.key,o=o||Bp[n].default),i.states[l].value=o}function q6(t,n){if(n.includes(".")){const i=n.split(".");let o=t;return i.forEach(l=>{o=o[l]}),o}else return t[n]}class lAe{constructor(n){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=re(null),this.scrollX=re(!1),this.scrollY=re(!1),this.bodyWidth=re(null),this.fixedWidth=re(null),this.rightFixedWidth=re(null),this.gutterWidth=0;for(const i in n)cr(n,i)&&(Wr(this[i])?this[i].value=n[i]:this[i]=n[i]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const i=this.table.refs.scrollBarRef;if(this.table.vnode.el&&i){let o=!0;const l=this.scrollY.value;return o=i.wrap$.scrollHeight>i.wrap$.clientHeight,this.scrollY.value=o,l!==o}return!1}setHeight(n,i="height"){if(!fr)return;const o=this.table.vnode.el;if(n=q_e(n),this.height.value=Number(n),!o&&(n||n===0))return dn(()=>this.setHeight(n,i));typeof n=="number"?(o.style[i]=`${n}px`,this.updateElsHeight()):typeof n=="string"&&(o.style[i]=n,this.updateElsHeight())}setMaxHeight(n){this.setHeight(n,"max-height")}getFlattenColumns(){const n=[];return this.table.store.states.columns.value.forEach(o=>{o.isColumnGroup?n.push.apply(n,o.columns):n.push(o)}),n}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(n){if(!n)return!0;let i=n;for(;i.tagName!=="DIV";){if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}updateColumnsWidth(){if(!fr)return;const n=this.fit,i=this.table.vnode.el.clientWidth;let o=0;const l=this.getFlattenColumns(),d=l.filter(y=>typeof y.width!="number");if(l.forEach(y=>{typeof y.width=="number"&&y.realWidth&&(y.realWidth=null)}),d.length>0&&n){if(l.forEach(y=>{o+=Number(y.width||y.minWidth||80)}),o<=i){this.scrollX.value=!1;const y=i-o;if(d.length===1)d[0].realWidth=Number(d[0].minWidth||80)+y;else{const b=d.reduce((I,M)=>I+Number(M.minWidth||80),0),C=y/b;let E=0;d.forEach((I,M)=>{if(M===0)return;const T=Math.floor(Number(I.minWidth||80)*C);E+=T,I.realWidth=Number(I.minWidth||80)+T}),d[0].realWidth=Number(d[0].minWidth||80)+y-E}}else this.scrollX.value=!0,d.forEach(y=>{y.realWidth=Number(y.minWidth)});this.bodyWidth.value=Math.max(o,i),this.table.state.resizeState.value.width=this.bodyWidth.value}else l.forEach(y=>{!y.width&&!y.minWidth?y.realWidth=80:y.realWidth=Number(y.width||y.minWidth),o+=y.realWidth}),this.scrollX.value=o>i,this.bodyWidth.value=o;const h=this.store.states.fixedColumns.value;if(h.length>0){let y=0;h.forEach(b=>{y+=Number(b.realWidth||b.width)}),this.fixedWidth.value=y}const g=this.store.states.rightFixedColumns.value;if(g.length>0){let y=0;g.forEach(b=>{y+=Number(b.realWidth||b.width)}),this.rightFixedWidth.value=y}this.notifyObservers("columns")}addObserver(n){this.observers.push(n)}removeObserver(n){const i=this.observers.indexOf(n);i!==-1&&this.observers.splice(i,1)}notifyObservers(n){this.observers.forEach(o=>{var l,d;switch(n){case"columns":(l=o.state)==null||l.onColumnsChange(this);break;case"scrollable":(d=o.state)==null||d.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${n}.`)}})}}const{CheckboxGroup:cAe}=Fo,uAe=Ge({name:"ElTableFilterPanel",components:{ElCheckbox:Fo,ElCheckboxGroup:cAe,ElScrollbar:Gl,ElTooltip:Xs,ElIcon:un,ArrowDown:kc,ArrowUp:O_},directives:{ClickOutside:Pc},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(t){const n=Zn(),{t:i}=Sr(),o=Ct("table-filter"),l=n==null?void 0:n.parent;l.filterPanels.value[t.column.id]||(l.filterPanels.value[t.column.id]=n);const d=re(!1),h=re(null),g=K(()=>t.column&&t.column.filters),y=K({get:()=>{var z;return(((z=t.column)==null?void 0:z.filteredValue)||[])[0]},set:z=>{b.value&&(typeof z<"u"&&z!==null?b.value.splice(0,1,z):b.value.splice(0,1))}}),b=K({get(){return t.column?t.column.filteredValue||[]:[]},set(z){t.column&&t.upDataColumn("filteredValue",z)}}),C=K(()=>t.column?t.column.filterMultiple:!0),E=z=>z.value===y.value,I=()=>{d.value=!1},M=z=>{z.stopPropagation(),d.value=!d.value},T=()=>{d.value=!1},R=()=>{V(b.value),I()},N=()=>{b.value=[],V(b.value),I()},D=z=>{y.value=z,V(typeof z<"u"&&z!==null?b.value:[]),I()},V=z=>{t.store.commit("filterChange",{column:t.column,values:z}),t.store.updateAllSelected()};It(d,z=>{t.column&&t.upDataColumn("filterOpened",z)},{immediate:!0});const B=K(()=>{var z,H;return(H=(z=h.value)==null?void 0:z.popperRef)==null?void 0:H.contentRef});return{tooltipVisible:d,multiple:C,filteredValue:b,filterValue:y,filters:g,handleConfirm:R,handleReset:N,handleSelect:D,isActive:E,t:i,ns:o,showFilterPanel:M,hideFilterPanel:T,popperPaneRef:B,tooltip:h}}}),dAe={key:0},fAe=["disabled"],hAe=["label","onClick"];function pAe(t,n,i,o,l,d){const h=Mn("el-checkbox"),g=Mn("el-checkbox-group"),y=Mn("el-scrollbar"),b=Mn("arrow-up"),C=Mn("arrow-down"),E=Mn("el-icon"),I=Mn("el-tooltip"),M=wf("click-outside");return $(),rt(I,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.ns.b(),persistent:""},{content:Ue(()=>[t.multiple?($(),_e("div",dAe,[Ie("div",{class:J(t.ns.e("content"))},[Re(y,{"wrap-class":t.ns.e("wrap")},{default:Ue(()=>[Re(g,{modelValue:t.filteredValue,"onUpdate:modelValue":n[0]||(n[0]=T=>t.filteredValue=T),class:J(t.ns.e("checkbox-group"))},{default:Ue(()=>[($(!0),_e(gn,null,ur(t.filters,T=>($(),rt(h,{key:T.value,label:T.value},{default:Ue(()=>[mr(Xt(T.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),Ie("div",{class:J(t.ns.e("bottom"))},[Ie("button",{class:J({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:n[1]||(n[1]=(...T)=>t.handleConfirm&&t.handleConfirm(...T))},Xt(t.t("el.table.confirmFilter")),11,fAe),Ie("button",{type:"button",onClick:n[2]||(n[2]=(...T)=>t.handleReset&&t.handleReset(...T))},Xt(t.t("el.table.resetFilter")),1)],2)])):($(),_e("ul",{key:1,class:J(t.ns.e("list"))},[Ie("li",{class:J([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:n[3]||(n[3]=T=>t.handleSelect(null))},Xt(t.t("el.table.clearFilter")),3),($(!0),_e(gn,null,ur(t.filters,T=>($(),_e("li",{key:T.value,class:J([t.ns.e("list-item"),t.ns.is("active",t.isActive(T))]),label:T.value,onClick:R=>t.handleSelect(T.value)},Xt(T.text),11,hAe))),128))],2))]),default:Ue(()=>[zn(($(),_e("span",{class:J([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:n[4]||(n[4]=(...T)=>t.showFilterPanel&&t.showFilterPanel(...T))},[Re(E,null,{default:Ue(()=>[t.column.filterOpened?($(),rt(b,{key:0})):($(),rt(C,{key:1}))]),_:1})],2)),[[M,t.hideFilterPanel,t.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var mAe=Ht(uAe,[["render",pAe],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function Y6(t){const n=Zn();N_(()=>{i.value.addObserver(n)}),jn(()=>{o(i.value),l(i.value)}),Dl(()=>{o(i.value),l(i.value)}),ju(()=>{i.value.removeObserver(n)});const i=K(()=>{const d=t.layout;if(!d)throw new Error("Can not find table layout.");return d}),o=d=>{var h;const g=((h=t.vnode.el)==null?void 0:h.querySelectorAll("colgroup > col"))||[];if(!g.length)return;const y=d.getFlattenColumns(),b={};y.forEach(C=>{b[C.id]=C});for(let C=0,E=g.length;C<E;C++){const I=g[C],M=I.getAttribute("name"),T=b[M];T&&I.setAttribute("width",T.realWidth||T.width)}},l=d=>{var h,g;const y=((h=t.vnode.el)==null?void 0:h.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let C=0,E=y.length;C<E;C++)y[C].setAttribute("width",d.scrollY.value?d.gutterWidth:"0");const b=((g=t.vnode.el)==null?void 0:g.querySelectorAll("th.gutter"))||[];for(let C=0,E=b.length;C<E;C++){const I=b[C];I.style.width=d.scrollY.value?`${d.gutterWidth}px`:"0",I.style.display=d.scrollY.value?"":"none"}};return{tableLayout:i.value,onColumnsChange:o,onScrollableChange:l}}const $a=Symbol("ElTable");function gAe(t,n){const i=Zn(),o=hn($a),l=R=>{R.stopPropagation()},d=(R,N)=>{!N.filters&&N.sortable?T(R,N,!1):N.filterable&&!N.sortable&&l(R),o==null||o.emit("header-click",N,R)},h=(R,N)=>{o==null||o.emit("header-contextmenu",N,R)},g=re(null),y=re(!1),b=re({}),C=(R,N)=>{if(!!fr&&!(N.children&&N.children.length>0)&&g.value&&t.border){y.value=!0;const D=o;n("set-drag-visible",!0);const B=(D==null?void 0:D.vnode.el).getBoundingClientRect().left,z=i.vnode.el.querySelector(`th.${N.id}`),H=z.getBoundingClientRect(),q=H.left-B+30;Va(z,"noclick"),b.value={startMouseLeft:R.clientX,startLeft:H.right-B,startColumnLeft:H.left-B,tableLeft:B};const he=D==null?void 0:D.refs.resizeProxy;he.style.left=`${b.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const ne=oe=>{const xe=oe.clientX-b.value.startMouseLeft,me=b.value.startLeft+xe;he.style.left=`${Math.max(q,me)}px`},se=()=>{if(y.value){const{startColumnLeft:oe,startLeft:xe}=b.value,ce=Number.parseInt(he.style.left,10)-oe;N.width=N.realWidth=ce,D==null||D.emit("header-dragend",N.width,xe-oe,N,R),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",y.value=!1,g.value=null,b.value={},n("set-drag-visible",!1)}document.removeEventListener("mousemove",ne),document.removeEventListener("mouseup",se),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Us(z,"noclick")},0)};document.addEventListener("mousemove",ne),document.addEventListener("mouseup",se)}},E=(R,N)=>{var D;if(N.children&&N.children.length>0)return;const V=(D=R.target)==null?void 0:D.closest("th");if(!(!N||!N.resizable)&&!y.value&&t.border){const B=V.getBoundingClientRect(),z=document.body.style;B.width>12&&B.right-R.pageX<8?(z.cursor="col-resize",ma(V,"is-sortable")&&(V.style.cursor="col-resize"),g.value=N):y.value||(z.cursor="",ma(V,"is-sortable")&&(V.style.cursor="pointer"),g.value=null)}},I=()=>{!fr||(document.body.style.cursor="")},M=({order:R,sortOrders:N})=>{if(R==="")return N[0];const D=N.indexOf(R||null);return N[D>N.length-2?0:D+1]},T=(R,N,D)=>{var V;R.stopPropagation();const B=N.order===D?null:D||M(N),z=(V=R.target)==null?void 0:V.closest("th");if(z&&ma(z,"noclick")){Us(z,"noclick");return}if(!N.sortable)return;const H=t.store.states;let q=H.sortProp.value,he;const ne=H.sortingColumn.value;(ne!==N||ne===N&&ne.order===null)&&(ne&&(ne.order=null),H.sortingColumn.value=N,q=N.property),B?he=N.order=B:he=N.order=null,H.sortProp.value=q,H.sortOrder.value=he,o==null||o.store.commit("changeSortCondition")};return{handleHeaderClick:d,handleHeaderContextMenu:h,handleMouseDown:C,handleMouseMove:E,handleMouseOut:I,handleSortClick:T,handleFilterClick:l}}function vAe(t){const n=hn($a),i=Ct("table");return{getHeaderRowStyle:g=>{const y=n==null?void 0:n.props.headerRowStyle;return typeof y=="function"?y.call(null,{rowIndex:g}):y},getHeaderRowClass:g=>{const y=[],b=n==null?void 0:n.props.headerRowClassName;return typeof b=="string"?y.push(b):typeof b=="function"&&y.push(b.call(null,{rowIndex:g})),y.join(" ")},getHeaderCellStyle:(g,y,b,C)=>{var E;let I=(E=n==null?void 0:n.props.headerCellStyle)!=null?E:{};typeof I=="function"&&(I=I.call(null,{rowIndex:g,columnIndex:y,row:b,column:C}));const M=kw(y,C.fixed,t.store,b);return Vf(M,"left"),Vf(M,"right"),Object.assign({},I,M)},getHeaderCellClass:(g,y,b,C)=>{const E=Dw(i.b(),y,C.fixed,t.store,b),I=[C.id,C.order,C.headerAlign,C.className,C.labelClassName,...E];C.children||I.push("is-leaf"),C.sortable&&I.push("is-sortable");const M=n==null?void 0:n.props.headerCellClassName;return typeof M=="string"?I.push(M):typeof M=="function"&&I.push(M.call(null,{rowIndex:g,columnIndex:y,row:b,column:C})),I.push(i.e("cell")),I.filter(T=>Boolean(T)).join(" ")}}}const J6=t=>{const n=[];return t.forEach(i=>{i.children?(n.push(i),n.push.apply(n,J6(i.children))):n.push(i)}),n},_Ae=t=>{let n=1;const i=(d,h)=>{if(h&&(d.level=h.level+1,n<d.level&&(n=d.level)),d.children){let g=0;d.children.forEach(y=>{i(y,d),g+=y.colSpan}),d.colSpan=g}else d.colSpan=1};t.forEach(d=>{d.level=1,i(d,void 0)});const o=[];for(let d=0;d<n;d++)o.push([]);return J6(t).forEach(d=>{d.children?(d.rowSpan=1,d.children.forEach(h=>h.isSubColumn=!0)):d.rowSpan=n-d.level+1,o[d.level-1].push(d)}),o};function AAe(t){const n=hn($a),i=K(()=>_Ae(t.store.states.originColumns.value));return{isGroup:K(()=>{const d=i.value.length>1;return d&&n&&(n.state.isGroup.value=!0),d}),toggleAllSelection:d=>{d.stopPropagation(),n==null||n.store.commit("toggleAllSelection")},columnRows:i}}var yAe=Ge({name:"ElTableHeader",components:{ElCheckbox:Fo},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t,{emit:n}){const i=Zn(),o=hn($a),l=Ct("table"),d=re({}),{onColumnsChange:h,onScrollableChange:g}=Y6(o);jn(async()=>{await dn(),await dn();const{prop:q,order:he}=t.defaultSort;o==null||o.store.commit("sort",{prop:q,order:he,init:!0})});const{handleHeaderClick:y,handleHeaderContextMenu:b,handleMouseDown:C,handleMouseMove:E,handleMouseOut:I,handleSortClick:M,handleFilterClick:T}=gAe(t,n),{getHeaderRowStyle:R,getHeaderRowClass:N,getHeaderCellStyle:D,getHeaderCellClass:V}=vAe(t),{isGroup:B,toggleAllSelection:z,columnRows:H}=AAe(t);return i.state={onColumnsChange:h,onScrollableChange:g},i.filterPanels=d,{ns:l,filterPanels:d,onColumnsChange:h,onScrollableChange:g,columnRows:H,getHeaderRowClass:N,getHeaderRowStyle:R,getHeaderCellClass:V,getHeaderCellStyle:D,handleHeaderClick:y,handleHeaderContextMenu:b,handleMouseDown:C,handleMouseMove:E,handleMouseOut:I,handleSortClick:M,handleFilterClick:T,isGroup:B,toggleAllSelection:z}},render(){const{ns:t,isGroup:n,columnRows:i,getHeaderCellStyle:o,getHeaderCellClass:l,getHeaderRowClass:d,getHeaderRowStyle:h,handleHeaderClick:g,handleHeaderContextMenu:y,handleMouseDown:b,handleMouseMove:C,handleSortClick:E,handleMouseOut:I,store:M,$parent:T}=this;let R=1;return yn("thead",{class:{[t.is("group")]:n}},i.map((N,D)=>yn("tr",{class:d(D),key:D,style:h(D)},N.map((V,B)=>(V.rowSpan>R&&(R=V.rowSpan),yn("th",{class:l(D,B,N,V),colspan:V.colSpan,key:`${V.id}-thead`,rowspan:V.rowSpan,style:o(D,B,N,V),onClick:z=>g(z,V),onContextmenu:z=>y(z,V),onMousedown:z=>b(z,V),onMousemove:z=>C(z,V),onMouseout:I},[yn("div",{class:["cell",V.filteredValue&&V.filteredValue.length>0?"highlight":""]},[V.renderHeader?V.renderHeader({column:V,$index:B,store:M,_self:T}):V.label,V.sortable&&yn("span",{onClick:z=>E(z,V),class:"caret-wrapper"},[yn("i",{onClick:z=>E(z,V,"ascending"),class:"sort-caret ascending"}),yn("i",{onClick:z=>E(z,V,"descending"),class:"sort-caret descending"})]),V.filterable&&yn(mAe,{store:M,placement:V.filterPlacement||"bottom-start",column:V,upDataColumn:(z,H)=>{V[z]=H}})])]))))))}});function bAe(t){const n=hn($a),i=re(""),o=re(yn("div")),l=(I,M,T)=>{var R;const N=n,D=xb(I);let V;const B=(R=N==null?void 0:N.vnode.el)==null?void 0:R.dataset.prefix;D&&(V=_T({columns:t.store.states.columns.value},D,B),V&&(N==null||N.emit(`cell-${T}`,M,V,D,I))),N==null||N.emit(`row-${T}`,M,V,I)},d=(I,M)=>{l(I,M,"dblclick")},h=(I,M)=>{t.store.commit("setCurrentRow",M),l(I,M,"click")},g=(I,M)=>{l(I,M,"contextmenu")},y=Ns(I=>{t.store.commit("setHoverRow",I)},30),b=Ns(()=>{t.store.commit("setHoverRow",null)},30);return{handleDoubleClick:d,handleClick:h,handleContextMenu:g,handleMouseEnter:y,handleMouseLeave:b,handleCellMouseEnter:(I,M,T)=>{var R;const N=n,D=xb(I),V=(R=N==null?void 0:N.vnode.el)==null?void 0:R.dataset.prefix;if(D){const he=_T({columns:t.store.states.columns.value},D,V),ne=N.hoverState={cell:D,column:he,row:M};N==null||N.emit("cell-mouse-enter",ne.row,ne.column,ne.cell,I)}const B=I.target.querySelector(".cell");if(!(ma(B,`${V}-tooltip`)&&B.childNodes.length))return;const z=document.createRange();z.setStart(B,0),z.setEnd(B,B.childNodes.length);const H=z.getBoundingClientRect().width,q=(Number.parseInt(El(B,"paddingLeft"),10)||0)+(Number.parseInt(El(B,"paddingRight"),10)||0);(H+q>B.offsetWidth||B.scrollWidth>B.offsetWidth)&&Z_e(n==null?void 0:n.refs.tableWrapper,D,D.innerText||D.textContent,{placement:"top",strategy:"fixed"},T)},handleCellMouseLeave:I=>{if(!xb(I))return;const T=n==null?void 0:n.hoverState;n==null||n.emit("cell-mouse-leave",T==null?void 0:T.row,T==null?void 0:T.column,T==null?void 0:T.cell,I)},tooltipContent:i,tooltipTrigger:o}}function SAe(t){const n=hn($a),i=Ct("table");return{getRowStyle:(b,C)=>{const E=n==null?void 0:n.props.rowStyle;return typeof E=="function"?E.call(null,{row:b,rowIndex:C}):E||null},getRowClass:(b,C)=>{const E=[i.e("row")];(n==null?void 0:n.props.highlightCurrentRow)&&b===t.store.states.currentRow.value&&E.push("current-row"),t.stripe&&C%2===1&&E.push(i.em("row","striped"));const I=n==null?void 0:n.props.rowClassName;return typeof I=="string"?E.push(I):typeof I=="function"&&E.push(I.call(null,{row:b,rowIndex:C})),E},getCellStyle:(b,C,E,I)=>{const M=n==null?void 0:n.props.cellStyle;let T=M!=null?M:{};typeof M=="function"&&(T=M.call(null,{rowIndex:b,columnIndex:C,row:E,column:I}));const R=kw(C,t==null?void 0:t.fixed,t.store);return Vf(R,"left"),Vf(R,"right"),Object.assign({},T,R)},getCellClass:(b,C,E,I,M)=>{const T=Dw(i.b(),C,t==null?void 0:t.fixed,t.store,void 0,M),R=[I.id,I.align,I.className,...T],N=n==null?void 0:n.props.cellClassName;return typeof N=="string"?R.push(N):typeof N=="function"&&R.push(N.call(null,{rowIndex:b,columnIndex:C,row:E,column:I})),R.push(i.e("cell")),R.filter(D=>Boolean(D)).join(" ")},getSpan:(b,C,E,I)=>{let M=1,T=1;const R=n==null?void 0:n.props.spanMethod;if(typeof R=="function"){const N=R({row:b,column:C,rowIndex:E,columnIndex:I});Array.isArray(N)?(M=N[0],T=N[1]):typeof N=="object"&&(M=N.rowspan,T=N.colspan)}return{rowspan:M,colspan:T}},getColspanRealWidth:(b,C,E)=>{if(C<1)return b[E].realWidth;const I=b.map(({realWidth:M,width:T})=>M||T).slice(E,E+C);return Number(I.reduce((M,T)=>Number(M)+Number(T),-1))}}}function wAe(t){const n=hn($a),i=Ct("table"),{handleDoubleClick:o,handleClick:l,handleContextMenu:d,handleMouseEnter:h,handleMouseLeave:g,handleCellMouseEnter:y,handleCellMouseLeave:b,tooltipContent:C,tooltipTrigger:E}=bAe(t),{getRowStyle:I,getRowClass:M,getCellStyle:T,getCellClass:R,getSpan:N,getColspanRealWidth:D}=SAe(t),V=K(()=>t.store.states.columns.value.findIndex(({type:he})=>he==="default")),B=(he,ne)=>{const se=n.props.rowKey;return se?cs(he,se):ne},z=(he,ne,se,oe=!1)=>{const{tooltipEffect:xe,store:me}=t,{indent:ce,columns:Ae}=me.states,Se=M(he,ne);let ye=!0;return se&&(Se.push(i.em("row",`level-${se.level}`)),ye=se.display),yn("tr",{style:[ye?null:{display:"none"},I(he,ne)],class:Se,key:B(he,ne),onDblclick:fe=>o(fe,he),onClick:fe=>l(fe,he),onContextmenu:fe=>d(fe,he),onMouseenter:()=>h(ne),onMouseleave:g},Ae.value.map((fe,le)=>{const{rowspan:Oe,colspan:Qe}=N(he,fe,ne,le);if(!Oe||!Qe)return null;const Pe={...fe};Pe.realWidth=D(Ae.value,Qe,le);const He={store:t.store,_self:t.context||n,column:Pe,row:he,$index:ne,cellIndex:le,expanded:oe};le===V.value&&se&&(He.treeNode={indent:se.level*ce.value,level:se.level},typeof se.expanded=="boolean"&&(He.treeNode.expanded=se.expanded,"loading"in se&&(He.treeNode.loading=se.loading),"noLazyChildren"in se&&(He.treeNode.noLazyChildren=se.noLazyChildren)));const bt=`${ne},${le}`,xt=Pe.columnKey||Pe.rawColumnKey||"",Nt=H(le,fe,He);return yn("td",{style:T(ne,le,he,fe),class:R(ne,le,he,fe,Qe-1),key:`${xt}${bt}`,rowspan:Oe,colspan:Qe,onMouseenter:st=>y(st,he,xe),onMouseleave:b},[Nt])}))},H=(he,ne,se)=>ne.renderCell(se);return{wrappedRowRender:(he,ne)=>{const se=t.store,{isRowExpanded:oe,assertRowKey:xe}=se,{treeData:me,lazyTreeNodeMap:ce,childrenColumnName:Ae,rowKey:Se}=se.states,ye=se.states.columns.value;if(ye.some(({type:fe})=>fe==="expand")){const fe=oe(he),le=z(he,ne,void 0,fe),Oe=n.renderExpanded;return fe?Oe?[[le,yn("tr",{key:`expanded-row__${le.key}`},[yn("td",{colspan:ye.length,class:`${i.e("cell")} ${i.e("expanded-cell")}`},[Oe({row:he,$index:ne,store:se,expanded:fe})])])]]:(console.error("[Element Error]renderExpanded is required."),le):[[le]]}else if(Object.keys(me.value).length){xe();const fe=cs(he,Se.value);let le=me.value[fe],Oe=null;le&&(Oe={expanded:le.expanded,level:le.level,display:!0},typeof le.lazy=="boolean"&&(typeof le.loaded=="boolean"&&le.loaded&&(Oe.noLazyChildren=!(le.children&&le.children.length)),Oe.loading=le.loading));const Qe=[z(he,ne,Oe)];if(le){let Pe=0;const He=(xt,Nt)=>{!(xt&&xt.length&&Nt)||xt.forEach(st=>{const Ye={display:Nt.display&&Nt.expanded,level:Nt.level+1,expanded:!1,noLazyChildren:!1,loading:!1},ot=cs(st,Se.value);if(ot==null)throw new Error("For nested data item, row-key is required.");if(le={...me.value[ot]},le&&(Ye.expanded=le.expanded,le.level=le.level||Ye.level,le.display=!!(le.expanded&&Ye.display),typeof le.lazy=="boolean"&&(typeof le.loaded=="boolean"&&le.loaded&&(Ye.noLazyChildren=!(le.children&&le.children.length)),Ye.loading=le.loading)),Pe++,Qe.push(z(st,ne+Pe,Ye)),le){const Et=ce.value[ot]||st[Ae.value];He(Et,le)}})};le.display=!0;const bt=ce.value[fe]||he[Ae.value];He(bt,le)}return Qe}else return z(he,ne,void 0)},tooltipContent:C,tooltipTrigger:E}}const EAe={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var CAe=Ge({name:"ElTableBody",props:EAe,setup(t){const n=Zn(),i=hn($a),o=Ct("table"),{wrappedRowRender:l,tooltipContent:d,tooltipTrigger:h}=wAe(t),{onColumnsChange:g,onScrollableChange:y}=Y6(i);return It(t.store.states.hoverRow,(b,C)=>{if(!t.store.states.isComplex.value||!fr)return;let E=window.requestAnimationFrame;E||(E=I=>window.setTimeout(I,16)),E(()=>{const I=n==null?void 0:n.vnode.el,M=Array.from((I==null?void 0:I.children)||[]).filter(N=>N==null?void 0:N.classList.contains(`${o.e("row")}`)),T=M[C],R=M[b];T&&Us(T,"hover-row"),R&&Va(R,"hover-row")})}),ju(()=>{var b;(b=bl)==null||b()}),{ns:o,onColumnsChange:g,onScrollableChange:y,wrappedRowRender:l,tooltipContent:d,tooltipTrigger:h}},render(){const{wrappedRowRender:t,store:n}=this,i=n.states.data.value||[];return yn("tbody",{},[i.reduce((o,l)=>o.concat(t(l,o.length)),[])])}});function Lw(t){const n=t.tableLayout==="auto";let i=t.columns||[];n&&i.every(l=>l.width===void 0)&&(i=[]);const o=l=>{const d={key:`${t.tableLayout}_${l.id}`,style:{},name:void 0};return n?d.style={width:`${l.width}px`}:d.name=l.id,d};return yn("colgroup",{},i.map(l=>yn("col",o(l))))}Lw.props=["columns","tableLayout"];function IAe(){const t=hn($a),n=t==null?void 0:t.store,i=K(()=>n.states.fixedLeafColumnsLength.value),o=K(()=>n.states.rightFixedColumns.value.length),l=K(()=>n.states.columns.value.length),d=K(()=>n.states.fixedColumns.value.length),h=K(()=>n.states.rightFixedColumns.value.length);return{leftFixedLeafCount:i,rightFixedLeafCount:o,columnsCount:l,leftFixedCount:d,rightFixedCount:h,columns:n.states.columns}}function xAe(t){const{columns:n}=IAe(),i=Ct("table");return{getCellClasses:(d,h)=>{const g=d[h],y=[i.e("cell"),g.id,g.align,g.labelClassName,...Dw(i.b(),h,g.fixed,t.store)];return g.className&&y.push(g.className),g.children||y.push(i.is("leaf")),y},getCellStyles:(d,h)=>{const g=kw(h,d.fixed,t.store);return Vf(g,"left"),Vf(g,"right"),g},columns:n}}var MAe=Ge({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:n,getCellStyles:i,columns:o}=xAe(t);return{ns:Ct("table"),getCellClasses:n,getCellStyles:i,columns:o}},render(){const{columns:t,getCellStyles:n,getCellClasses:i,summaryMethod:o,sumText:l,ns:d}=this,h=this.store.states.data.value;let g=[];return o?g=o({columns:t,data:h}):t.forEach((y,b)=>{if(b===0){g[b]=l;return}const C=h.map(T=>Number(T[y.property])),E=[];let I=!0;C.forEach(T=>{if(!Number.isNaN(+T)){I=!1;const R=`${T}`.split(".")[1];E.push(R?R.length:0)}});const M=Math.max.apply(null,E);I?g[b]="":g[b]=C.reduce((T,R)=>{const N=Number(R);return Number.isNaN(+N)?T:Number.parseFloat((T+R).toFixed(Math.min(M,20)))},0)}),yn("table",{class:d.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[Lw({columns:t}),yn("tbody",[yn("tr",{},[...t.map((y,b)=>yn("td",{key:b,colspan:y.colSpan,rowspan:y.rowSpan,class:i(t,b),style:n(y,b)},[yn("div",{class:["cell",y.labelClassName]},[g[b]])]))])])])}});function RAe(t){return{setCurrentRow:C=>{t.commit("setCurrentRow",C)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(C,E)=>{t.toggleRowSelection(C,E,!1),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:C=>{t.clearFilter(C)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(C,E)=>{t.toggleRowExpansionAdapter(C,E)},clearSort:()=>{t.clearSort()},sort:(C,E)=>{t.commit("sort",{prop:C,order:E})}}}function TAe(t,n,i,o){const l=re(!1),d=re(null),h=re(!1),g=fe=>{h.value=fe},y=re({width:null,height:null,headerHeight:null}),b=re(!1),C={display:"inline-block",verticalAlign:"middle"},E=re(),I=re(0),M=re(0),T=re(0),R=re(0);_s(()=>{n.setHeight(t.height)}),_s(()=>{n.setMaxHeight(t.maxHeight)}),It(()=>[t.currentRowKey,i.states.rowKey],([fe,le])=>{!v(le)||!v(fe)||i.setCurrentRowKey(`${fe}`)},{immediate:!0}),It(()=>t.data,fe=>{o.store.commit("setData",fe)},{immediate:!0,deep:!0}),_s(()=>{t.expandRowKeys&&i.setExpandRowKeysAdapter(t.expandRowKeys)});const N=()=>{o.store.commit("setHoverRow",null),o.hoverState&&(o.hoverState=null)},D=(fe,le)=>{const{pixelX:Oe,pixelY:Qe}=le;Math.abs(Oe)>=Math.abs(Qe)&&(o.refs.bodyWrapper.scrollLeft+=le.pixelX/5)},V=K(()=>t.height||t.maxHeight||i.states.fixedColumns.value.length>0||i.states.rightFixedColumns.value.length>0),B=K(()=>({width:n.bodyWidth.value?`${n.bodyWidth.value}px`:""})),z=()=>{V.value&&n.updateElsHeight(),n.updateColumnsWidth(),requestAnimationFrame(ne)};jn(async()=>{await dn(),i.updateColumns(),se(),requestAnimationFrame(z);const fe=o.vnode.el,le=o.refs.headerWrapper;t.flexible&&fe&&fe.parentElement&&(fe.parentElement.style.minWidth="0"),y.value={width:E.value=fe.offsetWidth,height:fe.offsetHeight,headerHeight:t.showHeader&&le?le.offsetHeight:null},i.states.columns.value.forEach(Oe=>{Oe.filteredValue&&Oe.filteredValue.length&&o.store.commit("filterChange",{column:Oe,values:Oe.filteredValue,silent:!0})}),o.$ready=!0});const H=(fe,le)=>{if(!fe)return;const Oe=Array.from(fe.classList).filter(Qe=>!Qe.startsWith("is-scrolling-"));Oe.push(n.scrollX.value?le:"is-scrolling-none"),fe.className=Oe.join(" ")},q=fe=>{const{tableWrapper:le}=o.refs;H(le,fe)},he=fe=>{const{tableWrapper:le}=o.refs;return!!(le&&le.classList.contains(fe))},ne=function(){if(!o.refs.scrollBarRef)return;if(!n.scrollX.value){const xt="is-scrolling-none";he(xt)||q(xt);return}const fe=o.refs.scrollBarRef.wrap$;if(!fe)return;const{scrollLeft:le,offsetWidth:Oe,scrollWidth:Qe}=fe,{headerWrapper:Pe,footerWrapper:He}=o.refs;Pe&&(Pe.scrollLeft=le),He&&(He.scrollLeft=le);const bt=Qe-Oe-1;le>=bt?q("is-scrolling-right"):q(le===0?"is-scrolling-left":"is-scrolling-middle")},se=()=>{!o.refs.scrollBarRef||(o.refs.scrollBarRef.wrap$&&Jr(o.refs.scrollBarRef.wrap$,"scroll",ne,{passive:!0}),t.fit?As(o.vnode.el,oe):Jr(window,"resize",oe),As(o.refs.bodyWrapper,()=>{var fe,le;oe(),(le=(fe=o.refs)==null?void 0:fe.scrollBarRef)==null||le.update()}))},oe=()=>{var fe,le,Oe;const Qe=o.vnode.el;if(!o.$ready||!Qe)return;let Pe=!1;const{width:He,height:bt,headerHeight:xt}=y.value,Nt=E.value=Qe.offsetWidth;He!==Nt&&(Pe=!0);const st=Qe.offsetHeight;(t.height||V.value)&&bt!==st&&(Pe=!0);const Ye=t.tableLayout==="fixed"?o.refs.headerWrapper:(fe=o.refs.tableHeaderRef)==null?void 0:fe.$el;t.showHeader&&(Ye==null?void 0:Ye.offsetHeight)!==xt&&(Pe=!0),I.value=((le=o.refs.tableWrapper)==null?void 0:le.scrollHeight)||0,T.value=(Ye==null?void 0:Ye.scrollHeight)||0,R.value=((Oe=o.refs.footerWrapper)==null?void 0:Oe.offsetHeight)||0,M.value=I.value-T.value-R.value,Pe&&(y.value={width:Nt,height:st,headerHeight:t.showHeader&&(Ye==null?void 0:Ye.offsetHeight)||0},z())},xe=Mi(),me=K(()=>{const{bodyWidth:fe,scrollY:le,gutterWidth:Oe}=n;return fe.value?`${fe.value-(le.value?Oe:0)}px`:""}),ce=K(()=>t.maxHeight?"fixed":t.tableLayout),Ae=K(()=>{if(t.data&&t.data.length)return null;let fe="100%";t.height&&M.value&&(fe=`${M.value}px`);const le=E.value;return{width:le?`${le}px`:"",height:fe}}),Se=K(()=>t.height?{height:Number.isNaN(Number(t.height))?t.height:`${t.height}px`}:t.maxHeight?{maxHeight:Number.isNaN(Number(t.maxHeight))?t.maxHeight:`${t.maxHeight}px`}:{}),ye=K(()=>{if(t.height)return{height:"100%"};if(t.maxHeight){if(Number.isNaN(Number(t.maxHeight)))return{maxHeight:`calc(${t.maxHeight} - ${T.value+R.value}px)`};{const fe=t.maxHeight;if(I.value>=Number(fe))return{maxHeight:`${I.value-T.value-R.value}px`}}}return{}});return{isHidden:l,renderExpanded:d,setDragVisible:g,isGroup:b,handleMouseLeave:N,handleHeaderFooterMousewheel:D,tableSize:xe,emptyBlockStyle:Ae,handleFixedMousewheel:(fe,le)=>{const Oe=o.refs.bodyWrapper;if(Math.abs(le.spinY)>0){const Qe=Oe.scrollTop;le.pixelY<0&&Qe!==0&&fe.preventDefault(),le.pixelY>0&&Oe.scrollHeight-Oe.clientHeight>Qe&&fe.preventDefault(),Oe.scrollTop+=Math.ceil(le.pixelY/5)}else Oe.scrollLeft+=Math.ceil(le.pixelX/5)},resizeProxyVisible:h,bodyWidth:me,resizeState:y,doLayout:z,tableBodyStyles:B,tableLayout:ce,scrollbarViewStyle:C,tableInnerStyle:Se,scrollbarStyle:ye}}var PAe={data:{type:Array,default:()=>[]},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean};const NAe=()=>{const t=re(),n=(d,h)=>{const g=t.value;g&&g.scrollTo(d,h)},i=(d,h)=>{const g=t.value;g&&Hn(h)&&["Top","Left"].includes(d)&&g[`setScroll${d}`](h)};return{scrollBarRef:t,scrollTo:n,setScrollTop:d=>i("Top",d),setScrollLeft:d=>i("Left",d)}};let BAe=1;const DAe=Ge({name:"ElTable",directives:{Mousewheel:soe},components:{TableHeader:yAe,TableBody:CAe,TableFooter:MAe,ElScrollbar:Gl,hColgroup:Lw},props:PAe,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:n}=Sr(),i=Ct("table"),o=Zn();or($a,o);const l=oAe(o,t);o.store=l;const d=new lAe({store:o.store,table:o,fit:t.fit,showHeader:t.showHeader});o.layout=d;const h=K(()=>(l.states.data.value||[]).length===0),{setCurrentRow:g,getSelectionRows:y,toggleRowSelection:b,clearSelection:C,clearFilter:E,toggleAllSelection:I,toggleRowExpansion:M,clearSort:T,sort:R}=RAe(l),{isHidden:N,renderExpanded:D,setDragVisible:V,isGroup:B,handleMouseLeave:z,handleHeaderFooterMousewheel:H,tableSize:q,emptyBlockStyle:he,handleFixedMousewheel:ne,resizeProxyVisible:se,bodyWidth:oe,resizeState:xe,doLayout:me,tableBodyStyles:ce,tableLayout:Ae,scrollbarViewStyle:Se,tableInnerStyle:ye,scrollbarStyle:ie}=TAe(t,d,l,o),{scrollBarRef:fe,scrollTo:le,setScrollLeft:Oe,setScrollTop:Qe}=NAe(),Pe=Ns(me,50),He=`${i.namespace.value}-table_${BAe++}`;o.tableId=He,o.state={isGroup:B,resizeState:xe,doLayout:me,debouncedUpdateLayout:Pe};const bt=K(()=>t.sumText||n("el.table.sumText")),xt=K(()=>t.emptyText||n("el.table.emptyText"));return{ns:i,layout:d,store:l,handleHeaderFooterMousewheel:H,handleMouseLeave:z,tableId:He,tableSize:q,isHidden:N,isEmpty:h,renderExpanded:D,resizeProxyVisible:se,resizeState:xe,isGroup:B,bodyWidth:oe,tableBodyStyles:ce,emptyBlockStyle:he,debouncedUpdateLayout:Pe,handleFixedMousewheel:ne,setCurrentRow:g,getSelectionRows:y,toggleRowSelection:b,clearSelection:C,clearFilter:E,toggleAllSelection:I,toggleRowExpansion:M,clearSort:T,doLayout:me,sort:R,t:n,setDragVisible:V,context:o,computedSumText:bt,computedEmptyText:xt,tableLayout:Ae,scrollbarViewStyle:Se,tableInnerStyle:ye,scrollbarStyle:ie,scrollBarRef:fe,scrollTo:le,setScrollLeft:Oe,setScrollTop:Qe}}}),kAe=["data-prefix"],LAe={ref:"hiddenColumns",class:"hidden-columns"};function OAe(t,n,i,o,l,d){const h=Mn("hColgroup"),g=Mn("table-header"),y=Mn("table-body"),b=Mn("el-scrollbar"),C=Mn("table-footer"),E=wf("mousewheel");return $(),_e("div",{ref:"tableWrapper",class:J([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:fn(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:n[0]||(n[0]=I=>t.handleMouseLeave())},[Ie("div",{class:J(t.ns.e("inner-wrapper")),style:fn(t.tableInnerStyle)},[Ie("div",LAe,[yt(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?zn(($(),_e("div",{key:0,ref:"headerWrapper",class:J(t.ns.e("header-wrapper"))},[Ie("table",{ref:"tableHeader",class:J(t.ns.e("header")),style:fn(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[Re(h,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),Re(g,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[E,t.handleHeaderFooterMousewheel]]):Ze("v-if",!0),Ie("div",{ref:"bodyWrapper",class:J(t.ns.e("body-wrapper"))},[Re(b,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn},{default:Ue(()=>[Ie("table",{ref:"tableBody",class:J(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:fn({width:t.bodyWidth,tableLayout:t.tableLayout})},[Re(h,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?($(),rt(g,{key:0,ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):Ze("v-if",!0),Re(y,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe"])],6),t.isEmpty?($(),_e("div",{key:0,ref:"emptyBlock",style:fn(t.emptyBlockStyle),class:J(t.ns.e("empty-block"))},[Ie("span",{class:J(t.ns.e("empty-text"))},[yt(t.$slots,"empty",{},()=>[mr(Xt(t.computedEmptyText),1)])],2)],6)):Ze("v-if",!0),t.$slots.append?($(),_e("div",{key:1,ref:"appendWrapper",class:J(t.ns.e("append-wrapper"))},[yt(t.$slots,"append")],2)):Ze("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),t.showSummary?zn(($(),_e("div",{key:1,ref:"footerWrapper",class:J(t.ns.e("footer-wrapper"))},[Re(C,{border:t.border,"default-sort":t.defaultSort,store:t.store,style:fn(t.tableBodyStyles),"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[yr,!t.isEmpty],[E,t.handleHeaderFooterMousewheel]]):Ze("v-if",!0),t.border||t.isGroup?($(),_e("div",{key:2,class:J(t.ns.e("border-left-patch"))},null,2)):Ze("v-if",!0)],6),zn(Ie("div",{ref:"resizeProxy",class:J(t.ns.e("column-resize-proxy"))},null,2),[[yr,t.resizeProxyVisible]])],46,kAe)}var FAe=Ht(DAe,[["render",OAe],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const VAe={selection:"table-column--selection",expand:"table__expand-column"},GAe={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},UAe=t=>VAe[t]||"",zAe={selection:{renderHeader({store:t}){function n(){return t.states.data.value&&t.states.data.value.length===0}return yn(Fo,{disabled:n(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value})},renderCell({row:t,column:n,store:i,$index:o}){return yn(Fo,{disabled:n.selectable?!n.selectable.call(null,t,o):!1,size:i.states.tableSize.value,onChange:()=>{i.commit("rowSelectedChanged",t)},onClick:l=>l.stopPropagation(),modelValue:i.isSelected(t)})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:n}){let i=n+1;const o=t.index;return typeof o=="number"?i=n+o:typeof o=="function"&&(i=o(n)),yn("div",{},[i])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:n,expanded:i}){const{ns:o}=n,l=[o.e("expand-icon")];return i&&l.push(o.em("expand-icon","expanded")),yn("div",{class:l,onClick:function(h){h.stopPropagation(),n.toggleRowExpansion(t)}},{default:()=>[yn(un,null,{default:()=>[yn(Ts)]})]})},sortable:!1,resizable:!1}};function HAe({row:t,column:n,$index:i}){var o;const l=n.property,d=l&&Rv(t,l).value;return n&&n.formatter?n.formatter(t,n,d,i):((o=d==null?void 0:d.toString)==null?void 0:o.call(d))||""}function QAe({row:t,treeNode:n,store:i},o=!1){const{ns:l}=i;if(!n)return o?[yn("span",{class:l.e("placeholder")})]:null;const d=[],h=function(g){g.stopPropagation(),!n.loading&&i.loadOrToggle(t)};if(n.indent&&d.push(yn("span",{class:l.e("indent"),style:{"padding-left":`${n.indent}px`}})),typeof n.expanded=="boolean"&&!n.noLazyChildren){const g=[l.e("expand-icon"),n.expanded?l.em("expand-icon","expanded"):""];let y=Ts;n.loading&&(y=Oc),d.push(yn("div",{class:g,onClick:h},{default:()=>[yn(un,{class:{[l.is("loading")]:n.loading}},{default:()=>[yn(y)]})]}))}else d.push(yn("span",{class:l.e("placeholder")}));return d}function bT(t,n){return t.reduce((i,o)=>(i[o]=o,i),n)}function XAe(t,n){const i=Zn();return{registerComplexWatchers:()=>{const d=["fixed"],h={realWidth:"width",realMinWidth:"minWidth"},g=bT(d,h);Object.keys(g).forEach(y=>{const b=h[y];cr(n,b)&&It(()=>n[b],C=>{let E=C;b==="width"&&y==="realWidth"&&(E=Bw(C)),b==="minWidth"&&y==="realMinWidth"&&(E=X6(C)),i.columnConfig.value[b]=E,i.columnConfig.value[y]=E;const I=b==="fixed";t.value.store.scheduleLayout(I)})})},registerNormalWatchers:()=>{const d=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],h={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},g=bT(d,h);Object.keys(g).forEach(y=>{const b=h[y];cr(n,b)&&It(()=>n[b],C=>{i.columnConfig.value[y]=C})})}}}function $Ae(t,n,i){const o=Zn(),l=re(""),d=re(!1),h=re(),g=re(),y=Ct("table");_s(()=>{h.value=t.align?`is-${t.align}`:null,h.value}),_s(()=>{g.value=t.headerAlign?`is-${t.headerAlign}`:h.value,g.value});const b=K(()=>{let B=o.vnode.vParent||o.parent;for(;B&&!B.tableId&&!B.columnId;)B=B.vnode.vParent||B.parent;return B}),C=K(()=>{const{store:B}=o.parent;if(!B)return!1;const{treeData:z}=B.states,H=z.value;return H&&Object.keys(H).length>0}),E=re(Bw(t.width)),I=re(X6(t.minWidth)),M=B=>(E.value&&(B.width=E.value),I.value&&(B.minWidth=I.value),!E.value&&I.value&&(B.width=void 0),B.minWidth||(B.minWidth=80),B.realWidth=Number(B.width===void 0?B.minWidth:B.width),B),T=B=>{const z=B.type,H=zAe[z]||{};Object.keys(H).forEach(he=>{const ne=H[he];he!=="className"&&ne!==void 0&&(B[he]=ne)});const q=UAe(z);if(q){const he=`${v(y.namespace)}-${q}`;B.className=B.className?`${B.className} ${he}`:he}return B},R=B=>{Array.isArray(B)?B.forEach(H=>z(H)):z(B);function z(H){var q;((q=H==null?void 0:H.type)==null?void 0:q.name)==="ElTableColumn"&&(H.vParent=o)}};return{columnId:l,realAlign:h,isSubColumn:d,realHeaderAlign:g,columnOrTableParent:b,setColumnWidth:M,setColumnForcedProps:T,setColumnRenders:B=>{t.renderHeader||B.type!=="selection"&&(B.renderHeader=H=>{o.columnConfig.value.label;const q=n.header;return q?q(H):B.label});let z=B.renderCell;return B.type==="expand"?(B.renderCell=H=>yn("div",{class:"cell"},[z(H)]),i.value.renderExpanded=H=>n.default?n.default(H):n.default):(z=z||HAe,B.renderCell=H=>{let q=null;if(n.default){const oe=n.default(H);q=oe.some(xe=>xe.type!==Rs)?oe:z(H)}else q=z(H);const he=C.value&&H.cellIndex===0&&H.column.type!=="selection",ne=QAe(H,he),se={class:"cell",style:{}};return B.showOverflowTooltip&&(se.class=`${se.class} ${v(y.namespace)}-tooltip`,se.style={width:`${(H.column.realWidth||Number(H.column.width))-1}px`}),R(q),yn("div",se,[ne,q])}),B},getPropsData:(...B)=>B.reduce((z,H)=>(Array.isArray(H)&&H.forEach(q=>{z[q]=t[q]}),z),{}),getColumnElIndex:(B,z)=>Array.prototype.indexOf.call(B,z)}}var WAe={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(n=>["ascending","descending",null].includes(n))}};let KAe=1;var Z6=Ge({name:"ElTableColumn",components:{ElCheckbox:Fo},props:WAe,setup(t,{slots:n}){const i=Zn(),o=re({}),l=K(()=>{let V=i.parent;for(;V&&!V.tableId;)V=V.parent;return V}),{registerNormalWatchers:d,registerComplexWatchers:h}=XAe(l,t),{columnId:g,isSubColumn:y,realHeaderAlign:b,columnOrTableParent:C,setColumnWidth:E,setColumnForcedProps:I,setColumnRenders:M,getPropsData:T,getColumnElIndex:R,realAlign:N}=$Ae(t,n,l),D=C.value;g.value=`${D.tableId||D.columnId}_column_${KAe++}`,N_(()=>{y.value=l.value!==D;const V=t.type||"default",B=t.sortable===""?!0:t.sortable,z={...GAe[V],id:g.value,type:V,property:t.prop||t.property,align:N,headerAlign:b,showOverflowTooltip:t.showOverflowTooltip||t.showTooltipWhenOverflow,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:B,index:t.index,rawColumnKey:i.vnode.key};let se=T(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);se=j_e(z,se),se=Y_e(M,E,I)(se),o.value=se,d(),h()}),jn(()=>{var V;const B=C.value,z=y.value?B.vnode.el.children:(V=B.refs.hiddenColumns)==null?void 0:V.children,H=()=>R(z||[],i.vnode.el);o.value.getColumnIndex=H,H()>-1&&l.value.store.commit("insertColumn",o.value,y.value?B.columnConfig.value:null)}),hi(()=>{l.value.store.commit("removeColumn",o.value,y.value?D.columnConfig.value:null)}),i.columnId=g.value,i.columnConfig=o},render(){var t,n,i;try{const o=(n=(t=this.$slots).default)==null?void 0:n.call(t,{row:{},column:{},$index:-1}),l=[];if(Array.isArray(o))for(const h of o)((i=h.type)==null?void 0:i.name)==="ElTableColumn"||h.shapeFlag&2?l.push(h):h.type===gn&&Array.isArray(h.children)&&h.children.forEach(g=>{(g==null?void 0:g.patchFlag)!==1024&&!On(g==null?void 0:g.children)&&l.push(g)});return yn("div",l)}catch{return yn("div",[])}}});const jAe=er(FAe,{TableColumn:Z6}),qAe=pi(Z6);var om=(t=>(t.ASC="asc",t.DESC="desc",t))(om||{}),am=(t=>(t.CENTER="center",t.RIGHT="right",t))(am||{}),eD=(t=>(t.LEFT="left",t.RIGHT="right",t))(eD||{});const V1={asc:"desc",desc:"asc"},lm=Symbol("placeholder"),YAe=(t,n,i)=>{var o;const l={flexGrow:0,flexShrink:0,...i?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};i||(l.flexShrink=1);const d={...(o=t.style)!=null?o:{},...l,flexBasis:"auto",width:t.width};return n||(t.maxWidth&&(d.maxWidth=t.maxWidth),t.minWidth&&(d.minWidth=t.minWidth)),d};function JAe(t,n,i){const o=K(()=>v(n).filter(R=>!R.hidden)),l=K(()=>v(o).filter(R=>R.fixed==="left"||R.fixed===!0)),d=K(()=>v(o).filter(R=>R.fixed==="right")),h=K(()=>v(o).filter(R=>!R.fixed)),g=K(()=>{const R=[];return v(l).forEach(N=>{R.push({...N,placeholderSign:lm})}),v(h).forEach(N=>{R.push(N)}),v(d).forEach(N=>{R.push({...N,placeholderSign:lm})}),R}),y=K(()=>v(l).length||v(d).length),b=K(()=>v(n).reduce((N,D)=>(N[D.key]=YAe(D,v(i),t.fixed),N),{})),C=K(()=>v(o).reduce((R,N)=>R+N.width,0)),E=R=>v(n).find(N=>N.key===R),I=R=>v(b)[R],M=(R,N)=>{R.width=N};function T(R){var N;const{key:D}=R.currentTarget.dataset;if(!D)return;const{sortState:V,sortBy:B}=t;let z=om.ASC;nr(V)?z=V1[V[D]]:z=V1[B.order],(N=t.onColumnSort)==null||N.call(t,{column:E(D),key:D,order:z})}return{columns:n,columnsStyles:b,columnsTotalWidth:C,fixedColumnsOnLeft:l,fixedColumnsOnRight:d,hasFixedColumns:y,mainColumns:g,normalColumns:h,visibleColumns:o,getColumn:E,getColumnStyle:I,updateColumnWidth:M,onColumnSorted:T}}const ZAe=(t,{mainTableRef:n,leftTableRef:i,rightTableRef:o,onMaybeEndReached:l})=>{const d=re({scrollLeft:0,scrollTop:0});function h(M){var T,R,N;const{scrollTop:D}=M;(T=n.value)==null||T.scrollTo(M),(R=i.value)==null||R.scrollToTop(D),(N=o.value)==null||N.scrollToTop(D)}function g(M){d.value=M,h(M)}function y(M){d.value.scrollTop=M,h(v(d))}function b(M){var T,R;d.value.scrollLeft=M,(R=(T=n.value)==null?void 0:T.scrollTo)==null||R.call(T,v(d))}function C(M){var T;g(M),(T=t.onScroll)==null||T.call(t,M)}function E({scrollTop:M}){const{scrollTop:T}=v(d);M!==T&&y(M)}function I(M,T="auto"){var R;(R=n.value)==null||R.scrollToRow(M,T)}return It(()=>v(d).scrollTop,(M,T)=>{M>T&&l()}),{scrollPos:d,scrollTo:g,scrollToLeft:b,scrollToTop:y,scrollToRow:I,onScroll:C,onVerticalScroll:E}},e0e=(t,{mainTableRef:n,leftTableRef:i,rightTableRef:o,onMaybeEndReached:l})=>{const d=Zn(),{emit:h}=d,g=qr(!1),y=qr(null),b=re(t.defaultExpandedRowKeys||[]),C=re(-1),E=qr(null),I=re({}),M=re({}),T=qr({}),R=qr({}),N=qr({}),D=K(()=>Hn(t.estimatedRowHeight));function V(se){var oe;(oe=t.onRowsRendered)==null||oe.call(t,se),se.rowCacheEnd>v(C)&&(C.value=se.rowCacheEnd)}function B({hovered:se,rowKey:oe}){y.value=se?oe:null}function z({expanded:se,rowData:oe,rowIndex:xe,rowKey:me}){var ce,Ae;const Se=[...v(b)],ye=Se.indexOf(me);se?ye===-1&&Se.push(me):ye>-1&&Se.splice(ye,1),b.value=Se,h("update:expandedRowKeys",Se),(ce=t.onRowExpand)==null||ce.call(t,{expanded:se,rowData:oe,rowIndex:xe,rowKey:me}),(Ae=t.onExpandedRowsChange)==null||Ae.call(t,Se)}const H=Ns(()=>{var se,oe,xe,me;g.value=!0,I.value={...v(I),...v(M)},q(v(E),!1),M.value={},E.value=null,(se=n.value)==null||se.forceUpdate(),(oe=i.value)==null||oe.forceUpdate(),(xe=o.value)==null||xe.forceUpdate(),(me=d.proxy)==null||me.$forceUpdate(),g.value=!1},0);function q(se,oe=!1){!v(D)||[n,i,o].forEach(xe=>{const me=v(xe);me&&me.resetAfterRowIndex(se,oe)})}function he(se,oe,xe){const me=v(E);(me===null||me>xe)&&(E.value=xe),M.value[se]=oe}function ne({rowKey:se,height:oe,rowIndex:xe},me){me?me===eD.RIGHT?N.value[se]=oe:T.value[se]=oe:R.value[se]=oe;const ce=Math.max(...[T,N,R].map(Ae=>Ae.value[se]||0));v(I)[se]!==ce&&(he(se,ce,xe),H())}return It(C,()=>l()),{hoveringRowKey:y,expandedRowKeys:b,lastRenderedRowIndex:C,isDynamic:D,isResetting:g,rowHeights:I,resetAfterIndex:q,onRowExpanded:z,onRowHovered:B,onRowsRendered:V,onRowHeightChange:ne}},t0e=(t,{expandedRowKeys:n,lastRenderedRowIndex:i,resetAfterIndex:o})=>{const l=re({}),d=K(()=>{const g={},{data:y,rowKey:b}=t,C=v(n);if(!C||!C.length)return y;const E=[],I=new Set;C.forEach(T=>I.add(T));let M=y.slice();for(M.forEach(T=>g[T[b]]=0);M.length>0;){const T=M.shift();E.push(T),I.has(T[b])&&Array.isArray(T.children)&&T.children.length>0&&(M=[...T.children,...M],T.children.forEach(R=>g[R[b]]=g[T[b]]+1))}return l.value=g,E}),h=K(()=>{const{data:g,expandColumnKey:y}=t;return y?v(d):g});return It(h,(g,y)=>{g!==y&&(i.value=-1,o(0,!0))}),{data:h,depthMap:l}},n0e=(t,n)=>t+n,Qv=t=>on(t)?t.reduce(n0e,0):t,Ku=(t,n,i={})=>Nn(t)?t(n):t!=null?t:i,Ac=t=>(["width","maxWidth","minWidth","height"].forEach(n=>{t[n]=xi(t[n])}),t),tD=t=>ri(t)?n=>yn(t,n):t,r0e=(t,{columnsTotalWidth:n,data:i,fixedColumnsOnLeft:o,fixedColumnsOnRight:l})=>{const d=K(()=>{const{fixed:B,width:z,vScrollbarSize:H}=t,q=z-H;return B?Math.max(Math.round(v(n)),q):q}),h=K(()=>v(d)+(t.fixed?t.vScrollbarSize:0)),g=K(()=>{const{height:B=0,maxHeight:z=0,footerHeight:H,hScrollbarSize:q}=t;if(z>0){const he=v(T),ne=v(y),oe=v(M)+he+ne+q;return Math.min(oe,z-H)}return B-H}),y=K(()=>{const{rowHeight:B,estimatedRowHeight:z}=t,H=v(i);return Hn(z)?H.length*z:H.length*B}),b=K(()=>{const{maxHeight:B}=t,z=v(g);if(Hn(B)&&B>0)return z;const H=v(y)+v(M)+v(T);return Math.min(z,H)}),C=B=>B.width,E=K(()=>Qv(v(o).map(C))),I=K(()=>Qv(v(l).map(C))),M=K(()=>Qv(t.headerHeight)),T=K(()=>{var B;return(((B=t.fixedData)==null?void 0:B.length)||0)*t.rowHeight}),R=K(()=>v(g)-v(M)-v(T)),N=K(()=>{const{style:B={},height:z,width:H}=t;return Ac({...B,height:z,width:H})}),D=K(()=>Ac({height:t.footerHeight})),V=K(()=>({top:xi(v(M)),bottom:xi(t.footerHeight),width:xi(t.width)}));return{bodyWidth:d,fixedTableHeight:b,mainTableHeight:g,leftTableWidth:E,rightTableWidth:I,headerWidth:h,rowsHeight:y,windowHeight:R,footerHeight:D,emptyStyle:V,rootStyle:N,headerHeight:M}},i0e=t=>{const n=re(),i=re(0),o=re(0);let l;return jn(()=>{l=As(n,([d])=>{const{width:h,height:g}=d.contentRect,{paddingLeft:y,paddingRight:b,paddingTop:C,paddingBottom:E}=getComputedStyle(d.target),I=Number.parseInt(y)||0,M=Number.parseInt(b)||0,T=Number.parseInt(C)||0,R=Number.parseInt(E)||0;i.value=h-I-M,o.value=g-T-R}).stop}),hi(()=>{l==null||l()}),It([i,o],([d,h])=>{var g;(g=t.onResize)==null||g.call(t,{width:d,height:h})}),{sizer:n,width:i,height:o}};function s0e(t){const n=re(),i=re(),o=re(),{columns:l,columnsStyles:d,columnsTotalWidth:h,fixedColumnsOnLeft:g,fixedColumnsOnRight:y,hasFixedColumns:b,mainColumns:C,onColumnSorted:E}=JAe(t,ai(t,"columns"),ai(t,"fixed")),{scrollTo:I,scrollToLeft:M,scrollToTop:T,scrollToRow:R,onScroll:N,onVerticalScroll:D,scrollPos:V}=ZAe(t,{mainTableRef:n,leftTableRef:i,rightTableRef:o,onMaybeEndReached:Be}),{expandedRowKeys:B,hoveringRowKey:z,lastRenderedRowIndex:H,isDynamic:q,isResetting:he,rowHeights:ne,resetAfterIndex:se,onRowExpanded:oe,onRowHeightChange:xe,onRowHovered:me,onRowsRendered:ce}=e0e(t,{mainTableRef:n,leftTableRef:i,rightTableRef:o,onMaybeEndReached:Be}),{data:Ae,depthMap:Se}=t0e(t,{expandedRowKeys:B,lastRenderedRowIndex:H,resetAfterIndex:se}),{bodyWidth:ye,fixedTableHeight:ie,mainTableHeight:fe,leftTableWidth:le,rightTableWidth:Oe,headerWidth:Qe,rowsHeight:Pe,windowHeight:He,footerHeight:bt,emptyStyle:xt,rootStyle:Nt,headerHeight:st}=r0e(t,{columnsTotalWidth:h,data:Ae,fixedColumnsOnLeft:g,fixedColumnsOnRight:y}),Ye=qr(!1),ot=re(),Et=K(()=>{const Xe=v(Ae).length===0;return on(t.fixedData)?t.fixedData.length===0&&Xe:Xe});function an(Xe){const{estimatedRowHeight:ht,rowHeight:Dt,rowKey:Ot}=t;return ht?v(ne)[v(Ae)[Xe][Ot]]||ht:Dt}function Be(){const{onEndReached:Xe}=t;if(!Xe)return;const{scrollTop:ht}=v(V),Dt=v(Pe),Ot=v(He),dt=Dt-(ht+Ot)+t.hScrollbarSize;v(H)>=0&&Dt===ht+v(fe)-v(st)&&Xe(dt)}return It(()=>t.expandedRowKeys,Xe=>B.value=Xe,{deep:!0}),{columns:l,containerRef:ot,mainTableRef:n,leftTableRef:i,rightTableRef:o,isDynamic:q,isResetting:he,isScrolling:Ye,hoveringRowKey:z,hasFixedColumns:b,columnsStyles:d,columnsTotalWidth:h,data:Ae,expandedRowKeys:B,depthMap:Se,fixedColumnsOnLeft:g,fixedColumnsOnRight:y,mainColumns:C,bodyWidth:ye,emptyStyle:xt,rootStyle:Nt,headerWidth:Qe,footerHeight:bt,mainTableHeight:fe,fixedTableHeight:ie,leftTableWidth:le,rightTableWidth:Oe,showEmpty:Et,getRowHeight:an,onColumnSorted:E,onRowHovered:me,onRowExpanded:oe,onRowsRendered:ce,onRowHeightChange:xe,scrollTo:I,scrollToLeft:M,scrollToTop:T,scrollToRow:R,onScroll:N,onVerticalScroll:D}}const Ow=Symbol("tableV2"),nD=String,Em={type:nt(Array),required:!0},Fw={type:nt(Array)},rD={...Fw,required:!0},o0e=String,ST={type:nt(Array),default:()=>ni([])},xu={type:Number,required:!0},iD={type:nt([String,Number,Symbol]),default:"id"},wT={type:nt(Object)},Du=$t({class:String,columns:Em,columnsStyles:{type:nt(Object),required:!0},depth:Number,expandColumnKey:o0e,estimatedRowHeight:{...Gu.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:nt(Function)},onRowHover:{type:nt(Function)},onRowHeightChange:{type:nt(Function)},rowData:{type:nt(Object),required:!0},rowEventHandlers:{type:nt(Object)},rowIndex:{type:Number,required:!0},rowKey:iD,style:{type:nt(Object)}}),Mb={type:Number,required:!0},Vw=$t({class:String,columns:Em,fixedHeaderData:{type:nt(Array)},headerData:{type:nt(Array),required:!0},headerHeight:{type:nt([Number,Array]),default:50},rowWidth:Mb,rowHeight:{type:Number,default:50},height:Mb,width:Mb}),Xv=$t({columns:Em,data:rD,fixedData:Fw,estimatedRowHeight:Du.estimatedRowHeight,width:xu,height:xu,headerWidth:xu,headerHeight:Vw.headerHeight,bodyWidth:xu,rowHeight:xu,cache:R6.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Gu.scrollbarAlwaysOn,scrollbarStartGap:Gu.scrollbarStartGap,scrollbarEndGap:Gu.scrollbarEndGap,class:nD,style:wT,containerStyle:wT,getRowHeight:{type:nt(Function),required:!0},rowKey:Du.rowKey,onRowsRendered:{type:nt(Function)},onScroll:{type:nt(Function)}}),a0e=$t({cache:Xv.cache,estimatedRowHeight:Du.estimatedRowHeight,rowKey:iD,headerClass:{type:nt([String,Function])},headerProps:{type:nt([Object,Function])},headerCellProps:{type:nt([Object,Function])},headerHeight:Vw.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:nt([String,Function])},rowProps:{type:nt([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:nt([Object,Function])},columns:Em,data:rD,dataGetter:{type:nt(Function)},fixedData:Fw,expandColumnKey:Du.expandColumnKey,expandedRowKeys:ST,defaultExpandedRowKeys:ST,class:nD,fixed:Boolean,style:{type:nt(Object)},width:xu,height:xu,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Gu.hScrollbarSize,vScrollbarSize:Gu.vScrollbarSize,scrollbarAlwaysOn:N6.alwaysOn,sortBy:{type:nt(Object),default:()=>({})},sortState:{type:nt(Object),default:void 0},onColumnSort:{type:nt(Function)},onExpandedRowsChange:{type:nt(Function)},onEndReached:{type:nt(Function)},onRowExpand:Du.onRowExpand,onScroll:Xv.onScroll,onRowsRendered:Xv.onRowsRendered,rowEventHandlers:Du.rowEventHandlers}),Gw=(t,{slots:n})=>{var i;const{cellData:o,style:l}=t,d=((i=o==null?void 0:o.toString)==null?void 0:i.call(o))||"";return Re("div",{class:t.class,title:d,style:l},[n.default?n.default(t):d])};Gw.displayName="ElTableV2Cell";Gw.inheritAttrs=!1;const Uw=(t,{slots:n})=>{var i,o;return n.default?n.default(t):Re("div",{class:t.class,title:(i=t.column)==null?void 0:i.title},[(o=t.column)==null?void 0:o.title])};Uw.displayName="ElTableV2HeaderCell";Uw.inheritAttrs=!1;const l0e=$t({class:String,columns:Em,columnsStyles:{type:nt(Object),required:!0},headerIndex:Number,style:{type:nt(Object)}}),c0e=Ge({name:"ElTableV2HeaderRow",props:l0e,setup(t,{slots:n}){return()=>{const{columns:i,columnsStyles:o,headerIndex:l,style:d}=t;let h=i.map((g,y)=>n.cell({columns:i,column:g,columnIndex:y,headerIndex:l,style:o[g.key]}));return n.header&&(h=n.header({cells:h.map(g=>on(g)&&g.length===1?g[0]:g),columns:i,headerIndex:l})),Re("div",{class:t.class,style:d},[h])}}}),u0e="ElTableV2Header",d0e=Ge({name:u0e,props:Vw,setup(t,{slots:n,expose:i}){const o=Ct("table-v2"),l=re(),d=K(()=>Ac({width:t.width,height:t.height})),h=K(()=>Ac({width:t.rowWidth,height:t.height})),g=K(()=>Tf(v(t.headerHeight))),y=E=>{const I=v(l);dn(()=>{I!=null&&I.scroll&&I.scroll({left:E})})},b=()=>{const E=o.e("fixed-header-row"),{columns:I,fixedHeaderData:M,rowHeight:T}=t;return M==null?void 0:M.map((R,N)=>{var D;const V=Ac({height:T,width:"100%"});return(D=n.fixed)==null?void 0:D.call(n,{class:E,columns:I,rowData:R,rowIndex:-(N+1),style:V})})},C=()=>{const E=o.e("dynamic-header-row"),{columns:I}=t;return v(g).map((M,T)=>{var R;const N=Ac({width:"100%",height:M});return(R=n.dynamic)==null?void 0:R.call(n,{class:E,columns:I,headerIndex:T,style:N})})};return i({scrollToLeft:y}),()=>{if(!(t.height<=0))return Re("div",{ref:l,class:t.class,style:v(d)},[Re("div",{style:v(h),class:o.e("header")},[C(),b()])])}}}),f0e=t=>{const{isScrolling:n}=hn(Ow),i=re(!1),o=re(),l=K(()=>Hn(t.estimatedRowHeight)&&t.rowIndex>=0),d=(y=!1)=>{const b=v(o);if(!b)return;const{columns:C,onRowHeightChange:E,rowKey:I,rowIndex:M,style:T}=t,{height:R}=b.getBoundingClientRect();i.value=!0,dn(()=>{if(y||R!==Number.parseInt(T.height)){const N=C[0],D=(N==null?void 0:N.placeholderSign)===lm;E==null||E({rowKey:I,height:R,rowIndex:M},N&&!D&&N.fixed)}})},h=K(()=>{const{rowData:y,rowIndex:b,rowKey:C,onRowHover:E}=t,I=t.rowEventHandlers||{},M={};return Object.entries(I).forEach(([T,R])=>{Nn(R)&&(M[T]=N=>{R({event:N,rowData:y,rowIndex:b,rowKey:C})})}),E&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:T,hovered:R})=>{const N=M[T];M[T]=D=>{E({event:D,hovered:R,rowData:y,rowIndex:b,rowKey:C}),N==null||N(D)}}),M}),g=y=>{const{onRowExpand:b,rowData:C,rowIndex:E,rowKey:I}=t;b==null||b({expanded:y,rowData:C,rowIndex:E,rowKey:I})};return jn(()=>{v(l)&&d(!0)}),{isScrolling:n,measurable:l,measured:i,rowRef:o,eventHandlers:h,onExpand:g}},h0e="ElTableV2TableRow",p0e=Ge({name:h0e,props:Du,setup(t,{expose:n,slots:i,attrs:o}){const{eventHandlers:l,isScrolling:d,measurable:h,measured:g,rowRef:y,onExpand:b}=f0e(t);return n({onExpand:b}),()=>{const{columns:C,columnsStyles:E,expandColumnKey:I,depth:M,rowData:T,rowIndex:R,style:N}=t;let D=C.map((V,B)=>{const z=on(T.children)&&T.children.length>0&&V.key===I;return i.cell({column:V,columns:C,columnIndex:B,depth:M,style:E[V.key],rowData:T,rowIndex:R,isScrolling:v(d),expandIconProps:z?{rowData:T,rowIndex:R,onExpand:b}:void 0})});if(i.row&&(D=i.row({cells:D.map(V=>on(V)&&V.length===1?V[0]:V),style:N,columns:C,depth:M,rowData:T,rowIndex:R,isScrolling:v(d)})),v(h)){const{height:V,...B}=N||{},z=v(g);return Re("div",ir({ref:y,class:t.class,style:z?N:B},o,v(l)),[D])}return Re("div",ir(o,{ref:y,class:t.class,style:N},v(l)),[D])}}}),m0e=t=>{const{sortOrder:n}=t;return Re(un,{size:14,class:t.class},{default:()=>[n===om.ASC?Re(iW,null,null):Re(J7,null,null)]})},g0e=t=>{const{expanded:n,expandable:i,onExpand:o,style:l,size:d}=t,h={onClick:i?()=>o(!n):void 0,class:t.class};return Re(un,ir(h,{size:d,style:l}),{default:()=>[Re(Ts,null,null)]})},v0e="ElTableV2Grid",_0e=t=>{const n=re(),i=re(),o=K(()=>{const{data:R,rowHeight:N,estimatedRowHeight:D}=t;if(!D)return R.length*N}),l=K(()=>{const{fixedData:R,rowHeight:N}=t;return((R==null?void 0:R.length)||0)*N}),d=K(()=>Qv(t.headerHeight)),h=K(()=>{const{height:R}=t;return Math.max(0,R-v(d)-v(l))}),g=K(()=>v(d)+v(l)>0),y=({data:R,rowIndex:N})=>R[N][t.rowKey];function b({rowCacheStart:R,rowCacheEnd:N,rowVisibleStart:D,rowVisibleEnd:V}){var B;(B=t.onRowsRendered)==null||B.call(t,{rowCacheStart:R,rowCacheEnd:N,rowVisibleStart:D,rowVisibleEnd:V})}function C(R,N){var D;(D=i.value)==null||D.resetAfterRowIndex(R,N)}function E(R,N){const D=v(n),V=v(i);!D||!V||(nr(R)?(D.scrollToLeft(R.scrollLeft),V.scrollTo(R)):(D.scrollToLeft(R),V.scrollTo({scrollLeft:R,scrollTop:N})))}function I(R){var N;(N=v(i))==null||N.scrollTo({scrollTop:R})}function M(R,N){var D;(D=v(i))==null||D.scrollToItem(R,1,N)}function T(){var R,N;(R=v(i))==null||R.$forceUpdate(),(N=v(n))==null||N.$forceUpdate()}return{bodyRef:i,forceUpdate:T,fixedRowHeight:l,gridHeight:h,hasHeader:g,headerHeight:d,headerRef:n,totalHeight:o,itemKey:y,onItemRendered:b,resetAfterRowIndex:C,scrollTo:E,scrollToTop:I,scrollToRow:M}},zw=Ge({name:v0e,props:Xv,setup(t,{slots:n,expose:i}){const{ns:o}=hn(Ow),{bodyRef:l,fixedRowHeight:d,gridHeight:h,hasHeader:g,headerRef:y,headerHeight:b,totalHeight:C,forceUpdate:E,itemKey:I,onItemRendered:M,resetAfterRowIndex:T,scrollTo:R,scrollToTop:N,scrollToRow:D}=_0e(t);i({forceUpdate:E,totalHeight:C,scrollTo:R,scrollToTop:N,scrollToRow:D,resetAfterRowIndex:T});const V=()=>t.bodyWidth;return()=>{const{cache:B,columns:z,data:H,fixedData:q,useIsScrolling:he,scrollbarAlwaysOn:ne,scrollbarEndGap:se,scrollbarStartGap:oe,style:xe,rowHeight:me,bodyWidth:ce,estimatedRowHeight:Ae,headerWidth:Se,height:ye,width:ie,getRowHeight:fe,onScroll:le}=t,Oe=Hn(Ae),Qe=Oe?ave:rve,Pe=v(b);return Re("div",{role:"table",class:[o.e("table"),t.class],style:xe},[Re(Qe,{ref:l,data:H,useIsScrolling:he,itemKey:I,columnCache:0,columnWidth:Oe?V:ce,totalColumn:1,totalRow:H.length,rowCache:B,rowHeight:Oe?fe:me,width:ie,height:v(h),class:o.e("body"),scrollbarStartGap:oe,scrollbarEndGap:se,scrollbarAlwaysOn:ne,onScroll:le,onItemRendered:M,perfMode:!1},{default:He=>{var bt;const xt=H[He.rowIndex];return(bt=n.row)==null?void 0:bt.call(n,{...He,columns:z,rowData:xt})}}),v(g)&&Re(d0e,{ref:y,class:o.e("header-wrapper"),columns:z,headerData:H,headerHeight:t.headerHeight,fixedHeaderData:q,rowWidth:Se,rowHeight:me,width:ie,height:Math.min(Pe+v(d),ye)},{dynamic:n.header,fixed:n.row})])}}});function A0e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ri(t)}const y0e=(t,{slots:n})=>{const{mainTableRef:i,...o}=t;return Re(zw,ir({ref:i},o),A0e(n)?n:{default:()=>[n]})};function b0e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ri(t)}const S0e=(t,{slots:n})=>{if(!t.columns.length)return;const{leftTableRef:i,...o}=t;return Re(zw,ir({ref:i},o),b0e(n)?n:{default:()=>[n]})};function w0e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ri(t)}const E0e=(t,{slots:n})=>{if(!t.columns.length)return;const{rightTableRef:i,...o}=t;return Re(zw,ir({ref:i},o),w0e(n)?n:{default:()=>[n]})};function C0e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ri(t)}const I0e=(t,{slots:n})=>{const{columns:i,columnsStyles:o,depthMap:l,expandColumnKey:d,expandedRowKeys:h,estimatedRowHeight:g,hasFixedColumns:y,hoveringRowKey:b,rowData:C,rowIndex:E,style:I,isScrolling:M,rowProps:T,rowClass:R,rowKey:N,rowEventHandlers:D,ns:V,onRowHovered:B,onRowExpanded:z}=t,H=Ku(R,{columns:i,rowData:C,rowIndex:E},""),q=Ku(T,{columns:i,rowData:C,rowIndex:E}),he=C[N],ne=l[he]||0,se=Boolean(d),oe=E<0,xe=[V.e("row"),H,{[V.e(`row-depth-${ne}`)]:se&&E>=0,[V.is("expanded")]:se&&h.includes(he),[V.is("hovered")]:!M&&he===b,[V.is("fixed")]:!ne&&oe,[V.is("customized")]:Boolean(n.row)}],me=y?B:void 0,ce={...q,columns:i,columnsStyles:o,class:xe,depth:ne,expandColumnKey:d,estimatedRowHeight:oe?void 0:g,isScrolling:M,rowIndex:E,rowData:C,rowKey:he,rowEventHandlers:D,style:I};return Re(p0e,ir(ce,{onRowHover:me,onRowExpand:z}),C0e(n)?n:{default:()=>[n]})},G1=({columns:t,column:n,columnIndex:i,depth:o,expandIconProps:l,isScrolling:d,rowData:h,rowIndex:g,style:y,expandedRowKeys:b,ns:C,cellProps:E,expandColumnKey:I,indentSize:M,iconSize:T,rowKey:R},{slots:N})=>{const D=Ac(y);if(n.placeholderSign===lm)return Re("div",{class:C.em("row-cell","placeholder"),style:D},null);const{cellRenderer:V,dataKey:B,dataGetter:z}=n,q=tD(V)||N.default||(ye=>Re(Gw,ye,null)),he=Nn(z)?z({columns:t,column:n,columnIndex:i,rowData:h,rowIndex:g}):ti(h,B!=null?B:""),ne=Ku(E,{cellData:he,columns:t,column:n,columnIndex:i,rowIndex:g,rowData:h}),se={class:C.e("cell-text"),columns:t,column:n,columnIndex:i,cellData:he,isScrolling:d,rowData:h,rowIndex:g},oe=q(se),xe=[C.e("row-cell"),n.align===am.CENTER&&C.is("align-center"),n.align===am.RIGHT&&C.is("align-right")],me=g>=0&&n.key===I,ce=g>=0&&b.includes(h[R]);let Ae;const Se=`margin-inline-start: ${o*M}px;`;return me&&(nr(l)?Ae=Re(g0e,ir(l,{class:[C.e("expand-icon"),C.is("expanded",ce)],size:T,expanded:ce,style:Se,expandable:!0}),null):Ae=Re("div",{style:[Se,`width: ${T}px; height: ${T}px;`].join(" ")},null)),Re("div",ir({class:xe,style:D},ne),[Ae,oe])};G1.inheritAttrs=!1;function x0e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ri(t)}const M0e=({columns:t,columnsStyles:n,headerIndex:i,style:o,headerClass:l,headerProps:d,ns:h},{slots:g})=>{const y={columns:t,headerIndex:i},b=[h.e("header-row"),Ku(l,y,""),{[h.is("customized")]:Boolean(g.header)}],C={...Ku(d,y),columnsStyles:n,class:b,columns:t,headerIndex:i,style:o};return Re(c0e,C,x0e(g)?g:{default:()=>[g]})},ET=(t,{slots:n})=>{const{column:i,ns:o,style:l,onColumnSorted:d}=t,h=Ac(l);if(i.placeholderSign===lm)return Re("div",{class:o.em("header-row-cell","placeholder"),style:h},null);const{headerCellRenderer:g,headerClass:y,sortable:b}=i,C={...t,class:o.e("header-cell-text")},I=(tD(g)||n.default||(z=>Re(Uw,z,null)))(C),{sortBy:M,sortState:T,headerCellProps:R}=t;let N,D;if(T){const z=T[i.key];N=Boolean(V1[z]),D=N?z:om.ASC}else N=i.key===M.key,D=N?M.order:om.ASC;const V=[o.e("header-cell"),Ku(y,t,""),i.align===am.CENTER&&o.is("align-center"),i.align===am.RIGHT&&o.is("align-right"),b&&o.is("sortable")],B={...Ku(R,t),onClick:i.sortable?d:void 0,class:V,style:h,["data-key"]:i.key};return Re("div",B,[I,b&&Re(m0e,{class:[o.e("sort-icon"),N&&o.is("sorting")],sortOrder:D},null)])},sD=(t,{slots:n})=>{var i;return Re("div",{class:t.class,style:t.style},[(i=n.default)==null?void 0:i.call(n)])};sD.displayName="ElTableV2Footer";const oD=(t,{slots:n})=>Re("div",{class:t.class,style:t.style},[n.default?n.default():Re(h6,null,null)]);oD.displayName="ElTableV2Empty";const aD=(t,{slots:n})=>{var i;return Re("div",{class:t.class,style:t.style},[(i=n.default)==null?void 0:i.call(n)])};aD.displayName="ElTableV2Overlay";function pp(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!ri(t)}const R0e="ElTableV2",T0e=Ge({name:R0e,props:a0e,setup(t,{slots:n,expose:i}){const o=Ct("table-v2"),{columnsStyles:l,fixedColumnsOnLeft:d,fixedColumnsOnRight:h,mainColumns:g,mainTableHeight:y,fixedTableHeight:b,leftTableWidth:C,rightTableWidth:E,data:I,depthMap:M,expandedRowKeys:T,hasFixedColumns:R,hoveringRowKey:N,mainTableRef:D,leftTableRef:V,rightTableRef:B,isDynamic:z,isResetting:H,isScrolling:q,bodyWidth:he,emptyStyle:ne,rootStyle:se,headerWidth:oe,footerHeight:xe,showEmpty:me,scrollTo:ce,scrollToLeft:Ae,scrollToTop:Se,scrollToRow:ye,getRowHeight:ie,onColumnSorted:fe,onRowHeightChange:le,onRowHovered:Oe,onRowExpanded:Qe,onRowsRendered:Pe,onScroll:He,onVerticalScroll:bt}=s0e(t);return i({scrollTo:ce,scrollToLeft:Ae,scrollToTop:Se,scrollToRow:ye}),or(Ow,{ns:o,isResetting:H,hoveringRowKey:N,isScrolling:q}),()=>{const{cache:xt,cellProps:Nt,estimatedRowHeight:st,expandColumnKey:Ye,fixedData:ot,headerHeight:Et,headerClass:an,headerProps:Be,headerCellProps:Xe,sortBy:ht,sortState:Dt,rowHeight:Ot,rowClass:dt,rowEventHandlers:Ft,rowKey:At,rowProps:Ne,scrollbarAlwaysOn:Ke,indentSize:Lt,iconSize:Wt,useIsScrolling:en,vScrollbarSize:vn,width:xn}=t,Wn=v(I),pt={cache:xt,class:o.e("main"),columns:v(g),data:Wn,fixedData:ot,estimatedRowHeight:st,bodyWidth:v(he),headerHeight:Et,headerWidth:v(oe),height:v(y),mainTableRef:D,rowKey:At,rowHeight:Ot,scrollbarAlwaysOn:Ke,scrollbarStartGap:2,scrollbarEndGap:vn,useIsScrolling:en,width:xn,getRowHeight:ie,onRowsRendered:Pe,onScroll:He},St=v(C),tn=v(b),Fn={cache:xt,class:o.e("left"),columns:v(d),data:Wn,estimatedRowHeight:st,leftTableRef:V,rowHeight:Ot,bodyWidth:St,headerWidth:St,headerHeight:Et,height:tn,rowKey:At,scrollbarAlwaysOn:Ke,scrollbarStartGap:2,scrollbarEndGap:vn,useIsScrolling:en,width:St,getRowHeight:ie,onScroll:bt},We=v(E)+vn,_t={cache:xt,class:o.e("right"),columns:v(h),data:Wn,estimatedRowHeight:st,rightTableRef:B,rowHeight:Ot,bodyWidth:We,headerWidth:We,headerHeight:Et,height:tn,rowKey:At,scrollbarAlwaysOn:Ke,scrollbarStartGap:2,scrollbarEndGap:vn,width:We,style:`--${v(o.namespace)}-table-scrollbar-size: ${vn}px`,useIsScrolling:en,getRowHeight:ie,onScroll:bt},Vt=v(l),Rn={ns:o,depthMap:v(M),columnsStyles:Vt,expandColumnKey:Ye,expandedRowKeys:v(T),estimatedRowHeight:st,hasFixedColumns:v(R),hoveringRowKey:v(N),rowProps:Ne,rowClass:dt,rowKey:At,rowEventHandlers:Ft,onRowHovered:Oe,onRowExpanded:Qe,onRowHeightChange:le},xr={cellProps:Nt,expandColumnKey:Ye,indentSize:Lt,iconSize:Wt,rowKey:At,expandedRowKeys:v(T),ns:o},ii={ns:o,headerClass:an,headerProps:Be,columnsStyles:Vt},gr={ns:o,sortBy:ht,sortState:Dt,headerCellProps:Xe,onColumnSorted:fe},Yn={row:In=>Re(I0e,ir(In,Rn),{row:n.row,cell:rr=>{let Cr;return n.cell?Re(G1,ir(rr,xr,{style:Vt[rr.column.key]}),pp(Cr=n.cell(rr))?Cr:{default:()=>[Cr]}):Re(G1,ir(rr,xr,{style:Vt[rr.column.key]}),null)}}),header:In=>Re(M0e,ir(In,ii),{header:n.header,cell:rr=>{let Cr;return n["header-cell"]?Re(ET,ir(rr,gr,{style:Vt[rr.column.key]}),pp(Cr=n["header-cell"](rr))?Cr:{default:()=>[Cr]}):Re(ET,ir(rr,gr,{style:Vt[rr.column.key]}),null)}})},Vr=[t.class,o.b(),o.e("root"),{[o.is("dynamic")]:v(z)}],Pt={class:o.e("footer"),style:v(xe)};return Re("div",{class:Vr,style:v(se)},[Re(y0e,pt,pp(Yn)?Yn:{default:()=>[Yn]}),Re(S0e,Fn,pp(Yn)?Yn:{default:()=>[Yn]}),Re(E0e,_t,pp(Yn)?Yn:{default:()=>[Yn]}),n.footer&&Re(sD,Pt,{default:n.footer}),v(me)&&Re(oD,{class:o.e("empty"),style:v(ne)},{default:n.empty}),n.overlay&&Re(aD,{class:o.e("overlay")},{default:n.overlay})])}}}),P0e=$t({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:nt(Function)}}),N0e=Ge({name:"ElAutoResizer",props:P0e,setup(t,{slots:n}){const i=Ct("auto-resizer"),{height:o,width:l,sizer:d}=i0e(t),h={width:"100%",height:"100%"};return()=>{var g;return Re("div",{ref:d,class:i.b(),style:h},[(g=n.default)==null?void 0:g.call(n,{height:o.value,width:l.value})])}}}),B0e=er(T0e),D0e=er(N0e),k0e=$t({tabs:{type:nt(Array),default:()=>ni([])}}),lD="ElTabBar",L0e=Ge({name:lD}),O0e=Ge({...L0e,props:k0e,setup(t,{expose:n}){const i=t,o=Zn(),l=hn(j_);l||ki(lD,"<el-tabs><el-tab-bar /></el-tabs>");const d=Ct("tabs"),h=re(),g=re(),y=()=>{let C=0,E=0;const I=["top","bottom"].includes(l.props.tabPosition)?"width":"height",M=I==="width"?"x":"y";return i.tabs.every(T=>{var R,N,D,V;const B=(N=(R=o.parent)==null?void 0:R.refs)==null?void 0:N[`tab-${T.uid}`];if(!B)return!1;if(!T.active)return!0;E=B[`client${Ro(I)}`];const z=M==="x"?"left":"top";C=B[`offset${Ro(z)}`]-((V=(D=B.parentElement)==null?void 0:D[`offset${Ro(z)}`])!=null?V:0);const H=B.closest(".is-scrollable");if(H){const he=window.getComputedStyle(H);C+=Number.parseFloat(he[`padding${Ro(z)}`])}const q=window.getComputedStyle(B);return I==="width"&&(i.tabs.length>1&&(E-=Number.parseFloat(q.paddingLeft)+Number.parseFloat(q.paddingRight)),C+=Number.parseFloat(q.paddingLeft)),!1}),{[I]:`${E}px`,transform:`translate${Ro(M)}(${C}px)`}},b=()=>g.value=y();return It(()=>i.tabs,async()=>{await dn(),b()},{immediate:!0}),As(h,()=>b()),n({ref:h,update:b}),(C,E)=>($(),_e("div",{ref_key:"barRef",ref:h,class:J([v(d).e("active-bar"),v(d).is(v(l).props.tabPosition)]),style:fn(g.value)},null,6))}});var F0e=Ht(O0e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const V0e=$t({panes:{type:nt(Array),default:()=>ni([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),G0e={tabClick:(t,n,i)=>i instanceof Event,tabRemove:(t,n)=>n instanceof Event},CT="ElTabNav",U0e=Ge({name:CT,props:V0e,emits:G0e,setup(t,{expose:n,emit:i}){const o=Zn(),l=hn(j_);l||ki(CT,"<el-tabs><tab-nav /></el-tabs>");const d=Ct("tabs"),h=Eee(),g=Dee(),y=re(),b=re(),C=re(),E=re(!1),I=re(0),M=re(!1),T=re(!0),R=K(()=>["top","bottom"].includes(l.props.tabPosition)?"width":"height"),N=K(()=>({transform:`translate${R.value==="width"?"X":"Y"}(-${I.value}px)`})),D=()=>{if(!y.value)return;const ne=y.value[`offset${Ro(R.value)}`],se=I.value;if(!se)return;const oe=se>ne?se-ne:0;I.value=oe},V=()=>{if(!y.value||!b.value)return;const ne=b.value[`offset${Ro(R.value)}`],se=y.value[`offset${Ro(R.value)}`],oe=I.value;if(ne-oe<=se)return;const xe=ne-oe>se*2?oe+se:ne-se;I.value=xe},B=async()=>{const ne=b.value;if(!E.value||!C.value||!y.value||!ne)return;await dn();const se=C.value.querySelector(".is-active");if(!se)return;const oe=y.value,xe=["top","bottom"].includes(l.props.tabPosition),me=se.getBoundingClientRect(),ce=oe.getBoundingClientRect(),Ae=xe?ne.offsetWidth-ce.width:ne.offsetHeight-ce.height,Se=I.value;let ye=Se;xe?(me.left<ce.left&&(ye=Se-(ce.left-me.left)),me.right>ce.right&&(ye=Se+me.right-ce.right)):(me.top<ce.top&&(ye=Se-(ce.top-me.top)),me.bottom>ce.bottom&&(ye=Se+(me.bottom-ce.bottom))),ye=Math.max(ye,0),I.value=Math.min(ye,Ae)},z=()=>{if(!b.value||!y.value)return;const ne=b.value[`offset${Ro(R.value)}`],se=y.value[`offset${Ro(R.value)}`],oe=I.value;if(se<ne){const xe=I.value;E.value=E.value||{},E.value.prev=xe,E.value.next=xe+se<ne,ne-xe<se&&(I.value=ne-se)}else E.value=!1,oe>0&&(I.value=0)},H=ne=>{const se=ne.code,{up:oe,down:xe,left:me,right:ce}=An;if(![oe,xe,me,ce].includes(se))return;const Ae=Array.from(ne.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),Se=Ae.indexOf(ne.target);let ye;se===me||se===oe?Se===0?ye=Ae.length-1:ye=Se-1:Se<Ae.length-1?ye=Se+1:ye=0,Ae[ye].focus({preventScroll:!0}),Ae[ye].click(),q()},q=()=>{T.value&&(M.value=!0)},he=()=>M.value=!1;return It(h,ne=>{ne==="hidden"?T.value=!1:ne==="visible"&&setTimeout(()=>T.value=!0,50)}),It(g,ne=>{ne?setTimeout(()=>T.value=!0,50):T.value=!1}),As(C,z),jn(()=>setTimeout(()=>B(),0)),Dl(()=>z()),n({scrollToActiveTab:B,removeFocus:he}),It(()=>t.panes,()=>o.update(),{flush:"post"}),()=>{const ne=E.value?[Re("span",{class:[d.e("nav-prev"),d.is("disabled",!E.value.prev)],onClick:D},[Re(un,null,{default:()=>[Re(Ic,null,null)]})]),Re("span",{class:[d.e("nav-next"),d.is("disabled",!E.value.next)],onClick:V},[Re(un,null,{default:()=>[Re(Ts,null,null)]})])]:null,se=t.panes.map((oe,xe)=>{var me,ce,Ae,Se;const ye=oe.uid,ie=oe.props.disabled,fe=(ce=(me=oe.props.name)!=null?me:oe.index)!=null?ce:`${xe}`,le=!ie&&(oe.isClosable||t.editable);oe.index=`${xe}`;const Oe=le?Re(un,{class:"is-icon-close",onClick:He=>i("tabRemove",oe,He)},{default:()=>[Re(ga,null,null)]}):null,Qe=((Se=(Ae=oe.slots).label)==null?void 0:Se.call(Ae))||oe.props.label,Pe=!ie&&oe.active?0:-1;return Re("div",{ref:`tab-${ye}`,class:[d.e("item"),d.is(l.props.tabPosition),d.is("active",oe.active),d.is("disabled",ie),d.is("closable",le),d.is("focus",M.value)],id:`tab-${fe}`,key:`tab-${ye}`,"aria-controls":`pane-${fe}`,role:"tab","aria-selected":oe.active,tabindex:Pe,onFocus:()=>q(),onBlur:()=>he(),onClick:He=>{he(),i("tabClick",oe,fe,He)},onKeydown:He=>{le&&(He.code===An.delete||He.code===An.backspace)&&i("tabRemove",oe,He)}},[Qe,Oe])});return Re("div",{ref:C,class:[d.e("nav-wrap"),d.is("scrollable",!!E.value),d.is(l.props.tabPosition)]},[ne,Re("div",{class:d.e("nav-scroll"),ref:y},[Re("div",{class:[d.e("nav"),d.is(l.props.tabPosition),d.is("stretch",t.stretch&&["top","bottom"].includes(l.props.tabPosition))],ref:b,style:N.value,role:"tablist",onKeydown:H},[t.type?null:Re(F0e,{tabs:[...t.panes]},null),se])])])}}}),z0e=$t({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:nt(Function),default:()=>!0},stretch:Boolean}),Rb=t=>On(t)||Hn(t),H0e={[Jn]:t=>Rb(t),tabClick:(t,n)=>n instanceof Event,tabChange:t=>Rb(t),edit:(t,n)=>["remove","add"].includes(n),tabRemove:t=>Rb(t),tabAdd:()=>!0};var Q0e=Ge({name:"ElTabs",props:z0e,emits:H0e,setup(t,{emit:n,slots:i,expose:o}){var l,d;const h=Ct("tabs"),{children:g,addChild:y,removeChild:b}=E3(Zn(),"ElTabPane"),C=re(),E=re((d=(l=t.modelValue)!=null?l:t.activeName)!=null?d:"0"),I=D=>{E.value=D,n(Jn,D),n("tabChange",D)},M=async D=>{var V,B,z;if(!(E.value===D||ts(D)))try{await((V=t.beforeLeave)==null?void 0:V.call(t,D,E.value))!==!1&&(I(D),(z=(B=C.value)==null?void 0:B.removeFocus)==null||z.call(B))}catch{}},T=(D,V,B)=>{D.props.disabled||(M(V),n("tabClick",D,B))},R=(D,V)=>{D.props.disabled||ts(D.props.name)||(V.stopPropagation(),n("edit",D.props.name,"remove"),n("tabRemove",D.props.name))},N=()=>{n("edit",void 0,"add"),n("tabAdd")};return Mc({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},K(()=>!!t.activeName)),It(()=>t.activeName,D=>M(D)),It(()=>t.modelValue,D=>M(D)),It(E,async()=>{var D;await dn(),(D=C.value)==null||D.scrollToActiveTab()}),or(j_,{props:t,currentName:E,registerPane:y,unregisterPane:b}),o({currentName:E}),()=>{const D=t.editable||t.addable?Re("span",{class:h.e("new-tab"),tabindex:"0",onClick:N,onKeydown:z=>{z.code===An.enter&&N()}},[Re(un,{class:h.is("icon-plus")},{default:()=>[Re(sN,null,null)]})]):null,V=Re("div",{class:[h.e("header"),h.is(t.tabPosition)]},[D,Re(U0e,{ref:C,currentName:E.value,editable:t.editable,type:t.type,panes:g.value,stretch:t.stretch,onTabClick:T,onTabRemove:R},null)]),B=Re("div",{class:h.e("content")},[yt(i,"default")]);return Re("div",{class:[h.b(),h.m(t.tabPosition),{[h.m("card")]:t.type==="card",[h.m("border-card")]:t.type==="border-card"}]},[...t.tabPosition!=="bottom"?[V,B]:[B,V]])}}});const X0e=$t({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),$0e=["id","aria-hidden","aria-labelledby"],cD="ElTabPane",W0e=Ge({name:cD}),K0e=Ge({...W0e,props:X0e,setup(t){const n=t,i=Zn(),o=ss(),l=hn(j_);l||ki(cD,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const d=Ct("tab-pane"),h=re(),g=K(()=>n.closable||l.props.closable),y=LM(()=>{var M;return l.currentName.value===((M=n.name)!=null?M:h.value)}),b=re(y.value),C=K(()=>{var M;return(M=n.name)!=null?M:h.value}),E=LM(()=>!n.lazy||b.value||y.value);It(y,M=>{M&&(b.value=!0)});const I=Mr({uid:i.uid,slots:o,props:n,paneName:C,active:y,index:h,isClosable:g});return jn(()=>{l.registerPane(I)}),ju(()=>{l.unregisterPane(I.uid)}),(M,T)=>v(E)?zn(($(),_e("div",{key:0,id:`pane-${v(C)}`,class:J(v(d).b()),role:"tabpanel","aria-hidden":!v(y),"aria-labelledby":`tab-${v(C)}`},[yt(M.$slots,"default")],10,$0e)),[[yr,v(y)]]):Ze("v-if",!0)}});var uD=Ht(K0e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const j0e=er(Q0e,{TabPane:uD}),q0e=pi(uD),Y0e=$t({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:Qs,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:nt([String,Object]),default:()=>iN},clearIcon:{type:nt([String,Object]),default:()=>Lc}}),Cl=t=>{const n=(t||"").split(":");if(n.length>=2){let i=Number.parseInt(n[0],10);const o=Number.parseInt(n[1],10),l=t.toUpperCase();return l.includes("AM")&&i===12?i=0:l.includes("PM")&&i!==12&&(i+=12),{hours:i,minutes:o}}return null},Tb=(t,n)=>{const i=Cl(t);if(!i)return-1;const o=Cl(n);if(!o)return-1;const l=i.minutes+i.hours*60,d=o.minutes+o.hours*60;return l===d?0:l>d?1:-1},IT=t=>`${t}`.padStart(2,"0"),sf=t=>`${IT(t.hours)}:${IT(t.minutes)}`,J0e=(t,n)=>{const i=Cl(t);if(!i)return"";const o=Cl(n);if(!o)return"";const l={hours:i.hours,minutes:i.minutes};return l.minutes+=o.minutes,l.hours+=o.hours,l.hours+=Math.floor(l.minutes/60),l.minutes=l.minutes%60,sf(l)},Z0e=Ge({name:"ElTimeSelect"}),eye=Ge({...Z0e,props:Y0e,emits:["change","blur","focus","update:modelValue"],setup(t,{expose:n}){const i=t;Kn.extend(vw);const{Option:o}=Wu,l=Ct("input"),d=re(),h=wa(),g=K(()=>i.modelValue),y=K(()=>{const N=Cl(i.start);return N?sf(N):null}),b=K(()=>{const N=Cl(i.end);return N?sf(N):null}),C=K(()=>{const N=Cl(i.step);return N?sf(N):null}),E=K(()=>{const N=Cl(i.minTime||"");return N?sf(N):null}),I=K(()=>{const N=Cl(i.maxTime||"");return N?sf(N):null}),M=K(()=>{const N=[];if(i.start&&i.end&&i.step){let D=y.value,V;for(;D&&b.value&&Tb(D,b.value)<=0;)V=Kn(D,"HH:mm").format(i.format),N.push({value:V,disabled:Tb(D,E.value||"-1:-1")<=0||Tb(D,I.value||"100:100")>=0}),D=J0e(D,C.value)}return N});return n({blur:()=>{var N,D;(D=(N=d.value)==null?void 0:N.blur)==null||D.call(N)},focus:()=>{var N,D;(D=(N=d.value)==null?void 0:N.focus)==null||D.call(N)}}),(N,D)=>($(),rt(v(Wu),{ref_key:"select",ref:d,"model-value":v(g),disabled:v(h),clearable:N.clearable,"clear-icon":N.clearIcon,size:N.size,effect:N.effect,placeholder:N.placeholder,"default-first-option":"",filterable:N.editable,"onUpdate:modelValue":D[0]||(D[0]=V=>N.$emit("update:modelValue",V)),onChange:D[1]||(D[1]=V=>N.$emit("change",V)),onBlur:D[2]||(D[2]=V=>N.$emit("blur",V)),onFocus:D[3]||(D[3]=V=>N.$emit("focus",V))},{prefix:Ue(()=>[N.prefixIcon?($(),rt(v(un),{key:0,class:J(v(l).e("prefix-icon"))},{default:Ue(()=>[($(),rt(sr(N.prefixIcon)))]),_:1},8,["class"])):Ze("v-if",!0)]),default:Ue(()=>[($(!0),_e(gn,null,ur(v(M),V=>($(),rt(v(o),{key:V.value,label:V.value,value:V.value,disabled:V.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var $v=Ht(eye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);$v.install=t=>{t.component($v.name,$v)};const tye=$v,nye=tye,rye=Ge({name:"ElTimeline",setup(t,{slots:n}){const i=Ct("timeline");return or("timeline",n),()=>yn("ul",{class:[i.b()]},[yt(n,"default")])}}),iye=$t({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:jr},hollow:{type:Boolean,default:!1}}),sye=Ge({name:"ElTimelineItem"}),oye=Ge({...sye,props:iye,setup(t){const n=Ct("timeline-item");return(i,o)=>($(),_e("li",{class:J([v(n).b(),{[v(n).e("center")]:i.center}])},[Ie("div",{class:J(v(n).e("tail"))},null,2),i.$slots.dot?Ze("v-if",!0):($(),_e("div",{key:0,class:J([v(n).e("node"),v(n).em("node",i.size||""),v(n).em("node",i.type||""),v(n).is("hollow",i.hollow)]),style:fn({backgroundColor:i.color})},[i.icon?($(),rt(v(un),{key:0,class:J(v(n).e("icon"))},{default:Ue(()=>[($(),rt(sr(i.icon)))]),_:1},8,["class"])):Ze("v-if",!0)],6)),i.$slots.dot?($(),_e("div",{key:1,class:J(v(n).e("dot"))},[yt(i.$slots,"dot")],2)):Ze("v-if",!0),Ie("div",{class:J(v(n).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?($(),_e("div",{key:0,class:J([v(n).e("timestamp"),v(n).is("top")])},Xt(i.timestamp),3)):Ze("v-if",!0),Ie("div",{class:J(v(n).e("content"))},[yt(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?($(),_e("div",{key:1,class:J([v(n).e("timestamp"),v(n).is("bottom")])},Xt(i.timestamp),3)):Ze("v-if",!0)],2)],2))}});var dD=Ht(oye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const aye=er(rye,{TimelineItem:dD}),lye=pi(dD),fD=$t({nowrap:Boolean});var hD=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(hD||{});const cye=Object.values(hD),Hw=$t({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:nt(Object),default:null}}),uye=$t({side:{type:nt(String),values:cye,required:!0}}),dye=["absolute","fixed"],fye=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],Qw=$t({ariaLabel:String,arrowPadding:{type:nt(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:nt(String),values:fye,default:"bottom"},reference:{type:nt(Object),default:null},offset:{type:Number,default:8},strategy:{type:nt(String),values:dye,default:"absolute"},showArrow:{type:Boolean,default:!1}}),Xw=$t({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:nt(Function)},"onUpdate:open":{type:nt(Function)}}),Zd={type:nt(Function)},$w=$t({onBlur:Zd,onClick:Zd,onFocus:Zd,onMouseDown:Zd,onMouseEnter:Zd,onMouseLeave:Zd}),hye=$t({...Xw,...Hw,...$w,...Qw,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:nt(Object),default:null},teleported:Boolean,to:{type:nt(String),default:"body"}}),pye=Ge({name:"ElTooltipV2Root"}),mye=Ge({...pye,props:Xw,setup(t,{expose:n}){const i=t,o=re(i.defaultOpen),l=re(null),d=K({get:()=>Fee(i.open)?o.value:i.open,set:N=>{var D;o.value=N,(D=i["onUpdate:open"])==null||D.call(i,N)}}),h=K(()=>Hn(i.delayDuration)&&i.delayDuration>0),{start:g,stop:y}=Xu(()=>{d.value=!0},K(()=>i.delayDuration),{immediate:!1}),b=Ct("tooltip-v2"),C=_a(),E=()=>{y(),d.value=!0},I=()=>{v(h)?g():E()},M=E,T=()=>{y(),d.value=!1};return It(d,N=>{var D;N&&(document.dispatchEvent(new CustomEvent(db)),M()),(D=i.onOpenChange)==null||D.call(i,N)}),jn(()=>{document.addEventListener(db,T)}),hi(()=>{y(),document.removeEventListener(db,T)}),or(Y_,{contentId:C,triggerRef:l,ns:b,onClose:T,onDelayOpen:I,onOpen:M}),n({onOpen:M,onClose:T}),(N,D)=>yt(N.$slots,"default",{open:v(d)})}});var gye=Ht(mye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/root.vue"]]);const vye=Ge({name:"ElTooltipV2Arrow"}),_ye=Ge({...vye,props:{...Hw,...uye},setup(t){const n=t,{ns:i}=hn(Y_),{arrowRef:o}=hn(c3),l=K(()=>{const{style:d,width:h,height:g}=n,y=i.namespace.value;return{[`--${y}-tooltip-v2-arrow-width`]:`${h}px`,[`--${y}-tooltip-v2-arrow-height`]:`${g}px`,[`--${y}-tooltip-v2-arrow-border-width`]:`${h/2}px`,[`--${y}-tooltip-v2-arrow-cover-width`]:h/2-1,...d||{}}});return(d,h)=>($(),_e("span",{ref_key:"arrowRef",ref:o,style:fn(v(l)),class:J(v(i).e("arrow"))},null,6))}});var xT=Ht(_ye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/arrow.vue"]]);const Aye=$t({style:{type:nt([String,Object,Array]),default:()=>({})}}),yye=Ge({name:"ElVisuallyHidden"}),bye=Ge({...yye,props:Aye,setup(t){const n=t,i=K(()=>[n.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(o,l)=>($(),_e("span",ir(o.$attrs,{style:v(i)}),[yt(o.$slots,"default")],16))}});var Sye=Ht(bye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/visual-hidden/src/visual-hidden.vue"]]);const wye=["data-side"],Eye=Ge({name:"ElTooltipV2Content"}),Cye=Ge({...Eye,props:{...Qw,...fD},setup(t){const n=t,{triggerRef:i,contentId:o}=hn(Y_),l=re(n.placement),d=re(n.strategy),h=re(null),{referenceRef:g,contentRef:y,middlewareData:b,x:C,y:E,update:I}=Kte({placement:l,strategy:d,middleware:K(()=>{const B=[Bte(n.offset)];return n.showArrow&&B.push(jte({arrowRef:h})),B})}),M=Fl().nextZIndex(),T=Ct("tooltip-v2"),R=K(()=>l.value.split("-")[0]),N=K(()=>({position:v(d),top:`${v(E)||0}px`,left:`${v(C)||0}px`,zIndex:M})),D=K(()=>{if(!n.showArrow)return{};const{arrow:B}=v(b);return{[`--${T.namespace.value}-tooltip-v2-arrow-x`]:`${B==null?void 0:B.x}px`||"",[`--${T.namespace.value}-tooltip-v2-arrow-y`]:`${B==null?void 0:B.y}px`||""}}),V=K(()=>[T.e("content"),T.is("dark",n.effect==="dark"),T.is(v(d)),n.contentClass]);return It(h,()=>I()),It(()=>n.placement,B=>l.value=B),jn(()=>{It(()=>n.reference||i.value,B=>{g.value=B||void 0},{immediate:!0})}),or(c3,{arrowRef:h}),(B,z)=>($(),_e("div",{ref_key:"contentRef",ref:y,style:fn(v(N)),"data-tooltip-v2-root":""},[B.nowrap?Ze("v-if",!0):($(),_e("div",{key:0,"data-side":v(R),class:J(v(V))},[yt(B.$slots,"default",{contentStyle:v(N),contentClass:v(V)}),Re(v(Sye),{id:v(o),role:"tooltip"},{default:Ue(()=>[B.ariaLabel?($(),_e(gn,{key:0},[mr(Xt(B.ariaLabel),1)],64)):yt(B.$slots,"default",{key:1})]),_:3},8,["id"]),yt(B.$slots,"arrow",{style:fn(v(D)),side:v(R)})],10,wye))],4))}});var MT=Ht(Cye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/content.vue"]]);const Iye=$t({setRef:{type:nt(Function),required:!0},onlyChild:Boolean});var xye=Ge({props:Iye,setup(t,{slots:n}){const i=re(),o=W_(i,l=>{l?t.setRef(l.nextElementSibling):t.setRef(null)});return()=>{var l;const[d]=((l=n.default)==null?void 0:l.call(n))||[],h=t.onlyChild?Jee(d.children):d.children;return Re(gn,{ref:o},[h])}}});const Mye=Ge({name:"ElTooltipV2Trigger"}),Rye=Ge({...Mye,props:{...fD,...$w},setup(t){const n=t,{onClose:i,onOpen:o,onDelayOpen:l,triggerRef:d,contentId:h}=hn(Y_);let g=!1;const y=V=>{d.value=V},b=()=>{g=!1},C=di(n.onMouseEnter,l),E=di(n.onMouseLeave,i),I=di(n.onMouseDown,()=>{i(),g=!0,document.addEventListener("mouseup",b,{once:!0})}),M=di(n.onFocus,()=>{g||o()}),T=di(n.onBlur,i),R=di(n.onClick,V=>{V.detail===0&&i()}),N={blur:T,click:R,focus:M,mousedown:I,mouseenter:C,mouseleave:E},D=(V,B,z)=>{V&&Object.entries(B).forEach(([H,q])=>{V[z](H,q)})};return It(d,(V,B)=>{D(V,N,"addEventListener"),D(B,N,"removeEventListener"),V&&V.setAttribute("aria-describedby",h.value)}),hi(()=>{D(d.value,N,"removeEventListener"),document.removeEventListener("mouseup",b)}),(V,B)=>V.nowrap?($(),rt(v(xye),{key:0,"set-ref":y,"only-child":""},{default:Ue(()=>[yt(V.$slots,"default")]),_:3})):($(),_e("button",ir({key:1,ref_key:"triggerRef",ref:d},V.$attrs),[yt(V.$slots,"default")],16))}});var Tye=Ht(Rye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/trigger.vue"]]);const Pye=Ge({name:"ElTooltipV2"}),Nye=Ge({...Pye,props:hye,setup(t){const i=Di(t),o=Mr(Il(i,Object.keys(Hw))),l=Mr(Il(i,Object.keys(Qw))),d=Mr(Il(i,Object.keys(Xw))),h=Mr(Il(i,Object.keys($w)));return(g,y)=>($(),rt(gye,ha(D_(d)),{default:Ue(({open:b})=>[Re(Tye,ir(h,{nowrap:""}),{default:Ue(()=>[yt(g.$slots,"trigger")]),_:3},16),($(),rt(hm,{to:g.to,disabled:!g.teleported},[g.fullTransition?($(),rt(Si,ha(ir({key:0},g.transitionProps)),{default:Ue(()=>[g.alwaysOn||b?($(),rt(MT,ha(ir({key:0},l)),{arrow:Ue(({style:C,side:E})=>[g.showArrow?($(),rt(xT,ir({key:0},o,{style:C,side:E}),null,16,["style","side"])):Ze("v-if",!0)]),default:Ue(()=>[yt(g.$slots,"default")]),_:3},16)):Ze("v-if",!0)]),_:2},1040)):($(),_e(gn,{key:1},[g.alwaysOn||b?($(),rt(MT,ha(ir({key:0},l)),{arrow:Ue(({style:C,side:E})=>[g.showArrow?($(),rt(xT,ir({key:0},o,{style:C,side:E}),null,16,["style","side"])):Ze("v-if",!0)]),default:Ue(()=>[yt(g.$slots,"default")]),_:3},16)):Ze("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var Bye=Ht(Nye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/tooltip.vue"]]);const Dye=er(Bye),pD="left-check-change",mD="right-check-change",of=$t({data:{type:nt(Array),default:()=>[]},titles:{type:nt(Array),default:()=>[]},buttonTexts:{type:nt(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:nt(Function)},leftDefaultChecked:{type:nt(Array),default:()=>[]},rightDefaultChecked:{type:nt(Array),default:()=>[]},renderContent:{type:nt(Function)},modelValue:{type:nt(Array),default:()=>[]},format:{type:nt(Object),default:()=>({})},filterable:Boolean,props:{type:nt(Object),default:()=>ni({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),U1=(t,n)=>[t,n].every(on)||on(t)&&rs(n),kye={[Zr]:(t,n,i)=>[t,i].every(on)&&["left","right"].includes(n),[Jn]:t=>on(t),[pD]:U1,[mD]:U1},z1="checked-change",Lye=$t({data:of.data,optionRender:{type:nt(Function)},placeholder:String,title:String,filterable:Boolean,format:of.format,filterMethod:of.filterMethod,defaultChecked:of.leftDefaultChecked,props:of.props}),Oye={[z1]:U1},Cm=t=>{const n={label:"label",key:"key",disabled:"disabled"};return K(()=>({...n,...t.props}))},Fye=(t,n,i)=>{const o=Cm(t),l=K(()=>t.data.filter(C=>Nn(t.filterMethod)?t.filterMethod(n.query,C):String(C[o.value.label]||C[o.value.key]).toLowerCase().includes(n.query.toLowerCase()))),d=K(()=>l.value.filter(C=>!C[o.value.disabled])),h=K(()=>{const C=n.checked.length,E=t.data.length,{noChecked:I,hasChecked:M}=t.format;return I&&M?C>0?M.replace(/\${checked}/g,C.toString()).replace(/\${total}/g,E.toString()):I.replace(/\${total}/g,E.toString()):`${C}/${E}`}),g=K(()=>{const C=n.checked.length;return C>0&&C<d.value.length}),y=()=>{const C=d.value.map(E=>E[o.value.key]);n.allChecked=C.length>0&&C.every(E=>n.checked.includes(E))},b=C=>{n.checked=C?d.value.map(E=>E[o.value.key]):[]};return It(()=>n.checked,(C,E)=>{if(y(),n.checkChangeByUser){const I=C.concat(E).filter(M=>!C.includes(M)||!E.includes(M));i(z1,C,I)}else i(z1,C),n.checkChangeByUser=!0}),It(d,()=>{y()}),It(()=>t.data,()=>{const C=[],E=l.value.map(I=>I[o.value.key]);n.checked.forEach(I=>{E.includes(I)&&C.push(I)}),n.checkChangeByUser=!1,n.checked=C}),It(()=>t.defaultChecked,(C,E)=>{if(E&&C.length===E.length&&C.every(T=>E.includes(T)))return;const I=[],M=d.value.map(T=>T[o.value.key]);C.forEach(T=>{M.includes(T)&&I.push(T)}),n.checkChangeByUser=!1,n.checked=I},{immediate:!0}),{filteredData:l,checkableData:d,checkedSummary:h,isIndeterminate:g,updateAllChecked:y,handleAllCheckedChange:b}},Vye=(t,n)=>({onSourceCheckedChange:(l,d)=>{t.leftChecked=l,d&&n(pD,l,d)},onTargetCheckedChange:(l,d)=>{t.rightChecked=l,d&&n(mD,l,d)}}),Gye=t=>{const n=Cm(t),i=K(()=>t.data.reduce((d,h)=>(d[h[n.value.key]]=h)&&d,{})),o=K(()=>t.data.filter(d=>!t.modelValue.includes(d[n.value.key]))),l=K(()=>t.targetOrder==="original"?t.data.filter(d=>t.modelValue.includes(d[n.value.key])):t.modelValue.reduce((d,h)=>{const g=i.value[h];return g&&d.push(g),d},[]));return{sourceData:o,targetData:l}},Uye=(t,n,i)=>{const o=Cm(t),l=(g,y,b)=>{i(Jn,g),i(Zr,g,y,b)};return{addToLeft:()=>{const g=t.modelValue.slice();n.rightChecked.forEach(y=>{const b=g.indexOf(y);b>-1&&g.splice(b,1)}),l(g,"left",n.rightChecked)},addToRight:()=>{let g=t.modelValue.slice();const y=t.data.filter(b=>{const C=b[o.value.key];return n.leftChecked.includes(C)&&!t.modelValue.includes(C)}).map(b=>b[o.value.key]);g=t.targetOrder==="unshift"?y.concat(g):g.concat(y),t.targetOrder==="original"&&(g=t.data.filter(b=>g.includes(b[o.value.key])).map(b=>b[o.value.key])),l(g,"right",n.leftChecked)}}},zye=Ge({name:"ElTransferPanel"}),Hye=Ge({...zye,props:Lye,emits:Oye,setup(t,{expose:n,emit:i}){const o=t,l=ss(),d=({option:z})=>z,{t:h}=Sr(),g=Ct("transfer"),y=Mr({checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}),b=Cm(o),{filteredData:C,checkedSummary:E,isIndeterminate:I,handleAllCheckedChange:M}=Fye(o,y,i),T=K(()=>!Mo(y.query)&&Mo(C.value)),R=K(()=>!Mo(l.default()[0].children)),{checked:N,allChecked:D,query:V,inputHover:B}=Di(y);return n({query:V}),(z,H)=>($(),_e("div",{class:J(v(g).b("panel"))},[Ie("p",{class:J(v(g).be("panel","header"))},[Re(v(Fo),{modelValue:v(D),"onUpdate:modelValue":H[0]||(H[0]=q=>Wr(D)?D.value=q:null),indeterminate:v(I),"validate-event":!1,onChange:v(M)},{default:Ue(()=>[mr(Xt(z.title)+" ",1),Ie("span",null,Xt(v(E)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),Ie("div",{class:J([v(g).be("panel","body"),v(g).is("with-footer",v(R))])},[z.filterable?($(),rt(v(vs),{key:0,modelValue:v(V),"onUpdate:modelValue":H[1]||(H[1]=q=>Wr(V)?V.value=q:null),class:J(v(g).be("panel","filter")),size:"default",placeholder:z.placeholder,"prefix-icon":v($7),clearable:"","validate-event":!1,onMouseenter:H[2]||(H[2]=q=>B.value=!0),onMouseleave:H[3]||(H[3]=q=>B.value=!1)},null,8,["modelValue","class","placeholder","prefix-icon"])):Ze("v-if",!0),zn(Re(v(xB),{modelValue:v(N),"onUpdate:modelValue":H[4]||(H[4]=q=>Wr(N)?N.value=q:null),"validate-event":!1,class:J([v(g).is("filterable",z.filterable),v(g).be("panel","list")])},{default:Ue(()=>[($(!0),_e(gn,null,ur(v(C),q=>($(),rt(v(Fo),{key:q[v(b).key],class:J(v(g).be("panel","item")),label:q[v(b).key],disabled:q[v(b).disabled],"validate-event":!1},{default:Ue(()=>{var he;return[Re(d,{option:(he=z.optionRender)==null?void 0:he.call(z,q)},null,8,["option"])]}),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[yr,!v(T)&&!v(Mo)(z.data)]]),zn(Ie("p",{class:J(v(g).be("panel","empty"))},Xt(v(T)?v(h)("el.transfer.noMatch"):v(h)("el.transfer.noData")),3),[[yr,v(T)||v(Mo)(z.data)]])],2),v(R)?($(),_e("p",{key:0,class:J(v(g).be("panel","footer"))},[yt(z.$slots,"default")],2)):Ze("v-if",!0)],2))}});var RT=Ht(Hye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const Qye={key:0},Xye={key:0},$ye=Ge({name:"ElTransfer"}),Wye=Ge({...$ye,props:of,emits:kye,setup(t,{expose:n,emit:i}){const o=t,l=ss(),{t:d}=Sr(),h=Ct("transfer"),{formItem:g}=Bs(),y=Mr({leftChecked:[],rightChecked:[]}),b=Cm(o),{sourceData:C,targetData:E}=Gye(o),{onSourceCheckedChange:I,onTargetCheckedChange:M}=Vye(y,i),{addToLeft:T,addToRight:R}=Uye(o,y,i),N=re(),D=re(),V=ne=>{switch(ne){case"left":N.value.query="";break;case"right":D.value.query="";break}},B=K(()=>o.buttonTexts.length===2),z=K(()=>o.titles[0]||d("el.transfer.titles.0")),H=K(()=>o.titles[1]||d("el.transfer.titles.1")),q=K(()=>o.filterPlaceholder||d("el.transfer.filterPlaceholder"));It(()=>o.modelValue,()=>{var ne;o.validateEvent&&((ne=g==null?void 0:g.validate)==null||ne.call(g,"change").catch(se=>void 0))});const he=K(()=>ne=>o.renderContent?o.renderContent(yn,ne):l.default?l.default({option:ne}):yn("span",ne[b.value.label]||ne[b.value.key]));return n({clearQuery:V,leftPanel:N,rightPanel:D}),(ne,se)=>($(),_e("div",{class:J(v(h).b())},[Re(RT,{ref_key:"leftPanel",ref:N,data:v(C),"option-render":v(he),placeholder:v(q),title:v(z),filterable:ne.filterable,format:ne.format,"filter-method":ne.filterMethod,"default-checked":ne.leftDefaultChecked,props:o.props,onCheckedChange:v(I)},{default:Ue(()=>[yt(ne.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Ie("div",{class:J(v(h).e("buttons"))},[Re(v(fs),{type:"primary",class:J([v(h).e("button"),v(h).is("with-texts",v(B))]),disabled:v(Mo)(y.rightChecked),onClick:v(T)},{default:Ue(()=>[Re(v(un),null,{default:Ue(()=>[Re(v(Ic))]),_:1}),v(ts)(ne.buttonTexts[0])?Ze("v-if",!0):($(),_e("span",Qye,Xt(ne.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),Re(v(fs),{type:"primary",class:J([v(h).e("button"),v(h).is("with-texts",v(B))]),disabled:v(Mo)(y.leftChecked),onClick:v(R)},{default:Ue(()=>[v(ts)(ne.buttonTexts[1])?Ze("v-if",!0):($(),_e("span",Xye,Xt(ne.buttonTexts[1]),1)),Re(v(un),null,{default:Ue(()=>[Re(v(Ts))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),Re(RT,{ref_key:"rightPanel",ref:D,data:v(E),"option-render":v(he),placeholder:v(q),filterable:ne.filterable,format:ne.format,"filter-method":ne.filterMethod,title:v(H),"default-checked":ne.rightDefaultChecked,props:o.props,onCheckedChange:v(M)},{default:Ue(()=>[yt(ne.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var Kye=Ht(Wye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]]);const jye=er(Kye),yf="$treeNodeId",TT=function(t,n){!n||n[yf]||Object.defineProperty(n,yf,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},Ww=function(t,n){return t?n[t]:n[yf]},H1=(t,n,i)=>{const o=t.value.currentNode;i();const l=t.value.currentNode;o!==l&&n("current-change",l?l.data:null,l)},Q1=t=>{let n=!0,i=!0,o=!0;for(let l=0,d=t.length;l<d;l++){const h=t[l];(h.checked!==!0||h.indeterminate)&&(n=!1,h.disabled||(o=!1)),(h.checked!==!1||h.indeterminate)&&(i=!1)}return{all:n,none:i,allWithoutDisable:o,half:!n&&!i}},Wv=function(t){if(t.childNodes.length===0||t.loading)return;const{all:n,none:i,half:o}=Q1(t.childNodes);n?(t.checked=!0,t.indeterminate=!1):o?(t.checked=!1,t.indeterminate=!0):i&&(t.checked=!1,t.indeterminate=!1);const l=t.parent;!l||l.level===0||t.store.checkStrictly||Wv(l)},Av=function(t,n){const i=t.store.props,o=t.data||{},l=i[n];if(typeof l=="function")return l(o,t);if(typeof l=="string")return o[l];if(typeof l>"u"){const d=o[n];return d===void 0?"":d}};let qye=0;class Uu{constructor(n){this.id=qye++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in n)cr(n,i)&&(this[i]=n[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const i=n.props;if(i&&typeof i.isLeaf<"u"){const d=Av(this,"isLeaf");typeof d=="boolean"&&(this.isLeafByUser=d)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&this.expand(),Array.isArray(this.data)||TT(this,this.data),!this.data)return;const o=n.defaultExpandedKeys,l=n.key;l&&o&&o.includes(this.key)&&this.expand(null,n.autoExpandParent),l&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(n){Array.isArray(n)||TT(this,n),this.data=n,this.childNodes=[];let i;this.level===0&&Array.isArray(this.data)?i=this.data:i=Av(this,"children")||[];for(let o=0,l=i.length;o<l;o++)this.insertChild({data:i[o]})}get label(){return Av(this,"label")}get key(){const n=this.store.key;return this.data?this.data[n]:null}get disabled(){return Av(this,"disabled")}get nextSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return n.childNodes[i+1]}return null}get previousSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return i>0?n.childNodes[i-1]:null}return null}contains(n,i=!0){return(this.childNodes||[]).some(o=>o===n||i&&o.contains(n))}remove(){const n=this.parent;n&&n.removeChild(this)}insertChild(n,i,o){if(!n)throw new Error("InsertChild error: child is required.");if(!(n instanceof Uu)){if(!o){const l=this.getChildren(!0);l.includes(n.data)||(typeof i>"u"||i<0?l.push(n.data):l.splice(i,0,n.data))}Object.assign(n,{parent:this,store:this.store}),n=Mr(new Uu(n)),n instanceof Uu&&n.initialize()}n.level=this.level+1,typeof i>"u"||i<0?this.childNodes.push(n):this.childNodes.splice(i,0,n),this.updateLeafState()}insertBefore(n,i){let o;i&&(o=this.childNodes.indexOf(i)),this.insertChild(n,o)}insertAfter(n,i){let o;i&&(o=this.childNodes.indexOf(i),o!==-1&&(o+=1)),this.insertChild(n,o)}removeChild(n){const i=this.getChildren()||[],o=i.indexOf(n.data);o>-1&&i.splice(o,1);const l=this.childNodes.indexOf(n);l>-1&&(this.store&&this.store.deregisterNode(n),n.parent=null,this.childNodes.splice(l,1)),this.updateLeafState()}removeChildByData(n){let i=null;for(let o=0;o<this.childNodes.length;o++)if(this.childNodes[o].data===n){i=this.childNodes[o];break}i&&this.removeChild(i)}expand(n,i){const o=()=>{if(i){let l=this.parent;for(;l.level>0;)l.expanded=!0,l=l.parent}this.expanded=!0,n&&n(),this.childNodes.forEach(l=>{l.canFocus=!0})};this.shouldLoadData()?this.loadData(l=>{Array.isArray(l)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Wv(this),o())}):o()}doCreateChildren(n,i={}){n.forEach(o=>{this.insertChild(Object.assign({data:o},i),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(n=>{n.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const n=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!n||n.length===0;return}this.isLeaf=!1}setChecked(n,i,o,l){if(this.indeterminate=n==="half",this.checked=n===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:h,allWithoutDisable:g}=Q1(this.childNodes);!this.isLeaf&&!h&&g&&(this.checked=!1,n=!1);const y=()=>{if(i){const b=this.childNodes;for(let I=0,M=b.length;I<M;I++){const T=b[I];l=l||n!==!1;const R=T.disabled?T.checked:l;T.setChecked(R,i,!0,l)}const{half:C,all:E}=Q1(b);E||(this.checked=E,this.indeterminate=C)}};if(this.shouldLoadData()){this.loadData(()=>{y(),Wv(this)},{checked:n!==!1});return}else y()}const d=this.parent;!d||d.level===0||o||Wv(d)}getChildren(n=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const o=this.store.props;let l="children";return o&&(l=o.children||"children"),i[l]===void 0&&(i[l]=null),n&&!i[l]&&(i[l]=[]),i[l]}updateChildren(){const n=this.getChildren()||[],i=this.childNodes.map(d=>d.data),o={},l=[];n.forEach((d,h)=>{const g=d[yf];!!g&&i.findIndex(b=>b[yf]===g)>=0?o[g]={index:h,data:d}:l.push({index:h,data:d})}),this.store.lazy||i.forEach(d=>{o[d[yf]]||this.removeChildByData(d)}),l.forEach(({index:d,data:h})=>{this.insertChild({data:h},d)}),this.updateLeafState()}loadData(n,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const o=l=>{this.childNodes=[],this.doCreateChildren(l,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),n&&n.call(this,l)};this.store.load(this,o)}else n&&n.call(this)}}class Yye{constructor(n){this.currentNode=null,this.currentNodeKey=null;for(const i in n)cr(n,i)&&(this[i]=n[i]);this.nodesMap={}}initialize(){if(this.root=new Uu({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const n=this.load;n(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(n){const i=this.filterNodeMethod,o=this.lazy,l=function(d){const h=d.root?d.root.childNodes:d.childNodes;if(h.forEach(g=>{g.visible=i.call(g,n,g.data,g),l(g)}),!d.visible&&h.length){let g=!0;g=!h.some(y=>y.visible),d.root?d.root.visible=g===!1:d.visible=g===!1}!n||d.visible&&!d.isLeaf&&!o&&d.expand()};l(this)}setData(n){n!==this.root.data?(this.root.setData(n),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(n){if(n instanceof Uu)return n;const i=nr(n)?Ww(this.key,n):n;return this.nodesMap[i]||null}insertBefore(n,i){const o=this.getNode(i);o.parent.insertBefore({data:n},o)}insertAfter(n,i){const o=this.getNode(i);o.parent.insertAfter({data:n},o)}remove(n){const i=this.getNode(n);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(n,i){const o=i?this.getNode(i):this.root;o&&o.insertChild({data:n})}_initDefaultCheckedNodes(){const n=this.defaultCheckedKeys||[],i=this.nodesMap;n.forEach(o=>{const l=i[o];l&&l.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(n){(this.defaultCheckedKeys||[]).includes(n.key)&&n.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(n){n!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=n,this._initDefaultCheckedNodes())}registerNode(n){const i=this.key;!n||!n.data||(i?n.key!==void 0&&(this.nodesMap[n.key]=n):this.nodesMap[n.id]=n)}deregisterNode(n){!this.key||!n||!n.data||(n.childNodes.forEach(o=>{this.deregisterNode(o)}),delete this.nodesMap[n.key])}getCheckedNodes(n=!1,i=!1){const o=[],l=function(d){(d.root?d.root.childNodes:d.childNodes).forEach(g=>{(g.checked||i&&g.indeterminate)&&(!n||n&&g.isLeaf)&&o.push(g.data),l(g)})};return l(this),o}getCheckedKeys(n=!1){return this.getCheckedNodes(n).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const n=[],i=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(d=>{d.indeterminate&&n.push(d.data),i(d)})};return i(this),n}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(n=>(n||{})[this.key])}_getAllNodes(){const n=[],i=this.nodesMap;for(const o in i)cr(i,o)&&n.push(i[o]);return n}updateChildren(n,i){const o=this.nodesMap[n];if(!o)return;const l=o.childNodes;for(let d=l.length-1;d>=0;d--){const h=l[d];this.remove(h.data)}for(let d=0,h=i.length;d<h;d++){const g=i[d];this.append(g,o.data)}}_setCheckedKeys(n,i=!1,o){const l=this._getAllNodes().sort((g,y)=>y.level-g.level),d=Object.create(null),h=Object.keys(o);l.forEach(g=>g.setChecked(!1,!1));for(let g=0,y=l.length;g<y;g++){const b=l[g],C=b.data[n].toString();if(!h.includes(C)){b.checked&&!d[C]&&b.setChecked(!1,!1);continue}let I=b.parent;for(;I&&I.level>0;)d[I.data[n]]=!0,I=I.parent;if(b.isLeaf||this.checkStrictly){b.setChecked(!0,!1);continue}if(b.setChecked(!0,!0),i){b.setChecked(!1,!1);const M=function(T){T.childNodes.forEach(N=>{N.isLeaf||N.setChecked(!1,!1),M(N)})};M(b)}}}setCheckedNodes(n,i=!1){const o=this.key,l={};n.forEach(d=>{l[(d||{})[o]]=!0}),this._setCheckedKeys(o,i,l)}setCheckedKeys(n,i=!1){this.defaultCheckedKeys=n;const o=this.key,l={};n.forEach(d=>{l[d]=!0}),this._setCheckedKeys(o,i,l)}setDefaultExpandedKeys(n){n=n||[],this.defaultExpandedKeys=n,n.forEach(i=>{const o=this.getNode(i);o&&o.expand(null,this.autoExpandParent)})}setChecked(n,i,o){const l=this.getNode(n);l&&l.setChecked(!!i,o)}getCurrentNode(){return this.currentNode}setCurrentNode(n){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=n,this.currentNode.isCurrent=!0}setUserCurrentNode(n,i=!0){const o=n[this.key],l=this.nodesMap[o];this.setCurrentNode(l),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(n,i=!0){if(n==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const o=this.getNode(n);o&&(this.setCurrentNode(o),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Jye=Ge({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const n=Ct("tree"),i=hn("NodeInstance"),o=hn("RootTree");return()=>{const l=t.node,{data:d,store:h}=l;return t.renderContent?t.renderContent(yn,{_self:i,node:l,data:d,store:h}):yn("span",{class:n.be("node","label")},[o.ctx.slots.default?o.ctx.slots.default({node:l,data:d}):l.label])}}});var Zye=Ht(Jye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function gD(t){const n=hn("TreeNodeMap",null),i={treeNodeExpand:o=>{t.node!==o&&t.node.collapse()},children:[]};return n&&n.children.push(i),or("TreeNodeMap",i),{broadcastExpanded:o=>{if(!!t.accordion)for(const l of i.children)l.treeNodeExpand(o)}}}const vD=Symbol("dragEvents");function ebe({props:t,ctx:n,el$:i,dropIndicator$:o,store:l}){const d=Ct("tree"),h=re({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return or(vD,{treeNodeDragStart:({event:C,treeNode:E})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(E.node))return C.preventDefault(),!1;C.dataTransfer.effectAllowed="move";try{C.dataTransfer.setData("text/plain","")}catch{}h.value.draggingNode=E,n.emit("node-drag-start",E.node,C)},treeNodeDragOver:({event:C,treeNode:E})=>{const I=E,M=h.value.dropNode;M&&M!==I&&Us(M.$el,d.is("drop-inner"));const T=h.value.draggingNode;if(!T||!I)return;let R=!0,N=!0,D=!0,V=!0;typeof t.allowDrop=="function"&&(R=t.allowDrop(T.node,I.node,"prev"),V=N=t.allowDrop(T.node,I.node,"inner"),D=t.allowDrop(T.node,I.node,"next")),C.dataTransfer.dropEffect=N||R||D?"move":"none",(R||N||D)&&M!==I&&(M&&n.emit("node-drag-leave",T.node,M.node,C),n.emit("node-drag-enter",T.node,I.node,C)),(R||N||D)&&(h.value.dropNode=I),I.node.nextSibling===T.node&&(D=!1),I.node.previousSibling===T.node&&(R=!1),I.node.contains(T.node,!1)&&(N=!1),(T.node===I.node||T.node.contains(I.node))&&(R=!1,N=!1,D=!1);const B=I.$el.getBoundingClientRect(),z=i.value.getBoundingClientRect();let H;const q=R?N?.25:D?.45:1:-1,he=D?N?.75:R?.55:0:1;let ne=-9999;const se=C.clientY-B.top;se<B.height*q?H="before":se>B.height*he?H="after":N?H="inner":H="none";const oe=I.$el.querySelector(`.${d.be("node","expand-icon")}`).getBoundingClientRect(),xe=o.value;H==="before"?ne=oe.top-z.top:H==="after"&&(ne=oe.bottom-z.top),xe.style.top=`${ne}px`,xe.style.left=`${oe.right-z.left}px`,H==="inner"?Va(I.$el,d.is("drop-inner")):Us(I.$el,d.is("drop-inner")),h.value.showDropIndicator=H==="before"||H==="after",h.value.allowDrop=h.value.showDropIndicator||V,h.value.dropType=H,n.emit("node-drag-over",T.node,I.node,C)},treeNodeDragEnd:C=>{const{draggingNode:E,dropType:I,dropNode:M}=h.value;if(C.preventDefault(),C.dataTransfer.dropEffect="move",E&&M){const T={data:E.node.data};I!=="none"&&E.node.remove(),I==="before"?M.node.parent.insertBefore(T,M.node):I==="after"?M.node.parent.insertAfter(T,M.node):I==="inner"&&M.node.insertChild(T),I!=="none"&&l.value.registerNode(T),Us(M.$el,d.is("drop-inner")),n.emit("node-drag-end",E.node,M.node,I,C),I!=="none"&&n.emit("node-drop",E.node,M.node,I,C)}E&&!M&&n.emit("node-drag-end",E.node,null,I,C),h.value.showDropIndicator=!1,h.value.draggingNode=null,h.value.dropNode=null,h.value.allowDrop=!0}}),{dragState:h}}const tbe=Ge({name:"ElTreeNode",components:{ElCollapseTransition:sA,ElCheckbox:Fo,NodeContent:Zye,ElIcon:un,Loading:Oc},props:{node:{type:Uu,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,n){const i=Ct("tree"),{broadcastExpanded:o}=gD(t),l=hn("RootTree"),d=re(!1),h=re(!1),g=re(null),y=re(null),b=re(null),C=hn(vD),E=Zn();or("NodeInstance",E),t.node.expanded&&(d.value=!0,h.value=!0);const I=l.props.children||"children";It(()=>{const se=t.node.data[I];return se&&[...se]},()=>{t.node.updateChildren()}),It(()=>t.node.indeterminate,se=>{R(t.node.checked,se)}),It(()=>t.node.checked,se=>{R(se,t.node.indeterminate)}),It(()=>t.node.expanded,se=>{dn(()=>d.value=se),se&&(h.value=!0)});const M=se=>Ww(l.props.nodeKey,se.data),T=se=>{const oe=t.props.class;if(!oe)return{};let xe;if(Nn(oe)){const{data:me}=se;xe=oe(me,se)}else xe=oe;return On(xe)?{[xe]:!0}:xe},R=(se,oe)=>{(g.value!==se||y.value!==oe)&&l.ctx.emit("check-change",t.node.data,se,oe),g.value=se,y.value=oe},N=se=>{H1(l.store,l.ctx.emit,()=>l.store.value.setCurrentNode(t.node)),l.currentNode.value=t.node,l.props.expandOnClickNode&&V(),l.props.checkOnClickNode&&!t.node.disabled&&B(null,{target:{checked:!t.node.checked}}),l.ctx.emit("node-click",t.node.data,t.node,E,se)},D=se=>{l.instance.vnode.props.onNodeContextmenu&&(se.stopPropagation(),se.preventDefault()),l.ctx.emit("node-contextmenu",se,t.node.data,t.node,E)},V=()=>{t.node.isLeaf||(d.value?(l.ctx.emit("node-collapse",t.node.data,t.node,E),t.node.collapse()):(t.node.expand(),n.emit("node-expand",t.node.data,t.node,E)))},B=(se,oe)=>{t.node.setChecked(oe.target.checked,!l.props.checkStrictly),dn(()=>{const xe=l.store.value;l.ctx.emit("check",t.node.data,{checkedNodes:xe.getCheckedNodes(),checkedKeys:xe.getCheckedKeys(),halfCheckedNodes:xe.getHalfCheckedNodes(),halfCheckedKeys:xe.getHalfCheckedKeys()})})};return{ns:i,node$:b,tree:l,expanded:d,childNodeRendered:h,oldChecked:g,oldIndeterminate:y,getNodeKey:M,getNodeClass:T,handleSelectChange:R,handleClick:N,handleContextMenu:D,handleExpandIconClick:V,handleCheckChange:B,handleChildNodeExpand:(se,oe,xe)=>{o(oe),l.ctx.emit("node-expand",se,oe,xe)},handleDragStart:se=>{!l.props.draggable||C.treeNodeDragStart({event:se,treeNode:t})},handleDragOver:se=>{se.preventDefault(),l.props.draggable&&C.treeNodeDragOver({event:se,treeNode:{$el:b.value,node:t.node}})},handleDrop:se=>{se.preventDefault()},handleDragEnd:se=>{!l.props.draggable||C.treeNodeDragEnd(se)},CaretRight:rN}}}),nbe=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],rbe=["aria-expanded"];function ibe(t,n,i,o,l,d){const h=Mn("el-icon"),g=Mn("el-checkbox"),y=Mn("loading"),b=Mn("node-content"),C=Mn("el-tree-node"),E=Mn("el-collapse-transition");return zn(($(),_e("div",{ref:"node$",class:J([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:n[1]||(n[1]=Dn((...I)=>t.handleClick&&t.handleClick(...I),["stop"])),onContextmenu:n[2]||(n[2]=(...I)=>t.handleContextMenu&&t.handleContextMenu(...I)),onDragstart:n[3]||(n[3]=Dn((...I)=>t.handleDragStart&&t.handleDragStart(...I),["stop"])),onDragover:n[4]||(n[4]=Dn((...I)=>t.handleDragOver&&t.handleDragOver(...I),["stop"])),onDragend:n[5]||(n[5]=Dn((...I)=>t.handleDragEnd&&t.handleDragEnd(...I),["stop"])),onDrop:n[6]||(n[6]=Dn((...I)=>t.handleDrop&&t.handleDrop(...I),["stop"]))},[Ie("div",{class:J(t.ns.be("node","content")),style:fn({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?($(),rt(h,{key:0,class:J([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:Dn(t.handleExpandIconClick,["stop"])},{default:Ue(()=>[($(),rt(sr(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):Ze("v-if",!0),t.showCheckbox?($(),rt(g,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:n[0]||(n[0]=Dn(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Ze("v-if",!0),t.node.loading?($(),rt(h,{key:2,class:J([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:Ue(()=>[Re(y)]),_:1},8,["class"])):Ze("v-if",!0),Re(b,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),Re(E,null,{default:Ue(()=>[!t.renderAfterExpand||t.childNodeRendered?zn(($(),_e("div",{key:0,class:J(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[($(!0),_e(gn,null,ur(t.node.childNodes,I=>($(),rt(C,{key:t.getNodeKey(I),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:I,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,rbe)),[[yr,t.expanded]]):Ze("v-if",!0)]),_:1})],42,nbe)),[[yr,t.node.visible]])}var sbe=Ht(tbe,[["render",ibe],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function obe({el$:t},n){const i=Ct("tree"),o=qr([]),l=qr([]);jn(()=>{h()}),Dl(()=>{o.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),l.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),It(l,g=>{g.forEach(y=>{y.setAttribute("tabindex","-1")})}),Jr(t,"keydown",g=>{const y=g.target;if(!y.className.includes(i.b("node")))return;const b=g.code;o.value=Array.from(t.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));const C=o.value.indexOf(y);let E;if([An.up,An.down].includes(b)){if(g.preventDefault(),b===An.up){E=C===-1?0:C!==0?C-1:o.value.length-1;const M=E;for(;!n.value.getNode(o.value[E].dataset.key).canFocus;){if(E--,E===M){E=-1;break}E<0&&(E=o.value.length-1)}}else{E=C===-1?0:C<o.value.length-1?C+1:0;const M=E;for(;!n.value.getNode(o.value[E].dataset.key).canFocus;){if(E++,E===M){E=-1;break}E>=o.value.length&&(E=0)}}E!==-1&&o.value[E].focus()}[An.left,An.right].includes(b)&&(g.preventDefault(),y.click());const I=y.querySelector('[type="checkbox"]');[An.enter,An.space].includes(b)&&I&&(g.preventDefault(),I.click())});const h=()=>{var g;o.value=Array.from(t.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),l.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const y=t.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(y.length){y[0].setAttribute("tabindex","0");return}(g=o.value[0])==null||g.setAttribute("tabindex","0")}}const abe=Ge({name:"ElTree",components:{ElTreeNode:sbe},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:jr}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,n){const{t:i}=Sr(),o=Ct("tree"),l=re(new Yye({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));l.value.initialize();const d=re(l.value.root),h=re(null),g=re(null),y=re(null),{broadcastExpanded:b}=gD(t),{dragState:C}=ebe({props:t,ctx:n,el$:g,dropIndicator$:y,store:l});obe({el$:g},l);const E=K(()=>{const{childNodes:ie}=d.value;return!ie||ie.length===0||ie.every(({visible:fe})=>!fe)});It(()=>t.currentNodeKey,ie=>{l.value.setCurrentNodeKey(ie)}),It(()=>t.defaultCheckedKeys,ie=>{l.value.setDefaultCheckedKey(ie)}),It(()=>t.defaultExpandedKeys,ie=>{l.value.setDefaultExpandedKeys(ie)}),It(()=>t.data,ie=>{l.value.setData(ie)},{deep:!0}),It(()=>t.checkStrictly,ie=>{l.value.checkStrictly=ie});const I=ie=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");l.value.filter(ie)},M=ie=>Ww(t.nodeKey,ie.data),T=ie=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const fe=l.value.getNode(ie);if(!fe)return[];const le=[fe.data];let Oe=fe.parent;for(;Oe&&Oe!==d.value;)le.push(Oe.data),Oe=Oe.parent;return le.reverse()},R=(ie,fe)=>l.value.getCheckedNodes(ie,fe),N=ie=>l.value.getCheckedKeys(ie),D=()=>{const ie=l.value.getCurrentNode();return ie?ie.data:null},V=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const ie=D();return ie?ie[t.nodeKey]:null},B=(ie,fe)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");l.value.setCheckedNodes(ie,fe)},z=(ie,fe)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");l.value.setCheckedKeys(ie,fe)},H=(ie,fe,le)=>{l.value.setChecked(ie,fe,le)},q=()=>l.value.getHalfCheckedNodes(),he=()=>l.value.getHalfCheckedKeys(),ne=(ie,fe=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");H1(l,n.emit,()=>l.value.setUserCurrentNode(ie,fe))},se=(ie,fe=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");H1(l,n.emit,()=>l.value.setCurrentNodeKey(ie,fe))},oe=ie=>l.value.getNode(ie),xe=ie=>{l.value.remove(ie)},me=(ie,fe)=>{l.value.append(ie,fe)},ce=(ie,fe)=>{l.value.insertBefore(ie,fe)},Ae=(ie,fe)=>{l.value.insertAfter(ie,fe)},Se=(ie,fe,le)=>{b(fe),n.emit("node-expand",ie,fe,le)},ye=(ie,fe)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");l.value.updateChildren(ie,fe)};return or("RootTree",{ctx:n,props:t,store:l,root:d,currentNode:h,instance:Zn()}),or(Qa,void 0),{ns:o,store:l,root:d,currentNode:h,dragState:C,el$:g,dropIndicator$:y,isEmpty:E,filter:I,getNodeKey:M,getNodePath:T,getCheckedNodes:R,getCheckedKeys:N,getCurrentNode:D,getCurrentKey:V,setCheckedNodes:B,setCheckedKeys:z,setChecked:H,getHalfCheckedNodes:q,getHalfCheckedKeys:he,setCurrentNode:ne,setCurrentKey:se,t:i,getNode:oe,remove:xe,append:me,insertBefore:ce,insertAfter:Ae,handleNodeExpand:Se,updateKeyChildren:ye}}});function lbe(t,n,i,o,l,d){var h;const g=Mn("el-tree-node");return $(),_e("div",{ref:"el$",class:J([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[($(!0),_e(gn,null,ur(t.root.childNodes,y=>($(),rt(g,{key:t.getNodeKey(y),node:y,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?($(),_e("div",{key:0,class:J(t.ns.e("empty-block"))},[Ie("span",{class:J(t.ns.e("empty-text"))},Xt((h=t.emptyText)!=null?h:t.t("el.tree.emptyText")),3)],2)):Ze("v-if",!0),zn(Ie("div",{ref:"dropIndicator$",class:J(t.ns.e("drop-indicator"))},null,2),[[yr,t.dragState.showDropIndicator]])],2)}var Kv=Ht(abe,[["render",lbe],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);Kv.install=t=>{t.component(Kv.name,Kv)};const b_=Kv,cbe=b_,ube=(t,{attrs:n},{tree:i,key:o})=>{const l=Ct("tree-select"),d={...Il(Di(t),Object.keys(Wu.props)),...n,valueKey:o,popperClass:K(()=>{const h=[l.e("popper")];return t.popperClass&&h.push(t.popperClass),h.join(" ")}),filterMethod:(h="")=>{t.filterMethod&&t.filterMethod(h),dn(()=>{var g;(g=i.value)==null||g.filter(h)})},onVisibleChange:h=>{var g;(g=n.onVisibleChange)==null||g.call(n,h),t.filterable&&h&&d.filterMethod()}};return d},dbe=Ge({extends:h_,setup(t,n){const i=h_.setup(t,n);delete i.selectOptionClick;const o=Zn().proxy;return dn(()=>{i.select.cachedOptions.get(o.value)||i.select.onOptionCreate(o)}),i},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function X1(t){return t||t===0}function _D(t){return Array.isArray(t)&&t.length}function Pb(t){return Array.isArray(t)?t:X1(t)?[t]:[]}function jv(t,n,i,o,l){for(let d=0;d<t.length;d++){const h=t[d];if(n(h,d,t,l))return o?o(h,d,t,l):h;{const g=i(h);if(_D(g)){const y=jv(g,n,i,o,h);if(y)return y}}}}const fbe=(t,{attrs:n,slots:i,emit:o},{select:l,tree:d,key:h})=>{It(()=>t.modelValue,()=>{t.showCheckbox&&dn(()=>{const C=d.value;C&&!po(C.getCheckedKeys(),Pb(t.modelValue))&&C.setCheckedKeys(Pb(t.modelValue))})},{immediate:!0,deep:!0});const g=K(()=>({value:h.value,...t.props})),y=(C,E)=>{var I;const M=g.value[C];return Nn(M)?M(E,(I=d.value)==null?void 0:I.getNode(y("value",E))):E[M]},b=Pb(t.modelValue).map(C=>jv(t.data||[],E=>y("value",E)===C,E=>y("children",E),(E,I,M,T)=>T&&y("value",T))).filter(C=>X1(C));return{...Il(Di(t),Object.keys(b_.props)),...n,nodeKey:h,expandOnClickNode:K(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:K(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(b):b),renderContent:(C,{node:E,data:I,store:M})=>C(dbe,{value:y("value",I),label:y("label",I),disabled:y("disabled",I)},t.renderContent?()=>t.renderContent(C,{node:E,data:I,store:M}):i.default?()=>i.default({node:E,data:I,store:M}):void 0),filterNodeMethod:(C,E,I)=>{var M;return t.filterNodeMethod?t.filterNodeMethod(C,E,I):C?(M=y("label",E))==null?void 0:M.includes(C):!0},onNodeClick:(C,E,I)=>{var M,T,R;if((M=n.onNodeClick)==null||M.call(n,C,E,I),!(t.showCheckbox&&t.checkOnClickNode))if(!t.showCheckbox&&(t.checkStrictly||E.isLeaf)){if(!y("disabled",C)){const N=(T=l.value)==null?void 0:T.options.get(y("value",C));(R=l.value)==null||R.handleOptionSelect(N,!0)}}else t.expandOnClickNode&&I.proxy.handleExpandIconClick()},onCheck:(C,E)=>{var I;(I=n.onCheck)==null||I.call(n,C,E);const M=y("value",C);if(t.checkStrictly)o(Jn,t.multiple?E.checkedKeys:E.checkedKeys.includes(M)?M:void 0);else if(t.multiple)o(Jn,d.value.getCheckedKeys(!0));else{const T=jv([C],D=>!_D(y("children",D))&&!y("disabled",D),D=>y("children",D)),R=T?y("value",T):void 0,N=X1(t.modelValue)&&!!jv([C],D=>y("value",D)===t.modelValue,D=>y("children",D));o(Jn,R===t.modelValue||N?void 0:R)}}}},hbe=Ge({name:"ElTreeSelect",inheritAttrs:!1,props:{...Wu.props,...b_.props},setup(t,n){const{slots:i,expose:o}=n,l=re(),d=re(),h=K(()=>t.nodeKey||t.valueKey||"value"),g=ube(t,n,{select:l,tree:d,key:h}),y=fbe(t,n,{select:l,tree:d,key:h}),b=Mr({});return o(b),jn(()=>{Object.assign(b,{...Il(d.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...Il(l.value,["focus","blur"])})}),()=>yn(Wu,Mr({...g,ref:C=>l.value=C}),{...i,default:()=>yn(b_,Mr({...y,ref:C=>d.value=C}))})}});var qv=Ht(hbe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);qv.install=t=>{t.component(qv.name,qv)};const pbe=qv,mbe=pbe,Kw=Symbol(),gbe={key:-1,level:-1,data:{}};var _p=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t))(_p||{}),$1=(t=>(t.ADD="add",t.DELETE="delete",t))($1||{});const vbe=$t({data:{type:nt(Array),default:()=>ni([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:nt(Object),default:()=>ni({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:nt(Array),default:()=>ni([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:nt(Array),default:()=>ni([])},indent:{type:Number,default:16},icon:{type:jr},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:nt([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:nt(Function)},perfMode:{type:Boolean,default:!0}}),_be=$t({node:{type:nt(Object),default:()=>ni(gbe)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1}}),Abe=$t({node:{type:nt(Object),required:!0}}),AD="node-click",yD="node-expand",bD="node-collapse",SD="current-change",wD="check",ED="check-change",CD="node-contextmenu",ybe={[AD]:(t,n,i)=>t&&n&&i,[yD]:(t,n)=>t&&n,[bD]:(t,n)=>t&&n,[SD]:(t,n)=>t&&n,[wD]:(t,n)=>t&&n,[ED]:(t,n)=>t&&typeof n=="boolean",[CD]:(t,n,i)=>t&&n&&i},bbe={click:(t,n)=>!!(t&&n),toggle:t=>!!t,check:(t,n)=>t&&typeof n=="boolean"};function Sbe(t,n){const i=re(new Set),o=re(new Set),{emit:l}=Zn();It([()=>n.value,()=>t.defaultCheckedKeys],()=>dn(()=>{V(t.defaultCheckedKeys)}),{immediate:!0});const d=()=>{if(!n.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:B,maxLevel:z}=n.value,H=i.value,q=new Set;for(let he=z-1;he>=1;--he){const ne=B.get(he);!ne||ne.forEach(se=>{const oe=se.children;if(oe){let xe=!0,me=!1;for(const ce of oe){const Ae=ce.key;if(H.has(Ae))me=!0;else if(q.has(Ae)){xe=!1,me=!0;break}else xe=!1}xe?H.add(se.key):me?(q.add(se.key),H.delete(se.key)):(H.delete(se.key),q.delete(se.key))}})}o.value=q},h=B=>i.value.has(B.key),g=B=>o.value.has(B.key),y=(B,z,H=!0)=>{const q=i.value,he=(ne,se)=>{q[se?$1.ADD:$1.DELETE](ne.key);const oe=ne.children;!t.checkStrictly&&oe&&oe.forEach(xe=>{xe.disabled||he(xe,se)})};he(B,z),d(),H&&b(B,z)},b=(B,z)=>{const{checkedNodes:H,checkedKeys:q}=T(),{halfCheckedNodes:he,halfCheckedKeys:ne}=R();l(wD,B.data,{checkedKeys:q,checkedNodes:H,halfCheckedKeys:ne,halfCheckedNodes:he}),l(ED,B.data,z)};function C(B=!1){return T(B).checkedKeys}function E(B=!1){return T(B).checkedNodes}function I(){return R().halfCheckedKeys}function M(){return R().halfCheckedNodes}function T(B=!1){const z=[],H=[];if((n==null?void 0:n.value)&&t.showCheckbox){const{treeNodeMap:q}=n.value;i.value.forEach(he=>{const ne=q.get(he);ne&&(!B||B&&ne.isLeaf)&&(H.push(he),z.push(ne.data))})}return{checkedKeys:H,checkedNodes:z}}function R(){const B=[],z=[];if((n==null?void 0:n.value)&&t.showCheckbox){const{treeNodeMap:H}=n.value;o.value.forEach(q=>{const he=H.get(q);he&&(z.push(q),B.push(he.data))})}return{halfCheckedNodes:B,halfCheckedKeys:z}}function N(B){i.value.clear(),o.value.clear(),V(B)}function D(B,z){if((n==null?void 0:n.value)&&t.showCheckbox){const H=n.value.treeNodeMap.get(B);H&&y(H,z,!1)}}function V(B){if(n!=null&&n.value){const{treeNodeMap:z}=n.value;if(t.showCheckbox&&z&&B)for(const H of B){const q=z.get(H);q&&!h(q)&&y(q,!0,!1)}}}return{updateCheckedKeys:d,toggleCheckbox:y,isChecked:h,isIndeterminate:g,getCheckedKeys:C,getCheckedNodes:E,getHalfCheckedKeys:I,getHalfCheckedNodes:M,setChecked:D,setCheckedKeys:N}}function wbe(t,n){const i=re(new Set([])),o=re(new Set([])),l=K(()=>Nn(t.filterMethod));function d(g){var y;if(!l.value)return;const b=new Set,C=o.value,E=i.value,I=[],M=((y=n.value)==null?void 0:y.treeNodes)||[],T=t.filterMethod;E.clear();function R(N){N.forEach(D=>{I.push(D),T!=null&&T(g,D.data)?I.forEach(B=>{b.add(B.key)}):D.isLeaf&&E.add(D.key);const V=D.children;if(V&&R(V),!D.isLeaf){if(!b.has(D.key))E.add(D.key);else if(V){let B=!0;for(const z of V)if(!E.has(z.key)){B=!1;break}B?C.add(D.key):C.delete(D.key)}}I.pop()})}return R(M),b}function h(g){return o.value.has(g.key)}return{hiddenExpandIconKeySet:o,hiddenNodeKeySet:i,doFilter:d,isForceHiddenExpandIcon:h}}function Ebe(t,n){const i=re(new Set(t.defaultExpandedKeys)),o=re(),l=qr();It(()=>t.currentNodeKey,Ye=>{o.value=Ye},{immediate:!0}),It(()=>t.data,Ye=>{Nt(Ye)},{immediate:!0});const{isIndeterminate:d,isChecked:h,toggleCheckbox:g,getCheckedKeys:y,getCheckedNodes:b,getHalfCheckedKeys:C,getHalfCheckedNodes:E,setChecked:I,setCheckedKeys:M}=Sbe(t,l),{doFilter:T,hiddenNodeKeySet:R,isForceHiddenExpandIcon:N}=wbe(t,l),D=K(()=>{var Ye;return((Ye=t.props)==null?void 0:Ye.value)||_p.KEY}),V=K(()=>{var Ye;return((Ye=t.props)==null?void 0:Ye.children)||_p.CHILDREN}),B=K(()=>{var Ye;return((Ye=t.props)==null?void 0:Ye.disabled)||_p.DISABLED}),z=K(()=>{var Ye;return((Ye=t.props)==null?void 0:Ye.label)||_p.LABEL}),H=K(()=>{const Ye=i.value,ot=R.value,Et=[],an=l.value&&l.value.treeNodes||[];function Be(){const Xe=[];for(let ht=an.length-1;ht>=0;--ht)Xe.push(an[ht]);for(;Xe.length;){const ht=Xe.pop();if(!!ht&&(ot.has(ht.key)||Et.push(ht),Ye.has(ht.key))){const Dt=ht.children;if(Dt){const Ot=Dt.length;for(let dt=Ot-1;dt>=0;--dt)Xe.push(Dt[dt])}}}}return Be(),Et}),q=K(()=>H.value.length>0);function he(Ye){const ot=new Map,Et=new Map;let an=1;function Be(ht,Dt=1,Ot=void 0){var dt;const Ft=[];for(const At of ht){const Ne=oe(At),Ke={level:Dt,key:Ne,data:At};Ke.label=me(At),Ke.parent=Ot;const Lt=se(At);Ke.disabled=xe(At),Ke.isLeaf=!Lt||Lt.length===0,Lt&&Lt.length&&(Ke.children=Be(Lt,Dt+1,Ke)),Ft.push(Ke),ot.set(Ne,Ke),Et.has(Dt)||Et.set(Dt,[]),(dt=Et.get(Dt))==null||dt.push(Ke)}return Dt>an&&(an=Dt),Ft}const Xe=Be(Ye);return{treeNodeMap:ot,levelTreeNodeMap:Et,maxLevel:an,treeNodes:Xe}}function ne(Ye){const ot=T(Ye);ot&&(i.value=ot)}function se(Ye){return Ye[V.value]}function oe(Ye){return Ye?Ye[D.value]:""}function xe(Ye){return Ye[B.value]}function me(Ye){return Ye[z.value]}function ce(Ye){i.value.has(Ye.key)?le(Ye):fe(Ye)}function Ae(Ye){i.value=new Set(Ye)}function Se(Ye,ot){n(AD,Ye.data,Ye,ot),ye(Ye),t.expandOnClickNode&&ce(Ye),t.showCheckbox&&t.checkOnClickNode&&!Ye.disabled&&g(Ye,!h(Ye),!0)}function ye(Ye){Pe(Ye)||(o.value=Ye.key,n(SD,Ye.data,Ye))}function ie(Ye,ot){g(Ye,ot)}function fe(Ye){const ot=i.value;if(l.value&&t.accordion){const{treeNodeMap:Et}=l.value;ot.forEach(an=>{const Be=Et.get(an);Ye&&Ye.level===(Be==null?void 0:Be.level)&&ot.delete(an)})}ot.add(Ye.key),n(yD,Ye.data,Ye)}function le(Ye){i.value.delete(Ye.key),n(bD,Ye.data,Ye)}function Oe(Ye){return i.value.has(Ye.key)}function Qe(Ye){return!!Ye.disabled}function Pe(Ye){const ot=o.value;return!!ot&&ot===Ye.key}function He(){var Ye,ot;if(!!o.value)return(ot=(Ye=l.value)==null?void 0:Ye.treeNodeMap.get(o.value))==null?void 0:ot.data}function bt(){return o.value}function xt(Ye){o.value=Ye}function Nt(Ye){dn(()=>l.value=he(Ye))}function st(Ye){var ot;const Et=nr(Ye)?oe(Ye):Ye;return(ot=l.value)==null?void 0:ot.treeNodeMap.get(Et)}return{tree:l,flattenTree:H,isNotEmpty:q,getKey:oe,getChildren:se,toggleExpand:ce,toggleCheckbox:g,isExpanded:Oe,isChecked:h,isIndeterminate:d,isDisabled:Qe,isCurrent:Pe,isForceHiddenExpandIcon:N,handleNodeClick:Se,handleNodeCheck:ie,getCurrentNode:He,getCurrentKey:bt,setCurrentKey:xt,getCheckedKeys:y,getCheckedNodes:b,getHalfCheckedKeys:C,getHalfCheckedNodes:E,setChecked:I,setCheckedKeys:M,filter:ne,setData:Nt,getNode:st,expandNode:fe,collapseNode:le,setExpandedKeys:Ae}}var Cbe=Ge({name:"ElTreeNodeContent",props:Abe,setup(t){const n=hn(Kw),i=Ct("tree");return()=>{const o=t.node,{data:l}=o;return n!=null&&n.ctx.slots.default?n.ctx.slots.default({node:o,data:l}):yn("span",{class:i.be("node","label")},[o==null?void 0:o.label])}}});const Ibe=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],xbe=Ge({name:"ElTreeNode"}),Mbe=Ge({...xbe,props:_be,emits:bbe,setup(t,{emit:n}){const i=t,o=hn(Kw),l=Ct("tree"),d=K(()=>{var E;return(E=o==null?void 0:o.props.indent)!=null?E:16}),h=K(()=>{var E;return(E=o==null?void 0:o.props.icon)!=null?E:rN}),g=E=>{n("click",i.node,E)},y=()=>{n("toggle",i.node)},b=E=>{n("check",i.node,E)},C=E=>{var I,M,T,R;(T=(M=(I=o==null?void 0:o.instance)==null?void 0:I.vnode)==null?void 0:M.props)!=null&&T.onNodeContextmenu&&(E.stopPropagation(),E.preventDefault()),o==null||o.ctx.emit(CD,E,(R=i.node)==null?void 0:R.data,i.node)};return(E,I)=>{var M,T,R;return $(),_e("div",{ref:"node$",class:J([v(l).b("node"),v(l).is("expanded",E.expanded),v(l).is("current",E.current),v(l).is("focusable",!E.disabled),v(l).is("checked",!E.disabled&&E.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":E.expanded,"aria-disabled":E.disabled,"aria-checked":E.checked,"data-key":(M=E.node)==null?void 0:M.key,onClick:Dn(g,["stop"]),onContextmenu:C},[Ie("div",{class:J(v(l).be("node","content")),style:fn({paddingLeft:`${(E.node.level-1)*v(d)}px`})},[v(h)?($(),rt(v(un),{key:0,class:J([v(l).is("leaf",!!((T=E.node)!=null&&T.isLeaf)),v(l).is("hidden",E.hiddenExpandIcon),{expanded:!((R=E.node)!=null&&R.isLeaf)&&E.expanded},v(l).be("node","expand-icon")]),onClick:Dn(y,["stop"])},{default:Ue(()=>[($(),rt(sr(v(h))))]),_:1},8,["class","onClick"])):Ze("v-if",!0),E.showCheckbox?($(),rt(v(Fo),{key:1,"model-value":E.checked,indeterminate:E.indeterminate,disabled:E.disabled,onChange:b,onClick:I[0]||(I[0]=Dn(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):Ze("v-if",!0),Re(v(Cbe),{node:E.node},null,8,["node"])],6)],42,Ibe)}}});var Rbe=Ht(Mbe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const Tbe=26,Pbe=Ge({name:"ElTreeV2"}),Nbe=Ge({...Pbe,props:vbe,emits:ybe,setup(t,{expose:n,emit:i}){const o=t,l=ss();or(Kw,{ctx:{emit:i,slots:l},props:o,instance:Zn()}),or(Qa,void 0);const{t:d}=Sr(),h=Ct("tree"),{flattenTree:g,isNotEmpty:y,toggleExpand:b,isExpanded:C,isIndeterminate:E,isChecked:I,isDisabled:M,isCurrent:T,isForceHiddenExpandIcon:R,handleNodeClick:N,handleNodeCheck:D,toggleCheckbox:V,getCurrentNode:B,getCurrentKey:z,setCurrentKey:H,getCheckedKeys:q,getCheckedNodes:he,getHalfCheckedKeys:ne,getHalfCheckedNodes:se,setChecked:oe,setCheckedKeys:xe,filter:me,setData:ce,getNode:Ae,expandNode:Se,collapseNode:ye,setExpandedKeys:ie}=Ebe(o,i);return n({toggleCheckbox:V,getCurrentNode:B,getCurrentKey:z,setCurrentKey:H,getCheckedKeys:q,getCheckedNodes:he,getHalfCheckedKeys:ne,getHalfCheckedNodes:se,setChecked:oe,setCheckedKeys:xe,filter:me,setData:ce,getNode:Ae,expandNode:Se,collapseNode:ye,setExpandedKeys:ie}),(fe,le)=>{var Oe;return $(),_e("div",{class:J([v(h).b(),{[v(h).m("highlight-current")]:fe.highlightCurrent}]),role:"tree"},[v(y)?($(),rt(v(D6),{key:0,"class-name":v(h).b("virtual-list"),data:v(g),total:v(g).length,height:fe.height,"item-size":Tbe,"perf-mode":fe.perfMode},{default:Ue(({data:Qe,index:Pe,style:He})=>[($(),rt(Rbe,{key:Qe[Pe].key,style:fn(He),node:Qe[Pe],expanded:v(C)(Qe[Pe]),"show-checkbox":fe.showCheckbox,checked:v(I)(Qe[Pe]),indeterminate:v(E)(Qe[Pe]),disabled:v(M)(Qe[Pe]),current:v(T)(Qe[Pe]),"hidden-expand-icon":v(R)(Qe[Pe]),onClick:v(N),onToggle:v(b),onCheck:v(D)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","perf-mode"])):($(),_e("div",{key:1,class:J(v(h).e("empty-block"))},[Ie("span",{class:J(v(h).e("empty-text"))},Xt((Oe=fe.emptyText)!=null?Oe:v(d)("el.tree.emptyText")),3)],2))],2)}}});var Bbe=Ht(Nbe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const Dbe=er(Bbe),kbe="ElUpload";class Lbe extends Error{constructor(n,i,o,l){super(n),this.name="UploadAjaxError",this.status=i,this.method=o,this.url=l}}function PT(t,n,i){let o;return i.response?o=`${i.response.error||i.response}`:i.responseText?o=`${i.responseText}`:o=`fail to ${n.method} ${t} ${i.status}`,new Lbe(o,i.status,n.method,t)}function Obe(t){const n=t.responseText||t.response;if(!n)return n;try{return JSON.parse(n)}catch{return n}}const Fbe=t=>{typeof XMLHttpRequest>"u"&&ki(kbe,"XMLHttpRequest is undefined");const n=new XMLHttpRequest,i=t.action;n.upload&&n.upload.addEventListener("progress",d=>{const h=d;h.percent=d.total>0?d.loaded/d.total*100:0,t.onProgress(h)});const o=new FormData;if(t.data)for(const[d,h]of Object.entries(t.data))Array.isArray(h)?o.append(d,...h):o.append(d,h);o.append(t.filename,t.file,t.file.name),n.addEventListener("error",()=>{t.onError(PT(i,t,n))}),n.addEventListener("load",()=>{if(n.status<200||n.status>=300)return t.onError(PT(i,t,n));t.onSuccess(Obe(n))}),n.open(t.method,i,!0),t.withCredentials&&"withCredentials"in n&&(n.withCredentials=!0);const l=t.headers||{};if(l instanceof Headers)l.forEach((d,h)=>n.setRequestHeader(h,d));else for(const[d,h]of Object.entries(l))rs(h)||n.setRequestHeader(d,String(h));return n.send(o),n},ID=["text","picture","picture-card"];let Vbe=1;const W1=()=>Date.now()+Vbe++,xD=$t({action:{type:String,default:"#"},headers:{type:nt(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>ni({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:nt(Array),default:()=>ni([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:ID,default:"text"},httpRequest:{type:nt(Function),default:Fbe},disabled:Boolean,limit:Number}),Gbe=$t({...xD,beforeUpload:{type:nt(Function),default:Fr},beforeRemove:{type:nt(Function)},onRemove:{type:nt(Function),default:Fr},onChange:{type:nt(Function),default:Fr},onPreview:{type:nt(Function),default:Fr},onSuccess:{type:nt(Function),default:Fr},onProgress:{type:nt(Function),default:Fr},onError:{type:nt(Function),default:Fr},onExceed:{type:nt(Function),default:Fr}}),Ube=$t({files:{type:nt(Array),default:()=>ni([])},disabled:{type:Boolean,default:!1},handlePreview:{type:nt(Function),default:Fr},listType:{type:String,values:ID,default:"text"}}),zbe={remove:t=>!!t},Hbe=["onKeydown"],Qbe=["src"],Xbe=["onClick"],$be=["onClick"],Wbe=["onClick"],Kbe=Ge({name:"ElUploadList"}),jbe=Ge({...Kbe,props:Ube,emits:zbe,setup(t,{emit:n}){const{t:i}=Sr(),o=Ct("upload"),l=Ct("icon"),d=Ct("list"),h=re(!1),g=y=>{n("remove",y)};return(y,b)=>($(),rt(SQ,{tag:"ul",class:J([v(o).b("list"),v(o).bm("list",y.listType),v(o).is("disabled",y.disabled)]),name:v(d).b()},{default:Ue(()=>[($(!0),_e(gn,null,ur(y.files,C=>($(),_e("li",{key:C.uid||C.name,class:J([v(o).be("list","item"),v(o).is(C.status),{focusing:h.value}]),tabindex:"0",onKeydown:pr(E=>!y.disabled&&g(C),["delete"]),onFocus:b[0]||(b[0]=E=>h.value=!0),onBlur:b[1]||(b[1]=E=>h.value=!1),onClick:b[2]||(b[2]=E=>h.value=!1)},[yt(y.$slots,"default",{file:C},()=>[y.listType==="picture"||C.status!=="uploading"&&y.listType==="picture-card"?($(),_e("img",{key:0,class:J(v(o).be("list","item-thumbnail")),src:C.url,alt:""},null,10,Qbe)):Ze("v-if",!0),C.status==="uploading"||y.listType!=="picture-card"?($(),_e("div",{key:1,class:J(v(o).be("list","item-info"))},[Ie("a",{class:J(v(o).be("list","item-name")),onClick:Dn(E=>y.handlePreview(C),["prevent"])},[Re(v(un),{class:J(v(l).m("document"))},{default:Ue(()=>[Re(v(A9))]),_:1},8,["class"]),Ie("span",{class:J(v(o).be("list","item-file-name"))},Xt(C.name),3)],10,Xbe),C.status==="uploading"?($(),rt(v(C6),{key:0,type:y.listType==="picture-card"?"circle":"line","stroke-width":y.listType==="picture-card"?6:2,percentage:Number(C.percentage),style:fn(y.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Ze("v-if",!0)],2)):Ze("v-if",!0),Ie("label",{class:J(v(o).be("list","item-status-label"))},[y.listType==="text"?($(),rt(v(un),{key:0,class:J([v(l).m("upload-success"),v(l).m("circle-check")])},{default:Ue(()=>[Re(v(ES))]),_:1},8,["class"])):["picture-card","picture"].includes(y.listType)?($(),rt(v(un),{key:1,class:J([v(l).m("upload-success"),v(l).m("check")])},{default:Ue(()=>[Re(v(mm))]),_:1},8,["class"])):Ze("v-if",!0)],2),y.disabled?Ze("v-if",!0):($(),rt(v(un),{key:2,class:J(v(l).m("close")),onClick:E=>g(C)},{default:Ue(()=>[Re(v(ga))]),_:2},1032,["class","onClick"])),Ze(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Ze(" This is a bug which needs to be fixed "),Ze(" TODO: Fix the incorrect navigation interaction "),y.disabled?Ze("v-if",!0):($(),_e("i",{key:3,class:J(v(l).m("close-tip"))},Xt(v(i)("el.upload.deleteTip")),3)),y.listType==="picture-card"?($(),_e("span",{key:4,class:J(v(o).be("list","item-actions"))},[Ie("span",{class:J(v(o).be("list","item-preview")),onClick:E=>y.handlePreview(C)},[Re(v(un),{class:J(v(l).m("zoom-in"))},{default:Ue(()=>[Re(v(aN))]),_:1},8,["class"])],10,$be),y.disabled?Ze("v-if",!0):($(),_e("span",{key:0,class:J(v(o).be("list","item-delete")),onClick:E=>g(C)},[Re(v(un),{class:J(v(l).m("delete"))},{default:Ue(()=>[Re(v(h9))]),_:1},8,["class"])],10,Wbe))],2)):Ze("v-if",!0)])],42,Hbe))),128)),yt(y.$slots,"append")]),_:3},8,["class","name"]))}});var NT=Ht(jbe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const qbe=$t({disabled:{type:Boolean,default:!1}}),Ybe={file:t=>on(t)},Jbe=["onDrop","onDragover"],MD="ElUploadDrag",Zbe=Ge({name:MD}),e1e=Ge({...Zbe,props:qbe,emits:Ybe,setup(t,{emit:n}){const i=t,o=hn(a3);o||ki(MD,"usage: <el-upload><el-upload-dragger /></el-upload>");const l=Ct("upload"),d=re(!1),h=y=>{if(i.disabled)return;d.value=!1;const b=Array.from(y.dataTransfer.files),C=o.accept.value;if(!C){n("file",b);return}const E=b.filter(I=>{const{type:M,name:T}=I,R=T.includes(".")?`.${T.split(".").pop()}`:"",N=M.replace(/\/.*$/,"");return C.split(",").map(D=>D.trim()).filter(D=>D).some(D=>D.startsWith(".")?R===D:/\/\*$/.test(D)?N===D.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(D)?M===D:!1)});n("file",E)},g=()=>{i.disabled||(d.value=!0)};return(y,b)=>($(),_e("div",{class:J([v(l).b("dragger"),v(l).is("dragover",d.value)]),onDrop:Dn(h,["prevent"]),onDragover:Dn(g,["prevent"]),onDragleave:b[0]||(b[0]=Dn(C=>d.value=!1,["prevent"]))},[yt(y.$slots,"default")],42,Jbe))}});var t1e=Ht(e1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const n1e=$t({...xD,beforeUpload:{type:nt(Function),default:Fr},onRemove:{type:nt(Function),default:Fr},onStart:{type:nt(Function),default:Fr},onSuccess:{type:nt(Function),default:Fr},onProgress:{type:nt(Function),default:Fr},onError:{type:nt(Function),default:Fr},onExceed:{type:nt(Function),default:Fr}}),r1e=["onKeydown"],i1e=["name","multiple","accept"],s1e=Ge({name:"ElUploadContent",inheritAttrs:!1}),o1e=Ge({...s1e,props:n1e,setup(t,{expose:n}){const i=t,o=Ct("upload"),l=qr({}),d=qr(),h=M=>{if(M.length===0)return;const{autoUpload:T,limit:R,fileList:N,multiple:D,onStart:V,onExceed:B}=i;if(R&&N.length+M.length>R){B(M,N);return}D||(M=M.slice(0,1));for(const z of M){const H=z;H.uid=W1(),V(H),T&&g(H)}},g=async M=>{if(d.value.value="",!i.beforeUpload)return y(M);let T;try{T=await i.beforeUpload(M)}catch{T=!1}if(T===!1){i.onRemove(M);return}let R=M;T instanceof Blob&&(T instanceof File?R=T:R=new File([T],M.name,{type:M.type})),y(Object.assign(R,{uid:M.uid}))},y=M=>{const{headers:T,data:R,method:N,withCredentials:D,name:V,action:B,onProgress:z,onSuccess:H,onError:q,httpRequest:he}=i,{uid:ne}=M,se={headers:T||{},withCredentials:D,file:M,data:R,method:N,filename:V,action:B,onProgress:xe=>{z(xe,M)},onSuccess:xe=>{H(xe,M),delete l.value[ne]},onError:xe=>{q(xe,M),delete l.value[ne]}},oe=he(se);l.value[ne]=oe,oe instanceof Promise&&oe.then(se.onSuccess,se.onError)},b=M=>{const T=M.target.files;!T||h(Array.from(T))},C=()=>{i.disabled||(d.value.value="",d.value.click())},E=()=>{C()};return n({abort:M=>{Uee(l.value).filter(M?([R])=>String(M.uid)===R:()=>!0).forEach(([R,N])=>{N instanceof XMLHttpRequest&&N.abort(),delete l.value[R]})},upload:g}),(M,T)=>($(),_e("div",{class:J([v(o).b(),v(o).m(M.listType),v(o).is("drag",M.drag)]),tabindex:"0",onClick:C,onKeydown:pr(Dn(E,["self"]),["enter","space"])},[M.drag?($(),rt(t1e,{key:0,disabled:M.disabled,onFile:h},{default:Ue(()=>[yt(M.$slots,"default")]),_:3},8,["disabled"])):yt(M.$slots,"default",{key:1}),Ie("input",{ref_key:"inputRef",ref:d,class:J(v(o).e("input")),name:M.name,multiple:M.multiple,accept:M.accept,type:"file",onChange:b,onClick:T[0]||(T[0]=Dn(()=>{},["stop"]))},null,42,i1e)],42,r1e))}});var BT=Ht(o1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const DT="ElUpload",a1e=t=>{var n;(n=t.url)!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(t.url)},l1e=(t,n)=>{const i=Bee(t,"fileList",void 0,{passive:!0}),o=I=>i.value.find(M=>M.uid===I.uid);function l(I){var M;(M=n.value)==null||M.abort(I)}function d(I=["ready","uploading","success","fail"]){i.value=i.value.filter(M=>!I.includes(M.status))}const h=(I,M)=>{const T=o(M);!T||(console.error(I),T.status="fail",i.value.splice(i.value.indexOf(T),1),t.onError(I,T,i.value),t.onChange(T,i.value))},g=(I,M)=>{const T=o(M);!T||(t.onProgress(I,T,i.value),T.status="uploading",T.percentage=Math.round(I.percent))},y=(I,M)=>{const T=o(M);!T||(T.status="success",T.response=I,t.onSuccess(I,T,i.value),t.onChange(T,i.value))},b=I=>{rs(I.uid)&&(I.uid=W1());const M={name:I.name,percentage:0,status:"ready",size:I.size,raw:I,uid:I.uid};if(t.listType==="picture-card"||t.listType==="picture")try{M.url=URL.createObjectURL(I)}catch(T){T.message,t.onError(T,M,i.value)}i.value=[...i.value,M],t.onChange(M,i.value)},C=async I=>{const M=I instanceof File?o(I):I;M||ki(DT,"file to be removed not found");const T=R=>{l(R);const N=i.value;N.splice(N.indexOf(R),1),t.onRemove(R,N),a1e(R)};t.beforeRemove?await t.beforeRemove(M,i.value)!==!1&&T(M):T(M)};function E(){i.value.filter(({status:I})=>I==="ready").forEach(({raw:I})=>{var M;return I&&((M=n.value)==null?void 0:M.upload(I))})}return It(()=>t.listType,I=>{I!=="picture-card"&&I!=="picture"||(i.value=i.value.map(M=>{const{raw:T,url:R}=M;if(!R&&T)try{M.url=URL.createObjectURL(T)}catch(N){t.onError(N,M,i.value)}return M}))}),It(i,I=>{for(const M of I)M.uid||(M.uid=W1()),M.status||(M.status="success")},{immediate:!0,deep:!0}),{uploadFiles:i,abort:l,clearFiles:d,handleError:h,handleProgress:g,handleStart:b,handleSuccess:y,handleRemove:C,submit:E}},c1e=Ge({name:"ElUpload"}),u1e=Ge({...c1e,props:Gbe,setup(t,{expose:n}){const i=t,o=ss(),l=wa(),d=qr(),{abort:h,submit:g,clearFiles:y,uploadFiles:b,handleStart:C,handleError:E,handleRemove:I,handleSuccess:M,handleProgress:T}=l1e(i,d),R=K(()=>i.listType==="picture-card"),N=K(()=>({...i,fileList:b.value,onStart:C,onProgress:T,onSuccess:M,onError:E,onRemove:I}));return hi(()=>{b.value.forEach(({url:D})=>{D!=null&&D.startsWith("blob:")&&URL.revokeObjectURL(D)})}),or(a3,{accept:ai(i,"accept")}),n({abort:h,submit:g,clearFiles:y,handleStart:C,handleRemove:I}),(D,V)=>($(),_e("div",null,[v(R)&&D.showFileList?($(),rt(NT,{key:0,disabled:v(l),"list-type":D.listType,files:v(b),"handle-preview":D.onPreview,onRemove:v(I)},Ec({append:Ue(()=>[Re(BT,ir({ref_key:"uploadRef",ref:d},v(N)),{default:Ue(()=>[v(o).trigger?yt(D.$slots,"trigger",{key:0}):Ze("v-if",!0),!v(o).trigger&&v(o).default?yt(D.$slots,"default",{key:1}):Ze("v-if",!0)]),_:3},16)]),_:2},[D.$slots.file?{name:"default",fn:Ue(({file:B})=>[yt(D.$slots,"file",{file:B})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):Ze("v-if",!0),!v(R)||v(R)&&!D.showFileList?($(),rt(BT,ir({key:1,ref_key:"uploadRef",ref:d},v(N)),{default:Ue(()=>[v(o).trigger?yt(D.$slots,"trigger",{key:0}):Ze("v-if",!0),!v(o).trigger&&v(o).default?yt(D.$slots,"default",{key:1}):Ze("v-if",!0)]),_:3},16)):Ze("v-if",!0),D.$slots.trigger?yt(D.$slots,"default",{key:2}):Ze("v-if",!0),yt(D.$slots,"tip"),!v(R)&&D.showFileList?($(),rt(NT,{key:3,disabled:v(l),"list-type":D.listType,files:v(b),"handle-preview":D.onPreview,onRemove:v(I)},Ec({_:2},[D.$slots.file?{name:"default",fn:Ue(({file:B})=>[yt(D.$slots,"file",{file:B})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):Ze("v-if",!0)]))}});var d1e=Ht(u1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const f1e=er(d1e);var h1e=[sne,gne,$ie,D0e,Zie,ose,j3,Ase,yse,fs,eB,Ooe,zoe,nae,rae,gle,rle,Sle,Fo,wae,xB,xle,$le,Wle,Ole,_ce,bce,Bce,Dce,kce,Lce,Oce,Que,ede,tde,mde,i6,Rde,yfe,bfe,Sfe,h6,Whe,Khe,un,lpe,g6,vs,v6,Spe,zpe,Hpe,Qpe,Ype,Zme,ige,hge,$3,C6,BB,Vae,Fae,Tge,kge,zge,Gl,Wu,h_,Ime,Nve,Gve,Uve,v_e,S_e,P_e,N_e,H_e,jAe,qAe,B0e,j0e,q0e,iA,goe,nye,aye,lye,Xs,Dye,jye,cbe,mbe,Dbe,f1e];const da="ElInfiniteScroll",p1e=50,m1e=200,g1e=0,v1e={delay:{type:Number,default:m1e},distance:{type:Number,default:g1e},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},jw=(t,n)=>Object.entries(v1e).reduce((i,[o,l])=>{var d,h;const{type:g,default:y}=l,b=t.getAttribute(`infinite-scroll-${o}`);let C=(h=(d=n[b])!=null?d:b)!=null?h:y;return C=C==="false"?!1:C,C=g(C),i[o]=Number.isNaN(C)?y:C,i},{}),RD=t=>{const{observer:n}=t[da];n&&(n.disconnect(),delete t[da].observer)},_1e=(t,n)=>{const{container:i,containerEl:o,instance:l,observer:d,lastScrollTop:h}=t[da],{disabled:g,distance:y}=jw(t,l),{clientHeight:b,scrollHeight:C,scrollTop:E}=o,I=E-h;if(t[da].lastScrollTop=E,d||g||I<0)return;let M=!1;if(i===t)M=C-(b+E)<=y;else{const{clientTop:T,scrollHeight:R}=t,N=Oee(t,o);M=E+b>=N+T+R-y}M&&n.call(l)};function Nb(t,n){const{containerEl:i,instance:o}=t[da],{disabled:l}=jw(t,o);l||i.clientHeight===0||(i.scrollHeight<=i.clientHeight?n.call(o):RD(t))}const A1e={async mounted(t,n){const{instance:i,value:o}=n;Nn(o)||ki(da,"'v-infinite-scroll' binding value must be a function"),await dn();const{delay:l,immediate:d}=jw(t,i),h=$S(t,!0),g=h===window?document.documentElement:h,y=Fu(_1e.bind(null,t,o),l);if(!!h){if(t[da]={instance:i,container:h,containerEl:g,delay:l,cb:o,onScroll:y,lastScrollTop:g.scrollTop},d){const b=new MutationObserver(Fu(Nb.bind(null,t,o),p1e));t[da].observer=b,b.observe(t,{childList:!0,subtree:!0}),Nb(t,o)}h.addEventListener("scroll",y)}},unmounted(t){const{container:n,onScroll:i}=t[da];n==null||n.removeEventListener("scroll",i),RD(t)},async updated(t){t[da]||await dn();const{containerEl:n,cb:i,observer:o}=t[da];n.clientHeight&&o&&Nb(t,i)}},K1=A1e;K1.install=t=>{t.directive("InfiniteScroll",K1)};const y1e=K1;function b1e(t){let n;const i=Ct("loading"),o=re(!1),l=Mr({...t,originalPosition:"",originalOverflow:"",visible:!1});function d(M){l.text=M}function h(){const M=l.parent;if(!M.vLoadingAddClassList){let T=M.getAttribute("loading-number");T=Number.parseInt(T)-1,T?M.setAttribute("loading-number",T.toString()):(Us(M,i.bm("parent","relative")),M.removeAttribute("loading-number")),Us(M,i.bm("parent","hidden"))}g(),E.unmount()}function g(){var M,T;(T=(M=I.$el)==null?void 0:M.parentNode)==null||T.removeChild(I.$el)}function y(){var M;t.beforeClose&&!t.beforeClose()||(o.value=!0,clearTimeout(n),n=window.setTimeout(b,400),l.visible=!1,(M=t.closed)==null||M.call(t))}function b(){if(!o.value)return;const M=l.parent;o.value=!1,M.vLoadingAddClassList=void 0,h()}const E=KP({name:"ElLoading",setup(){return()=>{const M=l.spinner||l.svg,T=yn("svg",{class:"circular",viewBox:l.svgViewBox?l.svgViewBox:"0 0 50 50",...M?{innerHTML:M}:{}},[yn("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),R=l.text?yn("p",{class:i.b("text")},[l.text]):void 0;return yn(Si,{name:i.b("fade"),onAfterLeave:b},{default:Ue(()=>[zn(Re("div",{style:{backgroundColor:l.background||""},class:[i.b("mask"),l.customClass,l.fullscreen?"is-fullscreen":""]},[yn("div",{class:i.b("spinner")},[T,R])]),[[yr,l.visible]])])})}}}),I=E.mount(document.createElement("div"));return{...Di(l),setText:d,removeElLoadingChild:g,close:y,handleAfterLeave:b,vm:I,get $el(){return I.$el}}}let yv;const j1=function(t={}){if(!fr)return;const n=S1e(t);if(n.fullscreen&&yv)return yv;const i=b1e({...n,closed:()=>{var l;(l=n.closed)==null||l.call(n),n.fullscreen&&(yv=void 0)}});w1e(n,n.parent,i),kT(n,n.parent,i),n.parent.vLoadingAddClassList=()=>kT(n,n.parent,i);let o=n.parent.getAttribute("loading-number");return o?o=`${Number.parseInt(o)+1}`:o="1",n.parent.setAttribute("loading-number",o),n.parent.appendChild(i.$el),dn(()=>i.visible.value=n.visible),n.fullscreen&&(yv=i),i},S1e=t=>{var n,i,o,l;let d;return On(t.target)?d=(n=document.querySelector(t.target))!=null?n:document.body:d=t.target||document.body,{parent:d===document.body||t.body?document.body:d,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:d===document.body&&((i=t.fullscreen)!=null?i:!0),lock:(o=t.lock)!=null?o:!1,customClass:t.customClass||"",visible:(l=t.visible)!=null?l:!0,target:d}},w1e=async(t,n,i)=>{const{nextZIndex:o}=Fl(),l={};if(t.fullscreen)i.originalPosition.value=El(document.body,"position"),i.originalOverflow.value=El(document.body,"overflow"),l.zIndex=o();else if(t.parent===document.body){i.originalPosition.value=El(document.body,"position"),await dn();for(const d of["top","left"]){const h=d==="top"?"scrollTop":"scrollLeft";l[d]=`${t.target.getBoundingClientRect()[d]+document.body[h]+document.documentElement[h]-Number.parseInt(El(document.body,`margin-${d}`),10)}px`}for(const d of["height","width"])l[d]=`${t.target.getBoundingClientRect()[d]}px`}else i.originalPosition.value=El(n,"position");for(const[d,h]of Object.entries(l))i.$el.style[d]=h},kT=(t,n,i)=>{const o=Ct("loading");["absolute","fixed","sticky"].includes(i.originalPosition.value)?Us(n,o.bm("parent","relative")):Va(n,o.bm("parent","relative")),t.fullscreen&&t.lock?Va(n,o.bm("parent","hidden")):Us(n,o.bm("parent","hidden"))},q1=Symbol("ElLoading"),LT=(t,n)=>{var i,o,l,d;const h=n.instance,g=I=>nr(n.value)?n.value[I]:void 0,y=I=>{const M=On(I)&&(h==null?void 0:h[I])||I;return M&&re(M)},b=I=>y(g(I)||t.getAttribute(`element-loading-${Nc(I)}`)),C=(i=g("fullscreen"))!=null?i:n.modifiers.fullscreen,E={text:b("text"),svg:b("svg"),svgViewBox:b("svgViewBox"),spinner:b("spinner"),background:b("background"),customClass:b("customClass"),fullscreen:C,target:(o=g("target"))!=null?o:C?void 0:t,body:(l=g("body"))!=null?l:n.modifiers.body,lock:(d=g("lock"))!=null?d:n.modifiers.lock};t[q1]={options:E,instance:j1(E)}},E1e=(t,n)=>{for(const i of Object.keys(n))Wr(n[i])&&(n[i].value=t[i])},OT={mounted(t,n){n.value&&LT(t,n)},updated(t,n){const i=t[q1];n.oldValue!==n.value&&(n.value&&!n.oldValue?LT(t,n):n.value&&n.oldValue?nr(n.value)&&E1e(n.value,i.options):i==null||i.instance.close())},unmounted(t){var n;(n=t[q1])==null||n.instance.close()}},C1e={install(t){t.directive("loading",OT),t.config.globalProperties.$loading=j1},directive:OT,service:j1},TD=["success","info","warning","error"],Vs=ni({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:fr?document.body:void 0}),I1e=$t({customClass:{type:String,default:Vs.customClass},center:{type:Boolean,default:Vs.center},dangerouslyUseHTMLString:{type:Boolean,default:Vs.dangerouslyUseHTMLString},duration:{type:Number,default:Vs.duration},icon:{type:jr,default:Vs.icon},id:{type:String,default:Vs.id},message:{type:nt([String,Object,Function]),default:Vs.message},onClose:{type:nt(Function),required:!1},showClose:{type:Boolean,default:Vs.showClose},type:{type:String,values:TD,default:Vs.type},offset:{type:Number,default:Vs.offset},zIndex:{type:Number,default:Vs.zIndex},grouping:{type:Boolean,default:Vs.grouping},repeatNum:{type:Number,default:Vs.repeatNum}}),x1e={destroy:()=>!0},Ua=tP([]),M1e=t=>{const n=Ua.findIndex(l=>l.id===t),i=Ua[n];let o;return n>0&&(o=Ua[n-1]),{current:i,prev:o}},R1e=t=>{const{prev:n}=M1e(t);return n?n.vm.exposed.bottom.value:0},T1e=["id"],P1e=["innerHTML"],N1e=Ge({name:"ElMessage"}),B1e=Ge({...N1e,props:I1e,emits:x1e,setup(t,{expose:n}){const i=t,{Close:o}=WS,l=Ct("message"),d=re(),h=re(!1),g=re(0);let y;const b=K(()=>i.type?i.type==="error"?"danger":i.type:"info"),C=K(()=>{const z=i.type;return{[l.bm("icon",z)]:z&&xc[z]}}),E=K(()=>i.icon||xc[i.type]||""),I=K(()=>R1e(i.id)),M=K(()=>i.offset+I.value),T=K(()=>g.value+M.value),R=K(()=>({top:`${M.value}px`,zIndex:i.zIndex}));function N(){i.duration!==0&&({stop:y}=Xu(()=>{V()},i.duration))}function D(){y==null||y()}function V(){h.value=!1}function B({code:z}){z===An.esc&&V()}return jn(()=>{N(),h.value=!0}),It(()=>i.repeatNum,()=>{D(),N()}),Jr(document,"keydown",B),As(d,()=>{g.value=d.value.getBoundingClientRect().height}),n({visible:h,bottom:T,close:V}),(z,H)=>($(),rt(Si,{name:v(l).b("fade"),onBeforeLeave:z.onClose,onAfterLeave:H[0]||(H[0]=q=>z.$emit("destroy")),persisted:""},{default:Ue(()=>[zn(Ie("div",{id:z.id,ref_key:"messageRef",ref:d,class:J([v(l).b(),{[v(l).m(z.type)]:z.type&&!z.icon},v(l).is("center",z.center),v(l).is("closable",z.showClose),z.customClass]),style:fn(v(R)),role:"alert",onMouseenter:D,onMouseleave:N},[z.repeatNum>1?($(),rt(v(j3),{key:0,value:z.repeatNum,type:v(b),class:J(v(l).e("badge"))},null,8,["value","type","class"])):Ze("v-if",!0),v(E)?($(),rt(v(un),{key:1,class:J([v(l).e("icon"),v(C)])},{default:Ue(()=>[($(),rt(sr(v(E))))]),_:1},8,["class"])):Ze("v-if",!0),yt(z.$slots,"default",{},()=>[z.dangerouslyUseHTMLString?($(),_e(gn,{key:1},[Ze(" Caution here, message could've been compromised, never use user's input as message "),Ie("p",{class:J(v(l).e("content")),innerHTML:z.message},null,10,P1e)],2112)):($(),_e("p",{key:0,class:J(v(l).e("content"))},Xt(z.message),3))]),z.showClose?($(),rt(v(un),{key:2,class:J(v(l).e("closeBtn")),onClick:Dn(V,["stop"])},{default:Ue(()=>[Re(v(o))]),_:1},8,["class","onClick"])):Ze("v-if",!0)],46,T1e),[[yr,h.value]])]),_:3},8,["name","onBeforeLeave"]))}});var D1e=Ht(B1e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let k1e=1;const PD=t=>{const n=!t||On(t)||ri(t)||Nn(t)?{message:t}:t,i={...Vs,...n};if(!i.appendTo)i.appendTo=document.body;else if(On(i.appendTo)){let o=document.querySelector(i.appendTo);va(o)||(o=document.body),i.appendTo=o}return i},L1e=t=>{const n=Ua.indexOf(t);if(n===-1)return;Ua.splice(n,1);const{handler:i}=t;i.close()},O1e=({appendTo:t,...n},i)=>{const{nextZIndex:o}=Fl(),l=`message_${k1e++}`,d=n.onClose,h=document.createElement("div"),g={...n,zIndex:o()+n.zIndex,id:l,onClose:()=>{d==null||d(),L1e(E)},onDestroy:()=>{If(null,h)}},y=Re(D1e,g,Nn(g.message)||ri(g.message)?{default:Nn(g.message)?g.message:()=>g.message}:null);y.appContext=i||Gf._context,If(y,h),t.appendChild(h.firstElementChild);const b=y.component,E={id:l,vnode:y,vm:b,handler:{close:()=>{b.exposed.visible.value=!1}},props:y.component.props};return E},Gf=(t={},n)=>{if(!fr)return{close:()=>{}};if(Hn(y1.max)&&Ua.length>=y1.max)return{close:()=>{}};const i=PD(t);if(i.grouping&&Ua.length){const l=Ua.find(({vnode:d})=>{var h;return((h=d.props)==null?void 0:h.message)===i.message});if(l)return l.props.repeatNum+=1,l.props.type=i.type,l.handler}const o=O1e(i,n);return Ua.push(o),o.handler};TD.forEach(t=>{Gf[t]=(n={},i)=>{const o=PD(n);return Gf({...o,type:t},i)}});function F1e(t){for(const n of Ua)(!t||t===n.props.type)&&n.handler.close()}Gf.closeAll=F1e;Gf._context=null;const V1e=jN(Gf,"$message"),G1e=Ge({name:"ElMessageBox",directives:{TrapFocus:Jse},components:{ElButton:fs,ElFocusTrap:rA,ElInput:vs,ElOverlay:ww,ElIcon:un,...WS},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Wf},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:n}){const{t:i}=Sr(),o=Ct("message-box"),l=re(!1),{nextZIndex:d}=Fl(),h=Mr({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:d()}),g=K(()=>{const ce=h.type;return{[o.bm("icon",ce)]:ce&&xc[ce]}}),y=_a(),b=_a(),C=Mi(K(()=>t.buttonSize),{prop:!0,form:!0,formItem:!0}),E=K(()=>h.icon||xc[h.type]||""),I=K(()=>!!h.message),M=re(),T=re(),R=re(),N=re(),D=re(),V=K(()=>h.confirmButtonClass);It(()=>h.inputValue,async ce=>{await dn(),t.boxType==="prompt"&&ce!==null&&se()},{immediate:!0}),It(()=>l.value,ce=>{var Ae,Se;ce&&(t.boxType!=="prompt"&&(h.autofocus?R.value=(Se=(Ae=D.value)==null?void 0:Ae.$el)!=null?Se:M.value:R.value=M.value),h.zIndex=d()),t.boxType==="prompt"&&(ce?dn().then(()=>{var ye;N.value&&N.value.$el&&(h.autofocus?R.value=(ye=oe())!=null?ye:M.value:R.value=M.value)}):(h.editorErrorMessage="",h.validateError=!1))});const B=K(()=>t.draggable);f3(M,T,B),jn(async()=>{await dn(),t.closeOnHashChange&&window.addEventListener("hashchange",z)}),hi(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",z)});function z(){!l.value||(l.value=!1,dn(()=>{h.action&&n("action",h.action)}))}const H=()=>{t.closeOnClickModal&&ne(h.distinguishCancelAndClose?"close":"cancel")},q=ew(H),he=ce=>{if(h.inputType!=="textarea")return ce.preventDefault(),ne("confirm")},ne=ce=>{var Ae;t.boxType==="prompt"&&ce==="confirm"&&!se()||(h.action=ce,h.beforeClose?(Ae=h.beforeClose)==null||Ae.call(h,ce,h,z):z())},se=()=>{if(t.boxType==="prompt"){const ce=h.inputPattern;if(ce&&!ce.test(h.inputValue||""))return h.editorErrorMessage=h.inputErrorMessage||i("el.messagebox.error"),h.validateError=!0,!1;const Ae=h.inputValidator;if(typeof Ae=="function"){const Se=Ae(h.inputValue);if(Se===!1)return h.editorErrorMessage=h.inputErrorMessage||i("el.messagebox.error"),h.validateError=!0,!1;if(typeof Se=="string")return h.editorErrorMessage=Se,h.validateError=!0,!1}}return h.editorErrorMessage="",h.validateError=!1,!0},oe=()=>{const ce=N.value.$refs;return ce.input||ce.textarea},xe=()=>{ne("close")},me=()=>{t.closeOnPressEscape&&xe()};return t.lockScroll&&h3(l),pte(l),{...Di(h),ns:o,overlayEvent:q,visible:l,hasMessage:I,typeClass:g,contentId:y,inputId:b,btnSize:C,iconComponent:E,confirmButtonClasses:V,rootRef:M,focusStartRef:R,headerRef:T,inputRef:N,confirmRef:D,doClose:z,handleClose:xe,onCloseRequested:me,handleWrapperClick:H,handleInputEnter:he,handleAction:ne,t:i}}}),U1e=["aria-label","aria-describedby"],z1e=["aria-label"],H1e=["id"];function Q1e(t,n,i,o,l,d){const h=Mn("el-icon"),g=Mn("close"),y=Mn("el-input"),b=Mn("el-button"),C=Mn("el-focus-trap"),E=Mn("el-overlay");return $(),rt(Si,{name:"fade-in-linear",onAfterLeave:n[11]||(n[11]=I=>t.$emit("vanish")),persisted:""},{default:Ue(()=>[zn(Re(E,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:Ue(()=>[Ie("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:J(`${t.ns.namespace.value}-overlay-message-box`),onClick:n[8]||(n[8]=(...I)=>t.overlayEvent.onClick&&t.overlayEvent.onClick(...I)),onMousedown:n[9]||(n[9]=(...I)=>t.overlayEvent.onMousedown&&t.overlayEvent.onMousedown(...I)),onMouseup:n[10]||(n[10]=(...I)=>t.overlayEvent.onMouseup&&t.overlayEvent.onMouseup(...I))},[Re(C,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:Ue(()=>[Ie("div",{ref:"rootRef",class:J([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:fn(t.customStyle),tabindex:"-1",onClick:n[7]||(n[7]=Dn(()=>{},["stop"]))},[t.title!==null&&t.title!==void 0?($(),_e("div",{key:0,ref:"headerRef",class:J(t.ns.e("header"))},[Ie("div",{class:J(t.ns.e("title"))},[t.iconComponent&&t.center?($(),rt(h,{key:0,class:J([t.ns.e("status"),t.typeClass])},{default:Ue(()=>[($(),rt(sr(t.iconComponent)))]),_:1},8,["class"])):Ze("v-if",!0),Ie("span",null,Xt(t.title),1)],2),t.showClose?($(),_e("button",{key:0,type:"button",class:J(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:n[0]||(n[0]=I=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel")),onKeydown:n[1]||(n[1]=pr(Dn(I=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[Re(h,{class:J(t.ns.e("close"))},{default:Ue(()=>[Re(g)]),_:1},8,["class"])],42,z1e)):Ze("v-if",!0)],2)):Ze("v-if",!0),Ie("div",{id:t.contentId,class:J(t.ns.e("content"))},[Ie("div",{class:J(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?($(),rt(h,{key:0,class:J([t.ns.e("status"),t.typeClass])},{default:Ue(()=>[($(),rt(sr(t.iconComponent)))]),_:1},8,["class"])):Ze("v-if",!0),t.hasMessage?($(),_e("div",{key:1,class:J(t.ns.e("message"))},[yt(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?($(),rt(sr(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):($(),rt(sr(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:Ue(()=>[mr(Xt(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):Ze("v-if",!0)],2),zn(Ie("div",{class:J(t.ns.e("input"))},[Re(y,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":n[2]||(n[2]=I=>t.inputValue=I),type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:J({invalid:t.validateError}),onKeydown:pr(t.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Ie("div",{class:J(t.ns.e("errormsg")),style:fn({visibility:t.editorErrorMessage?"visible":"hidden"})},Xt(t.editorErrorMessage),7)],2),[[yr,t.showInput]])],10,H1e),Ie("div",{class:J(t.ns.e("btns"))},[t.showCancelButton?($(),rt(b,{key:0,loading:t.cancelButtonLoading,class:J([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:n[3]||(n[3]=I=>t.handleAction("cancel")),onKeydown:n[4]||(n[4]=pr(Dn(I=>t.handleAction("cancel"),["prevent"]),["enter"]))},{default:Ue(()=>[mr(Xt(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):Ze("v-if",!0),zn(Re(b,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,class:J([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:n[5]||(n[5]=I=>t.handleAction("confirm")),onKeydown:n[6]||(n[6]=pr(Dn(I=>t.handleAction("confirm"),["prevent"]),["enter"]))},{default:Ue(()=>[mr(Xt(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[yr,t.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,U1e)]),_:3},8,["z-index","overlay-class","mask"]),[[yr,t.visible]])]),_:3})}var X1e=Ht(G1e,[["render",Q1e],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const cm=new Map,$1e=t=>{let n=document.body;return t.appendTo&&(On(t.appendTo)&&(n=document.querySelector(t.appendTo)),va(t.appendTo)&&(n=t.appendTo),va(n)||(n=document.body)),n},W1e=(t,n,i=null)=>{const o=Re(X1e,t,Nn(t.message)||ri(t.message)?{default:Nn(t.message)?t.message:()=>t.message}:null);return o.appContext=i,If(o,n),$1e(t).appendChild(n.firstElementChild),o.component},K1e=()=>document.createElement("div"),j1e=(t,n)=>{const i=K1e();t.onVanish=()=>{If(null,i),cm.delete(l)},t.onAction=d=>{const h=cm.get(l);let g;t.showInput?g={value:l.inputValue,action:d}:g=d,t.callback?t.callback(g,o.proxy):d==="cancel"||d==="close"?t.distinguishCancelAndClose&&d!=="cancel"?h.reject("close"):h.reject("cancel"):h.resolve(g)};const o=W1e(t,i,n),l=o.proxy;for(const d in t)cr(t,d)&&!cr(l.$props,d)&&(l[d]=t[d]);return l.visible=!0,l};function jf(t,n=null){if(!fr)return Promise.reject();let i;return On(t)||ri(t)?t={message:t}:i=t.callback,new Promise((o,l)=>{const d=j1e(t,n!=null?n:jf._context);cm.set(d,{options:t,callback:i,resolve:o,reject:l})})}const q1e=["alert","confirm","prompt"],Y1e={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};q1e.forEach(t=>{jf[t]=J1e(t)});function J1e(t){return(n,i,o,l)=>{let d="";return nr(i)?(o=i,d=""):ts(i)?d="":d=i,jf(Object.assign({title:d,message:n,type:"",...Y1e[t]},o,{boxType:t}),l)}}jf.close=()=>{cm.forEach((t,n)=>{n.doClose()}),cm.clear()};jf._context=null;const mc=jf;mc.install=t=>{mc._context=t._context,t.config.globalProperties.$msgbox=mc,t.config.globalProperties.$messageBox=mc,t.config.globalProperties.$alert=mc.alert,t.config.globalProperties.$confirm=mc.confirm,t.config.globalProperties.$prompt=mc.prompt};const Z1e=mc,ND=["success","info","warning","error"],eSe=$t({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:jr},id:{type:String,default:""},message:{type:nt([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:nt(Function),default:()=>{}},onClose:{type:nt(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...ND,""],default:""},zIndex:{type:Number,default:0}}),tSe={destroy:()=>!0},nSe=["id"],rSe=["textContent"],iSe={key:0},sSe=["innerHTML"],oSe=Ge({name:"ElNotification"}),aSe=Ge({...oSe,props:eSe,emits:tSe,setup(t,{expose:n}){const i=t,o=Ct("notification"),{Close:l}=WN,d=re(!1);let h;const g=K(()=>{const N=i.type;return N&&xc[i.type]?o.m(N):""}),y=K(()=>i.type&&xc[i.type]||i.icon),b=K(()=>i.position.endsWith("right")?"right":"left"),C=K(()=>i.position.startsWith("top")?"top":"bottom"),E=K(()=>({[C.value]:`${i.offset}px`,zIndex:i.zIndex}));function I(){i.duration>0&&({stop:h}=Xu(()=>{d.value&&T()},i.duration))}function M(){h==null||h()}function T(){d.value=!1}function R({code:N}){N===An.delete||N===An.backspace?M():N===An.esc?d.value&&T():I()}return jn(()=>{I(),d.value=!0}),Jr(document,"keydown",R),n({visible:d,close:T}),(N,D)=>($(),rt(Si,{name:v(o).b("fade"),onBeforeLeave:N.onClose,onAfterLeave:D[1]||(D[1]=V=>N.$emit("destroy")),persisted:""},{default:Ue(()=>[zn(Ie("div",{id:N.id,class:J([v(o).b(),N.customClass,v(b)]),style:fn(v(E)),role:"alert",onMouseenter:M,onMouseleave:I,onClick:D[0]||(D[0]=(...V)=>N.onClick&&N.onClick(...V))},[v(y)?($(),rt(v(un),{key:0,class:J([v(o).e("icon"),v(g)])},{default:Ue(()=>[($(),rt(sr(v(y))))]),_:1},8,["class"])):Ze("v-if",!0),Ie("div",{class:J(v(o).e("group"))},[Ie("h2",{class:J(v(o).e("title")),textContent:Xt(N.title)},null,10,rSe),zn(Ie("div",{class:J(v(o).e("content")),style:fn(N.title?void 0:{margin:0})},[yt(N.$slots,"default",{},()=>[N.dangerouslyUseHTMLString?($(),_e(gn,{key:1},[Ze(" Caution here, message could've been compromised, never use user's input as message "),Ie("p",{innerHTML:N.message},null,8,sSe)],2112)):($(),_e("p",iSe,Xt(N.message),1))])],6),[[yr,N.message]]),N.showClose?($(),rt(v(un),{key:0,class:J(v(o).e("closeBtn")),onClick:Dn(T,["stop"])},{default:Ue(()=>[Re(v(l))]),_:1},8,["class","onClick"])):Ze("v-if",!0)],2)],46,nSe),[[yr,d.value]])]),_:3},8,["name","onBeforeLeave"]))}});var lSe=Ht(aSe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const S_={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},Y1=16;let cSe=1;const Uf=function(t={},n=null){if(!fr)return{close:()=>{}};(typeof t=="string"||ri(t))&&(t={message:t});const i=t.position||"top-right";let o=t.offset||0;S_[i].forEach(({vm:E})=>{var I;o+=(((I=E.el)==null?void 0:I.offsetHeight)||0)+Y1}),o+=Y1;const{nextZIndex:l}=Fl(),d=`notification_${cSe++}`,h=t.onClose,g={...t,zIndex:l(),offset:o,id:d,onClose:()=>{uSe(d,i,h)}};let y=document.body;va(t.appendTo)?y=t.appendTo:On(t.appendTo)&&(y=document.querySelector(t.appendTo)),va(y)||(y=document.body);const b=document.createElement("div"),C=Re(lSe,g,ri(g.message)?{default:()=>g.message}:null);return C.appContext=n!=null?n:Uf._context,C.props.onDestroy=()=>{If(null,b)},If(C,b),S_[i].push({vm:C}),y.appendChild(b.firstElementChild),{close:()=>{C.component.exposed.visible.value=!1}}};ND.forEach(t=>{Uf[t]=(n={})=>((typeof n=="string"||ri(n))&&(n={message:n}),Uf({...n,type:t}))});function uSe(t,n,i){const o=S_[n],l=o.findIndex(({vm:b})=>{var C;return((C=b.component)==null?void 0:C.props.id)===t});if(l===-1)return;const{vm:d}=o[l];if(!d)return;i==null||i(d);const h=d.el.offsetHeight,g=n.split("-")[0];o.splice(l,1);const y=o.length;if(!(y<1))for(let b=l;b<y;b++){const{el:C,component:E}=o[b].vm,I=Number.parseInt(C.style[g],10)-h-Y1;E.props.offset=I}}function dSe(){for(const t of Object.values(S_))t.forEach(({vm:n})=>{n.component.exposed.visible.value=!1})}Uf.closeAll=dSe;Uf._context=null;const fSe=jN(Uf,"$notify");var hSe=[y1e,C1e,V1e,Z1e,fSe,E6],pSe=Zte([...h1e,...hSe]);KP(nK).use(pSe).mount("#app")});export default mSe();
