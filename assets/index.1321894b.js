var lV=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var p0e=lV((Ks,js)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerpolicy&&(u.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?u.credentials="include":a.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();function ky(e,n){const i=Object.create(null),s=e.split(",");for(let a=0;a<s.length;a++)i[s[a]]=!0;return n?a=>!!i[a.toLowerCase()]:a=>!!i[a]}function fn(e){if(sn(e)){const n={};for(let i=0;i<e.length;i++){const s=e[i],a=Dn(s)?fV(s):fn(s);if(a)for(const u in a)n[u]=a[u]}return n}else{if(Dn(e))return e;if(tr(e))return e}}const cV=/;(?![^(]*\))/g,uV=/:([^]+)/,dV=/\/\*.*?\*\//gs;function fV(e){const n={};return e.replace(dV,"").split(cV).forEach(i=>{if(i){const s=i.split(uV);s.length>1&&(n[s[0].trim()]=s[1].trim())}}),n}function Y(e){let n="";if(Dn(e))n=e;else if(sn(e))for(let i=0;i<e.length;i++){const s=Y(e[i]);s&&(n+=s+" ")}else if(tr(e))for(const i in e)e[i]&&(n+=i+" ");return n.trim()}function Ho(e){if(!e)return null;let{class:n,style:i}=e;return n&&!Dn(n)&&(e.class=Y(n)),i&&(e.style=fn(i)),e}const hV="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",pV=ky(hV);function HM(e){return!!e||e===""}function mV(e,n){if(e.length!==n.length)return!1;let i=!0;for(let s=0;i&&s<e.length;s++)i=wd(e[s],n[s]);return i}function wd(e,n){if(e===n)return!0;let i=ou(e),s=ou(n);if(i||s)return i&&s?e.getTime()===n.getTime():!1;if(i=Ah(e),s=Ah(n),i||s)return e===n;if(i=sn(e),s=sn(n),i||s)return i&&s?mV(e,n):!1;if(i=tr(e),s=tr(n),i||s){if(!i||!s)return!1;const a=Object.keys(e).length,u=Object.keys(n).length;if(a!==u)return!1;for(const f in e){const h=e.hasOwnProperty(f),_=n.hasOwnProperty(f);if(h&&!_||!h&&_||!wd(e[f],n[f]))return!1}}return String(e)===String(n)}function QM(e,n){return e.findIndex(i=>wd(i,n))}const Qt=e=>Dn(e)?e:e==null?"":sn(e)||tr(e)&&(e.toString===zM||!Tn(e.toString))?JSON.stringify(e,XM,2):String(e),XM=(e,n)=>n&&n.__v_isRef?XM(e,n.value):gd(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((i,[s,a])=>(i[`${s} =>`]=a,i),{})}:Ug(n)?{[`Set(${n.size})`]:[...n.values()]}:tr(n)&&!sn(n)&&!$M(n)?String(n):n,vi={},md=[],Lr=()=>{},gV=()=>!1,vV=/^on[^a-z]/,Gg=e=>vV.test(e),Ly=e=>e.startsWith("onUpdate:"),Wi=Object.assign,Oy=(e,n)=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)},_V=Object.prototype.hasOwnProperty,lr=(e,n)=>_V.call(e,n),sn=Array.isArray,gd=e=>jh(e)==="[object Map]",Ug=e=>jh(e)==="[object Set]",ou=e=>jh(e)==="[object Date]",Tn=e=>typeof e=="function",Dn=e=>typeof e=="string",Ah=e=>typeof e=="symbol",tr=e=>e!==null&&typeof e=="object",yh=e=>tr(e)&&Tn(e.then)&&Tn(e.catch),zM=Object.prototype.toString,jh=e=>zM.call(e),Fm=e=>jh(e).slice(8,-1),$M=e=>jh(e)==="[object Object]",Fy=e=>Dn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Vm=ky(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hg=e=>{const n=Object.create(null);return i=>n[i]||(n[i]=e(i))},AV=/-(\w)/g,mo=Hg(e=>e.replace(AV,(n,i)=>i?i.toUpperCase():"")),yV=/\B([A-Z])/g,Zl=Hg(e=>e.replace(yV,"-$1").toLowerCase()),qh=Hg(e=>e.charAt(0).toUpperCase()+e.slice(1)),Gm=Hg(e=>e?`on${qh(e)}`:""),bh=(e,n)=>!Object.is(e,n),Um=(e,n)=>{for(let i=0;i<e.length;i++)e[i](n)},pg=(e,n,i)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value:i})},Sh=e=>{const n=parseFloat(e);return isNaN(n)?e:n};let dC;const bV=()=>dC||(dC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let zs;class WM{constructor(n=!1){this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=zs,!n&&zs&&(this.index=(zs.scopes||(zs.scopes=[])).push(this)-1)}run(n){if(this.active){const i=zs;try{return zs=this,n()}finally{zs=i}}}on(){zs=this}off(){zs=this.parent}stop(n){if(this.active){let i,s;for(i=0,s=this.effects.length;i<s;i++)this.effects[i].stop();for(i=0,s=this.cleanups.length;i<s;i++)this.cleanups[i]();if(this.scopes)for(i=0,s=this.scopes.length;i<s;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!n){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this.active=!1}}}function SV(e){return new WM(e)}function EV(e,n=zs){n&&n.active&&n.effects.push(e)}function wV(){return zs}function KM(e){zs&&zs.cleanups.push(e)}const Vy=e=>{const n=new Set(e);return n.w=0,n.n=0,n},jM=e=>(e.w&Xl)>0,qM=e=>(e.n&Xl)>0,CV=({deps:e})=>{if(e.length)for(let n=0;n<e.length;n++)e[n].w|=Xl},IV=e=>{const{deps:n}=e;if(n.length){let i=0;for(let s=0;s<n.length;s++){const a=n[s];jM(a)&&!qM(a)?a.delete(e):n[i++]=a,a.w&=~Xl,a.n&=~Xl}n.length=i}},g0=new WeakMap;let eh=0,Xl=1;const v0=30;let Uo;const Zc=Symbol(""),_0=Symbol("");class Gy{constructor(n,i=null,s){this.fn=n,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,EV(this,s)}run(){if(!this.active)return this.fn();let n=Uo,i=Ul;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=Uo,Uo=this,Ul=!0,Xl=1<<++eh,eh<=v0?CV(this):fC(this),this.fn()}finally{eh<=v0&&IV(this),Xl=1<<--eh,Uo=this.parent,Ul=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Uo===this?this.deferStop=!0:this.active&&(fC(this),this.onStop&&this.onStop(),this.active=!1)}}function fC(e){const{deps:n}=e;if(n.length){for(let i=0;i<n.length;i++)n[i].delete(e);n.length=0}}let Ul=!0;const YM=[];function zd(){YM.push(Ul),Ul=!1}function $d(){const e=YM.pop();Ul=e===void 0?!0:e}function Ys(e,n,i){if(Ul&&Uo){let s=g0.get(e);s||g0.set(e,s=new Map);let a=s.get(i);a||s.set(i,a=Vy()),JM(a)}}function JM(e,n){let i=!1;eh<=v0?qM(e)||(e.n|=Xl,i=!jM(e)):i=!e.has(Uo),i&&(e.add(Uo),Uo.deps.push(e))}function Ya(e,n,i,s,a,u){const f=g0.get(e);if(!f)return;let h=[];if(n==="clear")h=[...f.values()];else if(i==="length"&&sn(e)){const _=Sh(s);f.forEach((y,S)=>{(S==="length"||S>=_)&&h.push(y)})}else switch(i!==void 0&&h.push(f.get(i)),n){case"add":sn(e)?Fy(i)&&h.push(f.get("length")):(h.push(f.get(Zc)),gd(e)&&h.push(f.get(_0)));break;case"delete":sn(e)||(h.push(f.get(Zc)),gd(e)&&h.push(f.get(_0)));break;case"set":gd(e)&&h.push(f.get(Zc));break}if(h.length===1)h[0]&&A0(h[0]);else{const _=[];for(const y of h)y&&_.push(...y);A0(Vy(_))}}function A0(e,n){const i=sn(e)?e:[...e];for(const s of i)s.computed&&hC(s);for(const s of i)s.computed||hC(s)}function hC(e,n){(e!==Uo||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const MV=ky("__proto__,__v_isRef,__isVue"),ZM=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ah)),xV=Uy(),RV=Uy(!1,!0),TV=Uy(!0),pC=PV();function PV(){const e={};return["includes","indexOf","lastIndexOf"].forEach(n=>{e[n]=function(...i){const s=Nr(this);for(let u=0,f=this.length;u<f;u++)Ys(s,"get",u+"");const a=s[n](...i);return a===-1||a===!1?s[n](...i.map(Nr)):a}}),["push","pop","shift","unshift","splice"].forEach(n=>{e[n]=function(...i){zd();const s=Nr(this)[n].apply(this,i);return $d(),s}}),e}function Uy(e=!1,n=!1){return function(s,a,u){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_isShallow")return n;if(a==="__v_raw"&&u===(e?n?WV:ix:n?rx:nx).get(s))return s;const f=sn(s);if(!e&&f&&lr(pC,a))return Reflect.get(pC,a,u);const h=Reflect.get(s,a,u);return(Ah(a)?ZM.has(a):MV(a))||(e||Ys(s,"get",a),n)?h:Xr(h)?f&&Fy(a)?h:h.value:tr(h)?e?Yh(h):Tr(h):h}}const NV=ex(),DV=ex(!0);function ex(e=!1){return function(i,s,a,u){let f=i[s];if(Cd(f)&&Xr(f)&&!Xr(a))return!1;if(!e&&(!mg(a)&&!Cd(a)&&(f=Nr(f),a=Nr(a)),!sn(i)&&Xr(f)&&!Xr(a)))return f.value=a,!0;const h=sn(i)&&Fy(s)?Number(s)<i.length:lr(i,s),_=Reflect.set(i,s,a,u);return i===Nr(u)&&(h?bh(a,f)&&Ya(i,"set",s,a):Ya(i,"add",s,a)),_}}function BV(e,n){const i=lr(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&Ya(e,"delete",n,void 0),s}function kV(e,n){const i=Reflect.has(e,n);return(!Ah(n)||!ZM.has(n))&&Ys(e,"has",n),i}function LV(e){return Ys(e,"iterate",sn(e)?"length":Zc),Reflect.ownKeys(e)}const tx={get:xV,set:NV,deleteProperty:BV,has:kV,ownKeys:LV},OV={get:TV,set(e,n){return!0},deleteProperty(e,n){return!0}},FV=Wi({},tx,{get:RV,set:DV}),Hy=e=>e,Qg=e=>Reflect.getPrototypeOf(e);function hm(e,n,i=!1,s=!1){e=e.__v_raw;const a=Nr(e),u=Nr(n);i||(n!==u&&Ys(a,"get",n),Ys(a,"get",u));const{has:f}=Qg(a),h=s?Hy:i?zy:Eh;if(f.call(a,n))return h(e.get(n));if(f.call(a,u))return h(e.get(u));e!==a&&e.get(n)}function pm(e,n=!1){const i=this.__v_raw,s=Nr(i),a=Nr(e);return n||(e!==a&&Ys(s,"has",e),Ys(s,"has",a)),e===a?i.has(e):i.has(e)||i.has(a)}function mm(e,n=!1){return e=e.__v_raw,!n&&Ys(Nr(e),"iterate",Zc),Reflect.get(e,"size",e)}function mC(e){e=Nr(e);const n=Nr(this);return Qg(n).has.call(n,e)||(n.add(e),Ya(n,"add",e,e)),this}function gC(e,n){n=Nr(n);const i=Nr(this),{has:s,get:a}=Qg(i);let u=s.call(i,e);u||(e=Nr(e),u=s.call(i,e));const f=a.call(i,e);return i.set(e,n),u?bh(n,f)&&Ya(i,"set",e,n):Ya(i,"add",e,n),this}function vC(e){const n=Nr(this),{has:i,get:s}=Qg(n);let a=i.call(n,e);a||(e=Nr(e),a=i.call(n,e)),s&&s.call(n,e);const u=n.delete(e);return a&&Ya(n,"delete",e,void 0),u}function _C(){const e=Nr(this),n=e.size!==0,i=e.clear();return n&&Ya(e,"clear",void 0,void 0),i}function gm(e,n){return function(s,a){const u=this,f=u.__v_raw,h=Nr(f),_=n?Hy:e?zy:Eh;return!e&&Ys(h,"iterate",Zc),f.forEach((y,S)=>s.call(a,_(y),_(S),u))}}function vm(e,n,i){return function(...s){const a=this.__v_raw,u=Nr(a),f=gd(u),h=e==="entries"||e===Symbol.iterator&&f,_=e==="keys"&&f,y=a[e](...s),S=i?Hy:n?zy:Eh;return!n&&Ys(u,"iterate",_?_0:Zc),{next(){const{value:b,done:w}=y.next();return w?{value:b,done:w}:{value:h?[S(b[0]),S(b[1])]:S(b),done:w}},[Symbol.iterator](){return this}}}}function Tl(e){return function(...n){return e==="delete"?!1:this}}function VV(){const e={get(u){return hm(this,u)},get size(){return mm(this)},has:pm,add:mC,set:gC,delete:vC,clear:_C,forEach:gm(!1,!1)},n={get(u){return hm(this,u,!1,!0)},get size(){return mm(this)},has:pm,add:mC,set:gC,delete:vC,clear:_C,forEach:gm(!1,!0)},i={get(u){return hm(this,u,!0)},get size(){return mm(this,!0)},has(u){return pm.call(this,u,!0)},add:Tl("add"),set:Tl("set"),delete:Tl("delete"),clear:Tl("clear"),forEach:gm(!0,!1)},s={get(u){return hm(this,u,!0,!0)},get size(){return mm(this,!0)},has(u){return pm.call(this,u,!0)},add:Tl("add"),set:Tl("set"),delete:Tl("delete"),clear:Tl("clear"),forEach:gm(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=vm(u,!1,!1),i[u]=vm(u,!0,!1),n[u]=vm(u,!1,!0),s[u]=vm(u,!0,!0)}),[e,i,n,s]}const[GV,UV,HV,QV]=VV();function Qy(e,n){const i=n?e?QV:HV:e?UV:GV;return(s,a,u)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?s:Reflect.get(lr(i,a)&&a in s?i:s,a,u)}const XV={get:Qy(!1,!1)},zV={get:Qy(!1,!0)},$V={get:Qy(!0,!1)},nx=new WeakMap,rx=new WeakMap,ix=new WeakMap,WV=new WeakMap;function KV(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jV(e){return e.__v_skip||!Object.isExtensible(e)?0:KV(Fm(e))}function Tr(e){return Cd(e)?e:Xy(e,!1,tx,XV,nx)}function sx(e){return Xy(e,!1,FV,zV,rx)}function Yh(e){return Xy(e,!0,OV,$V,ix)}function Xy(e,n,i,s,a){if(!tr(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;const u=a.get(e);if(u)return u;const f=jV(e);if(f===0)return e;const h=new Proxy(e,f===2?s:i);return a.set(e,h),h}function vd(e){return Cd(e)?vd(e.__v_raw):!!(e&&e.__v_isReactive)}function Cd(e){return!!(e&&e.__v_isReadonly)}function mg(e){return!!(e&&e.__v_isShallow)}function ox(e){return vd(e)||Cd(e)}function Nr(e){const n=e&&e.__v_raw;return n?Nr(n):e}function eu(e){return pg(e,"__v_skip",!0),e}const Eh=e=>tr(e)?Tr(e):e,zy=e=>tr(e)?Yh(e):e;function ax(e){Ul&&Uo&&(e=Nr(e),JM(e.dep||(e.dep=Vy())))}function $y(e,n){e=Nr(e),e.dep&&A0(e.dep)}function Xr(e){return!!(e&&e.__v_isRef===!0)}function re(e){return lx(e,!1)}function Wr(e){return lx(e,!0)}function lx(e,n){return Xr(e)?e:new qV(e,n)}class qV{constructor(n,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?n:Nr(n),this._value=i?n:Eh(n)}get value(){return ax(this),this._value}set value(n){const i=this.__v_isShallow||mg(n)||Cd(n);n=i?n:Nr(n),bh(n,this._rawValue)&&(this._rawValue=n,this._value=i?n:Eh(n),$y(this))}}function Xf(e){$y(e)}function p(e){return Xr(e)?e.value:e}const YV={get:(e,n,i)=>p(Reflect.get(e,n,i)),set:(e,n,i,s)=>{const a=e[n];return Xr(a)&&!Xr(i)?(a.value=i,!0):Reflect.set(e,n,i,s)}};function cx(e){return vd(e)?e:new Proxy(e,YV)}function xi(e){const n=sn(e)?new Array(e.length):{};for(const i in e)n[i]=si(e,i);return n}class JV{constructor(n,i,s){this._object=n,this._key=i,this._defaultValue=s,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}}function si(e,n,i){const s=e[n];return Xr(s)?s:new JV(e,n,i)}var ux;class ZV{constructor(n,i,s,a){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this[ux]=!1,this._dirty=!0,this.effect=new Gy(n,()=>{this._dirty||(this._dirty=!0,$y(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=s}get value(){const n=Nr(this);return ax(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}ux="__v_isReadonly";function dx(e,n,i=!1){let s,a;const u=Tn(e);return u?(s=e,a=Lr):(s=e.get,a=e.set),new ZV(s,a,u||!a,i)}function eG(e,...n){}function Hl(e,n,i,s){let a;try{a=s?e(...s):e()}catch(u){Xg(u,n,i)}return a}function fo(e,n,i,s){if(Tn(e)){const u=Hl(e,n,i,s);return u&&yh(u)&&u.catch(f=>{Xg(f,n,i)}),u}const a=[];for(let u=0;u<e.length;u++)a.push(fo(e[u],n,i,s));return a}function Xg(e,n,i,s=!0){const a=n?n.vnode:null;if(n){let u=n.parent;const f=n.proxy,h=i;for(;u;){const y=u.ec;if(y){for(let S=0;S<y.length;S++)if(y[S](e,f,h)===!1)return}u=u.parent}const _=n.appContext.config.errorHandler;if(_){Hl(_,null,10,[e,f,h]);return}}tG(e,i,a,s)}function tG(e,n,i,s=!0){console.error(e)}let wh=!1,y0=!1;const ss=[];let ga=0;const _d=[];let za=null,Gc=0;const fx=Promise.resolve();let Wy=null;function dn(e){const n=Wy||fx;return e?n.then(this?e.bind(this):e):n}function nG(e){let n=ga+1,i=ss.length;for(;n<i;){const s=n+i>>>1;Ch(ss[s])<e?n=s+1:i=s}return n}function Ky(e){(!ss.length||!ss.includes(e,wh&&e.allowRecurse?ga+1:ga))&&(e.id==null?ss.push(e):ss.splice(nG(e.id),0,e),hx())}function hx(){!wh&&!y0&&(y0=!0,Wy=fx.then(mx))}function rG(e){const n=ss.indexOf(e);n>ga&&ss.splice(n,1)}function iG(e){sn(e)?_d.push(...e):(!za||!za.includes(e,e.allowRecurse?Gc+1:Gc))&&_d.push(e),hx()}function AC(e,n=wh?ga+1:0){for(;n<ss.length;n++){const i=ss[n];i&&i.pre&&(ss.splice(n,1),n--,i())}}function px(e){if(_d.length){const n=[...new Set(_d)];if(_d.length=0,za){za.push(...n);return}for(za=n,za.sort((i,s)=>Ch(i)-Ch(s)),Gc=0;Gc<za.length;Gc++)za[Gc]();za=null,Gc=0}}const Ch=e=>e.id==null?1/0:e.id,sG=(e,n)=>{const i=Ch(e)-Ch(n);if(i===0){if(e.pre&&!n.pre)return-1;if(n.pre&&!e.pre)return 1}return i};function mx(e){y0=!1,wh=!0,ss.sort(sG);const n=Lr;try{for(ga=0;ga<ss.length;ga++){const i=ss[ga];i&&i.active!==!1&&Hl(i,null,14)}}finally{ga=0,ss.length=0,px(),wh=!1,Wy=null,(ss.length||_d.length)&&mx()}}function oG(e,n,...i){if(e.isUnmounted)return;const s=e.vnode.props||vi;let a=i;const u=n.startsWith("update:"),f=u&&n.slice(7);if(f&&f in s){const S=`${f==="modelValue"?"model":f}Modifiers`,{number:b,trim:w}=s[S]||vi;w&&(a=i.map(C=>Dn(C)?C.trim():C)),b&&(a=i.map(Sh))}let h,_=s[h=Gm(n)]||s[h=Gm(mo(n))];!_&&u&&(_=s[h=Gm(Zl(n))]),_&&fo(_,e,6,a);const y=s[h+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,fo(y,e,6,a)}}function gx(e,n,i=!1){const s=n.emitsCache,a=s.get(e);if(a!==void 0)return a;const u=e.emits;let f={},h=!1;if(!Tn(e)){const _=y=>{const S=gx(y,n,!0);S&&(h=!0,Wi(f,S))};!i&&n.mixins.length&&n.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}return!u&&!h?(tr(e)&&s.set(e,null),null):(sn(u)?u.forEach(_=>f[_]=null):Wi(f,u),tr(e)&&s.set(e,f),f)}function zg(e,n){return!e||!Gg(n)?!1:(n=n.slice(2).replace(/Once$/,""),lr(e,n[0].toLowerCase()+n.slice(1))||lr(e,Zl(n))||lr(e,n))}let Zi=null,$g=null;function gg(e){const n=Zi;return Zi=e,$g=e&&e.type.__scopeId||null,n}function vx(e){$g=e}function _x(){$g=null}function Ue(e,n=Zi,i){if(!n||e._n)return e;const s=(...a)=>{s._d&&TC(-1);const u=gg(n);let f;try{f=e(...a)}finally{gg(u),s._d&&TC(1)}return f};return s._n=!0,s._c=!0,s._d=!0,s}function kA(e){const{type:n,vnode:i,proxy:s,withProxy:a,props:u,propsOptions:[f],slots:h,attrs:_,emit:y,render:S,renderCache:b,data:w,setupState:C,ctx:x,inheritAttrs:M}=e;let T,D;const F=gg(e);try{if(i.shapeFlag&4){const G=a||s;T=ma(S.call(G,G,b,u,C,w,x)),D=_}else{const G=n;T=ma(G.length>1?G(u,{attrs:_,slots:h,emit:y}):G(u,null)),D=n.props?_:aG(_)}}catch(G){ah.length=0,Xg(G,e,1),T=Re(gs)}let N=T;if(D&&M!==!1){const G=Object.keys(D),{shapeFlag:U}=N;G.length&&U&7&&(f&&G.some(Ly)&&(D=lG(D,f)),N=Ja(N,D))}return i.dirs&&(N=Ja(N),N.dirs=N.dirs?N.dirs.concat(i.dirs):i.dirs),i.transition&&(N.transition=i.transition),T=N,gg(F),T}const aG=e=>{let n;for(const i in e)(i==="class"||i==="style"||Gg(i))&&((n||(n={}))[i]=e[i]);return n},lG=(e,n)=>{const i={};for(const s in e)(!Ly(s)||!(s.slice(9)in n))&&(i[s]=e[s]);return i};function cG(e,n,i){const{props:s,children:a,component:u}=e,{props:f,children:h,patchFlag:_}=n,y=u.emitsOptions;if(n.dirs||n.transition)return!0;if(i&&_>=0){if(_&1024)return!0;if(_&16)return s?yC(s,f,y):!!f;if(_&8){const S=n.dynamicProps;for(let b=0;b<S.length;b++){const w=S[b];if(f[w]!==s[w]&&!zg(y,w))return!0}}}else return(a||h)&&(!h||!h.$stable)?!0:s===f?!1:s?f?yC(s,f,y):!0:!!f;return!1}function yC(e,n,i){const s=Object.keys(n);if(s.length!==Object.keys(e).length)return!0;for(let a=0;a<s.length;a++){const u=s[a];if(n[u]!==e[u]&&!zg(i,u))return!0}return!1}function uG({vnode:e,parent:n},i){for(;n&&n.subTree===e;)(e=n.vnode).el=i,n=n.parent}const dG=e=>e.__isSuspense;function fG(e,n){n&&n.pendingBranch?sn(e)?n.effects.push(...e):n.effects.push(e):iG(e)}function ir(e,n){if(Qi){let i=Qi.provides;const s=Qi.parent&&Qi.parent.provides;s===i&&(i=Qi.provides=Object.create(s)),i[e]=n}}function hn(e,n,i=!1){const s=Qi||Zi;if(s){const a=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(a&&e in a)return a[e];if(arguments.length>1)return i&&Tn(n)?n.call(s.proxy):n}}function es(e,n){return jy(e,null,n)}const _m={};function St(e,n,i){return jy(e,n,i)}function jy(e,n,{immediate:i,deep:s,flush:a,onTrack:u,onTrigger:f}=vi){const h=Qi;let _,y=!1,S=!1;if(Xr(e)?(_=()=>e.value,y=mg(e)):vd(e)?(_=()=>e,s=!0):sn(e)?(S=!0,y=e.some(N=>vd(N)||mg(N)),_=()=>e.map(N=>{if(Xr(N))return N.value;if(vd(N))return $c(N);if(Tn(N))return Hl(N,h,2)})):Tn(e)?n?_=()=>Hl(e,h,2):_=()=>{if(!(h&&h.isUnmounted))return b&&b(),fo(e,h,3,[w])}:_=Lr,n&&s){const N=_;_=()=>$c(N())}let b,w=N=>{b=D.onStop=()=>{Hl(N,h,4)}},C;if(Rh)if(w=Lr,n?i&&fo(n,h,3,[_(),S?[]:void 0,w]):_(),a==="sync"){const N=e5();C=N.__watcherHandles||(N.__watcherHandles=[])}else return Lr;let x=S?new Array(e.length).fill(_m):_m;const M=()=>{if(!!D.active)if(n){const N=D.run();(s||y||(S?N.some((G,U)=>bh(G,x[U])):bh(N,x)))&&(b&&b(),fo(n,h,3,[N,x===_m?void 0:S&&x[0]===_m?[]:x,w]),x=N)}else D.run()};M.allowRecurse=!!n;let T;a==="sync"?T=M:a==="post"?T=()=>Is(M,h&&h.suspense):(M.pre=!0,h&&(M.id=h.uid),T=()=>Ky(M));const D=new Gy(_,T);n?i?M():x=D.run():a==="post"?Is(D.run.bind(D),h&&h.suspense):D.run();const F=()=>{D.stop(),h&&h.scope&&Oy(h.scope.effects,D)};return C&&C.push(F),F}function hG(e,n,i){const s=this.proxy,a=Dn(e)?e.includes(".")?Ax(s,e):()=>s[e]:e.bind(s,s);let u;Tn(n)?u=n:(u=n.handler,i=n);const f=Qi;Md(this);const h=jy(a,u.bind(s),i);return f?Md(f):tu(),h}function Ax(e,n){const i=n.split(".");return()=>{let s=e;for(let a=0;a<i.length&&s;a++)s=s[i[a]];return s}}function $c(e,n){if(!tr(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),Xr(e))$c(e.value,n);else if(sn(e))for(let i=0;i<e.length;i++)$c(e[i],n);else if(Ug(e)||gd(e))e.forEach(i=>{$c(i,n)});else if($M(e))for(const i in e)$c(e[i],n);return e}function yx(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return jn(()=>{e.isMounted=!0}),di(()=>{e.isUnmounting=!0}),e}const oo=[Function,Array],pG={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:oo,onEnter:oo,onAfterEnter:oo,onEnterCancelled:oo,onBeforeLeave:oo,onLeave:oo,onAfterLeave:oo,onLeaveCancelled:oo,onBeforeAppear:oo,onAppear:oo,onAfterAppear:oo,onAppearCancelled:oo},setup(e,{slots:n}){const i=Yn(),s=yx();let a;return()=>{const u=n.default&&qy(n.default(),!0);if(!u||!u.length)return;let f=u[0];if(u.length>1){for(const M of u)if(M.type!==gs){f=M;break}}const h=Nr(e),{mode:_}=h;if(s.isLeaving)return LA(f);const y=bC(f);if(!y)return LA(f);const S=Ih(y,h,s,i);Mh(y,S);const b=i.subTree,w=b&&bC(b);let C=!1;const{getTransitionKey:x}=y.type;if(x){const M=x();a===void 0?a=M:M!==a&&(a=M,C=!0)}if(w&&w.type!==gs&&(!Uc(y,w)||C)){const M=Ih(w,h,s,i);if(Mh(w,M),_==="out-in")return s.isLeaving=!0,M.afterLeave=()=>{s.isLeaving=!1,i.update.active!==!1&&i.update()},LA(f);_==="in-out"&&y.type!==gs&&(M.delayLeave=(T,D,F)=>{const N=Sx(s,w);N[String(w.key)]=w,T._leaveCb=()=>{D(),T._leaveCb=void 0,delete S.delayedLeave},S.delayedLeave=F})}return f}}},bx=pG;function Sx(e,n){const{leavingVNodes:i}=e;let s=i.get(n.type);return s||(s=Object.create(null),i.set(n.type,s)),s}function Ih(e,n,i,s){const{appear:a,mode:u,persisted:f=!1,onBeforeEnter:h,onEnter:_,onAfterEnter:y,onEnterCancelled:S,onBeforeLeave:b,onLeave:w,onAfterLeave:C,onLeaveCancelled:x,onBeforeAppear:M,onAppear:T,onAfterAppear:D,onAppearCancelled:F}=n,N=String(e.key),G=Sx(i,e),U=(ee,se)=>{ee&&fo(ee,s,9,se)},$=(ee,se)=>{const oe=se[1];U(ee,se),sn(ee)?ee.every(Ie=>Ie.length<=1)&&oe():ee.length<=1&&oe()},de={mode:u,persisted:f,beforeEnter(ee){let se=h;if(!i.isMounted)if(a)se=M||h;else return;ee._leaveCb&&ee._leaveCb(!0);const oe=G[N];oe&&Uc(e,oe)&&oe.el._leaveCb&&oe.el._leaveCb(),U(se,[ee])},enter(ee){let se=_,oe=y,Ie=S;if(!i.isMounted)if(a)se=T||_,oe=D||y,Ie=F||S;else return;let pe=!1;const ae=ee._enterCb=ye=>{pe||(pe=!0,ye?U(Ie,[ee]):U(oe,[ee]),de.delayedLeave&&de.delayedLeave(),ee._enterCb=void 0)};se?$(se,[ee,ae]):ae()},leave(ee,se){const oe=String(e.key);if(ee._enterCb&&ee._enterCb(!0),i.isUnmounting)return se();U(b,[ee]);let Ie=!1;const pe=ee._leaveCb=ae=>{Ie||(Ie=!0,se(),ae?U(x,[ee]):U(C,[ee]),ee._leaveCb=void 0,G[oe]===e&&delete G[oe])};G[oe]=e,w?$(w,[ee,pe]):pe()},clone(ee){return Ih(ee,n,i,s)}};return de}function LA(e){if(Wg(e))return e=Ja(e),e.children=null,e}function bC(e){return Wg(e)?e.children?e.children[0]:void 0:e}function Mh(e,n){e.shapeFlag&6&&e.component?Mh(e.component.subTree,n):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function qy(e,n=!1,i){let s=[],a=0;for(let u=0;u<e.length;u++){let f=e[u];const h=i==null?f.key:String(i)+String(f.key!=null?f.key:u);f.type===mn?(f.patchFlag&128&&a++,s=s.concat(qy(f.children,n,h))):(n||f.type!==gs)&&s.push(h!=null?Ja(f,{key:h}):f)}if(a>1)for(let u=0;u<s.length;u++)s[u].patchFlag=-2;return s}function Ge(e){return Tn(e)?{setup:e,name:e.name}:e}const ih=e=>!!e.type.__asyncLoader,Wg=e=>e.type.__isKeepAlive;function mG(e,n){wx(e,"a",n)}function Ex(e,n){wx(e,"da",n)}function wx(e,n,i=Qi){const s=e.__wdc||(e.__wdc=()=>{let a=i;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Kg(n,s,i),i){let a=i.parent;for(;a&&a.parent;)Wg(a.parent.vnode)&&gG(s,n,i,a),a=a.parent}}function gG(e,n,i,s){const a=Kg(n,e,s,!0);hu(()=>{Oy(s[n],a)},i)}function Kg(e,n,i=Qi,s=!1){if(i){const a=i[e]||(i[e]=[]),u=n.__weh||(n.__weh=(...f)=>{if(i.isUnmounted)return;zd(),Md(i);const h=fo(n,i,e,f);return tu(),$d(),h});return s?a.unshift(u):a.push(u),u}}const nl=e=>(n,i=Qi)=>(!Rh||e==="sp")&&Kg(e,(...s)=>n(...s),i),jg=nl("bm"),jn=nl("m"),Cx=nl("bu"),rl=nl("u"),di=nl("bum"),hu=nl("um"),vG=nl("sp"),_G=nl("rtg"),AG=nl("rtc");function yG(e,n=Qi){Kg("ec",e,n)}function Hn(e,n){const i=Zi;if(i===null)return e;const s=Jg(i)||i.proxy,a=e.dirs||(e.dirs=[]);for(let u=0;u<n.length;u++){let[f,h,_,y=vi]=n[u];f&&(Tn(f)&&(f={mounted:f,updated:f}),f.deep&&$c(h),a.push({dir:f,instance:s,value:h,oldValue:void 0,arg:_,modifiers:y}))}return e}function Dc(e,n,i,s){const a=e.dirs,u=n&&n.dirs;for(let f=0;f<a.length;f++){const h=a[f];u&&(h.oldValue=u[f].value);let _=h.dir[s];_&&(zd(),fo(_,i,8,[e.el,h,e,n]),$d())}}const Yy="components",bG="directives";function Mn(e,n){return Jy(Yy,e,!0,n)||e}const Ix=Symbol();function rr(e){return Dn(e)?Jy(Yy,e,!1)||e:e||Ix}function Id(e){return Jy(bG,e)}function Jy(e,n,i=!0,s=!1){const a=Zi||Qi;if(a){const u=a.type;if(e===Yy){const h=YG(u,!1);if(h&&(h===n||h===mo(n)||h===qh(mo(n))))return u}const f=SC(a[e]||u[e],n)||SC(a.appContext[e],n);return!f&&s?u:f}}function SC(e,n){return e&&(e[n]||e[mo(n)]||e[qh(mo(n))])}function cr(e,n,i,s){let a;const u=i&&i[s];if(sn(e)||Dn(e)){a=new Array(e.length);for(let f=0,h=e.length;f<h;f++)a[f]=n(e[f],f,void 0,u&&u[f])}else if(typeof e=="number"){a=new Array(e);for(let f=0;f<e;f++)a[f]=n(f+1,f,void 0,u&&u[f])}else if(tr(e))if(e[Symbol.iterator])a=Array.from(e,(f,h)=>n(f,h,void 0,u&&u[h]));else{const f=Object.keys(e);a=new Array(f.length);for(let h=0,_=f.length;h<_;h++){const y=f[h];a[h]=n(e[y],y,h,u&&u[h])}}else a=[];return i&&(i[s]=a),a}function zl(e,n){for(let i=0;i<n.length;i++){const s=n[i];if(sn(s))for(let a=0;a<s.length;a++)e[s[a].name]=s[a].fn;else s&&(e[s.name]=s.key?(...a)=>{const u=s.fn(...a);return u&&(u.key=s.key),u}:s.fn)}return e}function vt(e,n,i={},s,a){if(Zi.isCE||Zi.parent&&ih(Zi.parent)&&Zi.parent.isCE)return n!=="default"&&(i.name=n),Re("slot",i,s&&s());let u=e[n];u&&u._c&&(u._d=!1),Q();const f=u&&Mx(u(i)),h=rt(mn,{key:i.key||f&&f.key||`_${n}`},f||(s?s():[]),f&&e._===1?64:-2);return!a&&h.scopeId&&(h.slotScopeIds=[h.scopeId+"-s"]),u&&u._c&&(u._d=!0),h}function Mx(e){return e.some(n=>Zr(n)?!(n.type===gs||n.type===mn&&!Mx(n.children)):!0)?e:null}function SG(e,n){const i={};for(const s in e)i[n&&/[A-Z]/.test(s)?`on:${s}`:Gm(s)]=e[s];return i}const b0=e=>e?Fx(e)?Jg(e)||e.proxy:b0(e.parent):null,sh=Wi(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>b0(e.parent),$root:e=>b0(e.root),$emit:e=>e.emit,$options:e=>Zy(e),$forceUpdate:e=>e.f||(e.f=()=>Ky(e.update)),$nextTick:e=>e.n||(e.n=dn.bind(e.proxy)),$watch:e=>hG.bind(e)}),OA=(e,n)=>e!==vi&&!e.__isScriptSetup&&lr(e,n),EG={get({_:e},n){const{ctx:i,setupState:s,data:a,props:u,accessCache:f,type:h,appContext:_}=e;let y;if(n[0]!=="$"){const C=f[n];if(C!==void 0)switch(C){case 1:return s[n];case 2:return a[n];case 4:return i[n];case 3:return u[n]}else{if(OA(s,n))return f[n]=1,s[n];if(a!==vi&&lr(a,n))return f[n]=2,a[n];if((y=e.propsOptions[0])&&lr(y,n))return f[n]=3,u[n];if(i!==vi&&lr(i,n))return f[n]=4,i[n];S0&&(f[n]=0)}}const S=sh[n];let b,w;if(S)return n==="$attrs"&&Ys(e,"get",n),S(e);if((b=h.__cssModules)&&(b=b[n]))return b;if(i!==vi&&lr(i,n))return f[n]=4,i[n];if(w=_.config.globalProperties,lr(w,n))return w[n]},set({_:e},n,i){const{data:s,setupState:a,ctx:u}=e;return OA(a,n)?(a[n]=i,!0):s!==vi&&lr(s,n)?(s[n]=i,!0):lr(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(u[n]=i,!0)},has({_:{data:e,setupState:n,accessCache:i,ctx:s,appContext:a,propsOptions:u}},f){let h;return!!i[f]||e!==vi&&lr(e,f)||OA(n,f)||(h=u[0])&&lr(h,f)||lr(s,f)||lr(sh,f)||lr(a.config.globalProperties,f)},defineProperty(e,n,i){return i.get!=null?e._.accessCache[n]=0:lr(i,"value")&&this.set(e,n,i.value,null),Reflect.defineProperty(e,n,i)}};let S0=!0;function wG(e){const n=Zy(e),i=e.proxy,s=e.ctx;S0=!1,n.beforeCreate&&EC(n.beforeCreate,e,"bc");const{data:a,computed:u,methods:f,watch:h,provide:_,inject:y,created:S,beforeMount:b,mounted:w,beforeUpdate:C,updated:x,activated:M,deactivated:T,beforeDestroy:D,beforeUnmount:F,destroyed:N,unmounted:G,render:U,renderTracked:$,renderTriggered:de,errorCaptured:ee,serverPrefetch:se,expose:oe,inheritAttrs:Ie,components:pe,directives:ae,filters:ye}=n;if(y&&CG(y,s,null,e.appContext.config.unwrapInjectedRef),f)for(const ie in f){const fe=f[ie];Tn(fe)&&(s[ie]=fe.bind(i))}if(a){const ie=a.call(i,i);tr(ie)&&(e.data=Tr(ie))}if(S0=!0,u)for(const ie in u){const fe=u[ie],le=Tn(fe)?fe.bind(i,i):Tn(fe.get)?fe.get.bind(i,i):Lr,ke=!Tn(fe)&&Tn(fe.set)?fe.set.bind(i):Lr,ze=z({get:le,set:ke});Object.defineProperty(s,ie,{enumerable:!0,configurable:!0,get:()=>ze.value,set:Te=>ze.value=Te})}if(h)for(const ie in h)xx(h[ie],s,i,ie);if(_){const ie=Tn(_)?_.call(i):_;Reflect.ownKeys(ie).forEach(fe=>{ir(fe,ie[fe])})}S&&EC(S,e,"c");function _e(ie,fe){sn(fe)?fe.forEach(le=>ie(le.bind(i))):fe&&ie(fe.bind(i))}if(_e(jg,b),_e(jn,w),_e(Cx,C),_e(rl,x),_e(mG,M),_e(Ex,T),_e(yG,ee),_e(AG,$),_e(_G,de),_e(di,F),_e(hu,G),_e(vG,se),sn(oe))if(oe.length){const ie=e.exposed||(e.exposed={});oe.forEach(fe=>{Object.defineProperty(ie,fe,{get:()=>i[fe],set:le=>i[fe]=le})})}else e.exposed||(e.exposed={});U&&e.render===Lr&&(e.render=U),Ie!=null&&(e.inheritAttrs=Ie),pe&&(e.components=pe),ae&&(e.directives=ae)}function CG(e,n,i=Lr,s=!1){sn(e)&&(e=E0(e));for(const a in e){const u=e[a];let f;tr(u)?"default"in u?f=hn(u.from||a,u.default,!0):f=hn(u.from||a):f=hn(u),Xr(f)&&s?Object.defineProperty(n,a,{enumerable:!0,configurable:!0,get:()=>f.value,set:h=>f.value=h}):n[a]=f}}function EC(e,n,i){fo(sn(e)?e.map(s=>s.bind(n.proxy)):e.bind(n.proxy),n,i)}function xx(e,n,i,s){const a=s.includes(".")?Ax(i,s):()=>i[s];if(Dn(e)){const u=n[e];Tn(u)&&St(a,u)}else if(Tn(e))St(a,e.bind(i));else if(tr(e))if(sn(e))e.forEach(u=>xx(u,n,i,s));else{const u=Tn(e.handler)?e.handler.bind(i):n[e.handler];Tn(u)&&St(a,u,e)}}function Zy(e){const n=e.type,{mixins:i,extends:s}=n,{mixins:a,optionsCache:u,config:{optionMergeStrategies:f}}=e.appContext,h=u.get(n);let _;return h?_=h:!a.length&&!i&&!s?_=n:(_={},a.length&&a.forEach(y=>vg(_,y,f,!0)),vg(_,n,f)),tr(n)&&u.set(n,_),_}function vg(e,n,i,s=!1){const{mixins:a,extends:u}=n;u&&vg(e,u,i,!0),a&&a.forEach(f=>vg(e,f,i,!0));for(const f in n)if(!(s&&f==="expose")){const h=IG[f]||i&&i[f];e[f]=h?h(e[f],n[f]):n[f]}return e}const IG={data:wC,props:Fc,emits:Fc,methods:Fc,computed:Fc,beforeCreate:ms,created:ms,beforeMount:ms,mounted:ms,beforeUpdate:ms,updated:ms,beforeDestroy:ms,beforeUnmount:ms,destroyed:ms,unmounted:ms,activated:ms,deactivated:ms,errorCaptured:ms,serverPrefetch:ms,components:Fc,directives:Fc,watch:xG,provide:wC,inject:MG};function wC(e,n){return n?e?function(){return Wi(Tn(e)?e.call(this,this):e,Tn(n)?n.call(this,this):n)}:n:e}function MG(e,n){return Fc(E0(e),E0(n))}function E0(e){if(sn(e)){const n={};for(let i=0;i<e.length;i++)n[e[i]]=e[i];return n}return e}function ms(e,n){return e?[...new Set([].concat(e,n))]:n}function Fc(e,n){return e?Wi(Wi(Object.create(null),e),n):n}function xG(e,n){if(!e)return n;if(!n)return e;const i=Wi(Object.create(null),e);for(const s in n)i[s]=ms(e[s],n[s]);return i}function RG(e,n,i,s=!1){const a={},u={};pg(u,qg,1),e.propsDefaults=Object.create(null),Rx(e,n,a,u);for(const f in e.propsOptions[0])f in a||(a[f]=void 0);i?e.props=s?a:sx(a):e.type.props?e.props=a:e.props=u,e.attrs=u}function TG(e,n,i,s){const{props:a,attrs:u,vnode:{patchFlag:f}}=e,h=Nr(a),[_]=e.propsOptions;let y=!1;if((s||f>0)&&!(f&16)){if(f&8){const S=e.vnode.dynamicProps;for(let b=0;b<S.length;b++){let w=S[b];if(zg(e.emitsOptions,w))continue;const C=n[w];if(_)if(lr(u,w))C!==u[w]&&(u[w]=C,y=!0);else{const x=mo(w);a[x]=w0(_,h,x,C,e,!1)}else C!==u[w]&&(u[w]=C,y=!0)}}}else{Rx(e,n,a,u)&&(y=!0);let S;for(const b in h)(!n||!lr(n,b)&&((S=Zl(b))===b||!lr(n,S)))&&(_?i&&(i[b]!==void 0||i[S]!==void 0)&&(a[b]=w0(_,h,b,void 0,e,!0)):delete a[b]);if(u!==h)for(const b in u)(!n||!lr(n,b)&&!0)&&(delete u[b],y=!0)}y&&Ya(e,"set","$attrs")}function Rx(e,n,i,s){const[a,u]=e.propsOptions;let f=!1,h;if(n)for(let _ in n){if(Vm(_))continue;const y=n[_];let S;a&&lr(a,S=mo(_))?!u||!u.includes(S)?i[S]=y:(h||(h={}))[S]=y:zg(e.emitsOptions,_)||(!(_ in s)||y!==s[_])&&(s[_]=y,f=!0)}if(u){const _=Nr(i),y=h||vi;for(let S=0;S<u.length;S++){const b=u[S];i[b]=w0(a,_,b,y[b],e,!lr(y,b))}}return f}function w0(e,n,i,s,a,u){const f=e[i];if(f!=null){const h=lr(f,"default");if(h&&s===void 0){const _=f.default;if(f.type!==Function&&Tn(_)){const{propsDefaults:y}=a;i in y?s=y[i]:(Md(a),s=y[i]=_.call(null,n),tu())}else s=_}f[0]&&(u&&!h?s=!1:f[1]&&(s===""||s===Zl(i))&&(s=!0))}return s}function Tx(e,n,i=!1){const s=n.propsCache,a=s.get(e);if(a)return a;const u=e.props,f={},h=[];let _=!1;if(!Tn(e)){const S=b=>{_=!0;const[w,C]=Tx(b,n,!0);Wi(f,w),C&&h.push(...C)};!i&&n.mixins.length&&n.mixins.forEach(S),e.extends&&S(e.extends),e.mixins&&e.mixins.forEach(S)}if(!u&&!_)return tr(e)&&s.set(e,md),md;if(sn(u))for(let S=0;S<u.length;S++){const b=mo(u[S]);CC(b)&&(f[b]=vi)}else if(u)for(const S in u){const b=mo(S);if(CC(b)){const w=u[S],C=f[b]=sn(w)||Tn(w)?{type:w}:Object.assign({},w);if(C){const x=xC(Boolean,C.type),M=xC(String,C.type);C[0]=x>-1,C[1]=M<0||x<M,(x>-1||lr(C,"default"))&&h.push(b)}}}const y=[f,h];return tr(e)&&s.set(e,y),y}function CC(e){return e[0]!=="$"}function IC(e){const n=e&&e.toString().match(/^\s*function (\w+)/);return n?n[1]:e===null?"null":""}function MC(e,n){return IC(e)===IC(n)}function xC(e,n){return sn(n)?n.findIndex(i=>MC(i,e)):Tn(n)&&MC(n,e)?0:-1}const Px=e=>e[0]==="_"||e==="$stable",eb=e=>sn(e)?e.map(ma):[ma(e)],PG=(e,n,i)=>{if(n._n)return n;const s=Ue((...a)=>eb(n(...a)),i);return s._c=!1,s},Nx=(e,n,i)=>{const s=e._ctx;for(const a in e){if(Px(a))continue;const u=e[a];if(Tn(u))n[a]=PG(a,u,s);else if(u!=null){const f=eb(u);n[a]=()=>f}}},Dx=(e,n)=>{const i=eb(n);e.slots.default=()=>i},NG=(e,n)=>{if(e.vnode.shapeFlag&32){const i=n._;i?(e.slots=Nr(n),pg(n,"_",i)):Nx(n,e.slots={})}else e.slots={},n&&Dx(e,n);pg(e.slots,qg,1)},DG=(e,n,i)=>{const{vnode:s,slots:a}=e;let u=!0,f=vi;if(s.shapeFlag&32){const h=n._;h?i&&h===1?u=!1:(Wi(a,n),!i&&h===1&&delete a._):(u=!n.$stable,Nx(n,a)),f=n}else n&&(Dx(e,n),f={default:1});if(u)for(const h in a)!Px(h)&&!(h in f)&&delete a[h]};function Bx(){return{app:null,config:{isNativeTag:gV,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let BG=0;function kG(e,n){return function(s,a=null){Tn(s)||(s=Object.assign({},s)),a!=null&&!tr(a)&&(a=null);const u=Bx(),f=new Set;let h=!1;const _=u.app={_uid:BG++,_component:s,_props:a,_container:null,_context:u,_instance:null,version:t5,get config(){return u.config},set config(y){},use(y,...S){return f.has(y)||(y&&Tn(y.install)?(f.add(y),y.install(_,...S)):Tn(y)&&(f.add(y),y(_,...S))),_},mixin(y){return u.mixins.includes(y)||u.mixins.push(y),_},component(y,S){return S?(u.components[y]=S,_):u.components[y]},directive(y,S){return S?(u.directives[y]=S,_):u.directives[y]},mount(y,S,b){if(!h){const w=Re(s,a);return w.appContext=u,S&&n?n(w,y):e(w,y,b),h=!0,_._container=y,y.__vue_app__=_,Jg(w.component)||w.component.proxy}},unmount(){h&&(e(null,_._container),delete _._container.__vue_app__)},provide(y,S){return u.provides[y]=S,_}};return _}}function C0(e,n,i,s,a=!1){if(sn(e)){e.forEach((w,C)=>C0(w,n&&(sn(n)?n[C]:n),i,s,a));return}if(ih(s)&&!a)return;const u=s.shapeFlag&4?Jg(s.component)||s.component.proxy:s.el,f=a?null:u,{i:h,r:_}=e,y=n&&n.r,S=h.refs===vi?h.refs={}:h.refs,b=h.setupState;if(y!=null&&y!==_&&(Dn(y)?(S[y]=null,lr(b,y)&&(b[y]=null)):Xr(y)&&(y.value=null)),Tn(_))Hl(_,h,12,[f,S]);else{const w=Dn(_),C=Xr(_);if(w||C){const x=()=>{if(e.f){const M=w?lr(b,_)?b[_]:S[_]:_.value;a?sn(M)&&Oy(M,u):sn(M)?M.includes(u)||M.push(u):w?(S[_]=[u],lr(b,_)&&(b[_]=S[_])):(_.value=[u],e.k&&(S[e.k]=_.value))}else w?(S[_]=f,lr(b,_)&&(b[_]=f)):C&&(_.value=f,e.k&&(S[e.k]=f))};f?(x.id=-1,Is(x,i)):x()}}}const Is=fG;function LG(e){return OG(e)}function OG(e,n){const i=bV();i.__VUE__=!0;const{insert:s,remove:a,patchProp:u,createElement:f,createText:h,createComment:_,setText:y,setElementText:S,parentNode:b,nextSibling:w,setScopeId:C=Lr,insertStaticContent:x}=e,M=(Ne,$e,ft,Tt=null,Bt=null,ct=null,Lt=!1,gt=null,xe=!!$e.dynamicChildren)=>{if(Ne===$e)return;Ne&&!Uc(Ne,$e)&&(Tt=it(Ne),Te(Ne,Bt,ct,!0),Ne=null),$e.patchFlag===-2&&(xe=!1,$e.dynamicChildren=null);const{type:qe,ref:Dt,shapeFlag:zt}=$e;switch(qe){case Wd:T(Ne,$e,ft,Tt);break;case gs:D(Ne,$e,ft,Tt);break;case Hm:Ne==null&&F($e,ft,Tt,Lt);break;case mn:pe(Ne,$e,ft,Tt,Bt,ct,Lt,gt,xe);break;default:zt&1?U(Ne,$e,ft,Tt,Bt,ct,Lt,gt,xe):zt&6?ae(Ne,$e,ft,Tt,Bt,ct,Lt,gt,xe):(zt&64||zt&128)&&qe.process(Ne,$e,ft,Tt,Bt,ct,Lt,gt,xe,ot)}Dt!=null&&Bt&&C0(Dt,Ne&&Ne.ref,ct,$e||Ne,!$e)},T=(Ne,$e,ft,Tt)=>{if(Ne==null)s($e.el=h($e.children),ft,Tt);else{const Bt=$e.el=Ne.el;$e.children!==Ne.children&&y(Bt,$e.children)}},D=(Ne,$e,ft,Tt)=>{Ne==null?s($e.el=_($e.children||""),ft,Tt):$e.el=Ne.el},F=(Ne,$e,ft,Tt)=>{[Ne.el,Ne.anchor]=x(Ne.children,$e,ft,Tt,Ne.el,Ne.anchor)},N=({el:Ne,anchor:$e},ft,Tt)=>{let Bt;for(;Ne&&Ne!==$e;)Bt=w(Ne),s(Ne,ft,Tt),Ne=Bt;s($e,ft,Tt)},G=({el:Ne,anchor:$e})=>{let ft;for(;Ne&&Ne!==$e;)ft=w(Ne),a(Ne),Ne=ft;a($e)},U=(Ne,$e,ft,Tt,Bt,ct,Lt,gt,xe)=>{Lt=Lt||$e.type==="svg",Ne==null?$($e,ft,Tt,Bt,ct,Lt,gt,xe):se(Ne,$e,Bt,ct,Lt,gt,xe)},$=(Ne,$e,ft,Tt,Bt,ct,Lt,gt)=>{let xe,qe;const{type:Dt,props:zt,shapeFlag:en,transition:gn,dirs:En}=Ne;if(xe=Ne.el=f(Ne.type,ct,zt&&zt.is,zt),en&8?S(xe,Ne.children):en&16&&ee(Ne.children,xe,null,Tt,Bt,ct&&Dt!=="foreignObject",Lt,gt),En&&Dc(Ne,null,Tt,"created"),zt){for(const pt in zt)pt!=="value"&&!Vm(pt)&&u(xe,pt,null,zt[pt],ct,Ne.children,Tt,Bt,xt);"value"in zt&&u(xe,"value",null,zt.value),(qe=zt.onVnodeBeforeMount)&&ha(qe,Tt,Ne)}de(xe,Ne,Ne.scopeId,Lt,Tt),En&&Dc(Ne,null,Tt,"beforeMount");const Gn=(!Bt||Bt&&!Bt.pendingBranch)&&gn&&!gn.persisted;Gn&&gn.beforeEnter(xe),s(xe,$e,ft),((qe=zt&&zt.onVnodeMounted)||Gn||En)&&Is(()=>{qe&&ha(qe,Tt,Ne),Gn&&gn.enter(xe),En&&Dc(Ne,null,Tt,"mounted")},Bt)},de=(Ne,$e,ft,Tt,Bt)=>{if(ft&&C(Ne,ft),Tt)for(let ct=0;ct<Tt.length;ct++)C(Ne,Tt[ct]);if(Bt){let ct=Bt.subTree;if($e===ct){const Lt=Bt.vnode;de(Ne,Lt,Lt.scopeId,Lt.slotScopeIds,Bt.parent)}}},ee=(Ne,$e,ft,Tt,Bt,ct,Lt,gt,xe=0)=>{for(let qe=xe;qe<Ne.length;qe++){const Dt=Ne[qe]=gt?Ol(Ne[qe]):ma(Ne[qe]);M(null,Dt,$e,ft,Tt,Bt,ct,Lt,gt)}},se=(Ne,$e,ft,Tt,Bt,ct,Lt)=>{const gt=$e.el=Ne.el;let{patchFlag:xe,dynamicChildren:qe,dirs:Dt}=$e;xe|=Ne.patchFlag&16;const zt=Ne.props||vi,en=$e.props||vi;let gn;ft&&Bc(ft,!1),(gn=en.onVnodeBeforeUpdate)&&ha(gn,ft,$e,Ne),Dt&&Dc($e,Ne,ft,"beforeUpdate"),ft&&Bc(ft,!0);const En=Bt&&$e.type!=="foreignObject";if(qe?oe(Ne.dynamicChildren,qe,gt,ft,Tt,En,ct):Lt||fe(Ne,$e,gt,null,ft,Tt,En,ct,!1),xe>0){if(xe&16)Ie(gt,$e,zt,en,ft,Tt,Bt);else if(xe&2&&zt.class!==en.class&&u(gt,"class",null,en.class,Bt),xe&4&&u(gt,"style",zt.style,en.style,Bt),xe&8){const Gn=$e.dynamicProps;for(let pt=0;pt<Gn.length;pt++){const yt=Gn[pt],tn=zt[yt],Bn=en[yt];(Bn!==tn||yt==="value")&&u(gt,yt,tn,Bn,Bt,Ne.children,ft,Tt,xt)}}xe&1&&Ne.children!==$e.children&&S(gt,$e.children)}else!Lt&&qe==null&&Ie(gt,$e,zt,en,ft,Tt,Bt);((gn=en.onVnodeUpdated)||Dt)&&Is(()=>{gn&&ha(gn,ft,$e,Ne),Dt&&Dc($e,Ne,ft,"updated")},Tt)},oe=(Ne,$e,ft,Tt,Bt,ct,Lt)=>{for(let gt=0;gt<$e.length;gt++){const xe=Ne[gt],qe=$e[gt],Dt=xe.el&&(xe.type===mn||!Uc(xe,qe)||xe.shapeFlag&70)?b(xe.el):ft;M(xe,qe,Dt,null,Tt,Bt,ct,Lt,!0)}},Ie=(Ne,$e,ft,Tt,Bt,ct,Lt)=>{if(ft!==Tt){if(ft!==vi)for(const gt in ft)!Vm(gt)&&!(gt in Tt)&&u(Ne,gt,ft[gt],null,Lt,$e.children,Bt,ct,xt);for(const gt in Tt){if(Vm(gt))continue;const xe=Tt[gt],qe=ft[gt];xe!==qe&&gt!=="value"&&u(Ne,gt,qe,xe,Lt,$e.children,Bt,ct,xt)}"value"in Tt&&u(Ne,"value",ft.value,Tt.value)}},pe=(Ne,$e,ft,Tt,Bt,ct,Lt,gt,xe)=>{const qe=$e.el=Ne?Ne.el:h(""),Dt=$e.anchor=Ne?Ne.anchor:h("");let{patchFlag:zt,dynamicChildren:en,slotScopeIds:gn}=$e;gn&&(gt=gt?gt.concat(gn):gn),Ne==null?(s(qe,ft,Tt),s(Dt,ft,Tt),ee($e.children,ft,Dt,Bt,ct,Lt,gt,xe)):zt>0&&zt&64&&en&&Ne.dynamicChildren?(oe(Ne.dynamicChildren,en,ft,Bt,ct,Lt,gt),($e.key!=null||Bt&&$e===Bt.subTree)&&tb(Ne,$e,!0)):fe(Ne,$e,ft,Dt,Bt,ct,Lt,gt,xe)},ae=(Ne,$e,ft,Tt,Bt,ct,Lt,gt,xe)=>{$e.slotScopeIds=gt,Ne==null?$e.shapeFlag&512?Bt.ctx.activate($e,ft,Tt,Lt,xe):ye($e,ft,Tt,Bt,ct,Lt,xe):be(Ne,$e,xe)},ye=(Ne,$e,ft,Tt,Bt,ct,Lt)=>{const gt=Ne.component=WG(Ne,Tt,Bt);if(Wg(Ne)&&(gt.ctx.renderer=ot),KG(gt),gt.asyncDep){if(Bt&&Bt.registerDep(gt,_e),!Ne.el){const xe=gt.subTree=Re(gs);D(null,xe,$e,ft)}return}_e(gt,Ne,$e,ft,Bt,ct,Lt)},be=(Ne,$e,ft)=>{const Tt=$e.component=Ne.component;if(cG(Ne,$e,ft))if(Tt.asyncDep&&!Tt.asyncResolved){ie(Tt,$e,ft);return}else Tt.next=$e,rG(Tt.update),Tt.update();else $e.el=Ne.el,Tt.vnode=$e},_e=(Ne,$e,ft,Tt,Bt,ct,Lt)=>{const gt=()=>{if(Ne.isMounted){let{next:Dt,bu:zt,u:en,parent:gn,vnode:En}=Ne,Gn=Dt,pt;Bc(Ne,!1),Dt?(Dt.el=En.el,ie(Ne,Dt,Lt)):Dt=En,zt&&Um(zt),(pt=Dt.props&&Dt.props.onVnodeBeforeUpdate)&&ha(pt,gn,Dt,En),Bc(Ne,!0);const yt=kA(Ne),tn=Ne.subTree;Ne.subTree=yt,M(tn,yt,b(tn.el),it(tn),Ne,Bt,ct),Dt.el=yt.el,Gn===null&&uG(Ne,yt.el),en&&Is(en,Bt),(pt=Dt.props&&Dt.props.onVnodeUpdated)&&Is(()=>ha(pt,gn,Dt,En),Bt)}else{let Dt;const{el:zt,props:en}=$e,{bm:gn,m:En,parent:Gn}=Ne,pt=ih($e);if(Bc(Ne,!1),gn&&Um(gn),!pt&&(Dt=en&&en.onVnodeBeforeMount)&&ha(Dt,Gn,$e),Bc(Ne,!0),zt&&on){const yt=()=>{Ne.subTree=kA(Ne),on(zt,Ne.subTree,Ne,Bt,null)};pt?$e.type.__asyncLoader().then(()=>!Ne.isUnmounted&&yt()):yt()}else{const yt=Ne.subTree=kA(Ne);M(null,yt,ft,Tt,Ne,Bt,ct),$e.el=yt.el}if(En&&Is(En,Bt),!pt&&(Dt=en&&en.onVnodeMounted)){const yt=$e;Is(()=>ha(Dt,Gn,yt),Bt)}($e.shapeFlag&256||Gn&&ih(Gn.vnode)&&Gn.vnode.shapeFlag&256)&&Ne.a&&Is(Ne.a,Bt),Ne.isMounted=!0,$e=ft=Tt=null}},xe=Ne.effect=new Gy(gt,()=>Ky(qe),Ne.scope),qe=Ne.update=()=>xe.run();qe.id=Ne.uid,Bc(Ne,!0),qe()},ie=(Ne,$e,ft)=>{$e.component=Ne;const Tt=Ne.vnode.props;Ne.vnode=$e,Ne.next=null,TG(Ne,$e.props,Tt,ft),DG(Ne,$e.children,ft),zd(),AC(),$d()},fe=(Ne,$e,ft,Tt,Bt,ct,Lt,gt,xe=!1)=>{const qe=Ne&&Ne.children,Dt=Ne?Ne.shapeFlag:0,zt=$e.children,{patchFlag:en,shapeFlag:gn}=$e;if(en>0){if(en&128){ke(qe,zt,ft,Tt,Bt,ct,Lt,gt,xe);return}else if(en&256){le(qe,zt,ft,Tt,Bt,ct,Lt,gt,xe);return}}gn&8?(Dt&16&&xt(qe,Bt,ct),zt!==qe&&S(ft,zt)):Dt&16?gn&16?ke(qe,zt,ft,Tt,Bt,ct,Lt,gt,xe):xt(qe,Bt,ct,!0):(Dt&8&&S(ft,""),gn&16&&ee(zt,ft,Tt,Bt,ct,Lt,gt,xe))},le=(Ne,$e,ft,Tt,Bt,ct,Lt,gt,xe)=>{Ne=Ne||md,$e=$e||md;const qe=Ne.length,Dt=$e.length,zt=Math.min(qe,Dt);let en;for(en=0;en<zt;en++){const gn=$e[en]=xe?Ol($e[en]):ma($e[en]);M(Ne[en],gn,ft,null,Bt,ct,Lt,gt,xe)}qe>Dt?xt(Ne,Bt,ct,!0,!1,zt):ee($e,ft,Tt,Bt,ct,Lt,gt,xe,zt)},ke=(Ne,$e,ft,Tt,Bt,ct,Lt,gt,xe)=>{let qe=0;const Dt=$e.length;let zt=Ne.length-1,en=Dt-1;for(;qe<=zt&&qe<=en;){const gn=Ne[qe],En=$e[qe]=xe?Ol($e[qe]):ma($e[qe]);if(Uc(gn,En))M(gn,En,ft,null,Bt,ct,Lt,gt,xe);else break;qe++}for(;qe<=zt&&qe<=en;){const gn=Ne[zt],En=$e[en]=xe?Ol($e[en]):ma($e[en]);if(Uc(gn,En))M(gn,En,ft,null,Bt,ct,Lt,gt,xe);else break;zt--,en--}if(qe>zt){if(qe<=en){const gn=en+1,En=gn<Dt?$e[gn].el:Tt;for(;qe<=en;)M(null,$e[qe]=xe?Ol($e[qe]):ma($e[qe]),ft,En,Bt,ct,Lt,gt,xe),qe++}}else if(qe>en)for(;qe<=zt;)Te(Ne[qe],Bt,ct,!0),qe++;else{const gn=qe,En=qe,Gn=new Map;for(qe=En;qe<=en;qe++){const Mt=$e[qe]=xe?Ol($e[qe]):ma($e[qe]);Mt.key!=null&&Gn.set(Mt.key,qe)}let pt,yt=0;const tn=en-En+1;let Bn=!1,Ee=0;const Qe=new Array(tn);for(qe=0;qe<tn;qe++)Qe[qe]=0;for(qe=gn;qe<=zt;qe++){const Mt=Ne[qe];if(yt>=tn){Te(Mt,Bt,ct,!0);continue}let Wn;if(Mt.key!=null)Wn=Gn.get(Mt.key);else for(pt=En;pt<=en;pt++)if(Qe[pt-En]===0&&Uc(Mt,$e[pt])){Wn=pt;break}Wn===void 0?Te(Mt,Bt,ct,!0):(Qe[Wn-En]=qe+1,Wn>=Ee?Ee=Wn:Bn=!0,M(Mt,$e[Wn],ft,null,Bt,ct,Lt,gt,xe),yt++)}const Et=Bn?FG(Qe):md;for(pt=Et.length-1,qe=tn-1;qe>=0;qe--){const Mt=En+qe,Wn=$e[Mt],Ir=Mt+1<Dt?$e[Mt+1].el:Tt;Qe[qe]===0?M(null,Wn,ft,Ir,Bt,ct,Lt,gt,xe):Bn&&(pt<0||qe!==Et[pt]?ze(Wn,ft,Ir,2):pt--)}}},ze=(Ne,$e,ft,Tt,Bt=null)=>{const{el:ct,type:Lt,transition:gt,children:xe,shapeFlag:qe}=Ne;if(qe&6){ze(Ne.component.subTree,$e,ft,Tt);return}if(qe&128){Ne.suspense.move($e,ft,Tt);return}if(qe&64){Lt.move(Ne,$e,ft,ot);return}if(Lt===mn){s(ct,$e,ft);for(let zt=0;zt<xe.length;zt++)ze(xe[zt],$e,ft,Tt);s(Ne.anchor,$e,ft);return}if(Lt===Hm){N(Ne,$e,ft);return}if(Tt!==2&&qe&1&&gt)if(Tt===0)gt.beforeEnter(ct),s(ct,$e,ft),Is(()=>gt.enter(ct),Bt);else{const{leave:zt,delayLeave:en,afterLeave:gn}=gt,En=()=>s(ct,$e,ft),Gn=()=>{zt(ct,()=>{En(),gn&&gn()})};en?en(ct,En,Gn):Gn()}else s(ct,$e,ft)},Te=(Ne,$e,ft,Tt=!1,Bt=!1)=>{const{type:ct,props:Lt,ref:gt,children:xe,dynamicChildren:qe,shapeFlag:Dt,patchFlag:zt,dirs:en}=Ne;if(gt!=null&&C0(gt,null,ft,Ne,!0),Dt&256){$e.ctx.deactivate(Ne);return}const gn=Dt&1&&en,En=!ih(Ne);let Gn;if(En&&(Gn=Lt&&Lt.onVnodeBeforeUnmount)&&ha(Gn,$e,Ne),Dt&6)wt(Ne.component,ft,Tt);else{if(Dt&128){Ne.suspense.unmount(ft,Tt);return}gn&&Dc(Ne,null,$e,"beforeUnmount"),Dt&64?Ne.type.remove(Ne,$e,ft,Bt,ot,Tt):qe&&(ct!==mn||zt>0&&zt&64)?xt(qe,$e,ft,!1,!0):(ct===mn&&zt&384||!Bt&&Dt&16)&&xt(xe,$e,ft),Tt&&Xe(Ne)}(En&&(Gn=Lt&&Lt.onVnodeUnmounted)||gn)&&Is(()=>{Gn&&ha(Gn,$e,Ne),gn&&Dc(Ne,null,$e,"unmounted")},ft)},Xe=Ne=>{const{type:$e,el:ft,anchor:Tt,transition:Bt}=Ne;if($e===mn){_t(ft,Tt);return}if($e===Hm){G(Ne);return}const ct=()=>{a(ft),Bt&&!Bt.persisted&&Bt.afterLeave&&Bt.afterLeave()};if(Ne.shapeFlag&1&&Bt&&!Bt.persisted){const{leave:Lt,delayLeave:gt}=Bt,xe=()=>Lt(ft,ct);gt?gt(Ne.el,ct,xe):xe()}else ct()},_t=(Ne,$e)=>{let ft;for(;Ne!==$e;)ft=w(Ne),a(Ne),Ne=ft;a($e)},wt=(Ne,$e,ft)=>{const{bum:Tt,scope:Bt,update:ct,subTree:Lt,um:gt}=Ne;Tt&&Um(Tt),Bt.stop(),ct&&(ct.active=!1,Te(Lt,Ne,$e,ft)),gt&&Is(gt,$e),Is(()=>{Ne.isUnmounted=!0},$e),$e&&$e.pendingBranch&&!$e.isUnmounted&&Ne.asyncDep&&!Ne.asyncResolved&&Ne.suspenseId===$e.pendingId&&($e.deps--,$e.deps===0&&$e.resolve())},xt=(Ne,$e,ft,Tt=!1,Bt=!1,ct=0)=>{for(let Lt=ct;Lt<Ne.length;Lt++)Te(Ne[Lt],$e,ft,Tt,Bt)},it=Ne=>Ne.shapeFlag&6?it(Ne.component.subTree):Ne.shapeFlag&128?Ne.suspense.next():w(Ne.anchor||Ne.el),je=(Ne,$e,ft)=>{Ne==null?$e._vnode&&Te($e._vnode,null,null,!0):M($e._vnode||null,Ne,$e,null,null,null,ft),AC(),px(),$e._vnode=Ne},ot={p:M,um:Te,m:ze,r:Xe,mt:ye,mc:ee,pc:fe,pbc:oe,n:it,o:e};let At,on;return n&&([At,on]=n(ot)),{render:je,hydrate:At,createApp:kG(je,At)}}function Bc({effect:e,update:n},i){e.allowRecurse=n.allowRecurse=i}function tb(e,n,i=!1){const s=e.children,a=n.children;if(sn(s)&&sn(a))for(let u=0;u<s.length;u++){const f=s[u];let h=a[u];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=a[u]=Ol(a[u]),h.el=f.el),i||tb(f,h)),h.type===Wd&&(h.el=f.el)}}function FG(e){const n=e.slice(),i=[0];let s,a,u,f,h;const _=e.length;for(s=0;s<_;s++){const y=e[s];if(y!==0){if(a=i[i.length-1],e[a]<y){n[s]=a,i.push(s);continue}for(u=0,f=i.length-1;u<f;)h=u+f>>1,e[i[h]]<y?u=h+1:f=h;y<e[i[u]]&&(u>0&&(n[s]=i[u-1]),i[u]=s)}}for(u=i.length,f=i[u-1];u-- >0;)i[u]=f,f=n[f];return i}const VG=e=>e.__isTeleport,oh=e=>e&&(e.disabled||e.disabled===""),RC=e=>typeof SVGElement<"u"&&e instanceof SVGElement,I0=(e,n)=>{const i=e&&e.to;return Dn(i)?n?n(i):null:i},GG={__isTeleport:!0,process(e,n,i,s,a,u,f,h,_,y){const{mc:S,pc:b,pbc:w,o:{insert:C,querySelector:x,createText:M,createComment:T}}=y,D=oh(n.props);let{shapeFlag:F,children:N,dynamicChildren:G}=n;if(e==null){const U=n.el=M(""),$=n.anchor=M("");C(U,i,s),C($,i,s);const de=n.target=I0(n.props,x),ee=n.targetAnchor=M("");de&&(C(ee,de),f=f||RC(de));const se=(oe,Ie)=>{F&16&&S(N,oe,Ie,a,u,f,h,_)};D?se(i,$):de&&se(de,ee)}else{n.el=e.el;const U=n.anchor=e.anchor,$=n.target=e.target,de=n.targetAnchor=e.targetAnchor,ee=oh(e.props),se=ee?i:$,oe=ee?U:de;if(f=f||RC($),G?(w(e.dynamicChildren,G,se,a,u,f,h),tb(e,n,!0)):_||b(e,n,se,oe,a,u,f,h,!1),D)ee||Am(n,i,U,y,1);else if((n.props&&n.props.to)!==(e.props&&e.props.to)){const Ie=n.target=I0(n.props,x);Ie&&Am(n,Ie,null,y,0)}else ee&&Am(n,$,de,y,1)}kx(n)},remove(e,n,i,s,{um:a,o:{remove:u}},f){const{shapeFlag:h,children:_,anchor:y,targetAnchor:S,target:b,props:w}=e;if(b&&u(S),(f||!oh(w))&&(u(y),h&16))for(let C=0;C<_.length;C++){const x=_[C];a(x,n,i,!0,!!x.dynamicChildren)}},move:Am,hydrate:UG};function Am(e,n,i,{o:{insert:s},m:a},u=2){u===0&&s(e.targetAnchor,n,i);const{el:f,anchor:h,shapeFlag:_,children:y,props:S}=e,b=u===2;if(b&&s(f,n,i),(!b||oh(S))&&_&16)for(let w=0;w<y.length;w++)a(y[w],n,i,2);b&&s(h,n,i)}function UG(e,n,i,s,a,u,{o:{nextSibling:f,parentNode:h,querySelector:_}},y){const S=n.target=I0(n.props,_);if(S){const b=S._lpa||S.firstChild;if(n.shapeFlag&16)if(oh(n.props))n.anchor=y(f(e),n,h(e),i,s,a,u),n.targetAnchor=b;else{n.anchor=f(e);let w=b;for(;w;)if(w=f(w),w&&w.nodeType===8&&w.data==="teleport anchor"){n.targetAnchor=w,S._lpa=n.targetAnchor&&f(n.targetAnchor);break}y(b,n,S,i,s,a,u)}kx(n)}return n.anchor&&f(n.anchor)}const Jh=GG;function kx(e){const n=e.ctx;if(n&&n.ut){let i=e.children[0].el;for(;i!==e.targetAnchor;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}const mn=Symbol(void 0),Wd=Symbol(void 0),gs=Symbol(void 0),Hm=Symbol(void 0),ah=[];let Qo=null;function Q(e=!1){ah.push(Qo=e?null:[])}function HG(){ah.pop(),Qo=ah[ah.length-1]||null}let xh=1;function TC(e){xh+=e}function Lx(e){return e.dynamicChildren=xh>0?Qo||md:null,HG(),xh>0&&Qo&&Qo.push(e),e}function ve(e,n,i,s,a,u){return Lx(Ce(e,n,i,s,a,u,!0))}function rt(e,n,i,s,a){return Lx(Re(e,n,i,s,a,!0))}function Zr(e){return e?e.__v_isVNode===!0:!1}function Uc(e,n){return e.type===n.type&&e.key===n.key}const qg="__vInternal",Ox=({key:e})=>e!=null?e:null,Qm=({ref:e,ref_key:n,ref_for:i})=>e!=null?Dn(e)||Xr(e)||Tn(e)?{i:Zi,r:e,k:n,f:!!i}:e:null;function Ce(e,n=null,i=null,s=0,a=null,u=e===mn?0:1,f=!1,h=!1){const _={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&Ox(n),ref:n&&Qm(n),scopeId:$g,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:s,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Zi};return h?(nb(_,i),u&128&&e.normalize(_)):i&&(_.shapeFlag|=Dn(i)?8:16),xh>0&&!f&&Qo&&(_.patchFlag>0||u&6)&&_.patchFlag!==32&&Qo.push(_),_}const Re=QG;function QG(e,n=null,i=null,s=0,a=null,u=!1){if((!e||e===Ix)&&(e=gs),Zr(e)){const h=Ja(e,n,!0);return i&&nb(h,i),xh>0&&!u&&Qo&&(h.shapeFlag&6?Qo[Qo.indexOf(e)]=h:Qo.push(h)),h.patchFlag|=-2,h}if(JG(e)&&(e=e.__vccOpts),n){n=Yg(n);let{class:h,style:_}=n;h&&!Dn(h)&&(n.class=Y(h)),tr(_)&&(ox(_)&&!sn(_)&&(_=Wi({},_)),n.style=fn(_))}const f=Dn(e)?1:dG(e)?128:VG(e)?64:tr(e)?4:Tn(e)?2:0;return Ce(e,n,i,s,a,f,u,!0)}function Yg(e){return e?ox(e)||qg in e?Wi({},e):e:null}function Ja(e,n,i=!1){const{props:s,ref:a,patchFlag:u,children:f}=e,h=n?nr(s||{},n):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&Ox(h),ref:n&&n.ref?i&&a?sn(a)?a.concat(Qm(n)):[a,Qm(n)]:Qm(n):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:f,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==mn?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ja(e.ssContent),ssFallback:e.ssFallback&&Ja(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function hr(e=" ",n=0){return Re(Wd,null,e,n)}function XG(e,n){const i=Re(Hm,null,e);return i.staticCount=n,i}function Ye(e="",n=!1){return n?(Q(),rt(gs,null,e)):Re(gs,null,e)}function ma(e){return e==null||typeof e=="boolean"?Re(gs):sn(e)?Re(mn,null,e.slice()):typeof e=="object"?Ol(e):Re(Wd,null,String(e))}function Ol(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ja(e)}function nb(e,n){let i=0;const{shapeFlag:s}=e;if(n==null)n=null;else if(sn(n))i=16;else if(typeof n=="object")if(s&65){const a=n.default;a&&(a._c&&(a._d=!1),nb(e,a()),a._c&&(a._d=!0));return}else{i=32;const a=n._;!a&&!(qg in n)?n._ctx=Zi:a===3&&Zi&&(Zi.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else Tn(n)?(n={default:n,_ctx:Zi},i=32):(n=String(n),s&64?(i=16,n=[hr(n)]):i=8);e.children=n,e.shapeFlag|=i}function nr(...e){const n={};for(let i=0;i<e.length;i++){const s=e[i];for(const a in s)if(a==="class")n.class!==s.class&&(n.class=Y([n.class,s.class]));else if(a==="style")n.style=fn([n.style,s.style]);else if(Gg(a)){const u=n[a],f=s[a];f&&u!==f&&!(sn(u)&&u.includes(f))&&(n[a]=u?[].concat(u,f):f)}else a!==""&&(n[a]=s[a])}return n}function ha(e,n,i,s=null){fo(e,n,7,[i,s])}const zG=Bx();let $G=0;function WG(e,n,i){const s=e.type,a=(n?n.appContext:e.appContext)||zG,u={uid:$G++,vnode:e,type:s,parent:n,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new WM(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Tx(s,a),emitsOptions:gx(s,a),emit:null,emitted:null,propsDefaults:vi,inheritAttrs:s.inheritAttrs,ctx:vi,data:vi,props:vi,attrs:vi,slots:vi,refs:vi,setupState:vi,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=n?n.root:u,u.emit=oG.bind(null,u),e.ce&&e.ce(u),u}let Qi=null;const Yn=()=>Qi||Zi,Md=e=>{Qi=e,e.scope.on()},tu=()=>{Qi&&Qi.scope.off(),Qi=null};function Fx(e){return e.vnode.shapeFlag&4}let Rh=!1;function KG(e,n=!1){Rh=n;const{props:i,children:s}=e.vnode,a=Fx(e);RG(e,i,a,n),NG(e,s);const u=a?jG(e,n):void 0;return Rh=!1,u}function jG(e,n){const i=e.type;e.accessCache=Object.create(null),e.proxy=eu(new Proxy(e.ctx,EG));const{setup:s}=i;if(s){const a=e.setupContext=s.length>1?Gx(e):null;Md(e),zd();const u=Hl(s,e,0,[e.props,a]);if($d(),tu(),yh(u)){if(u.then(tu,tu),n)return u.then(f=>{PC(e,f,n)}).catch(f=>{Xg(f,e,0)});e.asyncDep=u}else PC(e,u,n)}else Vx(e,n)}function PC(e,n,i){Tn(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:tr(n)&&(e.setupState=cx(n)),Vx(e,i)}let NC;function Vx(e,n,i){const s=e.type;if(!e.render){if(!n&&NC&&!s.render){const a=s.template||Zy(e).template;if(a){const{isCustomElement:u,compilerOptions:f}=e.appContext.config,{delimiters:h,compilerOptions:_}=s,y=Wi(Wi({isCustomElement:u,delimiters:h},f),_);s.render=NC(a,y)}}e.render=s.render||Lr}Md(e),zd(),wG(e),$d(),tu()}function qG(e){return new Proxy(e.attrs,{get(n,i){return Ys(e,"get","$attrs"),n[i]}})}function Gx(e){const n=s=>{e.exposed=s||{}};let i;return{get attrs(){return i||(i=qG(e))},slots:e.slots,emit:e.emit,expose:n}}function Jg(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(cx(eu(e.exposed)),{get(n,i){if(i in n)return n[i];if(i in sh)return sh[i](e)},has(n,i){return i in n||i in sh}}))}function YG(e,n=!0){return Tn(e)?e.displayName||e.name:e.name||n&&e.__name}function JG(e){return Tn(e)&&"__vccOpts"in e}const z=(e,n)=>dx(e,n,Rh);function Ki(){return Ux().slots}function Zh(){return Ux().attrs}function Ux(){const e=Yn();return e.setupContext||(e.setupContext=Gx(e))}function An(e,n,i){const s=arguments.length;return s===2?tr(n)&&!sn(n)?Zr(n)?Re(e,null,[n]):Re(e,n):Re(e,null,n):(s>3?i=Array.prototype.slice.call(arguments,2):s===3&&Zr(i)&&(i=[i]),Re(e,n,i))}const ZG=Symbol(""),e5=()=>hn(ZG),t5="3.2.45",n5="http://www.w3.org/2000/svg",Hc=typeof document<"u"?document:null,DC=Hc&&Hc.createElement("template"),r5={insert:(e,n,i)=>{n.insertBefore(e,i||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,i,s)=>{const a=n?Hc.createElementNS(n5,e):Hc.createElement(e,i?{is:i}:void 0);return e==="select"&&s&&s.multiple!=null&&a.setAttribute("multiple",s.multiple),a},createText:e=>Hc.createTextNode(e),createComment:e=>Hc.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Hc.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},insertStaticContent(e,n,i,s,a,u){const f=i?i.previousSibling:n.lastChild;if(a&&(a===u||a.nextSibling))for(;n.insertBefore(a.cloneNode(!0),i),!(a===u||!(a=a.nextSibling)););else{DC.innerHTML=s?`<svg>${e}</svg>`:e;const h=DC.content;if(s){const _=h.firstChild;for(;_.firstChild;)h.appendChild(_.firstChild);h.removeChild(_)}n.insertBefore(h,i)}return[f?f.nextSibling:n.firstChild,i?i.previousSibling:n.lastChild]}};function i5(e,n,i){const s=e._vtc;s&&(n=(n?[n,...s]:[...s]).join(" ")),n==null?e.removeAttribute("class"):i?e.setAttribute("class",n):e.className=n}function s5(e,n,i){const s=e.style,a=Dn(i);if(i&&!a){for(const u in i)M0(s,u,i[u]);if(n&&!Dn(n))for(const u in n)i[u]==null&&M0(s,u,"")}else{const u=s.display;a?n!==i&&(s.cssText=i):n&&e.removeAttribute("style"),"_vod"in e&&(s.display=u)}}const BC=/\s*!important$/;function M0(e,n,i){if(sn(i))i.forEach(s=>M0(e,n,s));else if(i==null&&(i=""),n.startsWith("--"))e.setProperty(n,i);else{const s=o5(e,n);BC.test(i)?e.setProperty(Zl(s),i.replace(BC,""),"important"):e[s]=i}}const kC=["Webkit","Moz","ms"],FA={};function o5(e,n){const i=FA[n];if(i)return i;let s=mo(n);if(s!=="filter"&&s in e)return FA[n]=s;s=qh(s);for(let a=0;a<kC.length;a++){const u=kC[a]+s;if(u in e)return FA[n]=u}return n}const LC="http://www.w3.org/1999/xlink";function a5(e,n,i,s,a){if(s&&n.startsWith("xlink:"))i==null?e.removeAttributeNS(LC,n.slice(6,n.length)):e.setAttributeNS(LC,n,i);else{const u=pV(n);i==null||u&&!HM(i)?e.removeAttribute(n):e.setAttribute(n,u?"":i)}}function l5(e,n,i,s,a,u,f){if(n==="innerHTML"||n==="textContent"){s&&f(s,a,u),e[n]=i==null?"":i;return}if(n==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=i;const _=i==null?"":i;(e.value!==_||e.tagName==="OPTION")&&(e.value=_),i==null&&e.removeAttribute(n);return}let h=!1;if(i===""||i==null){const _=typeof e[n];_==="boolean"?i=HM(i):i==null&&_==="string"?(i="",h=!0):_==="number"&&(i=0,h=!0)}try{e[n]=i}catch{}h&&e.removeAttribute(n)}function Fl(e,n,i,s){e.addEventListener(n,i,s)}function c5(e,n,i,s){e.removeEventListener(n,i,s)}function u5(e,n,i,s,a=null){const u=e._vei||(e._vei={}),f=u[n];if(s&&f)f.value=s;else{const[h,_]=d5(n);if(s){const y=u[n]=p5(s,a);Fl(e,h,y,_)}else f&&(c5(e,h,f,_),u[n]=void 0)}}const OC=/(?:Once|Passive|Capture)$/;function d5(e){let n;if(OC.test(e)){n={};let s;for(;s=e.match(OC);)e=e.slice(0,e.length-s[0].length),n[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Zl(e.slice(2)),n]}let VA=0;const f5=Promise.resolve(),h5=()=>VA||(f5.then(()=>VA=0),VA=Date.now());function p5(e,n){const i=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=i.attached)return;fo(m5(s,i.value),n,5,[s])};return i.value=e,i.attached=h5(),i}function m5(e,n){if(sn(n)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},n.map(s=>a=>!a._stopped&&s&&s(a))}else return n}const FC=/^on[a-z]/,g5=(e,n,i,s,a=!1,u,f,h,_)=>{n==="class"?i5(e,s,a):n==="style"?s5(e,i,s):Gg(n)?Ly(n)||u5(e,n,i,s,f):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):v5(e,n,s,a))?l5(e,n,s,u,f,h,_):(n==="true-value"?e._trueValue=s:n==="false-value"&&(e._falseValue=s),a5(e,n,s,a))};function v5(e,n,i,s){return s?!!(n==="innerHTML"||n==="textContent"||n in e&&FC.test(n)&&Tn(i)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA"||FC.test(n)&&Dn(i)?!1:n in e}const Pl="transition",zf="animation",bi=(e,{slots:n})=>An(bx,Qx(e),n);bi.displayName="Transition";const Hx={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},_5=bi.props=Wi({},bx.props,Hx),kc=(e,n=[])=>{sn(e)?e.forEach(i=>i(...n)):e&&e(...n)},VC=e=>e?sn(e)?e.some(n=>n.length>1):e.length>1:!1;function Qx(e){const n={};for(const pe in e)pe in Hx||(n[pe]=e[pe]);if(e.css===!1)return n;const{name:i="v",type:s,duration:a,enterFromClass:u=`${i}-enter-from`,enterActiveClass:f=`${i}-enter-active`,enterToClass:h=`${i}-enter-to`,appearFromClass:_=u,appearActiveClass:y=f,appearToClass:S=h,leaveFromClass:b=`${i}-leave-from`,leaveActiveClass:w=`${i}-leave-active`,leaveToClass:C=`${i}-leave-to`}=e,x=A5(a),M=x&&x[0],T=x&&x[1],{onBeforeEnter:D,onEnter:F,onEnterCancelled:N,onLeave:G,onLeaveCancelled:U,onBeforeAppear:$=D,onAppear:de=F,onAppearCancelled:ee=N}=n,se=(pe,ae,ye)=>{Dl(pe,ae?S:h),Dl(pe,ae?y:f),ye&&ye()},oe=(pe,ae)=>{pe._isLeaving=!1,Dl(pe,b),Dl(pe,C),Dl(pe,w),ae&&ae()},Ie=pe=>(ae,ye)=>{const be=pe?de:F,_e=()=>se(ae,pe,ye);kc(be,[ae,_e]),GC(()=>{Dl(ae,pe?_:u),Qa(ae,pe?S:h),VC(be)||UC(ae,s,M,_e)})};return Wi(n,{onBeforeEnter(pe){kc(D,[pe]),Qa(pe,u),Qa(pe,f)},onBeforeAppear(pe){kc($,[pe]),Qa(pe,_),Qa(pe,y)},onEnter:Ie(!1),onAppear:Ie(!0),onLeave(pe,ae){pe._isLeaving=!0;const ye=()=>oe(pe,ae);Qa(pe,b),zx(),Qa(pe,w),GC(()=>{!pe._isLeaving||(Dl(pe,b),Qa(pe,C),VC(G)||UC(pe,s,T,ye))}),kc(G,[pe,ye])},onEnterCancelled(pe){se(pe,!1),kc(N,[pe])},onAppearCancelled(pe){se(pe,!0),kc(ee,[pe])},onLeaveCancelled(pe){oe(pe),kc(U,[pe])}})}function A5(e){if(e==null)return null;if(tr(e))return[GA(e.enter),GA(e.leave)];{const n=GA(e);return[n,n]}}function GA(e){return Sh(e)}function Qa(e,n){n.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e._vtc||(e._vtc=new Set)).add(n)}function Dl(e,n){n.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:i}=e;i&&(i.delete(n),i.size||(e._vtc=void 0))}function GC(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let y5=0;function UC(e,n,i,s){const a=e._endId=++y5,u=()=>{a===e._endId&&s()};if(i)return setTimeout(u,i);const{type:f,timeout:h,propCount:_}=Xx(e,n);if(!f)return s();const y=f+"end";let S=0;const b=()=>{e.removeEventListener(y,w),u()},w=C=>{C.target===e&&++S>=_&&b()};setTimeout(()=>{S<_&&b()},h+1),e.addEventListener(y,w)}function Xx(e,n){const i=window.getComputedStyle(e),s=x=>(i[x]||"").split(", "),a=s(`${Pl}Delay`),u=s(`${Pl}Duration`),f=HC(a,u),h=s(`${zf}Delay`),_=s(`${zf}Duration`),y=HC(h,_);let S=null,b=0,w=0;n===Pl?f>0&&(S=Pl,b=f,w=u.length):n===zf?y>0&&(S=zf,b=y,w=_.length):(b=Math.max(f,y),S=b>0?f>y?Pl:zf:null,w=S?S===Pl?u.length:_.length:0);const C=S===Pl&&/\b(transform|all)(,|$)/.test(s(`${Pl}Property`).toString());return{type:S,timeout:b,propCount:w,hasTransform:C}}function HC(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max(...n.map((i,s)=>QC(i)+QC(e[s])))}function QC(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function zx(){return document.body.offsetHeight}const $x=new WeakMap,Wx=new WeakMap,b5={name:"TransitionGroup",props:Wi({},_5,{tag:String,moveClass:String}),setup(e,{slots:n}){const i=Yn(),s=yx();let a,u;return rl(()=>{if(!a.length)return;const f=e.moveClass||`${e.name||"v"}-move`;if(!I5(a[0].el,i.vnode.el,f))return;a.forEach(E5),a.forEach(w5);const h=a.filter(C5);zx(),h.forEach(_=>{const y=_.el,S=y.style;Qa(y,f),S.transform=S.webkitTransform=S.transitionDuration="";const b=y._moveCb=w=>{w&&w.target!==y||(!w||/transform$/.test(w.propertyName))&&(y.removeEventListener("transitionend",b),y._moveCb=null,Dl(y,f))};y.addEventListener("transitionend",b)})}),()=>{const f=Nr(e),h=Qx(f);let _=f.tag||mn;a=u,u=n.default?qy(n.default()):[];for(let y=0;y<u.length;y++){const S=u[y];S.key!=null&&Mh(S,Ih(S,h,s,i))}if(a)for(let y=0;y<a.length;y++){const S=a[y];Mh(S,Ih(S,h,s,i)),$x.set(S,S.el.getBoundingClientRect())}return Re(_,null,u)}}},S5=b5;function E5(e){const n=e.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function w5(e){Wx.set(e,e.el.getBoundingClientRect())}function C5(e){const n=$x.get(e),i=Wx.get(e),s=n.left-i.left,a=n.top-i.top;if(s||a){const u=e.el.style;return u.transform=u.webkitTransform=`translate(${s}px,${a}px)`,u.transitionDuration="0s",e}}function I5(e,n,i){const s=e.cloneNode();e._vtc&&e._vtc.forEach(f=>{f.split(/\s+/).forEach(h=>h&&s.classList.remove(h))}),i.split(/\s+/).forEach(f=>f&&s.classList.add(f)),s.style.display="none";const a=n.nodeType===1?n:n.parentNode;a.appendChild(s);const{hasTransform:u}=Xx(s);return a.removeChild(s),u}const xd=e=>{const n=e.props["onUpdate:modelValue"]||!1;return sn(n)?i=>Um(n,i):n};function M5(e){e.target.composing=!0}function XC(e){const n=e.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const rb={created(e,{modifiers:{lazy:n,trim:i,number:s}},a){e._assign=xd(a);const u=s||a.props&&a.props.type==="number";Fl(e,n?"change":"input",f=>{if(f.target.composing)return;let h=e.value;i&&(h=h.trim()),u&&(h=Sh(h)),e._assign(h)}),i&&Fl(e,"change",()=>{e.value=e.value.trim()}),n||(Fl(e,"compositionstart",M5),Fl(e,"compositionend",XC),Fl(e,"change",XC))},mounted(e,{value:n}){e.value=n==null?"":n},beforeUpdate(e,{value:n,modifiers:{lazy:i,trim:s,number:a}},u){if(e._assign=xd(u),e.composing||document.activeElement===e&&e.type!=="range"&&(i||s&&e.value.trim()===n||(a||e.type==="number")&&Sh(e.value)===n))return;const f=n==null?"":n;e.value!==f&&(e.value=f)}},_g={deep:!0,created(e,n,i){e._assign=xd(i),Fl(e,"change",()=>{const s=e._modelValue,a=jx(e),u=e.checked,f=e._assign;if(sn(s)){const h=QM(s,a),_=h!==-1;if(u&&!_)f(s.concat(a));else if(!u&&_){const y=[...s];y.splice(h,1),f(y)}}else if(Ug(s)){const h=new Set(s);u?h.add(a):h.delete(a),f(h)}else f(qx(e,u))})},mounted:zC,beforeUpdate(e,n,i){e._assign=xd(i),zC(e,n,i)}};function zC(e,{value:n,oldValue:i},s){e._modelValue=n,sn(n)?e.checked=QM(n,s.props.value)>-1:Ug(n)?e.checked=n.has(s.props.value):n!==i&&(e.checked=wd(n,qx(e,!0)))}const Kx={created(e,{value:n},i){e.checked=wd(n,i.props.value),e._assign=xd(i),Fl(e,"change",()=>{e._assign(jx(e))})},beforeUpdate(e,{value:n,oldValue:i},s){e._assign=xd(s),n!==i&&(e.checked=wd(n,s.props.value))}};function jx(e){return"_value"in e?e._value:e.value}function qx(e,n){const i=n?"_trueValue":"_falseValue";return i in e?e[i]:n}const x5=["ctrl","shift","alt","meta"],R5={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>x5.some(i=>e[`${i}Key`]&&!n.includes(i))},Nn=(e,n)=>(i,...s)=>{for(let a=0;a<n.length;a++){const u=R5[n[a]];if(u&&u(i,n))return}return e(i,...s)},T5={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},fr=(e,n)=>i=>{if(!("key"in i))return;const s=Zl(i.key);if(n.some(a=>a===s||T5[a]===s))return e(i)},_r={beforeMount(e,{value:n},{transition:i}){e._vod=e.style.display==="none"?"":e.style.display,i&&n?i.beforeEnter(e):$f(e,n)},mounted(e,{value:n},{transition:i}){i&&n&&i.enter(e)},updated(e,{value:n,oldValue:i},{transition:s}){!n!=!i&&(s?n?(s.beforeEnter(e),$f(e,!0),s.enter(e)):s.leave(e,()=>{$f(e,!1)}):$f(e,n))},beforeUnmount(e,{value:n}){$f(e,n)}};function $f(e,n){e.style.display=n?e._vod:"none"}const P5=Wi({patchProp:g5},r5);let $C;function Yx(){return $C||($C=LG(P5))}const Rd=(...e)=>{Yx().render(...e)},Jx=(...e)=>{const n=Yx().createApp(...e),{mount:i}=n;return n.mount=s=>{const a=N5(s);if(!a)return;const u=n._component;!Tn(u)&&!u.render&&!u.template&&(u.template=a.innerHTML),a.innerHTML="";const f=i(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),f},n};function N5(e){return Dn(e)?document.querySelector(e):e}function D5(e){if(!!e&&!(typeof window>"u")){var n=document.createElement("style");return n.setAttribute("type","text/css"),n.innerHTML=e,document.head.appendChild(n),e}}function ud(e,n){var i=e.__state.conversionName.toString(),s=Math.round(e.r),a=Math.round(e.g),u=Math.round(e.b),f=e.a,h=Math.round(e.h),_=e.s.toFixed(1),y=e.v.toFixed(1);if(n||i==="THREE_CHAR_HEX"||i==="SIX_CHAR_HEX"){for(var S=e.hex.toString(16);S.length<6;)S="0"+S;return"#"+S}else{if(i==="CSS_RGB")return"rgb("+s+","+a+","+u+")";if(i==="CSS_RGBA")return"rgba("+s+","+a+","+u+","+f+")";if(i==="HEX")return"0x"+e.hex.toString(16);if(i==="RGB_ARRAY")return"["+s+","+a+","+u+"]";if(i==="RGBA_ARRAY")return"["+s+","+a+","+u+","+f+"]";if(i==="RGB_OBJ")return"{r:"+s+",g:"+a+",b:"+u+"}";if(i==="RGBA_OBJ")return"{r:"+s+",g:"+a+",b:"+u+",a:"+f+"}";if(i==="HSV_OBJ")return"{h:"+h+",s:"+_+",v:"+y+"}";if(i==="HSVA_OBJ")return"{h:"+h+",s:"+_+",v:"+y+",a:"+f+"}"}return"unknown format"}var WC=Array.prototype.forEach,Wf=Array.prototype.slice,cn={BREAK:{},extend:function(n){return this.each(Wf.call(arguments,1),function(i){var s=this.isObject(i)?Object.keys(i):[];s.forEach(function(a){this.isUndefined(i[a])||(n[a]=i[a])}.bind(this))},this),n},defaults:function(n){return this.each(Wf.call(arguments,1),function(i){var s=this.isObject(i)?Object.keys(i):[];s.forEach(function(a){this.isUndefined(n[a])&&(n[a]=i[a])}.bind(this))},this),n},compose:function(){var n=Wf.call(arguments);return function(){for(var i=Wf.call(arguments),s=n.length-1;s>=0;s--)i=[n[s].apply(this,i)];return i[0]}},each:function(n,i,s){if(!!n){if(WC&&n.forEach&&n.forEach===WC)n.forEach(i,s);else if(n.length===n.length+0){var a=void 0,u=void 0;for(a=0,u=n.length;a<u;a++)if(a in n&&i.call(s,n[a],a)===this.BREAK)return}else for(var f in n)if(i.call(s,n[f],f)===this.BREAK)return}},defer:function(n){setTimeout(n,0)},debounce:function(n,i,s){var a=void 0;return function(){var u=this,f=arguments;function h(){a=null,s||n.apply(u,f)}var _=s||!a;clearTimeout(a),a=setTimeout(h,i),_&&n.apply(u,f)}},toArray:function(n){return n.toArray?n.toArray():Wf.call(n)},isUndefined:function(n){return n===void 0},isNull:function(n){return n===null},isNaN:function(e){function n(i){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(n){return n===Object(n)},isNumber:function(n){return n===n+0},isString:function(n){return n===n+""},isBoolean:function(n){return n===!1||n===!0},isFunction:function(n){return n instanceof Function}},B5=[{litmus:cn.isString,conversions:{THREE_CHAR_HEX:{read:function(n){var i=n.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return i===null?!1:{space:"HEX",hex:parseInt("0x"+i[1].toString()+i[1].toString()+i[2].toString()+i[2].toString()+i[3].toString()+i[3].toString(),0)}},write:ud},SIX_CHAR_HEX:{read:function(n){var i=n.match(/^#([A-F0-9]{6})$/i);return i===null?!1:{space:"HEX",hex:parseInt("0x"+i[1].toString(),0)}},write:ud},CSS_RGB:{read:function(n){var i=n.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return i===null?!1:{space:"RGB",r:parseFloat(i[1]),g:parseFloat(i[2]),b:parseFloat(i[3])}},write:ud},CSS_RGBA:{read:function(n){var i=n.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return i===null?!1:{space:"RGB",r:parseFloat(i[1]),g:parseFloat(i[2]),b:parseFloat(i[3]),a:parseFloat(i[4])}},write:ud}}},{litmus:cn.isNumber,conversions:{HEX:{read:function(n){return{space:"HEX",hex:n,conversionName:"HEX"}},write:function(n){return n.hex}}}},{litmus:cn.isArray,conversions:{RGB_ARRAY:{read:function(n){return n.length!==3?!1:{space:"RGB",r:n[0],g:n[1],b:n[2]}},write:function(n){return[n.r,n.g,n.b]}},RGBA_ARRAY:{read:function(n){return n.length!==4?!1:{space:"RGB",r:n[0],g:n[1],b:n[2],a:n[3]}},write:function(n){return[n.r,n.g,n.b,n.a]}}}},{litmus:cn.isObject,conversions:{RGBA_OBJ:{read:function(n){return cn.isNumber(n.r)&&cn.isNumber(n.g)&&cn.isNumber(n.b)&&cn.isNumber(n.a)?{space:"RGB",r:n.r,g:n.g,b:n.b,a:n.a}:!1},write:function(n){return{r:n.r,g:n.g,b:n.b,a:n.a}}},RGB_OBJ:{read:function(n){return cn.isNumber(n.r)&&cn.isNumber(n.g)&&cn.isNumber(n.b)?{space:"RGB",r:n.r,g:n.g,b:n.b}:!1},write:function(n){return{r:n.r,g:n.g,b:n.b}}},HSVA_OBJ:{read:function(n){return cn.isNumber(n.h)&&cn.isNumber(n.s)&&cn.isNumber(n.v)&&cn.isNumber(n.a)?{space:"HSV",h:n.h,s:n.s,v:n.v,a:n.a}:!1},write:function(n){return{h:n.h,s:n.s,v:n.v,a:n.a}}},HSV_OBJ:{read:function(n){return cn.isNumber(n.h)&&cn.isNumber(n.s)&&cn.isNumber(n.v)?{space:"HSV",h:n.h,s:n.s,v:n.v}:!1},write:function(n){return{h:n.h,s:n.s,v:n.v}}}}}],Kf=void 0,ym=void 0,x0=function(){ym=!1;var n=arguments.length>1?cn.toArray(arguments):arguments[0];return cn.each(B5,function(i){if(i.litmus(n))return cn.each(i.conversions,function(s,a){if(Kf=s.read(n),ym===!1&&Kf!==!1)return ym=Kf,Kf.conversionName=a,Kf.conversion=s,cn.BREAK}),cn.BREAK}),ym},KC=void 0,Ag={hsv_to_rgb:function(n,i,s){var a=Math.floor(n/60)%6,u=n/60-Math.floor(n/60),f=s*(1-i),h=s*(1-u*i),_=s*(1-(1-u)*i),y=[[s,_,f],[h,s,f],[f,s,_],[f,h,s],[_,f,s],[s,f,h]][a];return{r:y[0]*255,g:y[1]*255,b:y[2]*255}},rgb_to_hsv:function(n,i,s){var a=Math.min(n,i,s),u=Math.max(n,i,s),f=u-a,h=void 0,_=void 0;if(u!==0)_=f/u;else return{h:NaN,s:0,v:0};return n===u?h=(i-s)/f:i===u?h=2+(s-n)/f:h=4+(n-i)/f,h/=6,h<0&&(h+=1),{h:h*360,s:_,v:u/255}},rgb_to_hex:function(n,i,s){var a=this.hex_with_component(0,2,n);return a=this.hex_with_component(a,1,i),a=this.hex_with_component(a,0,s),a},component_from_hex:function(n,i){return n>>i*8&255},hex_with_component:function(n,i,s){return s<<(KC=i*8)|n&~(255<<KC)}},k5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},jo=function(){function e(n,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(n,i,s){return i&&e(n.prototype,i),s&&e(n,s),n}}(),$l=function e(n,i,s){n===null&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(a===void 0){var u=Object.getPrototypeOf(n);return u===null?void 0:e(u,i,s)}else{if("value"in a)return a.value;var f=a.get;return f===void 0?void 0:f.call(s)}},ec=function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)},tc=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e},zi=function(){function e(){if(Ko(this,e),this.__state=x0.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return jo(e,[{key:"toString",value:function(){return ud(this)}},{key:"toHexString",value:function(){return ud(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();function ib(e,n,i){Object.defineProperty(e,n,{get:function(){return this.__state.space==="RGB"?this.__state[n]:(zi.recalculateRGB(this,n,i),this.__state[n])},set:function(a){this.__state.space!=="RGB"&&(zi.recalculateRGB(this,n,i),this.__state.space="RGB"),this.__state[n]=a}})}function sb(e,n){Object.defineProperty(e,n,{get:function(){return this.__state.space==="HSV"?this.__state[n]:(zi.recalculateHSV(this),this.__state[n])},set:function(s){this.__state.space!=="HSV"&&(zi.recalculateHSV(this),this.__state.space="HSV"),this.__state[n]=s}})}zi.recalculateRGB=function(e,n,i){if(e.__state.space==="HEX")e.__state[n]=Ag.component_from_hex(e.__state.hex,i);else if(e.__state.space==="HSV")cn.extend(e.__state,Ag.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v));else throw new Error("Corrupted color state")};zi.recalculateHSV=function(e){var n=Ag.rgb_to_hsv(e.r,e.g,e.b);cn.extend(e.__state,{s:n.s,v:n.v}),cn.isNaN(n.h)?cn.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=n.h};zi.COMPONENTS=["r","g","b","h","s","v","hex","a"];ib(zi.prototype,"r",2);ib(zi.prototype,"g",1);ib(zi.prototype,"b",0);sb(zi.prototype,"h");sb(zi.prototype,"s");sb(zi.prototype,"v");Object.defineProperty(zi.prototype,"a",{get:function(){return this.__state.a},set:function(n){this.__state.a=n}});Object.defineProperty(zi.prototype,"hex",{get:function(){return this.__state.space!=="HEX"&&(this.__state.hex=Ag.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(n){this.__state.space="HEX",this.__state.hex=n}});var pu=function(){function e(n,i){Ko(this,e),this.initialValue=n[i],this.domElement=document.createElement("div"),this.object=n,this.property=i,this.__onChange=void 0,this.__onFinishChange=void 0}return jo(e,[{key:"onChange",value:function(i){return this.__onChange=i,this}},{key:"onFinishChange",value:function(i){return this.__onFinishChange=i,this}},{key:"setValue",value:function(i){return this.object[this.property]=i,this.__onChange&&this.__onChange.call(this,i),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),L5={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},Zx={};cn.each(L5,function(e,n){cn.each(e,function(i){Zx[i]=n})});var O5=/(\d+(\.\d+)?)px/;function pa(e){if(e==="0"||cn.isUndefined(e))return 0;var n=e.match(O5);return cn.isNull(n)?0:parseFloat(n[1])}var Gt={makeSelectable:function(n,i){n===void 0||n.style===void 0||(n.onselectstart=i?function(){return!1}:function(){},n.style.MozUserSelect=i?"auto":"none",n.style.KhtmlUserSelect=i?"auto":"none",n.unselectable=i?"on":"off")},makeFullscreen:function(n,i,s){var a=s,u=i;cn.isUndefined(u)&&(u=!0),cn.isUndefined(a)&&(a=!0),n.style.position="absolute",u&&(n.style.left=0,n.style.right=0),a&&(n.style.top=0,n.style.bottom=0)},fakeEvent:function(n,i,s,a){var u=s||{},f=Zx[i];if(!f)throw new Error("Event type "+i+" not supported.");var h=document.createEvent(f);switch(f){case"MouseEvents":{var _=u.x||u.clientX||0,y=u.y||u.clientY||0;h.initMouseEvent(i,u.bubbles||!1,u.cancelable||!0,window,u.clickCount||1,0,0,_,y,!1,!1,!1,!1,0,null);break}case"KeyboardEvents":{var S=h.initKeyboardEvent||h.initKeyEvent;cn.defaults(u,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),S(i,u.bubbles||!1,u.cancelable,window,u.ctrlKey,u.altKey,u.shiftKey,u.metaKey,u.keyCode,u.charCode);break}default:{h.initEvent(i,u.bubbles||!1,u.cancelable||!0);break}}cn.defaults(h,a),n.dispatchEvent(h)},bind:function(n,i,s,a){var u=a||!1;return n.addEventListener?n.addEventListener(i,s,u):n.attachEvent&&n.attachEvent("on"+i,s),Gt},unbind:function(n,i,s,a){var u=a||!1;return n.removeEventListener?n.removeEventListener(i,s,u):n.detachEvent&&n.detachEvent("on"+i,s),Gt},addClass:function(n,i){if(n.className===void 0)n.className=i;else if(n.className!==i){var s=n.className.split(/ +/);s.indexOf(i)===-1&&(s.push(i),n.className=s.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return Gt},removeClass:function(n,i){if(i)if(n.className===i)n.removeAttribute("class");else{var s=n.className.split(/ +/),a=s.indexOf(i);a!==-1&&(s.splice(a,1),n.className=s.join(" "))}else n.className=void 0;return Gt},hasClass:function(n,i){return new RegExp("(?:^|\\s+)"+i+"(?:\\s+|$)").test(n.className)||!1},getWidth:function(n){var i=getComputedStyle(n);return pa(i["border-left-width"])+pa(i["border-right-width"])+pa(i["padding-left"])+pa(i["padding-right"])+pa(i.width)},getHeight:function(n){var i=getComputedStyle(n);return pa(i["border-top-width"])+pa(i["border-bottom-width"])+pa(i["padding-top"])+pa(i["padding-bottom"])+pa(i.height)},getOffset:function(n){var i=n,s={left:0,top:0};if(i.offsetParent)do s.left+=i.offsetLeft,s.top+=i.offsetTop,i=i.offsetParent;while(i);return s},isActive:function(n){return n===document.activeElement&&(n.type||n.href)}},eR=function(e){ec(n,e);function n(i,s){Ko(this,n);var a=tc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s)),u=a;a.__prev=a.getValue(),a.__checkbox=document.createElement("input"),a.__checkbox.setAttribute("type","checkbox");function f(){u.setValue(!u.__prev)}return Gt.bind(a.__checkbox,"change",f,!1),a.domElement.appendChild(a.__checkbox),a.updateDisplay(),a}return jo(n,[{key:"setValue",value:function(s){var a=$l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setValue",this).call(this,s);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),a}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),$l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(pu),F5=function(e){ec(n,e);function n(i,s,a){Ko(this,n);var u=tc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s)),f=a,h=u;if(u.__select=document.createElement("select"),cn.isArray(f)){var _={};cn.each(f,function(y){_[y]=y}),f=_}return cn.each(f,function(y,S){var b=document.createElement("option");b.innerHTML=S,b.setAttribute("value",y),h.__select.appendChild(b)}),u.updateDisplay(),Gt.bind(u.__select,"change",function(){var y=this.options[this.selectedIndex].value;h.setValue(y)}),u.domElement.appendChild(u.__select),u}return jo(n,[{key:"setValue",value:function(s){var a=$l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setValue",this).call(this,s);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),a}},{key:"updateDisplay",value:function(){return Gt.isActive(this.__select)?this:(this.__select.value=this.getValue(),$l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this))}}]),n}(pu),V5=function(e){ec(n,e);function n(i,s){Ko(this,n);var a=tc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s)),u=a;function f(){u.setValue(u.__input.value)}function h(){u.__onFinishChange&&u.__onFinishChange.call(u,u.getValue())}return a.__input=document.createElement("input"),a.__input.setAttribute("type","text"),Gt.bind(a.__input,"keyup",f),Gt.bind(a.__input,"change",f),Gt.bind(a.__input,"blur",h),Gt.bind(a.__input,"keydown",function(_){_.keyCode===13&&this.blur()}),a.updateDisplay(),a.domElement.appendChild(a.__input),a}return jo(n,[{key:"updateDisplay",value:function(){return Gt.isActive(this.__input)||(this.__input.value=this.getValue()),$l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(pu);function jC(e){var n=e.toString();return n.indexOf(".")>-1?n.length-n.indexOf(".")-1:0}var tR=function(e){ec(n,e);function n(i,s,a){Ko(this,n);var u=tc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s)),f=a||{};return u.__min=f.min,u.__max=f.max,u.__step=f.step,cn.isUndefined(u.__step)?u.initialValue===0?u.__impliedStep=1:u.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(u.initialValue))/Math.LN10))/10:u.__impliedStep=u.__step,u.__precision=jC(u.__impliedStep),u}return jo(n,[{key:"setValue",value:function(s){var a=s;return this.__min!==void 0&&a<this.__min?a=this.__min:this.__max!==void 0&&a>this.__max&&(a=this.__max),this.__step!==void 0&&a%this.__step!==0&&(a=Math.round(a/this.__step)*this.__step),$l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setValue",this).call(this,a)}},{key:"min",value:function(s){return this.__min=s,this}},{key:"max",value:function(s){return this.__max=s,this}},{key:"step",value:function(s){return this.__step=s,this.__impliedStep=s,this.__precision=jC(s),this}}]),n}(pu);function G5(e,n){var i=Math.pow(10,n);return Math.round(e*i)/i}var yg=function(e){ec(n,e);function n(i,s,a){Ko(this,n);var u=tc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s,a));u.__truncationSuspended=!1;var f=u,h=void 0;function _(){var x=parseFloat(f.__input.value);cn.isNaN(x)||f.setValue(x)}function y(){f.__onFinishChange&&f.__onFinishChange.call(f,f.getValue())}function S(){y()}function b(x){var M=h-x.clientY;f.setValue(f.getValue()+M*f.__impliedStep),h=x.clientY}function w(){Gt.unbind(window,"mousemove",b),Gt.unbind(window,"mouseup",w),y()}function C(x){Gt.bind(window,"mousemove",b),Gt.bind(window,"mouseup",w),h=x.clientY}return u.__input=document.createElement("input"),u.__input.setAttribute("type","text"),Gt.bind(u.__input,"change",_),Gt.bind(u.__input,"blur",S),Gt.bind(u.__input,"mousedown",C),Gt.bind(u.__input,"keydown",function(x){x.keyCode===13&&(f.__truncationSuspended=!0,this.blur(),f.__truncationSuspended=!1,y())}),u.updateDisplay(),u.domElement.appendChild(u.__input),u}return jo(n,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():G5(this.getValue(),this.__precision),$l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(tR);function qC(e,n,i,s,a){return s+(a-s)*((e-n)/(i-n))}var R0=function(e){ec(n,e);function n(i,s,a,u,f){Ko(this,n);var h=tc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s,{min:a,max:u,step:f})),_=h;h.__background=document.createElement("div"),h.__foreground=document.createElement("div"),Gt.bind(h.__background,"mousedown",y),Gt.bind(h.__background,"touchstart",w),Gt.addClass(h.__background,"slider"),Gt.addClass(h.__foreground,"slider-fg");function y(M){document.activeElement.blur(),Gt.bind(window,"mousemove",S),Gt.bind(window,"mouseup",b),S(M)}function S(M){M.preventDefault();var T=_.__background.getBoundingClientRect();return _.setValue(qC(M.clientX,T.left,T.right,_.__min,_.__max)),!1}function b(){Gt.unbind(window,"mousemove",S),Gt.unbind(window,"mouseup",b),_.__onFinishChange&&_.__onFinishChange.call(_,_.getValue())}function w(M){M.touches.length===1&&(Gt.bind(window,"touchmove",C),Gt.bind(window,"touchend",x),C(M))}function C(M){var T=M.touches[0].clientX,D=_.__background.getBoundingClientRect();_.setValue(qC(T,D.left,D.right,_.__min,_.__max))}function x(){Gt.unbind(window,"touchmove",C),Gt.unbind(window,"touchend",x),_.__onFinishChange&&_.__onFinishChange.call(_,_.getValue())}return h.updateDisplay(),h.__background.appendChild(h.__foreground),h.domElement.appendChild(h.__background),h}return jo(n,[{key:"updateDisplay",value:function(){var s=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=s*100+"%",$l(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"updateDisplay",this).call(this)}}]),n}(tR),nR=function(e){ec(n,e);function n(i,s,a){Ko(this,n);var u=tc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s)),f=u;return u.__button=document.createElement("div"),u.__button.innerHTML=a===void 0?"Fire":a,Gt.bind(u.__button,"click",function(h){return h.preventDefault(),f.fire(),!1}),Gt.addClass(u.__button,"button"),u.domElement.appendChild(u.__button),u}return jo(n,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),n}(pu),T0=function(e){ec(n,e);function n(i,s){Ko(this,n);var a=tc(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,s));a.__color=new zi(a.getValue()),a.__temp=new zi(0);var u=a;a.domElement=document.createElement("div"),Gt.makeSelectable(a.domElement,!1),a.__selector=document.createElement("div"),a.__selector.className="selector",a.__saturation_field=document.createElement("div"),a.__saturation_field.className="saturation-field",a.__field_knob=document.createElement("div"),a.__field_knob.className="field-knob",a.__field_knob_border="2px solid ",a.__hue_knob=document.createElement("div"),a.__hue_knob.className="hue-knob",a.__hue_field=document.createElement("div"),a.__hue_field.className="hue-field",a.__input=document.createElement("input"),a.__input.type="text",a.__input_textShadow="0 1px 1px ",Gt.bind(a.__input,"keydown",function(M){M.keyCode===13&&b.call(this)}),Gt.bind(a.__input,"blur",b),Gt.bind(a.__selector,"mousedown",function(){Gt.addClass(this,"drag").bind(window,"mouseup",function(){Gt.removeClass(u.__selector,"drag")})}),Gt.bind(a.__selector,"touchstart",function(){Gt.addClass(this,"drag").bind(window,"touchend",function(){Gt.removeClass(u.__selector,"drag")})});var f=document.createElement("div");cn.extend(a.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),cn.extend(a.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:a.__field_knob_border+(a.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),cn.extend(a.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),cn.extend(a.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),cn.extend(f.style,{width:"100%",height:"100%",background:"none"}),YC(f,"top","rgba(0,0,0,0)","#000"),cn.extend(a.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),H5(a.__hue_field),cn.extend(a.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:a.__input_textShadow+"rgba(0,0,0,0.7)"}),Gt.bind(a.__saturation_field,"mousedown",h),Gt.bind(a.__saturation_field,"touchstart",h),Gt.bind(a.__field_knob,"mousedown",h),Gt.bind(a.__field_knob,"touchstart",h),Gt.bind(a.__hue_field,"mousedown",_),Gt.bind(a.__hue_field,"touchstart",_);function h(M){C(M),Gt.bind(window,"mousemove",C),Gt.bind(window,"touchmove",C),Gt.bind(window,"mouseup",y),Gt.bind(window,"touchend",y)}function _(M){x(M),Gt.bind(window,"mousemove",x),Gt.bind(window,"touchmove",x),Gt.bind(window,"mouseup",S),Gt.bind(window,"touchend",S)}function y(){Gt.unbind(window,"mousemove",C),Gt.unbind(window,"touchmove",C),Gt.unbind(window,"mouseup",y),Gt.unbind(window,"touchend",y),w()}function S(){Gt.unbind(window,"mousemove",x),Gt.unbind(window,"touchmove",x),Gt.unbind(window,"mouseup",S),Gt.unbind(window,"touchend",S),w()}function b(){var M=x0(this.value);M!==!1?(u.__color.__state=M,u.setValue(u.__color.toOriginal())):this.value=u.__color.toString()}function w(){u.__onFinishChange&&u.__onFinishChange.call(u,u.__color.toOriginal())}a.__saturation_field.appendChild(f),a.__selector.appendChild(a.__field_knob),a.__selector.appendChild(a.__saturation_field),a.__selector.appendChild(a.__hue_field),a.__hue_field.appendChild(a.__hue_knob),a.domElement.appendChild(a.__input),a.domElement.appendChild(a.__selector),a.updateDisplay();function C(M){M.type.indexOf("touch")===-1&&M.preventDefault();var T=u.__saturation_field.getBoundingClientRect(),D=M.touches&&M.touches[0]||M,F=D.clientX,N=D.clientY,G=(F-T.left)/(T.right-T.left),U=1-(N-T.top)/(T.bottom-T.top);return U>1?U=1:U<0&&(U=0),G>1?G=1:G<0&&(G=0),u.__color.v=U,u.__color.s=G,u.setValue(u.__color.toOriginal()),!1}function x(M){M.type.indexOf("touch")===-1&&M.preventDefault();var T=u.__hue_field.getBoundingClientRect(),D=M.touches&&M.touches[0]||M,F=D.clientY,N=1-(F-T.top)/(T.bottom-T.top);return N>1?N=1:N<0&&(N=0),u.__color.h=N*360,u.setValue(u.__color.toOriginal()),!1}return a}return jo(n,[{key:"updateDisplay",value:function(){var s=x0(this.getValue());if(s!==!1){var a=!1;cn.each(zi.COMPONENTS,function(h){if(!cn.isUndefined(s[h])&&!cn.isUndefined(this.__color.__state[h])&&s[h]!==this.__color.__state[h])return a=!0,{}},this),a&&cn.extend(this.__color.__state,s)}cn.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var u=this.__color.v<.5||this.__color.s>.5?255:0,f=255-u;cn.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+u+","+u+","+u+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,YC(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),cn.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+u+","+u+","+u+")",textShadow:this.__input_textShadow+"rgba("+f+","+f+","+f+",.7)"})}}]),n}(pu),U5=["-moz-","-o-","-webkit-","-ms-",""];function YC(e,n,i,s){e.style.background="",cn.each(U5,function(a){e.style.cssText+="background: "+a+"linear-gradient("+n+", "+i+" 0%, "+s+" 100%); "})}function H5(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var Q5={load:function(n,i){var s=i||document,a=s.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=n,s.getElementsByTagName("head")[0].appendChild(a)},inject:function(n,i){var s=i||document,a=document.createElement("style");a.type="text/css",a.innerHTML=n;var u=s.getElementsByTagName("head")[0];try{u.appendChild(a)}catch{}}},X5=`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.

    </div>

  </div>

</div>`,z5=function(n,i){var s=n[i];return cn.isArray(arguments[2])||cn.isObject(arguments[2])?new F5(n,i,arguments[2]):cn.isNumber(s)?cn.isNumber(arguments[2])&&cn.isNumber(arguments[3])?cn.isNumber(arguments[4])?new R0(n,i,arguments[2],arguments[3],arguments[4]):new R0(n,i,arguments[2],arguments[3]):cn.isNumber(arguments[4])?new yg(n,i,{min:arguments[2],max:arguments[3],step:arguments[4]}):new yg(n,i,{min:arguments[2],max:arguments[3]}):cn.isString(s)?new V5(n,i):cn.isFunction(s)?new nR(n,i,""):cn.isBoolean(s)?new eR(n,i):null};function $5(e){setTimeout(e,1e3/60)}var W5=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||$5,K5=function(){function e(){Ko(this,e),this.backgroundElement=document.createElement("div"),cn.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),Gt.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),cn.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;Gt.bind(this.backgroundElement,"click",function(){n.hide()})}return jo(e,[{key:"show",value:function(){var i=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),cn.defer(function(){i.backgroundElement.style.opacity=1,i.domElement.style.opacity=1,i.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var i=this,s=function a(){i.domElement.style.display="none",i.backgroundElement.style.display="none",Gt.unbind(i.domElement,"webkitTransitionEnd",a),Gt.unbind(i.domElement,"transitionend",a),Gt.unbind(i.domElement,"oTransitionEnd",a)};Gt.bind(this.domElement,"webkitTransitionEnd",s),Gt.bind(this.domElement,"transitionend",s),Gt.bind(this.domElement,"oTransitionEnd",s),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-Gt.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-Gt.getHeight(this.domElement)/2+"px"}}]),e}(),j5=D5(`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`);Q5.inject(j5);var JC="dg",ZC=72,eI=20,Th="Default",th=function(){try{return!!window.localStorage}catch{return!1}}(),lh=void 0,tI=!0,id=void 0,UA=!1,rR=[],ui=function e(n){var i=this,s=n||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),Gt.addClass(this.domElement,JC),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],s=cn.defaults(s,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),s=cn.defaults(s,{resizable:s.autoPlace,hideable:s.autoPlace}),cn.isUndefined(s.load)?s.load={preset:Th}:s.preset&&(s.load.preset=s.preset),cn.isUndefined(s.parent)&&s.hideable&&rR.push(this),s.resizable=cn.isUndefined(s.parent)&&s.resizable,s.autoPlace&&cn.isUndefined(s.scrollable)&&(s.scrollable=!0);var a=th&&localStorage.getItem(sd(this,"isLocal"))==="true",u=void 0,f=void 0;if(Object.defineProperties(this,{parent:{get:function(){return s.parent}},scrollable:{get:function(){return s.scrollable}},autoPlace:{get:function(){return s.autoPlace}},closeOnTop:{get:function(){return s.closeOnTop}},preset:{get:function(){return i.parent?i.getRoot().preset:s.load.preset},set:function(w){i.parent?i.getRoot().preset=w:s.load.preset=w,Z5(this),i.revert()}},width:{get:function(){return s.width},set:function(w){s.width=w,D0(i,w)}},name:{get:function(){return s.name},set:function(w){s.name=w,f&&(f.innerHTML=s.name)}},closed:{get:function(){return s.closed},set:function(w){s.closed=w,s.closed?Gt.addClass(i.__ul,e.CLASS_CLOSED):Gt.removeClass(i.__ul,e.CLASS_CLOSED),this.onResize(),i.__closeButton&&(i.__closeButton.innerHTML=w?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return s.load}},useLocalStorage:{get:function(){return a},set:function(w){th&&(a=w,w?Gt.bind(window,"unload",u):Gt.unbind(window,"unload",u),localStorage.setItem(sd(i,"isLocal"),w))}}}),cn.isUndefined(s.parent)){if(this.closed=s.closed||!1,Gt.addClass(this.domElement,e.CLASS_MAIN),Gt.makeSelectable(this.domElement,!1),th&&a){i.useLocalStorage=!0;var h=localStorage.getItem(sd(this,"gui"));h&&(s.load=JSON.parse(h))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,Gt.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),s.closeOnTop?(Gt.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(Gt.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),Gt.bind(this.__closeButton,"click",function(){i.closed=!i.closed})}else{s.closed===void 0&&(s.closed=!0);var _=document.createTextNode(s.name);Gt.addClass(_,"controller-name"),f=ob(i,_);var y=function(w){return w.preventDefault(),i.closed=!i.closed,!1};Gt.addClass(this.__ul,e.CLASS_CLOSED),Gt.addClass(f,"title"),Gt.bind(f,"click",y),s.closed||(this.closed=!1)}s.autoPlace&&(cn.isUndefined(s.parent)&&(tI&&(id=document.createElement("div"),Gt.addClass(id,JC),Gt.addClass(id,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(id),tI=!1),id.appendChild(this.domElement),Gt.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||D0(i,s.width)),this.__resizeHandler=function(){i.onResizeDebounced()},Gt.bind(window,"resize",this.__resizeHandler),Gt.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),Gt.bind(this.__ul,"transitionend",this.__resizeHandler),Gt.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),s.resizable&&J5(this),u=function(){th&&localStorage.getItem(sd(i,"isLocal"))==="true"&&localStorage.setItem(sd(i,"gui"),JSON.stringify(i.getSaveObject()))},this.saveToLocalStorageIfPossible=u;function S(){var b=i.getRoot();b.width+=1,cn.defer(function(){b.width-=1})}s.parent||S()};ui.toggleHide=function(){UA=!UA,cn.each(rR,function(e){e.domElement.style.display=UA?"none":""})};ui.CLASS_AUTO_PLACE="a";ui.CLASS_AUTO_PLACE_CONTAINER="ac";ui.CLASS_MAIN="main";ui.CLASS_CONTROLLER_ROW="cr";ui.CLASS_TOO_TALL="taller-than-window";ui.CLASS_CLOSED="closed";ui.CLASS_CLOSE_BUTTON="close-button";ui.CLASS_CLOSE_TOP="close-top";ui.CLASS_CLOSE_BOTTOM="close-bottom";ui.CLASS_DRAG="drag";ui.DEFAULT_WIDTH=245;ui.TEXT_CLOSED="Close Controls";ui.TEXT_OPEN="Open Controls";ui._keydownHandler=function(e){document.activeElement.type!=="text"&&(e.which===ZC||e.keyCode===ZC)&&ui.toggleHide()};Gt.bind(window,"keydown",ui._keydownHandler,!1);cn.extend(ui.prototype,{add:function(n,i){return ch(this,n,i,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(n,i){return ch(this,n,i,{color:!0})},remove:function(n){this.__ul.removeChild(n.__li),this.__controllers.splice(this.__controllers.indexOf(n),1);var i=this;cn.defer(function(){i.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&id.removeChild(this.domElement);var n=this;cn.each(this.__folders,function(i){n.removeFolder(i)}),Gt.unbind(window,"keydown",ui._keydownHandler,!1),nI(this)},addFolder:function(n){if(this.__folders[n]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+n+'"');var i={name:n,parent:this};i.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[n]&&(i.closed=this.load.folders[n].closed,i.load=this.load.folders[n]);var s=new ui(i);this.__folders[n]=s;var a=ob(this,s.domElement);return Gt.addClass(a,"folder"),s},removeFolder:function(n){this.__ul.removeChild(n.domElement.parentElement),delete this.__folders[n.name],this.load&&this.load.folders&&this.load.folders[n.name]&&delete this.load.folders[n.name],nI(n);var i=this;cn.each(n.__folders,function(s){n.removeFolder(s)}),cn.defer(function(){i.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var n=this.getRoot();if(n.scrollable){var i=Gt.getOffset(n.__ul).top,s=0;cn.each(n.__ul.childNodes,function(a){n.autoPlace&&a===n.__save_row||(s+=Gt.getHeight(a))}),window.innerHeight-i-eI<s?(Gt.addClass(n.domElement,ui.CLASS_TOO_TALL),n.__ul.style.height=window.innerHeight-i-eI+"px"):(Gt.removeClass(n.domElement,ui.CLASS_TOO_TALL),n.__ul.style.height="auto")}n.__resize_handle&&cn.defer(function(){n.__resize_handle.style.height=n.__ul.offsetHeight+"px"}),n.__closeButton&&(n.__closeButton.style.width=n.width+"px")},onResizeDebounced:cn.debounce(function(){this.onResize()},50),remember:function(){if(cn.isUndefined(lh)&&(lh=new K5,lh.domElement.innerHTML=X5),this.parent)throw new Error("You can only call remember on a top level GUI.");var n=this;cn.each(Array.prototype.slice.call(arguments),function(i){n.__rememberedObjects.length===0&&Y5(n),n.__rememberedObjects.indexOf(i)===-1&&n.__rememberedObjects.push(i)}),this.autoPlace&&D0(this,this.width)},getRoot:function(){for(var n=this;n.parent;)n=n.parent;return n},getSaveObject:function(){var n=this.load;return n.closed=this.closed,this.__rememberedObjects.length>0&&(n.preset=this.preset,n.remembered||(n.remembered={}),n.remembered[this.preset]=bm(this)),n.folders={},cn.each(this.__folders,function(i,s){n.folders[s]=i.getSaveObject()}),n},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=bm(this),P0(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(n){this.load.remembered||(this.load.remembered={},this.load.remembered[Th]=bm(this,!0)),this.load.remembered[n]=bm(this),this.preset=n,N0(this,n,!0),this.saveToLocalStorageIfPossible()},revert:function(n){cn.each(this.__controllers,function(i){this.getRoot().load.remembered?iR(n||this.getRoot(),i):i.setValue(i.initialValue),i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())},this),cn.each(this.__folders,function(i){i.revert(i)}),n||P0(this.getRoot(),!1)},listen:function(n){var i=this.__listening.length===0;this.__listening.push(n),i&&sR(this.__listening)},updateDisplay:function(){cn.each(this.__controllers,function(n){n.updateDisplay()}),cn.each(this.__folders,function(n){n.updateDisplay()})}});function ob(e,n,i){var s=document.createElement("li");return n&&s.appendChild(n),i?e.__ul.insertBefore(s,i):e.__ul.appendChild(s),e.onResize(),s}function nI(e){Gt.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&Gt.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function P0(e,n){var i=e.__preset_select[e.__preset_select.selectedIndex];n?i.innerHTML=i.value+"*":i.innerHTML=i.value}function q5(e,n,i){if(i.__li=n,i.__gui=e,cn.extend(i,{options:function(f){if(arguments.length>1){var h=i.__li.nextElementSibling;return i.remove(),ch(e,i.object,i.property,{before:h,factoryArgs:[cn.toArray(arguments)]})}if(cn.isArray(f)||cn.isObject(f)){var _=i.__li.nextElementSibling;return i.remove(),ch(e,i.object,i.property,{before:_,factoryArgs:[f]})}},name:function(f){return i.__li.firstElementChild.firstElementChild.innerHTML=f,i},listen:function(){return i.__gui.listen(i),i},remove:function(){return i.__gui.remove(i),i}}),i instanceof R0){var s=new yg(i.object,i.property,{min:i.__min,max:i.__max,step:i.__step});cn.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(u){var f=i[u],h=s[u];i[u]=s[u]=function(){var _=Array.prototype.slice.call(arguments);return h.apply(s,_),f.apply(i,_)}}),Gt.addClass(n,"has-slider"),i.domElement.insertBefore(s.domElement,i.domElement.firstElementChild)}else if(i instanceof yg){var a=function(f){if(cn.isNumber(i.__min)&&cn.isNumber(i.__max)){var h=i.__li.firstElementChild.firstElementChild.innerHTML,_=i.__gui.__listening.indexOf(i)>-1;i.remove();var y=ch(e,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[i.__min,i.__max,i.__step]});return y.name(h),_&&y.listen(),y}return f};i.min=cn.compose(a,i.min),i.max=cn.compose(a,i.max)}else i instanceof eR?(Gt.bind(n,"click",function(){Gt.fakeEvent(i.__checkbox,"click")}),Gt.bind(i.__checkbox,"click",function(u){u.stopPropagation()})):i instanceof nR?(Gt.bind(n,"click",function(){Gt.fakeEvent(i.__button,"click")}),Gt.bind(n,"mouseover",function(){Gt.addClass(i.__button,"hover")}),Gt.bind(n,"mouseout",function(){Gt.removeClass(i.__button,"hover")})):i instanceof T0&&(Gt.addClass(n,"color"),i.updateDisplay=cn.compose(function(u){return n.style.borderLeftColor=i.__color.toString(),u},i.updateDisplay),i.updateDisplay());i.setValue=cn.compose(function(u){return e.getRoot().__preset_select&&i.isModified()&&P0(e.getRoot(),!0),u},i.setValue)}function iR(e,n){var i=e.getRoot(),s=i.__rememberedObjects.indexOf(n.object);if(s!==-1){var a=i.__rememberedObjectIndecesToControllers[s];if(a===void 0&&(a={},i.__rememberedObjectIndecesToControllers[s]=a),a[n.property]=n,i.load&&i.load.remembered){var u=i.load.remembered,f=void 0;if(u[e.preset])f=u[e.preset];else if(u[Th])f=u[Th];else return;if(f[s]&&f[s][n.property]!==void 0){var h=f[s][n.property];n.initialValue=h,n.setValue(h)}}}}function ch(e,n,i,s){if(n[i]===void 0)throw new Error('Object "'+n+'" has no property "'+i+'"');var a=void 0;if(s.color)a=new T0(n,i);else{var u=[n,i].concat(s.factoryArgs);a=z5.apply(e,u)}s.before instanceof pu&&(s.before=s.before.__li),iR(e,a),Gt.addClass(a.domElement,"c");var f=document.createElement("span");Gt.addClass(f,"property-name"),f.innerHTML=a.property;var h=document.createElement("div");h.appendChild(f),h.appendChild(a.domElement);var _=ob(e,h,s.before);return Gt.addClass(_,ui.CLASS_CONTROLLER_ROW),a instanceof T0?Gt.addClass(_,"color"):Gt.addClass(_,k5(a.getValue())),q5(e,_,a),e.__controllers.push(a),a}function sd(e,n){return document.location.href+"."+n}function N0(e,n,i){var s=document.createElement("option");s.innerHTML=n,s.value=n,e.__preset_select.appendChild(s),i&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function rI(e,n){n.style.display=e.useLocalStorage?"block":"none"}function Y5(e){var n=e.__save_row=document.createElement("li");Gt.addClass(e.domElement,"has-save"),e.__ul.insertBefore(n,e.__ul.firstChild),Gt.addClass(n,"save-row");var i=document.createElement("span");i.innerHTML="&nbsp;",Gt.addClass(i,"button gears");var s=document.createElement("span");s.innerHTML="Save",Gt.addClass(s,"button"),Gt.addClass(s,"save");var a=document.createElement("span");a.innerHTML="New",Gt.addClass(a,"button"),Gt.addClass(a,"save-as");var u=document.createElement("span");u.innerHTML="Revert",Gt.addClass(u,"button"),Gt.addClass(u,"revert");var f=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?cn.each(e.load.remembered,function(b,w){N0(e,w,w===e.preset)}):N0(e,Th,!1),Gt.bind(f,"change",function(){for(var b=0;b<e.__preset_select.length;b++)e.__preset_select[b].innerHTML=e.__preset_select[b].value;e.preset=this.value}),n.appendChild(f),n.appendChild(i),n.appendChild(s),n.appendChild(a),n.appendChild(u),th){var h=document.getElementById("dg-local-explain"),_=document.getElementById("dg-local-storage"),y=document.getElementById("dg-save-locally");y.style.display="block",localStorage.getItem(sd(e,"isLocal"))==="true"&&_.setAttribute("checked","checked"),rI(e,h),Gt.bind(_,"change",function(){e.useLocalStorage=!e.useLocalStorage,rI(e,h)})}var S=document.getElementById("dg-new-constructor");Gt.bind(S,"keydown",function(b){b.metaKey&&(b.which===67||b.keyCode===67)&&lh.hide()}),Gt.bind(i,"click",function(){S.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),lh.show(),S.focus(),S.select()}),Gt.bind(s,"click",function(){e.save()}),Gt.bind(a,"click",function(){var b=prompt("Enter a new preset name.");b&&e.saveAs(b)}),Gt.bind(u,"click",function(){e.revert()})}function J5(e){var n=void 0;e.__resize_handle=document.createElement("div"),cn.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function i(u){return u.preventDefault(),e.width+=n-u.clientX,e.onResize(),n=u.clientX,!1}function s(){Gt.removeClass(e.__closeButton,ui.CLASS_DRAG),Gt.unbind(window,"mousemove",i),Gt.unbind(window,"mouseup",s)}function a(u){return u.preventDefault(),n=u.clientX,Gt.addClass(e.__closeButton,ui.CLASS_DRAG),Gt.bind(window,"mousemove",i),Gt.bind(window,"mouseup",s),!1}Gt.bind(e.__resize_handle,"mousedown",a),Gt.bind(e.__closeButton,"mousedown",a),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function D0(e,n){e.domElement.style.width=n+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=n+"px"),e.__closeButton&&(e.__closeButton.style.width=n+"px")}function bm(e,n){var i={};return cn.each(e.__rememberedObjects,function(s,a){var u={},f=e.__rememberedObjectIndecesToControllers[a];cn.each(f,function(h,_){u[_]=n?h.initialValue:h.getValue()}),i[a]=u}),i}function Z5(e){for(var n=0;n<e.__preset_select.length;n++)e.__preset_select[n].value===e.preset&&(e.__preset_select.selectedIndex=n)}function sR(e){e.length!==0&&W5.call(window,function(){sR(e)}),cn.each(e,function(n){n.updateDisplay()})}var eU=ui,ho=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tU(e){var n=e.default;if(typeof n=="function"){var i=function(){return n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(i,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),i}var Qc={exports:{}};const nU={},rU=Object.freeze(Object.defineProperty({__proto__:null,default:nU},Symbol.toStringTag,{value:"Module"})),iU=tU(rU);(function(e,n){(function(i,s){s(n,iU)})(ho,function(i,s){function a(m){return m&&typeof m=="object"&&"default"in m?m:{default:m}}var u=a(s),f=function(m,t){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},f(m,t)};function h(m,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");f(m,t);function r(){this.constructor=m}m.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function _(m,t,r,o){function l(d){return d instanceof r?d:new r(function(g){g(d)})}return new(r||(r=Promise))(function(d,g){function v(R){try{E(o.next(R))}catch(I){g(I)}}function A(R){try{E(o.throw(R))}catch(I){g(I)}}function E(R){R.done?d(R.value):l(R.value).then(v,A)}E((o=o.apply(m,t||[])).next())})}function y(m,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,l,d,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(E){return function(R){return A([E,R])}}function A(E){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,l&&(d=E[0]&2?l.return:E[0]?l.throw||((d=l.return)&&d.call(l),0):l.next)&&!(d=d.call(l,E[1])).done)return d;switch(l=0,d&&(E=[E[0]&2,d.value]),E[0]){case 0:case 1:d=E;break;case 4:return r.label++,{value:E[1],done:!1};case 5:r.label++,l=E[1],E=[0];continue;case 7:E=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(E[0]===6||E[0]===2)){r=0;continue}if(E[0]===3&&(!d||E[1]>d[0]&&E[1]<d[3])){r.label=E[1];break}if(E[0]===6&&r.label<d[1]){r.label=d[1],d=E;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(E);break}d[2]&&r.ops.pop(),r.trys.pop();continue}E=t.call(m,r)}catch(R){E=[6,R],l=0}finally{o=d=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}}function S(m,t,r){if(r||arguments.length===2)for(var o=0,l=t.length,d;o<l;o++)(d||!(o in t))&&(d||(d=Array.prototype.slice.call(t,0,o)),d[o]=t[o]);return m.concat(d||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const b="144",w={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},C={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},x=0,M=1,T=2,D=1,F=2,N=3,G=0,U=1,$=2,de=0,ee=1,se=2,oe=3,Ie=4,pe=5,ae=100,ye=101,be=102,_e=103,ie=104,fe=200,le=201,ke=202,ze=203,Te=204,Xe=205,_t=206,wt=207,xt=208,it=209,je=210,ot=0,At=1,on=2,Ne=3,$e=4,ft=5,Tt=6,Bt=7,ct=0,Lt=1,gt=2,xe=0,qe=1,Dt=2,zt=3,en=4,gn=5,En=300,Gn=301,pt=302,yt=303,tn=304,Bn=306,Ee=1e3,Qe=1001,Et=1002,Mt=1003,Wn=1004,Ir=1005,pr=1006,oi=1007,zn=1008,Mr=1009,Ot=1010,wn=1011,er=1012,xr=1013,Ni=1014,ei=1015,Di=1016,OD=1017,FD=1018,Au=1020,VD=1021,GD=1022,ji=1023,UD=1024,HD=1025,cc=1026,yu=1027,ul=1028,QD=1029,Zd=1030,XD=1031,zD=1033,dp=33776,Iv=33777,Mv=33778,fp=33779,xv=35840,D1=35841,Rv=35842,B1=35843,k1=36196,Tv=37492,Pv=37496,Nv=37808,L1=37809,O1=37810,F1=37811,V1=37812,G1=37813,U1=37814,H1=37815,Q1=37816,X1=37817,z1=37818,$1=37819,W1=37820,K1=37821,Dv=36492,$D=2200,WD=2201,KD=2202,bu=2300,uc=2301,Bv=2302,Su=2400,Eu=2401,hp=2402,kv=2500,jD=2501,qD=1,j1=2,bo=3e3,Or=3001,YD=3200,JD=3201,pp=0,ZD=1,Ca="srgb",dc="srgb-linear",Lv=7680,eB=519,Ov=35044,mp="300 es",Fv=1035;class Ia{addEventListener(t,r){this._listeners===void 0&&(this._listeners={});const o=this._listeners;o[t]===void 0&&(o[t]=[]),o[t].indexOf(r)===-1&&o[t].push(r)}hasEventListener(t,r){if(this._listeners===void 0)return!1;const o=this._listeners;return o[t]!==void 0&&o[t].indexOf(r)!==-1}removeEventListener(t,r){if(this._listeners===void 0)return;const l=this._listeners[t];if(l!==void 0){const d=l.indexOf(r);d!==-1&&l.splice(d,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const o=this._listeners[t.type];if(o!==void 0){t.target=this;const l=o.slice(0);for(let d=0,g=l.length;d<g;d++)l[d].call(this,t);t.target=null}}}const rs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let q1=1234567;const ef=Math.PI/180,tf=180/Math.PI;function So(){const m=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(rs[m&255]+rs[m>>8&255]+rs[m>>16&255]+rs[m>>24&255]+"-"+rs[t&255]+rs[t>>8&255]+"-"+rs[t>>16&15|64]+rs[t>>24&255]+"-"+rs[r&63|128]+rs[r>>8&255]+"-"+rs[r>>16&255]+rs[r>>24&255]+rs[o&255]+rs[o>>8&255]+rs[o>>16&255]+rs[o>>24&255]).toLowerCase()}function qi(m,t,r){return Math.max(t,Math.min(r,m))}function Vv(m,t){return(m%t+t)%t}function tB(m,t,r,o,l){return o+(m-t)*(l-o)/(r-t)}function nB(m,t,r){return m!==t?(r-m)/(t-m):0}function nf(m,t,r){return(1-r)*m+r*t}function rB(m,t,r,o){return nf(m,t,1-Math.exp(-r*o))}function iB(m,t=1){return t-Math.abs(Vv(m,t*2)-t)}function sB(m,t,r){return m<=t?0:m>=r?1:(m=(m-t)/(r-t),m*m*(3-2*m))}function oB(m,t,r){return m<=t?0:m>=r?1:(m=(m-t)/(r-t),m*m*m*(m*(m*6-15)+10))}function aB(m,t){return m+Math.floor(Math.random()*(t-m+1))}function lB(m,t){return m+Math.random()*(t-m)}function cB(m){return m*(.5-Math.random())}function uB(m){m!==void 0&&(q1=m);let t=q1+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function dB(m){return m*ef}function fB(m){return m*tf}function Gv(m){return(m&m-1)===0&&m!==0}function Y1(m){return Math.pow(2,Math.ceil(Math.log(m)/Math.LN2))}function gp(m){return Math.pow(2,Math.floor(Math.log(m)/Math.LN2))}function hB(m,t,r,o,l){const d=Math.cos,g=Math.sin,v=d(r/2),A=g(r/2),E=d((t+o)/2),R=g((t+o)/2),I=d((t-o)/2),P=g((t-o)/2),B=d((o-t)/2),V=g((o-t)/2);switch(l){case"XYX":m.set(v*R,A*I,A*P,v*E);break;case"YZY":m.set(A*P,v*R,A*I,v*E);break;case"ZXZ":m.set(A*I,A*P,v*R,v*E);break;case"XZX":m.set(v*R,A*V,A*B,v*E);break;case"YXY":m.set(A*B,v*R,A*V,v*E);break;case"ZYZ":m.set(A*V,A*B,v*R,v*E);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+l)}}function Ma(m,t){switch(t.constructor){case Float32Array:return m;case Uint16Array:return m/65535;case Uint8Array:return m/255;case Int16Array:return Math.max(m/32767,-1);case Int8Array:return Math.max(m/127,-1);default:throw new Error("Invalid component type.")}}function ti(m,t){switch(t.constructor){case Float32Array:return m;case Uint16Array:return Math.round(m*65535);case Uint8Array:return Math.round(m*255);case Int16Array:return Math.round(m*32767);case Int8Array:return Math.round(m*127);default:throw new Error("Invalid component type.")}}var J1=Object.freeze({__proto__:null,DEG2RAD:ef,RAD2DEG:tf,generateUUID:So,clamp:qi,euclideanModulo:Vv,mapLinear:tB,inverseLerp:nB,lerp:nf,damp:rB,pingpong:iB,smoothstep:sB,smootherstep:oB,randInt:aB,randFloat:lB,randFloatSpread:cB,seededRandom:uB,degToRad:dB,radToDeg:fB,isPowerOfTwo:Gv,ceilPowerOfTwo:Y1,floorPowerOfTwo:gp,setQuaternionFromProperEuler:hB,normalize:ti,denormalize:Ma});class Fn{constructor(t=0,r=0){Fn.prototype.isVector2=!0,this.x=t,this.y=r}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,r){return this.x=t,this.y=r,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const r=this.x,o=this.y,l=t.elements;return this.x=l[0]*r+l[3]*o+l[6],this.y=l[1]*r+l[4]*o+l[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this}clampLength(t,r){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(t,Math.min(r,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const r=this.x-t.x,o=this.y-t.y;return r*r+o*o}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this}lerpVectors(t,r,o){return this.x=t.x+(r.x-t.x)*o,this.y=t.y+(r.y-t.y)*o,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t}fromBufferAttribute(t,r){return this.x=t.getX(r),this.y=t.getY(r),this}rotateAround(t,r){const o=Math.cos(r),l=Math.sin(r),d=this.x-t.x,g=this.y-t.y;return this.x=d*o-g*l+t.x,this.y=d*l+g*o+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ns{constructor(){Ns.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(t,r,o,l,d,g,v,A,E){const R=this.elements;return R[0]=t,R[1]=l,R[2]=v,R[3]=r,R[4]=d,R[5]=A,R[6]=o,R[7]=g,R[8]=E,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const r=this.elements,o=t.elements;return r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5],r[6]=o[6],r[7]=o[7],r[8]=o[8],this}extractBasis(t,r,o){return t.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),o.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const r=t.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,r){const o=t.elements,l=r.elements,d=this.elements,g=o[0],v=o[3],A=o[6],E=o[1],R=o[4],I=o[7],P=o[2],B=o[5],V=o[8],O=l[0],k=l[3],H=l[6],W=l[1],J=l[4],te=l[7],j=l[2],ne=l[5],Ae=l[8];return d[0]=g*O+v*W+A*j,d[3]=g*k+v*J+A*ne,d[6]=g*H+v*te+A*Ae,d[1]=E*O+R*W+I*j,d[4]=E*k+R*J+I*ne,d[7]=E*H+R*te+I*Ae,d[2]=P*O+B*W+V*j,d[5]=P*k+B*J+V*ne,d[8]=P*H+B*te+V*Ae,this}multiplyScalar(t){const r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=t,r[4]*=t,r[7]*=t,r[2]*=t,r[5]*=t,r[8]*=t,this}determinant(){const t=this.elements,r=t[0],o=t[1],l=t[2],d=t[3],g=t[4],v=t[5],A=t[6],E=t[7],R=t[8];return r*g*R-r*v*E-o*d*R+o*v*A+l*d*E-l*g*A}invert(){const t=this.elements,r=t[0],o=t[1],l=t[2],d=t[3],g=t[4],v=t[5],A=t[6],E=t[7],R=t[8],I=R*g-v*E,P=v*A-R*d,B=E*d-g*A,V=r*I+o*P+l*B;if(V===0)return this.set(0,0,0,0,0,0,0,0,0);const O=1/V;return t[0]=I*O,t[1]=(l*E-R*o)*O,t[2]=(v*o-l*g)*O,t[3]=P*O,t[4]=(R*r-l*A)*O,t[5]=(l*d-v*r)*O,t[6]=B*O,t[7]=(o*A-E*r)*O,t[8]=(g*r-o*d)*O,this}transpose(){let t;const r=this.elements;return t=r[1],r[1]=r[3],r[3]=t,t=r[2],r[2]=r[6],r[6]=t,t=r[5],r[5]=r[7],r[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const r=this.elements;return t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8],this}setUvTransform(t,r,o,l,d,g,v){const A=Math.cos(d),E=Math.sin(d);return this.set(o*A,o*E,-o*(A*g+E*v)+g+t,-l*E,l*A,-l*(-E*g+A*v)+v+r,0,0,1),this}scale(t,r){const o=this.elements;return o[0]*=t,o[3]*=t,o[6]*=t,o[1]*=r,o[4]*=r,o[7]*=r,this}rotate(t){const r=Math.cos(t),o=Math.sin(t),l=this.elements,d=l[0],g=l[3],v=l[6],A=l[1],E=l[4],R=l[7];return l[0]=r*d+o*A,l[3]=r*g+o*E,l[6]=r*v+o*R,l[1]=-o*d+r*A,l[4]=-o*g+r*E,l[7]=-o*v+r*R,this}translate(t,r){const o=this.elements;return o[0]+=t*o[2],o[3]+=t*o[5],o[6]+=t*o[8],o[1]+=r*o[2],o[4]+=r*o[5],o[7]+=r*o[8],this}equals(t){const r=this.elements,o=t.elements;for(let l=0;l<9;l++)if(r[l]!==o[l])return!1;return!0}fromArray(t,r=0){for(let o=0;o<9;o++)this.elements[o]=t[o+r];return this}toArray(t=[],r=0){const o=this.elements;return t[r]=o[0],t[r+1]=o[1],t[r+2]=o[2],t[r+3]=o[3],t[r+4]=o[4],t[r+5]=o[5],t[r+6]=o[6],t[r+7]=o[7],t[r+8]=o[8],t}clone(){return new this.constructor().fromArray(this.elements)}}function Z1(m){for(let t=m.length-1;t>=0;--t)if(m[t]>=65535)return!0;return!1}function rf(m){return document.createElementNS("http://www.w3.org/1999/xhtml",m)}function fc(m){return m<.04045?m*.0773993808:Math.pow(m*.9478672986+.0521327014,2.4)}function vp(m){return m<.0031308?m*12.92:1.055*Math.pow(m,.41666)-.055}const Uv={[Ca]:{[dc]:fc},[dc]:{[Ca]:vp}},Eo={legacyMode:!0,get workingColorSpace(){return dc},set workingColorSpace(m){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(m,t,r){if(this.legacyMode||t===r||!t||!r)return m;if(Uv[t]&&Uv[t][r]!==void 0){const o=Uv[t][r];return m.r=o(m.r),m.g=o(m.g),m.b=o(m.b),m}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(m,t){return this.convert(m,this.workingColorSpace,t)},toWorkingColorSpace:function(m,t){return this.convert(m,t,this.workingColorSpace)}},eS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ti={r:0,g:0,b:0},wo={h:0,s:0,l:0},_p={h:0,s:0,l:0};function Hv(m,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?m+(t-m)*6*r:r<1/2?t:r<2/3?m+(t-m)*6*(2/3-r):m}function Ap(m,t){return t.r=m.r,t.g=m.g,t.b=m.b,t}class sr{constructor(t,r,o){return this.isColor=!0,this.r=1,this.g=1,this.b=1,r===void 0&&o===void 0?this.set(t):this.setRGB(t,r,o)}set(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,r=Ca){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,Eo.toWorkingColorSpace(this,r),this}setRGB(t,r,o,l=dc){return this.r=t,this.g=r,this.b=o,Eo.toWorkingColorSpace(this,l),this}setHSL(t,r,o,l=dc){if(t=Vv(t,1),r=qi(r,0,1),o=qi(o,0,1),r===0)this.r=this.g=this.b=o;else{const d=o<=.5?o*(1+r):o+r-o*r,g=2*o-d;this.r=Hv(g,d,t+1/3),this.g=Hv(g,d,t),this.b=Hv(g,d,t-1/3)}return Eo.toWorkingColorSpace(this,l),this}setStyle(t,r=Ca){function o(d){d!==void 0&&parseFloat(d)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let l;if(l=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let d;const g=l[1],v=l[2];switch(g){case"rgb":case"rgba":if(d=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(v))return this.r=Math.min(255,parseInt(d[1],10))/255,this.g=Math.min(255,parseInt(d[2],10))/255,this.b=Math.min(255,parseInt(d[3],10))/255,Eo.toWorkingColorSpace(this,r),o(d[4]),this;if(d=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(v))return this.r=Math.min(100,parseInt(d[1],10))/100,this.g=Math.min(100,parseInt(d[2],10))/100,this.b=Math.min(100,parseInt(d[3],10))/100,Eo.toWorkingColorSpace(this,r),o(d[4]),this;break;case"hsl":case"hsla":if(d=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(v)){const A=parseFloat(d[1])/360,E=parseFloat(d[2])/100,R=parseFloat(d[3])/100;return o(d[4]),this.setHSL(A,E,R,r)}break}}else if(l=/^\#([A-Fa-f\d]+)$/.exec(t)){const d=l[1],g=d.length;if(g===3)return this.r=parseInt(d.charAt(0)+d.charAt(0),16)/255,this.g=parseInt(d.charAt(1)+d.charAt(1),16)/255,this.b=parseInt(d.charAt(2)+d.charAt(2),16)/255,Eo.toWorkingColorSpace(this,r),this;if(g===6)return this.r=parseInt(d.charAt(0)+d.charAt(1),16)/255,this.g=parseInt(d.charAt(2)+d.charAt(3),16)/255,this.b=parseInt(d.charAt(4)+d.charAt(5),16)/255,Eo.toWorkingColorSpace(this,r),this}return t&&t.length>0?this.setColorName(t,r):this}setColorName(t,r=Ca){const o=eS[t.toLowerCase()];return o!==void 0?this.setHex(o,r):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=fc(t.r),this.g=fc(t.g),this.b=fc(t.b),this}copyLinearToSRGB(t){return this.r=vp(t.r),this.g=vp(t.g),this.b=vp(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Ca){return Eo.fromWorkingColorSpace(Ap(this,Ti),t),qi(Ti.r*255,0,255)<<16^qi(Ti.g*255,0,255)<<8^qi(Ti.b*255,0,255)<<0}getHexString(t=Ca){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,r=dc){Eo.fromWorkingColorSpace(Ap(this,Ti),r);const o=Ti.r,l=Ti.g,d=Ti.b,g=Math.max(o,l,d),v=Math.min(o,l,d);let A,E;const R=(v+g)/2;if(v===g)A=0,E=0;else{const I=g-v;switch(E=R<=.5?I/(g+v):I/(2-g-v),g){case o:A=(l-d)/I+(l<d?6:0);break;case l:A=(d-o)/I+2;break;case d:A=(o-l)/I+4;break}A/=6}return t.h=A,t.s=E,t.l=R,t}getRGB(t,r=dc){return Eo.fromWorkingColorSpace(Ap(this,Ti),r),t.r=Ti.r,t.g=Ti.g,t.b=Ti.b,t}getStyle(t=Ca){return Eo.fromWorkingColorSpace(Ap(this,Ti),t),t!==Ca?`color(${t} ${Ti.r} ${Ti.g} ${Ti.b})`:`rgb(${Ti.r*255|0},${Ti.g*255|0},${Ti.b*255|0})`}offsetHSL(t,r,o){return this.getHSL(wo),wo.h+=t,wo.s+=r,wo.l+=o,this.setHSL(wo.h,wo.s,wo.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,r){return this.r=t.r+r.r,this.g=t.g+r.g,this.b=t.b+r.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,r){return this.r+=(t.r-this.r)*r,this.g+=(t.g-this.g)*r,this.b+=(t.b-this.b)*r,this}lerpColors(t,r,o){return this.r=t.r+(r.r-t.r)*o,this.g=t.g+(r.g-t.g)*o,this.b=t.b+(r.b-t.b)*o,this}lerpHSL(t,r){this.getHSL(wo),t.getHSL(_p);const o=nf(wo.h,_p.h,r),l=nf(wo.s,_p.s,r),d=nf(wo.l,_p.l,r);return this.setHSL(o,l,d),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,r=0){return this.r=t[r],this.g=t[r+1],this.b=t[r+2],this}toArray(t=[],r=0){return t[r]=this.r,t[r+1]=this.g,t[r+2]=this.b,t}fromBufferAttribute(t,r){return this.r=t.getX(r),this.g=t.getY(r),this.b=t.getZ(r),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}sr.NAMES=eS;let wu;class tS{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let r;if(t instanceof HTMLCanvasElement)r=t;else{wu===void 0&&(wu=rf("canvas")),wu.width=t.width,wu.height=t.height;const o=wu.getContext("2d");t instanceof ImageData?o.putImageData(t,0,0):o.drawImage(t,0,0,t.width,t.height),r=wu}return r.width>2048||r.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),r.toDataURL("image/jpeg",.6)):r.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const r=rf("canvas");r.width=t.width,r.height=t.height;const o=r.getContext("2d");o.drawImage(t,0,0,t.width,t.height);const l=o.getImageData(0,0,t.width,t.height),d=l.data;for(let g=0;g<d.length;g++)d[g]=fc(d[g]/255)*255;return o.putImageData(l,0,0),r}else if(t.data){const r=t.data.slice(0);for(let o=0;o<r.length;o++)r instanceof Uint8Array||r instanceof Uint8ClampedArray?r[o]=Math.floor(fc(r[o]/255)*255):r[o]=fc(r[o]);return{data:r,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class Qv{constructor(t=null){this.isSource=!0,this.uuid=So(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const r=t===void 0||typeof t=="string";if(!r&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const o={uuid:this.uuid,url:""},l=this.data;if(l!==null){let d;if(Array.isArray(l)){d=[];for(let g=0,v=l.length;g<v;g++)l[g].isDataTexture?d.push(Xv(l[g].image)):d.push(Xv(l[g]))}else d=Xv(l);o.url=d}return r||(t.images[this.uuid]=o),o}}function Xv(m){return typeof HTMLImageElement<"u"&&m instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&m instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&m instanceof ImageBitmap?tS.getDataURL(m):m.data?{data:Array.from(m.data),width:m.width,height:m.height,type:m.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let pB=0;class Bi extends Ia{constructor(t=Bi.DEFAULT_IMAGE,r=Bi.DEFAULT_MAPPING,o=Qe,l=Qe,d=pr,g=zn,v=ji,A=Mr,E=1,R=bo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:pB++}),this.uuid=So(),this.name="",this.source=new Qv(t),this.mipmaps=[],this.mapping=r,this.wrapS=o,this.wrapT=l,this.magFilter=d,this.minFilter=g,this.anisotropy=E,this.format=v,this.internalFormat=null,this.type=A,this.offset=new Fn(0,0),this.repeat=new Fn(1,1),this.center=new Fn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ns,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=R,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const r=t===void 0||typeof t=="string";if(!r&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const o={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(o.userData=this.userData),r||(t.textures[this.uuid]=o),o}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==En)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Ee:t.x=t.x-Math.floor(t.x);break;case Qe:t.x=t.x<0?0:1;break;case Et:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Ee:t.y=t.y-Math.floor(t.y);break;case Qe:t.y=t.y<0?0:1;break;case Et:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}}Bi.DEFAULT_IMAGE=null,Bi.DEFAULT_MAPPING=En;class ni{constructor(t=0,r=0,o=0,l=1){ni.prototype.isVector4=!0,this.x=t,this.y=r,this.z=o,this.w=l}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,r,o,l){return this.x=t,this.y=r,this.z=o,this.w=l,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this.w=t.w+r.w,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this.w+=t.w*r,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this.w=t.w-r.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const r=this.x,o=this.y,l=this.z,d=this.w,g=t.elements;return this.x=g[0]*r+g[4]*o+g[8]*l+g[12]*d,this.y=g[1]*r+g[5]*o+g[9]*l+g[13]*d,this.z=g[2]*r+g[6]*o+g[10]*l+g[14]*d,this.w=g[3]*r+g[7]*o+g[11]*l+g[15]*d,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const r=Math.sqrt(1-t.w*t.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/r,this.y=t.y/r,this.z=t.z/r),this}setAxisAngleFromRotationMatrix(t){let r,o,l,d;const A=t.elements,E=A[0],R=A[4],I=A[8],P=A[1],B=A[5],V=A[9],O=A[2],k=A[6],H=A[10];if(Math.abs(R-P)<.01&&Math.abs(I-O)<.01&&Math.abs(V-k)<.01){if(Math.abs(R+P)<.1&&Math.abs(I+O)<.1&&Math.abs(V+k)<.1&&Math.abs(E+B+H-3)<.1)return this.set(1,0,0,0),this;r=Math.PI;const J=(E+1)/2,te=(B+1)/2,j=(H+1)/2,ne=(R+P)/4,Ae=(I+O)/4,q=(V+k)/4;return J>te&&J>j?J<.01?(o=0,l=.707106781,d=.707106781):(o=Math.sqrt(J),l=ne/o,d=Ae/o):te>j?te<.01?(o=.707106781,l=0,d=.707106781):(l=Math.sqrt(te),o=ne/l,d=q/l):j<.01?(o=.707106781,l=.707106781,d=0):(d=Math.sqrt(j),o=Ae/d,l=q/d),this.set(o,l,d,r),this}let W=Math.sqrt((k-V)*(k-V)+(I-O)*(I-O)+(P-R)*(P-R));return Math.abs(W)<.001&&(W=1),this.x=(k-V)/W,this.y=(I-O)/W,this.z=(P-R)/W,this.w=Math.acos((E+B+H-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this.w=Math.max(t.w,Math.min(r.w,this.w)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this.z=Math.max(t,Math.min(r,this.z)),this.w=Math.max(t,Math.min(r,this.w)),this}clampLength(t,r){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(t,Math.min(r,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this.w+=(t.w-this.w)*r,this}lerpVectors(t,r,o){return this.x=t.x+(r.x-t.x)*o,this.y=t.y+(r.y-t.y)*o,this.z=t.z+(r.z-t.z)*o,this.w=t.w+(r.w-t.w)*o,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this.z=t[r+2],this.w=t[r+3],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t[r+3]=this.w,t}fromBufferAttribute(t,r){return this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this.w=t.getW(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class hc extends Ia{constructor(t,r,o={}){super(),this.isWebGLRenderTarget=!0,this.width=t,this.height=r,this.depth=1,this.scissor=new ni(0,0,t,r),this.scissorTest=!1,this.viewport=new ni(0,0,t,r);const l={width:t,height:r,depth:1};this.texture=new Bi(l,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=o.generateMipmaps!==void 0?o.generateMipmaps:!1,this.texture.internalFormat=o.internalFormat!==void 0?o.internalFormat:null,this.texture.minFilter=o.minFilter!==void 0?o.minFilter:pr,this.depthBuffer=o.depthBuffer!==void 0?o.depthBuffer:!0,this.stencilBuffer=o.stencilBuffer!==void 0?o.stencilBuffer:!1,this.depthTexture=o.depthTexture!==void 0?o.depthTexture:null,this.samples=o.samples!==void 0?o.samples:0}setSize(t,r,o=1){(this.width!==t||this.height!==r||this.depth!==o)&&(this.width=t,this.height=r,this.depth=o,this.texture.image.width=t,this.texture.image.height=r,this.texture.image.depth=o,this.dispose()),this.viewport.set(0,0,t,r),this.scissor.set(0,0,t,r)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const r=Object.assign({},t.texture.image);return this.texture.source=new Qv(r),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class yp extends Bi{constructor(t=null,r=1,o=1,l=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:r,height:o,depth:l},this.magFilter=Mt,this.minFilter=Mt,this.wrapR=Qe,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class zv extends Bi{constructor(t=null,r=1,o=1,l=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:r,height:o,depth:l},this.magFilter=Mt,this.minFilter=Mt,this.wrapR=Qe,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ds{constructor(t=0,r=0,o=0,l=1){this.isQuaternion=!0,this._x=t,this._y=r,this._z=o,this._w=l}static slerpFlat(t,r,o,l,d,g,v){let A=o[l+0],E=o[l+1],R=o[l+2],I=o[l+3];const P=d[g+0],B=d[g+1],V=d[g+2],O=d[g+3];if(v===0){t[r+0]=A,t[r+1]=E,t[r+2]=R,t[r+3]=I;return}if(v===1){t[r+0]=P,t[r+1]=B,t[r+2]=V,t[r+3]=O;return}if(I!==O||A!==P||E!==B||R!==V){let k=1-v;const H=A*P+E*B+R*V+I*O,W=H>=0?1:-1,J=1-H*H;if(J>Number.EPSILON){const j=Math.sqrt(J),ne=Math.atan2(j,H*W);k=Math.sin(k*ne)/j,v=Math.sin(v*ne)/j}const te=v*W;if(A=A*k+P*te,E=E*k+B*te,R=R*k+V*te,I=I*k+O*te,k===1-v){const j=1/Math.sqrt(A*A+E*E+R*R+I*I);A*=j,E*=j,R*=j,I*=j}}t[r]=A,t[r+1]=E,t[r+2]=R,t[r+3]=I}static multiplyQuaternionsFlat(t,r,o,l,d,g){const v=o[l],A=o[l+1],E=o[l+2],R=o[l+3],I=d[g],P=d[g+1],B=d[g+2],V=d[g+3];return t[r]=v*V+R*I+A*B-E*P,t[r+1]=A*V+R*P+E*I-v*B,t[r+2]=E*V+R*B+v*P-A*I,t[r+3]=R*V-v*I-A*P-E*B,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,r,o,l){return this._x=t,this._y=r,this._z=o,this._w=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,r){const o=t._x,l=t._y,d=t._z,g=t._order,v=Math.cos,A=Math.sin,E=v(o/2),R=v(l/2),I=v(d/2),P=A(o/2),B=A(l/2),V=A(d/2);switch(g){case"XYZ":this._x=P*R*I+E*B*V,this._y=E*B*I-P*R*V,this._z=E*R*V+P*B*I,this._w=E*R*I-P*B*V;break;case"YXZ":this._x=P*R*I+E*B*V,this._y=E*B*I-P*R*V,this._z=E*R*V-P*B*I,this._w=E*R*I+P*B*V;break;case"ZXY":this._x=P*R*I-E*B*V,this._y=E*B*I+P*R*V,this._z=E*R*V+P*B*I,this._w=E*R*I-P*B*V;break;case"ZYX":this._x=P*R*I-E*B*V,this._y=E*B*I+P*R*V,this._z=E*R*V-P*B*I,this._w=E*R*I+P*B*V;break;case"YZX":this._x=P*R*I+E*B*V,this._y=E*B*I+P*R*V,this._z=E*R*V-P*B*I,this._w=E*R*I-P*B*V;break;case"XZY":this._x=P*R*I-E*B*V,this._y=E*B*I-P*R*V,this._z=E*R*V+P*B*I,this._w=E*R*I+P*B*V;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+g)}return r!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,r){const o=r/2,l=Math.sin(o);return this._x=t.x*l,this._y=t.y*l,this._z=t.z*l,this._w=Math.cos(o),this._onChangeCallback(),this}setFromRotationMatrix(t){const r=t.elements,o=r[0],l=r[4],d=r[8],g=r[1],v=r[5],A=r[9],E=r[2],R=r[6],I=r[10],P=o+v+I;if(P>0){const B=.5/Math.sqrt(P+1);this._w=.25/B,this._x=(R-A)*B,this._y=(d-E)*B,this._z=(g-l)*B}else if(o>v&&o>I){const B=2*Math.sqrt(1+o-v-I);this._w=(R-A)/B,this._x=.25*B,this._y=(l+g)/B,this._z=(d+E)/B}else if(v>I){const B=2*Math.sqrt(1+v-o-I);this._w=(d-E)/B,this._x=(l+g)/B,this._y=.25*B,this._z=(A+R)/B}else{const B=2*Math.sqrt(1+I-o-v);this._w=(g-l)/B,this._x=(d+E)/B,this._y=(A+R)/B,this._z=.25*B}return this._onChangeCallback(),this}setFromUnitVectors(t,r){let o=t.dot(r)+1;return o<Number.EPSILON?(o=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=o):(this._x=0,this._y=-t.z,this._z=t.y,this._w=o)):(this._x=t.y*r.z-t.z*r.y,this._y=t.z*r.x-t.x*r.z,this._z=t.x*r.y-t.y*r.x,this._w=o),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(qi(this.dot(t),-1,1)))}rotateTowards(t,r){const o=this.angleTo(t);if(o===0)return this;const l=Math.min(1,r/o);return this.slerp(t,l),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,r){const o=t._x,l=t._y,d=t._z,g=t._w,v=r._x,A=r._y,E=r._z,R=r._w;return this._x=o*R+g*v+l*E-d*A,this._y=l*R+g*A+d*v-o*E,this._z=d*R+g*E+o*A-l*v,this._w=g*R-o*v-l*A-d*E,this._onChangeCallback(),this}slerp(t,r){if(r===0)return this;if(r===1)return this.copy(t);const o=this._x,l=this._y,d=this._z,g=this._w;let v=g*t._w+o*t._x+l*t._y+d*t._z;if(v<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,v=-v):this.copy(t),v>=1)return this._w=g,this._x=o,this._y=l,this._z=d,this;const A=1-v*v;if(A<=Number.EPSILON){const B=1-r;return this._w=B*g+r*this._w,this._x=B*o+r*this._x,this._y=B*l+r*this._y,this._z=B*d+r*this._z,this.normalize(),this._onChangeCallback(),this}const E=Math.sqrt(A),R=Math.atan2(E,v),I=Math.sin((1-r)*R)/E,P=Math.sin(r*R)/E;return this._w=g*I+this._w*P,this._x=o*I+this._x*P,this._y=l*I+this._y*P,this._z=d*I+this._z*P,this._onChangeCallback(),this}slerpQuaternions(t,r,o){return this.copy(t).slerp(r,o)}random(){const t=Math.random(),r=Math.sqrt(1-t),o=Math.sqrt(t),l=2*Math.PI*Math.random(),d=2*Math.PI*Math.random();return this.set(r*Math.cos(l),o*Math.sin(d),o*Math.cos(d),r*Math.sin(l))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,r=0){return this._x=t[r],this._y=t[r+1],this._z=t[r+2],this._w=t[r+3],this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._w,t}fromBufferAttribute(t,r){return this._x=t.getX(r),this._y=t.getY(r),this._z=t.getZ(r),this._w=t.getW(r),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class et{constructor(t=0,r=0,o=0){et.prototype.isVector3=!0,this.x=t,this.y=r,this.z=o}set(t,r,o){return o===void 0&&(o=this.z),this.x=t,this.y=r,this.z=o,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,r){return this.x=t.x*r.x,this.y=t.y*r.y,this.z=t.z*r.z,this}applyEuler(t){return this.applyQuaternion(nS.setFromEuler(t))}applyAxisAngle(t,r){return this.applyQuaternion(nS.setFromAxisAngle(t,r))}applyMatrix3(t){const r=this.x,o=this.y,l=this.z,d=t.elements;return this.x=d[0]*r+d[3]*o+d[6]*l,this.y=d[1]*r+d[4]*o+d[7]*l,this.z=d[2]*r+d[5]*o+d[8]*l,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const r=this.x,o=this.y,l=this.z,d=t.elements,g=1/(d[3]*r+d[7]*o+d[11]*l+d[15]);return this.x=(d[0]*r+d[4]*o+d[8]*l+d[12])*g,this.y=(d[1]*r+d[5]*o+d[9]*l+d[13])*g,this.z=(d[2]*r+d[6]*o+d[10]*l+d[14])*g,this}applyQuaternion(t){const r=this.x,o=this.y,l=this.z,d=t.x,g=t.y,v=t.z,A=t.w,E=A*r+g*l-v*o,R=A*o+v*r-d*l,I=A*l+d*o-g*r,P=-d*r-g*o-v*l;return this.x=E*A+P*-d+R*-v-I*-g,this.y=R*A+P*-g+I*-d-E*-v,this.z=I*A+P*-v+E*-g-R*-d,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const r=this.x,o=this.y,l=this.z,d=t.elements;return this.x=d[0]*r+d[4]*o+d[8]*l,this.y=d[1]*r+d[5]*o+d[9]*l,this.z=d[2]*r+d[6]*o+d[10]*l,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this.z=Math.max(t,Math.min(r,this.z)),this}clampLength(t,r){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(t,Math.min(r,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this}lerpVectors(t,r,o){return this.x=t.x+(r.x-t.x)*o,this.y=t.y+(r.y-t.y)*o,this.z=t.z+(r.z-t.z)*o,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,r){const o=t.x,l=t.y,d=t.z,g=r.x,v=r.y,A=r.z;return this.x=l*A-d*v,this.y=d*g-o*A,this.z=o*v-l*g,this}projectOnVector(t){const r=t.lengthSq();if(r===0)return this.set(0,0,0);const o=t.dot(this)/r;return this.copy(t).multiplyScalar(o)}projectOnPlane(t){return $v.copy(this).projectOnVector(t),this.sub($v)}reflect(t){return this.sub($v.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const r=Math.sqrt(this.lengthSq()*t.lengthSq());if(r===0)return Math.PI/2;const o=this.dot(t)/r;return Math.acos(qi(o,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const r=this.x-t.x,o=this.y-t.y,l=this.z-t.z;return r*r+o*o+l*l}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,r,o){const l=Math.sin(r)*t;return this.x=l*Math.sin(o),this.y=Math.cos(r)*t,this.z=l*Math.cos(o),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,r,o){return this.x=t*Math.sin(r),this.y=o,this.z=t*Math.cos(r),this}setFromMatrixPosition(t){const r=t.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(t){const r=this.setFromMatrixColumn(t,0).length(),o=this.setFromMatrixColumn(t,1).length(),l=this.setFromMatrixColumn(t,2).length();return this.x=r,this.y=o,this.z=l,this}setFromMatrixColumn(t,r){return this.fromArray(t.elements,r*4)}setFromMatrix3Column(t,r){return this.fromArray(t.elements,r*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this.z=t[r+2],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t}fromBufferAttribute(t,r){return this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,r=Math.random()*Math.PI*2,o=Math.sqrt(1-t**2);return this.x=o*Math.cos(r),this.y=o*Math.sin(r),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const $v=new et,nS=new Ds;class ea{constructor(t=new et(1/0,1/0,1/0),r=new et(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=r}set(t,r){return this.min.copy(t),this.max.copy(r),this}setFromArray(t){let r=1/0,o=1/0,l=1/0,d=-1/0,g=-1/0,v=-1/0;for(let A=0,E=t.length;A<E;A+=3){const R=t[A],I=t[A+1],P=t[A+2];R<r&&(r=R),I<o&&(o=I),P<l&&(l=P),R>d&&(d=R),I>g&&(g=I),P>v&&(v=P)}return this.min.set(r,o,l),this.max.set(d,g,v),this}setFromBufferAttribute(t){let r=1/0,o=1/0,l=1/0,d=-1/0,g=-1/0,v=-1/0;for(let A=0,E=t.count;A<E;A++){const R=t.getX(A),I=t.getY(A),P=t.getZ(A);R<r&&(r=R),I<o&&(o=I),P<l&&(l=P),R>d&&(d=R),I>g&&(g=I),P>v&&(v=P)}return this.min.set(r,o,l),this.max.set(d,g,v),this}setFromPoints(t){this.makeEmpty();for(let r=0,o=t.length;r<o;r++)this.expandByPoint(t[r]);return this}setFromCenterAndSize(t,r){const o=pc.copy(r).multiplyScalar(.5);return this.min.copy(t).sub(o),this.max.copy(t).add(o),this}setFromObject(t,r=!1){return this.makeEmpty(),this.expandByObject(t,r)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,r=!1){t.updateWorldMatrix(!1,!1);const o=t.geometry;if(o!==void 0)if(r&&o.attributes!=null&&o.attributes.position!==void 0){const d=o.attributes.position;for(let g=0,v=d.count;g<v;g++)pc.fromBufferAttribute(d,g).applyMatrix4(t.matrixWorld),this.expandByPoint(pc)}else o.boundingBox===null&&o.computeBoundingBox(),Wv.copy(o.boundingBox),Wv.applyMatrix4(t.matrixWorld),this.union(Wv);const l=t.children;for(let d=0,g=l.length;d<g;d++)this.expandByObject(l[d],r);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,r){return r.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,pc),pc.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let r,o;return t.normal.x>0?(r=t.normal.x*this.min.x,o=t.normal.x*this.max.x):(r=t.normal.x*this.max.x,o=t.normal.x*this.min.x),t.normal.y>0?(r+=t.normal.y*this.min.y,o+=t.normal.y*this.max.y):(r+=t.normal.y*this.max.y,o+=t.normal.y*this.min.y),t.normal.z>0?(r+=t.normal.z*this.min.z,o+=t.normal.z*this.max.z):(r+=t.normal.z*this.max.z,o+=t.normal.z*this.min.z),r<=-t.constant&&o>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(sf),bp.subVectors(this.max,sf),Cu.subVectors(t.a,sf),Iu.subVectors(t.b,sf),Mu.subVectors(t.c,sf),dl.subVectors(Iu,Cu),fl.subVectors(Mu,Iu),mc.subVectors(Cu,Mu);let r=[0,-dl.z,dl.y,0,-fl.z,fl.y,0,-mc.z,mc.y,dl.z,0,-dl.x,fl.z,0,-fl.x,mc.z,0,-mc.x,-dl.y,dl.x,0,-fl.y,fl.x,0,-mc.y,mc.x,0];return!Kv(r,Cu,Iu,Mu,bp)||(r=[1,0,0,0,1,0,0,0,1],!Kv(r,Cu,Iu,Mu,bp))?!1:(Sp.crossVectors(dl,fl),r=[Sp.x,Sp.y,Sp.z],Kv(r,Cu,Iu,Mu,bp))}clampPoint(t,r){return r.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return pc.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=this.getSize(pc).length()*.5,t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(xa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),xa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),xa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),xa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),xa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),xa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),xa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),xa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(xa),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const xa=[new et,new et,new et,new et,new et,new et,new et,new et],pc=new et,Wv=new ea,Cu=new et,Iu=new et,Mu=new et,dl=new et,fl=new et,mc=new et,sf=new et,bp=new et,Sp=new et,gc=new et;function Kv(m,t,r,o,l){for(let d=0,g=m.length-3;d<=g;d+=3){gc.fromArray(m,d);const v=l.x*Math.abs(gc.x)+l.y*Math.abs(gc.y)+l.z*Math.abs(gc.z),A=t.dot(gc),E=r.dot(gc),R=o.dot(gc);if(Math.max(-Math.max(A,E,R),Math.min(A,E,R))>v)return!1}return!0}const mB=new ea,rS=new et,Ep=new et,jv=new et;class xu{constructor(t=new et,r=-1){this.center=t,this.radius=r}set(t,r){return this.center.copy(t),this.radius=r,this}setFromPoints(t,r){const o=this.center;r!==void 0?o.copy(r):mB.setFromPoints(t).getCenter(o);let l=0;for(let d=0,g=t.length;d<g;d++)l=Math.max(l,o.distanceToSquared(t[d]));return this.radius=Math.sqrt(l),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const r=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=r*r}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,r){const o=this.center.distanceToSquared(t);return r.copy(t),o>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){jv.subVectors(t,this.center);const r=jv.lengthSq();if(r>this.radius*this.radius){const o=Math.sqrt(r),l=(o-this.radius)*.5;this.center.add(jv.multiplyScalar(l/o)),this.radius+=l}return this}union(t){return this.center.equals(t.center)===!0?Ep.set(0,0,1).multiplyScalar(t.radius):Ep.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(rS.copy(t.center).add(Ep)),this.expandByPoint(rS.copy(t.center).sub(Ep)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ra=new et,qv=new et,wp=new et,hl=new et,Yv=new et,Cp=new et,Jv=new et;class Ip{constructor(t=new et,r=new et(0,0,-1)){this.origin=t,this.direction=r}set(t,r){return this.origin.copy(t),this.direction.copy(r),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,r){return r.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Ra)),this}closestPointToPoint(t,r){r.subVectors(t,this.origin);const o=r.dot(this.direction);return o<0?r.copy(this.origin):r.copy(this.direction).multiplyScalar(o).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const r=Ra.subVectors(t,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(t):(Ra.copy(this.direction).multiplyScalar(r).add(this.origin),Ra.distanceToSquared(t))}distanceSqToSegment(t,r,o,l){qv.copy(t).add(r).multiplyScalar(.5),wp.copy(r).sub(t).normalize(),hl.copy(this.origin).sub(qv);const d=t.distanceTo(r)*.5,g=-this.direction.dot(wp),v=hl.dot(this.direction),A=-hl.dot(wp),E=hl.lengthSq(),R=Math.abs(1-g*g);let I,P,B,V;if(R>0)if(I=g*A-v,P=g*v-A,V=d*R,I>=0)if(P>=-V)if(P<=V){const O=1/R;I*=O,P*=O,B=I*(I+g*P+2*v)+P*(g*I+P+2*A)+E}else P=d,I=Math.max(0,-(g*P+v)),B=-I*I+P*(P+2*A)+E;else P=-d,I=Math.max(0,-(g*P+v)),B=-I*I+P*(P+2*A)+E;else P<=-V?(I=Math.max(0,-(-g*d+v)),P=I>0?-d:Math.min(Math.max(-d,-A),d),B=-I*I+P*(P+2*A)+E):P<=V?(I=0,P=Math.min(Math.max(-d,-A),d),B=P*(P+2*A)+E):(I=Math.max(0,-(g*d+v)),P=I>0?d:Math.min(Math.max(-d,-A),d),B=-I*I+P*(P+2*A)+E);else P=g>0?-d:d,I=Math.max(0,-(g*P+v)),B=-I*I+P*(P+2*A)+E;return o&&o.copy(this.direction).multiplyScalar(I).add(this.origin),l&&l.copy(wp).multiplyScalar(P).add(qv),B}intersectSphere(t,r){Ra.subVectors(t.center,this.origin);const o=Ra.dot(this.direction),l=Ra.dot(Ra)-o*o,d=t.radius*t.radius;if(l>d)return null;const g=Math.sqrt(d-l),v=o-g,A=o+g;return v<0&&A<0?null:v<0?this.at(A,r):this.at(v,r)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const r=t.normal.dot(this.direction);if(r===0)return t.distanceToPoint(this.origin)===0?0:null;const o=-(this.origin.dot(t.normal)+t.constant)/r;return o>=0?o:null}intersectPlane(t,r){const o=this.distanceToPlane(t);return o===null?null:this.at(o,r)}intersectsPlane(t){const r=t.distanceToPoint(this.origin);return r===0||t.normal.dot(this.direction)*r<0}intersectBox(t,r){let o,l,d,g,v,A;const E=1/this.direction.x,R=1/this.direction.y,I=1/this.direction.z,P=this.origin;return E>=0?(o=(t.min.x-P.x)*E,l=(t.max.x-P.x)*E):(o=(t.max.x-P.x)*E,l=(t.min.x-P.x)*E),R>=0?(d=(t.min.y-P.y)*R,g=(t.max.y-P.y)*R):(d=(t.max.y-P.y)*R,g=(t.min.y-P.y)*R),o>g||d>l||((d>o||o!==o)&&(o=d),(g<l||l!==l)&&(l=g),I>=0?(v=(t.min.z-P.z)*I,A=(t.max.z-P.z)*I):(v=(t.max.z-P.z)*I,A=(t.min.z-P.z)*I),o>A||v>l)||((v>o||o!==o)&&(o=v),(A<l||l!==l)&&(l=A),l<0)?null:this.at(o>=0?o:l,r)}intersectsBox(t){return this.intersectBox(t,Ra)!==null}intersectTriangle(t,r,o,l,d){Yv.subVectors(r,t),Cp.subVectors(o,t),Jv.crossVectors(Yv,Cp);let g=this.direction.dot(Jv),v;if(g>0){if(l)return null;v=1}else if(g<0)v=-1,g=-g;else return null;hl.subVectors(this.origin,t);const A=v*this.direction.dot(Cp.crossVectors(hl,Cp));if(A<0)return null;const E=v*this.direction.dot(Yv.cross(hl));if(E<0||A+E>g)return null;const R=-v*hl.dot(Jv);return R<0?null:this.at(R/g,d)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class br{constructor(){br.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(t,r,o,l,d,g,v,A,E,R,I,P,B,V,O,k){const H=this.elements;return H[0]=t,H[4]=r,H[8]=o,H[12]=l,H[1]=d,H[5]=g,H[9]=v,H[13]=A,H[2]=E,H[6]=R,H[10]=I,H[14]=P,H[3]=B,H[7]=V,H[11]=O,H[15]=k,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new br().fromArray(this.elements)}copy(t){const r=this.elements,o=t.elements;return r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5],r[6]=o[6],r[7]=o[7],r[8]=o[8],r[9]=o[9],r[10]=o[10],r[11]=o[11],r[12]=o[12],r[13]=o[13],r[14]=o[14],r[15]=o[15],this}copyPosition(t){const r=this.elements,o=t.elements;return r[12]=o[12],r[13]=o[13],r[14]=o[14],this}setFromMatrix3(t){const r=t.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(t,r,o){return t.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),o.setFromMatrixColumn(this,2),this}makeBasis(t,r,o){return this.set(t.x,r.x,o.x,0,t.y,r.y,o.y,0,t.z,r.z,o.z,0,0,0,0,1),this}extractRotation(t){const r=this.elements,o=t.elements,l=1/Ru.setFromMatrixColumn(t,0).length(),d=1/Ru.setFromMatrixColumn(t,1).length(),g=1/Ru.setFromMatrixColumn(t,2).length();return r[0]=o[0]*l,r[1]=o[1]*l,r[2]=o[2]*l,r[3]=0,r[4]=o[4]*d,r[5]=o[5]*d,r[6]=o[6]*d,r[7]=0,r[8]=o[8]*g,r[9]=o[9]*g,r[10]=o[10]*g,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(t){const r=this.elements,o=t.x,l=t.y,d=t.z,g=Math.cos(o),v=Math.sin(o),A=Math.cos(l),E=Math.sin(l),R=Math.cos(d),I=Math.sin(d);if(t.order==="XYZ"){const P=g*R,B=g*I,V=v*R,O=v*I;r[0]=A*R,r[4]=-A*I,r[8]=E,r[1]=B+V*E,r[5]=P-O*E,r[9]=-v*A,r[2]=O-P*E,r[6]=V+B*E,r[10]=g*A}else if(t.order==="YXZ"){const P=A*R,B=A*I,V=E*R,O=E*I;r[0]=P+O*v,r[4]=V*v-B,r[8]=g*E,r[1]=g*I,r[5]=g*R,r[9]=-v,r[2]=B*v-V,r[6]=O+P*v,r[10]=g*A}else if(t.order==="ZXY"){const P=A*R,B=A*I,V=E*R,O=E*I;r[0]=P-O*v,r[4]=-g*I,r[8]=V+B*v,r[1]=B+V*v,r[5]=g*R,r[9]=O-P*v,r[2]=-g*E,r[6]=v,r[10]=g*A}else if(t.order==="ZYX"){const P=g*R,B=g*I,V=v*R,O=v*I;r[0]=A*R,r[4]=V*E-B,r[8]=P*E+O,r[1]=A*I,r[5]=O*E+P,r[9]=B*E-V,r[2]=-E,r[6]=v*A,r[10]=g*A}else if(t.order==="YZX"){const P=g*A,B=g*E,V=v*A,O=v*E;r[0]=A*R,r[4]=O-P*I,r[8]=V*I+B,r[1]=I,r[5]=g*R,r[9]=-v*R,r[2]=-E*R,r[6]=B*I+V,r[10]=P-O*I}else if(t.order==="XZY"){const P=g*A,B=g*E,V=v*A,O=v*E;r[0]=A*R,r[4]=-I,r[8]=E*R,r[1]=P*I+O,r[5]=g*R,r[9]=B*I-V,r[2]=V*I-B,r[6]=v*R,r[10]=O*I+P}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(t){return this.compose(gB,t,vB)}lookAt(t,r,o){const l=this.elements;return Bs.subVectors(t,r),Bs.lengthSq()===0&&(Bs.z=1),Bs.normalize(),pl.crossVectors(o,Bs),pl.lengthSq()===0&&(Math.abs(o.z)===1?Bs.x+=1e-4:Bs.z+=1e-4,Bs.normalize(),pl.crossVectors(o,Bs)),pl.normalize(),Mp.crossVectors(Bs,pl),l[0]=pl.x,l[4]=Mp.x,l[8]=Bs.x,l[1]=pl.y,l[5]=Mp.y,l[9]=Bs.y,l[2]=pl.z,l[6]=Mp.z,l[10]=Bs.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,r){const o=t.elements,l=r.elements,d=this.elements,g=o[0],v=o[4],A=o[8],E=o[12],R=o[1],I=o[5],P=o[9],B=o[13],V=o[2],O=o[6],k=o[10],H=o[14],W=o[3],J=o[7],te=o[11],j=o[15],ne=l[0],Ae=l[4],q=l[8],ge=l[12],we=l[1],Fe=l[5],tt=l[9],Pe=l[13],Oe=l[2],st=l[6],ht=l[10],dt=l[14],Le=l[3],Ze=l[7],lt=l[11],Ut=l[15];return d[0]=g*ne+v*we+A*Oe+E*Le,d[4]=g*Ae+v*Fe+A*st+E*Ze,d[8]=g*q+v*tt+A*ht+E*lt,d[12]=g*ge+v*Pe+A*dt+E*Ut,d[1]=R*ne+I*we+P*Oe+B*Le,d[5]=R*Ae+I*Fe+P*st+B*Ze,d[9]=R*q+I*tt+P*ht+B*lt,d[13]=R*ge+I*Pe+P*dt+B*Ut,d[2]=V*ne+O*we+k*Oe+H*Le,d[6]=V*Ae+O*Fe+k*st+H*Ze,d[10]=V*q+O*tt+k*ht+H*lt,d[14]=V*ge+O*Pe+k*dt+H*Ut,d[3]=W*ne+J*we+te*Oe+j*Le,d[7]=W*Ae+J*Fe+te*st+j*Ze,d[11]=W*q+J*tt+te*ht+j*lt,d[15]=W*ge+J*Pe+te*dt+j*Ut,this}multiplyScalar(t){const r=this.elements;return r[0]*=t,r[4]*=t,r[8]*=t,r[12]*=t,r[1]*=t,r[5]*=t,r[9]*=t,r[13]*=t,r[2]*=t,r[6]*=t,r[10]*=t,r[14]*=t,r[3]*=t,r[7]*=t,r[11]*=t,r[15]*=t,this}determinant(){const t=this.elements,r=t[0],o=t[4],l=t[8],d=t[12],g=t[1],v=t[5],A=t[9],E=t[13],R=t[2],I=t[6],P=t[10],B=t[14],V=t[3],O=t[7],k=t[11],H=t[15];return V*(+d*A*I-l*E*I-d*v*P+o*E*P+l*v*B-o*A*B)+O*(+r*A*B-r*E*P+d*g*P-l*g*B+l*E*R-d*A*R)+k*(+r*E*I-r*v*B-d*g*I+o*g*B+d*v*R-o*E*R)+H*(-l*v*R-r*A*I+r*v*P+l*g*I-o*g*P+o*A*R)}transpose(){const t=this.elements;let r;return r=t[1],t[1]=t[4],t[4]=r,r=t[2],t[2]=t[8],t[8]=r,r=t[6],t[6]=t[9],t[9]=r,r=t[3],t[3]=t[12],t[12]=r,r=t[7],t[7]=t[13],t[13]=r,r=t[11],t[11]=t[14],t[14]=r,this}setPosition(t,r,o){const l=this.elements;return t.isVector3?(l[12]=t.x,l[13]=t.y,l[14]=t.z):(l[12]=t,l[13]=r,l[14]=o),this}invert(){const t=this.elements,r=t[0],o=t[1],l=t[2],d=t[3],g=t[4],v=t[5],A=t[6],E=t[7],R=t[8],I=t[9],P=t[10],B=t[11],V=t[12],O=t[13],k=t[14],H=t[15],W=I*k*E-O*P*E+O*A*B-v*k*B-I*A*H+v*P*H,J=V*P*E-R*k*E-V*A*B+g*k*B+R*A*H-g*P*H,te=R*O*E-V*I*E+V*v*B-g*O*B-R*v*H+g*I*H,j=V*I*A-R*O*A-V*v*P+g*O*P+R*v*k-g*I*k,ne=r*W+o*J+l*te+d*j;if(ne===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Ae=1/ne;return t[0]=W*Ae,t[1]=(O*P*d-I*k*d-O*l*B+o*k*B+I*l*H-o*P*H)*Ae,t[2]=(v*k*d-O*A*d+O*l*E-o*k*E-v*l*H+o*A*H)*Ae,t[3]=(I*A*d-v*P*d-I*l*E+o*P*E+v*l*B-o*A*B)*Ae,t[4]=J*Ae,t[5]=(R*k*d-V*P*d+V*l*B-r*k*B-R*l*H+r*P*H)*Ae,t[6]=(V*A*d-g*k*d-V*l*E+r*k*E+g*l*H-r*A*H)*Ae,t[7]=(g*P*d-R*A*d+R*l*E-r*P*E-g*l*B+r*A*B)*Ae,t[8]=te*Ae,t[9]=(V*I*d-R*O*d-V*o*B+r*O*B+R*o*H-r*I*H)*Ae,t[10]=(g*O*d-V*v*d+V*o*E-r*O*E-g*o*H+r*v*H)*Ae,t[11]=(R*v*d-g*I*d-R*o*E+r*I*E+g*o*B-r*v*B)*Ae,t[12]=j*Ae,t[13]=(R*O*l-V*I*l+V*o*P-r*O*P-R*o*k+r*I*k)*Ae,t[14]=(V*v*l-g*O*l-V*o*A+r*O*A+g*o*k-r*v*k)*Ae,t[15]=(g*I*l-R*v*l+R*o*A-r*I*A-g*o*P+r*v*P)*Ae,this}scale(t){const r=this.elements,o=t.x,l=t.y,d=t.z;return r[0]*=o,r[4]*=l,r[8]*=d,r[1]*=o,r[5]*=l,r[9]*=d,r[2]*=o,r[6]*=l,r[10]*=d,r[3]*=o,r[7]*=l,r[11]*=d,this}getMaxScaleOnAxis(){const t=this.elements,r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],o=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],l=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(r,o,l))}makeTranslation(t,r,o){return this.set(1,0,0,t,0,1,0,r,0,0,1,o,0,0,0,1),this}makeRotationX(t){const r=Math.cos(t),o=Math.sin(t);return this.set(1,0,0,0,0,r,-o,0,0,o,r,0,0,0,0,1),this}makeRotationY(t){const r=Math.cos(t),o=Math.sin(t);return this.set(r,0,o,0,0,1,0,0,-o,0,r,0,0,0,0,1),this}makeRotationZ(t){const r=Math.cos(t),o=Math.sin(t);return this.set(r,-o,0,0,o,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,r){const o=Math.cos(r),l=Math.sin(r),d=1-o,g=t.x,v=t.y,A=t.z,E=d*g,R=d*v;return this.set(E*g+o,E*v-l*A,E*A+l*v,0,E*v+l*A,R*v+o,R*A-l*g,0,E*A-l*v,R*A+l*g,d*A*A+o,0,0,0,0,1),this}makeScale(t,r,o){return this.set(t,0,0,0,0,r,0,0,0,0,o,0,0,0,0,1),this}makeShear(t,r,o,l,d,g){return this.set(1,o,d,0,t,1,g,0,r,l,1,0,0,0,0,1),this}compose(t,r,o){const l=this.elements,d=r._x,g=r._y,v=r._z,A=r._w,E=d+d,R=g+g,I=v+v,P=d*E,B=d*R,V=d*I,O=g*R,k=g*I,H=v*I,W=A*E,J=A*R,te=A*I,j=o.x,ne=o.y,Ae=o.z;return l[0]=(1-(O+H))*j,l[1]=(B+te)*j,l[2]=(V-J)*j,l[3]=0,l[4]=(B-te)*ne,l[5]=(1-(P+H))*ne,l[6]=(k+W)*ne,l[7]=0,l[8]=(V+J)*Ae,l[9]=(k-W)*Ae,l[10]=(1-(P+O))*Ae,l[11]=0,l[12]=t.x,l[13]=t.y,l[14]=t.z,l[15]=1,this}decompose(t,r,o){const l=this.elements;let d=Ru.set(l[0],l[1],l[2]).length();const g=Ru.set(l[4],l[5],l[6]).length(),v=Ru.set(l[8],l[9],l[10]).length();this.determinant()<0&&(d=-d),t.x=l[12],t.y=l[13],t.z=l[14],Co.copy(this);const E=1/d,R=1/g,I=1/v;return Co.elements[0]*=E,Co.elements[1]*=E,Co.elements[2]*=E,Co.elements[4]*=R,Co.elements[5]*=R,Co.elements[6]*=R,Co.elements[8]*=I,Co.elements[9]*=I,Co.elements[10]*=I,r.setFromRotationMatrix(Co),o.x=d,o.y=g,o.z=v,this}makePerspective(t,r,o,l,d,g){const v=this.elements,A=2*d/(r-t),E=2*d/(o-l),R=(r+t)/(r-t),I=(o+l)/(o-l),P=-(g+d)/(g-d),B=-2*g*d/(g-d);return v[0]=A,v[4]=0,v[8]=R,v[12]=0,v[1]=0,v[5]=E,v[9]=I,v[13]=0,v[2]=0,v[6]=0,v[10]=P,v[14]=B,v[3]=0,v[7]=0,v[11]=-1,v[15]=0,this}makeOrthographic(t,r,o,l,d,g){const v=this.elements,A=1/(r-t),E=1/(o-l),R=1/(g-d),I=(r+t)*A,P=(o+l)*E,B=(g+d)*R;return v[0]=2*A,v[4]=0,v[8]=0,v[12]=-I,v[1]=0,v[5]=2*E,v[9]=0,v[13]=-P,v[2]=0,v[6]=0,v[10]=-2*R,v[14]=-B,v[3]=0,v[7]=0,v[11]=0,v[15]=1,this}equals(t){const r=this.elements,o=t.elements;for(let l=0;l<16;l++)if(r[l]!==o[l])return!1;return!0}fromArray(t,r=0){for(let o=0;o<16;o++)this.elements[o]=t[o+r];return this}toArray(t=[],r=0){const o=this.elements;return t[r]=o[0],t[r+1]=o[1],t[r+2]=o[2],t[r+3]=o[3],t[r+4]=o[4],t[r+5]=o[5],t[r+6]=o[6],t[r+7]=o[7],t[r+8]=o[8],t[r+9]=o[9],t[r+10]=o[10],t[r+11]=o[11],t[r+12]=o[12],t[r+13]=o[13],t[r+14]=o[14],t[r+15]=o[15],t}}const Ru=new et,Co=new br,gB=new et(0,0,0),vB=new et(1,1,1),pl=new et,Mp=new et,Bs=new et,iS=new br,sS=new Ds;class of{constructor(t=0,r=0,o=0,l=of.DefaultOrder){this.isEuler=!0,this._x=t,this._y=r,this._z=o,this._order=l}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,r,o,l=this._order){return this._x=t,this._y=r,this._z=o,this._order=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,r=this._order,o=!0){const l=t.elements,d=l[0],g=l[4],v=l[8],A=l[1],E=l[5],R=l[9],I=l[2],P=l[6],B=l[10];switch(r){case"XYZ":this._y=Math.asin(qi(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(-R,B),this._z=Math.atan2(-g,d)):(this._x=Math.atan2(P,E),this._z=0);break;case"YXZ":this._x=Math.asin(-qi(R,-1,1)),Math.abs(R)<.9999999?(this._y=Math.atan2(v,B),this._z=Math.atan2(A,E)):(this._y=Math.atan2(-I,d),this._z=0);break;case"ZXY":this._x=Math.asin(qi(P,-1,1)),Math.abs(P)<.9999999?(this._y=Math.atan2(-I,B),this._z=Math.atan2(-g,E)):(this._y=0,this._z=Math.atan2(A,d));break;case"ZYX":this._y=Math.asin(-qi(I,-1,1)),Math.abs(I)<.9999999?(this._x=Math.atan2(P,B),this._z=Math.atan2(A,d)):(this._x=0,this._z=Math.atan2(-g,E));break;case"YZX":this._z=Math.asin(qi(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(-R,E),this._y=Math.atan2(-I,d)):(this._x=0,this._y=Math.atan2(v,B));break;case"XZY":this._z=Math.asin(-qi(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(P,E),this._y=Math.atan2(v,d)):(this._x=Math.atan2(-R,B),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,o===!0&&this._onChangeCallback(),this}setFromQuaternion(t,r,o){return iS.makeRotationFromQuaternion(t),this.setFromRotationMatrix(iS,r,o)}setFromVector3(t,r=this._order){return this.set(t.x,t.y,t.z,r)}reorder(t){return sS.setFromEuler(this),this.setFromQuaternion(sS,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}of.DefaultOrder="XYZ",of.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Zv{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let _B=0;const oS=new et,Tu=new Ds,Ta=new br,xp=new et,af=new et,AB=new et,yB=new Ds,aS=new et(1,0,0),lS=new et(0,1,0),cS=new et(0,0,1),bB={type:"added"},uS={type:"removed"};class _i extends Ia{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_B++}),this.uuid=So(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=_i.DefaultUp.clone();const t=new et,r=new of,o=new Ds,l=new et(1,1,1);function d(){o.setFromEuler(r,!1)}function g(){r.setFromQuaternion(o,void 0,!1)}r._onChange(d),o._onChange(g),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:l},modelViewMatrix:{value:new br},normalMatrix:{value:new Ns}}),this.matrix=new br,this.matrixWorld=new br,this.matrixAutoUpdate=_i.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=_i.DefaultMatrixWorldAutoUpdate,this.layers=new Zv,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,r){this.quaternion.setFromAxisAngle(t,r)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,r){return Tu.setFromAxisAngle(t,r),this.quaternion.multiply(Tu),this}rotateOnWorldAxis(t,r){return Tu.setFromAxisAngle(t,r),this.quaternion.premultiply(Tu),this}rotateX(t){return this.rotateOnAxis(aS,t)}rotateY(t){return this.rotateOnAxis(lS,t)}rotateZ(t){return this.rotateOnAxis(cS,t)}translateOnAxis(t,r){return oS.copy(t).applyQuaternion(this.quaternion),this.position.add(oS.multiplyScalar(r)),this}translateX(t){return this.translateOnAxis(aS,t)}translateY(t){return this.translateOnAxis(lS,t)}translateZ(t){return this.translateOnAxis(cS,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(Ta.copy(this.matrixWorld).invert())}lookAt(t,r,o){t.isVector3?xp.copy(t):xp.set(t,r,o);const l=this.parent;this.updateWorldMatrix(!0,!1),af.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ta.lookAt(af,xp,this.up):Ta.lookAt(xp,af,this.up),this.quaternion.setFromRotationMatrix(Ta),l&&(Ta.extractRotation(l.matrixWorld),Tu.setFromRotationMatrix(Ta),this.quaternion.premultiply(Tu.invert()))}add(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(bB)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let o=0;o<arguments.length;o++)this.remove(arguments[o]);return this}const r=this.children.indexOf(t);return r!==-1&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent(uS)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const r=this.children[t];r.parent=null,r.dispatchEvent(uS)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),Ta.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),Ta.multiply(t.parent.matrixWorld)),t.applyMatrix4(Ta),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,r){if(this[t]===r)return this;for(let o=0,l=this.children.length;o<l;o++){const g=this.children[o].getObjectByProperty(t,r);if(g!==void 0)return g}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(af,t,AB),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(af,yB,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(t){t(this);const r=this.children;for(let o=0,l=r.length;o<l;o++)r[o].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const r=this.children;for(let o=0,l=r.length;o<l;o++)r[o].traverseVisible(t)}traverseAncestors(t){const r=this.parent;r!==null&&(t(r),r.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const r=this.children;for(let o=0,l=r.length;o<l;o++){const d=r[o];(d.matrixWorldAutoUpdate===!0||t===!0)&&d.updateMatrixWorld(t)}}updateWorldMatrix(t,r){const o=this.parent;if(t===!0&&o!==null&&o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0){const l=this.children;for(let d=0,g=l.length;d<g;d++){const v=l[d];v.matrixWorldAutoUpdate===!0&&v.updateWorldMatrix(!1,!0)}}}toJSON(t){const r=t===void 0||typeof t=="string",o={};r&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},o.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const l={};l.uuid=this.uuid,l.type=this.type,this.name!==""&&(l.name=this.name),this.castShadow===!0&&(l.castShadow=!0),this.receiveShadow===!0&&(l.receiveShadow=!0),this.visible===!1&&(l.visible=!1),this.frustumCulled===!1&&(l.frustumCulled=!1),this.renderOrder!==0&&(l.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(l.userData=this.userData),l.layers=this.layers.mask,l.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(l.matrixAutoUpdate=!1),this.isInstancedMesh&&(l.type="InstancedMesh",l.count=this.count,l.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(l.instanceColor=this.instanceColor.toJSON()));function d(v,A){return v[A.uuid]===void 0&&(v[A.uuid]=A.toJSON(t)),A.uuid}if(this.isScene)this.background&&(this.background.isColor?l.background=this.background.toJSON():this.background.isTexture&&(l.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(l.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){l.geometry=d(t.geometries,this.geometry);const v=this.geometry.parameters;if(v!==void 0&&v.shapes!==void 0){const A=v.shapes;if(Array.isArray(A))for(let E=0,R=A.length;E<R;E++){const I=A[E];d(t.shapes,I)}else d(t.shapes,A)}}if(this.isSkinnedMesh&&(l.bindMode=this.bindMode,l.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(d(t.skeletons,this.skeleton),l.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const v=[];for(let A=0,E=this.material.length;A<E;A++)v.push(d(t.materials,this.material[A]));l.material=v}else l.material=d(t.materials,this.material);if(this.children.length>0){l.children=[];for(let v=0;v<this.children.length;v++)l.children.push(this.children[v].toJSON(t).object)}if(this.animations.length>0){l.animations=[];for(let v=0;v<this.animations.length;v++){const A=this.animations[v];l.animations.push(d(t.animations,A))}}if(r){const v=g(t.geometries),A=g(t.materials),E=g(t.textures),R=g(t.images),I=g(t.shapes),P=g(t.skeletons),B=g(t.animations),V=g(t.nodes);v.length>0&&(o.geometries=v),A.length>0&&(o.materials=A),E.length>0&&(o.textures=E),R.length>0&&(o.images=R),I.length>0&&(o.shapes=I),P.length>0&&(o.skeletons=P),B.length>0&&(o.animations=B),V.length>0&&(o.nodes=V)}return o.object=l,o;function g(v){const A=[];for(const E in v){const R=v[E];delete R.metadata,A.push(R)}return A}}clone(t){return new this.constructor().copy(this,t)}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),r===!0)for(let o=0;o<t.children.length;o++){const l=t.children[o];this.add(l.clone())}return this}}_i.DefaultUp=new et(0,1,0),_i.DefaultMatrixAutoUpdate=!0,_i.DefaultMatrixWorldAutoUpdate=!0;const Io=new et,Pa=new et,e_=new et,Na=new et,Pu=new et,Nu=new et,dS=new et,t_=new et,n_=new et,r_=new et;class ta{constructor(t=new et,r=new et,o=new et){this.a=t,this.b=r,this.c=o}static getNormal(t,r,o,l){l.subVectors(o,r),Io.subVectors(t,r),l.cross(Io);const d=l.lengthSq();return d>0?l.multiplyScalar(1/Math.sqrt(d)):l.set(0,0,0)}static getBarycoord(t,r,o,l,d){Io.subVectors(l,r),Pa.subVectors(o,r),e_.subVectors(t,r);const g=Io.dot(Io),v=Io.dot(Pa),A=Io.dot(e_),E=Pa.dot(Pa),R=Pa.dot(e_),I=g*E-v*v;if(I===0)return d.set(-2,-1,-1);const P=1/I,B=(E*A-v*R)*P,V=(g*R-v*A)*P;return d.set(1-B-V,V,B)}static containsPoint(t,r,o,l){return this.getBarycoord(t,r,o,l,Na),Na.x>=0&&Na.y>=0&&Na.x+Na.y<=1}static getUV(t,r,o,l,d,g,v,A){return this.getBarycoord(t,r,o,l,Na),A.set(0,0),A.addScaledVector(d,Na.x),A.addScaledVector(g,Na.y),A.addScaledVector(v,Na.z),A}static isFrontFacing(t,r,o,l){return Io.subVectors(o,r),Pa.subVectors(t,r),Io.cross(Pa).dot(l)<0}set(t,r,o){return this.a.copy(t),this.b.copy(r),this.c.copy(o),this}setFromPointsAndIndices(t,r,o,l){return this.a.copy(t[r]),this.b.copy(t[o]),this.c.copy(t[l]),this}setFromAttributeAndIndices(t,r,o,l){return this.a.fromBufferAttribute(t,r),this.b.fromBufferAttribute(t,o),this.c.fromBufferAttribute(t,l),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Io.subVectors(this.c,this.b),Pa.subVectors(this.a,this.b),Io.cross(Pa).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return ta.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,r){return ta.getBarycoord(t,this.a,this.b,this.c,r)}getUV(t,r,o,l,d){return ta.getUV(t,this.a,this.b,this.c,r,o,l,d)}containsPoint(t){return ta.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return ta.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,r){const o=this.a,l=this.b,d=this.c;let g,v;Pu.subVectors(l,o),Nu.subVectors(d,o),t_.subVectors(t,o);const A=Pu.dot(t_),E=Nu.dot(t_);if(A<=0&&E<=0)return r.copy(o);n_.subVectors(t,l);const R=Pu.dot(n_),I=Nu.dot(n_);if(R>=0&&I<=R)return r.copy(l);const P=A*I-R*E;if(P<=0&&A>=0&&R<=0)return g=A/(A-R),r.copy(o).addScaledVector(Pu,g);r_.subVectors(t,d);const B=Pu.dot(r_),V=Nu.dot(r_);if(V>=0&&B<=V)return r.copy(d);const O=B*E-A*V;if(O<=0&&E>=0&&V<=0)return v=E/(E-V),r.copy(o).addScaledVector(Nu,v);const k=R*V-B*I;if(k<=0&&I-R>=0&&B-V>=0)return dS.subVectors(d,l),v=(I-R)/(I-R+(B-V)),r.copy(l).addScaledVector(dS,v);const H=1/(k+O+P);return g=O*H,v=P*H,r.copy(o).addScaledVector(Pu,g).addScaledVector(Nu,v)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let SB=0;class Zs extends Ia{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:SB++}),this.uuid=So(),this.name="",this.type="Material",this.blending=ee,this.side=G,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Te,this.blendDst=Xe,this.blendEquation=ae,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Ne,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=eB,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Lv,this.stencilZFail=Lv,this.stencilZPass=Lv,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const r in t){const o=t[r];if(o===void 0){console.warn("THREE.Material: '"+r+"' parameter is undefined.");continue}const l=this[r];if(l===void 0){console.warn("THREE."+this.type+": '"+r+"' is not a property of this material.");continue}l&&l.isColor?l.set(o):l&&l.isVector3&&o&&o.isVector3?l.copy(o):this[r]=o}}toJSON(t){const r=t===void 0||typeof t=="string";r&&(t={textures:{},images:{}});const o={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.color&&this.color.isColor&&(o.color=this.color.getHex()),this.roughness!==void 0&&(o.roughness=this.roughness),this.metalness!==void 0&&(o.metalness=this.metalness),this.sheen!==void 0&&(o.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(o.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(o.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(o.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(o.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(o.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(o.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(o.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(o.shininess=this.shininess),this.clearcoat!==void 0&&(o.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(o.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(o.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(o.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(o.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,o.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(o.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(o.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(o.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(o.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(o.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(o.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(o.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(o.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(o.lightMap=this.lightMap.toJSON(t).uuid,o.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(o.aoMap=this.aoMap.toJSON(t).uuid,o.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(o.bumpMap=this.bumpMap.toJSON(t).uuid,o.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(o.normalMap=this.normalMap.toJSON(t).uuid,o.normalMapType=this.normalMapType,o.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(o.displacementMap=this.displacementMap.toJSON(t).uuid,o.displacementScale=this.displacementScale,o.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(o.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(o.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(o.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(o.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(o.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(o.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(o.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(o.combine=this.combine)),this.envMapIntensity!==void 0&&(o.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(o.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(o.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(o.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(o.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(o.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(o.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(o.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&(o.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(o.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(o.size=this.size),this.shadowSide!==null&&(o.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(o.sizeAttenuation=this.sizeAttenuation),this.blending!==ee&&(o.blending=this.blending),this.side!==G&&(o.side=this.side),this.vertexColors&&(o.vertexColors=!0),this.opacity<1&&(o.opacity=this.opacity),this.transparent===!0&&(o.transparent=this.transparent),o.depthFunc=this.depthFunc,o.depthTest=this.depthTest,o.depthWrite=this.depthWrite,o.colorWrite=this.colorWrite,o.stencilWrite=this.stencilWrite,o.stencilWriteMask=this.stencilWriteMask,o.stencilFunc=this.stencilFunc,o.stencilRef=this.stencilRef,o.stencilFuncMask=this.stencilFuncMask,o.stencilFail=this.stencilFail,o.stencilZFail=this.stencilZFail,o.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(o.rotation=this.rotation),this.polygonOffset===!0&&(o.polygonOffset=!0),this.polygonOffsetFactor!==0&&(o.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(o.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(o.linewidth=this.linewidth),this.dashSize!==void 0&&(o.dashSize=this.dashSize),this.gapSize!==void 0&&(o.gapSize=this.gapSize),this.scale!==void 0&&(o.scale=this.scale),this.dithering===!0&&(o.dithering=!0),this.alphaTest>0&&(o.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(o.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(o.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(o.wireframe=this.wireframe),this.wireframeLinewidth>1&&(o.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(o.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(o.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(o.flatShading=this.flatShading),this.visible===!1&&(o.visible=!1),this.toneMapped===!1&&(o.toneMapped=!1),this.fog===!1&&(o.fog=!1),JSON.stringify(this.userData)!=="{}"&&(o.userData=this.userData);function l(d){const g=[];for(const v in d){const A=d[v];delete A.metadata,g.push(A)}return g}if(r){const d=l(t.textures),g=l(t.images);d.length>0&&(o.textures=d),g.length>0&&(o.images=g)}return o}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const r=t.clippingPlanes;let o=null;if(r!==null){const l=r.length;o=new Array(l);for(let d=0;d!==l;++d)o[d]=r[d].clone()}return this.clippingPlanes=o,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class na extends Zs{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new sr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ct,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Ii=new et,Rp=new Fn;class ri{constructor(t,r,o){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=r,this.count=t!==void 0?t.length/r:0,this.normalized=o===!0,this.usage=Ov,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,r,o){t*=this.itemSize,o*=r.itemSize;for(let l=0,d=this.itemSize;l<d;l++)this.array[t+l]=r.array[o+l];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let r=0,o=this.count;r<o;r++)Rp.fromBufferAttribute(this,r),Rp.applyMatrix3(t),this.setXY(r,Rp.x,Rp.y);else if(this.itemSize===3)for(let r=0,o=this.count;r<o;r++)Ii.fromBufferAttribute(this,r),Ii.applyMatrix3(t),this.setXYZ(r,Ii.x,Ii.y,Ii.z);return this}applyMatrix4(t){for(let r=0,o=this.count;r<o;r++)Ii.fromBufferAttribute(this,r),Ii.applyMatrix4(t),this.setXYZ(r,Ii.x,Ii.y,Ii.z);return this}applyNormalMatrix(t){for(let r=0,o=this.count;r<o;r++)Ii.fromBufferAttribute(this,r),Ii.applyNormalMatrix(t),this.setXYZ(r,Ii.x,Ii.y,Ii.z);return this}transformDirection(t){for(let r=0,o=this.count;r<o;r++)Ii.fromBufferAttribute(this,r),Ii.transformDirection(t),this.setXYZ(r,Ii.x,Ii.y,Ii.z);return this}set(t,r=0){return this.array.set(t,r),this}getX(t){let r=this.array[t*this.itemSize];return this.normalized&&(r=Ma(r,this.array)),r}setX(t,r){return this.normalized&&(r=ti(r,this.array)),this.array[t*this.itemSize]=r,this}getY(t){let r=this.array[t*this.itemSize+1];return this.normalized&&(r=Ma(r,this.array)),r}setY(t,r){return this.normalized&&(r=ti(r,this.array)),this.array[t*this.itemSize+1]=r,this}getZ(t){let r=this.array[t*this.itemSize+2];return this.normalized&&(r=Ma(r,this.array)),r}setZ(t,r){return this.normalized&&(r=ti(r,this.array)),this.array[t*this.itemSize+2]=r,this}getW(t){let r=this.array[t*this.itemSize+3];return this.normalized&&(r=Ma(r,this.array)),r}setW(t,r){return this.normalized&&(r=ti(r,this.array)),this.array[t*this.itemSize+3]=r,this}setXY(t,r,o){return t*=this.itemSize,this.normalized&&(r=ti(r,this.array),o=ti(o,this.array)),this.array[t+0]=r,this.array[t+1]=o,this}setXYZ(t,r,o,l){return t*=this.itemSize,this.normalized&&(r=ti(r,this.array),o=ti(o,this.array),l=ti(l,this.array)),this.array[t+0]=r,this.array[t+1]=o,this.array[t+2]=l,this}setXYZW(t,r,o,l,d){return t*=this.itemSize,this.normalized&&(r=ti(r,this.array),o=ti(o,this.array),l=ti(l,this.array),d=ti(d,this.array)),this.array[t+0]=r,this.array[t+1]=o,this.array[t+2]=l,this.array[t+3]=d,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==Ov&&(t.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(t.updateRange=this.updateRange),t}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class fS extends ri{constructor(t,r,o){super(new Uint16Array(t),r,o)}}class hS extends ri{constructor(t,r,o){super(new Uint32Array(t),r,o)}}class ki extends ri{constructor(t,r,o){super(new Float32Array(t),r,o)}}let EB=0;const eo=new br,i_=new _i,Du=new et,ks=new ea,lf=new ea,Li=new et;class Oi extends Ia{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:EB++}),this.uuid=So(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(Z1(t)?hS:fS)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,r){return this.attributes[t]=r,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,r,o=0){this.groups.push({start:t,count:r,materialIndex:o})}clearGroups(){this.groups=[]}setDrawRange(t,r){this.drawRange.start=t,this.drawRange.count=r}applyMatrix4(t){const r=this.attributes.position;r!==void 0&&(r.applyMatrix4(t),r.needsUpdate=!0);const o=this.attributes.normal;if(o!==void 0){const d=new Ns().getNormalMatrix(t);o.applyNormalMatrix(d),o.needsUpdate=!0}const l=this.attributes.tangent;return l!==void 0&&(l.transformDirection(t),l.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return eo.makeRotationFromQuaternion(t),this.applyMatrix4(eo),this}rotateX(t){return eo.makeRotationX(t),this.applyMatrix4(eo),this}rotateY(t){return eo.makeRotationY(t),this.applyMatrix4(eo),this}rotateZ(t){return eo.makeRotationZ(t),this.applyMatrix4(eo),this}translate(t,r,o){return eo.makeTranslation(t,r,o),this.applyMatrix4(eo),this}scale(t,r,o){return eo.makeScale(t,r,o),this.applyMatrix4(eo),this}lookAt(t){return i_.lookAt(t),i_.updateMatrix(),this.applyMatrix4(i_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Du).negate(),this.translate(Du.x,Du.y,Du.z),this}setFromPoints(t){const r=[];for(let o=0,l=t.length;o<l;o++){const d=t[o];r.push(d.x,d.y,d.z||0)}return this.setAttribute("position",new ki(r,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ea);const t=this.attributes.position,r=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new et(-1/0,-1/0,-1/0),new et(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),r)for(let o=0,l=r.length;o<l;o++){const d=r[o];ks.setFromBufferAttribute(d),this.morphTargetsRelative?(Li.addVectors(this.boundingBox.min,ks.min),this.boundingBox.expandByPoint(Li),Li.addVectors(this.boundingBox.max,ks.max),this.boundingBox.expandByPoint(Li)):(this.boundingBox.expandByPoint(ks.min),this.boundingBox.expandByPoint(ks.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new xu);const t=this.attributes.position,r=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new et,1/0);return}if(t){const o=this.boundingSphere.center;if(ks.setFromBufferAttribute(t),r)for(let d=0,g=r.length;d<g;d++){const v=r[d];lf.setFromBufferAttribute(v),this.morphTargetsRelative?(Li.addVectors(ks.min,lf.min),ks.expandByPoint(Li),Li.addVectors(ks.max,lf.max),ks.expandByPoint(Li)):(ks.expandByPoint(lf.min),ks.expandByPoint(lf.max))}ks.getCenter(o);let l=0;for(let d=0,g=t.count;d<g;d++)Li.fromBufferAttribute(t,d),l=Math.max(l,o.distanceToSquared(Li));if(r)for(let d=0,g=r.length;d<g;d++){const v=r[d],A=this.morphTargetsRelative;for(let E=0,R=v.count;E<R;E++)Li.fromBufferAttribute(v,E),A&&(Du.fromBufferAttribute(t,E),Li.add(Du)),l=Math.max(l,o.distanceToSquared(Li))}this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,r=this.attributes;if(t===null||r.position===void 0||r.normal===void 0||r.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const o=t.array,l=r.position.array,d=r.normal.array,g=r.uv.array,v=l.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ri(new Float32Array(4*v),4));const A=this.getAttribute("tangent").array,E=[],R=[];for(let we=0;we<v;we++)E[we]=new et,R[we]=new et;const I=new et,P=new et,B=new et,V=new Fn,O=new Fn,k=new Fn,H=new et,W=new et;function J(we,Fe,tt){I.fromArray(l,we*3),P.fromArray(l,Fe*3),B.fromArray(l,tt*3),V.fromArray(g,we*2),O.fromArray(g,Fe*2),k.fromArray(g,tt*2),P.sub(I),B.sub(I),O.sub(V),k.sub(V);const Pe=1/(O.x*k.y-k.x*O.y);!isFinite(Pe)||(H.copy(P).multiplyScalar(k.y).addScaledVector(B,-O.y).multiplyScalar(Pe),W.copy(B).multiplyScalar(O.x).addScaledVector(P,-k.x).multiplyScalar(Pe),E[we].add(H),E[Fe].add(H),E[tt].add(H),R[we].add(W),R[Fe].add(W),R[tt].add(W))}let te=this.groups;te.length===0&&(te=[{start:0,count:o.length}]);for(let we=0,Fe=te.length;we<Fe;++we){const tt=te[we],Pe=tt.start,Oe=tt.count;for(let st=Pe,ht=Pe+Oe;st<ht;st+=3)J(o[st+0],o[st+1],o[st+2])}const j=new et,ne=new et,Ae=new et,q=new et;function ge(we){Ae.fromArray(d,we*3),q.copy(Ae);const Fe=E[we];j.copy(Fe),j.sub(Ae.multiplyScalar(Ae.dot(Fe))).normalize(),ne.crossVectors(q,Fe);const Pe=ne.dot(R[we])<0?-1:1;A[we*4]=j.x,A[we*4+1]=j.y,A[we*4+2]=j.z,A[we*4+3]=Pe}for(let we=0,Fe=te.length;we<Fe;++we){const tt=te[we],Pe=tt.start,Oe=tt.count;for(let st=Pe,ht=Pe+Oe;st<ht;st+=3)ge(o[st+0]),ge(o[st+1]),ge(o[st+2])}}computeVertexNormals(){const t=this.index,r=this.getAttribute("position");if(r!==void 0){let o=this.getAttribute("normal");if(o===void 0)o=new ri(new Float32Array(r.count*3),3),this.setAttribute("normal",o);else for(let P=0,B=o.count;P<B;P++)o.setXYZ(P,0,0,0);const l=new et,d=new et,g=new et,v=new et,A=new et,E=new et,R=new et,I=new et;if(t)for(let P=0,B=t.count;P<B;P+=3){const V=t.getX(P+0),O=t.getX(P+1),k=t.getX(P+2);l.fromBufferAttribute(r,V),d.fromBufferAttribute(r,O),g.fromBufferAttribute(r,k),R.subVectors(g,d),I.subVectors(l,d),R.cross(I),v.fromBufferAttribute(o,V),A.fromBufferAttribute(o,O),E.fromBufferAttribute(o,k),v.add(R),A.add(R),E.add(R),o.setXYZ(V,v.x,v.y,v.z),o.setXYZ(O,A.x,A.y,A.z),o.setXYZ(k,E.x,E.y,E.z)}else for(let P=0,B=r.count;P<B;P+=3)l.fromBufferAttribute(r,P+0),d.fromBufferAttribute(r,P+1),g.fromBufferAttribute(r,P+2),R.subVectors(g,d),I.subVectors(l,d),R.cross(I),o.setXYZ(P+0,R.x,R.y,R.z),o.setXYZ(P+1,R.x,R.y,R.z),o.setXYZ(P+2,R.x,R.y,R.z);this.normalizeNormals(),o.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const t=this.attributes.normal;for(let r=0,o=t.count;r<o;r++)Li.fromBufferAttribute(t,r),Li.normalize(),t.setXYZ(r,Li.x,Li.y,Li.z)}toNonIndexed(){function t(v,A){const E=v.array,R=v.itemSize,I=v.normalized,P=new E.constructor(A.length*R);let B=0,V=0;for(let O=0,k=A.length;O<k;O++){v.isInterleavedBufferAttribute?B=A[O]*v.data.stride+v.offset:B=A[O]*R;for(let H=0;H<R;H++)P[V++]=E[B++]}return new ri(P,R,I)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const r=new Oi,o=this.index.array,l=this.attributes;for(const v in l){const A=l[v],E=t(A,o);r.setAttribute(v,E)}const d=this.morphAttributes;for(const v in d){const A=[],E=d[v];for(let R=0,I=E.length;R<I;R++){const P=E[R],B=t(P,o);A.push(B)}r.morphAttributes[v]=A}r.morphTargetsRelative=this.morphTargetsRelative;const g=this.groups;for(let v=0,A=g.length;v<A;v++){const E=g[v];r.addGroup(E.start,E.count,E.materialIndex)}return r}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const A=this.parameters;for(const E in A)A[E]!==void 0&&(t[E]=A[E]);return t}t.data={attributes:{}};const r=this.index;r!==null&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});const o=this.attributes;for(const A in o){const E=o[A];t.data.attributes[A]=E.toJSON(t.data)}const l={};let d=!1;for(const A in this.morphAttributes){const E=this.morphAttributes[A],R=[];for(let I=0,P=E.length;I<P;I++){const B=E[I];R.push(B.toJSON(t.data))}R.length>0&&(l[A]=R,d=!0)}d&&(t.data.morphAttributes=l,t.data.morphTargetsRelative=this.morphTargetsRelative);const g=this.groups;g.length>0&&(t.data.groups=JSON.parse(JSON.stringify(g)));const v=this.boundingSphere;return v!==null&&(t.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const r={};this.name=t.name;const o=t.index;o!==null&&this.setIndex(o.clone(r));const l=t.attributes;for(const E in l){const R=l[E];this.setAttribute(E,R.clone(r))}const d=t.morphAttributes;for(const E in d){const R=[],I=d[E];for(let P=0,B=I.length;P<B;P++)R.push(I[P].clone(r));this.morphAttributes[E]=R}this.morphTargetsRelative=t.morphTargetsRelative;const g=t.groups;for(let E=0,R=g.length;E<R;E++){const I=g[E];this.addGroup(I.start,I.count,I.materialIndex)}const v=t.boundingBox;v!==null&&(this.boundingBox=v.clone());const A=t.boundingSphere;return A!==null&&(this.boundingSphere=A.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,t.parameters!==void 0&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const pS=new br,Bu=new Ip,s_=new xu,ml=new et,gl=new et,vl=new et,o_=new et,a_=new et,l_=new et,Tp=new et,Pp=new et,Np=new et,Dp=new Fn,Bp=new Fn,kp=new Fn,c_=new et,Lp=new et;class Fi extends _i{constructor(t=new Oi,r=new na){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=r,this.updateMorphTargets()}copy(t,r){return super.copy(t,r),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const r=this.geometry.morphAttributes,o=Object.keys(r);if(o.length>0){const l=r[o[0]];if(l!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let d=0,g=l.length;d<g;d++){const v=l[d].name||String(d);this.morphTargetInfluences.push(0),this.morphTargetDictionary[v]=d}}}}raycast(t,r){const o=this.geometry,l=this.material,d=this.matrixWorld;if(l===void 0||(o.boundingSphere===null&&o.computeBoundingSphere(),s_.copy(o.boundingSphere),s_.applyMatrix4(d),t.ray.intersectsSphere(s_)===!1)||(pS.copy(d).invert(),Bu.copy(t.ray).applyMatrix4(pS),o.boundingBox!==null&&Bu.intersectsBox(o.boundingBox)===!1))return;let g;const v=o.index,A=o.attributes.position,E=o.morphAttributes.position,R=o.morphTargetsRelative,I=o.attributes.uv,P=o.attributes.uv2,B=o.groups,V=o.drawRange;if(v!==null)if(Array.isArray(l))for(let O=0,k=B.length;O<k;O++){const H=B[O],W=l[H.materialIndex],J=Math.max(H.start,V.start),te=Math.min(v.count,Math.min(H.start+H.count,V.start+V.count));for(let j=J,ne=te;j<ne;j+=3){const Ae=v.getX(j),q=v.getX(j+1),ge=v.getX(j+2);g=Op(this,W,t,Bu,A,E,R,I,P,Ae,q,ge),g&&(g.faceIndex=Math.floor(j/3),g.face.materialIndex=H.materialIndex,r.push(g))}}else{const O=Math.max(0,V.start),k=Math.min(v.count,V.start+V.count);for(let H=O,W=k;H<W;H+=3){const J=v.getX(H),te=v.getX(H+1),j=v.getX(H+2);g=Op(this,l,t,Bu,A,E,R,I,P,J,te,j),g&&(g.faceIndex=Math.floor(H/3),r.push(g))}}else if(A!==void 0)if(Array.isArray(l))for(let O=0,k=B.length;O<k;O++){const H=B[O],W=l[H.materialIndex],J=Math.max(H.start,V.start),te=Math.min(A.count,Math.min(H.start+H.count,V.start+V.count));for(let j=J,ne=te;j<ne;j+=3){const Ae=j,q=j+1,ge=j+2;g=Op(this,W,t,Bu,A,E,R,I,P,Ae,q,ge),g&&(g.faceIndex=Math.floor(j/3),g.face.materialIndex=H.materialIndex,r.push(g))}}else{const O=Math.max(0,V.start),k=Math.min(A.count,V.start+V.count);for(let H=O,W=k;H<W;H+=3){const J=H,te=H+1,j=H+2;g=Op(this,l,t,Bu,A,E,R,I,P,J,te,j),g&&(g.faceIndex=Math.floor(H/3),r.push(g))}}}}function wB(m,t,r,o,l,d,g,v){let A;if(t.side===U?A=o.intersectTriangle(g,d,l,!0,v):A=o.intersectTriangle(l,d,g,t.side!==$,v),A===null)return null;Lp.copy(v),Lp.applyMatrix4(m.matrixWorld);const E=r.ray.origin.distanceTo(Lp);return E<r.near||E>r.far?null:{distance:E,point:Lp.clone(),object:m}}function Op(m,t,r,o,l,d,g,v,A,E,R,I){ml.fromBufferAttribute(l,E),gl.fromBufferAttribute(l,R),vl.fromBufferAttribute(l,I);const P=m.morphTargetInfluences;if(d&&P){Tp.set(0,0,0),Pp.set(0,0,0),Np.set(0,0,0);for(let V=0,O=d.length;V<O;V++){const k=P[V],H=d[V];k!==0&&(o_.fromBufferAttribute(H,E),a_.fromBufferAttribute(H,R),l_.fromBufferAttribute(H,I),g?(Tp.addScaledVector(o_,k),Pp.addScaledVector(a_,k),Np.addScaledVector(l_,k)):(Tp.addScaledVector(o_.sub(ml),k),Pp.addScaledVector(a_.sub(gl),k),Np.addScaledVector(l_.sub(vl),k)))}ml.add(Tp),gl.add(Pp),vl.add(Np)}m.isSkinnedMesh&&(m.boneTransform(E,ml),m.boneTransform(R,gl),m.boneTransform(I,vl));const B=wB(m,t,r,o,ml,gl,vl,c_);if(B){v&&(Dp.fromBufferAttribute(v,E),Bp.fromBufferAttribute(v,R),kp.fromBufferAttribute(v,I),B.uv=ta.getUV(c_,ml,gl,vl,Dp,Bp,kp,new Fn)),A&&(Dp.fromBufferAttribute(A,E),Bp.fromBufferAttribute(A,R),kp.fromBufferAttribute(A,I),B.uv2=ta.getUV(c_,ml,gl,vl,Dp,Bp,kp,new Fn));const V={a:E,b:R,c:I,normal:new et,materialIndex:0};ta.getNormal(ml,gl,vl,V.normal),B.face=V}return B}class vc extends Oi{constructor(t=1,r=1,o=1,l=1,d=1,g=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:r,depth:o,widthSegments:l,heightSegments:d,depthSegments:g};const v=this;l=Math.floor(l),d=Math.floor(d),g=Math.floor(g);const A=[],E=[],R=[],I=[];let P=0,B=0;V("z","y","x",-1,-1,o,r,t,g,d,0),V("z","y","x",1,-1,o,r,-t,g,d,1),V("x","z","y",1,1,t,o,r,l,g,2),V("x","z","y",1,-1,t,o,-r,l,g,3),V("x","y","z",1,-1,t,r,o,l,d,4),V("x","y","z",-1,-1,t,r,-o,l,d,5),this.setIndex(A),this.setAttribute("position",new ki(E,3)),this.setAttribute("normal",new ki(R,3)),this.setAttribute("uv",new ki(I,2));function V(O,k,H,W,J,te,j,ne,Ae,q,ge){const we=te/Ae,Fe=j/q,tt=te/2,Pe=j/2,Oe=ne/2,st=Ae+1,ht=q+1;let dt=0,Le=0;const Ze=new et;for(let lt=0;lt<ht;lt++){const Ut=lt*Fe-Pe;for(let Vt=0;Vt<st;Vt++){const Wt=Vt*we-tt;Ze[O]=Wt*W,Ze[k]=Ut*J,Ze[H]=Oe,E.push(Ze.x,Ze.y,Ze.z),Ze[O]=0,Ze[k]=0,Ze[H]=ne>0?1:-1,R.push(Ze.x,Ze.y,Ze.z),I.push(Vt/Ae),I.push(1-lt/q),dt+=1}}for(let lt=0;lt<q;lt++)for(let Ut=0;Ut<Ae;Ut++){const Vt=P+Ut+st*lt,Wt=P+Ut+st*(lt+1),c=P+(Ut+1)+st*(lt+1),Ln=P+(Ut+1)+st*lt;A.push(Vt,Wt,Ln),A.push(Wt,c,Ln),Le+=6}v.addGroup(B,Le,ge),B+=Le,P+=dt}}static fromJSON(t){return new vc(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function ku(m){const t={};for(const r in m){t[r]={};for(const o in m[r]){const l=m[r][o];l&&(l.isColor||l.isMatrix3||l.isMatrix4||l.isVector2||l.isVector3||l.isVector4||l.isTexture||l.isQuaternion)?t[r][o]=l.clone():Array.isArray(l)?t[r][o]=l.slice():t[r][o]=l}}return t}function is(m){const t={};for(let r=0;r<m.length;r++){const o=ku(m[r]);for(const l in o)t[l]=o[l]}return t}function CB(m){const t=[];for(let r=0;r<m.length;r++)t.push(m[r].clone());return t}const mS={clone:ku,merge:is};var IB=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,MB=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Mo extends Zs{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=IB,this.fragmentShader=MB,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=ku(t.uniforms),this.uniformsGroups=CB(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const r=super.toJSON(t);r.glslVersion=this.glslVersion,r.uniforms={};for(const l in this.uniforms){const g=this.uniforms[l].value;g&&g.isTexture?r.uniforms[l]={type:"t",value:g.toJSON(t).uuid}:g&&g.isColor?r.uniforms[l]={type:"c",value:g.getHex()}:g&&g.isVector2?r.uniforms[l]={type:"v2",value:g.toArray()}:g&&g.isVector3?r.uniforms[l]={type:"v3",value:g.toArray()}:g&&g.isVector4?r.uniforms[l]={type:"v4",value:g.toArray()}:g&&g.isMatrix3?r.uniforms[l]={type:"m3",value:g.toArray()}:g&&g.isMatrix4?r.uniforms[l]={type:"m4",value:g.toArray()}:r.uniforms[l]={value:g}}Object.keys(this.defines).length>0&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader;const o={};for(const l in this.extensions)this.extensions[l]===!0&&(o[l]=!0);return Object.keys(o).length>0&&(r.extensions=o),r}}class gS extends _i{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new br,this.projectionMatrix=new br,this.projectionMatrixInverse=new br}copy(t,r){return super.copy(t,r),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(-r[8],-r[9],-r[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,r){super.updateWorldMatrix(t,r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Yi extends gS{constructor(t=50,r=1,o=.1,l=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=o,this.far=l,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,r){return super.copy(t,r),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const r=.5*this.getFilmHeight()/t;this.fov=tf*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(ef*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return tf*2*Math.atan(Math.tan(ef*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,r,o,l,d,g){this.aspect=t/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=r,this.view.offsetX=o,this.view.offsetY=l,this.view.width=d,this.view.height=g,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let r=t*Math.tan(ef*.5*this.fov)/this.zoom,o=2*r,l=this.aspect*o,d=-.5*l;const g=this.view;if(this.view!==null&&this.view.enabled){const A=g.fullWidth,E=g.fullHeight;d+=g.offsetX*l/A,r-=g.offsetY*o/E,l*=g.width/A,o*=g.height/E}const v=this.filmOffset;v!==0&&(d+=t*v/this.getFilmWidth()),this.projectionMatrix.makePerspective(d,d+l,r,r-o,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const r=super.toJSON(t);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}}const Lu=90,Ou=1;class xB extends _i{constructor(t,r,o){super(),this.type="CubeCamera",this.renderTarget=o;const l=new Yi(Lu,Ou,t,r);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new et(1,0,0)),this.add(l);const d=new Yi(Lu,Ou,t,r);d.layers=this.layers,d.up.set(0,-1,0),d.lookAt(new et(-1,0,0)),this.add(d);const g=new Yi(Lu,Ou,t,r);g.layers=this.layers,g.up.set(0,0,1),g.lookAt(new et(0,1,0)),this.add(g);const v=new Yi(Lu,Ou,t,r);v.layers=this.layers,v.up.set(0,0,-1),v.lookAt(new et(0,-1,0)),this.add(v);const A=new Yi(Lu,Ou,t,r);A.layers=this.layers,A.up.set(0,-1,0),A.lookAt(new et(0,0,1)),this.add(A);const E=new Yi(Lu,Ou,t,r);E.layers=this.layers,E.up.set(0,-1,0),E.lookAt(new et(0,0,-1)),this.add(E)}update(t,r){this.parent===null&&this.updateMatrixWorld();const o=this.renderTarget,[l,d,g,v,A,E]=this.children,R=t.getRenderTarget(),I=t.toneMapping,P=t.xr.enabled;t.toneMapping=xe,t.xr.enabled=!1;const B=o.texture.generateMipmaps;o.texture.generateMipmaps=!1,t.setRenderTarget(o,0),t.render(r,l),t.setRenderTarget(o,1),t.render(r,d),t.setRenderTarget(o,2),t.render(r,g),t.setRenderTarget(o,3),t.render(r,v),t.setRenderTarget(o,4),t.render(r,A),o.texture.generateMipmaps=B,t.setRenderTarget(o,5),t.render(r,E),t.setRenderTarget(R),t.toneMapping=I,t.xr.enabled=P,o.texture.needsPMREMUpdate=!0}}class vS extends Bi{constructor(t,r,o,l,d,g,v,A,E,R){t=t!==void 0?t:[],r=r!==void 0?r:Gn,super(t,r,o,l,d,g,v,A,E,R),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class RB extends hc{constructor(t,r={}){super(t,t,r),this.isWebGLCubeRenderTarget=!0;const o={width:t,height:t,depth:1},l=[o,o,o,o,o,o];this.texture=new vS(l,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:pr}fromEquirectangularTexture(t,r){this.texture.type=r.type,this.texture.encoding=r.encoding,this.texture.generateMipmaps=r.generateMipmaps,this.texture.minFilter=r.minFilter,this.texture.magFilter=r.magFilter;const o={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},l=new vc(5,5,5),d=new Mo({name:"CubemapFromEquirect",uniforms:ku(o.uniforms),vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,side:U,blending:de});d.uniforms.tEquirect.value=r;const g=new Fi(l,d),v=r.minFilter;return r.minFilter===zn&&(r.minFilter=pr),new xB(1,10,this).update(t,g),r.minFilter=v,g.geometry.dispose(),g.material.dispose(),this}clear(t,r,o,l){const d=t.getRenderTarget();for(let g=0;g<6;g++)t.setRenderTarget(this,g),t.clear(r,o,l);t.setRenderTarget(d)}}const u_=new et,TB=new et,PB=new Ns;class _c{constructor(t=new et(1,0,0),r=0){this.isPlane=!0,this.normal=t,this.constant=r}set(t,r){return this.normal.copy(t),this.constant=r,this}setComponents(t,r,o,l){return this.normal.set(t,r,o),this.constant=l,this}setFromNormalAndCoplanarPoint(t,r){return this.normal.copy(t),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(t,r,o){const l=u_.subVectors(o,r).cross(TB.subVectors(t,r)).normalize();return this.setFromNormalAndCoplanarPoint(l,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,r){return r.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,r){const o=t.delta(u_),l=this.normal.dot(o);if(l===0)return this.distanceToPoint(t.start)===0?r.copy(t.start):null;const d=-(t.start.dot(this.normal)+this.constant)/l;return d<0||d>1?null:r.copy(o).multiplyScalar(d).add(t.start)}intersectsLine(t){const r=this.distanceToPoint(t.start),o=this.distanceToPoint(t.end);return r<0&&o>0||o<0&&r>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,r){const o=r||PB.getNormalMatrix(t),l=this.coplanarPoint(u_).applyMatrix4(t),d=this.normal.applyMatrix3(o).normalize();return this.constant=-l.dot(d),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Fu=new xu,Fp=new et;class d_{constructor(t=new _c,r=new _c,o=new _c,l=new _c,d=new _c,g=new _c){this.planes=[t,r,o,l,d,g]}set(t,r,o,l,d,g){const v=this.planes;return v[0].copy(t),v[1].copy(r),v[2].copy(o),v[3].copy(l),v[4].copy(d),v[5].copy(g),this}copy(t){const r=this.planes;for(let o=0;o<6;o++)r[o].copy(t.planes[o]);return this}setFromProjectionMatrix(t){const r=this.planes,o=t.elements,l=o[0],d=o[1],g=o[2],v=o[3],A=o[4],E=o[5],R=o[6],I=o[7],P=o[8],B=o[9],V=o[10],O=o[11],k=o[12],H=o[13],W=o[14],J=o[15];return r[0].setComponents(v-l,I-A,O-P,J-k).normalize(),r[1].setComponents(v+l,I+A,O+P,J+k).normalize(),r[2].setComponents(v+d,I+E,O+B,J+H).normalize(),r[3].setComponents(v-d,I-E,O-B,J-H).normalize(),r[4].setComponents(v-g,I-R,O-V,J-W).normalize(),r[5].setComponents(v+g,I+R,O+V,J+W).normalize(),this}intersectsObject(t){const r=t.geometry;return r.boundingSphere===null&&r.computeBoundingSphere(),Fu.copy(r.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Fu)}intersectsSprite(t){return Fu.center.set(0,0,0),Fu.radius=.7071067811865476,Fu.applyMatrix4(t.matrixWorld),this.intersectsSphere(Fu)}intersectsSphere(t){const r=this.planes,o=t.center,l=-t.radius;for(let d=0;d<6;d++)if(r[d].distanceToPoint(o)<l)return!1;return!0}intersectsBox(t){const r=this.planes;for(let o=0;o<6;o++){const l=r[o];if(Fp.x=l.normal.x>0?t.max.x:t.min.x,Fp.y=l.normal.y>0?t.max.y:t.min.y,Fp.z=l.normal.z>0?t.max.z:t.min.z,l.distanceToPoint(Fp)<0)return!1}return!0}containsPoint(t){const r=this.planes;for(let o=0;o<6;o++)if(r[o].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function _S(){let m=null,t=!1,r=null,o=null;function l(d,g){r(d,g),o=m.requestAnimationFrame(l)}return{start:function(){t!==!0&&r!==null&&(o=m.requestAnimationFrame(l),t=!0)},stop:function(){m.cancelAnimationFrame(o),t=!1},setAnimationLoop:function(d){r=d},setContext:function(d){m=d}}}function NB(m,t){const r=t.isWebGL2,o=new WeakMap;function l(E,R){const I=E.array,P=E.usage,B=m.createBuffer();m.bindBuffer(R,B),m.bufferData(R,I,P),E.onUploadCallback();let V;if(I instanceof Float32Array)V=5126;else if(I instanceof Uint16Array)if(E.isFloat16BufferAttribute)if(r)V=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else V=5123;else if(I instanceof Int16Array)V=5122;else if(I instanceof Uint32Array)V=5125;else if(I instanceof Int32Array)V=5124;else if(I instanceof Int8Array)V=5120;else if(I instanceof Uint8Array)V=5121;else if(I instanceof Uint8ClampedArray)V=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+I);return{buffer:B,type:V,bytesPerElement:I.BYTES_PER_ELEMENT,version:E.version}}function d(E,R,I){const P=R.array,B=R.updateRange;m.bindBuffer(I,E),B.count===-1?m.bufferSubData(I,0,P):(r?m.bufferSubData(I,B.offset*P.BYTES_PER_ELEMENT,P,B.offset,B.count):m.bufferSubData(I,B.offset*P.BYTES_PER_ELEMENT,P.subarray(B.offset,B.offset+B.count)),B.count=-1)}function g(E){return E.isInterleavedBufferAttribute&&(E=E.data),o.get(E)}function v(E){E.isInterleavedBufferAttribute&&(E=E.data);const R=o.get(E);R&&(m.deleteBuffer(R.buffer),o.delete(E))}function A(E,R){if(E.isGLBufferAttribute){const P=o.get(E);(!P||P.version<E.version)&&o.set(E,{buffer:E.buffer,type:E.type,bytesPerElement:E.elementSize,version:E.version});return}E.isInterleavedBufferAttribute&&(E=E.data);const I=o.get(E);I===void 0?o.set(E,l(E,R)):I.version<E.version&&(d(I.buffer,E,R),I.version=E.version)}return{get:g,remove:v,update:A}}class Ac extends Oi{constructor(t=1,r=1,o=1,l=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:r,widthSegments:o,heightSegments:l};const d=t/2,g=r/2,v=Math.floor(o),A=Math.floor(l),E=v+1,R=A+1,I=t/v,P=r/A,B=[],V=[],O=[],k=[];for(let H=0;H<R;H++){const W=H*P-g;for(let J=0;J<E;J++){const te=J*I-d;V.push(te,-W,0),O.push(0,0,1),k.push(J/v),k.push(1-H/A)}}for(let H=0;H<A;H++)for(let W=0;W<v;W++){const J=W+E*H,te=W+E*(H+1),j=W+1+E*(H+1),ne=W+1+E*H;B.push(J,te,ne),B.push(te,j,ne)}this.setIndex(B),this.setAttribute("position",new ki(V,3)),this.setAttribute("normal",new ki(O,3)),this.setAttribute("uv",new ki(k,2))}static fromJSON(t){return new Ac(t.width,t.height,t.widthSegments,t.heightSegments)}}var DB=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,BB=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,kB=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,LB=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,OB=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,FB=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,VB="vec3 transformed = vec3( position );",GB=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,UB=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,HB=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,QB=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,XB=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,zB=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,$B=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,WB=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,KB=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,jB=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,qB=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,YB=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,JB=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,ZB=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,e6=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,t6=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,n6=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,r6=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,i6=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,s6="gl_FragColor = linearToOutputTexel( gl_FragColor );",o6=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,a6=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,l6=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,c6=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,u6=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,d6=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,f6=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,h6=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,p6=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,m6=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,g6=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,v6=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,_6=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,A6=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,y6=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,b6=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,S6=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,E6=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,w6=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,C6=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,I6=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,M6=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,x6=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,R6=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,T6=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,P6=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,N6=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,D6=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,B6=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,k6=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,L6=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,O6=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,F6=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,V6=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,G6=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,U6=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,H6=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Q6=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,X6=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,z6=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,$6=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,W6=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,K6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,j6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,q6=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Y6=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,J6=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Z6=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,e3=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,t3=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,n3=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,r3=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,i3=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,s3=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,o3=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,a3=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,l3=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,c3=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,u3=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,d3=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,f3=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,h3=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,p3=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,m3=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,g3=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,v3=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,_3=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,A3=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,y3=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,b3=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,S3=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,E3=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,w3=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,C3=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,I3=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,M3=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,x3=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,R3=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,T3=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Dr={alphamap_fragment:DB,alphamap_pars_fragment:BB,alphatest_fragment:kB,alphatest_pars_fragment:LB,aomap_fragment:OB,aomap_pars_fragment:FB,begin_vertex:VB,beginnormal_vertex:GB,bsdfs:UB,iridescence_fragment:HB,bumpmap_pars_fragment:QB,clipping_planes_fragment:XB,clipping_planes_pars_fragment:zB,clipping_planes_pars_vertex:$B,clipping_planes_vertex:WB,color_fragment:KB,color_pars_fragment:jB,color_pars_vertex:qB,color_vertex:YB,common:JB,cube_uv_reflection_fragment:ZB,defaultnormal_vertex:e6,displacementmap_pars_vertex:t6,displacementmap_vertex:n6,emissivemap_fragment:r6,emissivemap_pars_fragment:i6,encodings_fragment:s6,encodings_pars_fragment:o6,envmap_fragment:a6,envmap_common_pars_fragment:l6,envmap_pars_fragment:c6,envmap_pars_vertex:u6,envmap_physical_pars_fragment:S6,envmap_vertex:d6,fog_vertex:f6,fog_pars_vertex:h6,fog_fragment:p6,fog_pars_fragment:m6,gradientmap_pars_fragment:g6,lightmap_fragment:v6,lightmap_pars_fragment:_6,lights_lambert_fragment:A6,lights_lambert_pars_fragment:y6,lights_pars_begin:b6,lights_toon_fragment:E6,lights_toon_pars_fragment:w6,lights_phong_fragment:C6,lights_phong_pars_fragment:I6,lights_physical_fragment:M6,lights_physical_pars_fragment:x6,lights_fragment_begin:R6,lights_fragment_maps:T6,lights_fragment_end:P6,logdepthbuf_fragment:N6,logdepthbuf_pars_fragment:D6,logdepthbuf_pars_vertex:B6,logdepthbuf_vertex:k6,map_fragment:L6,map_pars_fragment:O6,map_particle_fragment:F6,map_particle_pars_fragment:V6,metalnessmap_fragment:G6,metalnessmap_pars_fragment:U6,morphcolor_vertex:H6,morphnormal_vertex:Q6,morphtarget_pars_vertex:X6,morphtarget_vertex:z6,normal_fragment_begin:$6,normal_fragment_maps:W6,normal_pars_fragment:K6,normal_pars_vertex:j6,normal_vertex:q6,normalmap_pars_fragment:Y6,clearcoat_normal_fragment_begin:J6,clearcoat_normal_fragment_maps:Z6,clearcoat_pars_fragment:e3,iridescence_pars_fragment:t3,output_fragment:n3,packing:r3,premultiplied_alpha_fragment:i3,project_vertex:s3,dithering_fragment:o3,dithering_pars_fragment:a3,roughnessmap_fragment:l3,roughnessmap_pars_fragment:c3,shadowmap_pars_fragment:u3,shadowmap_pars_vertex:d3,shadowmap_vertex:f3,shadowmask_pars_fragment:h3,skinbase_vertex:p3,skinning_pars_vertex:m3,skinning_vertex:g3,skinnormal_vertex:v3,specularmap_fragment:_3,specularmap_pars_fragment:A3,tonemapping_fragment:y3,tonemapping_pars_fragment:b3,transmission_fragment:S3,transmission_pars_fragment:E3,uv_pars_fragment:w3,uv_pars_vertex:C3,uv_vertex:I3,uv2_pars_fragment:M3,uv2_pars_vertex:x3,uv2_vertex:R3,worldpos_vertex:T3,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`},Rn={common:{diffuse:{value:new sr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ns},uv2Transform:{value:new Ns},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Fn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new sr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new sr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ns}},sprite:{diffuse:{value:new sr(16777215)},opacity:{value:1},center:{value:new Fn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ns}}},ra={basic:{uniforms:is([Rn.common,Rn.specularmap,Rn.envmap,Rn.aomap,Rn.lightmap,Rn.fog]),vertexShader:Dr.meshbasic_vert,fragmentShader:Dr.meshbasic_frag},lambert:{uniforms:is([Rn.common,Rn.specularmap,Rn.envmap,Rn.aomap,Rn.lightmap,Rn.emissivemap,Rn.bumpmap,Rn.normalmap,Rn.displacementmap,Rn.fog,Rn.lights,{emissive:{value:new sr(0)}}]),vertexShader:Dr.meshlambert_vert,fragmentShader:Dr.meshlambert_frag},phong:{uniforms:is([Rn.common,Rn.specularmap,Rn.envmap,Rn.aomap,Rn.lightmap,Rn.emissivemap,Rn.bumpmap,Rn.normalmap,Rn.displacementmap,Rn.fog,Rn.lights,{emissive:{value:new sr(0)},specular:{value:new sr(1118481)},shininess:{value:30}}]),vertexShader:Dr.meshphong_vert,fragmentShader:Dr.meshphong_frag},standard:{uniforms:is([Rn.common,Rn.envmap,Rn.aomap,Rn.lightmap,Rn.emissivemap,Rn.bumpmap,Rn.normalmap,Rn.displacementmap,Rn.roughnessmap,Rn.metalnessmap,Rn.fog,Rn.lights,{emissive:{value:new sr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Dr.meshphysical_vert,fragmentShader:Dr.meshphysical_frag},toon:{uniforms:is([Rn.common,Rn.aomap,Rn.lightmap,Rn.emissivemap,Rn.bumpmap,Rn.normalmap,Rn.displacementmap,Rn.gradientmap,Rn.fog,Rn.lights,{emissive:{value:new sr(0)}}]),vertexShader:Dr.meshtoon_vert,fragmentShader:Dr.meshtoon_frag},matcap:{uniforms:is([Rn.common,Rn.bumpmap,Rn.normalmap,Rn.displacementmap,Rn.fog,{matcap:{value:null}}]),vertexShader:Dr.meshmatcap_vert,fragmentShader:Dr.meshmatcap_frag},points:{uniforms:is([Rn.points,Rn.fog]),vertexShader:Dr.points_vert,fragmentShader:Dr.points_frag},dashed:{uniforms:is([Rn.common,Rn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Dr.linedashed_vert,fragmentShader:Dr.linedashed_frag},depth:{uniforms:is([Rn.common,Rn.displacementmap]),vertexShader:Dr.depth_vert,fragmentShader:Dr.depth_frag},normal:{uniforms:is([Rn.common,Rn.bumpmap,Rn.normalmap,Rn.displacementmap,{opacity:{value:1}}]),vertexShader:Dr.meshnormal_vert,fragmentShader:Dr.meshnormal_frag},sprite:{uniforms:is([Rn.sprite,Rn.fog]),vertexShader:Dr.sprite_vert,fragmentShader:Dr.sprite_frag},background:{uniforms:{uvTransform:{value:new Ns},t2D:{value:null}},vertexShader:Dr.background_vert,fragmentShader:Dr.background_frag},cube:{uniforms:is([Rn.envmap,{opacity:{value:1}}]),vertexShader:Dr.cube_vert,fragmentShader:Dr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Dr.equirect_vert,fragmentShader:Dr.equirect_frag},distanceRGBA:{uniforms:is([Rn.common,Rn.displacementmap,{referencePosition:{value:new et},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Dr.distanceRGBA_vert,fragmentShader:Dr.distanceRGBA_frag},shadow:{uniforms:is([Rn.lights,Rn.fog,{color:{value:new sr(0)},opacity:{value:1}}]),vertexShader:Dr.shadow_vert,fragmentShader:Dr.shadow_frag}};ra.physical={uniforms:is([ra.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Fn(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new sr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Fn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new sr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new sr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Dr.meshphysical_vert,fragmentShader:Dr.meshphysical_frag};function P3(m,t,r,o,l,d){const g=new sr(0);let v=l===!0?0:1,A,E,R=null,I=0,P=null;function B(O,k){let H=!1,W=k.isScene===!0?k.background:null;W&&W.isTexture&&(W=t.get(W));const J=m.xr,te=J.getSession&&J.getSession();te&&te.environmentBlendMode==="additive"&&(W=null),W===null?V(g,v):W&&W.isColor&&(V(W,1),H=!0),(m.autoClear||H)&&m.clear(m.autoClearColor,m.autoClearDepth,m.autoClearStencil),W&&(W.isCubeTexture||W.mapping===Bn)?(E===void 0&&(E=new Fi(new vc(1,1,1),new Mo({name:"BackgroundCubeMaterial",uniforms:ku(ra.cube.uniforms),vertexShader:ra.cube.vertexShader,fragmentShader:ra.cube.fragmentShader,side:U,depthTest:!1,depthWrite:!1,fog:!1})),E.geometry.deleteAttribute("normal"),E.geometry.deleteAttribute("uv"),E.onBeforeRender=function(j,ne,Ae){this.matrixWorld.copyPosition(Ae.matrixWorld)},Object.defineProperty(E.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(E)),E.material.uniforms.envMap.value=W,E.material.uniforms.flipEnvMap.value=W.isCubeTexture&&W.isRenderTargetTexture===!1?-1:1,(R!==W||I!==W.version||P!==m.toneMapping)&&(E.material.needsUpdate=!0,R=W,I=W.version,P=m.toneMapping),E.layers.enableAll(),O.unshift(E,E.geometry,E.material,0,0,null)):W&&W.isTexture&&(A===void 0&&(A=new Fi(new Ac(2,2),new Mo({name:"BackgroundMaterial",uniforms:ku(ra.background.uniforms),vertexShader:ra.background.vertexShader,fragmentShader:ra.background.fragmentShader,side:G,depthTest:!1,depthWrite:!1,fog:!1})),A.geometry.deleteAttribute("normal"),Object.defineProperty(A.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(A)),A.material.uniforms.t2D.value=W,W.matrixAutoUpdate===!0&&W.updateMatrix(),A.material.uniforms.uvTransform.value.copy(W.matrix),(R!==W||I!==W.version||P!==m.toneMapping)&&(A.material.needsUpdate=!0,R=W,I=W.version,P=m.toneMapping),A.layers.enableAll(),O.unshift(A,A.geometry,A.material,0,0,null))}function V(O,k){r.buffers.color.setClear(O.r,O.g,O.b,k,d)}return{getClearColor:function(){return g},setClearColor:function(O,k=1){g.set(O),v=k,V(g,v)},getClearAlpha:function(){return v},setClearAlpha:function(O){v=O,V(g,v)},render:B}}function N3(m,t,r,o){const l=m.getParameter(34921),d=o.isWebGL2?null:t.get("OES_vertex_array_object"),g=o.isWebGL2||d!==null,v={},A=k(null);let E=A,R=!1;function I(Oe,st,ht,dt,Le){let Ze=!1;if(g){const lt=O(dt,ht,st);E!==lt&&(E=lt,B(E.object)),Ze=H(Oe,dt,ht,Le),Ze&&W(Oe,dt,ht,Le)}else{const lt=st.wireframe===!0;(E.geometry!==dt.id||E.program!==ht.id||E.wireframe!==lt)&&(E.geometry=dt.id,E.program=ht.id,E.wireframe=lt,Ze=!0)}Le!==null&&r.update(Le,34963),(Ze||R)&&(R=!1,q(Oe,st,ht,dt),Le!==null&&m.bindBuffer(34963,r.get(Le).buffer))}function P(){return o.isWebGL2?m.createVertexArray():d.createVertexArrayOES()}function B(Oe){return o.isWebGL2?m.bindVertexArray(Oe):d.bindVertexArrayOES(Oe)}function V(Oe){return o.isWebGL2?m.deleteVertexArray(Oe):d.deleteVertexArrayOES(Oe)}function O(Oe,st,ht){const dt=ht.wireframe===!0;let Le=v[Oe.id];Le===void 0&&(Le={},v[Oe.id]=Le);let Ze=Le[st.id];Ze===void 0&&(Ze={},Le[st.id]=Ze);let lt=Ze[dt];return lt===void 0&&(lt=k(P()),Ze[dt]=lt),lt}function k(Oe){const st=[],ht=[],dt=[];for(let Le=0;Le<l;Le++)st[Le]=0,ht[Le]=0,dt[Le]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:st,enabledAttributes:ht,attributeDivisors:dt,object:Oe,attributes:{},index:null}}function H(Oe,st,ht,dt){const Le=E.attributes,Ze=st.attributes;let lt=0;const Ut=ht.getAttributes();for(const Vt in Ut)if(Ut[Vt].location>=0){const c=Le[Vt];let Ln=Ze[Vt];if(Ln===void 0&&(Vt==="instanceMatrix"&&Oe.instanceMatrix&&(Ln=Oe.instanceMatrix),Vt==="instanceColor"&&Oe.instanceColor&&(Ln=Oe.instanceColor)),c===void 0||c.attribute!==Ln||Ln&&c.data!==Ln.data)return!0;lt++}return E.attributesNum!==lt||E.index!==dt}function W(Oe,st,ht,dt){const Le={},Ze=st.attributes;let lt=0;const Ut=ht.getAttributes();for(const Vt in Ut)if(Ut[Vt].location>=0){let c=Ze[Vt];c===void 0&&(Vt==="instanceMatrix"&&Oe.instanceMatrix&&(c=Oe.instanceMatrix),Vt==="instanceColor"&&Oe.instanceColor&&(c=Oe.instanceColor));const Ln={};Ln.attribute=c,c&&c.data&&(Ln.data=c.data),Le[Vt]=Ln,lt++}E.attributes=Le,E.attributesNum=lt,E.index=dt}function J(){const Oe=E.newAttributes;for(let st=0,ht=Oe.length;st<ht;st++)Oe[st]=0}function te(Oe){j(Oe,0)}function j(Oe,st){const ht=E.newAttributes,dt=E.enabledAttributes,Le=E.attributeDivisors;ht[Oe]=1,dt[Oe]===0&&(m.enableVertexAttribArray(Oe),dt[Oe]=1),Le[Oe]!==st&&((o.isWebGL2?m:t.get("ANGLE_instanced_arrays"))[o.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Oe,st),Le[Oe]=st)}function ne(){const Oe=E.newAttributes,st=E.enabledAttributes;for(let ht=0,dt=st.length;ht<dt;ht++)st[ht]!==Oe[ht]&&(m.disableVertexAttribArray(ht),st[ht]=0)}function Ae(Oe,st,ht,dt,Le,Ze){o.isWebGL2===!0&&(ht===5124||ht===5125)?m.vertexAttribIPointer(Oe,st,ht,Le,Ze):m.vertexAttribPointer(Oe,st,ht,dt,Le,Ze)}function q(Oe,st,ht,dt){if(o.isWebGL2===!1&&(Oe.isInstancedMesh||dt.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;J();const Le=dt.attributes,Ze=ht.getAttributes(),lt=st.defaultAttributeValues;for(const Ut in Ze){const Vt=Ze[Ut];if(Vt.location>=0){let Wt=Le[Ut];if(Wt===void 0&&(Ut==="instanceMatrix"&&Oe.instanceMatrix&&(Wt=Oe.instanceMatrix),Ut==="instanceColor"&&Oe.instanceColor&&(Wt=Oe.instanceColor)),Wt!==void 0){const c=Wt.normalized,Ln=Wt.itemSize,ut=r.get(Wt);if(ut===void 0)continue;const We=ut.buffer,Nt=ut.type,jt=ut.bytesPerElement;if(Wt.isInterleavedBufferAttribute){const $t=Wt.data,Sn=$t.stride,Pn=Wt.offset;if($t.isInstancedInterleavedBuffer){for(let Un=0;Un<Vt.locationSize;Un++)j(Vt.location+Un,$t.meshPerAttribute);Oe.isInstancedMesh!==!0&&dt._maxInstanceCount===void 0&&(dt._maxInstanceCount=$t.meshPerAttribute*$t.count)}else for(let Un=0;Un<Vt.locationSize;Un++)te(Vt.location+Un);m.bindBuffer(34962,We);for(let Un=0;Un<Vt.locationSize;Un++)Ae(Vt.location+Un,Ln/Vt.locationSize,Nt,c,Sn*jt,(Pn+Ln/Vt.locationSize*Un)*jt)}else{if(Wt.isInstancedBufferAttribute){for(let $t=0;$t<Vt.locationSize;$t++)j(Vt.location+$t,Wt.meshPerAttribute);Oe.isInstancedMesh!==!0&&dt._maxInstanceCount===void 0&&(dt._maxInstanceCount=Wt.meshPerAttribute*Wt.count)}else for(let $t=0;$t<Vt.locationSize;$t++)te(Vt.location+$t);m.bindBuffer(34962,We);for(let $t=0;$t<Vt.locationSize;$t++)Ae(Vt.location+$t,Ln/Vt.locationSize,Nt,c,Ln*jt,Ln/Vt.locationSize*$t*jt)}}else if(lt!==void 0){const c=lt[Ut];if(c!==void 0)switch(c.length){case 2:m.vertexAttrib2fv(Vt.location,c);break;case 3:m.vertexAttrib3fv(Vt.location,c);break;case 4:m.vertexAttrib4fv(Vt.location,c);break;default:m.vertexAttrib1fv(Vt.location,c)}}}}ne()}function ge(){tt();for(const Oe in v){const st=v[Oe];for(const ht in st){const dt=st[ht];for(const Le in dt)V(dt[Le].object),delete dt[Le];delete st[ht]}delete v[Oe]}}function we(Oe){if(v[Oe.id]===void 0)return;const st=v[Oe.id];for(const ht in st){const dt=st[ht];for(const Le in dt)V(dt[Le].object),delete dt[Le];delete st[ht]}delete v[Oe.id]}function Fe(Oe){for(const st in v){const ht=v[st];if(ht[Oe.id]===void 0)continue;const dt=ht[Oe.id];for(const Le in dt)V(dt[Le].object),delete dt[Le];delete ht[Oe.id]}}function tt(){Pe(),R=!0,E!==A&&(E=A,B(E.object))}function Pe(){A.geometry=null,A.program=null,A.wireframe=!1}return{setup:I,reset:tt,resetDefaultState:Pe,dispose:ge,releaseStatesOfGeometry:we,releaseStatesOfProgram:Fe,initAttributes:J,enableAttribute:te,disableUnusedAttributes:ne}}function D3(m,t,r,o){const l=o.isWebGL2;let d;function g(E){d=E}function v(E,R){m.drawArrays(d,E,R),r.update(R,d,1)}function A(E,R,I){if(I===0)return;let P,B;if(l)P=m,B="drawArraysInstanced";else if(P=t.get("ANGLE_instanced_arrays"),B="drawArraysInstancedANGLE",P===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}P[B](d,E,R,I),r.update(R,d,I)}this.setMode=g,this.render=v,this.renderInstances=A}function B3(m,t,r){let o;function l(){if(o!==void 0)return o;if(t.has("EXT_texture_filter_anisotropic")===!0){const Ae=t.get("EXT_texture_filter_anisotropic");o=m.getParameter(Ae.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else o=0;return o}function d(Ae){if(Ae==="highp"){if(m.getShaderPrecisionFormat(35633,36338).precision>0&&m.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Ae="mediump"}return Ae==="mediump"&&m.getShaderPrecisionFormat(35633,36337).precision>0&&m.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const g=typeof WebGL2RenderingContext<"u"&&m instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&m instanceof WebGL2ComputeRenderingContext;let v=r.precision!==void 0?r.precision:"highp";const A=d(v);A!==v&&(console.warn("THREE.WebGLRenderer:",v,"not supported, using",A,"instead."),v=A);const E=g||t.has("WEBGL_draw_buffers"),R=r.logarithmicDepthBuffer===!0,I=m.getParameter(34930),P=m.getParameter(35660),B=m.getParameter(3379),V=m.getParameter(34076),O=m.getParameter(34921),k=m.getParameter(36347),H=m.getParameter(36348),W=m.getParameter(36349),J=P>0,te=g||t.has("OES_texture_float"),j=J&&te,ne=g?m.getParameter(36183):0;return{isWebGL2:g,drawBuffers:E,getMaxAnisotropy:l,getMaxPrecision:d,precision:v,logarithmicDepthBuffer:R,maxTextures:I,maxVertexTextures:P,maxTextureSize:B,maxCubemapSize:V,maxAttributes:O,maxVertexUniforms:k,maxVaryings:H,maxFragmentUniforms:W,vertexTextures:J,floatFragmentTextures:te,floatVertexTextures:j,maxSamples:ne}}function k3(m){const t=this;let r=null,o=0,l=!1,d=!1;const g=new _c,v=new Ns,A={value:null,needsUpdate:!1};this.uniform=A,this.numPlanes=0,this.numIntersection=0,this.init=function(I,P,B){const V=I.length!==0||P||o!==0||l;return l=P,r=R(I,B,0),o=I.length,V},this.beginShadows=function(){d=!0,R(null)},this.endShadows=function(){d=!1,E()},this.setState=function(I,P,B){const V=I.clippingPlanes,O=I.clipIntersection,k=I.clipShadows,H=m.get(I);if(!l||V===null||V.length===0||d&&!k)d?R(null):E();else{const W=d?0:o,J=W*4;let te=H.clippingState||null;A.value=te,te=R(V,P,J,B);for(let j=0;j!==J;++j)te[j]=r[j];H.clippingState=te,this.numIntersection=O?this.numPlanes:0,this.numPlanes+=W}};function E(){A.value!==r&&(A.value=r,A.needsUpdate=o>0),t.numPlanes=o,t.numIntersection=0}function R(I,P,B,V){const O=I!==null?I.length:0;let k=null;if(O!==0){if(k=A.value,V!==!0||k===null){const H=B+O*4,W=P.matrixWorldInverse;v.getNormalMatrix(W),(k===null||k.length<H)&&(k=new Float32Array(H));for(let J=0,te=B;J!==O;++J,te+=4)g.copy(I[J]).applyMatrix4(W,v),g.normal.toArray(k,te),k[te+3]=g.constant}A.value=k,A.needsUpdate=!0}return t.numPlanes=O,t.numIntersection=0,k}}function L3(m){let t=new WeakMap;function r(g,v){return v===yt?g.mapping=Gn:v===tn&&(g.mapping=pt),g}function o(g){if(g&&g.isTexture&&g.isRenderTargetTexture===!1){const v=g.mapping;if(v===yt||v===tn)if(t.has(g)){const A=t.get(g).texture;return r(A,g.mapping)}else{const A=g.image;if(A&&A.height>0){const E=new RB(A.height/2);return E.fromEquirectangularTexture(m,g),t.set(g,E),g.addEventListener("dispose",l),r(E.texture,g.mapping)}else return null}}return g}function l(g){const v=g.target;v.removeEventListener("dispose",l);const A=t.get(v);A!==void 0&&(t.delete(v),A.dispose())}function d(){t=new WeakMap}return{get:o,dispose:d}}class Vp extends gS{constructor(t=-1,r=1,o=1,l=-1,d=.1,g=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=r,this.top=o,this.bottom=l,this.near=d,this.far=g,this.updateProjectionMatrix()}copy(t,r){return super.copy(t,r),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,r,o,l,d,g){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=r,this.view.offsetX=o,this.view.offsetY=l,this.view.width=d,this.view.height=g,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),o=(this.right+this.left)/2,l=(this.top+this.bottom)/2;let d=o-t,g=o+t,v=l+r,A=l-r;if(this.view!==null&&this.view.enabled){const E=(this.right-this.left)/this.view.fullWidth/this.zoom,R=(this.top-this.bottom)/this.view.fullHeight/this.zoom;d+=E*this.view.offsetX,g=d+E*this.view.width,v-=R*this.view.offsetY,A=v-R*this.view.height}this.projectionMatrix.makeOrthographic(d,g,v,A,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const r=super.toJSON(t);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,this.view!==null&&(r.object.view=Object.assign({},this.view)),r}}const Vu=4,AS=[.125,.215,.35,.446,.526,.582],yc=20,f_=new Vp,yS=new sr;let h_=null;const bc=(1+Math.sqrt(5))/2,Gu=1/bc,bS=[new et(1,1,1),new et(-1,1,1),new et(1,1,-1),new et(-1,1,-1),new et(0,bc,Gu),new et(0,bc,-Gu),new et(Gu,0,bc),new et(-Gu,0,bc),new et(bc,Gu,0),new et(-bc,Gu,0)];class Gp{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,r=0,o=.1,l=100){h_=this._renderer.getRenderTarget(),this._setSize(256);const d=this._allocateTargets();return d.depthBuffer=!0,this._sceneToCubeUV(t,o,l,d),r>0&&this._blur(d,0,0,r),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(t,r=null){return this._fromTexture(t,r)}fromCubemap(t,r=null){return this._fromTexture(t,r)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=wS(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=ES(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(h_),t.scissorTest=!1,Up(t,0,0,t.width,t.height)}_fromTexture(t,r){t.mapping===Gn||t.mapping===pt?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),h_=this._renderer.getRenderTarget();const o=r||this._allocateTargets();return this._textureToCubeUV(t,o),this._applyPMREM(o),this._cleanup(o),o}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),r=4*this._cubeSize,o={magFilter:pr,minFilter:pr,generateMipmaps:!1,type:Di,format:ji,encoding:bo,depthBuffer:!1},l=SS(t,r,o);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=SS(t,r,o);const{_lodMax:d}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=O3(d)),this._blurMaterial=F3(d,t,r)}return l}_compileMaterial(t){const r=new Fi(this._lodPlanes[0],t);this._renderer.compile(r,f_)}_sceneToCubeUV(t,r,o,l){const v=new Yi(90,1,r,o),A=[1,-1,1,1,1,1],E=[1,1,1,-1,-1,-1],R=this._renderer,I=R.autoClear,P=R.toneMapping;R.getClearColor(yS),R.toneMapping=xe,R.autoClear=!1;const B=new na({name:"PMREM.Background",side:U,depthWrite:!1,depthTest:!1}),V=new Fi(new vc,B);let O=!1;const k=t.background;k?k.isColor&&(B.color.copy(k),t.background=null,O=!0):(B.color.copy(yS),O=!0);for(let H=0;H<6;H++){const W=H%3;W===0?(v.up.set(0,A[H],0),v.lookAt(E[H],0,0)):W===1?(v.up.set(0,0,A[H]),v.lookAt(0,E[H],0)):(v.up.set(0,A[H],0),v.lookAt(0,0,E[H]));const J=this._cubeSize;Up(l,W*J,H>2?J:0,J,J),R.setRenderTarget(l),O&&R.render(V,v),R.render(t,v)}V.geometry.dispose(),V.material.dispose(),R.toneMapping=P,R.autoClear=I,t.background=k}_textureToCubeUV(t,r){const o=this._renderer,l=t.mapping===Gn||t.mapping===pt;l?(this._cubemapMaterial===null&&(this._cubemapMaterial=wS()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=ES());const d=l?this._cubemapMaterial:this._equirectMaterial,g=new Fi(this._lodPlanes[0],d),v=d.uniforms;v.envMap.value=t;const A=this._cubeSize;Up(r,0,0,3*A,2*A),o.setRenderTarget(r),o.render(g,f_)}_applyPMREM(t){const r=this._renderer,o=r.autoClear;r.autoClear=!1;for(let l=1;l<this._lodPlanes.length;l++){const d=Math.sqrt(this._sigmas[l]*this._sigmas[l]-this._sigmas[l-1]*this._sigmas[l-1]),g=bS[(l-1)%bS.length];this._blur(t,l-1,l,d,g)}r.autoClear=o}_blur(t,r,o,l,d){const g=this._pingPongRenderTarget;this._halfBlur(t,g,r,o,l,"latitudinal",d),this._halfBlur(g,t,o,o,l,"longitudinal",d)}_halfBlur(t,r,o,l,d,g,v){const A=this._renderer,E=this._blurMaterial;g!=="latitudinal"&&g!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const R=3,I=new Fi(this._lodPlanes[l],E),P=E.uniforms,B=this._sizeLods[o]-1,V=isFinite(d)?Math.PI/(2*B):2*Math.PI/(2*yc-1),O=d/V,k=isFinite(d)?1+Math.floor(R*O):yc;k>yc&&console.warn(`sigmaRadians, ${d}, is too large and will clip, as it requested ${k} samples when the maximum is set to ${yc}`);const H=[];let W=0;for(let Ae=0;Ae<yc;++Ae){const q=Ae/O,ge=Math.exp(-q*q/2);H.push(ge),Ae===0?W+=ge:Ae<k&&(W+=2*ge)}for(let Ae=0;Ae<H.length;Ae++)H[Ae]=H[Ae]/W;P.envMap.value=t.texture,P.samples.value=k,P.weights.value=H,P.latitudinal.value=g==="latitudinal",v&&(P.poleAxis.value=v);const{_lodMax:J}=this;P.dTheta.value=V,P.mipInt.value=J-o;const te=this._sizeLods[l],j=3*te*(l>J-Vu?l-J+Vu:0),ne=4*(this._cubeSize-te);Up(r,j,ne,3*te,2*te),A.setRenderTarget(r),A.render(I,f_)}}function O3(m){const t=[],r=[],o=[];let l=m;const d=m-Vu+1+AS.length;for(let g=0;g<d;g++){const v=Math.pow(2,l);r.push(v);let A=1/v;g>m-Vu?A=AS[g-m+Vu-1]:g===0&&(A=0),o.push(A);const E=1/(v-2),R=-E,I=1+E,P=[R,R,I,R,I,I,R,R,I,I,R,I],B=6,V=6,O=3,k=2,H=1,W=new Float32Array(O*V*B),J=new Float32Array(k*V*B),te=new Float32Array(H*V*B);for(let ne=0;ne<B;ne++){const Ae=ne%3*2/3-1,q=ne>2?0:-1,ge=[Ae,q,0,Ae+2/3,q,0,Ae+2/3,q+1,0,Ae,q,0,Ae+2/3,q+1,0,Ae,q+1,0];W.set(ge,O*V*ne),J.set(P,k*V*ne);const we=[ne,ne,ne,ne,ne,ne];te.set(we,H*V*ne)}const j=new Oi;j.setAttribute("position",new ri(W,O)),j.setAttribute("uv",new ri(J,k)),j.setAttribute("faceIndex",new ri(te,H)),t.push(j),l>Vu&&l--}return{lodPlanes:t,sizeLods:r,sigmas:o}}function SS(m,t,r){const o=new hc(m,t,r);return o.texture.mapping=Bn,o.texture.name="PMREM.cubeUv",o.scissorTest=!0,o}function Up(m,t,r,o,l){m.viewport.set(t,r,o,l),m.scissor.set(t,r,o,l)}function F3(m,t,r){const o=new Float32Array(yc),l=new et(0,1,0);return new Mo({name:"SphericalGaussianBlur",defines:{n:yc,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${m}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:o},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:l}},vertexShader:p_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:de,depthTest:!1,depthWrite:!1})}function ES(){return new Mo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:p_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:de,depthTest:!1,depthWrite:!1})}function wS(){return new Mo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:p_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:de,depthTest:!1,depthWrite:!1})}function p_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function V3(m){let t=new WeakMap,r=null;function o(v){if(v&&v.isTexture){const A=v.mapping,E=A===yt||A===tn,R=A===Gn||A===pt;if(E||R)if(v.isRenderTargetTexture&&v.needsPMREMUpdate===!0){v.needsPMREMUpdate=!1;let I=t.get(v);return r===null&&(r=new Gp(m)),I=E?r.fromEquirectangular(v,I):r.fromCubemap(v,I),t.set(v,I),I.texture}else{if(t.has(v))return t.get(v).texture;{const I=v.image;if(E&&I&&I.height>0||R&&I&&l(I)){r===null&&(r=new Gp(m));const P=E?r.fromEquirectangular(v):r.fromCubemap(v);return t.set(v,P),v.addEventListener("dispose",d),P.texture}else return null}}}return v}function l(v){let A=0;const E=6;for(let R=0;R<E;R++)v[R]!==void 0&&A++;return A===E}function d(v){const A=v.target;A.removeEventListener("dispose",d);const E=t.get(A);E!==void 0&&(t.delete(A),E.dispose())}function g(){t=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:o,dispose:g}}function G3(m){const t={};function r(o){if(t[o]!==void 0)return t[o];let l;switch(o){case"WEBGL_depth_texture":l=m.getExtension("WEBGL_depth_texture")||m.getExtension("MOZ_WEBGL_depth_texture")||m.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":l=m.getExtension("EXT_texture_filter_anisotropic")||m.getExtension("MOZ_EXT_texture_filter_anisotropic")||m.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":l=m.getExtension("WEBGL_compressed_texture_s3tc")||m.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||m.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":l=m.getExtension("WEBGL_compressed_texture_pvrtc")||m.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:l=m.getExtension(o)}return t[o]=l,l}return{has:function(o){return r(o)!==null},init:function(o){o.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(o){const l=r(o);return l===null&&console.warn("THREE.WebGLRenderer: "+o+" extension not supported."),l}}}function U3(m,t,r,o){const l={},d=new WeakMap;function g(I){const P=I.target;P.index!==null&&t.remove(P.index);for(const V in P.attributes)t.remove(P.attributes[V]);P.removeEventListener("dispose",g),delete l[P.id];const B=d.get(P);B&&(t.remove(B),d.delete(P)),o.releaseStatesOfGeometry(P),P.isInstancedBufferGeometry===!0&&delete P._maxInstanceCount,r.memory.geometries--}function v(I,P){return l[P.id]===!0||(P.addEventListener("dispose",g),l[P.id]=!0,r.memory.geometries++),P}function A(I){const P=I.attributes;for(const V in P)t.update(P[V],34962);const B=I.morphAttributes;for(const V in B){const O=B[V];for(let k=0,H=O.length;k<H;k++)t.update(O[k],34962)}}function E(I){const P=[],B=I.index,V=I.attributes.position;let O=0;if(B!==null){const W=B.array;O=B.version;for(let J=0,te=W.length;J<te;J+=3){const j=W[J+0],ne=W[J+1],Ae=W[J+2];P.push(j,ne,ne,Ae,Ae,j)}}else{const W=V.array;O=V.version;for(let J=0,te=W.length/3-1;J<te;J+=3){const j=J+0,ne=J+1,Ae=J+2;P.push(j,ne,ne,Ae,Ae,j)}}const k=new(Z1(P)?hS:fS)(P,1);k.version=O;const H=d.get(I);H&&t.remove(H),d.set(I,k)}function R(I){const P=d.get(I);if(P){const B=I.index;B!==null&&P.version<B.version&&E(I)}else E(I);return d.get(I)}return{get:v,update:A,getWireframeAttribute:R}}function H3(m,t,r,o){const l=o.isWebGL2;let d;function g(P){d=P}let v,A;function E(P){v=P.type,A=P.bytesPerElement}function R(P,B){m.drawElements(d,B,v,P*A),r.update(B,d,1)}function I(P,B,V){if(V===0)return;let O,k;if(l)O=m,k="drawElementsInstanced";else if(O=t.get("ANGLE_instanced_arrays"),k="drawElementsInstancedANGLE",O===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}O[k](d,B,v,P*A,V),r.update(B,d,V)}this.setMode=g,this.setIndex=E,this.render=R,this.renderInstances=I}function Q3(m){const t={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function o(d,g,v){switch(r.calls++,g){case 4:r.triangles+=v*(d/3);break;case 1:r.lines+=v*(d/2);break;case 3:r.lines+=v*(d-1);break;case 2:r.lines+=v*d;break;case 0:r.points+=v*d;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",g);break}}function l(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:t,render:r,programs:null,autoReset:!0,reset:l,update:o}}function X3(m,t){return m[0]-t[0]}function z3(m,t){return Math.abs(t[1])-Math.abs(m[1])}function $3(m,t,r){const o={},l=new Float32Array(8),d=new WeakMap,g=new ni,v=[];for(let E=0;E<8;E++)v[E]=[E,0];function A(E,R,I,P){const B=E.morphTargetInfluences;if(t.isWebGL2===!0){const O=R.morphAttributes.position||R.morphAttributes.normal||R.morphAttributes.color,k=O!==void 0?O.length:0;let H=d.get(R);if(H===void 0||H.count!==k){let ht=function(){Oe.dispose(),d.delete(R),R.removeEventListener("dispose",ht)};var V=ht;H!==void 0&&H.texture.dispose();const te=R.morphAttributes.position!==void 0,j=R.morphAttributes.normal!==void 0,ne=R.morphAttributes.color!==void 0,Ae=R.morphAttributes.position||[],q=R.morphAttributes.normal||[],ge=R.morphAttributes.color||[];let we=0;te===!0&&(we=1),j===!0&&(we=2),ne===!0&&(we=3);let Fe=R.attributes.position.count*we,tt=1;Fe>t.maxTextureSize&&(tt=Math.ceil(Fe/t.maxTextureSize),Fe=t.maxTextureSize);const Pe=new Float32Array(Fe*tt*4*k),Oe=new yp(Pe,Fe,tt,k);Oe.type=ei,Oe.needsUpdate=!0;const st=we*4;for(let dt=0;dt<k;dt++){const Le=Ae[dt],Ze=q[dt],lt=ge[dt],Ut=Fe*tt*4*dt;for(let Vt=0;Vt<Le.count;Vt++){const Wt=Vt*st;te===!0&&(g.fromBufferAttribute(Le,Vt),Pe[Ut+Wt+0]=g.x,Pe[Ut+Wt+1]=g.y,Pe[Ut+Wt+2]=g.z,Pe[Ut+Wt+3]=0),j===!0&&(g.fromBufferAttribute(Ze,Vt),Pe[Ut+Wt+4]=g.x,Pe[Ut+Wt+5]=g.y,Pe[Ut+Wt+6]=g.z,Pe[Ut+Wt+7]=0),ne===!0&&(g.fromBufferAttribute(lt,Vt),Pe[Ut+Wt+8]=g.x,Pe[Ut+Wt+9]=g.y,Pe[Ut+Wt+10]=g.z,Pe[Ut+Wt+11]=lt.itemSize===4?g.w:1)}}H={count:k,texture:Oe,size:new Fn(Fe,tt)},d.set(R,H),R.addEventListener("dispose",ht)}let W=0;for(let te=0;te<B.length;te++)W+=B[te];const J=R.morphTargetsRelative?1:1-W;P.getUniforms().setValue(m,"morphTargetBaseInfluence",J),P.getUniforms().setValue(m,"morphTargetInfluences",B),P.getUniforms().setValue(m,"morphTargetsTexture",H.texture,r),P.getUniforms().setValue(m,"morphTargetsTextureSize",H.size)}else{const O=B===void 0?0:B.length;let k=o[R.id];if(k===void 0||k.length!==O){k=[];for(let j=0;j<O;j++)k[j]=[j,0];o[R.id]=k}for(let j=0;j<O;j++){const ne=k[j];ne[0]=j,ne[1]=B[j]}k.sort(z3);for(let j=0;j<8;j++)j<O&&k[j][1]?(v[j][0]=k[j][0],v[j][1]=k[j][1]):(v[j][0]=Number.MAX_SAFE_INTEGER,v[j][1]=0);v.sort(X3);const H=R.morphAttributes.position,W=R.morphAttributes.normal;let J=0;for(let j=0;j<8;j++){const ne=v[j],Ae=ne[0],q=ne[1];Ae!==Number.MAX_SAFE_INTEGER&&q?(H&&R.getAttribute("morphTarget"+j)!==H[Ae]&&R.setAttribute("morphTarget"+j,H[Ae]),W&&R.getAttribute("morphNormal"+j)!==W[Ae]&&R.setAttribute("morphNormal"+j,W[Ae]),l[j]=q,J+=q):(H&&R.hasAttribute("morphTarget"+j)===!0&&R.deleteAttribute("morphTarget"+j),W&&R.hasAttribute("morphNormal"+j)===!0&&R.deleteAttribute("morphNormal"+j),l[j]=0)}const te=R.morphTargetsRelative?1:1-J;P.getUniforms().setValue(m,"morphTargetBaseInfluence",te),P.getUniforms().setValue(m,"morphTargetInfluences",l)}}return{update:A}}function W3(m,t,r,o){let l=new WeakMap;function d(A){const E=o.render.frame,R=A.geometry,I=t.get(A,R);return l.get(I)!==E&&(t.update(I),l.set(I,E)),A.isInstancedMesh&&(A.hasEventListener("dispose",v)===!1&&A.addEventListener("dispose",v),r.update(A.instanceMatrix,34962),A.instanceColor!==null&&r.update(A.instanceColor,34962)),I}function g(){l=new WeakMap}function v(A){const E=A.target;E.removeEventListener("dispose",v),r.remove(E.instanceMatrix),E.instanceColor!==null&&r.remove(E.instanceColor)}return{update:d,dispose:g}}const CS=new Bi,IS=new yp,MS=new zv,xS=new vS,RS=[],TS=[],PS=new Float32Array(16),NS=new Float32Array(9),DS=new Float32Array(4);function Uu(m,t,r){const o=m[0];if(o<=0||o>0)return m;const l=t*r;let d=RS[l];if(d===void 0&&(d=new Float32Array(l),RS[l]=d),t!==0){o.toArray(d,0);for(let g=1,v=0;g!==t;++g)v+=r,m[g].toArray(d,v)}return d}function ls(m,t){if(m.length!==t.length)return!1;for(let r=0,o=m.length;r<o;r++)if(m[r]!==t[r])return!1;return!0}function cs(m,t){for(let r=0,o=t.length;r<o;r++)m[r]=t[r]}function Hp(m,t){let r=TS[t];r===void 0&&(r=new Int32Array(t),TS[t]=r);for(let o=0;o!==t;++o)r[o]=m.allocateTextureUnit();return r}function K3(m,t){const r=this.cache;r[0]!==t&&(m.uniform1f(this.addr,t),r[0]=t)}function j3(m,t){const r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y)&&(m.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(ls(r,t))return;m.uniform2fv(this.addr,t),cs(r,t)}}function q3(m,t){const r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z)&&(m.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(t.r!==void 0)(r[0]!==t.r||r[1]!==t.g||r[2]!==t.b)&&(m.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(ls(r,t))return;m.uniform3fv(this.addr,t),cs(r,t)}}function Y3(m,t){const r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z||r[3]!==t.w)&&(m.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(ls(r,t))return;m.uniform4fv(this.addr,t),cs(r,t)}}function J3(m,t){const r=this.cache,o=t.elements;if(o===void 0){if(ls(r,t))return;m.uniformMatrix2fv(this.addr,!1,t),cs(r,t)}else{if(ls(r,o))return;DS.set(o),m.uniformMatrix2fv(this.addr,!1,DS),cs(r,o)}}function Z3(m,t){const r=this.cache,o=t.elements;if(o===void 0){if(ls(r,t))return;m.uniformMatrix3fv(this.addr,!1,t),cs(r,t)}else{if(ls(r,o))return;NS.set(o),m.uniformMatrix3fv(this.addr,!1,NS),cs(r,o)}}function ek(m,t){const r=this.cache,o=t.elements;if(o===void 0){if(ls(r,t))return;m.uniformMatrix4fv(this.addr,!1,t),cs(r,t)}else{if(ls(r,o))return;PS.set(o),m.uniformMatrix4fv(this.addr,!1,PS),cs(r,o)}}function tk(m,t){const r=this.cache;r[0]!==t&&(m.uniform1i(this.addr,t),r[0]=t)}function nk(m,t){const r=this.cache;ls(r,t)||(m.uniform2iv(this.addr,t),cs(r,t))}function rk(m,t){const r=this.cache;ls(r,t)||(m.uniform3iv(this.addr,t),cs(r,t))}function ik(m,t){const r=this.cache;ls(r,t)||(m.uniform4iv(this.addr,t),cs(r,t))}function sk(m,t){const r=this.cache;r[0]!==t&&(m.uniform1ui(this.addr,t),r[0]=t)}function ok(m,t){const r=this.cache;ls(r,t)||(m.uniform2uiv(this.addr,t),cs(r,t))}function ak(m,t){const r=this.cache;ls(r,t)||(m.uniform3uiv(this.addr,t),cs(r,t))}function lk(m,t){const r=this.cache;ls(r,t)||(m.uniform4uiv(this.addr,t),cs(r,t))}function ck(m,t,r){const o=this.cache,l=r.allocateTextureUnit();o[0]!==l&&(m.uniform1i(this.addr,l),o[0]=l),r.setTexture2D(t||CS,l)}function uk(m,t,r){const o=this.cache,l=r.allocateTextureUnit();o[0]!==l&&(m.uniform1i(this.addr,l),o[0]=l),r.setTexture3D(t||MS,l)}function dk(m,t,r){const o=this.cache,l=r.allocateTextureUnit();o[0]!==l&&(m.uniform1i(this.addr,l),o[0]=l),r.setTextureCube(t||xS,l)}function fk(m,t,r){const o=this.cache,l=r.allocateTextureUnit();o[0]!==l&&(m.uniform1i(this.addr,l),o[0]=l),r.setTexture2DArray(t||IS,l)}function hk(m){switch(m){case 5126:return K3;case 35664:return j3;case 35665:return q3;case 35666:return Y3;case 35674:return J3;case 35675:return Z3;case 35676:return ek;case 5124:case 35670:return tk;case 35667:case 35671:return nk;case 35668:case 35672:return rk;case 35669:case 35673:return ik;case 5125:return sk;case 36294:return ok;case 36295:return ak;case 36296:return lk;case 35678:case 36198:case 36298:case 36306:case 35682:return ck;case 35679:case 36299:case 36307:return uk;case 35680:case 36300:case 36308:case 36293:return dk;case 36289:case 36303:case 36311:case 36292:return fk}}function pk(m,t){m.uniform1fv(this.addr,t)}function mk(m,t){const r=Uu(t,this.size,2);m.uniform2fv(this.addr,r)}function gk(m,t){const r=Uu(t,this.size,3);m.uniform3fv(this.addr,r)}function vk(m,t){const r=Uu(t,this.size,4);m.uniform4fv(this.addr,r)}function _k(m,t){const r=Uu(t,this.size,4);m.uniformMatrix2fv(this.addr,!1,r)}function Ak(m,t){const r=Uu(t,this.size,9);m.uniformMatrix3fv(this.addr,!1,r)}function yk(m,t){const r=Uu(t,this.size,16);m.uniformMatrix4fv(this.addr,!1,r)}function bk(m,t){m.uniform1iv(this.addr,t)}function Sk(m,t){m.uniform2iv(this.addr,t)}function Ek(m,t){m.uniform3iv(this.addr,t)}function wk(m,t){m.uniform4iv(this.addr,t)}function Ck(m,t){m.uniform1uiv(this.addr,t)}function Ik(m,t){m.uniform2uiv(this.addr,t)}function Mk(m,t){m.uniform3uiv(this.addr,t)}function xk(m,t){m.uniform4uiv(this.addr,t)}function Rk(m,t,r){const o=t.length,l=Hp(r,o);m.uniform1iv(this.addr,l);for(let d=0;d!==o;++d)r.setTexture2D(t[d]||CS,l[d])}function Tk(m,t,r){const o=t.length,l=Hp(r,o);m.uniform1iv(this.addr,l);for(let d=0;d!==o;++d)r.setTexture3D(t[d]||MS,l[d])}function Pk(m,t,r){const o=t.length,l=Hp(r,o);m.uniform1iv(this.addr,l);for(let d=0;d!==o;++d)r.setTextureCube(t[d]||xS,l[d])}function Nk(m,t,r){const o=t.length,l=Hp(r,o);m.uniform1iv(this.addr,l);for(let d=0;d!==o;++d)r.setTexture2DArray(t[d]||IS,l[d])}function Dk(m){switch(m){case 5126:return pk;case 35664:return mk;case 35665:return gk;case 35666:return vk;case 35674:return _k;case 35675:return Ak;case 35676:return yk;case 5124:case 35670:return bk;case 35667:case 35671:return Sk;case 35668:case 35672:return Ek;case 35669:case 35673:return wk;case 5125:return Ck;case 36294:return Ik;case 36295:return Mk;case 36296:return xk;case 35678:case 36198:case 36298:case 36306:case 35682:return Rk;case 35679:case 36299:case 36307:return Tk;case 35680:case 36300:case 36308:case 36293:return Pk;case 36289:case 36303:case 36311:case 36292:return Nk}}class Bk{constructor(t,r,o){this.id=t,this.addr=o,this.cache=[],this.setValue=hk(r.type)}}class kk{constructor(t,r,o){this.id=t,this.addr=o,this.cache=[],this.size=r.size,this.setValue=Dk(r.type)}}class Lk{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,r,o){const l=this.seq;for(let d=0,g=l.length;d!==g;++d){const v=l[d];v.setValue(t,r[v.id],o)}}}const m_=/(\w+)(\])?(\[|\.)?/g;function BS(m,t){m.seq.push(t),m.map[t.id]=t}function Ok(m,t,r){const o=m.name,l=o.length;for(m_.lastIndex=0;;){const d=m_.exec(o),g=m_.lastIndex;let v=d[1];const A=d[2]==="]",E=d[3];if(A&&(v=v|0),E===void 0||E==="["&&g+2===l){BS(r,E===void 0?new Bk(v,m,t):new kk(v,m,t));break}else{let I=r.map[v];I===void 0&&(I=new Lk(v),BS(r,I)),r=I}}}class Qp{constructor(t,r){this.seq=[],this.map={};const o=t.getProgramParameter(r,35718);for(let l=0;l<o;++l){const d=t.getActiveUniform(r,l),g=t.getUniformLocation(r,d.name);Ok(d,g,this)}}setValue(t,r,o,l){const d=this.map[r];d!==void 0&&d.setValue(t,o,l)}setOptional(t,r,o){const l=r[o];l!==void 0&&this.setValue(t,o,l)}static upload(t,r,o,l){for(let d=0,g=r.length;d!==g;++d){const v=r[d],A=o[v.id];A.needsUpdate!==!1&&v.setValue(t,A.value,l)}}static seqWithValue(t,r){const o=[];for(let l=0,d=t.length;l!==d;++l){const g=t[l];g.id in r&&o.push(g)}return o}}function kS(m,t,r){const o=m.createShader(t);return m.shaderSource(o,r),m.compileShader(o),o}let Fk=0;function Vk(m,t){const r=m.split(`
`),o=[],l=Math.max(t-6,0),d=Math.min(t+6,r.length);for(let g=l;g<d;g++){const v=g+1;o.push(`${v===t?">":" "} ${v}: ${r[g]}`)}return o.join(`
`)}function Gk(m){switch(m){case bo:return["Linear","( value )"];case Or:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",m),["Linear","( value )"]}}function LS(m,t,r){const o=m.getShaderParameter(t,35713),l=m.getShaderInfoLog(t).trim();if(o&&l==="")return"";const d=/ERROR: 0:(\d+)/.exec(l);if(d){const g=parseInt(d[1]);return r.toUpperCase()+`

`+l+`

`+Vk(m.getShaderSource(t),g)}else return l}function Uk(m,t){const r=Gk(t);return"vec4 "+m+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function Hk(m,t){let r;switch(t){case qe:r="Linear";break;case Dt:r="Reinhard";break;case zt:r="OptimizedCineon";break;case en:r="ACESFilmic";break;case gn:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),r="Linear"}return"vec3 "+m+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function Qk(m){return[m.extensionDerivatives||!!m.envMapCubeUVHeight||m.bumpMap||m.tangentSpaceNormalMap||m.clearcoatNormalMap||m.flatShading||m.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(m.extensionFragDepth||m.logarithmicDepthBuffer)&&m.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",m.extensionDrawBuffers&&m.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(m.extensionShaderTextureLOD||m.envMap||m.transmission)&&m.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(cf).join(`
`)}function Xk(m){const t=[];for(const r in m){const o=m[r];o!==!1&&t.push("#define "+r+" "+o)}return t.join(`
`)}function zk(m,t){const r={},o=m.getProgramParameter(t,35721);for(let l=0;l<o;l++){const d=m.getActiveAttrib(t,l),g=d.name;let v=1;d.type===35674&&(v=2),d.type===35675&&(v=3),d.type===35676&&(v=4),r[g]={type:d.type,location:m.getAttribLocation(t,g),locationSize:v}}return r}function cf(m){return m!==""}function OS(m,t){const r=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return m.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function FS(m,t){return m.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const $k=/^[ \t]*#include +<([\w\d./]+)>/gm;function g_(m){return m.replace($k,Wk)}function Wk(m,t){const r=Dr[t];if(r===void 0)throw new Error("Can not resolve #include <"+t+">");return g_(r)}const Kk=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function VS(m){return m.replace(Kk,jk)}function jk(m,t,r,o){let l="";for(let d=parseInt(t);d<parseInt(r);d++)l+=o.replace(/\[\s*i\s*\]/g,"[ "+d+" ]").replace(/UNROLLED_LOOP_INDEX/g,d);return l}function GS(m){let t="precision "+m.precision+` float;
precision `+m.precision+" int;";return m.precision==="highp"?t+=`
#define HIGH_PRECISION`:m.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:m.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function qk(m){let t="SHADOWMAP_TYPE_BASIC";return m.shadowMapType===D?t="SHADOWMAP_TYPE_PCF":m.shadowMapType===F?t="SHADOWMAP_TYPE_PCF_SOFT":m.shadowMapType===N&&(t="SHADOWMAP_TYPE_VSM"),t}function Yk(m){let t="ENVMAP_TYPE_CUBE";if(m.envMap)switch(m.envMapMode){case Gn:case pt:t="ENVMAP_TYPE_CUBE";break;case Bn:t="ENVMAP_TYPE_CUBE_UV";break}return t}function Jk(m){let t="ENVMAP_MODE_REFLECTION";if(m.envMap)switch(m.envMapMode){case pt:t="ENVMAP_MODE_REFRACTION";break}return t}function Zk(m){let t="ENVMAP_BLENDING_NONE";if(m.envMap)switch(m.combine){case ct:t="ENVMAP_BLENDING_MULTIPLY";break;case Lt:t="ENVMAP_BLENDING_MIX";break;case gt:t="ENVMAP_BLENDING_ADD";break}return t}function e8(m){const t=m.envMapCubeUVHeight;if(t===null)return null;const r=Math.log2(t)-2,o=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,r),7*16)),texelHeight:o,maxMip:r}}function t8(m,t,r,o){const l=m.getContext(),d=r.defines;let g=r.vertexShader,v=r.fragmentShader;const A=qk(r),E=Yk(r),R=Jk(r),I=Zk(r),P=e8(r),B=r.isWebGL2?"":Qk(r),V=Xk(d),O=l.createProgram();let k,H,W=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(k=[V].filter(cf).join(`
`),k.length>0&&(k+=`
`),H=[B,V].filter(cf).join(`
`),H.length>0&&(H+=`
`)):(k=[GS(r),"#define SHADER_NAME "+r.shaderName,V,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+R:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+A:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(cf).join(`
`),H=[B,GS(r),"#define SHADER_NAME "+r.shaderName,V,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+E:"",r.envMap?"#define "+R:"",r.envMap?"#define "+I:"",P?"#define CUBEUV_TEXEL_WIDTH "+P.texelWidth:"",P?"#define CUBEUV_TEXEL_HEIGHT "+P.texelHeight:"",P?"#define CUBEUV_MAX_MIP "+P.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+A:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==xe?"#define TONE_MAPPING":"",r.toneMapping!==xe?Dr.tonemapping_pars_fragment:"",r.toneMapping!==xe?Hk("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",Dr.encodings_pars_fragment,Uk("linearToOutputTexel",r.outputEncoding),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(cf).join(`
`)),g=g_(g),g=OS(g,r),g=FS(g,r),v=g_(v),v=OS(v,r),v=FS(v,r),g=VS(g),v=VS(v),r.isWebGL2&&r.isRawShaderMaterial!==!0&&(W=`#version 300 es
`,k=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+k,H=["#define varying in",r.glslVersion===mp?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===mp?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+H);const J=W+k+g,te=W+H+v,j=kS(l,35633,J),ne=kS(l,35632,te);if(l.attachShader(O,j),l.attachShader(O,ne),r.index0AttributeName!==void 0?l.bindAttribLocation(O,0,r.index0AttributeName):r.morphTargets===!0&&l.bindAttribLocation(O,0,"position"),l.linkProgram(O),m.debug.checkShaderErrors){const ge=l.getProgramInfoLog(O).trim(),we=l.getShaderInfoLog(j).trim(),Fe=l.getShaderInfoLog(ne).trim();let tt=!0,Pe=!0;if(l.getProgramParameter(O,35714)===!1){tt=!1;const Oe=LS(l,j,"vertex"),st=LS(l,ne,"fragment");console.error("THREE.WebGLProgram: Shader Error "+l.getError()+" - VALIDATE_STATUS "+l.getProgramParameter(O,35715)+`

Program Info Log: `+ge+`
`+Oe+`
`+st)}else ge!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ge):(we===""||Fe==="")&&(Pe=!1);Pe&&(this.diagnostics={runnable:tt,programLog:ge,vertexShader:{log:we,prefix:k},fragmentShader:{log:Fe,prefix:H}})}l.deleteShader(j),l.deleteShader(ne);let Ae;this.getUniforms=function(){return Ae===void 0&&(Ae=new Qp(l,O)),Ae};let q;return this.getAttributes=function(){return q===void 0&&(q=zk(l,O)),q},this.destroy=function(){o.releaseStatesOfProgram(this),l.deleteProgram(O),this.program=void 0},this.name=r.shaderName,this.id=Fk++,this.cacheKey=t,this.usedTimes=1,this.program=O,this.vertexShader=j,this.fragmentShader=ne,this}let n8=0;class r8{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const r=t.vertexShader,o=t.fragmentShader,l=this._getShaderStage(r),d=this._getShaderStage(o),g=this._getShaderCacheForMaterial(t);return g.has(l)===!1&&(g.add(l),l.usedTimes++),g.has(d)===!1&&(g.add(d),d.usedTimes++),this}remove(t){const r=this.materialCache.get(t);for(const o of r)o.usedTimes--,o.usedTimes===0&&this.shaderCache.delete(o.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const r=this.materialCache;let o=r.get(t);return o===void 0&&(o=new Set,r.set(t,o)),o}_getShaderStage(t){const r=this.shaderCache;let o=r.get(t);return o===void 0&&(o=new i8(t),r.set(t,o)),o}}class i8{constructor(t){this.id=n8++,this.code=t,this.usedTimes=0}}function s8(m,t,r,o,l,d,g){const v=new Zv,A=new r8,E=[],R=l.isWebGL2,I=l.logarithmicDepthBuffer,P=l.vertexTextures;let B=l.precision;const V={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function O(q,ge,we,Fe,tt){const Pe=Fe.fog,Oe=tt.geometry,st=q.isMeshStandardMaterial?Fe.environment:null,ht=(q.isMeshStandardMaterial?r:t).get(q.envMap||st),dt=!!ht&&ht.mapping===Bn?ht.image.height:null,Le=V[q.type];q.precision!==null&&(B=l.getMaxPrecision(q.precision),B!==q.precision&&console.warn("THREE.WebGLProgram.getParameters:",q.precision,"not supported, using",B,"instead."));const Ze=Oe.morphAttributes.position||Oe.morphAttributes.normal||Oe.morphAttributes.color,lt=Ze!==void 0?Ze.length:0;let Ut=0;Oe.morphAttributes.position!==void 0&&(Ut=1),Oe.morphAttributes.normal!==void 0&&(Ut=2),Oe.morphAttributes.color!==void 0&&(Ut=3);let Vt,Wt,c,Ln;if(Le){const Sn=ra[Le];Vt=Sn.vertexShader,Wt=Sn.fragmentShader}else Vt=q.vertexShader,Wt=q.fragmentShader,A.update(q),c=A.getVertexShaderID(q),Ln=A.getFragmentShaderID(q);const ut=m.getRenderTarget(),We=q.alphaTest>0,Nt=q.clearcoat>0,jt=q.iridescence>0;return{isWebGL2:R,shaderID:Le,shaderName:q.type,vertexShader:Vt,fragmentShader:Wt,defines:q.defines,customVertexShaderID:c,customFragmentShaderID:Ln,isRawShaderMaterial:q.isRawShaderMaterial===!0,glslVersion:q.glslVersion,precision:B,instancing:tt.isInstancedMesh===!0,instancingColor:tt.isInstancedMesh===!0&&tt.instanceColor!==null,supportsVertexTextures:P,outputEncoding:ut===null?m.outputEncoding:ut.isXRRenderTarget===!0?ut.texture.encoding:bo,map:!!q.map,matcap:!!q.matcap,envMap:!!ht,envMapMode:ht&&ht.mapping,envMapCubeUVHeight:dt,lightMap:!!q.lightMap,aoMap:!!q.aoMap,emissiveMap:!!q.emissiveMap,bumpMap:!!q.bumpMap,normalMap:!!q.normalMap,objectSpaceNormalMap:q.normalMapType===ZD,tangentSpaceNormalMap:q.normalMapType===pp,decodeVideoTexture:!!q.map&&q.map.isVideoTexture===!0&&q.map.encoding===Or,clearcoat:Nt,clearcoatMap:Nt&&!!q.clearcoatMap,clearcoatRoughnessMap:Nt&&!!q.clearcoatRoughnessMap,clearcoatNormalMap:Nt&&!!q.clearcoatNormalMap,iridescence:jt,iridescenceMap:jt&&!!q.iridescenceMap,iridescenceThicknessMap:jt&&!!q.iridescenceThicknessMap,displacementMap:!!q.displacementMap,roughnessMap:!!q.roughnessMap,metalnessMap:!!q.metalnessMap,specularMap:!!q.specularMap,specularIntensityMap:!!q.specularIntensityMap,specularColorMap:!!q.specularColorMap,opaque:q.transparent===!1&&q.blending===ee,alphaMap:!!q.alphaMap,alphaTest:We,gradientMap:!!q.gradientMap,sheen:q.sheen>0,sheenColorMap:!!q.sheenColorMap,sheenRoughnessMap:!!q.sheenRoughnessMap,transmission:q.transmission>0,transmissionMap:!!q.transmissionMap,thicknessMap:!!q.thicknessMap,combine:q.combine,vertexTangents:!!q.normalMap&&!!Oe.attributes.tangent,vertexColors:q.vertexColors,vertexAlphas:q.vertexColors===!0&&!!Oe.attributes.color&&Oe.attributes.color.itemSize===4,vertexUvs:!!q.map||!!q.bumpMap||!!q.normalMap||!!q.specularMap||!!q.alphaMap||!!q.emissiveMap||!!q.roughnessMap||!!q.metalnessMap||!!q.clearcoatMap||!!q.clearcoatRoughnessMap||!!q.clearcoatNormalMap||!!q.iridescenceMap||!!q.iridescenceThicknessMap||!!q.displacementMap||!!q.transmissionMap||!!q.thicknessMap||!!q.specularIntensityMap||!!q.specularColorMap||!!q.sheenColorMap||!!q.sheenRoughnessMap,uvsVertexOnly:!(!!q.map||!!q.bumpMap||!!q.normalMap||!!q.specularMap||!!q.alphaMap||!!q.emissiveMap||!!q.roughnessMap||!!q.metalnessMap||!!q.clearcoatNormalMap||!!q.iridescenceMap||!!q.iridescenceThicknessMap||q.transmission>0||!!q.transmissionMap||!!q.thicknessMap||!!q.specularIntensityMap||!!q.specularColorMap||q.sheen>0||!!q.sheenColorMap||!!q.sheenRoughnessMap)&&!!q.displacementMap,fog:!!Pe,useFog:q.fog===!0,fogExp2:Pe&&Pe.isFogExp2,flatShading:!!q.flatShading,sizeAttenuation:q.sizeAttenuation,logarithmicDepthBuffer:I,skinning:tt.isSkinnedMesh===!0,morphTargets:Oe.morphAttributes.position!==void 0,morphNormals:Oe.morphAttributes.normal!==void 0,morphColors:Oe.morphAttributes.color!==void 0,morphTargetsCount:lt,morphTextureStride:Ut,numDirLights:ge.directional.length,numPointLights:ge.point.length,numSpotLights:ge.spot.length,numSpotLightMaps:ge.spotLightMap.length,numRectAreaLights:ge.rectArea.length,numHemiLights:ge.hemi.length,numDirLightShadows:ge.directionalShadowMap.length,numPointLightShadows:ge.pointShadowMap.length,numSpotLightShadows:ge.spotShadowMap.length,numSpotLightShadowsWithMaps:ge.numSpotLightShadowsWithMaps,numClippingPlanes:g.numPlanes,numClipIntersection:g.numIntersection,dithering:q.dithering,shadowMapEnabled:m.shadowMap.enabled&&we.length>0,shadowMapType:m.shadowMap.type,toneMapping:q.toneMapped?m.toneMapping:xe,physicallyCorrectLights:m.physicallyCorrectLights,premultipliedAlpha:q.premultipliedAlpha,doubleSided:q.side===$,flipSided:q.side===U,useDepthPacking:!!q.depthPacking,depthPacking:q.depthPacking||0,index0AttributeName:q.index0AttributeName,extensionDerivatives:q.extensions&&q.extensions.derivatives,extensionFragDepth:q.extensions&&q.extensions.fragDepth,extensionDrawBuffers:q.extensions&&q.extensions.drawBuffers,extensionShaderTextureLOD:q.extensions&&q.extensions.shaderTextureLOD,rendererExtensionFragDepth:R||o.has("EXT_frag_depth"),rendererExtensionDrawBuffers:R||o.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:R||o.has("EXT_shader_texture_lod"),customProgramCacheKey:q.customProgramCacheKey()}}function k(q){const ge=[];if(q.shaderID?ge.push(q.shaderID):(ge.push(q.customVertexShaderID),ge.push(q.customFragmentShaderID)),q.defines!==void 0)for(const we in q.defines)ge.push(we),ge.push(q.defines[we]);return q.isRawShaderMaterial===!1&&(H(ge,q),W(ge,q),ge.push(m.outputEncoding)),ge.push(q.customProgramCacheKey),ge.join()}function H(q,ge){q.push(ge.precision),q.push(ge.outputEncoding),q.push(ge.envMapMode),q.push(ge.envMapCubeUVHeight),q.push(ge.combine),q.push(ge.vertexUvs),q.push(ge.fogExp2),q.push(ge.sizeAttenuation),q.push(ge.morphTargetsCount),q.push(ge.morphAttributeCount),q.push(ge.numDirLights),q.push(ge.numPointLights),q.push(ge.numSpotLights),q.push(ge.numSpotLightMaps),q.push(ge.numHemiLights),q.push(ge.numRectAreaLights),q.push(ge.numDirLightShadows),q.push(ge.numPointLightShadows),q.push(ge.numSpotLightShadows),q.push(ge.numSpotLightShadowsWithMaps),q.push(ge.shadowMapType),q.push(ge.toneMapping),q.push(ge.numClippingPlanes),q.push(ge.numClipIntersection),q.push(ge.depthPacking)}function W(q,ge){v.disableAll(),ge.isWebGL2&&v.enable(0),ge.supportsVertexTextures&&v.enable(1),ge.instancing&&v.enable(2),ge.instancingColor&&v.enable(3),ge.map&&v.enable(4),ge.matcap&&v.enable(5),ge.envMap&&v.enable(6),ge.lightMap&&v.enable(7),ge.aoMap&&v.enable(8),ge.emissiveMap&&v.enable(9),ge.bumpMap&&v.enable(10),ge.normalMap&&v.enable(11),ge.objectSpaceNormalMap&&v.enable(12),ge.tangentSpaceNormalMap&&v.enable(13),ge.clearcoat&&v.enable(14),ge.clearcoatMap&&v.enable(15),ge.clearcoatRoughnessMap&&v.enable(16),ge.clearcoatNormalMap&&v.enable(17),ge.iridescence&&v.enable(18),ge.iridescenceMap&&v.enable(19),ge.iridescenceThicknessMap&&v.enable(20),ge.displacementMap&&v.enable(21),ge.specularMap&&v.enable(22),ge.roughnessMap&&v.enable(23),ge.metalnessMap&&v.enable(24),ge.gradientMap&&v.enable(25),ge.alphaMap&&v.enable(26),ge.alphaTest&&v.enable(27),ge.vertexColors&&v.enable(28),ge.vertexAlphas&&v.enable(29),ge.vertexUvs&&v.enable(30),ge.vertexTangents&&v.enable(31),ge.uvsVertexOnly&&v.enable(32),q.push(v.mask),v.disableAll(),ge.fog&&v.enable(0),ge.useFog&&v.enable(1),ge.flatShading&&v.enable(2),ge.logarithmicDepthBuffer&&v.enable(3),ge.skinning&&v.enable(4),ge.morphTargets&&v.enable(5),ge.morphNormals&&v.enable(6),ge.morphColors&&v.enable(7),ge.premultipliedAlpha&&v.enable(8),ge.shadowMapEnabled&&v.enable(9),ge.physicallyCorrectLights&&v.enable(10),ge.doubleSided&&v.enable(11),ge.flipSided&&v.enable(12),ge.useDepthPacking&&v.enable(13),ge.dithering&&v.enable(14),ge.specularIntensityMap&&v.enable(15),ge.specularColorMap&&v.enable(16),ge.transmission&&v.enable(17),ge.transmissionMap&&v.enable(18),ge.thicknessMap&&v.enable(19),ge.sheen&&v.enable(20),ge.sheenColorMap&&v.enable(21),ge.sheenRoughnessMap&&v.enable(22),ge.decodeVideoTexture&&v.enable(23),ge.opaque&&v.enable(24),q.push(v.mask)}function J(q){const ge=V[q.type];let we;if(ge){const Fe=ra[ge];we=mS.clone(Fe.uniforms)}else we=q.uniforms;return we}function te(q,ge){let we;for(let Fe=0,tt=E.length;Fe<tt;Fe++){const Pe=E[Fe];if(Pe.cacheKey===ge){we=Pe,++we.usedTimes;break}}return we===void 0&&(we=new t8(m,ge,q,d),E.push(we)),we}function j(q){if(--q.usedTimes===0){const ge=E.indexOf(q);E[ge]=E[E.length-1],E.pop(),q.destroy()}}function ne(q){A.remove(q)}function Ae(){A.dispose()}return{getParameters:O,getProgramCacheKey:k,getUniforms:J,acquireProgram:te,releaseProgram:j,releaseShaderCache:ne,programs:E,dispose:Ae}}function o8(){let m=new WeakMap;function t(d){let g=m.get(d);return g===void 0&&(g={},m.set(d,g)),g}function r(d){m.delete(d)}function o(d,g,v){m.get(d)[g]=v}function l(){m=new WeakMap}return{get:t,remove:r,update:o,dispose:l}}function a8(m,t){return m.groupOrder!==t.groupOrder?m.groupOrder-t.groupOrder:m.renderOrder!==t.renderOrder?m.renderOrder-t.renderOrder:m.material.id!==t.material.id?m.material.id-t.material.id:m.z!==t.z?m.z-t.z:m.id-t.id}function US(m,t){return m.groupOrder!==t.groupOrder?m.groupOrder-t.groupOrder:m.renderOrder!==t.renderOrder?m.renderOrder-t.renderOrder:m.z!==t.z?t.z-m.z:m.id-t.id}function HS(){const m=[];let t=0;const r=[],o=[],l=[];function d(){t=0,r.length=0,o.length=0,l.length=0}function g(I,P,B,V,O,k){let H=m[t];return H===void 0?(H={id:I.id,object:I,geometry:P,material:B,groupOrder:V,renderOrder:I.renderOrder,z:O,group:k},m[t]=H):(H.id=I.id,H.object=I,H.geometry=P,H.material=B,H.groupOrder=V,H.renderOrder=I.renderOrder,H.z=O,H.group=k),t++,H}function v(I,P,B,V,O,k){const H=g(I,P,B,V,O,k);B.transmission>0?o.push(H):B.transparent===!0?l.push(H):r.push(H)}function A(I,P,B,V,O,k){const H=g(I,P,B,V,O,k);B.transmission>0?o.unshift(H):B.transparent===!0?l.unshift(H):r.unshift(H)}function E(I,P){r.length>1&&r.sort(I||a8),o.length>1&&o.sort(P||US),l.length>1&&l.sort(P||US)}function R(){for(let I=t,P=m.length;I<P;I++){const B=m[I];if(B.id===null)break;B.id=null,B.object=null,B.geometry=null,B.material=null,B.group=null}}return{opaque:r,transmissive:o,transparent:l,init:d,push:v,unshift:A,finish:R,sort:E}}function l8(){let m=new WeakMap;function t(o,l){const d=m.get(o);let g;return d===void 0?(g=new HS,m.set(o,[g])):l>=d.length?(g=new HS,d.push(g)):g=d[l],g}function r(){m=new WeakMap}return{get:t,dispose:r}}function c8(){const m={};return{get:function(t){if(m[t.id]!==void 0)return m[t.id];let r;switch(t.type){case"DirectionalLight":r={direction:new et,color:new sr};break;case"SpotLight":r={position:new et,direction:new et,color:new sr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new et,color:new sr,distance:0,decay:0};break;case"HemisphereLight":r={direction:new et,skyColor:new sr,groundColor:new sr};break;case"RectAreaLight":r={color:new sr,position:new et,halfWidth:new et,halfHeight:new et};break}return m[t.id]=r,r}}}function u8(){const m={};return{get:function(t){if(m[t.id]!==void 0)return m[t.id];let r;switch(t.type){case"DirectionalLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fn};break;case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fn};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fn,shadowCameraNear:1,shadowCameraFar:1e3};break}return m[t.id]=r,r}}}let d8=0;function f8(m,t){return(t.castShadow?2:0)-(m.castShadow?2:0)+(t.map?1:0)-(m.map?1:0)}function h8(m,t){const r=new c8,o=u8(),l={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let R=0;R<9;R++)l.probe.push(new et);const d=new et,g=new br,v=new br;function A(R,I){let P=0,B=0,V=0;for(let Fe=0;Fe<9;Fe++)l.probe[Fe].set(0,0,0);let O=0,k=0,H=0,W=0,J=0,te=0,j=0,ne=0,Ae=0,q=0;R.sort(f8);const ge=I!==!0?Math.PI:1;for(let Fe=0,tt=R.length;Fe<tt;Fe++){const Pe=R[Fe],Oe=Pe.color,st=Pe.intensity,ht=Pe.distance,dt=Pe.shadow&&Pe.shadow.map?Pe.shadow.map.texture:null;if(Pe.isAmbientLight)P+=Oe.r*st*ge,B+=Oe.g*st*ge,V+=Oe.b*st*ge;else if(Pe.isLightProbe)for(let Le=0;Le<9;Le++)l.probe[Le].addScaledVector(Pe.sh.coefficients[Le],st);else if(Pe.isDirectionalLight){const Le=r.get(Pe);if(Le.color.copy(Pe.color).multiplyScalar(Pe.intensity*ge),Pe.castShadow){const Ze=Pe.shadow,lt=o.get(Pe);lt.shadowBias=Ze.bias,lt.shadowNormalBias=Ze.normalBias,lt.shadowRadius=Ze.radius,lt.shadowMapSize=Ze.mapSize,l.directionalShadow[O]=lt,l.directionalShadowMap[O]=dt,l.directionalShadowMatrix[O]=Pe.shadow.matrix,te++}l.directional[O]=Le,O++}else if(Pe.isSpotLight){const Le=r.get(Pe);Le.position.setFromMatrixPosition(Pe.matrixWorld),Le.color.copy(Oe).multiplyScalar(st*ge),Le.distance=ht,Le.coneCos=Math.cos(Pe.angle),Le.penumbraCos=Math.cos(Pe.angle*(1-Pe.penumbra)),Le.decay=Pe.decay,l.spot[H]=Le;const Ze=Pe.shadow;if(Pe.map&&(l.spotLightMap[Ae]=Pe.map,Ae++,Ze.updateMatrices(Pe),Pe.castShadow&&q++),l.spotLightMatrix[H]=Ze.matrix,Pe.castShadow){const lt=o.get(Pe);lt.shadowBias=Ze.bias,lt.shadowNormalBias=Ze.normalBias,lt.shadowRadius=Ze.radius,lt.shadowMapSize=Ze.mapSize,l.spotShadow[H]=lt,l.spotShadowMap[H]=dt,ne++}H++}else if(Pe.isRectAreaLight){const Le=r.get(Pe);Le.color.copy(Oe).multiplyScalar(st),Le.halfWidth.set(Pe.width*.5,0,0),Le.halfHeight.set(0,Pe.height*.5,0),l.rectArea[W]=Le,W++}else if(Pe.isPointLight){const Le=r.get(Pe);if(Le.color.copy(Pe.color).multiplyScalar(Pe.intensity*ge),Le.distance=Pe.distance,Le.decay=Pe.decay,Pe.castShadow){const Ze=Pe.shadow,lt=o.get(Pe);lt.shadowBias=Ze.bias,lt.shadowNormalBias=Ze.normalBias,lt.shadowRadius=Ze.radius,lt.shadowMapSize=Ze.mapSize,lt.shadowCameraNear=Ze.camera.near,lt.shadowCameraFar=Ze.camera.far,l.pointShadow[k]=lt,l.pointShadowMap[k]=dt,l.pointShadowMatrix[k]=Pe.shadow.matrix,j++}l.point[k]=Le,k++}else if(Pe.isHemisphereLight){const Le=r.get(Pe);Le.skyColor.copy(Pe.color).multiplyScalar(st*ge),Le.groundColor.copy(Pe.groundColor).multiplyScalar(st*ge),l.hemi[J]=Le,J++}}W>0&&(t.isWebGL2||m.has("OES_texture_float_linear")===!0?(l.rectAreaLTC1=Rn.LTC_FLOAT_1,l.rectAreaLTC2=Rn.LTC_FLOAT_2):m.has("OES_texture_half_float_linear")===!0?(l.rectAreaLTC1=Rn.LTC_HALF_1,l.rectAreaLTC2=Rn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),l.ambient[0]=P,l.ambient[1]=B,l.ambient[2]=V;const we=l.hash;(we.directionalLength!==O||we.pointLength!==k||we.spotLength!==H||we.rectAreaLength!==W||we.hemiLength!==J||we.numDirectionalShadows!==te||we.numPointShadows!==j||we.numSpotShadows!==ne||we.numSpotMaps!==Ae)&&(l.directional.length=O,l.spot.length=H,l.rectArea.length=W,l.point.length=k,l.hemi.length=J,l.directionalShadow.length=te,l.directionalShadowMap.length=te,l.pointShadow.length=j,l.pointShadowMap.length=j,l.spotShadow.length=ne,l.spotShadowMap.length=ne,l.directionalShadowMatrix.length=te,l.pointShadowMatrix.length=j,l.spotLightMatrix.length=ne+Ae-q,l.spotLightMap.length=Ae,l.numSpotLightShadowsWithMaps=q,we.directionalLength=O,we.pointLength=k,we.spotLength=H,we.rectAreaLength=W,we.hemiLength=J,we.numDirectionalShadows=te,we.numPointShadows=j,we.numSpotShadows=ne,we.numSpotMaps=Ae,l.version=d8++)}function E(R,I){let P=0,B=0,V=0,O=0,k=0;const H=I.matrixWorldInverse;for(let W=0,J=R.length;W<J;W++){const te=R[W];if(te.isDirectionalLight){const j=l.directional[P];j.direction.setFromMatrixPosition(te.matrixWorld),d.setFromMatrixPosition(te.target.matrixWorld),j.direction.sub(d),j.direction.transformDirection(H),P++}else if(te.isSpotLight){const j=l.spot[V];j.position.setFromMatrixPosition(te.matrixWorld),j.position.applyMatrix4(H),j.direction.setFromMatrixPosition(te.matrixWorld),d.setFromMatrixPosition(te.target.matrixWorld),j.direction.sub(d),j.direction.transformDirection(H),V++}else if(te.isRectAreaLight){const j=l.rectArea[O];j.position.setFromMatrixPosition(te.matrixWorld),j.position.applyMatrix4(H),v.identity(),g.copy(te.matrixWorld),g.premultiply(H),v.extractRotation(g),j.halfWidth.set(te.width*.5,0,0),j.halfHeight.set(0,te.height*.5,0),j.halfWidth.applyMatrix4(v),j.halfHeight.applyMatrix4(v),O++}else if(te.isPointLight){const j=l.point[B];j.position.setFromMatrixPosition(te.matrixWorld),j.position.applyMatrix4(H),B++}else if(te.isHemisphereLight){const j=l.hemi[k];j.direction.setFromMatrixPosition(te.matrixWorld),j.direction.transformDirection(H),k++}}}return{setup:A,setupView:E,state:l}}function QS(m,t){const r=new h8(m,t),o=[],l=[];function d(){o.length=0,l.length=0}function g(I){o.push(I)}function v(I){l.push(I)}function A(I){r.setup(o,I)}function E(I){r.setupView(o,I)}return{init:d,state:{lightsArray:o,shadowsArray:l,lights:r},setupLights:A,setupLightsView:E,pushLight:g,pushShadow:v}}function p8(m,t){let r=new WeakMap;function o(d,g=0){const v=r.get(d);let A;return v===void 0?(A=new QS(m,t),r.set(d,[A])):g>=v.length?(A=new QS(m,t),v.push(A)):A=v[g],A}function l(){r=new WeakMap}return{get:o,dispose:l}}class m8 extends Zs{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=YD,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class g8 extends Zs{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new et,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}const v8=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,_8=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function A8(m,t,r){let o=new d_;const l=new Fn,d=new Fn,g=new ni,v=new m8({depthPacking:JD}),A=new g8,E={},R=r.maxTextureSize,I={0:U,1:G,2:$},P=new Mo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Fn},radius:{value:4}},vertexShader:v8,fragmentShader:_8}),B=P.clone();B.defines.HORIZONTAL_PASS=1;const V=new Oi;V.setAttribute("position",new ri(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const O=new Fi(V,P),k=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=D,this.render=function(te,j,ne){if(k.enabled===!1||k.autoUpdate===!1&&k.needsUpdate===!1||te.length===0)return;const Ae=m.getRenderTarget(),q=m.getActiveCubeFace(),ge=m.getActiveMipmapLevel(),we=m.state;we.setBlending(de),we.buffers.color.setClear(1,1,1,1),we.buffers.depth.setTest(!0),we.setScissorTest(!1);for(let Fe=0,tt=te.length;Fe<tt;Fe++){const Pe=te[Fe],Oe=Pe.shadow;if(Oe===void 0){console.warn("THREE.WebGLShadowMap:",Pe,"has no shadow.");continue}if(Oe.autoUpdate===!1&&Oe.needsUpdate===!1)continue;l.copy(Oe.mapSize);const st=Oe.getFrameExtents();if(l.multiply(st),d.copy(Oe.mapSize),(l.x>R||l.y>R)&&(l.x>R&&(d.x=Math.floor(R/st.x),l.x=d.x*st.x,Oe.mapSize.x=d.x),l.y>R&&(d.y=Math.floor(R/st.y),l.y=d.y*st.y,Oe.mapSize.y=d.y)),Oe.map===null){const dt=this.type!==N?{minFilter:Mt,magFilter:Mt}:{};Oe.map=new hc(l.x,l.y,dt),Oe.map.texture.name=Pe.name+".shadowMap",Oe.camera.updateProjectionMatrix()}m.setRenderTarget(Oe.map),m.clear();const ht=Oe.getViewportCount();for(let dt=0;dt<ht;dt++){const Le=Oe.getViewport(dt);g.set(d.x*Le.x,d.y*Le.y,d.x*Le.z,d.y*Le.w),we.viewport(g),Oe.updateMatrices(Pe,dt),o=Oe.getFrustum(),J(j,ne,Oe.camera,Pe,this.type)}Oe.isPointLightShadow!==!0&&this.type===N&&H(Oe,ne),Oe.needsUpdate=!1}k.needsUpdate=!1,m.setRenderTarget(Ae,q,ge)};function H(te,j){const ne=t.update(O);P.defines.VSM_SAMPLES!==te.blurSamples&&(P.defines.VSM_SAMPLES=te.blurSamples,B.defines.VSM_SAMPLES=te.blurSamples,P.needsUpdate=!0,B.needsUpdate=!0),te.mapPass===null&&(te.mapPass=new hc(l.x,l.y)),P.uniforms.shadow_pass.value=te.map.texture,P.uniforms.resolution.value=te.mapSize,P.uniforms.radius.value=te.radius,m.setRenderTarget(te.mapPass),m.clear(),m.renderBufferDirect(j,null,ne,P,O,null),B.uniforms.shadow_pass.value=te.mapPass.texture,B.uniforms.resolution.value=te.mapSize,B.uniforms.radius.value=te.radius,m.setRenderTarget(te.map),m.clear(),m.renderBufferDirect(j,null,ne,B,O,null)}function W(te,j,ne,Ae,q,ge){let we=null;const Fe=ne.isPointLight===!0?te.customDistanceMaterial:te.customDepthMaterial;if(Fe!==void 0?we=Fe:we=ne.isPointLight===!0?A:v,m.localClippingEnabled&&j.clipShadows===!0&&Array.isArray(j.clippingPlanes)&&j.clippingPlanes.length!==0||j.displacementMap&&j.displacementScale!==0||j.alphaMap&&j.alphaTest>0){const tt=we.uuid,Pe=j.uuid;let Oe=E[tt];Oe===void 0&&(Oe={},E[tt]=Oe);let st=Oe[Pe];st===void 0&&(st=we.clone(),Oe[Pe]=st),we=st}return we.visible=j.visible,we.wireframe=j.wireframe,ge===N?we.side=j.shadowSide!==null?j.shadowSide:j.side:we.side=j.shadowSide!==null?j.shadowSide:I[j.side],we.alphaMap=j.alphaMap,we.alphaTest=j.alphaTest,we.clipShadows=j.clipShadows,we.clippingPlanes=j.clippingPlanes,we.clipIntersection=j.clipIntersection,we.displacementMap=j.displacementMap,we.displacementScale=j.displacementScale,we.displacementBias=j.displacementBias,we.wireframeLinewidth=j.wireframeLinewidth,we.linewidth=j.linewidth,ne.isPointLight===!0&&we.isMeshDistanceMaterial===!0&&(we.referencePosition.setFromMatrixPosition(ne.matrixWorld),we.nearDistance=Ae,we.farDistance=q),we}function J(te,j,ne,Ae,q){if(te.visible===!1)return;if(te.layers.test(j.layers)&&(te.isMesh||te.isLine||te.isPoints)&&(te.castShadow||te.receiveShadow&&q===N)&&(!te.frustumCulled||o.intersectsObject(te))){te.modelViewMatrix.multiplyMatrices(ne.matrixWorldInverse,te.matrixWorld);const Fe=t.update(te),tt=te.material;if(Array.isArray(tt)){const Pe=Fe.groups;for(let Oe=0,st=Pe.length;Oe<st;Oe++){const ht=Pe[Oe],dt=tt[ht.materialIndex];if(dt&&dt.visible){const Le=W(te,dt,Ae,ne.near,ne.far,q);m.renderBufferDirect(ne,null,Fe,Le,te,ht)}}}else if(tt.visible){const Pe=W(te,tt,Ae,ne.near,ne.far,q);m.renderBufferDirect(ne,null,Fe,Pe,te,null)}}const we=te.children;for(let Fe=0,tt=we.length;Fe<tt;Fe++)J(we[Fe],j,ne,Ae,q)}}function y8(m,t,r){const o=r.isWebGL2;function l(){let mt=!1;const Cn=new ni;let Kt=null;const On=new ni(0,0,0,0);return{setMask:function(kn){Kt!==kn&&!mt&&(m.colorMask(kn,kn,kn,kn),Kt=kn)},setLocked:function(kn){mt=kn},setClear:function(kn,Sr,Ai,mi,ca){ca===!0&&(kn*=mi,Sr*=mi,Ai*=mi),Cn.set(kn,Sr,Ai,mi),On.equals(Cn)===!1&&(m.clearColor(kn,Sr,Ai,mi),On.copy(Cn))},reset:function(){mt=!1,Kt=null,On.set(-1,0,0,0)}}}function d(){let mt=!1,Cn=null,Kt=null,On=null;return{setTest:function(kn){kn?We(2929):Nt(2929)},setMask:function(kn){Cn!==kn&&!mt&&(m.depthMask(kn),Cn=kn)},setFunc:function(kn){if(Kt!==kn){if(kn)switch(kn){case ot:m.depthFunc(512);break;case At:m.depthFunc(519);break;case on:m.depthFunc(513);break;case Ne:m.depthFunc(515);break;case $e:m.depthFunc(514);break;case ft:m.depthFunc(518);break;case Tt:m.depthFunc(516);break;case Bt:m.depthFunc(517);break;default:m.depthFunc(515)}else m.depthFunc(515);Kt=kn}},setLocked:function(kn){mt=kn},setClear:function(kn){On!==kn&&(m.clearDepth(kn),On=kn)},reset:function(){mt=!1,Cn=null,Kt=null,On=null}}}function g(){let mt=!1,Cn=null,Kt=null,On=null,kn=null,Sr=null,Ai=null,mi=null,ca=null;return{setTest:function(ii){mt||(ii?We(2960):Nt(2960))},setMask:function(ii){Cn!==ii&&!mt&&(m.stencilMask(ii),Cn=ii)},setFunc:function(ii,Gs,Ss){(Kt!==ii||On!==Gs||kn!==Ss)&&(m.stencilFunc(ii,Gs,Ss),Kt=ii,On=Gs,kn=Ss)},setOp:function(ii,Gs,Ss){(Sr!==ii||Ai!==Gs||mi!==Ss)&&(m.stencilOp(ii,Gs,Ss),Sr=ii,Ai=Gs,mi=Ss)},setLocked:function(ii){mt=ii},setClear:function(ii){ca!==ii&&(m.clearStencil(ii),ca=ii)},reset:function(){mt=!1,Cn=null,Kt=null,On=null,kn=null,Sr=null,Ai=null,mi=null,ca=null}}}const v=new l,A=new d,E=new g,R=new WeakMap,I=new WeakMap;let P={},B={},V=new WeakMap,O=[],k=null,H=!1,W=null,J=null,te=null,j=null,ne=null,Ae=null,q=null,ge=!1,we=null,Fe=null,tt=null,Pe=null,Oe=null;const st=m.getParameter(35661);let ht=!1,dt=0;const Le=m.getParameter(7938);Le.indexOf("WebGL")!==-1?(dt=parseFloat(/^WebGL (\d)/.exec(Le)[1]),ht=dt>=1):Le.indexOf("OpenGL ES")!==-1&&(dt=parseFloat(/^OpenGL ES (\d)/.exec(Le)[1]),ht=dt>=2);let Ze=null,lt={};const Ut=m.getParameter(3088),Vt=m.getParameter(2978),Wt=new ni().fromArray(Ut),c=new ni().fromArray(Vt);function Ln(mt,Cn,Kt){const On=new Uint8Array(4),kn=m.createTexture();m.bindTexture(mt,kn),m.texParameteri(mt,10241,9728),m.texParameteri(mt,10240,9728);for(let Sr=0;Sr<Kt;Sr++)m.texImage2D(Cn+Sr,0,6408,1,1,0,6408,5121,On);return kn}const ut={};ut[3553]=Ln(3553,3553,1),ut[34067]=Ln(34067,34069,6),v.setClear(0,0,0,1),A.setClear(1),E.setClear(0),We(2929),A.setFunc(Ne),pn(!1),Ve(M),We(2884),Rr(de);function We(mt){P[mt]!==!0&&(m.enable(mt),P[mt]=!0)}function Nt(mt){P[mt]!==!1&&(m.disable(mt),P[mt]=!1)}function jt(mt,Cn){return B[mt]!==Cn?(m.bindFramebuffer(mt,Cn),B[mt]=Cn,o&&(mt===36009&&(B[36160]=Cn),mt===36160&&(B[36009]=Cn)),!0):!1}function $t(mt,Cn){let Kt=O,On=!1;if(mt)if(Kt=V.get(Cn),Kt===void 0&&(Kt=[],V.set(Cn,Kt)),mt.isWebGLMultipleRenderTargets){const kn=mt.texture;if(Kt.length!==kn.length||Kt[0]!==36064){for(let Sr=0,Ai=kn.length;Sr<Ai;Sr++)Kt[Sr]=36064+Sr;Kt.length=kn.length,On=!0}}else Kt[0]!==36064&&(Kt[0]=36064,On=!0);else Kt[0]!==1029&&(Kt[0]=1029,On=!0);On&&(r.isWebGL2?m.drawBuffers(Kt):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Kt))}function Sn(mt){return k!==mt?(m.useProgram(mt),k=mt,!0):!1}const Pn={[ae]:32774,[ye]:32778,[be]:32779};if(o)Pn[_e]=32775,Pn[ie]=32776;else{const mt=t.get("EXT_blend_minmax");mt!==null&&(Pn[_e]=mt.MIN_EXT,Pn[ie]=mt.MAX_EXT)}const Un={[fe]:0,[le]:1,[ke]:768,[Te]:770,[je]:776,[xt]:774,[_t]:772,[ze]:769,[Xe]:771,[it]:775,[wt]:773};function Rr(mt,Cn,Kt,On,kn,Sr,Ai,mi){if(mt===de){H===!0&&(Nt(3042),H=!1);return}if(H===!1&&(We(3042),H=!0),mt!==pe){if(mt!==W||mi!==ge){if((J!==ae||ne!==ae)&&(m.blendEquation(32774),J=ae,ne=ae),mi)switch(mt){case ee:m.blendFuncSeparate(1,771,1,771);break;case se:m.blendFunc(1,1);break;case oe:m.blendFuncSeparate(0,769,0,1);break;case Ie:m.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",mt);break}else switch(mt){case ee:m.blendFuncSeparate(770,771,1,771);break;case se:m.blendFunc(770,1);break;case oe:m.blendFuncSeparate(0,769,0,1);break;case Ie:m.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",mt);break}te=null,j=null,Ae=null,q=null,W=mt,ge=mi}return}kn=kn||Cn,Sr=Sr||Kt,Ai=Ai||On,(Cn!==J||kn!==ne)&&(m.blendEquationSeparate(Pn[Cn],Pn[kn]),J=Cn,ne=kn),(Kt!==te||On!==j||Sr!==Ae||Ai!==q)&&(m.blendFuncSeparate(Un[Kt],Un[On],Un[Sr],Un[Ai]),te=Kt,j=On,Ae=Sr,q=Ai),W=mt,ge=null}function rn(mt,Cn){mt.side===$?Nt(2884):We(2884);let Kt=mt.side===U;Cn&&(Kt=!Kt),pn(Kt),mt.blending===ee&&mt.transparent===!1?Rr(de):Rr(mt.blending,mt.blendEquation,mt.blendSrc,mt.blendDst,mt.blendEquationAlpha,mt.blendSrcAlpha,mt.blendDstAlpha,mt.premultipliedAlpha),A.setFunc(mt.depthFunc),A.setTest(mt.depthTest),A.setMask(mt.depthWrite),v.setMask(mt.colorWrite);const On=mt.stencilWrite;E.setTest(On),On&&(E.setMask(mt.stencilWriteMask),E.setFunc(mt.stencilFunc,mt.stencilRef,mt.stencilFuncMask),E.setOp(mt.stencilFail,mt.stencilZFail,mt.stencilZPass)),bn(mt.polygonOffset,mt.polygonOffsetFactor,mt.polygonOffsetUnits),mt.alphaToCoverage===!0?We(32926):Nt(32926)}function pn(mt){we!==mt&&(mt?m.frontFace(2304):m.frontFace(2305),we=mt)}function Ve(mt){mt!==x?(We(2884),mt!==Fe&&(mt===M?m.cullFace(1029):mt===T?m.cullFace(1028):m.cullFace(1032))):Nt(2884),Fe=mt}function Xn(mt){mt!==tt&&(ht&&m.lineWidth(mt),tt=mt)}function bn(mt,Cn,Kt){mt?(We(32823),(Pe!==Cn||Oe!==Kt)&&(m.polygonOffset(Cn,Kt),Pe=Cn,Oe=Kt)):Nt(32823)}function Rt(mt){mt?We(3089):Nt(3089)}function ce(mt){mt===void 0&&(mt=33984+st-1),Ze!==mt&&(m.activeTexture(mt),Ze=mt)}function X(mt,Cn){Ze===null&&ce();let Kt=lt[Ze];Kt===void 0&&(Kt={type:void 0,texture:void 0},lt[Ze]=Kt),(Kt.type!==mt||Kt.texture!==Cn)&&(m.bindTexture(mt,Cn||ut[mt]),Kt.type=mt,Kt.texture=Cn)}function K(){const mt=lt[Ze];mt!==void 0&&mt.type!==void 0&&(m.bindTexture(mt.type,null),mt.type=void 0,mt.texture=void 0)}function ue(){try{m.compressedTexImage2D.apply(m,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function De(){try{m.texSubImage2D.apply(m,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function Je(){try{m.texSubImage3D.apply(m,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function It(){try{m.compressedTexSubImage2D.apply(m,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function nn(){try{m.texStorage2D.apply(m,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function Me(){try{m.texStorage3D.apply(m,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function qt(){try{m.texImage2D.apply(m,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function ln(){try{m.texImage3D.apply(m,arguments)}catch(mt){console.error("THREE.WebGLState:",mt)}}function xn(mt){Wt.equals(mt)===!1&&(m.scissor(mt.x,mt.y,mt.z,mt.w),Wt.copy(mt))}function yn(mt){c.equals(mt)===!1&&(m.viewport(mt.x,mt.y,mt.z,mt.w),c.copy(mt))}function Vn(mt,Cn){let Kt=I.get(Cn);Kt===void 0&&(Kt=new WeakMap,I.set(Cn,Kt));let On=Kt.get(mt);On===void 0&&(On=m.getUniformBlockIndex(Cn,mt.name),Kt.set(mt,On))}function vr(mt,Cn){const On=I.get(Cn).get(mt);R.get(mt)!==On&&(m.uniformBlockBinding(Cn,On,mt.__bindingPointIndex),R.set(mt,On))}function Gr(){m.disable(3042),m.disable(2884),m.disable(2929),m.disable(32823),m.disable(3089),m.disable(2960),m.disable(32926),m.blendEquation(32774),m.blendFunc(1,0),m.blendFuncSeparate(1,0,1,0),m.colorMask(!0,!0,!0,!0),m.clearColor(0,0,0,0),m.depthMask(!0),m.depthFunc(513),m.clearDepth(1),m.stencilMask(4294967295),m.stencilFunc(519,0,4294967295),m.stencilOp(7680,7680,7680),m.clearStencil(0),m.cullFace(1029),m.frontFace(2305),m.polygonOffset(0,0),m.activeTexture(33984),m.bindFramebuffer(36160,null),o===!0&&(m.bindFramebuffer(36009,null),m.bindFramebuffer(36008,null)),m.useProgram(null),m.lineWidth(1),m.scissor(0,0,m.canvas.width,m.canvas.height),m.viewport(0,0,m.canvas.width,m.canvas.height),P={},Ze=null,lt={},B={},V=new WeakMap,O=[],k=null,H=!1,W=null,J=null,te=null,j=null,ne=null,Ae=null,q=null,ge=!1,we=null,Fe=null,tt=null,Pe=null,Oe=null,Wt.set(0,0,m.canvas.width,m.canvas.height),c.set(0,0,m.canvas.width,m.canvas.height),v.reset(),A.reset(),E.reset()}return{buffers:{color:v,depth:A,stencil:E},enable:We,disable:Nt,bindFramebuffer:jt,drawBuffers:$t,useProgram:Sn,setBlending:Rr,setMaterial:rn,setFlipSided:pn,setCullFace:Ve,setLineWidth:Xn,setPolygonOffset:bn,setScissorTest:Rt,activeTexture:ce,bindTexture:X,unbindTexture:K,compressedTexImage2D:ue,texImage2D:qt,texImage3D:ln,updateUBOMapping:Vn,uniformBlockBinding:vr,texStorage2D:nn,texStorage3D:Me,texSubImage2D:De,texSubImage3D:Je,compressedTexSubImage2D:It,scissor:xn,viewport:yn,reset:Gr}}function b8(m,t,r,o,l,d,g){const v=l.isWebGL2,A=l.maxTextures,E=l.maxCubemapSize,R=l.maxTextureSize,I=l.maxSamples,P=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,B=/OculusBrowser/g.test(navigator.userAgent),V=new WeakMap;let O;const k=new WeakMap;let H=!1;try{H=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function W(X,K){return H?new OffscreenCanvas(X,K):rf("canvas")}function J(X,K,ue,De){let Je=1;if((X.width>De||X.height>De)&&(Je=De/Math.max(X.width,X.height)),Je<1||K===!0)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap){const It=K?gp:Math.floor,nn=It(Je*X.width),Me=It(Je*X.height);O===void 0&&(O=W(nn,Me));const qt=ue?W(nn,Me):O;return qt.width=nn,qt.height=Me,qt.getContext("2d").drawImage(X,0,0,nn,Me),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+X.width+"x"+X.height+") to ("+nn+"x"+Me+")."),qt}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+X.width+"x"+X.height+")."),X;return X}function te(X){return Gv(X.width)&&Gv(X.height)}function j(X){return v?!1:X.wrapS!==Qe||X.wrapT!==Qe||X.minFilter!==Mt&&X.minFilter!==pr}function ne(X,K){return X.generateMipmaps&&K&&X.minFilter!==Mt&&X.minFilter!==pr}function Ae(X){m.generateMipmap(X)}function q(X,K,ue,De,Je=!1){if(v===!1)return K;if(X!==null){if(m[X]!==void 0)return m[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let It=K;return K===6403&&(ue===5126&&(It=33326),ue===5131&&(It=33325),ue===5121&&(It=33321)),K===33319&&(ue===5126&&(It=33328),ue===5131&&(It=33327),ue===5121&&(It=33323)),K===6408&&(ue===5126&&(It=34836),ue===5131&&(It=34842),ue===5121&&(It=De===Or&&Je===!1?35907:32856),ue===32819&&(It=32854),ue===32820&&(It=32855)),(It===33325||It===33326||It===33327||It===33328||It===34842||It===34836)&&t.get("EXT_color_buffer_float"),It}function ge(X,K,ue){return ne(X,ue)===!0||X.isFramebufferTexture&&X.minFilter!==Mt&&X.minFilter!==pr?Math.log2(Math.max(K.width,K.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?K.mipmaps.length:1}function we(X){return X===Mt||X===Wn||X===Ir?9728:9729}function Fe(X){const K=X.target;K.removeEventListener("dispose",Fe),Pe(K),K.isVideoTexture&&V.delete(K)}function tt(X){const K=X.target;K.removeEventListener("dispose",tt),st(K)}function Pe(X){const K=o.get(X);if(K.__webglInit===void 0)return;const ue=X.source,De=k.get(ue);if(De){const Je=De[K.__cacheKey];Je.usedTimes--,Je.usedTimes===0&&Oe(X),Object.keys(De).length===0&&k.delete(ue)}o.remove(X)}function Oe(X){const K=o.get(X);m.deleteTexture(K.__webglTexture);const ue=X.source,De=k.get(ue);delete De[K.__cacheKey],g.memory.textures--}function st(X){const K=X.texture,ue=o.get(X),De=o.get(K);if(De.__webglTexture!==void 0&&(m.deleteTexture(De.__webglTexture),g.memory.textures--),X.depthTexture&&X.depthTexture.dispose(),X.isWebGLCubeRenderTarget)for(let Je=0;Je<6;Je++)m.deleteFramebuffer(ue.__webglFramebuffer[Je]),ue.__webglDepthbuffer&&m.deleteRenderbuffer(ue.__webglDepthbuffer[Je]);else{if(m.deleteFramebuffer(ue.__webglFramebuffer),ue.__webglDepthbuffer&&m.deleteRenderbuffer(ue.__webglDepthbuffer),ue.__webglMultisampledFramebuffer&&m.deleteFramebuffer(ue.__webglMultisampledFramebuffer),ue.__webglColorRenderbuffer)for(let Je=0;Je<ue.__webglColorRenderbuffer.length;Je++)ue.__webglColorRenderbuffer[Je]&&m.deleteRenderbuffer(ue.__webglColorRenderbuffer[Je]);ue.__webglDepthRenderbuffer&&m.deleteRenderbuffer(ue.__webglDepthRenderbuffer)}if(X.isWebGLMultipleRenderTargets)for(let Je=0,It=K.length;Je<It;Je++){const nn=o.get(K[Je]);nn.__webglTexture&&(m.deleteTexture(nn.__webglTexture),g.memory.textures--),o.remove(K[Je])}o.remove(K),o.remove(X)}let ht=0;function dt(){ht=0}function Le(){const X=ht;return X>=A&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+A),ht+=1,X}function Ze(X){const K=[];return K.push(X.wrapS),K.push(X.wrapT),K.push(X.magFilter),K.push(X.minFilter),K.push(X.anisotropy),K.push(X.internalFormat),K.push(X.format),K.push(X.type),K.push(X.generateMipmaps),K.push(X.premultiplyAlpha),K.push(X.flipY),K.push(X.unpackAlignment),K.push(X.encoding),K.join()}function lt(X,K){const ue=o.get(X);if(X.isVideoTexture&&Rt(X),X.isRenderTargetTexture===!1&&X.version>0&&ue.__version!==X.version){const De=X.image;if(De===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(De.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Nt(ue,X,K);return}}r.activeTexture(33984+K),r.bindTexture(3553,ue.__webglTexture)}function Ut(X,K){const ue=o.get(X);if(X.version>0&&ue.__version!==X.version){Nt(ue,X,K);return}r.activeTexture(33984+K),r.bindTexture(35866,ue.__webglTexture)}function Vt(X,K){const ue=o.get(X);if(X.version>0&&ue.__version!==X.version){Nt(ue,X,K);return}r.activeTexture(33984+K),r.bindTexture(32879,ue.__webglTexture)}function Wt(X,K){const ue=o.get(X);if(X.version>0&&ue.__version!==X.version){jt(ue,X,K);return}r.activeTexture(33984+K),r.bindTexture(34067,ue.__webglTexture)}const c={[Ee]:10497,[Qe]:33071,[Et]:33648},Ln={[Mt]:9728,[Wn]:9984,[Ir]:9986,[pr]:9729,[oi]:9985,[zn]:9987};function ut(X,K,ue){if(ue?(m.texParameteri(X,10242,c[K.wrapS]),m.texParameteri(X,10243,c[K.wrapT]),(X===32879||X===35866)&&m.texParameteri(X,32882,c[K.wrapR]),m.texParameteri(X,10240,Ln[K.magFilter]),m.texParameteri(X,10241,Ln[K.minFilter])):(m.texParameteri(X,10242,33071),m.texParameteri(X,10243,33071),(X===32879||X===35866)&&m.texParameteri(X,32882,33071),(K.wrapS!==Qe||K.wrapT!==Qe)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),m.texParameteri(X,10240,we(K.magFilter)),m.texParameteri(X,10241,we(K.minFilter)),K.minFilter!==Mt&&K.minFilter!==pr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),t.has("EXT_texture_filter_anisotropic")===!0){const De=t.get("EXT_texture_filter_anisotropic");if(K.type===ei&&t.has("OES_texture_float_linear")===!1||v===!1&&K.type===Di&&t.has("OES_texture_half_float_linear")===!1)return;(K.anisotropy>1||o.get(K).__currentAnisotropy)&&(m.texParameterf(X,De.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(K.anisotropy,l.getMaxAnisotropy())),o.get(K).__currentAnisotropy=K.anisotropy)}}function We(X,K){let ue=!1;X.__webglInit===void 0&&(X.__webglInit=!0,K.addEventListener("dispose",Fe));const De=K.source;let Je=k.get(De);Je===void 0&&(Je={},k.set(De,Je));const It=Ze(K);if(It!==X.__cacheKey){Je[It]===void 0&&(Je[It]={texture:m.createTexture(),usedTimes:0},g.memory.textures++,ue=!0),Je[It].usedTimes++;const nn=Je[X.__cacheKey];nn!==void 0&&(Je[X.__cacheKey].usedTimes--,nn.usedTimes===0&&Oe(K)),X.__cacheKey=It,X.__webglTexture=Je[It].texture}return ue}function Nt(X,K,ue){let De=3553;K.isDataArrayTexture&&(De=35866),K.isData3DTexture&&(De=32879);const Je=We(X,K),It=K.source;if(r.activeTexture(33984+ue),r.bindTexture(De,X.__webglTexture),It.version!==It.__currentVersion||Je===!0){m.pixelStorei(37440,K.flipY),m.pixelStorei(37441,K.premultiplyAlpha),m.pixelStorei(3317,K.unpackAlignment),m.pixelStorei(37443,0);const nn=j(K)&&te(K.image)===!1;let Me=J(K.image,nn,!1,R);Me=ce(K,Me);const qt=te(Me)||v,ln=d.convert(K.format,K.encoding);let xn=d.convert(K.type),yn=q(K.internalFormat,ln,xn,K.encoding,K.isVideoTexture);ut(De,K,qt);let Vn;const vr=K.mipmaps,Gr=v&&K.isVideoTexture!==!0,mt=It.__currentVersion===void 0||Je===!0,Cn=ge(K,Me,qt);if(K.isDepthTexture)yn=6402,v?K.type===ei?yn=36012:K.type===Ni?yn=33190:K.type===Au?yn=35056:yn=33189:K.type===ei&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),K.format===cc&&yn===6402&&K.type!==er&&K.type!==Ni&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),K.type=Ni,xn=d.convert(K.type)),K.format===yu&&yn===6402&&(yn=34041,K.type!==Au&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),K.type=Au,xn=d.convert(K.type))),mt&&(Gr?r.texStorage2D(3553,1,yn,Me.width,Me.height):r.texImage2D(3553,0,yn,Me.width,Me.height,0,ln,xn,null));else if(K.isDataTexture)if(vr.length>0&&qt){Gr&&mt&&r.texStorage2D(3553,Cn,yn,vr[0].width,vr[0].height);for(let Kt=0,On=vr.length;Kt<On;Kt++)Vn=vr[Kt],Gr?r.texSubImage2D(3553,Kt,0,0,Vn.width,Vn.height,ln,xn,Vn.data):r.texImage2D(3553,Kt,yn,Vn.width,Vn.height,0,ln,xn,Vn.data);K.generateMipmaps=!1}else Gr?(mt&&r.texStorage2D(3553,Cn,yn,Me.width,Me.height),r.texSubImage2D(3553,0,0,0,Me.width,Me.height,ln,xn,Me.data)):r.texImage2D(3553,0,yn,Me.width,Me.height,0,ln,xn,Me.data);else if(K.isCompressedTexture){Gr&&mt&&r.texStorage2D(3553,Cn,yn,vr[0].width,vr[0].height);for(let Kt=0,On=vr.length;Kt<On;Kt++)Vn=vr[Kt],K.format!==ji?ln!==null?Gr?r.compressedTexSubImage2D(3553,Kt,0,0,Vn.width,Vn.height,ln,Vn.data):r.compressedTexImage2D(3553,Kt,yn,Vn.width,Vn.height,0,Vn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Gr?r.texSubImage2D(3553,Kt,0,0,Vn.width,Vn.height,ln,xn,Vn.data):r.texImage2D(3553,Kt,yn,Vn.width,Vn.height,0,ln,xn,Vn.data)}else if(K.isDataArrayTexture)Gr?(mt&&r.texStorage3D(35866,Cn,yn,Me.width,Me.height,Me.depth),r.texSubImage3D(35866,0,0,0,0,Me.width,Me.height,Me.depth,ln,xn,Me.data)):r.texImage3D(35866,0,yn,Me.width,Me.height,Me.depth,0,ln,xn,Me.data);else if(K.isData3DTexture)Gr?(mt&&r.texStorage3D(32879,Cn,yn,Me.width,Me.height,Me.depth),r.texSubImage3D(32879,0,0,0,0,Me.width,Me.height,Me.depth,ln,xn,Me.data)):r.texImage3D(32879,0,yn,Me.width,Me.height,Me.depth,0,ln,xn,Me.data);else if(K.isFramebufferTexture){if(mt)if(Gr)r.texStorage2D(3553,Cn,yn,Me.width,Me.height);else{let Kt=Me.width,On=Me.height;for(let kn=0;kn<Cn;kn++)r.texImage2D(3553,kn,yn,Kt,On,0,ln,xn,null),Kt>>=1,On>>=1}}else if(vr.length>0&&qt){Gr&&mt&&r.texStorage2D(3553,Cn,yn,vr[0].width,vr[0].height);for(let Kt=0,On=vr.length;Kt<On;Kt++)Vn=vr[Kt],Gr?r.texSubImage2D(3553,Kt,0,0,ln,xn,Vn):r.texImage2D(3553,Kt,yn,ln,xn,Vn);K.generateMipmaps=!1}else Gr?(mt&&r.texStorage2D(3553,Cn,yn,Me.width,Me.height),r.texSubImage2D(3553,0,0,0,ln,xn,Me)):r.texImage2D(3553,0,yn,ln,xn,Me);ne(K,qt)&&Ae(De),It.__currentVersion=It.version,K.onUpdate&&K.onUpdate(K)}X.__version=K.version}function jt(X,K,ue){if(K.image.length!==6)return;const De=We(X,K),Je=K.source;if(r.activeTexture(33984+ue),r.bindTexture(34067,X.__webglTexture),Je.version!==Je.__currentVersion||De===!0){m.pixelStorei(37440,K.flipY),m.pixelStorei(37441,K.premultiplyAlpha),m.pixelStorei(3317,K.unpackAlignment),m.pixelStorei(37443,0);const It=K.isCompressedTexture||K.image[0].isCompressedTexture,nn=K.image[0]&&K.image[0].isDataTexture,Me=[];for(let Kt=0;Kt<6;Kt++)!It&&!nn?Me[Kt]=J(K.image[Kt],!1,!0,E):Me[Kt]=nn?K.image[Kt].image:K.image[Kt],Me[Kt]=ce(K,Me[Kt]);const qt=Me[0],ln=te(qt)||v,xn=d.convert(K.format,K.encoding),yn=d.convert(K.type),Vn=q(K.internalFormat,xn,yn,K.encoding),vr=v&&K.isVideoTexture!==!0,Gr=Je.__currentVersion===void 0||De===!0;let mt=ge(K,qt,ln);ut(34067,K,ln);let Cn;if(It){vr&&Gr&&r.texStorage2D(34067,mt,Vn,qt.width,qt.height);for(let Kt=0;Kt<6;Kt++){Cn=Me[Kt].mipmaps;for(let On=0;On<Cn.length;On++){const kn=Cn[On];K.format!==ji?xn!==null?vr?r.compressedTexSubImage2D(34069+Kt,On,0,0,kn.width,kn.height,xn,kn.data):r.compressedTexImage2D(34069+Kt,On,Vn,kn.width,kn.height,0,kn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):vr?r.texSubImage2D(34069+Kt,On,0,0,kn.width,kn.height,xn,yn,kn.data):r.texImage2D(34069+Kt,On,Vn,kn.width,kn.height,0,xn,yn,kn.data)}}}else{Cn=K.mipmaps,vr&&Gr&&(Cn.length>0&&mt++,r.texStorage2D(34067,mt,Vn,Me[0].width,Me[0].height));for(let Kt=0;Kt<6;Kt++)if(nn){vr?r.texSubImage2D(34069+Kt,0,0,0,Me[Kt].width,Me[Kt].height,xn,yn,Me[Kt].data):r.texImage2D(34069+Kt,0,Vn,Me[Kt].width,Me[Kt].height,0,xn,yn,Me[Kt].data);for(let On=0;On<Cn.length;On++){const Sr=Cn[On].image[Kt].image;vr?r.texSubImage2D(34069+Kt,On+1,0,0,Sr.width,Sr.height,xn,yn,Sr.data):r.texImage2D(34069+Kt,On+1,Vn,Sr.width,Sr.height,0,xn,yn,Sr.data)}}else{vr?r.texSubImage2D(34069+Kt,0,0,0,xn,yn,Me[Kt]):r.texImage2D(34069+Kt,0,Vn,xn,yn,Me[Kt]);for(let On=0;On<Cn.length;On++){const kn=Cn[On];vr?r.texSubImage2D(34069+Kt,On+1,0,0,xn,yn,kn.image[Kt]):r.texImage2D(34069+Kt,On+1,Vn,xn,yn,kn.image[Kt])}}}ne(K,ln)&&Ae(34067),Je.__currentVersion=Je.version,K.onUpdate&&K.onUpdate(K)}X.__version=K.version}function $t(X,K,ue,De,Je){const It=d.convert(ue.format,ue.encoding),nn=d.convert(ue.type),Me=q(ue.internalFormat,It,nn,ue.encoding);o.get(K).__hasExternalTextures||(Je===32879||Je===35866?r.texImage3D(Je,0,Me,K.width,K.height,K.depth,0,It,nn,null):r.texImage2D(Je,0,Me,K.width,K.height,0,It,nn,null)),r.bindFramebuffer(36160,X),bn(K)?P.framebufferTexture2DMultisampleEXT(36160,De,Je,o.get(ue).__webglTexture,0,Xn(K)):m.framebufferTexture2D(36160,De,Je,o.get(ue).__webglTexture,0),r.bindFramebuffer(36160,null)}function Sn(X,K,ue){if(m.bindRenderbuffer(36161,X),K.depthBuffer&&!K.stencilBuffer){let De=33189;if(ue||bn(K)){const Je=K.depthTexture;Je&&Je.isDepthTexture&&(Je.type===ei?De=36012:Je.type===Ni&&(De=33190));const It=Xn(K);bn(K)?P.renderbufferStorageMultisampleEXT(36161,It,De,K.width,K.height):m.renderbufferStorageMultisample(36161,It,De,K.width,K.height)}else m.renderbufferStorage(36161,De,K.width,K.height);m.framebufferRenderbuffer(36160,36096,36161,X)}else if(K.depthBuffer&&K.stencilBuffer){const De=Xn(K);ue&&bn(K)===!1?m.renderbufferStorageMultisample(36161,De,35056,K.width,K.height):bn(K)?P.renderbufferStorageMultisampleEXT(36161,De,35056,K.width,K.height):m.renderbufferStorage(36161,34041,K.width,K.height),m.framebufferRenderbuffer(36160,33306,36161,X)}else{const De=K.isWebGLMultipleRenderTargets===!0?K.texture:[K.texture];for(let Je=0;Je<De.length;Je++){const It=De[Je],nn=d.convert(It.format,It.encoding),Me=d.convert(It.type),qt=q(It.internalFormat,nn,Me,It.encoding),ln=Xn(K);ue&&bn(K)===!1?m.renderbufferStorageMultisample(36161,ln,qt,K.width,K.height):bn(K)?P.renderbufferStorageMultisampleEXT(36161,ln,qt,K.width,K.height):m.renderbufferStorage(36161,qt,K.width,K.height)}}m.bindRenderbuffer(36161,null)}function Pn(X,K){if(K&&K.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(36160,X),!(K.depthTexture&&K.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!o.get(K.depthTexture).__webglTexture||K.depthTexture.image.width!==K.width||K.depthTexture.image.height!==K.height)&&(K.depthTexture.image.width=K.width,K.depthTexture.image.height=K.height,K.depthTexture.needsUpdate=!0),lt(K.depthTexture,0);const De=o.get(K.depthTexture).__webglTexture,Je=Xn(K);if(K.depthTexture.format===cc)bn(K)?P.framebufferTexture2DMultisampleEXT(36160,36096,3553,De,0,Je):m.framebufferTexture2D(36160,36096,3553,De,0);else if(K.depthTexture.format===yu)bn(K)?P.framebufferTexture2DMultisampleEXT(36160,33306,3553,De,0,Je):m.framebufferTexture2D(36160,33306,3553,De,0);else throw new Error("Unknown depthTexture format")}function Un(X){const K=o.get(X),ue=X.isWebGLCubeRenderTarget===!0;if(X.depthTexture&&!K.__autoAllocateDepthBuffer){if(ue)throw new Error("target.depthTexture not supported in Cube render targets");Pn(K.__webglFramebuffer,X)}else if(ue){K.__webglDepthbuffer=[];for(let De=0;De<6;De++)r.bindFramebuffer(36160,K.__webglFramebuffer[De]),K.__webglDepthbuffer[De]=m.createRenderbuffer(),Sn(K.__webglDepthbuffer[De],X,!1)}else r.bindFramebuffer(36160,K.__webglFramebuffer),K.__webglDepthbuffer=m.createRenderbuffer(),Sn(K.__webglDepthbuffer,X,!1);r.bindFramebuffer(36160,null)}function Rr(X,K,ue){const De=o.get(X);K!==void 0&&$t(De.__webglFramebuffer,X,X.texture,36064,3553),ue!==void 0&&Un(X)}function rn(X){const K=X.texture,ue=o.get(X),De=o.get(K);X.addEventListener("dispose",tt),X.isWebGLMultipleRenderTargets!==!0&&(De.__webglTexture===void 0&&(De.__webglTexture=m.createTexture()),De.__version=K.version,g.memory.textures++);const Je=X.isWebGLCubeRenderTarget===!0,It=X.isWebGLMultipleRenderTargets===!0,nn=te(X)||v;if(Je){ue.__webglFramebuffer=[];for(let Me=0;Me<6;Me++)ue.__webglFramebuffer[Me]=m.createFramebuffer()}else{if(ue.__webglFramebuffer=m.createFramebuffer(),It)if(l.drawBuffers){const Me=X.texture;for(let qt=0,ln=Me.length;qt<ln;qt++){const xn=o.get(Me[qt]);xn.__webglTexture===void 0&&(xn.__webglTexture=m.createTexture(),g.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(v&&X.samples>0&&bn(X)===!1){const Me=It?K:[K];ue.__webglMultisampledFramebuffer=m.createFramebuffer(),ue.__webglColorRenderbuffer=[],r.bindFramebuffer(36160,ue.__webglMultisampledFramebuffer);for(let qt=0;qt<Me.length;qt++){const ln=Me[qt];ue.__webglColorRenderbuffer[qt]=m.createRenderbuffer(),m.bindRenderbuffer(36161,ue.__webglColorRenderbuffer[qt]);const xn=d.convert(ln.format,ln.encoding),yn=d.convert(ln.type),Vn=q(ln.internalFormat,xn,yn,ln.encoding),vr=Xn(X);m.renderbufferStorageMultisample(36161,vr,Vn,X.width,X.height),m.framebufferRenderbuffer(36160,36064+qt,36161,ue.__webglColorRenderbuffer[qt])}m.bindRenderbuffer(36161,null),X.depthBuffer&&(ue.__webglDepthRenderbuffer=m.createRenderbuffer(),Sn(ue.__webglDepthRenderbuffer,X,!0)),r.bindFramebuffer(36160,null)}}if(Je){r.bindTexture(34067,De.__webglTexture),ut(34067,K,nn);for(let Me=0;Me<6;Me++)$t(ue.__webglFramebuffer[Me],X,K,36064,34069+Me);ne(K,nn)&&Ae(34067),r.unbindTexture()}else if(It){const Me=X.texture;for(let qt=0,ln=Me.length;qt<ln;qt++){const xn=Me[qt],yn=o.get(xn);r.bindTexture(3553,yn.__webglTexture),ut(3553,xn,nn),$t(ue.__webglFramebuffer,X,xn,36064+qt,3553),ne(xn,nn)&&Ae(3553)}r.unbindTexture()}else{let Me=3553;(X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(v?Me=X.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(Me,De.__webglTexture),ut(Me,K,nn),$t(ue.__webglFramebuffer,X,K,36064,Me),ne(K,nn)&&Ae(Me),r.unbindTexture()}X.depthBuffer&&Un(X)}function pn(X){const K=te(X)||v,ue=X.isWebGLMultipleRenderTargets===!0?X.texture:[X.texture];for(let De=0,Je=ue.length;De<Je;De++){const It=ue[De];if(ne(It,K)){const nn=X.isWebGLCubeRenderTarget?34067:3553,Me=o.get(It).__webglTexture;r.bindTexture(nn,Me),Ae(nn),r.unbindTexture()}}}function Ve(X){if(v&&X.samples>0&&bn(X)===!1){const K=X.isWebGLMultipleRenderTargets?X.texture:[X.texture],ue=X.width,De=X.height;let Je=16384;const It=[],nn=X.stencilBuffer?33306:36096,Me=o.get(X),qt=X.isWebGLMultipleRenderTargets===!0;if(qt)for(let ln=0;ln<K.length;ln++)r.bindFramebuffer(36160,Me.__webglMultisampledFramebuffer),m.framebufferRenderbuffer(36160,36064+ln,36161,null),r.bindFramebuffer(36160,Me.__webglFramebuffer),m.framebufferTexture2D(36009,36064+ln,3553,null,0);r.bindFramebuffer(36008,Me.__webglMultisampledFramebuffer),r.bindFramebuffer(36009,Me.__webglFramebuffer);for(let ln=0;ln<K.length;ln++){It.push(36064+ln),X.depthBuffer&&It.push(nn);const xn=Me.__ignoreDepthValues!==void 0?Me.__ignoreDepthValues:!1;if(xn===!1&&(X.depthBuffer&&(Je|=256),X.stencilBuffer&&(Je|=1024)),qt&&m.framebufferRenderbuffer(36008,36064,36161,Me.__webglColorRenderbuffer[ln]),xn===!0&&(m.invalidateFramebuffer(36008,[nn]),m.invalidateFramebuffer(36009,[nn])),qt){const yn=o.get(K[ln]).__webglTexture;m.framebufferTexture2D(36009,36064,3553,yn,0)}m.blitFramebuffer(0,0,ue,De,0,0,ue,De,Je,9728),B&&m.invalidateFramebuffer(36008,It)}if(r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),qt)for(let ln=0;ln<K.length;ln++){r.bindFramebuffer(36160,Me.__webglMultisampledFramebuffer),m.framebufferRenderbuffer(36160,36064+ln,36161,Me.__webglColorRenderbuffer[ln]);const xn=o.get(K[ln]).__webglTexture;r.bindFramebuffer(36160,Me.__webglFramebuffer),m.framebufferTexture2D(36009,36064+ln,3553,xn,0)}r.bindFramebuffer(36009,Me.__webglMultisampledFramebuffer)}}function Xn(X){return Math.min(I,X.samples)}function bn(X){const K=o.get(X);return v&&X.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&K.__useRenderToTexture!==!1}function Rt(X){const K=g.render.frame;V.get(X)!==K&&(V.set(X,K),X.update())}function ce(X,K){const ue=X.encoding,De=X.format,Je=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||X.format===Fv||ue!==bo&&(ue===Or?v===!1?t.has("EXT_sRGB")===!0&&De===ji?(X.format=Fv,X.minFilter=pr,X.generateMipmaps=!1):K=tS.sRGBToLinear(K):(De!==ji||Je!==Mr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ue)),K}this.allocateTextureUnit=Le,this.resetTextureUnits=dt,this.setTexture2D=lt,this.setTexture2DArray=Ut,this.setTexture3D=Vt,this.setTextureCube=Wt,this.rebindTextures=Rr,this.setupRenderTarget=rn,this.updateRenderTargetMipmap=pn,this.updateMultisampleRenderTarget=Ve,this.setupDepthRenderbuffer=Un,this.setupFrameBufferTexture=$t,this.useMultisampledRTT=bn}function S8(m,t,r){const o=r.isWebGL2;function l(d,g=null){let v;if(d===Mr)return 5121;if(d===OD)return 32819;if(d===FD)return 32820;if(d===Ot)return 5120;if(d===wn)return 5122;if(d===er)return 5123;if(d===xr)return 5124;if(d===Ni)return 5125;if(d===ei)return 5126;if(d===Di)return o?5131:(v=t.get("OES_texture_half_float"),v!==null?v.HALF_FLOAT_OES:null);if(d===VD)return 6406;if(d===ji)return 6408;if(d===UD)return 6409;if(d===HD)return 6410;if(d===cc)return 6402;if(d===yu)return 34041;if(d===ul)return 6403;if(d===GD)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(d===Fv)return v=t.get("EXT_sRGB"),v!==null?v.SRGB_ALPHA_EXT:null;if(d===QD)return 36244;if(d===Zd)return 33319;if(d===XD)return 33320;if(d===zD)return 36249;if(d===dp||d===Iv||d===Mv||d===fp)if(g===Or)if(v=t.get("WEBGL_compressed_texture_s3tc_srgb"),v!==null){if(d===dp)return v.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(d===Iv)return v.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(d===Mv)return v.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(d===fp)return v.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(v=t.get("WEBGL_compressed_texture_s3tc"),v!==null){if(d===dp)return v.COMPRESSED_RGB_S3TC_DXT1_EXT;if(d===Iv)return v.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(d===Mv)return v.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(d===fp)return v.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(d===xv||d===D1||d===Rv||d===B1)if(v=t.get("WEBGL_compressed_texture_pvrtc"),v!==null){if(d===xv)return v.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(d===D1)return v.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(d===Rv)return v.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(d===B1)return v.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(d===k1)return v=t.get("WEBGL_compressed_texture_etc1"),v!==null?v.COMPRESSED_RGB_ETC1_WEBGL:null;if(d===Tv||d===Pv)if(v=t.get("WEBGL_compressed_texture_etc"),v!==null){if(d===Tv)return g===Or?v.COMPRESSED_SRGB8_ETC2:v.COMPRESSED_RGB8_ETC2;if(d===Pv)return g===Or?v.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:v.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(d===Nv||d===L1||d===O1||d===F1||d===V1||d===G1||d===U1||d===H1||d===Q1||d===X1||d===z1||d===$1||d===W1||d===K1)if(v=t.get("WEBGL_compressed_texture_astc"),v!==null){if(d===Nv)return g===Or?v.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:v.COMPRESSED_RGBA_ASTC_4x4_KHR;if(d===L1)return g===Or?v.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:v.COMPRESSED_RGBA_ASTC_5x4_KHR;if(d===O1)return g===Or?v.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:v.COMPRESSED_RGBA_ASTC_5x5_KHR;if(d===F1)return g===Or?v.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:v.COMPRESSED_RGBA_ASTC_6x5_KHR;if(d===V1)return g===Or?v.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:v.COMPRESSED_RGBA_ASTC_6x6_KHR;if(d===G1)return g===Or?v.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:v.COMPRESSED_RGBA_ASTC_8x5_KHR;if(d===U1)return g===Or?v.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:v.COMPRESSED_RGBA_ASTC_8x6_KHR;if(d===H1)return g===Or?v.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:v.COMPRESSED_RGBA_ASTC_8x8_KHR;if(d===Q1)return g===Or?v.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:v.COMPRESSED_RGBA_ASTC_10x5_KHR;if(d===X1)return g===Or?v.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:v.COMPRESSED_RGBA_ASTC_10x6_KHR;if(d===z1)return g===Or?v.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:v.COMPRESSED_RGBA_ASTC_10x8_KHR;if(d===$1)return g===Or?v.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:v.COMPRESSED_RGBA_ASTC_10x10_KHR;if(d===W1)return g===Or?v.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:v.COMPRESSED_RGBA_ASTC_12x10_KHR;if(d===K1)return g===Or?v.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:v.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(d===Dv)if(v=t.get("EXT_texture_compression_bptc"),v!==null){if(d===Dv)return g===Or?v.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:v.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return d===Au?o?34042:(v=t.get("WEBGL_depth_texture"),v!==null?v.UNSIGNED_INT_24_8_WEBGL:null):m[d]!==void 0?m[d]:null}return{convert:l}}class E8 extends Yi{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class Ls extends _i{constructor(){super(),this.isGroup=!0,this.type="Group"}}const w8={type:"move"};class v_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ls,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ls,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new et,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new et),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ls,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new et,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new et),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,r,o){let l=null,d=null,g=null;const v=this._targetRay,A=this._grip,E=this._hand;if(t&&r.session.visibilityState!=="visible-blurred"){if(E&&t.hand){g=!0;for(const O of t.hand.values()){const k=r.getJointPose(O,o);if(E.joints[O.jointName]===void 0){const W=new Ls;W.matrixAutoUpdate=!1,W.visible=!1,E.joints[O.jointName]=W,E.add(W)}const H=E.joints[O.jointName];k!==null&&(H.matrix.fromArray(k.transform.matrix),H.matrix.decompose(H.position,H.rotation,H.scale),H.jointRadius=k.radius),H.visible=k!==null}const R=E.joints["index-finger-tip"],I=E.joints["thumb-tip"],P=R.position.distanceTo(I.position),B=.02,V=.005;E.inputState.pinching&&P>B+V?(E.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!E.inputState.pinching&&P<=B-V&&(E.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else A!==null&&t.gripSpace&&(d=r.getPose(t.gripSpace,o),d!==null&&(A.matrix.fromArray(d.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),d.linearVelocity?(A.hasLinearVelocity=!0,A.linearVelocity.copy(d.linearVelocity)):A.hasLinearVelocity=!1,d.angularVelocity?(A.hasAngularVelocity=!0,A.angularVelocity.copy(d.angularVelocity)):A.hasAngularVelocity=!1));v!==null&&(l=r.getPose(t.targetRaySpace,o),l===null&&d!==null&&(l=d),l!==null&&(v.matrix.fromArray(l.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),l.linearVelocity?(v.hasLinearVelocity=!0,v.linearVelocity.copy(l.linearVelocity)):v.hasLinearVelocity=!1,l.angularVelocity?(v.hasAngularVelocity=!0,v.angularVelocity.copy(l.angularVelocity)):v.hasAngularVelocity=!1,this.dispatchEvent(w8)))}return v!==null&&(v.visible=l!==null),A!==null&&(A.visible=d!==null),E!==null&&(E.visible=g!==null),this}}class C8 extends Bi{constructor(t,r,o,l,d,g,v,A,E,R){if(R=R!==void 0?R:cc,R!==cc&&R!==yu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");o===void 0&&R===cc&&(o=Ni),o===void 0&&R===yu&&(o=Au),super(null,l,d,g,v,A,R,o,E),this.isDepthTexture=!0,this.image={width:t,height:r},this.magFilter=v!==void 0?v:Mt,this.minFilter=A!==void 0?A:Mt,this.flipY=!1,this.generateMipmaps=!1}}class I8 extends Ia{constructor(t,r){super();const o=this;let l=null,d=1,g=null,v="local-floor",A=null,E=null,R=null,I=null,P=null,B=null;const V=r.getContextAttributes();let O=null,k=null;const H=[],W=[],J=new Yi;J.layers.enable(1),J.viewport=new ni;const te=new Yi;te.layers.enable(2),te.viewport=new ni;const j=[J,te],ne=new E8;ne.layers.enable(1),ne.layers.enable(2);let Ae=null,q=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Ze){let lt=H[Ze];return lt===void 0&&(lt=new v_,H[Ze]=lt),lt.getTargetRaySpace()},this.getControllerGrip=function(Ze){let lt=H[Ze];return lt===void 0&&(lt=new v_,H[Ze]=lt),lt.getGripSpace()},this.getHand=function(Ze){let lt=H[Ze];return lt===void 0&&(lt=new v_,H[Ze]=lt),lt.getHandSpace()};function ge(Ze){const lt=W.indexOf(Ze.inputSource);if(lt===-1)return;const Ut=H[lt];Ut!==void 0&&Ut.dispatchEvent({type:Ze.type,data:Ze.inputSource})}function we(){l.removeEventListener("select",ge),l.removeEventListener("selectstart",ge),l.removeEventListener("selectend",ge),l.removeEventListener("squeeze",ge),l.removeEventListener("squeezestart",ge),l.removeEventListener("squeezeend",ge),l.removeEventListener("end",we),l.removeEventListener("inputsourceschange",Fe);for(let Ze=0;Ze<H.length;Ze++){const lt=W[Ze];lt!==null&&(W[Ze]=null,H[Ze].disconnect(lt))}Ae=null,q=null,t.setRenderTarget(O),P=null,I=null,R=null,l=null,k=null,Le.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Ze){d=Ze,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ze){v=Ze,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return A||g},this.setReferenceSpace=function(Ze){A=Ze},this.getBaseLayer=function(){return I!==null?I:P},this.getBinding=function(){return R},this.getFrame=function(){return B},this.getSession=function(){return l},this.setSession=async function(Ze){if(l=Ze,l!==null){if(O=t.getRenderTarget(),l.addEventListener("select",ge),l.addEventListener("selectstart",ge),l.addEventListener("selectend",ge),l.addEventListener("squeeze",ge),l.addEventListener("squeezestart",ge),l.addEventListener("squeezeend",ge),l.addEventListener("end",we),l.addEventListener("inputsourceschange",Fe),V.xrCompatible!==!0&&await r.makeXRCompatible(),l.renderState.layers===void 0||t.capabilities.isWebGL2===!1){const lt={antialias:l.renderState.layers===void 0?V.antialias:!0,alpha:V.alpha,depth:V.depth,stencil:V.stencil,framebufferScaleFactor:d};P=new XRWebGLLayer(l,r,lt),l.updateRenderState({baseLayer:P}),k=new hc(P.framebufferWidth,P.framebufferHeight,{format:ji,type:Mr,encoding:t.outputEncoding,stencilBuffer:V.stencil})}else{let lt=null,Ut=null,Vt=null;V.depth&&(Vt=V.stencil?35056:33190,lt=V.stencil?yu:cc,Ut=V.stencil?Au:Ni);const Wt={colorFormat:32856,depthFormat:Vt,scaleFactor:d};R=new XRWebGLBinding(l,r),I=R.createProjectionLayer(Wt),l.updateRenderState({layers:[I]}),k=new hc(I.textureWidth,I.textureHeight,{format:ji,type:Mr,depthTexture:new C8(I.textureWidth,I.textureHeight,Ut,void 0,void 0,void 0,void 0,void 0,void 0,lt),stencilBuffer:V.stencil,encoding:t.outputEncoding,samples:V.antialias?4:0});const c=t.properties.get(k);c.__ignoreDepthValues=I.ignoreDepthValues}k.isXRRenderTarget=!0,this.setFoveation(1),A=null,g=await l.requestReferenceSpace(v),Le.setContext(l),Le.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"})}};function Fe(Ze){for(let lt=0;lt<Ze.removed.length;lt++){const Ut=Ze.removed[lt],Vt=W.indexOf(Ut);Vt>=0&&(W[Vt]=null,H[Vt].dispatchEvent({type:"disconnected",data:Ut}))}for(let lt=0;lt<Ze.added.length;lt++){const Ut=Ze.added[lt];let Vt=W.indexOf(Ut);if(Vt===-1){for(let c=0;c<H.length;c++)if(c>=W.length){W.push(Ut),Vt=c;break}else if(W[c]===null){W[c]=Ut,Vt=c;break}if(Vt===-1)break}const Wt=H[Vt];Wt&&Wt.dispatchEvent({type:"connected",data:Ut})}}const tt=new et,Pe=new et;function Oe(Ze,lt,Ut){tt.setFromMatrixPosition(lt.matrixWorld),Pe.setFromMatrixPosition(Ut.matrixWorld);const Vt=tt.distanceTo(Pe),Wt=lt.projectionMatrix.elements,c=Ut.projectionMatrix.elements,Ln=Wt[14]/(Wt[10]-1),ut=Wt[14]/(Wt[10]+1),We=(Wt[9]+1)/Wt[5],Nt=(Wt[9]-1)/Wt[5],jt=(Wt[8]-1)/Wt[0],$t=(c[8]+1)/c[0],Sn=Ln*jt,Pn=Ln*$t,Un=Vt/(-jt+$t),Rr=Un*-jt;lt.matrixWorld.decompose(Ze.position,Ze.quaternion,Ze.scale),Ze.translateX(Rr),Ze.translateZ(Un),Ze.matrixWorld.compose(Ze.position,Ze.quaternion,Ze.scale),Ze.matrixWorldInverse.copy(Ze.matrixWorld).invert();const rn=Ln+Un,pn=ut+Un,Ve=Sn-Rr,Xn=Pn+(Vt-Rr),bn=We*ut/pn*rn,Rt=Nt*ut/pn*rn;Ze.projectionMatrix.makePerspective(Ve,Xn,bn,Rt,rn,pn)}function st(Ze,lt){lt===null?Ze.matrixWorld.copy(Ze.matrix):Ze.matrixWorld.multiplyMatrices(lt.matrixWorld,Ze.matrix),Ze.matrixWorldInverse.copy(Ze.matrixWorld).invert()}this.updateCamera=function(Ze){if(l===null)return;ne.near=te.near=J.near=Ze.near,ne.far=te.far=J.far=Ze.far,(Ae!==ne.near||q!==ne.far)&&(l.updateRenderState({depthNear:ne.near,depthFar:ne.far}),Ae=ne.near,q=ne.far);const lt=Ze.parent,Ut=ne.cameras;st(ne,lt);for(let Wt=0;Wt<Ut.length;Wt++)st(Ut[Wt],lt);ne.matrixWorld.decompose(ne.position,ne.quaternion,ne.scale),Ze.matrix.copy(ne.matrix),Ze.matrix.decompose(Ze.position,Ze.quaternion,Ze.scale);const Vt=Ze.children;for(let Wt=0,c=Vt.length;Wt<c;Wt++)Vt[Wt].updateMatrixWorld(!0);Ut.length===2?Oe(ne,J,te):ne.projectionMatrix.copy(J.projectionMatrix)},this.getCamera=function(){return ne},this.getFoveation=function(){if(I!==null)return I.fixedFoveation;if(P!==null)return P.fixedFoveation},this.setFoveation=function(Ze){I!==null&&(I.fixedFoveation=Ze),P!==null&&P.fixedFoveation!==void 0&&(P.fixedFoveation=Ze)};let ht=null;function dt(Ze,lt){if(E=lt.getViewerPose(A||g),B=lt,E!==null){const Ut=E.views;P!==null&&(t.setRenderTargetFramebuffer(k,P.framebuffer),t.setRenderTarget(k));let Vt=!1;Ut.length!==ne.cameras.length&&(ne.cameras.length=0,Vt=!0);for(let Wt=0;Wt<Ut.length;Wt++){const c=Ut[Wt];let Ln=null;if(P!==null)Ln=P.getViewport(c);else{const We=R.getViewSubImage(I,c);Ln=We.viewport,Wt===0&&(t.setRenderTargetTextures(k,We.colorTexture,I.ignoreDepthValues?void 0:We.depthStencilTexture),t.setRenderTarget(k))}let ut=j[Wt];ut===void 0&&(ut=new Yi,ut.layers.enable(Wt),ut.viewport=new ni,j[Wt]=ut),ut.matrix.fromArray(c.transform.matrix),ut.projectionMatrix.fromArray(c.projectionMatrix),ut.viewport.set(Ln.x,Ln.y,Ln.width,Ln.height),Wt===0&&ne.matrix.copy(ut.matrix),Vt===!0&&ne.cameras.push(ut)}}for(let Ut=0;Ut<H.length;Ut++){const Vt=W[Ut],Wt=H[Ut];Vt!==null&&Wt!==void 0&&Wt.update(Vt,lt,A||g)}ht&&ht(Ze,lt),B=null}const Le=new _S;Le.setAnimationLoop(dt),this.setAnimationLoop=function(Ze){ht=Ze},this.dispose=function(){}}}function M8(m,t){function r(O,k){O.fogColor.value.copy(k.color),k.isFog?(O.fogNear.value=k.near,O.fogFar.value=k.far):k.isFogExp2&&(O.fogDensity.value=k.density)}function o(O,k,H,W,J){k.isMeshBasicMaterial||k.isMeshLambertMaterial?l(O,k):k.isMeshToonMaterial?(l(O,k),R(O,k)):k.isMeshPhongMaterial?(l(O,k),E(O,k)):k.isMeshStandardMaterial?(l(O,k),I(O,k),k.isMeshPhysicalMaterial&&P(O,k,J)):k.isMeshMatcapMaterial?(l(O,k),B(O,k)):k.isMeshDepthMaterial?l(O,k):k.isMeshDistanceMaterial?(l(O,k),V(O,k)):k.isMeshNormalMaterial?l(O,k):k.isLineBasicMaterial?(d(O,k),k.isLineDashedMaterial&&g(O,k)):k.isPointsMaterial?v(O,k,H,W):k.isSpriteMaterial?A(O,k):k.isShadowMaterial?(O.color.value.copy(k.color),O.opacity.value=k.opacity):k.isShaderMaterial&&(k.uniformsNeedUpdate=!1)}function l(O,k){O.opacity.value=k.opacity,k.color&&O.diffuse.value.copy(k.color),k.emissive&&O.emissive.value.copy(k.emissive).multiplyScalar(k.emissiveIntensity),k.map&&(O.map.value=k.map),k.alphaMap&&(O.alphaMap.value=k.alphaMap),k.bumpMap&&(O.bumpMap.value=k.bumpMap,O.bumpScale.value=k.bumpScale,k.side===U&&(O.bumpScale.value*=-1)),k.displacementMap&&(O.displacementMap.value=k.displacementMap,O.displacementScale.value=k.displacementScale,O.displacementBias.value=k.displacementBias),k.emissiveMap&&(O.emissiveMap.value=k.emissiveMap),k.normalMap&&(O.normalMap.value=k.normalMap,O.normalScale.value.copy(k.normalScale),k.side===U&&O.normalScale.value.negate()),k.specularMap&&(O.specularMap.value=k.specularMap),k.alphaTest>0&&(O.alphaTest.value=k.alphaTest);const H=t.get(k).envMap;if(H&&(O.envMap.value=H,O.flipEnvMap.value=H.isCubeTexture&&H.isRenderTargetTexture===!1?-1:1,O.reflectivity.value=k.reflectivity,O.ior.value=k.ior,O.refractionRatio.value=k.refractionRatio),k.lightMap){O.lightMap.value=k.lightMap;const te=m.physicallyCorrectLights!==!0?Math.PI:1;O.lightMapIntensity.value=k.lightMapIntensity*te}k.aoMap&&(O.aoMap.value=k.aoMap,O.aoMapIntensity.value=k.aoMapIntensity);let W;k.map?W=k.map:k.specularMap?W=k.specularMap:k.displacementMap?W=k.displacementMap:k.normalMap?W=k.normalMap:k.bumpMap?W=k.bumpMap:k.roughnessMap?W=k.roughnessMap:k.metalnessMap?W=k.metalnessMap:k.alphaMap?W=k.alphaMap:k.emissiveMap?W=k.emissiveMap:k.clearcoatMap?W=k.clearcoatMap:k.clearcoatNormalMap?W=k.clearcoatNormalMap:k.clearcoatRoughnessMap?W=k.clearcoatRoughnessMap:k.iridescenceMap?W=k.iridescenceMap:k.iridescenceThicknessMap?W=k.iridescenceThicknessMap:k.specularIntensityMap?W=k.specularIntensityMap:k.specularColorMap?W=k.specularColorMap:k.transmissionMap?W=k.transmissionMap:k.thicknessMap?W=k.thicknessMap:k.sheenColorMap?W=k.sheenColorMap:k.sheenRoughnessMap&&(W=k.sheenRoughnessMap),W!==void 0&&(W.isWebGLRenderTarget&&(W=W.texture),W.matrixAutoUpdate===!0&&W.updateMatrix(),O.uvTransform.value.copy(W.matrix));let J;k.aoMap?J=k.aoMap:k.lightMap&&(J=k.lightMap),J!==void 0&&(J.isWebGLRenderTarget&&(J=J.texture),J.matrixAutoUpdate===!0&&J.updateMatrix(),O.uv2Transform.value.copy(J.matrix))}function d(O,k){O.diffuse.value.copy(k.color),O.opacity.value=k.opacity}function g(O,k){O.dashSize.value=k.dashSize,O.totalSize.value=k.dashSize+k.gapSize,O.scale.value=k.scale}function v(O,k,H,W){O.diffuse.value.copy(k.color),O.opacity.value=k.opacity,O.size.value=k.size*H,O.scale.value=W*.5,k.map&&(O.map.value=k.map),k.alphaMap&&(O.alphaMap.value=k.alphaMap),k.alphaTest>0&&(O.alphaTest.value=k.alphaTest);let J;k.map?J=k.map:k.alphaMap&&(J=k.alphaMap),J!==void 0&&(J.matrixAutoUpdate===!0&&J.updateMatrix(),O.uvTransform.value.copy(J.matrix))}function A(O,k){O.diffuse.value.copy(k.color),O.opacity.value=k.opacity,O.rotation.value=k.rotation,k.map&&(O.map.value=k.map),k.alphaMap&&(O.alphaMap.value=k.alphaMap),k.alphaTest>0&&(O.alphaTest.value=k.alphaTest);let H;k.map?H=k.map:k.alphaMap&&(H=k.alphaMap),H!==void 0&&(H.matrixAutoUpdate===!0&&H.updateMatrix(),O.uvTransform.value.copy(H.matrix))}function E(O,k){O.specular.value.copy(k.specular),O.shininess.value=Math.max(k.shininess,1e-4)}function R(O,k){k.gradientMap&&(O.gradientMap.value=k.gradientMap)}function I(O,k){O.roughness.value=k.roughness,O.metalness.value=k.metalness,k.roughnessMap&&(O.roughnessMap.value=k.roughnessMap),k.metalnessMap&&(O.metalnessMap.value=k.metalnessMap),t.get(k).envMap&&(O.envMapIntensity.value=k.envMapIntensity)}function P(O,k,H){O.ior.value=k.ior,k.sheen>0&&(O.sheenColor.value.copy(k.sheenColor).multiplyScalar(k.sheen),O.sheenRoughness.value=k.sheenRoughness,k.sheenColorMap&&(O.sheenColorMap.value=k.sheenColorMap),k.sheenRoughnessMap&&(O.sheenRoughnessMap.value=k.sheenRoughnessMap)),k.clearcoat>0&&(O.clearcoat.value=k.clearcoat,O.clearcoatRoughness.value=k.clearcoatRoughness,k.clearcoatMap&&(O.clearcoatMap.value=k.clearcoatMap),k.clearcoatRoughnessMap&&(O.clearcoatRoughnessMap.value=k.clearcoatRoughnessMap),k.clearcoatNormalMap&&(O.clearcoatNormalScale.value.copy(k.clearcoatNormalScale),O.clearcoatNormalMap.value=k.clearcoatNormalMap,k.side===U&&O.clearcoatNormalScale.value.negate())),k.iridescence>0&&(O.iridescence.value=k.iridescence,O.iridescenceIOR.value=k.iridescenceIOR,O.iridescenceThicknessMinimum.value=k.iridescenceThicknessRange[0],O.iridescenceThicknessMaximum.value=k.iridescenceThicknessRange[1],k.iridescenceMap&&(O.iridescenceMap.value=k.iridescenceMap),k.iridescenceThicknessMap&&(O.iridescenceThicknessMap.value=k.iridescenceThicknessMap)),k.transmission>0&&(O.transmission.value=k.transmission,O.transmissionSamplerMap.value=H.texture,O.transmissionSamplerSize.value.set(H.width,H.height),k.transmissionMap&&(O.transmissionMap.value=k.transmissionMap),O.thickness.value=k.thickness,k.thicknessMap&&(O.thicknessMap.value=k.thicknessMap),O.attenuationDistance.value=k.attenuationDistance,O.attenuationColor.value.copy(k.attenuationColor)),O.specularIntensity.value=k.specularIntensity,O.specularColor.value.copy(k.specularColor),k.specularIntensityMap&&(O.specularIntensityMap.value=k.specularIntensityMap),k.specularColorMap&&(O.specularColorMap.value=k.specularColorMap)}function B(O,k){k.matcap&&(O.matcap.value=k.matcap)}function V(O,k){O.referencePosition.value.copy(k.referencePosition),O.nearDistance.value=k.nearDistance,O.farDistance.value=k.farDistance}return{refreshFogUniforms:r,refreshMaterialUniforms:o}}function x8(m,t,r,o){let l={},d={},g=[];const v=r.isWebGL2?m.getParameter(35375):0;function A(W,J){const te=J.program;o.uniformBlockBinding(W,te)}function E(W,J){let te=l[W.id];te===void 0&&(V(W),te=R(W),l[W.id]=te,W.addEventListener("dispose",k));const j=J.program;o.updateUBOMapping(W,j);const ne=t.render.frame;d[W.id]!==ne&&(P(W),d[W.id]=ne)}function R(W){const J=I();W.__bindingPointIndex=J;const te=m.createBuffer(),j=W.__size,ne=W.usage;return m.bindBuffer(35345,te),m.bufferData(35345,j,ne),m.bindBuffer(35345,null),m.bindBufferBase(35345,J,te),te}function I(){for(let W=0;W<v;W++)if(g.indexOf(W)===-1)return g.push(W),W;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function P(W){const J=l[W.id],te=W.uniforms,j=W.__cache;m.bindBuffer(35345,J);for(let ne=0,Ae=te.length;ne<Ae;ne++){const q=te[ne];if(B(q,ne,j)===!0){const ge=q.value,we=q.__offset;typeof ge=="number"?(q.__data[0]=ge,m.bufferSubData(35345,we,q.__data)):(q.value.isMatrix3?(q.__data[0]=q.value.elements[0],q.__data[1]=q.value.elements[1],q.__data[2]=q.value.elements[2],q.__data[3]=q.value.elements[0],q.__data[4]=q.value.elements[3],q.__data[5]=q.value.elements[4],q.__data[6]=q.value.elements[5],q.__data[7]=q.value.elements[0],q.__data[8]=q.value.elements[6],q.__data[9]=q.value.elements[7],q.__data[10]=q.value.elements[8],q.__data[11]=q.value.elements[0]):ge.toArray(q.__data),m.bufferSubData(35345,we,q.__data))}}m.bindBuffer(35345,null)}function B(W,J,te){const j=W.value;if(te[J]===void 0)return typeof j=="number"?te[J]=j:te[J]=j.clone(),!0;if(typeof j=="number"){if(te[J]!==j)return te[J]=j,!0}else{const ne=te[J];if(ne.equals(j)===!1)return ne.copy(j),!0}return!1}function V(W){const J=W.uniforms;let te=0;const j=16;let ne=0;for(let Ae=0,q=J.length;Ae<q;Ae++){const ge=J[Ae],we=O(ge);if(ge.__data=new Float32Array(we.storage/Float32Array.BYTES_PER_ELEMENT),ge.__offset=te,Ae>0){ne=te%j;const Fe=j-ne;ne!==0&&Fe-we.boundary<0&&(te+=j-ne,ge.__offset=te)}te+=we.storage}return ne=te%j,ne>0&&(te+=j-ne),W.__size=te,W.__cache={},this}function O(W){const J=W.value,te={boundary:0,storage:0};return typeof J=="number"?(te.boundary=4,te.storage=4):J.isVector2?(te.boundary=8,te.storage=8):J.isVector3||J.isColor?(te.boundary=16,te.storage=12):J.isVector4?(te.boundary=16,te.storage=16):J.isMatrix3?(te.boundary=48,te.storage=48):J.isMatrix4?(te.boundary=64,te.storage=64):J.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",J),te}function k(W){const J=W.target;J.removeEventListener("dispose",k);const te=g.indexOf(J.__bindingPointIndex);g.splice(te,1),m.deleteBuffer(l[J.id]),delete l[J.id],delete d[J.id]}function H(){for(const W in l)m.deleteBuffer(l[W]);g=[],l={},d={}}return{bind:A,update:E,dispose:H}}function R8(){const m=rf("canvas");return m.style.display="block",m}function Xp(m={}){this.isWebGLRenderer=!0;const t=m.canvas!==void 0?m.canvas:R8(),r=m.context!==void 0?m.context:null,o=m.depth!==void 0?m.depth:!0,l=m.stencil!==void 0?m.stencil:!0,d=m.antialias!==void 0?m.antialias:!1,g=m.premultipliedAlpha!==void 0?m.premultipliedAlpha:!0,v=m.preserveDrawingBuffer!==void 0?m.preserveDrawingBuffer:!1,A=m.powerPreference!==void 0?m.powerPreference:"default",E=m.failIfMajorPerformanceCaveat!==void 0?m.failIfMajorPerformanceCaveat:!1;let R;r!==null?R=r.getContextAttributes().alpha:R=m.alpha!==void 0?m.alpha:!1;let I=null,P=null;const B=[],V=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=bo,this.physicallyCorrectLights=!1,this.toneMapping=xe,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const O=this;let k=!1,H=0,W=0,J=null,te=-1,j=null;const ne=new ni,Ae=new ni;let q=null,ge=t.width,we=t.height,Fe=1,tt=null,Pe=null;const Oe=new ni(0,0,ge,we),st=new ni(0,0,ge,we);let ht=!1;const dt=new d_;let Le=!1,Ze=!1,lt=null;const Ut=new br,Vt=new Fn,Wt=new et,c={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ln(){return J===null?Fe:1}let ut=r;function We(He,kt){for(let Jt=0;Jt<He.length;Jt++){const Pt=He[Jt],Zt=t.getContext(Pt,kt);if(Zt!==null)return Zt}return null}try{const He={alpha:!0,depth:o,stencil:l,antialias:d,premultipliedAlpha:g,preserveDrawingBuffer:v,powerPreference:A,failIfMajorPerformanceCaveat:E};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${b}`),t.addEventListener("webglcontextlost",Vn,!1),t.addEventListener("webglcontextrestored",vr,!1),t.addEventListener("webglcontextcreationerror",Gr,!1),ut===null){const kt=["webgl2","webgl","experimental-webgl"];if(O.isWebGL1Renderer===!0&&kt.shift(),ut=We(kt,He),ut===null)throw We(kt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ut.getShaderPrecisionFormat===void 0&&(ut.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(He){throw console.error("THREE.WebGLRenderer: "+He.message),He}let Nt,jt,$t,Sn,Pn,Un,Rr,rn,pn,Ve,Xn,bn,Rt,ce,X,K,ue,De,Je,It,nn,Me,qt,ln;function xn(){Nt=new G3(ut),jt=new B3(ut,Nt,m),Nt.init(jt),Me=new S8(ut,Nt,jt),$t=new y8(ut,Nt,jt),Sn=new Q3,Pn=new o8,Un=new b8(ut,Nt,$t,Pn,jt,Me,Sn),Rr=new L3(O),rn=new V3(O),pn=new NB(ut,jt),qt=new N3(ut,Nt,pn,jt),Ve=new U3(ut,pn,Sn,qt),Xn=new W3(ut,Ve,pn,Sn),Je=new $3(ut,jt,Un),K=new k3(Pn),bn=new s8(O,Rr,rn,Nt,jt,qt,K),Rt=new M8(O,Pn),ce=new l8,X=new p8(Nt,jt),De=new P3(O,Rr,$t,Xn,R,g),ue=new A8(O,Xn,jt),ln=new x8(ut,Sn,jt,$t),It=new D3(ut,Nt,Sn,jt),nn=new H3(ut,Nt,Sn,jt),Sn.programs=bn.programs,O.capabilities=jt,O.extensions=Nt,O.properties=Pn,O.renderLists=ce,O.shadowMap=ue,O.state=$t,O.info=Sn}xn();const yn=new I8(O,ut);this.xr=yn,this.getContext=function(){return ut},this.getContextAttributes=function(){return ut.getContextAttributes()},this.forceContextLoss=function(){const He=Nt.get("WEBGL_lose_context");He&&He.loseContext()},this.forceContextRestore=function(){const He=Nt.get("WEBGL_lose_context");He&&He.restoreContext()},this.getPixelRatio=function(){return Fe},this.setPixelRatio=function(He){He!==void 0&&(Fe=He,this.setSize(ge,we,!1))},this.getSize=function(He){return He.set(ge,we)},this.setSize=function(He,kt,Jt){if(yn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ge=He,we=kt,t.width=Math.floor(He*Fe),t.height=Math.floor(kt*Fe),Jt!==!1&&(t.style.width=He+"px",t.style.height=kt+"px"),this.setViewport(0,0,He,kt)},this.getDrawingBufferSize=function(He){return He.set(ge*Fe,we*Fe).floor()},this.setDrawingBufferSize=function(He,kt,Jt){ge=He,we=kt,Fe=Jt,t.width=Math.floor(He*Jt),t.height=Math.floor(kt*Jt),this.setViewport(0,0,He,kt)},this.getCurrentViewport=function(He){return He.copy(ne)},this.getViewport=function(He){return He.copy(Oe)},this.setViewport=function(He,kt,Jt,Pt){He.isVector4?Oe.set(He.x,He.y,He.z,He.w):Oe.set(He,kt,Jt,Pt),$t.viewport(ne.copy(Oe).multiplyScalar(Fe).floor())},this.getScissor=function(He){return He.copy(st)},this.setScissor=function(He,kt,Jt,Pt){He.isVector4?st.set(He.x,He.y,He.z,He.w):st.set(He,kt,Jt,Pt),$t.scissor(Ae.copy(st).multiplyScalar(Fe).floor())},this.getScissorTest=function(){return ht},this.setScissorTest=function(He){$t.setScissorTest(ht=He)},this.setOpaqueSort=function(He){tt=He},this.setTransparentSort=function(He){Pe=He},this.getClearColor=function(He){return He.copy(De.getClearColor())},this.setClearColor=function(){De.setClearColor.apply(De,arguments)},this.getClearAlpha=function(){return De.getClearAlpha()},this.setClearAlpha=function(){De.setClearAlpha.apply(De,arguments)},this.clear=function(He=!0,kt=!0,Jt=!0){let Pt=0;He&&(Pt|=16384),kt&&(Pt|=256),Jt&&(Pt|=1024),ut.clear(Pt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Vn,!1),t.removeEventListener("webglcontextrestored",vr,!1),t.removeEventListener("webglcontextcreationerror",Gr,!1),ce.dispose(),X.dispose(),Pn.dispose(),Rr.dispose(),rn.dispose(),Xn.dispose(),qt.dispose(),ln.dispose(),bn.dispose(),yn.dispose(),yn.removeEventListener("sessionstart",Sr),yn.removeEventListener("sessionend",Ai),lt&&(lt.dispose(),lt=null),mi.stop()};function Vn(He){He.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),k=!0}function vr(){console.log("THREE.WebGLRenderer: Context Restored."),k=!1;const He=Sn.autoReset,kt=ue.enabled,Jt=ue.autoUpdate,Pt=ue.needsUpdate,Zt=ue.type;xn(),Sn.autoReset=He,ue.enabled=kt,ue.autoUpdate=Jt,ue.needsUpdate=Pt,ue.type=Zt}function Gr(He){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",He.statusMessage)}function mt(He){const kt=He.target;kt.removeEventListener("dispose",mt),Cn(kt)}function Cn(He){Kt(He),Pn.remove(He)}function Kt(He){const kt=Pn.get(He).programs;kt!==void 0&&(kt.forEach(function(Jt){bn.releaseProgram(Jt)}),He.isShaderMaterial&&bn.releaseShaderCache(He))}this.renderBufferDirect=function(He,kt,Jt,Pt,Zt,$n){kt===null&&(kt=c);const ar=Zt.isMesh&&Zt.matrixWorld.determinant()<0,Er=Ml(He,kt,Jt,Pt,Zt);$t.setMaterial(Pt,ar);let In=Jt.index;const Hr=Jt.attributes.position;if(In===null){if(Hr===void 0||Hr.count===0)return}else if(In.count===0)return;let kr=1;Pt.wireframe===!0&&(In=Ve.getWireframeAttribute(Jt),kr=2),qt.setup(Zt,Pt,Er,Jt,In);let Fr,Cr=It;In!==null&&(Fr=pn.get(In),Cr=nn,Cr.setIndex(Fr));const ua=In!==null?In.count:Hr.count,Fa=Jt.drawRange.start*kr,Va=Jt.drawRange.count*kr,ro=$n!==null?$n.start*kr:0,Qr=$n!==null?$n.count*kr:1/0,xl=Math.max(Fa,ro),Si=Math.min(ua,Fa+Va,ro+Qr)-1,Es=Math.max(0,Si-xl+1);if(Es!==0){if(Zt.isMesh)Pt.wireframe===!0?($t.setLineWidth(Pt.wireframeLinewidth*Ln()),Cr.setMode(1)):Cr.setMode(4);else if(Zt.isLine){let da=Pt.linewidth;da===void 0&&(da=1),$t.setLineWidth(da*Ln()),Zt.isLineSegments?Cr.setMode(1):Zt.isLineLoop?Cr.setMode(2):Cr.setMode(3)}else Zt.isPoints?Cr.setMode(0):Zt.isSprite&&Cr.setMode(4);if(Zt.isInstancedMesh)Cr.renderInstances(xl,Es,Zt.count);else if(Jt.isInstancedBufferGeometry){const da=Math.min(Jt.instanceCount,Jt._maxInstanceCount);Cr.renderInstances(xl,Es,da)}else Cr.render(xl,Es)}},this.compile=function(He,kt){function Jt(Pt,Zt,$n){Pt.transparent===!0&&Pt.side===$?(Pt.side=U,Pt.needsUpdate=!0,Ju(Pt,Zt,$n),Pt.side=G,Pt.needsUpdate=!0,Ju(Pt,Zt,$n),Pt.side=$):Ju(Pt,Zt,$n)}P=X.get(He),P.init(),V.push(P),He.traverseVisible(function(Pt){Pt.isLight&&Pt.layers.test(kt.layers)&&(P.pushLight(Pt),Pt.castShadow&&P.pushShadow(Pt))}),P.setupLights(O.physicallyCorrectLights),He.traverse(function(Pt){const Zt=Pt.material;if(Zt)if(Array.isArray(Zt))for(let $n=0;$n<Zt.length;$n++){const ar=Zt[$n];Jt(ar,He,Pt)}else Jt(Zt,He,Pt)}),V.pop(),P=null};let On=null;function kn(He){On&&On(He)}function Sr(){mi.stop()}function Ai(){mi.start()}const mi=new _S;mi.setAnimationLoop(kn),typeof self<"u"&&mi.setContext(self),this.setAnimationLoop=function(He){On=He,yn.setAnimationLoop(He),He===null?mi.stop():mi.start()},yn.addEventListener("sessionstart",Sr),yn.addEventListener("sessionend",Ai),this.render=function(He,kt){if(kt!==void 0&&kt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(k===!0)return;He.matrixWorldAutoUpdate===!0&&He.updateMatrixWorld(),kt.parent===null&&kt.matrixWorldAutoUpdate===!0&&kt.updateMatrixWorld(),yn.enabled===!0&&yn.isPresenting===!0&&(yn.cameraAutoUpdate===!0&&yn.updateCamera(kt),kt=yn.getCamera()),He.isScene===!0&&He.onBeforeRender(O,He,kt,J),P=X.get(He,V.length),P.init(),V.push(P),Ut.multiplyMatrices(kt.projectionMatrix,kt.matrixWorldInverse),dt.setFromProjectionMatrix(Ut),Ze=this.localClippingEnabled,Le=K.init(this.clippingPlanes,Ze,kt),I=ce.get(He,B.length),I.init(),B.push(I),ca(He,kt,0,O.sortObjects),I.finish(),O.sortObjects===!0&&I.sort(tt,Pe),Le===!0&&K.beginShadows();const Jt=P.state.shadowsArray;if(ue.render(Jt,He,kt),Le===!0&&K.endShadows(),this.info.autoReset===!0&&this.info.reset(),De.render(I,He),P.setupLights(O.physicallyCorrectLights),kt.isArrayCamera){const Pt=kt.cameras;for(let Zt=0,$n=Pt.length;Zt<$n;Zt++){const ar=Pt[Zt];ii(I,He,ar,ar.viewport)}}else ii(I,He,kt);J!==null&&(Un.updateMultisampleRenderTarget(J),Un.updateRenderTargetMipmap(J)),He.isScene===!0&&He.onAfterRender(O,He,kt),qt.resetDefaultState(),te=-1,j=null,V.pop(),V.length>0?P=V[V.length-1]:P=null,B.pop(),B.length>0?I=B[B.length-1]:I=null};function ca(He,kt,Jt,Pt){if(He.visible===!1)return;if(He.layers.test(kt.layers)){if(He.isGroup)Jt=He.renderOrder;else if(He.isLOD)He.autoUpdate===!0&&He.update(kt);else if(He.isLight)P.pushLight(He),He.castShadow&&P.pushShadow(He);else if(He.isSprite){if(!He.frustumCulled||dt.intersectsSprite(He)){Pt&&Wt.setFromMatrixPosition(He.matrixWorld).applyMatrix4(Ut);const ar=Xn.update(He),Er=He.material;Er.visible&&I.push(He,ar,Er,Jt,Wt.z,null)}}else if((He.isMesh||He.isLine||He.isPoints)&&(He.isSkinnedMesh&&He.skeleton.frame!==Sn.render.frame&&(He.skeleton.update(),He.skeleton.frame=Sn.render.frame),!He.frustumCulled||dt.intersectsObject(He))){Pt&&Wt.setFromMatrixPosition(He.matrixWorld).applyMatrix4(Ut);const ar=Xn.update(He),Er=He.material;if(Array.isArray(Er)){const In=ar.groups;for(let Hr=0,kr=In.length;Hr<kr;Hr++){const Fr=In[Hr],Cr=Er[Fr.materialIndex];Cr&&Cr.visible&&I.push(He,ar,Cr,Jt,Wt.z,Fr)}}else Er.visible&&I.push(He,ar,Er,Jt,Wt.z,null)}}const $n=He.children;for(let ar=0,Er=$n.length;ar<Er;ar++)ca($n[ar],kt,Jt,Pt)}function ii(He,kt,Jt,Pt){const Zt=He.opaque,$n=He.transmissive,ar=He.transparent;P.setupLightsView(Jt),$n.length>0&&Gs(Zt,kt,Jt),Pt&&$t.viewport(ne.copy(Pt)),Zt.length>0&&Ss(Zt,kt,Jt),$n.length>0&&Ss($n,kt,Jt),ar.length>0&&Ss(ar,kt,Jt),$t.buffers.depth.setTest(!0),$t.buffers.depth.setMask(!0),$t.buffers.color.setMask(!0),$t.setPolygonOffset(!1)}function Gs(He,kt,Jt){const Pt=jt.isWebGL2;lt===null&&(lt=new hc(1,1,{generateMipmaps:!0,type:Nt.has("EXT_color_buffer_half_float")?Di:Mr,minFilter:zn,samples:Pt&&d===!0?4:0})),O.getDrawingBufferSize(Vt),Pt?lt.setSize(Vt.x,Vt.y):lt.setSize(gp(Vt.x),gp(Vt.y));const Zt=O.getRenderTarget();O.setRenderTarget(lt),O.clear();const $n=O.toneMapping;O.toneMapping=xe,Ss(He,kt,Jt),O.toneMapping=$n,Un.updateMultisampleRenderTarget(lt),Un.updateRenderTargetMipmap(lt),O.setRenderTarget(Zt)}function Ss(He,kt,Jt){const Pt=kt.isScene===!0?kt.overrideMaterial:null;for(let Zt=0,$n=He.length;Zt<$n;Zt++){const ar=He[Zt],Er=ar.object,In=ar.geometry,Hr=Pt===null?ar.material:Pt,kr=ar.group;Er.layers.test(Jt.layers)&&RA(Er,kt,Jt,In,Hr,kr)}}function RA(He,kt,Jt,Pt,Zt,$n){He.onBeforeRender(O,kt,Jt,Pt,Zt,$n),He.modelViewMatrix.multiplyMatrices(Jt.matrixWorldInverse,He.matrixWorld),He.normalMatrix.getNormalMatrix(He.modelViewMatrix),Zt.onBeforeRender(O,kt,Jt,Pt,He,$n),Zt.transparent===!0&&Zt.side===$?(Zt.side=U,Zt.needsUpdate=!0,O.renderBufferDirect(Jt,kt,Pt,Zt,He,$n),Zt.side=G,Zt.needsUpdate=!0,O.renderBufferDirect(Jt,kt,Pt,Zt,He,$n),Zt.side=$):O.renderBufferDirect(Jt,kt,Pt,Zt,He,$n),He.onAfterRender(O,kt,Jt,Pt,Zt,$n)}function Ju(He,kt,Jt){kt.isScene!==!0&&(kt=c);const Pt=Pn.get(He),Zt=P.state.lights,$n=P.state.shadowsArray,ar=Zt.state.version,Er=bn.getParameters(He,Zt.state,$n,kt,Jt),In=bn.getProgramCacheKey(Er);let Hr=Pt.programs;Pt.environment=He.isMeshStandardMaterial?kt.environment:null,Pt.fog=kt.fog,Pt.envMap=(He.isMeshStandardMaterial?rn:Rr).get(He.envMap||Pt.environment),Hr===void 0&&(He.addEventListener("dispose",mt),Hr=new Map,Pt.programs=Hr);let kr=Hr.get(In);if(kr!==void 0){if(Pt.currentProgram===kr&&Pt.lightsStateVersion===ar)return Vf(He,Er),kr}else Er.uniforms=bn.getUniforms(He),He.onBuild(Jt,Er,O),He.onBeforeCompile(Er,O),kr=bn.acquireProgram(Er,In),Hr.set(In,kr),Pt.uniforms=Er.uniforms;const Fr=Pt.uniforms;(!He.isShaderMaterial&&!He.isRawShaderMaterial||He.clipping===!0)&&(Fr.clippingPlanes=K.uniform),Vf(He,Er),Pt.needsLights=Gf(He),Pt.lightsStateVersion=ar,Pt.needsLights&&(Fr.ambientLightColor.value=Zt.state.ambient,Fr.lightProbe.value=Zt.state.probe,Fr.directionalLights.value=Zt.state.directional,Fr.directionalLightShadows.value=Zt.state.directionalShadow,Fr.spotLights.value=Zt.state.spot,Fr.spotLightShadows.value=Zt.state.spotShadow,Fr.rectAreaLights.value=Zt.state.rectArea,Fr.ltc_1.value=Zt.state.rectAreaLTC1,Fr.ltc_2.value=Zt.state.rectAreaLTC2,Fr.pointLights.value=Zt.state.point,Fr.pointLightShadows.value=Zt.state.pointShadow,Fr.hemisphereLights.value=Zt.state.hemi,Fr.directionalShadowMap.value=Zt.state.directionalShadowMap,Fr.directionalShadowMatrix.value=Zt.state.directionalShadowMatrix,Fr.spotShadowMap.value=Zt.state.spotShadowMap,Fr.spotLightMatrix.value=Zt.state.spotLightMatrix,Fr.spotLightMap.value=Zt.state.spotLightMap,Fr.pointShadowMap.value=Zt.state.pointShadowMap,Fr.pointShadowMatrix.value=Zt.state.pointShadowMatrix);const Cr=kr.getUniforms(),ua=Qp.seqWithValue(Cr.seq,Fr);return Pt.currentProgram=kr,Pt.uniformsList=ua,kr}function Vf(He,kt){const Jt=Pn.get(He);Jt.outputEncoding=kt.outputEncoding,Jt.instancing=kt.instancing,Jt.skinning=kt.skinning,Jt.morphTargets=kt.morphTargets,Jt.morphNormals=kt.morphNormals,Jt.morphColors=kt.morphColors,Jt.morphTargetsCount=kt.morphTargetsCount,Jt.numClippingPlanes=kt.numClippingPlanes,Jt.numIntersection=kt.numClipIntersection,Jt.vertexAlphas=kt.vertexAlphas,Jt.vertexTangents=kt.vertexTangents,Jt.toneMapping=kt.toneMapping}function Ml(He,kt,Jt,Pt,Zt){kt.isScene!==!0&&(kt=c),Un.resetTextureUnits();const $n=kt.fog,ar=Pt.isMeshStandardMaterial?kt.environment:null,Er=J===null?O.outputEncoding:J.isXRRenderTarget===!0?J.texture.encoding:bo,In=(Pt.isMeshStandardMaterial?rn:Rr).get(Pt.envMap||ar),Hr=Pt.vertexColors===!0&&!!Jt.attributes.color&&Jt.attributes.color.itemSize===4,kr=!!Pt.normalMap&&!!Jt.attributes.tangent,Fr=!!Jt.morphAttributes.position,Cr=!!Jt.morphAttributes.normal,ua=!!Jt.morphAttributes.color,Fa=Pt.toneMapped?O.toneMapping:xe,Va=Jt.morphAttributes.position||Jt.morphAttributes.normal||Jt.morphAttributes.color,ro=Va!==void 0?Va.length:0,Qr=Pn.get(Pt),xl=P.state.lights;if(Le===!0&&(Ze===!0||He!==j)){const fs=He===j&&Pt.id===te;K.setState(Pt,He,fs)}let Si=!1;Pt.version===Qr.__version?(Qr.needsLights&&Qr.lightsStateVersion!==xl.state.version||Qr.outputEncoding!==Er||Zt.isInstancedMesh&&Qr.instancing===!1||!Zt.isInstancedMesh&&Qr.instancing===!0||Zt.isSkinnedMesh&&Qr.skinning===!1||!Zt.isSkinnedMesh&&Qr.skinning===!0||Qr.envMap!==In||Pt.fog===!0&&Qr.fog!==$n||Qr.numClippingPlanes!==void 0&&(Qr.numClippingPlanes!==K.numPlanes||Qr.numIntersection!==K.numIntersection)||Qr.vertexAlphas!==Hr||Qr.vertexTangents!==kr||Qr.morphTargets!==Fr||Qr.morphNormals!==Cr||Qr.morphColors!==ua||Qr.toneMapping!==Fa||jt.isWebGL2===!0&&Qr.morphTargetsCount!==ro)&&(Si=!0):(Si=!0,Qr.__version=Pt.version);let Es=Qr.currentProgram;Si===!0&&(Es=Ju(Pt,kt,Zt));let da=!1,Us=!1,Ga=!1;const Gi=Es.getUniforms(),Bo=Qr.uniforms;if($t.useProgram(Es.program)&&(da=!0,Us=!0,Ga=!0),Pt.id!==te&&(te=Pt.id,Us=!0),da||j!==He){if(Gi.setValue(ut,"projectionMatrix",He.projectionMatrix),jt.logarithmicDepthBuffer&&Gi.setValue(ut,"logDepthBufFC",2/(Math.log(He.far+1)/Math.LN2)),j!==He&&(j=He,Us=!0,Ga=!0),Pt.isShaderMaterial||Pt.isMeshPhongMaterial||Pt.isMeshToonMaterial||Pt.isMeshStandardMaterial||Pt.envMap){const fs=Gi.map.cameraPosition;fs!==void 0&&fs.setValue(ut,Wt.setFromMatrixPosition(He.matrixWorld))}(Pt.isMeshPhongMaterial||Pt.isMeshToonMaterial||Pt.isMeshLambertMaterial||Pt.isMeshBasicMaterial||Pt.isMeshStandardMaterial||Pt.isShaderMaterial)&&Gi.setValue(ut,"isOrthographic",He.isOrthographicCamera===!0),(Pt.isMeshPhongMaterial||Pt.isMeshToonMaterial||Pt.isMeshLambertMaterial||Pt.isMeshBasicMaterial||Pt.isMeshStandardMaterial||Pt.isShaderMaterial||Pt.isShadowMaterial||Zt.isSkinnedMesh)&&Gi.setValue(ut,"viewMatrix",He.matrixWorldInverse)}if(Zt.isSkinnedMesh){Gi.setOptional(ut,Zt,"bindMatrix"),Gi.setOptional(ut,Zt,"bindMatrixInverse");const fs=Zt.skeleton;fs&&(jt.floatVertexTextures?(fs.boneTexture===null&&fs.computeBoneTexture(),Gi.setValue(ut,"boneTexture",fs.boneTexture,Un),Gi.setValue(ut,"boneTextureSize",fs.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ui=Jt.morphAttributes;if((Ui.position!==void 0||Ui.normal!==void 0||Ui.color!==void 0&&jt.isWebGL2===!0)&&Je.update(Zt,Jt,Pt,Es),(Us||Qr.receiveShadow!==Zt.receiveShadow)&&(Qr.receiveShadow=Zt.receiveShadow,Gi.setValue(ut,"receiveShadow",Zt.receiveShadow)),Pt.isMeshGouraudMaterial&&Pt.envMap!==null&&(Bo.envMap.value=In,Bo.flipEnvMap.value=In.isCubeTexture&&In.isRenderTargetTexture===!1?-1:1),Us&&(Gi.setValue(ut,"toneMappingExposure",O.toneMappingExposure),Qr.needsLights&&Rc(Bo,Ga),$n&&Pt.fog===!0&&Rt.refreshFogUniforms(Bo,$n),Rt.refreshMaterialUniforms(Bo,Pt,Fe,we,lt),Qp.upload(ut,Qr.uniformsList,Bo,Un)),Pt.isShaderMaterial&&Pt.uniformsNeedUpdate===!0&&(Qp.upload(ut,Qr.uniformsList,Bo,Un),Pt.uniformsNeedUpdate=!1),Pt.isSpriteMaterial&&Gi.setValue(ut,"center",Zt.center),Gi.setValue(ut,"modelViewMatrix",Zt.modelViewMatrix),Gi.setValue(ut,"normalMatrix",Zt.normalMatrix),Gi.setValue(ut,"modelMatrix",Zt.matrixWorld),Pt.isShaderMaterial||Pt.isRawShaderMaterial){const fs=Pt.uniformsGroups;for(let Zu=0,io=fs.length;Zu<io;Zu++)if(jt.isWebGL2){const Uf=fs[Zu];ln.update(Uf,Es),ln.bind(Uf,Es)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Es}function Rc(He,kt){He.ambientLightColor.needsUpdate=kt,He.lightProbe.needsUpdate=kt,He.directionalLights.needsUpdate=kt,He.directionalLightShadows.needsUpdate=kt,He.pointLights.needsUpdate=kt,He.pointLightShadows.needsUpdate=kt,He.spotLights.needsUpdate=kt,He.spotLightShadows.needsUpdate=kt,He.rectAreaLights.needsUpdate=kt,He.hemisphereLights.needsUpdate=kt}function Gf(He){return He.isMeshLambertMaterial||He.isMeshToonMaterial||He.isMeshPhongMaterial||He.isMeshStandardMaterial||He.isShadowMaterial||He.isShaderMaterial&&He.lights===!0}this.getActiveCubeFace=function(){return H},this.getActiveMipmapLevel=function(){return W},this.getRenderTarget=function(){return J},this.setRenderTargetTextures=function(He,kt,Jt){Pn.get(He.texture).__webglTexture=kt,Pn.get(He.depthTexture).__webglTexture=Jt;const Pt=Pn.get(He);Pt.__hasExternalTextures=!0,Pt.__hasExternalTextures&&(Pt.__autoAllocateDepthBuffer=Jt===void 0,Pt.__autoAllocateDepthBuffer||Nt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Pt.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(He,kt){const Jt=Pn.get(He);Jt.__webglFramebuffer=kt,Jt.__useDefaultFramebuffer=kt===void 0},this.setRenderTarget=function(He,kt=0,Jt=0){J=He,H=kt,W=Jt;let Pt=!0;if(He){const In=Pn.get(He);In.__useDefaultFramebuffer!==void 0?($t.bindFramebuffer(36160,null),Pt=!1):In.__webglFramebuffer===void 0?Un.setupRenderTarget(He):In.__hasExternalTextures&&Un.rebindTextures(He,Pn.get(He.texture).__webglTexture,Pn.get(He.depthTexture).__webglTexture)}let Zt=null,$n=!1,ar=!1;if(He){const In=He.texture;(In.isData3DTexture||In.isDataArrayTexture)&&(ar=!0);const Hr=Pn.get(He).__webglFramebuffer;He.isWebGLCubeRenderTarget?(Zt=Hr[kt],$n=!0):jt.isWebGL2&&He.samples>0&&Un.useMultisampledRTT(He)===!1?Zt=Pn.get(He).__webglMultisampledFramebuffer:Zt=Hr,ne.copy(He.viewport),Ae.copy(He.scissor),q=He.scissorTest}else ne.copy(Oe).multiplyScalar(Fe).floor(),Ae.copy(st).multiplyScalar(Fe).floor(),q=ht;if($t.bindFramebuffer(36160,Zt)&&jt.drawBuffers&&Pt&&$t.drawBuffers(He,Zt),$t.viewport(ne),$t.scissor(Ae),$t.setScissorTest(q),$n){const In=Pn.get(He.texture);ut.framebufferTexture2D(36160,36064,34069+kt,In.__webglTexture,Jt)}else if(ar){const In=Pn.get(He.texture),Hr=kt||0;ut.framebufferTextureLayer(36160,36064,In.__webglTexture,Jt||0,Hr)}te=-1},this.readRenderTargetPixels=function(He,kt,Jt,Pt,Zt,$n,ar){if(!(He&&He.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Er=Pn.get(He).__webglFramebuffer;if(He.isWebGLCubeRenderTarget&&ar!==void 0&&(Er=Er[ar]),Er){$t.bindFramebuffer(36160,Er);try{const In=He.texture,Hr=In.format,kr=In.type;if(Hr!==ji&&Me.convert(Hr)!==ut.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Fr=kr===Di&&(Nt.has("EXT_color_buffer_half_float")||jt.isWebGL2&&Nt.has("EXT_color_buffer_float"));if(kr!==Mr&&Me.convert(kr)!==ut.getParameter(35738)&&!(kr===ei&&(jt.isWebGL2||Nt.has("OES_texture_float")||Nt.has("WEBGL_color_buffer_float")))&&!Fr){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}kt>=0&&kt<=He.width-Pt&&Jt>=0&&Jt<=He.height-Zt&&ut.readPixels(kt,Jt,Pt,Zt,Me.convert(Hr),Me.convert(kr),$n)}finally{const In=J!==null?Pn.get(J).__webglFramebuffer:null;$t.bindFramebuffer(36160,In)}}},this.copyFramebufferToTexture=function(He,kt,Jt=0){const Pt=Math.pow(2,-Jt),Zt=Math.floor(kt.image.width*Pt),$n=Math.floor(kt.image.height*Pt);Un.setTexture2D(kt,0),ut.copyTexSubImage2D(3553,Jt,0,0,He.x,He.y,Zt,$n),$t.unbindTexture()},this.copyTextureToTexture=function(He,kt,Jt,Pt=0){const Zt=kt.image.width,$n=kt.image.height,ar=Me.convert(Jt.format),Er=Me.convert(Jt.type);Un.setTexture2D(Jt,0),ut.pixelStorei(37440,Jt.flipY),ut.pixelStorei(37441,Jt.premultiplyAlpha),ut.pixelStorei(3317,Jt.unpackAlignment),kt.isDataTexture?ut.texSubImage2D(3553,Pt,He.x,He.y,Zt,$n,ar,Er,kt.image.data):kt.isCompressedTexture?ut.compressedTexSubImage2D(3553,Pt,He.x,He.y,kt.mipmaps[0].width,kt.mipmaps[0].height,ar,kt.mipmaps[0].data):ut.texSubImage2D(3553,Pt,He.x,He.y,ar,Er,kt.image),Pt===0&&Jt.generateMipmaps&&ut.generateMipmap(3553),$t.unbindTexture()},this.copyTextureToTexture3D=function(He,kt,Jt,Pt,Zt=0){if(O.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const $n=He.max.x-He.min.x+1,ar=He.max.y-He.min.y+1,Er=He.max.z-He.min.z+1,In=Me.convert(Pt.format),Hr=Me.convert(Pt.type);let kr;if(Pt.isData3DTexture)Un.setTexture3D(Pt,0),kr=32879;else if(Pt.isDataArrayTexture)Un.setTexture2DArray(Pt,0),kr=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ut.pixelStorei(37440,Pt.flipY),ut.pixelStorei(37441,Pt.premultiplyAlpha),ut.pixelStorei(3317,Pt.unpackAlignment);const Fr=ut.getParameter(3314),Cr=ut.getParameter(32878),ua=ut.getParameter(3316),Fa=ut.getParameter(3315),Va=ut.getParameter(32877),ro=Jt.isCompressedTexture?Jt.mipmaps[0]:Jt.image;ut.pixelStorei(3314,ro.width),ut.pixelStorei(32878,ro.height),ut.pixelStorei(3316,He.min.x),ut.pixelStorei(3315,He.min.y),ut.pixelStorei(32877,He.min.z),Jt.isDataTexture||Jt.isData3DTexture?ut.texSubImage3D(kr,Zt,kt.x,kt.y,kt.z,$n,ar,Er,In,Hr,ro.data):Jt.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ut.compressedTexSubImage3D(kr,Zt,kt.x,kt.y,kt.z,$n,ar,Er,In,ro.data)):ut.texSubImage3D(kr,Zt,kt.x,kt.y,kt.z,$n,ar,Er,In,Hr,ro),ut.pixelStorei(3314,Fr),ut.pixelStorei(32878,Cr),ut.pixelStorei(3316,ua),ut.pixelStorei(3315,Fa),ut.pixelStorei(32877,Va),Zt===0&&Pt.generateMipmaps&&ut.generateMipmap(kr),$t.unbindTexture()},this.initTexture=function(He){He.isCubeTexture?Un.setTextureCube(He,0):He.isData3DTexture?Un.setTexture3D(He,0):He.isDataArrayTexture?Un.setTexture2DArray(He,0):Un.setTexture2D(He,0),$t.unbindTexture()},this.resetState=function(){H=0,W=0,J=null,$t.reset(),qt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class T8 extends Xp{}T8.prototype.isWebGL1Renderer=!0;class zp extends _i{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,r){return super.copy(t,r),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const r=super.toJSON(t);return this.fog!==null&&(r.object.fog=this.fog.toJSON()),r}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(t){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=t}}class XS{constructor(t,r){this.isInterleavedBuffer=!0,this.array=t,this.stride=r,this.count=t!==void 0?t.length/r:0,this.usage=Ov,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=So()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,r,o){t*=this.stride,o*=r.stride;for(let l=0,d=this.stride;l<d;l++)this.array[t+l]=r.array[o+l];return this}set(t,r=0){return this.array.set(t,r),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=So()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const r=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),o=new this.constructor(r,this.stride);return o.setUsage(this.usage),o}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=So()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const us=new et;class uf{constructor(t,r,o,l=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=r,this.offset=o,this.normalized=l===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let r=0,o=this.data.count;r<o;r++)us.fromBufferAttribute(this,r),us.applyMatrix4(t),this.setXYZ(r,us.x,us.y,us.z);return this}applyNormalMatrix(t){for(let r=0,o=this.count;r<o;r++)us.fromBufferAttribute(this,r),us.applyNormalMatrix(t),this.setXYZ(r,us.x,us.y,us.z);return this}transformDirection(t){for(let r=0,o=this.count;r<o;r++)us.fromBufferAttribute(this,r),us.transformDirection(t),this.setXYZ(r,us.x,us.y,us.z);return this}setX(t,r){return this.normalized&&(r=ti(r,this.array)),this.data.array[t*this.data.stride+this.offset]=r,this}setY(t,r){return this.normalized&&(r=ti(r,this.array)),this.data.array[t*this.data.stride+this.offset+1]=r,this}setZ(t,r){return this.normalized&&(r=ti(r,this.array)),this.data.array[t*this.data.stride+this.offset+2]=r,this}setW(t,r){return this.normalized&&(r=ti(r,this.array)),this.data.array[t*this.data.stride+this.offset+3]=r,this}getX(t){let r=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(r=Ma(r,this.array)),r}getY(t){let r=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(r=Ma(r,this.array)),r}getZ(t){let r=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(r=Ma(r,this.array)),r}getW(t){let r=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(r=Ma(r,this.array)),r}setXY(t,r,o){return t=t*this.data.stride+this.offset,this.normalized&&(r=ti(r,this.array),o=ti(o,this.array)),this.data.array[t+0]=r,this.data.array[t+1]=o,this}setXYZ(t,r,o,l){return t=t*this.data.stride+this.offset,this.normalized&&(r=ti(r,this.array),o=ti(o,this.array),l=ti(l,this.array)),this.data.array[t+0]=r,this.data.array[t+1]=o,this.data.array[t+2]=l,this}setXYZW(t,r,o,l,d){return t=t*this.data.stride+this.offset,this.normalized&&(r=ti(r,this.array),o=ti(o,this.array),l=ti(l,this.array),d=ti(d,this.array)),this.data.array[t+0]=r,this.data.array[t+1]=o,this.data.array[t+2]=l,this.data.array[t+3]=d,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const r=[];for(let o=0;o<this.count;o++){const l=o*this.data.stride+this.offset;for(let d=0;d<this.itemSize;d++)r.push(this.data.array[l+d])}return new ri(new this.array.constructor(r),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new uf(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const r=[];for(let o=0;o<this.count;o++){const l=o*this.data.stride+this.offset;for(let d=0;d<this.itemSize;d++)r.push(this.data.array[l+d])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:r,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class zS extends Zs{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new sr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let Hu;const df=new et,Qu=new et,Xu=new et,zu=new Fn,ff=new Fn,$S=new br,$p=new et,hf=new et,Wp=new et,WS=new Fn,__=new Fn,KS=new Fn;class P8 extends _i{constructor(t){if(super(),this.isSprite=!0,this.type="Sprite",Hu===void 0){Hu=new Oi;const r=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),o=new XS(r,5);Hu.setIndex([0,1,2,0,2,3]),Hu.setAttribute("position",new uf(o,3,0,!1)),Hu.setAttribute("uv",new uf(o,2,3,!1))}this.geometry=Hu,this.material=t!==void 0?t:new zS,this.center=new Fn(.5,.5)}raycast(t,r){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Qu.setFromMatrixScale(this.matrixWorld),$S.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Xu.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Qu.multiplyScalar(-Xu.z);const o=this.material.rotation;let l,d;o!==0&&(d=Math.cos(o),l=Math.sin(o));const g=this.center;Kp($p.set(-.5,-.5,0),Xu,g,Qu,l,d),Kp(hf.set(.5,-.5,0),Xu,g,Qu,l,d),Kp(Wp.set(.5,.5,0),Xu,g,Qu,l,d),WS.set(0,0),__.set(1,0),KS.set(1,1);let v=t.ray.intersectTriangle($p,hf,Wp,!1,df);if(v===null&&(Kp(hf.set(-.5,.5,0),Xu,g,Qu,l,d),__.set(0,1),v=t.ray.intersectTriangle($p,Wp,hf,!1,df),v===null))return;const A=t.ray.origin.distanceTo(df);A<t.near||A>t.far||r.push({distance:A,point:df.clone(),uv:ta.getUV(df,$p,hf,Wp,WS,__,KS,new Fn),face:null,object:this})}copy(t,r){return super.copy(t,r),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function Kp(m,t,r,o,l,d){zu.subVectors(m,r).addScalar(.5).multiply(o),l!==void 0?(ff.x=d*zu.x-l*zu.y,ff.y=l*zu.x+d*zu.y):ff.copy(zu),m.copy(t),m.x+=ff.x,m.y+=ff.y,m.applyMatrix4($S)}const jS=new et,qS=new ni,YS=new ni,N8=new et,JS=new br;class D8 extends Fi{constructor(t,r){super(t,r),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new br,this.bindMatrixInverse=new br}copy(t,r){return super.copy(t,r),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,r){this.skeleton=t,r===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),r=this.matrixWorld),this.bindMatrix.copy(r),this.bindMatrixInverse.copy(r).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new ni,r=this.geometry.attributes.skinWeight;for(let o=0,l=r.count;o<l;o++){t.fromBufferAttribute(r,o);const d=1/t.manhattanLength();d!==1/0?t.multiplyScalar(d):t.set(1,0,0,0),r.setXYZW(o,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,r){const o=this.skeleton,l=this.geometry;qS.fromBufferAttribute(l.attributes.skinIndex,t),YS.fromBufferAttribute(l.attributes.skinWeight,t),jS.copy(r).applyMatrix4(this.bindMatrix),r.set(0,0,0);for(let d=0;d<4;d++){const g=YS.getComponent(d);if(g!==0){const v=qS.getComponent(d);JS.multiplyMatrices(o.bones[v].matrixWorld,o.boneInverses[v]),r.addScaledVector(N8.copy(jS).applyMatrix4(JS),g)}}return r.applyMatrix4(this.bindMatrixInverse)}}class ZS extends _i{constructor(){super(),this.isBone=!0,this.type="Bone"}}class A_ extends Bi{constructor(t=null,r=1,o=1,l,d,g,v,A,E=Mt,R=Mt,I,P){super(null,g,v,A,E,R,l,d,I,P),this.isDataTexture=!0,this.image={data:t,width:r,height:o},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const eE=new br,B8=new br;class y_{constructor(t=[],r=[]){this.uuid=So(),this.bones=t.slice(0),this.boneInverses=r,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const t=this.bones,r=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),r.length===0)this.calculateInverses();else if(t.length!==r.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let o=0,l=this.bones.length;o<l;o++)this.boneInverses.push(new br)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,r=this.bones.length;t<r;t++){const o=new br;this.bones[t]&&o.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(o)}}pose(){for(let t=0,r=this.bones.length;t<r;t++){const o=this.bones[t];o&&o.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,r=this.bones.length;t<r;t++){const o=this.bones[t];o&&(o.parent&&o.parent.isBone?(o.matrix.copy(o.parent.matrixWorld).invert(),o.matrix.multiply(o.matrixWorld)):o.matrix.copy(o.matrixWorld),o.matrix.decompose(o.position,o.quaternion,o.scale))}}update(){const t=this.bones,r=this.boneInverses,o=this.boneMatrices,l=this.boneTexture;for(let d=0,g=t.length;d<g;d++){const v=t[d]?t[d].matrixWorld:B8;eE.multiplyMatrices(v,r[d]),eE.toArray(o,d*16)}l!==null&&(l.needsUpdate=!0)}clone(){return new y_(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Y1(t),t=Math.max(t,4);const r=new Float32Array(t*t*4);r.set(this.boneMatrices);const o=new A_(r,t,t,ji,ei);return o.needsUpdate=!0,this.boneMatrices=r,this.boneTexture=o,this.boneTextureSize=t,this}getBoneByName(t){for(let r=0,o=this.bones.length;r<o;r++){const l=this.bones[r];if(l.name===t)return l}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,r){this.uuid=t.uuid;for(let o=0,l=t.bones.length;o<l;o++){const d=t.bones[o];let g=r[d];g===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",d),g=new ZS),this.bones.push(g),this.boneInverses.push(new br().fromArray(t.boneInverses[o]))}return this.init(),this}toJSON(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const r=this.bones,o=this.boneInverses;for(let l=0,d=r.length;l<d;l++){const g=r[l];t.bones.push(g.uuid);const v=o[l];t.boneInverses.push(v.toArray())}return t}}class jp extends Zs{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new sr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const tE=new et,nE=new et,rE=new br,b_=new Ip,qp=new xu;class S_ extends _i{constructor(t=new Oi,r=new jp){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=r,this.updateMorphTargets()}copy(t,r){return super.copy(t,r),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const r=t.attributes.position,o=[0];for(let l=1,d=r.count;l<d;l++)tE.fromBufferAttribute(r,l-1),nE.fromBufferAttribute(r,l),o[l]=o[l-1],o[l]+=tE.distanceTo(nE);t.setAttribute("lineDistance",new ki(o,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,r){const o=this.geometry,l=this.matrixWorld,d=t.params.Line.threshold,g=o.drawRange;if(o.boundingSphere===null&&o.computeBoundingSphere(),qp.copy(o.boundingSphere),qp.applyMatrix4(l),qp.radius+=d,t.ray.intersectsSphere(qp)===!1)return;rE.copy(l).invert(),b_.copy(t.ray).applyMatrix4(rE);const v=d/((this.scale.x+this.scale.y+this.scale.z)/3),A=v*v,E=new et,R=new et,I=new et,P=new et,B=this.isLineSegments?2:1,V=o.index,k=o.attributes.position;if(V!==null){const H=Math.max(0,g.start),W=Math.min(V.count,g.start+g.count);for(let J=H,te=W-1;J<te;J+=B){const j=V.getX(J),ne=V.getX(J+1);if(E.fromBufferAttribute(k,j),R.fromBufferAttribute(k,ne),b_.distanceSqToSegment(E,R,P,I)>A)continue;P.applyMatrix4(this.matrixWorld);const q=t.ray.origin.distanceTo(P);q<t.near||q>t.far||r.push({distance:q,point:I.clone().applyMatrix4(this.matrixWorld),index:J,face:null,faceIndex:null,object:this})}}else{const H=Math.max(0,g.start),W=Math.min(k.count,g.start+g.count);for(let J=H,te=W-1;J<te;J+=B){if(E.fromBufferAttribute(k,J),R.fromBufferAttribute(k,J+1),b_.distanceSqToSegment(E,R,P,I)>A)continue;P.applyMatrix4(this.matrixWorld);const ne=t.ray.origin.distanceTo(P);ne<t.near||ne>t.far||r.push({distance:ne,point:I.clone().applyMatrix4(this.matrixWorld),index:J,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const r=this.geometry.morphAttributes,o=Object.keys(r);if(o.length>0){const l=r[o[0]];if(l!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let d=0,g=l.length;d<g;d++){const v=l[d].name||String(d);this.morphTargetInfluences.push(0),this.morphTargetDictionary[v]=d}}}}}const iE=new et,sE=new et;class E_ extends S_{constructor(t,r){super(t,r),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const r=t.attributes.position,o=[];for(let l=0,d=r.count;l<d;l+=2)iE.fromBufferAttribute(r,l),sE.fromBufferAttribute(r,l+1),o[l]=l===0?0:o[l-1],o[l+1]=o[l]+iE.distanceTo(sE);t.setAttribute("lineDistance",new ki(o,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class k8 extends S_{constructor(t,r){super(t,r),this.isLineLoop=!0,this.type="LineLoop"}}class oE extends Zs{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new sr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const aE=new br,w_=new Ip,Yp=new xu,Jp=new et;class L8 extends _i{constructor(t=new Oi,r=new oE){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=r,this.updateMorphTargets()}copy(t,r){return super.copy(t,r),this.material=t.material,this.geometry=t.geometry,this}raycast(t,r){const o=this.geometry,l=this.matrixWorld,d=t.params.Points.threshold,g=o.drawRange;if(o.boundingSphere===null&&o.computeBoundingSphere(),Yp.copy(o.boundingSphere),Yp.applyMatrix4(l),Yp.radius+=d,t.ray.intersectsSphere(Yp)===!1)return;aE.copy(l).invert(),w_.copy(t.ray).applyMatrix4(aE);const v=d/((this.scale.x+this.scale.y+this.scale.z)/3),A=v*v,E=o.index,I=o.attributes.position;if(E!==null){const P=Math.max(0,g.start),B=Math.min(E.count,g.start+g.count);for(let V=P,O=B;V<O;V++){const k=E.getX(V);Jp.fromBufferAttribute(I,k),lE(Jp,k,A,l,t,r,this)}}else{const P=Math.max(0,g.start),B=Math.min(I.count,g.start+g.count);for(let V=P,O=B;V<O;V++)Jp.fromBufferAttribute(I,V),lE(Jp,V,A,l,t,r,this)}}updateMorphTargets(){const r=this.geometry.morphAttributes,o=Object.keys(r);if(o.length>0){const l=r[o[0]];if(l!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let d=0,g=l.length;d<g;d++){const v=l[d].name||String(d);this.morphTargetInfluences.push(0),this.morphTargetDictionary[v]=d}}}}}function lE(m,t,r,o,l,d,g){const v=w_.distanceSqToPoint(m);if(v<r){const A=new et;w_.closestPointToPoint(m,A),A.applyMatrix4(o);const E=l.ray.origin.distanceTo(A);if(E<l.near||E>l.far)return;d.push({distance:E,distanceToRay:Math.sqrt(v),point:A,index:t,face:null,object:g})}}class O8 extends Bi{constructor(t,r,o,l,d,g,v,A,E,R,I,P){super(null,g,v,A,E,R,l,d,I,P),this.isCompressedTexture=!0,this.image={width:r,height:o},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class C_ extends Oi{constructor(t=.5,r=1,o=8,l=1,d=0,g=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:r,thetaSegments:o,phiSegments:l,thetaStart:d,thetaLength:g},o=Math.max(3,o),l=Math.max(1,l);const v=[],A=[],E=[],R=[];let I=t;const P=(r-t)/l,B=new et,V=new Fn;for(let O=0;O<=l;O++){for(let k=0;k<=o;k++){const H=d+k/o*g;B.x=I*Math.cos(H),B.y=I*Math.sin(H),A.push(B.x,B.y,B.z),E.push(0,0,1),V.x=(B.x/r+1)/2,V.y=(B.y/r+1)/2,R.push(V.x,V.y)}I+=P}for(let O=0;O<l;O++){const k=O*(o+1);for(let H=0;H<o;H++){const W=H+k,J=W,te=W+o+1,j=W+o+2,ne=W+1;v.push(J,te,ne),v.push(te,j,ne)}}this.setIndex(v),this.setAttribute("position",new ki(A,3)),this.setAttribute("normal",new ki(E,3)),this.setAttribute("uv",new ki(R,2))}static fromJSON(t){return new C_(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class F8 extends Mo{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class pf extends Zs{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new sr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new sr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pp,this.normalScale=new Fn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Sc extends pf{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Fn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return qi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(r){this.ior=(1+.4*r)/(1-.4*r)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new sr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new sr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new sr(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class V8 extends Zs{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new sr(16777215),this.specular=new sr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new sr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pp,this.normalScale=new Fn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ct,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}function _l(m,t,r){return cE(m)?new m.constructor(m.subarray(t,r!==void 0?r:m.length)):m.slice(t,r)}function Zp(m,t,r){return!m||!r&&m.constructor===t?m:typeof t.BYTES_PER_ELEMENT=="number"?new t(m):Array.prototype.slice.call(m)}function cE(m){return ArrayBuffer.isView(m)&&!(m instanceof DataView)}function G8(m){function t(l,d){return m[l]-m[d]}const r=m.length,o=new Array(r);for(let l=0;l!==r;++l)o[l]=l;return o.sort(t),o}function uE(m,t,r){const o=m.length,l=new m.constructor(o);for(let d=0,g=0;g!==o;++d){const v=r[d]*t;for(let A=0;A!==t;++A)l[g++]=m[v+A]}return l}function dE(m,t,r,o){let l=1,d=m[0];for(;d!==void 0&&d[o]===void 0;)d=m[l++];if(d===void 0)return;let g=d[o];if(g!==void 0)if(Array.isArray(g))do g=d[o],g!==void 0&&(t.push(d.time),r.push.apply(r,g)),d=m[l++];while(d!==void 0);else if(g.toArray!==void 0)do g=d[o],g!==void 0&&(t.push(d.time),g.toArray(r,r.length)),d=m[l++];while(d!==void 0);else do g=d[o],g!==void 0&&(t.push(d.time),r.push(g)),d=m[l++];while(d!==void 0)}class mf{constructor(t,r,o,l){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=l!==void 0?l:new r.constructor(o),this.sampleValues=r,this.valueSize=o,this.settings=null,this.DefaultSettings_={}}evaluate(t){const r=this.parameterPositions;let o=this._cachedIndex,l=r[o],d=r[o-1];e:{t:{let g;n:{r:if(!(t<l)){for(let v=o+2;;){if(l===void 0){if(t<d)break r;return o=r.length,this._cachedIndex=o,this.copySampleValue_(o-1)}if(o===v)break;if(d=l,l=r[++o],t<l)break t}g=r.length;break n}if(!(t>=d)){const v=r[1];t<v&&(o=2,d=v);for(let A=o-2;;){if(d===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(o===A)break;if(l=d,d=r[--o-1],t>=d)break t}g=o,o=0;break n}break e}for(;o<g;){const v=o+g>>>1;t<r[v]?g=v:o=v+1}if(l=r[o],d=r[o-1],d===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(l===void 0)return o=r.length,this._cachedIndex=o,this.copySampleValue_(o-1)}this._cachedIndex=o,this.intervalChanged_(o,d,l)}return this.interpolate_(o,d,t,l)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const r=this.resultBuffer,o=this.sampleValues,l=this.valueSize,d=t*l;for(let g=0;g!==l;++g)r[g]=o[d+g];return r}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class U8 extends mf{constructor(t,r,o,l){super(t,r,o,l),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Su,endingEnd:Su}}intervalChanged_(t,r,o){const l=this.parameterPositions;let d=t-2,g=t+1,v=l[d],A=l[g];if(v===void 0)switch(this.getSettings_().endingStart){case Eu:d=t,v=2*r-o;break;case hp:d=l.length-2,v=r+l[d]-l[d+1];break;default:d=t,v=o}if(A===void 0)switch(this.getSettings_().endingEnd){case Eu:g=t,A=2*o-r;break;case hp:g=1,A=o+l[1]-l[0];break;default:g=t-1,A=r}const E=(o-r)*.5,R=this.valueSize;this._weightPrev=E/(r-v),this._weightNext=E/(A-o),this._offsetPrev=d*R,this._offsetNext=g*R}interpolate_(t,r,o,l){const d=this.resultBuffer,g=this.sampleValues,v=this.valueSize,A=t*v,E=A-v,R=this._offsetPrev,I=this._offsetNext,P=this._weightPrev,B=this._weightNext,V=(o-r)/(l-r),O=V*V,k=O*V,H=-P*k+2*P*O-P*V,W=(1+P)*k+(-1.5-2*P)*O+(-.5+P)*V+1,J=(-1-B)*k+(1.5+B)*O+.5*V,te=B*k-B*O;for(let j=0;j!==v;++j)d[j]=H*g[R+j]+W*g[E+j]+J*g[A+j]+te*g[I+j];return d}}class fE extends mf{constructor(t,r,o,l){super(t,r,o,l)}interpolate_(t,r,o,l){const d=this.resultBuffer,g=this.sampleValues,v=this.valueSize,A=t*v,E=A-v,R=(o-r)/(l-r),I=1-R;for(let P=0;P!==v;++P)d[P]=g[E+P]*I+g[A+P]*R;return d}}class H8 extends mf{constructor(t,r,o,l){super(t,r,o,l)}interpolate_(t){return this.copySampleValue_(t-1)}}class xo{constructor(t,r,o,l){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(r===void 0||r.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Zp(r,this.TimeBufferType),this.values=Zp(o,this.ValueBufferType),this.setInterpolation(l||this.DefaultInterpolation)}static toJSON(t){const r=t.constructor;let o;if(r.toJSON!==this.toJSON)o=r.toJSON(t);else{o={name:t.name,times:Zp(t.times,Array),values:Zp(t.values,Array)};const l=t.getInterpolation();l!==t.DefaultInterpolation&&(o.interpolation=l)}return o.type=t.ValueTypeName,o}InterpolantFactoryMethodDiscrete(t){return new H8(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new fE(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new U8(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let r;switch(t){case bu:r=this.InterpolantFactoryMethodDiscrete;break;case uc:r=this.InterpolantFactoryMethodLinear;break;case Bv:r=this.InterpolantFactoryMethodSmooth;break}if(r===void 0){const o="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(o);return console.warn("THREE.KeyframeTrack:",o),this}return this.createInterpolant=r,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return bu;case this.InterpolantFactoryMethodLinear:return uc;case this.InterpolantFactoryMethodSmooth:return Bv}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const r=this.times;for(let o=0,l=r.length;o!==l;++o)r[o]+=t}return this}scale(t){if(t!==1){const r=this.times;for(let o=0,l=r.length;o!==l;++o)r[o]*=t}return this}trim(t,r){const o=this.times,l=o.length;let d=0,g=l-1;for(;d!==l&&o[d]<t;)++d;for(;g!==-1&&o[g]>r;)--g;if(++g,d!==0||g!==l){d>=g&&(g=Math.max(g,1),d=g-1);const v=this.getValueSize();this.times=_l(o,d,g),this.values=_l(this.values,d*v,g*v)}return this}validate(){let t=!0;const r=this.getValueSize();r-Math.floor(r)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const o=this.times,l=this.values,d=o.length;d===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let g=null;for(let v=0;v!==d;v++){const A=o[v];if(typeof A=="number"&&isNaN(A)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,v,A),t=!1;break}if(g!==null&&g>A){console.error("THREE.KeyframeTrack: Out of order keys.",this,v,A,g),t=!1;break}g=A}if(l!==void 0&&cE(l))for(let v=0,A=l.length;v!==A;++v){const E=l[v];if(isNaN(E)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,v,E),t=!1;break}}return t}optimize(){const t=_l(this.times),r=_l(this.values),o=this.getValueSize(),l=this.getInterpolation()===Bv,d=t.length-1;let g=1;for(let v=1;v<d;++v){let A=!1;const E=t[v],R=t[v+1];if(E!==R&&(v!==1||E!==t[0]))if(l)A=!0;else{const I=v*o,P=I-o,B=I+o;for(let V=0;V!==o;++V){const O=r[I+V];if(O!==r[P+V]||O!==r[B+V]){A=!0;break}}}if(A){if(v!==g){t[g]=t[v];const I=v*o,P=g*o;for(let B=0;B!==o;++B)r[P+B]=r[I+B]}++g}}if(d>0){t[g]=t[d];for(let v=d*o,A=g*o,E=0;E!==o;++E)r[A+E]=r[v+E];++g}return g!==t.length?(this.times=_l(t,0,g),this.values=_l(r,0,g*o)):(this.times=t,this.values=r),this}clone(){const t=_l(this.times,0),r=_l(this.values,0),o=this.constructor,l=new o(this.name,t,r);return l.createInterpolant=this.createInterpolant,l}}xo.prototype.TimeBufferType=Float32Array,xo.prototype.ValueBufferType=Float32Array,xo.prototype.DefaultInterpolation=uc;class $u extends xo{}$u.prototype.ValueTypeName="bool",$u.prototype.ValueBufferType=Array,$u.prototype.DefaultInterpolation=bu,$u.prototype.InterpolantFactoryMethodLinear=void 0,$u.prototype.InterpolantFactoryMethodSmooth=void 0;class hE extends xo{}hE.prototype.ValueTypeName="color";class gf extends xo{}gf.prototype.ValueTypeName="number";class Q8 extends mf{constructor(t,r,o,l){super(t,r,o,l)}interpolate_(t,r,o,l){const d=this.resultBuffer,g=this.sampleValues,v=this.valueSize,A=(o-r)/(l-r);let E=t*v;for(let R=E+v;E!==R;E+=4)Ds.slerpFlat(d,0,g,E-v,g,E,A);return d}}class Ec extends xo{InterpolantFactoryMethodLinear(t){return new Q8(this.times,this.values,this.getValueSize(),t)}}Ec.prototype.ValueTypeName="quaternion",Ec.prototype.DefaultInterpolation=uc,Ec.prototype.InterpolantFactoryMethodSmooth=void 0;class Wu extends xo{}Wu.prototype.ValueTypeName="string",Wu.prototype.ValueBufferType=Array,Wu.prototype.DefaultInterpolation=bu,Wu.prototype.InterpolantFactoryMethodLinear=void 0,Wu.prototype.InterpolantFactoryMethodSmooth=void 0;class vf extends xo{}vf.prototype.ValueTypeName="vector";class em{constructor(t,r=-1,o,l=kv){this.name=t,this.tracks=o,this.duration=r,this.blendMode=l,this.uuid=So(),this.duration<0&&this.resetDuration()}static parse(t){const r=[],o=t.tracks,l=1/(t.fps||1);for(let g=0,v=o.length;g!==v;++g)r.push(z8(o[g]).scale(l));const d=new this(t.name,t.duration,r,t.blendMode);return d.uuid=t.uuid,d}static toJSON(t){const r=[],o=t.tracks,l={name:t.name,duration:t.duration,tracks:r,uuid:t.uuid,blendMode:t.blendMode};for(let d=0,g=o.length;d!==g;++d)r.push(xo.toJSON(o[d]));return l}static CreateFromMorphTargetSequence(t,r,o,l){const d=r.length,g=[];for(let v=0;v<d;v++){let A=[],E=[];A.push((v+d-1)%d,v,(v+1)%d),E.push(0,1,0);const R=G8(A);A=uE(A,1,R),E=uE(E,1,R),!l&&A[0]===0&&(A.push(d),E.push(E[0])),g.push(new gf(".morphTargetInfluences["+r[v].name+"]",A,E).scale(1/o))}return new this(t,-1,g)}static findByName(t,r){let o=t;if(!Array.isArray(t)){const l=t;o=l.geometry&&l.geometry.animations||l.animations}for(let l=0;l<o.length;l++)if(o[l].name===r)return o[l];return null}static CreateClipsFromMorphTargetSequences(t,r,o){const l={},d=/^([\w-]*?)([\d]+)$/;for(let v=0,A=t.length;v<A;v++){const E=t[v],R=E.name.match(d);if(R&&R.length>1){const I=R[1];let P=l[I];P||(l[I]=P=[]),P.push(E)}}const g=[];for(const v in l)g.push(this.CreateFromMorphTargetSequence(v,l[v],r,o));return g}static parseAnimation(t,r){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const o=function(I,P,B,V,O){if(B.length!==0){const k=[],H=[];dE(B,k,H,V),k.length!==0&&O.push(new I(P,k,H))}},l=[],d=t.name||"default",g=t.fps||30,v=t.blendMode;let A=t.length||-1;const E=t.hierarchy||[];for(let I=0;I<E.length;I++){const P=E[I].keys;if(!(!P||P.length===0))if(P[0].morphTargets){const B={};let V;for(V=0;V<P.length;V++)if(P[V].morphTargets)for(let O=0;O<P[V].morphTargets.length;O++)B[P[V].morphTargets[O]]=-1;for(const O in B){const k=[],H=[];for(let W=0;W!==P[V].morphTargets.length;++W){const J=P[V];k.push(J.time),H.push(J.morphTarget===O?1:0)}l.push(new gf(".morphTargetInfluence["+O+"]",k,H))}A=B.length*g}else{const B=".bones["+r[I].name+"]";o(vf,B+".position",P,"pos",l),o(Ec,B+".quaternion",P,"rot",l),o(vf,B+".scale",P,"scl",l)}}return l.length===0?null:new this(d,A,l,v)}resetDuration(){const t=this.tracks;let r=0;for(let o=0,l=t.length;o!==l;++o){const d=this.tracks[o];r=Math.max(r,d.times[d.times.length-1])}return this.duration=r,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let r=0;r<this.tracks.length;r++)t=t&&this.tracks[r].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let r=0;r<this.tracks.length;r++)t.push(this.tracks[r].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function X8(m){switch(m.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return gf;case"vector":case"vector2":case"vector3":case"vector4":return vf;case"color":return hE;case"quaternion":return Ec;case"bool":case"boolean":return $u;case"string":return Wu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+m)}function z8(m){if(m.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=X8(m.type);if(m.times===void 0){const r=[],o=[];dE(m.keys,r,o,"value"),m.times=r,m.values=o}return t.parse!==void 0?t.parse(m):new t(m.name,m.times,m.values,m.interpolation)}const Ku={enabled:!1,files:{},add:function(m,t){this.enabled!==!1&&(this.files[m]=t)},get:function(m){if(this.enabled!==!1)return this.files[m]},remove:function(m){delete this.files[m]},clear:function(){this.files={}}};class pE{constructor(t,r,o){const l=this;let d=!1,g=0,v=0,A;const E=[];this.onStart=void 0,this.onLoad=t,this.onProgress=r,this.onError=o,this.itemStart=function(R){v++,d===!1&&l.onStart!==void 0&&l.onStart(R,g,v),d=!0},this.itemEnd=function(R){g++,l.onProgress!==void 0&&l.onProgress(R,g,v),g===v&&(d=!1,l.onLoad!==void 0&&l.onLoad())},this.itemError=function(R){l.onError!==void 0&&l.onError(R)},this.resolveURL=function(R){return A?A(R):R},this.setURLModifier=function(R){return A=R,this},this.addHandler=function(R,I){return E.push(R,I),this},this.removeHandler=function(R){const I=E.indexOf(R);return I!==-1&&E.splice(I,2),this},this.getHandler=function(R){for(let I=0,P=E.length;I<P;I+=2){const B=E[I],V=E[I+1];if(B.global&&(B.lastIndex=0),B.test(R))return V}return null}}}const $8=new pE;class ia{constructor(t){this.manager=t!==void 0?t:$8,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,r){const o=this;return new Promise(function(l,d){o.load(t,l,r,d)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const Da={};class W8 extends Error{constructor(t,r){super(t),this.response=r}}class to extends ia{constructor(t){super(t)}load(t,r,o,l){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const d=Ku.get(t);if(d!==void 0)return this.manager.itemStart(t),setTimeout(()=>{r&&r(d),this.manager.itemEnd(t)},0),d;if(Da[t]!==void 0){Da[t].push({onLoad:r,onProgress:o,onError:l});return}Da[t]=[],Da[t].push({onLoad:r,onProgress:o,onError:l});const g=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),v=this.mimeType,A=this.responseType;fetch(g).then(E=>{if(E.status===200||E.status===0){if(E.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||E.body===void 0||E.body.getReader===void 0)return E;const R=Da[t],I=E.body.getReader(),P=E.headers.get("Content-Length"),B=P?parseInt(P):0,V=B!==0;let O=0;const k=new ReadableStream({start(H){W();function W(){I.read().then(({done:J,value:te})=>{if(J)H.close();else{O+=te.byteLength;const j=new ProgressEvent("progress",{lengthComputable:V,loaded:O,total:B});for(let ne=0,Ae=R.length;ne<Ae;ne++){const q=R[ne];q.onProgress&&q.onProgress(j)}H.enqueue(te),W()}})}}});return new Response(k)}else throw new W8(`fetch for "${E.url}" responded with ${E.status}: ${E.statusText}`,E)}).then(E=>{switch(A){case"arraybuffer":return E.arrayBuffer();case"blob":return E.blob();case"document":return E.text().then(R=>new DOMParser().parseFromString(R,v));case"json":return E.json();default:if(v===void 0)return E.text();{const I=/charset="?([^;"\s]*)"?/i.exec(v),P=I&&I[1]?I[1].toLowerCase():void 0,B=new TextDecoder(P);return E.arrayBuffer().then(V=>B.decode(V))}}}).then(E=>{Ku.add(t,E);const R=Da[t];delete Da[t];for(let I=0,P=R.length;I<P;I++){const B=R[I];B.onLoad&&B.onLoad(E)}}).catch(E=>{const R=Da[t];if(R===void 0)throw this.manager.itemError(t),E;delete Da[t];for(let I=0,P=R.length;I<P;I++){const B=R[I];B.onError&&B.onError(E)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class K8 extends ia{constructor(t){super(t)}load(t,r,o,l){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const d=this,g=Ku.get(t);if(g!==void 0)return d.manager.itemStart(t),setTimeout(function(){r&&r(g),d.manager.itemEnd(t)},0),g;const v=rf("img");function A(){R(),Ku.add(t,this),r&&r(this),d.manager.itemEnd(t)}function E(I){R(),l&&l(I),d.manager.itemError(t),d.manager.itemEnd(t)}function R(){v.removeEventListener("load",A,!1),v.removeEventListener("error",E,!1)}return v.addEventListener("load",A,!1),v.addEventListener("error",E,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(v.crossOrigin=this.crossOrigin),d.manager.itemStart(t),v.src=t,v}}class j8 extends ia{constructor(t){super(t)}load(t,r,o,l){const d=this,g=new A_,v=new to(this.manager);return v.setResponseType("arraybuffer"),v.setRequestHeader(this.requestHeader),v.setPath(this.path),v.setWithCredentials(d.withCredentials),v.load(t,function(A){const E=d.parse(A);!E||(E.image!==void 0?g.image=E.image:E.data!==void 0&&(g.image.width=E.width,g.image.height=E.height,g.image.data=E.data),g.wrapS=E.wrapS!==void 0?E.wrapS:Qe,g.wrapT=E.wrapT!==void 0?E.wrapT:Qe,g.magFilter=E.magFilter!==void 0?E.magFilter:pr,g.minFilter=E.minFilter!==void 0?E.minFilter:pr,g.anisotropy=E.anisotropy!==void 0?E.anisotropy:1,E.encoding!==void 0&&(g.encoding=E.encoding),E.flipY!==void 0&&(g.flipY=E.flipY),E.format!==void 0&&(g.format=E.format),E.type!==void 0&&(g.type=E.type),E.mipmaps!==void 0&&(g.mipmaps=E.mipmaps,g.minFilter=zn),E.mipmapCount===1&&(g.minFilter=pr),E.generateMipmaps!==void 0&&(g.generateMipmaps=E.generateMipmaps),g.needsUpdate=!0,r&&r(g,E))},o,l),g}}class I_ extends ia{constructor(t){super(t)}load(t,r,o,l){const d=new Bi,g=new K8(this.manager);return g.setCrossOrigin(this.crossOrigin),g.setPath(this.path),g.load(t,function(v){d.image=v,d.needsUpdate=!0,r!==void 0&&r(d)},o,l),d}}class _f extends _i{constructor(t,r=1){super(),this.isLight=!0,this.type="Light",this.color=new sr(t),this.intensity=r}dispose(){}copy(t,r){return super.copy(t,r),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const r=super.toJSON(t);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,this.groundColor!==void 0&&(r.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(r.object.distance=this.distance),this.angle!==void 0&&(r.object.angle=this.angle),this.decay!==void 0&&(r.object.decay=this.decay),this.penumbra!==void 0&&(r.object.penumbra=this.penumbra),this.shadow!==void 0&&(r.object.shadow=this.shadow.toJSON()),r}}class mE extends _f{constructor(t,r,o){super(t,o),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(_i.DefaultUp),this.updateMatrix(),this.groundColor=new sr(r)}copy(t,r){return super.copy(t,r),this.groundColor.copy(t.groundColor),this}}const gE=new br,vE=new et,_E=new et;class M_{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Fn(512,512),this.map=null,this.mapPass=null,this.matrix=new br,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new d_,this._frameExtents=new Fn(1,1),this._viewportCount=1,this._viewports=[new ni(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const r=this.camera,o=this.matrix;vE.setFromMatrixPosition(t.matrixWorld),r.position.copy(vE),_E.setFromMatrixPosition(t.target.matrixWorld),r.lookAt(_E),r.updateMatrixWorld(),gE.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gE),o.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),o.multiply(r.projectionMatrix),o.multiply(r.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class q8 extends M_{constructor(){super(new Yi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const r=this.camera,o=tf*2*t.angle*this.focus,l=this.mapSize.width/this.mapSize.height,d=t.distance||r.far;(o!==r.fov||l!==r.aspect||d!==r.far)&&(r.fov=o,r.aspect=l,r.far=d,r.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class Y8 extends _f{constructor(t,r,o=0,l=Math.PI/3,d=0,g=1){super(t,r),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(_i.DefaultUp),this.updateMatrix(),this.target=new _i,this.distance=o,this.angle=l,this.penumbra=d,this.decay=g,this.map=null,this.shadow=new q8}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,r){return super.copy(t,r),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const AE=new br,Af=new et,x_=new et;class J8 extends M_{constructor(){super(new Yi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Fn(4,2),this._viewportCount=6,this._viewports=[new ni(2,1,1,1),new ni(0,1,1,1),new ni(3,1,1,1),new ni(1,1,1,1),new ni(3,0,1,1),new ni(1,0,1,1)],this._cubeDirections=[new et(1,0,0),new et(-1,0,0),new et(0,0,1),new et(0,0,-1),new et(0,1,0),new et(0,-1,0)],this._cubeUps=[new et(0,1,0),new et(0,1,0),new et(0,1,0),new et(0,1,0),new et(0,0,1),new et(0,0,-1)]}updateMatrices(t,r=0){const o=this.camera,l=this.matrix,d=t.distance||o.far;d!==o.far&&(o.far=d,o.updateProjectionMatrix()),Af.setFromMatrixPosition(t.matrixWorld),o.position.copy(Af),x_.copy(o.position),x_.add(this._cubeDirections[r]),o.up.copy(this._cubeUps[r]),o.lookAt(x_),o.updateMatrixWorld(),l.makeTranslation(-Af.x,-Af.y,-Af.z),AE.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse),this._frustum.setFromProjectionMatrix(AE)}}class Z8 extends _f{constructor(t,r,o=0,l=1){super(t,r),this.isPointLight=!0,this.type="PointLight",this.distance=o,this.decay=l,this.shadow=new J8}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,r){return super.copy(t,r),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class e4 extends M_{constructor(){super(new Vp(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class R_ extends _f{constructor(t,r){super(t,r),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(_i.DefaultUp),this.updateMatrix(),this.target=new _i,this.shadow=new e4}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class yE extends _f{constructor(t,r){super(t,r),this.isAmbientLight=!0,this.type="AmbientLight"}}class sa{static decodeText(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let r="";for(let o=0,l=t.length;o<l;o++)r+=String.fromCharCode(t[o]);try{return decodeURIComponent(escape(r))}catch{return r}}static extractUrlBase(t){const r=t.lastIndexOf("/");return r===-1?"./":t.slice(0,r+1)}static resolveURL(t,r){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(r)&&/^\//.test(t)&&(r=r.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:r+t)}}class t4 extends ia{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,r,o,l){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const d=this,g=Ku.get(t);if(g!==void 0)return d.manager.itemStart(t),setTimeout(function(){r&&r(g),d.manager.itemEnd(t)},0),g;const v={};v.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",v.headers=this.requestHeader,fetch(t,v).then(function(A){return A.blob()}).then(function(A){return createImageBitmap(A,Object.assign(d.options,{colorSpaceConversion:"none"}))}).then(function(A){Ku.add(t,A),r&&r(A),d.manager.itemEnd(t)}).catch(function(A){l&&l(A),d.manager.itemError(t),d.manager.itemEnd(t)}),d.manager.itemStart(t)}}class n4{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=bE(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const r=bE();t=(r-this.oldTime)/1e3,this.oldTime=r,this.elapsedTime+=t}return t}}function bE(){return(typeof performance>"u"?Date:performance).now()}class r4{constructor(t,r,o){this.binding=t,this.valueSize=o;let l,d,g;switch(r){case"quaternion":l=this._slerp,d=this._slerpAdditive,g=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(o*6),this._workIndex=5;break;case"string":case"bool":l=this._select,d=this._select,g=this._setAdditiveIdentityOther,this.buffer=new Array(o*5);break;default:l=this._lerp,d=this._lerpAdditive,g=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(o*5)}this._mixBufferRegion=l,this._mixBufferRegionAdditive=d,this._setIdentity=g,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,r){const o=this.buffer,l=this.valueSize,d=t*l+l;let g=this.cumulativeWeight;if(g===0){for(let v=0;v!==l;++v)o[d+v]=o[v];g=r}else{g+=r;const v=r/g;this._mixBufferRegion(o,d,0,v,l)}this.cumulativeWeight=g}accumulateAdditive(t){const r=this.buffer,o=this.valueSize,l=o*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(r,l,0,t,o),this.cumulativeWeightAdditive+=t}apply(t){const r=this.valueSize,o=this.buffer,l=t*r+r,d=this.cumulativeWeight,g=this.cumulativeWeightAdditive,v=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,d<1){const A=r*this._origIndex;this._mixBufferRegion(o,l,A,1-d,r)}g>0&&this._mixBufferRegionAdditive(o,l,this._addIndex*r,1,r);for(let A=r,E=r+r;A!==E;++A)if(o[A]!==o[A+r]){v.setValue(o,l);break}}saveOriginalState(){const t=this.binding,r=this.buffer,o=this.valueSize,l=o*this._origIndex;t.getValue(r,l);for(let d=o,g=l;d!==g;++d)r[d]=r[l+d%o];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,r=t+this.valueSize;for(let o=t;o<r;o++)this.buffer[o]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,r=this._addIndex*this.valueSize;for(let o=0;o<this.valueSize;o++)this.buffer[r+o]=this.buffer[t+o]}_select(t,r,o,l,d){if(l>=.5)for(let g=0;g!==d;++g)t[r+g]=t[o+g]}_slerp(t,r,o,l){Ds.slerpFlat(t,r,t,r,t,o,l)}_slerpAdditive(t,r,o,l,d){const g=this._workIndex*d;Ds.multiplyQuaternionsFlat(t,g,t,r,t,o),Ds.slerpFlat(t,r,t,r,t,g,l)}_lerp(t,r,o,l,d){const g=1-l;for(let v=0;v!==d;++v){const A=r+v;t[A]=t[A]*g+t[o+v]*l}}_lerpAdditive(t,r,o,l,d){for(let g=0;g!==d;++g){const v=r+g;t[v]=t[v]+t[o+g]*l}}}const T_="\\[\\]\\.:\\/",i4=new RegExp("["+T_+"]","g"),P_="[^"+T_+"]",s4="[^"+T_.replace("\\.","")+"]",o4=/((?:WC+[\/:])*)/.source.replace("WC",P_),a4=/(WCOD+)?/.source.replace("WCOD",s4),l4=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",P_),c4=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",P_),u4=new RegExp("^"+o4+a4+l4+c4+"$"),d4=["material","materials","bones","map"];class f4{constructor(t,r,o){const l=o||Ur.parseTrackName(r);this._targetGroup=t,this._bindings=t.subscribe_(r,l)}getValue(t,r){this.bind();const o=this._targetGroup.nCachedObjects_,l=this._bindings[o];l!==void 0&&l.getValue(t,r)}setValue(t,r){const o=this._bindings;for(let l=this._targetGroup.nCachedObjects_,d=o.length;l!==d;++l)o[l].setValue(t,r)}bind(){const t=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=t.length;r!==o;++r)t[r].bind()}unbind(){const t=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=t.length;r!==o;++r)t[r].unbind()}}class Ur{constructor(t,r,o){this.path=r,this.parsedPath=o||Ur.parseTrackName(r),this.node=Ur.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,r,o){return t&&t.isAnimationObjectGroup?new Ur.Composite(t,r,o):new Ur(t,r,o)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(i4,"")}static parseTrackName(t){const r=u4.exec(t);if(r===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const o={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},l=o.nodeName&&o.nodeName.lastIndexOf(".");if(l!==void 0&&l!==-1){const d=o.nodeName.substring(l+1);d4.indexOf(d)!==-1&&(o.nodeName=o.nodeName.substring(0,l),o.objectName=d)}if(o.propertyName===null||o.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return o}static findNode(t,r){if(r===void 0||r===""||r==="."||r===-1||r===t.name||r===t.uuid)return t;if(t.skeleton){const o=t.skeleton.getBoneByName(r);if(o!==void 0)return o}if(t.children){const o=function(d){for(let g=0;g<d.length;g++){const v=d[g];if(v.name===r||v.uuid===r)return v;const A=o(v.children);if(A)return A}return null},l=o(t.children);if(l)return l}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,r){t[r]=this.targetObject[this.propertyName]}_getValue_array(t,r){const o=this.resolvedProperty;for(let l=0,d=o.length;l!==d;++l)t[r++]=o[l]}_getValue_arrayElement(t,r){t[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,r){this.resolvedProperty.toArray(t,r)}_setValue_direct(t,r){this.targetObject[this.propertyName]=t[r]}_setValue_direct_setNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,r){const o=this.resolvedProperty;for(let l=0,d=o.length;l!==d;++l)o[l]=t[r++]}_setValue_array_setNeedsUpdate(t,r){const o=this.resolvedProperty;for(let l=0,d=o.length;l!==d;++l)o[l]=t[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,r){const o=this.resolvedProperty;for(let l=0,d=o.length;l!==d;++l)o[l]=t[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,r){this.resolvedProperty[this.propertyIndex]=t[r]}_setValue_arrayElement_setNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,r){this.resolvedProperty.fromArray(t,r)}_setValue_fromArray_setNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,r){this.bind(),this.getValue(t,r)}_setValue_unbound(t,r){this.bind(),this.setValue(t,r)}bind(){let t=this.node;const r=this.parsedPath,o=r.objectName,l=r.propertyName;let d=r.propertyIndex;if(t||(t=Ur.findNode(this.rootNode,r.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(o){let E=r.objectIndex;switch(o){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let R=0;R<t.length;R++)if(t[R].name===E){E=R;break}break;case"map":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[o]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[o]}if(E!==void 0){if(t[E]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[E]}}const g=t[l];if(g===void 0){const E=r.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+E+"."+l+" but it wasn't found.",t);return}let v=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?v=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(v=this.Versioning.MatrixWorldNeedsUpdate);let A=this.BindingType.Direct;if(d!==void 0){if(l==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[d]!==void 0&&(d=t.morphTargetDictionary[d])}A=this.BindingType.ArrayElement,this.resolvedProperty=g,this.propertyIndex=d}else g.fromArray!==void 0&&g.toArray!==void 0?(A=this.BindingType.HasFromToArray,this.resolvedProperty=g):Array.isArray(g)?(A=this.BindingType.EntireArray,this.resolvedProperty=g):this.propertyName=l;this.getValue=this.GetterByBindingType[A],this.setValue=this.SetterByBindingTypeAndVersioning[A][v]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ur.Composite=f4,Ur.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Ur.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Ur.prototype.GetterByBindingType=[Ur.prototype._getValue_direct,Ur.prototype._getValue_array,Ur.prototype._getValue_arrayElement,Ur.prototype._getValue_toArray],Ur.prototype.SetterByBindingTypeAndVersioning=[[Ur.prototype._setValue_direct,Ur.prototype._setValue_direct_setNeedsUpdate,Ur.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ur.prototype._setValue_array,Ur.prototype._setValue_array_setNeedsUpdate,Ur.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ur.prototype._setValue_arrayElement,Ur.prototype._setValue_arrayElement_setNeedsUpdate,Ur.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ur.prototype._setValue_fromArray,Ur.prototype._setValue_fromArray_setNeedsUpdate,Ur.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class h4{constructor(t,r,o=null,l=r.blendMode){this._mixer=t,this._clip=r,this._localRoot=o,this.blendMode=l;const d=r.tracks,g=d.length,v=new Array(g),A={endingStart:Su,endingEnd:Su};for(let E=0;E!==g;++E){const R=d[E].createInterpolant(null);v[E]=R,R.settings=A}this._interpolantSettings=A,this._interpolants=v,this._propertyBindings=new Array(g),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=WD,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,r){return this.loop=t,this.repetitions=r,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,r,o){if(t.fadeOut(r),this.fadeIn(r),o){const l=this._clip.duration,d=t._clip.duration,g=d/l,v=l/d;t.warp(1,g,r),this.warp(v,1,r)}return this}crossFadeTo(t,r,o){return t.crossFadeFrom(this,r,o)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,r,o){const l=this._mixer,d=l.time,g=this.timeScale;let v=this._timeScaleInterpolant;v===null&&(v=l._lendControlInterpolant(),this._timeScaleInterpolant=v);const A=v.parameterPositions,E=v.sampleValues;return A[0]=d,A[1]=d+o,E[0]=t/g,E[1]=r/g,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,r,o,l){if(!this.enabled){this._updateWeight(t);return}const d=this._startTime;if(d!==null){const A=(t-d)*o;A<0||o===0?r=0:(this._startTime=null,r=o*A)}r*=this._updateTimeScale(t);const g=this._updateTime(r),v=this._updateWeight(t);if(v>0){const A=this._interpolants,E=this._propertyBindings;switch(this.blendMode){case jD:for(let R=0,I=A.length;R!==I;++R)A[R].evaluate(g),E[R].accumulateAdditive(v);break;case kv:default:for(let R=0,I=A.length;R!==I;++R)A[R].evaluate(g),E[R].accumulate(l,v)}}}_updateWeight(t){let r=0;if(this.enabled){r=this.weight;const o=this._weightInterpolant;if(o!==null){const l=o.evaluate(t)[0];r*=l,t>o.parameterPositions[1]&&(this.stopFading(),l===0&&(this.enabled=!1))}}return this._effectiveWeight=r,r}_updateTimeScale(t){let r=0;if(!this.paused){r=this.timeScale;const o=this._timeScaleInterpolant;if(o!==null){const l=o.evaluate(t)[0];r*=l,t>o.parameterPositions[1]&&(this.stopWarping(),r===0?this.paused=!0:this.timeScale=r)}}return this._effectiveTimeScale=r,r}_updateTime(t){const r=this._clip.duration,o=this.loop;let l=this.time+t,d=this._loopCount;const g=o===KD;if(t===0)return d===-1?l:g&&(d&1)===1?r-l:l;if(o===$D){d===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(l>=r)l=r;else if(l<0)l=0;else{this.time=l;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(d===-1&&(t>=0?(d=0,this._setEndings(!0,this.repetitions===0,g)):this._setEndings(this.repetitions===0,!0,g)),l>=r||l<0){const v=Math.floor(l/r);l-=r*v,d+=Math.abs(v);const A=this.repetitions-d;if(A<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,l=t>0?r:0,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(A===1){const E=t<0;this._setEndings(E,!E,g)}else this._setEndings(!1,!1,g);this._loopCount=d,this.time=l,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:v})}}else this.time=l;if(g&&(d&1)===1)return r-l}return l}_setEndings(t,r,o){const l=this._interpolantSettings;o?(l.endingStart=Eu,l.endingEnd=Eu):(t?l.endingStart=this.zeroSlopeAtStart?Eu:Su:l.endingStart=hp,r?l.endingEnd=this.zeroSlopeAtEnd?Eu:Su:l.endingEnd=hp)}_scheduleFading(t,r,o){const l=this._mixer,d=l.time;let g=this._weightInterpolant;g===null&&(g=l._lendControlInterpolant(),this._weightInterpolant=g);const v=g.parameterPositions,A=g.sampleValues;return v[0]=d,A[0]=r,v[1]=d+t,A[1]=o,this}}const p4=new Float32Array(1);class SE extends Ia{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,r){const o=t._localRoot||this._root,l=t._clip.tracks,d=l.length,g=t._propertyBindings,v=t._interpolants,A=o.uuid,E=this._bindingsByRootAndName;let R=E[A];R===void 0&&(R={},E[A]=R);for(let I=0;I!==d;++I){const P=l[I],B=P.name;let V=R[B];if(V!==void 0)++V.referenceCount,g[I]=V;else{if(V=g[I],V!==void 0){V._cacheIndex===null&&(++V.referenceCount,this._addInactiveBinding(V,A,B));continue}const O=r&&r._propertyBindings[I].binding.parsedPath;V=new r4(Ur.create(o,B,O),P.ValueTypeName,P.getValueSize()),++V.referenceCount,this._addInactiveBinding(V,A,B),g[I]=V}v[I].resultBuffer=V.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const o=(t._localRoot||this._root).uuid,l=t._clip.uuid,d=this._actionsByClip[l];this._bindAction(t,d&&d.knownActions[0]),this._addInactiveAction(t,l,o)}const r=t._propertyBindings;for(let o=0,l=r.length;o!==l;++o){const d=r[o];d.useCount++===0&&(this._lendBinding(d),d.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const r=t._propertyBindings;for(let o=0,l=r.length;o!==l;++o){const d=r[o];--d.useCount===0&&(d.restoreOriginalState(),this._takeBackBinding(d))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const r=t._cacheIndex;return r!==null&&r<this._nActiveActions}_addInactiveAction(t,r,o){const l=this._actions,d=this._actionsByClip;let g=d[r];if(g===void 0)g={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,d[r]=g;else{const v=g.knownActions;t._byClipCacheIndex=v.length,v.push(t)}t._cacheIndex=l.length,l.push(t),g.actionByRoot[o]=t}_removeInactiveAction(t){const r=this._actions,o=r[r.length-1],l=t._cacheIndex;o._cacheIndex=l,r[l]=o,r.pop(),t._cacheIndex=null;const d=t._clip.uuid,g=this._actionsByClip,v=g[d],A=v.knownActions,E=A[A.length-1],R=t._byClipCacheIndex;E._byClipCacheIndex=R,A[R]=E,A.pop(),t._byClipCacheIndex=null;const I=v.actionByRoot,P=(t._localRoot||this._root).uuid;delete I[P],A.length===0&&delete g[d],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const r=t._propertyBindings;for(let o=0,l=r.length;o!==l;++o){const d=r[o];--d.referenceCount===0&&this._removeInactiveBinding(d)}}_lendAction(t){const r=this._actions,o=t._cacheIndex,l=this._nActiveActions++,d=r[l];t._cacheIndex=l,r[l]=t,d._cacheIndex=o,r[o]=d}_takeBackAction(t){const r=this._actions,o=t._cacheIndex,l=--this._nActiveActions,d=r[l];t._cacheIndex=l,r[l]=t,d._cacheIndex=o,r[o]=d}_addInactiveBinding(t,r,o){const l=this._bindingsByRootAndName,d=this._bindings;let g=l[r];g===void 0&&(g={},l[r]=g),g[o]=t,t._cacheIndex=d.length,d.push(t)}_removeInactiveBinding(t){const r=this._bindings,o=t.binding,l=o.rootNode.uuid,d=o.path,g=this._bindingsByRootAndName,v=g[l],A=r[r.length-1],E=t._cacheIndex;A._cacheIndex=E,r[E]=A,r.pop(),delete v[d],Object.keys(v).length===0&&delete g[l]}_lendBinding(t){const r=this._bindings,o=t._cacheIndex,l=this._nActiveBindings++,d=r[l];t._cacheIndex=l,r[l]=t,d._cacheIndex=o,r[o]=d}_takeBackBinding(t){const r=this._bindings,o=t._cacheIndex,l=--this._nActiveBindings,d=r[l];t._cacheIndex=l,r[l]=t,d._cacheIndex=o,r[o]=d}_lendControlInterpolant(){const t=this._controlInterpolants,r=this._nActiveControlInterpolants++;let o=t[r];return o===void 0&&(o=new fE(new Float32Array(2),new Float32Array(2),1,p4),o.__cacheIndex=r,t[r]=o),o}_takeBackControlInterpolant(t){const r=this._controlInterpolants,o=t.__cacheIndex,l=--this._nActiveControlInterpolants,d=r[l];t.__cacheIndex=l,r[l]=t,d.__cacheIndex=o,r[o]=d}clipAction(t,r,o){const l=r||this._root,d=l.uuid;let g=typeof t=="string"?em.findByName(l,t):t;const v=g!==null?g.uuid:t,A=this._actionsByClip[v];let E=null;if(o===void 0&&(g!==null?o=g.blendMode:o=kv),A!==void 0){const I=A.actionByRoot[d];if(I!==void 0&&I.blendMode===o)return I;E=A.knownActions[0],g===null&&(g=E._clip)}if(g===null)return null;const R=new h4(this,g,r,o);return this._bindAction(R,E),this._addInactiveAction(R,v,d),R}existingAction(t,r){const o=r||this._root,l=o.uuid,d=typeof t=="string"?em.findByName(o,t):t,g=d?d.uuid:t,v=this._actionsByClip[g];return v!==void 0&&v.actionByRoot[l]||null}stopAllAction(){const t=this._actions,r=this._nActiveActions;for(let o=r-1;o>=0;--o)t[o].stop();return this}update(t){t*=this.timeScale;const r=this._actions,o=this._nActiveActions,l=this.time+=t,d=Math.sign(t),g=this._accuIndex^=1;for(let E=0;E!==o;++E)r[E]._update(l,t,d,g);const v=this._bindings,A=this._nActiveBindings;for(let E=0;E!==A;++E)v[E].apply(g);return this}setTime(t){this.time=0;for(let r=0;r<this._actions.length;r++)this._actions[r].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const r=this._actions,o=t.uuid,l=this._actionsByClip,d=l[o];if(d!==void 0){const g=d.knownActions;for(let v=0,A=g.length;v!==A;++v){const E=g[v];this._deactivateAction(E);const R=E._cacheIndex,I=r[r.length-1];E._cacheIndex=null,E._byClipCacheIndex=null,I._cacheIndex=R,r[R]=I,r.pop(),this._removeInactiveBindingsForAction(E)}delete l[o]}}uncacheRoot(t){const r=t.uuid,o=this._actionsByClip;for(const g in o){const v=o[g].actionByRoot,A=v[r];A!==void 0&&(this._deactivateAction(A),this._removeInactiveAction(A))}const l=this._bindingsByRootAndName,d=l[r];if(d!==void 0)for(const g in d){const v=d[g];v.restoreOriginalState(),this._removeInactiveBinding(v)}}uncacheAction(t,r){const o=this.existingAction(t,r);o!==null&&(this._deactivateAction(o),this._removeInactiveAction(o))}}class m4{constructor(t,r,o=0,l=1/0){this.ray=new Ip(t,r),this.near=o,this.far=l,this.camera=null,this.layers=new Zv,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,r){this.ray.set(t,r)}setFromCamera(t,r){r.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(r).sub(this.ray.origin).normalize(),this.camera=r):r.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(r.near+r.far)/(r.near-r.far)).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld),this.camera=r):console.error("THREE.Raycaster: Unsupported camera type: "+r.type)}intersectObject(t,r=!0,o=[]){return N_(t,this,o,r),o.sort(EE),o}intersectObjects(t,r=!0,o=[]){for(let l=0,d=t.length;l<d;l++)N_(t[l],this,o,r);return o.sort(EE),o}}function EE(m,t){return m.distance-t.distance}function N_(m,t,r,o){if(m.layers.test(t.layers)&&m.raycast(t,r),o===!0){const l=m.children;for(let d=0,g=l.length;d<g;d++)N_(l[d],t,r,!0)}}class wE{constructor(t=1,r=0,o=0){return this.radius=t,this.phi=r,this.theta=o,this}set(t,r,o){return this.radius=t,this.phi=r,this.theta=o,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,r,o){return this.radius=Math.sqrt(t*t+r*r+o*o),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,o),this.phi=Math.acos(qi(r/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const tm=new ea;class CE extends E_{constructor(t,r=16776960){const o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),l=new Float32Array(8*3),d=new Oi;d.setIndex(new ri(o,1)),d.setAttribute("position",new ri(l,3)),super(d,new jp({color:r,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(t!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&tm.setFromObject(this.object),tm.isEmpty())return;const r=tm.min,o=tm.max,l=this.geometry.attributes.position,d=l.array;d[0]=o.x,d[1]=o.y,d[2]=o.z,d[3]=r.x,d[4]=o.y,d[5]=o.z,d[6]=r.x,d[7]=r.y,d[8]=o.z,d[9]=o.x,d[10]=r.y,d[11]=o.z,d[12]=o.x,d[13]=o.y,d[14]=r.z,d[15]=r.x,d[16]=o.y,d[17]=r.z,d[18]=r.x,d[19]=r.y,d[20]=r.z,d[21]=o.x,d[22]=r.y,d[23]=r.z,l.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,r){return super.copy(t,r),this.object=t.object,this}}class g4 extends E_{constructor(t=1){const r=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],o=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],l=new Oi;l.setAttribute("position",new ki(r,3)),l.setAttribute("color",new ki(o,3));const d=new jp({vertexColors:!0,toneMapped:!1});super(l,d),this.type="AxesHelper"}setColors(t,r,o){const l=new sr,d=this.geometry.attributes.color.array;return l.set(t),l.toArray(d,0),l.toArray(d,3),l.set(r),l.toArray(d,6),l.toArray(d,9),l.set(o),l.toArray(d,12),l.toArray(d,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const Ba=v4();function v4(){const m=new ArrayBuffer(4),t=new Float32Array(m),r=new Uint32Array(m),o=new Uint32Array(512),l=new Uint32Array(512);for(let A=0;A<256;++A){const E=A-127;E<-27?(o[A]=0,o[A|256]=32768,l[A]=24,l[A|256]=24):E<-14?(o[A]=1024>>-E-14,o[A|256]=1024>>-E-14|32768,l[A]=-E-1,l[A|256]=-E-1):E<=15?(o[A]=E+15<<10,o[A|256]=E+15<<10|32768,l[A]=13,l[A|256]=13):E<128?(o[A]=31744,o[A|256]=64512,l[A]=24,l[A|256]=24):(o[A]=31744,o[A|256]=64512,l[A]=13,l[A|256]=13)}const d=new Uint32Array(2048),g=new Uint32Array(64),v=new Uint32Array(64);for(let A=1;A<1024;++A){let E=A<<13,R=0;for(;(E&8388608)===0;)E<<=1,R-=8388608;E&=-8388609,R+=947912704,d[A]=E|R}for(let A=1024;A<2048;++A)d[A]=939524096+(A-1024<<13);for(let A=1;A<31;++A)g[A]=A<<23;g[31]=1199570944,g[32]=2147483648;for(let A=33;A<63;++A)g[A]=2147483648+(A-32<<23);g[63]=3347054592;for(let A=1;A<64;++A)A!==32&&(v[A]=1024);return{floatView:t,uint32View:r,baseTable:o,shiftTable:l,mantissaTable:d,exponentTable:g,offsetTable:v}}function _4(m){Math.abs(m)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),m=qi(m,-65504,65504),Ba.floatView[0]=m;const t=Ba.uint32View[0],r=t>>23&511;return Ba.baseTable[r]+((t&8388607)>>Ba.shiftTable[r])}function A4(m){const t=m>>10;return Ba.uint32View[0]=Ba.mantissaTable[Ba.offsetTable[t]+(m&1023)]+Ba.exponentTable[t],Ba.floatView[0]}var nm=Object.freeze({__proto__:null,toHalfFloat:_4,fromHalfFloat:A4});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:b}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=b);var D_=function(){function m(t){this.directionalLight=null,this.currentCamera=t,this.viewpoint=new Al}return m.prototype.setCameraViewPoint=function(){this.currentCamera.near=this.viewpoint.nearPlane,this.currentCamera.far=this.viewpoint.farPlane,this.currentCamera.position.set(this.viewpoint.eyePosition[0],this.viewpoint.eyePosition[1],this.viewpoint.eyePosition[2]),this.currentCamera.lookAt(this.viewpoint.targetPosition[0],this.viewpoint.targetPosition[1],this.viewpoint.targetPosition[2]),this.currentCamera.up.set(this.viewpoint.upVector[0],this.viewpoint.upVector[1],this.viewpoint.upVector[2]),this.currentCamera.updateProjectionMatrix(),this.updateDirectionalLight()},m.prototype.updateCameraViewPoint=function(t){this.viewpoint=t,this.setCameraViewPoint()},m.prototype.updateDirectionalLight=function(t){t&&(this.directionalLight=t,this.directionalLight.position.set(this.currentCamera.position.x,this.currentCamera.position.y,this.currentCamera.position.z))},m}(),Al=function(){function m(){this.nearPlane=.1,this.farPlane=2e3,this.eyePosition=[0,0,0],this.targetPosition=[0,0,0],this.upVector=[0,1,0]}return m}(),y4=`#define GLSLIFY 1
attribute vec3 position;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;varying vec2 vUv;void main(){gl_Position=vec4(position,1.0);vUv=vec2(position.x,position.y)*0.5+0.5;}`,b4=`precision mediump float;
#define GLSLIFY 1
vec3 mod289_0(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289_0(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute_0(vec4 x){return mod289_0(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt_0(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float pnoise(vec3 P,vec3 rep){vec3 Pi0=mod(floor(P),rep);vec3 Pi1=mod(Pi0+vec3(1.0),rep);Pi0=mod289_0(Pi0);Pi1=mod289_0(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute_0(permute_0(ix)+iy);vec4 ixy0=permute_0(ixy+iz0);vec4 ixy1=permute_0(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt_0(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt_0(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}vec3 mod289_1(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289_1(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute_1(vec4 x){return mod289_1(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt_1(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g_0=step(x0.yzx,x0.xyz);vec3 l=1.0-g_0;vec3 i1=min(g_0.xyz,l.zxy);vec3 i2=max(g_0.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289_1(i);vec4 p=permute_1(permute_1(permute_1(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt_1(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}float grain(vec2 texCoord,vec2 resolution,float frame,float multiplier){vec2 mult=texCoord*resolution;float offset=snoise(vec3(mult/multiplier,frame));float n1=pnoise(vec3(mult,offset),vec3(1.0/texCoord*resolution,1.0));return n1/2.0+0.5;}float grain(vec2 texCoord,vec2 resolution,float frame){return grain(texCoord,resolution,frame,2.5);}float grain(vec2 texCoord,vec2 resolution){return grain(texCoord,resolution,0.0);}vec3 blendSoftLight(vec3 base,vec3 blend){return mix(sqrt(base)*(2.0*blend-1.0)+2.0*base*(1.0-blend),2.0*base*blend+base*base*(1.0-2.0*blend),step(base,vec3(0.5)));}uniform vec3 color1;uniform vec3 color2;uniform float aspect;uniform vec2 offset;uniform vec2 scale;uniform float noiseAlpha;uniform bool aspectCorrection;uniform float grainScale;uniform float grainTime;uniform vec2 smooth;varying vec2 vUv;void main(){vec2 q=vec2(vUv-0.5);if(aspectCorrection){q.x*=aspect;}q/=scale;q-=offset;float dst=length(q);dst=smoothstep(smooth.x,smooth.y,dst);vec3 color=mix(color1,color2,dst);if(noiseAlpha>0.0&&grainScale>0.0){float gSize=1.0/grainScale;float g=grain(vUv,vec2(gSize*aspect,gSize),grainTime);vec3 noiseColor=blendSoftLight(color,vec3(g));gl_FragColor.rgb=mix(color,noiseColor,noiseAlpha);}else{gl_FragColor.rgb=color;}gl_FragColor.a=1.0;}`;function IE(m){m=m||{};var t=m.geometry||new Ac(2,2,1),r=new F8({vertexShader:y4,fragmentShader:b4,side:$,uniforms:{aspectCorrection:{value:!1},aspect:{value:1},grainScale:{value:.005},grainTime:{value:0},noiseAlpha:{value:.25},offset:{value:new Fn(0,0)},scale:{value:new Fn(1,1)},smooth:{value:new Fn(0,1)},color1:{value:new sr("#fff")},color2:{value:new sr("#283844")}},depthTest:!1}),o=new Fi(t,r);o.frustumCulled=!1;var l={mesh:o,style:function(){}};l.style=function(g){if(g=g||{},Array.isArray(g.colors)){var v=g.colors.map(function(B){return typeof B=="string"||typeof B=="number"?new sr(B):B});r.uniforms.color1.value.copy(v[0]),r.uniforms.color2.value.copy(v[1])}if(typeof g.aspect=="number"&&(r.uniforms.aspect.value=g.aspect),typeof g.grainScale=="number"&&(r.uniforms.grainScale.value=g.grainScale),typeof g.grainTime=="number"&&(r.uniforms.grainTime.value=g.grainTime),g.smooth){var A=d(g.smooth);r.uniforms.smooth.value.copy(A)}if(g.offset){var E=d(g.offset);r.uniforms.offset.value.copy(E)}if(typeof g.noiseAlpha=="number"&&(r.uniforms.noiseAlpha.value=g.noiseAlpha),typeof g.scale<"u"){var R=g.scale,I=[];typeof R=="number"&&(I=[R,R]);var P=d(I);r.uniforms.scale.value.copy(P)}typeof g.aspectCorrection<"u"&&(r.uniforms.aspectCorrection.value=Boolean(g.aspectCorrection))};function d(g){return Array.isArray(g)?new Fn().fromArray(g):g}return m?l.style(m):l.style(),l}function S4(m){var t=document.fullscreenElement||document.webkitFullscreenElement;t?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():m.requestFullscreen?m.requestFullscreen():m.webkitRequestFullscreen&&m.webkitRequestFullscreen()}function ME(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function E4(m,t){m.traverse(function(r){!r.isMesh||(Array.isArray(r.material)?t(r.material):[r.material].forEach(t))})}function xE(){var m=document.createElement("div"),t=document.createElement("div"),r=document.createElement("div");return m.style.position="relative",m.style.display="none",r.style.color="#000",m.style.zIndex="1000",m.className="copper3D_flex-center",t.className="copper3D_three-balls-bounce",r.className="copper3D_loading_progress",t.innerHTML="<div class='copper3D_circle'></div><div class='copper3D_circle'></div><div class='copper3D_circle'></div><div class='copper3D_shadow'></div><div class='copper3D_shadow'></div><div class='copper3D_shadow'></div>",m.appendChild(t),m.appendChild(r),{loadingContainer:m,progress:r}}function w4(m,t){return function(r){return((r-t)/m+.5)*255}}function C4(m,t){var r=Math.max.apply(Math,m.lut).toString(2).length,o=r-8,l=m.lut[0]>>o,d=m.lut[m.lut.length-1]>>o,g=m.firstValueMapped+m.lut.length-1;return function(v){return v<m.firstValueMapped?l:v>=g?d:t?m.lut[Math.round(v)-m.firstValueMapped]>>o:m.lut[v-m.firstValueMapped]>>o}}function I4(m,t,r,o){return r?C4(r,o):w4(m,t)}var M4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ho<"u"?ho:typeof self<"u"?self:{};function RE(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}function TE(m,t){return t={exports:{}},m(t,t.exports),t.exports}var x4=TE(function(m,t){/*! dicom-parser - 1.8.12 - 2022-02-07 | (c) 2017 Chris Hafey | https://github.com/cornerstonejs/dicomParser */(function(r,o){m.exports=o(u.default)})(M4,function(r){return l=[function(g,v){g.exports=r},function(g,v,A){A.r(v),A.d(v,"isStringVr",function(){return R}),A.d(v,"isPrivateTag",function(){return I}),A.d(v,"parsePN",function(){return P}),A.d(v,"parseTM",function(){return B}),A.d(v,"parseDA",function(){return O}),A.d(v,"explicitElementToString",function(){return k}),A.d(v,"explicitDataSetToJS",function(){return H}),A.d(v,"createJPEGBasicOffsetTable",function(){return te}),A.d(v,"parseDicomDataSetExplicit",function(){return Vt}),A.d(v,"parseDicomDataSetImplicit",function(){return Wt}),A.d(v,"readFixedString",function(){return q}),A.d(v,"alloc",function(){return c}),A.d(v,"version",function(){return Ln}),A.d(v,"bigEndianByteArrayParser",function(){return ut}),A.d(v,"ByteStream",function(){return jt}),A.d(v,"sharedCopy",function(){return We}),A.d(v,"DataSet",function(){return Fe}),A.d(v,"findAndSetUNElementLength",function(){return Ae}),A.d(v,"findEndOfEncapsulatedElement",function(){return ne}),A.d(v,"findItemDelimitationItemAndSetElementLength",function(){return tt}),A.d(v,"littleEndianByteArrayParser",function(){return $t}),A.d(v,"parseDicom",function(){return Un}),A.d(v,"readDicomElementExplicit",function(){return Ut}),A.d(v,"readDicomElementImplicit",function(){return Oe}),A.d(v,"readEncapsulatedImageFrame",function(){return Xn}),A.d(v,"readEncapsulatedPixelData",function(){return Rt}),A.d(v,"readEncapsulatedPixelDataFromFragments",function(){return rn}),A.d(v,"readPart10Header",function(){return Sn}),A.d(v,"readSequenceItemsExplicit",function(){return Ze}),A.d(v,"readSequenceItemsImplicit",function(){return dt}),A.d(v,"readSequenceItem",function(){return st}),A.d(v,"readTag",function(){return j});var E={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:void 0,UR:!0,US:!1,UT:!0},R=function(ce){return E[ce]},I=function(ce){return parseInt(ce[4],10)%2==1},P=function(ce){if(ce!==void 0)return ce=ce.split("^"),{familyName:ce[0],givenName:ce[1],middleName:ce[2],prefix:ce[3],suffix:ce[4]}};function B(ce,X){if(2<=ce.length){var K=parseInt(ce.substring(0,2),10),ue=4<=ce.length?parseInt(ce.substring(2,4),10):void 0,De=6<=ce.length?parseInt(ce.substring(4,6),10):void 0,Je=8<=ce.length?ce.substring(7,13):void 0,Je=Je?parseInt(Je,10)*Math.pow(10,6-Je.length):void 0;if(X&&(isNaN(K)||ue!==void 0&&isNaN(ue)||De!==void 0&&isNaN(De)||Je!==void 0&&isNaN(Je)||K<0||23<K||ue&&(ue<0||59<ue)||De&&(De<0||59<De)||Je&&(Je<0||999999<Je)))throw"invalid TM '".concat(ce,"'");return{hours:K,minutes:ue,seconds:De,fractionalSeconds:Je}}if(X)throw"invalid TM '".concat(ce,"'")}function V(ce,X,K){return!isNaN(K)&&0<X&&X<=12&&0<ce&&ce<=function(ue,De){switch(ue){case 2:return De%4==0&&De%100||De%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}}(X,K)}function O(ce,X){if(ce&&ce.length===8){var K=parseInt(ce.substring(0,4),10),ue=parseInt(ce.substring(4,6),10),De=parseInt(ce.substring(6,8),10);if(X&&V(De,ue,K)!==!0)throw"invalid DA '".concat(ce,"'");return{year:K,month:ue,day:De}}if(X)throw"invalid DA '".concat(ce,"'")}function k(ce,X){if(ce===void 0||X===void 0)throw"dicomParser.explicitElementToString: missing required parameters";if(X.vr===void 0)throw"dicomParser.explicitElementToString: cannot convert implicit element to string";var K,ue=X.vr,De=X.tag;function Je(nn,Me){for(var qt="",ln=0;ln<nn;ln++)ln!==0&&(qt+="/"),qt+=Me.call(ce,De,ln).toString();return qt}if(R(ue)===!0)K=ce.string(De);else{if(ue==="AT"){var It=ce.uint32(De);return It===void 0?void 0:"x".concat((It=It<0?4294967295+It+1:It).toString(16).toUpperCase())}ue==="US"?K=Je(X.length/2,ce.uint16):ue==="SS"?K=Je(X.length/2,ce.int16):ue==="UL"?K=Je(X.length/4,ce.uint32):ue==="SL"?K=Je(X.length/4,ce.int32):ue==="FD"?K=Je(X.length/8,ce.double):ue==="FL"&&(K=Je(X.length/4,ce.float))}return K}function H(ce,X){if(ce===void 0)throw"dicomParser.explicitDataSetToJS: missing required parameter dataSet";X=X||{omitPrivateAttibutes:!0,maxElementLength:128};var K,ue={};for(K in ce.elements){var De=ce.elements[K];if(X.omitPrivateAttibutes!==!0||!I(K))if(De.items){for(var Je=[],It=0;It<De.items.length;It++)Je.push(H(De.items[It].dataSet,X));ue[K]=Je}else{var nn=void 0;De.length<X.maxElementLength&&(nn=k(ce,De)),ue[K]=nn!==void 0?nn:{dataOffset:De.dataOffset,length:De.length}}}return ue}function W(ce,X){return ce.byteArray[X]===255&&ce.byteArray[X+1]===217}function J(ce,X,K){for(var ue,De,Je=K;Je<X.fragments.length;Je++)if(ue=ce,De=Je,De=X.fragments[De],!(!W(ue,De.position+De.length-2)&&!W(ue,De.position+De.length-3)))return Je}function te(ce,X,K){if(ce===void 0)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet";if(X===void 0)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement";if(X.tag!=="x7fe00010")throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'";if(X.encapsulatedPixelData!==!0||X.hadUndefinedLength!==!0||X.basicOffsetTable===void 0||X.fragments===void 0||X.fragments.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(K&&K.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length";K=K||X.fragments;for(var ue=[],De=0;;){ue.push(X.fragments[De].offset);var Je=J(ce,X,De);if(Je===void 0||Je===X.fragments.length-1)return ue;De=Je+1}}function j(K){if(K===void 0)throw"dicomParser.readTag: missing required parameter 'byteStream'";var X=256*K.readUint16()*256,K=K.readUint16();return"x".concat("00000000".concat((X+K).toString(16)).substr(-8))}function ne(ce,X,K){if(ce===void 0)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'";if(X===void 0)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'";if(X.encapsulatedPixelData=!0,X.basicOffsetTable=[],X.fragments=[],j(ce)!=="xfffee000")throw"dicomParser.findEndOfEncapsulatedElement: basic offset table not found";for(var ue=ce.readUint32()/4,De=0;De<ue;De++){var Je=ce.readUint32();X.basicOffsetTable.push(Je)}for(var It=ce.position;ce.position<ce.byteArray.length;){var nn=j(ce),Me=ce.readUint32();if(nn==="xfffee0dd")return ce.seek(Me),void(X.length=ce.position-X.dataOffset);if(nn!=="xfffee000")return K&&K.push("unexpected tag ".concat(nn," while searching for end of pixel data element with undefined length")),Me>ce.byteArray.length-ce.position&&(Me=ce.byteArray.length-ce.position),X.fragments.push({offset:ce.position-It-8,position:ce.position,length:Me}),ce.seek(Me),void(X.length=ce.position-X.dataOffset);X.fragments.push({offset:ce.position-It-8,position:ce.position,length:Me}),ce.seek(Me)}K&&K.push("pixel data element ".concat(X.tag," missing sequence delimiter tag xfffee0dd"))}function Ae(ce,X){if(ce===void 0)throw"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'";for(var K=ce.byteArray.length-8;ce.position<=K;)if(ce.readUint16()===65534){var ue=ce.readUint16();if(ue===57565)return ce.readUint32()!==0&&ce.warnings("encountered non zero length following item delimiter at position ".concat(ce.position-4," while reading element of undefined length with tag ").concat(X.tag)),void(X.length=ce.position-X.dataOffset)}X.length=ce.byteArray.length-X.dataOffset,ce.seek(ce.byteArray.length-ce.position)}function q(ce,X,K){if(K<0)throw"dicomParser.readFixedString - length cannot be less than 0";if(X+K>ce.length)throw"dicomParser.readFixedString: attempt to read past end of buffer";for(var ue,De="",Je=0;Je<K;Je++){if((ue=ce[X+Je])===0)return X+=K,De;De+=String.fromCharCode(ue)}return De}function ge(ce,X){for(var K=0;K<X.length;K++){var ue=X[K];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(ce,ue.key,ue)}}function we(ce,X){return ce.parser!==void 0?ce.parser:X}var Fe=function(){function ce(ue,De,Je){(function(It,nn){if(!(It instanceof nn))throw new TypeError("Cannot call a class as a function")})(this,ce),this.byteArrayParser=ue,this.byteArray=De,this.elements=Je}var X,K;return X=ce,(K=[{key:"uint16",value:function(ue,De){if(ue=this.elements[ue],De=De!==void 0?De:0,ue&&ue.length!==0)return we(ue,this.byteArrayParser).readUint16(this.byteArray,ue.dataOffset+2*De)}},{key:"int16",value:function(ue,De){if(ue=this.elements[ue],De=De!==void 0?De:0,ue&&ue.length!==0)return we(ue,this.byteArrayParser).readInt16(this.byteArray,ue.dataOffset+2*De)}},{key:"uint32",value:function(ue,De){if(ue=this.elements[ue],De=De!==void 0?De:0,ue&&ue.length!==0)return we(ue,this.byteArrayParser).readUint32(this.byteArray,ue.dataOffset+4*De)}},{key:"int32",value:function(ue,De){if(ue=this.elements[ue],De=De!==void 0?De:0,ue&&ue.length!==0)return we(ue,this.byteArrayParser).readInt32(this.byteArray,ue.dataOffset+4*De)}},{key:"float",value:function(ue,De){if(ue=this.elements[ue],De=De!==void 0?De:0,ue&&ue.length!==0)return we(ue,this.byteArrayParser).readFloat(this.byteArray,ue.dataOffset+4*De)}},{key:"double",value:function(ue,De){if(ue=this.elements[ue],De=De!==void 0?De:0,ue&&ue.length!==0)return we(ue,this.byteArrayParser).readDouble(this.byteArray,ue.dataOffset+8*De)}},{key:"numStringValues",value:function(ue){if(ue=this.elements[ue],ue&&0<ue.length)return ue=q(this.byteArray,ue.dataOffset,ue.length).match(/\\/g),ue===null?1:ue.length+1}},{key:"string",value:function(ue,De){if(ue=this.elements[ue],ue&&ue.Value)return ue.Value;if(ue&&0<ue.length)return ue=q(this.byteArray,ue.dataOffset,ue.length),0<=De?ue.split("\\")[De].trim():ue.trim()}},{key:"text",value:function(ue,De){if(ue=this.elements[ue],ue&&0<ue.length)return ue=q(this.byteArray,ue.dataOffset,ue.length),0<=De?ue.split("\\")[De].replace(/ +$/,""):ue.replace(/ +$/,"")}},{key:"floatString",value:function(ue,De){var Je=this.elements[ue];if(Je&&0<Je.length&&(De=this.string(ue,De=De!==void 0?De:0),De!==void 0))return parseFloat(De)}},{key:"intString",value:function(ue,De){var Je=this.elements[ue];if(Je&&0<Je.length&&(De=this.string(ue,De=De!==void 0?De:0),De!==void 0))return parseInt(De)}},{key:"attributeTag",value:function(ue){var De=this.elements[ue];if(De&&De.length===4){var Je=we(De,this.byteArrayParser).readUint16,ue=this.byteArray,De=De.dataOffset;return"x".concat("00000000".concat((256*Je(ue,De)*256+Je(ue,De+2)).toString(16)).substr(-8))}}}])&&ge(X.prototype,K),Object.defineProperty(X,"prototype",{writable:!1}),ce}();function tt(ce,X){if(ce===void 0)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";for(var K=ce.byteArray.length-8;ce.position<=K;)if(ce.readUint16()===65534){var ue=ce.readUint16();if(ue===57357)return ce.readUint32()!==0&&ce.warnings("encountered non zero length following item delimiter at position ".concat(ce.position-4," while reading element of undefined length with tag ").concat(X.tag)),void(X.length=ce.position-X.dataOffset)}X.length=ce.byteArray.length-X.dataOffset,ce.seek(ce.byteArray.length-ce.position)}var Pe=function(ce,X,K){return K!==void 0?K(ce.tag)==="SQ":X.position+4<=X.byteArray.length?(ce=j(X),X.seek(-4),ce==="xfffee000"||ce==="xfffee0dd"):(X.warnings.push("eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR"),!1)};function Oe(ce,X,K){if(ce===void 0)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";var ue={tag:j(ce),length:ce.readUint32(),dataOffset:ce.position};return ue.length===4294967295&&(ue.hadUndefinedLength=!0),ue.tag===X||(Pe(ue,ce,K)&&!I(ue.tag)?dt(ce,ue):ue.hadUndefinedLength?tt(ce,ue):ce.seek(ue.length)),ue}function st(ce){if(ce===void 0)throw"dicomParser.readSequenceItem: missing required parameter 'byteStream'";var X={tag:j(ce),length:ce.readUint32(),dataOffset:ce.position};if(X.tag!=="xfffee000")throw"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset ".concat(ce.position);return X}function ht(ce,X){var K=st(ce);return K.length===4294967295?(K.hadUndefinedLength=!0,K.dataSet=function(ue,De){for(var Je={};ue.position<ue.byteArray.length;){var It=Oe(ue,void 0,De);if((Je[It.tag]=It).tag==="xfffee00d")return new Fe(ue.byteArrayParser,ue.byteArray,Je)}return ue.warnings.push("eof encountered before finding sequence item delimiter in sequence item of undefined length"),new Fe(ue.byteArrayParser,ue.byteArray,Je)}(ce,X),K.length=ce.position-K.dataOffset):(K.dataSet=new Fe(ce.byteArrayParser,ce.byteArray,{}),Wt(K.dataSet,ce,ce.position+K.length,{vrCallback:X})),K}function dt(ce,X,K){if(ce===void 0)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'";if(X===void 0)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'";X.items=[],(X.length===4294967295?function(ue,De,Je){for(;ue.position+4<=ue.byteArray.length;){var It=j(ue);if(ue.seek(-4),It==="xfffee0dd")return De.length=ue.position-De.dataOffset,ue.seek(8);It=ht(ue,Je),De.items.push(It)}ue.warnings.push("eof encountered before finding sequence delimiter in sequence of undefined length"),De.length=ue.byteArray.length-De.dataOffset}:function(ue,De,Je){for(var It=De.dataOffset+De.length;ue.position<It;){var nn=ht(ue,Je);De.items.push(nn)}})(ce,X,K)}function Le(ce,X){var K=st(ce);return K.length===4294967295?(K.hadUndefinedLength=!0,K.dataSet=function(ue,De){for(var Je={};ue.position<ue.byteArray.length;){var It=Ut(ue,De);if((Je[It.tag]=It).tag==="xfffee00d")return new Fe(ue.byteArrayParser,ue.byteArray,Je)}return De.push("eof encountered before finding item delimiter tag while reading sequence item of undefined length"),new Fe(ue.byteArrayParser,ue.byteArray,Je)}(ce,X),K.length=ce.position-K.dataOffset):(K.dataSet=new Fe(ce.byteArrayParser,ce.byteArray,{}),Vt(K.dataSet,ce,ce.position+K.length)),K}function Ze(ce,X,K){if(ce===void 0)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'";if(X===void 0)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'";X.items=[],(X.length===4294967295?function(ue,De,Je){for(;ue.position+4<=ue.byteArray.length;){var It=j(ue);if(ue.seek(-4),It==="xfffee0dd")return De.length=ue.position-De.dataOffset,ue.seek(8);It=Le(ue,Je),De.items.push(It)}Je.push("eof encountered before finding sequence delimitation tag while reading sequence of undefined length"),De.length=ue.position-De.dataOffset}:function(ue,De,Je){for(var It=De.dataOffset+De.length;ue.position<It;){var nn=Le(ue,Je);De.items.push(nn)}})(ce,X,K)}var lt=function(ce){return ce==="OB"||ce==="OD"||ce==="OL"||ce==="OW"||ce==="SQ"||ce==="OF"||ce==="UC"||ce==="UR"||ce==="UT"||ce==="UN"?4:2};function Ut(ce,X,K){if(ce===void 0)throw"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'";var ue={tag:j(ce),vr:ce.readFixedString(2)};return lt(ue.vr)===2?ue.length=ce.readUint16():(ce.seek(2),ue.length=ce.readUint32()),ue.dataOffset=ce.position,ue.length===4294967295&&(ue.hadUndefinedLength=!0),ue.tag===K||(ue.vr==="SQ"?Ze(ce,ue,X):ue.length===4294967295?ue.tag==="x7fe00010"?ne(ce,ue,X):(ue.vr==="UN"?dt:tt)(ce,ue):ce.seek(ue.length)),ue}function Vt(ce,X,K){var ue=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};if(K=K===void 0?X.byteArray.length:K,X===void 0)throw"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'";if(K<X.position||K>X.byteArray.length)throw"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'";for(var De=ce.elements;X.position<K;){var Je=Ut(X,ce.warnings,ue.untilTag);if((De[Je.tag]=Je).tag===ue.untilTag)return}if(X.position>K)throw"dicomParser:parseDicomDataSetExplicit: buffer overrun"}function Wt(ce,X,K){var ue=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};if(K=K===void 0?ce.byteArray.length:K,X===void 0)throw"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'";if(K<X.position||K>X.byteArray.length)throw"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'";for(var De=ce.elements;X.position<K;){var Je=Oe(X,ue.untilTag,ue.vrCallback);if((De[Je.tag]=Je).tag===ue.untilTag)return}}function c(ce,X){if(typeof Buffer<"u"&&ce instanceof Buffer)return Buffer.alloc(X);if(ce instanceof Uint8Array)return new Uint8Array(X);throw"dicomParser.alloc: unknown type for byteArray"}var Ln="1.8.12",ut={readUint16:function(ce,X){if(X<0)throw"bigEndianByteArrayParser.readUint16: position cannot be less than 0";if(X+2>ce.length)throw"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer";return(ce[X]<<8)+ce[X+1]},readInt16:function(ce,X){if(X<0)throw"bigEndianByteArrayParser.readInt16: position cannot be less than 0";if(X+2>ce.length)throw"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer";return X=(ce[X]<<8)+ce[X+1],X=32768&X?X-65535-1:X},readUint32:function(ce,X){if(X<0)throw"bigEndianByteArrayParser.readUint32: position cannot be less than 0";if(X+4>ce.length)throw"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer";return 256*(256*(256*ce[X]+ce[X+1])+ce[X+2])+ce[X+3]},readInt32:function(ce,X){if(X<0)throw"bigEndianByteArrayParser.readInt32: position cannot be less than 0";if(X+4>ce.length)throw"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer";return(ce[X]<<24)+(ce[X+1]<<16)+(ce[X+2]<<8)+ce[X+3]},readFloat:function(ce,X){if(X<0)throw"bigEndianByteArrayParser.readFloat: position cannot be less than 0";if(X+4>ce.length)throw"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer";var K=new Uint8Array(4);return K[3]=ce[X],K[2]=ce[X+1],K[1]=ce[X+2],K[0]=ce[X+3],new Float32Array(K.buffer)[0]},readDouble:function(ce,X){if(X<0)throw"bigEndianByteArrayParser.readDouble: position cannot be less than 0";if(X+8>ce.length)throw"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer";var K=new Uint8Array(8);return K[7]=ce[X],K[6]=ce[X+1],K[5]=ce[X+2],K[4]=ce[X+3],K[3]=ce[X+4],K[2]=ce[X+5],K[1]=ce[X+6],K[0]=ce[X+7],new Float64Array(K.buffer)[0]}};function We(ce,X,K){if(typeof Buffer<"u"&&ce instanceof Buffer)return ce.slice(X,X+K);if(ce instanceof Uint8Array)return new Uint8Array(ce.buffer,ce.byteOffset+X,K);throw"dicomParser.from: unknown type for byteArray"}function Nt(ce,X){for(var K=0;K<X.length;K++){var ue=X[K];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(ce,ue.key,ue)}}var jt=function(){function ce(ue,De,Je){if(function(It,nn){if(!(It instanceof nn))throw new TypeError("Cannot call a class as a function")}(this,ce),ue===void 0)throw"dicomParser.ByteStream: missing required parameter 'byteArrayParser'";if(De===void 0)throw"dicomParser.ByteStream: missing required parameter 'byteArray'";if(!(De instanceof Uint8Array)&&(typeof Buffer>"u"||!(De instanceof Buffer)))throw"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer";if(Je<0)throw"dicomParser.ByteStream: parameter 'position' cannot be less than 0";if(Je>=De.length)throw"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length";this.byteArrayParser=ue,this.byteArray=De,this.position=Je||0,this.warnings=[]}var X,K;return X=ce,(K=[{key:"seek",value:function(ue){if(this.position+ue<0)throw"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0";this.position+=ue}},{key:"readByteStream",value:function(ue){if(this.position+ue>this.byteArray.length)throw"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread";var De=We(this.byteArray,this.position,ue);return this.position+=ue,new ce(this.byteArrayParser,De)}},{key:"getSize",value:function(){return this.byteArray.length}},{key:"readUint16",value:function(){var ue=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,ue}},{key:"readUint32",value:function(){var ue=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,ue}},{key:"readFixedString",value:function(ue){var De=q(this.byteArray,this.position,ue);return this.position+=ue,De}}])&&Nt(X.prototype,K),Object.defineProperty(X,"prototype",{writable:!1}),ce}(),$t={readUint16:function(ce,X){if(X<0)throw"littleEndianByteArrayParser.readUint16: position cannot be less than 0";if(X+2>ce.length)throw"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer";return ce[X]+256*ce[X+1]},readInt16:function(ce,X){if(X<0)throw"littleEndianByteArrayParser.readInt16: position cannot be less than 0";if(X+2>ce.length)throw"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer";return X=ce[X]+(ce[X+1]<<8),X=32768&X?X-65535-1:X},readUint32:function(ce,X){if(X<0)throw"littleEndianByteArrayParser.readUint32: position cannot be less than 0";if(X+4>ce.length)throw"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer";return ce[X]+256*ce[X+1]+256*ce[X+2]*256+256*ce[X+3]*256*256},readInt32:function(ce,X){if(X<0)throw"littleEndianByteArrayParser.readInt32: position cannot be less than 0";if(X+4>ce.length)throw"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer";return ce[X]+(ce[X+1]<<8)+(ce[X+2]<<16)+(ce[X+3]<<24)},readFloat:function(ce,X){if(X<0)throw"littleEndianByteArrayParser.readFloat: position cannot be less than 0";if(X+4>ce.length)throw"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer";var K=new Uint8Array(4);return K[0]=ce[X],K[1]=ce[X+1],K[2]=ce[X+2],K[3]=ce[X+3],new Float32Array(K.buffer)[0]},readDouble:function(ce,X){if(X<0)throw"littleEndianByteArrayParser.readDouble: position cannot be less than 0";if(X+8>ce.length)throw"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer";var K=new Uint8Array(8);return K[0]=ce[X],K[1]=ce[X+1],K[2]=ce[X+2],K[3]=ce[X+3],K[4]=ce[X+4],K[5]=ce[X+5],K[6]=ce[X+6],K[7]=ce[X+7],new Float64Array(K.buffer)[0]}};function Sn(ce){var X=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(ce===void 0)throw"dicomParser.readPart10Header: missing required parameter 'byteArray'";var K=X.TransferSyntaxUID,ue=new jt($t,ce);return function(){var De=function(){if(ue.getSize()<=132&&K)return!1;if(ue.seek(128),ue.readFixedString(4)==="DICM")return!0;if(!(X||{}).TransferSyntaxUID)throw"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file.";return ue.seek(0),!1}(),Je=[],It={};if(!De)return ue.position=0,{elements:{x00020010:{tag:"x00020010",vr:"UI",Value:K}},warnings:Je};for(;ue.position<ue.byteArray.length;){var nn=ue.position,Me=Ut(ue,Je);if("x0002ffff"<Me.tag){ue.position=nn;break}Me.parser=$t,It[Me.tag]=Me}return(De=new Fe(ue.byteArrayParser,ue.byteArray,It)).warnings=ue.warnings,De.position=ue.position,De}()}var Pn="1.2.840.10008.1.2.2";function Un(ce){var X=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(ce===void 0)throw new Error("dicomParser.parseDicom: missing required parameter 'byteArray'");var K,ue=function(Je){if(Je.elements.x00020010===void 0)throw new Error("dicomParser.parseDicom: missing required meta header attribute 0002,0010");return Je=Je.elements.x00020010,Je&&Je.Value||q(ce,Je.dataOffset,Je.length)};function De(Me){var nn=ue(Me),It=nn!=="1.2.840.10008.1.2",nn=function(qt,ln){var xn=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";if(qt!=="1.2.840.10008.1.2.1.99")return new jt(qt===Pn?ut:$t,ce,ln);if(X&&X.inflater)return qt=X.inflater(ce,ln),new jt($t,qt,0);if(xn==!0){var yn=A(0),Vn=We(ce,ln,ce.length-ln),yn=yn.inflateRawSync(Vn),Vn=c(ce,yn.length+ln);return ce.copy(Vn,0,0,ln),yn.copy(Vn,ln),new jt($t,Vn,0)}if(typeof pako>"u")throw"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax";return yn=ce.slice(ln),Vn=pako.inflateRaw(yn),(yn=c(ce,Vn.length+ln)).set(ce.slice(0,ln),0),yn.set(Vn,ln),new jt($t,yn,0)}(nn,Me.position),Me=new Fe(nn.byteArrayParser,nn.byteArray,{});Me.warnings=nn.warnings;try{(It?Vt:Wt)(Me,nn,nn.byteArray.length,X)}catch(qt){throw{exception:qt,dataSet:Me}}return Me}return function(Je,It){for(var nn in Je.elements)Je.elements.hasOwnProperty(nn)&&(It.elements[nn]=Je.elements[nn]);return Je.warnings!==void 0&&(It.warnings=Je.warnings.concat(It.warnings)),It}(K=Sn(ce,X),De(K))}var Rr=function(ce,X,K){for(var ue=0,De=X;De<X+K;De++)ue+=ce[De].length;return ue};function rn(ce,It,K,ue,De){if(De=De||It.fragments,ce===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'";if(It===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'";if(K===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'";if((ue=ue||1)===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'";if(It.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010";if(It.encapsulatedPixelData!==!0||It.hadUndefinedLength!==!0||It.basicOffsetTable===void 0||It.fragments===void 0||It.fragments.length<=0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(K<0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0";if(K>=It.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments";if(ue<1)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0";if(K+ue>It.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments";var Je=new jt(ce.byteArrayParser,ce.byteArray,It.dataOffset),It=st(Je);if(It.tag!=="xfffee000")throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000";Je.seek(It.length);var nn=Je.position;if(ue===1)return We(Je.byteArray,nn+De[K].offset+8,De[K].length);for(var It=Rr(De,K,ue),Me=c(Je.byteArray,It),qt=0,ln=K;ln<K+ue;ln++)for(var xn=nn+De[ln].offset+8,yn=0;yn<De[ln].length;yn++)Me[qt++]=Je.byteArray[xn++];return Me}var pn=function(ce,X){for(var K=0;K<ce.length;K++)if(ce[K].offset===X)return K},Ve=function(ce,X,K,ue){if(ce===X.length-1)return K.length-ue;for(var De=X[ce+1],Je=ue+1;Je<K.length;Je++)if(K[Je].offset===De)return Je-ue;throw"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table"};function Xn(ce,X,K,ue,De){if(ue=ue||X.basicOffsetTable,De=De||X.fragments,ce===void 0)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'";if(X===void 0)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'";if(K===void 0)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'";if(ue===void 0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable";if(X.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)";if(X.encapsulatedPixelData!==!0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(X.hadUndefinedLength!==!0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length";if(X.fragments===void 0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments";if(ue.length===0)throw"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries";if(K<0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0";if(K>=ue.length)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length";var Je=ue[K],Je=pn(De,Je);if(Je===void 0)throw"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry";return rn(ce,X,Je,Ve(K,ue,De,Je),De)}var bn=!1;function Rt(ce,X,K){if(bn||(bn=!0,console&&console.log&&console.log("WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated")),ce===void 0)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'";if(X===void 0)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'";if(K===void 0)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'";if(X.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)";if(X.encapsulatedPixelData!==!0||X.hadUndefinedLength!==!0||X.basicOffsetTable===void 0||X.fragments===void 0)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(K<0)throw"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0";return X.basicOffsetTable.length!==0?Xn(ce,X,K):rn(ce,X,0,X.fragments.length)}v.default={isStringVr:R,isPrivateTag:I,parsePN:P,parseTM:B,parseDA:O,explicitElementToString:k,explicitDataSetToJS:H,createJPEGBasicOffsetTable:te,parseDicomDataSetExplicit:Vt,parseDicomDataSetImplicit:Wt,readFixedString:q,alloc:c,version:Ln,bigEndianByteArrayParser:ut,ByteStream:jt,sharedCopy:We,DataSet:Fe,findAndSetUNElementLength:Ae,findEndOfEncapsulatedElement:ne,findItemDelimitationItemAndSetElementLength:tt,littleEndianByteArrayParser:$t,parseDicom:Un,readDicomElementExplicit:Ut,readDicomElementImplicit:Oe,readEncapsulatedImageFrame:Xn,readEncapsulatedPixelData:Rt,readEncapsulatedPixelDataFromFragments:rn,readPart10Header:Sn,readSequenceItemsExplicit:Ze,readSequenceItemsImplicit:dt,readSequenceItem:st,readTag:j,LEI:"1.2.840.10008.1.2",LEE:"1.2.840.10008.1.2.1"}}],d={},o.m=l,o.c=d,o.d=function(g,v,A){o.o(g,v)||Object.defineProperty(g,v,{enumerable:!0,get:A})},o.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},o.t=function(g,v){if(1&v&&(g=o(g)),8&v||4&v&&typeof g=="object"&&g&&g.__esModule)return g;var A=Object.create(null);if(o.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:g}),2&v&&typeof g!="string")for(var E in g)o.d(A,E,function(R){return g[R]}.bind(null,E));return A},o.n=function(g){var v=g&&g.__esModule?function(){return g.default}:function(){return g};return o.d(v,"a",v),v},o.o=function(g,v){return Object.prototype.hasOwnProperty.call(g,v)},o.p="",o(o.s=1);function o(g){if(d[g])return d[g].exports;var v=d[g]={i:g,l:!1,exports:{}};return l[g].call(v.exports,v,v.exports,o),v.l=!0,v.exports}var l,d})}),B_=RE(x4),R4=new to().setResponseType("arraybuffer");function PE(m,t){R4.load(m,function(r){var o=new Uint8Array(r),l=B_.parseDicom(o),d=null,g,v,A,E,R,I=0;try{d=B_.explicitDataSetToJS(l),l.elements.x00181060?I=parseInt(d.x00181060):l.elements.x00201041&&(I=parseInt(d.x00201041)),g=parseInt(d.x00280011),v=parseInt(d.x00280010),A=d.x00280004==="MONOCHROME1",E=parseInt(d.x00281050),R=parseInt(d.x00281051)}catch{g=l.uint16("x00280011"),v=l.uint16("x00280010"),A=l.string("x00280004")==="MONOCHROME1",E=parseInt(l.string("x00281050")),R=parseInt(l.string("x00281051")),l.elements.x00181060?I=parseInt(l.string("x00181060")):l.elements.x00201041&&(I=parseInt(l.string("x00201041")))}(E==0||R==0)&&(E=226,R=537);for(var P=l.elements.x7fe00010,B=T4(P,o),V,O=NE(B,R,E,A,V),k=new Uint8ClampedArray(B.length),H=0,W=B.length;H<W;H++)k[H]=O.lutArray[B[H]];var J={tags:d,width:g,height:v,windowCenter:E,windowWidth:R,invert:A,uint16:B,uint8:k,order:I};t&&t(J)})}function T4(m,t){var r=B_.sharedCopy(t,m.dataOffset,m.length),o=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/Uint16Array.BYTES_PER_ELEMENT);return o}function NE(m,t,r,o,l){for(var d=0,g=0,v=0,A=m.length;v<A;v++)d>m[v]&&(d=m[v]),g<m[v]&&(g=m[v]);var E=Math.min(d,0),R=new Uint8ClampedArray(g-E+1),I=I4(t,r,l,!0);if(o===!0)for(var P=d;P<=g;P++)R[P+-E]=255-I(P);else for(var P=d;P<=g;P++)R[P+-E]=I(P);return{minPixelValue:d,maxPixelValue:g,lutArray:R}}var Os=Uint8Array,wc=Uint16Array,DE=Uint32Array,BE=new Os([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kE=new Os([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),P4=new Os([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LE=function(m,t){for(var r=new wc(31),o=0;o<31;++o)r[o]=t+=1<<m[o-1];for(var l=new DE(r[30]),o=1;o<30;++o)for(var d=r[o];d<r[o+1];++d)l[d]=d-r[o]<<5|o;return[r,l]},OE=LE(BE,2),FE=OE[0],N4=OE[1];FE[28]=258,N4[258]=28;for(var D4=LE(kE,0),B4=D4[0],k_=new wc(32768),hi=0;hi<32768;++hi){var yl=(hi&43690)>>>1|(hi&21845)<<1;yl=(yl&52428)>>>2|(yl&13107)<<2,yl=(yl&61680)>>>4|(yl&3855)<<4,k_[hi]=((yl&65280)>>>8|(yl&255)<<8)>>>1}for(var yf=function(m,t,r){for(var o=m.length,l=0,d=new wc(t);l<o;++l)m[l]&&++d[m[l]-1];var g=new wc(t);for(l=0;l<t;++l)g[l]=g[l-1]+d[l-1]<<1;var v;if(r){v=new wc(1<<t);var A=15-t;for(l=0;l<o;++l)if(m[l])for(var E=l<<4|m[l],R=t-m[l],I=g[m[l]-1]++<<R,P=I|(1<<R)-1;I<=P;++I)v[k_[I]>>>A]=E}else for(v=new wc(o),l=0;l<o;++l)m[l]&&(v[l]=k_[g[m[l]-1]++]>>>15-m[l]);return v},bf=new Os(288),hi=0;hi<144;++hi)bf[hi]=8;for(var hi=144;hi<256;++hi)bf[hi]=9;for(var hi=256;hi<280;++hi)bf[hi]=7;for(var hi=280;hi<288;++hi)bf[hi]=8;for(var VE=new Os(32),hi=0;hi<32;++hi)VE[hi]=5;var k4=yf(bf,9,1),L4=yf(VE,5,1),L_=function(m){for(var t=m[0],r=1;r<m.length;++r)m[r]>t&&(t=m[r]);return t},Ro=function(m,t,r){var o=t/8|0;return(m[o]|m[o+1]<<8)>>(t&7)&r},O_=function(m,t){var r=t/8|0;return(m[r]|m[r+1]<<8|m[r+2]<<16)>>(t&7)},O4=function(m){return(m+7)/8|0},F_=function(m,t,r){(t==null||t<0)&&(t=0),(r==null||r>m.length)&&(r=m.length);var o=new(m.BYTES_PER_ELEMENT==2?wc:m.BYTES_PER_ELEMENT==4?DE:Os)(r-t);return o.set(m.subarray(t,r)),o},F4=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],no=function(m,t,r){var o=new Error(t||F4[m]);if(o.code=m,Error.captureStackTrace&&Error.captureStackTrace(o,no),!r)throw o;return o},V4=function(m,t,r){var o=m.length;if(!o||r&&r.f&&!r.l)return t||new Os(0);var l=!t||r,d=!r||r.i;r||(r={}),t||(t=new Os(o*3));var g=function(ut){var We=t.length;if(ut>We){var Nt=new Os(Math.max(We*2,ut));Nt.set(t),t=Nt}},v=r.f||0,A=r.p||0,E=r.b||0,R=r.l,I=r.d,P=r.m,B=r.n,V=o*8;do{if(!R){v=Ro(m,A,1);var O=Ro(m,A+1,3);if(A+=3,O)if(O==1)R=k4,I=L4,P=9,B=5;else if(O==2){var J=Ro(m,A,31)+257,te=Ro(m,A+10,15)+4,j=J+Ro(m,A+5,31)+1;A+=14;for(var ne=new Os(j),Ae=new Os(19),q=0;q<te;++q)Ae[P4[q]]=Ro(m,A+q*3,7);A+=te*3;for(var ge=L_(Ae),we=(1<<ge)-1,Fe=yf(Ae,ge,1),q=0;q<j;){var tt=Fe[Ro(m,A,we)];A+=tt&15;var k=tt>>>4;if(k<16)ne[q++]=k;else{var Pe=0,Oe=0;for(k==16?(Oe=3+Ro(m,A,3),A+=2,Pe=ne[q-1]):k==17?(Oe=3+Ro(m,A,7),A+=3):k==18&&(Oe=11+Ro(m,A,127),A+=7);Oe--;)ne[q++]=Pe}}var st=ne.subarray(0,J),ht=ne.subarray(J);P=L_(st),B=L_(ht),R=yf(st,P,1),I=yf(ht,B,1)}else no(1);else{var k=O4(A)+4,H=m[k-4]|m[k-3]<<8,W=k+H;if(W>o){d&&no(0);break}l&&g(E+H),t.set(m.subarray(k,W),E),r.b=E+=H,r.p=A=W*8,r.f=v;continue}if(A>V){d&&no(0);break}}l&&g(E+131072);for(var dt=(1<<P)-1,Le=(1<<B)-1,Ze=A;;Ze=A){var Pe=R[O_(m,A)&dt],lt=Pe>>>4;if(A+=Pe&15,A>V){d&&no(0);break}if(Pe||no(2),lt<256)t[E++]=lt;else if(lt==256){Ze=A,R=null;break}else{var Ut=lt-254;if(lt>264){var q=lt-257,Vt=BE[q];Ut=Ro(m,A,(1<<Vt)-1)+FE[q],A+=Vt}var Wt=I[O_(m,A)&Le],c=Wt>>>4;Wt||no(3),A+=Wt&15;var ht=B4[c];if(c>3){var Vt=kE[c];ht+=O_(m,A)&(1<<Vt)-1,A+=Vt}if(A>V){d&&no(0);break}l&&g(E+131072);for(var Ln=E+Ut;E<Ln;E+=4)t[E]=t[E-ht],t[E+1]=t[E+1-ht],t[E+2]=t[E+2-ht],t[E+3]=t[E+3-ht];E=Ln}}r.l=R,r.p=Ze,r.b=E,r.f=v,R&&(v=1,r.m=P,r.d=I,r.n=B)}while(!v);return E==t.length?t:F_(t,0,E)},G4=new Os(0),oa=function(m,t){return m[t]|m[t+1]<<8},To=function(m,t){return(m[t]|m[t+1]<<8|m[t+2]<<16|m[t+3]<<24)>>>0},V_=function(m,t){return To(m,t)+To(m,t+4)*4294967296};function U4(m,t){return V4(m,t)}var G_=typeof TextDecoder<"u"&&new TextDecoder,H4=0;try{G_.decode(G4,{stream:!0}),H4=1}catch{}var Q4=function(m){for(var t="",r=0;;){var o=m[r++],l=(o>127)+(o>223)+(o>239);if(r+l>m.length)return[t,F_(m,r-1)];l?l==3?(o=((o&15)<<18|(m[r++]&63)<<12|(m[r++]&63)<<6|m[r++]&63)-65536,t+=String.fromCharCode(55296|o>>10,56320|o&1023)):l&1?t+=String.fromCharCode((o&31)<<6|m[r++]&63):t+=String.fromCharCode((o&15)<<12|(m[r++]&63)<<6|m[r++]&63):t+=String.fromCharCode(o)}};function X4(m,t){if(t){for(var r="",o=0;o<m.length;o+=16384)r+=String.fromCharCode.apply(null,m.subarray(o,o+16384));return r}else{if(G_)return G_.decode(m);var l=Q4(m),d=l[0],g=l[1];return g.length&&no(8),d}}var z4=function(m,t){return t+30+oa(m,t+26)+oa(m,t+28)},$4=function(m,t,r){var o=oa(m,t+28),l=X4(m.subarray(t+46,t+46+o),!(oa(m,t+8)&2048)),d=t+46+o,g=To(m,t+20),v=r&&g==4294967295?W4(m,d):[g,To(m,t+24),To(m,t+42)],A=v[0],E=v[1],R=v[2];return[oa(m,t+10),A,E,l,d+oa(m,t+30)+oa(m,t+32),R]},W4=function(m,t){for(;oa(m,t)!=1;t+=4+oa(m,t+2));return[V_(m,t+12),V_(m,t+4),V_(m,t+20)]};function K4(m,t){for(var r={},o=m.length-22;To(m,o)!=101010256;--o)(!o||m.length-o>65558)&&no(13);var l=oa(m,o+8);if(!l)return{};var d=To(m,o+16),g=d==4294967295;g&&(o=To(m,o-12),To(m,o)!=101075792&&no(13),l=To(m,o+32),d=To(m,o+48));for(var v=t&&t.filter,A=0;A<l;++A){var E=$4(m,d,g),R=E[0],I=E[1],P=E[2],B=E[3],V=E[4],O=E[5],k=z4(m,O);d=V,(!v||v({name:B,size:I,originalSize:P,compression:R}))&&(R?R==8?r[B]=U4(m.subarray(k,k+I),new Os(P)):no(14,"unknown compression type "+R):r[B]=F_(m,k,k+I))}return r}var GE=`#define GLSLIFY 1
uniform vec2 size;out vec2 vUv;void main(){gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);vUv.xy=position.xy/size+0.5;vUv.y=1.0-vUv.y;}`,UE=`precision highp float;precision highp int;precision highp sampler2DArray;
#define GLSLIFY 1
uniform sampler2DArray diffuse;in vec2 vUv;uniform int depth;out vec4 outColor;void main(){vec4 color=texture(diffuse,vec3(vUv,depth));outColor=vec4(color.rrr*1.5,1.0);}`,Sf=80,Ef=80;function j4(m,t){new to().setResponseType("arraybuffer").load(m,function(r){var o=K4(new Uint8Array(r)),l=new Uint8Array(o.head256x256x109.buffer),d=new yp(l,256,256,109);d.format=ul,d.needsUpdate=!0;var g=new Mo({uniforms:{diffuse:{value:d},depth:{value:1},size:{value:new Fn(Sf,Ef)}},vertexShader:GE,fragmentShader:UE,glslVersion:mp,side:$}),v=new Ac(Sf,Ef),A=new Fi(v,g);A.name="texture2d_mesh_zip",t.add(A)})}function HE(m,t,r,o){Sf=m.width/2,Ef=m.height/2;var l={windowWidth:m.windowWidth,windowCenter:m.windowCenter},d=new yp(m.uint8,m.width,m.height,t);d.format=ul,d.needsUpdate=!0,o&&(o.add(l,"windowWidth").min(1).max(m.windowWidth*2).step(1).onChange(function(){E()}),o.add(l,"windowCenter").min(1).max(m.windowCenter*2).step(1).onChange(function(){E()}));var g=new Mo({uniforms:{diffuse:{value:d},depth:{value:1},size:{value:new Fn(Sf,Ef)}},vertexShader:GE,fragmentShader:UE,glslVersion:mp,side:$}),v=new Ac(Sf,Ef),A=new Fi(v,g);r.add(A),A.name="texture2d_mesh_array";function E(){for(var R,I=NE(m.uint16,l.windowWidth,l.windowCenter,m.invert,R),P=0,B=m.uint16.length;P<B;P++)m.uint8[P]=I.lutArray[m.uint16[P]];d.needsUpdate=!0}return A}/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var QE=function(m){return URL.createObjectURL(new Blob([m],{type:"text/javascript"}))};try{URL.revokeObjectURL(QE(""))}catch{QE=function(t){return"data:application/javascript;charset=UTF-8,"+encodeURI(t)}}var Fs=Uint8Array,bl=Uint16Array,U_=Uint32Array,XE=new Fs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),zE=new Fs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),q4=new Fs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$E=function(m,t){for(var r=new bl(31),o=0;o<31;++o)r[o]=t+=1<<m[o-1];for(var l=new U_(r[30]),o=1;o<30;++o)for(var d=r[o];d<r[o+1];++d)l[d]=d-r[o]<<5|o;return[r,l]},WE=$E(XE,2),KE=WE[0],Y4=WE[1];KE[28]=258,Y4[258]=28;for(var J4=$E(zE,0),Z4=J4[0],H_=new bl(32768),pi=0;pi<32768;++pi){var Sl=(pi&43690)>>>1|(pi&21845)<<1;Sl=(Sl&52428)>>>2|(Sl&13107)<<2,Sl=(Sl&61680)>>>4|(Sl&3855)<<4,H_[pi]=((Sl&65280)>>>8|(Sl&255)<<8)>>>1}for(var wf=function(m,t,r){for(var o=m.length,l=0,d=new bl(t);l<o;++l)++d[m[l]-1];var g=new bl(t);for(l=0;l<t;++l)g[l]=g[l-1]+d[l-1]<<1;var v;if(r){v=new bl(1<<t);var A=15-t;for(l=0;l<o;++l)if(m[l])for(var E=l<<4|m[l],R=t-m[l],I=g[m[l]-1]++<<R,P=I|(1<<R)-1;I<=P;++I)v[H_[I]>>>A]=E}else for(v=new bl(o),l=0;l<o;++l)m[l]&&(v[l]=H_[g[m[l]-1]++]>>>15-m[l]);return v},Cf=new Fs(288),pi=0;pi<144;++pi)Cf[pi]=8;for(var pi=144;pi<256;++pi)Cf[pi]=9;for(var pi=256;pi<280;++pi)Cf[pi]=7;for(var pi=280;pi<288;++pi)Cf[pi]=8;for(var jE=new Fs(32),pi=0;pi<32;++pi)jE[pi]=5;var eL=wf(Cf,9,1),tL=wf(jE,5,1),Q_=function(m){for(var t=m[0],r=1;r<m.length;++r)m[r]>t&&(t=m[r]);return t},Po=function(m,t,r){var o=t/8|0;return(m[o]|m[o+1]<<8)>>(t&7)&r},X_=function(m,t){var r=t/8|0;return(m[r]|m[r+1]<<8|m[r+2]<<16)>>(t&7)},nL=function(m){return(m/8|0)+(m&7&&1)},rL=function(m,t,r){(t==null||t<0)&&(t=0),(r==null||r>m.length)&&(r=m.length);var o=new(m instanceof bl?bl:m instanceof U_?U_:Fs)(r-t);return o.set(m.subarray(t,r)),o},qE=function(m,t,r){var o=m.length;if(!o||r&&!r.l&&o<5)return t||new Fs(0);var l=!t||r,d=!r||r.i;r||(r={}),t||(t=new Fs(o*3));var g=function(ut){var We=t.length;if(ut>We){var Nt=new Fs(Math.max(We*2,ut));Nt.set(t),t=Nt}},v=r.f||0,A=r.p||0,E=r.b||0,R=r.l,I=r.d,P=r.m,B=r.n,V=o*8;do{if(!R){r.f=v=Po(m,A,1);var O=Po(m,A+1,3);if(A+=3,O)if(O==1)R=eL,I=tL,P=9,B=5;else if(O==2){var J=Po(m,A,31)+257,te=Po(m,A+10,15)+4,j=J+Po(m,A+5,31)+1;A+=14;for(var ne=new Fs(j),Ae=new Fs(19),q=0;q<te;++q)Ae[q4[q]]=Po(m,A+q*3,7);A+=te*3;for(var ge=Q_(Ae),we=(1<<ge)-1,Fe=wf(Ae,ge,1),q=0;q<j;){var tt=Fe[Po(m,A,we)];A+=tt&15;var k=tt>>>4;if(k<16)ne[q++]=k;else{var Pe=0,Oe=0;for(k==16?(Oe=3+Po(m,A,3),A+=2,Pe=ne[q-1]):k==17?(Oe=3+Po(m,A,7),A+=3):k==18&&(Oe=11+Po(m,A,127),A+=7);Oe--;)ne[q++]=Pe}}var st=ne.subarray(0,J),ht=ne.subarray(J);P=Q_(st),B=Q_(ht),R=wf(st,P,1),I=wf(ht,B,1)}else throw"invalid block type";else{var k=nL(A)+4,H=m[k-4]|m[k-3]<<8,W=k+H;if(W>o){if(d)throw"unexpected EOF";break}l&&g(E+H),t.set(m.subarray(k,W),E),r.b=E+=H,r.p=A=W*8;continue}if(A>V){if(d)throw"unexpected EOF";break}}l&&g(E+131072);for(var dt=(1<<P)-1,Le=(1<<B)-1,Ze=A;;Ze=A){var Pe=R[X_(m,A)&dt],lt=Pe>>>4;if(A+=Pe&15,A>V){if(d)throw"unexpected EOF";break}if(!Pe)throw"invalid length/literal";if(lt<256)t[E++]=lt;else if(lt==256){Ze=A,R=null;break}else{var Ut=lt-254;if(lt>264){var q=lt-257,Vt=XE[q];Ut=Po(m,A,(1<<Vt)-1)+KE[q],A+=Vt}var Wt=I[X_(m,A)&Le],c=Wt>>>4;if(!Wt)throw"invalid distance";A+=Wt&15;var ht=Z4[c];if(c>3){var Vt=zE[c];ht+=X_(m,A)&(1<<Vt)-1,A+=Vt}if(A>V){if(d)throw"unexpected EOF";break}l&&g(E+131072);for(var Ln=E+Ut;E<Ln;E+=4)t[E]=t[E-ht],t[E+1]=t[E+1-ht],t[E+2]=t[E+2-ht],t[E+3]=t[E+3-ht];E=Ln}}r.l=R,r.p=Ze,r.b=E,R&&(v=1,r.m=P,r.d=I,r.n=B)}while(!v);return E==t.length?t:rL(t,0,E)},iL=new Fs(0),sL=function(m){if(m[0]!=31||m[1]!=139||m[2]!=8)throw"invalid gzip data";var t=m[3],r=10;t&4&&(r+=m[10]|(m[11]<<8)+2);for(var o=(t>>3&1)+(t>>4&1);o>0;o-=!m[r++]);return r+(t&2)},oL=function(m){var t=m.length;return(m[t-4]|m[t-3]<<8|m[t-2]<<16|m[t-1]<<24)>>>0},aL=function(m){if((m[0]&15)!=8||m[0]>>>4>7||(m[0]<<8|m[1])%31)throw"invalid zlib data";if(m[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function lL(m,t){return qE(m.subarray(sL(m),-8),t||new Fs(oL(m)))}function cL(m,t){return qE((aL(m),m.subarray(2,-4)),t)}var uL=typeof TextDecoder<"u"&&new TextDecoder,dL=0;try{uL.decode(iL,{stream:!0}),dL=1}catch{}class fL{constructor(t,r,o){const l=this;this.volume=t,r=r||0,Object.defineProperty(this,"index",{get:function(){return r},set:function(v){return r=v,l.geometryNeedsUpdate=!0,r}}),this.axis=o||"z",this.canvas=document.createElement("canvas"),this.canvasBuffer=document.createElement("canvas"),this.updateGeometry();const d=new Bi(this.canvas);d.minFilter=pr,d.wrapS=d.wrapT=Qe;const g=new na({map:d,side:$,transparent:!0});this.mesh=new Fi(this.geometry,g),this.mesh.matrixAutoUpdate=!1,this.geometryNeedsUpdate=!0,this.repaint()}repaint(){this.geometryNeedsUpdate&&this.updateGeometry();const t=this.iLength,r=this.jLength,o=this.sliceAccess,l=this.volume,d=this.canvasBuffer,g=this.ctxBuffer,v=g.getImageData(0,0,t,r),A=v.data,E=l.data,R=l.upperThreshold,I=l.lowerThreshold,P=l.windowLow,B=l.windowHigh;let V=0;if(l.dataType==="label")for(let O=0;O<r;O++)for(let k=0;k<t;k++){let H=E[o(k,O)];H=H>=this.colorMap.length?H%this.colorMap.length+1:H;const W=this.colorMap[H];A[4*V]=W>>24&255,A[4*V+1]=W>>16&255,A[4*V+2]=W>>8&255,A[4*V+3]=W&255,V++}else for(let O=0;O<r;O++)for(let k=0;k<t;k++){let H=E[o(k,O)],W=255;W=R>=H&&I<=H?W:0,H=Math.floor(255*(H-P)/(B-P)),H=H>255?255:H<0?0:H|0,A[4*V]=H,A[4*V+1]=H,A[4*V+2]=H,A[4*V+3]=W,V++}g.putImageData(v,0,0),this.ctx.drawImage(d,0,0,t,r,0,0,this.canvas.width,this.canvas.height),this.mesh.material.map.needsUpdate=!0}updateGeometry(){const t=this.volume.extractPerpendicularPlane(this.axis,this.index);this.sliceAccess=t.sliceAccess,this.jLength=t.jLength,this.iLength=t.iLength,this.matrix=t.matrix,this.canvas.width=t.planeWidth,this.canvas.height=t.planeHeight,this.canvasBuffer.width=this.iLength,this.canvasBuffer.height=this.jLength,this.ctx=this.canvas.getContext("2d"),this.ctxBuffer=this.canvasBuffer.getContext("2d"),this.geometry&&this.geometry.dispose(),this.geometry=new Ac(t.planeWidth,t.planeHeight),this.mesh&&(this.mesh.geometry=this.geometry,this.mesh.matrix.identity(),this.mesh.applyMatrix4(this.matrix)),this.geometryNeedsUpdate=!1}}class hL{constructor(t,r,o,l,d){if(t!==void 0){switch(this.xLength=Number(t)||1,this.yLength=Number(r)||1,this.zLength=Number(o)||1,this.axisOrder=["x","y","z"],l){case"Uint8":case"uint8":case"uchar":case"unsigned char":case"uint8_t":this.data=new Uint8Array(d);break;case"Int8":case"int8":case"signed char":case"int8_t":this.data=new Int8Array(d);break;case"Int16":case"int16":case"short":case"short int":case"signed short":case"signed short int":case"int16_t":this.data=new Int16Array(d);break;case"Uint16":case"uint16":case"ushort":case"unsigned short":case"unsigned short int":case"uint16_t":this.data=new Uint16Array(d);break;case"Int32":case"int32":case"int":case"signed int":case"int32_t":this.data=new Int32Array(d);break;case"Uint32":case"uint32":case"uint":case"unsigned int":case"uint32_t":this.data=new Uint32Array(d);break;case"longlong":case"long long":case"long long int":case"signed long long":case"signed long long int":case"int64":case"int64_t":case"ulonglong":case"unsigned long long":case"unsigned long long int":case"uint64":case"uint64_t":throw new Error("Error in Volume constructor : this type is not supported in JavaScript");case"Float32":case"float32":case"float":this.data=new Float32Array(d);break;case"Float64":case"float64":case"double":this.data=new Float64Array(d);break;default:this.data=new Uint8Array(d)}if(this.data.length!==this.xLength*this.yLength*this.zLength)throw new Error("Error in Volume constructor, lengths are not matching arrayBuffer size")}this.spacing=[1,1,1],this.offset=[0,0,0],this.matrix=new Ns,this.matrix.identity();let g=-1/0;Object.defineProperty(this,"lowerThreshold",{get:function(){return g},set:function(A){g=A,this.sliceList.forEach(function(E){E.geometryNeedsUpdate=!0})}});let v=1/0;Object.defineProperty(this,"upperThreshold",{get:function(){return v},set:function(A){v=A,this.sliceList.forEach(function(E){E.geometryNeedsUpdate=!0})}}),this.sliceList=[]}getData(t,r,o){return this.data[o*this.xLength*this.yLength+r*this.xLength+t]}access(t,r,o){return o*this.xLength*this.yLength+r*this.xLength+t}reverseAccess(t){const r=Math.floor(t/(this.yLength*this.xLength)),o=Math.floor((t-r*this.yLength*this.xLength)/this.xLength);return[t-r*this.yLength*this.xLength-o*this.xLength,o,r]}map(t,r){const o=this.data.length;r=r||this;for(let l=0;l<o;l++)this.data[l]=t.call(r,this.data[l],l,this.data);return this}extractPerpendicularPlane(t,r){let o,l,d,g;const v=new et,A=new et,E=new et,R=new br().identity(),I=this,P=new et(this.xLength,this.yLength,this.zLength);switch(t){case"x":v.set(1,0,0),A.set(0,0,-1),E.set(0,-1,0),o=this.spacing[this.axisOrder.indexOf("z")],l=this.spacing[this.axisOrder.indexOf("y")],g=new et(r,0,0),R.multiply(new br().makeRotationY(Math.PI/2)),d=(I.RASDimensions[0]-1)/2,R.setPosition(new et(r-d,0,0));break;case"y":v.set(0,1,0),A.set(1,0,0),E.set(0,0,1),o=this.spacing[this.axisOrder.indexOf("x")],l=this.spacing[this.axisOrder.indexOf("z")],g=new et(0,r,0),R.multiply(new br().makeRotationX(-Math.PI/2)),d=(I.RASDimensions[1]-1)/2,R.setPosition(new et(0,r-d,0));break;case"z":default:v.set(0,0,1),A.set(1,0,0),E.set(0,-1,0),o=this.spacing[this.axisOrder.indexOf("x")],l=this.spacing[this.axisOrder.indexOf("y")],g=new et(0,0,r),d=(I.RASDimensions[2]-1)/2,R.setPosition(new et(0,0,r-d));break}A.applyMatrix4(I.inverseMatrix).normalize(),A.arglet="i",E.applyMatrix4(I.inverseMatrix).normalize(),E.arglet="j",v.applyMatrix4(I.inverseMatrix).normalize();const B=Math.floor(Math.abs(A.dot(P))),V=Math.floor(Math.abs(E.dot(P))),O=Math.abs(B*o),k=Math.abs(V*l);g=Math.abs(Math.round(g.applyMatrix4(I.inverseMatrix).dot(v)));const H=[new et(1,0,0),new et(0,1,0),new et(0,0,1)],W=[A,E,v].find(function(ne){return Math.abs(ne.dot(H[0]))>.9}),J=[A,E,v].find(function(ne){return Math.abs(ne.dot(H[1]))>.9}),te=[A,E,v].find(function(ne){return Math.abs(ne.dot(H[2]))>.9});function j(ne,Ae){const q=W===v?g:W.arglet==="i"?ne:Ae,ge=J===v?g:J.arglet==="i"?ne:Ae,we=te===v?g:te.arglet==="i"?ne:Ae,Fe=W.dot(H[0])>0?q:I.xLength-1-q,tt=J.dot(H[1])>0?ge:I.yLength-1-ge,Pe=te.dot(H[2])>0?we:I.zLength-1-we;return I.access(Fe,tt,Pe)}return{iLength:B,jLength:V,sliceAccess:j,matrix:R,planeWidth:O,planeHeight:k}}extractSlice(t,r){const o=new fL(this,r,t);return this.sliceList.push(o),o}repaintAllSlices(){return this.sliceList.forEach(function(t){t.repaint()}),this}computeMinMax(){let t=1/0,r=-1/0;const o=this.data.length;let l=0;for(l=0;l<o;l++)if(!isNaN(this.data[l])){const d=this.data[l];t=Math.min(t,d),r=Math.max(r,d)}return this.min=t,this.max=r,[t,r]}}class YE extends ia{constructor(t){super(t)}load(t,r,o,l){const d=this,g=new to(d.manager);g.setPath(d.path),g.setResponseType("arraybuffer"),g.setRequestHeader(d.requestHeader),g.setWithCredentials(d.withCredentials),g.load(t,function(v){try{r(d.parse(v))}catch(A){l?l(A):console.error(A),d.manager.itemError(t)}},o,l)}parse(t){let r=t,o=0;const l=new Int8Array(new Int16Array([1]).buffer)[0]>0,d=!0,g={};function v(q,ge){ge==null&&(ge=1);let we=1,Fe=Uint8Array;switch(q){case"uchar":break;case"schar":Fe=Int8Array;break;case"ushort":Fe=Uint16Array,we=2;break;case"sshort":Fe=Int16Array,we=2;break;case"uint":Fe=Uint32Array,we=4;break;case"sint":Fe=Int32Array,we=4;break;case"float":Fe=Float32Array,we=4;break;case"complex":Fe=Float64Array,we=8;break;case"double":Fe=Float64Array,we=8;break}let tt=new Fe(r.slice(o,o+=ge*we));return l!=d&&(tt=A(tt,we)),ge==1?tt[0]:tt}function A(q,ge){const we=new Uint8Array(q.buffer,q.byteOffset,q.byteLength);for(let Fe=0;Fe<q.byteLength;Fe+=ge)for(let tt=Fe+ge-1,Pe=Fe;tt>Pe;tt--,Pe++){const Oe=we[Pe];we[Pe]=we[tt],we[tt]=Oe}return q}function E(q){let ge,we,Fe,tt,Pe,Oe,st,ht;const dt=q.split(/\r?\n/);for(st=0,ht=dt.length;st<ht;st++)Pe=dt[st],Pe.match(/NRRD\d+/)?g.isNrrd=!0:!Pe.match(/^#/)&&(Oe=Pe.match(/(.*):(.*)/))&&(we=Oe[1].trim(),ge=Oe[2].trim(),Fe=pL[we],Fe?Fe.call(g,ge):g[we]=ge);if(!g.isNrrd)throw new Error("Not an NRRD file");if(g.encoding==="bz2"||g.encoding==="bzip2")throw new Error("Bzip is not supported");if(!g.vectors&&(g.vectors=[],g.vectors.push([1,0,0]),g.vectors.push([0,1,0]),g.vectors.push([0,0,1]),g.spacings)){for(tt=0;tt<=2;tt++)if(!isNaN(g.spacings[tt]))for(let Le=0;Le<=2;Le++)g.vectors[tt][Le]*=g.spacings[tt]}}function R(q,ge,we){let Fe="";ge=ge||0,we=we||q.length;let tt;const Pe=g.sizes.reduce(function(Le,Ze){return Le*Ze},1);let Oe=10;g.encoding==="hex"&&(Oe=16);const st=new g.__array(Pe);let ht=0,dt=parseInt;(g.__array===Float32Array||g.__array===Float64Array)&&(dt=parseFloat);for(let Le=ge;Le<we;Le++)tt=q[Le],(tt<9||tt>13)&&tt!==32?Fe+=String.fromCharCode(tt):(Fe!==""&&(st[ht]=dt(Fe,Oe),ht++),Fe="");return Fe!==""&&(st[ht]=dt(Fe,Oe),ht++),st}const I=v("uchar",t.byteLength),P=I.length;let B=null,V=0,O;for(O=1;O<P;O++)if(I[O-1]==10&&I[O]==10){B=this.parseChars(I,0,O-2),V=O+1;break}if(E(B),r=I.subarray(V),g.encoding.substring(0,2)==="gz")r=lL(new Uint8Array(r));else if(g.encoding==="ascii"||g.encoding==="text"||g.encoding==="txt"||g.encoding==="hex")r=R(r);else if(g.encoding==="raw"){const q=new Uint8Array(r.length);for(let ge=0;ge<r.length;ge++)q[ge]=r[ge];r=q}r=r.buffer;const k=new hL;k.header=g,k.data=new g.__array(r);const H=k.computeMinMax(),W=H[0],J=H[1];if(k.windowLow=W,k.windowHigh=J,k.dimensions=[g.sizes[0],g.sizes[1],g.sizes[2]],k.xLength=k.dimensions[0],k.yLength=k.dimensions[1],k.zLength=k.dimensions[2],g.vectors){const q=g.vectors.findIndex(tt=>tt[0]!==0),ge=g.vectors.findIndex(tt=>tt[1]!==0),we=g.vectors.findIndex(tt=>tt[2]!==0),Fe=[];Fe[q]="x",Fe[ge]="y",Fe[we]="z",k.axisOrder=Fe}else k.axisOrder=["x","y","z"];const te=new et().fromArray(g.vectors[0]).length(),j=new et().fromArray(g.vectors[1]).length(),ne=new et().fromArray(g.vectors[2]).length();k.spacing=[te,j,ne],k.matrix=new br;const Ae=new br;if(g.space==="left-posterior-superior"?Ae.set(-1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1):g.space==="left-anterior-superior"&&Ae.set(1,0,0,0,0,1,0,0,0,0,-1,0,0,0,0,1),!g.vectors)k.matrix.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);else{const q=g.vectors,ge=new br().set(q[0][0],q[1][0],q[2][0],0,q[0][1],q[1][1],q[2][1],0,q[0][2],q[1][2],q[2][2],0,0,0,0,1),we=new br().multiplyMatrices(ge,Ae);k.matrix=we}return k.inverseMatrix=new br,k.inverseMatrix.copy(k.matrix).invert(),k.RASDimensions=new et(k.xLength,k.yLength,k.zLength).applyMatrix4(k.matrix).round().toArray().map(Math.abs),k.lowerThreshold===-1/0&&(k.lowerThreshold=W),k.upperThreshold===1/0&&(k.upperThreshold=J),k}parseChars(t,r,o){r===void 0&&(r=0),o===void 0&&(o=t.length);let l="",d=0;for(d=r;d<o;++d)l+=String.fromCharCode(t[d]);return l}}const pL={type:function(m){switch(m){case"uchar":case"unsigned char":case"uint8":case"uint8_t":this.__array=Uint8Array;break;case"signed char":case"int8":case"int8_t":this.__array=Int8Array;break;case"short":case"short int":case"signed short":case"signed short int":case"int16":case"int16_t":this.__array=Int16Array;break;case"ushort":case"unsigned short":case"unsigned short int":case"uint16":case"uint16_t":this.__array=Uint16Array;break;case"int":case"signed int":case"int32":case"int32_t":this.__array=Int32Array;break;case"uint":case"unsigned int":case"uint32":case"uint32_t":this.__array=Uint32Array;break;case"float":this.__array=Float32Array;break;case"double":this.__array=Float64Array;break;default:throw new Error("Unsupported NRRD data type: "+m)}return this.type=m},endian:function(m){return this.endian=m},encoding:function(m){return this.encoding=m},dimension:function(m){return this.dim=parseInt(m,10)},sizes:function(m){let t;return this.sizes=function(){const r=m.split(/\s+/),o=[];for(let l=0,d=r.length;l<d;l++)t=r[l],o.push(parseInt(t,10));return o}()},space:function(m){return this.space=m},"space origin":function(m){return this.space_origin=m.split("(")[1].split(")")[0].split(",")},"space directions":function(m){let t,r;const o=m.match(/\(.*?\)/g);return this.vectors=function(){const l=[];for(let d=0,g=o.length;d<g;d++)r=o[d],l.push(function(){const v=r.slice(1,-1).split(/,/),A=[];for(let E=0,R=v.length;E<R;E++)t=v[E],A.push(parseFloat(t));return A}());return l}()},spacings:function(m){let t;const r=m.split(/\s+/);return this.spacings=function(){const o=[];for(let l=0,d=r.length;l<d;l++)t=r[l],o.push(parseFloat(t));return o}()}},mL={uniforms:{u_size:{value:new et(1,1,1)},u_renderstyle:{value:0},u_renderthreshold:{value:.5},u_clim:{value:new Fn(1,1)},u_data:{value:null},u_cmdata:{value:null}},vertexShader:`

		varying vec4 v_nearpos;
		varying vec4 v_farpos;
		varying vec3 v_position;

		void main() {
				// Prepare transforms to map to "camera view". See also:
				// https://threejs.org/docs/#api/renderers/webgl/WebGLProgram
				mat4 viewtransformf = modelViewMatrix;
				mat4 viewtransformi = inverse(modelViewMatrix);

				// Project local vertex coordinate to camera position. Then do a step
				// backward (in cam coords) to the near clipping plane, and project back. Do
				// the same for the far clipping plane. This gives us all the information we
				// need to calculate the ray and truncate it to the viewing cone.
				vec4 position4 = vec4(position, 1.0);
				vec4 pos_in_cam = viewtransformf * position4;

				// Intersection of ray and near clipping plane (z = -1 in clip coords)
				pos_in_cam.z = -pos_in_cam.w;
				v_nearpos = viewtransformi * pos_in_cam;

				// Intersection of ray and far clipping plane (z = +1 in clip coords)
				pos_in_cam.z = pos_in_cam.w;
				v_farpos = viewtransformi * pos_in_cam;

				// Set varyings and output pos
				v_position = position;
				gl_Position = projectionMatrix * viewMatrix * modelMatrix * position4;
		}`,fragmentShader:`

				precision highp float;
				precision mediump sampler3D;

				uniform vec3 u_size;
				uniform int u_renderstyle;
				uniform float u_renderthreshold;
				uniform vec2 u_clim;

				uniform sampler3D u_data;
				uniform sampler2D u_cmdata;

				varying vec3 v_position;
				varying vec4 v_nearpos;
				varying vec4 v_farpos;

				// The maximum distance through our rendering volume is sqrt(3).
				const int MAX_STEPS = 887;	// 887 for 512^3, 1774 for 1024^3
				const int REFINEMENT_STEPS = 4;
				const float relative_step_size = 1.0;
				const vec4 ambient_color = vec4(0.2, 0.4, 0.2, 1.0);
				const vec4 diffuse_color = vec4(0.8, 0.2, 0.2, 1.0);
				const vec4 specular_color = vec4(1.0, 1.0, 1.0, 1.0);
				const float shininess = 40.0;

				void cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);
				void cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);

				float sample1(vec3 texcoords);
				vec4 apply_colormap(float val);
				vec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray);


				void main() {
						// Normalize clipping plane info
						vec3 farpos = v_farpos.xyz / v_farpos.w;
						vec3 nearpos = v_nearpos.xyz / v_nearpos.w;

						// Calculate unit vector pointing in the view direction through this fragment.
						vec3 view_ray = normalize(nearpos.xyz - farpos.xyz);

						// Compute the (negative) distance to the front surface or near clipping plane.
						// v_position is the back face of the cuboid, so the initial distance calculated in the dot
						// product below is the distance from near clip plane to the back of the cuboid
						float distance = dot(nearpos - v_position, view_ray);
						distance = max(distance, min((-0.5 - v_position.x) / view_ray.x,
																				(u_size.x - 0.5 - v_position.x) / view_ray.x));
						distance = max(distance, min((-0.5 - v_position.y) / view_ray.y,
																				(u_size.y - 0.5 - v_position.y) / view_ray.y));
						distance = max(distance, min((-0.5 - v_position.z) / view_ray.z,
																				(u_size.z - 0.5 - v_position.z) / view_ray.z));

						// Now we have the starting position on the front surface
						vec3 front = v_position + view_ray * distance;

						// Decide how many steps to take
						int nsteps = int(-distance / relative_step_size + 0.5);
						if ( nsteps < 1 )
								discard;

						// Get starting location and step vector in texture coordinates
						vec3 step = ((v_position - front) / u_size) / float(nsteps);
						vec3 start_loc = front / u_size;

						// For testing: show the number of steps. This helps to establish
						// whether the rays are correctly oriented
						//'gl_FragColor = vec4(0.0, float(nsteps) / 1.0 / u_size.x, 1.0, 1.0);
						//'return;

						if (u_renderstyle == 0)
								cast_mip(start_loc, step, nsteps, view_ray);
						else if (u_renderstyle == 1)
								cast_iso(start_loc, step, nsteps, view_ray);

						if (gl_FragColor.a < 0.05)
								discard;
				}


				float sample1(vec3 texcoords) {
						/* Sample float value from a 3D texture. Assumes intensity data. */
						return texture(u_data, texcoords.xyz).r;
				}


				vec4 apply_colormap(float val) {
						val = (val - u_clim[0]) / (u_clim[1] - u_clim[0]);
						return texture2D(u_cmdata, vec2(val, 0.5));
				}


				void cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {

						float max_val = -1e6;
						int max_i = 100;
						vec3 loc = start_loc;

						// Enter the raycasting loop. In WebGL 1 the loop index cannot be compared with
						// non-constant expression. So we use a hard-coded max, and an additional condition
						// inside the loop.
						for (int iter=0; iter<MAX_STEPS; iter++) {
								if (iter >= nsteps)
										break;
								// Sample from the 3D texture
								float val = sample1(loc);
								// Apply MIP operation
								if (val > max_val) {
										max_val = val;
										max_i = iter;
								}
								// Advance location deeper into the volume
								loc += step;
						}

						// Refine location, gives crispier images
						vec3 iloc = start_loc + step * (float(max_i) - 0.5);
						vec3 istep = step / float(REFINEMENT_STEPS);
						for (int i=0; i<REFINEMENT_STEPS; i++) {
								max_val = max(max_val, sample1(iloc));
								iloc += istep;
						}

						// Resolve final color
						gl_FragColor = apply_colormap(max_val);
				}


				void cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {

						gl_FragColor = vec4(0.0);	// init transparent
						vec4 color3 = vec4(0.0);	// final color
						vec3 dstep = 1.5 / u_size;	// step to sample derivative
						vec3 loc = start_loc;

						float low_threshold = u_renderthreshold - 0.02 * (u_clim[1] - u_clim[0]);

						// Enter the raycasting loop. In WebGL 1 the loop index cannot be compared with
						// non-constant expression. So we use a hard-coded max, and an additional condition
						// inside the loop.
						for (int iter=0; iter<MAX_STEPS; iter++) {
								if (iter >= nsteps)
										break;

								// Sample from the 3D texture
								float val = sample1(loc);

								if (val > low_threshold) {
										// Take the last interval in smaller steps
										vec3 iloc = loc - 0.5 * step;
										vec3 istep = step / float(REFINEMENT_STEPS);
										for (int i=0; i<REFINEMENT_STEPS; i++) {
												val = sample1(iloc);
												if (val > u_renderthreshold) {
														gl_FragColor = add_lighting(val, iloc, dstep, view_ray);
														return;
												}
												iloc += istep;
										}
								}

								// Advance location deeper into the volume
								loc += step;
						}
				}


				vec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray)
				{
					// Calculate color by incorporating lighting

						// View direction
						vec3 V = normalize(view_ray);

						// calculate normal vector from gradient
						vec3 N;
						float val1, val2;
						val1 = sample1(loc + vec3(-step[0], 0.0, 0.0));
						val2 = sample1(loc + vec3(+step[0], 0.0, 0.0));
						N[0] = val1 - val2;
						val = max(max(val1, val2), val);
						val1 = sample1(loc + vec3(0.0, -step[1], 0.0));
						val2 = sample1(loc + vec3(0.0, +step[1], 0.0));
						N[1] = val1 - val2;
						val = max(max(val1, val2), val);
						val1 = sample1(loc + vec3(0.0, 0.0, -step[2]));
						val2 = sample1(loc + vec3(0.0, 0.0, +step[2]));
						N[2] = val1 - val2;
						val = max(max(val1, val2), val);

						float gm = length(N); // gradient magnitude
						N = normalize(N);

						// Flip normal so it points towards viewer
						float Nselect = float(dot(N, V) > 0.0);
						N = (2.0 * Nselect - 1.0) * N;	// ==	Nselect * N - (1.0-Nselect)*N;

						// Init colors
						vec4 ambient_color = vec4(0.0, 0.0, 0.0, 0.0);
						vec4 diffuse_color = vec4(0.0, 0.0, 0.0, 0.0);
						vec4 specular_color = vec4(0.0, 0.0, 0.0, 0.0);

						// note: could allow multiple lights
						for (int i=0; i<1; i++)
						{
								 // Get light direction (make sure to prevent zero devision)
								vec3 L = normalize(view_ray);	//lightDirs[i];
								float lightEnabled = float( length(L) > 0.0 );
								L = normalize(L + (1.0 - lightEnabled));

								// Calculate lighting properties
								float lambertTerm = clamp(dot(N, L), 0.0, 1.0);
								vec3 H = normalize(L+V); // Halfway vector
								float specularTerm = pow(max(dot(H, N), 0.0), shininess);

								// Calculate mask
								float mask1 = lightEnabled;

								// Calculate colors
								ambient_color +=	mask1 * ambient_color;	// * gl_LightSource[i].ambient;
								diffuse_color +=	mask1 * lambertTerm;
								specular_color += mask1 * specularTerm * specular_color;
						}

						// Calculate final color by componing different components
						vec4 final_color;
						vec4 color = apply_colormap(val);
						final_color = color * (ambient_color + diffuse_color) + specular_color;
						final_color.a = color.a;
						return final_color;
				}`};var gL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAABCAIAAAC+O+cgAAAAEklEQVR42mNkYGBgHAWjYKQCAH7BAv8WAlmwAAAAAElFTkSuQmCC",vL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAABCAIAAAC+O+cgAAAAtUlEQVR42n2Q0W3FMAzEyNNqHaH7j2L1w3ZenDwUMAwedXKA+MMvSqJiiBoiCWqWxKBEXaMZ8Sqs0zcmIv1p2nKwEvpLZMYOe3R4wku+TO7es/O8H+vHlH/KR9zQT8+z8F4531kRe379MIK4oD3v/SP7iplyHTKB5WNPs4AFH3kzO446Y+y6wA4TxqfMXBmzVrtwREY5ZrMY069dxr28Yb+wVjp02QWhSwKFJcHCaGGwTLBIzB9eyYkORwhbNAAAAABJRU5ErkJggg==";function _L(m){if(!!m&&!(typeof window>"u")){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=m,document.head.appendChild(t),m}}function ju(m,t){var r=m.__state.conversionName.toString(),o=Math.round(m.r),l=Math.round(m.g),d=Math.round(m.b),g=m.a,v=Math.round(m.h),A=m.s.toFixed(1),E=m.v.toFixed(1);if(t||r==="THREE_CHAR_HEX"||r==="SIX_CHAR_HEX"){for(var R=m.hex.toString(16);R.length<6;)R="0"+R;return"#"+R}else{if(r==="CSS_RGB")return"rgb("+o+","+l+","+d+")";if(r==="CSS_RGBA")return"rgba("+o+","+l+","+d+","+g+")";if(r==="HEX")return"0x"+m.hex.toString(16);if(r==="RGB_ARRAY")return"["+o+","+l+","+d+"]";if(r==="RGBA_ARRAY")return"["+o+","+l+","+d+","+g+"]";if(r==="RGB_OBJ")return"{r:"+o+",g:"+l+",b:"+d+"}";if(r==="RGBA_OBJ")return"{r:"+o+",g:"+l+",b:"+d+",a:"+g+"}";if(r==="HSV_OBJ")return"{h:"+v+",s:"+A+",v:"+E+"}";if(r==="HSVA_OBJ")return"{h:"+v+",s:"+A+",v:"+E+",a:"+g+"}"}return"unknown format"}var JE=Array.prototype.forEach,If=Array.prototype.slice,an={BREAK:{},extend:function(t){return this.each(If.call(arguments,1),function(r){var o=this.isObject(r)?Object.keys(r):[];o.forEach(function(l){this.isUndefined(r[l])||(t[l]=r[l])}.bind(this))},this),t},defaults:function(t){return this.each(If.call(arguments,1),function(r){var o=this.isObject(r)?Object.keys(r):[];o.forEach(function(l){this.isUndefined(t[l])&&(t[l]=r[l])}.bind(this))},this),t},compose:function(){var t=If.call(arguments);return function(){for(var r=If.call(arguments),o=t.length-1;o>=0;o--)r=[t[o].apply(this,r)];return r[0]}},each:function(t,r,o){if(!!t){if(JE&&t.forEach&&t.forEach===JE)t.forEach(r,o);else if(t.length===t.length+0){var l=void 0,d=void 0;for(l=0,d=t.length;l<d;l++)if(l in t&&r.call(o,t[l],l)===this.BREAK)return}else for(var g in t)if(r.call(o,t[g],g)===this.BREAK)return}},defer:function(t){setTimeout(t,0)},debounce:function(t,r,o){var l=void 0;return function(){var d=this,g=arguments;function v(){l=null,o||t.apply(d,g)}var A=o||!l;clearTimeout(l),l=setTimeout(v,r),A&&t.apply(d,g)}},toArray:function(t){return t.toArray?t.toArray():If.call(t)},isUndefined:function(t){return t===void 0},isNull:function(t){return t===null},isNaN:function(m){function t(r){return m.apply(this,arguments)}return t.toString=function(){return m.toString()},t}(function(m){return isNaN(m)}),isArray:Array.isArray||function(m){return m.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return t===!1||t===!0},isFunction:function(t){return t instanceof Function}},AL=[{litmus:an.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var r=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return r===null?!1:{space:"HEX",hex:parseInt("0x"+r[1].toString()+r[1].toString()+r[2].toString()+r[2].toString()+r[3].toString()+r[3].toString(),0)}},write:ju},SIX_CHAR_HEX:{read:function(t){var r=t.match(/^#([A-F0-9]{6})$/i);return r===null?!1:{space:"HEX",hex:parseInt("0x"+r[1].toString(),0)}},write:ju},CSS_RGB:{read:function(t){var r=t.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return r===null?!1:{space:"RGB",r:parseFloat(r[1]),g:parseFloat(r[2]),b:parseFloat(r[3])}},write:ju},CSS_RGBA:{read:function(t){var r=t.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return r===null?!1:{space:"RGB",r:parseFloat(r[1]),g:parseFloat(r[2]),b:parseFloat(r[3]),a:parseFloat(r[4])}},write:ju}}},{litmus:an.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:an.isArray,conversions:{RGB_ARRAY:{read:function(t){return t.length!==3?!1:{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return t.length!==4?!1:{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:an.isObject,conversions:{RGBA_OBJ:{read:function(t){return an.isNumber(t.r)&&an.isNumber(t.g)&&an.isNumber(t.b)&&an.isNumber(t.a)?{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return an.isNumber(t.r)&&an.isNumber(t.g)&&an.isNumber(t.b)?{space:"RGB",r:t.r,g:t.g,b:t.b}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return an.isNumber(t.h)&&an.isNumber(t.s)&&an.isNumber(t.v)&&an.isNumber(t.a)?{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return an.isNumber(t.h)&&an.isNumber(t.s)&&an.isNumber(t.v)?{space:"HSV",h:t.h,s:t.s,v:t.v}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],Mf=void 0,rm=void 0,z_=function(){rm=!1;var t=arguments.length>1?an.toArray(arguments):arguments[0];return an.each(AL,function(r){if(r.litmus(t))return an.each(r.conversions,function(o,l){if(Mf=o.read(t),rm===!1&&Mf!==!1)return rm=Mf,Mf.conversionName=l,Mf.conversion=o,an.BREAK}),an.BREAK}),rm},ZE=void 0,im={hsv_to_rgb:function(t,r,o){var l=Math.floor(t/60)%6,d=t/60-Math.floor(t/60),g=o*(1-r),v=o*(1-d*r),A=o*(1-(1-d)*r),E=[[o,A,g],[v,o,g],[g,o,A],[g,v,o],[A,g,o],[o,g,v]][l];return{r:E[0]*255,g:E[1]*255,b:E[2]*255}},rgb_to_hsv:function(t,r,o){var l=Math.min(t,r,o),d=Math.max(t,r,o),g=d-l,v=void 0,A=void 0;if(d!==0)A=g/d;else return{h:NaN,s:0,v:0};return t===d?v=(r-o)/g:r===d?v=2+(o-t)/g:v=4+(t-r)/g,v/=6,v<0&&(v+=1),{h:v*360,s:A,v:d/255}},rgb_to_hex:function(t,r,o){var l=this.hex_with_component(0,2,t);return l=this.hex_with_component(l,1,r),l=this.hex_with_component(l,0,o),l},component_from_hex:function(t,r){return t>>r*8&255},hex_with_component:function(t,r,o){return o<<(ZE=r*8)|t&~(255<<ZE)}},yL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},No=function(m,t){if(!(m instanceof t))throw new TypeError("Cannot call a class as a function")},Do=function(){function m(t,r){for(var o=0;o<r.length;o++){var l=r[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,o){return r&&m(t.prototype,r),o&&m(t,o),t}}(),El=function m(t,r,o){t===null&&(t=Function.prototype);var l=Object.getOwnPropertyDescriptor(t,r);if(l===void 0){var d=Object.getPrototypeOf(t);return d===null?void 0:m(d,r,o)}else{if("value"in l)return l.value;var g=l.get;return g===void 0?void 0:g.call(o)}},wl=function(m,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);m.prototype=Object.create(t&&t.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(m,t):m.__proto__=t)},Cl=function(m,t){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:m},Vi=function(){function m(){if(No(this,m),this.__state=z_.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return Do(m,[{key:"toString",value:function(){return ju(this)}},{key:"toHexString",value:function(){return ju(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),m}();function $_(m,t,r){Object.defineProperty(m,t,{get:function(){return this.__state.space==="RGB"?this.__state[t]:(Vi.recalculateRGB(this,t,r),this.__state[t])},set:function(l){this.__state.space!=="RGB"&&(Vi.recalculateRGB(this,t,r),this.__state.space="RGB"),this.__state[t]=l}})}function W_(m,t){Object.defineProperty(m,t,{get:function(){return this.__state.space==="HSV"?this.__state[t]:(Vi.recalculateHSV(this),this.__state[t])},set:function(o){this.__state.space!=="HSV"&&(Vi.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=o}})}Vi.recalculateRGB=function(m,t,r){if(m.__state.space==="HEX")m.__state[t]=im.component_from_hex(m.__state.hex,r);else if(m.__state.space==="HSV")an.extend(m.__state,im.hsv_to_rgb(m.__state.h,m.__state.s,m.__state.v));else throw new Error("Corrupted color state")},Vi.recalculateHSV=function(m){var t=im.rgb_to_hsv(m.r,m.g,m.b);an.extend(m.__state,{s:t.s,v:t.v}),an.isNaN(t.h)?an.isUndefined(m.__state.h)&&(m.__state.h=0):m.__state.h=t.h},Vi.COMPONENTS=["r","g","b","h","s","v","hex","a"],$_(Vi.prototype,"r",2),$_(Vi.prototype,"g",1),$_(Vi.prototype,"b",0),W_(Vi.prototype,"h"),W_(Vi.prototype,"s"),W_(Vi.prototype,"v"),Object.defineProperty(Vi.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(Vi.prototype,"hex",{get:function(){return this.__state.space!=="HEX"&&(this.__state.hex=im.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var Cc=function(){function m(t,r){No(this,m),this.initialValue=t[r],this.domElement=document.createElement("div"),this.object=t,this.property=r,this.__onChange=void 0,this.__onFinishChange=void 0}return Do(m,[{key:"onChange",value:function(r){return this.__onChange=r,this}},{key:"onFinishChange",value:function(r){return this.__onFinishChange=r,this}},{key:"setValue",value:function(r){return this.object[this.property]=r,this.__onChange&&this.__onChange.call(this,r),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),m}(),bL={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},ew={};an.each(bL,function(m,t){an.each(m,function(r){ew[r]=t})});var SL=/(\d+(\.\d+)?)px/;function aa(m){if(m==="0"||an.isUndefined(m))return 0;var t=m.match(SL);return an.isNull(t)?0:parseFloat(t[1])}var Ft={makeSelectable:function(t,r){t===void 0||t.style===void 0||(t.onselectstart=r?function(){return!1}:function(){},t.style.MozUserSelect=r?"auto":"none",t.style.KhtmlUserSelect=r?"auto":"none",t.unselectable=r?"on":"off")},makeFullscreen:function(t,r,o){var l=o,d=r;an.isUndefined(d)&&(d=!0),an.isUndefined(l)&&(l=!0),t.style.position="absolute",d&&(t.style.left=0,t.style.right=0),l&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,r,o,l){var d=o||{},g=ew[r];if(!g)throw new Error("Event type "+r+" not supported.");var v=document.createEvent(g);switch(g){case"MouseEvents":{var A=d.x||d.clientX||0,E=d.y||d.clientY||0;v.initMouseEvent(r,d.bubbles||!1,d.cancelable||!0,window,d.clickCount||1,0,0,A,E,!1,!1,!1,!1,0,null);break}case"KeyboardEvents":{var R=v.initKeyboardEvent||v.initKeyEvent;an.defaults(d,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),R(r,d.bubbles||!1,d.cancelable,window,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.keyCode,d.charCode);break}default:{v.initEvent(r,d.bubbles||!1,d.cancelable||!0);break}}an.defaults(v,l),t.dispatchEvent(v)},bind:function(t,r,o,l){var d=l||!1;return t.addEventListener?t.addEventListener(r,o,d):t.attachEvent&&t.attachEvent("on"+r,o),Ft},unbind:function(t,r,o,l){var d=l||!1;return t.removeEventListener?t.removeEventListener(r,o,d):t.detachEvent&&t.detachEvent("on"+r,o),Ft},addClass:function(t,r){if(t.className===void 0)t.className=r;else if(t.className!==r){var o=t.className.split(/ +/);o.indexOf(r)===-1&&(o.push(r),t.className=o.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return Ft},removeClass:function(t,r){if(r)if(t.className===r)t.removeAttribute("class");else{var o=t.className.split(/ +/),l=o.indexOf(r);l!==-1&&(o.splice(l,1),t.className=o.join(" "))}else t.className=void 0;return Ft},hasClass:function(t,r){return new RegExp("(?:^|\\s+)"+r+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var r=getComputedStyle(t);return aa(r["border-left-width"])+aa(r["border-right-width"])+aa(r["padding-left"])+aa(r["padding-right"])+aa(r.width)},getHeight:function(t){var r=getComputedStyle(t);return aa(r["border-top-width"])+aa(r["border-bottom-width"])+aa(r["padding-top"])+aa(r["padding-bottom"])+aa(r.height)},getOffset:function(t){var r=t,o={left:0,top:0};if(r.offsetParent)do o.left+=r.offsetLeft,o.top+=r.offsetTop,r=r.offsetParent;while(r);return o},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},tw=function(m){wl(t,m);function t(r,o){No(this,t);var l=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o)),d=l;l.__prev=l.getValue(),l.__checkbox=document.createElement("input"),l.__checkbox.setAttribute("type","checkbox");function g(){d.setValue(!d.__prev)}return Ft.bind(l.__checkbox,"change",g,!1),l.domElement.appendChild(l.__checkbox),l.updateDisplay(),l}return Do(t,[{key:"setValue",value:function(o){var l=El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,o);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),l}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(Cc),EL=function(m){wl(t,m);function t(r,o,l){No(this,t);var d=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o)),g=l,v=d;if(d.__select=document.createElement("select"),an.isArray(g)){var A={};an.each(g,function(E){A[E]=E}),g=A}return an.each(g,function(E,R){var I=document.createElement("option");I.innerHTML=R,I.setAttribute("value",E),v.__select.appendChild(I)}),d.updateDisplay(),Ft.bind(d.__select,"change",function(){var E=this.options[this.selectedIndex].value;v.setValue(E)}),d.domElement.appendChild(d.__select),d}return Do(t,[{key:"setValue",value:function(o){var l=El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,o);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),l}},{key:"updateDisplay",value:function(){return Ft.isActive(this.__select)?this:(this.__select.value=this.getValue(),El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(Cc),wL=function(m){wl(t,m);function t(r,o){No(this,t);var l=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o)),d=l;function g(){d.setValue(d.__input.value)}function v(){d.__onFinishChange&&d.__onFinishChange.call(d,d.getValue())}return l.__input=document.createElement("input"),l.__input.setAttribute("type","text"),Ft.bind(l.__input,"keyup",g),Ft.bind(l.__input,"change",g),Ft.bind(l.__input,"blur",v),Ft.bind(l.__input,"keydown",function(A){A.keyCode===13&&this.blur()}),l.updateDisplay(),l.domElement.appendChild(l.__input),l}return Do(t,[{key:"updateDisplay",value:function(){return Ft.isActive(this.__input)||(this.__input.value=this.getValue()),El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(Cc);function nw(m){var t=m.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var rw=function(m){wl(t,m);function t(r,o,l){No(this,t);var d=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o)),g=l||{};return d.__min=g.min,d.__max=g.max,d.__step=g.step,an.isUndefined(d.__step)?d.initialValue===0?d.__impliedStep=1:d.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(d.initialValue))/Math.LN10))/10:d.__impliedStep=d.__step,d.__precision=nw(d.__impliedStep),d}return Do(t,[{key:"setValue",value:function(o){var l=o;return this.__min!==void 0&&l<this.__min?l=this.__min:this.__max!==void 0&&l>this.__max&&(l=this.__max),this.__step!==void 0&&l%this.__step!==0&&(l=Math.round(l/this.__step)*this.__step),El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,l)}},{key:"min",value:function(o){return this.__min=o,this}},{key:"max",value:function(o){return this.__max=o,this}},{key:"step",value:function(o){return this.__step=o,this.__impliedStep=o,this.__precision=nw(o),this}}]),t}(Cc);function CL(m,t){var r=Math.pow(10,t);return Math.round(m*r)/r}var sm=function(m){wl(t,m);function t(r,o,l){No(this,t);var d=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o,l));d.__truncationSuspended=!1;var g=d,v=void 0;function A(){var V=parseFloat(g.__input.value);an.isNaN(V)||g.setValue(V)}function E(){g.__onFinishChange&&g.__onFinishChange.call(g,g.getValue())}function R(){E()}function I(V){var O=v-V.clientY;g.setValue(g.getValue()+O*g.__impliedStep),v=V.clientY}function P(){Ft.unbind(window,"mousemove",I),Ft.unbind(window,"mouseup",P),E()}function B(V){Ft.bind(window,"mousemove",I),Ft.bind(window,"mouseup",P),v=V.clientY}return d.__input=document.createElement("input"),d.__input.setAttribute("type","text"),Ft.bind(d.__input,"change",A),Ft.bind(d.__input,"blur",R),Ft.bind(d.__input,"mousedown",B),Ft.bind(d.__input,"keydown",function(V){V.keyCode===13&&(g.__truncationSuspended=!0,this.blur(),g.__truncationSuspended=!1,E())}),d.updateDisplay(),d.domElement.appendChild(d.__input),d}return Do(t,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():CL(this.getValue(),this.__precision),El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(rw);function iw(m,t,r,o,l){return o+(l-o)*((m-t)/(r-t))}var K_=function(m){wl(t,m);function t(r,o,l,d,g){No(this,t);var v=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o,{min:l,max:d,step:g})),A=v;v.__background=document.createElement("div"),v.__foreground=document.createElement("div"),Ft.bind(v.__background,"mousedown",E),Ft.bind(v.__background,"touchstart",P),Ft.addClass(v.__background,"slider"),Ft.addClass(v.__foreground,"slider-fg");function E(O){document.activeElement.blur(),Ft.bind(window,"mousemove",R),Ft.bind(window,"mouseup",I),R(O)}function R(O){O.preventDefault();var k=A.__background.getBoundingClientRect();return A.setValue(iw(O.clientX,k.left,k.right,A.__min,A.__max)),!1}function I(){Ft.unbind(window,"mousemove",R),Ft.unbind(window,"mouseup",I),A.__onFinishChange&&A.__onFinishChange.call(A,A.getValue())}function P(O){O.touches.length===1&&(Ft.bind(window,"touchmove",B),Ft.bind(window,"touchend",V),B(O))}function B(O){var k=O.touches[0].clientX,H=A.__background.getBoundingClientRect();A.setValue(iw(k,H.left,H.right,A.__min,A.__max))}function V(){Ft.unbind(window,"touchmove",B),Ft.unbind(window,"touchend",V),A.__onFinishChange&&A.__onFinishChange.call(A,A.getValue())}return v.updateDisplay(),v.__background.appendChild(v.__foreground),v.domElement.appendChild(v.__background),v}return Do(t,[{key:"updateDisplay",value:function(){var o=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=o*100+"%",El(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(rw),sw=function(m){wl(t,m);function t(r,o,l){No(this,t);var d=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o)),g=d;return d.__button=document.createElement("div"),d.__button.innerHTML=l===void 0?"Fire":l,Ft.bind(d.__button,"click",function(v){return v.preventDefault(),g.fire(),!1}),Ft.addClass(d.__button,"button"),d.domElement.appendChild(d.__button),d}return Do(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(Cc),j_=function(m){wl(t,m);function t(r,o){No(this,t);var l=Cl(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,o));l.__color=new Vi(l.getValue()),l.__temp=new Vi(0);var d=l;l.domElement=document.createElement("div"),Ft.makeSelectable(l.domElement,!1),l.__selector=document.createElement("div"),l.__selector.className="selector",l.__saturation_field=document.createElement("div"),l.__saturation_field.className="saturation-field",l.__field_knob=document.createElement("div"),l.__field_knob.className="field-knob",l.__field_knob_border="2px solid ",l.__hue_knob=document.createElement("div"),l.__hue_knob.className="hue-knob",l.__hue_field=document.createElement("div"),l.__hue_field.className="hue-field",l.__input=document.createElement("input"),l.__input.type="text",l.__input_textShadow="0 1px 1px ",Ft.bind(l.__input,"keydown",function(O){O.keyCode===13&&I.call(this)}),Ft.bind(l.__input,"blur",I),Ft.bind(l.__selector,"mousedown",function(){Ft.addClass(this,"drag").bind(window,"mouseup",function(){Ft.removeClass(d.__selector,"drag")})}),Ft.bind(l.__selector,"touchstart",function(){Ft.addClass(this,"drag").bind(window,"touchend",function(){Ft.removeClass(d.__selector,"drag")})});var g=document.createElement("div");an.extend(l.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),an.extend(l.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:l.__field_knob_border+(l.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),an.extend(l.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),an.extend(l.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),an.extend(g.style,{width:"100%",height:"100%",background:"none"}),ow(g,"top","rgba(0,0,0,0)","#000"),an.extend(l.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),ML(l.__hue_field),an.extend(l.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:l.__input_textShadow+"rgba(0,0,0,0.7)"}),Ft.bind(l.__saturation_field,"mousedown",v),Ft.bind(l.__saturation_field,"touchstart",v),Ft.bind(l.__field_knob,"mousedown",v),Ft.bind(l.__field_knob,"touchstart",v),Ft.bind(l.__hue_field,"mousedown",A),Ft.bind(l.__hue_field,"touchstart",A);function v(O){B(O),Ft.bind(window,"mousemove",B),Ft.bind(window,"touchmove",B),Ft.bind(window,"mouseup",E),Ft.bind(window,"touchend",E)}function A(O){V(O),Ft.bind(window,"mousemove",V),Ft.bind(window,"touchmove",V),Ft.bind(window,"mouseup",R),Ft.bind(window,"touchend",R)}function E(){Ft.unbind(window,"mousemove",B),Ft.unbind(window,"touchmove",B),Ft.unbind(window,"mouseup",E),Ft.unbind(window,"touchend",E),P()}function R(){Ft.unbind(window,"mousemove",V),Ft.unbind(window,"touchmove",V),Ft.unbind(window,"mouseup",R),Ft.unbind(window,"touchend",R),P()}function I(){var O=z_(this.value);O!==!1?(d.__color.__state=O,d.setValue(d.__color.toOriginal())):this.value=d.__color.toString()}function P(){d.__onFinishChange&&d.__onFinishChange.call(d,d.__color.toOriginal())}l.__saturation_field.appendChild(g),l.__selector.appendChild(l.__field_knob),l.__selector.appendChild(l.__saturation_field),l.__selector.appendChild(l.__hue_field),l.__hue_field.appendChild(l.__hue_knob),l.domElement.appendChild(l.__input),l.domElement.appendChild(l.__selector),l.updateDisplay();function B(O){O.type.indexOf("touch")===-1&&O.preventDefault();var k=d.__saturation_field.getBoundingClientRect(),H=O.touches&&O.touches[0]||O,W=H.clientX,J=H.clientY,te=(W-k.left)/(k.right-k.left),j=1-(J-k.top)/(k.bottom-k.top);return j>1?j=1:j<0&&(j=0),te>1?te=1:te<0&&(te=0),d.__color.v=j,d.__color.s=te,d.setValue(d.__color.toOriginal()),!1}function V(O){O.type.indexOf("touch")===-1&&O.preventDefault();var k=d.__hue_field.getBoundingClientRect(),H=O.touches&&O.touches[0]||O,W=H.clientY,J=1-(W-k.top)/(k.bottom-k.top);return J>1?J=1:J<0&&(J=0),d.__color.h=J*360,d.setValue(d.__color.toOriginal()),!1}return l}return Do(t,[{key:"updateDisplay",value:function(){var o=z_(this.getValue());if(o!==!1){var l=!1;an.each(Vi.COMPONENTS,function(v){if(!an.isUndefined(o[v])&&!an.isUndefined(this.__color.__state[v])&&o[v]!==this.__color.__state[v])return l=!0,{}},this),l&&an.extend(this.__color.__state,o)}an.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var d=this.__color.v<.5||this.__color.s>.5?255:0,g=255-d;an.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+d+","+d+","+d+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,ow(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),an.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+d+","+d+","+d+")",textShadow:this.__input_textShadow+"rgba("+g+","+g+","+g+",.7)"})}}]),t}(Cc),IL=["-moz-","-o-","-webkit-","-ms-",""];function ow(m,t,r,o){m.style.background="",an.each(IL,function(l){m.style.cssText+="background: "+l+"linear-gradient("+t+", "+r+" 0%, "+o+" 100%); "})}function ML(m){m.style.background="",m.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",m.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",m.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",m.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",m.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var xL={load:function(t,r){var o=r||document,l=o.createElement("link");l.type="text/css",l.rel="stylesheet",l.href=t,o.getElementsByTagName("head")[0].appendChild(l)},inject:function(t,r){var o=r||document,l=document.createElement("style");l.type="text/css",l.innerHTML=t;var d=o.getElementsByTagName("head")[0];try{d.appendChild(l)}catch{}}},RL=`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.

    </div>

  </div>

</div>`,TL=function(t,r){var o=t[r];return an.isArray(arguments[2])||an.isObject(arguments[2])?new EL(t,r,arguments[2]):an.isNumber(o)?an.isNumber(arguments[2])&&an.isNumber(arguments[3])?an.isNumber(arguments[4])?new K_(t,r,arguments[2],arguments[3],arguments[4]):new K_(t,r,arguments[2],arguments[3]):an.isNumber(arguments[4])?new sm(t,r,{min:arguments[2],max:arguments[3],step:arguments[4]}):new sm(t,r,{min:arguments[2],max:arguments[3]}):an.isString(o)?new wL(t,r):an.isFunction(o)?new sw(t,r,""):an.isBoolean(o)?new tw(t,r):null};function PL(m){setTimeout(m,1e3/60)}var NL=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||PL,DL=function(){function m(){No(this,m),this.backgroundElement=document.createElement("div"),an.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),Ft.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),an.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;Ft.bind(this.backgroundElement,"click",function(){t.hide()})}return Do(m,[{key:"show",value:function(){var r=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),an.defer(function(){r.backgroundElement.style.opacity=1,r.domElement.style.opacity=1,r.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var r=this,o=function l(){r.domElement.style.display="none",r.backgroundElement.style.display="none",Ft.unbind(r.domElement,"webkitTransitionEnd",l),Ft.unbind(r.domElement,"transitionend",l),Ft.unbind(r.domElement,"oTransitionEnd",l)};Ft.bind(this.domElement,"webkitTransitionEnd",o),Ft.bind(this.domElement,"transitionend",o),Ft.bind(this.domElement,"oTransitionEnd",o),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-Ft.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-Ft.getHeight(this.domElement)/2+"px"}}]),m}(),BL=_L(`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`);xL.inject(BL);var aw="dg",lw=72,cw=20,xf="Default",Rf=function(){try{return!!window.localStorage}catch{return!1}}(),Tf=void 0,uw=!0,qu=void 0,q_=!1,dw=[],ai=function m(t){var r=this,o=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),Ft.addClass(this.domElement,aw),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],o=an.defaults(o,{closeOnTop:!1,autoPlace:!0,width:m.DEFAULT_WIDTH}),o=an.defaults(o,{resizable:o.autoPlace,hideable:o.autoPlace}),an.isUndefined(o.load)?o.load={preset:xf}:o.preset&&(o.load.preset=o.preset),an.isUndefined(o.parent)&&o.hideable&&dw.push(this),o.resizable=an.isUndefined(o.parent)&&o.resizable,o.autoPlace&&an.isUndefined(o.scrollable)&&(o.scrollable=!0);var l=Rf&&localStorage.getItem(Yu(this,"isLocal"))==="true",d=void 0,g=void 0;if(Object.defineProperties(this,{parent:{get:function(){return o.parent}},scrollable:{get:function(){return o.scrollable}},autoPlace:{get:function(){return o.autoPlace}},closeOnTop:{get:function(){return o.closeOnTop}},preset:{get:function(){return r.parent?r.getRoot().preset:o.load.preset},set:function(P){r.parent?r.getRoot().preset=P:o.load.preset=P,FL(this),r.revert()}},width:{get:function(){return o.width},set:function(P){o.width=P,eA(r,P)}},name:{get:function(){return o.name},set:function(P){o.name=P,g&&(g.innerHTML=o.name)}},closed:{get:function(){return o.closed},set:function(P){o.closed=P,o.closed?Ft.addClass(r.__ul,m.CLASS_CLOSED):Ft.removeClass(r.__ul,m.CLASS_CLOSED),this.onResize(),r.__closeButton&&(r.__closeButton.innerHTML=P?m.TEXT_OPEN:m.TEXT_CLOSED)}},load:{get:function(){return o.load}},useLocalStorage:{get:function(){return l},set:function(P){Rf&&(l=P,P?Ft.bind(window,"unload",d):Ft.unbind(window,"unload",d),localStorage.setItem(Yu(r,"isLocal"),P))}}}),an.isUndefined(o.parent)){if(this.closed=o.closed||!1,Ft.addClass(this.domElement,m.CLASS_MAIN),Ft.makeSelectable(this.domElement,!1),Rf&&l){r.useLocalStorage=!0;var v=localStorage.getItem(Yu(this,"gui"));v&&(o.load=JSON.parse(v))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=m.TEXT_CLOSED,Ft.addClass(this.__closeButton,m.CLASS_CLOSE_BUTTON),o.closeOnTop?(Ft.addClass(this.__closeButton,m.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(Ft.addClass(this.__closeButton,m.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),Ft.bind(this.__closeButton,"click",function(){r.closed=!r.closed})}else{o.closed===void 0&&(o.closed=!0);var A=document.createTextNode(o.name);Ft.addClass(A,"controller-name"),g=Y_(r,A);var E=function(P){return P.preventDefault(),r.closed=!r.closed,!1};Ft.addClass(this.__ul,m.CLASS_CLOSED),Ft.addClass(g,"title"),Ft.bind(g,"click",E),o.closed||(this.closed=!1)}o.autoPlace&&(an.isUndefined(o.parent)&&(uw&&(qu=document.createElement("div"),Ft.addClass(qu,aw),Ft.addClass(qu,m.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(qu),uw=!1),qu.appendChild(this.domElement),Ft.addClass(this.domElement,m.CLASS_AUTO_PLACE)),this.parent||eA(r,o.width)),this.__resizeHandler=function(){r.onResizeDebounced()},Ft.bind(window,"resize",this.__resizeHandler),Ft.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),Ft.bind(this.__ul,"transitionend",this.__resizeHandler),Ft.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),o.resizable&&OL(this),d=function(){Rf&&localStorage.getItem(Yu(r,"isLocal"))==="true"&&localStorage.setItem(Yu(r,"gui"),JSON.stringify(r.getSaveObject()))},this.saveToLocalStorageIfPossible=d;function R(){var I=r.getRoot();I.width+=1,an.defer(function(){I.width-=1})}o.parent||R()};ai.toggleHide=function(){q_=!q_,an.each(dw,function(m){m.domElement.style.display=q_?"none":""})},ai.CLASS_AUTO_PLACE="a",ai.CLASS_AUTO_PLACE_CONTAINER="ac",ai.CLASS_MAIN="main",ai.CLASS_CONTROLLER_ROW="cr",ai.CLASS_TOO_TALL="taller-than-window",ai.CLASS_CLOSED="closed",ai.CLASS_CLOSE_BUTTON="close-button",ai.CLASS_CLOSE_TOP="close-top",ai.CLASS_CLOSE_BOTTOM="close-bottom",ai.CLASS_DRAG="drag",ai.DEFAULT_WIDTH=245,ai.TEXT_CLOSED="Close Controls",ai.TEXT_OPEN="Open Controls",ai._keydownHandler=function(m){document.activeElement.type!=="text"&&(m.which===lw||m.keyCode===lw)&&ai.toggleHide()},Ft.bind(window,"keydown",ai._keydownHandler,!1),an.extend(ai.prototype,{add:function(t,r){return Pf(this,t,r,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,r){return Pf(this,t,r,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var r=this;an.defer(function(){r.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&qu.removeChild(this.domElement);var t=this;an.each(this.__folders,function(r){t.removeFolder(r)}),Ft.unbind(window,"keydown",ai._keydownHandler,!1),fw(this)},addFolder:function(t){if(this.__folders[t]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+t+'"');var r={name:t,parent:this};r.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(r.closed=this.load.folders[t].closed,r.load=this.load.folders[t]);var o=new ai(r);this.__folders[t]=o;var l=Y_(this,o.domElement);return Ft.addClass(l,"folder"),o},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],fw(t);var r=this;an.each(t.__folders,function(o){t.removeFolder(o)}),an.defer(function(){r.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var t=this.getRoot();if(t.scrollable){var r=Ft.getOffset(t.__ul).top,o=0;an.each(t.__ul.childNodes,function(l){t.autoPlace&&l===t.__save_row||(o+=Ft.getHeight(l))}),window.innerHeight-r-cw<o?(Ft.addClass(t.domElement,ai.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-r-cw+"px"):(Ft.removeClass(t.domElement,ai.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&an.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:an.debounce(function(){this.onResize()},50),remember:function(){if(an.isUndefined(Tf)&&(Tf=new DL,Tf.domElement.innerHTML=RL),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;an.each(Array.prototype.slice.call(arguments),function(r){t.__rememberedObjects.length===0&&LL(t),t.__rememberedObjects.indexOf(r)===-1&&t.__rememberedObjects.push(r)}),this.autoPlace&&eA(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=om(this)),t.folders={},an.each(this.__folders,function(r,o){t.folders[o]=r.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=om(this),J_(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[xf]=om(this,!0)),this.load.remembered[t]=om(this),this.preset=t,Z_(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){an.each(this.__controllers,function(r){this.getRoot().load.remembered?hw(t||this.getRoot(),r):r.setValue(r.initialValue),r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())},this),an.each(this.__folders,function(r){r.revert(r)}),t||J_(this.getRoot(),!1)},listen:function(t){var r=this.__listening.length===0;this.__listening.push(t),r&&mw(this.__listening)},updateDisplay:function(){an.each(this.__controllers,function(t){t.updateDisplay()}),an.each(this.__folders,function(t){t.updateDisplay()})}});function Y_(m,t,r){var o=document.createElement("li");return t&&o.appendChild(t),r?m.__ul.insertBefore(o,r):m.__ul.appendChild(o),m.onResize(),o}function fw(m){Ft.unbind(window,"resize",m.__resizeHandler),m.saveToLocalStorageIfPossible&&Ft.unbind(window,"unload",m.saveToLocalStorageIfPossible)}function J_(m,t){var r=m.__preset_select[m.__preset_select.selectedIndex];t?r.innerHTML=r.value+"*":r.innerHTML=r.value}function kL(m,t,r){if(r.__li=t,r.__gui=m,an.extend(r,{options:function(g){if(arguments.length>1){var v=r.__li.nextElementSibling;return r.remove(),Pf(m,r.object,r.property,{before:v,factoryArgs:[an.toArray(arguments)]})}if(an.isArray(g)||an.isObject(g)){var A=r.__li.nextElementSibling;return r.remove(),Pf(m,r.object,r.property,{before:A,factoryArgs:[g]})}},name:function(g){return r.__li.firstElementChild.firstElementChild.innerHTML=g,r},listen:function(){return r.__gui.listen(r),r},remove:function(){return r.__gui.remove(r),r}}),r instanceof K_){var o=new sm(r.object,r.property,{min:r.__min,max:r.__max,step:r.__step});an.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(d){var g=r[d],v=o[d];r[d]=o[d]=function(){var A=Array.prototype.slice.call(arguments);return v.apply(o,A),g.apply(r,A)}}),Ft.addClass(t,"has-slider"),r.domElement.insertBefore(o.domElement,r.domElement.firstElementChild)}else if(r instanceof sm){var l=function(g){if(an.isNumber(r.__min)&&an.isNumber(r.__max)){var v=r.__li.firstElementChild.firstElementChild.innerHTML,A=r.__gui.__listening.indexOf(r)>-1;r.remove();var E=Pf(m,r.object,r.property,{before:r.__li.nextElementSibling,factoryArgs:[r.__min,r.__max,r.__step]});return E.name(v),A&&E.listen(),E}return g};r.min=an.compose(l,r.min),r.max=an.compose(l,r.max)}else r instanceof tw?(Ft.bind(t,"click",function(){Ft.fakeEvent(r.__checkbox,"click")}),Ft.bind(r.__checkbox,"click",function(d){d.stopPropagation()})):r instanceof sw?(Ft.bind(t,"click",function(){Ft.fakeEvent(r.__button,"click")}),Ft.bind(t,"mouseover",function(){Ft.addClass(r.__button,"hover")}),Ft.bind(t,"mouseout",function(){Ft.removeClass(r.__button,"hover")})):r instanceof j_&&(Ft.addClass(t,"color"),r.updateDisplay=an.compose(function(d){return t.style.borderLeftColor=r.__color.toString(),d},r.updateDisplay),r.updateDisplay());r.setValue=an.compose(function(d){return m.getRoot().__preset_select&&r.isModified()&&J_(m.getRoot(),!0),d},r.setValue)}function hw(m,t){var r=m.getRoot(),o=r.__rememberedObjects.indexOf(t.object);if(o!==-1){var l=r.__rememberedObjectIndecesToControllers[o];if(l===void 0&&(l={},r.__rememberedObjectIndecesToControllers[o]=l),l[t.property]=t,r.load&&r.load.remembered){var d=r.load.remembered,g=void 0;if(d[m.preset])g=d[m.preset];else if(d[xf])g=d[xf];else return;if(g[o]&&g[o][t.property]!==void 0){var v=g[o][t.property];t.initialValue=v,t.setValue(v)}}}}function Pf(m,t,r,o){if(t[r]===void 0)throw new Error('Object "'+t+'" has no property "'+r+'"');var l=void 0;if(o.color)l=new j_(t,r);else{var d=[t,r].concat(o.factoryArgs);l=TL.apply(m,d)}o.before instanceof Cc&&(o.before=o.before.__li),hw(m,l),Ft.addClass(l.domElement,"c");var g=document.createElement("span");Ft.addClass(g,"property-name"),g.innerHTML=l.property;var v=document.createElement("div");v.appendChild(g),v.appendChild(l.domElement);var A=Y_(m,v,o.before);return Ft.addClass(A,ai.CLASS_CONTROLLER_ROW),l instanceof j_?Ft.addClass(A,"color"):Ft.addClass(A,yL(l.getValue())),kL(m,A,l),m.__controllers.push(l),l}function Yu(m,t){return document.location.href+"."+t}function Z_(m,t,r){var o=document.createElement("option");o.innerHTML=t,o.value=t,m.__preset_select.appendChild(o),r&&(m.__preset_select.selectedIndex=m.__preset_select.length-1)}function pw(m,t){t.style.display=m.useLocalStorage?"block":"none"}function LL(m){var t=m.__save_row=document.createElement("li");Ft.addClass(m.domElement,"has-save"),m.__ul.insertBefore(t,m.__ul.firstChild),Ft.addClass(t,"save-row");var r=document.createElement("span");r.innerHTML="&nbsp;",Ft.addClass(r,"button gears");var o=document.createElement("span");o.innerHTML="Save",Ft.addClass(o,"button"),Ft.addClass(o,"save");var l=document.createElement("span");l.innerHTML="New",Ft.addClass(l,"button"),Ft.addClass(l,"save-as");var d=document.createElement("span");d.innerHTML="Revert",Ft.addClass(d,"button"),Ft.addClass(d,"revert");var g=m.__preset_select=document.createElement("select");if(m.load&&m.load.remembered?an.each(m.load.remembered,function(I,P){Z_(m,P,P===m.preset)}):Z_(m,xf,!1),Ft.bind(g,"change",function(){for(var I=0;I<m.__preset_select.length;I++)m.__preset_select[I].innerHTML=m.__preset_select[I].value;m.preset=this.value}),t.appendChild(g),t.appendChild(r),t.appendChild(o),t.appendChild(l),t.appendChild(d),Rf){var v=document.getElementById("dg-local-explain"),A=document.getElementById("dg-local-storage"),E=document.getElementById("dg-save-locally");E.style.display="block",localStorage.getItem(Yu(m,"isLocal"))==="true"&&A.setAttribute("checked","checked"),pw(m,v),Ft.bind(A,"change",function(){m.useLocalStorage=!m.useLocalStorage,pw(m,v)})}var R=document.getElementById("dg-new-constructor");Ft.bind(R,"keydown",function(I){I.metaKey&&(I.which===67||I.keyCode===67)&&Tf.hide()}),Ft.bind(r,"click",function(){R.innerHTML=JSON.stringify(m.getSaveObject(),void 0,2),Tf.show(),R.focus(),R.select()}),Ft.bind(o,"click",function(){m.save()}),Ft.bind(l,"click",function(){var I=prompt("Enter a new preset name.");I&&m.saveAs(I)}),Ft.bind(d,"click",function(){m.revert()})}function OL(m){var t=void 0;m.__resize_handle=document.createElement("div"),an.extend(m.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function r(d){return d.preventDefault(),m.width+=t-d.clientX,m.onResize(),t=d.clientX,!1}function o(){Ft.removeClass(m.__closeButton,ai.CLASS_DRAG),Ft.unbind(window,"mousemove",r),Ft.unbind(window,"mouseup",o)}function l(d){return d.preventDefault(),t=d.clientX,Ft.addClass(m.__closeButton,ai.CLASS_DRAG),Ft.bind(window,"mousemove",r),Ft.bind(window,"mouseup",o),!1}Ft.bind(m.__resize_handle,"mousedown",l),Ft.bind(m.__closeButton,"mousedown",l),m.domElement.insertBefore(m.__resize_handle,m.domElement.firstElementChild)}function eA(m,t){m.domElement.style.width=t+"px",m.__save_row&&m.autoPlace&&(m.__save_row.style.width=t+"px"),m.__closeButton&&(m.__closeButton.style.width=t+"px")}function om(m,t){var r={};return an.each(m.__rememberedObjects,function(o,l){var d={},g=m.__rememberedObjectIndecesToControllers[l];an.each(g,function(v,A){d[A]=t?v.initialValue:v.getValue()}),r[l]=d}),r}function FL(m){for(var t=0;t<m.__preset_select.length;t++)m.__preset_select[t].value===m.preset&&(m.__preset_select.selectedIndex=t)}function mw(m){m.length!==0&&NL.call(window,function(){mw(m)}),an.each(m,function(t){t.updateDisplay()})}var Nf=ai,VL=new YE,GL,bs;new C_(5,6,30),new na({transparent:!0,side:$});function UL(m,t,r,o){var l,d,g=t.loadingContainer,v=t.progress,A=m.split("/").pop();VL.load(m,function(E){zL(o),E.axisOrder=["x","y","z"];var R=E.RASDimensions,I=E.dimensions,P=E.spacing,B=Math.floor(I[2]/2),V=Math.floor(I[1]/2),O=Math.floor(I[0]/2),k=E.extractSlice("z",B*P[2]),H=E.extractSlice("y",V*P[1]),W=E.extractSlice("x",O*P[0]);k.initIndex=B,H.initIndex=V,W.initIndex=O,k.MaxIndex=I[2]-1,H.MaxIndex=I[1]-1,W.MaxIndex=I[0]-1,k.RSARatio=P[2],H.RSARatio=P[1],W.RSARatio=P[0],k.RSAMaxIndex=R[2]-1,H.RSAMaxIndex=R[1]-1,W.RSAMaxIndex=R[0]-1,l={x:W.mesh,y:H.mesh,z:k.mesh},d={x:W,y:H,z:k},bs&&(bs.add(W,"index",0,E.RASDimensions[0],1).name("indexX").onChange(function(){W.repaint.call(W)}),bs.add(H,"index",0,E.RASDimensions[1],1).name("indexY").onChange(function(){H.repaint.call(H)}),bs.add(k,"index",0,E.RASDimensions[2]-1,1).name("indexZ").onChange(function(){k.repaint.call(k)}),bs.add(E,"lowerThreshold",E.min,E.max,1).name("Lower Threshold").onChange(function(){E.repaintAllSlices()}),bs.add(E,"upperThreshold",E.min,E.max,1).name("Upper Threshold").onChange(function(){E.repaintAllSlices()}),bs.add(E,"windowLow",E.min,E.max,1).name("Window Low").onChange(function(){E.repaintAllSlices()}),bs.add(E,"windowHigh",E.min,E.max,1).name("Window High").onChange(function(){E.repaintAllSlices()})),bs?r&&r(E,l,d,bs):r&&r(E,l,d)},function(E){g.style.display="flex",v.innerText="File: ".concat(A," ").concat(Math.ceil(E.loaded/E.total*100)," % loaded"),E.loaded/E.total===1&&(g.style.display="none")})}function HL(m,t,r,o){var l={clim1:0,clim2:1,renderStyle:"iso",isothreshold:-.15,colormap:"viridis"},d=xE(),g=d.loadingContainer,v=d.progress;r.appendChild(g);var A,E,R;new YE().load(m,function(I){I.axisOrder=["x","y","z"];var P=I.data.byteLength/I.data.length===2;I.lowerThreshold=19,I.upperThreshold=498,I.windowLow=0,I.windowHigh=354;var B=P?$L(I.data,0,I.data.length):I.data,V=new zv(B,I.xLength,I.yLength,I.zLength);V.format=ul,V.type=ei,V.minFilter=V.magFilter=pr,V.unpackAlignment=1,V.needsUpdate=!0,A={viridis:new I_().load(vL),gray:new I_().load(gL)};var O=mL,k=mS.clone(O.uniforms);k.u_data.value=V,k.u_size.value.set(I.xLength,I.yLength,I.zLength),k.u_clim.value.set(l.clim1,l.clim2),k.u_renderstyle.value=l.renderStyle==="mip"?0:1,k.u_renderthreshold.value=l.isothreshold,k.u_cmdata.value=A[l.colormap],E=new Mo({uniforms:k,vertexShader:O.vertexShader,fragmentShader:O.fragmentShader,side:U});var H=new vc(I.xLength,I.yLength,I.zLength);H.translate(I.xLength/2-.5,I.yLength/2-.5,I.zLength/2-.5),R=new Fi(H,E);var W=new CE(R);t.add(W),W.applyMatrix4(I.matrix),t.add(R);var J=new Nf;J.add(l,"clim1",-1,1,.01).onChange(te),J.add(l,"clim2",-1,1,.01).onChange(te),J.add(l,"colormap",{gray:"gray",viridis:"viridis"}).onChange(te),J.add(l,"renderStyle",{mip:"mip",iso:"iso"}).onChange(te),J.add(l,"isothreshold",-1,1,.01).onChange(te);function te(){E.uniforms.u_clim.value.set(l.clim1,l.clim2),E.uniforms.u_renderstyle.value=l.renderStyle=="mip"?0:1,E.uniforms.u_renderthreshold.value=l.isothreshold,E.uniforms.u_cmdata.value=A[l.colormap]}o&&o(I,J)},function(I){g.style.display="flex",v.innerText="".concat(Math.ceil(I.loaded/I.total*100)," % loaded"),I.loaded/I.total===1&&(g.style.display="none")})}function QL(m,t,r,o){var l=0;m.x.volume.RASDimensions[0],m.y.volume.RASDimensions[1];var d=m.z.volume.RASDimensions[2];new Ls,t.add(m.z.mesh);var g=!0;function v(){requestAnimationFrame(v),l<0&&(l=0,g=!0),l>d&&(l=d,g=!1),setTimeout(function(){m.z.index=l,m.z.repaint(m.z),m.z.mesh.position.set(0,0,.5)},100),g?l++:l--}v();var A={indexX:0};r.add(A,"indexX",0,50,1).name("indexZ").onChange(function(E){o.enabled=!1}),r.add(o,"enabled").name("controls")}function XL(m,t,r){var o;r?o=r:o=GL;var l=new CE(o);m.addObject(l),l.applyMatrix4(t.matrix)}function zL(m){m&&m.openGui&&(m.container?(bs=new Nf({width:260,autoPlace:!1}),m.container.appendChild(bs.domElement)):(bs=new Nf,bs.closed=!0))}function $L(m,t,r){for(var o=new Float32Array(m.length-t),l=t;l<r;l++){var d=m[l],g=d>=32768?-(65536-d)/32768:d/32767;o[l]=g}return o}var gw=new m4,ka,Ic;function WL(m,t,r,o){var l=new na({wireframe:!0,color:65382}),d={},g="";r.forEach(function(A){d[A.name]=A.material});var v=function(A){var E=new Fn(A.offsetX,A.offsetY);ka=vw(m,t,r,E.x,E.y),ka.length>0?Ic=ka[0].object:(Ic=null,g="",o(void 0)),r.forEach(function(R,I){Ic&&Ic.name===R.name?g!=R.name&&(g=R.name,r[I].material=l,o(r[I])):r[I].material=d[R.name]})};t.addEventListener("mousemove",am(v,80),!1)}function am(m,t){var r=0;return function(o){var l=Date.now();l-r>t&&(m.call(null,o),r=l)}}function vw(m,t,r,o,l){return gw.setFromCamera({x:o/t.clientWidth*2-1,y:-(l/t.clientHeight)*2+1},m),ka=gw.intersectObjects(r,!1),ka}function KL(m,t,r,o){return ka=vw(m,t,r,o.x,o.y),ka.length>0?Ic=ka[0].object:Ic=null,{intersectedObject:Ic,intersects:ka}}var _w=function(){function m(t){this.subDiv=null,this.subScene=new zp,this.subCamera=null,this.subRender=null,this.subCopperControl=null,this.sort=!0,this.depthStep=.4,this.pickableObjects=[],this.container=t,this.scene=new zp,this.camera=new Yi(75,t.clientWidth/t.clientHeight,.1,500),this.preRenderCallbackFunctions={index:0,cache:{},add:function(r){if(!r.id){r.id=++this.index,this.cache[r.id]=r;return}}}}return m.prototype.createDemoMesh=function(){var t=new vc,r=new V8({color:16711935,wireframe:!0}),o=new Fi(t,r);this.scene.add(o),this.scene.add(new g4(5))},m.prototype.addObject=function(t){this.scene.add(t)},m.prototype.setDepth=function(t){this.depthStep=t},m.prototype.setDicomFilesOrder=function(t){t==="ascending"?this.sort=!0:t==="descending"&&(this.sort=!1)},m.prototype.addPreRenderCallbackFunction=function(t){this.preRenderCallbackFunctions.add(t);var r=this.preRenderCallbackFunctions.index;return r},m.prototype.pickModel=function(t,r,o){var l=this;t.traverse(function(d){if(d.isMesh){var g=d;o&&o.includes(g.name)||l.pickableObjects.push(g)}}),WL(this.camera,this.container,this.pickableObjects,r)},m.prototype.addSubView=function(){this.subDiv=document.createElement("div"),this.container.appendChild(this.subDiv),this.subDiv.classList.add("copper3D_sub_axes");var t=this.subDiv,r=t.clientWidth,o=t.clientHeight;return this.subCamera=new Yi(50,r/o,.1,10),this.subScene.add(this.subCamera),this.subCopperControl=new D_(this.subCamera),this.subRender=new Xp({alpha:!0}),this.subRender.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.subRender.setSize(this.subDiv.clientWidth,this.subDiv.clientWidth),this.subCamera.up=this.camera.up,this.subDiv.appendChild(this.subRender.domElement),this.subDiv},m.prototype.loadDicom=function(t,r){var o=this,l;if(r&&(l=r.gui),Array.isArray(t)){var d=t.length,g=[],v=[],A=[];t.forEach(function(I){PE(I,function(P){if(g.push(P),g.length===d){g.sort(function(H,W){return o.sort?H.order-W.order:W.order-H.order}),g.forEach(function(H){v.push(H.uint8),A.push(H.uint16)});var B=new Uint8ClampedArray(P.width*P.height*d),V=new Uint16Array(B.length),O=0,k=0;v.forEach(function(H,W){O=W*P.width*P.height;for(var J=0;J<H.length;J++)B[J+O]=H[J]}),A.forEach(function(H,W){k=W*P.width*P.height;for(var J=0;J<H.length;J++)V[J+k]=H[J]}),P.uint8=B,P.uint16=V,E(P)}})});var E=function(I){l&&l.add(o,"depthStep").min(.01).max(1).step(.01);var P=HE(I,d,o.scene,l),B=P.material.uniforms.depth.value,V=function(){r!=null&&r.setAnimation?B=r.setAnimation(B,d,o.depthStep):(B+=o.depthStep,(B>d||B<0)&&(B>1&&(B=d*2-B),B<0&&(B=-B),o.depthStep=-o.depthStep)),P.material.uniforms.depth.value=B};o.addPreRenderCallbackFunction(V)}}else{var R=t;PE(R,function(I){HE(I,1,o.scene)})}},m.prototype.loadNrrd=function(t,r,o,l){UL(t,r,o,l)},m}(),jL=ME(),tA=function(m){h(t,m);function t(r,o){var l=m.call(this,r)||this;return l.sceneName="",l.cameraPositionFlag=!1,l.content=new Ls,l.exportContent=new Ls,l.isHalfed=!1,l.viewPoint=new Al,l.color1="#5454ad",l.color2="#18e5a7",l.lights=[],l.onWindowResize=function(){l.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),l.camera.aspect=l.container.clientWidth/l.container.clientHeight,l.camera.updateProjectionMatrix(),l.vignette.style({aspect:l.camera.aspect}),l.renderer.setSize(l.container.clientWidth,l.container.clientHeight)},l.renderer=o,l.ambientLight=new yE(2105376,.3),l.directionalLight=new R_(16777215,.3),l.vignette=IE({aspect:l.container.clientWidth/l.container.clientHeight,grainScale:jL?0:.001,colors:[l.color1,l.color2]}),l.vignette.mesh.name="Vignette",l.vignette.mesh.renderOrder=-1,l.copperControl=new D_(l.camera),l.init(),l}return t.prototype.init=function(){this.copperControl.setCameraViewPoint(),this.camera.position.z=2,this.scene.add(this.camera),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.addLights()},t.prototype.loadMetadataUrl=function(r){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState==4&&o.status==200){var l=JSON.parse(o.responseText),d=l.length;d===1||d>1||console.error("Empty metadata!")}},o.open("GET",r,!0),o.send()},t.prototype.loadViewUrl=function(r){var o=this,l=new XMLHttpRequest;l.onreadystatechange=function(){if(l.readyState==4&&l.status==200){var d=JSON.parse(l.responseText);o.loadView(d)}},l.open("GET",r,!0),l.send()},t.prototype.loadView=function(r){this.cameraPositionFlag=!0,this.viewPoint=r;var o=new Al;o.farPlane=r.farPlane,o.nearPlane=r.nearPlane,o.eyePosition=r.eyePosition,o.targetPosition=r.targetPosition,o.upVector=r.upVector,this.copperControl.updateCameraViewPoint(o)},t.prototype.getDefaultViewPoint=function(){return this.viewPoint},t.prototype.setViewPoint=function(r,o){var l=new Al;return l.farPlane=r.far,l.nearPlane=r.near,l.eyePosition=[r.position.x,r.position.y,r.position.z],o?l.targetPosition=[o[0],o[1],o[2]]:l.targetPosition=[0,0,0],l.upVector=[r.up.x,r.up.y,r.up.z],l},t.prototype.addObject=function(r){this.scene.add(r)},t.prototype.addLights=function(){var r=new mE;r.name="hemi_light",this.scene.add(r),this.ambientLight.name="ambient_light",this.directionalLight.name="main_light",this.directionalLight.position.set(.5,0,.866),this.camera.add(this.ambientLight),this.camera.add(this.directionalLight),this.lights.push(this.ambientLight),this.lights.push(this.directionalLight),this.lights.push(r)},t.prototype.removeLights=function(){this.lights&&(this.lights.forEach(function(r){return r.parent.remove(r)}),this.lights.length=0)},t.prototype.updateLights=function(r){var o=this.lights;r.addLights&&!o.length?this.addLights():!r.addLights&&o.length&&this.removeLights(),o.length===3&&(o[0].intensity=r.ambientIntensity,o[0].color.setHex(r.ambientColor),o[1].intensity=r.directIntensity,o[1].color.setHex(r.directColor))},t.prototype.updateDisplay=function(r){E4(this.content,function(o){o.wireframe=r.wireframe})},t.prototype.updateBackground=function(r,o){this.vignette.style({colors:[r,o]})},t.prototype.updateModelChildrenVisualisation=function(r){r.visible=!r.visible;var o=[];this.content.traverse(function(l){o.push(l.visible)}),o.includes(!1)?this.isHalfed=!0:this.isHalfed=!1},t.prototype.render=function(){this.renderer.render(this.scene,this.camera)},t}(_w),qL="",YL="";function JL(m){nA[1].path=m}var nA=[{id:"",name:"None",path:null,format:".hdr"},{id:"venice-sunset",name:"Venice Sunset",path:YL,format:".hdr"},{id:"footprint-court",name:"Footprint Court (HDR Labs)",path:qL,format:".hdr"}];class Aw extends j8{constructor(t){super(t),this.type=Di}parse(t){const v=function(J,te){switch(J){case 1:console.error("THREE.RGBELoader Read Error: "+(te||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(te||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(te||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(te||""))}return-1},I=`
`,P=function(J,te,j){te=te||1024;let Ae=J.pos,q=-1,ge=0,we="",Fe=String.fromCharCode.apply(null,new Uint16Array(J.subarray(Ae,Ae+128)));for(;0>(q=Fe.indexOf(I))&&ge<te&&Ae<J.byteLength;)we+=Fe,ge+=Fe.length,Ae+=128,Fe+=String.fromCharCode.apply(null,new Uint16Array(J.subarray(Ae,Ae+128)));return-1<q?(j!==!1&&(J.pos+=ge+q+1),we+Fe.slice(0,q)):!1},B=function(J){const te=/^#\?(\S+)/,j=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,ne=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Ae=/^\s*FORMAT=(\S+)\s*$/,q=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,ge={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let we,Fe;if(J.pos>=J.byteLength||!(we=P(J)))return v(1,"no header found");if(!(Fe=we.match(te)))return v(3,"bad initial token");for(ge.valid|=1,ge.programtype=Fe[1],ge.string+=we+`
`;we=P(J),we!==!1;){if(ge.string+=we+`
`,we.charAt(0)==="#"){ge.comments+=we+`
`;continue}if((Fe=we.match(j))&&(ge.gamma=parseFloat(Fe[1])),(Fe=we.match(ne))&&(ge.exposure=parseFloat(Fe[1])),(Fe=we.match(Ae))&&(ge.valid|=2,ge.format=Fe[1]),(Fe=we.match(q))&&(ge.valid|=4,ge.height=parseInt(Fe[1],10),ge.width=parseInt(Fe[2],10)),ge.valid&2&&ge.valid&4)break}return ge.valid&2?ge.valid&4?ge:v(3,"missing image size specifier"):v(3,"missing format specifier")},V=function(J,te,j){const ne=te;if(ne<8||ne>32767||J[0]!==2||J[1]!==2||J[2]&128)return new Uint8Array(J);if(ne!==(J[2]<<8|J[3]))return v(3,"wrong scanline width");const Ae=new Uint8Array(4*te*j);if(!Ae.length)return v(4,"unable to allocate buffer space");let q=0,ge=0;const we=4*ne,Fe=new Uint8Array(4),tt=new Uint8Array(we);let Pe=j;for(;Pe>0&&ge<J.byteLength;){if(ge+4>J.byteLength)return v(1);if(Fe[0]=J[ge++],Fe[1]=J[ge++],Fe[2]=J[ge++],Fe[3]=J[ge++],Fe[0]!=2||Fe[1]!=2||(Fe[2]<<8|Fe[3])!=ne)return v(3,"bad rgbe scanline format");let Oe=0,st;for(;Oe<we&&ge<J.byteLength;){st=J[ge++];const dt=st>128;if(dt&&(st-=128),st===0||Oe+st>we)return v(3,"bad scanline data");if(dt){const Le=J[ge++];for(let Ze=0;Ze<st;Ze++)tt[Oe++]=Le}else tt.set(J.subarray(ge,ge+st),Oe),Oe+=st,ge+=st}const ht=ne;for(let dt=0;dt<ht;dt++){let Le=0;Ae[q]=tt[dt+Le],Le+=ne,Ae[q+1]=tt[dt+Le],Le+=ne,Ae[q+2]=tt[dt+Le],Le+=ne,Ae[q+3]=tt[dt+Le],q+=4}Pe--}return Ae},O=function(J,te,j,ne){const Ae=J[te+3],q=Math.pow(2,Ae-128)/255;j[ne+0]=J[te+0]*q,j[ne+1]=J[te+1]*q,j[ne+2]=J[te+2]*q,j[ne+3]=1},k=function(J,te,j,ne){const Ae=J[te+3],q=Math.pow(2,Ae-128)/255;j[ne+0]=nm.toHalfFloat(Math.min(J[te+0]*q,65504)),j[ne+1]=nm.toHalfFloat(Math.min(J[te+1]*q,65504)),j[ne+2]=nm.toHalfFloat(Math.min(J[te+2]*q,65504)),j[ne+3]=nm.toHalfFloat(1)},H=new Uint8Array(t);H.pos=0;const W=B(H);if(W!==-1){const J=W.width,te=W.height,j=V(H.subarray(H.pos),J,te);if(j!==-1){let ne,Ae,q;switch(this.type){case ei:q=j.length/4;const ge=new Float32Array(q*4);for(let Fe=0;Fe<q;Fe++)O(j,Fe*4,ge,Fe*4);ne=ge,Ae=ei;break;case Di:q=j.length/4;const we=new Uint16Array(q*4);for(let Fe=0;Fe<q;Fe++)k(j,Fe*4,we,Fe*4);ne=we,Ae=Di;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:J,height:te,data:ne,header:W.string,gamma:W.gamma,exposure:W.exposure,type:Ae}}}return null}setDataType(t){return this.type=t,this}load(t,r,o,l){function d(g,v){switch(g.type){case ei:case Di:g.encoding=bo,g.minFilter=pr,g.magFilter=pr,g.generateMipmaps=!1,g.flipY=!0;break}r&&r(g,v)}return super.load(t,d,o,l)}}var Df=function(){var m=0,t=document.createElement("div");t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",function(R){R.preventDefault(),o(++m%t.children.length)},!1);function r(R){return t.appendChild(R.dom),R}function o(R){for(var I=0;I<t.children.length;I++)t.children[I].style.display=I===R?"block":"none";m=R}var l=(performance||Date).now(),d=l,g=0,v=r(new Df.Panel("FPS","#0ff","#002")),A=r(new Df.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var E=r(new Df.Panel("MB","#f08","#201"));return o(0),{REVISION:16,dom:t,addPanel:r,showPanel:o,begin:function(){l=(performance||Date).now()},end:function(){g++;var R=(performance||Date).now();if(A.update(R-l,200),R>=d+1e3&&(v.update(g*1e3/(R-d),100),d=R,g=0,E)){var I=performance.memory;E.update(I.usedJSHeapSize/1048576,I.jsHeapSizeLimit/1048576)}return R},update:function(){l=this.end()},domElement:t,setMode:o}};Df.Panel=function(m,t,r){var o=1/0,l=0,d=Math.round,g=d(window.devicePixelRatio||1),v=80*g,A=48*g,E=3*g,R=2*g,I=3*g,P=15*g,B=74*g,V=30*g,O=document.createElement("canvas");O.width=v,O.height=A,O.style.cssText="width:80px;height:48px";var k=O.getContext("2d");return k.font="bold "+9*g+"px Helvetica,Arial,sans-serif",k.textBaseline="top",k.fillStyle=r,k.fillRect(0,0,v,A),k.fillStyle=t,k.fillText(m,E,R),k.fillRect(I,P,B,V),k.fillStyle=r,k.globalAlpha=.9,k.fillRect(I,P,B,V),{dom:O,update:function(H,W){o=Math.min(o,H),l=Math.max(l,H),k.fillStyle=r,k.globalAlpha=1,k.fillRect(0,0,v,P),k.fillStyle=t,k.fillText(d(H)+" "+m+" ("+d(o)+"-"+d(l)+")",E,R),k.drawImage(O,I+g,P,B-g,V,I,P,B-g,V),k.fillRect(I+B-g,P,g,V),k.fillStyle=r,k.globalAlpha=.9,k.fillRect(I+B-g,P,g,d((1-H/W)*V))}}};var ZL=Df;class rA{constructor(){this.pluginCallbacks=[],this.register(function(t){return new lO(t)}),this.register(function(t){return new cO(t)}),this.register(function(t){return new uO(t)}),this.register(function(t){return new hO(t)}),this.register(function(t){return new pO(t)}),this.register(function(t){return new dO(t)}),this.register(function(t){return new fO(t)})}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,r,o,l){const d=new aO,g=[];for(let v=0,A=this.pluginCallbacks.length;v<A;v++)g.push(this.pluginCallbacks[v](d));d.setPlugins(g),d.write(t,r,l).catch(o)}parseAsync(t,r){const o=this;return new Promise(function(l,d){o.parse(t,l,d,r)})}}const qr={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,FLOAT:5126,UNSIGNED_INT:5125,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},Vs={};Vs[Mt]=qr.NEAREST,Vs[Wn]=qr.NEAREST_MIPMAP_NEAREST,Vs[Ir]=qr.NEAREST_MIPMAP_LINEAR,Vs[pr]=qr.LINEAR,Vs[oi]=qr.LINEAR_MIPMAP_NEAREST,Vs[zn]=qr.LINEAR_MIPMAP_LINEAR,Vs[Qe]=qr.CLAMP_TO_EDGE,Vs[Ee]=qr.REPEAT,Vs[Et]=qr.MIRRORED_REPEAT;const yw={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},bw=12,eO=1179937895,tO=2,Sw=8,nO=1313821514,rO=5130562;function Bf(m,t){return m.length===t.length&&m.every(function(r,o){return r===t[o]})}function iO(m){return new TextEncoder().encode(m).buffer}function sO(m){return Bf(m.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function oO(m,t,r){const o={min:new Array(m.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(m.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let l=t;l<t+r;l++)for(let d=0;d<m.itemSize;d++){let g;m.itemSize>4?g=m.array[l*m.itemSize+d]:d===0?g=m.getX(l):d===1?g=m.getY(l):d===2?g=m.getZ(l):d===3&&(g=m.getW(l)),o.min[d]=Math.min(o.min[d],g),o.max[d]=Math.max(o.max[d],g)}return o}function Ew(m){return Math.ceil(m/4)*4}function iA(m,t=0){const r=Ew(m.byteLength);if(r!==m.byteLength){const o=new Uint8Array(r);if(o.set(new Uint8Array(m)),t!==0)for(let l=m.byteLength;l<r;l++)o[l]=t;return o.buffer}return m}function ww(){return typeof document>"u"&&typeof OffscreenCanvas<"u"?new OffscreenCanvas(1,1):document.createElement("canvas")}function Cw(m,t){if(m.toBlob!==void 0)return new Promise(o=>m.toBlob(o,t));let r;return t==="image/jpeg"?r=.92:t==="image/webp"&&(r=.8),m.convertToBlob({type:t,quality:r})}class aO{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(t){this.plugins=t}async write(t,r,o){this.options=Object.assign({},{binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},o),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(t),await Promise.all(this.pending);const l=this,d=l.buffers,g=l.json;o=l.options;const v=l.extensionsUsed,A=new Blob(d,{type:"application/octet-stream"}),E=Object.keys(v);if(E.length>0&&(g.extensionsUsed=E),g.buffers&&g.buffers.length>0&&(g.buffers[0].byteLength=A.size),o.binary===!0){const R=new FileReader;R.readAsArrayBuffer(A),R.onloadend=function(){const I=iA(R.result),P=new DataView(new ArrayBuffer(Sw));P.setUint32(0,I.byteLength,!0),P.setUint32(4,rO,!0);const B=iA(iO(JSON.stringify(g)),32),V=new DataView(new ArrayBuffer(Sw));V.setUint32(0,B.byteLength,!0),V.setUint32(4,nO,!0);const O=new ArrayBuffer(bw),k=new DataView(O);k.setUint32(0,eO,!0),k.setUint32(4,tO,!0);const H=bw+V.byteLength+B.byteLength+P.byteLength+I.byteLength;k.setUint32(8,H,!0);const W=new Blob([O,V,B,P,I],{type:"application/octet-stream"}),J=new FileReader;J.readAsArrayBuffer(W),J.onloadend=function(){r(J.result)}}}else if(g.buffers&&g.buffers.length>0){const R=new FileReader;R.readAsDataURL(A),R.onloadend=function(){const I=R.result;g.buffers[0].uri=I,r(g)}}else r(g)}serializeUserData(t,r){if(Object.keys(t.userData).length===0)return;const o=this.options,l=this.extensionsUsed;try{const d=JSON.parse(JSON.stringify(t.userData));if(o.includeCustomExtensions&&d.gltfExtensions){r.extensions===void 0&&(r.extensions={});for(const g in d.gltfExtensions)r.extensions[g]=d.gltfExtensions[g],l[g]=!0;delete d.gltfExtensions}Object.keys(d).length>0&&(r.extras=d)}catch(d){console.warn("THREE.GLTFExporter: userData of '"+t.name+"' won't be serialized because of JSON.stringify error - "+d.message)}}getUID(t,r=!1){if(this.uids.has(t)===!1){const l=new Map;l.set(!0,this.uid++),l.set(!1,this.uid++),this.uids.set(t,l)}return this.uids.get(t).get(r)}isNormalizedNormalAttribute(t){if(this.cache.attributesNormalized.has(t))return!1;const o=new et;for(let l=0,d=t.count;l<d;l++)if(Math.abs(o.fromBufferAttribute(t,l).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(t){const r=this.cache;if(r.attributesNormalized.has(t))return r.attributesNormalized.get(t);const o=t.clone(),l=new et;for(let d=0,g=o.count;d<g;d++)l.fromBufferAttribute(o,d),l.x===0&&l.y===0&&l.z===0?l.setX(1):l.normalize(),o.setXYZ(d,l.x,l.y,l.z);return r.attributesNormalized.set(t,o),o}applyTextureTransform(t,r){let o=!1;const l={};(r.offset.x!==0||r.offset.y!==0)&&(l.offset=r.offset.toArray(),o=!0),r.rotation!==0&&(l.rotation=r.rotation,o=!0),(r.repeat.x!==1||r.repeat.y!==1)&&(l.scale=r.repeat.toArray(),o=!0),o&&(t.extensions=t.extensions||{},t.extensions.KHR_texture_transform=l,this.extensionsUsed.KHR_texture_transform=!0)}buildMetalRoughTexture(t,r){if(t===r)return t;function o(B){return B.encoding===Or?function(O){return O<.04045?O*.0773993808:Math.pow(O*.9478672986+.0521327014,2.4)}:function(O){return O}}console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.");const l=t==null?void 0:t.image,d=r==null?void 0:r.image,g=Math.max((l==null?void 0:l.width)||0,(d==null?void 0:d.width)||0),v=Math.max((l==null?void 0:l.height)||0,(d==null?void 0:d.height)||0),A=ww();A.width=g,A.height=v;const E=A.getContext("2d");E.fillStyle="#00ffff",E.fillRect(0,0,g,v);const R=E.getImageData(0,0,g,v);if(l){E.drawImage(l,0,0,g,v);const B=o(t),V=E.getImageData(0,0,g,v).data;for(let O=2;O<V.length;O+=4)R.data[O]=B(V[O]/256)*256}if(d){E.drawImage(d,0,0,g,v);const B=o(r),V=E.getImageData(0,0,g,v).data;for(let O=1;O<V.length;O+=4)R.data[O]=B(V[O]/256)*256}E.putImageData(R,0,0);const P=(t||r).clone();return P.source=new Qv(A),P.encoding=bo,P}processBuffer(t){const r=this.json,o=this.buffers;return r.buffers||(r.buffers=[{byteLength:0}]),o.push(t),0}processBufferView(t,r,o,l,d){const g=this.json;g.bufferViews||(g.bufferViews=[]);let v;r===qr.UNSIGNED_BYTE?v=1:r===qr.UNSIGNED_SHORT?v=2:v=4;const A=Ew(l*t.itemSize*v),E=new DataView(new ArrayBuffer(A));let R=0;for(let B=o;B<o+l;B++)for(let V=0;V<t.itemSize;V++){let O;t.itemSize>4?O=t.array[B*t.itemSize+V]:V===0?O=t.getX(B):V===1?O=t.getY(B):V===2?O=t.getZ(B):V===3&&(O=t.getW(B)),r===qr.FLOAT?E.setFloat32(R,O,!0):r===qr.UNSIGNED_INT?E.setUint32(R,O,!0):r===qr.UNSIGNED_SHORT?E.setUint16(R,O,!0):r===qr.UNSIGNED_BYTE&&E.setUint8(R,O),R+=v}const I={buffer:this.processBuffer(E.buffer),byteOffset:this.byteOffset,byteLength:A};return d!==void 0&&(I.target=d),d===qr.ARRAY_BUFFER&&(I.byteStride=t.itemSize*v),this.byteOffset+=A,g.bufferViews.push(I),{id:g.bufferViews.length-1,byteLength:0}}processBufferViewImage(t){const r=this,o=r.json;return o.bufferViews||(o.bufferViews=[]),new Promise(function(l){const d=new FileReader;d.readAsArrayBuffer(t),d.onloadend=function(){const g=iA(d.result),v={buffer:r.processBuffer(g),byteOffset:r.byteOffset,byteLength:g.byteLength};r.byteOffset+=g.byteLength,l(o.bufferViews.push(v)-1)}})}processAccessor(t,r,o,l){const d=this.options,g=this.json,v={1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"};let A;if(t.array.constructor===Float32Array)A=qr.FLOAT;else if(t.array.constructor===Uint32Array)A=qr.UNSIGNED_INT;else if(t.array.constructor===Uint16Array)A=qr.UNSIGNED_SHORT;else if(t.array.constructor===Uint8Array)A=qr.UNSIGNED_BYTE;else throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");if(o===void 0&&(o=0),l===void 0&&(l=t.count),d.truncateDrawRange&&r!==void 0&&r.index===null){const B=o+l,V=r.drawRange.count===1/0?t.count:r.drawRange.start+r.drawRange.count;o=Math.max(o,r.drawRange.start),l=Math.min(B,V)-o,l<0&&(l=0)}if(l===0)return null;const E=oO(t,o,l);let R;r!==void 0&&(R=t===r.index?qr.ELEMENT_ARRAY_BUFFER:qr.ARRAY_BUFFER);const I=this.processBufferView(t,A,o,l,R),P={bufferView:I.id,byteOffset:I.byteOffset,componentType:A,count:l,max:E.max,min:E.min,type:v[t.itemSize]};return t.normalized===!0&&(P.normalized=!0),g.accessors||(g.accessors=[]),g.accessors.push(P)-1}processImage(t,r,o,l="image/png"){const d=this,g=d.cache,v=d.json,A=d.options,E=d.pending;g.images.has(t)||g.images.set(t,{});const R=g.images.get(t),I=l+":flipY/"+o.toString();if(R[I]!==void 0)return R[I];v.images||(v.images=[]);const P={mimeType:l},B=ww();B.width=Math.min(t.width,A.maxTextureSize),B.height=Math.min(t.height,A.maxTextureSize);const V=B.getContext("2d");if(o===!0&&(V.translate(0,B.height),V.scale(1,-1)),t.data!==void 0){r!==ji&&console.error("GLTFExporter: Only RGBAFormat is supported."),(t.width>A.maxTextureSize||t.height>A.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",t);const k=new Uint8ClampedArray(t.height*t.width*4);for(let H=0;H<k.length;H+=4)k[H+0]=t.data[H+0],k[H+1]=t.data[H+1],k[H+2]=t.data[H+2],k[H+3]=t.data[H+3];V.putImageData(new ImageData(k,t.width,t.height),0,0)}else V.drawImage(t,0,0,B.width,B.height);A.binary===!0?E.push(Cw(B,l).then(k=>d.processBufferViewImage(k)).then(k=>{P.bufferView=k})):B.toDataURL!==void 0?P.uri=B.toDataURL(l):E.push(Cw(B,l).then(k=>new FileReader().readAsDataURL(k)).then(k=>{P.uri=k}));const O=v.images.push(P)-1;return R[I]=O,O}processSampler(t){const r=this.json;r.samplers||(r.samplers=[]);const o={magFilter:Vs[t.magFilter],minFilter:Vs[t.minFilter],wrapS:Vs[t.wrapS],wrapT:Vs[t.wrapT]};return r.samplers.push(o)-1}processTexture(t){const r=this.cache,o=this.json;if(r.textures.has(t))return r.textures.get(t);o.textures||(o.textures=[]);let l=t.userData.mimeType;l==="image/webp"&&(l="image/png");const d={sampler:this.processSampler(t),source:this.processImage(t.image,t.format,t.flipY,l)};t.name&&(d.name=t.name),this._invokeAll(function(v){v.writeTexture&&v.writeTexture(t,d)});const g=o.textures.push(d)-1;return r.textures.set(t,g),g}processMaterial(t){const r=this.cache,o=this.json;if(r.materials.has(t))return r.materials.get(t);if(t.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;o.materials||(o.materials=[]);const l={pbrMetallicRoughness:{}};t.isMeshStandardMaterial!==!0&&t.isMeshBasicMaterial!==!0&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const d=t.color.toArray().concat([t.opacity]);if(Bf(d,[1,1,1,1])||(l.pbrMetallicRoughness.baseColorFactor=d),t.isMeshStandardMaterial?(l.pbrMetallicRoughness.metallicFactor=t.metalness,l.pbrMetallicRoughness.roughnessFactor=t.roughness):(l.pbrMetallicRoughness.metallicFactor=.5,l.pbrMetallicRoughness.roughnessFactor=.5),t.metalnessMap||t.roughnessMap){const v=this.buildMetalRoughTexture(t.metalnessMap,t.roughnessMap),A={index:this.processTexture(v)};this.applyTextureTransform(A,v),l.pbrMetallicRoughness.metallicRoughnessTexture=A}if(t.map){const v={index:this.processTexture(t.map)};this.applyTextureTransform(v,t.map),l.pbrMetallicRoughness.baseColorTexture=v}if(t.emissive){const v=t.emissive.clone().multiplyScalar(t.emissiveIntensity),A=Math.max(v.r,v.g,v.b);if(A>1&&(v.multiplyScalar(1/A),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),A>0&&(l.emissiveFactor=v.toArray()),t.emissiveMap){const E={index:this.processTexture(t.emissiveMap)};this.applyTextureTransform(E,t.emissiveMap),l.emissiveTexture=E}}if(t.normalMap){const v={index:this.processTexture(t.normalMap)};t.normalScale&&t.normalScale.x!==1&&(v.scale=t.normalScale.x),this.applyTextureTransform(v,t.normalMap),l.normalTexture=v}if(t.aoMap){const v={index:this.processTexture(t.aoMap),texCoord:1};t.aoMapIntensity!==1&&(v.strength=t.aoMapIntensity),this.applyTextureTransform(v,t.aoMap),l.occlusionTexture=v}t.transparent?l.alphaMode="BLEND":t.alphaTest>0&&(l.alphaMode="MASK",l.alphaCutoff=t.alphaTest),t.side===$&&(l.doubleSided=!0),t.name!==""&&(l.name=t.name),this.serializeUserData(t,l),this._invokeAll(function(v){v.writeMaterial&&v.writeMaterial(t,l)});const g=o.materials.push(l)-1;return r.materials.set(t,g),g}processMesh(t){const r=this.cache,o=this.json,l=[t.geometry.uuid];if(Array.isArray(t.material))for(let J=0,te=t.material.length;J<te;J++)l.push(t.material[J].uuid);else l.push(t.material.uuid);const d=l.join(":");if(r.meshes.has(d))return r.meshes.get(d);const g=t.geometry;let v;t.isLineSegments?v=qr.LINES:t.isLineLoop?v=qr.LINE_LOOP:t.isLine?v=qr.LINE_STRIP:t.isPoints?v=qr.POINTS:v=t.material.wireframe?qr.LINES:qr.TRIANGLES;const A={},E={},R=[],I=[],P={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},B=g.getAttribute("normal");B!==void 0&&!this.isNormalizedNormalAttribute(B)&&(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),g.setAttribute("normal",this.createNormalizedNormalAttribute(B)));let V=null;for(let J in g.attributes){if(J.slice(0,5)==="morph")continue;const te=g.attributes[J];if(J=P[J]||J.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(J)||(J="_"+J),r.attributes.has(this.getUID(te))){E[J]=r.attributes.get(this.getUID(te));continue}V=null;const ne=te.array;J==="JOINTS_0"&&!(ne instanceof Uint16Array)&&!(ne instanceof Uint8Array)&&(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),V=new ri(new Uint16Array(ne),te.itemSize,te.normalized));const Ae=this.processAccessor(V||te,g);Ae!==null&&(E[J]=Ae,r.attributes.set(this.getUID(te),Ae))}if(B!==void 0&&g.setAttribute("normal",B),Object.keys(E).length===0)return null;if(t.morphTargetInfluences!==void 0&&t.morphTargetInfluences.length>0){const J=[],te=[],j={};if(t.morphTargetDictionary!==void 0)for(const ne in t.morphTargetDictionary)j[t.morphTargetDictionary[ne]]=ne;for(let ne=0;ne<t.morphTargetInfluences.length;++ne){const Ae={};let q=!1;for(const ge in g.morphAttributes){if(ge!=="position"&&ge!=="normal"){q||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),q=!0);continue}const we=g.morphAttributes[ge][ne],Fe=ge.toUpperCase(),tt=g.attributes[ge];if(r.attributes.has(this.getUID(we,!0))){Ae[Fe]=r.attributes.get(this.getUID(we,!0));continue}const Pe=we.clone();if(!g.morphTargetsRelative)for(let Oe=0,st=we.count;Oe<st;Oe++)Pe.setXYZ(Oe,we.getX(Oe)-tt.getX(Oe),we.getY(Oe)-tt.getY(Oe),we.getZ(Oe)-tt.getZ(Oe));Ae[Fe]=this.processAccessor(Pe,g),r.attributes.set(this.getUID(tt,!0),Ae[Fe])}I.push(Ae),J.push(t.morphTargetInfluences[ne]),t.morphTargetDictionary!==void 0&&te.push(j[ne])}A.weights=J,te.length>0&&(A.extras={},A.extras.targetNames=te)}const O=Array.isArray(t.material);if(O&&g.groups.length===0)return null;const k=O?t.material:[t.material],H=O?g.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let J=0,te=H.length;J<te;J++){const j={mode:v,attributes:E};if(this.serializeUserData(g,j),I.length>0&&(j.targets=I),g.index!==null){let Ae=this.getUID(g.index);(H[J].start!==void 0||H[J].count!==void 0)&&(Ae+=":"+H[J].start+":"+H[J].count),r.attributes.has(Ae)?j.indices=r.attributes.get(Ae):(j.indices=this.processAccessor(g.index,g,H[J].start,H[J].count),r.attributes.set(Ae,j.indices)),j.indices===null&&delete j.indices}const ne=this.processMaterial(k[H[J].materialIndex]);ne!==null&&(j.material=ne),R.push(j)}A.primitives=R,o.meshes||(o.meshes=[]),this._invokeAll(function(J){J.writeMesh&&J.writeMesh(t,A)});const W=o.meshes.push(A)-1;return r.meshes.set(d,W),W}processCamera(t){const r=this.json;r.cameras||(r.cameras=[]);const o=t.isOrthographicCamera,l={type:o?"orthographic":"perspective"};return o?l.orthographic={xmag:t.right*2,ymag:t.top*2,zfar:t.far<=0?.001:t.far,znear:t.near<0?0:t.near}:l.perspective={aspectRatio:t.aspect,yfov:J1.degToRad(t.fov),zfar:t.far<=0?.001:t.far,znear:t.near<0?0:t.near},t.name!==""&&(l.name=t.type),r.cameras.push(l)-1}processAnimation(t,r){const o=this.json,l=this.nodeMap;o.animations||(o.animations=[]),t=rA.Utils.mergeMorphTargetTracks(t.clone(),r);const d=t.tracks,g=[],v=[];for(let A=0;A<d.length;++A){const E=d[A],R=Ur.parseTrackName(E.name);let I=Ur.findNode(r,R.nodeName);const P=yw[R.propertyName];if(R.objectName==="bones"&&(I.isSkinnedMesh===!0?I=I.skeleton.getBoneByName(R.objectIndex):I=void 0),!I||!P)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',E.name),null;const B=1;let V=E.values.length/E.times.length;P===yw.morphTargetInfluences&&(V/=I.morphTargetInfluences.length);let O;E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(O="CUBICSPLINE",V/=3):E.getInterpolation()===bu?O="STEP":O="LINEAR",v.push({input:this.processAccessor(new ri(E.times,B)),output:this.processAccessor(new ri(E.values,V)),interpolation:O}),g.push({sampler:v.length-1,target:{node:l.get(I),path:P}})}return o.animations.push({name:t.name||"clip_"+o.animations.length,samplers:v,channels:g}),o.animations.length-1}processSkin(t){const r=this.json,o=this.nodeMap,l=r.nodes[o.get(t)],d=t.skeleton;if(d===void 0)return null;const g=t.skeleton.bones[0];if(g===void 0)return null;const v=[],A=new Float32Array(d.bones.length*16),E=new br;for(let I=0;I<d.bones.length;++I)v.push(o.get(d.bones[I])),E.copy(d.boneInverses[I]),E.multiply(t.bindMatrix).toArray(A,I*16);return r.skins===void 0&&(r.skins=[]),r.skins.push({inverseBindMatrices:this.processAccessor(new ri(A,16)),joints:v,skeleton:o.get(g)}),l.skin=r.skins.length-1}processNode(t){const r=this.json,o=this.options,l=this.nodeMap;r.nodes||(r.nodes=[]);const d={};if(o.trs){const v=t.quaternion.toArray(),A=t.position.toArray(),E=t.scale.toArray();Bf(v,[0,0,0,1])||(d.rotation=v),Bf(A,[0,0,0])||(d.translation=A),Bf(E,[1,1,1])||(d.scale=E)}else t.matrixAutoUpdate&&t.updateMatrix(),sO(t.matrix)===!1&&(d.matrix=t.matrix.elements);if(t.name!==""&&(d.name=String(t.name)),this.serializeUserData(t,d),t.isMesh||t.isLine||t.isPoints){const v=this.processMesh(t);v!==null&&(d.mesh=v)}else t.isCamera&&(d.camera=this.processCamera(t));if(t.isSkinnedMesh&&this.skins.push(t),t.children.length>0){const v=[];for(let A=0,E=t.children.length;A<E;A++){const R=t.children[A];if(R.visible||o.onlyVisible===!1){const I=this.processNode(R);I!==null&&v.push(I)}}v.length>0&&(d.children=v)}this._invokeAll(function(v){v.writeNode&&v.writeNode(t,d)});const g=r.nodes.push(d)-1;return l.set(t,g),g}processScene(t){const r=this.json,o=this.options;r.scenes||(r.scenes=[],r.scene=0);const l={};t.name!==""&&(l.name=t.name),r.scenes.push(l);const d=[];for(let g=0,v=t.children.length;g<v;g++){const A=t.children[g];if(A.visible||o.onlyVisible===!1){const E=this.processNode(A);E!==null&&d.push(E)}}d.length>0&&(l.nodes=d),this.serializeUserData(t,l)}processObjects(t){const r=new zp;r.name="AuxScene";for(let o=0;o<t.length;o++)r.children.push(t[o]);this.processScene(r)}processInput(t){const r=this.options;t=t instanceof Array?t:[t],this._invokeAll(function(l){l.beforeParse&&l.beforeParse(t)});const o=[];for(let l=0;l<t.length;l++)t[l]instanceof zp?this.processScene(t[l]):o.push(t[l]);o.length>0&&this.processObjects(o);for(let l=0;l<this.skins.length;++l)this.processSkin(this.skins[l]);for(let l=0;l<r.animations.length;++l)this.processAnimation(r.animations[l],t[0]);this._invokeAll(function(l){l.afterParse&&l.afterParse(t)})}_invokeAll(t){for(let r=0,o=this.plugins.length;r<o;r++)t(this.plugins[r])}}class lO{constructor(t){this.writer=t,this.name="KHR_lights_punctual"}writeNode(t,r){if(!t.isLight)return;if(!t.isDirectionalLight&&!t.isPointLight&&!t.isSpotLight){console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",t);return}const o=this.writer,l=o.json,d=o.extensionsUsed,g={};t.name&&(g.name=t.name),g.color=t.color.toArray(),g.intensity=t.intensity,t.isDirectionalLight?g.type="directional":t.isPointLight?(g.type="point",t.distance>0&&(g.range=t.distance)):t.isSpotLight&&(g.type="spot",t.distance>0&&(g.range=t.distance),g.spot={},g.spot.innerConeAngle=(t.penumbra-1)*t.angle*-1,g.spot.outerConeAngle=t.angle),t.decay!==void 0&&t.decay!==2&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),t.target&&(t.target.parent!==t||t.target.position.x!==0||t.target.position.y!==0||t.target.position.z!==-1)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),d[this.name]||(l.extensions=l.extensions||{},l.extensions[this.name]={lights:[]},d[this.name]=!0);const v=l.extensions[this.name].lights;v.push(g),r.extensions=r.extensions||{},r.extensions[this.name]={light:v.length-1}}}class cO{constructor(t){this.writer=t,this.name="KHR_materials_unlit"}writeMaterial(t,r){if(!t.isMeshBasicMaterial)return;const l=this.writer.extensionsUsed;r.extensions=r.extensions||{},r.extensions[this.name]={},l[this.name]=!0,r.pbrMetallicRoughness.metallicFactor=0,r.pbrMetallicRoughness.roughnessFactor=.9}}class uO{constructor(t){this.writer=t,this.name="KHR_materials_pbrSpecularGlossiness"}writeMaterial(t,r){if(!t.isGLTFSpecularGlossinessMaterial)return;const o=this.writer,l=o.extensionsUsed,d={};r.pbrMetallicRoughness.baseColorFactor&&(d.diffuseFactor=r.pbrMetallicRoughness.baseColorFactor);const g=[1,1,1];if(t.specular.toArray(g,0),d.specularFactor=g,d.glossinessFactor=t.glossiness,r.pbrMetallicRoughness.baseColorTexture&&(d.diffuseTexture=r.pbrMetallicRoughness.baseColorTexture),t.specularMap){const v={index:o.processTexture(t.specularMap)};o.applyTextureTransform(v,t.specularMap),d.specularGlossinessTexture=v}r.extensions=r.extensions||{},r.extensions[this.name]=d,l[this.name]=!0}}class dO{constructor(t){this.writer=t,this.name="KHR_materials_clearcoat"}writeMaterial(t,r){if(!t.isMeshPhysicalMaterial)return;const o=this.writer,l=o.extensionsUsed,d={};if(d.clearcoatFactor=t.clearcoat,t.clearcoatMap){const g={index:o.processTexture(t.clearcoatMap)};o.applyTextureTransform(g,t.clearcoatMap),d.clearcoatTexture=g}if(d.clearcoatRoughnessFactor=t.clearcoatRoughness,t.clearcoatRoughnessMap){const g={index:o.processTexture(t.clearcoatRoughnessMap)};o.applyTextureTransform(g,t.clearcoatRoughnessMap),d.clearcoatRoughnessTexture=g}if(t.clearcoatNormalMap){const g={index:o.processTexture(t.clearcoatNormalMap)};o.applyTextureTransform(g,t.clearcoatNormalMap),d.clearcoatNormalTexture=g}r.extensions=r.extensions||{},r.extensions[this.name]=d,l[this.name]=!0}}class fO{constructor(t){this.writer=t,this.name="KHR_materials_iridescence"}writeMaterial(t,r){if(!t.isMeshPhysicalMaterial)return;const o=this.writer,l=o.extensionsUsed,d={};if(d.iridescenceFactor=t.iridescence,t.iridescenceMap){const g={index:o.processTexture(t.iridescenceMap)};o.applyTextureTransform(g,t.iridescenceMap),d.iridescenceTexture=g}if(d.iridescenceIor=t.iridescenceIOR,d.iridescenceThicknessMinimum=t.iridescenceThicknessRange[0],d.iridescenceThicknessMaximum=t.iridescenceThicknessRange[1],t.iridescenceThicknessMap){const g={index:o.processTexture(t.iridescenceThicknessMap)};o.applyTextureTransform(g,t.iridescenceThicknessMap),d.iridescenceThicknessTexture=g}r.extensions=r.extensions||{},r.extensions[this.name]=d,l[this.name]=!0}}class hO{constructor(t){this.writer=t,this.name="KHR_materials_transmission"}writeMaterial(t,r){if(!t.isMeshPhysicalMaterial||t.transmission===0)return;const o=this.writer,l=o.extensionsUsed,d={};if(d.transmissionFactor=t.transmission,t.transmissionMap){const g={index:o.processTexture(t.transmissionMap)};o.applyTextureTransform(g,t.transmissionMap),d.transmissionTexture=g}r.extensions=r.extensions||{},r.extensions[this.name]=d,l[this.name]=!0}}class pO{constructor(t){this.writer=t,this.name="KHR_materials_volume"}writeMaterial(t,r){if(!t.isMeshPhysicalMaterial||t.transmission===0)return;const o=this.writer,l=o.extensionsUsed,d={};if(d.thicknessFactor=t.thickness,t.thicknessMap){const g={index:o.processTexture(t.thicknessMap)};o.applyTextureTransform(g,t.thicknessMap),d.thicknessTexture=g}d.attenuationDistance=t.attenuationDistance,d.attenuationColor=t.attenuationColor.toArray(),r.extensions=r.extensions||{},r.extensions[this.name]=d,l[this.name]=!0}}rA.Utils={insertKeyframe:function(m,t){const o=m.getValueSize(),l=new m.TimeBufferType(m.times.length+1),d=new m.ValueBufferType(m.values.length+o),g=m.createInterpolant(new m.ValueBufferType(o));let v;if(m.times.length===0){l[0]=t;for(let A=0;A<o;A++)d[A]=0;v=0}else if(t<m.times[0]){if(Math.abs(m.times[0]-t)<.001)return 0;l[0]=t,l.set(m.times,1),d.set(g.evaluate(t),0),d.set(m.values,o),v=0}else if(t>m.times[m.times.length-1]){if(Math.abs(m.times[m.times.length-1]-t)<.001)return m.times.length-1;l[l.length-1]=t,l.set(m.times,0),d.set(m.values,0),d.set(g.evaluate(t),m.values.length),v=l.length-1}else for(let A=0;A<m.times.length;A++){if(Math.abs(m.times[A]-t)<.001)return A;if(m.times[A]<t&&m.times[A+1]>t){l.set(m.times.slice(0,A+1),0),l[A+1]=t,l.set(m.times.slice(A+1),A+2),d.set(m.values.slice(0,(A+1)*o),0),d.set(g.evaluate(t),(A+1)*o),d.set(m.values.slice((A+1)*o),(A+2)*o),v=A+1;break}}return m.times=l,m.values=d,v},mergeMorphTargetTracks:function(m,t){const r=[],o={},l=m.tracks;for(let d=0;d<l.length;++d){let g=l[d];const v=Ur.parseTrackName(g.name),A=Ur.findNode(t,v.nodeName);if(v.propertyName!=="morphTargetInfluences"||v.propertyIndex===void 0){r.push(g);continue}if(g.createInterpolant!==g.InterpolantFactoryMethodDiscrete&&g.createInterpolant!==g.InterpolantFactoryMethodLinear){if(g.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),g=g.clone(),g.setInterpolation(uc)}const E=A.morphTargetInfluences.length,R=A.morphTargetDictionary[v.propertyIndex];if(R===void 0)throw new Error("THREE.GLTFExporter: Morph target name not found: "+v.propertyIndex);let I;if(o[A.uuid]===void 0){I=g.clone();const B=new I.ValueBufferType(E*I.times.length);for(let V=0;V<I.times.length;V++)B[V*E+R]=I.values[V];I.name=(v.nodeName||"")+".morphTargetInfluences",I.values=B,o[A.uuid]=I,r.push(I);continue}const P=g.createInterpolant(new g.ValueBufferType(1));I=o[A.uuid];for(let B=0;B<I.times.length;B++)I.values[B*E+R]=P.evaluate(I.times[B]);for(let B=0;B<g.times.length;B++){const V=this.insertKeyframe(I,g.times[B]);I.values[V*E+R]=g.values[B]}}return m.tracks=r,m}};var mO=function(){function m(t){this.gltfExporter=new rA,this.options={trs:!1,onlyVisible:!0,truncateDrawRange:!0,binary:!1,maxTextureSize:4096e7,animations:[]},Object.assign(this.options,t),this.link=document.createElement("a"),this.link.style.display="none",document.body.appendChild(this.link)}return m.prototype.export=function(t){var r=this,o=t.name?t.name:"export";this.gltfExporter.parse(t,function(l){if(l instanceof ArrayBuffer)r.saveArrayBuffer(l,o+".glb");else{var d=JSON.stringify(l,null,2);r.saveString(d,o+".gltf")}},function(l){console.log("An error happened during parsing",l)},this.options)},m.prototype.save=function(t,r){this.link.href=URL.createObjectURL(t),this.link.download=r,this.link.click()},m.prototype.saveString=function(t,r){this.save(new Blob([t],{type:"text/plain"}),r)},m.prototype.saveArrayBuffer=function(t,r){this.save(new Blob([t],{type:"application/octet-stream"}),r)},m}(),Iw=function(){function m(t,r){var o=this;this.visualCtrls=[],this.exporter=null,this.container=t,this.options=r,this.renderer=new Xp({antialias:!0}),this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=Or,this.gui=null,this.stats=ZL(),this.pmremGenerator=new Gp(this.renderer),this.pmremGenerator.compileEquirectangularShader(),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.currentScene=new tA(this.container,this.renderer),this.currentScene.sceneName="default",this.updateEnvironment(this.currentScene.vignette),this.state={playbackSpeed:1,wireframe:!1,skeleton:!1,grid:!1,addLights:!0,exposure:1,ambientIntensity:.3,ambientColor:2105376,directIntensity:.8*Math.PI,directColor:16777215,bgColor1:"#5454ad",bgColor2:"#18e5a7",exportGltf:function(){o.exporter||(o.exporter=new mO({animations:o.currentScene.exportContent.animations})),o.exporter.export(o.currentScene.exportContent)}},this.visualiseFolder=null,this.cameraFolder=null,this.init()}return m.prototype.init=function(){var t;this.currentScene.sceneName===""&&(this.currentScene.sceneName="default"),((t=this.options)===null||t===void 0?void 0:t.guiOpen)&&!this.gui&&this.addGui(),[].forEach.call(this.stats.dom.children,function(r){return r.style.display=""}),this.container.appendChild(this.renderer.domElement)},m.prototype.updateEnvironment=function(t){var r=this,o=nA.filter(function(l){return l.name==="Venice Sunset"})[0];this.getCubeMapTexture(o).then(function(l){var d=r.getCurrentScene();l&&t&&(d==null||d.scene.add(t.mesh)),d.scene.environment=l,d.scene.background=l})},m.prototype.getCubeMapTexture=function(t){var r=this,o=t.path;return o?new Promise(function(l,d){new Aw().load(o,function(g){var v=r.pmremGenerator.fromEquirectangular(g).texture;r.pmremGenerator.dispose(),l(v)},void 0,d)}):Promise.resolve({envMap:null})},m.prototype.getCurrentScene=function(){return this.currentScene},m.prototype.hideGui=function(){this.gui&&this.gui.hide()},m.prototype.closeGui=function(){this.gui&&(this.gui.closed=!0)},m.prototype.addGui=function(){var t=this,r,o,l,d=this.gui=new Nf({width:260}),g=d.addFolder("Visualisation settings"),v=g.add(this.state,"wireframe");v.onChange(function(){return t.currentScene.updateDisplay(t.state)}),this.visualiseFolder=g.addFolder("ModelVisualisation");var A=g.addColor(this.state,"bgColor1"),E=g.addColor(this.state,"bgColor2");if(A.onChange(function(){return t.currentScene.updateBackground(t.state.bgColor1,t.state.bgColor2)}),E.onChange(function(){return t.currentScene.updateBackground(t.state.bgColor1,t.state.bgColor2)}),!((r=this.options)===null||r===void 0)&&r.camera&&(this.cameraFolder=d.addFolder("Camera")),!((o=this.options)===null||o===void 0)&&o.performance){var R=d.addFolder("Performance"),I=document.createElement("li");this.stats.dom.style.position="static",I.appendChild(this.stats.dom),I.style.height="50px",R.__ul.appendChild(I)}if(!((l=this.options)===null||l===void 0)&&l.light){var P=d.addFolder("LightsFolder");[P.add(this.state,"addLights").listen(),P.add(this.state,"ambientIntensity",0,2),P.addColor(this.state,"ambientColor"),P.add(this.state,"directIntensity",0,4),P.addColor(this.state,"directColor")].forEach(function(B){return B.onChange(function(){return t.currentScene.updateLights(t.state)})})}d.add(this.state,"exportGltf")},m.prototype.updateGui=function(){var t=this;this.visualCtrls.length!==0&&this.visualCtrls.forEach(function(r){var o;(o=t.visualiseFolder)===null||o===void 0||o.remove(r)}),this.visualCtrls=[],setTimeout(function(){var r,o,l,d,g,v,A,E,R=[];(r=t.currentScene.content)===null||r===void 0||r.children;var I=function(W){if(W.isMesh){var J={name:W.name||"Untitled",visible:W.visible,mesh:W};R.push(J)}};if((o=t.currentScene.content)===null||o===void 0||o.traverse(function(W){W.isMesh&&I(W)}),R.forEach(function(W){var J=t.visualiseFolder.add(W,"visible").name(W.name).onChange(function(){t.currentScene.updateModelChildrenVisualisation(W.mesh)});t.visualCtrls.push(J)}),t.cameraFolder){if(t.cameraFolder.__controllers.length>0){var P=[];t.cameraFolder.__controllers.forEach(function(W){P.push(W)}),P.forEach(function(W){var J;(J=t.cameraFolder)===null||J===void 0||J.remove(W)})}(l=t.cameraFolder)===null||l===void 0||l.add(t.currentScene.camera,"near"),(d=t.cameraFolder)===null||d===void 0||d.add(t.currentScene.camera,"far");var B=(g=t.cameraFolder)===null||g===void 0?void 0:g.__folders;for(var V in B)if(Object.prototype.hasOwnProperty.call(B,V)){var O=B[V];(v=t.cameraFolder)===null||v===void 0||v.removeFolder(O)}var k=(A=t.cameraFolder)===null||A===void 0?void 0:A.addFolder("position");k.add(t.currentScene.camera.position,"x"),k.add(t.currentScene.camera.position,"y"),k.add(t.currentScene.camera.position,"z");var H=(E=t.cameraFolder)===null||E===void 0?void 0:E.addFolder("up");H.add(t.currentScene.camera.up,"x"),H.add(t.currentScene.camera.up,"y"),H.add(t.currentScene.camera.up,"z")}},1500)},m}();const sA={type:"change"},oA={type:"start"},aA={type:"end"};class Mw extends Ia{constructor(t,r){super();const o=this,l={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=t,this.domElement=r,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:w.ROTATE,MIDDLE:w.DOLLY,RIGHT:w.PAN},this.target=new et;const d=1e-6,g=new et;let v=1,A=l.NONE,E=l.NONE,R=0,I=0,P=0;const B=new et,V=new Fn,O=new Fn,k=new et,H=new Fn,W=new Fn,J=new Fn,te=new Fn,j=[],ne={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const We=o.domElement.getBoundingClientRect(),Nt=o.domElement.ownerDocument.documentElement;o.screen.left=We.left+window.pageXOffset-Nt.clientLeft,o.screen.top=We.top+window.pageYOffset-Nt.clientTop,o.screen.width=We.width,o.screen.height=We.height};const Ae=function(){const We=new Fn;return function(jt,$t){return We.set((jt-o.screen.left)/o.screen.width,($t-o.screen.top)/o.screen.height),We}}(),q=function(){const We=new Fn;return function(jt,$t){return We.set((jt-o.screen.width*.5-o.screen.left)/(o.screen.width*.5),(o.screen.height+2*(o.screen.top-$t))/o.screen.width),We}}();this.rotateCamera=function(){const We=new et,Nt=new Ds,jt=new et,$t=new et,Sn=new et,Pn=new et;return function(){Pn.set(O.x-V.x,O.y-V.y,0);let Rr=Pn.length();Rr?(B.copy(o.object.position).sub(o.target),jt.copy(B).normalize(),$t.copy(o.object.up).normalize(),Sn.crossVectors($t,jt).normalize(),$t.setLength(O.y-V.y),Sn.setLength(O.x-V.x),Pn.copy($t.add(Sn)),We.crossVectors(Pn,B).normalize(),Rr*=o.rotateSpeed,Nt.setFromAxisAngle(We,Rr),B.applyQuaternion(Nt),o.object.up.applyQuaternion(Nt),k.copy(We),P=Rr):!o.staticMoving&&P&&(P*=Math.sqrt(1-o.dynamicDampingFactor),B.copy(o.object.position).sub(o.target),Nt.setFromAxisAngle(k,P),B.applyQuaternion(Nt),o.object.up.applyQuaternion(Nt)),V.copy(O)}}(),this.zoomCamera=function(){let We;A===l.TOUCH_ZOOM_PAN?(We=R/I,R=I,o.object.isPerspectiveCamera?B.multiplyScalar(We):o.object.isOrthographicCamera?(o.object.zoom/=We,o.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(We=1+(W.y-H.y)*o.zoomSpeed,We!==1&&We>0&&(o.object.isPerspectiveCamera?B.multiplyScalar(We):o.object.isOrthographicCamera?(o.object.zoom/=We,o.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),o.staticMoving?H.copy(W):H.y+=(W.y-H.y)*this.dynamicDampingFactor)},this.panCamera=function(){const We=new Fn,Nt=new et,jt=new et;return function(){if(We.copy(te).sub(J),We.lengthSq()){if(o.object.isOrthographicCamera){const Sn=(o.object.right-o.object.left)/o.object.zoom/o.domElement.clientWidth,Pn=(o.object.top-o.object.bottom)/o.object.zoom/o.domElement.clientWidth;We.x*=Sn,We.y*=Pn}We.multiplyScalar(B.length()*o.panSpeed),jt.copy(B).cross(o.object.up).setLength(We.x),jt.add(Nt.copy(o.object.up).setLength(We.y)),o.object.position.add(jt),o.target.add(jt),o.staticMoving?J.copy(te):J.add(We.subVectors(te,J).multiplyScalar(o.dynamicDampingFactor))}}}(),this.checkDistances=function(){(!o.noZoom||!o.noPan)&&(B.lengthSq()>o.maxDistance*o.maxDistance&&(o.object.position.addVectors(o.target,B.setLength(o.maxDistance)),H.copy(W)),B.lengthSq()<o.minDistance*o.minDistance&&(o.object.position.addVectors(o.target,B.setLength(o.minDistance)),H.copy(W)))},this.update=function(){B.subVectors(o.object.position,o.target),o.noRotate||o.rotateCamera(),o.noZoom||o.zoomCamera(),o.noPan||o.panCamera(),o.object.position.addVectors(o.target,B),o.object.isPerspectiveCamera?(o.checkDistances(),o.object.lookAt(o.target),g.distanceToSquared(o.object.position)>d&&(o.dispatchEvent(sA),g.copy(o.object.position))):o.object.isOrthographicCamera?(o.object.lookAt(o.target),(g.distanceToSquared(o.object.position)>d||v!==o.object.zoom)&&(o.dispatchEvent(sA),g.copy(o.object.position),v=o.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){A=l.NONE,E=l.NONE,o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.up.copy(o.up0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),B.subVectors(o.object.position,o.target),o.object.lookAt(o.target),o.dispatchEvent(sA),g.copy(o.object.position),v=o.object.zoom};function ge(We){o.enabled!==!1&&(j.length===0&&(o.domElement.setPointerCapture(We.pointerId),o.domElement.addEventListener("pointermove",we),o.domElement.addEventListener("pointerup",Fe)),Wt(We),We.pointerType==="touch"?Ze(We):st(We))}function we(We){o.enabled!==!1&&(We.pointerType==="touch"?lt(We):ht(We))}function Fe(We){o.enabled!==!1&&(We.pointerType==="touch"?Ut(We):dt(),c(We),j.length===0&&(o.domElement.releasePointerCapture(We.pointerId),o.domElement.removeEventListener("pointermove",we),o.domElement.removeEventListener("pointerup",Fe)))}function tt(We){c(We)}function Pe(We){o.enabled!==!1&&(window.removeEventListener("keydown",Pe),E===l.NONE&&(We.code===o.keys[l.ROTATE]&&!o.noRotate?E=l.ROTATE:We.code===o.keys[l.ZOOM]&&!o.noZoom?E=l.ZOOM:We.code===o.keys[l.PAN]&&!o.noPan&&(E=l.PAN)))}function Oe(){o.enabled!==!1&&(E=l.NONE,window.addEventListener("keydown",Pe))}function st(We){if(A===l.NONE)switch(We.button){case o.mouseButtons.LEFT:A=l.ROTATE;break;case o.mouseButtons.MIDDLE:A=l.ZOOM;break;case o.mouseButtons.RIGHT:A=l.PAN;break}const Nt=E!==l.NONE?E:A;Nt===l.ROTATE&&!o.noRotate?(O.copy(q(We.pageX,We.pageY)),V.copy(O)):Nt===l.ZOOM&&!o.noZoom?(H.copy(Ae(We.pageX,We.pageY)),W.copy(H)):Nt===l.PAN&&!o.noPan&&(J.copy(Ae(We.pageX,We.pageY)),te.copy(J)),o.dispatchEvent(oA)}function ht(We){const Nt=E!==l.NONE?E:A;Nt===l.ROTATE&&!o.noRotate?(V.copy(O),O.copy(q(We.pageX,We.pageY))):Nt===l.ZOOM&&!o.noZoom?W.copy(Ae(We.pageX,We.pageY)):Nt===l.PAN&&!o.noPan&&te.copy(Ae(We.pageX,We.pageY))}function dt(){A=l.NONE,o.dispatchEvent(aA)}function Le(We){if(o.enabled!==!1&&o.noZoom!==!0){switch(We.preventDefault(),We.deltaMode){case 2:H.y-=We.deltaY*.025;break;case 1:H.y-=We.deltaY*.01;break;default:H.y-=We.deltaY*25e-5;break}o.dispatchEvent(oA),o.dispatchEvent(aA)}}function Ze(We){switch(Ln(We),j.length){case 1:A=l.TOUCH_ROTATE,O.copy(q(j[0].pageX,j[0].pageY)),V.copy(O);break;default:A=l.TOUCH_ZOOM_PAN;const Nt=j[0].pageX-j[1].pageX,jt=j[0].pageY-j[1].pageY;I=R=Math.sqrt(Nt*Nt+jt*jt);const $t=(j[0].pageX+j[1].pageX)/2,Sn=(j[0].pageY+j[1].pageY)/2;J.copy(Ae($t,Sn)),te.copy(J);break}o.dispatchEvent(oA)}function lt(We){switch(Ln(We),j.length){case 1:V.copy(O),O.copy(q(We.pageX,We.pageY));break;default:const Nt=ut(We),jt=We.pageX-Nt.x,$t=We.pageY-Nt.y;I=Math.sqrt(jt*jt+$t*$t);const Sn=(We.pageX+Nt.x)/2,Pn=(We.pageY+Nt.y)/2;te.copy(Ae(Sn,Pn));break}}function Ut(We){switch(j.length){case 0:A=l.NONE;break;case 1:A=l.TOUCH_ROTATE,O.copy(q(We.pageX,We.pageY)),V.copy(O);break;case 2:A=l.TOUCH_ZOOM_PAN,O.copy(q(We.pageX-V.x,We.pageY-V.y)),V.copy(O);break}o.dispatchEvent(aA)}function Vt(We){o.enabled!==!1&&We.preventDefault()}function Wt(We){j.push(We)}function c(We){delete ne[We.pointerId];for(let Nt=0;Nt<j.length;Nt++)if(j[Nt].pointerId==We.pointerId){j.splice(Nt,1);return}}function Ln(We){let Nt=ne[We.pointerId];Nt===void 0&&(Nt=new Fn,ne[We.pointerId]=Nt),Nt.set(We.pageX,We.pageY)}function ut(We){const Nt=We.pointerId===j[0].pointerId?j[1]:j[0];return ne[Nt.pointerId]}this.dispose=function(){o.domElement.removeEventListener("contextmenu",Vt),o.domElement.removeEventListener("pointerdown",ge),o.domElement.removeEventListener("pointercancel",tt),o.domElement.removeEventListener("wheel",Le),o.domElement.removeEventListener("pointermove",we),o.domElement.removeEventListener("pointerup",Fe),window.removeEventListener("keydown",Pe),window.removeEventListener("keyup",Oe)},this.domElement.addEventListener("contextmenu",Vt),this.domElement.addEventListener("pointerdown",ge),this.domElement.addEventListener("pointercancel",tt),this.domElement.addEventListener("wheel",Le,{passive:!1}),window.addEventListener("keydown",Pe),window.addEventListener("keyup",Oe),this.handleResize(),this.update()}}class gO extends ia{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(r){return new bO(r)}),this.register(function(r){return new xO(r)}),this.register(function(r){return new RO(r)}),this.register(function(r){return new EO(r)}),this.register(function(r){return new wO(r)}),this.register(function(r){return new CO(r)}),this.register(function(r){return new IO(r)}),this.register(function(r){return new yO(r)}),this.register(function(r){return new MO(r)}),this.register(function(r){return new SO(r)}),this.register(function(r){return new _O(r)}),this.register(function(r){return new TO(r)})}load(t,r,o,l){const d=this;let g;this.resourcePath!==""?g=this.resourcePath:this.path!==""?g=this.path:g=sa.extractUrlBase(t),this.manager.itemStart(t);const v=function(E){l?l(E):console.error(E),d.manager.itemError(t),d.manager.itemEnd(t)},A=new to(this.manager);A.setPath(this.path),A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setWithCredentials(this.withCredentials),A.load(t,function(E){try{d.parse(E,g,function(R){r(R),d.manager.itemEnd(t)},v)}catch(R){v(R)}},o,v)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,r,o,l){let d;const g={},v={};if(typeof t=="string")d=t;else if(sa.decodeText(new Uint8Array(t,0,4))===xw){try{g[Br.KHR_BINARY_GLTF]=new PO(t)}catch(I){l&&l(I);return}d=g[Br.KHR_BINARY_GLTF].content}else d=sa.decodeText(new Uint8Array(t));const A=JSON.parse(d);if(A.asset===void 0||A.asset.version[0]<2){l&&l(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const E=new XO(A,{path:r||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});E.fileLoader.setRequestHeader(this.requestHeader);for(let R=0;R<this.pluginCallbacks.length;R++){const I=this.pluginCallbacks[R](E);v[I.name]=I,g[I.name]=!0}if(A.extensionsUsed)for(let R=0;R<A.extensionsUsed.length;++R){const I=A.extensionsUsed[R],P=A.extensionsRequired||[];switch(I){case Br.KHR_MATERIALS_UNLIT:g[I]=new AO;break;case Br.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:g[I]=new BO;break;case Br.KHR_DRACO_MESH_COMPRESSION:g[I]=new NO(A,this.dracoLoader);break;case Br.KHR_TEXTURE_TRANSFORM:g[I]=new DO;break;case Br.KHR_MESH_QUANTIZATION:g[I]=new kO;break;default:P.indexOf(I)>=0&&v[I]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+I+'".')}}E.setExtensions(g),E.setPlugins(v),E.parse(o,l)}parseAsync(t,r){const o=this;return new Promise(function(l,d){o.parse(t,r,l,d)})}}function vO(){let m={};return{get:function(t){return m[t]},add:function(t,r){m[t]=r},remove:function(t){delete m[t]},removeAll:function(){m={}}}}const Br={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class _O{constructor(t){this.parser=t,this.name=Br.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,r=this.parser.json.nodes||[];for(let o=0,l=r.length;o<l;o++){const d=r[o];d.extensions&&d.extensions[this.name]&&d.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,d.extensions[this.name].light)}}_loadLight(t){const r=this.parser,o="light:"+t;let l=r.cache.get(o);if(l)return l;const d=r.json,A=((d.extensions&&d.extensions[this.name]||{}).lights||[])[t];let E;const R=new sr(16777215);A.color!==void 0&&R.fromArray(A.color);const I=A.range!==void 0?A.range:0;switch(A.type){case"directional":E=new R_(R),E.target.position.set(0,0,-1),E.add(E.target);break;case"point":E=new Z8(R),E.distance=I;break;case"spot":E=new Y8(R),E.distance=I,A.spot=A.spot||{},A.spot.innerConeAngle=A.spot.innerConeAngle!==void 0?A.spot.innerConeAngle:0,A.spot.outerConeAngle=A.spot.outerConeAngle!==void 0?A.spot.outerConeAngle:Math.PI/4,E.angle=A.spot.outerConeAngle,E.penumbra=1-A.spot.innerConeAngle/A.spot.outerConeAngle,E.target.position.set(0,0,-1),E.add(E.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+A.type)}return E.position.set(0,0,0),E.decay=2,A.intensity!==void 0&&(E.intensity=A.intensity),E.name=r.createUniqueName(A.name||"light_"+t),l=Promise.resolve(E),r.cache.add(o,l),l}createNodeAttachment(t){const r=this,o=this.parser,d=o.json.nodes[t],v=(d.extensions&&d.extensions[this.name]||{}).light;return v===void 0?null:this._loadLight(v).then(function(A){return o._getNodeRef(r.cache,v,A)})}}class AO{constructor(){this.name=Br.KHR_MATERIALS_UNLIT}getMaterialType(){return na}extendParams(t,r,o){const l=[];t.color=new sr(1,1,1),t.opacity=1;const d=r.pbrMetallicRoughness;if(d){if(Array.isArray(d.baseColorFactor)){const g=d.baseColorFactor;t.color.fromArray(g),t.opacity=g[3]}d.baseColorTexture!==void 0&&l.push(o.assignTexture(t,"map",d.baseColorTexture,Or))}return Promise.all(l)}}class yO{constructor(t){this.parser=t,this.name=Br.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,r){const l=this.parser.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=l.extensions[this.name].emissiveStrength;return d!==void 0&&(r.emissiveIntensity=d),Promise.resolve()}}class bO{constructor(t){this.parser=t,this.name=Br.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:Sc}extendMaterialParams(t,r){const o=this.parser,l=o.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=[],g=l.extensions[this.name];if(g.clearcoatFactor!==void 0&&(r.clearcoat=g.clearcoatFactor),g.clearcoatTexture!==void 0&&d.push(o.assignTexture(r,"clearcoatMap",g.clearcoatTexture)),g.clearcoatRoughnessFactor!==void 0&&(r.clearcoatRoughness=g.clearcoatRoughnessFactor),g.clearcoatRoughnessTexture!==void 0&&d.push(o.assignTexture(r,"clearcoatRoughnessMap",g.clearcoatRoughnessTexture)),g.clearcoatNormalTexture!==void 0&&(d.push(o.assignTexture(r,"clearcoatNormalMap",g.clearcoatNormalTexture)),g.clearcoatNormalTexture.scale!==void 0)){const v=g.clearcoatNormalTexture.scale;r.clearcoatNormalScale=new Fn(v,v)}return Promise.all(d)}}class SO{constructor(t){this.parser=t,this.name=Br.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:Sc}extendMaterialParams(t,r){const o=this.parser,l=o.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=[],g=l.extensions[this.name];return g.iridescenceFactor!==void 0&&(r.iridescence=g.iridescenceFactor),g.iridescenceTexture!==void 0&&d.push(o.assignTexture(r,"iridescenceMap",g.iridescenceTexture)),g.iridescenceIor!==void 0&&(r.iridescenceIOR=g.iridescenceIor),r.iridescenceThicknessRange===void 0&&(r.iridescenceThicknessRange=[100,400]),g.iridescenceThicknessMinimum!==void 0&&(r.iridescenceThicknessRange[0]=g.iridescenceThicknessMinimum),g.iridescenceThicknessMaximum!==void 0&&(r.iridescenceThicknessRange[1]=g.iridescenceThicknessMaximum),g.iridescenceThicknessTexture!==void 0&&d.push(o.assignTexture(r,"iridescenceThicknessMap",g.iridescenceThicknessTexture)),Promise.all(d)}}class EO{constructor(t){this.parser=t,this.name=Br.KHR_MATERIALS_SHEEN}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:Sc}extendMaterialParams(t,r){const o=this.parser,l=o.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=[];r.sheenColor=new sr(0,0,0),r.sheenRoughness=0,r.sheen=1;const g=l.extensions[this.name];return g.sheenColorFactor!==void 0&&r.sheenColor.fromArray(g.sheenColorFactor),g.sheenRoughnessFactor!==void 0&&(r.sheenRoughness=g.sheenRoughnessFactor),g.sheenColorTexture!==void 0&&d.push(o.assignTexture(r,"sheenColorMap",g.sheenColorTexture,Or)),g.sheenRoughnessTexture!==void 0&&d.push(o.assignTexture(r,"sheenRoughnessMap",g.sheenRoughnessTexture)),Promise.all(d)}}class wO{constructor(t){this.parser=t,this.name=Br.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:Sc}extendMaterialParams(t,r){const o=this.parser,l=o.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=[],g=l.extensions[this.name];return g.transmissionFactor!==void 0&&(r.transmission=g.transmissionFactor),g.transmissionTexture!==void 0&&d.push(o.assignTexture(r,"transmissionMap",g.transmissionTexture)),Promise.all(d)}}class CO{constructor(t){this.parser=t,this.name=Br.KHR_MATERIALS_VOLUME}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:Sc}extendMaterialParams(t,r){const o=this.parser,l=o.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=[],g=l.extensions[this.name];r.thickness=g.thicknessFactor!==void 0?g.thicknessFactor:0,g.thicknessTexture!==void 0&&d.push(o.assignTexture(r,"thicknessMap",g.thicknessTexture)),r.attenuationDistance=g.attenuationDistance||0;const v=g.attenuationColor||[1,1,1];return r.attenuationColor=new sr(v[0],v[1],v[2]),Promise.all(d)}}class IO{constructor(t){this.parser=t,this.name=Br.KHR_MATERIALS_IOR}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:Sc}extendMaterialParams(t,r){const l=this.parser.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=l.extensions[this.name];return r.ior=d.ior!==void 0?d.ior:1.5,Promise.resolve()}}class MO{constructor(t){this.parser=t,this.name=Br.KHR_MATERIALS_SPECULAR}getMaterialType(t){const o=this.parser.json.materials[t];return!o.extensions||!o.extensions[this.name]?null:Sc}extendMaterialParams(t,r){const o=this.parser,l=o.json.materials[t];if(!l.extensions||!l.extensions[this.name])return Promise.resolve();const d=[],g=l.extensions[this.name];r.specularIntensity=g.specularFactor!==void 0?g.specularFactor:1,g.specularTexture!==void 0&&d.push(o.assignTexture(r,"specularIntensityMap",g.specularTexture));const v=g.specularColorFactor||[1,1,1];return r.specularColor=new sr(v[0],v[1],v[2]),g.specularColorTexture!==void 0&&d.push(o.assignTexture(r,"specularColorMap",g.specularColorTexture,Or)),Promise.all(d)}}class xO{constructor(t){this.parser=t,this.name=Br.KHR_TEXTURE_BASISU}loadTexture(t){const r=this.parser,o=r.json,l=o.textures[t];if(!l.extensions||!l.extensions[this.name])return null;const d=l.extensions[this.name],g=r.options.ktx2Loader;if(!g){if(o.extensionsRequired&&o.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return r.loadTextureImage(t,d.source,g)}}class RO{constructor(t){this.parser=t,this.name=Br.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const r=this.name,o=this.parser,l=o.json,d=l.textures[t];if(!d.extensions||!d.extensions[r])return null;const g=d.extensions[r],v=l.images[g.source];let A=o.textureLoader;if(v.uri){const E=o.options.manager.getHandler(v.uri);E!==null&&(A=E)}return this.detectSupport().then(function(E){if(E)return o.loadTextureImage(t,g.source,A);if(l.extensionsRequired&&l.extensionsRequired.indexOf(r)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return o.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const r=new Image;r.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",r.onload=r.onerror=function(){t(r.height===1)}})),this.isSupported}}class TO{constructor(t){this.name=Br.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const r=this.parser.json,o=r.bufferViews[t];if(o.extensions&&o.extensions[this.name]){const l=o.extensions[this.name],d=this.parser.getDependency("buffer",l.buffer),g=this.parser.options.meshoptDecoder;if(!g||!g.supported){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return d.then(function(v){const A=l.byteOffset||0,E=l.byteLength||0,R=l.count,I=l.byteStride,P=new Uint8Array(v,A,E);return g.decodeGltfBufferAsync?g.decodeGltfBufferAsync(R,I,P,l.mode,l.filter).then(function(B){return B.buffer}):g.ready.then(function(){const B=new ArrayBuffer(R*I);return g.decodeGltfBuffer(new Uint8Array(B),R,I,P,l.mode,l.filter),B})})}else return null}}const xw="glTF",kf=12,Rw={JSON:1313821514,BIN:5130562};class PO{constructor(t){this.name=Br.KHR_BINARY_GLTF,this.content=null,this.body=null;const r=new DataView(t,0,kf);if(this.header={magic:sa.decodeText(new Uint8Array(t.slice(0,4))),version:r.getUint32(4,!0),length:r.getUint32(8,!0)},this.header.magic!==xw)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const o=this.header.length-kf,l=new DataView(t,kf);let d=0;for(;d<o;){const g=l.getUint32(d,!0);d+=4;const v=l.getUint32(d,!0);if(d+=4,v===Rw.JSON){const A=new Uint8Array(t,kf+d,g);this.content=sa.decodeText(A)}else if(v===Rw.BIN){const A=kf+d;this.body=t.slice(A,A+g)}d+=g}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class NO{constructor(t,r){if(!r)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Br.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=r,this.dracoLoader.preload()}decodePrimitive(t,r){const o=this.json,l=this.dracoLoader,d=t.extensions[this.name].bufferView,g=t.extensions[this.name].attributes,v={},A={},E={};for(const R in g){const I=cA[R]||R.toLowerCase();v[I]=g[R]}for(const R in t.attributes){const I=cA[R]||R.toLowerCase();if(g[R]!==void 0){const P=o.accessors[t.attributes[R]],B=Lf[P.componentType];E[I]=B.name,A[I]=P.normalized===!0}}return r.getDependency("bufferView",d).then(function(R){return new Promise(function(I){l.decodeDracoFile(R,function(P){for(const B in P.attributes){const V=P.attributes[B],O=A[B];O!==void 0&&(V.normalized=O)}I(P)},v,E)})})}}class DO{constructor(){this.name=Br.KHR_TEXTURE_TRANSFORM}extendTexture(t,r){return r.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),r.offset===void 0&&r.rotation===void 0&&r.scale===void 0||(t=t.clone(),r.offset!==void 0&&t.offset.fromArray(r.offset),r.rotation!==void 0&&(t.rotation=r.rotation),r.scale!==void 0&&t.repeat.fromArray(r.scale),t.needsUpdate=!0),t}}class lA extends pf{constructor(t){super(),this.isGLTFSpecularGlossinessMaterial=!0;const r=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),o=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),l=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),d=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),g=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),v={specular:{value:new sr().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=v,this.onBeforeCompile=function(A){for(const E in v)A.uniforms[E]=v[E];A.fragmentShader=A.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",r).replace("#include <metalnessmap_pars_fragment>",o).replace("#include <roughnessmap_fragment>",l).replace("#include <metalnessmap_fragment>",d).replace("#include <lights_physical_fragment>",g)},Object.defineProperties(this,{specular:{get:function(){return v.specular.value},set:function(A){v.specular.value=A}},specularMap:{get:function(){return v.specularMap.value},set:function(A){v.specularMap.value=A,A?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return v.glossiness.value},set:function(A){v.glossiness.value=A}},glossinessMap:{get:function(){return v.glossinessMap.value},set:function(A){v.glossinessMap.value=A,A?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}copy(t){return super.copy(t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class BO{constructor(){this.name=Br.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return lA}extendParams(t,r,o){const l=r.extensions[this.name];t.color=new sr(1,1,1),t.opacity=1;const d=[];if(Array.isArray(l.diffuseFactor)){const g=l.diffuseFactor;t.color.fromArray(g),t.opacity=g[3]}if(l.diffuseTexture!==void 0&&d.push(o.assignTexture(t,"map",l.diffuseTexture,Or)),t.emissive=new sr(0,0,0),t.glossiness=l.glossinessFactor!==void 0?l.glossinessFactor:1,t.specular=new sr(1,1,1),Array.isArray(l.specularFactor)&&t.specular.fromArray(l.specularFactor),l.specularGlossinessTexture!==void 0){const g=l.specularGlossinessTexture;d.push(o.assignTexture(t,"glossinessMap",g)),d.push(o.assignTexture(t,"specularMap",g,Or))}return Promise.all(d)}createMaterial(t){const r=new lA(t);return r.fog=!0,r.color=t.color,r.map=t.map===void 0?null:t.map,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=t.aoMap===void 0?null:t.aoMap,r.aoMapIntensity=1,r.emissive=t.emissive,r.emissiveIntensity=t.emissiveIntensity===void 0?1:t.emissiveIntensity,r.emissiveMap=t.emissiveMap===void 0?null:t.emissiveMap,r.bumpMap=t.bumpMap===void 0?null:t.bumpMap,r.bumpScale=1,r.normalMap=t.normalMap===void 0?null:t.normalMap,r.normalMapType=pp,t.normalScale&&(r.normalScale=t.normalScale),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=t.specularMap===void 0?null:t.specularMap,r.specular=t.specular,r.glossinessMap=t.glossinessMap===void 0?null:t.glossinessMap,r.glossiness=t.glossiness,r.alphaMap=null,r.envMap=t.envMap===void 0?null:t.envMap,r.envMapIntensity=1,r}}class kO{constructor(){this.name=Br.KHR_MESH_QUANTIZATION}}class Tw extends mf{constructor(t,r,o,l){super(t,r,o,l)}copySampleValue_(t){const r=this.resultBuffer,o=this.sampleValues,l=this.valueSize,d=t*l*3+l;for(let g=0;g!==l;g++)r[g]=o[d+g];return r}interpolate_(t,r,o,l){const d=this.resultBuffer,g=this.sampleValues,v=this.valueSize,A=v*2,E=v*3,R=l-r,I=(o-r)/R,P=I*I,B=P*I,V=t*E,O=V-E,k=-2*B+3*P,H=B-P,W=1-k,J=H-P+I;for(let te=0;te!==v;te++){const j=g[O+te+v],ne=g[O+te+A]*R,Ae=g[V+te+v],q=g[V+te]*R;d[te]=W*j+J*ne+k*Ae+H*q}return d}}const LO=new Ds;class OO extends Tw{interpolate_(t,r,o,l){const d=super.interpolate_(t,r,o,l);return LO.fromArray(d).normalize().toArray(d),d}}const La={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Lf={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Pw={9728:Mt,9729:pr,9984:Wn,9985:oi,9986:Ir,9987:zn},Nw={33071:Qe,33648:Et,10497:Ee},Dw={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},cA={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Il={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},FO={CUBICSPLINE:void 0,LINEAR:uc,STEP:bu},uA={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function VO(m){return m.DefaultMaterial===void 0&&(m.DefaultMaterial=new pf({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:G})),m.DefaultMaterial}function Of(m,t,r){for(const o in r.extensions)m[o]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[o]=r.extensions[o])}function Mc(m,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(m.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function GO(m,t,r){let o=!1,l=!1,d=!1;for(let E=0,R=t.length;E<R;E++){const I=t[E];if(I.POSITION!==void 0&&(o=!0),I.NORMAL!==void 0&&(l=!0),I.COLOR_0!==void 0&&(d=!0),o&&l&&d)break}if(!o&&!l&&!d)return Promise.resolve(m);const g=[],v=[],A=[];for(let E=0,R=t.length;E<R;E++){const I=t[E];if(o){const P=I.POSITION!==void 0?r.getDependency("accessor",I.POSITION):m.attributes.position;g.push(P)}if(l){const P=I.NORMAL!==void 0?r.getDependency("accessor",I.NORMAL):m.attributes.normal;v.push(P)}if(d){const P=I.COLOR_0!==void 0?r.getDependency("accessor",I.COLOR_0):m.attributes.color;A.push(P)}}return Promise.all([Promise.all(g),Promise.all(v),Promise.all(A)]).then(function(E){const R=E[0],I=E[1],P=E[2];return o&&(m.morphAttributes.position=R),l&&(m.morphAttributes.normal=I),d&&(m.morphAttributes.color=P),m.morphTargetsRelative=!0,m})}function UO(m,t){if(m.updateMorphTargets(),t.weights!==void 0)for(let r=0,o=t.weights.length;r<o;r++)m.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){const r=t.extras.targetNames;if(m.morphTargetInfluences.length===r.length){m.morphTargetDictionary={};for(let o=0,l=r.length;o<l;o++)m.morphTargetDictionary[r[o]]=o}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function HO(m){const t=m.extensions&&m.extensions[Br.KHR_DRACO_MESH_COMPRESSION];let r;return t?r="draco:"+t.bufferView+":"+t.indices+":"+Bw(t.attributes):r=m.indices+":"+Bw(m.attributes)+":"+m.mode,r}function Bw(m){let t="";const r=Object.keys(m).sort();for(let o=0,l=r.length;o<l;o++)t+=r[o]+":"+m[r[o]]+";";return t}function dA(m){switch(m){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function QO(m){return m.search(/\.jpe?g($|\?)/i)>0||m.search(/^data\:image\/jpeg/)===0?"image/jpeg":m.search(/\.webp($|\?)/i)>0||m.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class XO{constructor(t={},r={}){this.json=t,this.extensions={},this.plugins={},this.options=r,this.cache=new vO,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const o=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,l=navigator.userAgent.indexOf("Firefox")>-1,d=l?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||o||l&&d<98?this.textureLoader=new I_(this.options.manager):this.textureLoader=new t4(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new to(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,r){const o=this,l=this.json,d=this.extensions;this.cache.removeAll(),this._invokeAll(function(g){return g._markDefs&&g._markDefs()}),Promise.all(this._invokeAll(function(g){return g.beforeRoot&&g.beforeRoot()})).then(function(){return Promise.all([o.getDependencies("scene"),o.getDependencies("animation"),o.getDependencies("camera")])}).then(function(g){const v={scene:g[0][l.scene||0],scenes:g[0],animations:g[1],cameras:g[2],asset:l.asset,parser:o,userData:{}};Of(d,v,l),Mc(v,l),Promise.all(o._invokeAll(function(A){return A.afterRoot&&A.afterRoot(v)})).then(function(){t(v)})}).catch(r)}_markDefs(){const t=this.json.nodes||[],r=this.json.skins||[],o=this.json.meshes||[];for(let l=0,d=r.length;l<d;l++){const g=r[l].joints;for(let v=0,A=g.length;v<A;v++)t[g[v]].isBone=!0}for(let l=0,d=t.length;l<d;l++){const g=t[l];g.mesh!==void 0&&(this._addNodeRef(this.meshCache,g.mesh),g.skin!==void 0&&(o[g.mesh].isSkinnedMesh=!0)),g.camera!==void 0&&this._addNodeRef(this.cameraCache,g.camera)}}_addNodeRef(t,r){r!==void 0&&(t.refs[r]===void 0&&(t.refs[r]=t.uses[r]=0),t.refs[r]++)}_getNodeRef(t,r,o){if(t.refs[r]<=1)return o;const l=o.clone(),d=(g,v)=>{const A=this.associations.get(g);A!=null&&this.associations.set(v,A);for(const[E,R]of g.children.entries())d(R,v.children[E])};return d(o,l),l.name+="_instance_"+t.uses[r]++,l}_invokeOne(t){const r=Object.values(this.plugins);r.push(this);for(let o=0;o<r.length;o++){const l=t(r[o]);if(l)return l}return null}_invokeAll(t){const r=Object.values(this.plugins);r.unshift(this);const o=[];for(let l=0;l<r.length;l++){const d=t(r[l]);d&&o.push(d)}return o}getDependency(t,r){const o=t+":"+r;let l=this.cache.get(o);if(!l){switch(t){case"scene":l=this.loadScene(r);break;case"node":l=this.loadNode(r);break;case"mesh":l=this._invokeOne(function(d){return d.loadMesh&&d.loadMesh(r)});break;case"accessor":l=this.loadAccessor(r);break;case"bufferView":l=this._invokeOne(function(d){return d.loadBufferView&&d.loadBufferView(r)});break;case"buffer":l=this.loadBuffer(r);break;case"material":l=this._invokeOne(function(d){return d.loadMaterial&&d.loadMaterial(r)});break;case"texture":l=this._invokeOne(function(d){return d.loadTexture&&d.loadTexture(r)});break;case"skin":l=this.loadSkin(r);break;case"animation":l=this._invokeOne(function(d){return d.loadAnimation&&d.loadAnimation(r)});break;case"camera":l=this.loadCamera(r);break;default:throw new Error("Unknown type: "+t)}this.cache.add(o,l)}return l}getDependencies(t){let r=this.cache.get(t);if(!r){const o=this,l=this.json[t+(t==="mesh"?"es":"s")]||[];r=Promise.all(l.map(function(d,g){return o.getDependency(t,g)})),this.cache.add(t,r)}return r}loadBuffer(t){const r=this.json.buffers[t],o=this.fileLoader;if(r.type&&r.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+r.type+" buffer type is not supported.");if(r.uri===void 0&&t===0)return Promise.resolve(this.extensions[Br.KHR_BINARY_GLTF].body);const l=this.options;return new Promise(function(d,g){o.load(sa.resolveURL(r.uri,l.path),d,void 0,function(){g(new Error('THREE.GLTFLoader: Failed to load buffer "'+r.uri+'".'))})})}loadBufferView(t){const r=this.json.bufferViews[t];return this.getDependency("buffer",r.buffer).then(function(o){const l=r.byteLength||0,d=r.byteOffset||0;return o.slice(d,d+l)})}loadAccessor(t){const r=this,o=this.json,l=this.json.accessors[t];if(l.bufferView===void 0&&l.sparse===void 0)return Promise.resolve(null);const d=[];return l.bufferView!==void 0?d.push(this.getDependency("bufferView",l.bufferView)):d.push(null),l.sparse!==void 0&&(d.push(this.getDependency("bufferView",l.sparse.indices.bufferView)),d.push(this.getDependency("bufferView",l.sparse.values.bufferView))),Promise.all(d).then(function(g){const v=g[0],A=Dw[l.type],E=Lf[l.componentType],R=E.BYTES_PER_ELEMENT,I=R*A,P=l.byteOffset||0,B=l.bufferView!==void 0?o.bufferViews[l.bufferView].byteStride:void 0,V=l.normalized===!0;let O,k;if(B&&B!==I){const H=Math.floor(P/B),W="InterleavedBuffer:"+l.bufferView+":"+l.componentType+":"+H+":"+l.count;let J=r.cache.get(W);J||(O=new E(v,H*B,l.count*B/R),J=new XS(O,B/R),r.cache.add(W,J)),k=new uf(J,A,P%B/R,V)}else v===null?O=new E(l.count*A):O=new E(v,P,l.count*A),k=new ri(O,A,V);if(l.sparse!==void 0){const H=Dw.SCALAR,W=Lf[l.sparse.indices.componentType],J=l.sparse.indices.byteOffset||0,te=l.sparse.values.byteOffset||0,j=new W(g[1],J,l.sparse.count*H),ne=new E(g[2],te,l.sparse.count*A);v!==null&&(k=new ri(k.array.slice(),k.itemSize,k.normalized));for(let Ae=0,q=j.length;Ae<q;Ae++){const ge=j[Ae];if(k.setX(ge,ne[Ae*A]),A>=2&&k.setY(ge,ne[Ae*A+1]),A>=3&&k.setZ(ge,ne[Ae*A+2]),A>=4&&k.setW(ge,ne[Ae*A+3]),A>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return k})}loadTexture(t){const r=this.json,o=this.options,d=r.textures[t].source,g=r.images[d];let v=this.textureLoader;if(g.uri){const A=o.manager.getHandler(g.uri);A!==null&&(v=A)}return this.loadTextureImage(t,d,v)}loadTextureImage(t,r,o){const l=this,d=this.json,g=d.textures[t],v=d.images[r],A=(v.uri||v.bufferView)+":"+g.sampler;if(this.textureCache[A])return this.textureCache[A];const E=this.loadImageSource(r,o).then(function(R){R.flipY=!1,g.name&&(R.name=g.name);const P=(d.samplers||{})[g.sampler]||{};return R.magFilter=Pw[P.magFilter]||pr,R.minFilter=Pw[P.minFilter]||zn,R.wrapS=Nw[P.wrapS]||Ee,R.wrapT=Nw[P.wrapT]||Ee,l.associations.set(R,{textures:t}),R}).catch(function(){return null});return this.textureCache[A]=E,E}loadImageSource(t,r){const o=this,l=this.json,d=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(I=>I.clone());const g=l.images[t],v=self.URL||self.webkitURL;let A=g.uri||"",E=!1;if(g.bufferView!==void 0)A=o.getDependency("bufferView",g.bufferView).then(function(I){E=!0;const P=new Blob([I],{type:g.mimeType});return A=v.createObjectURL(P),A});else if(g.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const R=Promise.resolve(A).then(function(I){return new Promise(function(P,B){let V=P;r.isImageBitmapLoader===!0&&(V=function(O){const k=new Bi(O);k.needsUpdate=!0,P(k)}),r.load(sa.resolveURL(I,d.path),V,void 0,B)})}).then(function(I){return E===!0&&v.revokeObjectURL(A),I.userData.mimeType=g.mimeType||QO(g.uri),I}).catch(function(I){throw console.error("THREE.GLTFLoader: Couldn't load texture",A),I});return this.sourceCache[t]=R,R}assignTexture(t,r,o,l){const d=this;return this.getDependency("texture",o.index).then(function(g){if(o.texCoord!==void 0&&o.texCoord!=0&&!(r==="aoMap"&&o.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+o.texCoord+" for texture "+r+" not yet supported."),d.extensions[Br.KHR_TEXTURE_TRANSFORM]){const v=o.extensions!==void 0?o.extensions[Br.KHR_TEXTURE_TRANSFORM]:void 0;if(v){const A=d.associations.get(g);g=d.extensions[Br.KHR_TEXTURE_TRANSFORM].extendTexture(g,v),d.associations.set(g,A)}}return l!==void 0&&(g.encoding=l),t[r]=g,g})}assignFinalMaterial(t){const r=t.geometry;let o=t.material;const l=r.attributes.tangent===void 0,d=r.attributes.color!==void 0,g=r.attributes.normal===void 0;if(t.isPoints){const v="PointsMaterial:"+o.uuid;let A=this.cache.get(v);A||(A=new oE,Zs.prototype.copy.call(A,o),A.color.copy(o.color),A.map=o.map,A.sizeAttenuation=!1,this.cache.add(v,A)),o=A}else if(t.isLine){const v="LineBasicMaterial:"+o.uuid;let A=this.cache.get(v);A||(A=new jp,Zs.prototype.copy.call(A,o),A.color.copy(o.color),this.cache.add(v,A)),o=A}if(l||d||g){let v="ClonedMaterial:"+o.uuid+":";o.isGLTFSpecularGlossinessMaterial&&(v+="specular-glossiness:"),l&&(v+="derivative-tangents:"),d&&(v+="vertex-colors:"),g&&(v+="flat-shading:");let A=this.cache.get(v);A||(A=o.clone(),d&&(A.vertexColors=!0),g&&(A.flatShading=!0),l&&(A.normalScale&&(A.normalScale.y*=-1),A.clearcoatNormalScale&&(A.clearcoatNormalScale.y*=-1)),this.cache.add(v,A),this.associations.set(A,this.associations.get(o))),o=A}o.aoMap&&r.attributes.uv2===void 0&&r.attributes.uv!==void 0&&r.setAttribute("uv2",r.attributes.uv),t.material=o}getMaterialType(){return pf}loadMaterial(t){const r=this,o=this.json,l=this.extensions,d=o.materials[t];let g;const v={},A=d.extensions||{},E=[];if(A[Br.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const I=l[Br.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];g=I.getMaterialType(),E.push(I.extendParams(v,d,r))}else if(A[Br.KHR_MATERIALS_UNLIT]){const I=l[Br.KHR_MATERIALS_UNLIT];g=I.getMaterialType(),E.push(I.extendParams(v,d,r))}else{const I=d.pbrMetallicRoughness||{};if(v.color=new sr(1,1,1),v.opacity=1,Array.isArray(I.baseColorFactor)){const P=I.baseColorFactor;v.color.fromArray(P),v.opacity=P[3]}I.baseColorTexture!==void 0&&E.push(r.assignTexture(v,"map",I.baseColorTexture,Or)),v.metalness=I.metallicFactor!==void 0?I.metallicFactor:1,v.roughness=I.roughnessFactor!==void 0?I.roughnessFactor:1,I.metallicRoughnessTexture!==void 0&&(E.push(r.assignTexture(v,"metalnessMap",I.metallicRoughnessTexture)),E.push(r.assignTexture(v,"roughnessMap",I.metallicRoughnessTexture))),g=this._invokeOne(function(P){return P.getMaterialType&&P.getMaterialType(t)}),E.push(Promise.all(this._invokeAll(function(P){return P.extendMaterialParams&&P.extendMaterialParams(t,v)})))}d.doubleSided===!0&&(v.side=$);const R=d.alphaMode||uA.OPAQUE;if(R===uA.BLEND?(v.transparent=!0,v.depthWrite=!1):(v.transparent=!1,R===uA.MASK&&(v.alphaTest=d.alphaCutoff!==void 0?d.alphaCutoff:.5)),d.normalTexture!==void 0&&g!==na&&(E.push(r.assignTexture(v,"normalMap",d.normalTexture)),v.normalScale=new Fn(1,1),d.normalTexture.scale!==void 0)){const I=d.normalTexture.scale;v.normalScale.set(I,I)}return d.occlusionTexture!==void 0&&g!==na&&(E.push(r.assignTexture(v,"aoMap",d.occlusionTexture)),d.occlusionTexture.strength!==void 0&&(v.aoMapIntensity=d.occlusionTexture.strength)),d.emissiveFactor!==void 0&&g!==na&&(v.emissive=new sr().fromArray(d.emissiveFactor)),d.emissiveTexture!==void 0&&g!==na&&E.push(r.assignTexture(v,"emissiveMap",d.emissiveTexture,Or)),Promise.all(E).then(function(){let I;return g===lA?I=l[Br.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(v):I=new g(v),d.name&&(I.name=d.name),Mc(I,d),r.associations.set(I,{materials:t}),d.extensions&&Of(l,I,d),I})}createUniqueName(t){const r=Ur.sanitizeNodeName(t||"");let o=r;for(let l=1;this.nodeNamesUsed[o];++l)o=r+"_"+l;return this.nodeNamesUsed[o]=!0,o}loadGeometries(t){const r=this,o=this.extensions,l=this.primitiveCache;function d(v){return o[Br.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(v,r).then(function(A){return Lw(A,v,r)})}const g=[];for(let v=0,A=t.length;v<A;v++){const E=t[v],R=HO(E),I=l[R];if(I)g.push(I.promise);else{let P;E.extensions&&E.extensions[Br.KHR_DRACO_MESH_COMPRESSION]?P=d(E):P=Lw(new Oi,E,r),l[R]={primitive:E,promise:P},g.push(P)}}return Promise.all(g)}loadMesh(t){const r=this,o=this.json,l=this.extensions,d=o.meshes[t],g=d.primitives,v=[];for(let A=0,E=g.length;A<E;A++){const R=g[A].material===void 0?VO(this.cache):this.getDependency("material",g[A].material);v.push(R)}return v.push(r.loadGeometries(g)),Promise.all(v).then(function(A){const E=A.slice(0,A.length-1),R=A[A.length-1],I=[];for(let B=0,V=R.length;B<V;B++){const O=R[B],k=g[B];let H;const W=E[B];if(k.mode===La.TRIANGLES||k.mode===La.TRIANGLE_STRIP||k.mode===La.TRIANGLE_FAN||k.mode===void 0)H=d.isSkinnedMesh===!0?new D8(O,W):new Fi(O,W),H.isSkinnedMesh===!0&&!H.geometry.attributes.skinWeight.normalized&&H.normalizeSkinWeights(),k.mode===La.TRIANGLE_STRIP?H.geometry=Ow(H.geometry,qD):k.mode===La.TRIANGLE_FAN&&(H.geometry=Ow(H.geometry,j1));else if(k.mode===La.LINES)H=new E_(O,W);else if(k.mode===La.LINE_STRIP)H=new S_(O,W);else if(k.mode===La.LINE_LOOP)H=new k8(O,W);else if(k.mode===La.POINTS)H=new L8(O,W);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+k.mode);Object.keys(H.geometry.morphAttributes).length>0&&UO(H,d),H.name=r.createUniqueName(d.name||"mesh_"+t),Mc(H,d),k.extensions&&Of(l,H,k),r.assignFinalMaterial(H),I.push(H)}for(let B=0,V=I.length;B<V;B++)r.associations.set(I[B],{meshes:t,primitives:B});if(I.length===1)return I[0];const P=new Ls;r.associations.set(P,{meshes:t});for(let B=0,V=I.length;B<V;B++)P.add(I[B]);return P})}loadCamera(t){let r;const o=this.json.cameras[t],l=o[o.type];if(!l){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return o.type==="perspective"?r=new Yi(J1.radToDeg(l.yfov),l.aspectRatio||1,l.znear||1,l.zfar||2e6):o.type==="orthographic"&&(r=new Vp(-l.xmag,l.xmag,l.ymag,-l.ymag,l.znear,l.zfar)),o.name&&(r.name=this.createUniqueName(o.name)),Mc(r,o),Promise.resolve(r)}loadSkin(t){const r=this.json.skins[t],o={joints:r.joints};return r.inverseBindMatrices===void 0?Promise.resolve(o):this.getDependency("accessor",r.inverseBindMatrices).then(function(l){return o.inverseBindMatrices=l,o})}loadAnimation(t){const o=this.json.animations[t],l=[],d=[],g=[],v=[],A=[];for(let E=0,R=o.channels.length;E<R;E++){const I=o.channels[E],P=o.samplers[I.sampler],B=I.target,V=B.node,O=o.parameters!==void 0?o.parameters[P.input]:P.input,k=o.parameters!==void 0?o.parameters[P.output]:P.output;l.push(this.getDependency("node",V)),d.push(this.getDependency("accessor",O)),g.push(this.getDependency("accessor",k)),v.push(P),A.push(B)}return Promise.all([Promise.all(l),Promise.all(d),Promise.all(g),Promise.all(v),Promise.all(A)]).then(function(E){const R=E[0],I=E[1],P=E[2],B=E[3],V=E[4],O=[];for(let H=0,W=R.length;H<W;H++){const J=R[H],te=I[H],j=P[H],ne=B[H],Ae=V[H];if(J===void 0)continue;J.updateMatrix();let q;switch(Il[Ae.path]){case Il.weights:q=gf;break;case Il.rotation:q=Ec;break;case Il.position:case Il.scale:default:q=vf;break}const ge=J.name?J.name:J.uuid,we=ne.interpolation!==void 0?FO[ne.interpolation]:uc,Fe=[];Il[Ae.path]===Il.weights?J.traverse(function(Pe){Pe.morphTargetInfluences&&Fe.push(Pe.name?Pe.name:Pe.uuid)}):Fe.push(ge);let tt=j.array;if(j.normalized){const Pe=dA(tt.constructor),Oe=new Float32Array(tt.length);for(let st=0,ht=tt.length;st<ht;st++)Oe[st]=tt[st]*Pe;tt=Oe}for(let Pe=0,Oe=Fe.length;Pe<Oe;Pe++){const st=new q(Fe[Pe]+"."+Il[Ae.path],te.array,tt,we);ne.interpolation==="CUBICSPLINE"&&(st.createInterpolant=function(dt){const Le=this instanceof Ec?OO:Tw;return new Le(this.times,this.values,this.getValueSize()/3,dt)},st.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),O.push(st)}}const k=o.name?o.name:"animation_"+t;return new em(k,void 0,O)})}createNodeMesh(t){const r=this.json,o=this,l=r.nodes[t];return l.mesh===void 0?null:o.getDependency("mesh",l.mesh).then(function(d){const g=o._getNodeRef(o.meshCache,l.mesh,d);return l.weights!==void 0&&g.traverse(function(v){if(!!v.isMesh)for(let A=0,E=l.weights.length;A<E;A++)v.morphTargetInfluences[A]=l.weights[A]}),g})}loadNode(t){const r=this.json,o=this.extensions,l=this,d=r.nodes[t],g=d.name?l.createUniqueName(d.name):"";return function(){const v=[],A=l._invokeOne(function(E){return E.createNodeMesh&&E.createNodeMesh(t)});return A&&v.push(A),d.camera!==void 0&&v.push(l.getDependency("camera",d.camera).then(function(E){return l._getNodeRef(l.cameraCache,d.camera,E)})),l._invokeAll(function(E){return E.createNodeAttachment&&E.createNodeAttachment(t)}).forEach(function(E){v.push(E)}),Promise.all(v)}().then(function(v){let A;if(d.isBone===!0?A=new ZS:v.length>1?A=new Ls:v.length===1?A=v[0]:A=new _i,A!==v[0])for(let E=0,R=v.length;E<R;E++)A.add(v[E]);if(d.name&&(A.userData.name=d.name,A.name=g),Mc(A,d),d.extensions&&Of(o,A,d),d.matrix!==void 0){const E=new br;E.fromArray(d.matrix),A.applyMatrix4(E)}else d.translation!==void 0&&A.position.fromArray(d.translation),d.rotation!==void 0&&A.quaternion.fromArray(d.rotation),d.scale!==void 0&&A.scale.fromArray(d.scale);return l.associations.has(A)||l.associations.set(A,{}),l.associations.get(A).nodes=t,A})}loadScene(t){const r=this.json,o=this.extensions,l=this.json.scenes[t],d=this,g=new Ls;l.name&&(g.name=d.createUniqueName(l.name)),Mc(g,l),l.extensions&&Of(o,g,l);const v=l.nodes||[],A=[];for(let E=0,R=v.length;E<R;E++)A.push(kw(v[E],g,r,d));return Promise.all(A).then(function(){const E=R=>{const I=new Map;for(const[P,B]of d.associations)(P instanceof Zs||P instanceof Bi)&&I.set(P,B);return R.traverse(P=>{const B=d.associations.get(P);B!=null&&I.set(P,B)}),I};return d.associations=E(g),g})}}function kw(m,t,r,o){const l=r.nodes[m];return o.getDependency("node",m).then(function(d){if(l.skin===void 0)return d;let g;return o.getDependency("skin",l.skin).then(function(v){g=v;const A=[];for(let E=0,R=g.joints.length;E<R;E++)A.push(o.getDependency("node",g.joints[E]));return Promise.all(A)}).then(function(v){return d.traverse(function(A){if(!A.isMesh)return;const E=[],R=[];for(let I=0,P=v.length;I<P;I++){const B=v[I];if(B){E.push(B);const V=new br;g.inverseBindMatrices!==void 0&&V.fromArray(g.inverseBindMatrices.array,I*16),R.push(V)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',g.joints[I])}A.bind(new y_(E,R),A.matrixWorld)}),d})}).then(function(d){t.add(d);const g=[];if(l.children){const v=l.children;for(let A=0,E=v.length;A<E;A++){const R=v[A];g.push(kw(R,d,r,o))}}return Promise.all(g)})}function zO(m,t,r){const o=t.attributes,l=new ea;if(o.POSITION!==void 0){const v=r.json.accessors[o.POSITION],A=v.min,E=v.max;if(A!==void 0&&E!==void 0){if(l.set(new et(A[0],A[1],A[2]),new et(E[0],E[1],E[2])),v.normalized){const R=dA(Lf[v.componentType]);l.min.multiplyScalar(R),l.max.multiplyScalar(R)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const d=t.targets;if(d!==void 0){const v=new et,A=new et;for(let E=0,R=d.length;E<R;E++){const I=d[E];if(I.POSITION!==void 0){const P=r.json.accessors[I.POSITION],B=P.min,V=P.max;if(B!==void 0&&V!==void 0){if(A.setX(Math.max(Math.abs(B[0]),Math.abs(V[0]))),A.setY(Math.max(Math.abs(B[1]),Math.abs(V[1]))),A.setZ(Math.max(Math.abs(B[2]),Math.abs(V[2]))),P.normalized){const O=dA(Lf[P.componentType]);A.multiplyScalar(O)}v.max(A)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}l.expandByVector(v)}m.boundingBox=l;const g=new xu;l.getCenter(g.center),g.radius=l.min.distanceTo(l.max)/2,m.boundingSphere=g}function Lw(m,t,r){const o=t.attributes,l=[];function d(g,v){return r.getDependency("accessor",g).then(function(A){m.setAttribute(v,A)})}for(const g in o){const v=cA[g]||g.toLowerCase();v in m.attributes||l.push(d(o[g],v))}if(t.indices!==void 0&&!m.index){const g=r.getDependency("accessor",t.indices).then(function(v){m.setIndex(v)});l.push(g)}return Mc(m,t),zO(m,t,r),Promise.all(l).then(function(){return t.targets!==void 0?GO(m,t.targets,r):m})}function Ow(m,t){let r=m.getIndex();if(r===null){const g=[],v=m.getAttribute("position");if(v!==void 0){for(let A=0;A<v.count;A++)g.push(A);m.setIndex(g),r=m.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),m}const o=r.count-2,l=[];if(t===j1)for(let g=1;g<=o;g++)l.push(r.getX(0)),l.push(r.getX(g)),l.push(r.getX(g+1));else for(let g=0;g<o;g++)g%2===0?(l.push(r.getX(g)),l.push(r.getX(g+1)),l.push(r.getX(g+2))):(l.push(r.getX(g+2)),l.push(r.getX(g+1)),l.push(r.getX(g)));l.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const d=m.clone();return d.setIndex(l),d}class $O{constructor(t=4){this.pool=t,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(t){if(!this.workers[t]){const r=this.workerCreator();r.addEventListener("message",this._onMessage.bind(this,t)),this.workers[t]=r}}_getIdleWorker(){for(let t=0;t<this.pool;t++)if(!(this.workerStatus&1<<t))return t;return-1}_onMessage(t,r){const o=this.workersResolve[t];if(o&&o(r),this.queue.length){const{resolve:l,msg:d,transfer:g}=this.queue.shift();this.workersResolve[t]=l,this.workers[t].postMessage(d,g)}else this.workerStatus^=1<<t}setWorkerCreator(t){this.workerCreator=t}setWorkerLimit(t){this.pool=t}postMessage(t,r){return new Promise(o=>{const l=this._getIdleWorker();l!==-1?(this._initWorker(l),this.workerStatus|=1<<l,this.workersResolve[l]=o,this.workers[l].postMessage(t,r)):this.queue.push({resolve:o,msg:t,transfer:r})})}dispose(){this.workers.forEach(t=>t.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const WO=0,KO=2,jO=1,qO=2,YO=0,Fw=9,fA=15,Vw=16,hA=22,Gw=37,pA=43,Uw=76,Hw=83,Qw=97,Xw=100,zw=103,$w=109;class JO{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class Ff{constructor(t,r,o,l){this._dataView=new DataView(t.buffer,t.byteOffset+r,o),this._littleEndian=l,this._offset=0}_nextUint8(){const t=this._dataView.getUint8(this._offset);return this._offset+=1,t}_nextUint16(){const t=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,t}_nextUint32(){const t=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,t}_nextUint64(){const t=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,t}_nextInt32(){const t=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,t}_skip(t){return this._offset+=t,this}_scan(t,r=0){const o=this._offset;let l=0;for(;this._dataView.getUint8(this._offset)!==r&&l<t;)l++,this._offset++;return l<t&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+o,l)}}const ds=[171,75,84,88,32,50,48,187,13,10,26,10];function Ww(m){return typeof TextDecoder<"u"?new TextDecoder().decode(m):Buffer.from(m).toString("utf8")}function ZO(m){const t=new Uint8Array(m.buffer,m.byteOffset,ds.length);if(t[0]!==ds[0]||t[1]!==ds[1]||t[2]!==ds[2]||t[3]!==ds[3]||t[4]!==ds[4]||t[5]!==ds[5]||t[6]!==ds[6]||t[7]!==ds[7]||t[8]!==ds[8]||t[9]!==ds[9]||t[10]!==ds[10]||t[11]!==ds[11])throw new Error("Missing KTX 2.0 identifier.");const r=new JO,o=17*Uint32Array.BYTES_PER_ELEMENT,l=new Ff(m,ds.length,o,!0);r.vkFormat=l._nextUint32(),r.typeSize=l._nextUint32(),r.pixelWidth=l._nextUint32(),r.pixelHeight=l._nextUint32(),r.pixelDepth=l._nextUint32(),r.layerCount=l._nextUint32(),r.faceCount=l._nextUint32();const d=l._nextUint32();r.supercompressionScheme=l._nextUint32();const g=l._nextUint32(),v=l._nextUint32(),A=l._nextUint32(),E=l._nextUint32(),R=l._nextUint64(),I=l._nextUint64(),P=new Ff(m,ds.length+o,3*d*8,!0);for(let dt=0;dt<d;dt++)r.levels.push({levelData:new Uint8Array(m.buffer,m.byteOffset+P._nextUint64(),P._nextUint64()),uncompressedByteLength:P._nextUint64()});const B=new Ff(m,g,v,!0),V={vendorId:B._skip(4)._nextUint16(),descriptorType:B._nextUint16(),versionNumber:B._nextUint16(),descriptorBlockSize:B._nextUint16(),colorModel:B._nextUint8(),colorPrimaries:B._nextUint8(),transferFunction:B._nextUint8(),flags:B._nextUint8(),texelBlockDimension:[B._nextUint8(),B._nextUint8(),B._nextUint8(),B._nextUint8()],bytesPlane:[B._nextUint8(),B._nextUint8(),B._nextUint8(),B._nextUint8(),B._nextUint8(),B._nextUint8(),B._nextUint8(),B._nextUint8()],samples:[]},O=(V.descriptorBlockSize/4-6)/4;for(let dt=0;dt<O;dt++){const Le={bitOffset:B._nextUint16(),bitLength:B._nextUint8(),channelType:B._nextUint8(),samplePosition:[B._nextUint8(),B._nextUint8(),B._nextUint8(),B._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&Le.channelType?(Le.sampleLower=B._nextInt32(),Le.sampleUpper=B._nextInt32()):(Le.sampleLower=B._nextUint32(),Le.sampleUpper=B._nextUint32()),V.samples[dt]=Le}r.dataFormatDescriptor.length=0,r.dataFormatDescriptor.push(V);const k=new Ff(m,A,E,!0);for(;k._offset<E;){const dt=k._nextUint32(),Le=k._scan(dt),Ze=Ww(Le),lt=k._scan(dt-Le.byteLength);r.keyValue[Ze]=Ze.match(/^ktx/i)?Ww(lt):lt,k._offset%4&&k._skip(4-k._offset%4)}if(I<=0)return r;const H=new Ff(m,R,I,!0),W=H._nextUint16(),J=H._nextUint16(),te=H._nextUint32(),j=H._nextUint32(),ne=H._nextUint32(),Ae=H._nextUint32(),q=[];for(let dt=0;dt<d;dt++)q.push({imageFlags:H._nextUint32(),rgbSliceByteOffset:H._nextUint32(),rgbSliceByteLength:H._nextUint32(),alphaSliceByteOffset:H._nextUint32(),alphaSliceByteLength:H._nextUint32()});const ge=R+H._offset,we=ge+te,Fe=we+j,tt=Fe+ne,Pe=new Uint8Array(m.buffer,m.byteOffset+ge,te),Oe=new Uint8Array(m.buffer,m.byteOffset+we,j),st=new Uint8Array(m.buffer,m.byteOffset+Fe,ne),ht=new Uint8Array(m.buffer,m.byteOffset+tt,Ae);return r.globalData={endpointCount:W,selectorCount:J,imageDescs:q,endpointsData:Pe,selectorsData:Oe,tablesData:st,extendedData:ht},r}let mA,Oa,gA;const vA={env:{emscripten_notify_memory_growth:function(m){gA=new Uint8Array(Oa.exports.memory.buffer)}}};class eF{init(){return mA||(mA=typeof fetch<"u"?fetch("data:application/wasm;base64,"+Kw).then(t=>t.arrayBuffer()).then(t=>WebAssembly.instantiate(t,vA)).then(this._init):WebAssembly.instantiate(Buffer.from(Kw,"base64"),vA).then(this._init),mA)}_init(t){Oa=t.instance,vA.env.emscripten_notify_memory_growth(0)}decode(t,r=0){if(!Oa)throw new Error("ZSTDDecoder: Await .init() before decoding.");const o=t.byteLength,l=Oa.exports.malloc(o);gA.set(t,l),r=r||Number(Oa.exports.ZSTD_findDecompressedSize(l,o));const d=Oa.exports.malloc(r),g=Oa.exports.ZSTD_decompress(d,r,l,o),v=gA.slice(d,d+g);return Oa.exports.free(l),Oa.exports.free(d),v}}const Kw="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ",_A=new WeakMap;let AA=0,yA;class la extends ia{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new $O,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerPool.setWorkerLimit(t),this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},t.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const t=new to(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const r=t.loadAsync("basis_transcoder.js"),o=new to(this.manager);o.setPath(this.transcoderPath),o.setResponseType("arraybuffer"),o.setWithCredentials(this.withCredentials);const l=o.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([r,l]).then(([d,g])=>{const v=la.BasisWorker.toString(),A=["/* constants */","let _EngineFormat = "+JSON.stringify(la.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(la.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(la.BasisFormat),"/* basis_transcoder.js */",d,"/* worker */",v.substring(v.indexOf("{")+1,v.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([A])),this.transcoderBinary=g,this.workerPool.setWorkerCreator(()=>{const E=new Worker(this.workerSourceURL),R=this.transcoderBinary.slice(0);return E.postMessage({type:"init",config:this.workerConfig,transcoderBinary:R},[R]),E})}),AA>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),AA++}return this.transcoderPending}load(t,r,o,l){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const d=new to(this.manager);d.setResponseType("arraybuffer"),d.setWithCredentials(this.withCredentials),d.load(t,g=>{if(_A.has(g))return _A.get(g).promise.then(r).catch(l);this._createTexture(g).then(v=>r?r(v):null).catch(l)},o,l)}_createTextureFrom(t){const{mipmaps:r,width:o,height:l,format:d,type:g,error:v,dfdTransferFn:A,dfdFlags:E}=t;if(g==="error")return Promise.reject(v);const R=new O8(r,o,l,d,Mr);return R.minFilter=r.length===1?pr:zn,R.magFilter=pr,R.generateMipmaps=!1,R.needsUpdate=!0,R.encoding=A===qO?Or:bo,R.premultiplyAlpha=!!(E&jO),R}_createTexture(t,r={}){const o=ZO(new Uint8Array(t));if(o.vkFormat!==YO)return nF(o);const l=r,d=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:l},[t])).then(g=>this._createTextureFrom(g.data));return _A.set(t,{promise:d}),d}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),AA--,this}}la.BasisFormat={ETC1S:0,UASTC_4x4:1},la.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},la.EngineFormat={RGBAFormat:ji,RGBA_ASTC_4x4_Format:Nv,RGBA_BPTC_Format:Dv,RGBA_ETC2_EAC_Format:Pv,RGBA_PVRTC_4BPPV1_Format:Rv,RGBA_S3TC_DXT5_Format:fp,RGB_ETC1_Format:k1,RGB_ETC2_Format:Tv,RGB_PVRTC_4BPPV1_Format:xv,RGB_S3TC_DXT1_Format:dp},la.BasisWorker=function(){let m,t,r;const o=_EngineFormat,l=_TranscoderFormat,d=_BasisFormat;self.addEventListener("message",function(B){const V=B.data;switch(V.type){case"init":m=V.config,g(V.transcoderBinary);break;case"transcode":t.then(()=>{try{const{width:O,height:k,hasAlpha:H,mipmaps:W,format:J,dfdTransferFn:te,dfdFlags:j}=v(V.buffer),ne=[];for(let Ae=0;Ae<W.length;++Ae)ne.push(W[Ae].data.buffer);self.postMessage({type:"transcode",id:V.id,width:O,height:k,hasAlpha:H,mipmaps:W,format:J,dfdTransferFn:te,dfdFlags:j},ne)}catch(O){console.error(O),self.postMessage({type:"error",id:V.id,error:O.message})}});break}});function g(B){t=new Promise(V=>{r={wasmBinary:B,onRuntimeInitialized:V},BASIS(r)}).then(()=>{r.initializeBasis(),r.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function v(B){const V=new r.KTX2File(new Uint8Array(B));function O(){V.close(),V.delete()}if(!V.isValid())throw O(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const k=V.isUASTC()?d.UASTC_4x4:d.ETC1S,H=V.getWidth(),W=V.getHeight(),J=V.getLevels(),te=V.getHasAlpha(),j=V.getDFDTransferFunc(),ne=V.getDFDFlags(),{transcoderFormat:Ae,engineFormat:q}=I(k,H,W,te);if(!H||!W||!J)throw O(),new Error("THREE.KTX2Loader:	Invalid texture");if(!V.startTranscoding())throw O(),new Error("THREE.KTX2Loader: .startTranscoding failed");const ge=[];for(let we=0;we<J;we++){const Fe=V.getImageLevelInfo(we,0,0),tt=Fe.origWidth,Pe=Fe.origHeight,Oe=new Uint8Array(V.getImageTranscodedSizeInBytes(we,0,0,Ae));if(!V.transcodeImage(Oe,we,0,0,Ae,0,-1,-1))throw O(),new Error("THREE.KTX2Loader: .transcodeImage failed.");ge.push({data:Oe,width:tt,height:Pe})}return O(),{width:H,height:W,hasAlpha:te,mipmaps:ge,format:q,dfdTransferFn:j,dfdFlags:ne}}const A=[{if:"astcSupported",basisFormat:[d.UASTC_4x4],transcoderFormat:[l.ASTC_4x4,l.ASTC_4x4],engineFormat:[o.RGBA_ASTC_4x4_Format,o.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[d.ETC1S,d.UASTC_4x4],transcoderFormat:[l.BC7_M5,l.BC7_M5],engineFormat:[o.RGBA_BPTC_Format,o.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[d.ETC1S,d.UASTC_4x4],transcoderFormat:[l.BC1,l.BC3],engineFormat:[o.RGB_S3TC_DXT1_Format,o.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[d.ETC1S,d.UASTC_4x4],transcoderFormat:[l.ETC1,l.ETC2],engineFormat:[o.RGB_ETC2_Format,o.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[d.ETC1S,d.UASTC_4x4],transcoderFormat:[l.ETC1],engineFormat:[o.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[d.ETC1S,d.UASTC_4x4],transcoderFormat:[l.PVRTC1_4_RGB,l.PVRTC1_4_RGBA],engineFormat:[o.RGB_PVRTC_4BPPV1_Format,o.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],E=A.sort(function(B,V){return B.priorityETC1S-V.priorityETC1S}),R=A.sort(function(B,V){return B.priorityUASTC-V.priorityUASTC});function I(B,V,O,k){let H,W;const J=B===d.ETC1S?E:R;for(let te=0;te<J.length;te++){const j=J[te];if(!!m[j.if]&&!!j.basisFormat.includes(B)&&!(k&&j.transcoderFormat.length<2)&&!(j.needsPowerOfTwo&&!(P(V)&&P(O))))return H=j.transcoderFormat[k?1:0],W=j.engineFormat[k?1:0],{transcoderFormat:H,engineFormat:W}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),H=l.RGBA32,W=o.RGBAFormat,{transcoderFormat:H,engineFormat:W}}function P(B){return B<=2?!0:(B&B-1)===0&&B!==0}};const jw={[$w]:ji,[Qw]:ji,[Gw]:ji,[pA]:ji,[zw]:Zd,[Hw]:Zd,[Vw]:Zd,[hA]:Zd,[Xw]:ul,[Uw]:ul,[fA]:ul,[Fw]:ul},bA={[$w]:ei,[Qw]:Di,[Gw]:Mr,[pA]:Mr,[zw]:ei,[Hw]:Di,[Vw]:Mr,[hA]:Mr,[Xw]:ei,[Uw]:Di,[fA]:Mr,[Fw]:Mr},tF={[pA]:Or,[hA]:Or,[fA]:Or};async function nF(m){const{vkFormat:t,pixelWidth:r,pixelHeight:o,pixelDepth:l}=m;if(jw[t]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const d=m.levels[0];let g,v;if(m.supercompressionScheme===WO)g=d.levelData;else if(m.supercompressionScheme===KO)yA||(yA=new Promise(async E=>{const R=new eF;await R.init(),E(R)})),g=(await yA).decode(d.levelData,d.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");bA[t]===ei?v=new Float32Array(g.buffer,g.byteOffset,g.byteLength/Float32Array.BYTES_PER_ELEMENT):bA[t]===Di?v=new Uint16Array(g.buffer,g.byteOffset,g.byteLength/Uint16Array.BYTES_PER_ELEMENT):v=g;const A=l===0?new A_(v,r,o):new zv(v,r,o,l);return A.type=bA[t],A.format=jw[t],A.encoding=tF[t]||bo,A.needsUpdate=!0,Promise.resolve(A)}const SA=new WeakMap;class rF extends ia{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,r,o,l){const d=new to(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(t,g=>{this.decodeDracoFile(g,r).catch(l)},o,l)}decodeDracoFile(t,r,o,l){const d={attributeIDs:o||this.defaultAttributeIDs,attributeTypes:l||this.defaultAttributeTypes,useUniqueIDs:!!o};return this.decodeGeometry(t,d).then(r)}decodeGeometry(t,r){const o=JSON.stringify(r);if(SA.has(t)){const A=SA.get(t);if(A.key===o)return A.promise;if(t.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let l;const d=this.workerNextTaskID++,g=t.byteLength,v=this._getWorker(d,g).then(A=>(l=A,new Promise((E,R)=>{l._callbacks[d]={resolve:E,reject:R},l.postMessage({type:"decode",id:d,taskConfig:r,buffer:t},[t])}))).then(A=>this._createGeometry(A.geometry));return v.catch(()=>!0).then(()=>{l&&d&&this._releaseTask(l,d)}),SA.set(t,{key:o,promise:v}),v}_createGeometry(t){const r=new Oi;t.index&&r.setIndex(new ri(t.index.array,1));for(let o=0;o<t.attributes.length;o++){const l=t.attributes[o],d=l.name,g=l.array,v=l.itemSize;r.setAttribute(d,new ri(g,v))}return r}_loadLibrary(t,r){const o=new to(this.manager);return o.setPath(this.decoderPath),o.setResponseType(r),o.setWithCredentials(this.withCredentials),new Promise((l,d)=>{o.load(t,l,void 0,d)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t=typeof WebAssembly!="object"||this.decoderConfig.type==="js",r=[];return t?r.push(this._loadLibrary("draco_decoder.js","text")):(r.push(this._loadLibrary("draco_wasm_wrapper.js","text")),r.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(r).then(o=>{const l=o[0];t||(this.decoderConfig.wasmBinary=o[1]);const d=iF.toString(),g=["/* draco decoder */",l,"","/* worker */",d.substring(d.indexOf("{")+1,d.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([g]))}),this.decoderPending}_getWorker(t,r){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const l=new Worker(this.workerSourceURL);l._callbacks={},l._taskCosts={},l._taskLoad=0,l.postMessage({type:"init",decoderConfig:this.decoderConfig}),l.onmessage=function(d){const g=d.data;switch(g.type){case"decode":l._callbacks[g.id].resolve(g);break;case"error":l._callbacks[g.id].reject(g);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+g.type+'"')}},this.workerPool.push(l)}else this.workerPool.sort(function(l,d){return l._taskLoad>d._taskLoad?-1:1});const o=this.workerPool[this.workerPool.length-1];return o._taskCosts[t]=r,o._taskLoad+=r,o})}_releaseTask(t,r){t._taskLoad-=t._taskCosts[r],delete t._callbacks[r],delete t._taskCosts[r]}debug(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}}function iF(){let m,t;onmessage=function(g){const v=g.data;switch(v.type){case"init":m=v.decoderConfig,t=new Promise(function(R){m.onModuleLoaded=function(I){R({draco:I})},DracoDecoderModule(m)});break;case"decode":const A=v.buffer,E=v.taskConfig;t.then(R=>{const I=R.draco,P=new I.Decoder,B=new I.DecoderBuffer;B.Init(new Int8Array(A),A.byteLength);try{const V=r(I,P,B,E),O=V.attributes.map(k=>k.array.buffer);V.index&&O.push(V.index.array.buffer),self.postMessage({type:"decode",id:v.id,geometry:V},O)}catch(V){console.error(V),self.postMessage({type:"error",id:v.id,error:V.message})}finally{I.destroy(B),I.destroy(P)}});break}};function r(g,v,A,E){const R=E.attributeIDs,I=E.attributeTypes;let P,B;const V=v.GetEncodedGeometryType(A);if(V===g.TRIANGULAR_MESH)P=new g.Mesh,B=v.DecodeBufferToMesh(A,P);else if(V===g.POINT_CLOUD)P=new g.PointCloud,B=v.DecodeBufferToPointCloud(A,P);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!B.ok()||P.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+B.error_msg());const O={index:null,attributes:[]};for(const k in R){const H=self[I[k]];let W,J;if(E.useUniqueIDs)J=R[k],W=v.GetAttributeByUniqueId(P,J);else{if(J=v.GetAttributeId(P,g[R[k]]),J===-1)continue;W=v.GetAttribute(P,J)}O.attributes.push(l(g,v,P,k,H,W))}return V===g.TRIANGULAR_MESH&&(O.index=o(g,v,P)),g.destroy(P),O}function o(g,v,A){const R=A.num_faces()*3,I=R*4,P=g._malloc(I);v.GetTrianglesUInt32Array(A,I,P);const B=new Uint32Array(g.HEAPF32.buffer,P,R).slice();return g._free(P),{array:B,itemSize:1}}function l(g,v,A,E,R,I){const P=I.num_components(),V=A.num_points()*P,O=V*R.BYTES_PER_ELEMENT,k=d(g,R),H=g._malloc(O);v.GetAttributeDataArrayForAllPoints(A,I,k,O,H);const W=new R(g.HEAPF32.buffer,H,V).slice();return g._free(H),{name:E,array:W,itemSize:P}}function d(g,v){switch(v){case Float32Array:return g.DT_FLOAT32;case Int8Array:return g.DT_INT8;case Int16Array:return g.DT_INT16;case Int32Array:return g.DT_INT32;case Uint8Array:return g.DT_UINT8;case Uint16Array:return g.DT_UINT16;case Uint32Array:return g.DT_UINT32}}}var qw="https://unpkg.com/three@0.".concat(b,".x"),EA=new pE,sF=new rF(EA).setDecoderPath("".concat(qw,"/examples/js/libs/draco/gltf/")),oF=new la(EA).setTranscoderPath("".concat(qw,"/examples/js/libs/basis"));function wA(m){var t=new gO(EA).setCrossOrigin("anonymous").setDRACOLoader(sF).setKTX2Loader(oF.detectSupport(m));return t}class aF extends ia{constructor(t){super(t)}load(t,r,o,l){const d=this,g=new to(d.manager);g.setPath(d.path),g.setResponseType("arraybuffer"),g.setRequestHeader(d.requestHeader),g.setWithCredentials(d.withCredentials),g.load(t,function(v){try{r(d.parse(v))}catch(A){l?l(A):console.error(A),d.manager.itemError(t)}},o,l)}parse(t){function r(A){const E=[],R=[],I=[],P=[];let B;const V=/^[^\d.\s-]+/,O=/(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)/g,k=/^(\d+)\s+([\s\d]*)/,H=/^POINTS /,W=/^POLYGONS /,J=/^TRIANGLE_STRIPS /,te=/^POINT_DATA[ ]+(\d+)/,j=/^CELL_DATA[ ]+(\d+)/,ne=/^COLOR_SCALARS[ ]+(\w+)[ ]+3/,Ae=/^NORMALS[ ]+(\w+)[ ]+(\w+)/;let q=!1,ge=!1,we=!1,Fe=!1,tt=!1,Pe=!1,Oe=!1;const st=A.split(`
`);for(const dt in st){const Le=st[dt].trim();if(Le.indexOf("DATASET")===0){const Ze=Le.split(" ")[1];if(Ze!=="POLYDATA")throw new Error("Unsupported DATASET type: "+Ze)}else if(q)for(;(B=O.exec(Le))!==null&&V.exec(Le)===null;){const Ze=parseFloat(B[1]),lt=parseFloat(B[2]),Ut=parseFloat(B[3]);R.push(Ze,lt,Ut)}else if(ge){if((B=k.exec(Le))!==null){const Ze=parseInt(B[1]),lt=B[2].split(/\s+/);if(Ze>=3){const Ut=parseInt(lt[0]);let Vt=1;for(let Wt=0;Wt<Ze-2;++Wt){const c=parseInt(lt[Vt]),Ln=parseInt(lt[Vt+1]);E.push(Ut,c,Ln),Vt++}}}}else if(we){if((B=k.exec(Le))!==null){const Ze=parseInt(B[1]),lt=B[2].split(/\s+/);if(Ze>=3)for(let Ut=0;Ut<Ze-2;Ut++)if(Ut%2===1){const Vt=parseInt(lt[Ut]),Wt=parseInt(lt[Ut+2]),c=parseInt(lt[Ut+1]);E.push(Vt,Wt,c)}else{const Vt=parseInt(lt[Ut]),Wt=parseInt(lt[Ut+1]),c=parseInt(lt[Ut+2]);E.push(Vt,Wt,c)}}}else if(Fe||tt){if(Pe)for(;(B=O.exec(Le))!==null&&V.exec(Le)===null;){const Ze=parseFloat(B[1]),lt=parseFloat(B[2]),Ut=parseFloat(B[3]);I.push(Ze,lt,Ut)}else if(Oe)for(;(B=O.exec(Le))!==null&&V.exec(Le)===null;){const Ze=parseFloat(B[1]),lt=parseFloat(B[2]),Ut=parseFloat(B[3]);P.push(Ze,lt,Ut)}}W.exec(Le)!==null?(ge=!0,q=!1,we=!1):H.exec(Le)!==null?(ge=!1,q=!0,we=!1):J.exec(Le)!==null?(ge=!1,q=!1,we=!0):te.exec(Le)!==null?(Fe=!0,q=!1,ge=!1,we=!1):j.exec(Le)!==null?(tt=!0,q=!1,ge=!1,we=!1):ne.exec(Le)!==null?(Pe=!0,Oe=!1,q=!1,ge=!1,we=!1):Ae.exec(Le)!==null&&(Oe=!0,Pe=!1,q=!1,ge=!1,we=!1)}let ht=new Oi;if(ht.setIndex(E),ht.setAttribute("position",new ki(R,3)),P.length===R.length&&ht.setAttribute("normal",new ki(P,3)),I.length!==E.length)I.length===R.length&&ht.setAttribute("color",new ki(I,3));else{ht=ht.toNonIndexed();const dt=ht.attributes.position.count/3;if(I.length===dt*3){const Le=[];for(let Ze=0;Ze<dt;Ze++){const lt=I[3*Ze+0],Ut=I[3*Ze+1],Vt=I[3*Ze+2];Le.push(lt,Ut,Vt),Le.push(lt,Ut,Vt),Le.push(lt,Ut,Vt)}ht.setAttribute("color",new ki(Le,3))}}return ht}function o(A){const E=new Uint8Array(A),R=new DataView(A);let I=[],P=[],B=[],V=0;function O(J,te){let j=te,ne=J[j];const Ae=[];for(;ne!==10;)Ae.push(String.fromCharCode(ne)),j++,ne=J[j];return{start:te,end:j,next:j+1,parsedString:Ae.join("")}}let k,H;for(;;){if(k=O(E,V),H=k.parsedString,H.indexOf("DATASET")===0){const J=H.split(" ")[1];if(J!=="POLYDATA")throw new Error("Unsupported DATASET type: "+J)}else if(H.indexOf("POINTS")===0){const J=parseInt(H.split(" ")[1],10),te=J*4*3;I=new Float32Array(J*3);let j=k.next;for(let ne=0;ne<J;ne++)I[3*ne]=R.getFloat32(j,!1),I[3*ne+1]=R.getFloat32(j+4,!1),I[3*ne+2]=R.getFloat32(j+8,!1),j=j+12;k.next=k.next+te+1}else if(H.indexOf("TRIANGLE_STRIPS")===0){const J=parseInt(H.split(" ")[1],10),te=parseInt(H.split(" ")[2],10),j=te*4;B=new Uint32Array(3*te-9*J);let ne=0,Ae=k.next;for(let q=0;q<J;q++){const ge=R.getInt32(Ae,!1),we=[];Ae+=4;for(let Fe=0;Fe<ge;Fe++)we.push(R.getInt32(Ae,!1)),Ae+=4;for(let Fe=0;Fe<ge-2;Fe++)Fe%2?(B[ne++]=we[Fe],B[ne++]=we[Fe+2],B[ne++]=we[Fe+1]):(B[ne++]=we[Fe],B[ne++]=we[Fe+1],B[ne++]=we[Fe+2])}k.next=k.next+j+1}else if(H.indexOf("POLYGONS")===0){const J=parseInt(H.split(" ")[1],10),te=parseInt(H.split(" ")[2],10),j=te*4;B=new Uint32Array(3*te-9*J);let ne=0,Ae=k.next;for(let q=0;q<J;q++){const ge=R.getInt32(Ae,!1),we=[];Ae+=4;for(let Fe=0;Fe<ge;Fe++)we.push(R.getInt32(Ae,!1)),Ae+=4;for(let Fe=1;Fe<ge-1;Fe++)B[ne++]=we[0],B[ne++]=we[Fe],B[ne++]=we[Fe+1]}k.next=k.next+j+1}else if(H.indexOf("POINT_DATA")===0){const J=parseInt(H.split(" ")[1],10);k=O(E,k.next);const te=J*4*3;P=new Float32Array(J*3);let j=k.next;for(let ne=0;ne<J;ne++)P[3*ne]=R.getFloat32(j,!1),P[3*ne+1]=R.getFloat32(j+4,!1),P[3*ne+2]=R.getFloat32(j+8,!1),j+=12;k.next=k.next+te}if(V=k.next,V>=E.byteLength)break}const W=new Oi;return W.setIndex(new ri(B,1)),W.setAttribute("position",new ri(I,3)),P.length===I.length&&W.setAttribute("normal",new ri(P,3)),W}function l(A,E){const R=A.length,I=new Float32Array(R+E.length);return I.set(A),I.set(E,R),I}function d(A,E){const R=A.length,I=new Int32Array(R+E.length);return I.set(A),I.set(E,R),I}function g(A){function E(W){let J={};if(W.nodeType===1){if(W.attributes&&W.attributes.length>0){J.attributes={};for(let te=0;te<W.attributes.length;te++){const j=W.attributes.item(te);J.attributes[j.nodeName]=j.nodeValue.trim()}}}else W.nodeType===3&&(J=W.nodeValue.trim());if(W.hasChildNodes())for(let te=0;te<W.childNodes.length;te++){const j=W.childNodes.item(te),ne=j.nodeName;if(typeof J[ne]>"u"){const Ae=E(j);Ae!==""&&(J[ne]=Ae)}else{if(typeof J[ne].push>"u"){const q=J[ne];J[ne]=[q]}const Ae=E(j);Ae!==""&&J[ne].push(Ae)}}return J}function R(W){const J=typeof Uint8Array<"u"?Uint8Array:Array,te=[],j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(let Pe=0,Oe=j.length;Pe<Oe;++Pe)te[j.charCodeAt(Pe)]=Pe;te["-".charCodeAt(0)]=62,te["_".charCodeAt(0)]=63;const ne=W.length;if(ne%4>0)throw new Error("Invalid string. Length must be a multiple of 4");const Ae=W[ne-2]==="="?2:W[ne-1]==="="?1:0,q=new J(ne*3/4-Ae),ge=Ae>0?ne-4:ne;let we=0,Fe,tt;for(Fe=0,tt=0;Fe<ge;Fe+=4,tt+=3){const Pe=te[W.charCodeAt(Fe)]<<18|te[W.charCodeAt(Fe+1)]<<12|te[W.charCodeAt(Fe+2)]<<6|te[W.charCodeAt(Fe+3)];q[we++]=(Pe&16711680)>>16,q[we++]=(Pe&65280)>>8,q[we++]=Pe&255}if(Ae===2){const Pe=te[W.charCodeAt(Fe)]<<2|te[W.charCodeAt(Fe+1)]>>4;q[we++]=Pe&255}else if(Ae===1){const Pe=te[W.charCodeAt(Fe)]<<10|te[W.charCodeAt(Fe+1)]<<4|te[W.charCodeAt(Fe+2)]>>2;q[we++]=Pe>>8&255,q[we++]=Pe&255}return q}function I(W,J){let te=0;V.attributes.header_type==="UInt64"?te=8:V.attributes.header_type==="UInt32"&&(te=4);let j,ne;if(W.attributes.format==="binary"&&J){W.attributes.type==="Float32"?j=new Float32Array:(W.attributes.type==="Int32"||W.attributes.type==="Int64")&&(j=new Int32Array);const Ae=W["#text"],q=Array.isArray(Ae)?Ae[0]:Ae,ge=R(q),we=8;let Fe=ge[0];for(let dt=1;dt<te-1;dt++)Fe=Fe|ge[dt]<<dt*we;let tt=(Fe+3)*te;const Pe=tt%3>0?3-tt%3:0;tt=tt+Pe;const Oe=[];let st=tt;Oe.push(st);const ht=3*te;for(let dt=0;dt<Fe;dt++){let Le=ge[dt*te+ht];for(let Ze=1;Ze<te-1;Ze++)Le=Le|ge[dt*te+ht+Ze]<<Ze*we;st=st+Le,Oe.push(st)}for(let dt=0;dt<Oe.length-1;dt++)ne=cL(ge.slice(Oe[dt],Oe[dt+1])).buffer,W.attributes.type==="Float32"?(ne=new Float32Array(ne),j=l(j,ne)):(W.attributes.type==="Int32"||W.attributes.type==="Int64")&&(ne=new Int32Array(ne),j=d(j,ne));delete W["#text"],W.attributes.type==="Int64"&&W.attributes.format==="binary"&&(j=j.filter(function(dt,Le){if(Le%2!==1)return!0}))}else W.attributes.format==="binary"&&!J?(ne=R(W["#text"]),ne=ne.slice(te).buffer):W["#text"]?ne=W["#text"].split(/\s+/).filter(function(Ae){if(Ae!=="")return Ae}):ne=new Int32Array(0).buffer,delete W["#text"],W.attributes.type==="Float32"?j=new Float32Array(ne):W.attributes.type==="Int32"?j=new Int32Array(ne):W.attributes.type==="Int64"&&(j=new Int32Array(ne),W.attributes.format==="binary"&&(j=j.filter(function(Ae,q){if(q%2!==1)return!0})));return j}const B=new DOMParser().parseFromString(A,"application/xml").documentElement,V=E(B);let O=[],k=[],H=[];if(V.PolyData){const W=V.PolyData.Piece,J=V.attributes.hasOwnProperty("compressor"),te=["PointData","Points","Strips","Polys"];let j=0;const ne=te.length;for(;j<ne;){const q=W[te[j]];if(q&&q.DataArray){let ge;Array.isArray(q.DataArray)?ge=q.DataArray:ge=[q.DataArray];let we=0;const Fe=ge.length;for(;we<Fe;)"#text"in ge[we]&&ge[we]["#text"].length>0&&(ge[we].text=I(ge[we],J)),we++;switch(te[j]){case"PointData":{const tt=parseInt(W.attributes.NumberOfPoints),Pe=q.attributes.Normals;if(tt>0){for(let Oe=0,st=ge.length;Oe<st;Oe++)if(Pe===ge[Oe].attributes.Name){const ht=ge[Oe].attributes.NumberOfComponents;k=new Float32Array(tt*ht),k.set(ge[Oe].text,0)}}}break;case"Points":{const tt=parseInt(W.attributes.NumberOfPoints);if(tt>0){const Pe=q.DataArray.attributes.NumberOfComponents;O=new Float32Array(tt*Pe),O.set(q.DataArray.text,0)}}break;case"Strips":{const tt=parseInt(W.attributes.NumberOfStrips);if(tt>0){const Pe=new Int32Array(q.DataArray[0].text.length),Oe=new Int32Array(q.DataArray[1].text.length);Pe.set(q.DataArray[0].text,0),Oe.set(q.DataArray[1].text,0);const st=tt+Pe.length;H=new Uint32Array(3*st-9*tt);let ht=0;for(let dt=0,Le=tt;dt<Le;dt++){const Ze=[];for(let lt=0,Ut=Oe[dt],Vt=0;lt<Ut-Vt;lt++)Ze.push(Pe[lt]),dt>0&&(Vt=Oe[dt-1]);for(let lt=0,Ut=Oe[dt],Vt=0;lt<Ut-Vt-2;lt++)lt%2?(H[ht++]=Ze[lt],H[ht++]=Ze[lt+2],H[ht++]=Ze[lt+1]):(H[ht++]=Ze[lt],H[ht++]=Ze[lt+1],H[ht++]=Ze[lt+2]),dt>0&&(Vt=Oe[dt-1])}}}break;case"Polys":{const tt=parseInt(W.attributes.NumberOfPolys);if(tt>0){const Pe=new Int32Array(q.DataArray[0].text.length),Oe=new Int32Array(q.DataArray[1].text.length);Pe.set(q.DataArray[0].text,0),Oe.set(q.DataArray[1].text,0);const st=tt+Pe.length;H=new Uint32Array(3*st-9*tt);let ht=0,dt=0,Le=0,Ze=0;const lt=tt;for(;Le<lt;){const Ut=[];let Vt=0;const Wt=Oe[Le];for(;Vt<Wt-Ze;)Ut.push(Pe[dt++]),Vt++;let c=1;for(;c<Wt-Ze-1;)H[ht++]=Ut[0],H[ht++]=Ut[c],H[ht++]=Ut[c+1],c++;Le++,Ze=Oe[Le-1]}}}break}}j++}const Ae=new Oi;return Ae.setIndex(new ri(H,1)),Ae.setAttribute("position",new ri(O,3)),k.length===O.length&&Ae.setAttribute("normal",new ri(k,3)),Ae}else throw new Error("Unsupported DATASET type")}const v=sa.decodeText(new Uint8Array(t,0,250)).split(`
`);return v[0].indexOf("xml")!==-1?g(sa.decodeText(t)):v[2].includes("ASCII")?r(sa.decodeText(t)):o(t)}}var Yw=new aF,Jw=new pf({wireframe:!1,side:$,color:16773120});function lF(m,t,r){Yw.load(m,function(o){o.center(),o.computeVertexNormals();var l=new Fi(o,Jw);l.scale.multiplyScalar(.1),r.add(l),t.add(r)})}function cF(){return{vtkLoader:Yw,vtkmaterial:Jw}}var Zw=function(m){h(t,m);function t(r,o){var l=m.call(this,r,o)||this;return l.clock=new n4,l.mixer=null,l.playRate=1,l.modelReady=!1,l.texture2dMesh=null,l.controls=new Mw(l.camera,l.renderer.domElement),window.addEventListener("resize",l.onWindowResize,!1),l}return t.prototype.loadGltf=function(r,o){var l=this,d=wA(this.renderer);d.load(r,function(g){var v=new ea().setFromObject(g.scene),A=v.getSize(new et).length(),E=v.getCenter(new et);l.controls.maxDistance=A*10,g.scene.position.x+=g.scene.position.x-E.x,g.scene.position.y+=g.scene.position.y-E.y,g.scene.position.z+=g.scene.position.z-E.z,l.cameraPositionFlag||(l.camera.position.copy(E),l.camera.position.x+=A/2,l.camera.position.y+=A/5,l.camera.position.z+=A/2,l.camera.lookAt(E),l.viewPoint=l.setViewPoint(l.camera,[E.x,E.y,E.z])),l.mixer=new SE(g.scene),g.animations.forEach(function(R,I){var P,B;I===0?l.clipAction=(P=l.mixer)===null||P===void 0?void 0:P.clipAction(R).play():(B=l.mixer)===null||B===void 0||B.clipAction(R).play()}),l.content=g.scene,l.exportContent.copy(g.scene),l.exportContent.animations=g.animations,l.scene.add(g.scene),l.modelReady=!0,o&&o(g.scene)},function(g){})},t.prototype.loadVtk=function(r){lF(r,this.scene,this.content)},t.prototype.loadVtks=function(r){var o=this,l=0,d=cF(),g=d.vtkLoader,v=d.vtkmaterial,A=new Ls,E=setInterval(function(){l===r.length&&(o.scene.add(o.exportContent),o.mixer=new SE(A),o.exportContent.animations.forEach(function(I){var P,B=(P=o.mixer)===null||P===void 0?void 0:P.clipAction(I);B.timeScale=3,B.play()}),o.modelReady=!0,clearInterval(E))},100);r.forEach(function(I){var P=[];I.urls.forEach(function(B,V){g.load(B,function(O){O.center(),O.computeVertexNormals(),O.name=V.toString(),P.push(O),P.length===I.urls.length&&(P.sort(function(k,H){return o.sort?parseInt(k.name)-parseInt(H.name):parseInt(H.name)-parseInt(k.name)}),R(P,I),l+=1)})})});var R=function(I,P){var B=I[0];I.forEach(function(j,ne){ne===0?(B=j,B.morphAttributes.position=[]):B.morphAttributes.position.push(j.attributes.position)});var V=new Fi(B,v);V.scale.multiplyScalar(.1),A.add(V),o.exportContent.add(A),V.morphTargetInfluences=[],V.name=P.name;for(var O=0,k=[],H=I.length-1,W=0;W<H;W++){var J=new xo("".concat(V.name,".morphTargetInfluences[").concat(W,"]"),[O,O+1,O+2],[0,1,0]);k.push(J),O=O+2}var te=new em("copper3d_heart_morph_".concat(V.name),H,k);o.exportContent.animations.push(te)}},t.prototype.texture2d=function(r){var o=this;j4(r,this.scene);var l=setInterval(function(){var d;o.scene.children.forEach(function(g){if(g.isMesh&&g.name==="texture2d_mesh_zip"){o.texture2dMesh=g;var v=function(){if(o.texture2dMesh){var A=o.texture2dMesh.material.uniforms.depth.value;A+=o.depthStep,(A>109||A<0)&&(A>1&&(A=109*2-A),A<0&&(A=-A),o.depthStep=-o.depthStep),o.texture2dMesh.material.uniforms.depth.value=A}};o.addPreRenderCallbackFunction(v)}}),((d=o.texture2dMesh)===null||d===void 0?void 0:d.name)==="texture2d_mesh_zip"&&clearInterval(l)},500)},t.prototype.getPlayRate=function(){return this.playRate},t.prototype.setPlayRate=function(r){this.playRate=r},t.prototype.setModelPosition=function(r,o){o.x&&(r.position.x=o.x),o.y&&(r.position.y=o.y),o.z&&(r.position.z=o.z)},t.prototype.resetView=function(){this.controls.reset(),this.updateCamera(this.viewPoint)},t.prototype.updateCamera=function(r){this.cameraPositionFlag=!0,this.copperControl.updateCameraViewPoint(r)},t.prototype.getCurrentTime=function(){var r=0;return this.clipAction&&(r=this.clipAction.time/this.clipAction._clip.duration),r},t.prototype.getCurrentMixer=function(){return this.mixer},t.prototype.render=function(){this.controls.update(),this.modelReady&&this.mixer&&this.mixer.update(this.clock.getDelta()*this.playRate),Object.values(this.preRenderCallbackFunctions.cache).forEach(function(r){r&&r.call(null)}),this.subDiv&&this.subCamera&&this.subRender&&(this.subCamera.aspect=this.subDiv.clientWidth/this.subDiv.clientHeight,this.subCamera.updateProjectionMatrix(),this.subRender.setSize(this.subDiv.clientWidth,this.subDiv.clientHeight),this.subCamera.position.copy(this.camera.position),this.subCamera.lookAt(this.subScene.position),this.subRender.render(this.subScene,this.subCamera)),this.renderer.render(this.scene,this.camera)},t}(tA),uF=function(m){h(t,m);function t(r,o){var l=m.call(this,r,o)||this;return l.sceneMap={},l.animate=function(){l.render(),l.stats.update(),requestAnimationFrame(l.animate)},l}return t.prototype.getSceneByName=function(r){return this.sceneMap[r]},t.prototype.setCurrentScene=function(r){var o;r&&(this.currentScene=r,!((o=this.options)===null||o===void 0)&&o.guiOpen&&this.updateGui(),this.onWindowResize())},t.prototype.createScene=function(r){if(this.sceneMap[r]==null){var o=new Zw(this.container,this.renderer);return o.sceneName=r,this.updateEnvironment(o.vignette),this.sceneMap[r]=o,o}},t.prototype.onWindowResize=function(){},t.prototype.render=function(){this.currentScene.render()},t}(Iw);function dF(m,t,r,o,l,d){var g=document.createElement("canvas");g.width=512,g.height=512;var v=g.getContext("2d");v.textBaseline="alphabetic";var A=v.measureText(m);A.width,v.fillStyle="rgb(255,255,255)",v.textAlign="center",d?v.font=d.font_size+" "+d.font:v.font="30px Helvetica",v.fillText(m,256,256),v.strokeStyle="rgb(255,255,255)",v.strokeText(m,256,256);var E=new Bi(g);E.needsUpdate=!0;var R=new zS({map:E,color:"#ffffff"}),I=new P8(R);return I.scale.set(l,l,1),I.position.set(t,r,o),I}function fF(m,t,r,o,l,d,g){var v=dF(t,r,o,l,d,g);m.addObject(v)}function hF(m,t,r){var o=new et,l,d=new et;o.set(r.x/m.clientWidth*2-1,-(r.y/m.clientHeight)*2+1,.5),o.unproject(t),o.sub(t.position).normalize();var g=(.2-t.position.z)/o.z;return d.copy(t.position).add(o.multiplyScalar(g)),l={x:d.x,y:d.y,z:d.z},l}function pF(m,t,r){var o=new et;r.getWorldPosition(o);var l=o.project(t),d=m.clientWidth/2,g=m.clientHeight/2,v=Math.round(d*l.x+d),A=Math.round(g*l.y+g),E={x:v,y:A};return E}const eC={type:"change"},CA={type:"start"},tC={type:"end"};class lm extends Ia{constructor(t,r){super(),this.object=t,this.domElement=r,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new et,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:w.ROTATE,MIDDLE:w.DOLLY,RIGHT:w.PAN},this.touches={ONE:C.ROTATE,TWO:C.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return v.phi},this.getAzimuthalAngle=function(){return v.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Me){Me.addEventListener("keydown",ce),this._domElementKeyEvents=Me},this.saveState=function(){o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},this.reset=function(){o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(eC),o.update(),d=l.NONE},this.update=function(){const Me=new et,qt=new Ds().setFromUnitVectors(t.up,new et(0,1,0)),ln=qt.clone().invert(),xn=new et,yn=new Ds,Vn=2*Math.PI;return function(){const Gr=o.object.position;Me.copy(Gr).sub(o.target),Me.applyQuaternion(qt),v.setFromVector3(Me),o.autoRotate&&d===l.NONE&&ge(Ae()),o.enableDamping?(v.theta+=A.theta*o.dampingFactor,v.phi+=A.phi*o.dampingFactor):(v.theta+=A.theta,v.phi+=A.phi);let mt=o.minAzimuthAngle,Cn=o.maxAzimuthAngle;return isFinite(mt)&&isFinite(Cn)&&(mt<-Math.PI?mt+=Vn:mt>Math.PI&&(mt-=Vn),Cn<-Math.PI?Cn+=Vn:Cn>Math.PI&&(Cn-=Vn),mt<=Cn?v.theta=Math.max(mt,Math.min(Cn,v.theta)):v.theta=v.theta>(mt+Cn)/2?Math.max(mt,v.theta):Math.min(Cn,v.theta)),v.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,v.phi)),v.makeSafe(),v.radius*=E,v.radius=Math.max(o.minDistance,Math.min(o.maxDistance,v.radius)),o.enableDamping===!0?o.target.addScaledVector(R,o.dampingFactor):o.target.add(R),Me.setFromSpherical(v),Me.applyQuaternion(ln),Gr.copy(o.target).add(Me),o.object.lookAt(o.target),o.enableDamping===!0?(A.theta*=1-o.dampingFactor,A.phi*=1-o.dampingFactor,R.multiplyScalar(1-o.dampingFactor)):(A.set(0,0,0),R.set(0,0,0)),E=1,I||xn.distanceToSquared(o.object.position)>g||8*(1-yn.dot(o.object.quaternion))>g?(o.dispatchEvent(eC),xn.copy(o.object.position),yn.copy(o.object.quaternion),I=!1,!0):!1}}(),this.dispose=function(){o.domElement.removeEventListener("contextmenu",ue),o.domElement.removeEventListener("pointerdown",Rr),o.domElement.removeEventListener("pointercancel",Ve),o.domElement.removeEventListener("wheel",Rt),o.domElement.removeEventListener("pointermove",rn),o.domElement.removeEventListener("pointerup",pn),o._domElementKeyEvents!==null&&o._domElementKeyEvents.removeEventListener("keydown",ce)};const o=this,l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let d=l.NONE;const g=1e-6,v=new wE,A=new wE;let E=1;const R=new et;let I=!1;const P=new Fn,B=new Fn,V=new Fn,O=new Fn,k=new Fn,H=new Fn,W=new Fn,J=new Fn,te=new Fn,j=[],ne={};function Ae(){return 2*Math.PI/60/60*o.autoRotateSpeed}function q(){return Math.pow(.95,o.zoomSpeed)}function ge(Me){A.theta-=Me}function we(Me){A.phi-=Me}const Fe=function(){const Me=new et;return function(ln,xn){Me.setFromMatrixColumn(xn,0),Me.multiplyScalar(-ln),R.add(Me)}}(),tt=function(){const Me=new et;return function(ln,xn){o.screenSpacePanning===!0?Me.setFromMatrixColumn(xn,1):(Me.setFromMatrixColumn(xn,0),Me.crossVectors(o.object.up,Me)),Me.multiplyScalar(ln),R.add(Me)}}(),Pe=function(){const Me=new et;return function(ln,xn){const yn=o.domElement;if(o.object.isPerspectiveCamera){const Vn=o.object.position;Me.copy(Vn).sub(o.target);let vr=Me.length();vr*=Math.tan(o.object.fov/2*Math.PI/180),Fe(2*ln*vr/yn.clientHeight,o.object.matrix),tt(2*xn*vr/yn.clientHeight,o.object.matrix)}else o.object.isOrthographicCamera?(Fe(ln*(o.object.right-o.object.left)/o.object.zoom/yn.clientWidth,o.object.matrix),tt(xn*(o.object.top-o.object.bottom)/o.object.zoom/yn.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}}();function Oe(Me){o.object.isPerspectiveCamera?E/=Me:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom*Me)),o.object.updateProjectionMatrix(),I=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function st(Me){o.object.isPerspectiveCamera?E*=Me:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/Me)),o.object.updateProjectionMatrix(),I=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function ht(Me){P.set(Me.clientX,Me.clientY)}function dt(Me){W.set(Me.clientX,Me.clientY)}function Le(Me){O.set(Me.clientX,Me.clientY)}function Ze(Me){B.set(Me.clientX,Me.clientY),V.subVectors(B,P).multiplyScalar(o.rotateSpeed);const qt=o.domElement;ge(2*Math.PI*V.x/qt.clientHeight),we(2*Math.PI*V.y/qt.clientHeight),P.copy(B),o.update()}function lt(Me){J.set(Me.clientX,Me.clientY),te.subVectors(J,W),te.y>0?Oe(q()):te.y<0&&st(q()),W.copy(J),o.update()}function Ut(Me){k.set(Me.clientX,Me.clientY),H.subVectors(k,O).multiplyScalar(o.panSpeed),Pe(H.x,H.y),O.copy(k),o.update()}function Vt(Me){Me.deltaY<0?st(q()):Me.deltaY>0&&Oe(q()),o.update()}function Wt(Me){let qt=!1;switch(Me.code){case o.keys.UP:Pe(0,o.keyPanSpeed),qt=!0;break;case o.keys.BOTTOM:Pe(0,-o.keyPanSpeed),qt=!0;break;case o.keys.LEFT:Pe(o.keyPanSpeed,0),qt=!0;break;case o.keys.RIGHT:Pe(-o.keyPanSpeed,0),qt=!0;break}qt&&(Me.preventDefault(),o.update())}function c(){if(j.length===1)P.set(j[0].pageX,j[0].pageY);else{const Me=.5*(j[0].pageX+j[1].pageX),qt=.5*(j[0].pageY+j[1].pageY);P.set(Me,qt)}}function Ln(){if(j.length===1)O.set(j[0].pageX,j[0].pageY);else{const Me=.5*(j[0].pageX+j[1].pageX),qt=.5*(j[0].pageY+j[1].pageY);O.set(Me,qt)}}function ut(){const Me=j[0].pageX-j[1].pageX,qt=j[0].pageY-j[1].pageY,ln=Math.sqrt(Me*Me+qt*qt);W.set(0,ln)}function We(){o.enableZoom&&ut(),o.enablePan&&Ln()}function Nt(){o.enableZoom&&ut(),o.enableRotate&&c()}function jt(Me){if(j.length==1)B.set(Me.pageX,Me.pageY);else{const ln=nn(Me),xn=.5*(Me.pageX+ln.x),yn=.5*(Me.pageY+ln.y);B.set(xn,yn)}V.subVectors(B,P).multiplyScalar(o.rotateSpeed);const qt=o.domElement;ge(2*Math.PI*V.x/qt.clientHeight),we(2*Math.PI*V.y/qt.clientHeight),P.copy(B)}function $t(Me){if(j.length===1)k.set(Me.pageX,Me.pageY);else{const qt=nn(Me),ln=.5*(Me.pageX+qt.x),xn=.5*(Me.pageY+qt.y);k.set(ln,xn)}H.subVectors(k,O).multiplyScalar(o.panSpeed),Pe(H.x,H.y),O.copy(k)}function Sn(Me){const qt=nn(Me),ln=Me.pageX-qt.x,xn=Me.pageY-qt.y,yn=Math.sqrt(ln*ln+xn*xn);J.set(0,yn),te.set(0,Math.pow(J.y/W.y,o.zoomSpeed)),Oe(te.y),W.copy(J)}function Pn(Me){o.enableZoom&&Sn(Me),o.enablePan&&$t(Me)}function Un(Me){o.enableZoom&&Sn(Me),o.enableRotate&&jt(Me)}function Rr(Me){o.enabled!==!1&&(j.length===0&&(o.domElement.setPointerCapture(Me.pointerId),o.domElement.addEventListener("pointermove",rn),o.domElement.addEventListener("pointerup",pn)),De(Me),Me.pointerType==="touch"?X(Me):Xn(Me))}function rn(Me){o.enabled!==!1&&(Me.pointerType==="touch"?K(Me):bn(Me))}function pn(Me){Je(Me),j.length===0&&(o.domElement.releasePointerCapture(Me.pointerId),o.domElement.removeEventListener("pointermove",rn),o.domElement.removeEventListener("pointerup",pn)),o.dispatchEvent(tC),d=l.NONE}function Ve(Me){Je(Me)}function Xn(Me){let qt;switch(Me.button){case 0:qt=o.mouseButtons.LEFT;break;case 1:qt=o.mouseButtons.MIDDLE;break;case 2:qt=o.mouseButtons.RIGHT;break;default:qt=-1}switch(qt){case w.DOLLY:if(o.enableZoom===!1)return;dt(Me),d=l.DOLLY;break;case w.ROTATE:if(Me.ctrlKey||Me.metaKey||Me.shiftKey){if(o.enablePan===!1)return;Le(Me),d=l.PAN}else{if(o.enableRotate===!1)return;ht(Me),d=l.ROTATE}break;case w.PAN:if(Me.ctrlKey||Me.metaKey||Me.shiftKey){if(o.enableRotate===!1)return;ht(Me),d=l.ROTATE}else{if(o.enablePan===!1)return;Le(Me),d=l.PAN}break;default:d=l.NONE}d!==l.NONE&&o.dispatchEvent(CA)}function bn(Me){switch(d){case l.ROTATE:if(o.enableRotate===!1)return;Ze(Me);break;case l.DOLLY:if(o.enableZoom===!1)return;lt(Me);break;case l.PAN:if(o.enablePan===!1)return;Ut(Me);break}}function Rt(Me){o.enabled===!1||o.enableZoom===!1||d!==l.NONE||(Me.preventDefault(),o.dispatchEvent(CA),Vt(Me),o.dispatchEvent(tC))}function ce(Me){o.enabled===!1||o.enablePan===!1||Wt(Me)}function X(Me){switch(It(Me),j.length){case 1:switch(o.touches.ONE){case C.ROTATE:if(o.enableRotate===!1)return;c(),d=l.TOUCH_ROTATE;break;case C.PAN:if(o.enablePan===!1)return;Ln(),d=l.TOUCH_PAN;break;default:d=l.NONE}break;case 2:switch(o.touches.TWO){case C.DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;We(),d=l.TOUCH_DOLLY_PAN;break;case C.DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;Nt(),d=l.TOUCH_DOLLY_ROTATE;break;default:d=l.NONE}break;default:d=l.NONE}d!==l.NONE&&o.dispatchEvent(CA)}function K(Me){switch(It(Me),d){case l.TOUCH_ROTATE:if(o.enableRotate===!1)return;jt(Me),o.update();break;case l.TOUCH_PAN:if(o.enablePan===!1)return;$t(Me),o.update();break;case l.TOUCH_DOLLY_PAN:if(o.enableZoom===!1&&o.enablePan===!1)return;Pn(Me),o.update();break;case l.TOUCH_DOLLY_ROTATE:if(o.enableZoom===!1&&o.enableRotate===!1)return;Un(Me),o.update();break;default:d=l.NONE}}function ue(Me){o.enabled!==!1&&Me.preventDefault()}function De(Me){j.push(Me)}function Je(Me){delete ne[Me.pointerId];for(let qt=0;qt<j.length;qt++)if(j[qt].pointerId==Me.pointerId){j.splice(qt,1);return}}function It(Me){let qt=ne[Me.pointerId];qt===void 0&&(qt=new Fn,ne[Me.pointerId]=qt),qt.set(Me.pageX,Me.pageY)}function nn(Me){const qt=Me.pointerId===j[0].pointerId?j[1]:j[0];return ne[qt.pointerId]}o.domElement.addEventListener("contextmenu",ue),o.domElement.addEventListener("pointerdown",Rr),o.domElement.addEventListener("pointercancel",Ve),o.domElement.addEventListener("wheel",Rt,{passive:!1}),this.update()}}var nC=function(m){h(t,m);function t(r,o){var l=m.call(this,r,o)||this;return l.renderRequested=!1,l.isResize=!1,l.confirmResize=function(){l.isResize=!0,l.requestRenderIfNotRequested()},l.render=function(){l.renderRequested=void 0,l.controls.update(),l.renderer.render(l.scene,l.camera)},l.requestRenderIfNotRequested=function(){l.renderRequested||(l.isResize&&(l.isResize=!1,l.onWindowResize()),l.renderRequested=!0,requestAnimationFrame(l.render))},l.controls=new lm(l.camera,o.domElement),l.controls.addEventListener("change",l.requestRenderIfNotRequested),window.addEventListener("resize",l.confirmResize,!1),requestAnimationFrame(l.render),l}return t.prototype.loadGltf=function(r,o){var l=this,d=wA(this.renderer);d.load(r,function(g){var v=new ea().setFromObject(g.scene),A=v.getSize(new et).length(),E=v.getCenter(new et);l.controls.maxDistance=A*10,g.scene.position.x+=g.scene.position.x-E.x,g.scene.position.y+=g.scene.position.y-E.y,g.scene.position.z+=g.scene.position.z-E.z,l.cameraPositionFlag||(l.camera.position.copy(E),l.camera.position.x+=A/2,l.camera.position.y+=A/5,l.camera.position.z+=A/2,l.camera.lookAt(E),l.viewPoint=l.setViewPoint(l.camera,[E.x,E.y,E.z])),l.content=g.scene,l.scene.add(g.scene),o&&o(g.scene)},function(g){})},t}(tA),mF=function(m){h(t,m);function t(r,o){var l=m.call(this,r,o)||this;return l.sceneMap={},l.animate=function(){l.render(),l.stats.update()},l}return t.prototype.getSceneByName=function(r){return this.sceneMap[r]},t.prototype.setCurrentScene=function(r){var o;r&&(this.currentScene=r,!((o=this.options)===null||o===void 0)&&o.guiOpen&&this.updateGui())},t.prototype.createScene=function(r){if(this.sceneMap[r]==null){var o=new nC(this.container,this.renderer);return o.sceneName=r,this.updateEnvironment(o.vignette),this.sceneMap[r]=o,o}},t.prototype.render=function(){this.currentScene.render()},t}(Iw);ME();var rC=function(m){h(t,m);function t(r,o){var l=m.call(this,r)||this;return l.gui=new Nf({width:260,autoPlace:!1}),l.sceneName="",l.viewPoint=new Al,l.cameraPositionFlag=!1,l.content=new Ls,l.isHalfed=!1,l.color1="#5454ad",l.color2="#18e5a7",l.lights=[],l.renderNrrdVolume=!1,l.guiContainer=document.createElement("div"),l.onWindowResize=function(){var d=l.container.getBoundingClientRect(),g=d.width,v=d.height,A=g/v;if(l.renderNrrdVolume){var E=l.camera,R=E.top-E.bottom;E.left=-R*A/2,E.right=R*A/2}else l.camera.aspect=A;l.camera.updateProjectionMatrix(),l.subDiv&&l.subCamera&&l.subRender&&(l.subCamera.aspect=l.subDiv.clientWidth/l.subDiv.clientHeight,l.subCamera.updateProjectionMatrix(),l.subRender.setSize(l.subDiv.clientWidth,l.subDiv.clientHeight)),l.controls.update()},l.container=r,l.renderer=o,l.camera=new Yi(75,r.clientWidth/r.clientHeight,.1,500),l.ambientLight=new yE(2105376,1),l.directionalLight=new R_(16777215,2.5),l.vignette=IE({aspect:l.container.clientWidth/l.container.clientHeight,grainScale:0,colors:[l.color1,l.color2]}),l.vignette.mesh.name="Vignette",l.vignette.mesh.renderOrder=-1,l.copperControl=new D_(l.camera),l.controls=new lm(l.camera,l.container),l.preRenderCallbackFunctions={index:0,cache:{},add:function(d){if(!d.id){d.id=++this.index,this.cache[d.id]=d;return}}},l.init(),l}return t.prototype.init=function(){var r=this;this.copperControl.setCameraViewPoint(),this.camera.position.z=2,this.guiContainer.style.position="fixed",this.guiContainer.style.top="0",this.guiContainer.style.right="0",this.guiContainer.style.zIndex="100",this.guiContainer.appendChild(this.gui.domElement),this.container.appendChild(this.guiContainer),this.guiContainer.addEventListener("pointerover",am(function(){r.controls.enabled=!1},100),!1),this.guiContainer.addEventListener("pointerleave",function(){r.controls.enabled=!0},!1),this.addLights()},t.prototype.setControls=function(r){switch(r){case 0:this.controls=new lm(this.camera,this.container);break;default:this.controls=new Mw(this.camera,this.container),this.controls.rotateSpeed=.01;break}},t.prototype.loadGltf=function(r,o){var l=this,d=wA(this.renderer);d.load(r,function(g){var v,A,E,R=new ea().setFromObject(g.scene),I=R.getSize(new et).length(),P=R.getCenter(new et);if(l.controls.maxDistance=I*10,g.scene.position.x+=g.scene.position.x-P.x,g.scene.position.y+=g.scene.position.y-P.y,g.scene.position.z+=g.scene.position.z-P.z,!l.cameraPositionFlag&&(l.camera.position.copy(P),l.camera.position.x+=I/2,l.camera.position.y+=I/5,l.camera.position.z+=I/2,l.camera.lookAt(P),l.viewPoint=l.setViewPoint(l.camera,[P.x,P.y,P.z]),l.subCamera)){(v=l.subCamera)===null||v===void 0||v.position.copy(l.camera.position),(A=l.subCamera)===null||A===void 0||A.lookAt(l.subScene.position),l.subCamera.near=I/100,l.subCamera.far=I*100,(E=l.subCamera)===null||E===void 0||E.updateProjectionMatrix();var B=new Ls().copy(g.scene);B.scale.set(I,I,I),l.subScene.add(B)}l.content=g.scene,l.scene.add(g.scene),o&&o(g.scene)},function(g){})},t.prototype.pickSpecifiedModel=function(r,o){return Array.isArray(r)?this.pickableObjects=r:this.pickableObjects.push(r),KL(this.camera,this.container,this.pickableObjects,o)},t.prototype.setViewPoint=function(r,o){var l=new Al;return l.farPlane=r.far,l.nearPlane=r.near,l.eyePosition=[r.position.x,r.position.y,r.position.z],o?l.targetPosition=[o[0],o[1],o[2]]:l.targetPosition=[0,0,0],l.upVector=[r.up.x,r.up.y,r.up.z],this.viewPoint=l,l},t.prototype.loadNrrd1=function(r,o){var l=1024,d=window.innerWidth/window.innerHeight;this.camera=new Vp(-l*d/2,l*d/2,l/2,-l/2,1,1e3),this.camera.position.set(0,0,128),this.camera.up.set(0,0,1),this.controls.dispose(),this.controls=new lm(this.camera,this.container),this.controls.target.set(64,64,128),this.controls.minZoom=.5,this.controls.maxZoom=4,this.controls.enablePan=!1,this.renderNrrdVolume=!0,HL(r,this.scene,this.container,o)},t.prototype.drawWholeNrrd=function(r){QL(r,this.scene,this.gui,this.controls)},t.prototype.updateBackground=function(r,o){this.vignette.style({colors:[r,o]})},t.prototype.addLights=function(){var r=new mE;r.name="hemi_light",this.scene.add(r),this.ambientLight.name="ambient_light",this.directionalLight.name="main_light",this.directionalLight.position.set(.5,0,.866),this.camera.add(this.ambientLight),this.camera.add(this.directionalLight),this.lights.push(r),this.lights.push(this.ambientLight),this.lights.push(this.directionalLight)},t.prototype.removeLights=function(){this.lights&&(this.lights.forEach(function(r){return r.parent.remove(r)}),this.lights.length=0)},t.prototype.loadViewUrl=function(r){var o=this,l=new XMLHttpRequest;l.onreadystatechange=function(){if(l.readyState==4&&l.status==200){var d=JSON.parse(l.responseText);o.loadView(d)}},l.open("GET",r,!0),l.send()},t.prototype.loadView=function(r){this.cameraPositionFlag=!0,this.viewPoint=r;var o=new Al;o.farPlane=r.farPlane,o.nearPlane=r.nearPlane,o.eyePosition=r.eyePosition,o.targetPosition=r.targetPosition,o.upVector=r.upVector,this.copperControl.updateCameraViewPoint(o),this.subCopperControl&&this.subCopperControl.updateCameraViewPoint(o)},t.prototype.updateCamera=function(r){this.cameraPositionFlag=!0,this.copperControl.updateCameraViewPoint(r)},t.prototype.setCameraPosition=function(r){typeof r.x=="number"&&(this.camera.position.x=r.x),typeof r.y=="number"&&(this.camera.position.y=r.y),typeof r.z=="number"&&(this.camera.position.z=r.z),this.setViewPoint(this.camera)},t.prototype.resetView=function(){this.controls.reset(),this.updateCamera(this.viewPoint)},t.prototype.render=function(){this.controls.update(),this.onWindowResize(),this.renderer.render(this.scene,this.camera),Object.values(this.preRenderCallbackFunctions.cache).forEach(function(r){r&&r.call(null)}),this.subDiv&&this.subCamera&&this.subRender&&(this.subCamera.position.copy(this.camera.position),this.subCamera.lookAt(this.subScene.position),this.subRender.render(this.subScene,this.subCamera))},t}(_w),gF=function(){function m(t,r,o){var l=this;this.renderer=new Xp({alpha:!0,antialias:!0}),this.renderSceneInfo=function(d){var g=d.container,v=g.getBoundingClientRect(),A=v.left,E=v.right,R=v.top,I=v.bottom,P=v.width,B=v.height,V=I<0||R>l.renderer.domElement.clientHeight||E<0||A>l.renderer.domElement.clientWidth;if(!V){var O=l.renderer.domElement.clientHeight-I;l.renderer.setScissor(A,O,P,B),l.renderer.setViewport(A,O,P,B),d.render()}},this.resizeRendererToDisplaySize=function(){var d=l.renderer.domElement.clientWidth,g=l.renderer.domElement.clientHeight,v=l.renderer.domElement.width!==d||l.renderer.domElement.height!==g;v&&(l.elems.map(function(A,E){E===l.numberOfScene-1&&l.numberOfScene%2!==0?A.style.width=l.container.clientWidth+"px":A.style.width=l.container.clientWidth/2-2+"px",A.style.height=l.container.clientHeight/Math.ceil(l.numberOfScene/2)+"px"}),l.renderer.setSize(d,g,!1))},this.animate=function(){var d=new sr("#000");l.renderer.setScissorTest(!1),l.renderer.setClearColor(d,0),l.renderer.clear(!0,!0),l.renderer.setScissorTest(!0),l.resizeRendererToDisplaySize(),l.sceneInfos.forEach(function(v){l.renderSceneInfo(v)});var g="translateY(".concat(window.scrollY,"px)");l.renderer.domElement.style.transform=g,window.requestAnimationFrame(l.animate)},this.numberOfScene=r>0?r:1,this.container=t,this.elems=[],this.scenes=[],this.cameras=[],this.sceneInfos=[],this.canvas=this.renderer.domElement,this.pmremGenerator=new Gp(this.renderer),this.init()}return m.prototype.init=function(){this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=Or,this.pmremGenerator.compileEquirectangularShader(),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.canvas.className="copper3D_canvas",this.container.className="copper3D_container_root",this.container.appendChild(this.canvas);for(var t=0;t<this.numberOfScene;t++){var r=document.createElement("div");r.className="copper3D_scene_div",this.container.appendChild(r),this.elems.push(r);var o=new rC(r,this.renderer);this.updateEnvironment(o),this.sceneInfos.push(o)}},m.prototype.updateEnvironment=function(t){var r=nA.filter(function(o){return o.name==="Venice Sunset"})[0];this.getCubeMapTexture(r).then(function(o){o&&t.vignette&&t.scene.add(t.vignette.mesh),t.scene.environment=o,t.scene.background=o})},m.prototype.getCubeMapTexture=function(t){var r=this,o=t.path;return o?new Promise(function(l,d){new Aw().load(o,function(g){var v=r.pmremGenerator.fromEquirectangular(g).texture;r.pmremGenerator.dispose(),l(v)},void 0,d)}):Promise.resolve({envMap:null})},m}(),vF=TE(function(m,t){(function(o,l){m.exports=l()})(self,function(){return(()=>{var r={"./node_modules/copper3d_plugin_heartjs_config/dist/copper3d_plugin_heartjs_config.js":g=>{(function(A,E){g.exports=E()})(self,()=>(()=>{var v={591:(I,P,B)=>{var V=B(8).default;function O(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */I.exports=O=function(){return k},I.exports.__esModule=!0,I.exports.default=I.exports;var k={},H=Object.prototype,W=H.hasOwnProperty,J=typeof Symbol=="function"?Symbol:{},te=J.iterator||"@@iterator",j=J.asyncIterator||"@@asyncIterator",ne=J.toStringTag||"@@toStringTag";function Ae(ut,We,Nt){return Object.defineProperty(ut,We,{value:Nt,enumerable:!0,configurable:!0,writable:!0}),ut[We]}try{Ae({},"")}catch{Ae=function(Nt,jt,$t){return Nt[jt]=$t}}function q(ut,We,Nt,jt){var $t=We&&We.prototype instanceof Fe?We:Fe,Sn=Object.create($t.prototype),Pn=new Wt(jt||[]);return Sn._invoke=function(Un,Rr,rn){var pn="suspendedStart";return function(Ve,Xn){if(pn==="executing")throw new Error("Generator is already running");if(pn==="completed"){if(Ve==="throw")throw Xn;return Ln()}for(rn.method=Ve,rn.arg=Xn;;){var bn=rn.delegate;if(bn){var Rt=lt(bn,rn);if(Rt){if(Rt===we)continue;return Rt}}if(rn.method==="next")rn.sent=rn._sent=rn.arg;else if(rn.method==="throw"){if(pn==="suspendedStart")throw pn="completed",rn.arg;rn.dispatchException(rn.arg)}else rn.method==="return"&&rn.abrupt("return",rn.arg);pn="executing";var ce=ge(Un,Rr,rn);if(ce.type==="normal"){if(pn=rn.done?"completed":"suspendedYield",ce.arg===we)continue;return{value:ce.arg,done:rn.done}}ce.type==="throw"&&(pn="completed",rn.method="throw",rn.arg=ce.arg)}}}(ut,Nt,Pn),Sn}function ge(ut,We,Nt){try{return{type:"normal",arg:ut.call(We,Nt)}}catch(jt){return{type:"throw",arg:jt}}}k.wrap=q;var we={};function Fe(){}function tt(){}function Pe(){}var Oe={};Ae(Oe,te,function(){return this});var st=Object.getPrototypeOf,ht=st&&st(st(c([])));ht&&ht!==H&&W.call(ht,te)&&(Oe=ht);var dt=Pe.prototype=Fe.prototype=Object.create(Oe);function Le(ut){["next","throw","return"].forEach(function(We){Ae(ut,We,function(Nt){return this._invoke(We,Nt)})})}function Ze(ut,We){function Nt($t,Sn,Pn,Un){var Rr=ge(ut[$t],ut,Sn);if(Rr.type!=="throw"){var rn=Rr.arg,pn=rn.value;return pn&&V(pn)=="object"&&W.call(pn,"__await")?We.resolve(pn.__await).then(function(Ve){Nt("next",Ve,Pn,Un)},function(Ve){Nt("throw",Ve,Pn,Un)}):We.resolve(pn).then(function(Ve){rn.value=Ve,Pn(rn)},function(Ve){return Nt("throw",Ve,Pn,Un)})}Un(Rr.arg)}var jt;this._invoke=function($t,Sn){function Pn(){return new We(function(Un,Rr){Nt($t,Sn,Un,Rr)})}return jt=jt?jt.then(Pn,Pn):Pn()}}function lt(ut,We){var Nt=ut.iterator[We.method];if(Nt===void 0){if(We.delegate=null,We.method==="throw"){if(ut.iterator.return&&(We.method="return",We.arg=void 0,lt(ut,We),We.method==="throw"))return we;We.method="throw",We.arg=new TypeError("The iterator does not provide a 'throw' method")}return we}var jt=ge(Nt,ut.iterator,We.arg);if(jt.type==="throw")return We.method="throw",We.arg=jt.arg,We.delegate=null,we;var $t=jt.arg;return $t?$t.done?(We[ut.resultName]=$t.value,We.next=ut.nextLoc,We.method!=="return"&&(We.method="next",We.arg=void 0),We.delegate=null,we):$t:(We.method="throw",We.arg=new TypeError("iterator result is not an object"),We.delegate=null,we)}function Ut(ut){var We={tryLoc:ut[0]};1 in ut&&(We.catchLoc=ut[1]),2 in ut&&(We.finallyLoc=ut[2],We.afterLoc=ut[3]),this.tryEntries.push(We)}function Vt(ut){var We=ut.completion||{};We.type="normal",delete We.arg,ut.completion=We}function Wt(ut){this.tryEntries=[{tryLoc:"root"}],ut.forEach(Ut,this),this.reset(!0)}function c(ut){if(ut){var We=ut[te];if(We)return We.call(ut);if(typeof ut.next=="function")return ut;if(!isNaN(ut.length)){var Nt=-1,jt=function $t(){for(;++Nt<ut.length;)if(W.call(ut,Nt))return $t.value=ut[Nt],$t.done=!1,$t;return $t.value=void 0,$t.done=!0,$t};return jt.next=jt}}return{next:Ln}}function Ln(){return{value:void 0,done:!0}}return tt.prototype=Pe,Ae(dt,"constructor",Pe),Ae(Pe,"constructor",tt),tt.displayName=Ae(Pe,ne,"GeneratorFunction"),k.isGeneratorFunction=function(ut){var We=typeof ut=="function"&&ut.constructor;return!!We&&(We===tt||(We.displayName||We.name)==="GeneratorFunction")},k.mark=function(ut){return Object.setPrototypeOf?Object.setPrototypeOf(ut,Pe):(ut.__proto__=Pe,Ae(ut,ne,"GeneratorFunction")),ut.prototype=Object.create(dt),ut},k.awrap=function(ut){return{__await:ut}},Le(Ze.prototype),Ae(Ze.prototype,j,function(){return this}),k.AsyncIterator=Ze,k.async=function(ut,We,Nt,jt,$t){$t===void 0&&($t=Promise);var Sn=new Ze(q(ut,We,Nt,jt),$t);return k.isGeneratorFunction(We)?Sn:Sn.next().then(function(Pn){return Pn.done?Pn.value:Sn.next()})},Le(dt),Ae(dt,ne,"Generator"),Ae(dt,te,function(){return this}),Ae(dt,"toString",function(){return"[object Generator]"}),k.keys=function(ut){var We=[];for(var Nt in ut)We.push(Nt);return We.reverse(),function jt(){for(;We.length;){var $t=We.pop();if($t in ut)return jt.value=$t,jt.done=!1,jt}return jt.done=!0,jt}},k.values=c,Wt.prototype={constructor:Wt,reset:function(We){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Vt),!We)for(var Nt in this)Nt.charAt(0)==="t"&&W.call(this,Nt)&&!isNaN(+Nt.slice(1))&&(this[Nt]=void 0)},stop:function(){this.done=!0;var We=this.tryEntries[0].completion;if(We.type==="throw")throw We.arg;return this.rval},dispatchException:function(We){if(this.done)throw We;var Nt=this;function jt(rn,pn){return Pn.type="throw",Pn.arg=We,Nt.next=rn,pn&&(Nt.method="next",Nt.arg=void 0),!!pn}for(var $t=this.tryEntries.length-1;$t>=0;--$t){var Sn=this.tryEntries[$t],Pn=Sn.completion;if(Sn.tryLoc==="root")return jt("end");if(Sn.tryLoc<=this.prev){var Un=W.call(Sn,"catchLoc"),Rr=W.call(Sn,"finallyLoc");if(Un&&Rr){if(this.prev<Sn.catchLoc)return jt(Sn.catchLoc,!0);if(this.prev<Sn.finallyLoc)return jt(Sn.finallyLoc)}else if(Un){if(this.prev<Sn.catchLoc)return jt(Sn.catchLoc,!0)}else{if(!Rr)throw new Error("try statement without catch or finally");if(this.prev<Sn.finallyLoc)return jt(Sn.finallyLoc)}}}},abrupt:function(We,Nt){for(var jt=this.tryEntries.length-1;jt>=0;--jt){var $t=this.tryEntries[jt];if($t.tryLoc<=this.prev&&W.call($t,"finallyLoc")&&this.prev<$t.finallyLoc){var Sn=$t;break}}Sn&&(We==="break"||We==="continue")&&Sn.tryLoc<=Nt&&Nt<=Sn.finallyLoc&&(Sn=null);var Pn=Sn?Sn.completion:{};return Pn.type=We,Pn.arg=Nt,Sn?(this.method="next",this.next=Sn.finallyLoc,we):this.complete(Pn)},complete:function(We,Nt){if(We.type==="throw")throw We.arg;return We.type==="break"||We.type==="continue"?this.next=We.arg:We.type==="return"?(this.rval=this.arg=We.arg,this.method="return",this.next="end"):We.type==="normal"&&Nt&&(this.next=Nt),we},finish:function(We){for(var Nt=this.tryEntries.length-1;Nt>=0;--Nt){var jt=this.tryEntries[Nt];if(jt.finallyLoc===We)return this.complete(jt.completion,jt.afterLoc),Vt(jt),we}},catch:function(We){for(var Nt=this.tryEntries.length-1;Nt>=0;--Nt){var jt=this.tryEntries[Nt];if(jt.tryLoc===We){var $t=jt.completion;if($t.type==="throw"){var Sn=$t.arg;Vt(jt)}return Sn}}throw new Error("illegal catch attempt")},delegateYield:function(We,Nt,jt){return this.delegate={iterator:c(We),resultName:Nt,nextLoc:jt},this.method==="next"&&(this.arg=void 0),we}},k}I.exports=O,I.exports.__esModule=!0,I.exports.default=I.exports},8:I=>{function P(B){return I.exports=P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},I.exports.__esModule=!0,I.exports.default=I.exports,P(B)}I.exports=P,I.exports.__esModule=!0,I.exports.default=I.exports},757:(I,P,B)=>{var V=B(591)();I.exports=V;try{regeneratorRuntime=V}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=V:Function("r","regeneratorRuntime = r")(V)}},140:(I,P,B)=>{I.exports=B.p+"791f4146c35521990ba3e84e823a55f3.wasm"},915:(I,P,B)=>{I.exports=B.p+"f1877cdf3dec53d47652f14c1e1b12c1.bin"}},A={};function E(I){var P=A[I];if(P!==void 0)return P.exports;var B=A[I]={exports:{}};return v[I](B,B.exports,E),B.exports}E.n=I=>{var P=I&&I.__esModule?()=>I.default:()=>I;return E.d(P,{a:P}),P},E.d=(I,P)=>{for(var B in P)E.o(P,B)&&!E.o(I,B)&&Object.defineProperty(I,B,{enumerable:!0,get:P[B]})},E.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),E.o=(I,P)=>Object.prototype.hasOwnProperty.call(I,P),E.r=I=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},(()=>{var I;E.g.importScripts&&(I=E.g.location+"");var P=E.g.document;if(!I&&P&&(P.currentScript&&(I=P.currentScript.src),!I)){var B=P.getElementsByTagName("script");B.length&&(I=B[B.length-1].src)}if(!I)throw new Error("Automatic publicPath is not supported in this browser");I=I.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),E.p=I})();var R={};return(()=>{E.r(R),E.d(R,{HeartRateDetector:()=>Rr,setBinUrl:()=>Un,setWasm:()=>B});function I(rn){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pn){return typeof pn}:function(pn){return pn&&typeof Symbol=="function"&&pn.constructor===Symbol&&pn!==Symbol.prototype?"symbol":typeof pn},I(rn)}E(140);var P;function B(rn){P=rn}var V=function(){var rn=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(pn){pn=pn||{};var Ve=typeof pn<"u"?pn:{},Xn,bn;Ve.ready=new Promise(function(Se,L){Xn=Se,bn=L});var Rt={},ce;for(ce in Ve)Ve.hasOwnProperty(ce)&&(Rt[ce]=Ve[ce]);var X=function(L,Z){throw Z},K=!0,ue="";function De(Se){return Ve.locateFile?Ve.locateFile(Se,ue):ue+Se}var Je,It;typeof document<"u"&&document.currentScript&&(ue=document.currentScript.src),rn&&(ue=rn),ue.indexOf("blob:")!==0?ue=ue.substr(0,ue.lastIndexOf("/")+1):ue="",Je=function(L){var Z=new XMLHttpRequest;return Z.open("GET",L,!1),Z.send(null),Z.responseText};var nn=Ve.print||console.log.bind(console),Me=Ve.printErr||console.warn.bind(console);for(ce in Rt)Rt.hasOwnProperty(ce)&&(Ve[ce]=Rt[ce]);Rt=null,Ve.arguments&&Ve.arguments,Ve.thisProgram&&Ve.thisProgram,Ve.quit&&(X=Ve.quit);var qt=16;function ln(Se,L){return L||(L=qt),Math.ceil(Se/L)*L}function xn(Se,L){if(typeof WebAssembly.Function=="function"){for(var Z={i:"i32",j:"i64",f:"f32",d:"f64"},me={parameters:[],results:L[0]=="v"?[]:[Z[L[0]]]},Be=1;Be<L.length;++Be)me.parameters.push(Z[L[Be]]);return new WebAssembly.Function(me,Se)}var Ke=[1,0,1,96],at=L.slice(0,1),Ct=L.slice(1),Yt={i:127,j:126,f:125,d:124};Ke.push(Ct.length);for(var Be=0;Be<Ct.length;++Be)Ke.push(Yt[Ct[Be]]);at=="v"?Ke.push(0):Ke=Ke.concat([1,Yt[at]]),Ke[1]=Ke.length-2;var vn=new Uint8Array([0,97,115,109,1,0,0,0].concat(Ke,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),or=new WebAssembly.Module(vn),gr=new WebAssembly.Instance(or,{e:{f:Se}}),mr=gr.exports.f;return mr}var yn=[],Vn;function vr(){if(yn.length)return yn.pop();try{Cr.grow(1)}catch(Se){throw Se instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Se}return Cr.length-1}function Gr(Se,L){if(!Vn){Vn=new WeakMap;for(var Z=0;Z<Cr.length;Z++){var me=Cr.get(Z);me&&Vn.set(me,Z)}}if(Vn.has(Se))return Vn.get(Se);var Be=vr();try{Cr.set(Be,Se)}catch(at){if(!(at instanceof TypeError))throw at;var Ke=xn(Se,L);Cr.set(Be,Ke)}return Vn.set(Se,Be),Be}function mt(Se){Vn.delete(Cr.get(Se)),yn.push(Se)}function Cn(Se,L){return Gr(Se,L)}var Kt=0,On=function(L){Kt=L},kn=function(){return Kt},Sr;Ve.wasmBinary&&(Sr=Ve.wasmBinary);var Ai=Ve.noExitRuntime||!0;(typeof WebAssembly>"u"?"undefined":I(WebAssembly))!=="object"&&Ui("no native wasm support detected");function mi(Se,L,Z,me){switch(Z=Z||"i8",Z.charAt(Z.length-1)==="*"&&(Z="i32"),Z){case"i1":$n[Se>>0]=L;break;case"i8":$n[Se>>0]=L;break;case"i16":Er[Se>>1]=L;break;case"i32":In[Se>>2]=L;break;case"i64":so=[L>>>0,(yi=L,+Math.abs(yi)>=1?yi>0?(Math.min(+Math.floor(yi/4294967296),4294967295)|0)>>>0:~~+Math.ceil((yi-+(~~yi>>>0))/4294967296)>>>0:0)],In[Se>>2]=so[0],In[Se+4>>2]=so[1];break;case"float":Hr[Se>>2]=L;break;case"double":kr[Se>>3]=L;break;default:Ui("invalid type for setValue: "+Z)}}function ca(Se,L,Z){switch(L=L||"i8",L.charAt(L.length-1)==="*"&&(L="i32"),L){case"i1":return $n[Se>>0];case"i8":return $n[Se>>0];case"i16":return Er[Se>>1];case"i32":return In[Se>>2];case"i64":return In[Se>>2];case"float":return Hr[Se>>2];case"double":return kr[Se>>3];default:Ui("invalid type for getValue: "+L)}return null}var ii,Gs=!1;function Ss(Se,L){Se||Ui("Assertion failed: "+L)}function RA(Se){var L=Ve["_"+Se];return Ss(L,"Cannot call unknown function "+Se+", make sure it is exported"),L}function Ju(Se,L,Z,me,Be){var Ke={string:function(Zn){var Pr=0;if(Zn!=null&&Zn!==0){var Ei=(Zn.length<<2)+1;Pr=DA(Ei),He(Zn,Pr,Ei)}return Pr},array:function(Zn){var Pr=DA(Zn.length);return Jt(Zn,Pr),Pr}};function at(dr){return L==="string"?Rc(dr):L==="boolean"?Boolean(dr):dr}var Ct=RA(Se),Yt=[],vn=0;if(me)for(var or=0;or<me.length;or++){var gr=Ke[Z[or]];gr?(vn===0&&(vn=ko()),Yt[or]=gr(me[or])):Yt[or]=me[or]}var mr=Ct.apply(null,Yt);return mr=at(mr),vn!==0&&Lo(vn),mr}var Vf=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ml(Se,L,Z){for(var me=L+Z,Be=L;Se[Be]&&!(Be>=me);)++Be;if(Be-L>16&&Se.subarray&&Vf)return Vf.decode(Se.subarray(L,Be));for(var Ke="";L<Be;){var at=Se[L++];if(!(at&128)){Ke+=String.fromCharCode(at);continue}var Ct=Se[L++]&63;if((at&224)==192){Ke+=String.fromCharCode((at&31)<<6|Ct);continue}var Yt=Se[L++]&63;if((at&240)==224?at=(at&15)<<12|Ct<<6|Yt:at=(at&7)<<18|Ct<<12|Yt<<6|Se[L++]&63,at<65536)Ke+=String.fromCharCode(at);else{var vn=at-65536;Ke+=String.fromCharCode(55296|vn>>10,56320|vn&1023)}}return Ke}function Rc(Se,L){return Se?Ml(ar,Se,L):""}function Gf(Se,L,Z,me){if(!(me>0))return 0;for(var Be=Z,Ke=Z+me-1,at=0;at<Se.length;++at){var Ct=Se.charCodeAt(at);if(Ct>=55296&&Ct<=57343){var Yt=Se.charCodeAt(++at);Ct=65536+((Ct&1023)<<10)|Yt&1023}if(Ct<=127){if(Z>=Ke)break;L[Z++]=Ct}else if(Ct<=2047){if(Z+1>=Ke)break;L[Z++]=192|Ct>>6,L[Z++]=128|Ct&63}else if(Ct<=65535){if(Z+2>=Ke)break;L[Z++]=224|Ct>>12,L[Z++]=128|Ct>>6&63,L[Z++]=128|Ct&63}else{if(Z+3>=Ke)break;L[Z++]=240|Ct>>18,L[Z++]=128|Ct>>12&63,L[Z++]=128|Ct>>6&63,L[Z++]=128|Ct&63}}return L[Z]=0,Z-Be}function He(Se,L,Z){return Gf(Se,ar,L,Z)}function kt(Se){for(var L=0,Z=0;Z<Se.length;++Z){var me=Se.charCodeAt(Z);me>=55296&&me<=57343&&(me=65536+((me&1023)<<10)|Se.charCodeAt(++Z)&1023),me<=127?++L:me<=2047?L+=2:me<=65535?L+=3:L+=4}return L}function Jt(Se,L){$n.set(Se,L)}function Pt(Se,L){return Se%L>0&&(Se+=L-Se%L),Se}var Zt,$n,ar,Er,In,Hr,kr;function Fr(Se){Zt=Se,Ve.HEAP8=$n=new Int8Array(Se),Ve.HEAP16=Er=new Int16Array(Se),Ve.HEAP32=In=new Int32Array(Se),Ve.HEAPU8=ar=new Uint8Array(Se),Ve.HEAPU16=new Uint16Array(Se),Ve.HEAPU32=new Uint32Array(Se),Ve.HEAPF32=Hr=new Float32Array(Se),Ve.HEAPF64=kr=new Float64Array(Se)}Ve.INITIAL_MEMORY;var Cr,ua=[],Fa=[],Va=[];function ro(){if(Ve.preRun)for(typeof Ve.preRun=="function"&&(Ve.preRun=[Ve.preRun]);Ve.preRun.length;)Si(Ve.preRun.shift());TA(ua)}function Qr(){!Ve.noFSInit&&!he.init.initialized&&he.init(),TA(Fa)}function xl(){if(Ve.postRun)for(typeof Ve.postRun=="function"&&(Ve.postRun=[Ve.postRun]);Ve.postRun.length;)da(Ve.postRun.shift());TA(Va)}function Si(Se){ua.unshift(Se)}function Es(Se){Fa.unshift(Se)}function da(Se){Va.unshift(Se)}var Us=0,Ga=null;function Gi(Se){Us++,Ve.monitorRunDependencies&&Ve.monitorRunDependencies(Us)}function Bo(Se){if(Us--,Ve.monitorRunDependencies&&Ve.monitorRunDependencies(Us),Us==0&&Ga){var L=Ga;Ga=null,L()}}Ve.preloadedImages={},Ve.preloadedAudios={};function Ui(Se){Ve.onAbort&&Ve.onAbort(Se),Se+="",Me(Se),Gs=!0,Se="abort("+Se+"). Build with -s ASSERTIONS=1 for more info.";var L=new WebAssembly.RuntimeError(Se);throw bn(L),L}var fs="data:application/octet-stream;base64,";function Zu(Se){return Se.startsWith(fs)}var io=P;Zu(io)||(io=De(io));function Uf(Se){try{if(Se==io&&Sr)return new Uint8Array(Sr);if(!It)throw"both async and sync fetching of the wasm failed"}catch(L){Ui(L)}}function bF(){return!Sr&&K&&typeof fetch=="function"?fetch(io,{credentials:"same-origin"}).then(function(Se){if(!Se.ok)throw"failed to load wasm binary file at '"+io+"'";return Se.arrayBuffer()}).catch(function(){return Uf(io)}):Promise.resolve().then(function(){return Uf(io)})}function SF(){var Se={a:qF};function L(at,Ct){var Yt=at.exports;Ve.asm=Yt,ii=Ve.asm.D,Fr(ii.buffer),Cr=Ve.asm.la,Es(Ve.asm.E),Bo()}Gi();function Z(at){L(at.instance)}function me(at){return bF().then(function(Ct){var Yt=WebAssembly.instantiate(Ct,Se);return Yt}).then(at,function(Ct){Me("failed to asynchronously prepare wasm: "+Ct),Ui(Ct)})}function Be(){return!Sr&&typeof WebAssembly.instantiateStreaming=="function"&&!Zu(io)&&typeof fetch=="function"?fetch(io,{credentials:"same-origin"}).then(function(at){var Ct=WebAssembly.instantiateStreaming(at,Se);return Ct.then(Z,function(Yt){return Me("wasm streaming compile failed: "+Yt),Me("falling back to ArrayBuffer instantiation"),me(Z)})}):me(Z)}if(Ve.instantiateWasm)try{var Ke=Ve.instantiateWasm(Se,L);return Ke}catch(at){return Me("Module.instantiateWasm callback failed with error: "+at),!1}return Be().catch(bn),{}}var yi,so;function TA(Se){for(;Se.length>0;){var L=Se.shift();if(typeof L=="function"){L(Ve);continue}var Z=L.func;typeof Z=="number"?L.arg===void 0?Cr.get(Z)():Cr.get(Z)(L.arg):Z(L.arg===void 0?null:L.arg)}}var EF=0;function iC(){return Ai||EF>0}function wF(Se,L,Z,me){Ui("Assertion failed: "+Rc(Se)+", at: "+[L?Rc(L):"unknown filename",Z,me?Rc(me):"unknown function"])}var zr={splitPath:function(L){var Z=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return Z.exec(L).slice(1)},normalizeArray:function(L,Z){for(var me=0,Be=L.length-1;Be>=0;Be--){var Ke=L[Be];Ke==="."?L.splice(Be,1):Ke===".."?(L.splice(Be,1),me++):me&&(L.splice(Be,1),me--)}if(Z)for(;me;me--)L.unshift("..");return L},normalize:function(L){var Z=L.charAt(0)==="/",me=L.substr(-1)==="/";return L=zr.normalizeArray(L.split("/").filter(function(Be){return!!Be}),!Z).join("/"),!L&&!Z&&(L="."),L&&me&&(L+="/"),(Z?"/":"")+L},dirname:function(L){var Z=zr.splitPath(L),me=Z[0],Be=Z[1];return!me&&!Be?".":(Be&&(Be=Be.substr(0,Be.length-1)),me+Be)},basename:function(L){if(L==="/")return"/";L=zr.normalize(L),L=L.replace(/\/$/,"");var Z=L.lastIndexOf("/");return Z===-1?L:L.substr(Z+1)},extname:function(L){return zr.splitPath(L)[3]},join:function(){var L=Array.prototype.slice.call(arguments,0);return zr.normalize(L.join("/"))},join2:function(L,Z){return zr.normalize(L+"/"+Z)}};function CF(){if((typeof crypto>"u"?"undefined":I(crypto))==="object"&&typeof crypto.getRandomValues=="function"){var Se=new Uint8Array(1);return function(){return crypto.getRandomValues(Se),Se[0]}}else return function(){Ui("randomDevice")}}var Ua={resolve:function(){for(var L="",Z=!1,me=arguments.length-1;me>=-1&&!Z;me--){var Be=me>=0?arguments[me]:he.cwd();if(typeof Be!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!Be)return"";L=Be+"/"+L,Z=Be.charAt(0)==="/"}return L=zr.normalizeArray(L.split("/").filter(function(Ke){return!!Ke}),!Z).join("/"),(Z?"/":"")+L||"."},relative:function(L,Z){L=Ua.resolve(L).substr(1),Z=Ua.resolve(Z).substr(1);function me(or){for(var gr=0;gr<or.length&&or[gr]==="";gr++);for(var mr=or.length-1;mr>=0&&or[mr]==="";mr--);return gr>mr?[]:or.slice(gr,mr-gr+1)}for(var Be=me(L.split("/")),Ke=me(Z.split("/")),at=Math.min(Be.length,Ke.length),Ct=at,Yt=0;Yt<at;Yt++)if(Be[Yt]!==Ke[Yt]){Ct=Yt;break}for(var vn=[],Yt=Ct;Yt<Be.length;Yt++)vn.push("..");return vn=vn.concat(Ke.slice(Ct)),vn.join("/")}},Tc={ttys:[],init:function(){},shutdown:function(){},register:function(L,Z){Tc.ttys[L]={input:[],output:[],ops:Z},he.registerDevice(L,Tc.stream_ops)},stream_ops:{open:function(L){var Z=Tc.ttys[L.node.rdev];if(!Z)throw new he.ErrnoError(43);L.tty=Z,L.seekable=!1},close:function(L){L.tty.ops.flush(L.tty)},flush:function(L){L.tty.ops.flush(L.tty)},read:function(L,Z,me,Be,Ke){if(!L.tty||!L.tty.ops.get_char)throw new he.ErrnoError(60);for(var at=0,Ct=0;Ct<Be;Ct++){var Yt;try{Yt=L.tty.ops.get_char(L.tty)}catch{throw new he.ErrnoError(29)}if(Yt===void 0&&at===0)throw new he.ErrnoError(6);if(Yt==null)break;at++,Z[me+Ct]=Yt}return at&&(L.node.timestamp=Date.now()),at},write:function(L,Z,me,Be,Ke){if(!L.tty||!L.tty.ops.put_char)throw new he.ErrnoError(60);try{for(var at=0;at<Be;at++)L.tty.ops.put_char(L.tty,Z[me+at])}catch{throw new he.ErrnoError(29)}return Be&&(L.node.timestamp=Date.now()),at}},default_tty_ops:{get_char:function(L){if(!L.input.length){var Z=null;if(typeof window<"u"&&typeof window.prompt=="function"?(Z=window.prompt("Input: "),Z!==null&&(Z+=`
`)):typeof readline=="function"&&(Z=readline(),Z!==null&&(Z+=`
`)),!Z)return null;L.input=NA(Z,!0)}return L.input.shift()},put_char:function(L,Z){Z===null||Z===10?(nn(Ml(L.output,0)),L.output=[]):Z!=0&&L.output.push(Z)},flush:function(L){L.output&&L.output.length>0&&(nn(Ml(L.output,0)),L.output=[])}},default_tty1_ops:{put_char:function(L,Z){Z===null||Z===10?(Me(Ml(L.output,0)),L.output=[]):Z!=0&&L.output.push(Z)},flush:function(L){L.output&&L.output.length>0&&(Me(Ml(L.output,0)),L.output=[])}}};function IF(Se){for(var L=ln(Se,65536),Z=oC(L);Se<L;)$n[Z+Se++]=0;return Z}var wr={ops_table:null,mount:function(L){return wr.createNode(null,"/",16895,0)},createNode:function(L,Z,me,Be){if(he.isBlkdev(me)||he.isFIFO(me))throw new he.ErrnoError(63);wr.ops_table||(wr.ops_table={dir:{node:{getattr:wr.node_ops.getattr,setattr:wr.node_ops.setattr,lookup:wr.node_ops.lookup,mknod:wr.node_ops.mknod,rename:wr.node_ops.rename,unlink:wr.node_ops.unlink,rmdir:wr.node_ops.rmdir,readdir:wr.node_ops.readdir,symlink:wr.node_ops.symlink},stream:{llseek:wr.stream_ops.llseek}},file:{node:{getattr:wr.node_ops.getattr,setattr:wr.node_ops.setattr},stream:{llseek:wr.stream_ops.llseek,read:wr.stream_ops.read,write:wr.stream_ops.write,allocate:wr.stream_ops.allocate,mmap:wr.stream_ops.mmap,msync:wr.stream_ops.msync}},link:{node:{getattr:wr.node_ops.getattr,setattr:wr.node_ops.setattr,readlink:wr.node_ops.readlink},stream:{}},chrdev:{node:{getattr:wr.node_ops.getattr,setattr:wr.node_ops.setattr},stream:he.chrdev_stream_ops}});var Ke=he.createNode(L,Z,me,Be);return he.isDir(Ke.mode)?(Ke.node_ops=wr.ops_table.dir.node,Ke.stream_ops=wr.ops_table.dir.stream,Ke.contents={}):he.isFile(Ke.mode)?(Ke.node_ops=wr.ops_table.file.node,Ke.stream_ops=wr.ops_table.file.stream,Ke.usedBytes=0,Ke.contents=null):he.isLink(Ke.mode)?(Ke.node_ops=wr.ops_table.link.node,Ke.stream_ops=wr.ops_table.link.stream):he.isChrdev(Ke.mode)&&(Ke.node_ops=wr.ops_table.chrdev.node,Ke.stream_ops=wr.ops_table.chrdev.stream),Ke.timestamp=Date.now(),L&&(L.contents[Z]=Ke,L.timestamp=Ke.timestamp),Ke},getFileDataAsTypedArray:function(L){return L.contents?L.contents.subarray?L.contents.subarray(0,L.usedBytes):new Uint8Array(L.contents):new Uint8Array(0)},expandFileStorage:function(L,Z){var me=L.contents?L.contents.length:0;if(!(me>=Z)){var Be=1024*1024;Z=Math.max(Z,me*(me<Be?2:1.125)>>>0),me!=0&&(Z=Math.max(Z,256));var Ke=L.contents;L.contents=new Uint8Array(Z),L.usedBytes>0&&L.contents.set(Ke.subarray(0,L.usedBytes),0)}},resizeFileStorage:function(L,Z){if(L.usedBytes!=Z)if(Z==0)L.contents=null,L.usedBytes=0;else{var me=L.contents;L.contents=new Uint8Array(Z),me&&L.contents.set(me.subarray(0,Math.min(Z,L.usedBytes))),L.usedBytes=Z}},node_ops:{getattr:function(L){var Z={};return Z.dev=he.isChrdev(L.mode)?L.id:1,Z.ino=L.id,Z.mode=L.mode,Z.nlink=1,Z.uid=0,Z.gid=0,Z.rdev=L.rdev,he.isDir(L.mode)?Z.size=4096:he.isFile(L.mode)?Z.size=L.usedBytes:he.isLink(L.mode)?Z.size=L.link.length:Z.size=0,Z.atime=new Date(L.timestamp),Z.mtime=new Date(L.timestamp),Z.ctime=new Date(L.timestamp),Z.blksize=4096,Z.blocks=Math.ceil(Z.size/Z.blksize),Z},setattr:function(L,Z){Z.mode!==void 0&&(L.mode=Z.mode),Z.timestamp!==void 0&&(L.timestamp=Z.timestamp),Z.size!==void 0&&wr.resizeFileStorage(L,Z.size)},lookup:function(L,Z){throw he.genericErrors[44]},mknod:function(L,Z,me,Be){return wr.createNode(L,Z,me,Be)},rename:function(L,Z,me){if(he.isDir(L.mode)){var Be;try{Be=he.lookupNode(Z,me)}catch{}if(Be)for(var Ke in Be.contents)throw new he.ErrnoError(55)}delete L.parent.contents[L.name],L.parent.timestamp=Date.now(),L.name=me,Z.contents[me]=L,Z.timestamp=L.parent.timestamp,L.parent=Z},unlink:function(L,Z){delete L.contents[Z],L.timestamp=Date.now()},rmdir:function(L,Z){var me=he.lookupNode(L,Z);for(var Be in me.contents)throw new he.ErrnoError(55);delete L.contents[Z],L.timestamp=Date.now()},readdir:function(L){var Z=[".",".."];for(var me in L.contents)!L.contents.hasOwnProperty(me)||Z.push(me);return Z},symlink:function(L,Z,me){var Be=wr.createNode(L,Z,41471,0);return Be.link=me,Be},readlink:function(L){if(!he.isLink(L.mode))throw new he.ErrnoError(28);return L.link}},stream_ops:{read:function(L,Z,me,Be,Ke){var at=L.node.contents;if(Ke>=L.node.usedBytes)return 0;var Ct=Math.min(L.node.usedBytes-Ke,Be);if(Ct>8&&at.subarray)Z.set(at.subarray(Ke,Ke+Ct),me);else for(var Yt=0;Yt<Ct;Yt++)Z[me+Yt]=at[Ke+Yt];return Ct},write:function(L,Z,me,Be,Ke,at){if(Z.buffer===$n.buffer&&(at=!1),!Be)return 0;var Ct=L.node;if(Ct.timestamp=Date.now(),Z.subarray&&(!Ct.contents||Ct.contents.subarray)){if(at)return Ct.contents=Z.subarray(me,me+Be),Ct.usedBytes=Be,Be;if(Ct.usedBytes===0&&Ke===0)return Ct.contents=Z.slice(me,me+Be),Ct.usedBytes=Be,Be;if(Ke+Be<=Ct.usedBytes)return Ct.contents.set(Z.subarray(me,me+Be),Ke),Be}if(wr.expandFileStorage(Ct,Ke+Be),Ct.contents.subarray&&Z.subarray)Ct.contents.set(Z.subarray(me,me+Be),Ke);else for(var Yt=0;Yt<Be;Yt++)Ct.contents[Ke+Yt]=Z[me+Yt];return Ct.usedBytes=Math.max(Ct.usedBytes,Ke+Be),Be},llseek:function(L,Z,me){var Be=Z;if(me===1?Be+=L.position:me===2&&he.isFile(L.node.mode)&&(Be+=L.node.usedBytes),Be<0)throw new he.ErrnoError(28);return Be},allocate:function(L,Z,me){wr.expandFileStorage(L.node,Z+me),L.node.usedBytes=Math.max(L.node.usedBytes,Z+me)},mmap:function(L,Z,me,Be,Ke,at){if(Z!==0)throw new he.ErrnoError(28);if(!he.isFile(L.node.mode))throw new he.ErrnoError(43);var Ct,Yt,vn=L.node.contents;if(!(at&2)&&vn.buffer===Zt)Yt=!1,Ct=vn.byteOffset;else{if((Be>0||Be+me<vn.length)&&(vn.subarray?vn=vn.subarray(Be,Be+me):vn=Array.prototype.slice.call(vn,Be,Be+me)),Yt=!0,Ct=IF(me),!Ct)throw new he.ErrnoError(48);$n.set(vn,Ct)}return{ptr:Ct,allocated:Yt}},msync:function(L,Z,me,Be,Ke){if(!he.isFile(L.node.mode))throw new he.ErrnoError(43);return Ke&2||wr.stream_ops.write(L,Z,0,Be,me,!1),0}}},he={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(L,Z){if(L=Ua.resolve(he.cwd(),L),Z=Z||{},!L)return{path:"",node:null};var me={follow_mount:!0,recurse_count:0};for(var Be in me)Z[Be]===void 0&&(Z[Be]=me[Be]);if(Z.recurse_count>8)throw new he.ErrnoError(32);for(var Ke=zr.normalizeArray(L.split("/").filter(function(dr){return!!dr}),!1),at=he.root,Ct="/",Yt=0;Yt<Ke.length;Yt++){var vn=Yt===Ke.length-1;if(vn&&Z.parent)break;if(at=he.lookupNode(at,Ke[Yt]),Ct=zr.join2(Ct,Ke[Yt]),he.isMountpoint(at)&&(!vn||vn&&Z.follow_mount)&&(at=at.mounted.root),!vn||Z.follow)for(var or=0;he.isLink(at.mode);){var gr=he.readlink(Ct);Ct=Ua.resolve(zr.dirname(Ct),gr);var mr=he.lookupPath(Ct,{recurse_count:Z.recurse_count});if(at=mr.node,or++>40)throw new he.ErrnoError(32)}}return{path:Ct,node:at}},getPath:function(L){for(var Z;;){if(he.isRoot(L)){var me=L.mount.mountpoint;return Z?me[me.length-1]!=="/"?me+"/"+Z:me+Z:me}Z=Z?L.name+"/"+Z:L.name,L=L.parent}},hashName:function(L,Z){for(var me=0,Be=0;Be<Z.length;Be++)me=(me<<5)-me+Z.charCodeAt(Be)|0;return(L+me>>>0)%he.nameTable.length},hashAddNode:function(L){var Z=he.hashName(L.parent.id,L.name);L.name_next=he.nameTable[Z],he.nameTable[Z]=L},hashRemoveNode:function(L){var Z=he.hashName(L.parent.id,L.name);if(he.nameTable[Z]===L)he.nameTable[Z]=L.name_next;else for(var me=he.nameTable[Z];me;){if(me.name_next===L){me.name_next=L.name_next;break}me=me.name_next}},lookupNode:function(L,Z){var me=he.mayLookup(L);if(me)throw new he.ErrnoError(me,L);for(var Be=he.hashName(L.id,Z),Ke=he.nameTable[Be];Ke;Ke=Ke.name_next){var at=Ke.name;if(Ke.parent.id===L.id&&at===Z)return Ke}return he.lookup(L,Z)},createNode:function(L,Z,me,Be){var Ke=new he.FSNode(L,Z,me,Be);return he.hashAddNode(Ke),Ke},destroyNode:function(L){he.hashRemoveNode(L)},isRoot:function(L){return L===L.parent},isMountpoint:function(L){return!!L.mounted},isFile:function(L){return(L&61440)===32768},isDir:function(L){return(L&61440)===16384},isLink:function(L){return(L&61440)===40960},isChrdev:function(L){return(L&61440)===8192},isBlkdev:function(L){return(L&61440)===24576},isFIFO:function(L){return(L&61440)===4096},isSocket:function(L){return(L&49152)===49152},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(L){var Z=he.flagModes[L];if(typeof Z>"u")throw new Error("Unknown file open mode: "+L);return Z},flagsToPermissionString:function(L){var Z=["r","w","rw"][L&3];return L&512&&(Z+="w"),Z},nodePermissions:function(L,Z){return 0},mayLookup:function(L){var Z=he.nodePermissions(L,"x");return Z||(L.node_ops.lookup?0:2)},mayCreate:function(L,Z){try{var me=he.lookupNode(L,Z);return 20}catch{}return he.nodePermissions(L,"wx")},mayDelete:function(L,Z,me){var Be;try{Be=he.lookupNode(L,Z)}catch(at){return at.errno}var Ke=he.nodePermissions(L,"wx");if(Ke)return Ke;if(me){if(!he.isDir(Be.mode))return 54;if(he.isRoot(Be)||he.getPath(Be)===he.cwd())return 10}else if(he.isDir(Be.mode))return 31;return 0},mayOpen:function(L,Z){return L?he.isLink(L.mode)?32:he.isDir(L.mode)&&(he.flagsToPermissionString(Z)!=="r"||Z&512)?31:he.nodePermissions(L,he.flagsToPermissionString(Z)):44},MAX_OPEN_FDS:4096,nextfd:function(L,Z){L=L||0,Z=Z||he.MAX_OPEN_FDS;for(var me=L;me<=Z;me++)if(!he.streams[me])return me;throw new he.ErrnoError(33)},getStream:function(L){return he.streams[L]},createStream:function(L,Z,me){he.FSStream||(he.FSStream=function(){},he.FSStream.prototype={object:{get:function(){return this.node},set:function(Yt){this.node=Yt}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var Be=new he.FSStream;for(var Ke in L)Be[Ke]=L[Ke];L=Be;var at=he.nextfd(Z,me);return L.fd=at,he.streams[at]=L,L},closeStream:function(L){he.streams[L]=null},chrdev_stream_ops:{open:function(L){var Z=he.getDevice(L.node.rdev);L.stream_ops=Z.stream_ops,L.stream_ops.open&&L.stream_ops.open(L)},llseek:function(){throw new he.ErrnoError(70)}},major:function(L){return L>>8},minor:function(L){return L&255},makedev:function(L,Z){return L<<8|Z},registerDevice:function(L,Z){he.devices[L]={stream_ops:Z}},getDevice:function(L){return he.devices[L]},getMounts:function(L){for(var Z=[],me=[L];me.length;){var Be=me.pop();Z.push(Be),me.push.apply(me,Be.mounts)}return Z},syncfs:function(L,Z){typeof L=="function"&&(Z=L,L=!1),he.syncFSRequests++,he.syncFSRequests>1&&Me("warning: "+he.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var me=he.getMounts(he.root.mount),Be=0;function Ke(Ct){return he.syncFSRequests--,Z(Ct)}function at(Ct){if(Ct)return at.errored?void 0:(at.errored=!0,Ke(Ct));++Be>=me.length&&Ke(null)}me.forEach(function(Ct){if(!Ct.type.syncfs)return at(null);Ct.type.syncfs(Ct,L,at)})},mount:function(L,Z,me){var Be=me==="/",Ke=!me,at;if(Be&&he.root)throw new he.ErrnoError(10);if(!Be&&!Ke){var Ct=he.lookupPath(me,{follow_mount:!1});if(me=Ct.path,at=Ct.node,he.isMountpoint(at))throw new he.ErrnoError(10);if(!he.isDir(at.mode))throw new he.ErrnoError(54)}var Yt={type:L,opts:Z,mountpoint:me,mounts:[]},vn=L.mount(Yt);return vn.mount=Yt,Yt.root=vn,Be?he.root=vn:at&&(at.mounted=Yt,at.mount&&at.mount.mounts.push(Yt)),vn},unmount:function(L){var Z=he.lookupPath(L,{follow_mount:!1});if(!he.isMountpoint(Z.node))throw new he.ErrnoError(28);var me=Z.node,Be=me.mounted,Ke=he.getMounts(Be);Object.keys(he.nameTable).forEach(function(Ct){for(var Yt=he.nameTable[Ct];Yt;){var vn=Yt.name_next;Ke.includes(Yt.mount)&&he.destroyNode(Yt),Yt=vn}}),me.mounted=null;var at=me.mount.mounts.indexOf(Be);me.mount.mounts.splice(at,1)},lookup:function(L,Z){return L.node_ops.lookup(L,Z)},mknod:function(L,Z,me){var Be=he.lookupPath(L,{parent:!0}),Ke=Be.node,at=zr.basename(L);if(!at||at==="."||at==="..")throw new he.ErrnoError(28);var Ct=he.mayCreate(Ke,at);if(Ct)throw new he.ErrnoError(Ct);if(!Ke.node_ops.mknod)throw new he.ErrnoError(63);return Ke.node_ops.mknod(Ke,at,Z,me)},create:function(L,Z){return Z=Z!==void 0?Z:438,Z&=4095,Z|=32768,he.mknod(L,Z,0)},mkdir:function(L,Z){return Z=Z!==void 0?Z:511,Z&=1023,Z|=16384,he.mknod(L,Z,0)},mkdirTree:function(L,Z){for(var me=L.split("/"),Be="",Ke=0;Ke<me.length;++Ke)if(!!me[Ke]){Be+="/"+me[Ke];try{he.mkdir(Be,Z)}catch(at){if(at.errno!=20)throw at}}},mkdev:function(L,Z,me){return typeof me>"u"&&(me=Z,Z=438),Z|=8192,he.mknod(L,Z,me)},symlink:function(L,Z){if(!Ua.resolve(L))throw new he.ErrnoError(44);var me=he.lookupPath(Z,{parent:!0}),Be=me.node;if(!Be)throw new he.ErrnoError(44);var Ke=zr.basename(Z),at=he.mayCreate(Be,Ke);if(at)throw new he.ErrnoError(at);if(!Be.node_ops.symlink)throw new he.ErrnoError(63);return Be.node_ops.symlink(Be,Ke,L)},rename:function(L,Z){var me=zr.dirname(L),Be=zr.dirname(Z),Ke=zr.basename(L),at=zr.basename(Z),Ct,Yt,vn;if(Ct=he.lookupPath(L,{parent:!0}),Yt=Ct.node,Ct=he.lookupPath(Z,{parent:!0}),vn=Ct.node,!Yt||!vn)throw new he.ErrnoError(44);if(Yt.mount!==vn.mount)throw new he.ErrnoError(75);var or=he.lookupNode(Yt,Ke),gr=Ua.relative(L,Be);if(gr.charAt(0)!==".")throw new he.ErrnoError(28);if(gr=Ua.relative(Z,me),gr.charAt(0)!==".")throw new he.ErrnoError(55);var mr;try{mr=he.lookupNode(vn,at)}catch{}if(or!==mr){var dr=he.isDir(or.mode),Zn=he.mayDelete(Yt,Ke,dr);if(Zn)throw new he.ErrnoError(Zn);if(Zn=mr?he.mayDelete(vn,at,dr):he.mayCreate(vn,at),Zn)throw new he.ErrnoError(Zn);if(!Yt.node_ops.rename)throw new he.ErrnoError(63);if(he.isMountpoint(or)||mr&&he.isMountpoint(mr))throw new he.ErrnoError(10);if(vn!==Yt&&(Zn=he.nodePermissions(Yt,"w"),Zn))throw new he.ErrnoError(Zn);try{he.trackingDelegate.willMovePath&&he.trackingDelegate.willMovePath(L,Z)}catch(Pr){Me("FS.trackingDelegate['willMovePath']('"+L+"', '"+Z+"') threw an exception: "+Pr.message)}he.hashRemoveNode(or);try{Yt.node_ops.rename(or,vn,at)}catch(Pr){throw Pr}finally{he.hashAddNode(or)}try{he.trackingDelegate.onMovePath&&he.trackingDelegate.onMovePath(L,Z)}catch(Pr){Me("FS.trackingDelegate['onMovePath']('"+L+"', '"+Z+"') threw an exception: "+Pr.message)}}},rmdir:function(L){var Z=he.lookupPath(L,{parent:!0}),me=Z.node,Be=zr.basename(L),Ke=he.lookupNode(me,Be),at=he.mayDelete(me,Be,!0);if(at)throw new he.ErrnoError(at);if(!me.node_ops.rmdir)throw new he.ErrnoError(63);if(he.isMountpoint(Ke))throw new he.ErrnoError(10);try{he.trackingDelegate.willDeletePath&&he.trackingDelegate.willDeletePath(L)}catch(Ct){Me("FS.trackingDelegate['willDeletePath']('"+L+"') threw an exception: "+Ct.message)}me.node_ops.rmdir(me,Be),he.destroyNode(Ke);try{he.trackingDelegate.onDeletePath&&he.trackingDelegate.onDeletePath(L)}catch(Ct){Me("FS.trackingDelegate['onDeletePath']('"+L+"') threw an exception: "+Ct.message)}},readdir:function(L){var Z=he.lookupPath(L,{follow:!0}),me=Z.node;if(!me.node_ops.readdir)throw new he.ErrnoError(54);return me.node_ops.readdir(me)},unlink:function(L){var Z=he.lookupPath(L,{parent:!0}),me=Z.node,Be=zr.basename(L),Ke=he.lookupNode(me,Be),at=he.mayDelete(me,Be,!1);if(at)throw new he.ErrnoError(at);if(!me.node_ops.unlink)throw new he.ErrnoError(63);if(he.isMountpoint(Ke))throw new he.ErrnoError(10);try{he.trackingDelegate.willDeletePath&&he.trackingDelegate.willDeletePath(L)}catch(Ct){Me("FS.trackingDelegate['willDeletePath']('"+L+"') threw an exception: "+Ct.message)}me.node_ops.unlink(me,Be),he.destroyNode(Ke);try{he.trackingDelegate.onDeletePath&&he.trackingDelegate.onDeletePath(L)}catch(Ct){Me("FS.trackingDelegate['onDeletePath']('"+L+"') threw an exception: "+Ct.message)}},readlink:function(L){var Z=he.lookupPath(L),me=Z.node;if(!me)throw new he.ErrnoError(44);if(!me.node_ops.readlink)throw new he.ErrnoError(28);return Ua.resolve(he.getPath(me.parent),me.node_ops.readlink(me))},stat:function(L,Z){var me=he.lookupPath(L,{follow:!Z}),Be=me.node;if(!Be)throw new he.ErrnoError(44);if(!Be.node_ops.getattr)throw new he.ErrnoError(63);return Be.node_ops.getattr(Be)},lstat:function(L){return he.stat(L,!0)},chmod:function(L,Z,me){var Be;if(typeof L=="string"){var Ke=he.lookupPath(L,{follow:!me});Be=Ke.node}else Be=L;if(!Be.node_ops.setattr)throw new he.ErrnoError(63);Be.node_ops.setattr(Be,{mode:Z&4095|Be.mode&-4096,timestamp:Date.now()})},lchmod:function(L,Z){he.chmod(L,Z,!0)},fchmod:function(L,Z){var me=he.getStream(L);if(!me)throw new he.ErrnoError(8);he.chmod(me.node,Z)},chown:function(L,Z,me,Be){var Ke;if(typeof L=="string"){var at=he.lookupPath(L,{follow:!Be});Ke=at.node}else Ke=L;if(!Ke.node_ops.setattr)throw new he.ErrnoError(63);Ke.node_ops.setattr(Ke,{timestamp:Date.now()})},lchown:function(L,Z,me){he.chown(L,Z,me,!0)},fchown:function(L,Z,me){var Be=he.getStream(L);if(!Be)throw new he.ErrnoError(8);he.chown(Be.node,Z,me)},truncate:function(L,Z){if(Z<0)throw new he.ErrnoError(28);var me;if(typeof L=="string"){var Be=he.lookupPath(L,{follow:!0});me=Be.node}else me=L;if(!me.node_ops.setattr)throw new he.ErrnoError(63);if(he.isDir(me.mode))throw new he.ErrnoError(31);if(!he.isFile(me.mode))throw new he.ErrnoError(28);var Ke=he.nodePermissions(me,"w");if(Ke)throw new he.ErrnoError(Ke);me.node_ops.setattr(me,{size:Z,timestamp:Date.now()})},ftruncate:function(L,Z){var me=he.getStream(L);if(!me)throw new he.ErrnoError(8);if((me.flags&2097155)===0)throw new he.ErrnoError(28);he.truncate(me.node,Z)},utime:function(L,Z,me){var Be=he.lookupPath(L,{follow:!0}),Ke=Be.node;Ke.node_ops.setattr(Ke,{timestamp:Math.max(Z,me)})},open:function(L,Z,me,Be,Ke){if(L==="")throw new he.ErrnoError(44);Z=typeof Z=="string"?he.modeStringToFlags(Z):Z,me=typeof me>"u"?438:me,Z&64?me=me&4095|32768:me=0;var at;if(I(L)==="object")at=L;else{L=zr.normalize(L);try{var Ct=he.lookupPath(L,{follow:!(Z&131072)});at=Ct.node}catch{}}var Yt=!1;if(Z&64)if(at){if(Z&128)throw new he.ErrnoError(20)}else at=he.mknod(L,me,0),Yt=!0;if(!at)throw new he.ErrnoError(44);if(he.isChrdev(at.mode)&&(Z&=-513),Z&65536&&!he.isDir(at.mode))throw new he.ErrnoError(54);if(!Yt){var vn=he.mayOpen(at,Z);if(vn)throw new he.ErrnoError(vn)}Z&512&&he.truncate(at,0),Z&=-131713;var or=he.createStream({node:at,path:he.getPath(at),flags:Z,seekable:!0,position:0,stream_ops:at.stream_ops,ungotten:[],error:!1},Be,Ke);or.stream_ops.open&&or.stream_ops.open(or),Ve.logReadFiles&&!(Z&1)&&(he.readFiles||(he.readFiles={}),L in he.readFiles||(he.readFiles[L]=1,Me("FS.trackingDelegate error on read file: "+L)));try{if(he.trackingDelegate.onOpenFile){var gr=0;(Z&2097155)!==1&&(gr|=he.tracking.openFlags.READ),(Z&2097155)!==0&&(gr|=he.tracking.openFlags.WRITE),he.trackingDelegate.onOpenFile(L,gr)}}catch(mr){Me("FS.trackingDelegate['onOpenFile']('"+L+"', flags) threw an exception: "+mr.message)}return or},close:function(L){if(he.isClosed(L))throw new he.ErrnoError(8);L.getdents&&(L.getdents=null);try{L.stream_ops.close&&L.stream_ops.close(L)}catch(Z){throw Z}finally{he.closeStream(L.fd)}L.fd=null},isClosed:function(L){return L.fd===null},llseek:function(L,Z,me){if(he.isClosed(L))throw new he.ErrnoError(8);if(!L.seekable||!L.stream_ops.llseek)throw new he.ErrnoError(70);if(me!=0&&me!=1&&me!=2)throw new he.ErrnoError(28);return L.position=L.stream_ops.llseek(L,Z,me),L.ungotten=[],L.position},read:function(L,Z,me,Be,Ke){if(Be<0||Ke<0)throw new he.ErrnoError(28);if(he.isClosed(L))throw new he.ErrnoError(8);if((L.flags&2097155)===1)throw new he.ErrnoError(8);if(he.isDir(L.node.mode))throw new he.ErrnoError(31);if(!L.stream_ops.read)throw new he.ErrnoError(28);var at=typeof Ke<"u";if(!at)Ke=L.position;else if(!L.seekable)throw new he.ErrnoError(70);var Ct=L.stream_ops.read(L,Z,me,Be,Ke);return at||(L.position+=Ct),Ct},write:function(L,Z,me,Be,Ke,at){if(Be<0||Ke<0)throw new he.ErrnoError(28);if(he.isClosed(L))throw new he.ErrnoError(8);if((L.flags&2097155)===0)throw new he.ErrnoError(8);if(he.isDir(L.node.mode))throw new he.ErrnoError(31);if(!L.stream_ops.write)throw new he.ErrnoError(28);L.seekable&&L.flags&1024&&he.llseek(L,0,2);var Ct=typeof Ke<"u";if(!Ct)Ke=L.position;else if(!L.seekable)throw new he.ErrnoError(70);var Yt=L.stream_ops.write(L,Z,me,Be,Ke,at);Ct||(L.position+=Yt);try{L.path&&he.trackingDelegate.onWriteToFile&&he.trackingDelegate.onWriteToFile(L.path)}catch(vn){Me("FS.trackingDelegate['onWriteToFile']('"+L.path+"') threw an exception: "+vn.message)}return Yt},allocate:function(L,Z,me){if(he.isClosed(L))throw new he.ErrnoError(8);if(Z<0||me<=0)throw new he.ErrnoError(28);if((L.flags&2097155)===0)throw new he.ErrnoError(8);if(!he.isFile(L.node.mode)&&!he.isDir(L.node.mode))throw new he.ErrnoError(43);if(!L.stream_ops.allocate)throw new he.ErrnoError(138);L.stream_ops.allocate(L,Z,me)},mmap:function(L,Z,me,Be,Ke,at){if((Ke&2)!==0&&(at&2)===0&&(L.flags&2097155)!==2)throw new he.ErrnoError(2);if((L.flags&2097155)===1)throw new he.ErrnoError(2);if(!L.stream_ops.mmap)throw new he.ErrnoError(43);return L.stream_ops.mmap(L,Z,me,Be,Ke,at)},msync:function(L,Z,me,Be,Ke){return!L||!L.stream_ops.msync?0:L.stream_ops.msync(L,Z,me,Be,Ke)},munmap:function(L){return 0},ioctl:function(L,Z,me){if(!L.stream_ops.ioctl)throw new he.ErrnoError(59);return L.stream_ops.ioctl(L,Z,me)},readFile:function(L,Z){if(Z=Z||{},Z.flags=Z.flags||0,Z.encoding=Z.encoding||"binary",Z.encoding!=="utf8"&&Z.encoding!=="binary")throw new Error('Invalid encoding type "'+Z.encoding+'"');var me,Be=he.open(L,Z.flags),Ke=he.stat(L),at=Ke.size,Ct=new Uint8Array(at);return he.read(Be,Ct,0,at,0),Z.encoding==="utf8"?me=Ml(Ct,0):Z.encoding==="binary"&&(me=Ct),he.close(Be),me},writeFile:function(L,Z,me){me=me||{},me.flags=me.flags||577;var Be=he.open(L,me.flags,me.mode);if(typeof Z=="string"){var Ke=new Uint8Array(kt(Z)+1),at=Gf(Z,Ke,0,Ke.length);he.write(Be,Ke,0,at,void 0,me.canOwn)}else if(ArrayBuffer.isView(Z))he.write(Be,Z,0,Z.byteLength,void 0,me.canOwn);else throw new Error("Unsupported data type");he.close(Be)},cwd:function(){return he.currentPath},chdir:function(L){var Z=he.lookupPath(L,{follow:!0});if(Z.node===null)throw new he.ErrnoError(44);if(!he.isDir(Z.node.mode))throw new he.ErrnoError(54);var me=he.nodePermissions(Z.node,"x");if(me)throw new he.ErrnoError(me);he.currentPath=Z.path},createDefaultDirectories:function(){he.mkdir("/tmp"),he.mkdir("/home"),he.mkdir("/home/web_user")},createDefaultDevices:function(){he.mkdir("/dev"),he.registerDevice(he.makedev(1,3),{read:function(){return 0},write:function(me,Be,Ke,at,Ct){return at}}),he.mkdev("/dev/null",he.makedev(1,3)),Tc.register(he.makedev(5,0),Tc.default_tty_ops),Tc.register(he.makedev(6,0),Tc.default_tty1_ops),he.mkdev("/dev/tty",he.makedev(5,0)),he.mkdev("/dev/tty1",he.makedev(6,0));var L=CF();he.createDevice("/dev","random",L),he.createDevice("/dev","urandom",L),he.mkdir("/dev/shm"),he.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){he.mkdir("/proc");var L=he.mkdir("/proc/self");he.mkdir("/proc/self/fd"),he.mount({mount:function(){var me=he.createNode(L,"fd",16895,73);return me.node_ops={lookup:function(Ke,at){var Ct=+at,Yt=he.getStream(Ct);if(!Yt)throw new he.ErrnoError(8);var vn={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return Yt.path}}};return vn.parent=vn,vn}},me}},{},"/proc/self/fd")},createStandardStreams:function(){Ve.stdin?he.createDevice("/dev","stdin",Ve.stdin):he.symlink("/dev/tty","/dev/stdin"),Ve.stdout?he.createDevice("/dev","stdout",null,Ve.stdout):he.symlink("/dev/tty","/dev/stdout"),Ve.stderr?he.createDevice("/dev","stderr",null,Ve.stderr):he.symlink("/dev/tty1","/dev/stderr"),he.open("/dev/stdin",0),he.open("/dev/stdout",1),he.open("/dev/stderr",1)},ensureErrnoError:function(){he.ErrnoError||(he.ErrnoError=function(Z,me){this.node=me,this.setErrno=function(Be){this.errno=Be},this.setErrno(Z),this.message="FS error"},he.ErrnoError.prototype=new Error,he.ErrnoError.prototype.constructor=he.ErrnoError,[44].forEach(function(L){he.genericErrors[L]=new he.ErrnoError(L),he.genericErrors[L].stack="<generic error, no stack>"}))},staticInit:function(){he.ensureErrnoError(),he.nameTable=new Array(4096),he.mount(wr,{},"/"),he.createDefaultDirectories(),he.createDefaultDevices(),he.createSpecialDirectories(),he.filesystems={MEMFS:wr}},init:function(L,Z,me){he.init.initialized=!0,he.ensureErrnoError(),Ve.stdin=L||Ve.stdin,Ve.stdout=Z||Ve.stdout,Ve.stderr=me||Ve.stderr,he.createStandardStreams()},quit:function(){he.init.initialized=!1;var L=Ve._fflush;L&&L(0);for(var Z=0;Z<he.streams.length;Z++){var me=he.streams[Z];!me||he.close(me)}},getMode:function(L,Z){var me=0;return L&&(me|=365),Z&&(me|=146),me},findObject:function(L,Z){var me=he.analyzePath(L,Z);return me.exists?me.object:null},analyzePath:function(L,Z){try{var me=he.lookupPath(L,{follow:!Z});L=me.path}catch{}var Be={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var me=he.lookupPath(L,{parent:!0});Be.parentExists=!0,Be.parentPath=me.path,Be.parentObject=me.node,Be.name=zr.basename(L),me=he.lookupPath(L,{follow:!Z}),Be.exists=!0,Be.path=me.path,Be.object=me.node,Be.name=me.node.name,Be.isRoot=me.path==="/"}catch(Ke){Be.error=Ke.errno}return Be},createPath:function(L,Z,me,Be){L=typeof L=="string"?L:he.getPath(L);for(var Ke=Z.split("/").reverse();Ke.length;){var at=Ke.pop();if(!!at){var Ct=zr.join2(L,at);try{he.mkdir(Ct)}catch{}L=Ct}}return Ct},createFile:function(L,Z,me,Be,Ke){var at=zr.join2(typeof L=="string"?L:he.getPath(L),Z),Ct=he.getMode(Be,Ke);return he.create(at,Ct)},createDataFile:function(L,Z,me,Be,Ke,at){var Ct=Z?zr.join2(typeof L=="string"?L:he.getPath(L),Z):L,Yt=he.getMode(Be,Ke),vn=he.create(Ct,Yt);if(me){if(typeof me=="string"){for(var or=new Array(me.length),gr=0,mr=me.length;gr<mr;++gr)or[gr]=me.charCodeAt(gr);me=or}he.chmod(vn,Yt|146);var dr=he.open(vn,577);he.write(dr,me,0,me.length,0,at),he.close(dr),he.chmod(vn,Yt)}return vn},createDevice:function(L,Z,me,Be){var Ke=zr.join2(typeof L=="string"?L:he.getPath(L),Z),at=he.getMode(!!me,!!Be);he.createDevice.major||(he.createDevice.major=64);var Ct=he.makedev(he.createDevice.major++,0);return he.registerDevice(Ct,{open:function(vn){vn.seekable=!1},close:function(vn){Be&&Be.buffer&&Be.buffer.length&&Be(10)},read:function(vn,or,gr,mr,dr){for(var Zn=0,Pr=0;Pr<mr;Pr++){var Ei;try{Ei=me()}catch{throw new he.ErrnoError(29)}if(Ei===void 0&&Zn===0)throw new he.ErrnoError(6);if(Ei==null)break;Zn++,or[gr+Pr]=Ei}return Zn&&(vn.node.timestamp=Date.now()),Zn},write:function(vn,or,gr,mr,dr){for(var Zn=0;Zn<mr;Zn++)try{Be(or[gr+Zn])}catch{throw new he.ErrnoError(29)}return mr&&(vn.node.timestamp=Date.now()),Zn}}),he.mkdev(Ke,at,Ct)},forceLoadFile:function(L){if(L.isDevice||L.isFolder||L.link||L.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(Je)try{L.contents=NA(Je(L.url),!0),L.usedBytes=L.contents.length}catch{throw new he.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:function(L,Z,me,Be,Ke){function at(){this.lengthKnown=!1,this.chunks=[]}if(at.prototype.get=function(dr){if(!(dr>this.length-1||dr<0)){var Zn=dr%this.chunkSize,Pr=dr/this.chunkSize|0;return this.getter(Pr)[Zn]}},at.prototype.setDataGetter=function(dr){this.getter=dr},at.prototype.cacheLength=function(){var dr=new XMLHttpRequest;if(dr.open("HEAD",me,!1),dr.send(null),!(dr.status>=200&&dr.status<300||dr.status===304))throw new Error("Couldn't load "+me+". Status: "+dr.status);var Zn=Number(dr.getResponseHeader("Content-length")),Pr,Ei=(Pr=dr.getResponseHeader("Accept-Ranges"))&&Pr==="bytes",Pc=(Pr=dr.getResponseHeader("Content-Encoding"))&&Pr==="gzip",Hs=1024*1024;Ei||(Hs=Zn);var Hf=function(Qf,Rl){if(Qf>Rl)throw new Error("invalid range ("+Qf+", "+Rl+") or no bytes requested!");if(Rl>Zn-1)throw new Error("only "+Zn+" bytes available! programmer error!");var Qs=new XMLHttpRequest;if(Qs.open("GET",me,!1),Zn!==Hs&&Qs.setRequestHeader("Range","bytes="+Qf+"-"+Rl),typeof Uint8Array<"u"&&(Qs.responseType="arraybuffer"),Qs.overrideMimeType&&Qs.overrideMimeType("text/plain; charset=x-user-defined"),Qs.send(null),!(Qs.status>=200&&Qs.status<300||Qs.status===304))throw new Error("Couldn't load "+me+". Status: "+Qs.status);return Qs.response!==void 0?new Uint8Array(Qs.response||[]):NA(Qs.responseText||"",!0)},hs=this;hs.setDataGetter(function(Nc){var Qf=Nc*Hs,Rl=(Nc+1)*Hs-1;if(Rl=Math.min(Rl,Zn-1),typeof hs.chunks[Nc]>"u"&&(hs.chunks[Nc]=Hf(Qf,Rl)),typeof hs.chunks[Nc]>"u")throw new Error("doXHR failed!");return hs.chunks[Nc]}),(Pc||!Zn)&&(Hs=Zn=1,Zn=this.getter(0).length,Hs=Zn,nn("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Zn,this._chunkSize=Hs,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Ct,Yt}else var Yt={isDevice:!1,url:me};var vn=he.createFile(L,Z,Yt,Be,Ke);Yt.contents?vn.contents=Yt.contents:Yt.url&&(vn.contents=null,vn.url=Yt.url),Object.defineProperties(vn,{usedBytes:{get:function(){return this.contents.length}}});var or={},gr=Object.keys(vn.stream_ops);return gr.forEach(function(mr){var dr=vn.stream_ops[mr];or[mr]=function(){return he.forceLoadFile(vn),dr.apply(null,arguments)}}),or.read=function(dr,Zn,Pr,Ei,Pc){he.forceLoadFile(vn);var Hs=dr.node.contents;if(Pc>=Hs.length)return 0;var Hf=Math.min(Hs.length-Pc,Ei);if(Hs.slice)for(var hs=0;hs<Hf;hs++)Zn[Pr+hs]=Hs[Pc+hs];else for(var hs=0;hs<Hf;hs++)Zn[Pr+hs]=Hs.get(Pc+hs);return Hf},vn.stream_ops=or,vn},createPreloadedFile:function(L,Z,me,Be,Ke,at,Ct,Yt,vn,or){Browser.init();var gr=Z?Ua.resolve(zr.join2(L,Z)):L;function mr(dr){function Zn(Ei){or&&or(),Yt||he.createDataFile(L,Z,Ei,Be,Ke,vn),at&&at(),Bo()}var Pr=!1;Ve.preloadPlugins.forEach(function(Ei){Pr||Ei.canHandle(gr)&&(Ei.handle(dr,gr,Zn,function(){Ct&&Ct(),Bo()}),Pr=!0)}),Pr||Zn(dr)}Gi(),typeof me=="string"?Browser.asyncLoad(me,function(dr){mr(dr)},Ct):mr(me)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(L,Z,me){Z=Z||function(){},me=me||function(){};var Be=he.indexedDB();try{var Ke=Be.open(he.DB_NAME(),he.DB_VERSION)}catch(at){return me(at)}Ke.onupgradeneeded=function(){nn("creating db");var Ct=Ke.result;Ct.createObjectStore(he.DB_STORE_NAME)},Ke.onsuccess=function(){var Ct=Ke.result,Yt=Ct.transaction([he.DB_STORE_NAME],"readwrite"),vn=Yt.objectStore(he.DB_STORE_NAME),or=0,gr=0,mr=L.length;function dr(){gr==0?Z():me()}L.forEach(function(Zn){var Pr=vn.put(he.analyzePath(Zn).object.contents,Zn);Pr.onsuccess=function(){or++,or+gr==mr&&dr()},Pr.onerror=function(){gr++,or+gr==mr&&dr()}}),Yt.onerror=me},Ke.onerror=me},loadFilesFromDB:function(L,Z,me){Z=Z||function(){},me=me||function(){};var Be=he.indexedDB();try{var Ke=Be.open(he.DB_NAME(),he.DB_VERSION)}catch(at){return me(at)}Ke.onupgradeneeded=me,Ke.onsuccess=function(){var Ct=Ke.result;try{var Yt=Ct.transaction([he.DB_STORE_NAME],"readonly")}catch(Zn){me(Zn);return}var vn=Yt.objectStore(he.DB_STORE_NAME),or=0,gr=0,mr=L.length;function dr(){gr==0?Z():me()}L.forEach(function(Zn){var Pr=vn.get(Zn);Pr.onsuccess=function(){he.analyzePath(Zn).exists&&he.unlink(Zn),he.createDataFile(zr.dirname(Zn),zr.basename(Zn),Pr.result,!0,!0,!0),or++,or+gr==mr&&dr()},Pr.onerror=function(){gr++,or+gr==mr&&dr()}}),Yt.onerror=me},Ke.onerror=me}},fa={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(L,Z,me){if(Z[0]==="/")return Z;var Be;if(L===-100)Be=he.cwd();else{var Ke=he.getStream(L);if(!Ke)throw new he.ErrnoError(8);Be=Ke.path}if(Z.length==0){if(!me)throw new he.ErrnoError(44);return Be}return zr.join2(Be,Z)},doStat:function(L,Z,me){try{var Be=L(Z)}catch(Ke){if(Ke&&Ke.node&&zr.normalize(Z)!==zr.normalize(he.getPath(Ke.node)))return-54;throw Ke}return In[me>>2]=Be.dev,In[me+4>>2]=0,In[me+8>>2]=Be.ino,In[me+12>>2]=Be.mode,In[me+16>>2]=Be.nlink,In[me+20>>2]=Be.uid,In[me+24>>2]=Be.gid,In[me+28>>2]=Be.rdev,In[me+32>>2]=0,so=[Be.size>>>0,(yi=Be.size,+Math.abs(yi)>=1?yi>0?(Math.min(+Math.floor(yi/4294967296),4294967295)|0)>>>0:~~+Math.ceil((yi-+(~~yi>>>0))/4294967296)>>>0:0)],In[me+40>>2]=so[0],In[me+44>>2]=so[1],In[me+48>>2]=4096,In[me+52>>2]=Be.blocks,In[me+56>>2]=Be.atime.getTime()/1e3|0,In[me+60>>2]=0,In[me+64>>2]=Be.mtime.getTime()/1e3|0,In[me+68>>2]=0,In[me+72>>2]=Be.ctime.getTime()/1e3|0,In[me+76>>2]=0,so=[Be.ino>>>0,(yi=Be.ino,+Math.abs(yi)>=1?yi>0?(Math.min(+Math.floor(yi/4294967296),4294967295)|0)>>>0:~~+Math.ceil((yi-+(~~yi>>>0))/4294967296)>>>0:0)],In[me+80>>2]=so[0],In[me+84>>2]=so[1],0},doMsync:function(L,Z,me,Be,Ke){var at=ar.slice(L,L+me);he.msync(Z,at,Ke,me,Be)},doMkdir:function(L,Z){return L=zr.normalize(L),L[L.length-1]==="/"&&(L=L.substr(0,L.length-1)),he.mkdir(L,Z,0),0},doMknod:function(L,Z,me){switch(Z&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return he.mknod(L,Z,me),0},doReadlink:function(L,Z,me){if(me<=0)return-28;var Be=he.readlink(L),Ke=Math.min(me,kt(Be)),at=$n[Z+Ke];return He(Be,Z,me+1),$n[Z+Ke]=at,Ke},doAccess:function(L,Z){if(Z&-8)return-28;var me,Be=he.lookupPath(L,{follow:!0});if(me=Be.node,!me)return-44;var Ke="";return Z&4&&(Ke+="r"),Z&2&&(Ke+="w"),Z&1&&(Ke+="x"),Ke&&he.nodePermissions(me,Ke)?-2:0},doDup:function(L,Z,me){var Be=he.getStream(me);return Be&&he.close(Be),he.open(L,Z,0,me,me).fd},doReadv:function(L,Z,me,Be){for(var Ke=0,at=0;at<me;at++){var Ct=In[Z+at*8>>2],Yt=In[Z+(at*8+4)>>2],vn=he.read(L,$n,Ct,Yt,Be);if(vn<0)return-1;if(Ke+=vn,vn<Yt)break}return Ke},doWritev:function(L,Z,me,Be){for(var Ke=0,at=0;at<me;at++){var Ct=In[Z+at*8>>2],Yt=In[Z+(at*8+4)>>2],vn=he.write(L,$n,Ct,Yt,Be);if(vn<0)return-1;Ke+=vn}return Ke},varargs:void 0,get:function(){fa.varargs+=4;var L=In[fa.varargs-4>>2];return L},getStr:function(L){var Z=Rc(L);return Z},getStreamFromFD:function(L){var Z=he.getStream(L);if(!Z)throw new he.ErrnoError(8);return Z},get64:function(L,Z){return L}};function MF(Se,L,Z,me,Be,Ke){Ke<<=12;var at,Ct=!1;if((me&16)!==0&&Se%65536!==0)return-28;if((me&32)!==0){if(at=lC(65536,L),!at)return-48;cC(at,0,L),Ct=!0}else{var Yt=he.getStream(Be);if(!Yt)return-8;var vn=he.mmap(Yt,Se,L,Ke,Z,me);at=vn.ptr,Ct=vn.allocated}return fa.mappings[at]={malloc:at,len:L,allocated:Ct,fd:Be,prot:Z,flags:me,offset:Ke},at}function xF(Se,L,Z,me,Be,Ke){try{return MF(Se,L,Z,me,Be,Ke)}catch(at){return(typeof he>"u"||!(at instanceof he.ErrnoError))&&Ui(at),-at.errno}}function RF(Se,L,Z){return 0}function TF(Se,L){if((Se|0)===-1||L===0)return-28;var Z=fa.mappings[Se];if(!Z)return 0;if(L===Z.len){var me=he.getStream(Z.fd);me&&Z.prot&2&&fa.doMsync(Se,me,L,Z.flags,Z.offset),fa.mappings[Se]=null,Z.allocated&&aC(Z.malloc)}return 0}function PF(Se,L){try{return TF(Se,L)}catch(Z){return(typeof he>"u"||!(Z instanceof he.ErrnoError))&&Ui(Z),-Z.errno}}function NF(){Ui()}function DF(Se,L){throw Oo(Se,L||1),"longjmp"}function BF(Se,L){return DF(Se,L)}function kF(Se,L,Z){ar.copyWithin(Se,L,L+Z)}function LF(Se){try{return ii.grow(Se-Zt.byteLength+65535>>>16),Fr(ii.buffer),1}catch{}}function OF(Se){var L=ar.length;Se=Se>>>0;var Z=2147483648;if(Se>Z)return!1;for(var me=1;me<=4;me*=2){var Be=L*(1+.2/me);Be=Math.min(Be,Se+100663296);var Ke=Math.min(Z,Pt(Math.max(Se,Be),65536)),at=LF(Ke);if(at)return!0}return!1}var PA;PA=function(){return performance.now()};function FF(Se){for(var L=PA();PA()-L<Se;);}function VF(Se){aV(Se)}function GF(Se){try{var L=fa.getStreamFromFD(Se);return he.close(L),0}catch(Z){return(typeof he>"u"||!(Z instanceof he.ErrnoError))&&Ui(Z),Z.errno}}function UF(Se,L,Z,me,Be){try{var Ke=fa.getStreamFromFD(Se),at=4294967296,Ct=Z*at+(L>>>0),Yt=9007199254740992;return Ct<=-Yt||Ct>=Yt?-61:(he.llseek(Ke,Ct,me),so=[Ke.position>>>0,(yi=Ke.position,+Math.abs(yi)>=1?yi>0?(Math.min(+Math.floor(yi/4294967296),4294967295)|0)>>>0:~~+Math.ceil((yi-+(~~yi>>>0))/4294967296)>>>0:0)],In[Be>>2]=so[0],In[Be+4>>2]=so[1],Ke.getdents&&Ct===0&&me===0&&(Ke.getdents=null),0)}catch(vn){return(typeof he>"u"||!(vn instanceof he.ErrnoError))&&Ui(vn),vn.errno}}function HF(Se,L,Z,me){try{var Be=fa.getStreamFromFD(Se),Ke=fa.doWritev(Be,L,Z);return In[me>>2]=Ke,0}catch(at){return(typeof he>"u"||!(at instanceof he.ErrnoError))&&Ui(at),at.errno}}function QF(){return kn()}function XF(Se){var L=Date.now();return In[Se>>2]=L/1e3|0,In[Se+4>>2]=L%1e3*1e3|0,0}function zF(){return 6}function $F(){return 28}function WF(Se,L,Z){return Me("pthread_sigmask() is not supported: this is a no-op."),0}function KF(Se){On(Se)}function jF(Se){return In[Se>>2]=-1>>>0,0}var sC=function(L,Z,me,Be){L||(L=this),this.parent=L,this.mount=L.mount,this.mounted=null,this.id=he.nextInode++,this.name=Z,this.mode=me,this.node_ops={},this.stream_ops={},this.rdev=Be},um=365,dm=146;Object.defineProperties(sC.prototype,{read:{get:function(){return(this.mode&um)===um},set:function(L){L?this.mode|=um:this.mode&=~um}},write:{get:function(){return(this.mode&dm)===dm},set:function(L){L?this.mode|=dm:this.mode&=~dm}},isFolder:{get:function(){return he.isDir(this.mode)}},isDevice:{get:function(){return he.isChrdev(this.mode)}}}),he.FSNode=sC,he.staticInit();function NA(Se,L,Z){var me=Z>0?Z:kt(Se)+1,Be=new Array(me),Ke=Gf(Se,Be,0,Be.length);return L&&(Be.length=Ke),Be}var qF={a:wF,v:xF,x:RF,w:PF,b:NF,f:BF,B:kF,C:OF,r:FF,e:VF,m:GF,q:UF,l:HF,d:QF,k:XF,h:YF,i:tV,z:rV,j:JF,g:eV,y:iV,A:nV,o:ZF,p:sV,t:zF,s:$F,n:WF,c:KF,u:jF};SF(),Ve.___wasm_call_ctors=function(){return(Ve.___wasm_call_ctors=Ve.asm.E).apply(null,arguments)},Ve._uc_version=function(){return(Ve._uc_version=Ve.asm.F).apply(null,arguments)},Ve._uc_errno=function(){return(Ve._uc_errno=Ve.asm.G).apply(null,arguments)},Ve._uc_strerror=function(){return(Ve._uc_strerror=Ve.asm.H).apply(null,arguments)},Ve._uc_arch_supported=function(){return(Ve._uc_arch_supported=Ve.asm.I).apply(null,arguments)},Ve._uc_open=function(){return(Ve._uc_open=Ve.asm.J).apply(null,arguments)},Ve._uc_close=function(){return(Ve._uc_close=Ve.asm.K).apply(null,arguments)},Ve._uc_reg_read_batch=function(){return(Ve._uc_reg_read_batch=Ve.asm.L).apply(null,arguments)},Ve._uc_reg_write_batch=function(){return(Ve._uc_reg_write_batch=Ve.asm.M).apply(null,arguments)},Ve._uc_reg_read=function(){return(Ve._uc_reg_read=Ve.asm.N).apply(null,arguments)},Ve._uc_reg_write=function(){return(Ve._uc_reg_write=Ve.asm.O).apply(null,arguments)},Ve._uc_mem_read=function(){return(Ve._uc_mem_read=Ve.asm.P).apply(null,arguments)},Ve._uc_mem_write=function(){return(Ve._uc_mem_write=Ve.asm.Q).apply(null,arguments)},Ve._uc_emu_start=function(){return(Ve._uc_emu_start=Ve.asm.R).apply(null,arguments)},Ve._uc_hook_del=function(){return(Ve._uc_hook_del=Ve.asm.S).apply(null,arguments)},Ve._uc_hook_add=function(){return(Ve._uc_hook_add=Ve.asm.T).apply(null,arguments)},Ve._uc_emu_stop=function(){return(Ve._uc_emu_stop=Ve.asm.U).apply(null,arguments)},Ve._uc_mem_map=function(){return(Ve._uc_mem_map=Ve.asm.V).apply(null,arguments)},Ve._uc_mem_map_ptr=function(){return(Ve._uc_mem_map_ptr=Ve.asm.W).apply(null,arguments)},Ve._uc_mem_protect=function(){return(Ve._uc_mem_protect=Ve.asm.X).apply(null,arguments)},Ve._uc_mem_unmap=function(){return(Ve._uc_mem_unmap=Ve.asm.Y).apply(null,arguments)},Ve._uc_mem_regions=function(){return(Ve._uc_mem_regions=Ve.asm.Z).apply(null,arguments)},Ve._uc_query=function(){return(Ve._uc_query=Ve.asm._).apply(null,arguments)},Ve._uc_context_alloc=function(){return(Ve._uc_context_alloc=Ve.asm.$).apply(null,arguments)},Ve._uc_free=function(){return(Ve._uc_free=Ve.asm.aa).apply(null,arguments)},Ve._uc_context_save=function(){return(Ve._uc_context_save=Ve.asm.ba).apply(null,arguments)},Ve._uc_context_restore=function(){return(Ve._uc_context_restore=Ve.asm.ca).apply(null,arguments)};var ko=Ve.stackSave=function(){return(ko=Ve.stackSave=Ve.asm.da).apply(null,arguments)},Lo=Ve.stackRestore=function(){return(Lo=Ve.stackRestore=Ve.asm.ea).apply(null,arguments)},DA=Ve.stackAlloc=function(){return(DA=Ve.stackAlloc=Ve.asm.fa).apply(null,arguments)},Oo=Ve._setThrew=function(){return(Oo=Ve._setThrew=Ve.asm.ga).apply(null,arguments)},oC=Ve._malloc=function(){return(oC=Ve._malloc=Ve.asm.ha).apply(null,arguments)},aC=Ve._free=function(){return(aC=Ve._free=Ve.asm.ia).apply(null,arguments)},lC=Ve._memalign=function(){return(lC=Ve._memalign=Ve.asm.ja).apply(null,arguments)},cC=Ve._memset=function(){return(cC=Ve._memset=Ve.asm.ka).apply(null,arguments)},uC=Ve.dynCall_vij=function(){return(uC=Ve.dynCall_vij=Ve.asm.ma).apply(null,arguments)};function YF(Se,L){var Z=ko();try{return Cr.get(Se)(L)}catch(me){if(Lo(Z),me!==me+0&&me!=="longjmp")throw me;Oo(1,0)}}function JF(Se,L,Z,me,Be,Ke,at){var Ct=ko();try{return Cr.get(Se)(L,Z,me,Be,Ke,at)}catch(Yt){if(Lo(Ct),Yt!==Yt+0&&Yt!=="longjmp")throw Yt;Oo(1,0)}}function ZF(Se,L,Z,me,Be){var Ke=ko();try{Cr.get(Se)(L,Z,me,Be)}catch(at){if(Lo(Ke),at!==at+0&&at!=="longjmp")throw at;Oo(1,0)}}function eV(Se,L){var Z=ko();try{Cr.get(Se)(L)}catch(me){if(Lo(Z),me!==me+0&&me!=="longjmp")throw me;Oo(1,0)}}function tV(Se,L,Z){var me=ko();try{return Cr.get(Se)(L,Z)}catch(Be){if(Lo(me),Be!==Be+0&&Be!=="longjmp")throw Be;Oo(1,0)}}function nV(Se,L,Z,me){var Be=ko();try{Cr.get(Se)(L,Z,me)}catch(Ke){if(Lo(Be),Ke!==Ke+0&&Ke!=="longjmp")throw Ke;Oo(1,0)}}function rV(Se,L,Z,me,Be,Ke){var at=ko();try{return Cr.get(Se)(L,Z,me,Be,Ke)}catch(Ct){if(Lo(at),Ct!==Ct+0&&Ct!=="longjmp")throw Ct;Oo(1,0)}}function iV(Se,L,Z){var me=ko();try{Cr.get(Se)(L,Z)}catch(Be){if(Lo(me),Be!==Be+0&&Be!=="longjmp")throw Be;Oo(1,0)}}function sV(Se,L,Z,me){var Be=ko();try{uC(Se,L,Z,me)}catch(Ke){if(Lo(Be),Ke!==Ke+0&&Ke!=="longjmp")throw Ke;Oo(1,0)}}Ve.ccall=Ju,Ve.setValue=mi,Ve.getValue=ca,Ve.writeArrayToMemory=Jt,Ve.addFunction=Cn,Ve.removeFunction=mt;var fm;function oV(Se){this.name="ExitStatus",this.message="Program terminated with exit("+Se+")",this.status=Se}Ga=function Se(){fm||BA(),fm||(Ga=Se)};function BA(Se){if(Us>0||(ro(),Us>0))return;function L(){fm||(fm=!0,Ve.calledRun=!0,!Gs&&(Qr(),Xn(Ve),Ve.onRuntimeInitialized&&Ve.onRuntimeInitialized(),xl()))}Ve.setStatus?(Ve.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Ve.setStatus("")},1),L()},1)):L()}Ve.run=BA;function aV(Se,L){L&&iC()&&Se===0||(iC()||(Ve.onExit&&Ve.onExit(Se),Gs=!0),X(Se,new oV(Se)))}if(Ve.preInit)for(typeof Ve.preInit=="function"&&(Ve.preInit=[Ve.preInit]);Ve.preInit.length>0;)Ve.preInit.pop()();return BA(),pn.ready}}();function O(rn,pn,Ve,Xn,bn,Rt,ce){try{var X=rn[Rt](ce),K=X.value}catch(ue){Ve(ue);return}X.done?pn(K):Promise.resolve(K).then(Xn,bn)}function k(rn){return function(){var pn=this,Ve=arguments;return new Promise(function(Xn,bn){var Rt=rn.apply(pn,Ve);function ce(K){O(Rt,Xn,bn,ce,X,"next",K)}function X(K){O(Rt,Xn,bn,ce,X,"throw",K)}ce(void 0)})}}function H(rn,pn){if(!(rn instanceof pn))throw new TypeError("Cannot call a class as a function")}function W(rn,pn){for(var Ve=0;Ve<pn.length;Ve++){var Xn=pn[Ve];Xn.enumerable=Xn.enumerable||!1,Xn.configurable=!0,"value"in Xn&&(Xn.writable=!0),Object.defineProperty(rn,Xn.key,Xn)}}function J(rn,pn,Ve){return pn&&W(rn.prototype,pn),Ve&&W(rn,Ve),Object.defineProperty(rn,"prototype",{writable:!1}),rn}function te(rn,pn,Ve){return pn in rn?Object.defineProperty(rn,pn,{value:Ve,enumerable:!0,configurable:!0,writable:!0}):rn[pn]=Ve,rn}var j=E(757),ne=E.n(j);function Ae(rn){if(Array.isArray(rn))return rn}function q(rn,pn){var Ve=rn==null?null:typeof Symbol<"u"&&rn[Symbol.iterator]||rn["@@iterator"];if(Ve!=null){var Xn=[],bn=!0,Rt=!1,ce,X;try{for(Ve=Ve.call(rn);!(bn=(ce=Ve.next()).done)&&(Xn.push(ce.value),!(pn&&Xn.length===pn));bn=!0);}catch(K){Rt=!0,X=K}finally{try{!bn&&Ve.return!=null&&Ve.return()}finally{if(Rt)throw X}}return Xn}}function ge(rn,pn){(pn==null||pn>rn.length)&&(pn=rn.length);for(var Ve=0,Xn=new Array(pn);Ve<pn;Ve++)Xn[Ve]=rn[Ve];return Xn}function we(rn,pn){if(!!rn){if(typeof rn=="string")return ge(rn,pn);var Ve=Object.prototype.toString.call(rn).slice(8,-1);if(Ve==="Object"&&rn.constructor&&(Ve=rn.constructor.name),Ve==="Map"||Ve==="Set")return Array.from(rn);if(Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve))return ge(rn,pn)}}function Fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tt(rn,pn){return Ae(rn)||q(rn,pn)||we(rn,pn)||Fe()}var Pe=function(pn){var Ve=(1<<(pn-1)%16+1)-1,Xn=(pn+15)/16;return function(bn){if(this.width=pn,this.chunks=new Uint16Array(Xn),this.mask=Ve,bn==null)this.chunks.fill(0);else{if(typeof bn=="number"){Number.isSafeInteger(bn)||console.warn("Libelf.js: number "+bn+" is beyond 53 bits integer precision, use other initialization formats for better precision"),(bn>Math.pow(2,this.width)-1||bn<-Math.pow(2,this.width-1))&&console.warn("Libelf.js: number "+bn+" overflows "+this.width+" bits width, use larger width to keep higher bits");for(var Rt=0;Rt<this.chunks.length;Rt++)this.chunks[Rt]=bn&(Rt===this.chunks.length-1?this.mask:65535),bn<0&&(bn-=65535),bn/=65536}if(typeof bn=="string"){bn.toLowerCase().startsWith("0x")&&(bn=bn.slice(2));for(var Rt=0;Rt<this.chunks.length;Rt++)this.chunks[Rt]=parseInt(bn.slice(-4),16)|0,bn.slice(0,-4)}if(I(bn)==="object"&&Array.isArray(bn))for(var Rt=0;Rt<this.chunks.length;Rt++)Rt%2==0?this.chunks[Rt]=bn[Rt/2|0]>>>0&65535:this.chunks[Rt]=bn[Rt/2|0]>>>16&65535;if(I(bn)==="object"&&!Array.isArray(bn))for(var Rt=0;Rt<this.chunks.length;Rt++)this.chunks[Rt]=bn.chunks[Rt]}this.clone=function(){},this.neg=function(){return this.not().add(1)},this.not=function(){for(var ce=new this.constructor(this),X=0;X<this.chunks.length;X++)ce.chunks[X]=~this.chunks[X];return ce},this.add=function(K){for(var X=new this.constructor(this),K=new this.constructor(K),ue=0,De=0;De<this.chunks.length;De++){var Je=X.chunks[De],It=K.chunks[De];X.chunks[De]=Je+It+ue,ue=Je+It+ue>65535?1:0}return X},this.sub=function(X){new this.constructor(this);var X=new this.constructor(X);return this.add(X.neg())},this.mul=function(K){var X=new this.constructor(this),K=new this.constructor(K);return X},this.div=function(K){var X=new this.constructor(this),K=new this.constructor(K);return X},this.shl=function(ce){var X=new this.constructor(this);return X},this.shr=function(ce){var X=new this.constructor(this);return X},this.ror=function(ce){var X=new this.constructor(this);return X},this.rol=function(ce){var X=new this.constructor(this);return X},this.hex=function(){for(var ce="0x",X=this.chunks.length-1;X>=0;X--){var K=this.chunks[X].toString(16);K="0".repeat(4-K.length)+K,ce+=K}return ce},this.num=function(){for(var ce=0,X=this.chunks.length-1;X>=0;X--)ce=ce*65536+this.chunks[X];return Number.isSafeInteger(ce)||console.warn("Libelf.js: number "+ce+" is beyond 53 bits integer precision, use other conversion formats for better precision"),ce},this.valueOf=this.num}},Oe=Pe(8),st=Pe(16),ht=Pe(32),dt=Pe(64),Le=void 0;function Ze(){return lt.apply(this,arguments)}function lt(){return lt=k(ne().mark(function rn(){return ne().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:return Ve.next=2,V();case 2:Le=Ve.sent;case 3:case"end":return Ve.stop()}},rn)})),lt.apply(this,arguments)}var Ut=1,Vt=2,Wt=3,c={version:function(){major_ptr=Le._malloc(4),minor_ptr=Le._malloc(4);var pn=Le.ccall("uc_version","number",["pointer","pointer"],[major_ptr,minor_ptr]);return major=Le.getValue(major_ptr,"i32"),minor=Le.getValue(minor_ptr,"i32"),Le._free(major_ptr),Le._free(minor_ptr),pn},arch_supported:function(pn){var Ve=Le.ccall("uc_arch_supported","number",["number"],[pn]);return Ve},strerror:function(pn){var Ve=Le.ccall("uc_strerror","string",["number"],[pn]);return Ve},Unicorn:function(pn,Ve){this.arch=pn,this.mode=Ve,this.handle_ptr=Le._malloc(4),this.reg_write=function(Rt,ce){var X=ce.length,K=Le._malloc(X);Le.writeArrayToMemory(ce,K);var ue=Le.getValue(this.handle_ptr,"*"),De=Le.ccall("uc_reg_write","number",["pointer","number","pointer"],[ue,Rt,K]);if(Le._free(K),De!=c.ERR_OK){var Je="Unicorn.js: Function uc_reg_write failed with code "+De+`:
`+c.strerror(De);throw Je}},this.reg_read=function(Rt,ce){for(var X=Le._malloc(ce),K=0;K<ce;K++)Le.setValue(X+K,0,"i8");for(var ue=Le.getValue(this.handle_ptr,"*"),De=Le.ccall("uc_reg_read","number",["pointer","number","pointer"],[ue,Rt,X]),Je=new Uint8Array(ce),K=0;K<ce;K++)Je[K]=Le.getValue(X+K,"i8");if(Le._free(X),De!=c.ERR_OK){var It="Unicorn.js: Function uc_reg_read failed with code "+De+`:
`+c.strerror(De);throw It}return Je},this.mem_write=function(Rt,ce){var X=ce.length,K=Le._malloc(X);Le.writeArrayToMemory(ce,K);var ue=this.__address(Rt),De=tt(ue,2),Je=De[0],It=De[1],nn=Le.getValue(this.handle_ptr,"*"),Me=Le.ccall("uc_mem_write","number",["pointer","number","number","pointer","number"],[nn,Je,It,K,X]);if(Le._free(K),Me!=c.ERR_OK){var qt="Unicorn.js: Function uc_mem_write failed with code "+Me+`:
`+c.strerror(Me);throw qt}},this.mem_read=function(Rt,ce){for(var X=Le._malloc(ce),K=0;K<ce;K++)Le.setValue(X+K,0,"i8");for(var ue=this.__address(Rt),De=tt(ue,2),Je=De[0],It=De[1],nn=Le.getValue(this.handle_ptr,"*"),Me=Le.ccall("uc_mem_read","number",["pointer","number","number","pointer","number"],[nn,Je,It,X,ce]),qt=new Uint8Array(ce),K=0;K<ce;K++)qt[K]=Le.getValue(X+K,"i8");if(Le._free(X),Me!=c.ERR_OK){var ln="Unicorn.js: Function uc_mem_read failed with code "+Me+`:
`+c.strerror(Me);throw ln}return qt},this.mem_map=function(Rt,ce,X){var K=this.__address(Rt),ue=tt(K,2),De=ue[0],Je=ue[1],It=Le.getValue(this.handle_ptr,"*"),nn=Le.ccall("uc_mem_map","number",["pointer","number","number","number","number"],[It,De,Je,ce,X]);if(nn!=c.ERR_OK){var Me="Unicorn.js: Function uc_mem_map failed with code "+nn+`:
`+c.strerror(nn);throw Me}},this.mem_protect=function(Rt,ce,X){var K=this.__address(Rt),ue=tt(K,2),De=ue[0],Je=ue[1],It=Le.getValue(this.handle_ptr,"*"),nn=Le.ccall("uc_mem_protect","number",["pointer","number","number","number","number"],[It,De,Je,ce,X]);if(nn!=c.ERR_OK){var Me="Unicorn.js: Function uc_mem_protect failed with code "+nn+`:
`+c.strerror(nn);throw Me}},this.mem_regions=function(){console.error("Unicorn.js: Method mem_regions unimplemented")},this.mem_unmap=function(Rt,ce){var X=this.__address(Rt),K=tt(X,2),ue=K[0],De=K[1],Je=Le.getValue(this.handle_ptr,"*"),It=Le.ccall("uc_mem_unmap","number",["pointer","number","number","number"],[Je,ue,De,ce]);if(It!=c.ERR_OK){var nn="Unicorn.js: Function uc_mem_unmap failed with code "+It+`:
`+c.strerror(It);throw nn}},this.hook_add=function(Rt,ce,X,K,ue,De){var Je=Le.getValue(this.handle_ptr,"*");switch(typeof X>"u"&&(X={}),typeof K>"u"&&typeof ue>"u"&&(K=1,ue=0),Rt){case c.HOOK_INSN:var It=function(yn,Vn){return function(vr,Gr){ce(yn,Vn)}}(this,X),nn=Le.addFunction(It,"vii");break;case c.HOOK_INTR:var It=function(yn,Vn){return function(vr,Gr,mt){ce(yn,Gr,Vn)}}(this,X),nn=Le.addFunction(It,"viii");break;case c.HOOK_CODE:case c.HOOK_BLOCK:var It=function(yn,Vn){return function(vr,Gr,mt,Cn,Kt){ce(yn,Gr,mt,Cn,Vn)}}(this,X),nn=Le.addFunction(It,"viiii");break;default:if(Rt&c.HOOK_MEM_READ||Rt&c.HOOK_MEM_WRITE||Rt&c.HOOK_MEM_FETCH||Rt&c.HOOK_MEM_READ_AFTER)var It=function(vr,Gr){return function(mt,Cn,Kt,On,kn,Sr,Ai,mi){ce(vr,Cn,Kt,On,kn,Sr,Ai,Gr)}}(this,X),nn=Le.addFunction(It,"viiiiiiii");if(Rt&c.HOOK_MEM_READ_UNMAPPED||Rt&c.HOOK_MEM_WRITE_UNMAPPED||Rt&c.HOOK_MEM_FETCH_UNMAPPED||Rt&c.HOOK_MEM_READ_PROT||Rt&c.HOOK_MEM_WRITE_PROT||Rt&c.HOOK_MEM_FETCH_PROT)var It=function(vr,Gr){return function(mt,Cn,Kt,On,kn,Sr,Ai,mi){return ce(vr,Cn,Kt,On,kn,Sr,Ai,Gr)}}(this,X),nn=Le.addFunction(It,"iiiiiiiii")}if(typeof It>"u")throw"Unicorn.js: Unimplemented hook type";var Me=Le._malloc(4),qt=Le.ccall("uc_hook_add","number",["pointer","pointer","number","pointer","pointer","number","number","number","number","number"],[Je,Me,Rt,nn,0,K,0,ue,0,De]);if(qt!=c.ERR_OK){Le.removeFunction(nn),Le._free(Me);var ln="Unicorn.js: Function uc_mem_unmap failed with code "+qt+`:
`+c.strerror(qt);throw ln}var xn={handle:Le.getValue(Me,"*"),callback:nn};return Le._free(Me),xn},this.hook_del=function(Rt){var ce=Le.getValue(this.handle_ptr,"*"),X=Le.ccall("uc_hook_del","number",["pointer","pointer"],[ce,Rt.handle]);if(X!=c.ERR_OK){var K="Unicorn.js: Function uc_mem_unmap failed with code "+X+`:
`+c.strerror(X);throw K}Le.removeFunction(Rt.callback)},this.emu_start=function(Rt,ce,X,K){var ue=Le.getValue(this.handle_ptr,"*"),De=Le.ccall("uc_emu_start","number",["pointer","number","number","number","number","number","number","number"],[ue,Rt,0,ce,0,X,0,K]);if(De!=c.ERR_OK){var Je="Unicorn.js: Function uc_emu_start failed with code "+De+`:
`+c.strerror(De);throw Je}},this.emu_stop=function(Rt,ce,X,K){var ue=Le.getValue(this.handle_ptr,"*"),De=Le.ccall("uc_emu_stop","number",["pointer"],[ue]);if(De!=c.ERR_OK){var Je="Unicorn.js: Function uc_emu_stop failed with code "+De+`:
`+c.strerror(De);throw Je}},this.context_alloc=function(){console.error("Unicorn.js: Contexts not implemented")},this.context_free=function(){console.error("Unicorn.js: Contexts not implemented")},this.context_save=function(){console.error("Unicorn.js: Contexts not implemented")},this.context_restore=function(){console.error("Unicorn.js: Contexts not implemented")},this.errno=function(){var Rt=Le.getValue(this.handle_ptr,"*"),ce=Le.ccall("uc_errno","number",["pointer"],[Rt]);return ce},this.close=function(){var Rt=Le.getValue(this.handle_ptr,"*"),ce=Le.ccall("uc_close","number",["pointer"],[Rt]);if(ce!=c.ERR_OK){var X="Unicorn.js: Function uc_close failed with code "+ce+`:
`+c.strerror(ce);throw X}},this.__integer=function(Rt,ce){switch(typeof Rt=="number"&&(Rt=[Rt]),this.get_integer_type()){case Ut:return Rt[0];case Vt:return Rt.map(function(K){return K.toString(16).toUpperCase()}).map(function(K){return"0".repeat(ce/4-K.length)+K}).reverse().join("");case Wt:switch(ce){case 8:return new Oe(Rt);case 16:return new st(Rt);case 32:return new ht(Rt);case 64:return new dt(Rt);default:throw"Unexpected width"}default:var X="Unimplemented integer type";throw X}},this.__address=function(Rt){var ce=new dt(Rt);return[ce.chunks[0]+(ce.chunks[1]<<16),ce.chunks[2]+(ce.chunks[3]<<16)]},this._sizeof=function(Rt){switch(Rt){case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:return 0}},this.reg_write_type=function(Rt,ce,X){for(var K=this._sizeof(ce),ue=Le._malloc(K),De=new(Pe(K*8))(X),Je=0;Je<K/2;Je++)Le.setValue(ue+Je*2,De.chunks[Je],"i16");var It=Le.getValue(this.handle_ptr,"*"),nn=Le.ccall("uc_reg_write","number",["pointer","number","pointer"],[It,Rt,ue]);if(Le._free(ue),nn!=c.ERR_OK){var Me="Unicorn.js: Function uc_reg_write failed with code "+nn+`:
`+c.strerror(nn);throw Me}},this.reg_write_i8=function(Rt,ce){this.reg_write_type(Rt,"i8",ce)},this.reg_write_i16=function(Rt,ce){this.reg_write_type(Rt,"i16",ce)},this.reg_write_i32=function(Rt,ce){this.reg_write_type(Rt,"i32",ce)},this.reg_write_i64=function(Rt,ce){this.reg_write_type(Rt,"i64",ce)},this.reg_write_float=function(Rt,ce){this.reg_write_type(Rt,"float",ce)},this.reg_write_double=function(Rt,ce){this.reg_write_type(Rt,"double",ce)},this.reg_read_type=function(Rt,ce){var X=this._sizeof(ce),K=Le._malloc(X);Le.setValue(K,0,ce);var ue=Le.getValue(this.handle_ptr,"*"),De=Le.ccall("uc_reg_read","number",["pointer","number","pointer"],[ue,Rt,K]),Je=Le.getValue(K,ce);if(ce==="i64"&&(Je=[Je,Le.getValue(K+4,"i32")]),ce.includes("i")&&(Je=this.__integer(Je,X*8)),Le._free(K),De!=c.ERR_OK){var It="Unicorn.js: Function uc_reg_read failed with code "+De+`:
`+c.strerror(De);throw It}return Je},this.reg_read_i8=function(Rt){return this.reg_read_type(Rt,"i8")},this.reg_read_i16=function(Rt){return this.reg_read_type(Rt,"i16")},this.reg_read_i32=function(Rt){return this.reg_read_type(Rt,"i32")},this.reg_read_i64=function(Rt){return this.reg_read_type(Rt,"i64")},this.reg_read_float=function(Rt){return this.reg_read_type(Rt,"float")},this.reg_read_double=function(Rt){return this.reg_read_type(Rt,"double")},this.query_type=function(Rt,ce){var X=this._sizeof(ce),K=Le._malloc(X);Le.setValue(value_ptr,0,ce);var ue=Le.getValue(this.handle_ptr,"*"),De=Le.ccall("uc_query","number",["pointer","number","pointer"],[ue,Rt,K]),Je=Le.getValue(K,ce);if(type==="i64"&&(Je=[Je,Le.getValue(K+4,"i32")]),type.includes("i")&&(Je=this.__integer(Je,X*8)),Le._free(K),De!=c.ERR_OK){var It="Unicorn.js: Function uc_query failed with code "+De+`:
`+c.strerror(De);throw It}return Je},this.query_i8=function(Rt){return this.query_type(Rt,"i8")},this.query_i16=function(Rt){return this.query_type(Rt,"i16")},this.query_i32=function(Rt){return this.query_type(Rt,"i32")},this.query_i64=function(Rt){return this.query_type(Rt,"i64")},this.query_float=function(Rt){return this.query_type(Rt,"float")},this.query_double=function(Rt){return this.query_type(Rt,"double")},this.get_integer_type=function(){return this.integer_type==null?Ut:this.integer_type},this.set_integer_type=function(Rt){this.integer_type=Rt};var Xn=Le.ccall("uc_open","number",["number","number","pointer"],[this.arch,this.mode,this.handle_ptr]);if(Xn!=c.ERR_OK){Le.setValue(this.handle_ptr,0,"*");var bn="Unicorn.js: Function uc_open failed with code "+Xn+`:
`+c.strerror(Xn);throw bn}}};E(915),c.ARM64_REG_INVALID=0,c.ARM64_REG_X29=1,c.ARM64_REG_X30=2,c.ARM64_REG_NZCV=3,c.ARM64_REG_SP=4,c.ARM64_REG_WSP=5,c.ARM64_REG_WZR=6,c.ARM64_REG_XZR=7,c.ARM64_REG_B0=8,c.ARM64_REG_B1=9,c.ARM64_REG_B2=10,c.ARM64_REG_B3=11,c.ARM64_REG_B4=12,c.ARM64_REG_B5=13,c.ARM64_REG_B6=14,c.ARM64_REG_B7=15,c.ARM64_REG_B8=16,c.ARM64_REG_B9=17,c.ARM64_REG_B10=18,c.ARM64_REG_B11=19,c.ARM64_REG_B12=20,c.ARM64_REG_B13=21,c.ARM64_REG_B14=22,c.ARM64_REG_B15=23,c.ARM64_REG_B16=24,c.ARM64_REG_B17=25,c.ARM64_REG_B18=26,c.ARM64_REG_B19=27,c.ARM64_REG_B20=28,c.ARM64_REG_B21=29,c.ARM64_REG_B22=30,c.ARM64_REG_B23=31,c.ARM64_REG_B24=32,c.ARM64_REG_B25=33,c.ARM64_REG_B26=34,c.ARM64_REG_B27=35,c.ARM64_REG_B28=36,c.ARM64_REG_B29=37,c.ARM64_REG_B30=38,c.ARM64_REG_B31=39,c.ARM64_REG_D0=40,c.ARM64_REG_D1=41,c.ARM64_REG_D2=42,c.ARM64_REG_D3=43,c.ARM64_REG_D4=44,c.ARM64_REG_D5=45,c.ARM64_REG_D6=46,c.ARM64_REG_D7=47,c.ARM64_REG_D8=48,c.ARM64_REG_D9=49,c.ARM64_REG_D10=50,c.ARM64_REG_D11=51,c.ARM64_REG_D12=52,c.ARM64_REG_D13=53,c.ARM64_REG_D14=54,c.ARM64_REG_D15=55,c.ARM64_REG_D16=56,c.ARM64_REG_D17=57,c.ARM64_REG_D18=58,c.ARM64_REG_D19=59,c.ARM64_REG_D20=60,c.ARM64_REG_D21=61,c.ARM64_REG_D22=62,c.ARM64_REG_D23=63,c.ARM64_REG_D24=64,c.ARM64_REG_D25=65,c.ARM64_REG_D26=66,c.ARM64_REG_D27=67,c.ARM64_REG_D28=68,c.ARM64_REG_D29=69,c.ARM64_REG_D30=70,c.ARM64_REG_D31=71,c.ARM64_REG_H0=72,c.ARM64_REG_H1=73,c.ARM64_REG_H2=74,c.ARM64_REG_H3=75,c.ARM64_REG_H4=76,c.ARM64_REG_H5=77,c.ARM64_REG_H6=78,c.ARM64_REG_H7=79,c.ARM64_REG_H8=80,c.ARM64_REG_H9=81,c.ARM64_REG_H10=82,c.ARM64_REG_H11=83,c.ARM64_REG_H12=84,c.ARM64_REG_H13=85,c.ARM64_REG_H14=86,c.ARM64_REG_H15=87,c.ARM64_REG_H16=88,c.ARM64_REG_H17=89,c.ARM64_REG_H18=90,c.ARM64_REG_H19=91,c.ARM64_REG_H20=92,c.ARM64_REG_H21=93,c.ARM64_REG_H22=94,c.ARM64_REG_H23=95,c.ARM64_REG_H24=96,c.ARM64_REG_H25=97,c.ARM64_REG_H26=98,c.ARM64_REG_H27=99,c.ARM64_REG_H28=100,c.ARM64_REG_H29=101,c.ARM64_REG_H30=102,c.ARM64_REG_H31=103,c.ARM64_REG_Q0=104,c.ARM64_REG_Q1=105,c.ARM64_REG_Q2=106,c.ARM64_REG_Q3=107,c.ARM64_REG_Q4=108,c.ARM64_REG_Q5=109,c.ARM64_REG_Q6=110,c.ARM64_REG_Q7=111,c.ARM64_REG_Q8=112,c.ARM64_REG_Q9=113,c.ARM64_REG_Q10=114,c.ARM64_REG_Q11=115,c.ARM64_REG_Q12=116,c.ARM64_REG_Q13=117,c.ARM64_REG_Q14=118,c.ARM64_REG_Q15=119,c.ARM64_REG_Q16=120,c.ARM64_REG_Q17=121,c.ARM64_REG_Q18=122,c.ARM64_REG_Q19=123,c.ARM64_REG_Q20=124,c.ARM64_REG_Q21=125,c.ARM64_REG_Q22=126,c.ARM64_REG_Q23=127,c.ARM64_REG_Q24=128,c.ARM64_REG_Q25=129,c.ARM64_REG_Q26=130,c.ARM64_REG_Q27=131,c.ARM64_REG_Q28=132,c.ARM64_REG_Q29=133,c.ARM64_REG_Q30=134,c.ARM64_REG_Q31=135,c.ARM64_REG_S0=136,c.ARM64_REG_S1=137,c.ARM64_REG_S2=138,c.ARM64_REG_S3=139,c.ARM64_REG_S4=140,c.ARM64_REG_S5=141,c.ARM64_REG_S6=142,c.ARM64_REG_S7=143,c.ARM64_REG_S8=144,c.ARM64_REG_S9=145,c.ARM64_REG_S10=146,c.ARM64_REG_S11=147,c.ARM64_REG_S12=148,c.ARM64_REG_S13=149,c.ARM64_REG_S14=150,c.ARM64_REG_S15=151,c.ARM64_REG_S16=152,c.ARM64_REG_S17=153,c.ARM64_REG_S18=154,c.ARM64_REG_S19=155,c.ARM64_REG_S20=156,c.ARM64_REG_S21=157,c.ARM64_REG_S22=158,c.ARM64_REG_S23=159,c.ARM64_REG_S24=160,c.ARM64_REG_S25=161,c.ARM64_REG_S26=162,c.ARM64_REG_S27=163,c.ARM64_REG_S28=164,c.ARM64_REG_S29=165,c.ARM64_REG_S30=166,c.ARM64_REG_S31=167,c.ARM64_REG_W0=168,c.ARM64_REG_W1=169,c.ARM64_REG_W2=170,c.ARM64_REG_W3=171,c.ARM64_REG_W4=172,c.ARM64_REG_W5=173,c.ARM64_REG_W6=174,c.ARM64_REG_W7=175,c.ARM64_REG_W8=176,c.ARM64_REG_W9=177,c.ARM64_REG_W10=178,c.ARM64_REG_W11=179,c.ARM64_REG_W12=180,c.ARM64_REG_W13=181,c.ARM64_REG_W14=182,c.ARM64_REG_W15=183,c.ARM64_REG_W16=184,c.ARM64_REG_W17=185,c.ARM64_REG_W18=186,c.ARM64_REG_W19=187,c.ARM64_REG_W20=188,c.ARM64_REG_W21=189,c.ARM64_REG_W22=190,c.ARM64_REG_W23=191,c.ARM64_REG_W24=192,c.ARM64_REG_W25=193,c.ARM64_REG_W26=194,c.ARM64_REG_W27=195,c.ARM64_REG_W28=196,c.ARM64_REG_W29=197,c.ARM64_REG_W30=198,c.ARM64_REG_X0=199,c.ARM64_REG_X1=200,c.ARM64_REG_X2=201,c.ARM64_REG_X3=202,c.ARM64_REG_X4=203,c.ARM64_REG_X5=204,c.ARM64_REG_X6=205,c.ARM64_REG_X7=206,c.ARM64_REG_X8=207,c.ARM64_REG_X9=208,c.ARM64_REG_X10=209,c.ARM64_REG_X11=210,c.ARM64_REG_X12=211,c.ARM64_REG_X13=212,c.ARM64_REG_X14=213,c.ARM64_REG_X15=214,c.ARM64_REG_X16=215,c.ARM64_REG_X17=216,c.ARM64_REG_X18=217,c.ARM64_REG_X19=218,c.ARM64_REG_X20=219,c.ARM64_REG_X21=220,c.ARM64_REG_X22=221,c.ARM64_REG_X23=222,c.ARM64_REG_X24=223,c.ARM64_REG_X25=224,c.ARM64_REG_X26=225,c.ARM64_REG_X27=226,c.ARM64_REG_X28=227,c.ARM64_REG_V0=228,c.ARM64_REG_V1=229,c.ARM64_REG_V2=230,c.ARM64_REG_V3=231,c.ARM64_REG_V4=232,c.ARM64_REG_V5=233,c.ARM64_REG_V6=234,c.ARM64_REG_V7=235,c.ARM64_REG_V8=236,c.ARM64_REG_V9=237,c.ARM64_REG_V10=238,c.ARM64_REG_V11=239,c.ARM64_REG_V12=240,c.ARM64_REG_V13=241,c.ARM64_REG_V14=242,c.ARM64_REG_V15=243,c.ARM64_REG_V16=244,c.ARM64_REG_V17=245,c.ARM64_REG_V18=246,c.ARM64_REG_V19=247,c.ARM64_REG_V20=248,c.ARM64_REG_V21=249,c.ARM64_REG_V22=250,c.ARM64_REG_V23=251,c.ARM64_REG_V24=252,c.ARM64_REG_V25=253,c.ARM64_REG_V26=254,c.ARM64_REG_V27=255,c.ARM64_REG_V28=256,c.ARM64_REG_V29=257,c.ARM64_REG_V30=258,c.ARM64_REG_V31=259,c.ARM64_REG_PC=260,c.ARM64_REG_CPACR_EL1=261,c.ARM64_REG_TPIDR_EL0=262,c.ARM64_REG_TPIDRRO_EL0=263,c.ARM64_REG_TPIDR_EL1=264,c.ARM64_REG_PSTATE=265,c.ARM64_REG_ELR_EL0=266,c.ARM64_REG_ELR_EL1=267,c.ARM64_REG_ELR_EL2=268,c.ARM64_REG_ELR_EL3=269,c.ARM64_REG_SP_EL0=270,c.ARM64_REG_SP_EL1=271,c.ARM64_REG_SP_EL2=272,c.ARM64_REG_SP_EL3=273,c.ARM64_REG_TTBR0_EL1=274,c.ARM64_REG_TTBR1_EL1=275,c.ARM64_REG_ESR_EL0=276,c.ARM64_REG_ESR_EL1=277,c.ARM64_REG_ESR_EL2=278,c.ARM64_REG_ESR_EL3=279,c.ARM64_REG_FAR_EL0=280,c.ARM64_REG_FAR_EL1=281,c.ARM64_REG_FAR_EL2=282,c.ARM64_REG_FAR_EL3=283,c.ARM64_REG_PAR_EL1=284,c.ARM64_REG_MAIR_EL1=285,c.ARM64_REG_VBAR_EL0=286,c.ARM64_REG_VBAR_EL1=287,c.ARM64_REG_VBAR_EL2=288,c.ARM64_REG_VBAR_EL3=289,c.ARM64_REG_ENDING=290,c.ARM64_REG_IP0=215,c.ARM64_REG_IP1=216,c.ARM64_REG_FP=1,c.ARM64_REG_LR=2,c.ARM_REG_INVALID=0,c.ARM_REG_APSR=1,c.ARM_REG_APSR_NZCV=2,c.ARM_REG_CPSR=3,c.ARM_REG_FPEXC=4,c.ARM_REG_FPINST=5,c.ARM_REG_FPSCR=6,c.ARM_REG_FPSCR_NZCV=7,c.ARM_REG_FPSID=8,c.ARM_REG_ITSTATE=9,c.ARM_REG_LR=10,c.ARM_REG_PC=11,c.ARM_REG_SP=12,c.ARM_REG_SPSR=13,c.ARM_REG_D0=14,c.ARM_REG_D1=15,c.ARM_REG_D2=16,c.ARM_REG_D3=17,c.ARM_REG_D4=18,c.ARM_REG_D5=19,c.ARM_REG_D6=20,c.ARM_REG_D7=21,c.ARM_REG_D8=22,c.ARM_REG_D9=23,c.ARM_REG_D10=24,c.ARM_REG_D11=25,c.ARM_REG_D12=26,c.ARM_REG_D13=27,c.ARM_REG_D14=28,c.ARM_REG_D15=29,c.ARM_REG_D16=30,c.ARM_REG_D17=31,c.ARM_REG_D18=32,c.ARM_REG_D19=33,c.ARM_REG_D20=34,c.ARM_REG_D21=35,c.ARM_REG_D22=36,c.ARM_REG_D23=37,c.ARM_REG_D24=38,c.ARM_REG_D25=39,c.ARM_REG_D26=40,c.ARM_REG_D27=41,c.ARM_REG_D28=42,c.ARM_REG_D29=43,c.ARM_REG_D30=44,c.ARM_REG_D31=45,c.ARM_REG_FPINST2=46,c.ARM_REG_MVFR0=47,c.ARM_REG_MVFR1=48,c.ARM_REG_MVFR2=49,c.ARM_REG_Q0=50,c.ARM_REG_Q1=51,c.ARM_REG_Q2=52,c.ARM_REG_Q3=53,c.ARM_REG_Q4=54,c.ARM_REG_Q5=55,c.ARM_REG_Q6=56,c.ARM_REG_Q7=57,c.ARM_REG_Q8=58,c.ARM_REG_Q9=59,c.ARM_REG_Q10=60,c.ARM_REG_Q11=61,c.ARM_REG_Q12=62,c.ARM_REG_Q13=63,c.ARM_REG_Q14=64,c.ARM_REG_Q15=65,c.ARM_REG_R0=66,c.ARM_REG_R1=67,c.ARM_REG_R2=68,c.ARM_REG_R3=69,c.ARM_REG_R4=70,c.ARM_REG_R5=71,c.ARM_REG_R6=72,c.ARM_REG_R7=73,c.ARM_REG_R8=74,c.ARM_REG_R9=75,c.ARM_REG_R10=76,c.ARM_REG_R11=77,c.ARM_REG_R12=78,c.ARM_REG_S0=79,c.ARM_REG_S1=80,c.ARM_REG_S2=81,c.ARM_REG_S3=82,c.ARM_REG_S4=83,c.ARM_REG_S5=84,c.ARM_REG_S6=85,c.ARM_REG_S7=86,c.ARM_REG_S8=87,c.ARM_REG_S9=88,c.ARM_REG_S10=89,c.ARM_REG_S11=90,c.ARM_REG_S12=91,c.ARM_REG_S13=92,c.ARM_REG_S14=93,c.ARM_REG_S15=94,c.ARM_REG_S16=95,c.ARM_REG_S17=96,c.ARM_REG_S18=97,c.ARM_REG_S19=98,c.ARM_REG_S20=99,c.ARM_REG_S21=100,c.ARM_REG_S22=101,c.ARM_REG_S23=102,c.ARM_REG_S24=103,c.ARM_REG_S25=104,c.ARM_REG_S26=105,c.ARM_REG_S27=106,c.ARM_REG_S28=107,c.ARM_REG_S29=108,c.ARM_REG_S30=109,c.ARM_REG_S31=110,c.ARM_REG_C1_C0_2=111,c.ARM_REG_C13_C0_2=112,c.ARM_REG_C13_C0_3=113,c.ARM_REG_IPSR=114,c.ARM_REG_MSP=115,c.ARM_REG_PSP=116,c.ARM_REG_CONTROL=117,c.ARM_REG_ENDING=118,c.ARM_REG_R13=12,c.ARM_REG_R14=10,c.ARM_REG_R15=11,c.ARM_REG_SB=75,c.ARM_REG_SL=76,c.ARM_REG_FP=77,c.ARM_REG_IP=78,c.M68K_REG_INVALID=0,c.M68K_REG_A0=1,c.M68K_REG_A1=2,c.M68K_REG_A2=3,c.M68K_REG_A3=4,c.M68K_REG_A4=5,c.M68K_REG_A5=6,c.M68K_REG_A6=7,c.M68K_REG_A7=8,c.M68K_REG_D0=9,c.M68K_REG_D1=10,c.M68K_REG_D2=11,c.M68K_REG_D3=12,c.M68K_REG_D4=13,c.M68K_REG_D5=14,c.M68K_REG_D6=15,c.M68K_REG_D7=16,c.M68K_REG_SR=17,c.M68K_REG_PC=18,c.M68K_REG_ENDING=19,c.MIPS_REG_INVALID=0,c.MIPS_REG_PC=1,c.MIPS_REG_0=2,c.MIPS_REG_1=3,c.MIPS_REG_2=4,c.MIPS_REG_3=5,c.MIPS_REG_4=6,c.MIPS_REG_5=7,c.MIPS_REG_6=8,c.MIPS_REG_7=9,c.MIPS_REG_8=10,c.MIPS_REG_9=11,c.MIPS_REG_10=12,c.MIPS_REG_11=13,c.MIPS_REG_12=14,c.MIPS_REG_13=15,c.MIPS_REG_14=16,c.MIPS_REG_15=17,c.MIPS_REG_16=18,c.MIPS_REG_17=19,c.MIPS_REG_18=20,c.MIPS_REG_19=21,c.MIPS_REG_20=22,c.MIPS_REG_21=23,c.MIPS_REG_22=24,c.MIPS_REG_23=25,c.MIPS_REG_24=26,c.MIPS_REG_25=27,c.MIPS_REG_26=28,c.MIPS_REG_27=29,c.MIPS_REG_28=30,c.MIPS_REG_29=31,c.MIPS_REG_30=32,c.MIPS_REG_31=33,c.MIPS_REG_DSPCCOND=34,c.MIPS_REG_DSPCARRY=35,c.MIPS_REG_DSPEFI=36,c.MIPS_REG_DSPOUTFLAG=37,c.MIPS_REG_DSPOUTFLAG16_19=38,c.MIPS_REG_DSPOUTFLAG20=39,c.MIPS_REG_DSPOUTFLAG21=40,c.MIPS_REG_DSPOUTFLAG22=41,c.MIPS_REG_DSPOUTFLAG23=42,c.MIPS_REG_DSPPOS=43,c.MIPS_REG_DSPSCOUNT=44,c.MIPS_REG_AC0=45,c.MIPS_REG_AC1=46,c.MIPS_REG_AC2=47,c.MIPS_REG_AC3=48,c.MIPS_REG_CC0=49,c.MIPS_REG_CC1=50,c.MIPS_REG_CC2=51,c.MIPS_REG_CC3=52,c.MIPS_REG_CC4=53,c.MIPS_REG_CC5=54,c.MIPS_REG_CC6=55,c.MIPS_REG_CC7=56,c.MIPS_REG_F0=57,c.MIPS_REG_F1=58,c.MIPS_REG_F2=59,c.MIPS_REG_F3=60,c.MIPS_REG_F4=61,c.MIPS_REG_F5=62,c.MIPS_REG_F6=63,c.MIPS_REG_F7=64,c.MIPS_REG_F8=65,c.MIPS_REG_F9=66,c.MIPS_REG_F10=67,c.MIPS_REG_F11=68,c.MIPS_REG_F12=69,c.MIPS_REG_F13=70,c.MIPS_REG_F14=71,c.MIPS_REG_F15=72,c.MIPS_REG_F16=73,c.MIPS_REG_F17=74,c.MIPS_REG_F18=75,c.MIPS_REG_F19=76,c.MIPS_REG_F20=77,c.MIPS_REG_F21=78,c.MIPS_REG_F22=79,c.MIPS_REG_F23=80,c.MIPS_REG_F24=81,c.MIPS_REG_F25=82,c.MIPS_REG_F26=83,c.MIPS_REG_F27=84,c.MIPS_REG_F28=85,c.MIPS_REG_F29=86,c.MIPS_REG_F30=87,c.MIPS_REG_F31=88,c.MIPS_REG_FCC0=89,c.MIPS_REG_FCC1=90,c.MIPS_REG_FCC2=91,c.MIPS_REG_FCC3=92,c.MIPS_REG_FCC4=93,c.MIPS_REG_FCC5=94,c.MIPS_REG_FCC6=95,c.MIPS_REG_FCC7=96,c.MIPS_REG_W0=97,c.MIPS_REG_W1=98,c.MIPS_REG_W2=99,c.MIPS_REG_W3=100,c.MIPS_REG_W4=101,c.MIPS_REG_W5=102,c.MIPS_REG_W6=103,c.MIPS_REG_W7=104,c.MIPS_REG_W8=105,c.MIPS_REG_W9=106,c.MIPS_REG_W10=107,c.MIPS_REG_W11=108,c.MIPS_REG_W12=109,c.MIPS_REG_W13=110,c.MIPS_REG_W14=111,c.MIPS_REG_W15=112,c.MIPS_REG_W16=113,c.MIPS_REG_W17=114,c.MIPS_REG_W18=115,c.MIPS_REG_W19=116,c.MIPS_REG_W20=117,c.MIPS_REG_W21=118,c.MIPS_REG_W22=119,c.MIPS_REG_W23=120,c.MIPS_REG_W24=121,c.MIPS_REG_W25=122,c.MIPS_REG_W26=123,c.MIPS_REG_W27=124,c.MIPS_REG_W28=125,c.MIPS_REG_W29=126,c.MIPS_REG_W30=127,c.MIPS_REG_W31=128,c.MIPS_REG_HI=129,c.MIPS_REG_LO=130,c.MIPS_REG_P0=131,c.MIPS_REG_P1=132,c.MIPS_REG_P2=133,c.MIPS_REG_MPL0=134,c.MIPS_REG_MPL1=135,c.MIPS_REG_MPL2=136,c.MIPS_REG_CP0_CONFIG3=137,c.MIPS_REG_CP0_USERLOCAL=138,c.MIPS_REG_ENDING=139,c.MIPS_REG_ZERO=2,c.MIPS_REG_AT=3,c.MIPS_REG_V0=4,c.MIPS_REG_V1=5,c.MIPS_REG_A0=6,c.MIPS_REG_A1=7,c.MIPS_REG_A2=8,c.MIPS_REG_A3=9,c.MIPS_REG_T0=10,c.MIPS_REG_T1=11,c.MIPS_REG_T2=12,c.MIPS_REG_T3=13,c.MIPS_REG_T4=14,c.MIPS_REG_T5=15,c.MIPS_REG_T6=16,c.MIPS_REG_T7=17,c.MIPS_REG_S0=18,c.MIPS_REG_S1=19,c.MIPS_REG_S2=20,c.MIPS_REG_S3=21,c.MIPS_REG_S4=22,c.MIPS_REG_S5=23,c.MIPS_REG_S6=24,c.MIPS_REG_S7=25,c.MIPS_REG_T8=26,c.MIPS_REG_T9=27,c.MIPS_REG_K0=28,c.MIPS_REG_K1=29,c.MIPS_REG_GP=30,c.MIPS_REG_SP=31,c.MIPS_REG_FP=32,c.MIPS_REG_S8=32,c.MIPS_REG_RA=33,c.MIPS_REG_HI0=45,c.MIPS_REG_HI1=46,c.MIPS_REG_HI2=47,c.MIPS_REG_HI3=48,c.MIPS_REG_LO0=45,c.MIPS_REG_LO1=46,c.MIPS_REG_LO2=47,c.MIPS_REG_LO3=48,c.SPARC_REG_INVALID=0,c.SPARC_REG_F0=1,c.SPARC_REG_F1=2,c.SPARC_REG_F2=3,c.SPARC_REG_F3=4,c.SPARC_REG_F4=5,c.SPARC_REG_F5=6,c.SPARC_REG_F6=7,c.SPARC_REG_F7=8,c.SPARC_REG_F8=9,c.SPARC_REG_F9=10,c.SPARC_REG_F10=11,c.SPARC_REG_F11=12,c.SPARC_REG_F12=13,c.SPARC_REG_F13=14,c.SPARC_REG_F14=15,c.SPARC_REG_F15=16,c.SPARC_REG_F16=17,c.SPARC_REG_F17=18,c.SPARC_REG_F18=19,c.SPARC_REG_F19=20,c.SPARC_REG_F20=21,c.SPARC_REG_F21=22,c.SPARC_REG_F22=23,c.SPARC_REG_F23=24,c.SPARC_REG_F24=25,c.SPARC_REG_F25=26,c.SPARC_REG_F26=27,c.SPARC_REG_F27=28,c.SPARC_REG_F28=29,c.SPARC_REG_F29=30,c.SPARC_REG_F30=31,c.SPARC_REG_F31=32,c.SPARC_REG_F32=33,c.SPARC_REG_F34=34,c.SPARC_REG_F36=35,c.SPARC_REG_F38=36,c.SPARC_REG_F40=37,c.SPARC_REG_F42=38,c.SPARC_REG_F44=39,c.SPARC_REG_F46=40,c.SPARC_REG_F48=41,c.SPARC_REG_F50=42,c.SPARC_REG_F52=43,c.SPARC_REG_F54=44,c.SPARC_REG_F56=45,c.SPARC_REG_F58=46,c.SPARC_REG_F60=47,c.SPARC_REG_F62=48,c.SPARC_REG_FCC0=49,c.SPARC_REG_FCC1=50,c.SPARC_REG_FCC2=51,c.SPARC_REG_FCC3=52,c.SPARC_REG_G0=53,c.SPARC_REG_G1=54,c.SPARC_REG_G2=55,c.SPARC_REG_G3=56,c.SPARC_REG_G4=57,c.SPARC_REG_G5=58,c.SPARC_REG_G6=59,c.SPARC_REG_G7=60,c.SPARC_REG_I0=61,c.SPARC_REG_I1=62,c.SPARC_REG_I2=63,c.SPARC_REG_I3=64,c.SPARC_REG_I4=65,c.SPARC_REG_I5=66,c.SPARC_REG_FP=67,c.SPARC_REG_I7=68,c.SPARC_REG_ICC=69,c.SPARC_REG_L0=70,c.SPARC_REG_L1=71,c.SPARC_REG_L2=72,c.SPARC_REG_L3=73,c.SPARC_REG_L4=74,c.SPARC_REG_L5=75,c.SPARC_REG_L6=76,c.SPARC_REG_L7=77,c.SPARC_REG_O0=78,c.SPARC_REG_O1=79,c.SPARC_REG_O2=80,c.SPARC_REG_O3=81,c.SPARC_REG_O4=82,c.SPARC_REG_O5=83,c.SPARC_REG_SP=84,c.SPARC_REG_O7=85,c.SPARC_REG_Y=86,c.SPARC_REG_XCC=87,c.SPARC_REG_PC=88,c.SPARC_REG_ENDING=89,c.SPARC_REG_O6=84,c.SPARC_REG_I6=67,c.X86_REG_INVALID=0,c.X86_REG_AH=1,c.X86_REG_AL=2,c.X86_REG_AX=3,c.X86_REG_BH=4,c.X86_REG_BL=5,c.X86_REG_BP=6,c.X86_REG_BPL=7,c.X86_REG_BX=8,c.X86_REG_CH=9,c.X86_REG_CL=10,c.X86_REG_CS=11,c.X86_REG_CX=12,c.X86_REG_DH=13,c.X86_REG_DI=14,c.X86_REG_DIL=15,c.X86_REG_DL=16,c.X86_REG_DS=17,c.X86_REG_DX=18,c.X86_REG_EAX=19,c.X86_REG_EBP=20,c.X86_REG_EBX=21,c.X86_REG_ECX=22,c.X86_REG_EDI=23,c.X86_REG_EDX=24,c.X86_REG_EFLAGS=25,c.X86_REG_EIP=26,c.X86_REG_EIZ=27,c.X86_REG_ES=28,c.X86_REG_ESI=29,c.X86_REG_ESP=30,c.X86_REG_FPSW=31,c.X86_REG_FS=32,c.X86_REG_GS=33,c.X86_REG_IP=34,c.X86_REG_RAX=35,c.X86_REG_RBP=36,c.X86_REG_RBX=37,c.X86_REG_RCX=38,c.X86_REG_RDI=39,c.X86_REG_RDX=40,c.X86_REG_RIP=41,c.X86_REG_RIZ=42,c.X86_REG_RSI=43,c.X86_REG_RSP=44,c.X86_REG_SI=45,c.X86_REG_SIL=46,c.X86_REG_SP=47,c.X86_REG_SPL=48,c.X86_REG_SS=49,c.X86_REG_CR0=50,c.X86_REG_CR1=51,c.X86_REG_CR2=52,c.X86_REG_CR3=53,c.X86_REG_CR4=54,c.X86_REG_CR5=55,c.X86_REG_CR6=56,c.X86_REG_CR7=57,c.X86_REG_CR8=58,c.X86_REG_CR9=59,c.X86_REG_CR10=60,c.X86_REG_CR11=61,c.X86_REG_CR12=62,c.X86_REG_CR13=63,c.X86_REG_CR14=64,c.X86_REG_CR15=65,c.X86_REG_DR0=66,c.X86_REG_DR1=67,c.X86_REG_DR2=68,c.X86_REG_DR3=69,c.X86_REG_DR4=70,c.X86_REG_DR5=71,c.X86_REG_DR6=72,c.X86_REG_DR7=73,c.X86_REG_DR8=74,c.X86_REG_DR9=75,c.X86_REG_DR10=76,c.X86_REG_DR11=77,c.X86_REG_DR12=78,c.X86_REG_DR13=79,c.X86_REG_DR14=80,c.X86_REG_DR15=81,c.X86_REG_FP0=82,c.X86_REG_FP1=83,c.X86_REG_FP2=84,c.X86_REG_FP3=85,c.X86_REG_FP4=86,c.X86_REG_FP5=87,c.X86_REG_FP6=88,c.X86_REG_FP7=89,c.X86_REG_K0=90,c.X86_REG_K1=91,c.X86_REG_K2=92,c.X86_REG_K3=93,c.X86_REG_K4=94,c.X86_REG_K5=95,c.X86_REG_K6=96,c.X86_REG_K7=97,c.X86_REG_MM0=98,c.X86_REG_MM1=99,c.X86_REG_MM2=100,c.X86_REG_MM3=101,c.X86_REG_MM4=102,c.X86_REG_MM5=103,c.X86_REG_MM6=104,c.X86_REG_MM7=105,c.X86_REG_R8=106,c.X86_REG_R9=107,c.X86_REG_R10=108,c.X86_REG_R11=109,c.X86_REG_R12=110,c.X86_REG_R13=111,c.X86_REG_R14=112,c.X86_REG_R15=113,c.X86_REG_ST0=114,c.X86_REG_ST1=115,c.X86_REG_ST2=116,c.X86_REG_ST3=117,c.X86_REG_ST4=118,c.X86_REG_ST5=119,c.X86_REG_ST6=120,c.X86_REG_ST7=121,c.X86_REG_XMM0=122,c.X86_REG_XMM1=123,c.X86_REG_XMM2=124,c.X86_REG_XMM3=125,c.X86_REG_XMM4=126,c.X86_REG_XMM5=127,c.X86_REG_XMM6=128,c.X86_REG_XMM7=129,c.X86_REG_XMM8=130,c.X86_REG_XMM9=131,c.X86_REG_XMM10=132,c.X86_REG_XMM11=133,c.X86_REG_XMM12=134,c.X86_REG_XMM13=135,c.X86_REG_XMM14=136,c.X86_REG_XMM15=137,c.X86_REG_XMM16=138,c.X86_REG_XMM17=139,c.X86_REG_XMM18=140,c.X86_REG_XMM19=141,c.X86_REG_XMM20=142,c.X86_REG_XMM21=143,c.X86_REG_XMM22=144,c.X86_REG_XMM23=145,c.X86_REG_XMM24=146,c.X86_REG_XMM25=147,c.X86_REG_XMM26=148,c.X86_REG_XMM27=149,c.X86_REG_XMM28=150,c.X86_REG_XMM29=151,c.X86_REG_XMM30=152,c.X86_REG_XMM31=153,c.X86_REG_YMM0=154,c.X86_REG_YMM1=155,c.X86_REG_YMM2=156,c.X86_REG_YMM3=157,c.X86_REG_YMM4=158,c.X86_REG_YMM5=159,c.X86_REG_YMM6=160,c.X86_REG_YMM7=161,c.X86_REG_YMM8=162,c.X86_REG_YMM9=163,c.X86_REG_YMM10=164,c.X86_REG_YMM11=165,c.X86_REG_YMM12=166,c.X86_REG_YMM13=167,c.X86_REG_YMM14=168,c.X86_REG_YMM15=169,c.X86_REG_YMM16=170,c.X86_REG_YMM17=171,c.X86_REG_YMM18=172,c.X86_REG_YMM19=173,c.X86_REG_YMM20=174,c.X86_REG_YMM21=175,c.X86_REG_YMM22=176,c.X86_REG_YMM23=177,c.X86_REG_YMM24=178,c.X86_REG_YMM25=179,c.X86_REG_YMM26=180,c.X86_REG_YMM27=181,c.X86_REG_YMM28=182,c.X86_REG_YMM29=183,c.X86_REG_YMM30=184,c.X86_REG_YMM31=185,c.X86_REG_ZMM0=186,c.X86_REG_ZMM1=187,c.X86_REG_ZMM2=188,c.X86_REG_ZMM3=189,c.X86_REG_ZMM4=190,c.X86_REG_ZMM5=191,c.X86_REG_ZMM6=192,c.X86_REG_ZMM7=193,c.X86_REG_ZMM8=194,c.X86_REG_ZMM9=195,c.X86_REG_ZMM10=196,c.X86_REG_ZMM11=197,c.X86_REG_ZMM12=198,c.X86_REG_ZMM13=199,c.X86_REG_ZMM14=200,c.X86_REG_ZMM15=201,c.X86_REG_ZMM16=202,c.X86_REG_ZMM17=203,c.X86_REG_ZMM18=204,c.X86_REG_ZMM19=205,c.X86_REG_ZMM20=206,c.X86_REG_ZMM21=207,c.X86_REG_ZMM22=208,c.X86_REG_ZMM23=209,c.X86_REG_ZMM24=210,c.X86_REG_ZMM25=211,c.X86_REG_ZMM26=212,c.X86_REG_ZMM27=213,c.X86_REG_ZMM28=214,c.X86_REG_ZMM29=215,c.X86_REG_ZMM30=216,c.X86_REG_ZMM31=217,c.X86_REG_R8B=218,c.X86_REG_R9B=219,c.X86_REG_R10B=220,c.X86_REG_R11B=221,c.X86_REG_R12B=222,c.X86_REG_R13B=223,c.X86_REG_R14B=224,c.X86_REG_R15B=225,c.X86_REG_R8D=226,c.X86_REG_R9D=227,c.X86_REG_R10D=228,c.X86_REG_R11D=229,c.X86_REG_R12D=230,c.X86_REG_R13D=231,c.X86_REG_R14D=232,c.X86_REG_R15D=233,c.X86_REG_R8W=234,c.X86_REG_R9W=235,c.X86_REG_R10W=236,c.X86_REG_R11W=237,c.X86_REG_R12W=238,c.X86_REG_R13W=239,c.X86_REG_R14W=240,c.X86_REG_R15W=241,c.X86_REG_IDTR=242,c.X86_REG_GDTR=243,c.X86_REG_LDTR=244,c.X86_REG_TR=245,c.X86_REG_FPCW=246,c.X86_REG_FPTAG=247,c.X86_REG_MSR=248,c.X86_REG_MXCSR=249,c.X86_REG_FS_BASE=250,c.X86_REG_GS_BASE=251,c.X86_REG_ENDING=252,c.X86_INS_INVALID=0,c.X86_INS_AAA=1,c.X86_INS_AAD=2,c.X86_INS_AAM=3,c.X86_INS_AAS=4,c.X86_INS_FABS=5,c.X86_INS_ADC=6,c.X86_INS_ADCX=7,c.X86_INS_ADD=8,c.X86_INS_ADDPD=9,c.X86_INS_ADDPS=10,c.X86_INS_ADDSD=11,c.X86_INS_ADDSS=12,c.X86_INS_ADDSUBPD=13,c.X86_INS_ADDSUBPS=14,c.X86_INS_FADD=15,c.X86_INS_FIADD=16,c.X86_INS_FADDP=17,c.X86_INS_ADOX=18,c.X86_INS_AESDECLAST=19,c.X86_INS_AESDEC=20,c.X86_INS_AESENCLAST=21,c.X86_INS_AESENC=22,c.X86_INS_AESIMC=23,c.X86_INS_AESKEYGENASSIST=24,c.X86_INS_AND=25,c.X86_INS_ANDN=26,c.X86_INS_ANDNPD=27,c.X86_INS_ANDNPS=28,c.X86_INS_ANDPD=29,c.X86_INS_ANDPS=30,c.X86_INS_ARPL=31,c.X86_INS_BEXTR=32,c.X86_INS_BLCFILL=33,c.X86_INS_BLCI=34,c.X86_INS_BLCIC=35,c.X86_INS_BLCMSK=36,c.X86_INS_BLCS=37,c.X86_INS_BLENDPD=38,c.X86_INS_BLENDPS=39,c.X86_INS_BLENDVPD=40,c.X86_INS_BLENDVPS=41,c.X86_INS_BLSFILL=42,c.X86_INS_BLSI=43,c.X86_INS_BLSIC=44,c.X86_INS_BLSMSK=45,c.X86_INS_BLSR=46,c.X86_INS_BOUND=47,c.X86_INS_BSF=48,c.X86_INS_BSR=49,c.X86_INS_BSWAP=50,c.X86_INS_BT=51,c.X86_INS_BTC=52,c.X86_INS_BTR=53,c.X86_INS_BTS=54,c.X86_INS_BZHI=55,c.X86_INS_CALL=56,c.X86_INS_CBW=57,c.X86_INS_CDQ=58,c.X86_INS_CDQE=59,c.X86_INS_FCHS=60,c.X86_INS_CLAC=61,c.X86_INS_CLC=62,c.X86_INS_CLD=63,c.X86_INS_CLFLUSH=64,c.X86_INS_CLFLUSHOPT=65,c.X86_INS_CLGI=66,c.X86_INS_CLI=67,c.X86_INS_CLTS=68,c.X86_INS_CLWB=69,c.X86_INS_CMC=70,c.X86_INS_CMOVA=71,c.X86_INS_CMOVAE=72,c.X86_INS_CMOVB=73,c.X86_INS_CMOVBE=74,c.X86_INS_FCMOVBE=75,c.X86_INS_FCMOVB=76,c.X86_INS_CMOVE=77,c.X86_INS_FCMOVE=78,c.X86_INS_CMOVG=79,c.X86_INS_CMOVGE=80,c.X86_INS_CMOVL=81,c.X86_INS_CMOVLE=82,c.X86_INS_FCMOVNBE=83,c.X86_INS_FCMOVNB=84,c.X86_INS_CMOVNE=85,c.X86_INS_FCMOVNE=86,c.X86_INS_CMOVNO=87,c.X86_INS_CMOVNP=88,c.X86_INS_FCMOVNU=89,c.X86_INS_CMOVNS=90,c.X86_INS_CMOVO=91,c.X86_INS_CMOVP=92,c.X86_INS_FCMOVU=93,c.X86_INS_CMOVS=94,c.X86_INS_CMP=95,c.X86_INS_CMPPD=96,c.X86_INS_CMPPS=97,c.X86_INS_CMPSB=98,c.X86_INS_CMPSD=99,c.X86_INS_CMPSQ=100,c.X86_INS_CMPSS=101,c.X86_INS_CMPSW=102,c.X86_INS_CMPXCHG16B=103,c.X86_INS_CMPXCHG=104,c.X86_INS_CMPXCHG8B=105,c.X86_INS_COMISD=106,c.X86_INS_COMISS=107,c.X86_INS_FCOMP=108,c.X86_INS_FCOMPI=109,c.X86_INS_FCOMI=110,c.X86_INS_FCOM=111,c.X86_INS_FCOS=112,c.X86_INS_CPUID=113,c.X86_INS_CQO=114,c.X86_INS_CRC32=115,c.X86_INS_CVTDQ2PD=116,c.X86_INS_CVTDQ2PS=117,c.X86_INS_CVTPD2DQ=118,c.X86_INS_CVTPD2PS=119,c.X86_INS_CVTPS2DQ=120,c.X86_INS_CVTPS2PD=121,c.X86_INS_CVTSD2SI=122,c.X86_INS_CVTSD2SS=123,c.X86_INS_CVTSI2SD=124,c.X86_INS_CVTSI2SS=125,c.X86_INS_CVTSS2SD=126,c.X86_INS_CVTSS2SI=127,c.X86_INS_CVTTPD2DQ=128,c.X86_INS_CVTTPS2DQ=129,c.X86_INS_CVTTSD2SI=130,c.X86_INS_CVTTSS2SI=131,c.X86_INS_CWD=132,c.X86_INS_CWDE=133,c.X86_INS_DAA=134,c.X86_INS_DAS=135,c.X86_INS_DATA16=136,c.X86_INS_DEC=137,c.X86_INS_DIV=138,c.X86_INS_DIVPD=139,c.X86_INS_DIVPS=140,c.X86_INS_FDIVR=141,c.X86_INS_FIDIVR=142,c.X86_INS_FDIVRP=143,c.X86_INS_DIVSD=144,c.X86_INS_DIVSS=145,c.X86_INS_FDIV=146,c.X86_INS_FIDIV=147,c.X86_INS_FDIVP=148,c.X86_INS_DPPD=149,c.X86_INS_DPPS=150,c.X86_INS_RET=151,c.X86_INS_ENCLS=152,c.X86_INS_ENCLU=153,c.X86_INS_ENTER=154,c.X86_INS_EXTRACTPS=155,c.X86_INS_EXTRQ=156,c.X86_INS_F2XM1=157,c.X86_INS_LCALL=158,c.X86_INS_LJMP=159,c.X86_INS_FBLD=160,c.X86_INS_FBSTP=161,c.X86_INS_FCOMPP=162,c.X86_INS_FDECSTP=163,c.X86_INS_FEMMS=164,c.X86_INS_FFREE=165,c.X86_INS_FICOM=166,c.X86_INS_FICOMP=167,c.X86_INS_FINCSTP=168,c.X86_INS_FLDCW=169,c.X86_INS_FLDENV=170,c.X86_INS_FLDL2E=171,c.X86_INS_FLDL2T=172,c.X86_INS_FLDLG2=173,c.X86_INS_FLDLN2=174,c.X86_INS_FLDPI=175,c.X86_INS_FNCLEX=176,c.X86_INS_FNINIT=177,c.X86_INS_FNOP=178,c.X86_INS_FNSTCW=179,c.X86_INS_FNSTSW=180,c.X86_INS_FPATAN=181,c.X86_INS_FPREM=182,c.X86_INS_FPREM1=183,c.X86_INS_FPTAN=184,c.X86_INS_FFREEP=185,c.X86_INS_FRNDINT=186,c.X86_INS_FRSTOR=187,c.X86_INS_FNSAVE=188,c.X86_INS_FSCALE=189,c.X86_INS_FSETPM=190,c.X86_INS_FSINCOS=191,c.X86_INS_FNSTENV=192,c.X86_INS_FXAM=193,c.X86_INS_FXRSTOR=194,c.X86_INS_FXRSTOR64=195,c.X86_INS_FXSAVE=196,c.X86_INS_FXSAVE64=197,c.X86_INS_FXTRACT=198,c.X86_INS_FYL2X=199,c.X86_INS_FYL2XP1=200,c.X86_INS_MOVAPD=201,c.X86_INS_MOVAPS=202,c.X86_INS_ORPD=203,c.X86_INS_ORPS=204,c.X86_INS_VMOVAPD=205,c.X86_INS_VMOVAPS=206,c.X86_INS_XORPD=207,c.X86_INS_XORPS=208,c.X86_INS_GETSEC=209,c.X86_INS_HADDPD=210,c.X86_INS_HADDPS=211,c.X86_INS_HLT=212,c.X86_INS_HSUBPD=213,c.X86_INS_HSUBPS=214,c.X86_INS_IDIV=215,c.X86_INS_FILD=216,c.X86_INS_IMUL=217,c.X86_INS_IN=218,c.X86_INS_INC=219,c.X86_INS_INSB=220,c.X86_INS_INSERTPS=221,c.X86_INS_INSERTQ=222,c.X86_INS_INSD=223,c.X86_INS_INSW=224,c.X86_INS_INT=225,c.X86_INS_INT1=226,c.X86_INS_INT3=227,c.X86_INS_INTO=228,c.X86_INS_INVD=229,c.X86_INS_INVEPT=230,c.X86_INS_INVLPG=231,c.X86_INS_INVLPGA=232,c.X86_INS_INVPCID=233,c.X86_INS_INVVPID=234,c.X86_INS_IRET=235,c.X86_INS_IRETD=236,c.X86_INS_IRETQ=237,c.X86_INS_FISTTP=238,c.X86_INS_FIST=239,c.X86_INS_FISTP=240,c.X86_INS_UCOMISD=241,c.X86_INS_UCOMISS=242,c.X86_INS_VCOMISD=243,c.X86_INS_VCOMISS=244,c.X86_INS_VCVTSD2SS=245,c.X86_INS_VCVTSI2SD=246,c.X86_INS_VCVTSI2SS=247,c.X86_INS_VCVTSS2SD=248,c.X86_INS_VCVTTSD2SI=249,c.X86_INS_VCVTTSD2USI=250,c.X86_INS_VCVTTSS2SI=251,c.X86_INS_VCVTTSS2USI=252,c.X86_INS_VCVTUSI2SD=253,c.X86_INS_VCVTUSI2SS=254,c.X86_INS_VUCOMISD=255,c.X86_INS_VUCOMISS=256,c.X86_INS_JAE=257,c.X86_INS_JA=258,c.X86_INS_JBE=259,c.X86_INS_JB=260,c.X86_INS_JCXZ=261,c.X86_INS_JECXZ=262,c.X86_INS_JE=263,c.X86_INS_JGE=264,c.X86_INS_JG=265,c.X86_INS_JLE=266,c.X86_INS_JL=267,c.X86_INS_JMP=268,c.X86_INS_JNE=269,c.X86_INS_JNO=270,c.X86_INS_JNP=271,c.X86_INS_JNS=272,c.X86_INS_JO=273,c.X86_INS_JP=274,c.X86_INS_JRCXZ=275,c.X86_INS_JS=276,c.X86_INS_KANDB=277,c.X86_INS_KANDD=278,c.X86_INS_KANDNB=279,c.X86_INS_KANDND=280,c.X86_INS_KANDNQ=281,c.X86_INS_KANDNW=282,c.X86_INS_KANDQ=283,c.X86_INS_KANDW=284,c.X86_INS_KMOVB=285,c.X86_INS_KMOVD=286,c.X86_INS_KMOVQ=287,c.X86_INS_KMOVW=288,c.X86_INS_KNOTB=289,c.X86_INS_KNOTD=290,c.X86_INS_KNOTQ=291,c.X86_INS_KNOTW=292,c.X86_INS_KORB=293,c.X86_INS_KORD=294,c.X86_INS_KORQ=295,c.X86_INS_KORTESTB=296,c.X86_INS_KORTESTD=297,c.X86_INS_KORTESTQ=298,c.X86_INS_KORTESTW=299,c.X86_INS_KORW=300,c.X86_INS_KSHIFTLB=301,c.X86_INS_KSHIFTLD=302,c.X86_INS_KSHIFTLQ=303,c.X86_INS_KSHIFTLW=304,c.X86_INS_KSHIFTRB=305,c.X86_INS_KSHIFTRD=306,c.X86_INS_KSHIFTRQ=307,c.X86_INS_KSHIFTRW=308,c.X86_INS_KUNPCKBW=309,c.X86_INS_KXNORB=310,c.X86_INS_KXNORD=311,c.X86_INS_KXNORQ=312,c.X86_INS_KXNORW=313,c.X86_INS_KXORB=314,c.X86_INS_KXORD=315,c.X86_INS_KXORQ=316,c.X86_INS_KXORW=317,c.X86_INS_LAHF=318,c.X86_INS_LAR=319,c.X86_INS_LDDQU=320,c.X86_INS_LDMXCSR=321,c.X86_INS_LDS=322,c.X86_INS_FLDZ=323,c.X86_INS_FLD1=324,c.X86_INS_FLD=325,c.X86_INS_LEA=326,c.X86_INS_LEAVE=327,c.X86_INS_LES=328,c.X86_INS_LFENCE=329,c.X86_INS_LFS=330,c.X86_INS_LGDT=331,c.X86_INS_LGS=332,c.X86_INS_LIDT=333,c.X86_INS_LLDT=334,c.X86_INS_LMSW=335,c.X86_INS_OR=336,c.X86_INS_SUB=337,c.X86_INS_XOR=338,c.X86_INS_LODSB=339,c.X86_INS_LODSD=340,c.X86_INS_LODSQ=341,c.X86_INS_LODSW=342,c.X86_INS_LOOP=343,c.X86_INS_LOOPE=344,c.X86_INS_LOOPNE=345,c.X86_INS_RETF=346,c.X86_INS_RETFQ=347,c.X86_INS_LSL=348,c.X86_INS_LSS=349,c.X86_INS_LTR=350,c.X86_INS_XADD=351,c.X86_INS_LZCNT=352,c.X86_INS_MASKMOVDQU=353,c.X86_INS_MAXPD=354,c.X86_INS_MAXPS=355,c.X86_INS_MAXSD=356,c.X86_INS_MAXSS=357,c.X86_INS_MFENCE=358,c.X86_INS_MINPD=359,c.X86_INS_MINPS=360,c.X86_INS_MINSD=361,c.X86_INS_MINSS=362,c.X86_INS_CVTPD2PI=363,c.X86_INS_CVTPI2PD=364,c.X86_INS_CVTPI2PS=365,c.X86_INS_CVTPS2PI=366,c.X86_INS_CVTTPD2PI=367,c.X86_INS_CVTTPS2PI=368,c.X86_INS_EMMS=369,c.X86_INS_MASKMOVQ=370,c.X86_INS_MOVD=371,c.X86_INS_MOVDQ2Q=372,c.X86_INS_MOVNTQ=373,c.X86_INS_MOVQ2DQ=374,c.X86_INS_MOVQ=375,c.X86_INS_PABSB=376,c.X86_INS_PABSD=377,c.X86_INS_PABSW=378,c.X86_INS_PACKSSDW=379,c.X86_INS_PACKSSWB=380,c.X86_INS_PACKUSWB=381,c.X86_INS_PADDB=382,c.X86_INS_PADDD=383,c.X86_INS_PADDQ=384,c.X86_INS_PADDSB=385,c.X86_INS_PADDSW=386,c.X86_INS_PADDUSB=387,c.X86_INS_PADDUSW=388,c.X86_INS_PADDW=389,c.X86_INS_PALIGNR=390,c.X86_INS_PANDN=391,c.X86_INS_PAND=392,c.X86_INS_PAVGB=393,c.X86_INS_PAVGW=394,c.X86_INS_PCMPEQB=395,c.X86_INS_PCMPEQD=396,c.X86_INS_PCMPEQW=397,c.X86_INS_PCMPGTB=398,c.X86_INS_PCMPGTD=399,c.X86_INS_PCMPGTW=400,c.X86_INS_PEXTRW=401,c.X86_INS_PHADDSW=402,c.X86_INS_PHADDW=403,c.X86_INS_PHADDD=404,c.X86_INS_PHSUBD=405,c.X86_INS_PHSUBSW=406,c.X86_INS_PHSUBW=407,c.X86_INS_PINSRW=408,c.X86_INS_PMADDUBSW=409,c.X86_INS_PMADDWD=410,c.X86_INS_PMAXSW=411,c.X86_INS_PMAXUB=412,c.X86_INS_PMINSW=413,c.X86_INS_PMINUB=414,c.X86_INS_PMOVMSKB=415,c.X86_INS_PMULHRSW=416,c.X86_INS_PMULHUW=417,c.X86_INS_PMULHW=418,c.X86_INS_PMULLW=419,c.X86_INS_PMULUDQ=420,c.X86_INS_POR=421,c.X86_INS_PSADBW=422,c.X86_INS_PSHUFB=423,c.X86_INS_PSHUFW=424,c.X86_INS_PSIGNB=425,c.X86_INS_PSIGND=426,c.X86_INS_PSIGNW=427,c.X86_INS_PSLLD=428,c.X86_INS_PSLLQ=429,c.X86_INS_PSLLW=430,c.X86_INS_PSRAD=431,c.X86_INS_PSRAW=432,c.X86_INS_PSRLD=433,c.X86_INS_PSRLQ=434,c.X86_INS_PSRLW=435,c.X86_INS_PSUBB=436,c.X86_INS_PSUBD=437,c.X86_INS_PSUBQ=438,c.X86_INS_PSUBSB=439,c.X86_INS_PSUBSW=440,c.X86_INS_PSUBUSB=441,c.X86_INS_PSUBUSW=442,c.X86_INS_PSUBW=443,c.X86_INS_PUNPCKHBW=444,c.X86_INS_PUNPCKHDQ=445,c.X86_INS_PUNPCKHWD=446,c.X86_INS_PUNPCKLBW=447,c.X86_INS_PUNPCKLDQ=448,c.X86_INS_PUNPCKLWD=449,c.X86_INS_PXOR=450,c.X86_INS_MONITOR=451,c.X86_INS_MONTMUL=452,c.X86_INS_MOV=453,c.X86_INS_MOVABS=454,c.X86_INS_MOVBE=455,c.X86_INS_MOVDDUP=456,c.X86_INS_MOVDQA=457,c.X86_INS_MOVDQU=458,c.X86_INS_MOVHLPS=459,c.X86_INS_MOVHPD=460,c.X86_INS_MOVHPS=461,c.X86_INS_MOVLHPS=462,c.X86_INS_MOVLPD=463,c.X86_INS_MOVLPS=464,c.X86_INS_MOVMSKPD=465,c.X86_INS_MOVMSKPS=466,c.X86_INS_MOVNTDQA=467,c.X86_INS_MOVNTDQ=468,c.X86_INS_MOVNTI=469,c.X86_INS_MOVNTPD=470,c.X86_INS_MOVNTPS=471,c.X86_INS_MOVNTSD=472,c.X86_INS_MOVNTSS=473,c.X86_INS_MOVSB=474,c.X86_INS_MOVSD=475,c.X86_INS_MOVSHDUP=476,c.X86_INS_MOVSLDUP=477,c.X86_INS_MOVSQ=478,c.X86_INS_MOVSS=479,c.X86_INS_MOVSW=480,c.X86_INS_MOVSX=481,c.X86_INS_MOVSXD=482,c.X86_INS_MOVUPD=483,c.X86_INS_MOVUPS=484,c.X86_INS_MOVZX=485,c.X86_INS_MPSADBW=486,c.X86_INS_MUL=487,c.X86_INS_MULPD=488,c.X86_INS_MULPS=489,c.X86_INS_MULSD=490,c.X86_INS_MULSS=491,c.X86_INS_MULX=492,c.X86_INS_FMUL=493,c.X86_INS_FIMUL=494,c.X86_INS_FMULP=495,c.X86_INS_MWAIT=496,c.X86_INS_NEG=497,c.X86_INS_NOP=498,c.X86_INS_NOT=499,c.X86_INS_OUT=500,c.X86_INS_OUTSB=501,c.X86_INS_OUTSD=502,c.X86_INS_OUTSW=503,c.X86_INS_PACKUSDW=504,c.X86_INS_PAUSE=505,c.X86_INS_PAVGUSB=506,c.X86_INS_PBLENDVB=507,c.X86_INS_PBLENDW=508,c.X86_INS_PCLMULQDQ=509,c.X86_INS_PCMPEQQ=510,c.X86_INS_PCMPESTRI=511,c.X86_INS_PCMPESTRM=512,c.X86_INS_PCMPGTQ=513,c.X86_INS_PCMPISTRI=514,c.X86_INS_PCMPISTRM=515,c.X86_INS_PCOMMIT=516,c.X86_INS_PDEP=517,c.X86_INS_PEXT=518,c.X86_INS_PEXTRB=519,c.X86_INS_PEXTRD=520,c.X86_INS_PEXTRQ=521,c.X86_INS_PF2ID=522,c.X86_INS_PF2IW=523,c.X86_INS_PFACC=524,c.X86_INS_PFADD=525,c.X86_INS_PFCMPEQ=526,c.X86_INS_PFCMPGE=527,c.X86_INS_PFCMPGT=528,c.X86_INS_PFMAX=529,c.X86_INS_PFMIN=530,c.X86_INS_PFMUL=531,c.X86_INS_PFNACC=532,c.X86_INS_PFPNACC=533,c.X86_INS_PFRCPIT1=534,c.X86_INS_PFRCPIT2=535,c.X86_INS_PFRCP=536,c.X86_INS_PFRSQIT1=537,c.X86_INS_PFRSQRT=538,c.X86_INS_PFSUBR=539,c.X86_INS_PFSUB=540,c.X86_INS_PHMINPOSUW=541,c.X86_INS_PI2FD=542,c.X86_INS_PI2FW=543,c.X86_INS_PINSRB=544,c.X86_INS_PINSRD=545,c.X86_INS_PINSRQ=546,c.X86_INS_PMAXSB=547,c.X86_INS_PMAXSD=548,c.X86_INS_PMAXUD=549,c.X86_INS_PMAXUW=550,c.X86_INS_PMINSB=551,c.X86_INS_PMINSD=552,c.X86_INS_PMINUD=553,c.X86_INS_PMINUW=554,c.X86_INS_PMOVSXBD=555,c.X86_INS_PMOVSXBQ=556,c.X86_INS_PMOVSXBW=557,c.X86_INS_PMOVSXDQ=558,c.X86_INS_PMOVSXWD=559,c.X86_INS_PMOVSXWQ=560,c.X86_INS_PMOVZXBD=561,c.X86_INS_PMOVZXBQ=562,c.X86_INS_PMOVZXBW=563,c.X86_INS_PMOVZXDQ=564,c.X86_INS_PMOVZXWD=565,c.X86_INS_PMOVZXWQ=566,c.X86_INS_PMULDQ=567,c.X86_INS_PMULHRW=568,c.X86_INS_PMULLD=569,c.X86_INS_POP=570,c.X86_INS_POPAW=571,c.X86_INS_POPAL=572,c.X86_INS_POPCNT=573,c.X86_INS_POPF=574,c.X86_INS_POPFD=575,c.X86_INS_POPFQ=576,c.X86_INS_PREFETCH=577,c.X86_INS_PREFETCHNTA=578,c.X86_INS_PREFETCHT0=579,c.X86_INS_PREFETCHT1=580,c.X86_INS_PREFETCHT2=581,c.X86_INS_PREFETCHW=582,c.X86_INS_PSHUFD=583,c.X86_INS_PSHUFHW=584,c.X86_INS_PSHUFLW=585,c.X86_INS_PSLLDQ=586,c.X86_INS_PSRLDQ=587,c.X86_INS_PSWAPD=588,c.X86_INS_PTEST=589,c.X86_INS_PUNPCKHQDQ=590,c.X86_INS_PUNPCKLQDQ=591,c.X86_INS_PUSH=592,c.X86_INS_PUSHAW=593,c.X86_INS_PUSHAL=594,c.X86_INS_PUSHF=595,c.X86_INS_PUSHFD=596,c.X86_INS_PUSHFQ=597,c.X86_INS_RCL=598,c.X86_INS_RCPPS=599,c.X86_INS_RCPSS=600,c.X86_INS_RCR=601,c.X86_INS_RDFSBASE=602,c.X86_INS_RDGSBASE=603,c.X86_INS_RDMSR=604,c.X86_INS_RDPMC=605,c.X86_INS_RDRAND=606,c.X86_INS_RDSEED=607,c.X86_INS_RDTSC=608,c.X86_INS_RDTSCP=609,c.X86_INS_ROL=610,c.X86_INS_ROR=611,c.X86_INS_RORX=612,c.X86_INS_ROUNDPD=613,c.X86_INS_ROUNDPS=614,c.X86_INS_ROUNDSD=615,c.X86_INS_ROUNDSS=616,c.X86_INS_RSM=617,c.X86_INS_RSQRTPS=618,c.X86_INS_RSQRTSS=619,c.X86_INS_SAHF=620,c.X86_INS_SAL=621,c.X86_INS_SALC=622,c.X86_INS_SAR=623,c.X86_INS_SARX=624,c.X86_INS_SBB=625,c.X86_INS_SCASB=626,c.X86_INS_SCASD=627,c.X86_INS_SCASQ=628,c.X86_INS_SCASW=629,c.X86_INS_SETAE=630,c.X86_INS_SETA=631,c.X86_INS_SETBE=632,c.X86_INS_SETB=633,c.X86_INS_SETE=634,c.X86_INS_SETGE=635,c.X86_INS_SETG=636,c.X86_INS_SETLE=637,c.X86_INS_SETL=638,c.X86_INS_SETNE=639,c.X86_INS_SETNO=640,c.X86_INS_SETNP=641,c.X86_INS_SETNS=642,c.X86_INS_SETO=643,c.X86_INS_SETP=644,c.X86_INS_SETS=645,c.X86_INS_SFENCE=646,c.X86_INS_SGDT=647,c.X86_INS_SHA1MSG1=648,c.X86_INS_SHA1MSG2=649,c.X86_INS_SHA1NEXTE=650,c.X86_INS_SHA1RNDS4=651,c.X86_INS_SHA256MSG1=652,c.X86_INS_SHA256MSG2=653,c.X86_INS_SHA256RNDS2=654,c.X86_INS_SHL=655,c.X86_INS_SHLD=656,c.X86_INS_SHLX=657,c.X86_INS_SHR=658,c.X86_INS_SHRD=659,c.X86_INS_SHRX=660,c.X86_INS_SHUFPD=661,c.X86_INS_SHUFPS=662,c.X86_INS_SIDT=663,c.X86_INS_FSIN=664,c.X86_INS_SKINIT=665,c.X86_INS_SLDT=666,c.X86_INS_SMSW=667,c.X86_INS_SQRTPD=668,c.X86_INS_SQRTPS=669,c.X86_INS_SQRTSD=670,c.X86_INS_SQRTSS=671,c.X86_INS_FSQRT=672,c.X86_INS_STAC=673,c.X86_INS_STC=674,c.X86_INS_STD=675,c.X86_INS_STGI=676,c.X86_INS_STI=677,c.X86_INS_STMXCSR=678,c.X86_INS_STOSB=679,c.X86_INS_STOSD=680,c.X86_INS_STOSQ=681,c.X86_INS_STOSW=682,c.X86_INS_STR=683,c.X86_INS_FST=684,c.X86_INS_FSTP=685,c.X86_INS_FSTPNCE=686,c.X86_INS_FXCH=687,c.X86_INS_SUBPD=688,c.X86_INS_SUBPS=689,c.X86_INS_FSUBR=690,c.X86_INS_FISUBR=691,c.X86_INS_FSUBRP=692,c.X86_INS_SUBSD=693,c.X86_INS_SUBSS=694,c.X86_INS_FSUB=695,c.X86_INS_FISUB=696,c.X86_INS_FSUBP=697,c.X86_INS_SWAPGS=698,c.X86_INS_SYSCALL=699,c.X86_INS_SYSENTER=700,c.X86_INS_SYSEXIT=701,c.X86_INS_SYSRET=702,c.X86_INS_T1MSKC=703,c.X86_INS_TEST=704,c.X86_INS_UD2=705,c.X86_INS_FTST=706,c.X86_INS_TZCNT=707,c.X86_INS_TZMSK=708,c.X86_INS_FUCOMPI=709,c.X86_INS_FUCOMI=710,c.X86_INS_FUCOMPP=711,c.X86_INS_FUCOMP=712,c.X86_INS_FUCOM=713,c.X86_INS_UD2B=714,c.X86_INS_UNPCKHPD=715,c.X86_INS_UNPCKHPS=716,c.X86_INS_UNPCKLPD=717,c.X86_INS_UNPCKLPS=718,c.X86_INS_VADDPD=719,c.X86_INS_VADDPS=720,c.X86_INS_VADDSD=721,c.X86_INS_VADDSS=722,c.X86_INS_VADDSUBPD=723,c.X86_INS_VADDSUBPS=724,c.X86_INS_VAESDECLAST=725,c.X86_INS_VAESDEC=726,c.X86_INS_VAESENCLAST=727,c.X86_INS_VAESENC=728,c.X86_INS_VAESIMC=729,c.X86_INS_VAESKEYGENASSIST=730,c.X86_INS_VALIGND=731,c.X86_INS_VALIGNQ=732,c.X86_INS_VANDNPD=733,c.X86_INS_VANDNPS=734,c.X86_INS_VANDPD=735,c.X86_INS_VANDPS=736,c.X86_INS_VBLENDMPD=737,c.X86_INS_VBLENDMPS=738,c.X86_INS_VBLENDPD=739,c.X86_INS_VBLENDPS=740,c.X86_INS_VBLENDVPD=741,c.X86_INS_VBLENDVPS=742,c.X86_INS_VBROADCASTF128=743,c.X86_INS_VBROADCASTI32X4=744,c.X86_INS_VBROADCASTI64X4=745,c.X86_INS_VBROADCASTSD=746,c.X86_INS_VBROADCASTSS=747,c.X86_INS_VCMPPD=748,c.X86_INS_VCMPPS=749,c.X86_INS_VCMPSD=750,c.X86_INS_VCMPSS=751,c.X86_INS_VCOMPRESSPD=752,c.X86_INS_VCOMPRESSPS=753,c.X86_INS_VCVTDQ2PD=754,c.X86_INS_VCVTDQ2PS=755,c.X86_INS_VCVTPD2DQX=756,c.X86_INS_VCVTPD2DQ=757,c.X86_INS_VCVTPD2PSX=758,c.X86_INS_VCVTPD2PS=759,c.X86_INS_VCVTPD2UDQ=760,c.X86_INS_VCVTPH2PS=761,c.X86_INS_VCVTPS2DQ=762,c.X86_INS_VCVTPS2PD=763,c.X86_INS_VCVTPS2PH=764,c.X86_INS_VCVTPS2UDQ=765,c.X86_INS_VCVTSD2SI=766,c.X86_INS_VCVTSD2USI=767,c.X86_INS_VCVTSS2SI=768,c.X86_INS_VCVTSS2USI=769,c.X86_INS_VCVTTPD2DQX=770,c.X86_INS_VCVTTPD2DQ=771,c.X86_INS_VCVTTPD2UDQ=772,c.X86_INS_VCVTTPS2DQ=773,c.X86_INS_VCVTTPS2UDQ=774,c.X86_INS_VCVTUDQ2PD=775,c.X86_INS_VCVTUDQ2PS=776,c.X86_INS_VDIVPD=777,c.X86_INS_VDIVPS=778,c.X86_INS_VDIVSD=779,c.X86_INS_VDIVSS=780,c.X86_INS_VDPPD=781,c.X86_INS_VDPPS=782,c.X86_INS_VERR=783,c.X86_INS_VERW=784,c.X86_INS_VEXP2PD=785,c.X86_INS_VEXP2PS=786,c.X86_INS_VEXPANDPD=787,c.X86_INS_VEXPANDPS=788,c.X86_INS_VEXTRACTF128=789,c.X86_INS_VEXTRACTF32X4=790,c.X86_INS_VEXTRACTF64X4=791,c.X86_INS_VEXTRACTI128=792,c.X86_INS_VEXTRACTI32X4=793,c.X86_INS_VEXTRACTI64X4=794,c.X86_INS_VEXTRACTPS=795,c.X86_INS_VFMADD132PD=796,c.X86_INS_VFMADD132PS=797,c.X86_INS_VFMADDPD=798,c.X86_INS_VFMADD213PD=799,c.X86_INS_VFMADD231PD=800,c.X86_INS_VFMADDPS=801,c.X86_INS_VFMADD213PS=802,c.X86_INS_VFMADD231PS=803,c.X86_INS_VFMADDSD=804,c.X86_INS_VFMADD213SD=805,c.X86_INS_VFMADD132SD=806,c.X86_INS_VFMADD231SD=807,c.X86_INS_VFMADDSS=808,c.X86_INS_VFMADD213SS=809,c.X86_INS_VFMADD132SS=810,c.X86_INS_VFMADD231SS=811,c.X86_INS_VFMADDSUB132PD=812,c.X86_INS_VFMADDSUB132PS=813,c.X86_INS_VFMADDSUBPD=814,c.X86_INS_VFMADDSUB213PD=815,c.X86_INS_VFMADDSUB231PD=816,c.X86_INS_VFMADDSUBPS=817,c.X86_INS_VFMADDSUB213PS=818,c.X86_INS_VFMADDSUB231PS=819,c.X86_INS_VFMSUB132PD=820,c.X86_INS_VFMSUB132PS=821,c.X86_INS_VFMSUBADD132PD=822,c.X86_INS_VFMSUBADD132PS=823,c.X86_INS_VFMSUBADDPD=824,c.X86_INS_VFMSUBADD213PD=825,c.X86_INS_VFMSUBADD231PD=826,c.X86_INS_VFMSUBADDPS=827,c.X86_INS_VFMSUBADD213PS=828,c.X86_INS_VFMSUBADD231PS=829,c.X86_INS_VFMSUBPD=830,c.X86_INS_VFMSUB213PD=831,c.X86_INS_VFMSUB231PD=832,c.X86_INS_VFMSUBPS=833,c.X86_INS_VFMSUB213PS=834,c.X86_INS_VFMSUB231PS=835,c.X86_INS_VFMSUBSD=836,c.X86_INS_VFMSUB213SD=837,c.X86_INS_VFMSUB132SD=838,c.X86_INS_VFMSUB231SD=839,c.X86_INS_VFMSUBSS=840,c.X86_INS_VFMSUB213SS=841,c.X86_INS_VFMSUB132SS=842,c.X86_INS_VFMSUB231SS=843,c.X86_INS_VFNMADD132PD=844,c.X86_INS_VFNMADD132PS=845,c.X86_INS_VFNMADDPD=846,c.X86_INS_VFNMADD213PD=847,c.X86_INS_VFNMADD231PD=848,c.X86_INS_VFNMADDPS=849,c.X86_INS_VFNMADD213PS=850,c.X86_INS_VFNMADD231PS=851,c.X86_INS_VFNMADDSD=852,c.X86_INS_VFNMADD213SD=853,c.X86_INS_VFNMADD132SD=854,c.X86_INS_VFNMADD231SD=855,c.X86_INS_VFNMADDSS=856,c.X86_INS_VFNMADD213SS=857,c.X86_INS_VFNMADD132SS=858,c.X86_INS_VFNMADD231SS=859,c.X86_INS_VFNMSUB132PD=860,c.X86_INS_VFNMSUB132PS=861,c.X86_INS_VFNMSUBPD=862,c.X86_INS_VFNMSUB213PD=863,c.X86_INS_VFNMSUB231PD=864,c.X86_INS_VFNMSUBPS=865,c.X86_INS_VFNMSUB213PS=866,c.X86_INS_VFNMSUB231PS=867,c.X86_INS_VFNMSUBSD=868,c.X86_INS_VFNMSUB213SD=869,c.X86_INS_VFNMSUB132SD=870,c.X86_INS_VFNMSUB231SD=871,c.X86_INS_VFNMSUBSS=872,c.X86_INS_VFNMSUB213SS=873,c.X86_INS_VFNMSUB132SS=874,c.X86_INS_VFNMSUB231SS=875,c.X86_INS_VFRCZPD=876,c.X86_INS_VFRCZPS=877,c.X86_INS_VFRCZSD=878,c.X86_INS_VFRCZSS=879,c.X86_INS_VORPD=880,c.X86_INS_VORPS=881,c.X86_INS_VXORPD=882,c.X86_INS_VXORPS=883,c.X86_INS_VGATHERDPD=884,c.X86_INS_VGATHERDPS=885,c.X86_INS_VGATHERPF0DPD=886,c.X86_INS_VGATHERPF0DPS=887,c.X86_INS_VGATHERPF0QPD=888,c.X86_INS_VGATHERPF0QPS=889,c.X86_INS_VGATHERPF1DPD=890,c.X86_INS_VGATHERPF1DPS=891,c.X86_INS_VGATHERPF1QPD=892,c.X86_INS_VGATHERPF1QPS=893,c.X86_INS_VGATHERQPD=894,c.X86_INS_VGATHERQPS=895,c.X86_INS_VHADDPD=896,c.X86_INS_VHADDPS=897,c.X86_INS_VHSUBPD=898,c.X86_INS_VHSUBPS=899,c.X86_INS_VINSERTF128=900,c.X86_INS_VINSERTF32X4=901,c.X86_INS_VINSERTF32X8=902,c.X86_INS_VINSERTF64X2=903,c.X86_INS_VINSERTF64X4=904,c.X86_INS_VINSERTI128=905,c.X86_INS_VINSERTI32X4=906,c.X86_INS_VINSERTI32X8=907,c.X86_INS_VINSERTI64X2=908,c.X86_INS_VINSERTI64X4=909,c.X86_INS_VINSERTPS=910,c.X86_INS_VLDDQU=911,c.X86_INS_VLDMXCSR=912,c.X86_INS_VMASKMOVDQU=913,c.X86_INS_VMASKMOVPD=914,c.X86_INS_VMASKMOVPS=915,c.X86_INS_VMAXPD=916,c.X86_INS_VMAXPS=917,c.X86_INS_VMAXSD=918,c.X86_INS_VMAXSS=919,c.X86_INS_VMCALL=920,c.X86_INS_VMCLEAR=921,c.X86_INS_VMFUNC=922,c.X86_INS_VMINPD=923,c.X86_INS_VMINPS=924,c.X86_INS_VMINSD=925,c.X86_INS_VMINSS=926,c.X86_INS_VMLAUNCH=927,c.X86_INS_VMLOAD=928,c.X86_INS_VMMCALL=929,c.X86_INS_VMOVQ=930,c.X86_INS_VMOVDDUP=931,c.X86_INS_VMOVD=932,c.X86_INS_VMOVDQA32=933,c.X86_INS_VMOVDQA64=934,c.X86_INS_VMOVDQA=935,c.X86_INS_VMOVDQU16=936,c.X86_INS_VMOVDQU32=937,c.X86_INS_VMOVDQU64=938,c.X86_INS_VMOVDQU8=939,c.X86_INS_VMOVDQU=940,c.X86_INS_VMOVHLPS=941,c.X86_INS_VMOVHPD=942,c.X86_INS_VMOVHPS=943,c.X86_INS_VMOVLHPS=944,c.X86_INS_VMOVLPD=945,c.X86_INS_VMOVLPS=946,c.X86_INS_VMOVMSKPD=947,c.X86_INS_VMOVMSKPS=948,c.X86_INS_VMOVNTDQA=949,c.X86_INS_VMOVNTDQ=950,c.X86_INS_VMOVNTPD=951,c.X86_INS_VMOVNTPS=952,c.X86_INS_VMOVSD=953,c.X86_INS_VMOVSHDUP=954,c.X86_INS_VMOVSLDUP=955,c.X86_INS_VMOVSS=956,c.X86_INS_VMOVUPD=957,c.X86_INS_VMOVUPS=958,c.X86_INS_VMPSADBW=959,c.X86_INS_VMPTRLD=960,c.X86_INS_VMPTRST=961,c.X86_INS_VMREAD=962,c.X86_INS_VMRESUME=963,c.X86_INS_VMRUN=964,c.X86_INS_VMSAVE=965,c.X86_INS_VMULPD=966,c.X86_INS_VMULPS=967,c.X86_INS_VMULSD=968,c.X86_INS_VMULSS=969,c.X86_INS_VMWRITE=970,c.X86_INS_VMXOFF=971,c.X86_INS_VMXON=972,c.X86_INS_VPABSB=973,c.X86_INS_VPABSD=974,c.X86_INS_VPABSQ=975,c.X86_INS_VPABSW=976,c.X86_INS_VPACKSSDW=977,c.X86_INS_VPACKSSWB=978,c.X86_INS_VPACKUSDW=979,c.X86_INS_VPACKUSWB=980,c.X86_INS_VPADDB=981,c.X86_INS_VPADDD=982,c.X86_INS_VPADDQ=983,c.X86_INS_VPADDSB=984,c.X86_INS_VPADDSW=985,c.X86_INS_VPADDUSB=986,c.X86_INS_VPADDUSW=987,c.X86_INS_VPADDW=988,c.X86_INS_VPALIGNR=989,c.X86_INS_VPANDD=990,c.X86_INS_VPANDND=991,c.X86_INS_VPANDNQ=992,c.X86_INS_VPANDN=993,c.X86_INS_VPANDQ=994,c.X86_INS_VPAND=995,c.X86_INS_VPAVGB=996,c.X86_INS_VPAVGW=997,c.X86_INS_VPBLENDD=998,c.X86_INS_VPBLENDMB=999,c.X86_INS_VPBLENDMD=1e3,c.X86_INS_VPBLENDMQ=1001,c.X86_INS_VPBLENDMW=1002,c.X86_INS_VPBLENDVB=1003,c.X86_INS_VPBLENDW=1004,c.X86_INS_VPBROADCASTB=1005,c.X86_INS_VPBROADCASTD=1006,c.X86_INS_VPBROADCASTMB2Q=1007,c.X86_INS_VPBROADCASTMW2D=1008,c.X86_INS_VPBROADCASTQ=1009,c.X86_INS_VPBROADCASTW=1010,c.X86_INS_VPCLMULQDQ=1011,c.X86_INS_VPCMOV=1012,c.X86_INS_VPCMPB=1013,c.X86_INS_VPCMPD=1014,c.X86_INS_VPCMPEQB=1015,c.X86_INS_VPCMPEQD=1016,c.X86_INS_VPCMPEQQ=1017,c.X86_INS_VPCMPEQW=1018,c.X86_INS_VPCMPESTRI=1019,c.X86_INS_VPCMPESTRM=1020,c.X86_INS_VPCMPGTB=1021,c.X86_INS_VPCMPGTD=1022,c.X86_INS_VPCMPGTQ=1023,c.X86_INS_VPCMPGTW=1024,c.X86_INS_VPCMPISTRI=1025,c.X86_INS_VPCMPISTRM=1026,c.X86_INS_VPCMPQ=1027,c.X86_INS_VPCMPUB=1028,c.X86_INS_VPCMPUD=1029,c.X86_INS_VPCMPUQ=1030,c.X86_INS_VPCMPUW=1031,c.X86_INS_VPCMPW=1032,c.X86_INS_VPCOMB=1033,c.X86_INS_VPCOMD=1034,c.X86_INS_VPCOMPRESSD=1035,c.X86_INS_VPCOMPRESSQ=1036,c.X86_INS_VPCOMQ=1037,c.X86_INS_VPCOMUB=1038,c.X86_INS_VPCOMUD=1039,c.X86_INS_VPCOMUQ=1040,c.X86_INS_VPCOMUW=1041,c.X86_INS_VPCOMW=1042,c.X86_INS_VPCONFLICTD=1043,c.X86_INS_VPCONFLICTQ=1044,c.X86_INS_VPERM2F128=1045,c.X86_INS_VPERM2I128=1046,c.X86_INS_VPERMD=1047,c.X86_INS_VPERMI2D=1048,c.X86_INS_VPERMI2PD=1049,c.X86_INS_VPERMI2PS=1050,c.X86_INS_VPERMI2Q=1051,c.X86_INS_VPERMIL2PD=1052,c.X86_INS_VPERMIL2PS=1053,c.X86_INS_VPERMILPD=1054,c.X86_INS_VPERMILPS=1055,c.X86_INS_VPERMPD=1056,c.X86_INS_VPERMPS=1057,c.X86_INS_VPERMQ=1058,c.X86_INS_VPERMT2D=1059,c.X86_INS_VPERMT2PD=1060,c.X86_INS_VPERMT2PS=1061,c.X86_INS_VPERMT2Q=1062,c.X86_INS_VPEXPANDD=1063,c.X86_INS_VPEXPANDQ=1064,c.X86_INS_VPEXTRB=1065,c.X86_INS_VPEXTRD=1066,c.X86_INS_VPEXTRQ=1067,c.X86_INS_VPEXTRW=1068,c.X86_INS_VPGATHERDD=1069,c.X86_INS_VPGATHERDQ=1070,c.X86_INS_VPGATHERQD=1071,c.X86_INS_VPGATHERQQ=1072,c.X86_INS_VPHADDBD=1073,c.X86_INS_VPHADDBQ=1074,c.X86_INS_VPHADDBW=1075,c.X86_INS_VPHADDDQ=1076,c.X86_INS_VPHADDD=1077,c.X86_INS_VPHADDSW=1078,c.X86_INS_VPHADDUBD=1079,c.X86_INS_VPHADDUBQ=1080,c.X86_INS_VPHADDUBW=1081,c.X86_INS_VPHADDUDQ=1082,c.X86_INS_VPHADDUWD=1083,c.X86_INS_VPHADDUWQ=1084,c.X86_INS_VPHADDWD=1085,c.X86_INS_VPHADDWQ=1086,c.X86_INS_VPHADDW=1087,c.X86_INS_VPHMINPOSUW=1088,c.X86_INS_VPHSUBBW=1089,c.X86_INS_VPHSUBDQ=1090,c.X86_INS_VPHSUBD=1091,c.X86_INS_VPHSUBSW=1092,c.X86_INS_VPHSUBWD=1093,c.X86_INS_VPHSUBW=1094,c.X86_INS_VPINSRB=1095,c.X86_INS_VPINSRD=1096,c.X86_INS_VPINSRQ=1097,c.X86_INS_VPINSRW=1098,c.X86_INS_VPLZCNTD=1099,c.X86_INS_VPLZCNTQ=1100,c.X86_INS_VPMACSDD=1101,c.X86_INS_VPMACSDQH=1102,c.X86_INS_VPMACSDQL=1103,c.X86_INS_VPMACSSDD=1104,c.X86_INS_VPMACSSDQH=1105,c.X86_INS_VPMACSSDQL=1106,c.X86_INS_VPMACSSWD=1107,c.X86_INS_VPMACSSWW=1108,c.X86_INS_VPMACSWD=1109,c.X86_INS_VPMACSWW=1110,c.X86_INS_VPMADCSSWD=1111,c.X86_INS_VPMADCSWD=1112,c.X86_INS_VPMADDUBSW=1113,c.X86_INS_VPMADDWD=1114,c.X86_INS_VPMASKMOVD=1115,c.X86_INS_VPMASKMOVQ=1116,c.X86_INS_VPMAXSB=1117,c.X86_INS_VPMAXSD=1118,c.X86_INS_VPMAXSQ=1119,c.X86_INS_VPMAXSW=1120,c.X86_INS_VPMAXUB=1121,c.X86_INS_VPMAXUD=1122,c.X86_INS_VPMAXUQ=1123,c.X86_INS_VPMAXUW=1124,c.X86_INS_VPMINSB=1125,c.X86_INS_VPMINSD=1126,c.X86_INS_VPMINSQ=1127,c.X86_INS_VPMINSW=1128,c.X86_INS_VPMINUB=1129,c.X86_INS_VPMINUD=1130,c.X86_INS_VPMINUQ=1131,c.X86_INS_VPMINUW=1132,c.X86_INS_VPMOVDB=1133,c.X86_INS_VPMOVDW=1134,c.X86_INS_VPMOVM2B=1135,c.X86_INS_VPMOVM2D=1136,c.X86_INS_VPMOVM2Q=1137,c.X86_INS_VPMOVM2W=1138,c.X86_INS_VPMOVMSKB=1139,c.X86_INS_VPMOVQB=1140,c.X86_INS_VPMOVQD=1141,c.X86_INS_VPMOVQW=1142,c.X86_INS_VPMOVSDB=1143,c.X86_INS_VPMOVSDW=1144,c.X86_INS_VPMOVSQB=1145,c.X86_INS_VPMOVSQD=1146,c.X86_INS_VPMOVSQW=1147,c.X86_INS_VPMOVSXBD=1148,c.X86_INS_VPMOVSXBQ=1149,c.X86_INS_VPMOVSXBW=1150,c.X86_INS_VPMOVSXDQ=1151,c.X86_INS_VPMOVSXWD=1152,c.X86_INS_VPMOVSXWQ=1153,c.X86_INS_VPMOVUSDB=1154,c.X86_INS_VPMOVUSDW=1155,c.X86_INS_VPMOVUSQB=1156,c.X86_INS_VPMOVUSQD=1157,c.X86_INS_VPMOVUSQW=1158,c.X86_INS_VPMOVZXBD=1159,c.X86_INS_VPMOVZXBQ=1160,c.X86_INS_VPMOVZXBW=1161,c.X86_INS_VPMOVZXDQ=1162,c.X86_INS_VPMOVZXWD=1163,c.X86_INS_VPMOVZXWQ=1164,c.X86_INS_VPMULDQ=1165,c.X86_INS_VPMULHRSW=1166,c.X86_INS_VPMULHUW=1167,c.X86_INS_VPMULHW=1168,c.X86_INS_VPMULLD=1169,c.X86_INS_VPMULLQ=1170,c.X86_INS_VPMULLW=1171,c.X86_INS_VPMULUDQ=1172,c.X86_INS_VPORD=1173,c.X86_INS_VPORQ=1174,c.X86_INS_VPOR=1175,c.X86_INS_VPPERM=1176,c.X86_INS_VPROTB=1177,c.X86_INS_VPROTD=1178,c.X86_INS_VPROTQ=1179,c.X86_INS_VPROTW=1180,c.X86_INS_VPSADBW=1181,c.X86_INS_VPSCATTERDD=1182,c.X86_INS_VPSCATTERDQ=1183,c.X86_INS_VPSCATTERQD=1184,c.X86_INS_VPSCATTERQQ=1185,c.X86_INS_VPSHAB=1186,c.X86_INS_VPSHAD=1187,c.X86_INS_VPSHAQ=1188,c.X86_INS_VPSHAW=1189,c.X86_INS_VPSHLB=1190,c.X86_INS_VPSHLD=1191,c.X86_INS_VPSHLQ=1192,c.X86_INS_VPSHLW=1193,c.X86_INS_VPSHUFB=1194,c.X86_INS_VPSHUFD=1195,c.X86_INS_VPSHUFHW=1196,c.X86_INS_VPSHUFLW=1197,c.X86_INS_VPSIGNB=1198,c.X86_INS_VPSIGND=1199,c.X86_INS_VPSIGNW=1200,c.X86_INS_VPSLLDQ=1201,c.X86_INS_VPSLLD=1202,c.X86_INS_VPSLLQ=1203,c.X86_INS_VPSLLVD=1204,c.X86_INS_VPSLLVQ=1205,c.X86_INS_VPSLLW=1206,c.X86_INS_VPSRAD=1207,c.X86_INS_VPSRAQ=1208,c.X86_INS_VPSRAVD=1209,c.X86_INS_VPSRAVQ=1210,c.X86_INS_VPSRAW=1211,c.X86_INS_VPSRLDQ=1212,c.X86_INS_VPSRLD=1213,c.X86_INS_VPSRLQ=1214,c.X86_INS_VPSRLVD=1215,c.X86_INS_VPSRLVQ=1216,c.X86_INS_VPSRLW=1217,c.X86_INS_VPSUBB=1218,c.X86_INS_VPSUBD=1219,c.X86_INS_VPSUBQ=1220,c.X86_INS_VPSUBSB=1221,c.X86_INS_VPSUBSW=1222,c.X86_INS_VPSUBUSB=1223,c.X86_INS_VPSUBUSW=1224,c.X86_INS_VPSUBW=1225,c.X86_INS_VPTESTMD=1226,c.X86_INS_VPTESTMQ=1227,c.X86_INS_VPTESTNMD=1228,c.X86_INS_VPTESTNMQ=1229,c.X86_INS_VPTEST=1230,c.X86_INS_VPUNPCKHBW=1231,c.X86_INS_VPUNPCKHDQ=1232,c.X86_INS_VPUNPCKHQDQ=1233,c.X86_INS_VPUNPCKHWD=1234,c.X86_INS_VPUNPCKLBW=1235,c.X86_INS_VPUNPCKLDQ=1236,c.X86_INS_VPUNPCKLQDQ=1237,c.X86_INS_VPUNPCKLWD=1238,c.X86_INS_VPXORD=1239,c.X86_INS_VPXORQ=1240,c.X86_INS_VPXOR=1241,c.X86_INS_VRCP14PD=1242,c.X86_INS_VRCP14PS=1243,c.X86_INS_VRCP14SD=1244,c.X86_INS_VRCP14SS=1245,c.X86_INS_VRCP28PD=1246,c.X86_INS_VRCP28PS=1247,c.X86_INS_VRCP28SD=1248,c.X86_INS_VRCP28SS=1249,c.X86_INS_VRCPPS=1250,c.X86_INS_VRCPSS=1251,c.X86_INS_VRNDSCALEPD=1252,c.X86_INS_VRNDSCALEPS=1253,c.X86_INS_VRNDSCALESD=1254,c.X86_INS_VRNDSCALESS=1255,c.X86_INS_VROUNDPD=1256,c.X86_INS_VROUNDPS=1257,c.X86_INS_VROUNDSD=1258,c.X86_INS_VROUNDSS=1259,c.X86_INS_VRSQRT14PD=1260,c.X86_INS_VRSQRT14PS=1261,c.X86_INS_VRSQRT14SD=1262,c.X86_INS_VRSQRT14SS=1263,c.X86_INS_VRSQRT28PD=1264,c.X86_INS_VRSQRT28PS=1265,c.X86_INS_VRSQRT28SD=1266,c.X86_INS_VRSQRT28SS=1267,c.X86_INS_VRSQRTPS=1268,c.X86_INS_VRSQRTSS=1269,c.X86_INS_VSCATTERDPD=1270,c.X86_INS_VSCATTERDPS=1271,c.X86_INS_VSCATTERPF0DPD=1272,c.X86_INS_VSCATTERPF0DPS=1273,c.X86_INS_VSCATTERPF0QPD=1274,c.X86_INS_VSCATTERPF0QPS=1275,c.X86_INS_VSCATTERPF1DPD=1276,c.X86_INS_VSCATTERPF1DPS=1277,c.X86_INS_VSCATTERPF1QPD=1278,c.X86_INS_VSCATTERPF1QPS=1279,c.X86_INS_VSCATTERQPD=1280,c.X86_INS_VSCATTERQPS=1281,c.X86_INS_VSHUFPD=1282,c.X86_INS_VSHUFPS=1283,c.X86_INS_VSQRTPD=1284,c.X86_INS_VSQRTPS=1285,c.X86_INS_VSQRTSD=1286,c.X86_INS_VSQRTSS=1287,c.X86_INS_VSTMXCSR=1288,c.X86_INS_VSUBPD=1289,c.X86_INS_VSUBPS=1290,c.X86_INS_VSUBSD=1291,c.X86_INS_VSUBSS=1292,c.X86_INS_VTESTPD=1293,c.X86_INS_VTESTPS=1294,c.X86_INS_VUNPCKHPD=1295,c.X86_INS_VUNPCKHPS=1296,c.X86_INS_VUNPCKLPD=1297,c.X86_INS_VUNPCKLPS=1298,c.X86_INS_VZEROALL=1299,c.X86_INS_VZEROUPPER=1300,c.X86_INS_WAIT=1301,c.X86_INS_WBINVD=1302,c.X86_INS_WRFSBASE=1303,c.X86_INS_WRGSBASE=1304,c.X86_INS_WRMSR=1305,c.X86_INS_XABORT=1306,c.X86_INS_XACQUIRE=1307,c.X86_INS_XBEGIN=1308,c.X86_INS_XCHG=1309,c.X86_INS_XCRYPTCBC=1310,c.X86_INS_XCRYPTCFB=1311,c.X86_INS_XCRYPTCTR=1312,c.X86_INS_XCRYPTECB=1313,c.X86_INS_XCRYPTOFB=1314,c.X86_INS_XEND=1315,c.X86_INS_XGETBV=1316,c.X86_INS_XLATB=1317,c.X86_INS_XRELEASE=1318,c.X86_INS_XRSTOR=1319,c.X86_INS_XRSTOR64=1320,c.X86_INS_XRSTORS=1321,c.X86_INS_XRSTORS64=1322,c.X86_INS_XSAVE=1323,c.X86_INS_XSAVE64=1324,c.X86_INS_XSAVEC=1325,c.X86_INS_XSAVEC64=1326,c.X86_INS_XSAVEOPT=1327,c.X86_INS_XSAVEOPT64=1328,c.X86_INS_XSAVES=1329,c.X86_INS_XSAVES64=1330,c.X86_INS_XSETBV=1331,c.X86_INS_XSHA1=1332,c.X86_INS_XSHA256=1333,c.X86_INS_XSTORE=1334,c.X86_INS_XTEST=1335,c.X86_INS_FDISI8087_NOP=1336,c.X86_INS_FENI8087_NOP=1337,c.X86_INS_ENDING=1338,c.API_MAJOR=1,c.API_MINOR=0,c.VERSION_MAJOR=1,c.VERSION_MINOR=0,c.VERSION_EXTRA=3,c.SECOND_SCALE=1e6,c.MILISECOND_SCALE=1e3,c.ARCH_ARM=1,c.ARCH_ARM64=2,c.ARCH_MIPS=3,c.ARCH_X86=4,c.ARCH_PPC=5,c.ARCH_SPARC=6,c.ARCH_M68K=7,c.ARCH_MAX=8,c.MODE_LITTLE_ENDIAN=0,c.MODE_BIG_ENDIAN=1073741824,c.MODE_ARM=0,c.MODE_THUMB=16,c.MODE_MCLASS=32,c.MODE_V8=64,c.MODE_ARM926=128,c.MODE_ARM946=256,c.MODE_ARM1176=512,c.MODE_ARMBE8=1024,c.MODE_MICRO=16,c.MODE_MIPS3=32,c.MODE_MIPS32R6=64,c.MODE_MIPS32=4,c.MODE_MIPS64=8,c.MODE_16=2,c.MODE_32=4,c.MODE_64=8,c.MODE_PPC32=4,c.MODE_PPC64=8,c.MODE_QPX=16,c.MODE_SPARC32=4,c.MODE_SPARC64=8,c.MODE_V9=16,c.ERR_OK=0,c.ERR_NOMEM=1,c.ERR_ARCH=2,c.ERR_HANDLE=3,c.ERR_MODE=4,c.ERR_VERSION=5,c.ERR_READ_UNMAPPED=6,c.ERR_WRITE_UNMAPPED=7,c.ERR_FETCH_UNMAPPED=8,c.ERR_HOOK=9,c.ERR_INSN_INVALID=10,c.ERR_MAP=11,c.ERR_WRITE_PROT=12,c.ERR_READ_PROT=13,c.ERR_FETCH_PROT=14,c.ERR_ARG=15,c.ERR_READ_UNALIGNED=16,c.ERR_WRITE_UNALIGNED=17,c.ERR_FETCH_UNALIGNED=18,c.ERR_HOOK_EXIST=19,c.ERR_RESOURCE=20,c.ERR_EXCEPTION=21,c.MEM_READ=16,c.MEM_WRITE=17,c.MEM_FETCH=18,c.MEM_READ_UNMAPPED=19,c.MEM_WRITE_UNMAPPED=20,c.MEM_FETCH_UNMAPPED=21,c.MEM_WRITE_PROT=22,c.MEM_READ_PROT=23,c.MEM_FETCH_PROT=24,c.MEM_READ_AFTER=25,c.HOOK_INTR=1,c.HOOK_INSN=2,c.HOOK_CODE=4,c.HOOK_BLOCK=8,c.HOOK_MEM_READ_UNMAPPED=16,c.HOOK_MEM_WRITE_UNMAPPED=32,c.HOOK_MEM_FETCH_UNMAPPED=64,c.HOOK_MEM_READ_PROT=128,c.HOOK_MEM_WRITE_PROT=256,c.HOOK_MEM_FETCH_PROT=512,c.HOOK_MEM_READ=1024,c.HOOK_MEM_WRITE=2048,c.HOOK_MEM_FETCH=4096,c.HOOK_MEM_READ_AFTER=8192,c.HOOK_INSN_INVALID=16384,c.HOOK_MEM_UNMAPPED=112,c.HOOK_MEM_PROT=896,c.HOOK_MEM_READ_INVALID=144,c.HOOK_MEM_WRITE_INVALID=288,c.HOOK_MEM_FETCH_INVALID=576,c.HOOK_MEM_INVALID=1008,c.HOOK_MEM_VALID=7168,c.QUERY_MODE=1,c.QUERY_PAGE_SIZE=2,c.QUERY_ARCH=3,c.QUERY_TIMEOUT=4,c.PROT_NONE=0,c.PROT_READ=1,c.PROT_WRITE=2,c.PROT_EXEC=4,c.PROT_ALL=7,c.ARM64_REG_INVALID=0,c.ARM64_REG_X29=1,c.ARM64_REG_X30=2,c.ARM64_REG_NZCV=3,c.ARM64_REG_SP=4,c.ARM64_REG_WSP=5,c.ARM64_REG_WZR=6,c.ARM64_REG_XZR=7,c.ARM64_REG_B0=8,c.ARM64_REG_B1=9,c.ARM64_REG_B2=10,c.ARM64_REG_B3=11,c.ARM64_REG_B4=12,c.ARM64_REG_B5=13,c.ARM64_REG_B6=14,c.ARM64_REG_B7=15,c.ARM64_REG_B8=16,c.ARM64_REG_B9=17,c.ARM64_REG_B10=18,c.ARM64_REG_B11=19,c.ARM64_REG_B12=20,c.ARM64_REG_B13=21,c.ARM64_REG_B14=22,c.ARM64_REG_B15=23,c.ARM64_REG_B16=24,c.ARM64_REG_B17=25,c.ARM64_REG_B18=26,c.ARM64_REG_B19=27,c.ARM64_REG_B20=28,c.ARM64_REG_B21=29,c.ARM64_REG_B22=30,c.ARM64_REG_B23=31,c.ARM64_REG_B24=32,c.ARM64_REG_B25=33,c.ARM64_REG_B26=34,c.ARM64_REG_B27=35,c.ARM64_REG_B28=36,c.ARM64_REG_B29=37,c.ARM64_REG_B30=38,c.ARM64_REG_B31=39,c.ARM64_REG_D0=40,c.ARM64_REG_D1=41,c.ARM64_REG_D2=42,c.ARM64_REG_D3=43,c.ARM64_REG_D4=44,c.ARM64_REG_D5=45,c.ARM64_REG_D6=46,c.ARM64_REG_D7=47,c.ARM64_REG_D8=48,c.ARM64_REG_D9=49,c.ARM64_REG_D10=50,c.ARM64_REG_D11=51,c.ARM64_REG_D12=52,c.ARM64_REG_D13=53,c.ARM64_REG_D14=54,c.ARM64_REG_D15=55,c.ARM64_REG_D16=56,c.ARM64_REG_D17=57,c.ARM64_REG_D18=58,c.ARM64_REG_D19=59,c.ARM64_REG_D20=60,c.ARM64_REG_D21=61,c.ARM64_REG_D22=62,c.ARM64_REG_D23=63,c.ARM64_REG_D24=64,c.ARM64_REG_D25=65,c.ARM64_REG_D26=66,c.ARM64_REG_D27=67,c.ARM64_REG_D28=68,c.ARM64_REG_D29=69,c.ARM64_REG_D30=70,c.ARM64_REG_D31=71,c.ARM64_REG_H0=72,c.ARM64_REG_H1=73,c.ARM64_REG_H2=74,c.ARM64_REG_H3=75,c.ARM64_REG_H4=76,c.ARM64_REG_H5=77,c.ARM64_REG_H6=78,c.ARM64_REG_H7=79,c.ARM64_REG_H8=80,c.ARM64_REG_H9=81,c.ARM64_REG_H10=82,c.ARM64_REG_H11=83,c.ARM64_REG_H12=84,c.ARM64_REG_H13=85,c.ARM64_REG_H14=86,c.ARM64_REG_H15=87,c.ARM64_REG_H16=88,c.ARM64_REG_H17=89,c.ARM64_REG_H18=90,c.ARM64_REG_H19=91,c.ARM64_REG_H20=92,c.ARM64_REG_H21=93,c.ARM64_REG_H22=94,c.ARM64_REG_H23=95,c.ARM64_REG_H24=96,c.ARM64_REG_H25=97,c.ARM64_REG_H26=98,c.ARM64_REG_H27=99,c.ARM64_REG_H28=100,c.ARM64_REG_H29=101,c.ARM64_REG_H30=102,c.ARM64_REG_H31=103,c.ARM64_REG_Q0=104,c.ARM64_REG_Q1=105,c.ARM64_REG_Q2=106,c.ARM64_REG_Q3=107,c.ARM64_REG_Q4=108,c.ARM64_REG_Q5=109,c.ARM64_REG_Q6=110,c.ARM64_REG_Q7=111,c.ARM64_REG_Q8=112,c.ARM64_REG_Q9=113,c.ARM64_REG_Q10=114,c.ARM64_REG_Q11=115,c.ARM64_REG_Q12=116,c.ARM64_REG_Q13=117,c.ARM64_REG_Q14=118,c.ARM64_REG_Q15=119,c.ARM64_REG_Q16=120,c.ARM64_REG_Q17=121,c.ARM64_REG_Q18=122,c.ARM64_REG_Q19=123,c.ARM64_REG_Q20=124,c.ARM64_REG_Q21=125,c.ARM64_REG_Q22=126,c.ARM64_REG_Q23=127,c.ARM64_REG_Q24=128,c.ARM64_REG_Q25=129,c.ARM64_REG_Q26=130,c.ARM64_REG_Q27=131,c.ARM64_REG_Q28=132,c.ARM64_REG_Q29=133,c.ARM64_REG_Q30=134,c.ARM64_REG_Q31=135,c.ARM64_REG_S0=136,c.ARM64_REG_S1=137,c.ARM64_REG_S2=138,c.ARM64_REG_S3=139,c.ARM64_REG_S4=140,c.ARM64_REG_S5=141,c.ARM64_REG_S6=142,c.ARM64_REG_S7=143,c.ARM64_REG_S8=144,c.ARM64_REG_S9=145,c.ARM64_REG_S10=146,c.ARM64_REG_S11=147,c.ARM64_REG_S12=148,c.ARM64_REG_S13=149,c.ARM64_REG_S14=150,c.ARM64_REG_S15=151,c.ARM64_REG_S16=152,c.ARM64_REG_S17=153,c.ARM64_REG_S18=154,c.ARM64_REG_S19=155,c.ARM64_REG_S20=156,c.ARM64_REG_S21=157,c.ARM64_REG_S22=158,c.ARM64_REG_S23=159,c.ARM64_REG_S24=160,c.ARM64_REG_S25=161,c.ARM64_REG_S26=162,c.ARM64_REG_S27=163,c.ARM64_REG_S28=164,c.ARM64_REG_S29=165,c.ARM64_REG_S30=166,c.ARM64_REG_S31=167,c.ARM64_REG_W0=168,c.ARM64_REG_W1=169,c.ARM64_REG_W2=170,c.ARM64_REG_W3=171,c.ARM64_REG_W4=172,c.ARM64_REG_W5=173,c.ARM64_REG_W6=174,c.ARM64_REG_W7=175,c.ARM64_REG_W8=176,c.ARM64_REG_W9=177,c.ARM64_REG_W10=178,c.ARM64_REG_W11=179,c.ARM64_REG_W12=180,c.ARM64_REG_W13=181,c.ARM64_REG_W14=182,c.ARM64_REG_W15=183,c.ARM64_REG_W16=184,c.ARM64_REG_W17=185,c.ARM64_REG_W18=186,c.ARM64_REG_W19=187,c.ARM64_REG_W20=188,c.ARM64_REG_W21=189,c.ARM64_REG_W22=190,c.ARM64_REG_W23=191,c.ARM64_REG_W24=192,c.ARM64_REG_W25=193,c.ARM64_REG_W26=194,c.ARM64_REG_W27=195,c.ARM64_REG_W28=196,c.ARM64_REG_W29=197,c.ARM64_REG_W30=198,c.ARM64_REG_X0=199,c.ARM64_REG_X1=200,c.ARM64_REG_X2=201,c.ARM64_REG_X3=202,c.ARM64_REG_X4=203,c.ARM64_REG_X5=204,c.ARM64_REG_X6=205,c.ARM64_REG_X7=206,c.ARM64_REG_X8=207,c.ARM64_REG_X9=208,c.ARM64_REG_X10=209,c.ARM64_REG_X11=210,c.ARM64_REG_X12=211,c.ARM64_REG_X13=212,c.ARM64_REG_X14=213,c.ARM64_REG_X15=214,c.ARM64_REG_X16=215,c.ARM64_REG_X17=216,c.ARM64_REG_X18=217,c.ARM64_REG_X19=218,c.ARM64_REG_X20=219,c.ARM64_REG_X21=220,c.ARM64_REG_X22=221,c.ARM64_REG_X23=222,c.ARM64_REG_X24=223,c.ARM64_REG_X25=224,c.ARM64_REG_X26=225,c.ARM64_REG_X27=226,c.ARM64_REG_X28=227,c.ARM64_REG_V0=228,c.ARM64_REG_V1=229,c.ARM64_REG_V2=230,c.ARM64_REG_V3=231,c.ARM64_REG_V4=232,c.ARM64_REG_V5=233,c.ARM64_REG_V6=234,c.ARM64_REG_V7=235,c.ARM64_REG_V8=236,c.ARM64_REG_V9=237,c.ARM64_REG_V10=238,c.ARM64_REG_V11=239,c.ARM64_REG_V12=240,c.ARM64_REG_V13=241,c.ARM64_REG_V14=242,c.ARM64_REG_V15=243,c.ARM64_REG_V16=244,c.ARM64_REG_V17=245,c.ARM64_REG_V18=246,c.ARM64_REG_V19=247,c.ARM64_REG_V20=248,c.ARM64_REG_V21=249,c.ARM64_REG_V22=250,c.ARM64_REG_V23=251,c.ARM64_REG_V24=252,c.ARM64_REG_V25=253,c.ARM64_REG_V26=254,c.ARM64_REG_V27=255,c.ARM64_REG_V28=256,c.ARM64_REG_V29=257,c.ARM64_REG_V30=258,c.ARM64_REG_V31=259,c.ARM64_REG_PC=260,c.ARM64_REG_CPACR_EL1=261,c.ARM64_REG_TPIDR_EL0=262,c.ARM64_REG_TPIDRRO_EL0=263,c.ARM64_REG_TPIDR_EL1=264,c.ARM64_REG_PSTATE=265,c.ARM64_REG_ELR_EL0=266,c.ARM64_REG_ELR_EL1=267,c.ARM64_REG_ELR_EL2=268,c.ARM64_REG_ELR_EL3=269,c.ARM64_REG_SP_EL0=270,c.ARM64_REG_SP_EL1=271,c.ARM64_REG_SP_EL2=272,c.ARM64_REG_SP_EL3=273,c.ARM64_REG_TTBR0_EL1=274,c.ARM64_REG_TTBR1_EL1=275,c.ARM64_REG_ESR_EL0=276,c.ARM64_REG_ESR_EL1=277,c.ARM64_REG_ESR_EL2=278,c.ARM64_REG_ESR_EL3=279,c.ARM64_REG_FAR_EL0=280,c.ARM64_REG_FAR_EL1=281,c.ARM64_REG_FAR_EL2=282,c.ARM64_REG_FAR_EL3=283,c.ARM64_REG_PAR_EL1=284,c.ARM64_REG_MAIR_EL1=285,c.ARM64_REG_VBAR_EL0=286,c.ARM64_REG_VBAR_EL1=287,c.ARM64_REG_VBAR_EL2=288,c.ARM64_REG_VBAR_EL3=289,c.ARM64_REG_ENDING=290,c.ARM64_REG_IP0=215,c.ARM64_REG_IP1=216,c.ARM64_REG_FP=1,c.ARM64_REG_LR=2;var Ln=4194304,ut=32768,We=32781,Nt=32788,jt=2097152,$t=3670016,Sn=4128768,Pn="https://linkungao.github.io/copper3d_examples/kiwrious-config/prog.bin";function Un(rn){Pn=rn}var Rr=function(){function rn(){H(this,rn),te(this,"machine",void 0)}return J(rn,[{key:"loadBinary",value:function(){var pn=k(ne().mark(function Xn(){var bn,Rt;return ne().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,fetch(Pn);case 2:return bn=X.sent,X.next=5,bn.arrayBuffer();case 5:return Rt=X.sent,X.abrupt("return",new Uint8Array(Rt));case 7:case"end":return X.stop()}},Xn)}));function Ve(){return pn.apply(this,arguments)}return Ve}()},{key:"setupEmulator",value:function(){var pn=k(ne().mark(function Xn(){var bn,Rt,ce;return ne().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,Ze();case 2:return bn=new c.Unicorn(c.ARCH_ARM,c.MODE_THUMB),K.next=5,this.loadBinary();case 5:return Rt=K.sent,bn.mem_map(0,Ln,c.PROT_ALL),bn.mem_write(ut,Rt),ce=bn.reg_read_i32(c.ARM_REG_C1_C0_2),ce=ce|15728640,bn.reg_write_i32(c.ARM_REG_C1_C0_2,ce),bn.reg_write_i32(c.ARM_REG_D16,4294906129),bn.reg_write_i32(c.ARM_REG_FPEXC,1073741824),K.abrupt("return",bn);case 14:case"end":return K.stop()}},Xn,this)}));function Ve(){return pn.apply(this,arguments)}return Ve}()},{key:"analyzeResult",value:function(Ve){var Xn=new DataView(Ve.buffer,0),bn=Xn.getUint32(0,!0),Rt=Xn.getUint32(4,!0),ce=Xn.getUint32(8,!0),X=Xn.getUint32(12,!0),K="";return bn===4?K="Not Touched":bn===48?K="Ready":bn===0?K="Calculating":K="Unknown",{status:K,heartrate:Rt,trustlevel:ce,snr:X}}},{key:"detectHeartRate",value:function(){var pn=k(ne().mark(function Xn(bn){var Rt;return ne().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(this.machine){X.next=4;break}return X.next=3,this.setupEmulator();case 3:this.machine=X.sent;case 4:return this.machine.mem_write($t,bn),this.machine.reg_write_i32(c.ARM_REG_SP,jt),this.machine.reg_write_i32(c.ARM_REG_LR,We),this.machine.emu_start(We,Nt,0,33554431),Rt=this.machine.mem_read(Sn,16),X.abrupt("return",this.analyzeResult(Rt));case 10:case"end":return X.stop()}},Xn,this)}));function Ve(Xn){return pn.apply(this,arguments)}return Ve}()}]),rn}()})(),R})())},"./node_modules/jsfft/dist/complex_array.js":(g,v)=>{Object.defineProperty(v,"__esModule",{value:!0});var A=function(){function I(P,B){for(var V=0;V<B.length;V++){var O=B[V];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,B,V){return B&&I(P.prototype,B),V&&I(P,V),P}}();function E(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}var R=function(){function I(P){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Float32Array;E(this,I),P instanceof I?(this.ArrayType=P.ArrayType,this.real=new this.ArrayType(P.real),this.imag=new this.ArrayType(P.imag)):(this.ArrayType=B,this.real=new this.ArrayType(P),this.imag=new this.ArrayType(this.real.length)),this.length=this.real.length}return A(I,[{key:"toString",value:function(){var B=[];return this.forEach(function(V,O){B.push("("+V.real.toFixed(2)+", "+V.imag.toFixed(2)+")")}),"["+B.join(", ")+"]"}},{key:"forEach",value:function(B){for(var V=this.length,O=Object.seal(Object.defineProperties({},{real:{writable:!0},imag:{writable:!0}})),k=0;k<V;k++)O.real=this.real[k],O.imag=this.imag[k],B(O,k,V)}},{key:"map",value:function(B){var V=this;return this.forEach(function(O,k,H){B(O,k,H),V.real[k]=O.real,V.imag[k]=O.imag}),this}},{key:"conjugate",value:function(){return new I(this).map(function(B){B.imag*=-1})}},{key:"magnitude",value:function(){var B=new this.ArrayType(this.length);return this.forEach(function(V,O){B[O]=Math.sqrt(V.real*V.real+V.imag*V.imag)}),B}}]),I}();v.default=R},"./node_modules/jsfft/dist/fft.js":(g,v,A)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ComplexArray=void 0;var E=function(){function Pe(Oe,st){for(var ht=0;ht<st.length;ht++){var dt=st[ht];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(Oe,dt.key,dt)}}return function(Oe,st,ht){return st&&Pe(Oe.prototype,st),ht&&Pe(Oe,ht),Oe}}();v.FFT=W,v.InvFFT=J,v.frequencyMap=te;var R=A("./node_modules/jsfft/dist/complex_array.js"),I=P(R);function P(Pe){return Pe&&Pe.__esModule?Pe:{default:Pe}}function B(Pe,Oe){if(!(Pe instanceof Oe))throw new TypeError("Cannot call a class as a function")}function V(Pe,Oe){if(!Pe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Oe&&(typeof Oe=="object"||typeof Oe=="function")?Oe:Pe}function O(Pe,Oe){if(typeof Oe!="function"&&Oe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Oe);Pe.prototype=Object.create(Oe&&Oe.prototype,{constructor:{value:Pe,enumerable:!1,writable:!0,configurable:!0}}),Oe&&(Object.setPrototypeOf?Object.setPrototypeOf(Pe,Oe):Pe.__proto__=Oe)}var k=Math.PI,H=Math.SQRT1_2;function W(Pe){return ne(Pe).FFT()}function J(Pe){return ne(Pe).InvFFT()}function te(Pe,Oe){return ne(Pe).frequencyMap(Oe)}var j=v.ComplexArray=function(Pe){O(Oe,Pe);function Oe(){return B(this,Oe),V(this,(Oe.__proto__||Object.getPrototypeOf(Oe)).apply(this,arguments))}return E(Oe,[{key:"FFT",value:function(){return Ae(this,!1)}},{key:"InvFFT",value:function(){return Ae(this,!0)}},{key:"frequencyMap",value:function(ht){return this.FFT().map(ht).InvFFT()}}]),Oe}(I.default);function ne(Pe){return Pe instanceof j&&Pe||new j(Pe)}function Ae(Pe,Oe){var st=Pe.length;return st&st-1?q(Pe,Oe):ge(Pe,Oe)}function q(Pe,Oe){var st=Pe.length;if(st===1)return Pe;for(var ht=new j(st,Pe.ArrayType),dt=tt(st),Le=st/dt,Ze=1/Math.sqrt(dt),lt=new j(Le,Pe.ArrayType),Ut=0;Ut<dt;Ut++){for(var Vt=0;Vt<Le;Vt++)lt.real[Vt]=Pe.real[Vt*dt+Ut],lt.imag[Vt]=Pe.imag[Vt*dt+Ut];Le>1&&(lt=Ae(lt,Oe));for(var Wt=Math.cos(2*k*Ut/st),c=(Oe?-1:1)*Math.sin(2*k*Ut/st),Ln=1,ut=0,We=0;We<st;We++){var Nt=lt.real[We%Le],jt=lt.imag[We%Le];ht.real[We]+=Ln*Nt-ut*jt,ht.imag[We]+=Ln*jt+ut*Nt;var $t=[Ln*Wt-ut*c,ut=Ln*c+ut*Wt];Ln=$t[0],ut=$t[1]}}for(var Sn=0;Sn<st;Sn++)Pe.real[Sn]=Ze*ht.real[Sn],Pe.imag[Sn]=Ze*ht.imag[Sn];return Pe}function ge(Pe,Oe){for(var st=Pe.length,ht=Fe(Pe),dt=ht.real,Le=ht.imag,Ze=1;Ze<st;){for(var lt=Math.cos(k/Ze),Ut=(Oe?-1:1)*Math.sin(k/Ze),Vt=0;Vt<st/(2*Ze);Vt++)for(var Wt=1,c=0,Ln=0;Ln<Ze;Ln++){var ut=2*Vt*Ze+Ln,We=ut+Ze,Nt=dt[ut],jt=Le[ut],$t=Wt*dt[We]-c*Le[We],Sn=c*dt[We]+Wt*Le[We];dt[ut]=H*(Nt+$t),Le[ut]=H*(jt+Sn),dt[We]=H*(Nt-$t),Le[We]=H*(jt-Sn);var Pn=[Wt*lt-c*Ut,Wt*Ut+c*lt];Wt=Pn[0],c=Pn[1]}Ze<<=1}return ht}function we(Pe,Oe){for(var st=0;Oe>1;)st<<=1,st+=Pe&1,Pe>>=1,Oe>>=1;return st}function Fe(Pe){for(var Oe=Pe.length,st=new Set,ht=0;ht<Oe;ht++){var dt=we(ht,Oe);if(!st.has(ht)){var Le=[Pe.real[dt],Pe.real[ht]];Pe.real[ht]=Le[0],Pe.real[dt]=Le[1];var Ze=[Pe.imag[dt],Pe.imag[ht]];Pe.imag[ht]=Ze[0],Pe.imag[dt]=Ze[1],st.add(dt)}}return Pe}function tt(Pe){for(var Oe=Math.sqrt(Pe),st=3;st<=Oe;){if(Pe%st===0)return st;st+=2}return Pe}},"./ts/kiwrious/service/serial/HeartRateProcessor.ts":(g,v,A)=>{A.r(v),A.d(v,{HEART_RATE_RESULT_STATUS:()=>W,HeartRateProcessor:()=>j});var E=function(ne,Ae,q){if(q||arguments.length===2)for(var ge=0,we=Ae.length,Fe;ge<we;ge++)(Fe||!(ge in Ae))&&(Fe||(Fe=Array.prototype.slice.call(Ae,0,ge)),Fe[ge]=Ae[ge]);return ne.concat(Fe||Array.prototype.slice.call(Ae))},R=A("./node_modules/jsfft/dist/fft.js"),I=3e5,P=9e5,B=200,V=2048,O=100,k=[[[1,0,-1],[1,-1.9794,.9847]],[[1,0,-1],[1,-1.9948,.9953]],[[1,0,-1],[1,-1.9537,.9583]],[[1,0,-1],[1,-1.9849,.9855]],[[1,0,-1],[1,-1.973,.9737]],[[1,0,-1],[1,-1.9392,.9426]],[[1,0,-1],[1,-1.9571,.9583]],[[1,0,-1],[1,-1.941,.9432]]],H=[.0256,.0256,.0254,.0254,.0252,.0252,.0251,.0251,1],W={TOO_LOW:"TOO_LOW",TOO_HIGH:"TOO_HIGH",PROCESSING:"PROCESSING",READY:"READY"},J=function(){function ne(Ae){this._size=Ae,this._array=[],this._sum=0}return ne.prototype._log=function(){for(var Ae=[],q=0;q<arguments.length;q++)Ae[q]=arguments[q];console.log.apply(console,E(["|FixedArray|"],Ae,!1))},Object.defineProperty(ne.prototype,"isAverageReady",{get:function(){return this._array.length>=this._size},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"average",{get:function(){return ne.calcAverage(this._sum,this._array.length)},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"array",{get:function(){return this._array},enumerable:!1,configurable:!0}),ne.prototype._cleanup=function(){for(;this._array.length>this._size;){var Ae=this._array.shift();Ae&&(this._sum-=Ae)}},ne.prototype._add=function(Ae){this._array.push(Ae),this._sum+=Ae},ne.prototype.add=function(Ae){this._add(Ae),this._cleanup()},ne.prototype.addItems=function(Ae){for(var q=0,ge=Ae;q<ge.length;q++){var we=ge[q];this._add(we)}this._cleanup()},ne.calcSum=function(Ae){return Ae.reduce(function(q,ge){return q+ge},0)},ne.calcAverage=function(Ae,q){return q?Ae/q:0},ne.createSteppedArray=function(Ae,q,ge){for(var we=[],Fe=(q-Ae)/(ge-1),tt=0;tt<ge;tt++)we.push(Ae+Fe*tt);return we},ne}(),te=function(){function ne(Ae,q,ge,we){this.b=Ae,this.a=q,this.g1=ge,this.g2=we,this.w=[1,1,1]}return ne.prototype._log=function(){for(var Ae=[],q=0;q<arguments.length;q++)Ae[q]=arguments[q];console.log.apply(console,E(["|Biquad|"],Ae,!1))},ne.prototype.updateFilter=function(Ae){var q=Ae*this.g1;this.w[2]=this.w[1],this.w[1]=this.w[0],this.w[0]=q-this.a[1]*this.w[1]-this.a[2]*this.w[2];var ge=this.b[0]*this.w[0]+this.b[1]*this.w[1]+this.b[2]*this.w[2],we=ge*this.g2;return we},ne}(),j=function(){function ne(){this._log("ctor"),this._initFilters();var Ae=Math.floor(B/2);this._resultArray=new J(O),this._inputArray=new J(V);var q=V,ge=Math.floor(q/2);this._xf=J.createSteppedArray(0,Ae,ge)}return ne.prototype._log=function(){for(var Ae=[],q=0;q<arguments.length;q++)Ae[q]=arguments[q];console.log.apply(console,E(["|HeartRateProcessor|"],Ae,!1))},ne.prototype._initFilters=function(){this._filters=k.map(function(Ae,q){return new te(Ae[0],Ae[1],H[q],1)})},ne.prototype.getStatusForInput=function(Ae){return Ae<I?W.TOO_LOW:Ae>P?W.TOO_HIGH:W.PROCESSING},ne.prototype.processSingleInput=function(Ae){var q=this.getStatusForInput(Ae);if(q!==W.PROCESSING){var ge={status:q};return ge}this._inputArray.add(Ae);var we=this.process();if(!we){var Fe={status:W.PROCESSING};return Fe}var tt={status:W.READY,value:we};return tt},ne.prototype.processMultiInput=function(Ae){for(var q=0,ge=Ae;q<ge.length;q++){var we=ge[q],Fe=this.getStatusForInput(we);if(Fe!==W.PROCESSING){var tt={status:Fe};return tt}}this._inputArray.addItems(Ae);var Pe=this.process();if(!Pe){var Oe={status:W.PROCESSING};return Oe}var st={status:W.READY,value:Pe};return st},ne.prototype.process=function(){if(!this._inputArray.isAverageReady)return null;var Ae=this._process(this._inputArray);return!Ae||(this._resultArray.add(Ae),!this._resultArray.isAverageReady)?null:this._resultArray.average},ne.prototype._process=function(Ae){var q=this;if(!Ae.isAverageReady)throw new Error("average is not ready. arr len: ".concat(Ae.array.length));for(var ge=Ae.array.map(function(Le){var Ze=Le-Ae.average;return q._updateAllFilters(Ze)}),we=new R.ComplexArray(ge.length).map(function(Le,Ze,lt){Le.real=ge[Ze]}),Fe=we.FFT(),tt=Fe.magnitude(),Pe=0,Oe=0,st=0;st<tt.length/2;st++){var ht=tt[st];ht>Pe&&(Pe=ht,Oe=st)}var dt=this._xf[Oe]*60;return dt},ne.prototype._updateAllFilters=function(Ae){for(var q,ge=Ae,we=0,Fe=this._filters;we<Fe.length;we++){var tt=Fe[we];q=tt.updateFilter(ge),ge=q}return q},ne}()},"./ts/kiwrious/service/serial/SerialDecoder.ts":(g,v,A)=>{A.r(v),A.d(v,{SerialDecoder:()=>R});var E=function(I,P,B){if(B||arguments.length===2)for(var V=0,O=P.length,k;V<O;V++)(k||!(V in P))&&(k||(k=Array.prototype.slice.call(P,0,V)),k[V]=P[V]);return I.concat(k||Array.prototype.slice.call(P))},R=function(){function I(){}return I.prototype._log=function(){for(var P=[],B=0;B<arguments.length;B++)P[B]=arguments[B];console.log.apply(console,E(["|SerialDecoder|"],P,!1))},I.prototype._err=function(){for(var P=[],B=0;B<arguments.length;B++)P[B]=arguments[B];console.error.apply(console,E(["|SerialDecoder|"],P,!1))},I}()},"./ts/kiwrious/service/serial/SerialHeartRateDecoder.ts":(g,v,A)=>{A.r(v),A.d(v,{SerialHeartRateDecoder:()=>W});var E=A("./ts/kiwrious/service/serial/HeartRateProcessor.ts"),R=A("./ts/kiwrious/service/serial/SerialDecoder.ts"),I=A("./ts/kiwrious/service/serial/SerialRawValue.ts"),P=A("./ts/kiwrious/service/serial/SerialUtil.ts"),B=A("./node_modules/copper3d_plugin_heartjs_config/dist/copper3d_plugin_heartjs_config.js"),V=function(){var J=function(te,j){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,Ae){ne.__proto__=Ae}||function(ne,Ae){for(var q in Ae)Object.prototype.hasOwnProperty.call(Ae,q)&&(ne[q]=Ae[q])},J(te,j)};return function(te,j){if(typeof j!="function"&&j!==null)throw new TypeError("Class extends value "+String(j)+" is not a constructor or null");J(te,j);function ne(){this.constructor=te}te.prototype=j===null?Object.create(j):(ne.prototype=j.prototype,new ne)}}(),O=function(J,te,j,ne){function Ae(q){return q instanceof j?q:new j(function(ge){ge(q)})}return new(j||(j=Promise))(function(q,ge){function we(Pe){try{tt(ne.next(Pe))}catch(Oe){ge(Oe)}}function Fe(Pe){try{tt(ne.throw(Pe))}catch(Oe){ge(Oe)}}function tt(Pe){Pe.done?q(Pe.value):Ae(Pe.value).then(we,Fe)}tt((ne=ne.apply(J,te||[])).next())})},k=function(J,te){var j={label:0,sent:function(){if(q[0]&1)throw q[1];return q[1]},trys:[],ops:[]},ne,Ae,q,ge;return ge={next:we(0),throw:we(1),return:we(2)},typeof Symbol=="function"&&(ge[Symbol.iterator]=function(){return this}),ge;function we(tt){return function(Pe){return Fe([tt,Pe])}}function Fe(tt){if(ne)throw new TypeError("Generator is already executing.");for(;j;)try{if(ne=1,Ae&&(q=tt[0]&2?Ae.return:tt[0]?Ae.throw||((q=Ae.return)&&q.call(Ae),0):Ae.next)&&!(q=q.call(Ae,tt[1])).done)return q;switch(Ae=0,q&&(tt=[tt[0]&2,q.value]),tt[0]){case 0:case 1:q=tt;break;case 4:return j.label++,{value:tt[1],done:!1};case 5:j.label++,Ae=tt[1],tt=[0];continue;case 7:tt=j.ops.pop(),j.trys.pop();continue;default:if(q=j.trys,!(q=q.length>0&&q[q.length-1])&&(tt[0]===6||tt[0]===2)){j=0;continue}if(tt[0]===3&&(!q||tt[1]>q[0]&&tt[1]<q[3])){j.label=tt[1];break}if(tt[0]===6&&j.label<q[1]){j.label=q[1],q=tt;break}if(q&&j.label<q[2]){j.label=q[2],j.ops.push(tt);break}q[2]&&j.ops.pop(),j.trys.pop();continue}tt=te.call(J,j)}catch(Pe){tt=[6,Pe],Ae=0}finally{ne=q=0}if(tt[0]&5)throw tt[1];return{value:tt[0]?tt[1]:void 0,done:!0}}},H=function(J,te,j){if(j||arguments.length===2)for(var ne=0,Ae=te.length,q;ne<Ae;ne++)(q||!(ne in te))&&(q||(q=Array.prototype.slice.call(te,0,ne)),q[ne]=te[ne]);return J.concat(q||Array.prototype.slice.call(te))},W=function(J){V(te,J);function te(){var j=J.call(this)||this;return j._processor=new E.HeartRateProcessor,j._detector=new B.HeartRateDetector,j}return te.prototype._log=function(){for(var j=[],ne=0;ne<arguments.length;ne++)j[ne]=arguments[ne];console.log.apply(console,H(["|SerialHeartRateDecoder|"],j,!1))},te.prototype.decode=function(j){return O(this,void 0,void 0,function(){var ne,Ae,q,ge,we;return k(this,function(Fe){switch(Fe.label){case 0:return ne=j.map(function(tt){return tt.rawValue.subarray(6,22)}),Ae=P.SerialUtil.concatMultiArrays(ne),[4,this._detector.detectHeartRate(Ae)];case 1:return q=Fe.sent(),this._log("heartrate-result",q),ge={label:I.SENSOR_VALUE.HEART_RATE,value:q,type:"object"},we={sensorType:j[0].sensorType,decodedValues:[ge]},[2,we]}})})},te}(R.SerialDecoder)},"./ts/kiwrious/service/serial/SerialHexValue.ts":(g,v,A)=>{A.r(v),A.d(v,{SerialHexValue:()=>E,SerialNumberValue:()=>R});var E=function(){function I(P){this.rawHexValue=P}return I.prototype.toFloat=function(){var P=Number(this.rawHexValue),B=P&2147483648?-1:1,V=(P>>23&255)-127,O=1+(P&8388607)/8388607;return B*O*Math.pow(2,V)},I.prototype.toInt=function(){return Number(parseInt(this.rawHexValue).toFixed())},I.prototype.divideByHundred=function(){return Number((parseInt(this.rawHexValue)/100).toFixed())},I}(),R=function(){function I(P){this._raw=P}return Object.defineProperty(I.prototype,"value",{get:function(){return this._raw},enumerable:!1,configurable:!0}),I.prototype.toInt=function(){return Number(this._raw.toFixed())},I.prototype.divideByHundred=function(){return Number((this._raw/100).toFixed())},I}()},"./ts/kiwrious/service/serial/SerialRawValue.ts":(g,v,A)=>{A.r(v),A.d(v,{SENSOR_TYPE:()=>R,SENSOR_VALUE:()=>I,SerialRawValue:()=>P});var E=A("./ts/kiwrious/service/serial/SerialHexValue.ts"),R={UNKNOWN:"UNKNOWN",UV:"UV",HUMIDITY:"HUMIDITY",VOC:"VOC",CONDUCTIVITY:"CONDUCTIVITY",HEART_RATE:"HEART_RATE",TEMPERATURE:"TEMPERATURE",TEMPERATURE2:"TEMPERATURE2"},I={UNKNOWN:"UNKNOWN",UV_INDEX:"Uv",LUX:"Lux",HUMIDITY:"Hum",TEMPERATURE:"Temp",VOC:"Voc",CONDUCTIVITY:"Con",HEART_RATE:"HeartRate",INFRARED_TEMPERATURE:"InfraredTemp",AMBIENT_TEMPERATURE:"AmbientTemp"},P=function(){function B(V){if(this.rawValue=V,this.dataView=new DataView(V.buffer),!this.isValidLength)throw new Error("invalid array length. expected [] but got [".concat(V.length,"]"))}return Object.defineProperty(B.prototype,"isValidLength",{get:function(){return this.rawValue.length===26},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"sensorTypeRaw",{get:function(){return this.rawValue[2]},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"header2Bytes",{get:function(){return this.getTwoBytesByIndex(0)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"sequence2Bytes",{get:function(){return this.getTwoBytesByIndex(22)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"footer2Bytes",{get:function(){return this.getTwoBytesByIndex(24)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"sensorType",{get:function(){switch(this.sensorTypeRaw){case 10:return R.HEART_RATE;default:throw new Error("invalid sensor type ".concat(this.sensorTypeRaw))}},enumerable:!1,configurable:!0}),B.prototype.getTwoBytesSignedByIndex=function(V){var O=this.dataView.getInt16(V,!0);return O},B.prototype.getTwoBytesUnsignedByIndex=function(V){var O=this.dataView.getUint16(V,!0);return O},B.prototype.getTwoBytesByIndex=function(V){var O=this.dataView.getUint16(V,!0);return O},B.prototype.getFourBytesByIndex=function(V){var O=this.dataView.getUint32(V,!0);return O},B.prototype.getFourBytesFloatByIndex=function(V){var O=this.dataView.getFloat32(V,!0);return O},B.prototype.sliceBytes=function(V,O){if(V+O>this.rawValue.length)throw new Error("invalid index [".concat(V,"] for array length [").concat(this.rawValue.length,"]"));var k=this.rawValue.slice(V,V+O);return k},B.prototype.getByteByIndex=function(V){if(V>=this.rawValue.length)throw new Error("invalid index [".concat(V,"] for array length [").concat(this.rawValue.length,"]"));var O=this.rawValue[V];return O},B.prototype.getHexDigitByIndex=function(V){if(V>=this.rawValue.length)throw new Error("invalid index [".concat(V,"] for array length [").concat(this.rawValue.length,"]"));var O=this.rawValue[V].toString(16).padStart(2,"0");return O},B.prototype.getHexString2=function(V,O){var k=this.getHexDigitByIndex(V),H=this.getHexDigitByIndex(O),W="0x".concat(k).concat(H);return new E.SerialHexValue(W)},B.prototype.getHexString4=function(V,O,k,H){var W=this.getHexDigitByIndex(V),J=this.getHexDigitByIndex(O),te=this.getHexDigitByIndex(k),j=this.getHexDigitByIndex(H),ne="0x".concat(W).concat(J).concat(te).concat(j);return new E.SerialHexValue(ne)},B}()},"./ts/kiwrious/service/serial/SerialReader.ts":(g,v,A)=>{A.r(v),A.d(v,{SerialReader:()=>O});var E=A("./ts/kiwrious/service/serial/SerialRawValue.ts"),R=A("./ts/kiwrious/service/serial/SerialUtil.ts"),I=function(k,H,W,J){function te(j){return j instanceof W?j:new W(function(ne){ne(j)})}return new(W||(W=Promise))(function(j,ne){function Ae(we){try{ge(J.next(we))}catch(Fe){ne(Fe)}}function q(we){try{ge(J.throw(we))}catch(Fe){ne(Fe)}}function ge(we){we.done?j(we.value):te(we.value).then(Ae,q)}ge((J=J.apply(k,H||[])).next())})},P=function(k,H){var W={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},J,te,j,ne;return ne={next:Ae(0),throw:Ae(1),return:Ae(2)},typeof Symbol=="function"&&(ne[Symbol.iterator]=function(){return this}),ne;function Ae(ge){return function(we){return q([ge,we])}}function q(ge){if(J)throw new TypeError("Generator is already executing.");for(;W;)try{if(J=1,te&&(j=ge[0]&2?te.return:ge[0]?te.throw||((j=te.return)&&j.call(te),0):te.next)&&!(j=j.call(te,ge[1])).done)return j;switch(te=0,j&&(ge=[ge[0]&2,j.value]),ge[0]){case 0:case 1:j=ge;break;case 4:return W.label++,{value:ge[1],done:!1};case 5:W.label++,te=ge[1],ge=[0];continue;case 7:ge=W.ops.pop(),W.trys.pop();continue;default:if(j=W.trys,!(j=j.length>0&&j[j.length-1])&&(ge[0]===6||ge[0]===2)){W=0;continue}if(ge[0]===3&&(!j||ge[1]>j[0]&&ge[1]<j[3])){W.label=ge[1];break}if(ge[0]===6&&W.label<j[1]){W.label=j[1],j=ge;break}if(j&&W.label<j[2]){W.label=j[2],W.ops.push(ge);break}j[2]&&W.ops.pop(),W.trys.pop();continue}ge=H.call(k,W)}catch(we){ge=[6,we],te=0}finally{J=j=0}if(ge[0]&5)throw ge[1];return{value:ge[0]?ge[1]:void 0,done:!0}}},B=function(k,H,W){if(W||arguments.length===2)for(var J=0,te=H.length,j;J<te;J++)(j||!(J in H))&&(j||(j=Array.prototype.slice.call(H,0,J)),j[J]=H[J]);return k.concat(j||Array.prototype.slice.call(H))},V=26,O=function(){function k(H){this._reader=H,this._array=new Uint8Array}return k.prototype._log=function(){for(var H=[],W=0;W<arguments.length;W++)H[W]=arguments[W];console.log.apply(console,B(["|SerialReader|"],H,!1))},k.prototype._err=function(){for(var H=[],W=0;W<arguments.length;W++)H[W]=arguments[W];console.error.apply(console,B(["|SerialReader|"],H,!1))},k.prototype._read=function(){return I(this,void 0,void 0,function(){var H,W,J,te;return P(this,function(j){switch(j.label){case 0:if(this._array.length>=V)return H=this._array.subarray(0,V),this._array=this._array.subarray(V),[2,new E.SerialRawValue(H)];if(!this._reader)throw this._err("readLoop - no reader. returning"),new Error("no reader");return[4,this._reader.read()];case 1:if(W=j.sent(),J=W.value,te=W.done,te)throw new Error("reader done");return J.length===V?(this._array=new Uint8Array,[2,new E.SerialRawValue(J.subarray(0))]):(this._array=R.SerialUtil.concatArray(this._array,J),[4,this.readOnce()]);case 2:return[2,j.sent()]}})})},k.prototype.readMultiple=function(H){return H===void 0&&(H=10),I(this,void 0,void 0,function(){var W,J;return P(this,function(te){switch(te.label){case 0:W=[],te.label=1;case 1:return W.length<H?[4,this._read()]:[3,3];case 2:return J=te.sent(),W.push(J),[3,1];case 3:return[2,W]}})})},k.prototype.readOnce=function(){return I(this,void 0,void 0,function(){var H;return P(this,function(W){switch(W.label){case 0:return[4,this._read()];case 1:return H=W.sent(),[2,H]}})})},k}()},"./ts/kiwrious/service/serial/SerialService.ts":(g,v,A)=>{A.r(v),A.d(v,{default:()=>k});var E=A("./ts/kiwrious/service/serial/SerialReader.ts"),R=A("./ts/kiwrious/service/serial/SerialHeartRateDecoder.ts"),I=function(H,W,J,te){function j(ne){return ne instanceof J?ne:new J(function(Ae){Ae(ne)})}return new(J||(J=Promise))(function(ne,Ae){function q(Fe){try{we(te.next(Fe))}catch(tt){Ae(tt)}}function ge(Fe){try{we(te.throw(Fe))}catch(tt){Ae(tt)}}function we(Fe){Fe.done?ne(Fe.value):j(Fe.value).then(q,ge)}we((te=te.apply(H,W||[])).next())})},P=function(H,W){var J={label:0,sent:function(){if(ne[0]&1)throw ne[1];return ne[1]},trys:[],ops:[]},te,j,ne,Ae;return Ae={next:q(0),throw:q(1),return:q(2)},typeof Symbol=="function"&&(Ae[Symbol.iterator]=function(){return this}),Ae;function q(we){return function(Fe){return ge([we,Fe])}}function ge(we){if(te)throw new TypeError("Generator is already executing.");for(;J;)try{if(te=1,j&&(ne=we[0]&2?j.return:we[0]?j.throw||((ne=j.return)&&ne.call(j),0):j.next)&&!(ne=ne.call(j,we[1])).done)return ne;switch(j=0,ne&&(we=[we[0]&2,ne.value]),we[0]){case 0:case 1:ne=we;break;case 4:return J.label++,{value:we[1],done:!1};case 5:J.label++,j=we[1],we=[0];continue;case 7:we=J.ops.pop(),J.trys.pop();continue;default:if(ne=J.trys,!(ne=ne.length>0&&ne[ne.length-1])&&(we[0]===6||we[0]===2)){J=0;continue}if(we[0]===3&&(!ne||we[1]>ne[0]&&we[1]<ne[3])){J.label=we[1];break}if(we[0]===6&&J.label<ne[1]){J.label=ne[1],ne=we;break}if(ne&&J.label<ne[2]){J.label=ne[2],J.ops.push(we);break}ne[2]&&J.ops.pop(),J.trys.pop();continue}we=W.call(H,J)}catch(Fe){we=[6,Fe],j=0}finally{te=ne=0}if(we[0]&5)throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}},B=function(H,W,J){if(J||arguments.length===2)for(var te=0,j=W.length,ne;te<j;te++)(ne||!(te in W))&&(ne||(ne=Array.prototype.slice.call(W,0,te)),ne[te]=W[te]);return H.concat(ne||Array.prototype.slice.call(W))},V=function(){function H(){this._isConnected=!1,this._isReading=!1,this._log("ctor")}return H.prototype._log=function(){for(var W=[],J=0;J<arguments.length;J++)W[J]=arguments[J];console.log.apply(console,B(["|SerialService|"],W,!1))},H.prototype._err=function(){for(var W=[],J=0;J<arguments.length;J++)W[J]=arguments[J];console.error.apply(console,B(["|SerialService|"],W,!1))},Object.defineProperty(H.prototype,"isReading",{get:function(){return this._isReading},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"canResumeReading",{get:function(){return!!this._port},enumerable:!1,configurable:!0}),H.prototype.triggerStopReading=function(){this._isReading=!1},H.prototype.closeReader=function(){if(this._log("closing reader.."),!this._reader){this._log("no reader found. exiting..");return}this.triggerStopReading(),this._log("cancelling.."),this._reader.cancel(),this._log("releasing lock.."),this._reader.releaseLock(),this._reader=null,this._log("reader closed")},H.prototype.closePortAsync=function(){return I(this,void 0,void 0,function(){var W;return P(this,function(J){switch(J.label){case 0:if(this._log("closing port.."),!this._port)return this._log("no port found. exiting.."),[2];this._isConnected=!1,J.label=1;case 1:return J.trys.push([1,3,,4]),[4,this._port.close()];case 2:return J.sent(),this._log("port closed"),[3,4];case 3:return W=J.sent(),this._err("failed to close port",W),[3,4];case 4:return this.onSerialConnection&&this.onSerialConnection(this._isConnected),[2]}})})},H.prototype.resumeReading=function(){return I(this,void 0,void 0,function(){return P(this,function(W){switch(W.label){case 0:return this._log("resume reading.."),this._port?[3,2]:(this._log("port not found, restarting.."),[4,this.connectAndReadAsync()]);case 1:return W.sent(),[2];case 2:return[4,this.startStage2ConnectPortAsync(this._port)];case 3:return[2,W.sent()]}})})},H.prototype.disconnectAsync=function(){return I(this,void 0,void 0,function(){var W=this;return P(this,function(J){return this._log("disconnecting.."),this.triggerStopReading(),setTimeout(function(){return I(W,void 0,void 0,function(){return P(this,function(te){switch(te.label){case 0:return[4,this.stopStage2ClosePortAsync()];case 1:return te.sent(),[2]}})})},0),[2]})})},H.prototype.connectAndReadAsync=function(){return I(this,void 0,void 0,function(){var W;return P(this,function(J){switch(J.label){case 0:return this._log("connect and read.."),[4,this.startStage1RequestPortAsync()];case 1:return W=J.sent(),W?[4,this.startStage2ConnectPortAsync(W)]:(this._err("unable to request port"),[2]);case 2:return[2,J.sent()]}})})},H.prototype.startStage1RequestPortAsync=function(){return I(this,void 0,void 0,function(){var W,J,te=this;return P(this,function(j){switch(j.label){case 0:return W=navigator.serial,W?(W.onconnect=function(){te._log("serial connect")},W.ondisconnect=function(){return I(te,void 0,void 0,function(){return P(this,function(ne){switch(ne.label){case 0:return this._log("serial disconnect"),[4,this.disconnectAsync()];case 1:return ne.sent(),this._port=null,[2]}})})},this._log("requesting port.."),[4,W.requestPort({filters:[{usbVendorId:1240,vendorId:1240},{usbVendorId:3368,usbProductId:516}]}).catch(function(ne){te._err("failed to serial.requestPort",ne)})]):(alert("This feature only works on Chrome with 'Experimental Web Platform features' enabled"),[2,null]);case 1:return J=j.sent(),J?[2,J]:(this._err("unable to find port value"),[2,null])}})})},H.prototype.startStage2ConnectPortAsync=function(W){return I(this,void 0,void 0,function(){var J;return P(this,function(te){switch(te.label){case 0:return this._log("startStage2ReadingAsync"),[4,this.connectPortAsync(W)];case 1:return J=te.sent(),J?(this._isConnected=!0,this._port=J.port,this._reader=J.reader,this.onSerialConnection&&this.onSerialConnection(this._isConnected),this.startReading(),[2]):(this._err("failed to connect"),[2])}})})},H.prototype.stopStage2ClosePortAsync=function(){return I(this,void 0,void 0,function(){return P(this,function(W){switch(W.label){case 0:return this._log("stopStage2ClosePortAsync"),this.closeReader(),[4,this.closePortAsync()];case 1:return W.sent(),[2]}})})},H.prototype.connectPortAsync=function(W){return I(this,void 0,void 0,function(){var J,te,j=this;return P(this,function(ne){switch(ne.label){case 0:return J=W.getInfo(),this._log("port info",J),W.readable?(this._err("port is already readable"),[2,null]):(this._log("openning port.."),[4,W.open({baudrate:230400,baudRate:230400}).catch(function(Ae){j._err("failed to port.open",Ae)})]);case 1:return ne.sent(),W.readable?(te=W.readable.getReader(),te.locked?(this._err("reader is locked"),[2,null]):[2,{port:W,reader:te}]):(this._err("port is not readable.."),[2,null])}})})},H.prototype.startReading=function(){return I(this,void 0,void 0,function(){var W,J,te,j,ne;return P(this,function(Ae){switch(Ae.label){case 0:Ae.trys.push([0,5,6,7]),this._log("starting reader.."),W=new E.SerialReader(this._reader),this._log("creating decoder.."),J=new R.SerialHeartRateDecoder,this._log("starting loop.."),this._isReading=!0,Ae.label=1;case 1:return this._isReading?[4,W.readMultiple(10)]:[3,4];case 2:return te=Ae.sent(),[4,J.decode(te)];case 3:return j=Ae.sent(),j&&this.onSerialData&&this.onSerialData(j),[3,1];case 4:return this._log("loop complete.."),[3,7];case 5:return ne=Ae.sent(),this._err("error reading loop startReading",ne),[3,7];case 6:return this.stopStage2ClosePortAsync(),this._log("startReading complete"),[7];case 7:return[2]}})})},H}(),O=new V;const k=O},"./ts/kiwrious/service/serial/SerialUtil.ts":(g,v,A)=>{A.r(v),A.d(v,{SerialUtil:()=>E});var E=function(){function R(){}return R.concatArray=function(I,P){var B=new Uint8Array(I.length+P.length);return B.set(I,0),B.set(P,I.length),B},R.concatMultiArrays=function(I){var P=I.reduce(function(V,O){return V+O.length},0),B=new Uint8Array(P);return I.reduce(function(V,O){return B.set(O,V),V+O.length},0),B},R}()}},o={};function l(g){var v=o[g];if(v!==void 0)return v.exports;var A=o[g]={exports:{}};return r[g](A,A.exports,l),A.exports}l.n=g=>{var v=g&&g.__esModule?()=>g.default:()=>g;return l.d(v,{a:v}),v},l.d=(g,v)=>{for(var A in v)l.o(v,A)&&!l.o(g,A)&&Object.defineProperty(g,A,{enumerable:!0,get:v[A]})},l.o=(g,v)=>Object.prototype.hasOwnProperty.call(g,v),l.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var d={};return(()=>{/*!********************!*\
  !*** ./ts/main.ts ***!
  \********************/l.r(d),l.d(d,{serialService:()=>g.default,setWasm:()=>v.setWasm,setBinUrl:()=>v.setBinUrl});var g=l("./ts/kiwrious/service/serial/SerialService.ts"),v=l("./node_modules/copper3d_plugin_heartjs_config/dist/copper3d_plugin_heartjs_config.js")})(),d})()})}),cm=RE(vF),IA,MA,xA;cm?(IA=cm.serialService,MA=cm.setBinUrl,xA=cm.setWasm):(IA=void 0,MA=void 0,xA=void 0);var xc={serialService:IA,setBinUrl:MA,setWasm:xA};function _F(m,t,r,o,l,d){var g=this;xc.setBinUrl(r),xc.setWasm(o),m.onclick=function(){return _(g,void 0,void 0,function(){return y(this,function(v){switch(v.label){case 0:return m.disabled=!0,[4,xc.serialService.connectAndReadAsync()];case 1:return v.sent(),m.disabled=!1,[2]}})})},t.onclick=function(){return _(g,void 0,void 0,function(){return y(this,function(v){switch(v.label){case 0:return t.disabled=!0,[4,xc.serialService.disconnectAsync()];case 1:return v.sent(),t.disabled=!1,[2]}})})},xc.serialService.onSerialConnection=function(v){l(v)},xc.serialService.onSerialData=function(v){var A=v.decodedValues,E=A[0].value;d(E,E.status,E.heartrate)}}var AF=function(){function m(t){var r=this;this.paintImages={x:[],y:[],z:[]},this.allSlicesArray=[],this.displaySlices=[],this.backUpDisplaySlices=[],this.skipSlicesDic={},this.axis="z",this.mainAreaContainer=document.createElement("div"),this.showDragNumberDiv=document.createElement("div"),this.drawingCanvas=document.createElement("canvas"),this.displayCanvas=document.createElement("canvas"),this.downloadCanvas=document.createElement("canvas"),this.emptyCanvas=document.createElement("canvas"),this.downloadImage=document.createElement("a"),this.drawingCanvasLayerOne=document.createElement("canvas"),this.Is_Shift_Pressed=!1,this.Is_Draw=!1,this.sensitiveArray=[],this.handleWheelMove=function(){},this.start=function(){},this.previousDrawingImage=new Image,this.undoArray=[],this.initState=!0,this.nrrd_states={originWidth:0,originHeight:0,changedWidth:0,changedHeight:0,oldIndex:0,currentIndex:0,maxIndex:0,minIndex:0,RSARatio:0,latestNotEmptyImg:new Image,contrastNum:0,Max_sensitive:100,readyToUpdate:!0,showContrast:!1,enableCursorChoose:!1,isCursorSelect:!1,cursorPageX:0,cursorPageY:0,Mouse_Over_x:0,Mouse_Over_y:0,Mouse_Over:!1,stepClear:1,sizeFoctor:1,defaultPaintCursor:"url(https://raw.githubusercontent.com/LinkunGao/copper3d_icons/main/icons/pencil-black.svg), auto",drawStartPos:new Fn(1,1)},this.cursorPage={x:{cursorPageX:0,cursorPageY:0,index:0,updated:!1},y:{cursorPageX:0,cursorPageY:0,index:0,updated:!1},z:{cursorPageX:0,cursorPageY:0,index:0,updated:!1}},this.gui_states={mainAreaSize:1,dragSensitivity:75,Eraser:!1,globalAlpha:.7,lineWidth:2,color:"#f50a33",segmentation:!0,fillColor:"#3fac58",brushColor:"#3fac58",brushAndEraserSize:15,cursor:"pencil",clear:function(){r.clearPaint()},clearAll:function(){var o="Are you sure remove annotations on All slice?";confirm(o)===!0&&(r.clearPaint(),r.clearStoreImages())},undo:function(){r.undoLastPainting()},downloadCurrentImage:function(){r.enableDownload()},resetZoom:function(){r.nrrd_states.sizeFoctor=1,r.resizePaintArea(1),r.resetPaintArea()},subView:!1,subViewScale:1,resetView:function(){var o;(o=r.sceneIn)===null||o===void 0||o.resetView()}},this.drawLine=function(o,l,d,g){r.drawingCtx.beginPath(),r.drawingCtx.moveTo(o,l),r.drawingCtx.lineTo(d,g),r.drawingCtx.strokeStyle=r.gui_states.color,r.drawingCtx.stroke()},this.container=t,this.displayCtx=this.displayCanvas.getContext("2d"),this.drawingCtx=this.drawingCanvas.getContext("2d"),this.drawingLayerOneCtx=this.drawingCanvasLayerOne.getContext("2d"),this.init()}return m.prototype.init=function(){var t=this;this.showDragNumberDiv=this.createShowSliceNumberDiv(),this.mainAreaContainer.classList.add("copper3D_drawingCanvasContainer"),this.container.appendChild(this.mainAreaContainer),this.autoFocusDiv(this.container),this.downloadImage.href="",this.downloadImage.target="_blank";for(var r=0;r<this.nrrd_states.Max_sensitive;r++)this.sensitiveArray.push((r+1)/20);this.container.addEventListener("keydown",function(o){o.key==="Shift"&&(t.Is_Shift_Pressed=!0,t.nrrd_states.enableCursorChoose=!1),o.key==="s"&&(t.Is_Draw=!1,t.nrrd_states.enableCursorChoose=!t.nrrd_states.enableCursorChoose)}),this.container.addEventListener("keyup",function(o){o.key==="Shift"&&(t.Is_Shift_Pressed=!1)})},m.prototype.setAllSlices=function(t){this.allSlicesArray=S([],t,!0),this.allSlicesArray.forEach(function(r,o){r.x.contrastOrder=o,r.y.contrastOrder=o,r.z.contrastOrder=o}),this.setDisplaySlicesBaseOnAxis(),this.afterLoadSlice()},m.prototype.setSliceOrientation=function(t){this.nrrd_states.enableCursorChoose&&(this.axis==="z"?(this.cursorPage.z.index=this.nrrd_states.currentIndex,this.cursorPage.z.cursorPageX=this.nrrd_states.cursorPageX,this.cursorPage.z.cursorPageY=this.nrrd_states.cursorPageY):this.axis==="x"?(this.cursorPage.x.index=this.nrrd_states.currentIndex,this.cursorPage.x.cursorPageX=this.nrrd_states.cursorPageX,this.cursorPage.x.cursorPageY=this.nrrd_states.cursorPageY):this.axis==="y"&&(this.cursorPage.y.index=this.nrrd_states.currentIndex,this.cursorPage.y.cursorPageX=this.nrrd_states.cursorPageX,this.cursorPage.y.cursorPageY=this.nrrd_states.cursorPageY),t==="z"?this.nrrd_states.isCursorSelect&&!this.cursorPage.z.updated?(this.axis==="x"&&(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=Math.ceil((1-this.cursorPage.x.cursorPageX/this.mainPreSlice.volume.dimensions[2])*this.mainPreSlice.volume.RASDimensions[2]),this.nrrd_states.cursorPageX=Math.ceil(this.cursorPage.x.index/this.mainPreSlice.volume.dimensions[0]*this.mainPreSlice.volume.RASDimensions[0])),this.axis==="y"&&(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=Math.ceil((1-this.cursorPage.y.cursorPageY/this.mainPreSlice.volume.dimensions[2])*this.mainPreSlice.volume.RASDimensions[2]),this.nrrd_states.cursorPageY=Math.ceil((1-this.cursorPage.y.index/this.mainPreSlice.volume.dimensions[1])*this.mainPreSlice.volume.RASDimensions[1])),this.cursorPage.z.updated=!0):(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=this.cursorPage.z.index,this.nrrd_states.cursorPageX=this.cursorPage.z.cursorPageX,this.nrrd_states.cursorPageY=this.cursorPage.z.cursorPageY):t==="x"?this.nrrd_states.isCursorSelect&&!this.cursorPage.x.updated?(this.axis==="z"&&(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=Math.ceil(this.cursorPage.z.cursorPageX/this.mainPreSlice.volume.RASDimensions[0]*this.mainPreSlice.volume.dimensions[0]),this.nrrd_states.cursorPageX=Math.ceil((1-this.cursorPage.z.index/this.mainPreSlice.volume.dimensions[2])*this.mainPreSlice.volume.RASDimensions[2])),this.axis==="y"&&(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=Math.ceil(this.cursorPage.y.cursorPageX/this.mainPreSlice.volume.RASDimensions[1]*this.mainPreSlice.volume.dimensions[1]),this.nrrd_states.cursorPageX=this.cursorPage.y.cursorPageY,this.nrrd_states.cursorPageY=Math.ceil((1-this.cursorPage.y.index/this.mainPreSlice.volume.dimensions[1])*this.mainPreSlice.volume.RASDimensions[1])),this.cursorPage.x.updated=!0):(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=this.cursorPage.x.index,this.nrrd_states.cursorPageX=this.cursorPage.x.cursorPageX,this.nrrd_states.cursorPageY=this.cursorPage.x.cursorPageY):t==="y"&&(this.nrrd_states.isCursorSelect&&!this.cursorPage.y.updated?(this.axis==="z"&&(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=this.mainPreSlice.volume.dimensions[1]-Math.ceil(this.cursorPage.z.cursorPageY/this.mainPreSlice.volume.RASDimensions[1]*this.mainPreSlice.volume.dimensions[1]),this.nrrd_states.cursorPageY=Math.ceil(this.cursorPage.z.index/this.mainPreSlice.volume.dimensions[2]*this.mainPreSlice.volume.RASDimensions[2])),this.axis==="x"&&(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=this.mainPreSlice.volume.dimensions[0]-Math.ceil(this.cursorPage.x.cursorPageY/this.mainPreSlice.volume.RASDimensions[0]*this.mainPreSlice.volume.dimensions[0]),this.nrrd_states.cursorPageX=Math.ceil(this.cursorPage.x.index/this.mainPreSlice.volume.dimensions[0]*this.mainPreSlice.volume.RASDimensions[0]),this.nrrd_states.cursorPageY=Math.ceil(this.cursorPage.x.cursorPageX)),this.cursorPage.y.updated=!0):(this.nrrd_states.oldIndex=this.nrrd_states.currentIndex=this.cursorPage.y.index,this.nrrd_states.cursorPageX=this.cursorPage.y.cursorPageX,this.nrrd_states.cursorPageY=this.cursorPage.y.cursorPageY)),this.cursorPage.x.updated&&this.cursorPage.y.updated&&this.cursorPage.z.updated&&(this.nrrd_states.isCursorSelect=!1)),this.axis=t,this.resetDisplaySlicesStatus()},m.prototype.addSkip=function(t){this.skipSlicesDic[t]=this.backUpDisplaySlices[t],t>=this.displaySlices.length?this.nrrd_states.contrastNum=this.displaySlices.length:this.nrrd_states.contrastNum=t,this.resetDisplaySlicesStatus()},m.prototype.removeSkip=function(t){this.skipSlicesDic[t]=void 0,this.nrrd_states.contrastNum=0,this.resetDisplaySlicesStatus()},m.prototype.clear=function(){this.allSlicesArray.length=0,this.displaySlices.length=0,this.undoArray.length=0,this.paintImages.x.length=0,this.paintImages.y.length=0,this.paintImages.z.length=0,this.clearDictionary(this.skipSlicesDic),this.backUpDisplaySlices.length=0,this.mainPreSlice=void 0,this.currentShowingSlice=void 0,this.previousDrawingImage.src="",this.initState=!0,this.axis="z",this.nrrd_states.sizeFoctor=1,this.drawingCanvasLayerOne.width=this.drawingCanvasLayerOne.width,this.drawingCanvas.width=this.drawingCanvas.width,this.displayCanvas.width=this.displayCanvas.width},m.prototype.setSliceMoving=function(t){this.mainPreSlice&&(this.Is_Draw=!0,this.setSyncsliceNum(),this.updateIndex(t),this.setIsDrawFalse(1e3))},m.prototype.setShowInMainArea=function(t){this.nrrd_states.showContrast=t,this.nrrd_states.contrastNum=0,this.mainPreSlice&&(this.redrawMianPreOnDisplayCanvas(),this.updateShowNumDiv(this.nrrd_states.contrastNum))},m.prototype.setMainAreaSize=function(t){this.nrrd_states.sizeFoctor+=t,this.nrrd_states.sizeFoctor>=8?this.nrrd_states.sizeFoctor=8:this.nrrd_states.sizeFoctor<=1&&(this.nrrd_states.sizeFoctor=1),this.resizePaintArea(this.nrrd_states.sizeFoctor),this.resetPaintArea(),this.setIsDrawFalse(1e3)},m.prototype.getMaxSliceNum=function(){return this.nrrd_states.showContrast?[this.nrrd_states.maxIndex,this.nrrd_states.maxIndex*this.displaySlices.length]:[this.nrrd_states.maxIndex]},m.prototype.getCurrentSlicesNumAndContrastNum=function(){return{currentIndex:this.nrrd_states.currentIndex,contrastIndex:this.nrrd_states.contrastNum}},m.prototype.getCurrentSliceIndex=function(){return Math.ceil(this.mainPreSlice.index/this.nrrd_states.RSARatio)},m.prototype.getIsShowContrastState=function(){return this.nrrd_states.showContrast},m.prototype.setIsDrawFalse=function(t){var r=this;this.preTimer=setTimeout(function(){r.Is_Draw=!1,r.preTimer&&(window.clearTimeout(r.preTimer),r.preTimer=void 0)},t)},m.prototype.setDisplaySlicesBaseOnAxis=function(){var t=this;this.displaySlices.length=0,this.backUpDisplaySlices.length=0,this.allSlicesArray.forEach(function(r){t.backUpDisplaySlices.push(r[t.axis])}),this.loadDisplaySlicesArray()},m.prototype.loadDisplaySlicesArray=function(){var t=this,r=Object.values(this.skipSlicesDic);r.length===0?this.backUpDisplaySlices.forEach(function(o,l){t.skipSlicesDic[l]=o,t.displaySlices.push(o)}):r.forEach(function(o,l){o&&(t.displaySlices.push(t.backUpDisplaySlices[l]),t.skipSlicesDic[l]=t.backUpDisplaySlices[l])})},m.prototype.resetDisplaySlicesStatus=function(){this.setDisplaySlicesBaseOnAxis(),this.setupConfigs()},m.prototype.setupConfigs=function(){this.setMainPreSlice(),this.updateMaxIndex(),this.setOriginCanvasAndPre(),this.updateShowNumDiv(this.nrrd_states.contrastNum),this.repraintCurrentContrastSlice(),this.resizePaintArea(this.nrrd_states.sizeFoctor),this.resetPaintArea()},m.prototype.setMainPreSlice=function(){this.mainPreSlice=this.displaySlices[0],this.mainPreSlice&&(this.nrrd_states.RSARatio=this.mainPreSlice.RSARatio)},m.prototype.findLastCanvas=function(){for(var t=this.mainPreSlice.MaxIndex;t>0;t--){this.mainPreSlice.index=t*this.nrrd_states.RSARatio,this.mainPreSlice.repaint.call(this.mainPreSlice);var r=!this.verifyCanvasIsEmpty(this.mainPreSlice.canvas);if(r){this.mainPreSlice.index=(t-1)*this.nrrd_states.RSARatio,this.mainPreSlice.repaint.call(this.mainPreSlice),this.nrrd_states.latestNotEmptyImg.src=this.mainPreSlice.canvas.toDataURL();break}}},m.prototype.setOriginCanvasAndPre=function(){this.mainPreSlice&&(this.nrrd_states.oldIndex>this.nrrd_states.maxIndex&&(this.nrrd_states.oldIndex=this.nrrd_states.maxIndex),this.initState?(this.nrrd_states.oldIndex=this.mainPreSlice.initIndex,this.nrrd_states.currentIndex=this.mainPreSlice.initIndex):this.mainPreSlice.index=this.nrrd_states.oldIndex*this.nrrd_states.RSARatio,this.originCanvas=this.mainPreSlice.canvas,this.updateOriginAndChangedWH())},m.prototype.afterLoadSlice=function(){this.setMainPreSlice(),this.setOriginCanvasAndPre(),this.currentShowingSlice=this.mainPreSlice,this.undoArray=[{sliceIndex:this.mainPreSlice.index,undos:[]}],this.nrrd_states.oldIndex=this.mainPreSlice.initIndex,this.nrrd_states.currentIndex=this.mainPreSlice.initIndex,this.updateMaxIndex(),this.updateShowNumDiv(this.nrrd_states.contrastNum),this.initState=!1},m.prototype.updateMaxIndex=function(){this.mainPreSlice&&(this.nrrd_states.maxIndex=this.mainPreSlice.MaxIndex)},m.prototype.updateCurrentContrastSlice=function(){return this.currentShowingSlice=this.displaySlices[this.nrrd_states.contrastNum],this.currentShowingSlice},m.prototype.createShowSliceNumberDiv=function(){var t=document.createElement("div");return t.className="copper3d_sliceNumber",t.style.position="absolute",t.style.zIndex="100",t.style.top="20px",t.style.left="100px",t},m.prototype.updateOriginAndChangedWH=function(){this.nrrd_states.originWidth=this.originCanvas.width,this.nrrd_states.originHeight=this.originCanvas.height,this.nrrd_states.changedWidth=this.originCanvas.width*Number(this.gui_states.mainAreaSize),this.nrrd_states.changedHeight=this.originCanvas.height*Number(this.gui_states.mainAreaSize)},m.prototype.initAllCanvas=function(){this.displayCanvas.style.position="absolute",this.displayCanvas.style.zIndex="9",this.displayCanvas.width=this.nrrd_states.changedWidth,this.displayCanvas.height=this.nrrd_states.changedHeight,this.drawingCanvas.style.zIndex="10",this.drawingCanvas.style.position="absolute",this.drawingCanvas.width=this.nrrd_states.changedWidth,this.drawingCanvas.height=this.nrrd_states.changedHeight,this.drawingCanvas.style.cursor=this.nrrd_states.defaultPaintCursor,this.drawingCanvas.oncontextmenu=function(){return!1},this.drawingCanvasLayerOne.width=this.nrrd_states.changedWidth,this.drawingCanvasLayerOne.height=this.nrrd_states.changedHeight,this.mainAreaContainer.style.width=this.nrrd_states.originWidth*8+"px",this.mainAreaContainer.style.height=this.nrrd_states.originHeight*8+"px",this.mainAreaContainer.appendChild(this.displayCanvas),this.mainAreaContainer.appendChild(this.drawingCanvas)},m.prototype.autoFocusDiv=function(t){t.tabIndex=10,t.addEventListener("mouseover",function(){t.focus()}),t.style.outline="none"},m.prototype.setSyncsliceNum=function(){var t=this;this.displaySlices.forEach(function(r,o){o!==0&&(r.index=t.mainPreSlice.index)})},m.prototype.repraintCurrentContrastSlice=function(){this.setSyncsliceNum(),this.displaySlices.forEach(function(t,r){t.repaint.call(t)})},m.prototype.repraintAllContrastSlices=function(){this.displaySlices.forEach(function(t,r){t.volume.repaintAllSlices()})},m.prototype.updateShowNumDiv=function(t){this.mainPreSlice&&(this.nrrd_states.showContrast?this.showDragNumberDiv.innerHTML="ContrastNum: ".concat(t,"/").concat(this.displaySlices.length-1," SliceNum: ").concat(this.nrrd_states.currentIndex,"/").concat(this.nrrd_states.maxIndex):this.showDragNumberDiv.innerHTML="SliceNum: ".concat(this.nrrd_states.currentIndex,"/").concat(this.nrrd_states.maxIndex))},m.prototype.appendLoadingbar=function(t){this.mainAreaContainer.appendChild(t)},m.prototype.drag=function(t){var r=this,o,l,d=this.container.offsetHeight,g=1,v,A,E;this.sensitiveArray.reverse(),t!=null&&t.showNumber&&this.container.appendChild(this.showDragNumberDiv),A=function(I){r.drawingCanvas.removeEventListener("wheel",r.handleWheelMove),I.button===0&&(r.setSyncsliceNum(),l=I.offsetY/d,r.container.addEventListener("pointermove",E,!1),g=r.sensitiveArray[r.gui_states.dragSensitivity-1])},E=am(function(I){l-I.offsetY/d>=0?o=-Math.ceil((l-I.offsetY/d)*10/g):o=-Math.floor((l-I.offsetY/d)*10/g),r.updateIndex(o),t!=null&&t.getSliceNum&&t.getSliceNum(r.nrrd_states.currentIndex,r.nrrd_states.contrastNum),l=I.offsetY/d},g*200),v=function(I){r.drawingCanvas.addEventListener("wheel",r.handleWheelMove),r.setSyncsliceNum(),r.container.removeEventListener("pointermove",E,!1)};var R=function(){r.container.style.cursor="pointer",r.container.addEventListener("pointerdown",A,!0),r.container.addEventListener("pointerup",v,!0)};R(),this.container.addEventListener("keydown",function(I){I.key==="Shift"&&(r.container.style.cursor="",r.container.removeEventListener("pointerdown",A,!0),r.container.removeEventListener("pointerup",v,!1),r.setIsDrawFalse(1e3))}),this.container.addEventListener("keyup",function(I){I.key==="Shift"&&R()})},m.prototype.updateIndex=function(t){var r=0,o=0;this.nrrd_states.showContrast?(o=t%this.displaySlices.length,this.nrrd_states.contrastNum+=o,t>0?(r=Math.floor(t/this.displaySlices.length),this.nrrd_states.contrastNum>this.displaySlices.length-1&&(r+=1,this.nrrd_states.contrastNum-=this.displaySlices.length)):(r=Math.ceil(t/this.displaySlices.length),this.nrrd_states.contrastNum<0&&(this.nrrd_states.contrastNum+=this.displaySlices.length,r-=1))):r=t;var l=this.nrrd_states.oldIndex+r;if(l!=this.nrrd_states.oldIndex||this.nrrd_states.showContrast){if(l>this.nrrd_states.maxIndex)l=this.nrrd_states.maxIndex,this.nrrd_states.contrastNum=4;else if(l<this.nrrd_states.minIndex)l=this.nrrd_states.minIndex,this.nrrd_states.contrastNum=0;else{this.mainPreSlice.index=l*this.nrrd_states.RSARatio,this.nrrd_states.currentIndex=l,l!=this.nrrd_states.oldIndex&&(this.drawingCanvasLayerOne.width=this.drawingCanvasLayerOne.width),this.displayCanvas.width=this.displayCanvas.width,this.nrrd_states.changedWidth===0&&(this.nrrd_states.changedWidth=this.nrrd_states.originWidth,this.nrrd_states.changedHeight=this.nrrd_states.originHeight);var d=this.updateCurrentContrastSlice();d.repaint.call(d),this.drawDragSlice(d.canvas,l)}this.nrrd_states.oldIndex=l,this.updateShowNumDiv(this.nrrd_states.contrastNum)}},m.prototype.drawDragSlice=function(t,r){var o;this.displayCtx.drawImage(t,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight),(this.paintImages.x.length>0||this.paintImages.y.length>0||this.paintImages.z.length>0)&&r!=this.nrrd_states.oldIndex&&(this.paintedImage=this.filterDrawedImage(this.axis,this.nrrd_states.currentIndex),!((o=this.paintedImage)===null||o===void 0)&&o.image&&this.drawingLayerOneCtx.drawImage(this.paintedImage.image,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight))},m.prototype.draw=function(t,r){var o,l;this.sceneIn=t,t.controls.enabled=!1,this.gui_states.subView===!1&&t.subDiv&&(t.subDiv.style.display="none"),o=r.addFolder("Mode Parameters"),t.subDiv&&(l=r.addFolder("Sub View"),l.add(this.gui_states,"resetView"),l.add(this.gui_states,"subView").onChange(function(d){d?(t.controls.enabled=!0,t.subDiv&&(t.subDiv.style.display="block")):(t.subDiv&&(t.subDiv.style.display="none"),t.controls.enabled=!1)}),l.add(this.gui_states,"subViewScale").min(.25).max(2).step(.01).onFinishChange(function(d){t.subDiv&&(t.subDiv.style.width=200*d+"px"),t.subDiv&&(t.subDiv.style.height=200*d+"px")})),this.paintOnCanvas(o)},m.prototype.paintOnCanvas=function(t){var r=this,o,l,d=!1,g=!1,v=0,A=0,E=this.mainPreSlice.index,R=!1,I=[];this.updateOriginAndChangedWH(),this.initAllCanvas(),this.configGui(t),(o=this.displayCtx)===null||o===void 0||o.drawImage(this.originCanvas,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight),this.previousDrawingImage.src=this.drawingCanvas.toDataURL(),this.handleWheelMove=this.configMouseWheel((l=this.sceneIn)===null||l===void 0?void 0:l.controls),this.drawingCanvas.addEventListener("wheel",this.handleWheelMove,{passive:!1});var P=am(function(H){r.drawingCanvas.style.cursor="grabbing",r.displayCanvas.style.left=r.drawingCanvas.style.left=H.clientX-v+"px",r.displayCanvas.style.top=r.drawingCanvas.style.top=H.clientY-A+"px"},80),B=function(H){r.nrrd_states.Mouse_Over_x=H.offsetX,r.nrrd_states.Mouse_Over_y=H.offsetY,r.nrrd_states.Mouse_Over_x===void 0&&(r.nrrd_states.Mouse_Over_x=H.clientX,r.nrrd_states.Mouse_Over_y=H.clientY),H.type==="mouseout"?(r.nrrd_states.Mouse_Over=!1,r.drawingCanvas.removeEventListener("mousemove",B)):H.type==="mouseover"&&(r.nrrd_states.Mouse_Over=!0,r.drawingCanvas.addEventListener("mousemove",B)),H.preventDefault()};this.drawingCanvas.addEventListener("mouseover",B),this.drawingCanvas.addEventListener("mouseout",B),this.drawingCanvas.addEventListener("pointerdown",function(H){if(d||g){r.drawingCanvas.removeEventListener("pointerup",k),r.drawingLayerOneCtx.closePath();return}if(E!==r.mainPreSlice.index&&(r.previousDrawingImage.src="",E=r.mainPreSlice.index),r.drawingCanvas.removeEventListener("wheel",r.handleWheelMove),H.button===0){if(r.Is_Shift_Pressed)d=!0,I=[],R=!0,r.Is_Draw=!0,r.gui_states.Eraser?r.drawingCanvas.style.cursor="url(https://raw.githubusercontent.com/LinkunGao/copper3d_icons/main/icons/circular-cursor.png) 52 52, crosshair":r.drawingCanvas.style.cursor=r.nrrd_states.defaultPaintCursor,r.nrrd_states.drawStartPos.set(H.offsetX,H.offsetY),r.drawingLayerOneCtx.beginPath(),r.drawingCanvas.addEventListener("pointerup",k),r.drawingCanvas.addEventListener("pointermove",O);else if(r.nrrd_states.enableCursorChoose)switch(r.nrrd_states.cursorPageX=H.offsetX/r.nrrd_states.sizeFoctor,r.nrrd_states.cursorPageY=H.offsetY/r.nrrd_states.sizeFoctor,r.nrrd_states.isCursorSelect=!0,r.axis){case"x":r.cursorPage.x.updated=!0,r.cursorPage.y.updated=!1,r.cursorPage.z.updated=!1;break;case"y":r.cursorPage.x.updated=!1,r.cursorPage.y.updated=!0,r.cursorPage.z.updated=!1;break;case"z":r.cursorPage.x.updated=!1,r.cursorPage.y.updated=!1,r.cursorPage.z.updated=!0;break}}else if(H.button===2){g=!0;var W=parseInt(r.drawingCanvas.style.left),J=parseInt(r.drawingCanvas.style.top);v=H.clientX-W,A=H.clientY-J,r.drawingCanvas.style.cursor="grab",r.drawingCanvas.addEventListener("pointerup",k),r.drawingCanvas.addEventListener("pointermove",P)}else return},!0);var V=this.useEraser(),O=function(H){r.Is_Draw=!0,R&&(r.gui_states.Eraser?(r.nrrd_states.stepClear=1,V(H.offsetX,H.offsetY,r.gui_states.brushAndEraserSize)):(I.push({x:H.offsetX,y:H.offsetY}),r.paintOnCanvasLayerOne(H.offsetX,H.offsetY)))},k=function(H){var W;if(H.button===0){if(r.Is_Shift_Pressed||R){if(d=!1,r.drawingLayerOneCtx.closePath(),r.drawingCanvas.removeEventListener("pointermove",O),!r.gui_states.Eraser&&r.gui_states.segmentation){r.drawingCanvasLayerOne.width=r.drawingCanvasLayerOne.width;var J=(W=r.filterDrawedImage(r.axis,r.nrrd_states.currentIndex))===null||W===void 0?void 0:W.image;J&&(r.previousDrawingImage=J),r.drawingLayerOneCtx.drawImage(r.previousDrawingImage,0,0,r.nrrd_states.changedWidth,r.nrrd_states.changedHeight),r.drawingLayerOneCtx.beginPath(),r.drawingLayerOneCtx.moveTo(I[0].x,I[0].y);for(var te=1;te<I.length;te++)r.drawingLayerOneCtx.lineTo(I[te].x,I[te].y);r.drawingLayerOneCtx.closePath(),r.drawingLayerOneCtx.lineWidth=1,r.drawingLayerOneCtx.fillStyle=r.gui_states.fillColor,r.drawingLayerOneCtx.fill()}r.previousDrawingImage.src=r.drawingCanvasLayerOne.toDataURL(),r.storeAllImages(),console.log(r.drawingCtx.getImageData(0,0,r.drawingCanvas.width,r.drawingCanvas.height)),R=!1;var j=r.getCurrentUndo(),ne=r.drawingCanvasLayerOne.toDataURL(),Ae=new Image;if(Ae.src=ne,j.length>0)j[0].undos.push(Ae);else{var q={sliceIndex:r.nrrd_states.currentIndex,undos:[]};q.undos.push(Ae),r.undoArray.push(q)}}}else if(H.button===2)g=!1,r.drawingCanvas.style.cursor="grab",r.drawingCanvas.removeEventListener("pointermove",P);else return;r.drawingCanvas.addEventListener("wheel",r.handleWheelMove,{passive:!1}),r.gui_states.segmentation||r.setIsDrawFalse(100)};this.drawingCanvas.addEventListener("pointerleave",function(H){R=!1,d&&(d=!1,r.drawingLayerOneCtx.closePath(),r.drawingCanvas.removeEventListener("pointermove",O)),g&&(g=!1,r.drawingCanvas.style.cursor="grab",r.drawingCanvas.removeEventListener("pointermove",P)),r.setIsDrawFalse(100),r.gui_states.segmentation&&r.setIsDrawFalse(1e3)}),this.start=function(){if(r.nrrd_states.readyToUpdate){if(r.drawingCtx.clearRect(0,0,r.nrrd_states.changedWidth,r.nrrd_states.changedHeight),r.drawingCtx.globalAlpha=r.gui_states.globalAlpha,r.Is_Draw)r.drawingLayerOneCtx.lineCap="round",r.drawingLayerOneCtx.globalAlpha=1;else if(r.Is_Shift_Pressed&&!r.gui_states.segmentation&&!r.gui_states.Eraser&&r.nrrd_states.Mouse_Over&&(r.drawingCtx.clearRect(0,0,r.nrrd_states.changedWidth,r.nrrd_states.changedHeight),r.drawingCtx.fillStyle=r.gui_states.brushColor,r.drawingCtx.beginPath(),r.drawingCtx.arc(r.nrrd_states.Mouse_Over_x,r.nrrd_states.Mouse_Over_y,r.gui_states.brushAndEraserSize/2+1,0,Math.PI*2),r.drawingCtx.strokeStyle=r.gui_states.brushColor,r.drawingCtx.stroke()),r.nrrd_states.enableCursorChoose){r.drawingCtx.clearRect(0,0,r.nrrd_states.changedWidth,r.nrrd_states.changedHeight);var H=r.nrrd_states.cursorPageX*r.nrrd_states.sizeFoctor,W=r.nrrd_states.cursorPageY*r.nrrd_states.sizeFoctor;r.drawLine(H,0,H,r.drawingCanvas.height),r.drawLine(0,W,r.drawingCanvas.width,W)}r.drawingCtx.drawImage(r.drawingCanvasLayerOne,0,0)}else r.redrawDisplayCanvas()},document.addEventListener("keydown",function(H){(H.ctrlKey||H.metaKey)&&H.code==="KeyZ"&&r.undoLastPainting()})},m.prototype.undoLastPainting=function(){this.Is_Draw=!0,this.drawingCanvasLayerOne.width=this.drawingCanvasLayerOne.width,this.mainPreSlice.repaint.call(this.mainPreSlice);var t=this.getCurrentUndo();if(t.length>0){var r=t[0];if(r.undos.length===0)return;if(r.undos.pop(),r.undos.length>0){var o=r.undos[r.undos.length-1];this.drawingLayerOneCtx.drawImage(o,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight)}this.previousDrawingImage.src=this.drawingCanvasLayerOne.toDataURL(),this.storeAllImages(),this.setIsDrawFalse(1e3)}},m.prototype.getCurrentUndo=function(){var t=this;return this.undoArray.filter(function(r){return r.sliceIndex===t.nrrd_states.currentIndex})},m.prototype.configMouseWheel=function(t){var r=this,o=1,l=function(d){if(!r.Is_Shift_Pressed){d.preventDefault();var g=d.detail?d.detail>0:d.wheelDelta<0;r.Is_Draw=!0;var v=(d.clientX-r.mainAreaContainer.offsetLeft-r.drawingCanvas.offsetLeft)/r.drawingCanvas.offsetWidth,A=(d.clientY-r.mainAreaContainer.offsetTop-r.drawingCanvas.offsetTop)/r.drawingCanvas.offsetHeight,E=g?1-.1:1+.1,R=r.drawingCanvas.offsetWidth*E,I=r.drawingCanvas.offsetHeight*E,P=Math.round(d.clientX-r.mainAreaContainer.offsetLeft-R*v),B=Math.round(d.clientY-r.mainAreaContainer.offsetTop-I*A);o=R/r.nrrd_states.originWidth,o>8?o=8:o<1?o=1:(r.resizePaintArea(o),r.resetPaintArea(P,B),t&&(t.enabled=!1),r.setIsDrawFalse(1e3)),r.nrrd_states.sizeFoctor=o}};return l},m.prototype.useEraser=function(){var t=this,r=function(o,l,d){var g=d-t.nrrd_states.stepClear,v=Math.sqrt(d*d-g*g),A=o-g,E=l-v,R=2*g,I=2*v;t.nrrd_states.stepClear<=d&&(t.drawingLayerOneCtx.clearRect(A,E,R,I),t.nrrd_states.stepClear+=1,r(o,l,d))};return r},m.prototype.clearPaint=function(){this.Is_Draw=!0,this.drawingCanvasLayerOne.width=this.drawingCanvas.width,this.originCanvas.width=this.originCanvas.width,this.mainPreSlice.repaint.call(this.mainPreSlice),this.previousDrawingImage.src="",this.storeAllImages(),this.setIsDrawFalse(1e3)},m.prototype.clearStoreImages=function(){this.paintImages.x.length=0,this.paintImages.y.length=0,this.paintImages.z.length=0},m.prototype.enableDownload=function(){this.downloadImage.download="slice_".concat(this.axis,"_#").concat(this.mainPreSlice.index);var t=this.downloadCanvas.getContext("2d");this.downloadCanvas.width=this.nrrd_states.originWidth,this.downloadCanvas.height=this.nrrd_states.originHeight,t.drawImage(this.displayCanvas,0,0,this.nrrd_states.originWidth,this.nrrd_states.originHeight),t.drawImage(this.drawingCanvas,0,0,this.nrrd_states.originWidth,this.nrrd_states.originHeight),this.downloadImage.href=this.downloadCanvas.toDataURL(),this.downloadImage.click()},m.prototype.paintOnCanvasLayerOne=function(t,r){this.drawingLayerOneCtx.beginPath(),this.drawingLayerOneCtx.moveTo(this.nrrd_states.drawStartPos.x,this.nrrd_states.drawStartPos.y),this.gui_states.segmentation?(this.drawingLayerOneCtx.strokeStyle=this.gui_states.color,this.drawingLayerOneCtx.lineWidth=this.gui_states.lineWidth):(this.drawingLayerOneCtx.strokeStyle=this.gui_states.brushColor,this.drawingLayerOneCtx.lineWidth=this.gui_states.brushAndEraserSize),this.drawingLayerOneCtx.lineTo(t,r),this.drawingLayerOneCtx.stroke(),this.nrrd_states.drawStartPos.set(t,r),this.drawingLayerOneCtx.closePath(),this.mainPreSlice.mesh.material.map.needsUpdate=!0},m.prototype.configGui=function(t){var r=this;t.__controllers.length>0&&this.removeGuiFolderChilden(t),t.open();var o=t.addFolder("Default Actions");o.add(this.gui_states,"cursor",["crosshair","pencil","dot"]).name("cursor icons").onChange(function(A){A==="crosshair"&&(r.nrrd_states.defaultPaintCursor="crosshair"),A==="pencil"&&(r.nrrd_states.defaultPaintCursor="url(https://raw.githubusercontent.com/LinkunGao/copper3d_icons/main/icons/pencil-black.svg), auto"),A==="dot"&&(r.nrrd_states.defaultPaintCursor="url(https://raw.githubusercontent.com/LinkunGao/copper3d-datasets/main/icons/dot.svg) 12 12,auto"),r.drawingCanvas.style.cursor=r.nrrd_states.defaultPaintCursor}),o.add(this.gui_states,"mainAreaSize").name("zoom").min(1).max(8).onFinishChange(function(A){r.resetPaintArea(),r.nrrd_states.sizeFoctor=A,r.resizePaintArea(A)}),o.add(this.gui_states,"resetZoom"),o.add(this.gui_states,"globalAlpha").name("opacity").min(.1).max(1).step(.01),o.add(this.gui_states,"segmentation").name("Pencil"),o.add(this.gui_states,"brushAndEraserSize").min(5).max(50).step(1),o.add(this.gui_states,"Eraser").onChange(function(A){r.gui_states.Eraser=A,r.gui_states.Eraser?r.drawingCanvas.style.cursor="url(https://raw.githubusercontent.com/LinkunGao/copper3d_icons/main/icons/circular-cursor.png) 52 52, crosshair":r.drawingCanvas.style.cursor=r.nrrd_states.defaultPaintCursor}),o.add(this.gui_states,"clear"),o.add(this.gui_states,"clearAll"),o.add(this.gui_states,"undo"),o.add(this.mainPreSlice.volume,"windowHigh",this.mainPreSlice.volume.min,this.mainPreSlice.volume.max,1).name("Image contrast").onChange(function(A){r.nrrd_states.readyToUpdate=!1,r.updateSlicesContrast(A,"windowHigh")}).onFinishChange(function(){r.repraintAllContrastSlices(),r.nrrd_states.readyToUpdate=!0});var l=t.addFolder("Advance settings");l.add(this.gui_states,"dragSensitivity").min(1).max(this.nrrd_states.Max_sensitive).step(1);var d=l.addFolder("Pencil settings");d.add(this.gui_states,"lineWidth").name("outerLineWidth").min(1.7).max(3).step(.01),d.addColor(this.gui_states,"color"),d.addColor(this.gui_states,"fillColor");var g=l.addFolder("Brush settings");g.addColor(this.gui_states,"brushColor"),l.add(this.gui_states,"downloadCurrentImage");var v=l.addFolder("contrast advance settings");v.add(this.mainPreSlice.volume,"lowerThreshold",this.mainPreSlice.volume.min,this.mainPreSlice.volume.max,1).name("Lower Threshold").onChange(function(A){r.nrrd_states.readyToUpdate=!1,r.updateSlicesContrast(A,"lowerThreshold")}).onFinishChange(function(){r.repraintAllContrastSlices(),r.nrrd_states.readyToUpdate=!0}),v.add(this.mainPreSlice.volume,"upperThreshold",this.mainPreSlice.volume.min,this.mainPreSlice.volume.max,1).name("Upper Threshold").onChange(function(A){r.nrrd_states.readyToUpdate=!1,r.updateSlicesContrast(A,"upperThreshold")}).onFinishChange(function(){r.repraintAllContrastSlices(),r.nrrd_states.readyToUpdate=!0}),v.add(this.mainPreSlice.volume,"windowLow",this.mainPreSlice.volume.min,this.mainPreSlice.volume.max,1).name("Window Low").onChange(function(A){r.nrrd_states.readyToUpdate=!1,r.updateSlicesContrast(A,"windowLow")}).onFinishChange(function(){r.repraintAllContrastSlices(),r.nrrd_states.readyToUpdate=!0}),o.open()},m.prototype.updateSlicesContrast=function(t,r){switch(r){case"lowerThreshold":this.displaySlices.forEach(function(o,l){o.volume.lowerThreshold=t});break;case"upperThreshold":this.displaySlices.forEach(function(o,l){o.volume.upperThreshold=t});break;case"windowLow":this.displaySlices.forEach(function(o,l){o.volume.windowLow=t});break;case"windowHigh":this.displaySlices.forEach(function(o,l){o.volume.windowHigh=t});break}this.repraintCurrentContrastSlice()},m.prototype.resetPaintArea=function(t,r){t&&r?(this.displayCanvas.style.left=this.drawingCanvas.style.left=t+"px",this.displayCanvas.style.top=this.drawingCanvas.style.top=r+"px"):(this.displayCanvas.style.left=this.drawingCanvas.style.left="",this.displayCanvas.style.top=this.drawingCanvas.style.top="",this.mainAreaContainer.style.justifyContent="center",this.mainAreaContainer.style.alignItems="center")},m.prototype.redrawDisplayCanvas=function(){var t;this.updateCurrentContrastSlice(),this.displayCanvas.width=this.displayCanvas.width,this.displayCanvas.height=this.displayCanvas.height,this.originCanvas.width=this.originCanvas.width,this.currentShowingSlice&&(this.currentShowingSlice.repaint.call(this.currentShowingSlice),(t=this.displayCtx)===null||t===void 0||t.drawImage(this.currentShowingSlice.canvas,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight))},m.prototype.redrawMianPreOnDisplayCanvas=function(){var t;this.displayCanvas.width=this.displayCanvas.width,this.displayCanvas.height=this.displayCanvas.height,this.originCanvas.width=this.originCanvas.width,this.mainPreSlice&&(this.mainPreSlice.repaint.call(this.mainPreSlice),(t=this.displayCtx)===null||t===void 0||t.drawImage(this.originCanvas,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight),this.resizePaintArea(this.nrrd_states.sizeFoctor))},m.prototype.resizePaintArea=function(t){var r,o,l;switch(this.originCanvas.width=this.originCanvas.width,this.displayCanvas.width=this.displayCanvas.width,this.drawingCanvas.width=this.drawingCanvas.width,this.drawingCanvasLayerOne.width=this.drawingCanvasLayerOne.width,this.nrrd_states.changedWidth=this.nrrd_states.originWidth*t,this.nrrd_states.changedHeight=this.nrrd_states.originHeight*t,this.displayCanvas.width=this.nrrd_states.changedWidth,this.displayCanvas.height=this.nrrd_states.changedHeight,this.drawingCanvas.width=this.nrrd_states.changedWidth,this.drawingCanvas.height=this.nrrd_states.changedHeight,this.drawingCanvasLayerOne.width=this.nrrd_states.changedWidth,this.drawingCanvasLayerOne.height=this.nrrd_states.changedHeight,this.redrawDisplayCanvas(),!((r=this.paintedImage)===null||r===void 0)&&r.image,this.axis){case"x":this.paintImages.x.length>0?this.paintedImage=this.filterDrawedImage("x",this.nrrd_states.currentIndex):this.paintedImage=void 0;break;case"y":this.paintImages.y.length>0?this.paintedImage=this.filterDrawedImage("y",this.nrrd_states.currentIndex):this.paintedImage=void 0;break;case"z":this.paintImages.z.length>0?this.paintedImage=this.filterDrawedImage("z",this.nrrd_states.currentIndex):this.paintedImage=void 0;break}!((o=this.paintedImage)===null||o===void 0)&&o.image&&((l=this.drawingLayerOneCtx)===null||l===void 0||l.drawImage(this.paintedImage.image,0,0,this.nrrd_states.changedWidth,this.nrrd_states.changedHeight))},m.prototype.filterDrawedImage=function(t,r){return this.paintImages[t].filter(function(o){return o.index===r})[0]},m.prototype.removeGuiFolderChilden=function(t){var r=t.__controllers;r.length>0&&r.forEach(function(o){setTimeout(function(){t.remove(o)},100)})},m.prototype.verifyCanvasIsEmpty=function(t){this.emptyCanvas.width=t.width,this.emptyCanvas.height=t.height;var r=t.toDataURL()===this.emptyCanvas.toDataURL();return r},m.prototype.clearDictionary=function(t){for(var r in t)delete t[r]},m.prototype.storeAllImages=function(){var t,r,o,l=new Image;l.src=this.drawingCanvasLayerOne.toDataURL();var d={index:this.nrrd_states.currentIndex,image:l},g;switch(this.axis){case"x":g=this.filterDrawedImage("x",this.nrrd_states.currentIndex),g?g.image=l:(t=this.paintImages.x)===null||t===void 0||t.push(d);break;case"y":g=this.filterDrawedImage("y",this.nrrd_states.currentIndex),g?g.image=l:(r=this.paintImages.y)===null||r===void 0||r.push(d);break;case"z":g=this.filterDrawedImage("z",this.nrrd_states.currentIndex),g?g.image=l:(o=this.paintImages.z)===null||o===void 0||o.push(d);break}},m}(),yF="v1.12.18";console.log("%cCopper3D Visualisation %cBeta:v1.12.18","padding: 3px;color:white; background:#023047","padding: 3px;color:white; background:#f50a25"),i.CameraViewPoint=Al,i.REVISION=yF,i.addBoxHelper=XL,i.addLabelToScene=fF,i.configKiwriousHeart=_F,i.convert3DPostoScreenPos=pF,i.convertScreenPosto3DPos=hF,i.copperMScene=rC,i.copperMSceneRenderer=gF,i.copperRenderer=uF,i.copperRendererOnDemond=mF,i.copperScene=Zw,i.copperSceneOnDemond=nC,i.fullScreenListenner=S4,i.kiwrious=xc,i.loading=xE,i.nrrd_tools=AF,i.setHDRFilePath=JL,Object.defineProperty(i,"__esModule",{value:!0})})})(Qc,Qc.exports);const sU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAA3XQAAN10BGYBGXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAWxSURBVHic7Z1LaB1VGIC/1LZJ0LZ620ptrUlqrS1aEt/oRhTE58JqVVz42hQEURHU6kK6cScERfFBRetjoUFFXIhUpUWk0vioFKFBq5vGqm2q0YoxD+Pin0tyZ87M3Js75/wzc88HP4TJzPyvmfM+c8Hj8Xg8Ho/H4/G0Gm3aBtTJmcDlwIXA+kA6QueMAQcCGQR2AT+5M7F89ADbgIPA9BzlB+AJoNup5QXnEmAncw+6Sf4DPgAuduhH4VgJ7ECClWXwZ8sU8AqwwpFPheFu4E/sBT4so8AdLhzLO+3AdtwFPiwvAgute5lTlgFfoBf8quwBllr2NXcsBr5EP/hV2QsssupxjugAdqMf9LDsItq3KCUvoB/sOHnWot+54E70g5wmpW0dnQocQz/AaTKCNBBKx5voB7de2WEpBmqch90ebtYyBWy0Egkl3kc/qI3Ku1YiocBaivX0z34LeizEo4Z5thUgLR8b8w6fAhdZuG+VeYjthWeIbJ/Mr4CbmEmqzbfgu6yD4ZousgnEcWTQzvTE2y6KTs8kEjHMt3lz4ErDsSHgNaSVsQFYDlSQYYBR4DBwBJnNGgzkW2DCsq1xXAG8rqS7aZ4j+kT1Z6zD9hvwTMb21mC7Ej7bcGyPZZ1ZY/IhM2wnYI3h2JBlnVlj8iEzbCdgieHYUcs6s+Zkmze3XQmfZDj2e8o1fcAtwd9vIxVwM+wDBoK/bwV6G7y+0BM140QrtQUJ528OXTOOtPmTSKpAB0L6FgDvpFwTlrF6HM0rI0QdqiSc/7Ph/EMpOpKCd5rh/FUp14TlSIr+XPMjUYfOiTl3meHcepIWd81wwjWmRMfJ98kuNoftSvig4di6mHOPIp2wMMPIRE6jjCf8798G7mPyITNsJ8DU5Lwg4fz7qe3xTgTHNClas7mGe4i+0p+nXNMHPBlIoy2WennQYFecFHqOeDVRh6aAMzSNCthKfQkwVeSF4gBRp7aqWjRDP8nBL/xwNMBjRB37BejUNCqgDXie+AQ8omdadnQBk0Sdu0/TqFmcgMyuhe2bRIrQUvAGUQdHyUf5uhqxJWxfqZam9GKemH9L06iA9zA3FM7VNMoGr2IuZzWLoodjbNquaJM14pYmTgKbFOzZhDzpYXtKuzQR4DbMT9wYcKNDO25HhiNMtmx2aIcKccvTJ4B7LetuQ5qWcQvFSr88HWRP1sfEt70HkOIqa1YAHybo/YjkuYpSkbZF6RgyCNeega5O4CFkXD9OX0ttUaqyGPiE5KGAQ8CjzG1x1FnILvm0sf+dtGDwq7QjW0WTAlRtl+8FnkIq8o3AKcE92pBWyzpkLrkf+LqOe04j65ZadpvqbG4muYjIWn5Dp+mba5YCL2P/UwUvkTzF2fKsQYol04qKucoY8DQO1vuXiZb4XE2RP9i0iJmFX8eBv/AfbPIUlQrmvQS2uArzutWWZRtSZu8HtmDnmw0dwAPIQqtp4HELOgpJJ/ArtZXnMDJodx3NJaMTuAFpeh426MhiqKMp8lAJb0GanXH8DXyDrJLeh6xUGEHGi0YQHypIP6KCzGT1IuuL+oATE+59F7JdqqUZxF0POCyfOfAv16xHL/jTSK9btXPmYqN2EtrL/tpyYIMq1RaJpuy37mVO2YB+8Kuy1rKvsWgWQdcr6g5zrZZizQRcrag7zDVairX6AfOBP0huo7tkFOlHTLlWrPUGpHWQXLMEpaWIWgm4VElvEpdpKNVKQNI+MS3O11CqlQBbe7+aQcUmjUp4ITJ7lbflIP8gs2xOK2KNN6CH/AUfZOi6y7VSjQRY/fxLkzi3TSMB3Qo666XbtUKNBDh/zRug27VCjQSsVNBZL6tcK9RIwHIFnfXifGuSRgLy/Hstzm3zCailJRJg+o5cXnC+UUMjAeprcRJw/iM+GgnIYy+4ivOHwyegljy/nR6Px+PxeDwej6ck/A9up+46a1KUwwAAAABJRU5ErkJggg==",oU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAA3XQAAN10BGYBGXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAYDSURBVHic7ZxZbBVVGIC/1tKWpDRWENyw0hLXgjap4hI1uCX64kZcMBoxGiVBUR8EfVCjPvCgRiOIIqKNqEEDicuDpkpQgzWIUQIajSIaXDGttgiU0tv68N/GcufcuWeWM2fm3vMl/8tk/jP//8/MWf9zwOFwOBwOh8PhcDgcDofDUSlU2TZAk1bgfKADODEv9QX3DADf5uVzYAOwIzkTy49pwMPAdmAkpPwAPAgcl6jlGWcW0EX4oKtkGHgHOCNBPzLHUUAnEqw4gz9WcsBLwBEJ+ZQZbgb6MRf4QukDbkzCsbRTB6wkucAXyvNArXEvU8ok4DPsBX9UuoGJhn1NHY3AZuwHf1Q2AROMepwi6oGPsB/0QtmAd2xRljxHsMAcAL4MqBNWlhr0OxXcRPCgdCJ19I8hdMNI2faOJgO9BAtGDpiZ1z8T2BtQP4z0IB2EsuNVggfj2YIyziGZ8UJnvK7bp53gI9we5K8pZDawO2BZQSUHzIjN+xTwFsECMAxc6lPedGBLwDKDyroY/E4F0wn+9S/TKHcC8ErAcoP+BdMi+J0aHiGY428A1QHK70Dm/028hIdCeZwyvkPf4Q+B8SGeUQvcGvBZOvJ1CFtSRTP6zr5L9JFoNXAl0uMK2uUtJsdEtMkq89Bz8ilgXMzPrgHOBe5FXsg24Df+H0vsA34FvgJeAx5A/QdlemC2FP/A/wVcY806L8/gtfFpqxZFpNjSYg5YRfpGnHPx2vqeVYsiopq/WQOcZNMoH9rx2vu9VYsi0oPXocOtWuTPVNTVpDFqTBYONCiu9Wvq1iJrxW3AVmR+ZtCwbq/iWqYXagbxflE6vZ1avMuV3eit30bRrVPYO6Chl1pUVdBhGnq3K/RGgNsM605S6BmtgoIM+cPQp7h2pIZeW5HrOjOUUXRVtv2joRca0y9gu+La8Rp624pc32pY9wTFNZUPmUE1EHtMQ89WG7BEYa/RgZjpXtAXimuzNfQGgfMI15OJoquybbOGXmpR9atzwLE2jSpCC+p1C502KzSm24CdyARX4TPnGn5uGK7Hu1/iG+B3C7bEyv14v6o/CDfvb4oGpLtZaOd9No2Ki2ZgCK9zC2waVcA9eO0bQqrQsmA1Xgf7MFy/anI06lSXskpNORV1A7fGplFInb8OdUeh2IAus7yMeorAZlV0dxGbVlq0yRjFUhOHkHXcpJmDum0q29REgGtRf3EDwBUJ2nFV/pkqW+YkaIcViqWnHwDmJ/D8Bai//BEqID0dZE7mA9QBGAHeRJ0TGpUpwFqf575P/JkZqaXUFqVe4C5kgSQq9Uhj+7fP8ypqi9IojUgmXLGgjAC/AIsIlxw1FViM5P74PaOLCgz+KHXIVlG/AI32yzcBjyMN+QygaUw5TchGjuuAJ/L35jTKXUYFb1Mdy9Wo52JMyS7sdH1TzUTgRcwfVbACvXXpiqUFqZZUGRVhZQBZ2SqLfP+wHIr0bLYgCbOlzipK8riaKmAh8ClwZ97WsuF0pGrZw8HBWYv+EQGtwC3Ipr31SJbz2H1iu/PX1ufvmYf+1z4FeLvAtj3IfFCHZhmp5GxgI/5f6J/YWx2rQl6UKndprGwEzrJkYyhakG1GQRrTj5Fc/qS4EMmU0LVvGJk6T3UbMg54lOKTXDrSBVwOHGLAvhqkuxvlnIoBZM+b6WySwLQS79EzPwNPIl9qlPmZWuBipAe0M0b7uonpb4jj1MQbkIavMYayVOxFXu4nyImIO4CfkIby3/w9DXlpRgJzMlKlzcLc4n8/cAfwuqHyS1KFOpOs0mRJ1ECGoRpYHsLYcpXlmM+xOogXDDiRdVkRKaIBWJyQQ1mURRHiqsVl6E3zVqrk8D9kJBKTSXbKOKuyC0MbEVelwLmsSOx5RW2YnacvNxkGTtEJrG7XaSHZOeo+DVQhU+9aN5aiCVnYTlM6eRbYhxxI7rvJT+cPuAQX/DCMBy4qdZPOC9DZ0+VQc0GpG3ReQHsMhlQqp5W6QecFtMRgSKVSMnY6jfB+XPJSWPZTIQeCOxwOh8PhcDgcDofD4XA4HA6HP/8BSHPkmGmqh+wAAAAASUVORK5CYII=",aU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAA3XQAAN10BGYBGXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAYCSURBVHic7ZxriFVVFIC/sXHmOqVlU42k0zQ2UdDTsOz9AEnJ6OFIFlH0qwikB0RZ2RRB0I8iondYaqQYUlFBZBbYj1BHp4wINdKIqYaUZpypaFKn2499L13PrH32utd77znXWR8sBvasdfZea5/HOnuvc8EwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwyk5d0gNQcgpwBTATOD0nmYjOMLA9J5uB9cCP1Rvi4Uc78ASwE8iWKD8AXcDJVR15jTMLWEfpQZfkX+Aj4IIq+lFznAiswAWrnMEvlBFgGTClSj7VDHcAQ1Qu8FEZBG6rhmNppxFYSvUCH5XXgIaKe5lSjgM2klzw87IBaK6wr6ljErCF5IOfl25gYkU9ThEZ4AuSD3pU1jP63aJmGY//3voqyQfbJy96xpwBmoqMQSI0416ePkF+y76d5IMcEl929BnwNCl9XjQADwIDOCduFHROAPpJPsAh+R2XIESZn/v/APAQLoNLBXNw6y95BzYjn/0rSSagpcgKYfx1wNcFOruABUXEqexkgJcZPfhOQXcGlX3DLbeMAGcJftwi6L5NAhlUB7BVGMwgcibxgaCbdnlP8KMJ+Y39e+BMVeTKwMX47+VvCPod1NbZX3gVtAv+vOnR3wtcqojfIXFRriPfoOcKNk/G6KddHhf8mROjP5SLUUWYBvTFdP43cu6/I8Ym7fKd4E8DbvPHZ9MHTA3EsmiOADYFBrtRsGsP2NSCtAl+hWKxIRezIOM0SsDdhDczNgltVyqPn2YuF9q6AzYXAndpDq6ZgCZgiUKvR2ibqRlEyjlfaJN8jdKFYvlCMwHXAi0KvZ1C22kKu7Qj+bBLYdcCzAspaSbgeoUOuOwoynSlbZqRfBhQ2l4XUtBMwLnKzvqFtqOVtmnmGKFN8lViRkhBMwHTlJ1JZ8VRStu0kBXapGUG7QS0hhQ0E3AoxVu1UviVZ3+ZjydN6EFoJqBX2dmxQtsfStu0IMVD8kG7J/BTKR1G+UbZ2WShbVBpmxbqhTYpuZB8ldgaUtBMwPvKzqRBSalpKRwo03FKQfJBewWsCSloJuBjYI9CT0rXdijsQvSQbBGV5EOHwq4X+DSkpJmAv4BHFXqzhDbNG2OIx4DVwP0oHmoVYIvQJr0dR1kM7CvXIOpxW41xC1DSWlBbwCYkz0eONw93NVZzMU5Kw0M1TV+iX2dT0wr8FtPpMPJy9PYYmzhZhvxQnAosJ35JuFwiLUc3Av/E2PyKKzSuCJfgMhtf59cINkti9CXZA9ypGEsL8ACu7DxfjVGq+HbsHhb6nRdznL3It2IvpbwonQGsRd50WAXcGmlrw2USofXxb4G3cMW6UuoXxzjchEzBnX1NxKeKw7gNpAHcLtZs4KmITn5LMvoetAq3OR+lF7dbtq3IsZfEqbj3g+gZMARMEPRXC7pZYDfwHP41k+OBy3J/i0Vr24J8Ba0UdCcgb8p/RQILjxngFWEwNwm65yBf5u/EHP8R3NJAFpdNLC5ibFrbOlz1Q3RcI8hVDgsF3RdIuEhrLgfv+/Yg39qWM3rwWWCRoDvbo3uVYjzF2N7n0V0q6NbhzvS8zjbgasV4qkK+NDFfMXGDoOMrTTzA6FLGZwW9LPCMYixa2wW5vqN6vtLEztz/+3EP//GKsVSdI4F7ccW5Uh4sXcJZ3EOxcNK6PHqarVGN7Xz8aaxUblgPfIgrLk5NTWgcTfhr7X3l6ftxm//gMqfow24QOEnRd8h2EfKZn8Vfnt5ASs/4UmjAlXr7cuk1uNvVebjPVftwayrB3aUCJNsW4N2YftdyGAU5ROgTpX7gHspzuWdwD9u4l7Ux9YlSnknA5/iDkgV+xtXia7dFC2nFpZ+/BPpYxxgMfp5G3KeicQHK4vLyblwmsxBXOl74pjsZOBu4GZcFdedsQsd9iTH8mWohnVR3lXM38lc8Y5pmXHl7pX+q4HXk/Wsjx3TcbWkf5Qv8MG5vQar3NzyMiZ+rqZW6HekHmybyf+HXn7jyEfvBJsMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMOA/wBRhElTRA5BGwAAAABJRU5ErkJggg==",Zg=e=>(vx("data-v-f6d90a2f"),e=e(),_x(),e),lU={class:"nav"},cU={class:"content"},uU={class:"arrows"},dU=Zg(()=>Ce("img",{class:"image",src:sU,alt:""},null,-1)),fU=[dU],hU=Zg(()=>Ce("img",{class:"image",src:oU,alt:""},null,-1)),pU=[hU],mU=Zg(()=>Ce("img",{class:"image",src:aU,alt:""},null,-1)),gU=[mU],vU=Zg(()=>Ce("ion-icon",{name:"cloud-upload-outline"},null,-1)),_U=[vU],AU=Ge({__name:"NavBar",props:{fileNum:{default:0},min:{default:0},max:{default:160},showContrast:{type:Boolean,default:!1},initSliceIndex:null,immediateSliceNum:{default:0},contrastIndex:{default:0},isAxisClicked:{type:Boolean,default:!1}},emits:["onSliceChange","resetMainAreaSize","onChangeOrientation","onOpenDialog"],setup(e,{emit:n}){const i=e,s=Tr(i),{immediateSliceNum:a,contrastIndex:u,initSliceIndex:f,fileNum:h}=xi(s),_=re(0);let y=0,S=0,b=!1,w=!1;const C=()=>{n("onOpenDialog",!0)},x=D=>{b=!0,n("onChangeOrientation",D)};document.addEventListener("keydown",D=>{D.key==="ArrowUp"&&(S-=1,T(),n("onSliceChange",-1)),D.key==="ArrowDown"&&(S+=1,T(),n("onSliceChange",1))});const M=()=>{const D=_.value-S;S+=D,!b&&!w&&n("onSliceChange",D),b=!1,w=!1},T=()=>{_.value=S};return es(()=>{const D=y;y=h.value,D>0&&(w=!0,S=Math.floor(S/D)*y,T(),w=!1)}),es(()=>{S=a.value*h.value+u.value,T()}),es(()=>{f!=null&&f.value&&(S=(f==null?void 0:f.value)*h.value),T()}),(D,F)=>{const N=Mn("el-slider");return Q(),ve("div",lU,[Ce("div",cU,[Re(N,{modelValue:_.value,"onUpdate:modelValue":F[0]||(F[0]=G=>_.value=G),max:p(i).max,onInput:M,"show-input":""},null,8,["modelValue","max"]),Ce("div",uU,[Ce("span",{onClick:F[1]||(F[1]=G=>x("x"))},fU),Ce("span",{onClick:F[2]||(F[2]=G=>x("z"))},pU),Ce("span",{onClick:F[3]||(F[3]=G=>x("y"))},gU),Ce("span",{onClick:C},_U)])])])}}}),oR=(e,n)=>{const i=e.__vccOpts||e;for(const[s,a]of n)i[s]=a;return i},yU=oR(AU,[["__scopeId","data-v-f6d90a2f"]]);/*! Element Plus Icons Vue v2.0.10 */var Ar=(e,n)=>{let i=e.__vccOpts||e;for(let[s,a]of n)i[s]=a;return i},bU={name:"ArrowDown"},SU={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},EU=Ce("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),wU=[EU];function CU(e,n,i,s,a,u){return Q(),ve("svg",SU,wU)}var nc=Ar(bU,[["render",CU],["__file","arrow-down.vue"]]),IU={name:"ArrowLeft"},MU={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},xU=Ce("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),RU=[xU];function TU(e,n,i,s,a,u){return Q(),ve("svg",MU,RU)}var Wl=Ar(IU,[["render",TU],["__file","arrow-left.vue"]]),PU={name:"ArrowRight"},NU={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},DU=Ce("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),BU=[DU];function kU(e,n,i,s,a,u){return Q(),ve("svg",NU,BU)}var vs=Ar(PU,[["render",kU],["__file","arrow-right.vue"]]),LU={name:"ArrowUp"},OU={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},FU=Ce("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),VU=[FU];function GU(e,n,i,s,a,u){return Q(),ve("svg",OU,VU)}var ev=Ar(LU,[["render",GU],["__file","arrow-up.vue"]]),UU={name:"Back"},HU={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},QU=Ce("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),XU=Ce("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1),zU=[QU,XU];function $U(e,n,i,s,a,u){return Q(),ve("svg",HU,zU)}var WU=Ar(UU,[["render",$U],["__file","back.vue"]]),KU={name:"Calendar"},jU={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},qU=Ce("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),YU=[qU];function JU(e,n,i,s,a,u){return Q(),ve("svg",jU,YU)}var ZU=Ar(KU,[["render",JU],["__file","calendar.vue"]]),eH={name:"CaretRight"},tH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},nH=Ce("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),rH=[nH];function iH(e,n,i,s,a,u){return Q(),ve("svg",tH,rH)}var aR=Ar(eH,[["render",iH],["__file","caret-right.vue"]]),sH={name:"CaretTop"},oH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},aH=Ce("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"},null,-1),lH=[aH];function cH(e,n,i,s,a,u){return Q(),ve("svg",oH,lH)}var uH=Ar(sH,[["render",cH],["__file","caret-top.vue"]]),dH={name:"Check"},fH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hH=Ce("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),pH=[hH];function mH(e,n,i,s,a,u){return Q(),ve("svg",fH,pH)}var ep=Ar(dH,[["render",mH],["__file","check.vue"]]),gH={name:"CircleCheckFilled"},vH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_H=Ce("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),AH=[_H];function yH(e,n,i,s,a,u){return Q(),ve("svg",vH,AH)}var bH=Ar(gH,[["render",yH],["__file","circle-check-filled.vue"]]),SH={name:"CircleCheck"},EH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},wH=Ce("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),CH=Ce("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),IH=[wH,CH];function MH(e,n,i,s,a,u){return Q(),ve("svg",EH,IH)}var ab=Ar(SH,[["render",MH],["__file","circle-check.vue"]]),xH={name:"CircleCloseFilled"},RH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},TH=Ce("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),PH=[TH];function NH(e,n,i,s,a,u){return Q(),ve("svg",RH,PH)}var lb=Ar(xH,[["render",NH],["__file","circle-close-filled.vue"]]),DH={name:"CircleClose"},BH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kH=Ce("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),LH=Ce("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),OH=[kH,LH];function FH(e,n,i,s,a,u){return Q(),ve("svg",BH,OH)}var rc=Ar(DH,[["render",FH],["__file","circle-close.vue"]]),VH={name:"Clock"},GH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},UH=Ce("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),HH=Ce("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),QH=Ce("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),XH=[UH,HH,QH];function zH(e,n,i,s,a,u){return Q(),ve("svg",GH,XH)}var lR=Ar(VH,[["render",zH],["__file","clock.vue"]]),$H={name:"Close"},WH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},KH=Ce("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),jH=[KH];function qH(e,n,i,s,a,u){return Q(),ve("svg",WH,jH)}var zo=Ar($H,[["render",qH],["__file","close.vue"]]),YH={name:"DArrowLeft"},JH={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ZH=Ce("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),eQ=[ZH];function tQ(e,n,i,s,a,u){return Q(),ve("svg",JH,eQ)}var Td=Ar(YH,[["render",tQ],["__file","d-arrow-left.vue"]]),nQ={name:"DArrowRight"},rQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},iQ=Ce("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),sQ=[iQ];function oQ(e,n,i,s,a,u){return Q(),ve("svg",rQ,sQ)}var Pd=Ar(nQ,[["render",oQ],["__file","d-arrow-right.vue"]]),aQ={name:"Delete"},lQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},cQ=Ce("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),uQ=[cQ];function dQ(e,n,i,s,a,u){return Q(),ve("svg",lQ,uQ)}var fQ=Ar(aQ,[["render",dQ],["__file","delete.vue"]]),hQ={name:"Document"},pQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},mQ=Ce("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),gQ=[mQ];function vQ(e,n,i,s,a,u){return Q(),ve("svg",pQ,gQ)}var _Q=Ar(hQ,[["render",vQ],["__file","document.vue"]]),AQ={name:"FullScreen"},yQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},bQ=Ce("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),SQ=[bQ];function EQ(e,n,i,s,a,u){return Q(),ve("svg",yQ,SQ)}var wQ=Ar(AQ,[["render",EQ],["__file","full-screen.vue"]]),CQ={name:"Hide"},IQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},MQ=Ce("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),xQ=Ce("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),RQ=[MQ,xQ];function TQ(e,n,i,s,a,u){return Q(),ve("svg",IQ,RQ)}var PQ=Ar(CQ,[["render",TQ],["__file","hide.vue"]]),NQ={name:"InfoFilled"},DQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},BQ=Ce("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),kQ=[BQ];function LQ(e,n,i,s,a,u){return Q(),ve("svg",DQ,kQ)}var cb=Ar(NQ,[["render",LQ],["__file","info-filled.vue"]]),OQ={name:"Loading"},FQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},VQ=Ce("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),GQ=[VQ];function UQ(e,n,i,s,a,u){return Q(),ve("svg",FQ,GQ)}var ic=Ar(OQ,[["render",UQ],["__file","loading.vue"]]),HQ={name:"Minus"},QQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},XQ=Ce("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),zQ=[XQ];function $Q(e,n,i,s,a,u){return Q(),ve("svg",QQ,zQ)}var WQ=Ar(HQ,[["render",$Q],["__file","minus.vue"]]),KQ={name:"MoreFilled"},jQ={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},qQ=Ce("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),YQ=[qQ];function JQ(e,n,i,s,a,u){return Q(),ve("svg",jQ,YQ)}var iI=Ar(KQ,[["render",JQ],["__file","more-filled.vue"]]),ZQ={name:"More"},eX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},tX=Ce("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),nX=[tX];function rX(e,n,i,s,a,u){return Q(),ve("svg",eX,nX)}var iX=Ar(ZQ,[["render",rX],["__file","more.vue"]]),sX={name:"PictureFilled"},oX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},aX=Ce("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32H96zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112zM256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384z"},null,-1),lX=[aX];function cX(e,n,i,s,a,u){return Q(),ve("svg",oX,lX)}var uX=Ar(sX,[["render",cX],["__file","picture-filled.vue"]]),dX={name:"Plus"},fX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hX=Ce("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),pX=[hX];function mX(e,n,i,s,a,u){return Q(),ve("svg",fX,pX)}var cR=Ar(dX,[["render",mX],["__file","plus.vue"]]),gX={name:"QuestionFilled"},vX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_X=Ce("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1),AX=[_X];function yX(e,n,i,s,a,u){return Q(),ve("svg",vX,AX)}var bX=Ar(gX,[["render",yX],["__file","question-filled.vue"]]),SX={name:"RefreshLeft"},EX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},wX=Ce("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),CX=[wX];function IX(e,n,i,s,a,u){return Q(),ve("svg",EX,CX)}var MX=Ar(SX,[["render",IX],["__file","refresh-left.vue"]]),xX={name:"RefreshRight"},RX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},TX=Ce("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),PX=[TX];function NX(e,n,i,s,a,u){return Q(),ve("svg",RX,PX)}var DX=Ar(xX,[["render",NX],["__file","refresh-right.vue"]]),BX={name:"ScaleToOriginal"},kX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},LX=Ce("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),OX=[LX];function FX(e,n,i,s,a,u){return Q(),ve("svg",kX,OX)}var VX=Ar(BX,[["render",FX],["__file","scale-to-original.vue"]]),GX={name:"Search"},UX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},HX=Ce("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),QX=[HX];function XX(e,n,i,s,a,u){return Q(),ve("svg",UX,QX)}var zX=Ar(GX,[["render",XX],["__file","search.vue"]]),$X={name:"SortDown"},WX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},KX=Ce("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0z"},null,-1),jX=[KX];function qX(e,n,i,s,a,u){return Q(),ve("svg",WX,jX)}var YX=Ar($X,[["render",qX],["__file","sort-down.vue"]]),JX={name:"SortUp"},ZX={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ez=Ce("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248z"},null,-1),tz=[ez];function nz(e,n,i,s,a,u){return Q(),ve("svg",ZX,tz)}var rz=Ar(JX,[["render",nz],["__file","sort-up.vue"]]),iz={name:"StarFilled"},sz={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},oz=Ce("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),az=[oz];function lz(e,n,i,s,a,u){return Q(),ve("svg",sz,az)}var Sm=Ar(iz,[["render",lz],["__file","star-filled.vue"]]),cz={name:"Star"},uz={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},dz=Ce("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1),fz=[dz];function hz(e,n,i,s,a,u){return Q(),ve("svg",uz,fz)}var pz=Ar(cz,[["render",hz],["__file","star.vue"]]),mz={name:"SuccessFilled"},gz={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},vz=Ce("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),_z=[vz];function Az(e,n,i,s,a,u){return Q(),ve("svg",gz,_z)}var uR=Ar(mz,[["render",Az],["__file","success-filled.vue"]]),yz={name:"UploadFilled"},bz={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Sz=Ce("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6H544z"},null,-1),Ez=[Sz];function wz(e,n,i,s,a,u){return Q(),ve("svg",bz,Ez)}var Cz=Ar(yz,[["render",wz],["__file","upload-filled.vue"]]),Iz={name:"View"},Mz={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},xz=Ce("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),Rz=[xz];function Tz(e,n,i,s,a,u){return Q(),ve("svg",Mz,Rz)}var Pz=Ar(Iz,[["render",Tz],["__file","view.vue"]]),Nz={name:"WarningFilled"},Dz={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Bz=Ce("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),kz=[Bz];function Lz(e,n,i,s,a,u){return Q(),ve("svg",Dz,kz)}var tv=Ar(Nz,[["render",Lz],["__file","warning-filled.vue"]]),Oz={name:"ZoomIn"},Fz={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Vz=Ce("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),Gz=[Vz];function Uz(e,n,i,s,a,u){return Q(),ve("svg",Fz,Gz)}var dR=Ar(Oz,[["render",Uz],["__file","zoom-in.vue"]]),Hz={name:"ZoomOut"},Qz={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Xz=Ce("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),zz=[Xz];function $z(e,n,i,s,a,u){return Q(),ve("svg",Qz,zz)}var Wz=Ar(Hz,[["render",$z],["__file","zoom-out.vue"]]);const ub=e=>(vx("data-v-504a663e"),e=e(),_x(),e),Kz=ub(()=>Ce("div",{class:"el-upload__text"},[hr(" Drop file here or "),Ce("em",null,"click to upload")],-1)),jz=ub(()=>Ce("div",{class:"el-upload__tip"},"Please drag or upload NRRD files!",-1)),qz=ub(()=>Ce("div",{class:"el-upload__tip"}," Ready to Submit: Please click drak area!!! ",-1)),Yz=Ge({__name:"Upload",props:{dialog:{type:Boolean,default:!1}},emits:["onCloseDialog","getLoadFilesUrls"],setup(e,{emit:n}){let i=[],s=[],a=!1;const u=S=>{let b=S.currentTarget,w=S.target;b===w&&(i.forEach(C=>{const x=URL.createObjectURL(C);s.push(x)}),n("getLoadFilesUrls",s),n("onCloseDialog",!1),a=!0,f())},f=()=>{i=[],s.forEach(S=>{URL.revokeObjectURL(S)}),s=[]},h=S=>{a&&(a=!1,f());let b=S.name,w;b.match(/\.(nrrd)$/)&&(w=S.raw,i.push(w)),w||y("No .nrrd asset found!")},_=S=>{i=i.filter(b=>b.name!==S.name)},y=S=>{let b=(S||{}).message||S.toString();b.match(/ProgressEvent/)?b="Unable to retrieve this file. Check JS console and browser network tab.":b.match(/Unexpected token/)?b=`Unable to parse file content. Verify that this file is valid. Error: "${b}"`:S&&S.target&&S.target instanceof Image&&(b="Missing texture: "+S.target.src.split("/").pop()),window.alert(b)};return(S,b)=>{const w=Mn("el-icon"),C=Mn("el-upload");return e.dialog?(Q(),ve("div",{key:0,onClick:u,class:"upload_container"},[Re(C,{"auto-upload":!1,onChange:h,onRemove:_,class:"upload-demo",drag:"",action:"/",multiple:""},{tip:Ue(()=>[jz,qz]),default:Ue(()=>[Re(w,{class:"el-icon--upload"},{default:Ue(()=>[Re(p(Cz))]),_:1}),Kz]),_:1})])):Ye("",!0)}}}),Jz=oR(Yz,[["__scopeId","data-v-504a663e"]]),Zz=XG("<h3>How to use:</h3><p><strong>--&gt; Zoom:</strong> Mouse wheel.</p><p><strong>--&gt; Pan: </strong> Mouse right click + drag image.</p><p><strong>--&gt; Switch slice:</strong> Mouse left click + drag image.</p><p><strong>--&gt; Painting:</strong> Press `shift` key on your keyboard (don&#39;t release it), then use mouse left click to paint. </p><p><strong> --&gt; Undo:</strong> 1. In GUI click undo; or 2. on keyborad using ctrl+z (windows) / command+z (mac). </p><p><strong> --&gt; Cursor Inspector:</strong> Press `s` on the keyboard to enable/disable, then left click on images, and use bottom tool&#39;s bar to switch the image orientation. </p>",7),e$=[Zz],t$=Ge({__name:"App",setup(e){let n,i=re(0),s=re(0),a=re(0),u=re(0),f=re(0),h=re(!1),_=re(),y=re(),S=re(),b=re(),w,C=re(),x=new eU({width:300,autoPlace:!1}),M,T,D=[],F=[],N=re(0),G,U=!0;jn(()=>{var be;console.log("%cNRRD Segmentation App %cBeta:v2.2.0","padding: 3px;color:white; background:#d94607","padding: 3px;color:white; background:#219EBC"),(be=S.value)==null||be.appendChild(x.domElement),n=new Qc.exports.copperRenderer(_.value),M=new Qc.exports.nrrd_tools(b.value),T=Qc.exports.loading(),b.value.appendChild(T.loadingContainer),document.addEventListener("keydown",_e=>{_e.code==="KeyF"&&Qc.exports.fullScreenListenner(_.value)}),ye(),pe("nrrd_tools"),n.animate()});const $=be=>{u.value=be.length,F=be,F.length>0&&ae(F)},de=be=>{h.value=be},ee=be=>{h.value=be},se=be=>{M.setSliceOrientation(be),i.value=M.getMaxSliceNum()[1];const{currentIndex:_e,contrastIndex:ie}=M.getCurrentSlicesNumAndContrastNum();s.value=_e,a.value=ie},oe=be=>{M.setSliceMoving(be)},Ie=be=>{M.setMainAreaSize(be)};es(()=>{if(N.value!=0&&D.length!=0&&N.value===F.length){console.log("All files ready!"),M.clear(),D.sort((ie,fe)=>ie.order-fe.order),M.setShowInMainArea(!0),M.setAllSlices(D),f.value=M.getCurrentSliceIndex();const be=(ie,fe)=>{s.value=ie,a.value=fe};U?(M.drag({showNumber:!0,getSliceNum:be}),M.draw(w,x),w==null||w.addPreRenderCallbackFunction(M.start)):M.redrawMianPreOnDisplayCanvas(),i.value=M.getMaxSliceNum()[1],setTimeout(()=>{f.value=0,N.value=0},1e3),U=!1;const _e={};for(let ie=0;ie<D.length;ie++)if(ie==0)_e.pre=!0;else{const fe="contrast"+ie;_e[fe]=!0}M.removeGuiFolderChilden(G);for(let ie=0;ie<D.length;ie++){let fe="";ie===0?fe="pre":fe="contrast"+ie,G.add(_e,fe).onChange(le=>{le?(u.value+=1,M.addSkip(ie)):(u.value-=1,M.removeSkip(ie));const ke=M.getMaxSliceNum()[1];ke&&(i.value=ke)})}}});function pe(be){w=n.getSceneByName(be),w==null&&(w=n.createScene(be),w&&(n.setCurrentScene(w),w&&w.loadViewUrl("/NRRD_Segmentation_Tool/nrrd_view.json"),Qc.exports.setHDRFilePath("/NRRD_Segmentation_Tool/venice_sunset_1k.hdr"),w.updateBackground("#18e5a7","#ff00ff")),n.updateEnvironment(),F=["/NRRD_Segmentation_Tool/nrrd/case1/pre.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c1.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c2.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c3.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c4.nrrd"],ae(F))}const ae=be=>{u.value=be.length,D=[];const _e=(ie,fe,le)=>{const ke=Object.assign(le,{order:0});D.push(ke),C.value=le,N.value+=1};w==null||w.loadNrrd(be[0],T,_e);for(let ie=1;ie<be.length;ie++)w==null||w.loadNrrd(be[ie],T,(fe,le,ke)=>{const ze=Object.assign(ke,{order:ie});D.push(ze),N.value+=1})};function ye(){const be={introduction:!0,showContrast:!1,switchCase:"case1"};x.add(be,"introduction").name("Intro Panel").onChange(_e=>{_e?y.value.style.display="flex":y.value.style.display="none"}),x.add(be,"switchCase",["case1","case2","case3"]).onChange(_e=>{switch(_e){case"case1":F=["/NRRD_Segmentation_Tool/nrrd/case1/pre.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c1.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c2.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c3.nrrd","/NRRD_Segmentation_Tool/nrrd/case1/c4.nrrd"];break;case"case2":F=["/NRRD_Segmentation_Tool/nrrd/case2/pre.nrrd","/NRRD_Segmentation_Tool/nrrd/case2/c1.nrrd","/NRRD_Segmentation_Tool/nrrd/case2/c2.nrrd","/NRRD_Segmentation_Tool/nrrd/case2/c3.nrrd","/NRRD_Segmentation_Tool/nrrd/case2/c4.nrrd"];break;case"case3":F=["/NRRD_Segmentation_Tool/nrrd/case3/pre.nrrd","/NRRD_Segmentation_Tool/nrrd/case3/c1.nrrd","/NRRD_Segmentation_Tool/nrrd/case3/c2.nrrd","/NRRD_Segmentation_Tool/nrrd/case3/c3.nrrd","/NRRD_Segmentation_Tool/nrrd/case3/c4.nrrd"];break}$(F)}),G=x.addFolder("select display contrast")}return(be,_e)=>(Q(),ve("div",{id:"bg",ref_key:"base_container",ref:_},[Ce("div",{class:"intro",ref_key:"intro",ref:y},e$,512),Ce("div",{ref_key:"c_gui",ref:S,id:"gui"},null,512),Ce("div",{ref_key:"nrrd_c",ref:b,class:"nrrd_c"},null,512),Re(yU,{"file-num":p(u),max:p(i),"immediate-slice-num":p(s),"contrast-index":p(a),"init-slice-index":p(f),onOnSliceChange:oe,onResetMainAreaSize:Ie,onOnChangeOrientation:se,onOnOpenDialog:de},null,8,["file-num","max","immediate-slice-num","contrast-index","init-slice-index"]),Re(Jz,{dialog:p(h),onOnCloseDialog:ee,onGetLoadFilesUrls:$},null,8,["dialog"])],512))}});var n$=typeof global=="object"&&global&&global.Object===Object&&global;const fR=n$;var r$=typeof self=="object"&&self&&self.Object===Object&&self,i$=fR||r$||Function("return this")();const qo=i$;var s$=qo.Symbol;const go=s$;var hR=Object.prototype,o$=hR.hasOwnProperty,a$=hR.toString,jf=go?go.toStringTag:void 0;function l$(e){var n=o$.call(e,jf),i=e[jf];try{e[jf]=void 0;var s=!0}catch{}var a=a$.call(e);return s&&(n?e[jf]=i:delete e[jf]),a}var c$=Object.prototype,u$=c$.toString;function d$(e){return u$.call(e)}var f$="[object Null]",h$="[object Undefined]",sI=go?go.toStringTag:void 0;function Kd(e){return e==null?e===void 0?h$:f$:sI&&sI in Object(e)?l$(e):d$(e)}function Za(e){return e!=null&&typeof e=="object"}var p$="[object Symbol]";function nv(e){return typeof e=="symbol"||Za(e)&&Kd(e)==p$}function pR(e,n){for(var i=-1,s=e==null?0:e.length,a=Array(s);++i<s;)a[i]=n(e[i],i,e);return a}var m$=Array.isArray;const Js=m$;var g$=1/0,oI=go?go.prototype:void 0,aI=oI?oI.toString:void 0;function mR(e){if(typeof e=="string")return e;if(Js(e))return pR(e,mR)+"";if(nv(e))return aI?aI.call(e):"";var n=e+"";return n=="0"&&1/e==-g$?"-0":n}var v$=/\s/;function _$(e){for(var n=e.length;n--&&v$.test(e.charAt(n)););return n}var A$=/^\s+/;function y$(e){return e&&e.slice(0,_$(e)+1).replace(A$,"")}function vo(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var lI=0/0,b$=/^[-+]0x[0-9a-f]+$/i,S$=/^0b[01]+$/i,E$=/^0o[0-7]+$/i,w$=parseInt;function cI(e){if(typeof e=="number")return e;if(nv(e))return lI;if(vo(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=vo(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=y$(e);var i=S$.test(e);return i||E$.test(e)?w$(e.slice(2),i?2:8):b$.test(e)?lI:+e}function db(e){return e}var C$="[object AsyncFunction]",I$="[object Function]",M$="[object GeneratorFunction]",x$="[object Proxy]";function gR(e){if(!vo(e))return!1;var n=Kd(e);return n==I$||n==M$||n==C$||n==x$}var R$=qo["__core-js_shared__"];const HA=R$;var uI=function(){var e=/[^.]+$/.exec(HA&&HA.keys&&HA.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function T$(e){return!!uI&&uI in e}var P$=Function.prototype,N$=P$.toString;function mu(e){if(e!=null){try{return N$.call(e)}catch{}try{return e+""}catch{}}return""}var D$=/[\\^$.*+?()[\]{}|]/g,B$=/^\[object .+?Constructor\]$/,k$=Function.prototype,L$=Object.prototype,O$=k$.toString,F$=L$.hasOwnProperty,V$=RegExp("^"+O$.call(F$).replace(D$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function G$(e){if(!vo(e)||T$(e))return!1;var n=gR(e)?V$:B$;return n.test(mu(e))}function U$(e,n){return e==null?void 0:e[n]}function gu(e,n){var i=U$(e,n);return G$(i)?i:void 0}var H$=gu(qo,"WeakMap");const B0=H$;var dI=Object.create,Q$=function(){function e(){}return function(n){if(!vo(n))return{};if(dI)return dI(n);e.prototype=n;var i=new e;return e.prototype=void 0,i}}();const X$=Q$;function z$(e,n,i){switch(i.length){case 0:return e.call(n);case 1:return e.call(n,i[0]);case 2:return e.call(n,i[0],i[1]);case 3:return e.call(n,i[0],i[1],i[2])}return e.apply(n,i)}function $$(){}function W$(e,n){var i=-1,s=e.length;for(n||(n=Array(s));++i<s;)n[i]=e[i];return n}var K$=800,j$=16,q$=Date.now;function Y$(e){var n=0,i=0;return function(){var s=q$(),a=j$-(s-i);if(i=s,a>0){if(++n>=K$)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function J$(e){return function(){return e}}var Z$=function(){try{var e=gu(Object,"defineProperty");return e({},"",{}),e}catch{}}();const bg=Z$;var e9=bg?function(e,n){return bg(e,"toString",{configurable:!0,enumerable:!1,value:J$(n),writable:!0})}:db;const t9=e9;var n9=Y$(t9);const vR=n9;function r9(e,n){for(var i=-1,s=e==null?0:e.length;++i<s&&n(e[i],i,e)!==!1;);return e}function i9(e,n,i,s){for(var a=e.length,u=i+(s?1:-1);s?u--:++u<a;)if(n(e[u],u,e))return u;return-1}function s9(e){return e!==e}function o9(e,n,i){for(var s=i-1,a=e.length;++s<a;)if(e[s]===n)return s;return-1}function a9(e,n,i){return n===n?o9(e,n,i):i9(e,s9,i)}function l9(e,n){var i=e==null?0:e.length;return!!i&&a9(e,n,0)>-1}var c9=9007199254740991,u9=/^(?:0|[1-9]\d*)$/;function fb(e,n){var i=typeof e;return n=n==null?c9:n,!!n&&(i=="number"||i!="symbol"&&u9.test(e))&&e>-1&&e%1==0&&e<n}function _R(e,n,i){n=="__proto__"&&bg?bg(e,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[n]=i}function hb(e,n){return e===n||e!==e&&n!==n}var d9=Object.prototype,f9=d9.hasOwnProperty;function pb(e,n,i){var s=e[n];(!(f9.call(e,n)&&hb(s,i))||i===void 0&&!(n in e))&&_R(e,n,i)}function rv(e,n,i,s){var a=!i;i||(i={});for(var u=-1,f=n.length;++u<f;){var h=n[u],_=s?s(i[h],e[h],h,i,e):void 0;_===void 0&&(_=e[h]),a?_R(i,h,_):pb(i,h,_)}return i}var fI=Math.max;function AR(e,n,i){return n=fI(n===void 0?e.length-1:n,0),function(){for(var s=arguments,a=-1,u=fI(s.length-n,0),f=Array(u);++a<u;)f[a]=s[n+a];a=-1;for(var h=Array(n+1);++a<n;)h[a]=s[a];return h[n]=i(f),z$(e,this,h)}}function h9(e,n){return vR(AR(e,n,db),e+"")}var p9=9007199254740991;function mb(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=p9}function tp(e){return e!=null&&mb(e.length)&&!gR(e)}var m9=Object.prototype;function gb(e){var n=e&&e.constructor,i=typeof n=="function"&&n.prototype||m9;return e===i}function g9(e,n){for(var i=-1,s=Array(e);++i<e;)s[i]=n(i);return s}var v9="[object Arguments]";function hI(e){return Za(e)&&Kd(e)==v9}var yR=Object.prototype,_9=yR.hasOwnProperty,A9=yR.propertyIsEnumerable,y9=hI(function(){return arguments}())?hI:function(e){return Za(e)&&_9.call(e,"callee")&&!A9.call(e,"callee")};const vb=y9;function b9(){return!1}var bR=typeof Ks=="object"&&Ks&&!Ks.nodeType&&Ks,pI=bR&&typeof js=="object"&&js&&!js.nodeType&&js,S9=pI&&pI.exports===bR,mI=S9?qo.Buffer:void 0,E9=mI?mI.isBuffer:void 0,w9=E9||b9;const Sg=w9;var C9="[object Arguments]",I9="[object Array]",M9="[object Boolean]",x9="[object Date]",R9="[object Error]",T9="[object Function]",P9="[object Map]",N9="[object Number]",D9="[object Object]",B9="[object RegExp]",k9="[object Set]",L9="[object String]",O9="[object WeakMap]",F9="[object ArrayBuffer]",V9="[object DataView]",G9="[object Float32Array]",U9="[object Float64Array]",H9="[object Int8Array]",Q9="[object Int16Array]",X9="[object Int32Array]",z9="[object Uint8Array]",$9="[object Uint8ClampedArray]",W9="[object Uint16Array]",K9="[object Uint32Array]",gi={};gi[G9]=gi[U9]=gi[H9]=gi[Q9]=gi[X9]=gi[z9]=gi[$9]=gi[W9]=gi[K9]=!0;gi[C9]=gi[I9]=gi[F9]=gi[M9]=gi[V9]=gi[x9]=gi[R9]=gi[T9]=gi[P9]=gi[N9]=gi[D9]=gi[B9]=gi[k9]=gi[L9]=gi[O9]=!1;function j9(e){return Za(e)&&mb(e.length)&&!!gi[Kd(e)]}function _b(e){return function(n){return e(n)}}var SR=typeof Ks=="object"&&Ks&&!Ks.nodeType&&Ks,uh=SR&&typeof js=="object"&&js&&!js.nodeType&&js,q9=uh&&uh.exports===SR,QA=q9&&fR.process,Y9=function(){try{var e=uh&&uh.require&&uh.require("util").types;return e||QA&&QA.binding&&QA.binding("util")}catch{}}();const Nd=Y9;var gI=Nd&&Nd.isTypedArray,J9=gI?_b(gI):j9;const ER=J9;var Z9=Object.prototype,e7=Z9.hasOwnProperty;function wR(e,n){var i=Js(e),s=!i&&vb(e),a=!i&&!s&&Sg(e),u=!i&&!s&&!a&&ER(e),f=i||s||a||u,h=f?g9(e.length,String):[],_=h.length;for(var y in e)(n||e7.call(e,y))&&!(f&&(y=="length"||a&&(y=="offset"||y=="parent")||u&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||fb(y,_)))&&h.push(y);return h}function CR(e,n){return function(i){return e(n(i))}}var t7=CR(Object.keys,Object);const n7=t7;var r7=Object.prototype,i7=r7.hasOwnProperty;function s7(e){if(!gb(e))return n7(e);var n=[];for(var i in Object(e))i7.call(e,i)&&i!="constructor"&&n.push(i);return n}function np(e){return tp(e)?wR(e):s7(e)}function o7(e){var n=[];if(e!=null)for(var i in Object(e))n.push(i);return n}var a7=Object.prototype,l7=a7.hasOwnProperty;function c7(e){if(!vo(e))return o7(e);var n=gb(e),i=[];for(var s in e)s=="constructor"&&(n||!l7.call(e,s))||i.push(s);return i}function Ab(e){return tp(e)?wR(e,!0):c7(e)}var u7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d7=/^\w*$/;function yb(e,n){if(Js(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||nv(e)?!0:d7.test(e)||!u7.test(e)||n!=null&&e in Object(n)}var f7=gu(Object,"create");const Ph=f7;function h7(){this.__data__=Ph?Ph(null):{},this.size=0}function p7(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var m7="__lodash_hash_undefined__",g7=Object.prototype,v7=g7.hasOwnProperty;function _7(e){var n=this.__data__;if(Ph){var i=n[e];return i===m7?void 0:i}return v7.call(n,e)?n[e]:void 0}var A7=Object.prototype,y7=A7.hasOwnProperty;function b7(e){var n=this.__data__;return Ph?n[e]!==void 0:y7.call(n,e)}var S7="__lodash_hash_undefined__";function E7(e,n){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Ph&&n===void 0?S7:n,this}function au(e){var n=-1,i=e==null?0:e.length;for(this.clear();++n<i;){var s=e[n];this.set(s[0],s[1])}}au.prototype.clear=h7;au.prototype.delete=p7;au.prototype.get=_7;au.prototype.has=b7;au.prototype.set=E7;function w7(){this.__data__=[],this.size=0}function iv(e,n){for(var i=e.length;i--;)if(hb(e[i][0],n))return i;return-1}var C7=Array.prototype,I7=C7.splice;function M7(e){var n=this.__data__,i=iv(n,e);if(i<0)return!1;var s=n.length-1;return i==s?n.pop():I7.call(n,i,1),--this.size,!0}function x7(e){var n=this.__data__,i=iv(n,e);return i<0?void 0:n[i][1]}function R7(e){return iv(this.__data__,e)>-1}function T7(e,n){var i=this.__data__,s=iv(i,e);return s<0?(++this.size,i.push([e,n])):i[s][1]=n,this}function il(e){var n=-1,i=e==null?0:e.length;for(this.clear();++n<i;){var s=e[n];this.set(s[0],s[1])}}il.prototype.clear=w7;il.prototype.delete=M7;il.prototype.get=x7;il.prototype.has=R7;il.prototype.set=T7;var P7=gu(qo,"Map");const Nh=P7;function N7(){this.size=0,this.__data__={hash:new au,map:new(Nh||il),string:new au}}function D7(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function sv(e,n){var i=e.__data__;return D7(n)?i[typeof n=="string"?"string":"hash"]:i.map}function B7(e){var n=sv(this,e).delete(e);return this.size-=n?1:0,n}function k7(e){return sv(this,e).get(e)}function L7(e){return sv(this,e).has(e)}function O7(e,n){var i=sv(this,e),s=i.size;return i.set(e,n),this.size+=i.size==s?0:1,this}function sl(e){var n=-1,i=e==null?0:e.length;for(this.clear();++n<i;){var s=e[n];this.set(s[0],s[1])}}sl.prototype.clear=N7;sl.prototype.delete=B7;sl.prototype.get=k7;sl.prototype.has=L7;sl.prototype.set=O7;var F7="Expected a function";function ov(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(F7);var i=function(){var s=arguments,a=n?n.apply(this,s):s[0],u=i.cache;if(u.has(a))return u.get(a);var f=e.apply(this,s);return i.cache=u.set(a,f)||u,f};return i.cache=new(ov.Cache||sl),i}ov.Cache=sl;var V7=500;function G7(e){var n=ov(e,function(s){return i.size===V7&&i.clear(),s}),i=n.cache;return n}var U7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H7=/\\(\\)?/g,Q7=G7(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(U7,function(i,s,a,u){n.push(a?u.replace(H7,"$1"):s||i)}),n});const X7=Q7;function z7(e){return e==null?"":mR(e)}function av(e,n){return Js(e)?e:yb(e,n)?[e]:X7(z7(e))}var $7=1/0;function rp(e){if(typeof e=="string"||nv(e))return e;var n=e+"";return n=="0"&&1/e==-$7?"-0":n}function bb(e,n){n=av(n,e);for(var i=0,s=n.length;e!=null&&i<s;)e=e[rp(n[i++])];return i&&i==s?e:void 0}function Yr(e,n,i){var s=e==null?void 0:bb(e,n);return s===void 0?i:s}function Sb(e,n){for(var i=-1,s=n.length,a=e.length;++i<s;)e[a+i]=n[i];return e}var vI=go?go.isConcatSpreadable:void 0;function W7(e){return Js(e)||vb(e)||!!(vI&&e&&e[vI])}function ip(e,n,i,s,a){var u=-1,f=e.length;for(i||(i=W7),a||(a=[]);++u<f;){var h=e[u];n>0&&i(h)?n>1?ip(h,n-1,i,s,a):Sb(a,h):s||(a[a.length]=h)}return a}function IR(e){var n=e==null?0:e.length;return n?ip(e,1):[]}function K7(e){return vR(AR(e,void 0,IR),e+"")}var j7=CR(Object.getPrototypeOf,Object);const MR=j7;function Dd(){if(!arguments.length)return[];var e=arguments[0];return Js(e)?e:[e]}function q7(){this.__data__=new il,this.size=0}function Y7(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i}function J7(e){return this.__data__.get(e)}function Z7(e){return this.__data__.has(e)}var eW=200;function tW(e,n){var i=this.__data__;if(i instanceof il){var s=i.__data__;if(!Nh||s.length<eW-1)return s.push([e,n]),this.size=++i.size,this;i=this.__data__=new sl(s)}return i.set(e,n),this.size=i.size,this}function ya(e){var n=this.__data__=new il(e);this.size=n.size}ya.prototype.clear=q7;ya.prototype.delete=Y7;ya.prototype.get=J7;ya.prototype.has=Z7;ya.prototype.set=tW;function nW(e,n){return e&&rv(n,np(n),e)}function rW(e,n){return e&&rv(n,Ab(n),e)}var xR=typeof Ks=="object"&&Ks&&!Ks.nodeType&&Ks,_I=xR&&typeof js=="object"&&js&&!js.nodeType&&js,iW=_I&&_I.exports===xR,AI=iW?qo.Buffer:void 0,yI=AI?AI.allocUnsafe:void 0;function sW(e,n){if(n)return e.slice();var i=e.length,s=yI?yI(i):new e.constructor(i);return e.copy(s),s}function oW(e,n){for(var i=-1,s=e==null?0:e.length,a=0,u=[];++i<s;){var f=e[i];n(f,i,e)&&(u[a++]=f)}return u}function RR(){return[]}var aW=Object.prototype,lW=aW.propertyIsEnumerable,bI=Object.getOwnPropertySymbols,cW=bI?function(e){return e==null?[]:(e=Object(e),oW(bI(e),function(n){return lW.call(e,n)}))}:RR;const Eb=cW;function uW(e,n){return rv(e,Eb(e),n)}var dW=Object.getOwnPropertySymbols,fW=dW?function(e){for(var n=[];e;)Sb(n,Eb(e)),e=MR(e);return n}:RR;const TR=fW;function hW(e,n){return rv(e,TR(e),n)}function PR(e,n,i){var s=n(e);return Js(e)?s:Sb(s,i(e))}function k0(e){return PR(e,np,Eb)}function pW(e){return PR(e,Ab,TR)}var mW=gu(qo,"DataView");const L0=mW;var gW=gu(qo,"Promise");const O0=gW;var vW=gu(qo,"Set");const Ad=vW;var SI="[object Map]",_W="[object Object]",EI="[object Promise]",wI="[object Set]",CI="[object WeakMap]",II="[object DataView]",AW=mu(L0),yW=mu(Nh),bW=mu(O0),SW=mu(Ad),EW=mu(B0),Vc=Kd;(L0&&Vc(new L0(new ArrayBuffer(1)))!=II||Nh&&Vc(new Nh)!=SI||O0&&Vc(O0.resolve())!=EI||Ad&&Vc(new Ad)!=wI||B0&&Vc(new B0)!=CI)&&(Vc=function(e){var n=Kd(e),i=n==_W?e.constructor:void 0,s=i?mu(i):"";if(s)switch(s){case AW:return II;case yW:return SI;case bW:return EI;case SW:return wI;case EW:return CI}return n});const Dh=Vc;var wW=Object.prototype,CW=wW.hasOwnProperty;function IW(e){var n=e.length,i=new e.constructor(n);return n&&typeof e[0]=="string"&&CW.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var MW=qo.Uint8Array;const Eg=MW;function wb(e){var n=new e.constructor(e.byteLength);return new Eg(n).set(new Eg(e)),n}function xW(e,n){var i=n?wb(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}var RW=/\w*$/;function TW(e){var n=new e.constructor(e.source,RW.exec(e));return n.lastIndex=e.lastIndex,n}var MI=go?go.prototype:void 0,xI=MI?MI.valueOf:void 0;function PW(e){return xI?Object(xI.call(e)):{}}function NW(e,n){var i=n?wb(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var DW="[object Boolean]",BW="[object Date]",kW="[object Map]",LW="[object Number]",OW="[object RegExp]",FW="[object Set]",VW="[object String]",GW="[object Symbol]",UW="[object ArrayBuffer]",HW="[object DataView]",QW="[object Float32Array]",XW="[object Float64Array]",zW="[object Int8Array]",$W="[object Int16Array]",WW="[object Int32Array]",KW="[object Uint8Array]",jW="[object Uint8ClampedArray]",qW="[object Uint16Array]",YW="[object Uint32Array]";function JW(e,n,i){var s=e.constructor;switch(n){case UW:return wb(e);case DW:case BW:return new s(+e);case HW:return xW(e,i);case QW:case XW:case zW:case $W:case WW:case KW:case jW:case qW:case YW:return NW(e,i);case kW:return new s;case LW:case VW:return new s(e);case OW:return TW(e);case FW:return new s;case GW:return PW(e)}}function ZW(e){return typeof e.constructor=="function"&&!gb(e)?X$(MR(e)):{}}var eK="[object Map]";function tK(e){return Za(e)&&Dh(e)==eK}var RI=Nd&&Nd.isMap,nK=RI?_b(RI):tK;const rK=nK;var iK="[object Set]";function sK(e){return Za(e)&&Dh(e)==iK}var TI=Nd&&Nd.isSet,oK=TI?_b(TI):sK;const aK=oK;var lK=1,cK=2,uK=4,NR="[object Arguments]",dK="[object Array]",fK="[object Boolean]",hK="[object Date]",pK="[object Error]",DR="[object Function]",mK="[object GeneratorFunction]",gK="[object Map]",vK="[object Number]",BR="[object Object]",_K="[object RegExp]",AK="[object Set]",yK="[object String]",bK="[object Symbol]",SK="[object WeakMap]",EK="[object ArrayBuffer]",wK="[object DataView]",CK="[object Float32Array]",IK="[object Float64Array]",MK="[object Int8Array]",xK="[object Int16Array]",RK="[object Int32Array]",TK="[object Uint8Array]",PK="[object Uint8ClampedArray]",NK="[object Uint16Array]",DK="[object Uint32Array]",li={};li[NR]=li[dK]=li[EK]=li[wK]=li[fK]=li[hK]=li[CK]=li[IK]=li[MK]=li[xK]=li[RK]=li[gK]=li[vK]=li[BR]=li[_K]=li[AK]=li[yK]=li[bK]=li[TK]=li[PK]=li[NK]=li[DK]=!0;li[pK]=li[DR]=li[SK]=!1;function dh(e,n,i,s,a,u){var f,h=n&lK,_=n&cK,y=n&uK;if(i&&(f=a?i(e,s,a,u):i(e)),f!==void 0)return f;if(!vo(e))return e;var S=Js(e);if(S){if(f=IW(e),!h)return W$(e,f)}else{var b=Dh(e),w=b==DR||b==mK;if(Sg(e))return sW(e,h);if(b==BR||b==NR||w&&!a){if(f=_||w?{}:ZW(e),!h)return _?hW(e,rW(f,e)):uW(e,nW(f,e))}else{if(!li[b])return a?e:{};f=JW(e,b,h)}}u||(u=new ya);var C=u.get(e);if(C)return C;u.set(e,f),aK(e)?e.forEach(function(T){f.add(dh(T,n,i,T,e,u))}):rK(e)&&e.forEach(function(T,D){f.set(D,dh(T,n,i,D,e,u))});var x=y?_?pW:k0:_?Ab:np,M=S?void 0:x(e);return r9(M||e,function(T,D){M&&(D=T,T=e[D]),pb(f,D,dh(T,n,i,D,e,u))}),f}var BK=4;function PI(e){return dh(e,BK)}var kK=1,LK=4;function kR(e){return dh(e,kK|LK)}var OK="__lodash_hash_undefined__";function FK(e){return this.__data__.set(e,OK),this}function VK(e){return this.__data__.has(e)}function Bh(e){var n=-1,i=e==null?0:e.length;for(this.__data__=new sl;++n<i;)this.add(e[n])}Bh.prototype.add=Bh.prototype.push=FK;Bh.prototype.has=VK;function GK(e,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(e[i],i,e))return!0;return!1}function LR(e,n){return e.has(n)}var UK=1,HK=2;function OR(e,n,i,s,a,u){var f=i&UK,h=e.length,_=n.length;if(h!=_&&!(f&&_>h))return!1;var y=u.get(e),S=u.get(n);if(y&&S)return y==n&&S==e;var b=-1,w=!0,C=i&HK?new Bh:void 0;for(u.set(e,n),u.set(n,e);++b<h;){var x=e[b],M=n[b];if(s)var T=f?s(M,x,b,n,e,u):s(x,M,b,e,n,u);if(T!==void 0){if(T)continue;w=!1;break}if(C){if(!GK(n,function(D,F){if(!LR(C,F)&&(x===D||a(x,D,i,s,u)))return C.push(F)})){w=!1;break}}else if(!(x===M||a(x,M,i,s,u))){w=!1;break}}return u.delete(e),u.delete(n),w}function QK(e){var n=-1,i=Array(e.size);return e.forEach(function(s,a){i[++n]=[a,s]}),i}function Cb(e){var n=-1,i=Array(e.size);return e.forEach(function(s){i[++n]=s}),i}var XK=1,zK=2,$K="[object Boolean]",WK="[object Date]",KK="[object Error]",jK="[object Map]",qK="[object Number]",YK="[object RegExp]",JK="[object Set]",ZK="[object String]",ej="[object Symbol]",tj="[object ArrayBuffer]",nj="[object DataView]",NI=go?go.prototype:void 0,XA=NI?NI.valueOf:void 0;function rj(e,n,i,s,a,u,f){switch(i){case nj:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case tj:return!(e.byteLength!=n.byteLength||!u(new Eg(e),new Eg(n)));case $K:case WK:case qK:return hb(+e,+n);case KK:return e.name==n.name&&e.message==n.message;case YK:case ZK:return e==n+"";case jK:var h=QK;case JK:var _=s&XK;if(h||(h=Cb),e.size!=n.size&&!_)return!1;var y=f.get(e);if(y)return y==n;s|=zK,f.set(e,n);var S=OR(h(e),h(n),s,a,u,f);return f.delete(e),S;case ej:if(XA)return XA.call(e)==XA.call(n)}return!1}var ij=1,sj=Object.prototype,oj=sj.hasOwnProperty;function aj(e,n,i,s,a,u){var f=i&ij,h=k0(e),_=h.length,y=k0(n),S=y.length;if(_!=S&&!f)return!1;for(var b=_;b--;){var w=h[b];if(!(f?w in n:oj.call(n,w)))return!1}var C=u.get(e),x=u.get(n);if(C&&x)return C==n&&x==e;var M=!0;u.set(e,n),u.set(n,e);for(var T=f;++b<_;){w=h[b];var D=e[w],F=n[w];if(s)var N=f?s(F,D,w,n,e,u):s(D,F,w,e,n,u);if(!(N===void 0?D===F||a(D,F,i,s,u):N)){M=!1;break}T||(T=w=="constructor")}if(M&&!T){var G=e.constructor,U=n.constructor;G!=U&&"constructor"in e&&"constructor"in n&&!(typeof G=="function"&&G instanceof G&&typeof U=="function"&&U instanceof U)&&(M=!1)}return u.delete(e),u.delete(n),M}var lj=1,DI="[object Arguments]",BI="[object Array]",Em="[object Object]",cj=Object.prototype,kI=cj.hasOwnProperty;function uj(e,n,i,s,a,u){var f=Js(e),h=Js(n),_=f?BI:Dh(e),y=h?BI:Dh(n);_=_==DI?Em:_,y=y==DI?Em:y;var S=_==Em,b=y==Em,w=_==y;if(w&&Sg(e)){if(!Sg(n))return!1;f=!0,S=!1}if(w&&!S)return u||(u=new ya),f||ER(e)?OR(e,n,i,s,a,u):rj(e,n,_,i,s,a,u);if(!(i&lj)){var C=S&&kI.call(e,"__wrapped__"),x=b&&kI.call(n,"__wrapped__");if(C||x){var M=C?e.value():e,T=x?n.value():n;return u||(u=new ya),a(M,T,i,s,u)}}return w?(u||(u=new ya),aj(e,n,i,s,a,u)):!1}function lv(e,n,i,s,a){return e===n?!0:e==null||n==null||!Za(e)&&!Za(n)?e!==e&&n!==n:uj(e,n,i,s,lv,a)}var dj=1,fj=2;function hj(e,n,i,s){var a=i.length,u=a,f=!s;if(e==null)return!u;for(e=Object(e);a--;){var h=i[a];if(f&&h[2]?h[1]!==e[h[0]]:!(h[0]in e))return!1}for(;++a<u;){h=i[a];var _=h[0],y=e[_],S=h[1];if(f&&h[2]){if(y===void 0&&!(_ in e))return!1}else{var b=new ya;if(s)var w=s(y,S,_,e,n,b);if(!(w===void 0?lv(S,y,dj|fj,s,b):w))return!1}}return!0}function FR(e){return e===e&&!vo(e)}function pj(e){for(var n=np(e),i=n.length;i--;){var s=n[i],a=e[s];n[i]=[s,a,FR(a)]}return n}function VR(e,n){return function(i){return i==null?!1:i[e]===n&&(n!==void 0||e in Object(i))}}function mj(e){var n=pj(e);return n.length==1&&n[0][2]?VR(n[0][0],n[0][1]):function(i){return i===e||hj(i,e,n)}}function gj(e,n){return e!=null&&n in Object(e)}function vj(e,n,i){n=av(n,e);for(var s=-1,a=n.length,u=!1;++s<a;){var f=rp(n[s]);if(!(u=e!=null&&i(e,f)))break;e=e[f]}return u||++s!=a?u:(a=e==null?0:e.length,!!a&&mb(a)&&fb(f,a)&&(Js(e)||vb(e)))}function GR(e,n){return e!=null&&vj(e,n,gj)}var _j=1,Aj=2;function yj(e,n){return yb(e)&&FR(n)?VR(rp(e),n):function(i){var s=Yr(i,e);return s===void 0&&s===n?GR(i,e):lv(n,s,_j|Aj)}}function bj(e){return function(n){return n==null?void 0:n[e]}}function Sj(e){return function(n){return bb(n,e)}}function Ej(e){return yb(e)?bj(rp(e)):Sj(e)}function wj(e){return typeof e=="function"?e:e==null?db:typeof e=="object"?Js(e)?yj(e[0],e[1]):mj(e):Ej(e)}function Cj(e){return function(n,i,s){for(var a=-1,u=Object(n),f=s(n),h=f.length;h--;){var _=f[e?h:++a];if(i(u[_],_,u)===!1)break}return n}}var Ij=Cj();const Mj=Ij;function xj(e,n){return e&&Mj(e,n,np)}function Rj(e,n){return function(i,s){if(i==null)return i;if(!tp(i))return e(i,s);for(var a=i.length,u=n?a:-1,f=Object(i);(n?u--:++u<a)&&s(f[u],u,f)!==!1;);return i}}var Tj=Rj(xj);const Pj=Tj;var Nj=function(){return qo.Date.now()};const zA=Nj;var Dj="Expected a function",Bj=Math.max,kj=Math.min;function As(e,n,i){var s,a,u,f,h,_,y=0,S=!1,b=!1,w=!0;if(typeof e!="function")throw new TypeError(Dj);n=cI(n)||0,vo(i)&&(S=!!i.leading,b="maxWait"in i,u=b?Bj(cI(i.maxWait)||0,n):u,w="trailing"in i?!!i.trailing:w);function C($){var de=s,ee=a;return s=a=void 0,y=$,f=e.apply(ee,de),f}function x($){return y=$,h=setTimeout(D,n),S?C($):f}function M($){var de=$-_,ee=$-y,se=n-de;return b?kj(se,u-ee):se}function T($){var de=$-_,ee=$-y;return _===void 0||de>=n||de<0||b&&ee>=u}function D(){var $=zA();if(T($))return F($);h=setTimeout(D,M($))}function F($){return h=void 0,w&&s?C($):(s=a=void 0,f)}function N(){h!==void 0&&clearTimeout(h),y=0,s=_=a=h=void 0}function G(){return h===void 0?f:F(zA())}function U(){var $=zA(),de=T($);if(s=arguments,a=this,_=$,de){if(h===void 0)return x(_);if(b)return clearTimeout(h),h=setTimeout(D,n),C(_)}return h===void 0&&(h=setTimeout(D,n)),f}return U.cancel=N,U.flush=G,U}function Lj(e){return Za(e)&&tp(e)}function Oj(e,n,i){for(var s=-1,a=e==null?0:e.length;++s<a;)if(i(n,e[s]))return!0;return!1}function Fj(e,n){var i=-1,s=tp(e)?Array(e.length):[];return Pj(e,function(a,u,f){s[++i]=n(a,u,f)}),s}function Vj(e,n){var i=Js(e)?pR:Fj;return i(e,wj(n))}function Gj(e,n){return ip(Vj(e,n),1)}var Uj=1/0;function Hj(e){var n=e==null?0:e.length;return n?ip(e,Uj):[]}function UR(e){for(var n=-1,i=e==null?0:e.length,s={};++n<i;){var a=e[n];s[a[0]]=a[1]}return s}function qs(e,n){return lv(e,n)}function $i(e){return e==null}function HR(e,n,i,s){if(!vo(e))return e;n=av(n,e);for(var a=-1,u=n.length,f=u-1,h=e;h!=null&&++a<u;){var _=rp(n[a]),y=i;if(_==="__proto__"||_==="constructor"||_==="prototype")return e;if(a!=f){var S=h[_];y=s?s(S,_,h):void 0,y===void 0&&(y=vo(S)?S:fb(n[a+1])?[]:{})}pb(h,_,y),h=h[_]}return e}function Qj(e,n,i){for(var s=-1,a=n.length,u={};++s<a;){var f=n[s],h=bb(e,f);i(h,f)&&HR(u,av(f,e),h)}return u}function Xj(e,n){return Qj(e,n,function(i,s){return GR(e,s)})}var zj=K7(function(e,n){return e==null?{}:Xj(e,n)});const ja=zj;function $j(e,n,i){return e==null?e:HR(e,n,i)}var Wj="Expected a function";function nu(e,n,i){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(Wj);return vo(i)&&(s="leading"in i?!!i.leading:s,a="trailing"in i?!!i.trailing:a),As(e,n,{leading:s,maxWait:n,trailing:a})}var Kj=1/0,jj=Ad&&1/Cb(new Ad([,-0]))[1]==Kj?function(e){return new Ad(e)}:$$;const qj=jj;var Yj=200;function Jj(e,n,i){var s=-1,a=l9,u=e.length,f=!0,h=[],_=h;if(i)f=!1,a=Oj;else if(u>=Yj){var y=n?null:qj(e);if(y)return Cb(y);f=!1,a=LR,_=new Bh}else _=n?[]:h;e:for(;++s<u;){var S=e[s],b=n?n(S):S;if(S=i||S!==0?S:0,f&&b===b){for(var w=_.length;w--;)if(_[w]===b)continue e;n&&_.push(b),h.push(S)}else a(_,b,i)||(_!==h&&_.push(b),h.push(S))}return h}var Zj=h9(function(e){return Jj(ip(e,1,Lj,!0))});const $A=Zj,eq='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',tq=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,LI=e=>Array.from(e.querySelectorAll(eq)).filter(n=>nq(n)&&tq(n)),nq=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Xm=function(e,n,...i){let s;n.includes("mouse")||n.includes("click")?s="MouseEvents":n.includes("key")?s="KeyboardEvent":s="HTMLEvents";const a=document.createEvent(s);return a.initEvent(n,...i),e.dispatchEvent(a),e},QR=e=>!e.getAttribute("aria-owns"),XR=(e,n,i)=>{const{parentNode:s}=e;if(!s)return null;const a=s.querySelectorAll(i),u=Array.prototype.indexOf.call(a,e);return a[u+n]||null},zm=e=>{!e||(e.focus(),!QR(e)&&e.click())},ci=(e,n,{checkForDefaultPrevented:i=!0}={})=>a=>{const u=e==null?void 0:e(a);if(i===!1||!u)return n==null?void 0:n(a)},OI=e=>n=>n.pointerType==="mouse"?e(n):void 0;var rq=Object.defineProperty,iq=Object.defineProperties,sq=Object.getOwnPropertyDescriptors,FI=Object.getOwnPropertySymbols,oq=Object.prototype.hasOwnProperty,aq=Object.prototype.propertyIsEnumerable,VI=(e,n,i)=>n in e?rq(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,lq=(e,n)=>{for(var i in n||(n={}))oq.call(n,i)&&VI(e,i,n[i]);if(FI)for(var i of FI(n))aq.call(n,i)&&VI(e,i,n[i]);return e},cq=(e,n)=>iq(e,sq(n));function GI(e,n){var i;const s=Wr();return es(()=>{s.value=e()},cq(lq({},n),{flush:(i=n==null?void 0:n.flush)!=null?i:"sync"})),Yh(s)}var UI;const ur=typeof window<"u",uq=e=>typeof e<"u",Mi=e=>typeof e=="boolean",dq=e=>typeof e=="function",Qn=e=>typeof e=="number",fq=e=>typeof e=="string",hq=()=>{};ur&&((UI=window==null?void 0:window.navigator)==null?void 0:UI.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function lu(e){return typeof e=="function"?e():p(e)}function zR(e,n){function i(...s){e(()=>n.apply(this,s),{fn:n,thisArg:this,args:s})}return i}function pq(e,n={}){let i,s;return u=>{const f=lu(e),h=lu(n.maxWait);if(i&&clearTimeout(i),f<=0||h!==void 0&&h<=0)return s&&(clearTimeout(s),s=null),u();h&&!s&&(s=setTimeout(()=>{i&&clearTimeout(i),s=null,u()},h)),i=setTimeout(()=>{s&&clearTimeout(s),s=null,u()},f)}}function mq(e,n=!0,i=!0){let s=0,a,u=!0;const f=()=>{a&&(clearTimeout(a),a=void 0)};return _=>{const y=lu(e),S=Date.now()-s;if(f(),y<=0)return s=Date.now(),_();S>y&&(i||!u)?(s=Date.now(),_()):n&&(a=setTimeout(()=>{s=Date.now(),u=!0,f(),_()},y-S)),!i&&!a&&(a=setTimeout(()=>u=!0,y)),u=!1}}function gq(e){return e}function cv(e){return wV()?(KM(e),!0):!1}function vq(e,n=200,i={}){return zR(pq(n,i),e)}function _q(e,n=200,i={}){const s=re(e.value),a=vq(()=>{s.value=e.value},n,i);return St(e,()=>a()),s}function $R(e,n=200,i=!1,s=!0){return zR(mq(n,i,s),e)}function Ib(e,n=!0){Yn()?jn(e):n?e():dn(e)}function cu(e,n,i={}){const{immediate:s=!0}=i,a=re(!1);let u=null;function f(){u&&(clearTimeout(u),u=null)}function h(){a.value=!1,f()}function _(...y){f(),a.value=!0,u=setTimeout(()=>{a.value=!1,u=null,e(...y)},lu(n))}return s&&(a.value=!0,ur&&_()),cv(h),{isPending:a,start:_,stop:h}}function $s(e){var n;const i=lu(e);return(n=i==null?void 0:i.$el)!=null?n:i}const jd=ur?window:void 0,Aq=ur?window.document:void 0;function Kr(...e){let n,i,s,a;if(fq(e[0])||Array.isArray(e[0])?([i,s,a]=e,n=jd):[n,i,s,a]=e,!n)return hq;Array.isArray(i)||(i=[i]),Array.isArray(s)||(s=[s]);const u=[],f=()=>{u.forEach(S=>S()),u.length=0},h=(S,b,w)=>(S.addEventListener(b,w,a),()=>S.removeEventListener(b,w,a)),_=St(()=>$s(n),S=>{f(),S&&u.push(...i.flatMap(b=>s.map(w=>h(S,b,w))))},{immediate:!0,flush:"post"}),y=()=>{_(),f()};return cv(y),y}function Mb(e,n,i={}){const{window:s=jd,ignore:a,capture:u=!0,detectIframe:f=!1}=i;if(!s)return;const h=re(!0);let _;const y=C=>{s.clearTimeout(_);const x=$s(e);!x||x===C.target||C.composedPath().includes(x)||!h.value||n(C)},S=C=>a&&a.some(x=>{const M=$s(x);return M&&(C.target===M||C.composedPath().includes(M))}),b=[Kr(s,"click",y,{passive:!0,capture:u}),Kr(s,"pointerdown",C=>{const x=$s(e);h.value=!!x&&!C.composedPath().includes(x)&&!S(C)},{passive:!0}),Kr(s,"pointerup",C=>{if(C.button===0){const x=C.composedPath();C.composedPath=()=>x,_=s.setTimeout(()=>y(C),50)}},{passive:!0}),f&&Kr(s,"blur",C=>{var x;const M=$s(e);((x=s.document.activeElement)==null?void 0:x.tagName)==="IFRAME"&&!(M!=null&&M.contains(s.document.activeElement))&&n(C)})].filter(Boolean);return()=>b.forEach(C=>C())}function yq(e,n=!1){const i=re(),s=()=>i.value=Boolean(e());return s(),Ib(s,n),i}function bq(e){return JSON.parse(JSON.stringify(e))}const F0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V0="__vueuse_ssr_handlers__";F0[V0]=F0[V0]||{};F0[V0];function Sq(e,n,{window:i=jd,initialValue:s=""}={}){const a=re(s),u=z(()=>{var f;return $s(n)||((f=i==null?void 0:i.document)==null?void 0:f.documentElement)});return St([u,()=>lu(e)],([f,h])=>{var _;if(f&&i){const y=(_=i.getComputedStyle(f).getPropertyValue(h))==null?void 0:_.trim();a.value=y||s}},{immediate:!0}),St(a,f=>{var h;(h=u.value)!=null&&h.style&&u.value.style.setProperty(lu(e),f)}),a}function Eq({document:e=Aq}={}){if(!e)return re("visible");const n=re(e.visibilityState);return Kr(e,"visibilitychange",()=>{n.value=e.visibilityState}),n}var HI=Object.getOwnPropertySymbols,wq=Object.prototype.hasOwnProperty,Cq=Object.prototype.propertyIsEnumerable,Iq=(e,n)=>{var i={};for(var s in e)wq.call(e,s)&&n.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&HI)for(var s of HI(e))n.indexOf(s)<0&&Cq.call(e,s)&&(i[s]=e[s]);return i};function as(e,n,i={}){const s=i,{window:a=jd}=s,u=Iq(s,["window"]);let f;const h=yq(()=>a&&"ResizeObserver"in a),_=()=>{f&&(f.disconnect(),f=void 0)},y=St(()=>$s(e),b=>{_(),h.value&&a&&b&&(f=new ResizeObserver(n),f.observe(b,u))},{immediate:!0,flush:"post"}),S=()=>{_(),y()};return cv(S),{isSupported:h,stop:S}}function QI(e,n={}){const{reset:i=!0,windowResize:s=!0,windowScroll:a=!0,immediate:u=!0}=n,f=re(0),h=re(0),_=re(0),y=re(0),S=re(0),b=re(0),w=re(0),C=re(0);function x(){const M=$s(e);if(!M){i&&(f.value=0,h.value=0,_.value=0,y.value=0,S.value=0,b.value=0,w.value=0,C.value=0);return}const T=M.getBoundingClientRect();f.value=T.height,h.value=T.bottom,_.value=T.left,y.value=T.right,S.value=T.top,b.value=T.width,w.value=T.x,C.value=T.y}return as(e,x),St(()=>$s(e),M=>!M&&x()),a&&Kr("scroll",x,{passive:!0}),s&&Kr("resize",x,{passive:!0}),Ib(()=>{u&&x()}),{height:f,bottom:h,left:_,right:y,top:S,width:b,x:w,y:C,update:x}}var XI;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(XI||(XI={}));var Mq=Object.defineProperty,zI=Object.getOwnPropertySymbols,xq=Object.prototype.hasOwnProperty,Rq=Object.prototype.propertyIsEnumerable,$I=(e,n,i)=>n in e?Mq(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,Tq=(e,n)=>{for(var i in n||(n={}))xq.call(n,i)&&$I(e,i,n[i]);if(zI)for(var i of zI(n))Rq.call(n,i)&&$I(e,i,n[i]);return e};const Pq={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Tq({linear:gq},Pq);function Nq(e,n,i,s={}){var a,u,f;const{clone:h=!1,passive:_=!1,eventName:y,deep:S=!1,defaultValue:b}=s,w=Yn(),C=i||(w==null?void 0:w.emit)||((a=w==null?void 0:w.$emit)==null?void 0:a.bind(w))||((f=(u=w==null?void 0:w.proxy)==null?void 0:u.$emit)==null?void 0:f.bind(w==null?void 0:w.proxy));let x=y;n||(n="modelValue"),x=y||x||`update:${n.toString()}`;const M=D=>h?dq(h)?h(D):bq(D):D,T=()=>uq(e[n])?M(e[n]):b;if(_){const D=T(),F=re(D);return St(()=>e[n],N=>F.value=M(N)),St(F,N=>{(N!==e[n]||S)&&C(x,N)},{deep:S}),F}else return z({get(){return T()},set(D){C(x,D)}})}function Dq({window:e=jd}={}){if(!e)return re(!1);const n=re(e.document.hasFocus());return Kr(e,"blur",()=>{n.value=!1}),Kr(e,"focus",()=>{n.value=!0}),n}function Bq(e={}){const{window:n=jd,initialWidth:i=1/0,initialHeight:s=1/0,listenOrientation:a=!0,includeScrollbar:u=!0}=e,f=re(i),h=re(s),_=()=>{n&&(u?(f.value=n.innerWidth,h.value=n.innerHeight):(f.value=n.document.documentElement.clientWidth,h.value=n.document.documentElement.clientHeight))};return _(),Ib(_),Kr("resize",_,{passive:!0}),a&&Kr("orientationchange",_,{passive:!0}),{width:f,height:h}}const kq=(e,n)=>{if(!ur||!e||!n)return!1;const i=e.getBoundingClientRect();let s;return n instanceof Element?s=n.getBoundingClientRect():s={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},i.top<s.bottom&&i.bottom>s.top&&i.right>s.left&&i.left<s.right},WI=e=>{let n=0,i=e;for(;i;)n+=i.offsetTop,i=i.offsetParent;return n},Lq=(e,n)=>Math.abs(WI(e)-WI(n)),xb=e=>{let n,i;return e.type==="touchend"?(i=e.changedTouches[0].clientY,n=e.changedTouches[0].clientX):e.type.startsWith("touch")?(i=e.touches[0].clientY,n=e.touches[0].clientX):(i=e.clientY,n=e.clientX),{clientX:n,clientY:i}},Xi=e=>e===void 0,lo=e=>!e&&e!==0||sn(e)&&e.length===0||tr(e)&&!Object.keys(e).length,$o=e=>typeof Element>"u"?!1:e instanceof Element,Oq=e=>$i(e),Fq=e=>Dn(e)?!Number.isNaN(Number(e)):!1,Vq=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),co=e=>qh(e),kh=e=>Object.keys(e),Gq=e=>Object.entries(e),$m=(e,n,i)=>({get value(){return Yr(e,n,i)},set value(s){$j(e,n,s)}});class Uq extends Error{constructor(n){super(n),this.name="ElementPlusError"}}function Ri(e,n){throw new Uq(`[${e}] ${n}`)}const WR=(e="")=>e.split(" ").filter(n=>!!n.trim()),Xo=(e,n)=>{if(!e||!n)return!1;if(n.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(n)},va=(e,n)=>{!e||!n.trim()||e.classList.add(...WR(n))},Ms=(e,n)=>{!e||!n.trim()||e.classList.remove(...WR(n))},Wa=(e,n)=>{var i;if(!ur||!e||!n)return"";let s=mo(n);s==="float"&&(s="cssFloat");try{const a=e.style[s];if(a)return a;const u=(i=document.defaultView)==null?void 0:i.getComputedStyle(e,"");return u?u[s]:""}catch{return e.style[s]}};function wi(e,n="px"){if(!e)return"";if(Qn(e)||Fq(e))return`${e}${n}`;if(Dn(e))return e}const Hq=(e,n)=>{if(!ur)return!1;const i={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(n)],s=Wa(e,i);return["scroll","auto","overlay"].some(a=>s.includes(a))},Rb=(e,n)=>{if(!ur)return;let i=e;for(;i;){if([window,document,document.documentElement].includes(i))return window;if(Hq(i,n))return i;i=i.parentNode}return i};let wm;const KR=e=>{var n;if(!ur)return 0;if(wm!==void 0)return wm;const i=document.createElement("div");i.className=`${e}-scrollbar__wrap`,i.style.visibility="hidden",i.style.width="100px",i.style.position="absolute",i.style.top="-9999px",document.body.appendChild(i);const s=i.offsetWidth;i.style.overflow="scroll";const a=document.createElement("div");a.style.width="100%",i.appendChild(a);const u=a.offsetWidth;return(n=i.parentNode)==null||n.removeChild(i),wm=s-u,wm};function jR(e,n){if(!ur)return;if(!n){e.scrollTop=0;return}const i=[];let s=n.offsetParent;for(;s!==null&&e!==s&&e.contains(s);)i.push(s),s=s.offsetParent;const a=n.offsetTop+i.reduce((_,y)=>_+y.offsetTop,0),u=a+n.offsetHeight,f=e.scrollTop,h=f+e.clientHeight;a<f?e.scrollTop=a:u>h&&(e.scrollTop=u-e.clientHeight)}const qR="__epPropKey",nt=e=>e,Qq=e=>tr(e)&&!!e[qR],Yo=(e,n)=>{if(!tr(e)||Qq(e))return e;const{values:i,required:s,default:a,type:u,validator:f}=e,_={type:u,required:!!s,validator:i||f?y=>{let S=!1,b=[];if(i&&(b=Array.from(i),lr(e,"default")&&b.push(a),S||(S=b.includes(y))),f&&(S||(S=f(y))),!S&&b.length>0){const w=[...new Set(b)].map(C=>JSON.stringify(C)).join(", ");eG(`Invalid prop: validation failed${n?` for prop "${n}"`:""}. Expected one of [${w}], got value ${JSON.stringify(y)}.`)}return S}:void 0,[qR]:!0};return lr(e,"default")&&(_.default=a),_},Xt=e=>UR(Object.entries(e).map(([n,i])=>[n,Yo(i,n)])),$r=nt([String,Object,Function]),YR={Close:zo},Tb={Close:zo,SuccessFilled:uR,InfoFilled:cb,WarningFilled:tv,CircleCloseFilled:lb},Kl={success:uR,warning:tv,error:lb,info:cb},JR={validating:ic,success:ab,error:rc},Jn=(e,n)=>{if(e.install=i=>{for(const s of[e,...Object.values(n!=null?n:{})])i.component(s.name,s)},n)for(const[i,s]of Object.entries(n))e[i]=s;return e},ZR=(e,n)=>(e.install=i=>{e._context=i._context,i.config.globalProperties[n]=e},e),Xq=(e,n)=>(e.install=i=>{i.directive(n,e)},e),fi=e=>(e.install=Lr,e),uv=(...e)=>n=>{e.forEach(i=>{Tn(i)?i(n):i.value=n})},_n={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},zq=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],WA=["sun","mon","tue","wed","thu","fri","sat"],qn="update:modelValue",jr="change",_s="input",KI=Symbol("INSTALLED_KEY"),sc=["","default","small","large"],$q={large:40,default:32,small:24},Wq=e=>$q[e||"default"],qd=e=>["",...sc].includes(e);var ao=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(ao||{});function G0(e){return Zr(e)&&e.type===mn}function Kq(e){return Zr(e)&&e.type===gs}function jq(e){return Zr(e)&&!G0(e)&&!Kq(e)}const qq=e=>{if(!Zr(e))return{};const n=e.props||{},i=(Zr(e.type)?e.type.props:void 0)||{},s={};return Object.keys(i).forEach(a=>{lr(i[a],"default")&&(s[a]=i[a].default)}),Object.keys(n).forEach(a=>{s[mo(a)]=n[a]}),s},Yq=e=>{if(!sn(e)||e.length>1)throw new Error("expect to receive a single Vue element child");return e[0]},yd=e=>{const n=sn(e)?e:[e],i=[];return n.forEach(s=>{var a;sn(s)?i.push(...yd(s)):Zr(s)&&sn(s.children)?i.push(...yd(s.children)):(i.push(s),Zr(s)&&((a=s.component)==null?void 0:a.subTree)&&i.push(...yd(s.component.subTree)))}),i},jI=e=>e**3,Jq=e=>e<.5?jI(e*2)/2:1-jI((1-e)*2)/2,qI=e=>[...new Set(e)],qa=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e],Pb=()=>ur&&/firefox/i.test(window.navigator.userAgent),dv=e=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e),Nb=e=>ur?window.requestAnimationFrame(e):setTimeout(e,16),Db=e=>ur?window.cancelAnimationFrame(e):clearTimeout(e),sp=()=>Math.floor(Math.random()*1e4),Jr=e=>e,Zq=["class","style"],eY=/^on[A-Z]/,Bb=(e={})=>{const{excludeListeners:n=!1,excludeKeys:i}=e,s=z(()=>((i==null?void 0:i.value)||[]).concat(Zq)),a=Yn();return z(a?()=>{var u;return UR(Object.entries((u=a.proxy)==null?void 0:u.$attrs).filter(([f])=>!s.value.includes(f)&&!(n&&eY.test(f))))}:()=>({}))},eT=Symbol("breadcrumbKey"),tT=Symbol("buttonGroupContextKey"),nT=Symbol("carouselContextKey"),Yd=Symbol("checkboxGroupContextKey"),rT=Symbol("collapseContextKey"),iT=Symbol(),sT=Symbol("dialogInjectionKey"),vu=Symbol("formContextKey"),Sa=Symbol("formItemContextKey"),oT=Symbol("elPaginationKey"),aT=Symbol("radioGroupKey"),lT=Symbol("rowContextKey"),cT=Symbol("scrollbarContextKey"),uT=Symbol("sliderContextKey"),fv=Symbol("tabsRootContextKey"),dT=Symbol("uploadContextKey"),kb=Symbol("popper"),fT=Symbol("popperContent"),hv=Symbol("elTooltip"),pv=Symbol("tooltipV2"),hT=Symbol("tooltipV2Content"),KA="tooltip_v2.open",Lb=Symbol(),pT=e=>{const n=Yn();return z(()=>{var i,s;return(s=((i=n.proxy)==null?void 0:i.$props)[e])!=null?s:void 0})},wg=re();function ol(e,n=void 0){const i=Yn()?hn(iT,wg):wg;return e?z(()=>{var s,a;return(a=(s=i.value)==null?void 0:s[e])!=null?a:n}):i}const mT=(e,n,i=!1)=>{var s;const a=!!Yn(),u=a?ol():void 0,f=(s=n==null?void 0:n.provide)!=null?s:a?ir:void 0;if(!f)return;const h=z(()=>{const _=p(e);return u!=null&&u.value?tY(u.value,_):_});return f(iT,h),(i||!wg.value)&&(wg.value=h.value),h},tY=(e,n)=>{var i;const s=[...new Set([...kh(e),...kh(n)])],a={};for(const u of s)a[u]=(i=n[u])!=null?i:e[u];return a},Ts=Yo({type:String,values:sc,required:!1}),Ci=(e,n={})=>{const i=re(void 0),s=n.prop?i:pT("size"),a=n.global?i:ol("size"),u=n.form?{size:void 0}:hn(vu,void 0),f=n.formItem?{size:void 0}:hn(Sa,void 0);return z(()=>s.value||p(e)||(f==null?void 0:f.size)||(u==null?void 0:u.size)||a.value||"")},Jo=e=>{const n=pT("disabled"),i=hn(vu,void 0);return z(()=>n.value||p(e)||(i==null?void 0:i.disabled)||!1)},jl=({from:e,replacement:n,scope:i,version:s,ref:a,type:u="API"},f)=>{St(()=>p(f),h=>{},{immediate:!0})},gT=(e,n,i)=>{let s={offsetX:0,offsetY:0};const a=h=>{const _=h.clientX,y=h.clientY,{offsetX:S,offsetY:b}=s,w=e.value.getBoundingClientRect(),C=w.left,x=w.top,M=w.width,T=w.height,D=document.documentElement.clientWidth,F=document.documentElement.clientHeight,N=-C+S,G=-x+b,U=D-C-M+S,$=F-x-T+b,de=se=>{const oe=Math.min(Math.max(S+se.clientX-_,N),U),Ie=Math.min(Math.max(b+se.clientY-y,G),$);s={offsetX:oe,offsetY:Ie},e.value.style.transform=`translate(${wi(oe)}, ${wi(Ie)})`},ee=()=>{document.removeEventListener("mousemove",de),document.removeEventListener("mouseup",ee)};document.addEventListener("mousemove",de),document.addEventListener("mouseup",ee)},u=()=>{n.value&&e.value&&n.value.addEventListener("mousedown",a)},f=()=>{n.value&&e.value&&n.value.removeEventListener("mousedown",a)};jn(()=>{es(()=>{i.value?u():f()})}),di(()=>{f()})},nY=e=>({focus:()=>{var n,i;(i=(n=e.value)==null?void 0:n.focus)==null||i.call(n)}}),mv="el",rY="is-",Lc=(e,n,i,s,a)=>{let u=`${e}-${n}`;return i&&(u+=`-${i}`),s&&(u+=`__${s}`),a&&(u+=`--${a}`),u},bt=e=>{const n=ol("namespace",mv);return{namespace:n,b:(x="")=>Lc(n.value,e,x,"",""),e:x=>x?Lc(n.value,e,"",x,""):"",m:x=>x?Lc(n.value,e,"","",x):"",be:(x,M)=>x&&M?Lc(n.value,e,x,M,""):"",em:(x,M)=>x&&M?Lc(n.value,e,"",x,M):"",bm:(x,M)=>x&&M?Lc(n.value,e,x,"",M):"",bem:(x,M,T)=>x&&M&&T?Lc(n.value,e,x,M,T):"",is:(x,...M)=>{const T=M.length>=1?M[0]:!0;return x&&T?`${rY}${x}`:""},cssVar:x=>{const M={};for(const T in x)x[T]&&(M[`--${n.value}-${T}`]=x[T]);return M},cssVarName:x=>`--${n.value}-${x}`,cssVarBlock:x=>{const M={};for(const T in x)x[T]&&(M[`--${n.value}-${e}-${T}`]=x[T]);return M},cssVarBlockName:x=>`--${n.value}-${e}-${x}`}},iY={prefix:Math.floor(Math.random()*1e4),current:0},sY=Symbol("elIdInjection"),Wo=e=>{const n=hn(sY,iY),i=ol("namespace",mv);return z(()=>p(e)||`${i.value}-id-${n.prefix}-${n.current++}`)},ys=()=>{const e=hn(vu,void 0),n=hn(Sa,void 0);return{form:e,formItem:n}},oc=(e,{formItemContext:n,disableIdGeneration:i,disableIdManagement:s})=>{i||(i=re(!1)),s||(s=re(!1));const a=re();let u;const f=z(()=>{var h;return!!(!e.label&&n&&n.inputIds&&((h=n.inputIds)==null?void 0:h.length)<=1)});return jn(()=>{u=St([si(e,"id"),i],([h,_])=>{const y=h!=null?h:_?void 0:Wo().value;y!==a.value&&(n!=null&&n.removeInputId&&(a.value&&n.removeInputId(a.value),!(s!=null&&s.value)&&!_&&y&&n.addInputId(y)),a.value=y)},{immediate:!0})}),hu(()=>{u&&u(),n!=null&&n.removeInputId&&a.value&&n.removeInputId(a.value)}),{isLabeledByFormItem:f,inputId:a}};var oY={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const aY=e=>(n,i)=>lY(n,i,p(e)),lY=(e,n,i)=>Yr(i,e,e).replace(/\{(\w+)\}/g,(s,a)=>{var u;return`${(u=n==null?void 0:n[a])!=null?u:`{${a}}`}`}),cY=e=>{const n=z(()=>p(e).name),i=Xr(e)?e:re(e);return{lang:n,locale:i,t:aY(e)}},yr=()=>{const e=ol("locale");return cY(z(()=>e.value||oY))},vT=e=>{Xr(e)||Ri("[useLockscreen]","You need to pass a ref param to this function");const n=bt("popup"),i=dx(()=>n.bm("parent","hidden"));if(!ur||Xo(document.body,i.value))return;let s=0,a=!1,u="0";const f=()=>{setTimeout(()=>{Ms(document.body,i.value),a&&(document.body.style.width=u)},200)};St(e,h=>{if(!h){f();return}a=!Xo(document.body,i.value),a&&(u=document.body.style.width),s=KR(n.namespace.value);const _=document.documentElement.clientHeight<document.body.scrollHeight,y=Wa(document.body,"overflowY");s>0&&(_||y==="scroll")&&a&&(document.body.style.width=`calc(100% - ${s}px)`),va(document.body,i.value)}),KM(()=>f())},uY=Yo({type:nt(Boolean),default:null}),dY=Yo({type:nt(Function)}),fY=e=>{const n=`update:${e}`,i=`onUpdate:${e}`,s=[n],a={[e]:uY,[i]:dY};return{useModelToggle:({indicator:f,toggleReason:h,shouldHideWhenRouteChanges:_,shouldProceed:y,onShow:S,onHide:b})=>{const w=Yn(),{emit:C}=w,x=w.props,M=z(()=>Tn(x[i])),T=z(()=>x[e]===null),D=de=>{f.value!==!0&&(f.value=!0,h&&(h.value=de),Tn(S)&&S(de))},F=de=>{f.value!==!1&&(f.value=!1,h&&(h.value=de),Tn(b)&&b(de))},N=de=>{if(x.disabled===!0||Tn(y)&&!y())return;const ee=M.value&&ur;ee&&C(n,!0),(T.value||!ee)&&D(de)},G=de=>{if(x.disabled===!0||!ur)return;const ee=M.value&&ur;ee&&C(n,!1),(T.value||!ee)&&F(de)},U=de=>{!Mi(de)||(x.disabled&&de?M.value&&C(n,!1):f.value!==de&&(de?D():F()))},$=()=>{f.value?G():N()};return St(()=>x[e],U),_&&w.appContext.config.globalProperties.$route!==void 0&&St(()=>({...w.proxy.$route}),()=>{_.value&&f.value&&G()}),jn(()=>{U(x[e])}),{hide:G,show:N,toggle:$,hasUpdateHandler:M}},useModelToggleProps:a,useModelToggleEmits:s}},hY=(e,n)=>{let i;St(()=>e.value,s=>{var a,u;s?(i=document.activeElement,Xr(n)&&((u=(a=n.value).focus)==null||u.call(a))):i.focus()})},Ob=e=>{if(!e)return{onClick:Lr,onMousedown:Lr,onMouseup:Lr};let n=!1,i=!1;return{onClick:f=>{n&&i&&e(f),n=i=!1},onMousedown:f=>{n=f.target===f.currentTarget},onMouseup:f=>{i=f.target===f.currentTarget}}},pY=(e,n=0)=>{if(n===0)return e;const i=re(!1);let s=0;const a=()=>{s&&clearTimeout(s),s=window.setTimeout(()=>{i.value=e.value},n)};return jn(a),St(()=>e.value,u=>{u?a():i.value=u}),i};function mY(){let e;const n=(s,a)=>{i(),e=window.setTimeout(s,a)},i=()=>window.clearTimeout(e);return cv(()=>i()),{registerTimeout:n,cancelTimeout:i}}let od=[];const YI=e=>{const n=e;n.key===_n.esc&&od.forEach(i=>i(n))},gY=e=>{jn(()=>{od.length===0&&document.addEventListener("keydown",YI),ur&&od.push(e)}),di(()=>{od=od.filter(n=>n!==e),od.length===0&&ur&&document.removeEventListener("keydown",YI)})};let JI;const vY=ol("namespace",mv),_T=`${vY.value}-popper-container-${sp()}`,AT=`#${_T}`,_Y=()=>{const e=document.createElement("div");return e.id=_T,document.body.appendChild(e),e},AY=()=>{jg(()=>{!ur||(!JI||!document.body.querySelector(AT))&&(JI=_Y())})},yY=Xt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),bY=({showAfter:e,hideAfter:n,open:i,close:s})=>{const{registerTimeout:a}=mY();return{onOpen:h=>{a(()=>{i(h)},p(e))},onClose:h=>{a(()=>{s(h)},p(n))}}},yT=Symbol("elForwardRef"),SY=e=>{ir(yT,{setForwardRef:i=>{e.value=i}})},EY=e=>({mounted(n){e(n)},updated(n){e(n)},unmounted(){e(null)}}),ZI=re(0),al=()=>{const e=ol("zIndex",2e3),n=z(()=>e.value+ZI.value);return{initialZIndex:e,currentZIndex:n,nextZIndex:()=>(ZI.value++,n.value)}};function Fb(e){return e.split("-")[0]}function Vb(e){return e.split("-")[1]}function Gb(e){return["top","bottom"].includes(Fb(e))?"x":"y"}function bT(e){return e==="y"?"height":"width"}function e2(e,n,i){let{reference:s,floating:a}=e;const u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,h=Gb(n),_=bT(h),y=s[_]/2-a[_]/2,S=Fb(n),b=h==="x";let w;switch(S){case"top":w={x:u,y:s.y-a.height};break;case"bottom":w={x:u,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y:f};break;case"left":w={x:s.x-a.width,y:f};break;default:w={x:s.x,y:s.y}}switch(Vb(n)){case"start":w[h]-=y*(i&&b?-1:1);break;case"end":w[h]+=y*(i&&b?-1:1);break}return w}const wY=async(e,n,i)=>{const{placement:s="bottom",strategy:a="absolute",middleware:u=[],platform:f}=i,h=u.filter(Boolean),_=await(f.isRTL==null?void 0:f.isRTL(n));let y=await f.getElementRects({reference:e,floating:n,strategy:a}),{x:S,y:b}=e2(y,s,_),w=s,C={},x=0;for(let M=0;M<h.length;M++){const{name:T,fn:D}=h[M],{x:F,y:N,data:G,reset:U}=await D({x:S,y:b,initialPlacement:s,placement:w,strategy:a,middlewareData:C,rects:y,platform:f,elements:{reference:e,floating:n}});if(S=F!=null?F:S,b=N!=null?N:b,C={...C,[T]:{...C[T],...G}},U&&x<=50){x++,typeof U=="object"&&(U.placement&&(w=U.placement),U.rects&&(y=U.rects===!0?await f.getElementRects({reference:e,floating:n,strategy:a}):U.rects),{x:S,y:b}=e2(y,w,_)),M=-1;continue}}return{x:S,y:b,placement:w,strategy:a,middlewareData:C}};function CY(e){return{top:0,right:0,bottom:0,left:0,...e}}function IY(e){return typeof e!="number"?CY(e):{top:e,right:e,bottom:e,left:e}}function t2(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}const MY=Math.min,xY=Math.max;function RY(e,n,i){return xY(e,MY(n,i))}const TY=e=>({name:"arrow",options:e,async fn(n){const{element:i,padding:s=0}=e!=null?e:{},{x:a,y:u,placement:f,rects:h,platform:_}=n;if(i==null)return{};const y=IY(s),S={x:a,y:u},b=Gb(f),w=Vb(f),C=bT(b),x=await _.getDimensions(i),M=b==="y"?"top":"left",T=b==="y"?"bottom":"right",D=h.reference[C]+h.reference[b]-S[b]-h.floating[C],F=S[b]-h.reference[b],N=await(_.getOffsetParent==null?void 0:_.getOffsetParent(i));let G=N?b==="y"?N.clientHeight||0:N.clientWidth||0:0;G===0&&(G=h.floating[C]);const U=D/2-F/2,$=y[M],de=G-x[C]-y[T],ee=G/2-x[C]/2+U,se=RY($,ee,de),pe=(w==="start"?y[M]:y[T])>0&&ee!==se&&h.reference[C]<=h.floating[C]?ee<$?$-ee:de-ee:0;return{[b]:S[b]-pe,data:{[b]:se,centerOffset:ee-se}}}});async function PY(e,n){const{placement:i,platform:s,elements:a}=e,u=await(s.isRTL==null?void 0:s.isRTL(a.floating)),f=Fb(i),h=Vb(i),_=Gb(i)==="x",y=["left","top"].includes(f)?-1:1,S=u&&_?-1:1,b=typeof n=="function"?n(e):n;let{mainAxis:w,crossAxis:C,alignmentAxis:x}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...b};return h&&typeof x=="number"&&(C=h==="end"?x*-1:x),_?{x:C*S,y:w*y}:{x:w*y,y:C*S}}const NY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){const{x:i,y:s}=n,a=await PY(n,e);return{x:i+a.x,y:s+a.y,data:a}}}};function ST(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function ll(e){if(e==null)return window;if(!ST(e)){const n=e.ownerDocument;return n&&n.defaultView||window}return e}function ql(e){return ll(e).getComputedStyle(e)}function Yl(e){return ST(e)?"":e?(e.nodeName||"").toLowerCase():""}function ET(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(n=>n.brand+"/"+n.version).join(" "):navigator.userAgent}function el(e){return e instanceof ll(e).HTMLElement}function Bd(e){return e instanceof ll(e).Element}function DY(e){return e instanceof ll(e).Node}function n2(e){if(typeof ShadowRoot>"u")return!1;const n=ll(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}function gv(e){const{overflow:n,overflowX:i,overflowY:s,display:a}=ql(e);return/auto|scroll|overlay|hidden/.test(n+s+i)&&!["inline","contents"].includes(a)}function BY(e){return["table","td","th"].includes(Yl(e))}function Ub(e){const n=/firefox/i.test(ET()),i=ql(e),s=i.backdropFilter||i.WebkitBackdropFilter;return i.transform!=="none"||i.perspective!=="none"||(s?s!=="none":!1)||n&&i.willChange==="filter"||n&&(i.filter?i.filter!=="none":!1)||["transform","perspective"].some(a=>i.willChange.includes(a))||["paint","layout","strict","content"].some(a=>{const u=i.contain;return u!=null?u.includes(a):!1})}function wT(){return!/^((?!chrome|android).)*safari/i.test(ET())}function Hb(e){return["html","body","#document"].includes(Yl(e))}const r2=Math.min,fh=Math.max,Cg=Math.round;function uu(e,n,i){var s,a,u,f;n===void 0&&(n=!1),i===void 0&&(i=!1);const h=e.getBoundingClientRect();let _=1,y=1;n&&el(e)&&(_=e.offsetWidth>0&&Cg(h.width)/e.offsetWidth||1,y=e.offsetHeight>0&&Cg(h.height)/e.offsetHeight||1);const S=Bd(e)?ll(e):window,b=!wT()&&i,w=(h.left+(b&&(s=(a=S.visualViewport)==null?void 0:a.offsetLeft)!=null?s:0))/_,C=(h.top+(b&&(u=(f=S.visualViewport)==null?void 0:f.offsetTop)!=null?u:0))/y,x=h.width/_,M=h.height/y;return{width:x,height:M,top:C,right:w+x,bottom:C+M,left:w,x:w,y:C}}function ac(e){return((DY(e)?e.ownerDocument:e.document)||window.document).documentElement}function vv(e){return Bd(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function CT(e){return uu(ac(e)).left+vv(e).scrollLeft}function kY(e){const n=uu(e);return Cg(n.width)!==e.offsetWidth||Cg(n.height)!==e.offsetHeight}function LY(e,n,i){const s=el(n),a=ac(n),u=uu(e,s&&kY(n),i==="fixed");let f={scrollLeft:0,scrollTop:0};const h={x:0,y:0};if(s||!s&&i!=="fixed")if((Yl(n)!=="body"||gv(a))&&(f=vv(n)),el(n)){const _=uu(n,!0);h.x=_.x+n.clientLeft,h.y=_.y+n.clientTop}else a&&(h.x=CT(a));return{x:u.left+f.scrollLeft-h.x,y:u.top+f.scrollTop-h.y,width:u.width,height:u.height}}function Ig(e){if(Yl(e)==="html")return e;const n=e.assignedSlot||e.parentNode||(n2(e)?e.host:null)||ac(e);return n2(n)?n.host:n}function i2(e){return!el(e)||ql(e).position==="fixed"?null:e.offsetParent}function OY(e){let n=Ig(e);for(;el(n)&&!Hb(n);){if(Ub(n))return n;n=Ig(n)}return null}function s2(e){const n=ll(e);let i=i2(e);for(;i&&BY(i)&&ql(i).position==="static";)i=i2(i);return i&&(Yl(i)==="html"||Yl(i)==="body"&&ql(i).position==="static"&&!Ub(i))?n:i||OY(e)||n}function o2(e){if(el(e))return{width:e.offsetWidth,height:e.offsetHeight};const n=uu(e);return{width:n.width,height:n.height}}function FY(e){let{rect:n,offsetParent:i,strategy:s}=e;const a=el(i),u=ac(i);if(i===u)return n;let f={scrollLeft:0,scrollTop:0};const h={x:0,y:0};if((a||!a&&s!=="fixed")&&((Yl(i)!=="body"||gv(u))&&(f=vv(i)),el(i))){const _=uu(i,!0);h.x=_.x+i.clientLeft,h.y=_.y+i.clientTop}return{...n,x:n.x-f.scrollLeft+h.x,y:n.y-f.scrollTop+h.y}}function VY(e,n){const i=ll(e),s=ac(e),a=i.visualViewport;let u=s.clientWidth,f=s.clientHeight,h=0,_=0;if(a){u=a.width,f=a.height;const y=wT();(y||!y&&n==="fixed")&&(h=a.offsetLeft,_=a.offsetTop)}return{width:u,height:f,x:h,y:_}}function GY(e){var n;const i=ac(e),s=vv(e),a=(n=e.ownerDocument)==null?void 0:n.body,u=fh(i.scrollWidth,i.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),f=fh(i.scrollHeight,i.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let h=-s.scrollLeft+CT(e);const _=-s.scrollTop;return ql(a||i).direction==="rtl"&&(h+=fh(i.clientWidth,a?a.clientWidth:0)-u),{width:u,height:f,x:h,y:_}}function IT(e){const n=Ig(e);return Hb(n)?e.ownerDocument.body:el(n)&&gv(n)?n:IT(n)}function MT(e,n){var i;n===void 0&&(n=[]);const s=IT(e),a=s===((i=e.ownerDocument)==null?void 0:i.body),u=ll(s),f=a?[u].concat(u.visualViewport||[],gv(s)?s:[]):s,h=n.concat(f);return a?h:h.concat(MT(f))}function UY(e,n){const i=uu(e,!1,n==="fixed"),s=i.top+e.clientTop,a=i.left+e.clientLeft;return{top:s,left:a,x:a,y:s,right:a+e.clientWidth,bottom:s+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function a2(e,n,i){return n==="viewport"?t2(VY(e,i)):Bd(n)?UY(n,i):t2(GY(ac(e)))}function HY(e){let n=MT(e).filter(a=>Bd(a)&&Yl(a)!=="body"),i=e,s=null;for(;Bd(i)&&!Hb(i);){const a=ql(i);a.position==="static"&&s&&["absolute","fixed"].includes(s.position)&&!Ub(i)?n=n.filter(u=>u!==i):s=a,i=Ig(i)}return n}function QY(e){let{element:n,boundary:i,rootBoundary:s,strategy:a}=e;const f=[...i==="clippingAncestors"?HY(n):[].concat(i),s],h=f[0],_=f.reduce((y,S)=>{const b=a2(n,S,a);return y.top=fh(b.top,y.top),y.right=r2(b.right,y.right),y.bottom=r2(b.bottom,y.bottom),y.left=fh(b.left,y.left),y},a2(n,h,a));return{width:_.right-_.left,height:_.bottom-_.top,x:_.left,y:_.top}}const XY={getClippingRect:QY,convertOffsetParentRelativeRectToViewportRelativeRect:FY,isElement:Bd,getDimensions:o2,getOffsetParent:s2,getDocumentElement:ac,getElementRects:e=>{let{reference:n,floating:i,strategy:s}=e;return{reference:LY(n,s2(i),s),floating:{...o2(i),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>ql(e).direction==="rtl"},zY=(e,n,i)=>wY(e,n,{platform:XY,...i});Xt({});const $Y=e=>{if(!ur)return;if(!e)return e;const n=$s(e);return n||(Xr(e)?n:e)},WY=({middleware:e,placement:n,strategy:i})=>{const s=re(),a=re(),u=re(),f=re(),h=re({}),_={x:u,y:f,placement:n,strategy:i,middlewareData:h},y=async()=>{if(!ur)return;const S=$Y(s),b=$s(a);if(!S||!b)return;const w=await zY(S,b,{placement:p(n),strategy:p(i),middleware:p(e)});kh(_).forEach(C=>{_[C].value=w[C]})};return jn(()=>{es(()=>{y()})}),{..._,update:y,referenceRef:s,contentRef:a}},KY=({arrowRef:e,padding:n})=>({name:"arrow",options:{element:e,padding:n},fn(i){const s=p(e);return s?TY({element:s,padding:n}).fn(i):{}}});function jY(e){const n=re();function i(){if(e.value==null)return;const{selectionStart:a,selectionEnd:u,value:f}=e.value;if(a==null||u==null)return;const h=f.slice(0,Math.max(0,a)),_=f.slice(Math.max(0,u));n.value={selectionStart:a,selectionEnd:u,value:f,beforeTxt:h,afterTxt:_}}function s(){if(e.value==null||n.value==null)return;const{value:a}=e.value,{beforeTxt:u,afterTxt:f,selectionStart:h}=n.value;if(u==null||f==null||h==null)return;let _=a.length;if(a.endsWith(f))_=a.length-f.length;else if(a.startsWith(u))_=u.length;else{const y=u[h-1],S=a.indexOf(y,h-1);S!==-1&&(_=S+1)}e.value.setSelectionRange(_,_)}return[i,s]}const qY=(e,n,i)=>yd(e.subTree).filter(u=>{var f;return Zr(u)&&((f=u.type)==null?void 0:f.name)===n&&!!u.component}).map(u=>u.component.uid).map(u=>i[u]).filter(u=>!!u),xT=(e,n)=>{const i={},s=Wr([]);return{children:s,addChild:f=>{i[f.uid]=f,s.value=qY(e,n,i)},removeChild:f=>{delete i[f],s.value=s.value.filter(h=>h.uid!==f)}}},YY="2.2.21",JY=(e=[])=>({version:YY,install:(i,s)=>{i[KI]||(i[KI]=!0,e.forEach(a=>i.use(a)),s&&mT(s,i,!0))}}),ZY=Xt({zIndex:{type:nt([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),eJ={scroll:({scrollTop:e,fixed:n})=>Qn(e)&&Mi(n),[jr]:e=>Mi(e)};var Ht=(e,n)=>{const i=e.__vccOpts||e;for(const[s,a]of n)i[s]=a;return i};const RT="ElAffix",tJ=Ge({name:RT}),nJ=Ge({...tJ,props:ZY,emits:eJ,setup(e,{expose:n,emit:i}){const s=e,a=bt("affix"),u=Wr(),f=Wr(),h=Wr(),{height:_}=Bq(),{height:y,width:S,top:b,bottom:w,update:C}=QI(f,{windowScroll:!1}),x=QI(u),M=re(!1),T=re(0),D=re(0),F=z(()=>({height:M.value?`${y.value}px`:"",width:M.value?`${S.value}px`:""})),N=z(()=>{if(!M.value)return{};const $=s.offset?wi(s.offset):0;return{height:`${y.value}px`,width:`${S.value}px`,top:s.position==="top"?$:"",bottom:s.position==="bottom"?$:"",transform:D.value?`translateY(${D.value}px)`:"",zIndex:s.zIndex}}),G=()=>{if(!!h.value)if(T.value=h.value instanceof Window?document.documentElement.scrollTop:h.value.scrollTop||0,s.position==="top")if(s.target){const $=x.bottom.value-s.offset-y.value;M.value=s.offset>b.value&&x.bottom.value>0,D.value=$<0?$:0}else M.value=s.offset>b.value;else if(s.target){const $=_.value-x.top.value-s.offset-y.value;M.value=_.value-s.offset<w.value&&_.value>x.top.value,D.value=$<0?-$:0}else M.value=_.value-s.offset<w.value},U=()=>{C(),i("scroll",{scrollTop:T.value,fixed:M.value})};return St(M,$=>i("change",$)),jn(()=>{var $;s.target?(u.value=($=document.querySelector(s.target))!=null?$:void 0,u.value||Ri(RT,`Target is not existed: ${s.target}`)):u.value=document.documentElement,h.value=Rb(f.value,!0),C()}),Kr(h,"scroll",U),es(G),n({update:G,updateRoot:C}),($,de)=>(Q(),ve("div",{ref_key:"root",ref:f,class:Y(p(a).b()),style:fn(p(F))},[Ce("div",{class:Y({[p(a).m("fixed")]:M.value}),style:fn(p(N))},[vt($.$slots,"default")],6)],6))}});var rJ=Ht(nJ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]);const iJ=Jn(rJ),sJ=Xt({size:{type:nt([Number,String])},color:{type:String}}),oJ=Ge({name:"ElIcon",inheritAttrs:!1}),aJ=Ge({...oJ,props:sJ,setup(e){const n=e,i=bt("icon"),s=z(()=>{const{size:a,color:u}=n;return!a&&!u?{}:{fontSize:Xi(a)?void 0:wi(a),"--color":u}});return(a,u)=>(Q(),ve("i",nr({class:p(i).b(),style:p(s)},a.$attrs),[vt(a.$slots,"default")],16))}});var lJ=Ht(aJ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const un=Jn(lJ),cJ=["light","dark"],uJ=Xt({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:kh(Kl),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:cJ,default:"light"}}),dJ={close:e=>e instanceof MouseEvent},fJ=Ge({name:"ElAlert"}),hJ=Ge({...fJ,props:uJ,emits:dJ,setup(e,{emit:n}){const i=e,{Close:s}=Tb,a=Ki(),u=bt("alert"),f=re(!0),h=z(()=>Kl[i.type]),_=z(()=>[u.e("icon"),{[u.is("big")]:!!i.description||!!a.default}]),y=z(()=>({[u.is("bold")]:i.description||a.default})),S=b=>{f.value=!1,n("close",b)};return(b,w)=>(Q(),rt(bi,{name:p(u).b("fade"),persisted:""},{default:Ue(()=>[Hn(Ce("div",{class:Y([p(u).b(),p(u).m(b.type),p(u).is("center",b.center),p(u).is(b.effect)]),role:"alert"},[b.showIcon&&p(h)?(Q(),rt(p(un),{key:0,class:Y(p(_))},{default:Ue(()=>[(Q(),rt(rr(p(h))))]),_:1},8,["class"])):Ye("v-if",!0),Ce("div",{class:Y(p(u).e("content"))},[b.title||b.$slots.title?(Q(),ve("span",{key:0,class:Y([p(u).e("title"),p(y)])},[vt(b.$slots,"title",{},()=>[hr(Qt(b.title),1)])],2)):Ye("v-if",!0),b.$slots.default||b.description?(Q(),ve("p",{key:1,class:Y(p(u).e("description"))},[vt(b.$slots,"default",{},()=>[hr(Qt(b.description),1)])],2)):Ye("v-if",!0),b.closable?(Q(),ve(mn,{key:2},[b.closeText?(Q(),ve("div",{key:0,class:Y([p(u).e("close-btn"),p(u).is("customed")]),onClick:S},Qt(b.closeText),3)):(Q(),rt(p(un),{key:1,class:Y(p(u).e("close-btn")),onClick:S},{default:Ue(()=>[Re(p(s))]),_:1},8,["class"]))],64)):Ye("v-if",!0)],2)],2),[[_r,f.value]])]),_:3},8,["name"]))}});var pJ=Ht(hJ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const mJ=Jn(pJ);let Fo;const gJ=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,vJ=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function _J(e){const n=window.getComputedStyle(e),i=n.getPropertyValue("box-sizing"),s=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),a=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:vJ.map(f=>`${f}:${n.getPropertyValue(f)}`).join(";"),paddingSize:s,borderSize:a,boxSizing:i}}function l2(e,n=1,i){var s;Fo||(Fo=document.createElement("textarea"),document.body.appendChild(Fo));const{paddingSize:a,borderSize:u,boxSizing:f,contextStyle:h}=_J(e);Fo.setAttribute("style",`${h};${gJ}`),Fo.value=e.value||e.placeholder||"";let _=Fo.scrollHeight;const y={};f==="border-box"?_=_+u:f==="content-box"&&(_=_-a),Fo.value="";const S=Fo.scrollHeight-a;if(Qn(n)){let b=S*n;f==="border-box"&&(b=b+a+u),_=Math.max(b,_),y.minHeight=`${b}px`}if(Qn(i)){let b=S*i;f==="border-box"&&(b=b+a+u),_=Math.min(b,_)}return y.height=`${_}px`,(s=Fo.parentNode)==null||s.removeChild(Fo),Fo=void 0,y}const AJ=Xt({id:{type:String,default:void 0},size:Ts,disabled:Boolean,modelValue:{type:nt([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:nt([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:$r},prefixIcon:{type:$r},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:nt([Object,Array,String]),default:()=>Jr({})}}),yJ={[qn]:e=>Dn(e),input:e=>Dn(e),change:e=>Dn(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},bJ=["role"],SJ=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],EJ=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],wJ=Ge({name:"ElInput",inheritAttrs:!1}),CJ=Ge({...wJ,props:AJ,emits:yJ,setup(e,{expose:n,emit:i}){const s=e,a=Zh(),u=Ki(),f=z(()=>{const xe={};return s.containerRole==="combobox"&&(xe["aria-haspopup"]=a["aria-haspopup"],xe["aria-owns"]=a["aria-owns"],xe["aria-expanded"]=a["aria-expanded"]),xe}),h=Bb({excludeKeys:z(()=>Object.keys(f.value))}),{form:_,formItem:y}=ys(),{inputId:S}=oc(s,{formItemContext:y}),b=Ci(),w=Jo(),C=bt("input"),x=bt("textarea"),M=Wr(),T=Wr(),D=re(!1),F=re(!1),N=re(!1),G=re(!1),U=re(),$=Wr(s.inputStyle),de=z(()=>M.value||T.value),ee=z(()=>{var xe;return(xe=_==null?void 0:_.statusIcon)!=null?xe:!1}),se=z(()=>(y==null?void 0:y.validateState)||""),oe=z(()=>se.value&&JR[se.value]),Ie=z(()=>G.value?Pz:PQ),pe=z(()=>[a.style,s.inputStyle]),ae=z(()=>[s.inputStyle,$.value,{resize:s.resize}]),ye=z(()=>$i(s.modelValue)?"":String(s.modelValue)),be=z(()=>s.clearable&&!w.value&&!s.readonly&&!!ye.value&&(D.value||F.value)),_e=z(()=>s.showPassword&&!w.value&&!s.readonly&&!!ye.value&&(!!ye.value||D.value)),ie=z(()=>s.showWordLimit&&!!h.value.maxlength&&(s.type==="text"||s.type==="textarea")&&!w.value&&!s.readonly&&!s.showPassword),fe=z(()=>Array.from(ye.value).length),le=z(()=>!!ie.value&&fe.value>Number(h.value.maxlength)),ke=z(()=>!!u.suffix||!!s.suffixIcon||be.value||s.showPassword||ie.value||!!se.value&&ee.value),[ze,Te]=jY(M);as(T,xe=>{if(!ie.value||s.resize!=="both")return;const qe=xe[0],{width:Dt}=qe.contentRect;U.value={right:`calc(100% - ${Dt+15+6}px)`}});const Xe=()=>{const{type:xe,autosize:qe}=s;if(!(!ur||xe!=="textarea"))if(qe){const Dt=tr(qe)?qe.minRows:void 0,zt=tr(qe)?qe.maxRows:void 0;$.value={...l2(T.value,Dt,zt)}}else $.value={minHeight:l2(T.value).minHeight}},_t=()=>{const xe=de.value;!xe||xe.value===ye.value||(xe.value=ye.value)},wt=async xe=>{ze();let{value:qe}=xe.target;if(s.formatter&&(qe=s.parser?s.parser(qe):qe,qe=s.formatter(qe)),!N.value){if(qe===ye.value){_t();return}i(qn,qe),i("input",qe),await dn(),_t(),Te()}},xt=xe=>{i("change",xe.target.value)},it=xe=>{i("compositionstart",xe),N.value=!0},je=xe=>{var qe;i("compositionupdate",xe);const Dt=(qe=xe.target)==null?void 0:qe.value,zt=Dt[Dt.length-1]||"";N.value=!dv(zt)},ot=xe=>{i("compositionend",xe),N.value&&(N.value=!1,wt(xe))},At=()=>{G.value=!G.value,on()},on=async()=>{var xe;await dn(),(xe=de.value)==null||xe.focus()},Ne=()=>{var xe;return(xe=de.value)==null?void 0:xe.blur()},$e=xe=>{D.value=!0,i("focus",xe)},ft=xe=>{var qe;D.value=!1,i("blur",xe),s.validateEvent&&((qe=y==null?void 0:y.validate)==null||qe.call(y,"blur").catch(Dt=>void 0))},Tt=xe=>{F.value=!1,i("mouseleave",xe)},Bt=xe=>{F.value=!0,i("mouseenter",xe)},ct=xe=>{i("keydown",xe)},Lt=()=>{var xe;(xe=de.value)==null||xe.select()},gt=()=>{i(qn,""),i("change",""),i("clear"),i("input","")};return St(()=>s.modelValue,()=>{var xe;dn(()=>Xe()),s.validateEvent&&((xe=y==null?void 0:y.validate)==null||xe.call(y,"change").catch(qe=>void 0))}),St(ye,()=>_t()),St(()=>s.type,async()=>{await dn(),_t(),Xe()}),jn(()=>{!s.formatter&&s.parser,_t(),dn(Xe)}),n({input:M,textarea:T,ref:de,textareaStyle:ae,autosize:si(s,"autosize"),focus:on,blur:Ne,select:Lt,clear:gt,resizeTextarea:Xe}),(xe,qe)=>Hn((Q(),ve("div",nr(p(f),{class:[xe.type==="textarea"?p(x).b():p(C).b(),p(C).m(p(b)),p(C).is("disabled",p(w)),p(C).is("exceed",p(le)),{[p(C).b("group")]:xe.$slots.prepend||xe.$slots.append,[p(C).bm("group","append")]:xe.$slots.append,[p(C).bm("group","prepend")]:xe.$slots.prepend,[p(C).m("prefix")]:xe.$slots.prefix||xe.prefixIcon,[p(C).m("suffix")]:xe.$slots.suffix||xe.suffixIcon||xe.clearable||xe.showPassword,[p(C).bm("suffix","password-clear")]:p(be)&&p(_e)},xe.$attrs.class],style:p(pe),role:xe.containerRole,onMouseenter:Bt,onMouseleave:Tt}),[Ye(" input "),xe.type!=="textarea"?(Q(),ve(mn,{key:0},[Ye(" prepend slot "),xe.$slots.prepend?(Q(),ve("div",{key:0,class:Y(p(C).be("group","prepend"))},[vt(xe.$slots,"prepend")],2)):Ye("v-if",!0),Ce("div",{class:Y([p(C).e("wrapper"),p(C).is("focus",D.value)])},[Ye(" prefix slot "),xe.$slots.prefix||xe.prefixIcon?(Q(),ve("span",{key:0,class:Y(p(C).e("prefix"))},[Ce("span",{class:Y(p(C).e("prefix-inner"))},[vt(xe.$slots,"prefix"),xe.prefixIcon?(Q(),rt(p(un),{key:0,class:Y(p(C).e("icon"))},{default:Ue(()=>[(Q(),rt(rr(xe.prefixIcon)))]),_:1},8,["class"])):Ye("v-if",!0)],2)],2)):Ye("v-if",!0),Ce("input",nr({id:p(S),ref_key:"input",ref:M,class:p(C).e("inner")},p(h),{type:xe.showPassword?G.value?"text":"password":xe.type,disabled:p(w),formatter:xe.formatter,parser:xe.parser,readonly:xe.readonly,autocomplete:xe.autocomplete,tabindex:xe.tabindex,"aria-label":xe.label,placeholder:xe.placeholder,style:xe.inputStyle,form:s.form,onCompositionstart:it,onCompositionupdate:je,onCompositionend:ot,onInput:wt,onFocus:$e,onBlur:ft,onChange:xt,onKeydown:ct}),null,16,SJ),Ye(" suffix slot "),p(ke)?(Q(),ve("span",{key:1,class:Y(p(C).e("suffix"))},[Ce("span",{class:Y(p(C).e("suffix-inner"))},[!p(be)||!p(_e)||!p(ie)?(Q(),ve(mn,{key:0},[vt(xe.$slots,"suffix"),xe.suffixIcon?(Q(),rt(p(un),{key:0,class:Y(p(C).e("icon"))},{default:Ue(()=>[(Q(),rt(rr(xe.suffixIcon)))]),_:1},8,["class"])):Ye("v-if",!0)],64)):Ye("v-if",!0),p(be)?(Q(),rt(p(un),{key:1,class:Y([p(C).e("icon"),p(C).e("clear")]),onMousedown:Nn(p(Lr),["prevent"]),onClick:gt},{default:Ue(()=>[Re(p(rc))]),_:1},8,["class","onMousedown"])):Ye("v-if",!0),p(_e)?(Q(),rt(p(un),{key:2,class:Y([p(C).e("icon"),p(C).e("password")]),onClick:At},{default:Ue(()=>[(Q(),rt(rr(p(Ie))))]),_:1},8,["class"])):Ye("v-if",!0),p(ie)?(Q(),ve("span",{key:3,class:Y(p(C).e("count"))},[Ce("span",{class:Y(p(C).e("count-inner"))},Qt(p(fe))+" / "+Qt(p(h).maxlength),3)],2)):Ye("v-if",!0),p(se)&&p(oe)&&p(ee)?(Q(),rt(p(un),{key:4,class:Y([p(C).e("icon"),p(C).e("validateIcon"),p(C).is("loading",p(se)==="validating")])},{default:Ue(()=>[(Q(),rt(rr(p(oe))))]),_:1},8,["class"])):Ye("v-if",!0)],2)],2)):Ye("v-if",!0)],2),Ye(" append slot "),xe.$slots.append?(Q(),ve("div",{key:1,class:Y(p(C).be("group","append"))},[vt(xe.$slots,"append")],2)):Ye("v-if",!0)],64)):(Q(),ve(mn,{key:1},[Ye(" textarea "),Ce("textarea",nr({id:p(S),ref_key:"textarea",ref:T,class:p(x).e("inner")},p(h),{tabindex:xe.tabindex,disabled:p(w),readonly:xe.readonly,autocomplete:xe.autocomplete,style:p(ae),"aria-label":xe.label,placeholder:xe.placeholder,form:s.form,onCompositionstart:it,onCompositionupdate:je,onCompositionend:ot,onInput:wt,onFocus:$e,onBlur:ft,onChange:xt,onKeydown:ct}),null,16,EJ),p(ie)?(Q(),ve("span",{key:0,style:fn(U.value),class:Y(p(C).e("count"))},Qt(p(fe))+" / "+Qt(p(h).maxlength),7)):Ye("v-if",!0)],64))],16,bJ)),[[_r,xe.type!=="hidden"]])}});var IJ=Ht(CJ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const os=Jn(IJ),dd=4,TT={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},MJ=({move:e,size:n,bar:i})=>({[i.size]:n,transform:`translate${i.axis}(${e}%)`}),xJ=Xt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),RJ="Thumb",TJ=Ge({__name:"thumb",props:xJ,setup(e){const n=e,i=hn(cT),s=bt("scrollbar");i||Ri(RJ,"can not inject scrollbar context");const a=re(),u=re(),f=re({}),h=re(!1);let _=!1,y=!1,S=ur?document.onselectstart:null;const b=z(()=>TT[n.vertical?"vertical":"horizontal"]),w=z(()=>MJ({size:n.size,move:n.move,bar:b.value})),C=z(()=>a.value[b.value.offset]**2/i.wrapElement[b.value.scrollSize]/n.ratio/u.value[b.value.offset]),x=$=>{var de;if($.stopPropagation(),$.ctrlKey||[1,2].includes($.button))return;(de=window.getSelection())==null||de.removeAllRanges(),T($);const ee=$.currentTarget;!ee||(f.value[b.value.axis]=ee[b.value.offset]-($[b.value.client]-ee.getBoundingClientRect()[b.value.direction]))},M=$=>{if(!u.value||!a.value||!i.wrapElement)return;const de=Math.abs($.target.getBoundingClientRect()[b.value.direction]-$[b.value.client]),ee=u.value[b.value.offset]/2,se=(de-ee)*100*C.value/a.value[b.value.offset];i.wrapElement[b.value.scroll]=se*i.wrapElement[b.value.scrollSize]/100},T=$=>{$.stopImmediatePropagation(),_=!0,document.addEventListener("mousemove",D),document.addEventListener("mouseup",F),S=document.onselectstart,document.onselectstart=()=>!1},D=$=>{if(!a.value||!u.value||_===!1)return;const de=f.value[b.value.axis];if(!de)return;const ee=(a.value.getBoundingClientRect()[b.value.direction]-$[b.value.client])*-1,se=u.value[b.value.offset]-de,oe=(ee-se)*100*C.value/a.value[b.value.offset];i.wrapElement[b.value.scroll]=oe*i.wrapElement[b.value.scrollSize]/100},F=()=>{_=!1,f.value[b.value.axis]=0,document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",F),U(),y&&(h.value=!1)},N=()=>{y=!1,h.value=!!n.size},G=()=>{y=!0,h.value=_};di(()=>{U(),document.removeEventListener("mouseup",F)});const U=()=>{document.onselectstart!==S&&(document.onselectstart=S)};return Kr(si(i,"scrollbarElement"),"mousemove",N),Kr(si(i,"scrollbarElement"),"mouseleave",G),($,de)=>(Q(),rt(bi,{name:p(s).b("fade"),persisted:""},{default:Ue(()=>[Hn(Ce("div",{ref_key:"instance",ref:a,class:Y([p(s).e("bar"),p(s).is(p(b).key)]),onMousedown:M},[Ce("div",{ref_key:"thumb",ref:u,class:Y(p(s).e("thumb")),style:fn(p(w)),onMousedown:x},null,38)],34),[[_r,$.always||h.value]])]),_:1},8,["name"]))}});var c2=Ht(TJ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const PJ=Xt({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),NJ=Ge({__name:"bar",props:PJ,setup(e,{expose:n}){const i=e,s=re(0),a=re(0);return n({handleScroll:f=>{if(f){const h=f.offsetHeight-dd,_=f.offsetWidth-dd;a.value=f.scrollTop*100/h*i.ratioY,s.value=f.scrollLeft*100/_*i.ratioX}}}),(f,h)=>(Q(),ve(mn,null,[Re(c2,{move:s.value,ratio:f.ratioX,size:f.width,always:f.always},null,8,["move","ratio","size","always"]),Re(c2,{move:a.value,ratio:f.ratioY,size:f.height,vertical:"",always:f.always},null,8,["move","ratio","size","always"])],64))}});var DJ=Ht(NJ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const BJ=Xt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:nt([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),kJ={scroll:({scrollTop:e,scrollLeft:n})=>[e,n].every(Qn)},LJ=Ge({name:"ElScrollbar"}),OJ=Ge({...LJ,props:BJ,emits:kJ,setup(e,{expose:n,emit:i}){const s=e,a=bt("scrollbar");let u,f;const h=re(),_=re(),y=re(),S=re("0"),b=re("0"),w=re(),C=re(1),x=re(1),M=z(()=>{const U={};return s.height&&(U.height=wi(s.height)),s.maxHeight&&(U.maxHeight=wi(s.maxHeight)),[s.wrapStyle,U]}),T=()=>{var U;_.value&&((U=w.value)==null||U.handleScroll(_.value),i("scroll",{scrollTop:_.value.scrollTop,scrollLeft:_.value.scrollLeft}))};function D(U,$){tr(U)?_.value.scrollTo(U):Qn(U)&&Qn($)&&_.value.scrollTo(U,$)}const F=U=>{!Qn(U)||(_.value.scrollTop=U)},N=U=>{!Qn(U)||(_.value.scrollLeft=U)},G=()=>{if(!_.value)return;const U=_.value.offsetHeight-dd,$=_.value.offsetWidth-dd,de=U**2/_.value.scrollHeight,ee=$**2/_.value.scrollWidth,se=Math.max(de,s.minSize),oe=Math.max(ee,s.minSize);C.value=de/(U-de)/(se/(U-se)),x.value=ee/($-ee)/(oe/($-oe)),b.value=se+dd<U?`${se}px`:"",S.value=oe+dd<$?`${oe}px`:""};return St(()=>s.noresize,U=>{U?(u==null||u(),f==null||f()):({stop:u}=as(y,G),f=Kr("resize",G))},{immediate:!0}),St(()=>[s.maxHeight,s.height],()=>{s.native||dn(()=>{var U;G(),_.value&&((U=w.value)==null||U.handleScroll(_.value))})}),ir(cT,Tr({scrollbarElement:h,wrapElement:_})),jn(()=>{s.native||dn(()=>{G()})}),rl(()=>G()),n({wrap$:_,update:G,scrollTo:D,setScrollTop:F,setScrollLeft:N,handleScroll:T}),(U,$)=>(Q(),ve("div",{ref_key:"scrollbar$",ref:h,class:Y(p(a).b())},[Ce("div",{ref_key:"wrap$",ref:_,class:Y([U.wrapClass,p(a).e("wrap"),{[p(a).em("wrap","hidden-default")]:!U.native}]),style:fn(p(M)),onScroll:T},[(Q(),rt(rr(U.tag),{ref_key:"resize$",ref:y,class:Y([p(a).e("view"),U.viewClass]),style:fn(U.viewStyle)},{default:Ue(()=>[vt(U.$slots,"default")]),_:3},8,["class","style"]))],38),U.native?Ye("v-if",!0):(Q(),rt(DJ,{key:0,ref_key:"barRef",ref:w,height:b.value,width:S.value,always:U.always,"ratio-x":x.value,"ratio-y":C.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var FJ=Ht(OJ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const cl=Jn(FJ),VJ={LIGHT:"light",DARK:"dark"},GJ=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],PT=Xt({role:{type:String,values:GJ,default:"tooltip"}}),UJ=Ge({name:"ElPopperRoot",inheritAttrs:!1}),HJ=Ge({...UJ,props:PT,setup(e,{expose:n}){const i=e,s=re(),a=re(),u=re(),f=re(),h=z(()=>i.role),_={triggerRef:s,popperInstanceRef:a,contentRef:u,referenceRef:f,role:h};return n(_),ir(kb,_),(y,S)=>vt(y.$slots,"default")}});var QJ=Ht(HJ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const NT=Xt({arrowOffset:{type:Number,default:5}}),XJ=Ge({name:"ElPopperArrow",inheritAttrs:!1}),zJ=Ge({...XJ,props:NT,setup(e,{expose:n}){const i=e,s=bt("popper"),{arrowOffset:a,arrowRef:u}=hn(fT,void 0);return St(()=>i.arrowOffset,f=>{a.value=f}),di(()=>{u.value=void 0}),n({arrowRef:u}),(f,h)=>(Q(),ve("span",{ref_key:"arrowRef",ref:u,class:Y(p(s).e("arrow")),"data-popper-arrow":""},null,2))}});var $J=Ht(zJ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const WJ="ElOnlyChild",DT=Ge({name:WJ,setup(e,{slots:n,attrs:i}){var s;const a=hn(yT),u=EY((s=a==null?void 0:a.setForwardRef)!=null?s:Lr);return()=>{var f;const h=(f=n.default)==null?void 0:f.call(n,i);if(!h||h.length>1)return null;const _=BT(h);return _?Hn(Ja(_,i),[[u]]):null}}});function BT(e){if(!e)return null;const n=e;for(const i of n){if(tr(i))switch(i.type){case gs:continue;case Wd:case"svg":return u2(i);case mn:return BT(i.children);default:return i}return u2(i)}return null}function u2(e){const n=bt("only-child");return Re("span",{class:n.e("content")},[e])}const kT=Xt({virtualRef:{type:nt(Object)},virtualTriggering:Boolean,onMouseenter:{type:nt(Function)},onMouseleave:{type:nt(Function)},onClick:{type:nt(Function)},onKeydown:{type:nt(Function)},onFocus:{type:nt(Function)},onBlur:{type:nt(Function)},onContextmenu:{type:nt(Function)},id:String,open:Boolean}),KJ=Ge({name:"ElPopperTrigger",inheritAttrs:!1}),jJ=Ge({...KJ,props:kT,setup(e,{expose:n}){const i=e,{role:s,triggerRef:a}=hn(kb,void 0);SY(a);const u=z(()=>h.value?i.id:void 0),f=z(()=>{if(s&&s.value==="tooltip")return i.open&&i.id?i.id:void 0}),h=z(()=>{if(s&&s.value!=="tooltip")return s.value}),_=z(()=>h.value?`${i.open}`:void 0);let y;return jn(()=>{St(()=>i.virtualRef,S=>{S&&(a.value=$s(S))},{immediate:!0}),St(a,(S,b)=>{y==null||y(),y=void 0,$o(S)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(w=>{var C;const x=i[w];x&&(S.addEventListener(w.slice(2).toLowerCase(),x),(C=b==null?void 0:b.removeEventListener)==null||C.call(b,w.slice(2).toLowerCase(),x))}),y=St([u,f,h,_],w=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((C,x)=>{$i(w[x])?S.removeAttribute(C):S.setAttribute(C,w[x])})},{immediate:!0})),$o(b)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(w=>b.removeAttribute(w))},{immediate:!0})}),di(()=>{y==null||y(),y=void 0}),n({triggerRef:a}),(S,b)=>S.virtualTriggering?Ye("v-if",!0):(Q(),rt(p(DT),nr({key:0},S.$attrs,{"aria-controls":p(u),"aria-describedby":p(f),"aria-expanded":p(_),"aria-haspopup":p(h)}),{default:Ue(()=>[vt(S.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var qJ=Ht(jJ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]),xs="top",_o="bottom",Ao="right",Rs="left",Qb="auto",op=[xs,_o,Ao,Rs],kd="start",Lh="end",YJ="clippingParents",LT="viewport",qf="popper",JJ="reference",d2=op.reduce(function(e,n){return e.concat([n+"-"+kd,n+"-"+Lh])},[]),_u=[].concat(op,[Qb]).reduce(function(e,n){return e.concat([n,n+"-"+kd,n+"-"+Lh])},[]),ZJ="beforeRead",eZ="read",tZ="afterRead",nZ="beforeMain",rZ="main",iZ="afterMain",sZ="beforeWrite",oZ="write",aZ="afterWrite",lZ=[ZJ,eZ,tZ,nZ,rZ,iZ,sZ,oZ,aZ];function Ea(e){return e?(e.nodeName||"").toLowerCase():null}function Zo(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var n=e.ownerDocument;return n&&n.defaultView||window}return e}function Ld(e){var n=Zo(e).Element;return e instanceof n||e instanceof Element}function po(e){var n=Zo(e).HTMLElement;return e instanceof n||e instanceof HTMLElement}function Xb(e){if(typeof ShadowRoot>"u")return!1;var n=Zo(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}function cZ(e){var n=e.state;Object.keys(n.elements).forEach(function(i){var s=n.styles[i]||{},a=n.attributes[i]||{},u=n.elements[i];!po(u)||!Ea(u)||(Object.assign(u.style,s),Object.keys(a).forEach(function(f){var h=a[f];h===!1?u.removeAttribute(f):u.setAttribute(f,h===!0?"":h)}))})}function uZ(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow),function(){Object.keys(n.elements).forEach(function(s){var a=n.elements[s],u=n.attributes[s]||{},f=Object.keys(n.styles.hasOwnProperty(s)?n.styles[s]:i[s]),h=f.reduce(function(_,y){return _[y]="",_},{});!po(a)||!Ea(a)||(Object.assign(a.style,h),Object.keys(u).forEach(function(_){a.removeAttribute(_)}))})}}var OT={name:"applyStyles",enabled:!0,phase:"write",fn:cZ,effect:uZ,requires:["computeStyles"]};function ba(e){return e.split("-")[0]}var ru=Math.max,Mg=Math.min,Od=Math.round;function Fd(e,n){n===void 0&&(n=!1);var i=e.getBoundingClientRect(),s=1,a=1;if(po(e)&&n){var u=e.offsetHeight,f=e.offsetWidth;f>0&&(s=Od(i.width)/f||1),u>0&&(a=Od(i.height)/u||1)}return{width:i.width/s,height:i.height/a,top:i.top/a,right:i.right/s,bottom:i.bottom/a,left:i.left/s,x:i.left/s,y:i.top/a}}function zb(e){var n=Fd(e),i=e.offsetWidth,s=e.offsetHeight;return Math.abs(n.width-i)<=1&&(i=n.width),Math.abs(n.height-s)<=1&&(s=n.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:s}}function FT(e,n){var i=n.getRootNode&&n.getRootNode();if(e.contains(n))return!0;if(i&&Xb(i)){var s=n;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function tl(e){return Zo(e).getComputedStyle(e)}function dZ(e){return["table","td","th"].indexOf(Ea(e))>=0}function lc(e){return((Ld(e)?e.ownerDocument:e.document)||window.document).documentElement}function _v(e){return Ea(e)==="html"?e:e.assignedSlot||e.parentNode||(Xb(e)?e.host:null)||lc(e)}function f2(e){return!po(e)||tl(e).position==="fixed"?null:e.offsetParent}function fZ(e){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&po(e)){var s=tl(e);if(s.position==="fixed")return null}var a=_v(e);for(Xb(a)&&(a=a.host);po(a)&&["html","body"].indexOf(Ea(a))<0;){var u=tl(a);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||n&&u.willChange==="filter"||n&&u.filter&&u.filter!=="none")return a;a=a.parentNode}return null}function ap(e){for(var n=Zo(e),i=f2(e);i&&dZ(i)&&tl(i).position==="static";)i=f2(i);return i&&(Ea(i)==="html"||Ea(i)==="body"&&tl(i).position==="static")?n:i||fZ(e)||n}function $b(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function hh(e,n,i){return ru(e,Mg(n,i))}function hZ(e,n,i){var s=hh(e,n,i);return s>i?i:s}function VT(){return{top:0,right:0,bottom:0,left:0}}function GT(e){return Object.assign({},VT(),e)}function UT(e,n){return n.reduce(function(i,s){return i[s]=e,i},{})}var pZ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,GT(typeof e!="number"?e:UT(e,op))};function mZ(e){var n,i=e.state,s=e.name,a=e.options,u=i.elements.arrow,f=i.modifiersData.popperOffsets,h=ba(i.placement),_=$b(h),y=[Rs,Ao].indexOf(h)>=0,S=y?"height":"width";if(!(!u||!f)){var b=pZ(a.padding,i),w=zb(u),C=_==="y"?xs:Rs,x=_==="y"?_o:Ao,M=i.rects.reference[S]+i.rects.reference[_]-f[_]-i.rects.popper[S],T=f[_]-i.rects.reference[_],D=ap(u),F=D?_==="y"?D.clientHeight||0:D.clientWidth||0:0,N=M/2-T/2,G=b[C],U=F-w[S]-b[x],$=F/2-w[S]/2+N,de=hh(G,$,U),ee=_;i.modifiersData[s]=(n={},n[ee]=de,n.centerOffset=de-$,n)}}function gZ(e){var n=e.state,i=e.options,s=i.element,a=s===void 0?"[data-popper-arrow]":s;a!=null&&(typeof a=="string"&&(a=n.elements.popper.querySelector(a),!a)||!FT(n.elements.popper,a)||(n.elements.arrow=a))}var vZ={name:"arrow",enabled:!0,phase:"main",fn:mZ,effect:gZ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vd(e){return e.split("-")[1]}var _Z={top:"auto",right:"auto",bottom:"auto",left:"auto"};function AZ(e){var n=e.x,i=e.y,s=window,a=s.devicePixelRatio||1;return{x:Od(n*a)/a||0,y:Od(i*a)/a||0}}function h2(e){var n,i=e.popper,s=e.popperRect,a=e.placement,u=e.variation,f=e.offsets,h=e.position,_=e.gpuAcceleration,y=e.adaptive,S=e.roundOffsets,b=e.isFixed,w=f.x,C=w===void 0?0:w,x=f.y,M=x===void 0?0:x,T=typeof S=="function"?S({x:C,y:M}):{x:C,y:M};C=T.x,M=T.y;var D=f.hasOwnProperty("x"),F=f.hasOwnProperty("y"),N=Rs,G=xs,U=window;if(y){var $=ap(i),de="clientHeight",ee="clientWidth";if($===Zo(i)&&($=lc(i),tl($).position!=="static"&&h==="absolute"&&(de="scrollHeight",ee="scrollWidth")),$=$,a===xs||(a===Rs||a===Ao)&&u===Lh){G=_o;var se=b&&$===U&&U.visualViewport?U.visualViewport.height:$[de];M-=se-s.height,M*=_?1:-1}if(a===Rs||(a===xs||a===_o)&&u===Lh){N=Ao;var oe=b&&$===U&&U.visualViewport?U.visualViewport.width:$[ee];C-=oe-s.width,C*=_?1:-1}}var Ie=Object.assign({position:h},y&&_Z),pe=S===!0?AZ({x:C,y:M}):{x:C,y:M};if(C=pe.x,M=pe.y,_){var ae;return Object.assign({},Ie,(ae={},ae[G]=F?"0":"",ae[N]=D?"0":"",ae.transform=(U.devicePixelRatio||1)<=1?"translate("+C+"px, "+M+"px)":"translate3d("+C+"px, "+M+"px, 0)",ae))}return Object.assign({},Ie,(n={},n[G]=F?M+"px":"",n[N]=D?C+"px":"",n.transform="",n))}function yZ(e){var n=e.state,i=e.options,s=i.gpuAcceleration,a=s===void 0?!0:s,u=i.adaptive,f=u===void 0?!0:u,h=i.roundOffsets,_=h===void 0?!0:h,y={placement:ba(n.placement),variation:Vd(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:a,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,h2(Object.assign({},y,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:f,roundOffsets:_})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,h2(Object.assign({},y,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var HT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yZ,data:{}},Cm={passive:!0};function bZ(e){var n=e.state,i=e.instance,s=e.options,a=s.scroll,u=a===void 0?!0:a,f=s.resize,h=f===void 0?!0:f,_=Zo(n.elements.popper),y=[].concat(n.scrollParents.reference,n.scrollParents.popper);return u&&y.forEach(function(S){S.addEventListener("scroll",i.update,Cm)}),h&&_.addEventListener("resize",i.update,Cm),function(){u&&y.forEach(function(S){S.removeEventListener("scroll",i.update,Cm)}),h&&_.removeEventListener("resize",i.update,Cm)}}var QT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bZ,data:{}},SZ={left:"right",right:"left",bottom:"top",top:"bottom"};function Wm(e){return e.replace(/left|right|bottom|top/g,function(n){return SZ[n]})}var EZ={start:"end",end:"start"};function p2(e){return e.replace(/start|end/g,function(n){return EZ[n]})}function Wb(e){var n=Zo(e),i=n.pageXOffset,s=n.pageYOffset;return{scrollLeft:i,scrollTop:s}}function Kb(e){return Fd(lc(e)).left+Wb(e).scrollLeft}function wZ(e){var n=Zo(e),i=lc(e),s=n.visualViewport,a=i.clientWidth,u=i.clientHeight,f=0,h=0;return s&&(a=s.width,u=s.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(f=s.offsetLeft,h=s.offsetTop)),{width:a,height:u,x:f+Kb(e),y:h}}function CZ(e){var n,i=lc(e),s=Wb(e),a=(n=e.ownerDocument)==null?void 0:n.body,u=ru(i.scrollWidth,i.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),f=ru(i.scrollHeight,i.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),h=-s.scrollLeft+Kb(e),_=-s.scrollTop;return tl(a||i).direction==="rtl"&&(h+=ru(i.clientWidth,a?a.clientWidth:0)-u),{width:u,height:f,x:h,y:_}}function jb(e){var n=tl(e),i=n.overflow,s=n.overflowX,a=n.overflowY;return/auto|scroll|overlay|hidden/.test(i+a+s)}function XT(e){return["html","body","#document"].indexOf(Ea(e))>=0?e.ownerDocument.body:po(e)&&jb(e)?e:XT(_v(e))}function ph(e,n){var i;n===void 0&&(n=[]);var s=XT(e),a=s===((i=e.ownerDocument)==null?void 0:i.body),u=Zo(s),f=a?[u].concat(u.visualViewport||[],jb(s)?s:[]):s,h=n.concat(f);return a?h:h.concat(ph(_v(f)))}function U0(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function IZ(e){var n=Fd(e);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function m2(e,n){return n===LT?U0(wZ(e)):Ld(n)?IZ(n):U0(CZ(lc(e)))}function MZ(e){var n=ph(_v(e)),i=["absolute","fixed"].indexOf(tl(e).position)>=0,s=i&&po(e)?ap(e):e;return Ld(s)?n.filter(function(a){return Ld(a)&&FT(a,s)&&Ea(a)!=="body"}):[]}function xZ(e,n,i){var s=n==="clippingParents"?MZ(e):[].concat(n),a=[].concat(s,[i]),u=a[0],f=a.reduce(function(h,_){var y=m2(e,_);return h.top=ru(y.top,h.top),h.right=Mg(y.right,h.right),h.bottom=Mg(y.bottom,h.bottom),h.left=ru(y.left,h.left),h},m2(e,u));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function zT(e){var n=e.reference,i=e.element,s=e.placement,a=s?ba(s):null,u=s?Vd(s):null,f=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,_;switch(a){case xs:_={x:f,y:n.y-i.height};break;case _o:_={x:f,y:n.y+n.height};break;case Ao:_={x:n.x+n.width,y:h};break;case Rs:_={x:n.x-i.width,y:h};break;default:_={x:n.x,y:n.y}}var y=a?$b(a):null;if(y!=null){var S=y==="y"?"height":"width";switch(u){case kd:_[y]=_[y]-(n[S]/2-i[S]/2);break;case Lh:_[y]=_[y]+(n[S]/2-i[S]/2);break}}return _}function Oh(e,n){n===void 0&&(n={});var i=n,s=i.placement,a=s===void 0?e.placement:s,u=i.boundary,f=u===void 0?YJ:u,h=i.rootBoundary,_=h===void 0?LT:h,y=i.elementContext,S=y===void 0?qf:y,b=i.altBoundary,w=b===void 0?!1:b,C=i.padding,x=C===void 0?0:C,M=GT(typeof x!="number"?x:UT(x,op)),T=S===qf?JJ:qf,D=e.rects.popper,F=e.elements[w?T:S],N=xZ(Ld(F)?F:F.contextElement||lc(e.elements.popper),f,_),G=Fd(e.elements.reference),U=zT({reference:G,element:D,strategy:"absolute",placement:a}),$=U0(Object.assign({},D,U)),de=S===qf?$:G,ee={top:N.top-de.top+M.top,bottom:de.bottom-N.bottom+M.bottom,left:N.left-de.left+M.left,right:de.right-N.right+M.right},se=e.modifiersData.offset;if(S===qf&&se){var oe=se[a];Object.keys(ee).forEach(function(Ie){var pe=[Ao,_o].indexOf(Ie)>=0?1:-1,ae=[xs,_o].indexOf(Ie)>=0?"y":"x";ee[Ie]+=oe[ae]*pe})}return ee}function RZ(e,n){n===void 0&&(n={});var i=n,s=i.placement,a=i.boundary,u=i.rootBoundary,f=i.padding,h=i.flipVariations,_=i.allowedAutoPlacements,y=_===void 0?_u:_,S=Vd(s),b=S?h?d2:d2.filter(function(x){return Vd(x)===S}):op,w=b.filter(function(x){return y.indexOf(x)>=0});w.length===0&&(w=b);var C=w.reduce(function(x,M){return x[M]=Oh(e,{placement:M,boundary:a,rootBoundary:u,padding:f})[ba(M)],x},{});return Object.keys(C).sort(function(x,M){return C[x]-C[M]})}function TZ(e){if(ba(e)===Qb)return[];var n=Wm(e);return[p2(e),n,p2(n)]}function PZ(e){var n=e.state,i=e.options,s=e.name;if(!n.modifiersData[s]._skip){for(var a=i.mainAxis,u=a===void 0?!0:a,f=i.altAxis,h=f===void 0?!0:f,_=i.fallbackPlacements,y=i.padding,S=i.boundary,b=i.rootBoundary,w=i.altBoundary,C=i.flipVariations,x=C===void 0?!0:C,M=i.allowedAutoPlacements,T=n.options.placement,D=ba(T),F=D===T,N=_||(F||!x?[Wm(T)]:TZ(T)),G=[T].concat(N).reduce(function(_t,wt){return _t.concat(ba(wt)===Qb?RZ(n,{placement:wt,boundary:S,rootBoundary:b,padding:y,flipVariations:x,allowedAutoPlacements:M}):wt)},[]),U=n.rects.reference,$=n.rects.popper,de=new Map,ee=!0,se=G[0],oe=0;oe<G.length;oe++){var Ie=G[oe],pe=ba(Ie),ae=Vd(Ie)===kd,ye=[xs,_o].indexOf(pe)>=0,be=ye?"width":"height",_e=Oh(n,{placement:Ie,boundary:S,rootBoundary:b,altBoundary:w,padding:y}),ie=ye?ae?Ao:Rs:ae?_o:xs;U[be]>$[be]&&(ie=Wm(ie));var fe=Wm(ie),le=[];if(u&&le.push(_e[pe]<=0),h&&le.push(_e[ie]<=0,_e[fe]<=0),le.every(function(_t){return _t})){se=Ie,ee=!1;break}de.set(Ie,le)}if(ee)for(var ke=x?3:1,ze=function(_t){var wt=G.find(function(xt){var it=de.get(xt);if(it)return it.slice(0,_t).every(function(je){return je})});if(wt)return se=wt,"break"},Te=ke;Te>0;Te--){var Xe=ze(Te);if(Xe==="break")break}n.placement!==se&&(n.modifiersData[s]._skip=!0,n.placement=se,n.reset=!0)}}var NZ={name:"flip",enabled:!0,phase:"main",fn:PZ,requiresIfExists:["offset"],data:{_skip:!1}};function g2(e,n,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-n.height-i.y,right:e.right-n.width+i.x,bottom:e.bottom-n.height+i.y,left:e.left-n.width-i.x}}function v2(e){return[xs,Ao,_o,Rs].some(function(n){return e[n]>=0})}function DZ(e){var n=e.state,i=e.name,s=n.rects.reference,a=n.rects.popper,u=n.modifiersData.preventOverflow,f=Oh(n,{elementContext:"reference"}),h=Oh(n,{altBoundary:!0}),_=g2(f,s),y=g2(h,a,u),S=v2(_),b=v2(y);n.modifiersData[i]={referenceClippingOffsets:_,popperEscapeOffsets:y,isReferenceHidden:S,hasPopperEscaped:b},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":S,"data-popper-escaped":b})}var BZ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:DZ};function kZ(e,n,i){var s=ba(e),a=[Rs,xs].indexOf(s)>=0?-1:1,u=typeof i=="function"?i(Object.assign({},n,{placement:e})):i,f=u[0],h=u[1];return f=f||0,h=(h||0)*a,[Rs,Ao].indexOf(s)>=0?{x:h,y:f}:{x:f,y:h}}function LZ(e){var n=e.state,i=e.options,s=e.name,a=i.offset,u=a===void 0?[0,0]:a,f=_u.reduce(function(S,b){return S[b]=kZ(b,n.rects,u),S},{}),h=f[n.placement],_=h.x,y=h.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=_,n.modifiersData.popperOffsets.y+=y),n.modifiersData[s]=f}var OZ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:LZ};function FZ(e){var n=e.state,i=e.name;n.modifiersData[i]=zT({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var $T={name:"popperOffsets",enabled:!0,phase:"read",fn:FZ,data:{}};function VZ(e){return e==="x"?"y":"x"}function GZ(e){var n=e.state,i=e.options,s=e.name,a=i.mainAxis,u=a===void 0?!0:a,f=i.altAxis,h=f===void 0?!1:f,_=i.boundary,y=i.rootBoundary,S=i.altBoundary,b=i.padding,w=i.tether,C=w===void 0?!0:w,x=i.tetherOffset,M=x===void 0?0:x,T=Oh(n,{boundary:_,rootBoundary:y,padding:b,altBoundary:S}),D=ba(n.placement),F=Vd(n.placement),N=!F,G=$b(D),U=VZ(G),$=n.modifiersData.popperOffsets,de=n.rects.reference,ee=n.rects.popper,se=typeof M=="function"?M(Object.assign({},n.rects,{placement:n.placement})):M,oe=typeof se=="number"?{mainAxis:se,altAxis:se}:Object.assign({mainAxis:0,altAxis:0},se),Ie=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,pe={x:0,y:0};if($){if(u){var ae,ye=G==="y"?xs:Rs,be=G==="y"?_o:Ao,_e=G==="y"?"height":"width",ie=$[G],fe=ie+T[ye],le=ie-T[be],ke=C?-ee[_e]/2:0,ze=F===kd?de[_e]:ee[_e],Te=F===kd?-ee[_e]:-de[_e],Xe=n.elements.arrow,_t=C&&Xe?zb(Xe):{width:0,height:0},wt=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:VT(),xt=wt[ye],it=wt[be],je=hh(0,de[_e],_t[_e]),ot=N?de[_e]/2-ke-je-xt-oe.mainAxis:ze-je-xt-oe.mainAxis,At=N?-de[_e]/2+ke+je+it+oe.mainAxis:Te+je+it+oe.mainAxis,on=n.elements.arrow&&ap(n.elements.arrow),Ne=on?G==="y"?on.clientTop||0:on.clientLeft||0:0,$e=(ae=Ie==null?void 0:Ie[G])!=null?ae:0,ft=ie+ot-$e-Ne,Tt=ie+At-$e,Bt=hh(C?Mg(fe,ft):fe,ie,C?ru(le,Tt):le);$[G]=Bt,pe[G]=Bt-ie}if(h){var ct,Lt=G==="x"?xs:Rs,gt=G==="x"?_o:Ao,xe=$[U],qe=U==="y"?"height":"width",Dt=xe+T[Lt],zt=xe-T[gt],en=[xs,Rs].indexOf(D)!==-1,gn=(ct=Ie==null?void 0:Ie[U])!=null?ct:0,En=en?Dt:xe-de[qe]-ee[qe]-gn+oe.altAxis,Gn=en?xe+de[qe]+ee[qe]-gn-oe.altAxis:zt,pt=C&&en?hZ(En,xe,Gn):hh(C?En:Dt,xe,C?Gn:zt);$[U]=pt,pe[U]=pt-xe}n.modifiersData[s]=pe}}var UZ={name:"preventOverflow",enabled:!0,phase:"main",fn:GZ,requiresIfExists:["offset"]};function HZ(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function QZ(e){return e===Zo(e)||!po(e)?Wb(e):HZ(e)}function XZ(e){var n=e.getBoundingClientRect(),i=Od(n.width)/e.offsetWidth||1,s=Od(n.height)/e.offsetHeight||1;return i!==1||s!==1}function zZ(e,n,i){i===void 0&&(i=!1);var s=po(n),a=po(n)&&XZ(n),u=lc(n),f=Fd(e,a),h={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(s||!s&&!i)&&((Ea(n)!=="body"||jb(u))&&(h=QZ(n)),po(n)?(_=Fd(n,!0),_.x+=n.clientLeft,_.y+=n.clientTop):u&&(_.x=Kb(u))),{x:f.left+h.scrollLeft-_.x,y:f.top+h.scrollTop-_.y,width:f.width,height:f.height}}function $Z(e){var n=new Map,i=new Set,s=[];e.forEach(function(u){n.set(u.name,u)});function a(u){i.add(u.name);var f=[].concat(u.requires||[],u.requiresIfExists||[]);f.forEach(function(h){if(!i.has(h)){var _=n.get(h);_&&a(_)}}),s.push(u)}return e.forEach(function(u){i.has(u.name)||a(u)}),s}function WZ(e){var n=$Z(e);return lZ.reduce(function(i,s){return i.concat(n.filter(function(a){return a.phase===s}))},[])}function KZ(e){var n;return function(){return n||(n=new Promise(function(i){Promise.resolve().then(function(){n=void 0,i(e())})})),n}}function jZ(e){var n=e.reduce(function(i,s){var a=i[s.name];return i[s.name]=a?Object.assign({},a,s,{options:Object.assign({},a.options,s.options),data:Object.assign({},a.data,s.data)}):s,i},{});return Object.keys(n).map(function(i){return n[i]})}var _2={placement:"bottom",modifiers:[],strategy:"absolute"};function A2(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return!n.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function qb(e){e===void 0&&(e={});var n=e,i=n.defaultModifiers,s=i===void 0?[]:i,a=n.defaultOptions,u=a===void 0?_2:a;return function(f,h,_){_===void 0&&(_=u);var y={placement:"bottom",orderedModifiers:[],options:Object.assign({},_2,u),modifiersData:{},elements:{reference:f,popper:h},attributes:{},styles:{}},S=[],b=!1,w={state:y,setOptions:function(M){var T=typeof M=="function"?M(y.options):M;x(),y.options=Object.assign({},u,y.options,T),y.scrollParents={reference:Ld(f)?ph(f):f.contextElement?ph(f.contextElement):[],popper:ph(h)};var D=WZ(jZ([].concat(s,y.options.modifiers)));return y.orderedModifiers=D.filter(function(F){return F.enabled}),C(),w.update()},forceUpdate:function(){if(!b){var M=y.elements,T=M.reference,D=M.popper;if(A2(T,D)){y.rects={reference:zZ(T,ap(D),y.options.strategy==="fixed"),popper:zb(D)},y.reset=!1,y.placement=y.options.placement,y.orderedModifiers.forEach(function(ee){return y.modifiersData[ee.name]=Object.assign({},ee.data)});for(var F=0;F<y.orderedModifiers.length;F++){if(y.reset===!0){y.reset=!1,F=-1;continue}var N=y.orderedModifiers[F],G=N.fn,U=N.options,$=U===void 0?{}:U,de=N.name;typeof G=="function"&&(y=G({state:y,options:$,name:de,instance:w})||y)}}}},update:KZ(function(){return new Promise(function(M){w.forceUpdate(),M(y)})}),destroy:function(){x(),b=!0}};if(!A2(f,h))return w;w.setOptions(_).then(function(M){!b&&_.onFirstUpdate&&_.onFirstUpdate(M)});function C(){y.orderedModifiers.forEach(function(M){var T=M.name,D=M.options,F=D===void 0?{}:D,N=M.effect;if(typeof N=="function"){var G=N({state:y,name:T,instance:w,options:F}),U=function(){};S.push(G||U)}})}function x(){S.forEach(function(M){return M()}),S=[]}return w}}qb();var qZ=[QT,$T,HT,OT];qb({defaultModifiers:qZ});var YZ=[QT,$T,HT,OT,OZ,NZ,UZ,vZ,BZ],WT=qb({defaultModifiers:YZ});const jA="focus-trap.focus-after-trapped",qA="focus-trap.focus-after-released",JZ="focus-trap.focusout-prevented",y2={cancelable:!0,bubbles:!1},ZZ={cancelable:!0,bubbles:!1},b2="focusAfterTrapped",S2="focusAfterReleased",Yb=Symbol("elFocusTrap"),Jb=re(),Av=re(0),Zb=re(0);let Im=0;const KT=e=>{const n=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0||s===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)n.push(i.currentNode);return n},E2=(e,n)=>{for(const i of e)if(!eee(i,n))return i},eee=(e,n)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},tee=e=>{const n=KT(e),i=E2(n,e),s=E2(n.reverse(),e);return[i,s]},nee=e=>e instanceof HTMLInputElement&&"select"in e,Bl=(e,n)=>{if(e&&e.focus){const i=document.activeElement;if(e.focus({preventScroll:!0}),Zb.value=window.performance.now(),e!==i&&nee(e)&&n){if(e.tagName==="INPUT"){e.setSelectionRange(e.value.length,e.value.length);return}e.select()}}};function w2(e,n){const i=[...e],s=e.indexOf(n);return s!==-1&&i.splice(s,1),i}const ree=()=>{let e=[];return{push:s=>{const a=e[0];a&&s!==a&&a.pause(),e=w2(e,s),e.unshift(s)},remove:s=>{var a,u;e=w2(e,s),(u=(a=e[0])==null?void 0:a.resume)==null||u.call(a)}}},iee=(e,n=!1)=>{const i=document.activeElement;for(const s of e)if(Bl(s,n),document.activeElement!==i)return},C2=ree(),see=()=>Av.value>Zb.value,Mm=()=>{Jb.value="pointer",Av.value=window.performance.now()},I2=()=>{Jb.value="keyboard",Av.value=window.performance.now()},oee=()=>(jn(()=>{Im===0&&(document.addEventListener("mousedown",Mm),document.addEventListener("touchstart",Mm),document.addEventListener("keydown",I2)),Im++}),di(()=>{Im--,Im<=0&&(document.removeEventListener("mousedown",Mm),document.removeEventListener("touchstart",Mm),document.removeEventListener("keydown",I2))}),{focusReason:Jb,lastUserFocusTimestamp:Av,lastAutomatedFocusTimestamp:Zb}),xm=e=>new CustomEvent(JZ,{...ZZ,detail:e}),aee=Ge({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[b2,S2,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:n}){const i=re();let s,a;const{focusReason:u}=oee();gY(x=>{e.trapped&&!f.paused&&n("release-requested",x)});const f={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},h=x=>{if(!e.loop&&!e.trapped||f.paused)return;const{key:M,altKey:T,ctrlKey:D,metaKey:F,currentTarget:N,shiftKey:G}=x,{loop:U}=e,$=M===_n.tab&&!T&&!D&&!F,de=document.activeElement;if($&&de){const ee=N,[se,oe]=tee(ee);if(se&&oe){if(!G&&de===oe){const pe=xm({focusReason:u.value});n("focusout-prevented",pe),pe.defaultPrevented||(x.preventDefault(),U&&Bl(se,!0))}else if(G&&[se,ee].includes(de)){const pe=xm({focusReason:u.value});n("focusout-prevented",pe),pe.defaultPrevented||(x.preventDefault(),U&&Bl(oe,!0))}}else if(de===ee){const pe=xm({focusReason:u.value});n("focusout-prevented",pe),pe.defaultPrevented||x.preventDefault()}}};ir(Yb,{focusTrapRef:i,onKeydown:h}),St(()=>e.focusTrapEl,x=>{x&&(i.value=x)},{immediate:!0}),St([i],([x],[M])=>{x&&(x.addEventListener("keydown",h),x.addEventListener("focusin",S),x.addEventListener("focusout",b)),M&&(M.removeEventListener("keydown",h),M.removeEventListener("focusin",S),M.removeEventListener("focusout",b))});const _=x=>{n(b2,x)},y=x=>n(S2,x),S=x=>{const M=p(i);if(!M)return;const T=x.target,D=x.relatedTarget,F=T&&M.contains(T);e.trapped||D&&M.contains(D)||(s=D),F&&n("focusin",x),!f.paused&&e.trapped&&(F?a=T:Bl(a,!0))},b=x=>{const M=p(i);if(!(f.paused||!M))if(e.trapped){const T=x.relatedTarget;!$i(T)&&!M.contains(T)&&setTimeout(()=>{if(!f.paused&&e.trapped){const D=xm({focusReason:u.value});n("focusout-prevented",D),D.defaultPrevented||Bl(a,!0)}},0)}else{const T=x.target;T&&M.contains(T)||n("focusout",x)}};async function w(){await dn();const x=p(i);if(x){C2.push(f);const M=x.contains(document.activeElement)?s:document.activeElement;if(s=M,!x.contains(M)){const D=new Event(jA,y2);x.addEventListener(jA,_),x.dispatchEvent(D),D.defaultPrevented||dn(()=>{let F=e.focusStartEl;Dn(F)||(Bl(F),document.activeElement!==F&&(F="first")),F==="first"&&iee(KT(x),!0),(document.activeElement===M||F==="container")&&Bl(x)})}}}function C(){const x=p(i);if(x){x.removeEventListener(jA,_);const M=new CustomEvent(qA,{...y2,detail:{focusReason:u.value}});x.addEventListener(qA,y),x.dispatchEvent(M),!M.defaultPrevented&&(u.value=="keyboard"||!see())&&Bl(s!=null?s:document.body,!0),x.removeEventListener(qA,_),C2.remove(f)}}return jn(()=>{e.trapped&&w(),St(()=>e.trapped,x=>{x?w():C()})}),di(()=>{e.trapped&&C()}),{onKeydown:h}}});function lee(e,n,i,s,a,u){return vt(e.$slots,"default",{handleKeydown:e.onKeydown})}var yv=Ht(aee,[["render",lee],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const cee=["fixed","absolute"],uee=Xt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:nt(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:_u,default:"bottom"},popperOptions:{type:nt(Object),default:()=>({})},strategy:{type:String,values:cee,default:"absolute"}}),jT=Xt({...uee,id:String,style:{type:nt([String,Array,Object])},className:{type:nt([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:nt([String,Array,Object])},popperStyle:{type:nt([String,Array,Object])},referenceEl:{type:nt(Object)},triggerTargetEl:{type:nt(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),dee={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},M2=(e,n)=>{const{placement:i,strategy:s,popperOptions:a}=e,u={placement:i,strategy:s,...a,modifiers:hee(e)};return pee(u,n),mee(u,a==null?void 0:a.modifiers),u},fee=e=>{if(!!ur)return $s(e)};function hee(e){const{offset:n,gpuAcceleration:i,fallbackPlacements:s}=e;return[{name:"offset",options:{offset:[0,n!=null?n:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:s}},{name:"computeStyles",options:{gpuAcceleration:i}}]}function pee(e,{arrowEl:n,arrowOffset:i}){e.modifiers.push({name:"arrow",options:{element:n,padding:i!=null?i:5}})}function mee(e,n){n&&(e.modifiers=[...e.modifiers,...n!=null?n:[]])}const gee=Ge({name:"ElPopperContent"}),vee=Ge({...gee,props:jT,emits:dee,setup(e,{expose:n,emit:i}){const s=e,{popperInstanceRef:a,contentRef:u,triggerRef:f,role:h}=hn(kb,void 0),_=hn(Sa,void 0),{nextZIndex:y}=al(),S=bt("popper"),b=re(),w=re("first"),C=re(),x=re();ir(fT,{arrowRef:C,arrowOffset:x}),_&&(_.addInputId||_.removeInputId)&&ir(Sa,{..._,addInputId:Lr,removeInputId:Lr});const M=re(s.zIndex||y()),T=re(!1);let D;const F=z(()=>fee(s.referenceEl)||p(f)),N=z(()=>[{zIndex:p(M)},s.popperStyle]),G=z(()=>[S.b(),S.is("pure",s.pure),S.is(s.effect),s.popperClass]),U=z(()=>h&&h.value==="dialog"?"false":void 0),$=({referenceEl:ye,popperContentEl:be,arrowEl:_e})=>{const ie=M2(s,{arrowEl:_e,arrowOffset:p(x)});return WT(ye,be,ie)},de=(ye=!0)=>{var be;(be=p(a))==null||be.update(),ye&&(M.value=s.zIndex||y())},ee=()=>{var ye,be;const _e={name:"eventListeners",enabled:s.visible};(be=(ye=p(a))==null?void 0:ye.setOptions)==null||be.call(ye,ie=>({...ie,modifiers:[...ie.modifiers||[],_e]})),de(!1),s.visible&&s.focusOnShow?T.value=!0:s.visible===!1&&(T.value=!1)},se=()=>{i("focus")},oe=ye=>{var be;((be=ye.detail)==null?void 0:be.focusReason)!=="pointer"&&(w.value="first",i("blur"))},Ie=ye=>{s.visible&&!T.value&&(ye.target&&(w.value=ye.target),T.value=!0)},pe=ye=>{s.trapping||(ye.detail.focusReason==="pointer"&&ye.preventDefault(),T.value=!1)},ae=()=>{T.value=!1,i("close")};return jn(()=>{let ye;St(F,be=>{var _e;ye==null||ye();const ie=p(a);if((_e=ie==null?void 0:ie.destroy)==null||_e.call(ie),be){const fe=p(b);u.value=fe,a.value=$({referenceEl:be,popperContentEl:fe,arrowEl:p(C)}),ye=St(()=>be.getBoundingClientRect(),()=>de(),{immediate:!0})}else a.value=void 0},{immediate:!0}),St(()=>s.triggerTargetEl,(be,_e)=>{D==null||D(),D=void 0;const ie=p(be||b.value),fe=p(_e||b.value);$o(ie)&&(D=St([h,()=>s.ariaLabel,U,()=>s.id],le=>{["role","aria-label","aria-modal","id"].forEach((ke,ze)=>{$i(le[ze])?ie.removeAttribute(ke):ie.setAttribute(ke,le[ze])})},{immediate:!0})),fe!==ie&&$o(fe)&&["role","aria-label","aria-modal","id"].forEach(le=>{fe.removeAttribute(le)})},{immediate:!0}),St(()=>s.visible,ee,{immediate:!0}),St(()=>M2(s,{arrowEl:p(C),arrowOffset:p(x)}),be=>{var _e;return(_e=a.value)==null?void 0:_e.setOptions(be)})}),di(()=>{D==null||D(),D=void 0}),n({popperContentRef:b,popperInstanceRef:a,updatePopper:de,contentStyle:N}),(ye,be)=>(Q(),ve("div",{ref_key:"popperContentRef",ref:b,style:fn(p(N)),class:Y(p(G)),tabindex:"-1",onMouseenter:be[0]||(be[0]=_e=>ye.$emit("mouseenter",_e)),onMouseleave:be[1]||(be[1]=_e=>ye.$emit("mouseleave",_e))},[Re(p(yv),{trapped:T.value,"trap-on-focus-in":!0,"focus-trap-el":b.value,"focus-start-el":w.value,onFocusAfterTrapped:se,onFocusAfterReleased:oe,onFocusin:Ie,onFocusoutPrevented:pe,onReleaseRequested:ae},{default:Ue(()=>[vt(ye.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el"])],38))}});var _ee=Ht(vee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const qT=Jn(QJ),Aee=bt("tooltip"),Hi=Xt({...yY,...jT,appendTo:{type:nt([String,Object]),default:AT},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:nt(Boolean),default:null},transition:{type:String,default:`${Aee.namespace.value}-fade-in-linear`},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}}),Fh=Xt({...kT,disabled:Boolean,trigger:{type:nt([String,Array]),default:"hover"},triggerKeys:{type:nt(Array),default:()=>[_n.enter,_n.space]}}),{useModelToggleProps:yee,useModelToggleEmits:bee,useModelToggle:See}=fY("visible"),Eee=Xt({...PT,...yee,...Hi,...Fh,...NT,showArrow:{type:Boolean,default:!0}}),wee=[...bee,"before-show","before-hide","show","hide","open","close"],Cee=(e,n)=>sn(e)?e.includes(n):e===n,ed=(e,n,i)=>s=>{Cee(p(e),n)&&i(s)},Iee=Ge({name:"ElTooltipTrigger"}),Mee=Ge({...Iee,props:Fh,setup(e,{expose:n}){const i=e,s=bt("tooltip"),{controlled:a,id:u,open:f,onOpen:h,onClose:_,onToggle:y}=hn(hv,void 0),S=re(null),b=()=>{if(p(a)||i.disabled)return!0},w=si(i,"trigger"),C=ci(b,ed(w,"hover",h)),x=ci(b,ed(w,"hover",_)),M=ci(b,ed(w,"click",G=>{G.button===0&&y(G)})),T=ci(b,ed(w,"focus",h)),D=ci(b,ed(w,"focus",_)),F=ci(b,ed(w,"contextmenu",G=>{G.preventDefault(),y(G)})),N=ci(b,G=>{const{code:U}=G;i.triggerKeys.includes(U)&&(G.preventDefault(),y(G))});return n({triggerRef:S}),(G,U)=>(Q(),rt(p(qJ),{id:p(u),"virtual-ref":G.virtualRef,open:p(f),"virtual-triggering":G.virtualTriggering,class:Y(p(s).e("trigger")),onBlur:p(D),onClick:p(M),onContextmenu:p(F),onFocus:p(T),onMouseenter:p(C),onMouseleave:p(x),onKeydown:p(N)},{default:Ue(()=>[vt(G.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var xee=Ht(Mee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const Ree=Ge({name:"ElTooltipContent",inheritAttrs:!1}),Tee=Ge({...Ree,props:Hi,setup(e,{expose:n}){const i=e,s=re(null),a=re(!1),{controlled:u,id:f,open:h,trigger:_,onClose:y,onOpen:S,onShow:b,onHide:w,onBeforeShow:C,onBeforeHide:x}=hn(hv,void 0),M=z(()=>i.persistent);di(()=>{a.value=!0});const T=z(()=>p(M)?!0:p(h)),D=z(()=>i.disabled?!1:p(h)),F=z(()=>{var ae;return(ae=i.style)!=null?ae:{}}),N=z(()=>!p(h)),G=()=>{w()},U=()=>{if(p(u))return!0},$=ci(U,()=>{i.enterable&&p(_)==="hover"&&S()}),de=ci(U,()=>{p(_)==="hover"&&y()}),ee=()=>{var ae,ye;(ye=(ae=s.value)==null?void 0:ae.updatePopper)==null||ye.call(ae),C==null||C()},se=()=>{x==null||x()},oe=()=>{b(),pe=Mb(z(()=>{var ae;return(ae=s.value)==null?void 0:ae.popperContentRef}),()=>{if(p(u))return;p(_)!=="hover"&&y()})},Ie=()=>{i.virtualTriggering||y()};let pe;return St(()=>p(h),ae=>{ae||pe==null||pe()},{flush:"post"}),St(()=>i.content,()=>{var ae,ye;(ye=(ae=s.value)==null?void 0:ae.updatePopper)==null||ye.call(ae)}),n({contentRef:s}),(ae,ye)=>(Q(),rt(Jh,{disabled:!ae.teleported,to:ae.appendTo},[Re(bi,{name:ae.transition,onAfterLeave:G,onBeforeEnter:ee,onAfterEnter:oe,onBeforeLeave:se},{default:Ue(()=>[p(T)?Hn((Q(),rt(p(_ee),nr({key:0,id:p(f),ref_key:"contentRef",ref:s},ae.$attrs,{"aria-label":ae.ariaLabel,"aria-hidden":p(N),"boundaries-padding":ae.boundariesPadding,"fallback-placements":ae.fallbackPlacements,"gpu-acceleration":ae.gpuAcceleration,offset:ae.offset,placement:ae.placement,"popper-options":ae.popperOptions,strategy:ae.strategy,effect:ae.effect,enterable:ae.enterable,pure:ae.pure,"popper-class":ae.popperClass,"popper-style":[ae.popperStyle,p(F)],"reference-el":ae.referenceEl,"trigger-target-el":ae.triggerTargetEl,visible:p(D),"z-index":ae.zIndex,onMouseenter:p($),onMouseleave:p(de),onBlur:Ie,onClose:p(y)}),{default:Ue(()=>[Ye(" Workaround bug #6378 "),a.value?Ye("v-if",!0):vt(ae.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[_r,p(D)]]):Ye("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var Pee=Ht(Tee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const Nee=["innerHTML"],Dee={key:1},Bee=Ge({name:"ElTooltip"}),kee=Ge({...Bee,props:Eee,emits:wee,setup(e,{expose:n,emit:i}){const s=e;AY();const a=Wo(),u=re(),f=re(),h=()=>{var D;const F=p(u);F&&((D=F.popperInstanceRef)==null||D.update())},_=re(!1),y=re(),{show:S,hide:b,hasUpdateHandler:w}=See({indicator:_,toggleReason:y}),{onOpen:C,onClose:x}=bY({showAfter:si(s,"showAfter"),hideAfter:si(s,"hideAfter"),open:S,close:b}),M=z(()=>Mi(s.visible)&&!w.value);ir(hv,{controlled:M,id:a,open:Yh(_),trigger:si(s,"trigger"),onOpen:D=>{C(D)},onClose:D=>{x(D)},onToggle:D=>{p(_)?x(D):C(D)},onShow:()=>{i("show",y.value)},onHide:()=>{i("hide",y.value)},onBeforeShow:()=>{i("before-show",y.value)},onBeforeHide:()=>{i("before-hide",y.value)},updatePopper:h}),St(()=>s.disabled,D=>{D&&_.value&&(_.value=!1)});const T=()=>{var D,F;const N=(F=(D=f.value)==null?void 0:D.contentRef)==null?void 0:F.popperContentRef;return N&&N.contains(document.activeElement)};return Ex(()=>_.value&&b()),n({popperRef:u,contentRef:f,isFocusInsideContent:T,updatePopper:h,onOpen:C,onClose:x,hide:b}),(D,F)=>(Q(),rt(p(qT),{ref_key:"popperRef",ref:u,role:D.role},{default:Ue(()=>[Re(xee,{disabled:D.disabled,trigger:D.trigger,"trigger-keys":D.triggerKeys,"virtual-ref":D.virtualRef,"virtual-triggering":D.virtualTriggering},{default:Ue(()=>[D.$slots.default?vt(D.$slots,"default",{key:0}):Ye("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Re(Pee,{ref_key:"contentRef",ref:f,"aria-label":D.ariaLabel,"boundaries-padding":D.boundariesPadding,content:D.content,disabled:D.disabled,effect:D.effect,enterable:D.enterable,"fallback-placements":D.fallbackPlacements,"hide-after":D.hideAfter,"gpu-acceleration":D.gpuAcceleration,offset:D.offset,persistent:D.persistent,"popper-class":D.popperClass,"popper-style":D.popperStyle,placement:D.placement,"popper-options":D.popperOptions,pure:D.pure,"raw-content":D.rawContent,"reference-el":D.referenceEl,"trigger-target-el":D.triggerTargetEl,"show-after":D.showAfter,strategy:D.strategy,teleported:D.teleported,transition:D.transition,"virtual-triggering":D.virtualTriggering,"z-index":D.zIndex,"append-to":D.appendTo},{default:Ue(()=>[vt(D.$slots,"content",{},()=>[D.rawContent?(Q(),ve("span",{key:0,innerHTML:D.content},null,8,Nee)):(Q(),ve("span",Dee,Qt(D.content),1))]),D.showArrow?(Q(),rt(p($J),{key:0,"arrow-offset":D.arrowOffset},null,8,["arrow-offset"])):Ye("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Lee=Ht(kee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const Ps=Jn(Lee),Oee=Xt({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:nt(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:nt([Function,Array]),default:Lr},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:Hi.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1}}),Fee={[qn]:e=>Dn(e),[_s]:e=>Dn(e),[jr]:e=>Dn(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>tr(e)},Vee=["aria-expanded","aria-owns"],Gee={key:0},Uee=["id","aria-selected","onClick"],YT="ElAutocomplete",Hee=Ge({name:YT,inheritAttrs:!1}),Qee=Ge({...Hee,props:Oee,emits:Fee,setup(e,{expose:n,emit:i}){const s=e,a=Bb(),u=Zh(),f=Jo(),h=bt("autocomplete"),_=re(),y=re(),S=re(),b=re();let w=!1,C=!1;const x=re([]),M=re(-1),T=re(""),D=re(!1),F=re(!1),N=re(!1),G=z(()=>h.b(String(sp()))),U=z(()=>u.style),$=z(()=>(x.value.length>0||N.value)&&D.value),de=z(()=>!s.hideLoading&&N.value),ee=z(()=>_.value?Array.from(_.value.$el.querySelectorAll("input")):[]),se=async()=>{await dn(),$.value&&(T.value=`${_.value.$el.offsetWidth}px`)},oe=()=>{C=!0},Ie=()=>{C=!1,M.value=-1},ae=As(async it=>{if(F.value)return;const je=ot=>{N.value=!1,!F.value&&(sn(ot)?(x.value=ot,M.value=s.highlightFirstItem?0:-1):Ri(YT,"autocomplete suggestions must be an array"))};if(N.value=!0,sn(s.fetchSuggestions))je(s.fetchSuggestions);else{const ot=await s.fetchSuggestions(it,je);sn(ot)&&je(ot)}},s.debounce),ye=it=>{const je=!!it;if(i(_s,it),i(qn,it),F.value=!1,D.value||(D.value=je),!s.triggerOnFocus&&!it){F.value=!0,x.value=[];return}ae(it)},be=it=>{var je;f.value||(((je=it.target)==null?void 0:je.tagName)!=="INPUT"||ee.value.includes(document.activeElement))&&(D.value=!0)},_e=it=>{i(jr,it)},ie=it=>{C||(D.value=!0,i("focus",it),s.triggerOnFocus&&!w&&ae(String(s.modelValue)))},fe=it=>{C||i("blur",it)},le=()=>{D.value=!1,i(qn,""),i("clear")},ke=async()=>{$.value&&M.value>=0&&M.value<x.value.length?wt(x.value[M.value]):s.selectWhenUnmatched&&(i("select",{value:s.modelValue}),x.value=[],M.value=-1)},ze=it=>{$.value&&(it.preventDefault(),it.stopPropagation(),Te())},Te=()=>{D.value=!1},Xe=()=>{var it;(it=_.value)==null||it.focus()},_t=()=>{var it;(it=_.value)==null||it.blur()},wt=async it=>{i(_s,it[s.valueKey]),i(qn,it[s.valueKey]),i("select",it),x.value=[],M.value=-1},xt=it=>{if(!$.value||N.value)return;if(it<0){M.value=-1;return}it>=x.value.length&&(it=x.value.length-1);const je=y.value.querySelector(`.${h.be("suggestion","wrap")}`),At=je.querySelectorAll(`.${h.be("suggestion","list")} li`)[it],on=je.scrollTop,{offsetTop:Ne,scrollHeight:$e}=At;Ne+$e>on+je.clientHeight&&(je.scrollTop+=$e),Ne<on&&(je.scrollTop-=$e),M.value=it,_.value.ref.setAttribute("aria-activedescendant",`${G.value}-item-${M.value}`)};return Mb(b,()=>{$.value&&Te()}),jn(()=>{_.value.ref.setAttribute("role","textbox"),_.value.ref.setAttribute("aria-autocomplete","list"),_.value.ref.setAttribute("aria-controls","id"),_.value.ref.setAttribute("aria-activedescendant",`${G.value}-item-${M.value}`),w=_.value.ref.hasAttribute("readonly")}),n({highlightedIndex:M,activated:D,loading:N,inputRef:_,popperRef:S,suggestions:x,handleSelect:wt,handleKeyEnter:ke,focus:Xe,blur:_t,close:Te,highlight:xt}),(it,je)=>(Q(),rt(p(Ps),{ref_key:"popperRef",ref:S,visible:p($),placement:it.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[p(h).e("popper"),it.popperClass],teleported:it.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${p(h).namespace.value}-zoom-in-top`,persistent:"",onBeforeShow:se,onShow:oe,onHide:Ie},{content:Ue(()=>[Ce("div",{ref_key:"regionRef",ref:y,class:Y([p(h).b("suggestion"),p(h).is("loading",p(de))]),style:fn({[it.fitInputWidth?"width":"minWidth"]:T.value,outline:"none"}),role:"region"},[Re(p(cl),{id:p(G),tag:"ul","wrap-class":p(h).be("suggestion","wrap"),"view-class":p(h).be("suggestion","list"),role:"listbox"},{default:Ue(()=>[p(de)?(Q(),ve("li",Gee,[Re(p(un),{class:Y(p(h).is("loading"))},{default:Ue(()=>[Re(p(ic))]),_:1},8,["class"])])):(Q(!0),ve(mn,{key:1},cr(x.value,(ot,At)=>(Q(),ve("li",{id:`${p(G)}-item-${At}`,key:At,class:Y({highlighted:M.value===At}),role:"option","aria-selected":M.value===At,onClick:on=>wt(ot)},[vt(it.$slots,"default",{item:ot},()=>[hr(Qt(ot[it.valueKey]),1)])],10,Uee))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:Ue(()=>[Ce("div",{ref_key:"listboxRef",ref:b,class:Y([p(h).b(),it.$attrs.class]),style:fn(p(U)),role:"combobox","aria-haspopup":"listbox","aria-expanded":p($),"aria-owns":p(G)},[Re(p(os),nr({ref_key:"inputRef",ref:_},p(a),{"model-value":it.modelValue,onInput:ye,onChange:_e,onFocus:ie,onBlur:fe,onClear:le,onKeydown:[je[0]||(je[0]=fr(Nn(ot=>xt(M.value-1),["prevent"]),["up"])),je[1]||(je[1]=fr(Nn(ot=>xt(M.value+1),["prevent"]),["down"])),fr(ke,["enter"]),fr(Te,["tab"]),fr(ze,["esc"])],onMousedown:be}),zl({_:2},[it.$slots.prepend?{name:"prepend",fn:Ue(()=>[vt(it.$slots,"prepend")])}:void 0,it.$slots.append?{name:"append",fn:Ue(()=>[vt(it.$slots,"append")])}:void 0,it.$slots.prefix?{name:"prefix",fn:Ue(()=>[vt(it.$slots,"prefix")])}:void 0,it.$slots.suffix?{name:"suffix",fn:Ue(()=>[vt(it.$slots,"suffix")])}:void 0]),1040,["model-value","onKeydown"])],14,Vee)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var Xee=Ht(Qee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]);const zee=Jn(Xee),$ee=Xt({size:{type:[Number,String],values:sc,default:"",validator:e=>Qn(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:$r},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:nt(String),default:"cover"}}),Wee={error:e=>e instanceof Event},Kee=["src","alt","srcset"],jee=Ge({name:"ElAvatar"}),qee=Ge({...jee,props:$ee,emits:Wee,setup(e,{emit:n}){const i=e,s=bt("avatar"),a=re(!1),u=z(()=>{const{size:y,icon:S,shape:b}=i,w=[s.b()];return Dn(y)&&w.push(s.m(y)),S&&w.push(s.m("icon")),b&&w.push(s.m(b)),w}),f=z(()=>{const{size:y}=i;return Qn(y)?s.cssVarBlock({size:wi(y)||""}):void 0}),h=z(()=>({objectFit:i.fit}));St(()=>i.src,()=>a.value=!1);function _(y){a.value=!0,n("error",y)}return(y,S)=>(Q(),ve("span",{class:Y(p(u)),style:fn(p(f))},[(y.src||y.srcSet)&&!a.value?(Q(),ve("img",{key:0,src:y.src,alt:y.alt,srcset:y.srcSet,style:fn(p(h)),onError:_},null,44,Kee)):y.icon?(Q(),rt(p(un),{key:1},{default:Ue(()=>[(Q(),rt(rr(y.icon)))]),_:1})):vt(y.$slots,"default",{key:2})],6))}});var Yee=Ht(qee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const Jee=Jn(Yee),Zee={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},ete={click:e=>e instanceof MouseEvent},tte=(e,n,i)=>{const s=Wr(),a=Wr(),u=re(!1),f=()=>{if(!s.value)return;const S=Date.now(),b=s.value.scrollTop,w=()=>{if(!s.value)return;const C=(Date.now()-S)/500;C<1?(s.value.scrollTop=b*(1-Jq(C)),requestAnimationFrame(w)):s.value.scrollTop=0};requestAnimationFrame(w)},h=()=>{s.value&&(u.value=s.value.scrollTop>=e.visibilityHeight)},_=S=>{f(),n("click",S)},y=$R(h,300,!0);return Kr(a,"scroll",y),jn(()=>{var S;a.value=document,s.value=document.documentElement,e.target&&(s.value=(S=document.querySelector(e.target))!=null?S:void 0,s.value||Ri(i,`target does not exist: ${e.target}`),a.value=s.value)}),{visible:u,handleClick:_}},JT="ElBacktop",nte=Ge({name:JT}),rte=Ge({...nte,props:Zee,emits:ete,setup(e,{emit:n}){const i=e,s=bt("backtop"),{handleClick:a,visible:u}=tte(i,n,JT),f=z(()=>({right:`${i.right}px`,bottom:`${i.bottom}px`}));return(h,_)=>(Q(),rt(bi,{name:`${p(s).namespace.value}-fade-in`},{default:Ue(()=>[p(u)?(Q(),ve("div",{key:0,style:fn(p(f)),class:Y(p(s).b()),onClick:_[0]||(_[0]=Nn((...y)=>p(a)&&p(a)(...y),["stop"]))},[vt(h.$slots,"default",{},()=>[Re(p(un),{class:Y(p(s).e("icon"))},{default:Ue(()=>[Re(p(uH))]),_:1},8,["class"])])],6)):Ye("v-if",!0)]),_:3},8,["name"]))}});var ite=Ht(rte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const ste=Jn(ite),ote=Xt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),ate=["textContent"],lte=Ge({name:"ElBadge"}),cte=Ge({...lte,props:ote,setup(e,{expose:n}){const i=e,s=bt("badge"),a=z(()=>i.isDot?"":Qn(i.value)&&Qn(i.max)?i.max<i.value?`${i.max}+`:`${i.value}`:`${i.value}`);return n({content:a}),(u,f)=>(Q(),ve("div",{class:Y(p(s).b())},[vt(u.$slots,"default"),Re(bi,{name:`${p(s).namespace.value}-zoom-in-center`,persisted:""},{default:Ue(()=>[Hn(Ce("sup",{class:Y([p(s).e("content"),p(s).em("content",u.type),p(s).is("fixed",!!u.$slots.default),p(s).is("dot",u.isDot)]),textContent:Qt(p(a))},null,10,ate),[[_r,!u.hidden&&(p(a)||u.isDot)]])]),_:1},8,["name"])],2))}});var ute=Ht(cte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const ZT=Jn(ute),dte=Xt({separator:{type:String,default:"/"},separatorIcon:{type:$r}}),fte=Ge({name:"ElBreadcrumb"}),hte=Ge({...fte,props:dte,setup(e){const n=e,i=bt("breadcrumb"),s=re();return ir(eT,n),jn(()=>{const a=s.value.querySelectorAll(`.${i.e("item")}`);a.length&&a[a.length-1].setAttribute("aria-current","page")}),(a,u)=>(Q(),ve("div",{ref_key:"breadcrumb",ref:s,class:Y(p(i).b()),"aria-label":"Breadcrumb",role:"navigation"},[vt(a.$slots,"default")],2))}});var pte=Ht(hte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const mte=Xt({to:{type:nt([String,Object]),default:""},replace:{type:Boolean,default:!1}}),gte=Ge({name:"ElBreadcrumbItem"}),vte=Ge({...gte,props:mte,setup(e){const n=e,i=Yn(),s=hn(eT,void 0),a=bt("breadcrumb"),{separator:u,separatorIcon:f}=xi(s),h=i.appContext.config.globalProperties.$router,_=re(),y=()=>{!n.to||!h||(n.replace?h.replace(n.to):h.push(n.to))};return(S,b)=>(Q(),ve("span",{class:Y(p(a).e("item"))},[Ce("span",{ref_key:"link",ref:_,class:Y([p(a).e("inner"),p(a).is("link",!!S.to)]),role:"link",onClick:y},[vt(S.$slots,"default")],2),p(f)?(Q(),rt(p(un),{key:0,class:Y(p(a).e("separator"))},{default:Ue(()=>[(Q(),rt(rr(p(f))))]),_:1},8,["class"])):(Q(),ve("span",{key:1,class:Y(p(a).e("separator")),role:"presentation"},Qt(p(u)),3))],2))}});var eP=Ht(vte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const _te=Jn(pte,{BreadcrumbItem:eP}),Ate=fi(eP),yte=(e,n)=>{jl({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},z(()=>e.type==="text"));const i=hn(tT,void 0),s=ol("button"),{form:a}=ys(),u=Ci(z(()=>i==null?void 0:i.size)),f=Jo(),h=re(),_=Ki(),y=z(()=>e.type||(i==null?void 0:i.type)||""),S=z(()=>{var C,x,M;return(M=(x=e.autoInsertSpace)!=null?x:(C=s.value)==null?void 0:C.autoInsertSpace)!=null?M:!1}),b=z(()=>{var C;const x=(C=_.default)==null?void 0:C.call(_);if(S.value&&(x==null?void 0:x.length)===1){const M=x[0];if((M==null?void 0:M.type)===Wd){const T=M.children;return/^\p{Unified_Ideograph}{2}$/u.test(T.trim())}}return!1});return{_disabled:f,_size:u,_type:y,_ref:h,shouldAddSpace:b,handleClick:C=>{e.nativeType==="reset"&&(a==null||a.resetFields()),n("click",C)}}},H0=["default","primary","success","warning","info","danger","text",""],bte=["button","submit","reset"],Q0=Xt({size:Ts,disabled:Boolean,type:{type:String,values:H0,default:""},icon:{type:$r},nativeType:{type:String,values:bte,default:"button"},loading:Boolean,loadingIcon:{type:$r,default:()=>ic},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0}}),Ste={click:e=>e instanceof MouseEvent};function ts(e,n){Ete(e)&&(e="100%");var i=wte(e);return e=n===360?e:Math.min(n,Math.max(0,parseFloat(e))),i&&(e=parseInt(String(e*n),10)/100),Math.abs(e-n)<1e-6?1:(n===360?e=(e<0?e%n+n:e%n)/parseFloat(String(n)):e=e%n/parseFloat(String(n)),e)}function Rm(e){return Math.min(1,Math.max(0,e))}function Ete(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function wte(e){return typeof e=="string"&&e.indexOf("%")!==-1}function tP(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Tm(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Wc(e){return e.length===1?"0"+e:String(e)}function Cte(e,n,i){return{r:ts(e,255)*255,g:ts(n,255)*255,b:ts(i,255)*255}}function x2(e,n,i){e=ts(e,255),n=ts(n,255),i=ts(i,255);var s=Math.max(e,n,i),a=Math.min(e,n,i),u=0,f=0,h=(s+a)/2;if(s===a)f=0,u=0;else{var _=s-a;switch(f=h>.5?_/(2-s-a):_/(s+a),s){case e:u=(n-i)/_+(n<i?6:0);break;case n:u=(i-e)/_+2;break;case i:u=(e-n)/_+4;break}u/=6}return{h:u,s:f,l:h}}function YA(e,n,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(n-e)*(6*i):i<1/2?n:i<2/3?e+(n-e)*(2/3-i)*6:e}function Ite(e,n,i){var s,a,u;if(e=ts(e,360),n=ts(n,100),i=ts(i,100),n===0)a=i,u=i,s=i;else{var f=i<.5?i*(1+n):i+n-i*n,h=2*i-f;s=YA(h,f,e+1/3),a=YA(h,f,e),u=YA(h,f,e-1/3)}return{r:s*255,g:a*255,b:u*255}}function R2(e,n,i){e=ts(e,255),n=ts(n,255),i=ts(i,255);var s=Math.max(e,n,i),a=Math.min(e,n,i),u=0,f=s,h=s-a,_=s===0?0:h/s;if(s===a)u=0;else{switch(s){case e:u=(n-i)/h+(n<i?6:0);break;case n:u=(i-e)/h+2;break;case i:u=(e-n)/h+4;break}u/=6}return{h:u,s:_,v:f}}function Mte(e,n,i){e=ts(e,360)*6,n=ts(n,100),i=ts(i,100);var s=Math.floor(e),a=e-s,u=i*(1-n),f=i*(1-a*n),h=i*(1-(1-a)*n),_=s%6,y=[i,f,u,u,h,i][_],S=[h,i,i,f,u,u][_],b=[u,u,h,i,i,f][_];return{r:y*255,g:S*255,b:b*255}}function T2(e,n,i,s){var a=[Wc(Math.round(e).toString(16)),Wc(Math.round(n).toString(16)),Wc(Math.round(i).toString(16))];return s&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function xte(e,n,i,s,a){var u=[Wc(Math.round(e).toString(16)),Wc(Math.round(n).toString(16)),Wc(Math.round(i).toString(16)),Wc(Rte(s))];return a&&u[0].startsWith(u[0].charAt(1))&&u[1].startsWith(u[1].charAt(1))&&u[2].startsWith(u[2].charAt(1))&&u[3].startsWith(u[3].charAt(1))?u[0].charAt(0)+u[1].charAt(0)+u[2].charAt(0)+u[3].charAt(0):u.join("")}function Rte(e){return Math.round(parseFloat(e)*255).toString(16)}function P2(e){return Xs(e)/255}function Xs(e){return parseInt(e,16)}function Tte(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var X0={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Pte(e){var n={r:0,g:0,b:0},i=1,s=null,a=null,u=null,f=!1,h=!1;return typeof e=="string"&&(e=Bte(e)),typeof e=="object"&&(Ha(e.r)&&Ha(e.g)&&Ha(e.b)?(n=Cte(e.r,e.g,e.b),f=!0,h=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Ha(e.h)&&Ha(e.s)&&Ha(e.v)?(s=Tm(e.s),a=Tm(e.v),n=Mte(e.h,s,a),f=!0,h="hsv"):Ha(e.h)&&Ha(e.s)&&Ha(e.l)&&(s=Tm(e.s),u=Tm(e.l),n=Ite(e.h,s,u),f=!0,h="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(i=e.a)),i=tP(i),{ok:f,format:e.format||h,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:i}}var Nte="[-\\+]?\\d+%?",Dte="[-\\+]?\\d*\\.\\d+%?",Vl="(?:".concat(Dte,")|(?:").concat(Nte,")"),JA="[\\s|\\(]+(".concat(Vl,")[,|\\s]+(").concat(Vl,")[,|\\s]+(").concat(Vl,")\\s*\\)?"),ZA="[\\s|\\(]+(".concat(Vl,")[,|\\s]+(").concat(Vl,")[,|\\s]+(").concat(Vl,")[,|\\s]+(").concat(Vl,")\\s*\\)?"),Vo={CSS_UNIT:new RegExp(Vl),rgb:new RegExp("rgb"+JA),rgba:new RegExp("rgba"+ZA),hsl:new RegExp("hsl"+JA),hsla:new RegExp("hsla"+ZA),hsv:new RegExp("hsv"+JA),hsva:new RegExp("hsva"+ZA),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Bte(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var n=!1;if(X0[e])e=X0[e],n=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i=Vo.rgb.exec(e);return i?{r:i[1],g:i[2],b:i[3]}:(i=Vo.rgba.exec(e),i?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=Vo.hsl.exec(e),i?{h:i[1],s:i[2],l:i[3]}:(i=Vo.hsla.exec(e),i?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=Vo.hsv.exec(e),i?{h:i[1],s:i[2],v:i[3]}:(i=Vo.hsva.exec(e),i?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=Vo.hex8.exec(e),i?{r:Xs(i[1]),g:Xs(i[2]),b:Xs(i[3]),a:P2(i[4]),format:n?"name":"hex8"}:(i=Vo.hex6.exec(e),i?{r:Xs(i[1]),g:Xs(i[2]),b:Xs(i[3]),format:n?"name":"hex"}:(i=Vo.hex4.exec(e),i?{r:Xs(i[1]+i[1]),g:Xs(i[2]+i[2]),b:Xs(i[3]+i[3]),a:P2(i[4]+i[4]),format:n?"name":"hex8"}:(i=Vo.hex3.exec(e),i?{r:Xs(i[1]+i[1]),g:Xs(i[2]+i[2]),b:Xs(i[3]+i[3]),format:n?"name":"hex"}:!1)))))))))}function Ha(e){return Boolean(Vo.CSS_UNIT.exec(String(e)))}var nP=function(){function e(n,i){n===void 0&&(n=""),i===void 0&&(i={});var s;if(n instanceof e)return n;typeof n=="number"&&(n=Tte(n)),this.originalInput=n;var a=Pte(n);this.originalInput=n,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(s=i.format)!==null&&s!==void 0?s:a.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},e.prototype.getLuminance=function(){var n=this.toRgb(),i,s,a,u=n.r/255,f=n.g/255,h=n.b/255;return u<=.03928?i=u/12.92:i=Math.pow((u+.055)/1.055,2.4),f<=.03928?s=f/12.92:s=Math.pow((f+.055)/1.055,2.4),h<=.03928?a=h/12.92:a=Math.pow((h+.055)/1.055,2.4),.2126*i+.7152*s+.0722*a},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(n){return this.a=tP(n),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var n=R2(this.r,this.g,this.b);return{h:n.h*360,s:n.s,v:n.v,a:this.a}},e.prototype.toHsvString=function(){var n=R2(this.r,this.g,this.b),i=Math.round(n.h*360),s=Math.round(n.s*100),a=Math.round(n.v*100);return this.a===1?"hsv(".concat(i,", ").concat(s,"%, ").concat(a,"%)"):"hsva(".concat(i,", ").concat(s,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var n=x2(this.r,this.g,this.b);return{h:n.h*360,s:n.s,l:n.l,a:this.a}},e.prototype.toHslString=function(){var n=x2(this.r,this.g,this.b),i=Math.round(n.h*360),s=Math.round(n.s*100),a=Math.round(n.l*100);return this.a===1?"hsl(".concat(i,", ").concat(s,"%, ").concat(a,"%)"):"hsla(".concat(i,", ").concat(s,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(n){return n===void 0&&(n=!1),T2(this.r,this.g,this.b,n)},e.prototype.toHexString=function(n){return n===void 0&&(n=!1),"#"+this.toHex(n)},e.prototype.toHex8=function(n){return n===void 0&&(n=!1),xte(this.r,this.g,this.b,this.a,n)},e.prototype.toHex8String=function(n){return n===void 0&&(n=!1),"#"+this.toHex8(n)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var n=Math.round(this.r),i=Math.round(this.g),s=Math.round(this.b);return this.a===1?"rgb(".concat(n,", ").concat(i,", ").concat(s,")"):"rgba(".concat(n,", ").concat(i,", ").concat(s,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var n=function(i){return"".concat(Math.round(ts(i,255)*100),"%")};return{r:n(this.r),g:n(this.g),b:n(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var n=function(i){return Math.round(ts(i,255)*100)};return this.a===1?"rgb(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%)"):"rgba(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var n="#"+T2(this.r,this.g,this.b,!1),i=0,s=Object.entries(X0);i<s.length;i++){var a=s[i],u=a[0],f=a[1];if(n===f)return u}return!1},e.prototype.toString=function(n){var i=Boolean(n);n=n!=null?n:this.format;var s=!1,a=this.a<1&&this.a>=0,u=!i&&a&&(n.startsWith("hex")||n==="name");return u?n==="name"&&this.a===0?this.toName():this.toRgbString():(n==="rgb"&&(s=this.toRgbString()),n==="prgb"&&(s=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(s=this.toHexString()),n==="hex3"&&(s=this.toHexString(!0)),n==="hex4"&&(s=this.toHex8String(!0)),n==="hex8"&&(s=this.toHex8String()),n==="name"&&(s=this.toName()),n==="hsl"&&(s=this.toHslString()),n==="hsv"&&(s=this.toHsvString()),s||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.l+=n/100,i.l=Rm(i.l),new e(i)},e.prototype.brighten=function(n){n===void 0&&(n=10);var i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(n/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(n/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(n/100)))),new e(i)},e.prototype.darken=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.l-=n/100,i.l=Rm(i.l),new e(i)},e.prototype.tint=function(n){return n===void 0&&(n=10),this.mix("white",n)},e.prototype.shade=function(n){return n===void 0&&(n=10),this.mix("black",n)},e.prototype.desaturate=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.s-=n/100,i.s=Rm(i.s),new e(i)},e.prototype.saturate=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.s+=n/100,i.s=Rm(i.s),new e(i)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(n){var i=this.toHsl(),s=(i.h+n)%360;return i.h=s<0?360+s:s,new e(i)},e.prototype.mix=function(n,i){i===void 0&&(i=50);var s=this.toRgb(),a=new e(n).toRgb(),u=i/100,f={r:(a.r-s.r)*u+s.r,g:(a.g-s.g)*u+s.g,b:(a.b-s.b)*u+s.b,a:(a.a-s.a)*u+s.a};return new e(f)},e.prototype.analogous=function(n,i){n===void 0&&(n=6),i===void 0&&(i=30);var s=this.toHsl(),a=360/i,u=[this];for(s.h=(s.h-(a*n>>1)+720)%360;--n;)s.h=(s.h+a)%360,u.push(new e(s));return u},e.prototype.complement=function(){var n=this.toHsl();return n.h=(n.h+180)%360,new e(n)},e.prototype.monochromatic=function(n){n===void 0&&(n=6);for(var i=this.toHsv(),s=i.h,a=i.s,u=i.v,f=[],h=1/n;n--;)f.push(new e({h:s,s:a,v:u})),u=(u+h)%1;return f},e.prototype.splitcomplement=function(){var n=this.toHsl(),i=n.h;return[this,new e({h:(i+72)%360,s:n.s,l:n.l}),new e({h:(i+216)%360,s:n.s,l:n.l})]},e.prototype.onBackground=function(n){var i=this.toRgb(),s=new e(n).toRgb();return new e({r:s.r+(i.r-s.r)*i.a,g:s.g+(i.g-s.g)*i.a,b:s.b+(i.b-s.b)*i.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(n){for(var i=this.toHsl(),s=i.h,a=[this],u=360/n,f=1;f<n;f++)a.push(new e({h:(s+f*u)%360,s:i.s,l:i.l}));return a},e.prototype.equals=function(n){return this.toRgbString()===new e(n).toRgbString()},e}();function Nl(e,n=20){return e.mix("#141414",n).toString()}function kte(e){const n=Jo(),i=bt("button");return z(()=>{let s={};const a=e.color;if(a){const u=new nP(a),f=e.dark?u.tint(20).toString():Nl(u,20);if(e.plain)s=i.cssVarBlock({"bg-color":e.dark?Nl(u,90):u.tint(90).toString(),"text-color":a,"border-color":e.dark?Nl(u,50):u.tint(50).toString(),"hover-text-color":`var(${i.cssVarName("color-white")})`,"hover-bg-color":a,"hover-border-color":a,"active-bg-color":f,"active-text-color":`var(${i.cssVarName("color-white")})`,"active-border-color":f}),n.value&&(s[i.cssVarBlockName("disabled-bg-color")]=e.dark?Nl(u,90):u.tint(90).toString(),s[i.cssVarBlockName("disabled-text-color")]=e.dark?Nl(u,50):u.tint(50).toString(),s[i.cssVarBlockName("disabled-border-color")]=e.dark?Nl(u,80):u.tint(80).toString());else{const h=e.dark?Nl(u,30):u.tint(30).toString(),_=u.isDark()?`var(${i.cssVarName("color-white")})`:`var(${i.cssVarName("color-black")})`;if(s=i.cssVarBlock({"bg-color":a,"text-color":_,"border-color":a,"hover-bg-color":h,"hover-text-color":_,"hover-border-color":h,"active-bg-color":f,"active-border-color":f}),n.value){const y=e.dark?Nl(u,50):u.tint(50).toString();s[i.cssVarBlockName("disabled-bg-color")]=y,s[i.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${i.cssVarName("color-white")})`,s[i.cssVarBlockName("disabled-border-color")]=y}}}return s})}const Lte=["aria-disabled","disabled","autofocus","type"],Ote=Ge({name:"ElButton"}),Fte=Ge({...Ote,props:Q0,emits:Ste,setup(e,{expose:n,emit:i}){const s=e,a=kte(s),u=bt("button"),{_ref:f,_size:h,_type:_,_disabled:y,shouldAddSpace:S,handleClick:b}=yte(s,i);return n({ref:f,size:h,type:_,disabled:y,shouldAddSpace:S}),(w,C)=>(Q(),ve("button",{ref_key:"_ref",ref:f,class:Y([p(u).b(),p(u).m(p(_)),p(u).m(p(h)),p(u).is("disabled",p(y)),p(u).is("loading",w.loading),p(u).is("plain",w.plain),p(u).is("round",w.round),p(u).is("circle",w.circle),p(u).is("text",w.text),p(u).is("link",w.link),p(u).is("has-bg",w.bg)]),"aria-disabled":p(y)||w.loading,disabled:p(y)||w.loading,autofocus:w.autofocus,type:w.nativeType,style:fn(p(a)),onClick:C[0]||(C[0]=(...x)=>p(b)&&p(b)(...x))},[w.loading?(Q(),ve(mn,{key:0},[w.$slots.loading?vt(w.$slots,"loading",{key:0}):(Q(),rt(p(un),{key:1,class:Y(p(u).is("loading"))},{default:Ue(()=>[(Q(),rt(rr(w.loadingIcon)))]),_:1},8,["class"]))],64)):w.icon||w.$slots.icon?(Q(),rt(p(un),{key:1},{default:Ue(()=>[w.icon?(Q(),rt(rr(w.icon),{key:0})):vt(w.$slots,"icon",{key:1})]),_:3})):Ye("v-if",!0),w.$slots.default?(Q(),ve("span",{key:2,class:Y({[p(u).em("text","expand")]:p(S)})},[vt(w.$slots,"default")],2)):Ye("v-if",!0)],14,Lte))}});var Vte=Ht(Fte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const Gte={size:Q0.size,type:Q0.type},Ute=Ge({name:"ElButtonGroup"}),Hte=Ge({...Ute,props:Gte,setup(e){const n=e;ir(tT,Tr({size:si(n,"size"),type:si(n,"type")}));const i=bt("button");return(s,a)=>(Q(),ve("div",{class:Y(`${p(i).b("group")}`)},[vt(s.$slots,"default")],2))}});var rP=Ht(Hte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const ns=Jn(Vte,{ButtonGroup:rP}),iP=fi(rP);var sP={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(ho,function(){var i=1e3,s=6e4,a=36e5,u="millisecond",f="second",h="minute",_="hour",y="day",S="week",b="month",w="quarter",C="year",x="date",M="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,F={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ae){var ye=["th","st","nd","rd"],be=ae%100;return"["+ae+(ye[(be-20)%10]||ye[be]||ye[0])+"]"}},N=function(ae,ye,be){var _e=String(ae);return!_e||_e.length>=ye?ae:""+Array(ye+1-_e.length).join(be)+ae},G={s:N,z:function(ae){var ye=-ae.utcOffset(),be=Math.abs(ye),_e=Math.floor(be/60),ie=be%60;return(ye<=0?"+":"-")+N(_e,2,"0")+":"+N(ie,2,"0")},m:function ae(ye,be){if(ye.date()<be.date())return-ae(be,ye);var _e=12*(be.year()-ye.year())+(be.month()-ye.month()),ie=ye.clone().add(_e,b),fe=be-ie<0,le=ye.clone().add(_e+(fe?-1:1),b);return+(-(_e+(be-ie)/(fe?ie-le:le-ie))||0)},a:function(ae){return ae<0?Math.ceil(ae)||0:Math.floor(ae)},p:function(ae){return{M:b,y:C,w:S,d:y,D:x,h:_,m:h,s:f,ms:u,Q:w}[ae]||String(ae||"").toLowerCase().replace(/s$/,"")},u:function(ae){return ae===void 0}},U="en",$={};$[U]=F;var de=function(ae){return ae instanceof Ie},ee=function ae(ye,be,_e){var ie;if(!ye)return U;if(typeof ye=="string"){var fe=ye.toLowerCase();$[fe]&&(ie=fe),be&&($[fe]=be,ie=fe);var le=ye.split("-");if(!ie&&le.length>1)return ae(le[0])}else{var ke=ye.name;$[ke]=ye,ie=ke}return!_e&&ie&&(U=ie),ie||!_e&&U},se=function(ae,ye){if(de(ae))return ae.clone();var be=typeof ye=="object"?ye:{};return be.date=ae,be.args=arguments,new Ie(be)},oe=G;oe.l=ee,oe.i=de,oe.w=function(ae,ye){return se(ae,{locale:ye.$L,utc:ye.$u,x:ye.$x,$offset:ye.$offset})};var Ie=function(){function ae(be){this.$L=ee(be.locale,null,!0),this.parse(be)}var ye=ae.prototype;return ye.parse=function(be){this.$d=function(_e){var ie=_e.date,fe=_e.utc;if(ie===null)return new Date(NaN);if(oe.u(ie))return new Date;if(ie instanceof Date)return new Date(ie);if(typeof ie=="string"&&!/Z$/i.test(ie)){var le=ie.match(T);if(le){var ke=le[2]-1||0,ze=(le[7]||"0").substring(0,3);return fe?new Date(Date.UTC(le[1],ke,le[3]||1,le[4]||0,le[5]||0,le[6]||0,ze)):new Date(le[1],ke,le[3]||1,le[4]||0,le[5]||0,le[6]||0,ze)}}return new Date(ie)}(be),this.$x=be.x||{},this.init()},ye.init=function(){var be=this.$d;this.$y=be.getFullYear(),this.$M=be.getMonth(),this.$D=be.getDate(),this.$W=be.getDay(),this.$H=be.getHours(),this.$m=be.getMinutes(),this.$s=be.getSeconds(),this.$ms=be.getMilliseconds()},ye.$utils=function(){return oe},ye.isValid=function(){return this.$d.toString()!==M},ye.isSame=function(be,_e){var ie=se(be);return this.startOf(_e)<=ie&&ie<=this.endOf(_e)},ye.isAfter=function(be,_e){return se(be)<this.startOf(_e)},ye.isBefore=function(be,_e){return this.endOf(_e)<se(be)},ye.$g=function(be,_e,ie){return oe.u(be)?this[_e]:this.set(ie,be)},ye.unix=function(){return Math.floor(this.valueOf()/1e3)},ye.valueOf=function(){return this.$d.getTime()},ye.startOf=function(be,_e){var ie=this,fe=!!oe.u(_e)||_e,le=oe.p(be),ke=function(je,ot){var At=oe.w(ie.$u?Date.UTC(ie.$y,ot,je):new Date(ie.$y,ot,je),ie);return fe?At:At.endOf(y)},ze=function(je,ot){return oe.w(ie.toDate()[je].apply(ie.toDate("s"),(fe?[0,0,0,0]:[23,59,59,999]).slice(ot)),ie)},Te=this.$W,Xe=this.$M,_t=this.$D,wt="set"+(this.$u?"UTC":"");switch(le){case C:return fe?ke(1,0):ke(31,11);case b:return fe?ke(1,Xe):ke(0,Xe+1);case S:var xt=this.$locale().weekStart||0,it=(Te<xt?Te+7:Te)-xt;return ke(fe?_t-it:_t+(6-it),Xe);case y:case x:return ze(wt+"Hours",0);case _:return ze(wt+"Minutes",1);case h:return ze(wt+"Seconds",2);case f:return ze(wt+"Milliseconds",3);default:return this.clone()}},ye.endOf=function(be){return this.startOf(be,!1)},ye.$set=function(be,_e){var ie,fe=oe.p(be),le="set"+(this.$u?"UTC":""),ke=(ie={},ie[y]=le+"Date",ie[x]=le+"Date",ie[b]=le+"Month",ie[C]=le+"FullYear",ie[_]=le+"Hours",ie[h]=le+"Minutes",ie[f]=le+"Seconds",ie[u]=le+"Milliseconds",ie)[fe],ze=fe===y?this.$D+(_e-this.$W):_e;if(fe===b||fe===C){var Te=this.clone().set(x,1);Te.$d[ke](ze),Te.init(),this.$d=Te.set(x,Math.min(this.$D,Te.daysInMonth())).$d}else ke&&this.$d[ke](ze);return this.init(),this},ye.set=function(be,_e){return this.clone().$set(be,_e)},ye.get=function(be){return this[oe.p(be)]()},ye.add=function(be,_e){var ie,fe=this;be=Number(be);var le=oe.p(_e),ke=function(Xe){var _t=se(fe);return oe.w(_t.date(_t.date()+Math.round(Xe*be)),fe)};if(le===b)return this.set(b,this.$M+be);if(le===C)return this.set(C,this.$y+be);if(le===y)return ke(1);if(le===S)return ke(7);var ze=(ie={},ie[h]=s,ie[_]=a,ie[f]=i,ie)[le]||1,Te=this.$d.getTime()+be*ze;return oe.w(Te,this)},ye.subtract=function(be,_e){return this.add(-1*be,_e)},ye.format=function(be){var _e=this,ie=this.$locale();if(!this.isValid())return ie.invalidDate||M;var fe=be||"YYYY-MM-DDTHH:mm:ssZ",le=oe.z(this),ke=this.$H,ze=this.$m,Te=this.$M,Xe=ie.weekdays,_t=ie.months,wt=function(ot,At,on,Ne){return ot&&(ot[At]||ot(_e,fe))||on[At].slice(0,Ne)},xt=function(ot){return oe.s(ke%12||12,ot,"0")},it=ie.meridiem||function(ot,At,on){var Ne=ot<12?"AM":"PM";return on?Ne.toLowerCase():Ne},je={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Te+1,MM:oe.s(Te+1,2,"0"),MMM:wt(ie.monthsShort,Te,_t,3),MMMM:wt(_t,Te),D:this.$D,DD:oe.s(this.$D,2,"0"),d:String(this.$W),dd:wt(ie.weekdaysMin,this.$W,Xe,2),ddd:wt(ie.weekdaysShort,this.$W,Xe,3),dddd:Xe[this.$W],H:String(ke),HH:oe.s(ke,2,"0"),h:xt(1),hh:xt(2),a:it(ke,ze,!0),A:it(ke,ze,!1),m:String(ze),mm:oe.s(ze,2,"0"),s:String(this.$s),ss:oe.s(this.$s,2,"0"),SSS:oe.s(this.$ms,3,"0"),Z:le};return fe.replace(D,function(ot,At){return At||je[ot]||le.replace(":","")})},ye.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ye.diff=function(be,_e,ie){var fe,le=oe.p(_e),ke=se(be),ze=(ke.utcOffset()-this.utcOffset())*s,Te=this-ke,Xe=oe.m(this,ke);return Xe=(fe={},fe[C]=Xe/12,fe[b]=Xe,fe[w]=Xe/3,fe[S]=(Te-ze)/6048e5,fe[y]=(Te-ze)/864e5,fe[_]=Te/a,fe[h]=Te/s,fe[f]=Te/i,fe)[le]||Te,ie?Xe:oe.a(Xe)},ye.daysInMonth=function(){return this.endOf(b).$D},ye.$locale=function(){return $[this.$L]},ye.locale=function(be,_e){if(!be)return this.$L;var ie=this.clone(),fe=ee(be,_e,!0);return fe&&(ie.$L=fe),ie},ye.clone=function(){return oe.w(this.$d,this)},ye.toDate=function(){return new Date(this.valueOf())},ye.toJSON=function(){return this.isValid()?this.toISOString():null},ye.toISOString=function(){return this.$d.toISOString()},ye.toString=function(){return this.$d.toUTCString()},ae}(),pe=Ie.prototype;return se.prototype=pe,[["$ms",u],["$s",f],["$m",h],["$H",_],["$W",y],["$M",b],["$y",C],["$D",x]].forEach(function(ae){pe[ae[1]]=function(ye){return this.$g(ye,ae[0],ae[1])}}),se.extend=function(ae,ye){return ae.$i||(ae(ye,Ie,se),ae.$i=!0),se},se.locale=ee,se.isDayjs=de,se.unix=function(ae){return se(1e3*ae)},se.en=$[U],se.Ls=$,se.p={},se})})(sP);const Kn=sP.exports;var oP={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(ho,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,u=/\d\d?/,f=/\d*[^-_:/,()\s\d]+/,h={},_=function(M){return(M=+M)+(M>68?1900:2e3)},y=function(M){return function(T){this[M]=+T}},S=[/[+-]\d\d:?(\d\d)?|Z/,function(M){(this.zone||(this.zone={})).offset=function(T){if(!T||T==="Z")return 0;var D=T.match(/([+-]|\d\d)/g),F=60*D[1]+(+D[2]||0);return F===0?0:D[0]==="+"?-F:F}(M)}],b=function(M){var T=h[M];return T&&(T.indexOf?T:T.s.concat(T.f))},w=function(M,T){var D,F=h.meridiem;if(F){for(var N=1;N<=24;N+=1)if(M.indexOf(F(N,0,T))>-1){D=N>12;break}}else D=M===(T?"pm":"PM");return D},C={A:[f,function(M){this.afternoon=w(M,!1)}],a:[f,function(M){this.afternoon=w(M,!0)}],S:[/\d/,function(M){this.milliseconds=100*+M}],SS:[a,function(M){this.milliseconds=10*+M}],SSS:[/\d{3}/,function(M){this.milliseconds=+M}],s:[u,y("seconds")],ss:[u,y("seconds")],m:[u,y("minutes")],mm:[u,y("minutes")],H:[u,y("hours")],h:[u,y("hours")],HH:[u,y("hours")],hh:[u,y("hours")],D:[u,y("day")],DD:[a,y("day")],Do:[f,function(M){var T=h.ordinal,D=M.match(/\d+/);if(this.day=D[0],T)for(var F=1;F<=31;F+=1)T(F).replace(/\[|\]/g,"")===M&&(this.day=F)}],M:[u,y("month")],MM:[a,y("month")],MMM:[f,function(M){var T=b("months"),D=(b("monthsShort")||T.map(function(F){return F.slice(0,3)})).indexOf(M)+1;if(D<1)throw new Error;this.month=D%12||D}],MMMM:[f,function(M){var T=b("months").indexOf(M)+1;if(T<1)throw new Error;this.month=T%12||T}],Y:[/[+-]?\d+/,y("year")],YY:[a,function(M){this.year=_(M)}],YYYY:[/\d{4}/,y("year")],Z:S,ZZ:S};function x(M){var T,D;T=M,D=h&&h.formats;for(var F=(M=T.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(se,oe,Ie){var pe=Ie&&Ie.toUpperCase();return oe||D[Ie]||i[Ie]||D[pe].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ae,ye,be){return ye||be.slice(1)})})).match(s),N=F.length,G=0;G<N;G+=1){var U=F[G],$=C[U],de=$&&$[0],ee=$&&$[1];F[G]=ee?{regex:de,parser:ee}:U.replace(/^\[|\]$/g,"")}return function(se){for(var oe={},Ie=0,pe=0;Ie<N;Ie+=1){var ae=F[Ie];if(typeof ae=="string")pe+=ae.length;else{var ye=ae.regex,be=ae.parser,_e=se.slice(pe),ie=ye.exec(_e)[0];be.call(oe,ie),se=se.replace(ie,"")}}return function(fe){var le=fe.afternoon;if(le!==void 0){var ke=fe.hours;le?ke<12&&(fe.hours+=12):ke===12&&(fe.hours=0),delete fe.afternoon}}(oe),oe}}return function(M,T,D){D.p.customParseFormat=!0,M&&M.parseTwoDigitYear&&(_=M.parseTwoDigitYear);var F=T.prototype,N=F.parse;F.parse=function(G){var U=G.date,$=G.utc,de=G.args;this.$u=$;var ee=de[1];if(typeof ee=="string"){var se=de[2]===!0,oe=de[3]===!0,Ie=se||oe,pe=de[2];oe&&(pe=de[2]),h=this.$locale(),!se&&pe&&(h=D.Ls[pe]),this.$d=function(_e,ie,fe){try{if(["x","X"].indexOf(ie)>-1)return new Date((ie==="X"?1e3:1)*_e);var le=x(ie)(_e),ke=le.year,ze=le.month,Te=le.day,Xe=le.hours,_t=le.minutes,wt=le.seconds,xt=le.milliseconds,it=le.zone,je=new Date,ot=Te||(ke||ze?1:je.getDate()),At=ke||je.getFullYear(),on=0;ke&&!ze||(on=ze>0?ze-1:je.getMonth());var Ne=Xe||0,$e=_t||0,ft=wt||0,Tt=xt||0;return it?new Date(Date.UTC(At,on,ot,Ne,$e,ft,Tt+60*it.offset*1e3)):fe?new Date(Date.UTC(At,on,ot,Ne,$e,ft,Tt)):new Date(At,on,ot,Ne,$e,ft,Tt)}catch{return new Date("")}}(U,ee,$),this.init(),pe&&pe!==!0&&(this.$L=this.locale(pe).$L),Ie&&U!=this.format(ee)&&(this.$d=new Date("")),h={}}else if(ee instanceof Array)for(var ae=ee.length,ye=1;ye<=ae;ye+=1){de[1]=ee[ye-1];var be=D.apply(this,de);if(be.isValid()){this.$d=be.$d,this.$L=be.$L,this.init();break}ye===ae&&(this.$d=new Date(""))}else N.call(this,G)}}})})(oP);const e1=oP.exports,N2=["hours","minutes","seconds"],z0="HH:mm:ss",ad="YYYY-MM-DD",Qte={date:ad,dates:ad,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${ad} ${z0}`,monthrange:"YYYY-MM",daterange:ad,datetimerange:`${ad} ${z0}`},e0=(e,n)=>[e>0?e-1:void 0,e,e<n?e+1:void 0],Ql=e=>Array.from(Array.from({length:e}).keys()),aP=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),lP=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),D2=function(e,n){const i=ou(e),s=ou(n);return i&&s?e.getTime()===n.getTime():!i&&!s?e===n:!1},B2=function(e,n){const i=sn(e),s=sn(n);return i&&s?e.length!==n.length?!1:e.every((a,u)=>D2(a,n[u])):!i&&!s?D2(e,n):!1},k2=function(e,n,i){const s=lo(n)||n==="x"?Kn(e).locale(i):Kn(e,n).locale(i);return s.isValid()?s:void 0},L2=function(e,n,i){return lo(n)?e:n==="x"?+e:Kn(e).locale(i).format(n)},t0=(e,n)=>{var i;const s=[],a=n==null?void 0:n();for(let u=0;u<e;u++)s.push((i=a==null?void 0:a.includes(u))!=null?i:!1);return s},cP=Xt({disabledHours:{type:nt(Function)},disabledMinutes:{type:nt(Function)},disabledSeconds:{type:nt(Function)}}),uP=Xt({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),t1=Xt({id:{type:nt([Array,String])},name:{type:nt([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:nt([String,Object]),default:rc},editable:{type:Boolean,default:!0},prefixIcon:{type:nt([String,Object]),default:""},size:Ts,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:nt(Object),default:()=>({})},modelValue:{type:nt([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:nt([Date,Array])},defaultTime:{type:nt([Date,Array])},isRange:{type:Boolean,default:!1},...cP,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:nt([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Xte=["id","name","placeholder","value","disabled","readonly"],zte=["id","name","placeholder","value","disabled","readonly"],$te=Ge({name:"Picker"}),Wte=Ge({...$te,props:t1,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:n,emit:i}){const s=e,{lang:a}=yr(),u=bt("date"),f=bt("input"),h=bt("range"),{form:_,formItem:y}=ys(),S=hn("ElPopperOptions",{}),b=re(),w=re(),C=re(!1),x=re(!1),M=re(null);let T=!1,D=!1;St(C,Ee=>{Ee?dn(()=>{Ee&&(M.value=s.modelValue)}):(ct.value=null,dn(()=>{F(s.modelValue)}))});const F=(Ee,Qe)=>{(Qe||!B2(Ee,M.value))&&(i("change",Ee),s.validateEvent&&(y==null||y.validate("change").catch(Et=>void 0)))},N=Ee=>{if(!B2(s.modelValue,Ee)){let Qe;sn(Ee)?Qe=Ee.map(Et=>L2(Et,s.valueFormat,a.value)):Ee&&(Qe=L2(Ee,s.valueFormat,a.value)),i("update:modelValue",Ee&&Qe,a.value)}},G=Ee=>{i("keydown",Ee)},U=z(()=>{if(w.value){const Ee=$e.value?w.value:w.value.$el;return Array.from(Ee.querySelectorAll("input"))}return[]}),$=(Ee,Qe,Et)=>{const Mt=U.value;!Mt.length||(!Et||Et==="min"?(Mt[0].setSelectionRange(Ee,Qe),Mt[0].focus()):Et==="max"&&(Mt[1].setSelectionRange(Ee,Qe),Mt[1].focus()))},de=()=>{be(!0,!0),dn(()=>{D=!1})},ee=(Ee="",Qe=!1)=>{Qe||(D=!0),C.value=Qe;let Et;sn(Ee)?Et=Ee.map(Mt=>Mt.toDate()):Et=Ee&&Ee.toDate(),ct.value=null,N(Et)},se=()=>{x.value=!0},oe=()=>{i("visible-change",!0)},Ie=Ee=>{(Ee==null?void 0:Ee.key)===_n.esc&&be(!0,!0)},pe=()=>{x.value=!1,C.value=!1,D=!1,i("visible-change",!1)},ae=()=>{C.value=!0},ye=()=>{C.value=!1},be=(Ee=!0,Qe=!1)=>{D=Qe;const[Et,Mt]=p(U);let Wn=Et;!Ee&&$e.value&&(Wn=Mt),Wn&&Wn.focus()},_e=Ee=>{s.readonly||le.value||C.value||D||(C.value=!0,i("focus",Ee))};let ie;const fe=Ee=>{const Qe=async()=>{setTimeout(()=>{var Et;ie===Qe&&(!(((Et=b.value)==null?void 0:Et.isFocusInsideContent())&&!T)&&U.value.filter(Mt=>Mt.contains(document.activeElement)).length===0&&(Lt(),C.value=!1,i("blur",Ee),s.validateEvent&&(y==null||y.validate("blur").catch(Mt=>void 0))),T=!1)},0)};ie=Qe,Qe()},le=z(()=>s.disabled||(_==null?void 0:_.disabled)),ke=z(()=>{let Ee;if(je.value?pt.value.getDefaultValue&&(Ee=pt.value.getDefaultValue()):sn(s.modelValue)?Ee=s.modelValue.map(Qe=>k2(Qe,s.valueFormat,a.value)):Ee=k2(s.modelValue,s.valueFormat,a.value),pt.value.getRangeAvailableTime){const Qe=pt.value.getRangeAvailableTime(Ee);qs(Qe,Ee)||(Ee=Qe,N(sn(Ee)?Ee.map(Et=>Et.toDate()):Ee.toDate()))}return sn(Ee)&&Ee.some(Qe=>!Qe)&&(Ee=[]),Ee}),ze=z(()=>{if(!pt.value.panelReady)return"";const Ee=xe(ke.value);return sn(ct.value)?[ct.value[0]||Ee&&Ee[0]||"",ct.value[1]||Ee&&Ee[1]||""]:ct.value!==null?ct.value:!Xe.value&&je.value||!C.value&&je.value?"":Ee?_t.value?Ee.join(", "):Ee:""}),Te=z(()=>s.type.includes("time")),Xe=z(()=>s.type.startsWith("time")),_t=z(()=>s.type==="dates"),wt=z(()=>s.prefixIcon||(Te.value?lR:ZU)),xt=re(!1),it=Ee=>{s.readonly||le.value||xt.value&&(Ee.stopPropagation(),de(),N(null),F(null,!0),xt.value=!1,C.value=!1,pt.value.handleClear&&pt.value.handleClear())},je=z(()=>{const{modelValue:Ee}=s;return!Ee||sn(Ee)&&!Ee.filter(Boolean).length}),ot=async Ee=>{var Qe;s.readonly||le.value||(((Qe=Ee.target)==null?void 0:Qe.tagName)!=="INPUT"||U.value.includes(document.activeElement))&&(C.value=!0)},At=()=>{s.readonly||le.value||!je.value&&s.clearable&&(xt.value=!0)},on=()=>{xt.value=!1},Ne=Ee=>{var Qe;s.readonly||le.value||(((Qe=Ee.touches[0].target)==null?void 0:Qe.tagName)!=="INPUT"||U.value.includes(document.activeElement))&&(C.value=!0)},$e=z(()=>s.type.includes("range")),ft=Ci(),Tt=z(()=>{var Ee,Qe;return(Qe=(Ee=p(b))==null?void 0:Ee.popperRef)==null?void 0:Qe.contentRef}),Bt=z(()=>{var Ee;return p($e)?p(w):(Ee=p(w))==null?void 0:Ee.$el});Mb(Bt,Ee=>{const Qe=p(Tt),Et=p(Bt);Qe&&(Ee.target===Qe||Ee.composedPath().includes(Qe))||Ee.target===Et||Ee.composedPath().includes(Et)||(C.value=!1)});const ct=re(null),Lt=()=>{if(ct.value){const Ee=gt(ze.value);Ee&&qe(Ee)&&(N(sn(Ee)?Ee.map(Qe=>Qe.toDate()):Ee.toDate()),ct.value=null)}ct.value===""&&(N(null),F(null),ct.value=null)},gt=Ee=>Ee?pt.value.parseUserInput(Ee):null,xe=Ee=>Ee?pt.value.formatToString(Ee):null,qe=Ee=>pt.value.isValidValue(Ee),Dt=async Ee=>{if(s.readonly||le.value)return;const{code:Qe}=Ee;if(G(Ee),Qe===_n.esc){C.value===!0&&(C.value=!1,Ee.preventDefault(),Ee.stopPropagation());return}if(Qe===_n.down&&(pt.value.handleFocusPicker&&(Ee.preventDefault(),Ee.stopPropagation()),C.value===!1&&(C.value=!0,await dn()),pt.value.handleFocusPicker)){pt.value.handleFocusPicker();return}if(Qe===_n.tab){T=!0;return}if(Qe===_n.enter||Qe===_n.numpadEnter){(ct.value===null||ct.value===""||qe(gt(ze.value)))&&(Lt(),C.value=!1),Ee.stopPropagation();return}if(ct.value){Ee.stopPropagation();return}pt.value.handleKeydownInput&&pt.value.handleKeydownInput(Ee)},zt=Ee=>{ct.value=Ee,C.value||(C.value=!0)},en=Ee=>{const Qe=Ee.target;ct.value?ct.value=[Qe.value,ct.value[1]]:ct.value=[Qe.value,null]},gn=Ee=>{const Qe=Ee.target;ct.value?ct.value=[ct.value[0],Qe.value]:ct.value=[null,Qe.value]},En=()=>{var Ee;const Qe=ct.value,Et=gt(Qe&&Qe[0]),Mt=p(ke);if(Et&&Et.isValid()){ct.value=[xe(Et),((Ee=ze.value)==null?void 0:Ee[1])||null];const Wn=[Et,Mt&&(Mt[1]||null)];qe(Wn)&&(N(Wn),ct.value=null)}},Gn=()=>{var Ee;const Qe=p(ct),Et=gt(Qe&&Qe[1]),Mt=p(ke);if(Et&&Et.isValid()){ct.value=[((Ee=p(ze))==null?void 0:Ee[0])||null,xe(Et)];const Wn=[Mt&&Mt[0],Et];qe(Wn)&&(N(Wn),ct.value=null)}},pt=re({}),yt=Ee=>{pt.value[Ee[0]]=Ee[1],pt.value.panelReady=!0},tn=Ee=>{i("calendar-change",Ee)},Bn=(Ee,Qe,Et)=>{i("panel-change",Ee,Qe,Et)};return ir("EP_PICKER_BASE",{props:s}),n({focus:be,handleFocusInput:_e,handleBlurInput:fe,handleOpen:ae,handleClose:ye,onPick:ee}),(Ee,Qe)=>(Q(),rt(p(Ps),nr({ref_key:"refPopper",ref:b,visible:C.value,effect:"light",pure:"",trigger:"click"},Ee.$attrs,{role:"dialog",teleported:"",transition:`${p(u).namespace.value}-zoom-in-top`,"popper-class":[`${p(u).namespace.value}-picker__popper`,Ee.popperClass],"popper-options":p(S),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:se,onShow:oe,onHide:pe}),{default:Ue(()=>[p($e)?(Q(),ve("div",{key:1,ref_key:"inputRef",ref:w,class:Y([p(u).b("editor"),p(u).bm("editor",Ee.type),p(f).e("wrapper"),p(u).is("disabled",p(le)),p(u).is("active",C.value),p(h).b("editor"),p(ft)?p(h).bm("editor",p(ft)):"",Ee.$attrs.class]),style:fn(Ee.$attrs.style),onClick:_e,onMouseenter:At,onMouseleave:on,onTouchstart:Ne,onKeydown:Dt},[p(wt)?(Q(),rt(p(un),{key:0,class:Y([p(f).e("icon"),p(h).e("icon")]),onMousedown:Nn(ot,["prevent"]),onTouchstart:Ne},{default:Ue(()=>[(Q(),rt(rr(p(wt))))]),_:1},8,["class","onMousedown"])):Ye("v-if",!0),Ce("input",{id:Ee.id&&Ee.id[0],autocomplete:"off",name:Ee.name&&Ee.name[0],placeholder:Ee.startPlaceholder,value:p(ze)&&p(ze)[0],disabled:p(le),readonly:!Ee.editable||Ee.readonly,class:Y(p(h).b("input")),onMousedown:ot,onInput:en,onChange:En,onFocus:_e,onBlur:fe},null,42,Xte),vt(Ee.$slots,"range-separator",{},()=>[Ce("span",{class:Y(p(h).b("separator"))},Qt(Ee.rangeSeparator),3)]),Ce("input",{id:Ee.id&&Ee.id[1],autocomplete:"off",name:Ee.name&&Ee.name[1],placeholder:Ee.endPlaceholder,value:p(ze)&&p(ze)[1],disabled:p(le),readonly:!Ee.editable||Ee.readonly,class:Y(p(h).b("input")),onMousedown:ot,onFocus:_e,onBlur:fe,onInput:gn,onChange:Gn},null,42,zte),Ee.clearIcon?(Q(),rt(p(un),{key:1,class:Y([p(f).e("icon"),p(h).e("close-icon"),{[p(h).e("close-icon--hidden")]:!xt.value}]),onClick:it},{default:Ue(()=>[(Q(),rt(rr(Ee.clearIcon)))]),_:1},8,["class"])):Ye("v-if",!0)],38)):(Q(),rt(p(os),{key:0,id:Ee.id,ref_key:"inputRef",ref:w,"container-role":"combobox","model-value":p(ze),name:Ee.name,size:p(ft),disabled:p(le),placeholder:Ee.placeholder,class:Y([p(u).b("editor"),p(u).bm("editor",Ee.type),Ee.$attrs.class]),style:fn(Ee.$attrs.style),readonly:!Ee.editable||Ee.readonly||p(_t)||Ee.type==="week",label:Ee.label,tabindex:Ee.tabindex,"validate-event":!1,onInput:zt,onFocus:_e,onBlur:fe,onKeydown:Dt,onChange:Lt,onMousedown:ot,onMouseenter:At,onMouseleave:on,onTouchstart:Ne,onClick:Qe[0]||(Qe[0]=Nn(()=>{},["stop"]))},{prefix:Ue(()=>[p(wt)?(Q(),rt(p(un),{key:0,class:Y(p(f).e("icon")),onMousedown:Nn(ot,["prevent"]),onTouchstart:Ne},{default:Ue(()=>[(Q(),rt(rr(p(wt))))]),_:1},8,["class","onMousedown"])):Ye("v-if",!0)]),suffix:Ue(()=>[xt.value&&Ee.clearIcon?(Q(),rt(p(un),{key:0,class:Y(`${p(f).e("icon")} clear-icon`),onClick:Nn(it,["stop"])},{default:Ue(()=>[(Q(),rt(rr(Ee.clearIcon)))]),_:1},8,["class","onClick"])):Ye("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:Ue(()=>[vt(Ee.$slots,"default",{visible:C.value,actualVisible:x.value,parsedValue:p(ke),format:Ee.format,unlinkPanels:Ee.unlinkPanels,type:Ee.type,defaultValue:Ee.defaultValue,onPick:ee,onSelectRange:$,onSetPickerOption:yt,onCalendarChange:tn,onPanelChange:Bn,onKeydown:Ie,onMousedown:Qe[1]||(Qe[1]=Nn(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var dP=Ht(Wte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Kte=Xt({...uP,datetimeRole:String,parsedValue:{type:nt(Object)}}),fP=({getAvailableHours:e,getAvailableMinutes:n,getAvailableSeconds:i})=>{const s=(f,h,_,y)=>{const S={hour:e,minute:n,second:i};let b=f;return["hour","minute","second"].forEach(w=>{if(S[w]){let C;const x=S[w];switch(w){case"minute":{C=x(b.hour(),h,y);break}case"second":{C=x(b.hour(),b.minute(),h,y);break}default:{C=x(h,y);break}}if((C==null?void 0:C.length)&&!C.includes(b[w]())){const M=_?0:C.length-1;b=b[w](C[M])}}}),b},a={};return{timePickerOptions:a,getAvailableTime:s,onSetOption:([f,h])=>{a[f]=h}}},n0=e=>{const n=(s,a)=>s||a,i=s=>s!==!0;return e.map(n).filter(i)},hP=(e,n,i)=>({getHoursList:(f,h)=>t0(24,e&&(()=>e==null?void 0:e(f,h))),getMinutesList:(f,h,_)=>t0(60,n&&(()=>n==null?void 0:n(f,h,_))),getSecondsList:(f,h,_,y)=>t0(60,i&&(()=>i==null?void 0:i(f,h,_,y)))}),pP=(e,n,i)=>{const{getHoursList:s,getMinutesList:a,getSecondsList:u}=hP(e,n,i);return{getAvailableHours:(y,S)=>n0(s(y,S)),getAvailableMinutes:(y,S,b)=>n0(a(y,S,b)),getAvailableSeconds:(y,S,b,w)=>n0(u(y,S,b,w))}},mP=e=>{const n=re(e.parsedValue);return St(()=>e.visible,i=>{i||(n.value=e.parsedValue)}),n},kl=new Map;let O2;ur&&(document.addEventListener("mousedown",e=>O2=e),document.addEventListener("mouseup",e=>{for(const n of kl.values())for(const{documentHandler:i}of n)i(e,O2)}));function F2(e,n){let i=[];return Array.isArray(n.arg)?i=n.arg:$o(n.arg)&&i.push(n.arg),function(s,a){const u=n.instance.popperRef,f=s.target,h=a==null?void 0:a.target,_=!n||!n.instance,y=!f||!h,S=e.contains(f)||e.contains(h),b=e===f,w=i.length&&i.some(x=>x==null?void 0:x.contains(f))||i.length&&i.includes(h),C=u&&(u.contains(f)||u.contains(h));_||y||S||b||w||C||n.value(s,a)}}const Jl={beforeMount(e,n){kl.has(e)||kl.set(e,[]),kl.get(e).push({documentHandler:F2(e,n),bindingFn:n.value})},updated(e,n){kl.has(e)||kl.set(e,[]);const i=kl.get(e),s=i.findIndex(u=>u.bindingFn===n.oldValue),a={documentHandler:F2(e,n),bindingFn:n.value};s>=0?i.splice(s,1,a):i.push(a)},unmounted(e){kl.delete(e)}},jte=100,qte=600,xg={beforeMount(e,n){const i=n.value,{interval:s=jte,delay:a=qte}=Tn(i)?{}:i;let u,f;const h=()=>Tn(i)?i():i.handler(),_=()=>{f&&(clearTimeout(f),f=void 0),u&&(clearInterval(u),u=void 0)};e.addEventListener("mousedown",y=>{y.button===0&&(_(),h(),document.addEventListener("mouseup",()=>_(),{once:!0}),f=setTimeout(()=>{u=setInterval(()=>{h()},s)},a))})}},$0="_trap-focus-children",Kc=[],V2=e=>{if(Kc.length===0)return;const n=Kc[Kc.length-1][$0];if(n.length>0&&e.code===_n.tab){if(n.length===1){e.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const i=e.shiftKey,s=e.target===n[0],a=e.target===n[n.length-1];s&&i&&(e.preventDefault(),n[n.length-1].focus()),a&&!i&&(e.preventDefault(),n[0].focus())}},Yte={beforeMount(e){e[$0]=LI(e),Kc.push(e),Kc.length<=1&&document.addEventListener("keydown",V2)},updated(e){dn(()=>{e[$0]=LI(e)})},unmounted(){Kc.shift(),Kc.length===0&&document.removeEventListener("keydown",V2)}};var G2=!1,Xc,W0,K0,Km,jm,gP,qm,j0,q0,Y0,vP,J0,Z0,_P,AP;function ws(){if(!G2){G2=!0;var e=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),i=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(J0=/\b(iPhone|iP[ao]d)/.exec(e),Z0=/\b(iP[ao]d)/.exec(e),Y0=/Android/i.exec(e),_P=/FBAN\/\w+;/i.exec(e),AP=/Mobile/i.exec(e),vP=!!/Win64/.exec(e),n){Xc=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,Xc&&document&&document.documentMode&&(Xc=document.documentMode);var s=/(?:Trident\/(\d+.\d+))/.exec(e);gP=s?parseFloat(s[1])+4:Xc,W0=n[2]?parseFloat(n[2]):NaN,K0=n[3]?parseFloat(n[3]):NaN,Km=n[4]?parseFloat(n[4]):NaN,Km?(n=/(?:Chrome\/(\d+\.\d+))/.exec(e),jm=n&&n[1]?parseFloat(n[1]):NaN):jm=NaN}else Xc=W0=K0=jm=Km=NaN;if(i){if(i[1]){var a=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);qm=a?parseFloat(a[1].replace("_",".")):!0}else qm=!1;j0=!!i[2],q0=!!i[3]}else qm=j0=q0=!1}}var ey={ie:function(){return ws()||Xc},ieCompatibilityMode:function(){return ws()||gP>Xc},ie64:function(){return ey.ie()&&vP},firefox:function(){return ws()||W0},opera:function(){return ws()||K0},webkit:function(){return ws()||Km},safari:function(){return ey.webkit()},chrome:function(){return ws()||jm},windows:function(){return ws()||j0},osx:function(){return ws()||qm},linux:function(){return ws()||q0},iphone:function(){return ws()||J0},mobile:function(){return ws()||J0||Z0||Y0||AP},nativeApp:function(){return ws()||_P},android:function(){return ws()||Y0},ipad:function(){return ws()||Z0}},Jte=ey,Pm=!!(typeof window<"u"&&window.document&&window.document.createElement),Zte={canUseDOM:Pm,canUseWorkers:typeof Worker<"u",canUseEventListeners:Pm&&!!(window.addEventListener||window.attachEvent),canUseViewport:Pm&&!!window.screen,isInWorker:!Pm},yP=Zte,bP;yP.canUseDOM&&(bP=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function ene(e,n){if(!yP.canUseDOM||n&&!("addEventListener"in document))return!1;var i="on"+e,s=i in document;if(!s){var a=document.createElement("div");a.setAttribute(i,"return;"),s=typeof a[i]=="function"}return!s&&bP&&e==="wheel"&&(s=document.implementation.hasFeature("Events.wheel","3.0")),s}var tne=ene,U2=10,H2=40,Q2=800;function SP(e){var n=0,i=0,s=0,a=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(n=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(n=i,i=0),s=n*U2,a=i*U2,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(s=e.deltaX),(s||a)&&e.deltaMode&&(e.deltaMode==1?(s*=H2,a*=H2):(s*=Q2,a*=Q2)),s&&!n&&(n=s<1?-1:1),a&&!i&&(i=a<1?-1:1),{spinX:n,spinY:i,pixelX:s,pixelY:a}}SP.getEventType=function(){return Jte.firefox()?"DOMMouseScroll":tne("wheel")?"wheel":"mousewheel"};var nne=SP;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const rne=function(e,n){if(e&&e.addEventListener){const i=function(s){const a=nne(s);n&&Reflect.apply(n,this,[s,a])};e.addEventListener("wheel",i,{passive:!0})}},ine={beforeMount(e,n){rne(e,n.value)}},sne=Xt({role:{type:String,required:!0},spinnerDate:{type:nt(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:nt(String),default:""},...cP}),one=["onClick"],ane=["onMouseenter"],lne=Ge({__name:"basic-time-spinner",props:sne,emits:["change","select-range","set-option"],setup(e,{emit:n}){const i=e,s=bt("time"),{getHoursList:a,getMinutesList:u,getSecondsList:f}=hP(i.disabledHours,i.disabledMinutes,i.disabledSeconds);let h=!1;const _=re(),y=re(),S=re(),b=re(),w={hours:y,minutes:S,seconds:b},C=z(()=>i.showSeconds?N2:N2.slice(0,2)),x=z(()=>{const{spinnerDate:le}=i,ke=le.hour(),ze=le.minute(),Te=le.second();return{hours:ke,minutes:ze,seconds:Te}}),M=z(()=>{const{hours:le,minutes:ke}=p(x);return{hours:a(i.role),minutes:u(le,i.role),seconds:f(le,ke,i.role)}}),T=z(()=>{const{hours:le,minutes:ke,seconds:ze}=p(x);return{hours:e0(le,23),minutes:e0(ke,59),seconds:e0(ze,59)}}),D=As(le=>{h=!1,G(le)},200),F=le=>{if(!!!i.amPmMode)return"";const ze=i.amPmMode==="A";let Te=le<12?" am":" pm";return ze&&(Te=Te.toUpperCase()),Te},N=le=>{let ke;switch(le){case"hours":ke=[0,2];break;case"minutes":ke=[3,5];break;case"seconds":ke=[6,8];break}const[ze,Te]=ke;n("select-range",ze,Te),_.value=le},G=le=>{de(le,p(x)[le])},U=()=>{G("hours"),G("minutes"),G("seconds")},$=le=>le.querySelector(`.${s.namespace.value}-scrollbar__wrap`),de=(le,ke)=>{if(i.arrowControl)return;const ze=p(w[le]);ze&&ze.$el&&($(ze.$el).scrollTop=Math.max(0,ke*ee(le)))},ee=le=>{const ke=p(w[le]);return(ke==null?void 0:ke.$el.querySelector("li").offsetHeight)||0},se=()=>{Ie(1)},oe=()=>{Ie(-1)},Ie=le=>{_.value||N("hours");const ke=_.value,ze=p(x)[ke],Te=_.value==="hours"?24:60,Xe=pe(ke,ze,le,Te);ae(ke,Xe),de(ke,Xe),dn(()=>N(ke))},pe=(le,ke,ze,Te)=>{let Xe=(ke+ze+Te)%Te;const _t=p(M)[le];for(;_t[Xe]&&Xe!==ke;)Xe=(Xe+ze+Te)%Te;return Xe},ae=(le,ke)=>{if(p(M)[le][ke])return;const{hours:Xe,minutes:_t,seconds:wt}=p(x);let xt;switch(le){case"hours":xt=i.spinnerDate.hour(ke).minute(_t).second(wt);break;case"minutes":xt=i.spinnerDate.hour(Xe).minute(ke).second(wt);break;case"seconds":xt=i.spinnerDate.hour(Xe).minute(_t).second(ke);break}n("change",xt)},ye=(le,{value:ke,disabled:ze})=>{ze||(ae(le,ke),N(le),de(le,ke))},be=le=>{h=!0,D(le);const ke=Math.min(Math.round(($(p(w[le]).$el).scrollTop-(_e(le)*.5-10)/ee(le)+3)/ee(le)),le==="hours"?23:59);ae(le,ke)},_e=le=>p(w[le]).$el.offsetHeight,ie=()=>{const le=ke=>{const ze=p(w[ke]);ze&&ze.$el&&($(ze.$el).onscroll=()=>{be(ke)})};le("hours"),le("minutes"),le("seconds")};jn(()=>{dn(()=>{!i.arrowControl&&ie(),U(),i.role==="start"&&N("hours")})});const fe=(le,ke)=>{w[ke].value=le};return n("set-option",[`${i.role}_scrollDown`,Ie]),n("set-option",[`${i.role}_emitSelectRange`,N]),St(()=>i.spinnerDate,()=>{h||U()}),(le,ke)=>(Q(),ve("div",{class:Y([p(s).b("spinner"),{"has-seconds":le.showSeconds}])},[le.arrowControl?Ye("v-if",!0):(Q(!0),ve(mn,{key:0},cr(p(C),ze=>(Q(),rt(p(cl),{key:ze,ref_for:!0,ref:Te=>fe(Te,ze),class:Y(p(s).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":p(s).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:Te=>N(ze),onMousemove:Te=>G(ze)},{default:Ue(()=>[(Q(!0),ve(mn,null,cr(p(M)[ze],(Te,Xe)=>(Q(),ve("li",{key:Xe,class:Y([p(s).be("spinner","item"),p(s).is("active",Xe===p(x)[ze]),p(s).is("disabled",Te)]),onClick:_t=>ye(ze,{value:Xe,disabled:Te})},[ze==="hours"?(Q(),ve(mn,{key:0},[hr(Qt(("0"+(le.amPmMode?Xe%12||12:Xe)).slice(-2))+Qt(F(Xe)),1)],64)):(Q(),ve(mn,{key:1},[hr(Qt(("0"+Xe).slice(-2)),1)],64))],10,one))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),le.arrowControl?(Q(!0),ve(mn,{key:1},cr(p(C),ze=>(Q(),ve("div",{key:ze,class:Y([p(s).be("spinner","wrapper"),p(s).is("arrow")]),onMouseenter:Te=>N(ze)},[Hn((Q(),rt(p(un),{class:Y(["arrow-up",p(s).be("spinner","arrow")])},{default:Ue(()=>[Re(p(ev))]),_:1},8,["class"])),[[p(xg),oe]]),Hn((Q(),rt(p(un),{class:Y(["arrow-down",p(s).be("spinner","arrow")])},{default:Ue(()=>[Re(p(nc))]),_:1},8,["class"])),[[p(xg),se]]),Ce("ul",{class:Y(p(s).be("spinner","list"))},[(Q(!0),ve(mn,null,cr(p(T)[ze],(Te,Xe)=>(Q(),ve("li",{key:Xe,class:Y([p(s).be("spinner","item"),p(s).is("active",Te===p(x)[ze]),p(s).is("disabled",p(M)[ze][Te])])},[typeof Te=="number"?(Q(),ve(mn,{key:0},[ze==="hours"?(Q(),ve(mn,{key:0},[hr(Qt(("0"+(le.amPmMode?Te%12||12:Te)).slice(-2))+Qt(F(Te)),1)],64)):(Q(),ve(mn,{key:1},[hr(Qt(("0"+Te).slice(-2)),1)],64))],64)):Ye("v-if",!0)],2))),128))],2)],42,ane))),128)):Ye("v-if",!0)],2))}});var ty=Ht(lne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const cne=Ge({__name:"panel-time-pick",props:Kte,emits:["pick","select-range","set-picker-option"],setup(e,{emit:n}){const i=e,s=hn("EP_PICKER_BASE"),{arrowControl:a,disabledHours:u,disabledMinutes:f,disabledSeconds:h,defaultValue:_}=s.props,{getAvailableHours:y,getAvailableMinutes:S,getAvailableSeconds:b}=pP(u,f,h),w=bt("time"),{t:C,lang:x}=yr(),M=re([0,2]),T=mP(i),D=z(()=>Xi(i.actualVisible)?`${w.namespace.value}-zoom-in-top`:""),F=z(()=>i.format.includes("ss")),N=z(()=>i.format.includes("A")?"A":i.format.includes("a")?"a":""),G=fe=>{const le=Kn(fe).locale(x.value),ke=ye(le);return le.isSame(ke)},U=()=>{n("pick",T.value,!1)},$=(fe=!1,le=!1)=>{le||n("pick",i.parsedValue,fe)},de=fe=>{if(!i.visible)return;const le=ye(fe).millisecond(0);n("pick",le,!0)},ee=(fe,le)=>{n("select-range",fe,le),M.value=[fe,le]},se=fe=>{const le=[0,3].concat(F.value?[6]:[]),ke=["hours","minutes"].concat(F.value?["seconds"]:[]),Te=(le.indexOf(M.value[0])+fe+le.length)%le.length;Ie.start_emitSelectRange(ke[Te])},oe=fe=>{const le=fe.code,{left:ke,right:ze,up:Te,down:Xe}=_n;if([ke,ze].includes(le)){se(le===ke?-1:1),fe.preventDefault();return}if([Te,Xe].includes(le)){const _t=le===Te?-1:1;Ie.start_scrollDown(_t),fe.preventDefault();return}},{timePickerOptions:Ie,onSetOption:pe,getAvailableTime:ae}=fP({getAvailableHours:y,getAvailableMinutes:S,getAvailableSeconds:b}),ye=fe=>ae(fe,i.datetimeRole||"",!0),be=fe=>fe?Kn(fe,i.format).locale(x.value):null,_e=fe=>fe?fe.format(i.format):null,ie=()=>Kn(_).locale(x.value);return n("set-picker-option",["isValidValue",G]),n("set-picker-option",["formatToString",_e]),n("set-picker-option",["parseUserInput",be]),n("set-picker-option",["handleKeydownInput",oe]),n("set-picker-option",["getRangeAvailableTime",ye]),n("set-picker-option",["getDefaultValue",ie]),(fe,le)=>(Q(),rt(bi,{name:p(D)},{default:Ue(()=>[fe.actualVisible||fe.visible?(Q(),ve("div",{key:0,class:Y(p(w).b("panel"))},[Ce("div",{class:Y([p(w).be("panel","content"),{"has-seconds":p(F)}])},[Re(ty,{ref:"spinner",role:fe.datetimeRole||"start","arrow-control":p(a),"show-seconds":p(F),"am-pm-mode":p(N),"spinner-date":fe.parsedValue,"disabled-hours":p(u),"disabled-minutes":p(f),"disabled-seconds":p(h),onChange:de,onSetOption:p(pe),onSelectRange:ee},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Ce("div",{class:Y(p(w).be("panel","footer"))},[Ce("button",{type:"button",class:Y([p(w).be("panel","btn"),"cancel"]),onClick:U},Qt(p(C)("el.datepicker.cancel")),3),Ce("button",{type:"button",class:Y([p(w).be("panel","btn"),"confirm"]),onClick:le[0]||(le[0]=ke=>$())},Qt(p(C)("el.datepicker.confirm")),3)],2)],2)):Ye("v-if",!0)]),_:1},8,["name"]))}});var Rg=Ht(cne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const une=Xt({...uP,parsedValue:{type:nt(Array)}}),dne=["disabled"],fne=Ge({__name:"panel-time-range",props:une,emits:["pick","select-range","set-picker-option"],setup(e,{emit:n}){const i=e,s=(ot,At)=>{const on=[];for(let Ne=ot;Ne<=At;Ne++)on.push(Ne);return on},{t:a,lang:u}=yr(),f=bt("time"),h=bt("picker"),_=hn("EP_PICKER_BASE"),{arrowControl:y,disabledHours:S,disabledMinutes:b,disabledSeconds:w,defaultValue:C}=_.props,x=z(()=>i.parsedValue[0]),M=z(()=>i.parsedValue[1]),T=mP(i),D=()=>{n("pick",T.value,!1)},F=z(()=>i.format.includes("ss")),N=z(()=>i.format.includes("A")?"A":i.format.includes("a")?"a":""),G=(ot=!1)=>{n("pick",[x.value,M.value],ot)},U=ot=>{ee(ot.millisecond(0),M.value)},$=ot=>{ee(x.value,ot.millisecond(0))},de=ot=>{const At=ot.map(Ne=>Kn(Ne).locale(u.value)),on=le(At);return At[0].isSame(on[0])&&At[1].isSame(on[1])},ee=(ot,At)=>{n("pick",[ot,At],!0)},se=z(()=>x.value>M.value),oe=re([0,2]),Ie=(ot,At)=>{n("select-range",ot,At,"min"),oe.value=[ot,At]},pe=z(()=>F.value?11:8),ae=(ot,At)=>{n("select-range",ot,At,"max");const on=p(pe);oe.value=[ot+on,At+on]},ye=ot=>{const At=F.value?[0,3,6,11,14,17]:[0,3,8,11],on=["hours","minutes"].concat(F.value?["seconds"]:[]),$e=(At.indexOf(oe.value[0])+ot+At.length)%At.length,ft=At.length/2;$e<ft?Xe.start_emitSelectRange(on[$e]):Xe.end_emitSelectRange(on[$e-ft])},be=ot=>{const At=ot.code,{left:on,right:Ne,up:$e,down:ft}=_n;if([on,Ne].includes(At)){ye(At===on?-1:1),ot.preventDefault();return}if([$e,ft].includes(At)){const Tt=At===$e?-1:1,Bt=oe.value[0]<pe.value?"start":"end";Xe[`${Bt}_scrollDown`](Tt),ot.preventDefault();return}},_e=(ot,At)=>{const on=S?S(ot):[],Ne=ot==="start",ft=(At||(Ne?M.value:x.value)).hour(),Tt=Ne?s(ft+1,23):s(0,ft-1);return $A(on,Tt)},ie=(ot,At,on)=>{const Ne=b?b(ot,At):[],$e=At==="start",ft=on||($e?M.value:x.value),Tt=ft.hour();if(ot!==Tt)return Ne;const Bt=ft.minute(),ct=$e?s(Bt+1,59):s(0,Bt-1);return $A(Ne,ct)},fe=(ot,At,on,Ne)=>{const $e=w?w(ot,At,on):[],ft=on==="start",Tt=Ne||(ft?M.value:x.value),Bt=Tt.hour(),ct=Tt.minute();if(ot!==Bt||At!==ct)return $e;const Lt=Tt.second(),gt=ft?s(Lt+1,59):s(0,Lt-1);return $A($e,gt)},le=([ot,At])=>[_t(ot,"start",!0,At),_t(At,"end",!1,ot)],{getAvailableHours:ke,getAvailableMinutes:ze,getAvailableSeconds:Te}=pP(_e,ie,fe),{timePickerOptions:Xe,getAvailableTime:_t,onSetOption:wt}=fP({getAvailableHours:ke,getAvailableMinutes:ze,getAvailableSeconds:Te}),xt=ot=>ot?sn(ot)?ot.map(At=>Kn(At,i.format).locale(u.value)):Kn(ot,i.format).locale(u.value):null,it=ot=>ot?sn(ot)?ot.map(At=>At.format(i.format)):ot.format(i.format):null,je=()=>{if(sn(C))return C.map(At=>Kn(At).locale(u.value));const ot=Kn(C).locale(u.value);return[ot,ot.add(60,"m")]};return n("set-picker-option",["formatToString",it]),n("set-picker-option",["parseUserInput",xt]),n("set-picker-option",["isValidValue",de]),n("set-picker-option",["handleKeydownInput",be]),n("set-picker-option",["getDefaultValue",je]),n("set-picker-option",["getRangeAvailableTime",le]),(ot,At)=>ot.actualVisible?(Q(),ve("div",{key:0,class:Y([p(f).b("range-picker"),p(h).b("panel")])},[Ce("div",{class:Y(p(f).be("range-picker","content"))},[Ce("div",{class:Y(p(f).be("range-picker","cell"))},[Ce("div",{class:Y(p(f).be("range-picker","header"))},Qt(p(a)("el.datepicker.startTime")),3),Ce("div",{class:Y([p(f).be("range-picker","body"),p(f).be("panel","content"),p(f).is("arrow",p(y)),{"has-seconds":p(F)}])},[Re(ty,{ref:"minSpinner",role:"start","show-seconds":p(F),"am-pm-mode":p(N),"arrow-control":p(y),"spinner-date":p(x),"disabled-hours":_e,"disabled-minutes":ie,"disabled-seconds":fe,onChange:U,onSetOption:p(wt),onSelectRange:Ie},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Ce("div",{class:Y(p(f).be("range-picker","cell"))},[Ce("div",{class:Y(p(f).be("range-picker","header"))},Qt(p(a)("el.datepicker.endTime")),3),Ce("div",{class:Y([p(f).be("range-picker","body"),p(f).be("panel","content"),p(f).is("arrow",p(y)),{"has-seconds":p(F)}])},[Re(ty,{ref:"maxSpinner",role:"end","show-seconds":p(F),"am-pm-mode":p(N),"arrow-control":p(y),"spinner-date":p(M),"disabled-hours":_e,"disabled-minutes":ie,"disabled-seconds":fe,onChange:$,onSetOption:p(wt),onSelectRange:ae},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Ce("div",{class:Y(p(f).be("panel","footer"))},[Ce("button",{type:"button",class:Y([p(f).be("panel","btn"),"cancel"]),onClick:At[0]||(At[0]=on=>D())},Qt(p(a)("el.datepicker.cancel")),3),Ce("button",{type:"button",class:Y([p(f).be("panel","btn"),"confirm"]),disabled:p(se),onClick:At[1]||(At[1]=on=>G())},Qt(p(a)("el.datepicker.confirm")),11,dne)],2)],2)):Ye("v-if",!0)}});var hne=Ht(fne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);Kn.extend(e1);var pne=Ge({name:"ElTimePicker",install:null,props:{...t1,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,n){const i=re(),[s,a]=e.isRange?["timerange",hne]:["time",Rg],u=f=>n.emit("update:modelValue",f);return ir("ElPopperOptions",e.popperOptions),n.expose({focus:f=>{var h;(h=i.value)==null||h.handleFocusInput(f)},blur:f=>{var h;(h=i.value)==null||h.handleBlurInput(f)},handleOpen:()=>{var f;(f=i.value)==null||f.handleOpen()},handleClose:()=>{var f;(f=i.value)==null||f.handleClose()}}),()=>{var f;const h=(f=e.format)!=null?f:z0;return Re(dP,nr(e,{ref:i,type:s,format:h,"onUpdate:modelValue":u}),{default:_=>Re(a,_,null)})}}});const Ym=pne;Ym.install=e=>{e.component(Ym.name,Ym)};const mne=Ym,gne=(e,n)=>{const i=e.subtract(1,"month").endOf("month").date();return Ql(n).map((s,a)=>i-(n-a-1))},vne=e=>{const n=e.daysInMonth();return Ql(n).map((i,s)=>s+1)},_ne=e=>Ql(e.length/7).map(n=>{const i=n*7;return e.slice(i,i+7)}),Ane=Xt({selectedDay:{type:nt(Object)},range:{type:nt(Array)},date:{type:nt(Object),required:!0},hideHeader:{type:Boolean}}),yne={pick:e=>tr(e)};var EP={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(ho,function(){return function(i,s,a){var u=s.prototype,f=function(b){return b&&(b.indexOf?b:b.s)},h=function(b,w,C,x,M){var T=b.name?b:b.$locale(),D=f(T[w]),F=f(T[C]),N=D||F.map(function(U){return U.slice(0,x)});if(!M)return N;var G=T.weekStart;return N.map(function(U,$){return N[($+(G||0))%7]})},_=function(){return a.Ls[a.locale()]},y=function(b,w){return b.formats[w]||function(C){return C.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,M,T){return M||T.slice(1)})}(b.formats[w.toUpperCase()])},S=function(){var b=this;return{months:function(w){return w?w.format("MMMM"):h(b,"months")},monthsShort:function(w){return w?w.format("MMM"):h(b,"monthsShort","months",3)},firstDayOfWeek:function(){return b.$locale().weekStart||0},weekdays:function(w){return w?w.format("dddd"):h(b,"weekdays")},weekdaysMin:function(w){return w?w.format("dd"):h(b,"weekdaysMin","weekdays",2)},weekdaysShort:function(w){return w?w.format("ddd"):h(b,"weekdaysShort","weekdays",3)},longDateFormat:function(w){return y(b.$locale(),w)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};u.localeData=function(){return S.bind(this)()},a.localeData=function(){var b=_();return{firstDayOfWeek:function(){return b.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(w){return y(b,w)},meridiem:b.meridiem,ordinal:b.ordinal}},a.months=function(){return h(_(),"months")},a.monthsShort=function(){return h(_(),"monthsShort","months",3)},a.weekdays=function(b){return h(_(),"weekdays",null,null,b)},a.weekdaysShort=function(b){return h(_(),"weekdaysShort","weekdays",3,b)},a.weekdaysMin=function(b){return h(_(),"weekdaysMin","weekdays",2,b)}}})})(EP);const wP=EP.exports,bne=(e,n)=>{Kn.extend(wP);const i=Kn.localeData().firstDayOfWeek(),{t:s,lang:a}=yr(),u=Kn().locale(a.value),f=z(()=>!!e.range&&!!e.range.length),h=z(()=>{let w=[];if(f.value){const[C,x]=e.range,M=Ql(x.date()-C.date()+1).map(F=>({text:C.date()+F,type:"current"}));let T=M.length%7;T=T===0?0:7-T;const D=Ql(T).map((F,N)=>({text:N+1,type:"next"}));w=M.concat(D)}else{const C=e.date.startOf("month").day(),x=gne(e.date,(C-i+7)%7).map(F=>({text:F,type:"prev"})),M=vne(e.date).map(F=>({text:F,type:"current"}));w=[...x,...M];const T=7-(w.length%7||7),D=Ql(T).map((F,N)=>({text:N+1,type:"next"}));w=w.concat(D)}return _ne(w)}),_=z(()=>{const w=i;return w===0?WA.map(C=>s(`el.datepicker.weeks.${C}`)):WA.slice(w).concat(WA.slice(0,w)).map(C=>s(`el.datepicker.weeks.${C}`))}),y=(w,C)=>{switch(C){case"prev":return e.date.startOf("month").subtract(1,"month").date(w);case"next":return e.date.startOf("month").add(1,"month").date(w);case"current":return e.date.date(w)}};return{now:u,isInRange:f,rows:h,weekDays:_,getFormattedDate:y,handlePickDay:({text:w,type:C})=>{const x=y(w,C);n("pick",x)},getSlotData:({text:w,type:C})=>{const x=y(w,C);return{isSelected:x.isSame(e.selectedDay),type:`${C}-month`,day:x.format("YYYY-MM-DD"),date:x.toDate()}}}},Sne={key:0},Ene=["onClick"],wne=Ge({name:"DateTable"}),Cne=Ge({...wne,props:Ane,emits:yne,setup(e,{expose:n,emit:i}){const s=e,{isInRange:a,now:u,rows:f,weekDays:h,getFormattedDate:_,handlePickDay:y,getSlotData:S}=bne(s,i),b=bt("calendar-table"),w=bt("calendar-day"),C=({text:x,type:M})=>{const T=[M];if(M==="current"){const D=_(x,M);D.isSame(s.selectedDay,"day")&&T.push(w.is("selected")),D.isSame(u,"day")&&T.push(w.is("today"))}return T};return n({getFormattedDate:_}),(x,M)=>(Q(),ve("table",{class:Y([p(b).b(),p(b).is("range",p(a))]),cellspacing:"0",cellpadding:"0"},[x.hideHeader?Ye("v-if",!0):(Q(),ve("thead",Sne,[(Q(!0),ve(mn,null,cr(p(h),T=>(Q(),ve("th",{key:T},Qt(T),1))),128))])),Ce("tbody",null,[(Q(!0),ve(mn,null,cr(p(f),(T,D)=>(Q(),ve("tr",{key:D,class:Y({[p(b).e("row")]:!0,[p(b).em("row","hide-border")]:D===0&&x.hideHeader})},[(Q(!0),ve(mn,null,cr(T,(F,N)=>(Q(),ve("td",{key:N,class:Y(C(F)),onClick:G=>p(y)(F)},[Ce("div",{class:Y(p(w).b())},[vt(x.$slots,"date-cell",{data:p(S)(F)},()=>[Ce("span",null,Qt(F.text),1)])],2)],10,Ene))),128))],2))),128))])],2))}});var X2=Ht(Cne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const Ine=(e,n)=>{const i=e.endOf("month"),s=n.startOf("month"),u=i.isSame(s,"week")?s.add(1,"week"):s;return[[e,i],[u.startOf("week"),n]]},Mne=(e,n)=>{const i=e.endOf("month"),s=e.add(1,"month").startOf("month"),a=i.isSame(s,"week")?s.add(1,"week"):s,u=a.endOf("month"),f=n.startOf("month"),h=u.isSame(f,"week")?f.add(1,"week"):f;return[[e,i],[a.startOf("week"),u],[h.startOf("week"),n]]},xne=(e,n,i)=>{const s=Ki(),{lang:a}=yr(),u=re(),f=Kn().locale(a.value),h=z({get(){return e.modelValue?y.value:u.value},set(D){if(!D)return;u.value=D;const F=D.toDate();n(_s,F),n(qn,F)}}),_=z(()=>{if(!e.range)return[];const D=e.range.map(G=>Kn(G).locale(a.value)),[F,N]=D;return F.isAfter(N)?[]:F.isSame(N,"month")?x(F,N):F.add(1,"month").month()!==N.month()?[]:x(F,N)}),y=z(()=>e.modelValue?Kn(e.modelValue).locale(a.value):h.value||(_.value.length?_.value[0][0]:f)),S=z(()=>y.value.subtract(1,"month").date(1)),b=z(()=>y.value.add(1,"month").date(1)),w=z(()=>y.value.subtract(1,"year").date(1)),C=z(()=>y.value.add(1,"year").date(1)),x=(D,F)=>{const N=D.startOf("week"),G=F.endOf("week"),U=N.get("month"),$=G.get("month");return U===$?[[N,G]]:(U+1)%12===$?Ine(N,G):U+2===$||(U+1)%11===$?Mne(N,G):[]},M=D=>{h.value=D},T=D=>{const N={"prev-month":S.value,"next-month":b.value,"prev-year":w.value,"next-year":C.value,today:f}[D];N.isSame(y.value,"day")||M(N)};return jl({from:'"dateCell"',replacement:'"date-cell"',scope:"ElCalendar",version:"2.3.0",ref:"https://element-plus.org/en-US/component/calendar.html#slots",type:"Slot"},z(()=>!!s.dateCell)),{calculateValidatedDateRange:x,date:y,realSelectedDay:h,pickDay:M,selectDate:T,validatedRange:_}},Rne=e=>sn(e)&&e.length===2&&e.every(n=>ou(n)),Tne=Xt({modelValue:{type:Date},range:{type:nt(Array),validator:Rne}}),Pne={[qn]:e=>ou(e),[_s]:e=>ou(e)},Nne="ElCalendar",Dne=Ge({name:Nne}),Bne=Ge({...Dne,props:Tne,emits:Pne,setup(e,{expose:n,emit:i}){const s=e,a=bt("calendar"),{calculateValidatedDateRange:u,date:f,pickDay:h,realSelectedDay:_,selectDate:y,validatedRange:S}=xne(s,i),{t:b}=yr(),w=z(()=>{const C=`el.datepicker.month${f.value.format("M")}`;return`${f.value.year()} ${b("el.datepicker.year")} ${b(C)}`});return n({selectedDay:_,pickDay:h,selectDate:y,calculateValidatedDateRange:u}),(C,x)=>(Q(),ve("div",{class:Y(p(a).b())},[Ce("div",{class:Y(p(a).e("header"))},[vt(C.$slots,"header",{date:p(w)},()=>[Ce("div",{class:Y(p(a).e("title"))},Qt(p(w)),3),p(S).length===0?(Q(),ve("div",{key:0,class:Y(p(a).e("button-group"))},[Re(p(iP),null,{default:Ue(()=>[Re(p(ns),{size:"small",onClick:x[0]||(x[0]=M=>p(y)("prev-month"))},{default:Ue(()=>[hr(Qt(p(b)("el.datepicker.prevMonth")),1)]),_:1}),Re(p(ns),{size:"small",onClick:x[1]||(x[1]=M=>p(y)("today"))},{default:Ue(()=>[hr(Qt(p(b)("el.datepicker.today")),1)]),_:1}),Re(p(ns),{size:"small",onClick:x[2]||(x[2]=M=>p(y)("next-month"))},{default:Ue(()=>[hr(Qt(p(b)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):Ye("v-if",!0)])],2),p(S).length===0?(Q(),ve("div",{key:0,class:Y(p(a).e("body"))},[Re(X2,{date:p(f),"selected-day":p(_),onPick:p(h)},zl({_:2},[C.$slots["date-cell"]||C.$slots.dateCell?{name:"date-cell",fn:Ue(M=>[C.$slots["date-cell"]?vt(C.$slots,"date-cell",Ho(nr({key:0},M))):vt(C.$slots,"dateCell",Ho(nr({key:1},M)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(Q(),ve("div",{key:1,class:Y(p(a).e("body"))},[(Q(!0),ve(mn,null,cr(p(S),(M,T)=>(Q(),rt(X2,{key:T,date:M[0],"selected-day":p(_),range:M,"hide-header":T!==0,onPick:p(h)},zl({_:2},[C.$slots["date-cell"]||C.$slots.dateCell?{name:"date-cell",fn:Ue(D=>[C.$slots["date-cell"]?vt(C.$slots,"date-cell",Ho(nr({key:0},D))):vt(C.$slots,"dateCell",Ho(nr({key:1},D)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var kne=Ht(Bne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const Lne=Jn(kne),One=Xt({header:{type:String,default:""},bodyStyle:{type:nt([String,Object,Array]),default:""},shadow:{type:String,values:["always","hover","never"],default:"always"}}),Fne=Ge({name:"ElCard"}),Vne=Ge({...Fne,props:One,setup(e){const n=bt("card");return(i,s)=>(Q(),ve("div",{class:Y([p(n).b(),p(n).is(`${i.shadow}-shadow`)])},[i.$slots.header||i.header?(Q(),ve("div",{key:0,class:Y(p(n).e("header"))},[vt(i.$slots,"header",{},()=>[hr(Qt(i.header),1)])],2)):Ye("v-if",!0),Ce("div",{class:Y(p(n).e("body")),style:fn(i.bodyStyle)},[vt(i.$slots,"default")],6)],2))}});var Gne=Ht(Vne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const Une=Jn(Gne),Hne=Xt({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),Qne={change:(e,n)=>[e,n].every(Qn)},z2=300,Xne=(e,n,i)=>{const{children:s,addChild:a,removeChild:u}=xT(Yn(),"ElCarouselItem"),f=re(-1),h=re(null),_=re(!1),y=re(),S=z(()=>e.arrow!=="never"&&!p(C)),b=z(()=>s.value.some(_e=>_e.props.label.toString().length>0)),w=z(()=>e.type==="card"),C=z(()=>e.direction==="vertical"),x=nu(_e=>{N(_e)},z2,{trailing:!0}),M=nu(_e=>{Ie(_e)},z2);function T(){h.value&&(clearInterval(h.value),h.value=null)}function D(){e.interval<=0||!e.autoplay||h.value||(h.value=setInterval(()=>F(),e.interval))}const F=()=>{f.value<s.value.length-1?f.value=f.value+1:e.loop&&(f.value=0)};function N(_e){if(Dn(_e)){const le=s.value.filter(ke=>ke.props.name===_e);le.length>0&&(_e=s.value.indexOf(le[0]))}if(_e=Number(_e),Number.isNaN(_e)||_e!==Math.floor(_e))return;const ie=s.value.length,fe=f.value;_e<0?f.value=e.loop?ie-1:0:_e>=ie?f.value=e.loop?0:ie-1:f.value=_e,fe===f.value&&G(fe),ye()}function G(_e){s.value.forEach((ie,fe)=>{ie.translateItem(fe,f.value,_e)})}function U(_e,ie){var fe,le,ke,ze;const Te=p(s),Xe=Te.length;if(Xe===0||!_e.states.inStage)return!1;const _t=ie+1,wt=ie-1,xt=Xe-1,it=Te[xt].states.active,je=Te[0].states.active,ot=(le=(fe=Te[_t])==null?void 0:fe.states)==null?void 0:le.active,At=(ze=(ke=Te[wt])==null?void 0:ke.states)==null?void 0:ze.active;return ie===xt&&je||ot?"left":ie===0&&it||At?"right":!1}function $(){_.value=!0,e.pauseOnHover&&T()}function de(){_.value=!1,D()}function ee(_e){p(C)||s.value.forEach((ie,fe)=>{_e===U(ie,fe)&&(ie.states.hover=!0)})}function se(){p(C)||s.value.forEach(_e=>{_e.states.hover=!1})}function oe(_e){f.value=_e}function Ie(_e){e.trigger==="hover"&&_e!==f.value&&(f.value=_e)}function pe(){N(f.value-1)}function ae(){N(f.value+1)}function ye(){T(),D()}St(()=>f.value,(_e,ie)=>{G(ie),ie>-1&&n("change",_e,ie)}),St(()=>e.autoplay,_e=>{_e?D():T()}),St(()=>e.loop,()=>{N(f.value)}),St(()=>e.interval,()=>{ye()}),St(()=>s.value,()=>{s.value.length>0&&N(e.initialIndex)});const be=Wr();return jn(()=>{be.value=as(y.value,()=>{G()}),D()}),di(()=>{T(),y.value&&be.value&&be.value.stop()}),ir(nT,{root:y,isCardType:w,isVertical:C,items:s,loop:e.loop,addItem:a,removeItem:u,setActiveItem:N}),{root:y,activeIndex:f,arrowDisplay:S,hasLabel:b,hover:_,isCardType:w,items:s,handleButtonEnter:ee,handleButtonLeave:se,handleIndicatorClick:oe,handleMouseEnter:$,handleMouseLeave:de,setActiveItem:N,prev:pe,next:ae,throttledArrowClick:x,throttledIndicatorHover:M}},zne=["onMouseenter","onClick"],$ne={key:0},Wne="ElCarousel",Kne=Ge({name:Wne}),jne=Ge({...Kne,props:Hne,emits:Qne,setup(e,{expose:n,emit:i}){const s=e,{root:a,activeIndex:u,arrowDisplay:f,hasLabel:h,hover:_,isCardType:y,items:S,handleButtonEnter:b,handleButtonLeave:w,handleIndicatorClick:C,handleMouseEnter:x,handleMouseLeave:M,setActiveItem:T,prev:D,next:F,throttledArrowClick:N,throttledIndicatorHover:G}=Xne(s,i),U=bt("carousel"),$=z(()=>{const ee=[U.b(),U.m(s.direction)];return p(y)&&ee.push(U.m("card")),ee}),de=z(()=>{const ee=[U.e("indicators"),U.em("indicators",s.direction)];return p(h)&&ee.push(U.em("indicators","labels")),(s.indicatorPosition==="outside"||p(y))&&ee.push(U.em("indicators","outside")),ee});return n({setActiveItem:T,prev:D,next:F}),(ee,se)=>(Q(),ve("div",{ref_key:"root",ref:a,class:Y(p($)),onMouseenter:se[6]||(se[6]=Nn((...oe)=>p(x)&&p(x)(...oe),["stop"])),onMouseleave:se[7]||(se[7]=Nn((...oe)=>p(M)&&p(M)(...oe),["stop"]))},[Ce("div",{class:Y(p(U).e("container")),style:fn({height:ee.height})},[p(f)?(Q(),rt(bi,{key:0,name:"carousel-arrow-left",persisted:""},{default:Ue(()=>[Hn(Ce("button",{type:"button",class:Y([p(U).e("arrow"),p(U).em("arrow","left")]),onMouseenter:se[0]||(se[0]=oe=>p(b)("left")),onMouseleave:se[1]||(se[1]=(...oe)=>p(w)&&p(w)(...oe)),onClick:se[2]||(se[2]=Nn(oe=>p(N)(p(u)-1),["stop"]))},[Re(p(un),null,{default:Ue(()=>[Re(p(Wl))]),_:1})],34),[[_r,(ee.arrow==="always"||p(_))&&(s.loop||p(u)>0)]])]),_:1})):Ye("v-if",!0),p(f)?(Q(),rt(bi,{key:1,name:"carousel-arrow-right",persisted:""},{default:Ue(()=>[Hn(Ce("button",{type:"button",class:Y([p(U).e("arrow"),p(U).em("arrow","right")]),onMouseenter:se[3]||(se[3]=oe=>p(b)("right")),onMouseleave:se[4]||(se[4]=(...oe)=>p(w)&&p(w)(...oe)),onClick:se[5]||(se[5]=Nn(oe=>p(N)(p(u)+1),["stop"]))},[Re(p(un),null,{default:Ue(()=>[Re(p(vs))]),_:1})],34),[[_r,(ee.arrow==="always"||p(_))&&(s.loop||p(u)<p(S).length-1)]])]),_:1})):Ye("v-if",!0),vt(ee.$slots,"default")],6),ee.indicatorPosition!=="none"?(Q(),ve("ul",{key:0,class:Y(p(de))},[(Q(!0),ve(mn,null,cr(p(S),(oe,Ie)=>(Q(),ve("li",{key:Ie,class:Y([p(U).e("indicator"),p(U).em("indicator",ee.direction),p(U).is("active",Ie===p(u))]),onMouseenter:pe=>p(G)(Ie),onClick:Nn(pe=>p(C)(Ie),["stop"])},[Ce("button",{class:Y(p(U).e("button"))},[p(h)?(Q(),ve("span",$ne,Qt(oe.props.label),1)):Ye("v-if",!0)],2)],42,zne))),128))],2)):Ye("v-if",!0)],34))}});var qne=Ht(jne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const Yne=Xt({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Jne=(e,n)=>{const i=hn(nT),s=Yn(),a=.83,u=re(!1),f=re(0),h=re(1),_=re(!1),y=re(!1),S=re(!1),b=re(!1),{isCardType:w,isVertical:C}=i;function x(N,G,U){const $=U-1,de=G-1,ee=G+1,se=U/2;return G===0&&N===$?-1:G===$&&N===0?U:N<de&&G-N>=se?U+1:N>ee&&N-G>=se?-2:N}function M(N,G){var U;const $=((U=i.root.value)==null?void 0:U.offsetWidth)||0;return S.value?$*((2-a)*(N-G)+1)/4:N<G?-(1+a)*$/4:(3+a)*$/4}function T(N,G,U){const $=i.root.value;return $?((U?$.offsetHeight:$.offsetWidth)||0)*(N-G):0}const D=(N,G,U)=>{var $;const de=p(w),ee=($=i.items.value.length)!=null?$:Number.NaN,se=N===G;!de&&!Xi(U)&&(b.value=se||N===U),!se&&ee>2&&i.loop&&(N=x(N,G,ee));const oe=p(C);_.value=se,de?(S.value=Math.round(Math.abs(N-G))<=1,f.value=M(N,G),h.value=p(_)?1:a):f.value=T(N,G,oe),y.value=!0};function F(){if(i&&p(w)){const N=i.items.value.findIndex(({uid:G})=>G===s.uid);i.setActiveItem(N)}}return jn(()=>{i.addItem({props:e,states:Tr({hover:u,translate:f,scale:h,active:_,ready:y,inStage:S,animating:b}),uid:s.uid,translateItem:D})}),hu(()=>{i.removeItem(s.uid)}),{active:_,animating:b,hover:u,inStage:S,isVertical:C,translate:f,isCardType:w,scale:h,ready:y,handleItemClick:F}},Zne=Ge({name:"ElCarouselItem"}),ere=Ge({...Zne,props:Yne,setup(e){const n=e,i=bt("carousel"),{active:s,animating:a,hover:u,inStage:f,isVertical:h,translate:_,isCardType:y,scale:S,ready:b,handleItemClick:w}=Jne(n),C=z(()=>{const M=`${`translate${p(h)?"Y":"X"}`}(${p(_)}px)`,T=`scale(${p(S)})`;return{transform:[M,T].join(" ")}});return(x,M)=>Hn((Q(),ve("div",{class:Y([p(i).e("item"),p(i).is("active",p(s)),p(i).is("in-stage",p(f)),p(i).is("hover",p(u)),p(i).is("animating",p(a)),{[p(i).em("item","card")]:p(y)}]),style:fn(p(C)),onClick:M[0]||(M[0]=(...T)=>p(w)&&p(w)(...T))},[p(y)?Hn((Q(),ve("div",{key:0,class:Y(p(i).e("mask"))},null,2)),[[_r,!p(s)]]):Ye("v-if",!0),vt(x.$slots,"default")],6)),[[_r,p(b)]])}});var CP=Ht(ere,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const tre=Jn(qne,{CarouselItem:CP}),nre=fi(CP),IP={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Ts,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},MP={[qn]:e=>Dn(e)||Qn(e)||Mi(e),change:e=>Dn(e)||Qn(e)||Mi(e)},rre=({model:e,isChecked:n})=>{const i=hn(Yd,void 0),s=z(()=>{var u,f;const h=(u=i==null?void 0:i.max)==null?void 0:u.value,_=(f=i==null?void 0:i.min)==null?void 0:f.value;return!Xi(h)&&e.value.length>=h&&!n.value||!Xi(_)&&e.value.length<=_&&n.value});return{isDisabled:Jo(z(()=>(i==null?void 0:i.disabled.value)||s.value)),isLimitDisabled:s}},ire=(e,{model:n,isLimitExceeded:i,hasOwnLabel:s,isDisabled:a,isLabeledByFormItem:u})=>{const f=hn(Yd,void 0),{formItem:h}=ys(),{emit:_}=Yn();function y(x){var M,T;return x===e.trueLabel||x===!0?(M=e.trueLabel)!=null?M:!0:(T=e.falseLabel)!=null?T:!1}function S(x,M){_("change",y(x),M)}function b(x){if(i.value)return;const M=x.target;_("change",y(M.checked),x)}async function w(x){i.value||!s.value&&!a.value&&u.value&&(x.composedPath().some(D=>D.tagName==="LABEL")||(n.value=y([!1,e.falseLabel].includes(n.value)),await dn(),S(n.value,x)))}const C=z(()=>(f==null?void 0:f.validateEvent)||e.validateEvent);return St(()=>e.modelValue,()=>{C.value&&(h==null||h.validate("change").catch(x=>void 0))}),{handleChange:b,onClickRoot:w}},sre=e=>{const n=re(!1),{emit:i}=Yn(),s=hn(Yd,void 0),a=z(()=>Xi(s)===!1),u=re(!1);return{model:z({get(){var h,_;return a.value?(h=s==null?void 0:s.modelValue)==null?void 0:h.value:(_=e.modelValue)!=null?_:n.value},set(h){var _,y;a.value&&sn(h)?(u.value=((_=s==null?void 0:s.max)==null?void 0:_.value)!==void 0&&h.length>(s==null?void 0:s.max.value),u.value===!1&&((y=s==null?void 0:s.changeEvent)==null||y.call(s,h))):(i(qn,h),n.value=h)}}),isGroup:a,isLimitExceeded:u}},ore=(e,n,{model:i})=>{const s=hn(Yd,void 0),a=re(!1),u=z(()=>{const y=i.value;return Mi(y)?y:sn(y)?tr(e.label)?y.map(Nr).some(S=>qs(S,e.label)):y.map(Nr).includes(e.label):y!=null?y===e.trueLabel:!!y}),f=Ci(z(()=>{var y;return(y=s==null?void 0:s.size)==null?void 0:y.value}),{prop:!0}),h=Ci(z(()=>{var y;return(y=s==null?void 0:s.size)==null?void 0:y.value})),_=z(()=>!!(n.default||e.label));return{checkboxButtonSize:f,isChecked:u,isFocused:a,checkboxSize:h,hasOwnLabel:_}},are=(e,{model:n})=>{function i(){sn(n.value)&&!n.value.includes(e.label)?n.value.push(e.label):n.value=e.trueLabel||!0}e.checked&&i()},xP=(e,n)=>{const{formItem:i}=ys(),{model:s,isGroup:a,isLimitExceeded:u}=sre(e),{isFocused:f,isChecked:h,checkboxButtonSize:_,checkboxSize:y,hasOwnLabel:S}=ore(e,n,{model:s}),{isDisabled:b}=rre({model:s,isChecked:h}),{inputId:w,isLabeledByFormItem:C}=oc(e,{formItemContext:i,disableIdGeneration:S,disableIdManagement:a}),{handleChange:x,onClickRoot:M}=ire(e,{model:s,isLimitExceeded:u,hasOwnLabel:S,isDisabled:b,isLabeledByFormItem:C});return are(e,{model:s}),{inputId:w,isLabeledByFormItem:C,isChecked:h,isDisabled:b,isFocused:f,checkboxButtonSize:_,checkboxSize:y,hasOwnLabel:S,model:s,handleChange:x,onClickRoot:M}},lre=["tabindex","role","aria-checked"],cre=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],ure=["id","aria-hidden","disabled","value","name","tabindex"],dre=Ge({name:"ElCheckbox"}),fre=Ge({...dre,props:IP,emits:MP,setup(e){const n=e,i=Ki(),{inputId:s,isLabeledByFormItem:a,isChecked:u,isDisabled:f,isFocused:h,checkboxSize:_,hasOwnLabel:y,model:S,handleChange:b,onClickRoot:w}=xP(n,i),C=bt("checkbox");return(x,M)=>(Q(),rt(rr(!p(y)&&p(a)?"span":"label"),{class:Y([p(C).b(),p(C).m(p(_)),p(C).is("disabled",p(f)),p(C).is("bordered",x.border),p(C).is("checked",p(u))]),"aria-controls":x.indeterminate?x.controls:null,onClick:p(w)},{default:Ue(()=>[Ce("span",{class:Y([p(C).e("input"),p(C).is("disabled",p(f)),p(C).is("checked",p(u)),p(C).is("indeterminate",x.indeterminate),p(C).is("focus",p(h))]),tabindex:x.indeterminate?0:void 0,role:x.indeterminate?"checkbox":void 0,"aria-checked":x.indeterminate?"mixed":void 0},[x.trueLabel||x.falseLabel?Hn((Q(),ve("input",{key:0,id:p(s),"onUpdate:modelValue":M[0]||(M[0]=T=>Xr(S)?S.value=T:null),class:Y(p(C).e("original")),type:"checkbox","aria-hidden":x.indeterminate?"true":"false",name:x.name,tabindex:x.tabindex,disabled:p(f),"true-value":x.trueLabel,"false-value":x.falseLabel,onChange:M[1]||(M[1]=(...T)=>p(b)&&p(b)(...T)),onFocus:M[2]||(M[2]=T=>h.value=!0),onBlur:M[3]||(M[3]=T=>h.value=!1)},null,42,cre)),[[_g,p(S)]]):Hn((Q(),ve("input",{key:1,id:p(s),"onUpdate:modelValue":M[4]||(M[4]=T=>Xr(S)?S.value=T:null),class:Y(p(C).e("original")),type:"checkbox","aria-hidden":x.indeterminate?"true":"false",disabled:p(f),value:x.label,name:x.name,tabindex:x.tabindex,onChange:M[5]||(M[5]=(...T)=>p(b)&&p(b)(...T)),onFocus:M[6]||(M[6]=T=>h.value=!0),onBlur:M[7]||(M[7]=T=>h.value=!1)},null,42,ure)),[[_g,p(S)]]),Ce("span",{class:Y(p(C).e("inner"))},null,2)],10,lre),p(y)?(Q(),ve("span",{key:0,class:Y(p(C).e("label"))},[vt(x.$slots,"default"),x.$slots.default?Ye("v-if",!0):(Q(),ve(mn,{key:0},[hr(Qt(x.label),1)],64))],2)):Ye("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var hre=Ht(fre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const pre=["name","tabindex","disabled","true-value","false-value"],mre=["name","tabindex","disabled","value"],gre=Ge({name:"ElCheckboxButton"}),vre=Ge({...gre,props:IP,emits:MP,setup(e){const n=e,i=Ki(),{isFocused:s,isChecked:a,isDisabled:u,checkboxButtonSize:f,model:h,handleChange:_}=xP(n,i),y=hn(Yd,void 0),S=bt("checkbox"),b=z(()=>{var w,C,x,M;const T=(C=(w=y==null?void 0:y.fill)==null?void 0:w.value)!=null?C:"";return{backgroundColor:T,borderColor:T,color:(M=(x=y==null?void 0:y.textColor)==null?void 0:x.value)!=null?M:"",boxShadow:T?`-1px 0 0 0 ${T}`:void 0}});return(w,C)=>(Q(),ve("label",{class:Y([p(S).b("button"),p(S).bm("button",p(f)),p(S).is("disabled",p(u)),p(S).is("checked",p(a)),p(S).is("focus",p(s))])},[w.trueLabel||w.falseLabel?Hn((Q(),ve("input",{key:0,"onUpdate:modelValue":C[0]||(C[0]=x=>Xr(h)?h.value=x:null),class:Y(p(S).be("button","original")),type:"checkbox",name:w.name,tabindex:w.tabindex,disabled:p(u),"true-value":w.trueLabel,"false-value":w.falseLabel,onChange:C[1]||(C[1]=(...x)=>p(_)&&p(_)(...x)),onFocus:C[2]||(C[2]=x=>s.value=!0),onBlur:C[3]||(C[3]=x=>s.value=!1)},null,42,pre)),[[_g,p(h)]]):Hn((Q(),ve("input",{key:1,"onUpdate:modelValue":C[4]||(C[4]=x=>Xr(h)?h.value=x:null),class:Y(p(S).be("button","original")),type:"checkbox",name:w.name,tabindex:w.tabindex,disabled:p(u),value:w.label,onChange:C[5]||(C[5]=(...x)=>p(_)&&p(_)(...x)),onFocus:C[6]||(C[6]=x=>s.value=!0),onBlur:C[7]||(C[7]=x=>s.value=!1)},null,42,mre)),[[_g,p(h)]]),w.$slots.default||w.label?(Q(),ve("span",{key:2,class:Y(p(S).be("button","inner")),style:fn(p(a)?p(b):void 0)},[vt(w.$slots,"default",{},()=>[hr(Qt(w.label),1)])],6)):Ye("v-if",!0)],2))}});var RP=Ht(vre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const _re=Xt({modelValue:{type:nt(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Ts,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),Are={[qn]:e=>sn(e),change:e=>sn(e)},yre=Ge({name:"ElCheckboxGroup"}),bre=Ge({...yre,props:_re,emits:Are,setup(e,{emit:n}){const i=e,s=bt("checkbox"),{formItem:a}=ys(),{inputId:u,isLabeledByFormItem:f}=oc(i,{formItemContext:a}),h=async y=>{n(qn,y),await dn(),n("change",y)},_=z({get(){return i.modelValue},set(y){h(y)}});return ir(Yd,{...ja(xi(i),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:_,changeEvent:h}),St(()=>i.modelValue,()=>{i.validateEvent&&(a==null||a.validate("change").catch(y=>void 0))}),(y,S)=>{var b;return Q(),rt(rr(y.tag),{id:p(u),class:Y(p(s).b("group")),role:"group","aria-label":p(f)?void 0:y.label||"checkbox-group","aria-labelledby":p(f)?(b=p(a))==null?void 0:b.labelId:void 0},{default:Ue(()=>[vt(y.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var TP=Ht(bre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const yo=Jn(hre,{CheckboxButton:RP,CheckboxGroup:TP}),Sre=fi(RP),PP=fi(TP),NP=Xt({size:Ts,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Ere=Xt({...NP,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),DP={[qn]:e=>Dn(e)||Qn(e)||Mi(e),[jr]:e=>Dn(e)||Qn(e)||Mi(e)},BP=(e,n)=>{const i=re(),s=hn(aT,void 0),a=z(()=>!!s),u=z({get(){return a.value?s.modelValue:e.modelValue},set(S){a.value?s.changeEvent(S):n&&n(qn,S),i.value.checked=e.modelValue===e.label}}),f=Ci(z(()=>s==null?void 0:s.size)),h=Jo(z(()=>s==null?void 0:s.disabled)),_=re(!1),y=z(()=>h.value||a.value&&u.value!==e.label?-1:0);return{radioRef:i,isGroup:a,radioGroup:s,focus:_,size:f,disabled:h,tabIndex:y,modelValue:u}},wre=["value","name","disabled"],Cre=Ge({name:"ElRadio"}),Ire=Ge({...Cre,props:Ere,emits:DP,setup(e,{emit:n}){const i=e,s=bt("radio"),{radioRef:a,radioGroup:u,focus:f,size:h,disabled:_,modelValue:y}=BP(i,n);function S(){dn(()=>n("change",y.value))}return(b,w)=>{var C;return Q(),ve("label",{class:Y([p(s).b(),p(s).is("disabled",p(_)),p(s).is("focus",p(f)),p(s).is("bordered",b.border),p(s).is("checked",p(y)===b.label),p(s).m(p(h))])},[Ce("span",{class:Y([p(s).e("input"),p(s).is("disabled",p(_)),p(s).is("checked",p(y)===b.label)])},[Hn(Ce("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":w[0]||(w[0]=x=>Xr(y)?y.value=x:null),class:Y(p(s).e("original")),value:b.label,name:b.name||((C=p(u))==null?void 0:C.name),disabled:p(_),type:"radio",onFocus:w[1]||(w[1]=x=>f.value=!0),onBlur:w[2]||(w[2]=x=>f.value=!1),onChange:S},null,42,wre),[[Kx,p(y)]]),Ce("span",{class:Y(p(s).e("inner"))},null,2)],2),Ce("span",{class:Y(p(s).e("label")),onKeydown:w[3]||(w[3]=Nn(()=>{},["stop"]))},[vt(b.$slots,"default",{},()=>[hr(Qt(b.label),1)])],34)],2)}}});var Mre=Ht(Ire,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const xre=Xt({...NP,name:{type:String,default:""}}),Rre=["value","name","disabled"],Tre=Ge({name:"ElRadioButton"}),Pre=Ge({...Tre,props:xre,setup(e){const n=e,i=bt("radio"),{radioRef:s,focus:a,size:u,disabled:f,modelValue:h,radioGroup:_}=BP(n),y=z(()=>({backgroundColor:(_==null?void 0:_.fill)||"",borderColor:(_==null?void 0:_.fill)||"",boxShadow:_!=null&&_.fill?`-1px 0 0 0 ${_.fill}`:"",color:(_==null?void 0:_.textColor)||""}));return(S,b)=>{var w;return Q(),ve("label",{class:Y([p(i).b("button"),p(i).is("active",p(h)===S.label),p(i).is("disabled",p(f)),p(i).is("focus",p(a)),p(i).bm("button",p(u))])},[Hn(Ce("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":b[0]||(b[0]=C=>Xr(h)?h.value=C:null),class:Y(p(i).be("button","original-radio")),value:S.label,type:"radio",name:S.name||((w=p(_))==null?void 0:w.name),disabled:p(f),onFocus:b[1]||(b[1]=C=>a.value=!0),onBlur:b[2]||(b[2]=C=>a.value=!1)},null,42,Rre),[[Kx,p(h)]]),Ce("span",{class:Y(p(i).be("button","inner")),style:fn(p(h)===S.label?p(y):{}),onKeydown:b[3]||(b[3]=Nn(()=>{},["stop"]))},[vt(S.$slots,"default",{},()=>[hr(Qt(S.label),1)])],38)],2)}}});var kP=Ht(Pre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const Nre=Xt({id:{type:String,default:void 0},size:Ts,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Dre=DP,Bre=["id","aria-label","aria-labelledby"],kre=Ge({name:"ElRadioGroup"}),Lre=Ge({...kre,props:Nre,emits:Dre,setup(e,{emit:n}){const i=e,s=bt("radio"),a=Wo(),u=re(),{formItem:f}=ys(),{inputId:h,isLabeledByFormItem:_}=oc(i,{formItemContext:f}),y=b=>{n(qn,b),dn(()=>n("change",b))};jn(()=>{const b=u.value.querySelectorAll("[type=radio]"),w=b[0];!Array.from(b).some(C=>C.checked)&&w&&(w.tabIndex=0)});const S=z(()=>i.name||a.value);return ir(aT,Tr({...xi(i),changeEvent:y,name:S})),St(()=>i.modelValue,()=>{i.validateEvent&&(f==null||f.validate("change").catch(b=>void 0))}),(b,w)=>(Q(),ve("div",{id:p(h),ref_key:"radioGroupRef",ref:u,class:Y(p(s).b("group")),role:"radiogroup","aria-label":p(_)?void 0:b.label||"radio-group","aria-labelledby":p(_)?p(f).labelId:void 0},[vt(b.$slots,"default")],10,Bre))}});var LP=Ht(Lre,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const OP=Jn(Mre,{RadioButton:kP,RadioGroup:LP}),Ore=fi(LP),Fre=fi(kP);var Vre=Ge({name:"NodeContent",setup(){return{ns:bt("cascader-node")}},render(){const{ns:e}=this,{node:n,panel:i}=this.$parent,{data:s,label:a}=n,{renderLabelFn:u}=i;return An("span",{class:e.e("label")},u?u({node:n,data:s}):a)}});const n1=Symbol(),Gre=Ge({name:"ElCascaderNode",components:{ElCheckbox:yo,ElRadio:OP,NodeContent:Vre,ElIcon:un,Check:ep,Loading:ic,ArrowRight:vs},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:n}){const i=hn(n1),s=bt("cascader-node"),a=z(()=>i.isHoverMenu),u=z(()=>i.config.multiple),f=z(()=>i.config.checkStrictly),h=z(()=>{var $;return($=i.checkedNodes[0])==null?void 0:$.uid}),_=z(()=>e.node.isDisabled),y=z(()=>e.node.isLeaf),S=z(()=>f.value&&!y.value||!_.value),b=z(()=>C(i.expandingNode)),w=z(()=>f.value&&i.checkedNodes.some(C)),C=$=>{var de;const{level:ee,uid:se}=e.node;return((de=$==null?void 0:$.pathNodes[ee-1])==null?void 0:de.uid)===se},x=()=>{b.value||i.expandNode(e.node)},M=$=>{const{node:de}=e;$!==de.checked&&i.handleCheckChange(de,$)},T=()=>{i.lazyLoad(e.node,()=>{y.value||x()})},D=$=>{!a.value||(F(),!y.value&&n("expand",$))},F=()=>{const{node:$}=e;!S.value||$.loading||($.loaded?x():T())},N=()=>{a.value&&!y.value||(y.value&&!_.value&&!f.value&&!u.value?U(!0):F())},G=$=>{f.value?(M($),e.node.loaded&&x()):U($)},U=$=>{e.node.loaded?(M($),!f.value&&x()):T()};return{panel:i,isHoverMenu:a,multiple:u,checkStrictly:f,checkedNodeId:h,isDisabled:_,isLeaf:y,expandable:S,inExpandingPath:b,inCheckedPath:w,ns:s,handleHoverExpand:D,handleExpand:F,handleClick:N,handleCheck:U,handleSelectCheck:G}}}),Ure=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],Hre=Ce("span",null,null,-1);function Qre(e,n,i,s,a,u){const f=Mn("el-checkbox"),h=Mn("el-radio"),_=Mn("check"),y=Mn("el-icon"),S=Mn("node-content"),b=Mn("loading"),w=Mn("arrow-right");return Q(),ve("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:Y([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:n[2]||(n[2]=(...C)=>e.handleHoverExpand&&e.handleHoverExpand(...C)),onFocus:n[3]||(n[3]=(...C)=>e.handleHoverExpand&&e.handleHoverExpand(...C)),onClick:n[4]||(n[4]=(...C)=>e.handleClick&&e.handleClick(...C))},[Ye(" prefix "),e.multiple?(Q(),rt(f,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:n[0]||(n[0]=Nn(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(Q(),rt(h,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:n[1]||(n[1]=Nn(()=>{},["stop"]))},{default:Ue(()=>[Ye(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),Hre]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(Q(),rt(y,{key:2,class:Y(e.ns.e("prefix"))},{default:Ue(()=>[Re(_)]),_:1},8,["class"])):Ye("v-if",!0),Ye(" content "),Re(S),Ye(" postfix "),e.isLeaf?Ye("v-if",!0):(Q(),ve(mn,{key:3},[e.node.loading?(Q(),rt(y,{key:0,class:Y([e.ns.is("loading"),e.ns.e("postfix")])},{default:Ue(()=>[Re(b)]),_:1},8,["class"])):(Q(),rt(y,{key:1,class:Y(["arrow-right",e.ns.e("postfix")])},{default:Ue(()=>[Re(w)]),_:1},8,["class"]))],64))],42,Ure)}var Xre=Ht(Gre,[["render",Qre],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const zre=Ge({name:"ElCascaderMenu",components:{Loading:ic,ElIcon:un,ElScrollbar:cl,ElCascaderNode:Xre},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const n=Yn(),i=bt("cascader-menu"),{t:s}=yr(),a=sp();let u=null,f=null;const h=hn(n1),_=re(null),y=z(()=>!e.nodes.length),S=z(()=>!h.initialLoaded),b=z(()=>`cascader-menu-${a}-${e.index}`),w=T=>{u=T.target},C=T=>{if(!(!h.isHoverMenu||!u||!_.value))if(u.contains(T.target)){x();const D=n.vnode.el,{left:F}=D.getBoundingClientRect(),{offsetWidth:N,offsetHeight:G}=D,U=T.clientX-F,$=u.offsetTop,de=$+u.offsetHeight;_.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${U} ${$} L${N} 0 V${$} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${U} ${de} L${N} ${G} V${de} Z" />
        `}else f||(f=window.setTimeout(M,h.config.hoverThreshold))},x=()=>{!f||(clearTimeout(f),f=null)},M=()=>{!_.value||(_.value.innerHTML="",x())};return{ns:i,panel:h,hoverZone:_,isEmpty:y,isLoading:S,menuId:b,t:s,handleExpand:w,handleMouseMove:C,clearHoverZone:M}}});function $re(e,n,i,s,a,u){const f=Mn("el-cascader-node"),h=Mn("loading"),_=Mn("el-icon"),y=Mn("el-scrollbar");return Q(),rt(y,{key:e.menuId,tag:"ul",role:"menu",class:Y(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:Ue(()=>{var S;return[(Q(!0),ve(mn,null,cr(e.nodes,b=>(Q(),rt(f,{key:b.uid,node:b,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(Q(),ve("div",{key:0,class:Y(e.ns.e("empty-text"))},[Re(_,{size:"14",class:Y(e.ns.is("loading"))},{default:Ue(()=>[Re(h)]),_:1},8,["class"]),hr(" "+Qt(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(Q(),ve("div",{key:1,class:Y(e.ns.e("empty-text"))},Qt(e.t("el.cascader.noData")),3)):(S=e.panel)!=null&&S.isHoverMenu?(Q(),ve("svg",{key:2,ref:"hoverZone",class:Y(e.ns.e("hover-zone"))},null,2)):Ye("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var Wre=Ht(zre,[["render",$re],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let Kre=0;const jre=e=>{const n=[e];let{parent:i}=e;for(;i;)n.unshift(i),i=i.parent;return n};class Gd{constructor(n,i,s,a=!1){this.data=n,this.config=i,this.parent=s,this.root=a,this.uid=Kre++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:u,label:f,children:h}=i,_=n[h],y=jre(this);this.level=a?0:s?s.level+1:1,this.value=n[u],this.label=n[f],this.pathNodes=y,this.pathValues=y.map(S=>S.value),this.pathLabels=y.map(S=>S.label),this.childrenData=_,this.children=(_||[]).map(S=>new Gd(S,i,this)),this.loaded=!i.lazy||this.isLeaf||!lo(_)}get isDisabled(){const{data:n,parent:i,config:s}=this,{disabled:a,checkStrictly:u}=s;return(Tn(a)?a(n,this):!!n[a])||!u&&(i==null?void 0:i.isDisabled)}get isLeaf(){const{data:n,config:i,childrenData:s,loaded:a}=this,{lazy:u,leaf:f}=i,h=Tn(f)?f(n,this):n[f];return Xi(h)?u&&!a?!1:!(Array.isArray(s)&&s.length):!!h}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(n){const{childrenData:i,children:s}=this,a=new Gd(n,this.config,this);return Array.isArray(i)?i.push(n):this.childrenData=[n],s.push(a),a}calcText(n,i){const s=n?this.pathLabels.join(i):this.label;return this.text=s,s}broadcast(n,...i){const s=`onParent${co(n)}`;this.children.forEach(a=>{a&&(a.broadcast(n,...i),a[s]&&a[s](...i))})}emit(n,...i){const{parent:s}=this,a=`onChild${co(n)}`;s&&(s[a]&&s[a](...i),s.emit(n,...i))}onParentCheck(n){this.isDisabled||this.setCheckState(n)}onChildCheck(){const{children:n}=this,i=n.filter(a=>!a.isDisabled),s=i.length?i.every(a=>a.checked):!1;this.setCheckState(s)}setCheckState(n){const i=this.children.length,s=this.children.reduce((a,u)=>{const f=u.checked?1:u.indeterminate?.5:0;return a+f},0);this.checked=this.loaded&&this.children.filter(a=>!a.isDisabled).every(a=>a.loaded&&a.checked)&&n,this.indeterminate=this.loaded&&s!==i&&s>0}doCheck(n){if(this.checked===n)return;const{checkStrictly:i,multiple:s}=this.config;i||!s?this.checked=n:(this.broadcast("check",n),this.setCheckState(n),this.emit("check"))}}const ny=(e,n)=>e.reduce((i,s)=>(s.isLeaf?i.push(s):(!n&&i.push(s),i=i.concat(ny(s.children,n))),i),[]);class $2{constructor(n,i){this.config=i;const s=(n||[]).map(a=>new Gd(a,this.config));this.nodes=s,this.allNodes=ny(s,!1),this.leafNodes=ny(s,!0)}getNodes(){return this.nodes}getFlattedNodes(n){return n?this.leafNodes:this.allNodes}appendNode(n,i){const s=i?i.appendChild(n):new Gd(n,this.config);i||this.nodes.push(s),this.allNodes.push(s),s.isLeaf&&this.leafNodes.push(s)}appendNodes(n,i){n.forEach(s=>this.appendNode(s,i))}getNodeByValue(n,i=!1){return!n&&n!==0?null:this.getFlattedNodes(i).find(a=>qs(a.value,n)||qs(a.pathValues,n))||null}getSameNode(n){return n&&this.getFlattedNodes(!1).find(({value:s,level:a})=>qs(n.value,s)&&n.level===a)||null}}const FP={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},qre={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Lr,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Yre=e=>z(()=>({...qre,...e.props})),W2=e=>{if(!e)return 0;const n=e.id.split("-");return Number(n[n.length-2])},Jre=e=>{if(!e)return;const n=e.querySelector("input");n?n.click():QR(e)&&e.click()},Zre=(e,n)=>{const i=n.slice(0),s=i.map(u=>u.uid),a=e.reduce((u,f)=>{const h=s.indexOf(f.uid);return h>-1&&(u.push(f),i.splice(h,1),s.splice(h,1)),u},[]);return a.push(...i),a},eie=Ge({name:"ElCascaderPanel",components:{ElCascaderMenu:Wre},props:{...FP,border:{type:Boolean,default:!0},renderLabel:Function},emits:[qn,jr,"close","expand-change"],setup(e,{emit:n,slots:i}){let s=!1;const a=bt("cascader"),u=Yre(e);let f=null;const h=re(!0),_=re([]),y=re(null),S=re([]),b=re(null),w=re([]),C=z(()=>u.value.expandTrigger==="hover"),x=z(()=>e.renderLabel||i.default),M=()=>{const{options:pe}=e,ae=u.value;s=!1,f=new $2(pe,ae),S.value=[f.getNodes()],ae.lazy&&lo(e.options)?(h.value=!1,T(void 0,ye=>{ye&&(f=new $2(ye,ae),S.value=[f.getNodes()]),h.value=!0,ee(!1,!0)})):ee(!1,!0)},T=(pe,ae)=>{const ye=u.value;pe=pe||new Gd({},ye,void 0,!0),pe.loading=!0;const be=_e=>{const ie=pe,fe=ie.root?null:ie;_e&&(f==null||f.appendNodes(_e,fe)),ie.loading=!1,ie.loaded=!0,ie.childrenData=ie.childrenData||[],ae&&ae(_e)};ye.lazyLoad(pe,be)},D=(pe,ae)=>{var ye;const{level:be}=pe,_e=S.value.slice(0,be);let ie;pe.isLeaf?ie=pe.pathNodes[be-2]:(ie=pe,_e.push(pe.children)),((ye=b.value)==null?void 0:ye.uid)!==(ie==null?void 0:ie.uid)&&(b.value=pe,S.value=_e,!ae&&n("expand-change",(pe==null?void 0:pe.pathValues)||[]))},F=(pe,ae,ye=!0)=>{const{checkStrictly:be,multiple:_e}=u.value,ie=w.value[0];s=!0,!_e&&(ie==null||ie.doCheck(!1)),pe.doCheck(ae),de(),ye&&!_e&&!be&&n("close"),!ye&&!_e&&!be&&N(pe)},N=pe=>{!pe||(pe=pe.parent,N(pe),pe&&D(pe))},G=pe=>f==null?void 0:f.getFlattedNodes(pe),U=pe=>{var ae;return(ae=G(pe))==null?void 0:ae.filter(ye=>ye.checked!==!1)},$=()=>{w.value.forEach(pe=>pe.doCheck(!1)),de()},de=()=>{var pe;const{checkStrictly:ae,multiple:ye}=u.value,be=w.value,_e=U(!ae),ie=Zre(be,_e),fe=ie.map(le=>le.valueByOption);w.value=ie,y.value=ye?fe:(pe=fe[0])!=null?pe:null},ee=(pe=!1,ae=!1)=>{const{modelValue:ye}=e,{lazy:be,multiple:_e,checkStrictly:ie}=u.value,fe=!ie;if(!(!h.value||s||!ae&&qs(ye,y.value)))if(be&&!pe){const ke=qI(Hj(qa(ye))).map(ze=>f==null?void 0:f.getNodeByValue(ze)).filter(ze=>!!ze&&!ze.loaded&&!ze.loading);ke.length?ke.forEach(ze=>{T(ze,()=>ee(!1,ae))}):ee(!0,ae)}else{const le=_e?qa(ye):[ye],ke=qI(le.map(ze=>f==null?void 0:f.getNodeByValue(ze,fe)));se(ke,ae),y.value=kR(ye)}},se=(pe,ae=!0)=>{const{checkStrictly:ye}=u.value,be=w.value,_e=pe.filter(le=>!!le&&(ye||le.isLeaf)),ie=f==null?void 0:f.getSameNode(b.value),fe=ae&&ie||_e[0];fe?fe.pathNodes.forEach(le=>D(le,!0)):b.value=null,be.forEach(le=>le.doCheck(!1)),_e.forEach(le=>le.doCheck(!0)),w.value=_e,dn(oe)},oe=()=>{!ur||_.value.forEach(pe=>{const ae=pe==null?void 0:pe.$el;if(ae){const ye=ae.querySelector(`.${a.namespace.value}-scrollbar__wrap`),be=ae.querySelector(`.${a.b("node")}.${a.is("active")}`)||ae.querySelector(`.${a.b("node")}.in-active-path`);jR(ye,be)}})},Ie=pe=>{const ae=pe.target,{code:ye}=pe;switch(ye){case _n.up:case _n.down:{pe.preventDefault();const be=ye===_n.up?-1:1;zm(XR(ae,be,`.${a.b("node")}[tabindex="-1"]`));break}case _n.left:{pe.preventDefault();const be=_.value[W2(ae)-1],_e=be==null?void 0:be.$el.querySelector(`.${a.b("node")}[aria-expanded="true"]`);zm(_e);break}case _n.right:{pe.preventDefault();const be=_.value[W2(ae)+1],_e=be==null?void 0:be.$el.querySelector(`.${a.b("node")}[tabindex="-1"]`);zm(_e);break}case _n.enter:Jre(ae);break}};return ir(n1,Tr({config:u,expandingNode:b,checkedNodes:w,isHoverMenu:C,initialLoaded:h,renderLabelFn:x,lazyLoad:T,expandNode:D,handleCheckChange:F})),St([u,()=>e.options],M,{deep:!0,immediate:!0}),St(()=>e.modelValue,()=>{s=!1,ee()},{deep:!0}),St(()=>y.value,pe=>{qs(pe,e.modelValue)||(n(qn,pe),n(jr,pe))}),Cx(()=>_.value=[]),jn(()=>!lo(e.modelValue)&&ee()),{ns:a,menuList:_,menus:S,checkedNodes:w,handleKeyDown:Ie,handleCheckChange:F,getFlattedNodes:G,getCheckedNodes:U,clearCheckedNodes:$,calculateCheckedValue:de,scrollToExpandingNode:oe}}});function tie(e,n,i,s,a,u){const f=Mn("el-cascader-menu");return Q(),ve("div",{class:Y([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:n[0]||(n[0]=(...h)=>e.handleKeyDown&&e.handleKeyDown(...h))},[(Q(!0),ve(mn,null,cr(e.menus,(h,_)=>(Q(),rt(f,{key:_,ref_for:!0,ref:y=>e.menuList[_]=y,index:_,nodes:[...h]},null,8,["index","nodes"]))),128))],34)}var Jm=Ht(eie,[["render",tie],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);Jm.install=e=>{e.component(Jm.name,Jm)};const VP=Jm,nie=VP,r1=Xt({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:sc,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),rie={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},iie=Ge({name:"ElTag"}),sie=Ge({...iie,props:r1,emits:rie,setup(e,{emit:n}){const i=e,s=Ci(),a=bt("tag"),u=z(()=>{const{type:_,hit:y,effect:S,closable:b,round:w}=i;return[a.b(),a.is("closable",b),a.m(_),a.m(s.value),a.m(S),a.is("hit",y),a.is("round",w)]}),f=_=>{n("close",_)},h=_=>{n("click",_)};return(_,y)=>_.disableTransitions?(Q(),ve("span",{key:0,class:Y(p(u)),style:fn({backgroundColor:_.color}),onClick:h},[Ce("span",{class:Y(p(a).e("content"))},[vt(_.$slots,"default")],2),_.closable?(Q(),rt(p(un),{key:0,class:Y(p(a).e("close")),onClick:Nn(f,["stop"])},{default:Ue(()=>[Re(p(zo))]),_:1},8,["class","onClick"])):Ye("v-if",!0)],6)):(Q(),rt(bi,{key:1,name:`${p(a).namespace.value}-zoom-in-center`,appear:""},{default:Ue(()=>[Ce("span",{class:Y(p(u)),style:fn({backgroundColor:_.color}),onClick:h},[Ce("span",{class:Y(p(a).e("content"))},[vt(_.$slots,"default")],2),_.closable?(Q(),rt(p(un),{key:0,class:Y(p(a).e("close")),onClick:Nn(f,["stop"])},{default:Ue(()=>[Re(p(zo))]),_:1},8,["class","onClick"])):Ye("v-if",!0)],6)]),_:3},8,["name"]))}});var oie=Ht(sie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const bv=Jn(oie),aie={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:n,placement:i}=e;["right","left","bottom","top"].includes(i)||(n.arrow.x=35)},requires:["arrow"]}]},lie="ElCascader",cie=Ge({name:lie,components:{ElCascaderPanel:VP,ElInput:os,ElTooltip:Ps,ElScrollbar:cl,ElTag:bv,ElIcon:un,CircleClose:rc,Check:ep,ArrowDown:nc},directives:{Clickoutside:Jl},props:{...FP,size:{type:String,validator:qd},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(e,n)=>e.text.includes(n)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},teleported:Hi.teleported,tagType:{...r1.type,default:"info"},validateEvent:{type:Boolean,default:!0}},emits:[qn,jr,"focus","blur","visible-change","expand-change","remove-tag"],setup(e,{emit:n}){let i=0,s=0;const a=bt("cascader"),u=bt("input"),{t:f}=yr(),{form:h,formItem:_}=ys(),y=re(null),S=re(null),b=re(null),w=re(null),C=re(null),x=re(!1),M=re(!1),T=re(!1),D=re(""),F=re(""),N=re([]),G=re([]),U=re([]),$=re(!1),de=z(()=>e.disabled||(h==null?void 0:h.disabled)),ee=z(()=>e.placeholder||f("el.cascader.placeholder")),se=z(()=>F.value||N.value.length>0?"":ee.value),oe=Ci(),Ie=z(()=>["small"].includes(oe.value)?"small":"default"),pe=z(()=>!!e.props.multiple),ae=z(()=>!e.filterable||pe.value),ye=z(()=>pe.value?F.value:D.value),be=z(()=>{var xe;return((xe=w.value)==null?void 0:xe.checkedNodes)||[]}),_e=z(()=>!e.clearable||de.value||T.value||!M.value?!1:!!be.value.length),ie=z(()=>{const{showAllLevels:xe,separator:qe}=e,Dt=be.value;return Dt.length?pe.value?"":Dt[0].calcText(xe,qe):""}),fe=z({get(){return kR(e.modelValue)},set(xe){n(qn,xe),n(jr,xe),e.validateEvent&&(_==null||_.validate("change").catch(qe=>void 0))}}),le=z(()=>{var xe,qe;return(qe=(xe=y.value)==null?void 0:xe.popperRef)==null?void 0:qe.contentRef}),ke=xe=>{var qe,Dt,zt;de.value||(xe=xe!=null?xe:!x.value,xe!==x.value&&(x.value=xe,(Dt=(qe=S.value)==null?void 0:qe.input)==null||Dt.setAttribute("aria-expanded",`${xe}`),xe?(ze(),dn((zt=w.value)==null?void 0:zt.scrollToExpandingNode)):e.filterable&&ft(),n("visible-change",xe)))},ze=()=>{dn(()=>{var xe;(xe=y.value)==null||xe.updatePopper()})},Te=()=>{T.value=!1},Xe=xe=>{const{showAllLevels:qe,separator:Dt}=e;return{node:xe,key:xe.uid,text:xe.calcText(qe,Dt),hitState:!1,closable:!de.value&&!xe.isDisabled,isCollapseTag:!1}},_t=xe=>{var qe;const Dt=xe.node;Dt.doCheck(!1),(qe=w.value)==null||qe.calculateCheckedValue(),n("remove-tag",Dt.valueByOption)},wt=()=>{if(!pe.value)return;const xe=be.value,qe=[],Dt=[];if(xe.forEach(zt=>Dt.push(Xe(zt))),G.value=Dt,xe.length){const[zt,...en]=xe,gn=en.length;qe.push(Xe(zt)),gn&&(e.collapseTags?qe.push({key:-1,text:`+ ${gn}`,closable:!1,isCollapseTag:!0}):en.forEach(En=>qe.push(Xe(En))))}N.value=qe},xt=()=>{var xe,qe;const{filterMethod:Dt,showAllLevels:zt,separator:en}=e,gn=(qe=(xe=w.value)==null?void 0:xe.getFlattedNodes(!e.props.checkStrictly))==null?void 0:qe.filter(En=>En.isDisabled?!1:(En.calcText(zt,en),Dt(En,ye.value)));pe.value&&(N.value.forEach(En=>{En.hitState=!1}),G.value.forEach(En=>{En.hitState=!1})),T.value=!0,U.value=gn,ze()},it=()=>{var xe;let qe;T.value&&C.value?qe=C.value.$el.querySelector(`.${a.e("suggestion-item")}`):qe=(xe=w.value)==null?void 0:xe.$el.querySelector(`.${a.b("node")}[tabindex="-1"]`),qe&&(qe.focus(),!T.value&&qe.click())},je=()=>{var xe,qe;const Dt=(xe=S.value)==null?void 0:xe.input,zt=b.value,en=(qe=C.value)==null?void 0:qe.$el;if(!(!ur||!Dt)){if(en){const gn=en.querySelector(`.${a.e("suggestion-list")}`);gn.style.minWidth=`${Dt.offsetWidth}px`}if(zt){const{offsetHeight:gn}=zt,En=N.value.length>0?`${Math.max(gn+6,i)}px`:`${i}px`;Dt.style.height=En,ze()}}},ot=xe=>{var qe;return(qe=w.value)==null?void 0:qe.getCheckedNodes(xe)},At=xe=>{ze(),n("expand-change",xe)},on=xe=>{var qe;const Dt=(qe=xe.target)==null?void 0:qe.value;if(xe.type==="compositionend")$.value=!1,dn(()=>gt(Dt));else{const zt=Dt[Dt.length-1]||"";$.value=!dv(zt)}},Ne=xe=>{if(!$.value)switch(xe.code){case _n.enter:ke();break;case _n.down:ke(!0),dn(it),xe.preventDefault();break;case _n.esc:x.value===!0&&(xe.preventDefault(),xe.stopPropagation(),ke(!1));break;case _n.tab:ke(!1);break}},$e=()=>{var xe;(xe=w.value)==null||xe.clearCheckedNodes(),!x.value&&e.filterable&&ft(),ke(!1)},ft=()=>{const{value:xe}=ie;D.value=xe,F.value=xe},Tt=xe=>{var qe,Dt;const{checked:zt}=xe;pe.value?(qe=w.value)==null||qe.handleCheckChange(xe,!zt,!1):(!zt&&((Dt=w.value)==null||Dt.handleCheckChange(xe,!0,!1)),ke(!1))},Bt=xe=>{const qe=xe.target,{code:Dt}=xe;switch(Dt){case _n.up:case _n.down:{const zt=Dt===_n.up?-1:1;zm(XR(qe,zt,`.${a.e("suggestion-item")}[tabindex="-1"]`));break}case _n.enter:qe.click();break}},ct=()=>{const xe=N.value,qe=xe[xe.length-1];s=F.value?0:s+1,!(!qe||!s||e.collapseTags&&xe.length>1)&&(qe.hitState?_t(qe):qe.hitState=!0)},Lt=As(()=>{const{value:xe}=ye;if(!xe)return;const qe=e.beforeFilter(xe);yh(qe)?qe.then(xt).catch(()=>{}):qe!==!1?xt():Te()},e.debounce),gt=(xe,qe)=>{!x.value&&ke(!0),!(qe!=null&&qe.isComposing)&&(xe?Lt():Te())};return St(T,ze),St([be,de],wt),St(N,()=>{dn(()=>je())}),St(ie,ft,{immediate:!0}),jn(()=>{const xe=S.value.input,qe=Number.parseFloat(Sq(u.cssVarName("input-height"),xe).value)-2;i=xe.offsetHeight||qe,as(xe,je)}),{popperOptions:aie,tooltipRef:y,popperPaneRef:le,input:S,tagWrapper:b,panel:w,suggestionPanel:C,popperVisible:x,inputHover:M,inputPlaceholder:ee,currentPlaceholder:se,filtering:T,presentText:ie,checkedValue:fe,inputValue:D,searchInputValue:F,presentTags:N,allPresentTags:G,suggestions:U,isDisabled:de,isOnComposition:$,realSize:oe,tagSize:Ie,multiple:pe,readonly:ae,clearBtnVisible:_e,nsCascader:a,nsInput:u,t:f,togglePopperVisible:ke,hideSuggestionPanel:Te,deleteTag:_t,focusFirstNode:it,getCheckedNodes:ot,handleExpandChange:At,handleKeyDown:Ne,handleComposition:on,handleClear:$e,handleSuggestionClick:Tt,handleSuggestionKeyDown:Bt,handleDelete:ct,handleInput:gt}}}),uie={key:0},die=["placeholder"],fie=["onClick"];function hie(e,n,i,s,a,u){const f=Mn("circle-close"),h=Mn("el-icon"),_=Mn("arrow-down"),y=Mn("el-input"),S=Mn("el-tag"),b=Mn("el-tooltip"),w=Mn("el-cascader-panel"),C=Mn("check"),x=Mn("el-scrollbar"),M=Id("clickoutside");return Q(),rt(b,{ref:"tooltipRef",visible:e.popperVisible,teleported:e.teleported,"popper-class":[e.nsCascader.e("dropdown"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${e.nsCascader.namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:e.hideSuggestionPanel},{default:Ue(()=>[Hn((Q(),ve("div",{class:Y([e.nsCascader.b(),e.nsCascader.m(e.realSize),e.nsCascader.is("disabled",e.isDisabled),e.$attrs.class]),style:fn(e.$attrs.style),onClick:n[11]||(n[11]=()=>e.togglePopperVisible(e.readonly?void 0:!0)),onKeydown:n[12]||(n[12]=(...T)=>e.handleKeyDown&&e.handleKeyDown(...T)),onMouseenter:n[13]||(n[13]=T=>e.inputHover=!0),onMouseleave:n[14]||(n[14]=T=>e.inputHover=!1)},[Re(y,{ref:"input",modelValue:e.inputValue,"onUpdate:modelValue":n[1]||(n[1]=T=>e.inputValue=T),placeholder:e.currentPlaceholder,readonly:e.readonly,disabled:e.isDisabled,"validate-event":!1,size:e.realSize,class:Y(e.nsCascader.is("focus",e.popperVisible)),onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onFocus:n[2]||(n[2]=T=>e.$emit("focus",T)),onBlur:n[3]||(n[3]=T=>e.$emit("blur",T)),onInput:e.handleInput},{suffix:Ue(()=>[e.clearBtnVisible?(Q(),rt(h,{key:"clear",class:Y([e.nsInput.e("icon"),"icon-circle-close"]),onClick:Nn(e.handleClear,["stop"])},{default:Ue(()=>[Re(f)]),_:1},8,["class","onClick"])):(Q(),rt(h,{key:"arrow-down",class:Y([e.nsInput.e("icon"),"icon-arrow-down",e.nsCascader.is("reverse",e.popperVisible)]),onClick:n[0]||(n[0]=Nn(T=>e.togglePopperVisible(),["stop"]))},{default:Ue(()=>[Re(_)]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),e.multiple?(Q(),ve("div",{key:0,ref:"tagWrapper",class:Y(e.nsCascader.e("tags"))},[(Q(!0),ve(mn,null,cr(e.presentTags,T=>(Q(),rt(S,{key:T.key,type:e.tagType,size:e.tagSize,hit:T.hitState,closable:T.closable,"disable-transitions":"",onClose:D=>e.deleteTag(T)},{default:Ue(()=>[T.isCollapseTag===!1?(Q(),ve("span",uie,Qt(T.text),1)):(Q(),rt(b,{key:1,teleported:!1,disabled:e.popperVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:Ue(()=>[Ce("span",null,Qt(T.text),1)]),content:Ue(()=>[Ce("div",{class:Y(e.nsCascader.e("collapse-tags"))},[(Q(!0),ve(mn,null,cr(e.allPresentTags.slice(1),(D,F)=>(Q(),ve("div",{key:F,class:Y(e.nsCascader.e("collapse-tag"))},[(Q(),rt(S,{key:D.key,class:"in-tooltip",type:e.tagType,size:e.tagSize,hit:D.hitState,closable:D.closable,"disable-transitions":"",onClose:N=>e.deleteTag(D)},{default:Ue(()=>[Ce("span",null,Qt(D.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),e.filterable&&!e.isDisabled?Hn((Q(),ve("input",{key:0,"onUpdate:modelValue":n[4]||(n[4]=T=>e.searchInputValue=T),type:"text",class:Y(e.nsCascader.e("search-input")),placeholder:e.presentText?"":e.inputPlaceholder,onInput:n[5]||(n[5]=T=>e.handleInput(e.searchInputValue,T)),onClick:n[6]||(n[6]=Nn(T=>e.togglePopperVisible(!0),["stop"])),onKeydown:n[7]||(n[7]=fr((...T)=>e.handleDelete&&e.handleDelete(...T),["delete"])),onCompositionstart:n[8]||(n[8]=(...T)=>e.handleComposition&&e.handleComposition(...T)),onCompositionupdate:n[9]||(n[9]=(...T)=>e.handleComposition&&e.handleComposition(...T)),onCompositionend:n[10]||(n[10]=(...T)=>e.handleComposition&&e.handleComposition(...T))},null,42,die)),[[rb,e.searchInputValue]]):Ye("v-if",!0)],2)):Ye("v-if",!0)],38)),[[M,()=>e.togglePopperVisible(!1),e.popperPaneRef]])]),content:Ue(()=>[Hn(Re(w,{ref:"panel",modelValue:e.checkedValue,"onUpdate:modelValue":n[15]||(n[15]=T=>e.checkedValue=T),options:e.options,props:e.props,border:!1,"render-label":e.$slots.default,onExpandChange:e.handleExpandChange,onClose:n[16]||(n[16]=T=>e.$nextTick(()=>e.togglePopperVisible(!1)))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[_r,!e.filtering]]),e.filterable?Hn((Q(),rt(x,{key:0,ref:"suggestionPanel",tag:"ul",class:Y(e.nsCascader.e("suggestion-panel")),"view-class":e.nsCascader.e("suggestion-list"),onKeydown:e.handleSuggestionKeyDown},{default:Ue(()=>[e.suggestions.length?(Q(!0),ve(mn,{key:0},cr(e.suggestions,T=>(Q(),ve("li",{key:T.uid,class:Y([e.nsCascader.e("suggestion-item"),e.nsCascader.is("checked",T.checked)]),tabindex:-1,onClick:D=>e.handleSuggestionClick(T)},[Ce("span",null,Qt(T.text),1),T.checked?(Q(),rt(h,{key:0},{default:Ue(()=>[Re(C)]),_:1})):Ye("v-if",!0)],10,fie))),128)):vt(e.$slots,"empty",{key:1},()=>[Ce("li",{class:Y(e.nsCascader.e("empty-text"))},Qt(e.t("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class","onKeydown"])),[[_r,e.filtering]]):Ye("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-options","transition","onHide"])}var Zm=Ht(cie,[["render",hie],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/index.vue"]]);Zm.install=e=>{e.component(Zm.name,Zm)};const pie=Zm,mie=pie,gie=Xt({checked:{type:Boolean,default:!1}}),vie={"update:checked":e=>Mi(e),[jr]:e=>Mi(e)},_ie=Ge({name:"ElCheckTag"}),Aie=Ge({..._ie,props:gie,emits:vie,setup(e,{emit:n}){const i=e,s=bt("check-tag"),a=()=>{const u=!i.checked;n(jr,u),n("update:checked",u)};return(u,f)=>(Q(),ve("span",{class:Y([p(s).b(),p(s).is("checked",u.checked)]),onClick:a},[vt(u.$slots,"default")],2))}});var yie=Ht(Aie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/check-tag/src/check-tag.vue"]]);const bie=Jn(yie),Sie=Xt({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:nt([Number,Object]),default:()=>Jr({})},sm:{type:nt([Number,Object]),default:()=>Jr({})},md:{type:nt([Number,Object]),default:()=>Jr({})},lg:{type:nt([Number,Object]),default:()=>Jr({})},xl:{type:nt([Number,Object]),default:()=>Jr({})}}),Eie=Ge({name:"ElCol"}),wie=Ge({...Eie,props:Sie,setup(e){const n=e,{gutter:i}=hn(lT,{gutter:z(()=>0)}),s=bt("col"),a=z(()=>{const f={};return i.value&&(f.paddingLeft=f.paddingRight=`${i.value/2}px`),f}),u=z(()=>{const f=[];return["span","offset","pull","push"].forEach(y=>{const S=n[y];Qn(S)&&(y==="span"?f.push(s.b(`${n[y]}`)):S>0&&f.push(s.b(`${y}-${n[y]}`)))}),["xs","sm","md","lg","xl"].forEach(y=>{Qn(n[y])?f.push(s.b(`${y}-${n[y]}`)):tr(n[y])&&Object.entries(n[y]).forEach(([S,b])=>{f.push(S!=="span"?s.b(`${y}-${S}-${b}`):s.b(`${y}-${b}`))})}),i.value&&f.push(s.is("guttered")),f});return(f,h)=>(Q(),rt(rr(f.tag),{class:Y([p(s).b(),p(u)]),style:fn(p(a))},{default:Ue(()=>[vt(f.$slots,"default")]),_:3},8,["class","style"]))}});var Cie=Ht(wie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const Iie=Jn(Cie),K2=e=>typeof Qn(e),Mie=Xt({accordion:Boolean,modelValue:{type:nt([Array,String,Number]),default:()=>Jr([])}}),xie={[qn]:K2,[jr]:K2},Rie=(e,n)=>{const i=re(Dd(e.modelValue)),s=u=>{i.value=u;const f=e.accordion?i.value[0]:i.value;n(qn,f),n(jr,f)},a=u=>{if(e.accordion)s([i.value[0]===u?"":u]);else{const f=[...i.value],h=f.indexOf(u);h>-1?f.splice(h,1):f.push(u),s(f)}};return St(()=>e.modelValue,()=>i.value=Dd(e.modelValue),{deep:!0}),ir(rT,{activeNames:i,handleItemClick:a}),{activeNames:i,setActiveNames:s}},Tie=()=>{const e=bt("collapse");return{rootKls:z(()=>e.b())}},Pie=Ge({name:"ElCollapse"}),Nie=Ge({...Pie,props:Mie,emits:xie,setup(e,{expose:n,emit:i}){const s=e,{activeNames:a,setActiveNames:u}=Rie(s,i),{rootKls:f}=Tie();return n({activeNames:a,setActiveNames:u}),(h,_)=>(Q(),ve("div",{class:Y(p(f)),role:"tablist","aria-multiselectable":"true"},[vt(h.$slots,"default")],2))}});var Die=Ht(Nie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const Bie=Ge({name:"ElCollapseTransition"}),kie=Ge({...Bie,setup(e){const n=bt("collapse-transition"),i={beforeEnter(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0},enter(s){s.dataset.oldOverflow=s.style.overflow,s.scrollHeight!==0?(s.style.maxHeight=`${s.scrollHeight}px`,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom):(s.style.maxHeight=0,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom),s.style.overflow="hidden"},afterEnter(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow},beforeLeave(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.maxHeight=`${s.scrollHeight}px`,s.style.overflow="hidden"},leave(s){s.scrollHeight!==0&&(s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0)},afterLeave(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom}};return(s,a)=>(Q(),rt(bi,nr({name:p(n).b()},SG(i)),{default:Ue(()=>[vt(s.$slots,"default")]),_:3},16,["name"]))}});var eg=Ht(kie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);eg.install=e=>{e.component(eg.name,eg)};const Sv=eg,Lie=Sv,Oie=Xt({title:{type:String,default:""},name:{type:nt([String,Number]),default:()=>sp()},disabled:Boolean}),Fie=e=>{const n=hn(rT),i=re(!1),s=re(!1),a=re(sp()),u=z(()=>n==null?void 0:n.activeNames.value.includes(e.name));return{focusing:i,id:a,isActive:u,handleFocus:()=>{setTimeout(()=>{s.value?s.value=!1:i.value=!0},50)},handleHeaderClick:()=>{e.disabled||(n==null||n.handleItemClick(e.name),i.value=!1,s.value=!0)},handleEnterClick:()=>{n==null||n.handleItemClick(e.name)}}},Vie=(e,{focusing:n,isActive:i,id:s})=>{const a=bt("collapse"),u=z(()=>[a.b("item"),a.is("active",p(i)),a.is("disabled",e.disabled)]),f=z(()=>[a.be("item","header"),a.is("active",p(i)),{focusing:p(n)&&!e.disabled}]),h=z(()=>[a.be("item","arrow"),a.is("active",p(i))]),_=z(()=>a.be("item","wrap")),y=z(()=>a.be("item","content")),S=z(()=>a.b(`content-${p(s)}`)),b=z(()=>a.b(`head-${p(s)}`));return{arrowKls:h,headKls:f,rootKls:u,itemWrapperKls:_,itemContentKls:y,scopedContentId:S,scopedHeadId:b}},Gie=["aria-expanded","aria-controls","aria-describedby"],Uie=["id","tabindex"],Hie=["id","aria-hidden","aria-labelledby"],Qie=Ge({name:"ElCollapseItem"}),Xie=Ge({...Qie,props:Oie,setup(e,{expose:n}){const i=e,{focusing:s,id:a,isActive:u,handleFocus:f,handleHeaderClick:h,handleEnterClick:_}=Fie(i),{arrowKls:y,headKls:S,rootKls:b,itemWrapperKls:w,itemContentKls:C,scopedContentId:x,scopedHeadId:M}=Vie(i,{focusing:s,isActive:u,id:a});return n({isActive:u}),(T,D)=>(Q(),ve("div",{class:Y(p(b))},[Ce("div",{role:"tab","aria-expanded":p(u),"aria-controls":p(x),"aria-describedby":p(x)},[Ce("div",{id:p(M),class:Y(p(S)),role:"button",tabindex:T.disabled?-1:0,onClick:D[0]||(D[0]=(...F)=>p(h)&&p(h)(...F)),onKeypress:D[1]||(D[1]=fr(Nn((...F)=>p(_)&&p(_)(...F),["stop","prevent"]),["space","enter"])),onFocus:D[2]||(D[2]=(...F)=>p(f)&&p(f)(...F)),onBlur:D[3]||(D[3]=F=>s.value=!1)},[vt(T.$slots,"title",{},()=>[hr(Qt(T.title),1)]),Re(p(un),{class:Y(p(y))},{default:Ue(()=>[Re(p(vs))]),_:1},8,["class"])],42,Uie)],8,Gie),Re(p(Sv),null,{default:Ue(()=>[Hn(Ce("div",{id:p(x),class:Y(p(w)),role:"tabpanel","aria-hidden":!p(u),"aria-labelledby":p(M)},[Ce("div",{class:Y(p(C))},[vt(T.$slots,"default")],2)],10,Hie),[[_r,p(u)]])]),_:3})],2))}});var GP=Ht(Xie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const zie=Jn(Die,{CollapseItem:GP}),$ie=fi(GP);let r0=!1;function Vh(e,n){if(!ur)return;const i=function(u){var f;(f=n.drag)==null||f.call(n,u)},s=function(u){var f;document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",s),document.removeEventListener("touchmove",i),document.removeEventListener("touchend",s),document.onselectstart=null,document.ondragstart=null,r0=!1,(f=n.end)==null||f.call(n,u)},a=function(u){var f;r0||(u.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",i),document.addEventListener("mouseup",s),document.addEventListener("touchmove",i),document.addEventListener("touchend",s),r0=!0,(f=n.start)==null||f.call(n,u))};e.addEventListener("mousedown",a),e.addEventListener("touchstart",a)}const Wie=Ge({name:"ElColorAlphaSlider",props:{color:{type:Object,required:!0},vertical:{type:Boolean,default:!1}},setup(e){const n=bt("color-alpha-slider"),i=Yn(),s=Wr(),a=Wr(),u=re(0),f=re(0),h=re();St(()=>e.color.get("alpha"),()=>{C()}),St(()=>e.color.value,()=>{C()});function _(){if(!s.value||e.vertical)return 0;const x=i.vnode.el,M=e.color.get("alpha");return x?Math.round(M*(x.offsetWidth-s.value.offsetWidth/2)/100):0}function y(){if(!s.value)return 0;const x=i.vnode.el;if(!e.vertical)return 0;const M=e.color.get("alpha");return x?Math.round(M*(x.offsetHeight-s.value.offsetHeight/2)/100):0}function S(){if(e.color&&e.color.value){const{r:x,g:M,b:T}=e.color.toRgb();return`linear-gradient(to right, rgba(${x}, ${M}, ${T}, 0) 0%, rgba(${x}, ${M}, ${T}, 1) 100%)`}return""}function b(x){x.target!==s.value&&w(x)}function w(x){if(!a.value||!s.value)return;const T=i.vnode.el.getBoundingClientRect(),{clientX:D,clientY:F}=xb(x);if(e.vertical){let N=F-T.top;N=Math.max(s.value.offsetHeight/2,N),N=Math.min(N,T.height-s.value.offsetHeight/2),e.color.set("alpha",Math.round((N-s.value.offsetHeight/2)/(T.height-s.value.offsetHeight)*100))}else{let N=D-T.left;N=Math.max(s.value.offsetWidth/2,N),N=Math.min(N,T.width-s.value.offsetWidth/2),e.color.set("alpha",Math.round((N-s.value.offsetWidth/2)/(T.width-s.value.offsetWidth)*100))}}function C(){u.value=_(),f.value=y(),h.value=S()}return jn(()=>{if(!a.value||!s.value)return;const x={drag:M=>{w(M)},end:M=>{w(M)}};Vh(a.value,x),Vh(s.value,x),C()}),{thumb:s,bar:a,thumbLeft:u,thumbTop:f,background:h,handleClick:b,update:C,ns:n}}});function Kie(e,n,i,s,a,u){return Q(),ve("div",{class:Y([e.ns.b(),e.ns.is("vertical",e.vertical)])},[Ce("div",{ref:"bar",class:Y(e.ns.e("bar")),style:fn({background:e.background}),onClick:n[0]||(n[0]=(...f)=>e.handleClick&&e.handleClick(...f))},null,6),Ce("div",{ref:"thumb",class:Y(e.ns.e("thumb")),style:fn({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var jie=Ht(Wie,[["render",Kie],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const qie=Ge({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const n=bt("color-hue-slider"),i=Yn(),s=re(),a=re(),u=re(0),f=re(0),h=z(()=>e.color.get("hue"));St(()=>h.value,()=>{w()});function _(C){C.target!==s.value&&y(C)}function y(C){if(!a.value||!s.value)return;const M=i.vnode.el.getBoundingClientRect(),{clientX:T,clientY:D}=xb(C);let F;if(e.vertical){let N=D-M.top;N=Math.min(N,M.height-s.value.offsetHeight/2),N=Math.max(s.value.offsetHeight/2,N),F=Math.round((N-s.value.offsetHeight/2)/(M.height-s.value.offsetHeight)*360)}else{let N=T-M.left;N=Math.min(N,M.width-s.value.offsetWidth/2),N=Math.max(s.value.offsetWidth/2,N),F=Math.round((N-s.value.offsetWidth/2)/(M.width-s.value.offsetWidth)*360)}e.color.set("hue",F)}function S(){if(!s.value)return 0;const C=i.vnode.el;if(e.vertical)return 0;const x=e.color.get("hue");return C?Math.round(x*(C.offsetWidth-s.value.offsetWidth/2)/360):0}function b(){if(!s.value)return 0;const C=i.vnode.el;if(!e.vertical)return 0;const x=e.color.get("hue");return C?Math.round(x*(C.offsetHeight-s.value.offsetHeight/2)/360):0}function w(){u.value=S(),f.value=b()}return jn(()=>{if(!a.value||!s.value)return;const C={drag:x=>{y(x)},end:x=>{y(x)}};Vh(a.value,C),Vh(s.value,C),w()}),{bar:a,thumb:s,thumbLeft:u,thumbTop:f,hueValue:h,handleClick:_,update:w,ns:n}}});function Yie(e,n,i,s,a,u){return Q(),ve("div",{class:Y([e.ns.b(),e.ns.is("vertical",e.vertical)])},[Ce("div",{ref:"bar",class:Y(e.ns.e("bar")),onClick:n[0]||(n[0]=(...f)=>e.handleClick&&e.handleClick(...f))},null,2),Ce("div",{ref:"thumb",class:Y(e.ns.e("thumb")),style:fn({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var Jie=Ht(qie,[["render",Yie],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const Zie=Xt({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Ts,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:nt(Array)},validateEvent:{type:Boolean,default:!0}}),ese={[qn]:e=>Dn(e)||$i(e),[jr]:e=>Dn(e)||$i(e),activeChange:e=>Dn(e)||$i(e)},UP=Symbol("colorPickerContextKey"),j2=function(e,n,i){return[e,n*i/((e=(2-n)*i)<1?e:2-e)||0,e/2]},tse=function(e){return typeof e=="string"&&e.includes(".")&&Number.parseFloat(e)===1},nse=function(e){return typeof e=="string"&&e.includes("%")},bd=function(e,n){tse(e)&&(e="100%");const i=nse(e);return e=Math.min(n,Math.max(0,Number.parseFloat(`${e}`))),i&&(e=Number.parseInt(`${e*n}`,10)/100),Math.abs(e-n)<1e-6?1:e%n/Number.parseFloat(n)},q2={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},tg=e=>{e=Math.min(Math.round(e),255);const n=Math.floor(e/16),i=e%16;return`${q2[n]||n}${q2[i]||i}`},Y2=function({r:e,g:n,b:i}){return Number.isNaN(+e)||Number.isNaN(+n)||Number.isNaN(+i)?"":`#${tg(e)}${tg(n)}${tg(i)}`},i0={A:10,B:11,C:12,D:13,E:14,F:15},Oc=function(e){return e.length===2?(i0[e[0].toUpperCase()]||+e[0])*16+(i0[e[1].toUpperCase()]||+e[1]):i0[e[1].toUpperCase()]||+e[1]},rse=function(e,n,i){n=n/100,i=i/100;let s=n;const a=Math.max(i,.01);i*=2,n*=i<=1?i:2-i,s*=a<=1?a:2-a;const u=(i+n)/2,f=i===0?2*s/(a+s):2*n/(i+n);return{h:e,s:f*100,v:u*100}},J2=(e,n,i)=>{e=bd(e,255),n=bd(n,255),i=bd(i,255);const s=Math.max(e,n,i),a=Math.min(e,n,i);let u;const f=s,h=s-a,_=s===0?0:h/s;if(s===a)u=0;else{switch(s){case e:{u=(n-i)/h+(n<i?6:0);break}case n:{u=(i-e)/h+2;break}case i:{u=(e-n)/h+4;break}}u/=6}return{h:u*360,s:_*100,v:f*100}},Yf=function(e,n,i){e=bd(e,360)*6,n=bd(n,100),i=bd(i,100);const s=Math.floor(e),a=e-s,u=i*(1-n),f=i*(1-a*n),h=i*(1-(1-a)*n),_=s%6,y=[i,f,u,u,h,i][_],S=[h,i,i,f,u,u][_],b=[u,u,h,i,i,f][_];return{r:Math.round(y*255),g:Math.round(S*255),b:Math.round(b*255)}};class mh{constructor(n={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const i in n)lr(n,i)&&(this[i]=n[i]);n.value?this.fromString(n.value):this.doOnChange()}set(n,i){if(arguments.length===1&&typeof n=="object"){for(const s in n)lr(n,s)&&this.set(s,n[s]);return}this[`_${n}`]=i,this.doOnChange()}get(n){return n==="alpha"?Math.floor(this[`_${n}`]):this[`_${n}`]}toRgb(){return Yf(this._hue,this._saturation,this._value)}fromString(n){if(!n){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const i=(s,a,u)=>{this._hue=Math.max(0,Math.min(360,s)),this._saturation=Math.max(0,Math.min(100,a)),this._value=Math.max(0,Math.min(100,u)),this.doOnChange()};if(n.includes("hsl")){const s=n.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,u)=>u>2?Number.parseFloat(a):Number.parseInt(a,10));if(s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3){const{h:a,s:u,v:f}=rse(s[0],s[1],s[2]);i(a,u,f)}}else if(n.includes("hsv")){const s=n.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,u)=>u>2?Number.parseFloat(a):Number.parseInt(a,10));s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3&&i(s[0],s[1],s[2])}else if(n.includes("rgb")){const s=n.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,u)=>u>2?Number.parseFloat(a):Number.parseInt(a,10));if(s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3){const{h:a,s:u,v:f}=J2(s[0],s[1],s[2]);i(a,u,f)}}else if(n.includes("#")){const s=n.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(s))return;let a,u,f;s.length===3?(a=Oc(s[0]+s[0]),u=Oc(s[1]+s[1]),f=Oc(s[2]+s[2])):(s.length===6||s.length===8)&&(a=Oc(s.slice(0,2)),u=Oc(s.slice(2,4)),f=Oc(s.slice(4,6))),s.length===8?this._alpha=Oc(s.slice(6))/255*100:(s.length===3||s.length===6)&&(this._alpha=100);const{h,s:_,v:y}=J2(a,u,f);i(h,_,y)}}compare(n){return Math.abs(n._hue-this._hue)<2&&Math.abs(n._saturation-this._saturation)<1&&Math.abs(n._value-this._value)<1&&Math.abs(n._alpha-this._alpha)<1}doOnChange(){const{_hue:n,_saturation:i,_value:s,_alpha:a,format:u}=this;if(this.enableAlpha)switch(u){case"hsl":{const f=j2(n,i/100,s/100);this.value=`hsla(${n}, ${Math.round(f[1]*100)}%, ${Math.round(f[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${n}, ${Math.round(i)}%, ${Math.round(s)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${Y2(Yf(n,i,s))}${tg(a*255/100)}`;break}default:{const{r:f,g:h,b:_}=Yf(n,i,s);this.value=`rgba(${f}, ${h}, ${_}, ${this.get("alpha")/100})`}}else switch(u){case"hsl":{const f=j2(n,i/100,s/100);this.value=`hsl(${n}, ${Math.round(f[1]*100)}%, ${Math.round(f[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${n}, ${Math.round(i)}%, ${Math.round(s)}%)`;break}case"rgb":{const{r:f,g:h,b:_}=Yf(n,i,s);this.value=`rgb(${f}, ${h}, ${_})`;break}default:this.value=Y2(Yf(n,i,s))}}}const ise=Ge({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const n=bt("color-predefine"),{currentColor:i}=hn(UP),s=re(u(e.colors,e.color));St(()=>i.value,f=>{const h=new mh;h.fromString(f),s.value.forEach(_=>{_.selected=h.compare(_)})}),es(()=>{s.value=u(e.colors,e.color)});function a(f){e.color.fromString(e.colors[f])}function u(f,h){return f.map(_=>{const y=new mh;return y.enableAlpha=!0,y.format="rgba",y.fromString(_),y.selected=y.value===h.value,y})}return{rgbaColors:s,handleSelect:a,ns:n}}}),sse=["onClick"];function ose(e,n,i,s,a,u){return Q(),ve("div",{class:Y(e.ns.b())},[Ce("div",{class:Y(e.ns.e("colors"))},[(Q(!0),ve(mn,null,cr(e.rgbaColors,(f,h)=>(Q(),ve("div",{key:e.colors[h],class:Y([e.ns.e("color-selector"),e.ns.is("alpha",f._alpha<100),{selected:f.selected}]),onClick:_=>e.handleSelect(h)},[Ce("div",{style:fn({backgroundColor:f.value})},null,4)],10,sse))),128))],2)],2)}var ase=Ht(ise,[["render",ose],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const lse=Ge({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const n=bt("color-svpanel"),i=Yn(),s=re(0),a=re(0),u=re("hsl(0, 100%, 50%)"),f=z(()=>{const y=e.color.get("hue"),S=e.color.get("value");return{hue:y,value:S}});function h(){const y=e.color.get("saturation"),S=e.color.get("value"),b=i.vnode.el,{clientWidth:w,clientHeight:C}=b;a.value=y*w/100,s.value=(100-S)*C/100,u.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function _(y){const b=i.vnode.el.getBoundingClientRect(),{clientX:w,clientY:C}=xb(y);let x=w-b.left,M=C-b.top;x=Math.max(0,x),x=Math.min(x,b.width),M=Math.max(0,M),M=Math.min(M,b.height),a.value=x,s.value=M,e.color.set({saturation:x/b.width*100,value:100-M/b.height*100})}return St(()=>f.value,()=>{h()}),jn(()=>{Vh(i.vnode.el,{drag:y=>{_(y)},end:y=>{_(y)}}),h()}),{cursorTop:s,cursorLeft:a,background:u,colorValue:f,handleDrag:_,update:h,ns:n}}}),cse=Ce("div",null,null,-1),use=[cse];function dse(e,n,i,s,a,u){return Q(),ve("div",{class:Y(e.ns.b()),style:fn({backgroundColor:e.background})},[Ce("div",{class:Y(e.ns.e("white"))},null,2),Ce("div",{class:Y(e.ns.e("black"))},null,2),Ce("div",{class:Y(e.ns.e("cursor")),style:fn({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},use,6)],6)}var fse=Ht(lse,[["render",dse],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const hse=["id","aria-label","aria-labelledby","aria-description","tabindex","onKeydown"],pse=Ge({name:"ElColorPicker"}),mse=Ge({...pse,props:Zie,emits:ese,setup(e,{expose:n,emit:i}){const s=e,{t:a}=yr(),u=bt("color"),{formItem:f}=ys(),h=Ci(),_=Jo(),{inputId:y,isLabeledByFormItem:S}=oc(s,{formItemContext:f}),b=re(),w=re(),C=re(),x=re();let M=!0;const T=Tr(new mh({enableAlpha:s.showAlpha,format:s.colorFormat||"",value:s.modelValue})),D=re(!1),F=re(!1),N=re(""),G=z(()=>!s.modelValue&&!F.value?"transparent":ee(T,s.showAlpha)),U=z(()=>!s.modelValue&&!F.value?"":T.value),$=z(()=>S.value?void 0:s.label||a("el.colorpicker.defaultLabel")),de=z(()=>S.value?f==null?void 0:f.labelId:void 0);function ee(ie,fe){if(!(ie instanceof mh))throw new TypeError("color should be instance of _color Class");const{r:le,g:ke,b:ze}=ie.toRgb();return fe?`rgba(${le}, ${ke}, ${ze}, ${ie.get("alpha")/100})`:`rgb(${le}, ${ke}, ${ze})`}function se(ie){D.value=ie}const oe=As(se,100);function Ie(){oe(!1),pe()}function pe(){dn(()=>{s.modelValue?T.fromString(s.modelValue):(T.value="",dn(()=>{F.value=!1}))})}function ae(){_.value||oe(!D.value)}function ye(){T.fromString(N.value)}function be(){const ie=T.value;i(qn,ie),i("change",ie),s.validateEvent&&(f==null||f.validate("change").catch(fe=>void 0)),oe(!1),dn(()=>{const fe=new mh({enableAlpha:s.showAlpha,format:s.colorFormat||"",value:s.modelValue});T.compare(fe)||pe()})}function _e(){oe(!1),i(qn,null),i("change",null),s.modelValue!==null&&s.validateEvent&&(f==null||f.validate("change").catch(ie=>void 0)),pe()}return jn(()=>{s.modelValue&&(N.value=U.value)}),St(()=>s.modelValue,ie=>{ie?ie&&ie!==T.value&&(M=!1,T.fromString(ie)):F.value=!1}),St(()=>U.value,ie=>{N.value=ie,M&&i("activeChange",ie),M=!0}),St(()=>T.value,()=>{!s.modelValue&&!F.value&&(F.value=!0)}),St(()=>D.value,()=>{dn(()=>{var ie,fe,le;(ie=b.value)==null||ie.update(),(fe=w.value)==null||fe.update(),(le=C.value)==null||le.update()})}),ir(UP,{currentColor:U}),n({color:T}),(ie,fe)=>(Q(),rt(p(Ps),{ref_key:"popper",ref:x,visible:D.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[p(u).be("picker","panel"),p(u).b("dropdown"),ie.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${p(u).namespace.value}-zoom-in-top`,persistent:""},{content:Ue(()=>[Hn((Q(),ve("div",null,[Ce("div",{class:Y(p(u).be("dropdown","main-wrapper"))},[Re(Jie,{ref_key:"hue",ref:b,class:"hue-slider",color:p(T),vertical:""},null,8,["color"]),Re(fse,{ref:"svPanel",color:p(T)},null,8,["color"])],2),ie.showAlpha?(Q(),rt(jie,{key:0,ref_key:"alpha",ref:C,color:p(T)},null,8,["color"])):Ye("v-if",!0),ie.predefine?(Q(),rt(ase,{key:1,ref:"predefine",color:p(T),colors:ie.predefine},null,8,["color","colors"])):Ye("v-if",!0),Ce("div",{class:Y(p(u).be("dropdown","btns"))},[Ce("span",{class:Y(p(u).be("dropdown","value"))},[Re(p(os),{modelValue:N.value,"onUpdate:modelValue":fe[0]||(fe[0]=le=>N.value=le),"validate-event":!1,size:"small",onKeyup:fr(ye,["enter"]),onBlur:ye},null,8,["modelValue","onKeyup"])],2),Re(p(ns),{class:Y(p(u).be("dropdown","link-btn")),text:"",size:"small",onClick:_e},{default:Ue(()=>[hr(Qt(p(a)("el.colorpicker.clear")),1)]),_:1},8,["class"]),Re(p(ns),{plain:"",size:"small",class:Y(p(u).be("dropdown","btn")),onClick:be},{default:Ue(()=>[hr(Qt(p(a)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)])),[[p(Jl),Ie]])]),default:Ue(()=>[Ce("div",{id:p(y),class:Y([p(u).b("picker"),p(u).is("disabled",p(_)),p(u).bm("picker",p(h))]),role:"button","aria-label":p($),"aria-labelledby":p(de),"aria-description":p(a)("el.colorpicker.description",{color:ie.modelValue||""}),tabindex:ie.tabindex,onKeydown:fr(ae,["enter"])},[p(_)?(Q(),ve("div",{key:0,class:Y(p(u).be("picker","mask"))},null,2)):Ye("v-if",!0),Ce("div",{class:Y(p(u).be("picker","trigger")),onClick:ae},[Ce("span",{class:Y([p(u).be("picker","color"),p(u).is("alpha",ie.showAlpha)])},[Ce("span",{class:Y(p(u).be("picker","color-inner")),style:fn({backgroundColor:p(G)})},[Hn(Re(p(un),{class:Y([p(u).be("picker","icon"),p(u).is("icon-arrow-down")])},{default:Ue(()=>[Re(p(nc))]),_:1},8,["class"]),[[_r,ie.modelValue||F.value]]),!ie.modelValue&&!F.value?(Q(),rt(p(un),{key:0,class:Y([p(u).be("picker","empty"),p(u).is("icon-close")])},{default:Ue(()=>[Re(p(zo))]),_:1},8,["class"])):Ye("v-if",!0)],6)],2)],2)],42,hse)]),_:1},8,["visible","popper-class","transition"]))}});var gse=Ht(mse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);const vse=Jn(gse),ry={},_se=Xt({a11y:{type:Boolean,default:!0},locale:{type:nt(Object)},size:Ts,button:{type:nt(Object)},experimentalFeatures:{type:nt(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:nt(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),Ase=Ge({name:"ElConfigProvider",props:_se,setup(e,{slots:n}){St(()=>e.message,s=>{Object.assign(ry,s!=null?s:{})},{immediate:!0,deep:!0});const i=mT(e);return()=>vt(n,"default",{config:i==null?void 0:i.value})}}),yse=Jn(Ase),bse=Ge({name:"ElContainer"}),Sse=Ge({...bse,props:{direction:{type:String}},setup(e){const n=e,i=Ki(),s=bt("container"),a=z(()=>n.direction==="vertical"?!0:n.direction==="horizontal"?!1:i&&i.default?i.default().some(f=>{const h=f.type.name;return h==="ElHeader"||h==="ElFooter"}):!1);return(u,f)=>(Q(),ve("section",{class:Y([p(s).b(),p(s).is("vertical",p(a))])},[vt(u.$slots,"default")],2))}});var Ese=Ht(Sse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const wse=Ge({name:"ElAside"}),Cse=Ge({...wse,props:{width:{type:String,default:null}},setup(e){const n=e,i=bt("aside"),s=z(()=>n.width?i.cssVarBlock({width:n.width}):{});return(a,u)=>(Q(),ve("aside",{class:Y(p(i).b()),style:fn(p(s))},[vt(a.$slots,"default")],6))}});var HP=Ht(Cse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const Ise=Ge({name:"ElFooter"}),Mse=Ge({...Ise,props:{height:{type:String,default:null}},setup(e){const n=e,i=bt("footer"),s=z(()=>n.height?i.cssVarBlock({height:n.height}):{});return(a,u)=>(Q(),ve("footer",{class:Y(p(i).b()),style:fn(p(s))},[vt(a.$slots,"default")],6))}});var QP=Ht(Mse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const xse=Ge({name:"ElHeader"}),Rse=Ge({...xse,props:{height:{type:String,default:null}},setup(e){const n=e,i=bt("header"),s=z(()=>n.height?i.cssVarBlock({height:n.height}):{});return(a,u)=>(Q(),ve("header",{class:Y(p(i).b()),style:fn(p(s))},[vt(a.$slots,"default")],6))}});var XP=Ht(Rse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const Tse=Ge({name:"ElMain"}),Pse=Ge({...Tse,setup(e){const n=bt("main");return(i,s)=>(Q(),ve("main",{class:Y(p(n).b())},[vt(i.$slots,"default")],2))}});var zP=Ht(Pse,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const Nse=Jn(Ese,{Aside:HP,Footer:QP,Header:XP,Main:zP}),Dse=fi(HP),Bse=fi(QP),kse=fi(XP),Lse=fi(zP);var $P={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(ho,function(){return function(i,s){var a=s.prototype,u=a.format;a.format=function(f){var h=this,_=this.$locale();if(!this.isValid())return u.bind(this)(f);var y=this.$utils(),S=(f||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(b){switch(b){case"Q":return Math.ceil((h.$M+1)/3);case"Do":return _.ordinal(h.$D);case"gggg":return h.weekYear();case"GGGG":return h.isoWeekYear();case"wo":return _.ordinal(h.week(),"W");case"w":case"ww":return y.s(h.week(),b==="w"?1:2,"0");case"W":case"WW":return y.s(h.isoWeek(),b==="W"?1:2,"0");case"k":case"kk":return y.s(String(h.$H===0?24:h.$H),b==="k"?1:2,"0");case"X":return Math.floor(h.$d.getTime()/1e3);case"x":return h.$d.getTime();case"z":return"["+h.offsetName()+"]";case"zzz":return"["+h.offsetName("long")+"]";default:return b}});return u.bind(this)(S)}}})})($P);const Ose=$P.exports;var WP={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(ho,function(){var i="week",s="year";return function(a,u,f){var h=u.prototype;h.week=function(_){if(_===void 0&&(_=null),_!==null)return this.add(7*(_-this.week()),"day");var y=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var S=f(this).startOf(s).add(1,s).date(y),b=f(this).endOf(i);if(S.isBefore(b))return 1}var w=f(this).startOf(s).date(y).startOf(i).subtract(1,"millisecond"),C=this.diff(w,i,!0);return C<0?f(this).startOf("week").week():Math.ceil(C)},h.weeks=function(_){return _===void 0&&(_=null),this.week(_)}}})})(WP);const Fse=WP.exports;var KP={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(ho,function(){return function(i,s){s.prototype.weekYear=function(){var a=this.month(),u=this.week(),f=this.year();return u===1&&a===11?f+1:a===0&&u>=52?f-1:f}}})})(KP);const Vse=KP.exports;var jP={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(ho,function(){return function(i,s,a){s.prototype.dayOfYear=function(u){var f=Math.round((a(this).startOf("day")-a(this).startOf("year"))/864e5)+1;return u==null?f:this.add(u-f,"day")}}})})(jP);const Gse=jP.exports;var qP={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(ho,function(){return function(i,s){s.prototype.isSameOrAfter=function(a,u){return this.isSame(a,u)||this.isAfter(a,u)}}})})(qP);const Use=qP.exports;var YP={exports:{}};(function(e,n){(function(i,s){e.exports=s()})(ho,function(){return function(i,s){s.prototype.isSameOrBefore=function(a,u){return this.isSame(a,u)||this.isBefore(a,u)}}})})(YP);const Hse=YP.exports,Qse=Xt({type:{type:nt(String),default:"date"}}),Xse=["date","dates","year","month","week","range"],i1=Xt({disabledDate:{type:nt(Function)},date:{type:nt(Object),required:!0},minDate:{type:nt(Object)},maxDate:{type:nt(Object)},parsedValue:{type:nt([Object,Array])},rangeState:{type:nt(Object),default:()=>({endDate:null,selecting:!1})}}),JP=Xt({type:{type:nt(String),required:!0,values:zq}}),ZP=Xt({unlinkPanels:Boolean,parsedValue:{type:nt(Array)}}),eN=e=>({type:String,values:Xse,default:e}),zse=Xt({...JP,parsedValue:{type:nt([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),$se=Xt({...i1,cellClassName:{type:nt(Function)},showWeekNumber:Boolean,selectionMode:eN("date")}),iy=e=>{if(!sn(e))return!1;const[n,i]=e;return Kn.isDayjs(n)&&Kn.isDayjs(i)&&n.isSameOrBefore(i)},tN=(e,{lang:n,unit:i,unlinkPanels:s})=>{let a;if(sn(e)){let[u,f]=e.map(h=>Kn(h).locale(n));return s||(f=u.add(1,i)),[u,f]}else e?a=Kn(e):a=Kn();return a=a.locale(n),[a,a.add(1,i)]},Wse=(e,n,{columnIndexOffset:i,startDate:s,nextEndDate:a,now:u,unit:f,relativeDateGetter:h,setCellMetadata:_,setRowMetadata:y})=>{for(let S=0;S<e.row;S++){const b=n[S];for(let w=0;w<e.column;w++){let C=b[w+i];C||(C={row:S,column:w,type:"normal",inRange:!1,start:!1,end:!1});const x=S*e.column+w,M=h(x);C.dayjs=M,C.date=M.toDate(),C.timestamp=M.valueOf(),C.type="normal",C.inRange=!!(s&&M.isSameOrAfter(s,f)&&a&&M.isSameOrBefore(a,f))||!!(s&&M.isSameOrBefore(s,f)&&a&&M.isSameOrAfter(a,f)),s!=null&&s.isSameOrAfter(a)?(C.start=!!a&&M.isSame(a,f),C.end=s&&M.isSame(s,f)):(C.start=!!s&&M.isSame(s,f),C.end=!!a&&M.isSame(a,f)),M.isSame(u,f)&&(C.type="today"),_==null||_(C,{rowIndex:S,columnIndex:w}),b[w+i]=C}y==null||y(b)}},Kse=Xt({cell:{type:nt(Object)}});var jse=Ge({name:"ElDatePickerCell",props:Kse,setup(e){const n=bt("date-table-cell"),{slots:i}=hn(Lb);return()=>{const{cell:s}=e;if(i.default){const a=i.default(s).filter(u=>u.patchFlag!==-2&&u.type.toString()!=="Symbol(Comment)");if(a.length)return a}return Re("div",{class:n.b()},[Re("span",{class:n.e("text")},[s==null?void 0:s.text])])}}});const qse=["aria-label"],Yse={key:0,scope:"col"},Jse=["aria-label"],Zse=["aria-current","aria-selected","tabindex"],eoe=Ge({__name:"basic-date-table",props:$se,emits:["changerange","pick","select"],setup(e,{expose:n,emit:i}){const s=e,a=bt("date-table"),{t:u,lang:f}=yr(),h=re(),_=re(),y=re(),S=re(),b=re([[],[],[],[],[],[]]);let w=!1;const C=s.date.$locale().weekStart||7,x=s.date.locale("en").localeData().weekdaysShort().map(Te=>Te.toLowerCase()),M=z(()=>C>3?7-C:-C),T=z(()=>{const Te=s.date.startOf("month");return Te.subtract(Te.day()||7,"day")}),D=z(()=>x.concat(x).slice(C,C+7)),F=z(()=>IR(ee.value).some(Te=>Te.isCurrent)),N=z(()=>{const Te=s.date.startOf("month"),Xe=Te.day()||7,_t=Te.daysInMonth(),wt=Te.subtract(1,"month").daysInMonth();return{startOfMonthDay:Xe,dateCountOfMonth:_t,dateCountOfLastMonth:wt}}),G=z(()=>s.selectionMode==="dates"?qa(s.parsedValue):[]),U=(Te,{count:Xe,rowIndex:_t,columnIndex:wt})=>{const{startOfMonthDay:xt,dateCountOfMonth:it,dateCountOfLastMonth:je}=p(N),ot=p(M);if(_t>=0&&_t<=1){const At=xt+ot<0?7+xt+ot:xt+ot;if(wt+_t*7>=At)return Te.text=Xe,!0;Te.text=je-(At-wt%7)+1+_t*7,Te.type="prev-month"}else return Xe<=it?Te.text=Xe:(Te.text=Xe-it,Te.type="next-month"),!0;return!1},$=(Te,{columnIndex:Xe,rowIndex:_t},wt)=>{const{disabledDate:xt,cellClassName:it}=s,je=p(G),ot=U(Te,{count:wt,rowIndex:_t,columnIndex:Xe}),At=Te.dayjs.toDate();return Te.selected=je.find(on=>on.valueOf()===Te.dayjs.valueOf()),Te.isSelected=!!Te.selected,Te.isCurrent=Ie(Te),Te.disabled=xt==null?void 0:xt(At),Te.customClass=it==null?void 0:it(At),ot},de=Te=>{if(s.selectionMode==="week"){const[Xe,_t]=s.showWeekNumber?[1,7]:[0,6],wt=ze(Te[Xe+1]);Te[Xe].inRange=wt,Te[Xe].start=wt,Te[_t].inRange=wt,Te[_t].end=wt}},ee=z(()=>{const{minDate:Te,maxDate:Xe,rangeState:_t,showWeekNumber:wt}=s,xt=M.value,it=b.value,je="day";let ot=1;if(wt)for(let At=0;At<6;At++)it[At][0]||(it[At][0]={type:"week",text:T.value.add(At*7+1,je).week()});return Wse({row:6,column:7},it,{startDate:Te,columnIndexOffset:wt?1:0,nextEndDate:_t.endDate||Xe||_t.selecting&&Te||null,now:Kn().locale(p(f)).startOf(je),unit:je,relativeDateGetter:At=>T.value.add(At-xt,je),setCellMetadata:(...At)=>{$(...At,ot)&&(ot+=1)},setRowMetadata:de}),it});St(()=>s.date,async()=>{var Te,Xe;(Te=h.value)!=null&&Te.contains(document.activeElement)&&(await dn(),(Xe=_.value)==null||Xe.focus())});const se=async()=>{var Te;(Te=_.value)==null||Te.focus()},oe=(Te="")=>["normal","today"].includes(Te),Ie=Te=>s.selectionMode==="date"&&oe(Te.type)&&pe(Te,s.parsedValue),pe=(Te,Xe)=>Xe?Kn(Xe).locale(f.value).isSame(s.date.date(Number(Te.text)),"day"):!1,ae=Te=>{const Xe=[];return oe(Te.type)&&!Te.disabled?(Xe.push("available"),Te.type==="today"&&Xe.push("today")):Xe.push(Te.type),Ie(Te)&&Xe.push("current"),Te.inRange&&(oe(Te.type)||s.selectionMode==="week")&&(Xe.push("in-range"),Te.start&&Xe.push("start-date"),Te.end&&Xe.push("end-date")),Te.disabled&&Xe.push("disabled"),Te.selected&&Xe.push("selected"),Te.customClass&&Xe.push(Te.customClass),Xe.join(" ")},ye=(Te,Xe)=>{const _t=Te*7+(Xe-(s.showWeekNumber?1:0))-M.value;return T.value.add(_t,"day")},be=Te=>{var Xe;if(!s.rangeState.selecting)return;let _t=Te.target;if(_t.tagName==="SPAN"&&(_t=(Xe=_t.parentNode)==null?void 0:Xe.parentNode),_t.tagName==="DIV"&&(_t=_t.parentNode),_t.tagName!=="TD")return;const wt=_t.parentNode.rowIndex-1,xt=_t.cellIndex;ee.value[wt][xt].disabled||(wt!==y.value||xt!==S.value)&&(y.value=wt,S.value=xt,i("changerange",{selecting:!0,endDate:ye(wt,xt)}))},_e=Te=>!F.value&&(Te==null?void 0:Te.text)===1&&Te.type==="normal"||Te.isCurrent,ie=Te=>{w||F.value||s.selectionMode!=="date"||ke(Te,!0)},fe=Te=>{!Te.target.closest("td")||(w=!0)},le=Te=>{!Te.target.closest("td")||(w=!1)},ke=(Te,Xe=!1)=>{const _t=Te.target.closest("td");if(!_t)return;const wt=_t.parentNode.rowIndex-1,xt=_t.cellIndex,it=ee.value[wt][xt];if(it.disabled||it.type==="week")return;const je=ye(wt,xt);if(s.selectionMode==="range")!s.rangeState.selecting||!s.minDate?(i("pick",{minDate:je,maxDate:null}),i("select",!0)):(je>=s.minDate?i("pick",{minDate:s.minDate,maxDate:je}):i("pick",{minDate:je,maxDate:s.minDate}),i("select",!1));else if(s.selectionMode==="date")i("pick",je,Xe);else if(s.selectionMode==="week"){const ot=je.week(),At=`${je.year()}w${ot}`;i("pick",{year:je.year(),week:ot,value:At,date:je.startOf("week")})}else if(s.selectionMode==="dates"){const ot=it.selected?qa(s.parsedValue).filter(At=>(At==null?void 0:At.valueOf())!==je.valueOf()):qa(s.parsedValue).concat([je]);i("pick",ot)}},ze=Te=>{if(s.selectionMode!=="week")return!1;let Xe=s.date.startOf("day");if(Te.type==="prev-month"&&(Xe=Xe.subtract(1,"month")),Te.type==="next-month"&&(Xe=Xe.add(1,"month")),Xe=Xe.date(Number.parseInt(Te.text,10)),s.parsedValue&&!Array.isArray(s.parsedValue)){const _t=(s.parsedValue.day()-C+7)%7-1;return s.parsedValue.subtract(_t,"day").isSame(Xe,"day")}return!1};return n({focus:se}),(Te,Xe)=>(Q(),ve("table",{role:"grid","aria-label":p(u)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:Y([p(a).b(),{"is-week-mode":Te.selectionMode==="week"}]),onClick:ke,onMousemove:be,onMousedown:fe,onMouseup:le},[Ce("tbody",{ref_key:"tbodyRef",ref:h},[Ce("tr",null,[Te.showWeekNumber?(Q(),ve("th",Yse,Qt(p(u)("el.datepicker.week")),1)):Ye("v-if",!0),(Q(!0),ve(mn,null,cr(p(D),(_t,wt)=>(Q(),ve("th",{key:wt,scope:"col","aria-label":p(u)("el.datepicker.weeksFull."+_t)},Qt(p(u)("el.datepicker.weeks."+_t)),9,Jse))),128))]),(Q(!0),ve(mn,null,cr(p(ee),(_t,wt)=>(Q(),ve("tr",{key:wt,class:Y([p(a).e("row"),{current:ze(_t[1])}])},[(Q(!0),ve(mn,null,cr(_t,(xt,it)=>(Q(),ve("td",{key:`${wt}.${it}`,ref_for:!0,ref:je=>_e(xt)&&(_.value=je),class:Y(ae(xt)),"aria-current":xt.isCurrent?"date":void 0,"aria-selected":xt.isCurrent,tabindex:_e(xt)?0:-1,onFocus:ie},[Re(p(jse),{cell:xt},null,8,["cell"])],42,Zse))),128))],2))),128))],512)],42,qse))}});var sy=Ht(eoe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const toe=Xt({...i1,selectionMode:eN("month")}),noe=["aria-label"],roe=["aria-selected","aria-label","tabindex","onKeydown"],ioe={class:"cell"},soe=Ge({__name:"basic-month-table",props:toe,emits:["changerange","pick","select"],setup(e,{expose:n,emit:i}){const s=e,a=(G,U,$)=>{const de=Kn().locale($).startOf("month").month(U).year(G),ee=de.daysInMonth();return Ql(ee).map(se=>de.add(se,"day").toDate())},u=bt("month-table"),{t:f,lang:h}=yr(),_=re(),y=re(),S=re(s.date.locale("en").localeData().monthsShort().map(G=>G.toLowerCase())),b=re([[],[],[]]),w=re(),C=re(),x=z(()=>{var G,U;const $=b.value,de=Kn().locale(h.value).startOf("month");for(let ee=0;ee<3;ee++){const se=$[ee];for(let oe=0;oe<4;oe++){const Ie=se[oe]||(se[oe]={row:ee,column:oe,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});Ie.type="normal";const pe=ee*4+oe,ae=s.date.startOf("year").month(pe),ye=s.rangeState.endDate||s.maxDate||s.rangeState.selecting&&s.minDate||null;Ie.inRange=!!(s.minDate&&ae.isSameOrAfter(s.minDate,"month")&&ye&&ae.isSameOrBefore(ye,"month"))||!!(s.minDate&&ae.isSameOrBefore(s.minDate,"month")&&ye&&ae.isSameOrAfter(ye,"month")),(G=s.minDate)!=null&&G.isSameOrAfter(ye)?(Ie.start=!!(ye&&ae.isSame(ye,"month")),Ie.end=s.minDate&&ae.isSame(s.minDate,"month")):(Ie.start=!!(s.minDate&&ae.isSame(s.minDate,"month")),Ie.end=!!(ye&&ae.isSame(ye,"month"))),de.isSame(ae)&&(Ie.type="today"),Ie.text=pe,Ie.disabled=((U=s.disabledDate)==null?void 0:U.call(s,ae.toDate()))||!1}}return $}),M=()=>{var G;(G=y.value)==null||G.focus()},T=G=>{const U={},$=s.date.year(),de=new Date,ee=G.text;return U.disabled=s.disabledDate?a($,ee,h.value).every(s.disabledDate):!1,U.current=qa(s.parsedValue).findIndex(se=>Kn.isDayjs(se)&&se.year()===$&&se.month()===ee)>=0,U.today=de.getFullYear()===$&&de.getMonth()===ee,G.inRange&&(U["in-range"]=!0,G.start&&(U["start-date"]=!0),G.end&&(U["end-date"]=!0)),U},D=G=>{const U=s.date.year(),$=G.text;return qa(s.date).findIndex(de=>de.year()===U&&de.month()===$)>=0},F=G=>{var U;if(!s.rangeState.selecting)return;let $=G.target;if($.tagName==="A"&&($=(U=$.parentNode)==null?void 0:U.parentNode),$.tagName==="DIV"&&($=$.parentNode),$.tagName!=="TD")return;const de=$.parentNode.rowIndex,ee=$.cellIndex;x.value[de][ee].disabled||(de!==w.value||ee!==C.value)&&(w.value=de,C.value=ee,i("changerange",{selecting:!0,endDate:s.date.startOf("year").month(de*4+ee)}))},N=G=>{var U;const $=(U=G.target)==null?void 0:U.closest("td");if(($==null?void 0:$.tagName)!=="TD"||Xo($,"disabled"))return;const de=$.cellIndex,se=$.parentNode.rowIndex*4+de,oe=s.date.startOf("year").month(se);s.selectionMode==="range"?s.rangeState.selecting?(s.minDate&&oe>=s.minDate?i("pick",{minDate:s.minDate,maxDate:oe}):i("pick",{minDate:oe,maxDate:s.minDate}),i("select",!1)):(i("pick",{minDate:oe,maxDate:null}),i("select",!0)):i("pick",se)};return St(()=>s.date,async()=>{var G,U;(G=_.value)!=null&&G.contains(document.activeElement)&&(await dn(),(U=y.value)==null||U.focus())}),n({focus:M}),(G,U)=>(Q(),ve("table",{role:"grid","aria-label":p(f)("el.datepicker.monthTablePrompt"),class:Y(p(u).b()),onClick:N,onMousemove:F},[Ce("tbody",{ref_key:"tbodyRef",ref:_},[(Q(!0),ve(mn,null,cr(p(x),($,de)=>(Q(),ve("tr",{key:de},[(Q(!0),ve(mn,null,cr($,(ee,se)=>(Q(),ve("td",{key:se,ref_for:!0,ref:oe=>D(ee)&&(y.value=oe),class:Y(T(ee)),"aria-selected":`${D(ee)}`,"aria-label":p(f)(`el.datepicker.month${+ee.text+1}`),tabindex:D(ee)?0:-1,onKeydown:[fr(Nn(N,["prevent","stop"]),["space"]),fr(Nn(N,["prevent","stop"]),["enter"])]},[Ce("div",null,[Ce("span",ioe,Qt(p(f)("el.datepicker.months."+S.value[ee.text])),1)])],42,roe))),128))]))),128))],512)],42,noe))}});var oy=Ht(soe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:ooe,disabledDate:aoe,parsedValue:loe}=i1,coe=Xt({date:ooe,disabledDate:aoe,parsedValue:loe}),uoe=["aria-label"],doe=["aria-selected","tabindex","onKeydown"],foe={class:"cell"},hoe={key:1},poe=Ge({__name:"basic-year-table",props:coe,emits:["pick"],setup(e,{expose:n,emit:i}){const s=e,a=(M,T)=>{const D=Kn(String(M)).locale(T).startOf("year"),N=D.endOf("year").dayOfYear();return Ql(N).map(G=>D.add(G,"day").toDate())},u=bt("year-table"),{t:f,lang:h}=yr(),_=re(),y=re(),S=z(()=>Math.floor(s.date.year()/10)*10),b=()=>{var M;(M=y.value)==null||M.focus()},w=M=>{const T={},D=Kn().locale(h.value);return T.disabled=s.disabledDate?a(M,h.value).every(s.disabledDate):!1,T.current=qa(s.parsedValue).findIndex(F=>F.year()===M)>=0,T.today=D.year()===M,T},C=M=>M===S.value&&s.date.year()<S.value&&s.date.year()>S.value+9||qa(s.date).findIndex(T=>T.year()===M)>=0,x=M=>{const D=M.target.closest("td");if(D&&D.textContent){if(Xo(D,"disabled"))return;const F=D.textContent||D.innerText;i("pick",Number(F))}};return St(()=>s.date,async()=>{var M,T;(M=_.value)!=null&&M.contains(document.activeElement)&&(await dn(),(T=y.value)==null||T.focus())}),n({focus:b}),(M,T)=>(Q(),ve("table",{role:"grid","aria-label":p(f)("el.datepicker.yearTablePrompt"),class:Y(p(u).b()),onClick:x},[Ce("tbody",{ref_key:"tbodyRef",ref:_},[(Q(),ve(mn,null,cr(3,(D,F)=>Ce("tr",{key:F},[(Q(),ve(mn,null,cr(4,(N,G)=>(Q(),ve(mn,{key:F+"_"+G},[F*4+G<10?(Q(),ve("td",{key:0,ref_for:!0,ref:U=>C(p(S)+F*4+G)&&(y.value=U),class:Y(["available",w(p(S)+F*4+G)]),"aria-selected":`${C(p(S)+F*4+G)}`,tabindex:C(p(S)+F*4+G)?0:-1,onKeydown:[fr(Nn(x,["prevent","stop"]),["space"]),fr(Nn(x,["prevent","stop"]),["enter"])]},[Ce("span",foe,Qt(p(S)+F*4+G),1)],42,doe)):(Q(),ve("td",hoe))],64))),64))])),64))],512)],10,uoe))}});var moe=Ht(poe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const goe=["onClick"],voe=["aria-label"],_oe=["aria-label"],Aoe=["aria-label"],yoe=["aria-label"],boe=Ge({__name:"panel-date-pick",props:zse,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:n}){const i=e,s=(pt,yt,tn)=>!0,a=bt("picker-panel"),u=bt("date-picker"),f=Zh(),h=Ki(),{t:_,lang:y}=yr(),S=hn("EP_PICKER_BASE"),b=hn(hv),{shortcuts:w,disabledDate:C,cellClassName:x,defaultTime:M,arrowControl:T}=S.props,D=si(S.props,"defaultValue"),F=re(),N=re(Kn().locale(y.value)),G=z(()=>Kn(M).locale(y.value)),U=z(()=>N.value.month()),$=z(()=>N.value.year()),de=re([]),ee=re(null),se=re(null),oe=pt=>de.value.length>0?s(pt,de.value,i.format||"HH:mm:ss"):!0,Ie=pt=>M&&!on.value?G.value.year(pt.year()).month(pt.month()).date(pt.date()):wt.value?pt.millisecond(0):pt.startOf("day"),pe=(pt,...yt)=>{if(!pt)n("pick",pt,...yt);else if(sn(pt)){const tn=pt.map(Ie);n("pick",tn,...yt)}else n("pick",Ie(pt),...yt);ee.value=null,se.value=null},ae=(pt,yt)=>{if(le.value==="date"){pt=pt;let tn=i.parsedValue?i.parsedValue.year(pt.year()).month(pt.month()).date(pt.date()):pt;oe(tn)||(tn=de.value[0][0].year(pt.year()).month(pt.month()).date(pt.date())),N.value=tn,pe(tn,wt.value||yt)}else le.value==="week"?pe(pt.date):le.value==="dates"&&pe(pt,!0)},ye=pt=>{const yt=pt?"add":"subtract";N.value=N.value[yt](1,"month"),Gn("month")},be=pt=>{const yt=N.value,tn=pt?"add":"subtract";N.value=_e.value==="year"?yt[tn](10,"year"):yt[tn](1,"year"),Gn("year")},_e=re("date"),ie=z(()=>{const pt=_("el.datepicker.year");if(_e.value==="year"){const yt=Math.floor($.value/10)*10;return pt?`${yt} ${pt} - ${yt+9} ${pt}`:`${yt} - ${yt+9}`}return`${$.value} ${pt}`}),fe=pt=>{const yt=Tn(pt.value)?pt.value():pt.value;if(yt){pe(Kn(yt).locale(y.value));return}pt.onClick&&pt.onClick({attrs:f,slots:h,emit:n})},le=z(()=>{const{type:pt}=i;return["week","month","year","dates"].includes(pt)?pt:"date"}),ke=z(()=>le.value==="date"?_e.value:le.value),ze=z(()=>!!w.length),Te=async pt=>{N.value=N.value.startOf("month").month(pt),le.value==="month"?pe(N.value,!1):(_e.value="date",["month","year","date","week"].includes(le.value)&&(pe(N.value,!0),await dn(),en())),Gn("month")},Xe=async pt=>{le.value==="year"?(N.value=N.value.startOf("year").year(pt),pe(N.value,!1)):(N.value=N.value.year(pt),_e.value="month",["month","year","date","week"].includes(le.value)&&(pe(N.value,!0),await dn(),en())),Gn("year")},_t=async pt=>{_e.value=pt,await dn(),en()},wt=z(()=>i.type==="datetime"||i.type==="datetimerange"),xt=z(()=>wt.value||le.value==="dates"),it=()=>{if(le.value==="dates")pe(i.parsedValue);else{let pt=i.parsedValue;if(!pt){const yt=Kn(M).locale(y.value),tn=zt();pt=yt.year(tn.year()).month(tn.month()).date(tn.date())}N.value=pt,pe(pt)}},je=()=>{const yt=Kn().locale(y.value).toDate();(!C||!C(yt))&&oe(yt)&&(N.value=Kn().locale(y.value),pe(N.value))},ot=z(()=>lP(i.format)),At=z(()=>aP(i.format)),on=z(()=>{if(se.value)return se.value;if(!(!i.parsedValue&&!D.value))return(i.parsedValue||N.value).format(ot.value)}),Ne=z(()=>{if(ee.value)return ee.value;if(!(!i.parsedValue&&!D.value))return(i.parsedValue||N.value).format(At.value)}),$e=re(!1),ft=()=>{$e.value=!0},Tt=()=>{$e.value=!1},Bt=pt=>({hour:pt.hour(),minute:pt.minute(),second:pt.second(),year:pt.year(),month:pt.month(),date:pt.date()}),ct=(pt,yt,tn)=>{const{hour:Bn,minute:Ee,second:Qe}=Bt(pt),Et=i.parsedValue?i.parsedValue.hour(Bn).minute(Ee).second(Qe):pt;N.value=Et,pe(N.value,!0),tn||($e.value=yt)},Lt=pt=>{const yt=Kn(pt,ot.value).locale(y.value);if(yt.isValid()&&oe(yt)){const{year:tn,month:Bn,date:Ee}=Bt(N.value);N.value=yt.year(tn).month(Bn).date(Ee),se.value=null,$e.value=!1,pe(N.value,!0)}},gt=pt=>{const yt=Kn(pt,At.value).locale(y.value);if(yt.isValid()){if(C&&C(yt.toDate()))return;const{hour:tn,minute:Bn,second:Ee}=Bt(N.value);N.value=yt.hour(tn).minute(Bn).second(Ee),ee.value=null,pe(N.value,!0)}},xe=pt=>Kn.isDayjs(pt)&&pt.isValid()&&(C?!C(pt.toDate()):!0),qe=pt=>le.value==="dates"?pt.map(yt=>yt.format(i.format)):pt.format(i.format),Dt=pt=>Kn(pt,i.format).locale(y.value),zt=()=>{const pt=Kn(D.value).locale(y.value);if(!D.value){const yt=G.value;return Kn().hour(yt.hour()).minute(yt.minute()).second(yt.second()).locale(y.value)}return pt},en=async()=>{var pt;["week","month","year","date"].includes(le.value)&&((pt=F.value)==null||pt.focus(),le.value==="week"&&En(_n.down))},gn=pt=>{const{code:yt}=pt;[_n.up,_n.down,_n.left,_n.right,_n.home,_n.end,_n.pageUp,_n.pageDown].includes(yt)&&(En(yt),pt.stopPropagation(),pt.preventDefault()),[_n.enter,_n.space].includes(yt)&&ee.value===null&&se.value===null&&(pt.preventDefault(),pe(N.value,!1))},En=pt=>{var yt;const{up:tn,down:Bn,left:Ee,right:Qe,home:Et,end:Mt,pageUp:Wn,pageDown:Ir}=_n,pr={year:{[tn]:-4,[Bn]:4,[Ee]:-1,[Qe]:1,offset:(zn,Mr)=>zn.setFullYear(zn.getFullYear()+Mr)},month:{[tn]:-4,[Bn]:4,[Ee]:-1,[Qe]:1,offset:(zn,Mr)=>zn.setMonth(zn.getMonth()+Mr)},week:{[tn]:-1,[Bn]:1,[Ee]:-1,[Qe]:1,offset:(zn,Mr)=>zn.setDate(zn.getDate()+Mr*7)},date:{[tn]:-7,[Bn]:7,[Ee]:-1,[Qe]:1,[Et]:zn=>-zn.getDay(),[Mt]:zn=>-zn.getDay()+6,[Wn]:zn=>-new Date(zn.getFullYear(),zn.getMonth(),0).getDate(),[Ir]:zn=>new Date(zn.getFullYear(),zn.getMonth()+1,0).getDate(),offset:(zn,Mr)=>zn.setDate(zn.getDate()+Mr)}},oi=N.value.toDate();for(;Math.abs(N.value.diff(oi,"year",!0))<1;){const zn=pr[ke.value];if(!zn)return;if(zn.offset(oi,Tn(zn[pt])?zn[pt](oi):(yt=zn[pt])!=null?yt:0),C&&C(oi))break;const Mr=Kn(oi).locale(y.value);N.value=Mr,n("pick",Mr,!0);break}},Gn=pt=>{n("panel-change",N.value.toDate(),pt,_e.value)};return St(()=>le.value,pt=>{if(["month","year"].includes(pt)){_e.value=pt;return}_e.value="date"},{immediate:!0}),St(()=>_e.value,()=>{b==null||b.updatePopper()}),St(()=>D.value,pt=>{pt&&(N.value=zt())},{immediate:!0}),St(()=>i.parsedValue,pt=>{if(pt){if(le.value==="dates"||Array.isArray(pt))return;N.value=pt}else N.value=zt()},{immediate:!0}),n("set-picker-option",["isValidValue",xe]),n("set-picker-option",["formatToString",qe]),n("set-picker-option",["parseUserInput",Dt]),n("set-picker-option",["handleFocusPicker",en]),(pt,yt)=>(Q(),ve("div",{class:Y([p(a).b(),p(u).b(),{"has-sidebar":pt.$slots.sidebar||p(ze),"has-time":p(wt)}])},[Ce("div",{class:Y(p(a).e("body-wrapper"))},[vt(pt.$slots,"sidebar",{class:Y(p(a).e("sidebar"))}),p(ze)?(Q(),ve("div",{key:0,class:Y(p(a).e("sidebar"))},[(Q(!0),ve(mn,null,cr(p(w),(tn,Bn)=>(Q(),ve("button",{key:Bn,type:"button",class:Y(p(a).e("shortcut")),onClick:Ee=>fe(tn)},Qt(tn.text),11,goe))),128))],2)):Ye("v-if",!0),Ce("div",{class:Y(p(a).e("body"))},[p(wt)?(Q(),ve("div",{key:0,class:Y(p(u).e("time-header"))},[Ce("span",{class:Y(p(u).e("editor-wrap"))},[Re(p(os),{placeholder:p(_)("el.datepicker.selectDate"),"model-value":p(Ne),size:"small","validate-event":!1,onInput:yt[0]||(yt[0]=tn=>ee.value=tn),onChange:gt},null,8,["placeholder","model-value"])],2),Hn((Q(),ve("span",{class:Y(p(u).e("editor-wrap"))},[Re(p(os),{placeholder:p(_)("el.datepicker.selectTime"),"model-value":p(on),size:"small","validate-event":!1,onFocus:ft,onInput:yt[1]||(yt[1]=tn=>se.value=tn),onChange:Lt},null,8,["placeholder","model-value"]),Re(p(Rg),{visible:$e.value,format:p(ot),"time-arrow-control":p(T),"parsed-value":N.value,onPick:ct},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[p(Jl),Tt]])],2)):Ye("v-if",!0),Hn(Ce("div",{class:Y([p(u).e("header"),(_e.value==="year"||_e.value==="month")&&p(u).e("header--bordered")])},[Ce("span",{class:Y(p(u).e("prev-btn"))},[Ce("button",{type:"button","aria-label":p(_)("el.datepicker.prevYear"),class:Y(["d-arrow-left",p(a).e("icon-btn")]),onClick:yt[2]||(yt[2]=tn=>be(!1))},[Re(p(un),null,{default:Ue(()=>[Re(p(Td))]),_:1})],10,voe),Hn(Ce("button",{type:"button","aria-label":p(_)("el.datepicker.prevMonth"),class:Y([p(a).e("icon-btn"),"arrow-left"]),onClick:yt[3]||(yt[3]=tn=>ye(!1))},[Re(p(un),null,{default:Ue(()=>[Re(p(Wl))]),_:1})],10,_oe),[[_r,_e.value==="date"]])],2),Ce("span",{role:"button",class:Y(p(u).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:yt[4]||(yt[4]=fr(tn=>_t("year"),["enter"])),onClick:yt[5]||(yt[5]=tn=>_t("year"))},Qt(p(ie)),35),Hn(Ce("span",{role:"button","aria-live":"polite",tabindex:"0",class:Y([p(u).e("header-label"),{active:_e.value==="month"}]),onKeydown:yt[6]||(yt[6]=fr(tn=>_t("month"),["enter"])),onClick:yt[7]||(yt[7]=tn=>_t("month"))},Qt(p(_)(`el.datepicker.month${p(U)+1}`)),35),[[_r,_e.value==="date"]]),Ce("span",{class:Y(p(u).e("next-btn"))},[Hn(Ce("button",{type:"button","aria-label":p(_)("el.datepicker.nextMonth"),class:Y([p(a).e("icon-btn"),"arrow-right"]),onClick:yt[8]||(yt[8]=tn=>ye(!0))},[Re(p(un),null,{default:Ue(()=>[Re(p(vs))]),_:1})],10,Aoe),[[_r,_e.value==="date"]]),Ce("button",{type:"button","aria-label":p(_)("el.datepicker.nextYear"),class:Y([p(a).e("icon-btn"),"d-arrow-right"]),onClick:yt[9]||(yt[9]=tn=>be(!0))},[Re(p(un),null,{default:Ue(()=>[Re(p(Pd))]),_:1})],10,yoe)],2)],2),[[_r,_e.value!=="time"]]),Ce("div",{class:Y(p(a).e("content")),onKeydown:gn},[_e.value==="date"?(Q(),rt(sy,{key:0,ref_key:"currentViewRef",ref:F,"selection-mode":p(le),date:N.value,"parsed-value":pt.parsedValue,"disabled-date":p(C),"cell-class-name":p(x),onPick:ae},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Ye("v-if",!0),_e.value==="year"?(Q(),rt(moe,{key:1,ref_key:"currentViewRef",ref:F,date:N.value,"disabled-date":p(C),"parsed-value":pt.parsedValue,onPick:Xe},null,8,["date","disabled-date","parsed-value"])):Ye("v-if",!0),_e.value==="month"?(Q(),rt(oy,{key:2,ref_key:"currentViewRef",ref:F,date:N.value,"parsed-value":pt.parsedValue,"disabled-date":p(C),onPick:Te},null,8,["date","parsed-value","disabled-date"])):Ye("v-if",!0)],34)],2)],2),Hn(Ce("div",{class:Y(p(a).e("footer"))},[Hn(Re(p(ns),{text:"",size:"small",class:Y(p(a).e("link-btn")),onClick:je},{default:Ue(()=>[hr(Qt(p(_)("el.datepicker.now")),1)]),_:1},8,["class"]),[[_r,p(le)!=="dates"]]),Re(p(ns),{plain:"",size:"small",class:Y(p(a).e("link-btn")),onClick:it},{default:Ue(()=>[hr(Qt(p(_)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[_r,p(xt)&&_e.value==="date"]])],2))}});var Soe=Ht(boe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const Eoe=Xt({...JP,...ZP}),woe=e=>{const{emit:n}=Yn(),i=Zh(),s=Ki();return u=>{const f=Tn(u.value)?u.value():u.value;if(f){n("pick",[Kn(f[0]).locale(e.value),Kn(f[1]).locale(e.value)]);return}u.onClick&&u.onClick({attrs:i,slots:s,emit:n})}},nN=(e,{defaultValue:n,leftDate:i,rightDate:s,unit:a,onParsedValueChanged:u})=>{const{emit:f}=Yn(),{pickerNs:h}=hn(Lb),_=bt("date-range-picker"),{t:y,lang:S}=yr(),b=woe(S),w=re(),C=re(),x=re({endDate:null,selecting:!1}),M=N=>{x.value=N},T=(N=!1)=>{const G=p(w),U=p(C);iy([G,U])&&f("pick",[G,U],N)},D=N=>{x.value.selecting=N,N||(x.value.endDate=null)},F=()=>{const[N,G]=tN(p(n),{lang:p(S),unit:a,unlinkPanels:e.unlinkPanels});w.value=void 0,C.value=void 0,i.value=N,s.value=G};return St(n,N=>{N&&F()},{immediate:!0}),St(()=>e.parsedValue,N=>{if(sn(N)&&N.length===2){const[G,U]=N;w.value=G,i.value=G,C.value=U,u(p(w),p(C))}else F()},{immediate:!0}),{minDate:w,maxDate:C,rangeState:x,lang:S,ppNs:h,drpNs:_,handleChangeRange:M,handleRangeConfirm:T,handleShortcutClick:b,onSelect:D,t:y}},Coe=["onClick"],Ioe=["disabled"],Moe=["disabled"],xoe=["disabled"],Roe=["disabled"],Nm="month",Toe=Ge({__name:"panel-date-range",props:Eoe,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:n}){const i=e,s=hn("EP_PICKER_BASE"),{disabledDate:a,cellClassName:u,format:f,defaultTime:h,arrowControl:_,clearable:y}=s.props,S=si(s.props,"shortcuts"),b=si(s.props,"defaultValue"),{lang:w}=yr(),C=re(Kn().locale(w.value)),x=re(Kn().locale(w.value).add(1,Nm)),{minDate:M,maxDate:T,rangeState:D,ppNs:F,drpNs:N,handleChangeRange:G,handleRangeConfirm:U,handleShortcutClick:$,onSelect:de,t:ee}=nN(i,{defaultValue:b,leftDate:C,rightDate:x,unit:Nm,onParsedValueChanged:Ee}),se=re({min:null,max:null}),oe=re({min:null,max:null}),Ie=z(()=>`${C.value.year()} ${ee("el.datepicker.year")} ${ee(`el.datepicker.month${C.value.month()+1}`)}`),pe=z(()=>`${x.value.year()} ${ee("el.datepicker.year")} ${ee(`el.datepicker.month${x.value.month()+1}`)}`),ae=z(()=>C.value.year()),ye=z(()=>C.value.month()),be=z(()=>x.value.year()),_e=z(()=>x.value.month()),ie=z(()=>!!S.value.length),fe=z(()=>se.value.min!==null?se.value.min:M.value?M.value.format(Xe.value):""),le=z(()=>se.value.max!==null?se.value.max:T.value||M.value?(T.value||M.value).format(Xe.value):""),ke=z(()=>oe.value.min!==null?oe.value.min:M.value?M.value.format(Te.value):""),ze=z(()=>oe.value.max!==null?oe.value.max:T.value||M.value?(T.value||M.value).format(Te.value):""),Te=z(()=>lP(f)),Xe=z(()=>aP(f)),_t=()=>{C.value=C.value.subtract(1,"year"),i.unlinkPanels||(x.value=C.value.add(1,"month")),Ne("year")},wt=()=>{C.value=C.value.subtract(1,"month"),i.unlinkPanels||(x.value=C.value.add(1,"month")),Ne("month")},xt=()=>{i.unlinkPanels?x.value=x.value.add(1,"year"):(C.value=C.value.add(1,"year"),x.value=C.value.add(1,"month")),Ne("year")},it=()=>{i.unlinkPanels?x.value=x.value.add(1,"month"):(C.value=C.value.add(1,"month"),x.value=C.value.add(1,"month")),Ne("month")},je=()=>{C.value=C.value.add(1,"year"),Ne("year")},ot=()=>{C.value=C.value.add(1,"month"),Ne("month")},At=()=>{x.value=x.value.subtract(1,"year"),Ne("year")},on=()=>{x.value=x.value.subtract(1,"month"),Ne("month")},Ne=Qe=>{n("panel-change",[C.value.toDate(),x.value.toDate()],Qe)},$e=z(()=>{const Qe=(ye.value+1)%12,Et=ye.value+1>=12?1:0;return i.unlinkPanels&&new Date(ae.value+Et,Qe)<new Date(be.value,_e.value)}),ft=z(()=>i.unlinkPanels&&be.value*12+_e.value-(ae.value*12+ye.value+1)>=12),Tt=z(()=>!(M.value&&T.value&&!D.value.selecting&&iy([M.value,T.value]))),Bt=z(()=>i.type==="datetime"||i.type==="datetimerange"),ct=(Qe,Et)=>{if(!!Qe)return h?Kn(h[Et]||h).locale(w.value).year(Qe.year()).month(Qe.month()).date(Qe.date()):Qe},Lt=(Qe,Et=!0)=>{const Mt=Qe.minDate,Wn=Qe.maxDate,Ir=ct(Mt,0),pr=ct(Wn,1);T.value===pr&&M.value===Ir||(n("calendar-change",[Mt.toDate(),Wn&&Wn.toDate()]),T.value=pr,M.value=Ir,!(!Et||Bt.value)&&U())},gt=re(!1),xe=re(!1),qe=()=>{gt.value=!1},Dt=()=>{xe.value=!1},zt=(Qe,Et)=>{se.value[Et]=Qe;const Mt=Kn(Qe,Xe.value).locale(w.value);if(Mt.isValid()){if(a&&a(Mt.toDate()))return;Et==="min"?(C.value=Mt,M.value=(M.value||C.value).year(Mt.year()).month(Mt.month()).date(Mt.date()),i.unlinkPanels||(x.value=Mt.add(1,"month"),T.value=M.value.add(1,"month"))):(x.value=Mt,T.value=(T.value||x.value).year(Mt.year()).month(Mt.month()).date(Mt.date()),i.unlinkPanels||(C.value=Mt.subtract(1,"month"),M.value=T.value.subtract(1,"month")))}},en=(Qe,Et)=>{se.value[Et]=null},gn=(Qe,Et)=>{oe.value[Et]=Qe;const Mt=Kn(Qe,Te.value).locale(w.value);Mt.isValid()&&(Et==="min"?(gt.value=!0,M.value=(M.value||C.value).hour(Mt.hour()).minute(Mt.minute()).second(Mt.second()),(!T.value||T.value.isBefore(M.value))&&(T.value=M.value)):(xe.value=!0,T.value=(T.value||x.value).hour(Mt.hour()).minute(Mt.minute()).second(Mt.second()),x.value=T.value,T.value&&T.value.isBefore(M.value)&&(M.value=T.value)))},En=(Qe,Et)=>{oe.value[Et]=null,Et==="min"?(C.value=M.value,gt.value=!1):(x.value=T.value,xe.value=!1)},Gn=(Qe,Et,Mt)=>{oe.value.min||(Qe&&(C.value=Qe,M.value=(M.value||C.value).hour(Qe.hour()).minute(Qe.minute()).second(Qe.second())),Mt||(gt.value=Et),(!T.value||T.value.isBefore(M.value))&&(T.value=M.value,x.value=Qe))},pt=(Qe,Et,Mt)=>{oe.value.max||(Qe&&(x.value=Qe,T.value=(T.value||x.value).hour(Qe.hour()).minute(Qe.minute()).second(Qe.second())),Mt||(xe.value=Et),T.value&&T.value.isBefore(M.value)&&(M.value=T.value))},yt=()=>{C.value=tN(p(b),{lang:p(w),unit:"month",unlinkPanels:i.unlinkPanels})[0],x.value=C.value.add(1,"month"),n("pick",null)},tn=Qe=>sn(Qe)?Qe.map(Et=>Et.format(f)):Qe.format(f),Bn=Qe=>sn(Qe)?Qe.map(Et=>Kn(Et,f).locale(w.value)):Kn(Qe,f).locale(w.value);function Ee(Qe,Et){if(i.unlinkPanels&&Et){const Mt=(Qe==null?void 0:Qe.year())||0,Wn=(Qe==null?void 0:Qe.month())||0,Ir=Et.year(),pr=Et.month();x.value=Mt===Ir&&Wn===pr?Et.add(1,Nm):Et}else x.value=C.value.add(1,Nm),Et&&(x.value=x.value.hour(Et.hour()).minute(Et.minute()).second(Et.second()))}return n("set-picker-option",["isValidValue",iy]),n("set-picker-option",["parseUserInput",Bn]),n("set-picker-option",["formatToString",tn]),n("set-picker-option",["handleClear",yt]),(Qe,Et)=>(Q(),ve("div",{class:Y([p(F).b(),p(N).b(),{"has-sidebar":Qe.$slots.sidebar||p(ie),"has-time":p(Bt)}])},[Ce("div",{class:Y(p(F).e("body-wrapper"))},[vt(Qe.$slots,"sidebar",{class:Y(p(F).e("sidebar"))}),p(ie)?(Q(),ve("div",{key:0,class:Y(p(F).e("sidebar"))},[(Q(!0),ve(mn,null,cr(p(S),(Mt,Wn)=>(Q(),ve("button",{key:Wn,type:"button",class:Y(p(F).e("shortcut")),onClick:Ir=>p($)(Mt)},Qt(Mt.text),11,Coe))),128))],2)):Ye("v-if",!0),Ce("div",{class:Y(p(F).e("body"))},[p(Bt)?(Q(),ve("div",{key:0,class:Y(p(N).e("time-header"))},[Ce("span",{class:Y(p(N).e("editors-wrap"))},[Ce("span",{class:Y(p(N).e("time-picker-wrap"))},[Re(p(os),{size:"small",disabled:p(D).selecting,placeholder:p(ee)("el.datepicker.startDate"),class:Y(p(N).e("editor")),"model-value":p(fe),"validate-event":!1,onInput:Et[0]||(Et[0]=Mt=>zt(Mt,"min")),onChange:Et[1]||(Et[1]=Mt=>en(Mt,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Hn((Q(),ve("span",{class:Y(p(N).e("time-picker-wrap"))},[Re(p(os),{size:"small",class:Y(p(N).e("editor")),disabled:p(D).selecting,placeholder:p(ee)("el.datepicker.startTime"),"model-value":p(ke),"validate-event":!1,onFocus:Et[2]||(Et[2]=Mt=>gt.value=!0),onInput:Et[3]||(Et[3]=Mt=>gn(Mt,"min")),onChange:Et[4]||(Et[4]=Mt=>En(Mt,"min"))},null,8,["class","disabled","placeholder","model-value"]),Re(p(Rg),{visible:gt.value,format:p(Te),"datetime-role":"start","time-arrow-control":p(_),"parsed-value":C.value,onPick:Gn},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[p(Jl),qe]])],2),Ce("span",null,[Re(p(un),null,{default:Ue(()=>[Re(p(vs))]),_:1})]),Ce("span",{class:Y([p(N).e("editors-wrap"),"is-right"])},[Ce("span",{class:Y(p(N).e("time-picker-wrap"))},[Re(p(os),{size:"small",class:Y(p(N).e("editor")),disabled:p(D).selecting,placeholder:p(ee)("el.datepicker.endDate"),"model-value":p(le),readonly:!p(M),"validate-event":!1,onInput:Et[5]||(Et[5]=Mt=>zt(Mt,"max")),onChange:Et[6]||(Et[6]=Mt=>en(Mt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Hn((Q(),ve("span",{class:Y(p(N).e("time-picker-wrap"))},[Re(p(os),{size:"small",class:Y(p(N).e("editor")),disabled:p(D).selecting,placeholder:p(ee)("el.datepicker.endTime"),"model-value":p(ze),readonly:!p(M),"validate-event":!1,onFocus:Et[7]||(Et[7]=Mt=>p(M)&&(xe.value=!0)),onInput:Et[8]||(Et[8]=Mt=>gn(Mt,"max")),onChange:Et[9]||(Et[9]=Mt=>En(Mt,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),Re(p(Rg),{"datetime-role":"end",visible:xe.value,format:p(Te),"time-arrow-control":p(_),"parsed-value":x.value,onPick:pt},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[p(Jl),Dt]])],2)],2)):Ye("v-if",!0),Ce("div",{class:Y([[p(F).e("content"),p(N).e("content")],"is-left"])},[Ce("div",{class:Y(p(N).e("header"))},[Ce("button",{type:"button",class:Y([p(F).e("icon-btn"),"d-arrow-left"]),onClick:_t},[Re(p(un),null,{default:Ue(()=>[Re(p(Td))]),_:1})],2),Ce("button",{type:"button",class:Y([p(F).e("icon-btn"),"arrow-left"]),onClick:wt},[Re(p(un),null,{default:Ue(()=>[Re(p(Wl))]),_:1})],2),Qe.unlinkPanels?(Q(),ve("button",{key:0,type:"button",disabled:!p(ft),class:Y([[p(F).e("icon-btn"),{"is-disabled":!p(ft)}],"d-arrow-right"]),onClick:je},[Re(p(un),null,{default:Ue(()=>[Re(p(Pd))]),_:1})],10,Ioe)):Ye("v-if",!0),Qe.unlinkPanels?(Q(),ve("button",{key:1,type:"button",disabled:!p($e),class:Y([[p(F).e("icon-btn"),{"is-disabled":!p($e)}],"arrow-right"]),onClick:ot},[Re(p(un),null,{default:Ue(()=>[Re(p(vs))]),_:1})],10,Moe)):Ye("v-if",!0),Ce("div",null,Qt(p(Ie)),1)],2),Re(sy,{"selection-mode":"range",date:C.value,"min-date":p(M),"max-date":p(T),"range-state":p(D),"disabled-date":p(a),"cell-class-name":p(u),onChangerange:p(G),onPick:Lt,onSelect:p(de)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),Ce("div",{class:Y([[p(F).e("content"),p(N).e("content")],"is-right"])},[Ce("div",{class:Y(p(N).e("header"))},[Qe.unlinkPanels?(Q(),ve("button",{key:0,type:"button",disabled:!p(ft),class:Y([[p(F).e("icon-btn"),{"is-disabled":!p(ft)}],"d-arrow-left"]),onClick:At},[Re(p(un),null,{default:Ue(()=>[Re(p(Td))]),_:1})],10,xoe)):Ye("v-if",!0),Qe.unlinkPanels?(Q(),ve("button",{key:1,type:"button",disabled:!p($e),class:Y([[p(F).e("icon-btn"),{"is-disabled":!p($e)}],"arrow-left"]),onClick:on},[Re(p(un),null,{default:Ue(()=>[Re(p(Wl))]),_:1})],10,Roe)):Ye("v-if",!0),Ce("button",{type:"button",class:Y([p(F).e("icon-btn"),"d-arrow-right"]),onClick:xt},[Re(p(un),null,{default:Ue(()=>[Re(p(Pd))]),_:1})],2),Ce("button",{type:"button",class:Y([p(F).e("icon-btn"),"arrow-right"]),onClick:it},[Re(p(un),null,{default:Ue(()=>[Re(p(vs))]),_:1})],2),Ce("div",null,Qt(p(pe)),1)],2),Re(sy,{"selection-mode":"range",date:x.value,"min-date":p(M),"max-date":p(T),"range-state":p(D),"disabled-date":p(a),"cell-class-name":p(u),onChangerange:p(G),onPick:Lt,onSelect:p(de)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),p(Bt)?(Q(),ve("div",{key:0,class:Y(p(F).e("footer"))},[p(y)?(Q(),rt(p(ns),{key:0,text:"",size:"small",class:Y(p(F).e("link-btn")),onClick:yt},{default:Ue(()=>[hr(Qt(p(ee)("el.datepicker.clear")),1)]),_:1},8,["class"])):Ye("v-if",!0),Re(p(ns),{plain:"",size:"small",class:Y(p(F).e("link-btn")),disabled:p(Tt),onClick:Et[10]||(Et[10]=Mt=>p(U)(!1))},{default:Ue(()=>[hr(Qt(p(ee)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):Ye("v-if",!0)],2))}});var Poe=Ht(Toe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const Noe=Xt({...ZP}),Doe=["pick","set-picker-option"],Boe=({unlinkPanels:e,leftDate:n,rightDate:i})=>{const{t:s}=yr(),a=()=>{n.value=n.value.subtract(1,"year"),e.value||(i.value=i.value.subtract(1,"year"))},u=()=>{e.value||(n.value=n.value.add(1,"year")),i.value=i.value.add(1,"year")},f=()=>{n.value=n.value.add(1,"year")},h=()=>{i.value=i.value.subtract(1,"year")},_=z(()=>`${n.value.year()} ${s("el.datepicker.year")}`),y=z(()=>`${i.value.year()} ${s("el.datepicker.year")}`),S=z(()=>n.value.year()),b=z(()=>i.value.year()===n.value.year()?n.value.year()+1:i.value.year());return{leftPrevYear:a,rightNextYear:u,leftNextYear:f,rightPrevYear:h,leftLabel:_,rightLabel:y,leftYear:S,rightYear:b}},koe=["onClick"],Loe=["disabled"],Ooe=["disabled"],Dm="year",Foe=Ge({name:"DatePickerMonthRange"}),Voe=Ge({...Foe,props:Noe,emits:Doe,setup(e,{emit:n}){const i=e,{lang:s}=yr(),a=hn("EP_PICKER_BASE"),{shortcuts:u,disabledDate:f,format:h}=a.props,_=si(a.props,"defaultValue"),y=re(Kn().locale(s.value)),S=re(Kn().locale(s.value).add(1,Dm)),{minDate:b,maxDate:w,rangeState:C,ppNs:x,drpNs:M,handleChangeRange:T,handleRangeConfirm:D,handleShortcutClick:F,onSelect:N}=nN(i,{defaultValue:_,leftDate:y,rightDate:S,unit:Dm,onParsedValueChanged:_e}),G=z(()=>!!u.length),{leftPrevYear:U,rightNextYear:$,leftNextYear:de,rightPrevYear:ee,leftLabel:se,rightLabel:oe,leftYear:Ie,rightYear:pe}=Boe({unlinkPanels:si(i,"unlinkPanels"),leftDate:y,rightDate:S}),ae=z(()=>i.unlinkPanels&&pe.value>Ie.value+1),ye=(ie,fe=!0)=>{const le=ie.minDate,ke=ie.maxDate;w.value===ke&&b.value===le||(w.value=ke,b.value=le,fe&&D())},be=ie=>ie.map(fe=>fe.format(h));function _e(ie,fe){if(i.unlinkPanels&&fe){const le=(ie==null?void 0:ie.year())||0,ke=fe.year();S.value=le===ke?fe.add(1,Dm):fe}else S.value=y.value.add(1,Dm)}return n("set-picker-option",["formatToString",be]),(ie,fe)=>(Q(),ve("div",{class:Y([p(x).b(),p(M).b(),{"has-sidebar":Boolean(ie.$slots.sidebar)||p(G)}])},[Ce("div",{class:Y(p(x).e("body-wrapper"))},[vt(ie.$slots,"sidebar",{class:Y(p(x).e("sidebar"))}),p(G)?(Q(),ve("div",{key:0,class:Y(p(x).e("sidebar"))},[(Q(!0),ve(mn,null,cr(p(u),(le,ke)=>(Q(),ve("button",{key:ke,type:"button",class:Y(p(x).e("shortcut")),onClick:ze=>p(F)(le)},Qt(le.text),11,koe))),128))],2)):Ye("v-if",!0),Ce("div",{class:Y(p(x).e("body"))},[Ce("div",{class:Y([[p(x).e("content"),p(M).e("content")],"is-left"])},[Ce("div",{class:Y(p(M).e("header"))},[Ce("button",{type:"button",class:Y([p(x).e("icon-btn"),"d-arrow-left"]),onClick:fe[0]||(fe[0]=(...le)=>p(U)&&p(U)(...le))},[Re(p(un),null,{default:Ue(()=>[Re(p(Td))]),_:1})],2),ie.unlinkPanels?(Q(),ve("button",{key:0,type:"button",disabled:!p(ae),class:Y([[p(x).e("icon-btn"),{[p(x).is("disabled")]:!p(ae)}],"d-arrow-right"]),onClick:fe[1]||(fe[1]=(...le)=>p(de)&&p(de)(...le))},[Re(p(un),null,{default:Ue(()=>[Re(p(Pd))]),_:1})],10,Loe)):Ye("v-if",!0),Ce("div",null,Qt(p(se)),1)],2),Re(oy,{"selection-mode":"range",date:y.value,"min-date":p(b),"max-date":p(w),"range-state":p(C),"disabled-date":p(f),onChangerange:p(T),onPick:ye,onSelect:p(N)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),Ce("div",{class:Y([[p(x).e("content"),p(M).e("content")],"is-right"])},[Ce("div",{class:Y(p(M).e("header"))},[ie.unlinkPanels?(Q(),ve("button",{key:0,type:"button",disabled:!p(ae),class:Y([[p(x).e("icon-btn"),{"is-disabled":!p(ae)}],"d-arrow-left"]),onClick:fe[2]||(fe[2]=(...le)=>p(ee)&&p(ee)(...le))},[Re(p(un),null,{default:Ue(()=>[Re(p(Td))]),_:1})],10,Ooe)):Ye("v-if",!0),Ce("button",{type:"button",class:Y([p(x).e("icon-btn"),"d-arrow-right"]),onClick:fe[3]||(fe[3]=(...le)=>p($)&&p($)(...le))},[Re(p(un),null,{default:Ue(()=>[Re(p(Pd))]),_:1})],2),Ce("div",null,Qt(p(oe)),1)],2),Re(oy,{"selection-mode":"range",date:S.value,"min-date":p(b),"max-date":p(w),"range-state":p(C),"disabled-date":p(f),onChangerange:p(T),onPick:ye,onSelect:p(N)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var Goe=Ht(Voe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const Uoe=function(e){switch(e){case"daterange":case"datetimerange":return Poe;case"monthrange":return Goe;default:return Soe}};Kn.extend(wP);Kn.extend(Ose);Kn.extend(e1);Kn.extend(Fse);Kn.extend(Vse);Kn.extend(Gse);Kn.extend(Use);Kn.extend(Hse);var Hoe=Ge({name:"ElDatePicker",install:null,props:{...t1,...Qse},emits:["update:modelValue"],setup(e,{expose:n,emit:i,slots:s}){const a=bt("picker-panel");ir("ElPopperOptions",Tr(si(e,"popperOptions"))),ir(Lb,{slots:s,pickerNs:a});const u=re();n({focus:(_=!0)=>{var y;(y=u.value)==null||y.focus(_)},handleOpen:()=>{var _;(_=u.value)==null||_.handleOpen()},handleClose:()=>{var _;(_=u.value)==null||_.handleClose()}});const h=_=>{i("update:modelValue",_)};return()=>{var _;const y=(_=e.format)!=null?_:Qte[e.type]||ad,S=Uoe(e.type);return Re(dP,nr(e,{format:y,type:e.type,ref:u,"onUpdate:modelValue":h}),{default:b=>Re(S,b,null),"range-separator":s["range-separator"]})}}});const ng=Hoe;ng.install=e=>{e.component(ng.name,ng)};const Qoe=ng,s1="elDescriptions";var Jf=Ge({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup(){return{descriptions:hn(s1,{})}},render(){var e,n,i,s,a,u;const f=qq(this.cell),{border:h,direction:_}=this.descriptions,y=_==="vertical",S=((i=(n=(e=this.cell)==null?void 0:e.children)==null?void 0:n.label)==null?void 0:i.call(n))||f.label,b=(u=(a=(s=this.cell)==null?void 0:s.children)==null?void 0:a.default)==null?void 0:u.call(a),w=f.span,C=f.align?`is-${f.align}`:"",x=f.labelAlign?`is-${f.labelAlign}`:C,M=f.className,T=f.labelClassName,D={width:wi(f.width),minWidth:wi(f.minWidth)},F=bt("descriptions");switch(this.type){case"label":return An(this.tag,{style:D,class:[F.e("cell"),F.e("label"),F.is("bordered-label",h),F.is("vertical-label",y),x,T],colSpan:y?w:1},S);case"content":return An(this.tag,{style:D,class:[F.e("cell"),F.e("content"),F.is("bordered-content",h),F.is("vertical-content",y),C,M],colSpan:y?w:w*2-1},b);default:return An("td",{style:D,class:[F.e("cell"),C],colSpan:w},[An("span",{class:[F.e("label"),T]},S),An("span",{class:[F.e("content"),M]},b)])}}});const Xoe=Xt({row:{type:Array,default:()=>[]}}),zoe={key:1},$oe=Ge({name:"ElDescriptionsRow"}),Woe=Ge({...$oe,props:Xoe,setup(e){const n=hn(s1,{});return(i,s)=>p(n).direction==="vertical"?(Q(),ve(mn,{key:0},[Ce("tr",null,[(Q(!0),ve(mn,null,cr(i.row,(a,u)=>(Q(),rt(p(Jf),{key:`tr1-${u}`,cell:a,tag:"th",type:"label"},null,8,["cell"]))),128))]),Ce("tr",null,[(Q(!0),ve(mn,null,cr(i.row,(a,u)=>(Q(),rt(p(Jf),{key:`tr2-${u}`,cell:a,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(Q(),ve("tr",zoe,[(Q(!0),ve(mn,null,cr(i.row,(a,u)=>(Q(),ve(mn,{key:`tr3-${u}`},[p(n).border?(Q(),ve(mn,{key:0},[Re(p(Jf),{cell:a,tag:"td",type:"label"},null,8,["cell"]),Re(p(Jf),{cell:a,tag:"td",type:"content"},null,8,["cell"])],64)):(Q(),rt(p(Jf),{key:1,cell:a,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var Koe=Ht(Woe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const joe=Xt({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:Ts,title:{type:String,default:""},extra:{type:String,default:""}}),qoe=Ge({name:"ElDescriptions"}),Yoe=Ge({...qoe,props:joe,setup(e){const n=e,i=bt("descriptions"),s=Ci(),a=Ki();ir(s1,n);const u=z(()=>[i.b(),i.m(s.value)]),f=(_,y,S,b=!1)=>(_.props||(_.props={}),y>S&&(_.props.span=S),b&&(_.props.span=y),_),h=()=>{var _;const y=yd((_=a.default)==null?void 0:_.call(a)).filter(x=>{var M;return((M=x==null?void 0:x.type)==null?void 0:M.name)==="ElDescriptionsItem"}),S=[];let b=[],w=n.column,C=0;return y.forEach((x,M)=>{var T;const D=((T=x.props)==null?void 0:T.span)||1;if(M<y.length-1&&(C+=D>w?w:D),M===y.length-1){const F=n.column-C%n.column;b.push(f(x,F,w,!0)),S.push(b);return}D<w?(w-=D,b.push(x)):(b.push(f(x,D,w)),S.push(b),w=n.column,b=[])}),S};return(_,y)=>(Q(),ve("div",{class:Y(p(u))},[_.title||_.extra||_.$slots.title||_.$slots.extra?(Q(),ve("div",{key:0,class:Y(p(i).e("header"))},[Ce("div",{class:Y(p(i).e("title"))},[vt(_.$slots,"title",{},()=>[hr(Qt(_.title),1)])],2),Ce("div",{class:Y(p(i).e("extra"))},[vt(_.$slots,"extra",{},()=>[hr(Qt(_.extra),1)])],2)],2)):Ye("v-if",!0),Ce("div",{class:Y(p(i).e("body"))},[Ce("table",{class:Y([p(i).e("table"),p(i).is("bordered",_.border)])},[Ce("tbody",null,[(Q(!0),ve(mn,null,cr(h(),(S,b)=>(Q(),rt(Koe,{key:b,row:S},null,8,["row"]))),128))])],2)],2)],2))}});var Joe=Ht(Yoe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]),rN=Ge({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const Zoe=Jn(Joe,{DescriptionsItem:rN}),eae=fi(rN),tae=Xt({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:nt([String,Array,Object])},zIndex:{type:nt([String,Number])}}),nae={click:e=>e instanceof MouseEvent};var rae=Ge({name:"ElOverlay",props:tae,emits:nae,setup(e,{slots:n,emit:i}){const s=bt("overlay"),a=_=>{i("click",_)},{onClick:u,onMousedown:f,onMouseup:h}=Ob(e.customMaskEvent?void 0:a);return()=>e.mask?Re("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:f,onMouseup:h},[vt(n,"default")],ao.STYLE|ao.CLASS|ao.PROPS,["onClick","onMouseup","onMousedown"]):An("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[vt(n,"default")])}});const o1=rae,iN=Xt({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:$r},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),iae={close:()=>!0},sae=["aria-label"],oae=["id"],aae=Ge({name:"ElDialogContent"}),lae=Ge({...aae,props:iN,emits:iae,setup(e){const n=e,{t:i}=yr(),{Close:s}=YR,{dialogRef:a,headerRef:u,bodyId:f,ns:h,style:_}=hn(sT),{focusTrapRef:y}=hn(Yb),S=uv(y,a),b=z(()=>n.draggable);return gT(a,u,b),(w,C)=>(Q(),ve("div",{ref:p(S),class:Y([p(h).b(),p(h).is("fullscreen",w.fullscreen),p(h).is("draggable",p(b)),p(h).is("align-center",w.alignCenter),{[p(h).m("center")]:w.center},w.customClass]),style:fn(p(_)),tabindex:"-1"},[Ce("header",{ref_key:"headerRef",ref:u,class:Y(p(h).e("header"))},[vt(w.$slots,"header",{},()=>[Ce("span",{role:"heading",class:Y(p(h).e("title"))},Qt(w.title),3)]),w.showClose?(Q(),ve("button",{key:0,"aria-label":p(i)("el.dialog.close"),class:Y(p(h).e("headerbtn")),type:"button",onClick:C[0]||(C[0]=x=>w.$emit("close"))},[Re(p(un),{class:Y(p(h).e("close"))},{default:Ue(()=>[(Q(),rt(rr(w.closeIcon||p(s))))]),_:1},8,["class"])],10,sae)):Ye("v-if",!0)],2),Ce("div",{id:p(f),class:Y(p(h).e("body"))},[vt(w.$slots,"default")],10,oae),w.$slots.footer?(Q(),ve("footer",{key:0,class:Y(p(h).e("footer"))},[vt(w.$slots,"footer")],2)):Ye("v-if",!0)],6))}});var cae=Ht(lae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const sN=Xt({...iN,appendToBody:{type:Boolean,default:!1},beforeClose:{type:nt(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),oN={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[qn]:e=>Mi(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},aN=(e,n)=>{const s=Yn().emit,{nextZIndex:a}=al();let u="";const f=Wo(),h=Wo(),_=re(!1),y=re(!1),S=re(!1),b=re(e.zIndex||a());let w,C;const x=ol("namespace",mv),M=z(()=>{const ye={},be=`--${x.value}-dialog`;return e.fullscreen||(e.top&&(ye[`${be}-margin-top`]=e.top),e.width&&(ye[`${be}-width`]=wi(e.width))),ye}),T=z(()=>e.alignCenter?{display:"flex"}:{});function D(){s("opened")}function F(){s("closed"),s(qn,!1),e.destroyOnClose&&(S.value=!1)}function N(){s("close")}function G(){C==null||C(),w==null||w(),e.openDelay&&e.openDelay>0?{stop:w}=cu(()=>ee(),e.openDelay):ee()}function U(){w==null||w(),C==null||C(),e.closeDelay&&e.closeDelay>0?{stop:C}=cu(()=>se(),e.closeDelay):se()}function $(){function ye(be){be||(y.value=!0,_.value=!1)}e.beforeClose?e.beforeClose(ye):U()}function de(){e.closeOnClickModal&&$()}function ee(){!ur||(_.value=!0)}function se(){_.value=!1}function oe(){s("openAutoFocus")}function Ie(){s("closeAutoFocus")}function pe(ye){var be;((be=ye.detail)==null?void 0:be.focusReason)==="pointer"&&ye.preventDefault()}e.lockScroll&&vT(_);function ae(){e.closeOnPressEscape&&$()}return St(()=>e.modelValue,ye=>{ye?(y.value=!1,G(),S.value=!0,b.value=e.zIndex?b.value++:a(),dn(()=>{s("open"),n.value&&(n.value.scrollTop=0)})):_.value&&U()}),St(()=>e.fullscreen,ye=>{!n.value||(ye?(u=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=u)}),jn(()=>{e.modelValue&&(_.value=!0,S.value=!0,G())}),{afterEnter:D,afterLeave:F,beforeLeave:N,handleClose:$,onModalClick:de,close:U,doClose:se,onOpenAutoFocus:oe,onCloseAutoFocus:Ie,onCloseRequested:ae,onFocusoutPrevented:pe,titleId:f,bodyId:h,closed:y,style:M,overlayDialogStyle:T,rendered:S,visible:_,zIndex:b}},uae=["aria-label","aria-labelledby","aria-describedby"],dae=Ge({name:"ElDialog",inheritAttrs:!1}),fae=Ge({...dae,props:sN,emits:oN,setup(e,{expose:n}){const i=e,s=Ki();jl({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},z(()=>!!s.title)),jl({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},z(()=>!!i.customClass));const a=bt("dialog"),u=re(),f=re(),h=re(),{visible:_,titleId:y,bodyId:S,style:b,overlayDialogStyle:w,rendered:C,zIndex:x,afterEnter:M,afterLeave:T,beforeLeave:D,handleClose:F,onModalClick:N,onOpenAutoFocus:G,onCloseAutoFocus:U,onCloseRequested:$,onFocusoutPrevented:de}=aN(i,u);ir(sT,{dialogRef:u,headerRef:f,bodyId:S,ns:a,rendered:C,style:b});const ee=Ob(N),se=z(()=>i.draggable&&!i.fullscreen);return n({visible:_,dialogContentRef:h}),(oe,Ie)=>(Q(),rt(Jh,{to:"body",disabled:!oe.appendToBody},[Re(bi,{name:"dialog-fade",onAfterEnter:p(M),onAfterLeave:p(T),onBeforeLeave:p(D),persisted:""},{default:Ue(()=>[Hn(Re(p(o1),{"custom-mask-event":"",mask:oe.modal,"overlay-class":oe.modalClass,"z-index":p(x)},{default:Ue(()=>[Ce("div",{role:"dialog","aria-modal":"true","aria-label":oe.title||void 0,"aria-labelledby":oe.title?void 0:p(y),"aria-describedby":p(S),class:Y(`${p(a).namespace.value}-overlay-dialog`),style:fn(p(w)),onClick:Ie[0]||(Ie[0]=(...pe)=>p(ee).onClick&&p(ee).onClick(...pe)),onMousedown:Ie[1]||(Ie[1]=(...pe)=>p(ee).onMousedown&&p(ee).onMousedown(...pe)),onMouseup:Ie[2]||(Ie[2]=(...pe)=>p(ee).onMouseup&&p(ee).onMouseup(...pe))},[Re(p(yv),{loop:"",trapped:p(_),"focus-start-el":"container",onFocusAfterTrapped:p(G),onFocusAfterReleased:p(U),onFocusoutPrevented:p(de),onReleaseRequested:p($)},{default:Ue(()=>[p(C)?(Q(),rt(cae,nr({key:0,ref_key:"dialogContentRef",ref:h},oe.$attrs,{"custom-class":oe.customClass,center:oe.center,"align-center":oe.alignCenter,"close-icon":oe.closeIcon,draggable:p(se),fullscreen:oe.fullscreen,"show-close":oe.showClose,title:oe.title,onClose:p(F)}),zl({header:Ue(()=>[oe.$slots.title?vt(oe.$slots,"title",{key:1}):vt(oe.$slots,"header",{key:0,close:p(F),titleId:p(y),titleClass:p(a).e("title")})]),default:Ue(()=>[vt(oe.$slots,"default")]),_:2},[oe.$slots.footer?{name:"footer",fn:Ue(()=>[vt(oe.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):Ye("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,uae)]),_:3},8,["mask","overlay-class","z-index"]),[[_r,p(_)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var hae=Ht(fae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const pae=Jn(hae),mae=Xt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:nt(String),default:"solid"}}),gae=Ge({name:"ElDivider"}),vae=Ge({...gae,props:mae,setup(e){const n=e,i=bt("divider"),s=z(()=>i.cssVar({"border-style":n.borderStyle}));return(a,u)=>(Q(),ve("div",{class:Y([p(i).b(),p(i).m(a.direction)]),style:fn(p(s)),role:"separator"},[a.$slots.default&&a.direction!=="vertical"?(Q(),ve("div",{key:0,class:Y([p(i).e("text"),p(i).is(a.contentPosition)])},[vt(a.$slots,"default")],2)):Ye("v-if",!0)],6))}});var _ae=Ht(vae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const lN=Jn(_ae),Aae=Xt({...sN,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),yae=oN,bae=Ge({name:"ElDrawer",components:{ElOverlay:o1,ElFocusTrap:yv,ElIcon:un,Close:zo},props:Aae,emits:yae,setup(e,{slots:n}){jl({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},z(()=>!!n.title));const i=re(),s=re(),a=bt("drawer"),{t:u}=yr(),f=z(()=>e.direction==="rtl"||e.direction==="ltr"),h=z(()=>wi(e.size));return{...aN(e,i),drawerRef:i,focusStartRef:s,isHorizontal:f,drawerSize:h,ns:a,t:u}}}),Sae=["aria-label","aria-labelledby","aria-describedby"],Eae=["id"],wae=["aria-label"],Cae=["id"];function Iae(e,n,i,s,a,u){const f=Mn("close"),h=Mn("el-icon"),_=Mn("el-focus-trap"),y=Mn("el-overlay");return Q(),rt(Jh,{to:"body",disabled:!e.appendToBody},[Re(bi,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:Ue(()=>[Hn(Re(y,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:Ue(()=>[Re(_,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:Ue(()=>[Ce("div",{ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId,class:Y([e.ns.b(),e.direction,e.visible&&"open",e.customClass]),style:fn(e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize),role:"dialog",onClick:n[1]||(n[1]=Nn(()=>{},["stop"]))},[Ce("span",{ref:"focusStartRef",class:Y(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(Q(),ve("header",{key:0,class:Y(e.ns.e("header"))},[e.$slots.title?vt(e.$slots,"title",{key:1},()=>[Ye(" DEPRECATED SLOT ")]):vt(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},()=>[e.$slots.title?Ye("v-if",!0):(Q(),ve("span",{key:0,id:e.titleId,role:"heading",class:Y(e.ns.e("title"))},Qt(e.title),11,Eae))]),e.showClose?(Q(),ve("button",{key:2,"aria-label":e.t("el.drawer.close"),class:Y(e.ns.e("close-btn")),type:"button",onClick:n[0]||(n[0]=(...S)=>e.handleClose&&e.handleClose(...S))},[Re(h,{class:Y(e.ns.e("close"))},{default:Ue(()=>[Re(f)]),_:1},8,["class"])],10,wae)):Ye("v-if",!0)],2)):Ye("v-if",!0),e.rendered?(Q(),ve("div",{key:1,id:e.bodyId,class:Y(e.ns.e("body"))},[vt(e.$slots,"default")],10,Cae)):Ye("v-if",!0),e.$slots.footer?(Q(),ve("div",{key:2,class:Y(e.ns.e("footer"))},[vt(e.$slots,"footer")],2)):Ye("v-if",!0)],14,Sae)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[_r,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var Mae=Ht(bae,[["render",Iae],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const xae=Jn(Mae),Rae=Ge({inheritAttrs:!1});function Tae(e,n,i,s,a,u){return vt(e.$slots,"default")}var Pae=Ht(Rae,[["render",Tae],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const Nae=Ge({name:"ElCollectionItem",inheritAttrs:!1});function Dae(e,n,i,s,a,u){return vt(e.$slots,"default")}var Bae=Ht(Nae,[["render",Dae],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const cN="data-el-collection-item",uN=e=>{const n=`El${e}Collection`,i=`${n}Item`,s=Symbol(n),a=Symbol(i),u={...Pae,name:n,setup(){const h=re(null),_=new Map;ir(s,{itemMap:_,getItems:()=>{const S=p(h);if(!S)return[];const b=Array.from(S.querySelectorAll(`[${cN}]`));return[..._.values()].sort((C,x)=>b.indexOf(C.ref)-b.indexOf(x.ref))},collectionRef:h})}},f={...Bae,name:i,setup(h,{attrs:_}){const y=re(null),S=hn(s,void 0);ir(a,{collectionItemRef:y}),jn(()=>{const b=p(y);b&&S.itemMap.set(b,{ref:b,..._})}),di(()=>{const b=p(y);S.itemMap.delete(b)})}};return{COLLECTION_INJECTION_KEY:s,COLLECTION_ITEM_INJECTION_KEY:a,ElCollection:u,ElCollectionItem:f}},kae=Xt({style:{type:nt([String,Array,Object])},currentTabId:{type:nt(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:nt(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Lae,ElCollectionItem:Oae,COLLECTION_INJECTION_KEY:a1,COLLECTION_ITEM_INJECTION_KEY:Fae}=uN("RovingFocusGroup"),l1=Symbol("elRovingFocusGroup"),dN=Symbol("elRovingFocusGroupItem"),Vae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Gae=(e,n)=>{if(n!=="rtl")return e;switch(e){case _n.right:return _n.left;case _n.left:return _n.right;default:return e}},Uae=(e,n,i)=>{const s=Gae(e.key,i);if(!(n==="vertical"&&[_n.left,_n.right].includes(s))&&!(n==="horizontal"&&[_n.up,_n.down].includes(s)))return Vae[s]},Hae=(e,n)=>e.map((i,s)=>e[(s+n)%e.length]),c1=e=>{const{activeElement:n}=document;for(const i of e)if(i===n||(i.focus(),n!==document.activeElement))return},Z2="currentTabIdChange",eM="rovingFocusGroup.entryFocus",Qae={bubbles:!1,cancelable:!0},Xae=Ge({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:kae,emits:[Z2,"entryFocus"],setup(e,{emit:n}){var i;const s=re((i=e.currentTabId||e.defaultCurrentTabId)!=null?i:null),a=re(!1),u=re(!1),f=re(null),{getItems:h}=hn(a1,void 0),_=z(()=>[{outline:"none"},e.style]),y=M=>{n(Z2,M)},S=()=>{a.value=!0},b=ci(M=>{var T;(T=e.onMousedown)==null||T.call(e,M)},()=>{u.value=!0}),w=ci(M=>{var T;(T=e.onFocus)==null||T.call(e,M)},M=>{const T=!p(u),{target:D,currentTarget:F}=M;if(D===F&&T&&!p(a)){const N=new Event(eM,Qae);if(F==null||F.dispatchEvent(N),!N.defaultPrevented){const G=h().filter(se=>se.focusable),U=G.find(se=>se.active),$=G.find(se=>se.id===p(s)),ee=[U,$,...G].filter(Boolean).map(se=>se.ref);c1(ee)}}u.value=!1}),C=ci(M=>{var T;(T=e.onBlur)==null||T.call(e,M)},()=>{a.value=!1}),x=(...M)=>{n("entryFocus",...M)};ir(l1,{currentTabbedId:Yh(s),loop:si(e,"loop"),tabIndex:z(()=>p(a)?-1:0),rovingFocusGroupRef:f,rovingFocusGroupRootStyle:_,orientation:si(e,"orientation"),dir:si(e,"dir"),onItemFocus:y,onItemShiftTab:S,onBlur:C,onFocus:w,onMousedown:b}),St(()=>e.currentTabId,M=>{s.value=M!=null?M:null}),Kr(f,eM,x)}});function zae(e,n,i,s,a,u){return vt(e.$slots,"default")}var $ae=Ht(Xae,[["render",zae],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const Wae=Ge({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Lae,ElRovingFocusGroupImpl:$ae}});function Kae(e,n,i,s,a,u){const f=Mn("el-roving-focus-group-impl"),h=Mn("el-focus-group-collection");return Q(),rt(h,null,{default:Ue(()=>[Re(f,Ho(Yg(e.$attrs)),{default:Ue(()=>[vt(e.$slots,"default")]),_:3},16)]),_:3})}var jae=Ht(Wae,[["render",Kae],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const qae=Ge({components:{ElRovingFocusCollectionItem:Oae},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:n}){const{currentTabbedId:i,loop:s,onItemFocus:a,onItemShiftTab:u}=hn(l1,void 0),{getItems:f}=hn(a1,void 0),h=Wo(),_=re(null),y=ci(C=>{n("mousedown",C)},C=>{e.focusable?a(p(h)):C.preventDefault()}),S=ci(C=>{n("focus",C)},()=>{a(p(h))}),b=ci(C=>{n("keydown",C)},C=>{const{key:x,shiftKey:M,target:T,currentTarget:D}=C;if(x===_n.tab&&M){u();return}if(T!==D)return;const F=Uae(C);if(F){C.preventDefault();let G=f().filter(U=>U.focusable).map(U=>U.ref);switch(F){case"last":{G.reverse();break}case"prev":case"next":{F==="prev"&&G.reverse();const U=G.indexOf(D);G=s.value?Hae(G,U+1):G.slice(U+1);break}}dn(()=>{c1(G)})}}),w=z(()=>i.value===p(h));return ir(dN,{rovingFocusGroupItemRef:_,tabIndex:z(()=>p(w)?0:-1),handleMousedown:y,handleFocus:S,handleKeydown:b}),{id:h,handleKeydown:b,handleFocus:S,handleMousedown:y}}});function Yae(e,n,i,s,a,u){const f=Mn("el-roving-focus-collection-item");return Q(),rt(f,{id:e.id,focusable:e.focusable,active:e.active},{default:Ue(()=>[vt(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var Jae=Ht(qae,[["render",Yae],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const rg=Xt({trigger:Fh.trigger,effect:{...Hi.effect,default:"light"},type:{type:nt(String)},placement:{type:nt(String),default:"bottom"},popperOptions:{type:nt(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:nt([Number,String]),default:0},maxHeight:{type:nt([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:nt(Object)},teleported:Hi.teleported}),fN=Xt({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:$r}}),Zae=Xt({onKeydown:{type:nt(Function)}}),ele=[_n.down,_n.pageDown,_n.home],hN=[_n.up,_n.pageUp,_n.end],tle=[...ele,...hN],{ElCollection:nle,ElCollectionItem:rle,COLLECTION_INJECTION_KEY:ile,COLLECTION_ITEM_INJECTION_KEY:sle}=uN("Dropdown"),Ev=Symbol("elDropdown"),{ButtonGroup:ole}=ns,ale=Ge({name:"ElDropdown",components:{ElButton:ns,ElButtonGroup:ole,ElScrollbar:cl,ElDropdownCollection:nle,ElTooltip:Ps,ElRovingFocusGroup:jae,ElOnlyChild:DT,ElIcon:un,ArrowDown:nc},props:rg,emits:["visible-change","click","command"],setup(e,{emit:n}){const i=Yn(),s=bt("dropdown"),{t:a}=yr(),u=re(),f=re(),h=re(null),_=re(null),y=re(null),S=re(null),b=re(!1),w=[_n.enter,_n.space,_n.down],C=z(()=>({maxHeight:wi(e.maxHeight)})),x=z(()=>[s.m(G.value)]),M=Wo().value,T=z(()=>e.id||M);function D(){F()}function F(){var be;(be=h.value)==null||be.onClose()}function N(){var be;(be=h.value)==null||be.onOpen()}const G=Ci();function U(...be){n("command",...be)}function $(){}function de(){const be=p(_);be==null||be.focus(),S.value=null}function ee(be){S.value=be}function se(be){b.value||(be.preventDefault(),be.stopImmediatePropagation())}function oe(){n("visible-change",!0)}function Ie(be){(be==null?void 0:be.type)==="keydown"&&_.value.focus()}function pe(){n("visible-change",!1)}return ir(Ev,{contentRef:_,role:z(()=>e.role),triggerId:T,isUsingKeyboard:b,onItemEnter:$,onItemLeave:de}),ir("elDropdown",{instance:i,dropdownSize:G,handleClick:D,commandHandler:U,trigger:si(e,"trigger"),hideOnClick:si(e,"hideOnClick")}),{t:a,ns:s,scrollbar:y,wrapStyle:C,dropdownTriggerKls:x,dropdownSize:G,triggerId:T,triggerKeys:w,currentTabId:S,handleCurrentTabIdChange:ee,handlerMainButtonClick:be=>{n("click",be)},handleEntryFocus:se,handleClose:F,handleOpen:N,handleBeforeShowTooltip:oe,handleShowTooltip:Ie,handleBeforeHideTooltip:pe,onFocusAfterTrapped:be=>{var _e,ie;be.preventDefault(),(ie=(_e=_.value)==null?void 0:_e.focus)==null||ie.call(_e,{preventScroll:!0})},popperRef:h,contentRef:_,triggeringElementRef:u,referenceElementRef:f}}});function lle(e,n,i,s,a,u){var f;const h=Mn("el-dropdown-collection"),_=Mn("el-roving-focus-group"),y=Mn("el-scrollbar"),S=Mn("el-only-child"),b=Mn("el-tooltip"),w=Mn("el-button"),C=Mn("arrow-down"),x=Mn("el-icon"),M=Mn("el-button-group");return Q(),ve("div",{class:Y([e.ns.b(),e.ns.is("disabled",e.disabled)])},[Re(b,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(f=e.referenceElementRef)==null?void 0:f.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},zl({content:Ue(()=>[Re(y,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:Ue(()=>[Re(_,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:Ue(()=>[Re(h,null,{default:Ue(()=>[vt(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:Ue(()=>[Re(S,{id:e.triggerId,role:"button",tabindex:e.tabindex},{default:Ue(()=>[vt(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(Q(),rt(M,{key:0},{default:Ue(()=>[Re(w,nr({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:Ue(()=>[vt(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),Re(w,nr({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:Ue(()=>[Re(x,{class:Y(e.ns.e("icon"))},{default:Ue(()=>[Re(C)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Ye("v-if",!0)],2)}var cle=Ht(ale,[["render",lle],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const ule=Ge({name:"DropdownItemImpl",components:{ElIcon:un},props:fN,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:n}){const i=bt("dropdown"),{role:s}=hn(Ev,void 0),{collectionItemRef:a}=hn(sle,void 0),{collectionItemRef:u}=hn(Fae,void 0),{rovingFocusGroupItemRef:f,tabIndex:h,handleFocus:_,handleKeydown:y,handleMousedown:S}=hn(dN,void 0),b=uv(a,u,f),w=z(()=>s.value==="menu"?"menuitem":s.value==="navigation"?"link":"button"),C=ci(x=>{const{code:M}=x;if(M===_n.enter||M===_n.space)return x.preventDefault(),x.stopImmediatePropagation(),n("clickimpl",x),!0},y);return{ns:i,itemRef:b,dataset:{[cN]:""},role:w,tabIndex:h,handleFocus:_,handleKeydown:C,handleMousedown:S}}}),dle=["aria-disabled","tabindex","role"];function fle(e,n,i,s,a,u){const f=Mn("el-icon");return Q(),ve(mn,null,[e.divided?(Q(),ve("li",nr({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):Ye("v-if",!0),Ce("li",nr({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:n[0]||(n[0]=h=>e.$emit("clickimpl",h)),onFocus:n[1]||(n[1]=(...h)=>e.handleFocus&&e.handleFocus(...h)),onKeydown:n[2]||(n[2]=(...h)=>e.handleKeydown&&e.handleKeydown(...h)),onMousedown:n[3]||(n[3]=(...h)=>e.handleMousedown&&e.handleMousedown(...h)),onPointermove:n[4]||(n[4]=h=>e.$emit("pointermove",h)),onPointerleave:n[5]||(n[5]=h=>e.$emit("pointerleave",h))}),[e.icon?(Q(),rt(f,{key:0},{default:Ue(()=>[(Q(),rt(rr(e.icon)))]),_:1})):Ye("v-if",!0),vt(e.$slots,"default")],16,dle)],64)}var hle=Ht(ule,[["render",fle],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const pN=()=>{const e=hn("elDropdown",{}),n=z(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:n}},ple=Ge({name:"ElDropdownItem",components:{ElDropdownCollectionItem:rle,ElRovingFocusItem:Jae,ElDropdownItemImpl:hle},inheritAttrs:!1,props:fN,emits:["pointermove","pointerleave","click"],setup(e,{emit:n,attrs:i}){const{elDropdown:s}=pN(),a=Yn(),u=re(null),f=z(()=>{var C,x;return(x=(C=p(u))==null?void 0:C.textContent)!=null?x:""}),{onItemEnter:h,onItemLeave:_}=hn(Ev,void 0),y=ci(C=>(n("pointermove",C),C.defaultPrevented),OI(C=>{var x;e.disabled?_(C):(h(C),C.defaultPrevented||(x=C.currentTarget)==null||x.focus())})),S=ci(C=>(n("pointerleave",C),C.defaultPrevented),OI(C=>{_(C)})),b=ci(C=>{if(!e.disabled)return n("click",C),C.type!=="keydown"&&C.defaultPrevented},C=>{var x,M,T;if(e.disabled){C.stopImmediatePropagation();return}(x=s==null?void 0:s.hideOnClick)!=null&&x.value&&((M=s.handleClick)==null||M.call(s)),(T=s.commandHandler)==null||T.call(s,e.command,a,C)}),w=z(()=>({...e,...i}));return{handleClick:b,handlePointerMove:y,handlePointerLeave:S,textContent:f,propsAndAttrs:w}}});function mle(e,n,i,s,a,u){var f;const h=Mn("el-dropdown-item-impl"),_=Mn("el-roving-focus-item"),y=Mn("el-dropdown-collection-item");return Q(),rt(y,{disabled:e.disabled,"text-value":(f=e.textValue)!=null?f:e.textContent},{default:Ue(()=>[Re(_,{focusable:!e.disabled},{default:Ue(()=>[Re(h,nr(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:Ue(()=>[vt(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var mN=Ht(ple,[["render",mle],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const gle=Ge({name:"ElDropdownMenu",props:Zae,setup(e){const n=bt("dropdown"),{_elDropdownSize:i}=pN(),s=i.value,{focusTrapRef:a,onKeydown:u}=hn(Yb,void 0),{contentRef:f,role:h,triggerId:_}=hn(Ev,void 0),{collectionRef:y,getItems:S}=hn(ile,void 0),{rovingFocusGroupRef:b,rovingFocusGroupRootStyle:w,tabIndex:C,onBlur:x,onFocus:M,onMousedown:T}=hn(l1,void 0),{collectionRef:D}=hn(a1,void 0),F=z(()=>[n.b("menu"),n.bm("menu",s==null?void 0:s.value)]),N=uv(f,y,a,b,D),G=ci($=>{var de;(de=e.onKeydown)==null||de.call(e,$)},$=>{const{currentTarget:de,code:ee,target:se}=$;if(de.contains(se),_n.tab===ee&&$.stopImmediatePropagation(),$.preventDefault(),se!==p(f)||!tle.includes(ee))return;const Ie=S().filter(pe=>!pe.disabled).map(pe=>pe.ref);hN.includes(ee)&&Ie.reverse(),c1(Ie)});return{size:s,rovingFocusGroupRootStyle:w,tabIndex:C,dropdownKls:F,role:h,triggerId:_,dropdownListWrapperRef:N,handleKeydown:$=>{G($),u($)},onBlur:x,onFocus:M,onMousedown:T}}}),vle=["role","aria-labelledby"];function _le(e,n,i,s,a,u){return Q(),ve("ul",{ref:e.dropdownListWrapperRef,class:Y(e.dropdownKls),style:fn(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:n[0]||(n[0]=(...f)=>e.onBlur&&e.onBlur(...f)),onFocus:n[1]||(n[1]=(...f)=>e.onFocus&&e.onFocus(...f)),onKeydown:n[2]||(n[2]=(...f)=>e.handleKeydown&&e.handleKeydown(...f)),onMousedown:n[3]||(n[3]=(...f)=>e.onMousedown&&e.onMousedown(...f))},[vt(e.$slots,"default")],46,vle)}var gN=Ht(gle,[["render",_le],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const Ale=Jn(cle,{DropdownItem:mN,DropdownMenu:gN}),yle=fi(mN),ble=fi(gN);let Sle=0;const Ele=Ge({name:"ImgEmpty",setup(){return{ns:bt("empty"),id:++Sle}}}),wle={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Cle=["id"],Ile=["stop-color"],Mle=["stop-color"],xle=["id"],Rle=["stop-color"],Tle=["stop-color"],Ple=["id"],Nle={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},Dle={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},Ble={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},kle=["fill"],Lle=["fill"],Ole={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},Fle=["fill"],Vle=["fill"],Gle=["fill"],Ule=["fill"],Hle=["fill"],Qle={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},Xle=["fill","xlink:href"],zle=["fill","mask"],$le=["fill"];function Wle(e,n,i,s,a,u){return Q(),ve("svg",wle,[Ce("defs",null,[Ce("linearGradient",{id:`linearGradient-1-${e.id}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Ce("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,Ile),Ce("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,Mle)],8,Cle),Ce("linearGradient",{id:`linearGradient-2-${e.id}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Ce("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,Rle),Ce("stop",{"stop-color":`var(${e.ns.cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,Tle)],8,xle),Ce("rect",{id:`path-3-${e.id}`,x:"0",y:"0",width:"17",height:"36"},null,8,Ple)]),Ce("g",Nle,[Ce("g",Dle,[Ce("g",Ble,[Ce("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${e.ns.cssVarBlockName("fill-color-3")})`},null,8,kle),Ce("polygon",{id:"Rectangle-Copy-14",fill:`var(${e.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,Lle),Ce("g",Ole,[Ce("polygon",{id:"Rectangle-Copy-10",fill:`var(${e.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,Fle),Ce("polygon",{id:"Rectangle-Copy-11",fill:`var(${e.ns.cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,Vle),Ce("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${e.id})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,Gle),Ce("polygon",{id:"Rectangle-Copy-13",fill:`var(${e.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,Ule)]),Ce("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${e.id})`,x:"13",y:"45",width:"40",height:"36"},null,8,Hle),Ce("g",Qle,[Ce("use",{id:"Mask",fill:`var(${e.ns.cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${e.id}`},null,8,Xle),Ce("polygon",{id:"Rectangle-Copy",fill:`var(${e.ns.cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${e.id})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,zle)]),Ce("polygon",{id:"Rectangle-Copy-18",fill:`var(${e.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,$le)])])])])}var Kle=Ht(Ele,[["render",Wle],["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const jle={image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}},qle=["src"],Yle={key:1},Jle=Ge({name:"ElEmpty"}),Zle=Ge({...Jle,props:jle,setup(e){const n=e,{t:i}=yr(),s=bt("empty"),a=z(()=>n.description||i("el.table.emptyText")),u=z(()=>({width:n.imageSize?`${n.imageSize}px`:""}));return(f,h)=>(Q(),ve("div",{class:Y(p(s).b())},[Ce("div",{class:Y(p(s).e("image")),style:fn(p(u))},[f.image?(Q(),ve("img",{key:0,src:f.image,ondragstart:"return false"},null,8,qle)):vt(f.$slots,"image",{key:1},()=>[Re(Kle)])],6),Ce("div",{class:Y(p(s).e("description"))},[f.$slots.description?vt(f.$slots,"description",{key:0}):(Q(),ve("p",Yle,Qt(p(a)),1))],2),f.$slots.default?(Q(),ve("div",{key:0,class:Y(p(s).e("bottom"))},[vt(f.$slots,"default")],2)):Ye("v-if",!0)],2))}});var ece=Ht(Zle,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const vN=Jn(ece),tce=Xt({model:Object,rules:{type:nt(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:sc},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),nce={validate:(e,n,i)=>(sn(e)||Dn(e))&&Mi(n)&&Dn(i)};function rce(){const e=re([]),n=z(()=>{if(!e.value.length)return"0";const u=Math.max(...e.value);return u?`${u}px`:""});function i(u){const f=e.value.indexOf(u);return f===-1&&n.value,f}function s(u,f){if(u&&f){const h=i(f);e.value.splice(h,1,u)}else u&&e.value.push(u)}function a(u){const f=i(u);f>-1&&e.value.splice(f,1)}return{autoLabelWidth:n,registerLabelWidth:s,deregisterLabelWidth:a}}const Bm=(e,n)=>{const i=Dd(n);return i.length>0?e.filter(s=>s.prop&&i.includes(s.prop)):e},ice="ElForm",sce=Ge({name:ice}),oce=Ge({...sce,props:tce,emits:nce,setup(e,{expose:n,emit:i}){const s=e,a=[],u=Ci(),f=bt("form"),h=z(()=>{const{labelPosition:F,inline:N}=s;return[f.b(),f.m(u.value||"default"),{[f.m(`label-${F}`)]:F,[f.m("inline")]:N}]}),_=F=>{a.push(F)},y=F=>{F.prop&&a.splice(a.indexOf(F),1)},S=(F=[])=>{!s.model||Bm(a,F).forEach(N=>N.resetField())},b=(F=[])=>{Bm(a,F).forEach(N=>N.clearValidate())},w=z(()=>!!s.model),C=F=>{if(a.length===0)return[];const N=Bm(a,F);return N.length?N:[]},x=async F=>T(void 0,F),M=async(F=[])=>{if(!w.value)return!1;const N=C(F);if(N.length===0)return!0;let G={};for(const U of N)try{await U.validate("")}catch($){G={...G,...$}}return Object.keys(G).length===0?!0:Promise.reject(G)},T=async(F=[],N)=>{const G=!Tn(N);try{const U=await M(F);return U===!0&&(N==null||N(U)),U}catch(U){if(U instanceof Error)throw U;const $=U;return s.scrollToError&&D(Object.keys($)[0]),N==null||N(!1,$),G&&Promise.reject($)}},D=F=>{var N;const G=Bm(a,F)[0];G&&((N=G.$el)==null||N.scrollIntoView())};return St(()=>s.rules,()=>{s.validateOnRuleChange&&x().catch(F=>void 0)},{deep:!0}),ir(vu,Tr({...xi(s),emit:i,resetFields:S,clearValidate:b,validateField:T,addField:_,removeField:y,...rce()})),n({validate:x,validateField:T,resetFields:S,clearValidate:b,scrollToField:D}),(F,N)=>(Q(),ve("form",{class:Y(p(h))},[vt(F.$slots,"default")],2))}});var ace=Ht(oce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},jc.apply(this,arguments)}function lce(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,Gh(e,n)}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ay(e)}function Gh(e,n){return Gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Gh(e,n)}function cce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ig(e,n,i){return cce()?ig=Reflect.construct.bind():ig=function(a,u,f){var h=[null];h.push.apply(h,u);var _=Function.bind.apply(a,h),y=new _;return f&&Gh(y,f.prototype),y},ig.apply(null,arguments)}function uce(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function ly(e){var n=typeof Map=="function"?new Map:void 0;return ly=function(s){if(s===null||!uce(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(s))return n.get(s);n.set(s,a)}function a(){return ig(s,arguments,ay(this).constructor)}return a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Gh(a,s)},ly(e)}var dce=/%[sdj%]/g,fce=function(){};typeof process<"u"&&process.env;function cy(e){if(!e||!e.length)return null;var n={};return e.forEach(function(i){var s=i.field;n[s]=n[s]||[],n[s].push(i)}),n}function Ws(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];var a=0,u=i.length;if(typeof e=="function")return e.apply(null,i);if(typeof e=="string"){var f=e.replace(dce,function(h){if(h==="%%")return"%";if(a>=u)return h;switch(h){case"%s":return String(i[a++]);case"%d":return Number(i[a++]);case"%j":try{return JSON.stringify(i[a++])}catch{return"[Circular]"}break;default:return h}});return f}return e}function hce(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Pi(e,n){return!!(e==null||n==="array"&&Array.isArray(e)&&!e.length||hce(n)&&typeof e=="string"&&!e)}function pce(e,n,i){var s=[],a=0,u=e.length;function f(h){s.push.apply(s,h||[]),a++,a===u&&i(s)}e.forEach(function(h){n(h,f)})}function tM(e,n,i){var s=0,a=e.length;function u(f){if(f&&f.length){i(f);return}var h=s;s=s+1,h<a?n(e[h],u):i([])}u([])}function mce(e){var n=[];return Object.keys(e).forEach(function(i){n.push.apply(n,e[i]||[])}),n}var nM=function(e){lce(n,e);function n(i,s){var a;return a=e.call(this,"Async Validation Error")||this,a.errors=i,a.fields=s,a}return n}(ly(Error));function gce(e,n,i,s,a){if(n.first){var u=new Promise(function(w,C){var x=function(D){return s(D),D.length?C(new nM(D,cy(D))):w(a)},M=mce(e);tM(M,i,x)});return u.catch(function(w){return w}),u}var f=n.firstFields===!0?Object.keys(e):n.firstFields||[],h=Object.keys(e),_=h.length,y=0,S=[],b=new Promise(function(w,C){var x=function(T){if(S.push.apply(S,T),y++,y===_)return s(S),S.length?C(new nM(S,cy(S))):w(a)};h.length||(s(S),w(a)),h.forEach(function(M){var T=e[M];f.indexOf(M)!==-1?tM(T,i,x):pce(T,i,x)})});return b.catch(function(w){return w}),b}function vce(e){return!!(e&&e.message!==void 0)}function _ce(e,n){for(var i=e,s=0;s<n.length;s++){if(i==null)return i;i=i[n[s]]}return i}function rM(e,n){return function(i){var s;return e.fullFields?s=_ce(n,e.fullFields):s=n[i.field||e.fullField],vce(i)?(i.field=i.field||e.fullField,i.fieldValue=s,i):{message:typeof i=="function"?i():i,fieldValue:s,field:i.field||e.fullField}}}function iM(e,n){if(n){for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];typeof s=="object"&&typeof e[i]=="object"?e[i]=jc({},e[i],s):e[i]=s}}return e}var _N=function(n,i,s,a,u,f){n.required&&(!s.hasOwnProperty(n.field)||Pi(i,f||n.type))&&a.push(Ws(u.messages.required,n.fullField))},Ace=function(n,i,s,a,u){(/^\s+$/.test(i)||i==="")&&a.push(Ws(u.messages.whitespace,n.fullField))},km,yce=function(){if(km)return km;var e="[a-fA-F\\d:]",n=function(G){return G&&G.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},i="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",s="[a-fA-F\\d]{1,4}",a=(`
(?:
(?:`+s+":){7}(?:"+s+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+s+":){6}(?:"+i+"|:"+s+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+s+":){5}(?::"+i+"|(?::"+s+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+s+":){4}(?:(?::"+s+"){0,1}:"+i+"|(?::"+s+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+s+":){3}(?:(?::"+s+"){0,2}:"+i+"|(?::"+s+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+s+":){2}(?:(?::"+s+"){0,3}:"+i+"|(?::"+s+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+s+":){1}(?:(?::"+s+"){0,4}:"+i+"|(?::"+s+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+s+"){0,5}:"+i+"|(?::"+s+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),u=new RegExp("(?:^"+i+"$)|(?:^"+a+"$)"),f=new RegExp("^"+i+"$"),h=new RegExp("^"+a+"$"),_=function(G){return G&&G.exact?u:new RegExp("(?:"+n(G)+i+n(G)+")|(?:"+n(G)+a+n(G)+")","g")};_.v4=function(N){return N&&N.exact?f:new RegExp(""+n(N)+i+n(N),"g")},_.v6=function(N){return N&&N.exact?h:new RegExp(""+n(N)+a+n(N),"g")};var y="(?:(?:[a-z]+:)?//)",S="(?:\\S+(?::\\S*)?@)?",b=_.v4().source,w=_.v6().source,C="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",x="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",M="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",T="(?::\\d{2,5})?",D='(?:[/?#][^\\s"]*)?',F="(?:"+y+"|www\\.)"+S+"(?:localhost|"+b+"|"+w+"|"+C+x+M+")"+T+D;return km=new RegExp("(?:^"+F+"$)","i"),km},sM={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},nh={integer:function(n){return nh.number(n)&&parseInt(n,10)===n},float:function(n){return nh.number(n)&&!nh.integer(n)},array:function(n){return Array.isArray(n)},regexp:function(n){if(n instanceof RegExp)return!0;try{return!!new RegExp(n)}catch{return!1}},date:function(n){return typeof n.getTime=="function"&&typeof n.getMonth=="function"&&typeof n.getYear=="function"&&!isNaN(n.getTime())},number:function(n){return isNaN(n)?!1:typeof n=="number"},object:function(n){return typeof n=="object"&&!nh.array(n)},method:function(n){return typeof n=="function"},email:function(n){return typeof n=="string"&&n.length<=320&&!!n.match(sM.email)},url:function(n){return typeof n=="string"&&n.length<=2048&&!!n.match(yce())},hex:function(n){return typeof n=="string"&&!!n.match(sM.hex)}},bce=function(n,i,s,a,u){if(n.required&&i===void 0){_N(n,i,s,a,u);return}var f=["integer","float","array","regexp","object","method","email","number","date","url","hex"],h=n.type;f.indexOf(h)>-1?nh[h](i)||a.push(Ws(u.messages.types[h],n.fullField,n.type)):h&&typeof i!==n.type&&a.push(Ws(u.messages.types[h],n.fullField,n.type))},Sce=function(n,i,s,a,u){var f=typeof n.len=="number",h=typeof n.min=="number",_=typeof n.max=="number",y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,S=i,b=null,w=typeof i=="number",C=typeof i=="string",x=Array.isArray(i);if(w?b="number":C?b="string":x&&(b="array"),!b)return!1;x&&(S=i.length),C&&(S=i.replace(y,"_").length),f?S!==n.len&&a.push(Ws(u.messages[b].len,n.fullField,n.len)):h&&!_&&S<n.min?a.push(Ws(u.messages[b].min,n.fullField,n.min)):_&&!h&&S>n.max?a.push(Ws(u.messages[b].max,n.fullField,n.max)):h&&_&&(S<n.min||S>n.max)&&a.push(Ws(u.messages[b].range,n.fullField,n.min,n.max))},td="enum",Ece=function(n,i,s,a,u){n[td]=Array.isArray(n[td])?n[td]:[],n[td].indexOf(i)===-1&&a.push(Ws(u.messages[td],n.fullField,n[td].join(", ")))},wce=function(n,i,s,a,u){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(i)||a.push(Ws(u.messages.pattern.mismatch,n.fullField,i,n.pattern));else if(typeof n.pattern=="string"){var f=new RegExp(n.pattern);f.test(i)||a.push(Ws(u.messages.pattern.mismatch,n.fullField,i,n.pattern))}}},Vr={required:_N,whitespace:Ace,type:bce,range:Sce,enum:Ece,pattern:wce},Cce=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Pi(i,"string")&&!n.required)return s();Vr.required(n,i,a,f,u,"string"),Pi(i,"string")||(Vr.type(n,i,a,f,u),Vr.range(n,i,a,f,u),Vr.pattern(n,i,a,f,u),n.whitespace===!0&&Vr.whitespace(n,i,a,f,u))}s(f)},Ice=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Pi(i)&&!n.required)return s();Vr.required(n,i,a,f,u),i!==void 0&&Vr.type(n,i,a,f,u)}s(f)},Mce=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(i===""&&(i=void 0),Pi(i)&&!n.required)return s();Vr.required(n,i,a,f,u),i!==void 0&&(Vr.type(n,i,a,f,u),Vr.range(n,i,a,f,u))}s(f)},xce=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Pi(i)&&!n.required)return s();Vr.required(n,i,a,f,u),i!==void 0&&Vr.type(n,i,a,f,u)}s(f)},Rce=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Pi(i)&&!n.required)return s();Vr.required(n,i,a,f,u),Pi(i)||Vr.type(n,i,a,f,u)}s(f)},Tce=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Pi(i)&&!n.required)return s();Vr.required(n,i,a,f,u),i!==void 0&&(Vr.type(n,i,a,f,u),Vr.range(n,i,a,f,u))}s(f)},Pce=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Pi(i)&&!n.required)return s();Vr.required(n,i,a,f,u),i!==void 0&&(Vr.type(n,i,a,f,u),Vr.range(n,i,a,f,u))}s(f)},Nce=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(i==null&&!n.required)return s();Vr.required(n,i,a,f,u,"array"),i!=null&&(Vr.type(n,i,a,f,u),Vr.range(n,i,a,f,u))}s(f)},Dce=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Pi(i)&&!n.required)return s();Vr.required(n,i,a,f,u),i!==void 0&&Vr.type(n,i,a,f,u)}s(f)},Bce="enum",kce=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Pi(i)&&!n.required)return s();Vr.required(n,i,a,f,u),i!==void 0&&Vr[Bce](n,i,a,f,u)}s(f)},Lce=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Pi(i,"string")&&!n.required)return s();Vr.required(n,i,a,f,u),Pi(i,"string")||Vr.pattern(n,i,a,f,u)}s(f)},Oce=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Pi(i,"date")&&!n.required)return s();if(Vr.required(n,i,a,f,u),!Pi(i,"date")){var _;i instanceof Date?_=i:_=new Date(i),Vr.type(n,_,a,f,u),_&&Vr.range(n,_.getTime(),a,f,u)}}s(f)},Fce=function(n,i,s,a,u){var f=[],h=Array.isArray(i)?"array":typeof i;Vr.required(n,i,a,f,u,h),s(f)},s0=function(n,i,s,a,u){var f=n.type,h=[],_=n.required||!n.required&&a.hasOwnProperty(n.field);if(_){if(Pi(i,f)&&!n.required)return s();Vr.required(n,i,a,h,u,f),Pi(i,f)||Vr.type(n,i,a,h,u)}s(h)},Vce=function(n,i,s,a,u){var f=[],h=n.required||!n.required&&a.hasOwnProperty(n.field);if(h){if(Pi(i)&&!n.required)return s();Vr.required(n,i,a,f,u)}s(f)},gh={string:Cce,method:Ice,number:Mce,boolean:xce,regexp:Rce,integer:Tce,float:Pce,array:Nce,object:Dce,enum:kce,pattern:Lce,date:Oce,url:s0,hex:s0,email:s0,required:Fce,any:Vce};function uy(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var n=JSON.parse(JSON.stringify(this));return n.clone=this.clone,n}}}var dy=uy(),lp=function(){function e(i){this.rules=null,this._messages=dy,this.define(i)}var n=e.prototype;return n.define=function(s){var a=this;if(!s)throw new Error("Cannot configure a schema with no rules");if(typeof s!="object"||Array.isArray(s))throw new Error("Rules must be an object");this.rules={},Object.keys(s).forEach(function(u){var f=s[u];a.rules[u]=Array.isArray(f)?f:[f]})},n.messages=function(s){return s&&(this._messages=iM(uy(),s)),this._messages},n.validate=function(s,a,u){var f=this;a===void 0&&(a={}),u===void 0&&(u=function(){});var h=s,_=a,y=u;if(typeof _=="function"&&(y=_,_={}),!this.rules||Object.keys(this.rules).length===0)return y&&y(null,h),Promise.resolve(h);function S(M){var T=[],D={};function F(G){if(Array.isArray(G)){var U;T=(U=T).concat.apply(U,G)}else T.push(G)}for(var N=0;N<M.length;N++)F(M[N]);T.length?(D=cy(T),y(T,D)):y(null,h)}if(_.messages){var b=this.messages();b===dy&&(b=uy()),iM(b,_.messages),_.messages=b}else _.messages=this.messages();var w={},C=_.keys||Object.keys(this.rules);C.forEach(function(M){var T=f.rules[M],D=h[M];T.forEach(function(F){var N=F;typeof N.transform=="function"&&(h===s&&(h=jc({},h)),D=h[M]=N.transform(D)),typeof N=="function"?N={validator:N}:N=jc({},N),N.validator=f.getValidationMethod(N),N.validator&&(N.field=M,N.fullField=N.fullField||M,N.type=f.getType(N),w[M]=w[M]||[],w[M].push({rule:N,value:D,source:h,field:M}))})});var x={};return gce(w,_,function(M,T){var D=M.rule,F=(D.type==="object"||D.type==="array")&&(typeof D.fields=="object"||typeof D.defaultField=="object");F=F&&(D.required||!D.required&&M.value),D.field=M.field;function N($,de){return jc({},de,{fullField:D.fullField+"."+$,fullFields:D.fullFields?[].concat(D.fullFields,[$]):[$]})}function G($){$===void 0&&($=[]);var de=Array.isArray($)?$:[$];!_.suppressWarning&&de.length&&e.warning("async-validator:",de),de.length&&D.message!==void 0&&(de=[].concat(D.message));var ee=de.map(rM(D,h));if(_.first&&ee.length)return x[D.field]=1,T(ee);if(!F)T(ee);else{if(D.required&&!M.value)return D.message!==void 0?ee=[].concat(D.message).map(rM(D,h)):_.error&&(ee=[_.error(D,Ws(_.messages.required,D.field))]),T(ee);var se={};D.defaultField&&Object.keys(M.value).map(function(pe){se[pe]=D.defaultField}),se=jc({},se,M.rule.fields);var oe={};Object.keys(se).forEach(function(pe){var ae=se[pe],ye=Array.isArray(ae)?ae:[ae];oe[pe]=ye.map(N.bind(null,pe))});var Ie=new e(oe);Ie.messages(_.messages),M.rule.options&&(M.rule.options.messages=_.messages,M.rule.options.error=_.error),Ie.validate(M.value,M.rule.options||_,function(pe){var ae=[];ee&&ee.length&&ae.push.apply(ae,ee),pe&&pe.length&&ae.push.apply(ae,pe),T(ae.length?ae:null)})}}var U;if(D.asyncValidator)U=D.asyncValidator(D,M.value,G,M.source,_);else if(D.validator){try{U=D.validator(D,M.value,G,M.source,_)}catch($){console.error==null||console.error($),_.suppressValidatorError||setTimeout(function(){throw $},0),G($.message)}U===!0?G():U===!1?G(typeof D.message=="function"?D.message(D.fullField||D.field):D.message||(D.fullField||D.field)+" fails"):U instanceof Array?G(U):U instanceof Error&&G(U.message)}U&&U.then&&U.then(function(){return G()},function($){return G($)})},function(M){S(M)},h)},n.getType=function(s){if(s.type===void 0&&s.pattern instanceof RegExp&&(s.type="pattern"),typeof s.validator!="function"&&s.type&&!gh.hasOwnProperty(s.type))throw new Error(Ws("Unknown rule type %s",s.type));return s.type||"string"},n.getValidationMethod=function(s){if(typeof s.validator=="function")return s.validator;var a=Object.keys(s),u=a.indexOf("message");return u!==-1&&a.splice(u,1),a.length===1&&a[0]==="required"?gh.required:gh[this.getType(s)]||void 0},e}();lp.register=function(n,i){if(typeof i!="function")throw new Error("Cannot register a validator by type, validator is not a function");gh[n]=i};lp.warning=fce;lp.messages=dy;lp.validators=gh;const Gce=["","error","validating","success"],Uce=Xt({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:nt([String,Array])},required:{type:Boolean,default:void 0},rules:{type:nt([Object,Array])},error:String,validateStatus:{type:String,values:Gce},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:sc}}),oM="ElLabelWrap";var Hce=Ge({name:oM,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:n}){const i=hn(vu,void 0),s=hn(Sa);s||Ri(oM,"usage: <el-form-item><label-wrap /></el-form-item>");const a=bt("form"),u=re(),f=re(0),h=()=>{var S;if((S=u.value)!=null&&S.firstElementChild){const b=window.getComputedStyle(u.value.firstElementChild).width;return Math.ceil(Number.parseFloat(b))}else return 0},_=(S="update")=>{dn(()=>{n.default&&e.isAutoWidth&&(S==="update"?f.value=h():S==="remove"&&(i==null||i.deregisterLabelWidth(f.value)))})},y=()=>_("update");return jn(()=>{y()}),di(()=>{_("remove")}),rl(()=>y()),St(f,(S,b)=>{e.updateAll&&(i==null||i.registerLabelWidth(S,b))}),as(z(()=>{var S,b;return(b=(S=u.value)==null?void 0:S.firstElementChild)!=null?b:null}),y),()=>{var S,b;if(!n)return null;const{isAutoWidth:w}=e;if(w){const C=i==null?void 0:i.autoLabelWidth,x=s==null?void 0:s.hasLabel,M={};if(x&&C&&C!=="auto"){const T=Math.max(0,Number.parseInt(C,10)-f.value),D=i.labelPosition==="left"?"marginRight":"marginLeft";T&&(M[D]=`${T}px`)}return Re("div",{ref:u,class:[a.be("item","label-wrap")],style:M},[(S=n.default)==null?void 0:S.call(n)])}else return Re(mn,{ref:u},[(b=n.default)==null?void 0:b.call(n)])}}});const Qce=["role","aria-labelledby"],Xce=Ge({name:"ElFormItem"}),zce=Ge({...Xce,props:Uce,setup(e,{expose:n}){const i=e,s=Ki(),a=hn(vu,void 0),u=hn(Sa,void 0),f=Ci(void 0,{formItem:!1}),h=bt("form-item"),_=Wo().value,y=re([]),S=re(""),b=_q(S,100),w=re(""),C=re();let x,M=!1;const T=z(()=>{if((a==null?void 0:a.labelPosition)==="top")return{};const it=wi(i.labelWidth||(a==null?void 0:a.labelWidth)||"");return it?{width:it}:{}}),D=z(()=>{if((a==null?void 0:a.labelPosition)==="top"||(a==null?void 0:a.inline))return{};if(!i.label&&!i.labelWidth&&se)return{};const it=wi(i.labelWidth||(a==null?void 0:a.labelWidth)||"");return!i.label&&!s.label?{marginLeft:it}:{}}),F=z(()=>[h.b(),h.m(f.value),h.is("error",S.value==="error"),h.is("validating",S.value==="validating"),h.is("success",S.value==="success"),h.is("required",ye.value||i.required),h.is("no-asterisk",a==null?void 0:a.hideRequiredAsterisk),(a==null?void 0:a.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[h.m("feedback")]:a==null?void 0:a.statusIcon}]),N=z(()=>Mi(i.inlineMessage)?i.inlineMessage:(a==null?void 0:a.inlineMessage)||!1),G=z(()=>[h.e("error"),{[h.em("error","inline")]:N.value}]),U=z(()=>i.prop?Dn(i.prop)?i.prop:i.prop.join("."):""),$=z(()=>!!(i.label||s.label)),de=z(()=>i.for||y.value.length===1?y.value[0]:void 0),ee=z(()=>!de.value&&$.value),se=!!u,oe=z(()=>{const it=a==null?void 0:a.model;if(!(!it||!i.prop))return $m(it,i.prop).value}),Ie=z(()=>{const{required:it}=i,je=[];i.rules&&je.push(...Dd(i.rules));const ot=a==null?void 0:a.rules;if(ot&&i.prop){const At=$m(ot,i.prop).value;At&&je.push(...Dd(At))}if(it!==void 0){const At=je.map((on,Ne)=>[on,Ne]).filter(([on])=>Object.keys(on).includes("required"));if(At.length>0)for(const[on,Ne]of At)on.required!==it&&(je[Ne]={...on,required:it});else je.push({required:it})}return je}),pe=z(()=>Ie.value.length>0),ae=it=>Ie.value.filter(ot=>!ot.trigger||!it?!0:Array.isArray(ot.trigger)?ot.trigger.includes(it):ot.trigger===it).map(({trigger:ot,...At})=>At),ye=z(()=>Ie.value.some(it=>it.required)),be=z(()=>{var it;return b.value==="error"&&i.showMessage&&((it=a==null?void 0:a.showMessage)!=null?it:!0)}),_e=z(()=>`${i.label||""}${(a==null?void 0:a.labelSuffix)||""}`),ie=it=>{S.value=it},fe=it=>{var je,ot;const{errors:At,fields:on}=it;(!At||!on)&&console.error(it),ie("error"),w.value=At?(ot=(je=At==null?void 0:At[0])==null?void 0:je.message)!=null?ot:`${i.prop} is required`:"",a==null||a.emit("validate",i.prop,!1,w.value)},le=()=>{ie("success"),a==null||a.emit("validate",i.prop,!0,"")},ke=async it=>{const je=U.value;return new lp({[je]:it}).validate({[je]:oe.value},{firstFields:!0}).then(()=>(le(),!0)).catch(At=>(fe(At),Promise.reject(At)))},ze=async(it,je)=>{if(M||!i.prop)return!1;const ot=Tn(je);if(!pe.value)return je==null||je(!1),!1;const At=ae(it);return At.length===0?(je==null||je(!0),!0):(ie("validating"),ke(At).then(()=>(je==null||je(!0),!0)).catch(on=>{const{fields:Ne}=on;return je==null||je(!1,Ne),ot?!1:Promise.reject(Ne)}))},Te=()=>{ie(""),w.value="",M=!1},Xe=async()=>{const it=a==null?void 0:a.model;if(!it||!i.prop)return;const je=$m(it,i.prop);M=!0,je.value=PI(x),await dn(),Te(),M=!1},_t=it=>{y.value.includes(it)||y.value.push(it)},wt=it=>{y.value=y.value.filter(je=>je!==it)};St(()=>i.error,it=>{w.value=it||"",ie(it?"error":"")},{immediate:!0}),St(()=>i.validateStatus,it=>ie(it||""));const xt=Tr({...xi(i),$el:C,size:f,validateState:S,labelId:_,inputIds:y,isGroup:ee,hasLabel:$,addInputId:_t,removeInputId:wt,resetField:Xe,clearValidate:Te,validate:ze});return ir(Sa,xt),jn(()=>{i.prop&&(a==null||a.addField(xt),x=PI(oe.value))}),di(()=>{a==null||a.removeField(xt)}),n({size:f,validateMessage:w,validateState:S,validate:ze,clearValidate:Te,resetField:Xe}),(it,je)=>{var ot;return Q(),ve("div",{ref_key:"formItemRef",ref:C,class:Y(p(F)),role:p(ee)?"group":void 0,"aria-labelledby":p(ee)?p(_):void 0},[Re(p(Hce),{"is-auto-width":p(T).width==="auto","update-all":((ot=p(a))==null?void 0:ot.labelWidth)==="auto"},{default:Ue(()=>[p($)?(Q(),rt(rr(p(de)?"label":"div"),{key:0,id:p(_),for:p(de),class:Y(p(h).e("label")),style:fn(p(T))},{default:Ue(()=>[vt(it.$slots,"label",{label:p(_e)},()=>[hr(Qt(p(_e)),1)])]),_:3},8,["id","for","class","style"])):Ye("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Ce("div",{class:Y(p(h).e("content")),style:fn(p(D))},[vt(it.$slots,"default"),Re(bi,{name:`${p(h).namespace.value}-zoom-in-top`},{default:Ue(()=>[p(be)?vt(it.$slots,"error",{key:0,error:w.value},()=>[Ce("div",{class:Y(p(G))},Qt(w.value),3)]):Ye("v-if",!0)]),_:3},8,["name"])],6)],10,Qce)}}});var AN=Ht(zce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const $ce=Jn(ace,{FormItem:AN}),Wce=fi(AN),Kce=Xt({urlList:{type:nt(Array),default:()=>Jr([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0}}),jce={close:()=>!0,switch:e=>Qn(e)},qce=["src"],Yce=Ge({name:"ElImageViewer"}),Jce=Ge({...Yce,props:Kce,emits:jce,setup(e,{expose:n,emit:i}){const s=e,a={CONTAIN:{name:"contain",icon:eu(wQ)},ORIGINAL:{name:"original",icon:eu(VX)}},u=Pb()?"DOMMouseScroll":"mousewheel",{t:f}=yr(),h=bt("image-viewer"),{nextZIndex:_}=al(),y=re(),S=re([]),b=SV(),w=re(!0),C=re(s.initialIndex),x=Wr(a.CONTAIN),M=re({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),T=z(()=>{const{urlList:fe}=s;return fe.length<=1}),D=z(()=>C.value===0),F=z(()=>C.value===s.urlList.length-1),N=z(()=>s.urlList[C.value]),G=z(()=>{const{scale:fe,deg:le,offsetX:ke,offsetY:ze,enableTransition:Te}=M.value;let Xe=ke/fe,_t=ze/fe;switch(le%360){case 90:case-270:[Xe,_t]=[_t,-Xe];break;case 180:case-180:[Xe,_t]=[-Xe,-_t];break;case 270:case-90:[Xe,_t]=[-_t,Xe];break}const wt={transform:`scale(${fe}) rotate(${le}deg) translate(${Xe}px, ${_t}px)`,transition:Te?"transform .3s":""};return x.value.name===a.CONTAIN.name&&(wt.maxWidth=wt.maxHeight="100%"),wt}),U=z(()=>Qn(s.zIndex)?s.zIndex:_());function $(){ee(),i("close")}function de(){const fe=nu(ke=>{switch(ke.code){case _n.esc:s.closeOnPressEscape&&$();break;case _n.space:ae();break;case _n.left:be();break;case _n.up:ie("zoomIn");break;case _n.right:_e();break;case _n.down:ie("zoomOut");break}}),le=nu(ke=>{(ke.wheelDelta?ke.wheelDelta:-ke.detail)>0?ie("zoomIn",{zoomRate:1.2,enableTransition:!1}):ie("zoomOut",{zoomRate:1.2,enableTransition:!1})});b.run(()=>{Kr(document,"keydown",fe),Kr(document,u,le)})}function ee(){b.stop()}function se(){w.value=!1}function oe(fe){w.value=!1,fe.target.alt=f("el.image.error")}function Ie(fe){if(w.value||fe.button!==0||!y.value)return;M.value.enableTransition=!1;const{offsetX:le,offsetY:ke}=M.value,ze=fe.pageX,Te=fe.pageY,Xe=nu(wt=>{M.value={...M.value,offsetX:le+wt.pageX-ze,offsetY:ke+wt.pageY-Te}}),_t=Kr(document,"mousemove",Xe);Kr(document,"mouseup",()=>{_t()}),fe.preventDefault()}function pe(){M.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function ae(){if(w.value)return;const fe=kh(a),le=Object.values(a),ke=x.value.name,Te=(le.findIndex(Xe=>Xe.name===ke)+1)%fe.length;x.value=a[fe[Te]],pe()}function ye(fe){const le=s.urlList.length;C.value=(fe+le)%le}function be(){D.value&&!s.infinite||ye(C.value-1)}function _e(){F.value&&!s.infinite||ye(C.value+1)}function ie(fe,le={}){if(w.value)return;const{zoomRate:ke,rotateDeg:ze,enableTransition:Te}={zoomRate:1.4,rotateDeg:90,enableTransition:!0,...le};switch(fe){case"zoomOut":M.value.scale>.2&&(M.value.scale=Number.parseFloat((M.value.scale/ke).toFixed(3)));break;case"zoomIn":M.value.scale<7&&(M.value.scale=Number.parseFloat((M.value.scale*ke).toFixed(3)));break;case"clockwise":M.value.deg+=ze;break;case"anticlockwise":M.value.deg-=ze;break}M.value.enableTransition=Te}return St(N,()=>{dn(()=>{const fe=S.value[0];fe!=null&&fe.complete||(w.value=!0)})}),St(C,fe=>{pe(),i("switch",fe)}),jn(()=>{var fe,le;de(),(le=(fe=y.value)==null?void 0:fe.focus)==null||le.call(fe)}),n({setActiveItem:ye}),(fe,le)=>(Q(),rt(Jh,{to:"body",disabled:!fe.teleported},[Re(bi,{name:"viewer-fade",appear:""},{default:Ue(()=>[Ce("div",{ref_key:"wrapper",ref:y,tabindex:-1,class:Y(p(h).e("wrapper")),style:fn({zIndex:p(U)})},[Ce("div",{class:Y(p(h).e("mask")),onClick:le[0]||(le[0]=Nn(ke=>fe.hideOnClickModal&&$(),["self"]))},null,2),Ye(" CLOSE "),Ce("span",{class:Y([p(h).e("btn"),p(h).e("close")]),onClick:$},[Re(p(un),null,{default:Ue(()=>[Re(p(zo))]),_:1})],2),Ye(" ARROW "),p(T)?Ye("v-if",!0):(Q(),ve(mn,{key:0},[Ce("span",{class:Y([p(h).e("btn"),p(h).e("prev"),p(h).is("disabled",!fe.infinite&&p(D))]),onClick:be},[Re(p(un),null,{default:Ue(()=>[Re(p(Wl))]),_:1})],2),Ce("span",{class:Y([p(h).e("btn"),p(h).e("next"),p(h).is("disabled",!fe.infinite&&p(F))]),onClick:_e},[Re(p(un),null,{default:Ue(()=>[Re(p(vs))]),_:1})],2)],64)),Ye(" ACTIONS "),Ce("div",{class:Y([p(h).e("btn"),p(h).e("actions")])},[Ce("div",{class:Y(p(h).e("actions__inner"))},[Re(p(un),{onClick:le[1]||(le[1]=ke=>ie("zoomOut"))},{default:Ue(()=>[Re(p(Wz))]),_:1}),Re(p(un),{onClick:le[2]||(le[2]=ke=>ie("zoomIn"))},{default:Ue(()=>[Re(p(dR))]),_:1}),Ce("i",{class:Y(p(h).e("actions__divider"))},null,2),Re(p(un),{onClick:ae},{default:Ue(()=>[(Q(),rt(rr(p(x).icon)))]),_:1}),Ce("i",{class:Y(p(h).e("actions__divider"))},null,2),Re(p(un),{onClick:le[3]||(le[3]=ke=>ie("anticlockwise"))},{default:Ue(()=>[Re(p(MX))]),_:1}),Re(p(un),{onClick:le[4]||(le[4]=ke=>ie("clockwise"))},{default:Ue(()=>[Re(p(DX))]),_:1})],2)],2),Ye(" CANVAS "),Ce("div",{class:Y(p(h).e("canvas"))},[(Q(!0),ve(mn,null,cr(fe.urlList,(ke,ze)=>Hn((Q(),ve("img",{ref_for:!0,ref:Te=>S.value[ze]=Te,key:ke,src:ke,style:fn(p(G)),class:Y(p(h).e("img")),onLoad:se,onError:oe,onMousedown:Ie},null,46,qce)),[[_r,ze===C.value]])),128))],2),vt(fe.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var Zce=Ht(Jce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const yN=Jn(Zce),eue=Xt({hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:{type:Boolean,default:!1},scrollContainer:{type:nt([String,Object])},previewSrcList:{type:nt(Array),default:()=>Jr([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0}}),tue={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>Qn(e),close:()=>!0,show:()=>!0},nue=["src","loading"],rue={key:0},iue=Ge({name:"ElImage",inheritAttrs:!1}),sue=Ge({...iue,props:eue,emits:tue,setup(e,{emit:n}){const i=e;let s="";const{t:a}=yr(),u=bt("image"),f=Zh(),h=Bb(),_=re(),y=re(!1),S=re(!0),b=re(!1),w=re(),C=re(),x=ur&&"loading"in HTMLImageElement.prototype;let M,T;const D=z(()=>f.style),F=z(()=>{const{fit:ie}=i;return ur&&ie?{objectFit:ie}:{}}),N=z(()=>{const{previewSrcList:ie}=i;return Array.isArray(ie)&&ie.length>0}),G=z(()=>{const{previewSrcList:ie,initialIndex:fe}=i;let le=fe;return fe>ie.length-1&&(le=0),le}),U=z(()=>i.loading==="eager"?!1:!x&&i.loading==="lazy"||i.lazy),$=()=>{!ur||(S.value=!0,y.value=!1,_.value=i.src)};function de(ie){S.value=!1,y.value=!1,n("load",ie)}function ee(ie){S.value=!1,y.value=!0,n("error",ie)}function se(){kq(w.value,C.value)&&($(),pe())}const oe=$R(se,200);async function Ie(){var ie;if(!ur)return;await dn();const{scrollContainer:fe}=i;$o(fe)?C.value=fe:Dn(fe)&&fe!==""?C.value=(ie=document.querySelector(fe))!=null?ie:void 0:w.value&&(C.value=Rb(w.value)),C.value&&(M=Kr(C,"scroll",oe),setTimeout(()=>se(),100))}function pe(){!ur||!C.value||!oe||(M==null||M(),C.value=void 0)}function ae(ie){if(!!ie.ctrlKey){if(ie.deltaY<0)return ie.preventDefault(),!1;if(ie.deltaY>0)return ie.preventDefault(),!1}}function ye(){!N.value||(T=Kr("wheel",ae,{passive:!1}),s=document.body.style.overflow,document.body.style.overflow="hidden",b.value=!0,n("show"))}function be(){T==null||T(),document.body.style.overflow=s,b.value=!1,n("close")}function _e(ie){n("switch",ie)}return St(()=>i.src,()=>{U.value?(S.value=!0,y.value=!1,pe(),Ie()):$()}),jn(()=>{U.value?Ie():$()}),(ie,fe)=>(Q(),ve("div",{ref_key:"container",ref:w,class:Y([p(u).b(),ie.$attrs.class]),style:fn(p(D))},[_.value!==void 0&&!y.value?(Q(),ve("img",nr({key:0},p(h),{src:_.value,loading:ie.loading,style:p(F),class:[p(u).e("inner"),p(N)&&p(u).e("preview"),S.value&&p(u).is("loading")],onClick:ye,onLoad:de,onError:ee}),null,16,nue)):Ye("v-if",!0),S.value||y.value?(Q(),ve("div",{key:1,class:Y(p(u).e("wrapper"))},[S.value?vt(ie.$slots,"placeholder",{key:0},()=>[Ce("div",{class:Y(p(u).e("placeholder"))},null,2)]):y.value?vt(ie.$slots,"error",{key:1},()=>[Ce("div",{class:Y(p(u).e("error"))},Qt(p(a)("el.image.error")),3)]):Ye("v-if",!0)],2)):Ye("v-if",!0),p(N)?(Q(),ve(mn,{key:2},[b.value?(Q(),rt(p(yN),{key:0,"z-index":ie.zIndex,"initial-index":p(G),infinite:ie.infinite,"url-list":ie.previewSrcList,"hide-on-click-modal":ie.hideOnClickModal,teleported:ie.previewTeleported,"close-on-press-escape":ie.closeOnPressEscape,onClose:be,onSwitch:_e},{default:Ue(()=>[ie.$slots.viewer?(Q(),ve("div",rue,[vt(ie.$slots,"viewer")])):Ye("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):Ye("v-if",!0)],64)):Ye("v-if",!0)],6))}});var oue=Ht(sue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const aue=Jn(oue),lue=Xt({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Ts,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||Qn(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),cue={[jr]:(e,n)=>e!==n,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[_s]:e=>Qn(e)||$i(e),[qn]:e=>Qn(e)||$i(e)},uue=["aria-label","onKeydown"],due=["aria-label","onKeydown"],fue=Ge({name:"ElInputNumber"}),hue=Ge({...fue,props:lue,emits:cue,setup(e,{expose:n,emit:i}){const s=e,{t:a}=yr(),u=bt("input-number"),f=re(),h=Tr({currentValue:s.modelValue,userInput:null}),{formItem:_}=ys(),y=z(()=>Qn(s.modelValue)&&F(s.modelValue,-1)<s.min),S=z(()=>Qn(s.modelValue)&&F(s.modelValue)>s.max),b=z(()=>{const ae=D(s.step);return Xi(s.precision)?Math.max(D(s.modelValue),ae):(ae>s.precision,s.precision)}),w=z(()=>s.controls&&s.controlsPosition==="right"),C=Ci(),x=Jo(),M=z(()=>{if(h.userInput!==null)return h.userInput;let ae=h.currentValue;if($i(ae))return"";if(Qn(ae)){if(Number.isNaN(ae))return"";Xi(s.precision)||(ae=ae.toFixed(s.precision))}return ae}),T=(ae,ye)=>{if(Xi(ye)&&(ye=b.value),ye===0)return Math.round(ae);let be=String(ae);const _e=be.indexOf(".");if(_e===-1||!be.replace(".","").split("")[_e+ye])return ae;const le=be.length;return be.charAt(le-1)==="5"&&(be=`${be.slice(0,Math.max(0,le-1))}6`),Number.parseFloat(Number(be).toFixed(ye))},D=ae=>{if($i(ae))return 0;const ye=ae.toString(),be=ye.indexOf(".");let _e=0;return be!==-1&&(_e=ye.length-be-1),_e},F=(ae,ye=1)=>Qn(ae)?T(ae+s.step*ye):h.currentValue,N=()=>{if(s.readonly||x.value||S.value)return;const ae=Number(M.value)||0,ye=F(ae);$(ye),i(_s,h.currentValue)},G=()=>{if(s.readonly||x.value||y.value)return;const ae=Number(M.value)||0,ye=F(ae,-1);$(ye),i(_s,h.currentValue)},U=(ae,ye)=>{const{max:be,min:_e,step:ie,precision:fe,stepStrictly:le,valueOnClear:ke}=s;let ze=Number(ae);if($i(ae)||Number.isNaN(ze))return null;if(ae===""){if(ke===null)return null;ze=Dn(ke)?{min:_e,max:be}[ke]:ke}return le&&(ze=T(Math.round(ze/ie)*ie,fe)),Xi(fe)||(ze=T(ze,fe)),(ze>be||ze<_e)&&(ze=ze>be?be:_e,ye&&i(qn,ze)),ze},$=ae=>{var ye;const be=h.currentValue,_e=U(ae);be!==_e&&(h.userInput=null,i(qn,_e),i(jr,_e,be),s.validateEvent&&((ye=_==null?void 0:_.validate)==null||ye.call(_,"change").catch(ie=>void 0)),h.currentValue=_e)},de=ae=>{h.userInput=ae,i(_s,ae===""?null:Number(ae))},ee=ae=>{const ye=ae!==""?Number(ae):"";(Qn(ye)&&!Number.isNaN(ye)||ae==="")&&$(ye),h.userInput=null},se=()=>{var ae,ye;(ye=(ae=f.value)==null?void 0:ae.focus)==null||ye.call(ae)},oe=()=>{var ae,ye;(ye=(ae=f.value)==null?void 0:ae.blur)==null||ye.call(ae)},Ie=ae=>{i("focus",ae)},pe=ae=>{var ye;i("blur",ae),s.validateEvent&&((ye=_==null?void 0:_.validate)==null||ye.call(_,"blur").catch(be=>void 0))};return St(()=>s.modelValue,ae=>{h.currentValue=U(ae,!0),h.userInput=null},{immediate:!0}),jn(()=>{var ae;const{min:ye,max:be,modelValue:_e}=s,ie=(ae=f.value)==null?void 0:ae.input;if(ie.setAttribute("role","spinbutton"),Number.isFinite(be)?ie.setAttribute("aria-valuemax",String(be)):ie.removeAttribute("aria-valuemax"),Number.isFinite(ye)?ie.setAttribute("aria-valuemin",String(ye)):ie.removeAttribute("aria-valuemin"),ie.setAttribute("aria-valuenow",String(h.currentValue)),ie.setAttribute("aria-disabled",String(x.value)),!Qn(_e)&&_e!=null){let fe=Number(_e);Number.isNaN(fe)&&(fe=null),i(qn,fe)}}),rl(()=>{var ae;const ye=(ae=f.value)==null?void 0:ae.input;ye==null||ye.setAttribute("aria-valuenow",`${h.currentValue}`)}),n({focus:se,blur:oe}),(ae,ye)=>(Q(),ve("div",{class:Y([p(u).b(),p(u).m(p(C)),p(u).is("disabled",p(x)),p(u).is("without-controls",!ae.controls),p(u).is("controls-right",p(w))]),onDragstart:ye[0]||(ye[0]=Nn(()=>{},["prevent"]))},[ae.controls?Hn((Q(),ve("span",{key:0,role:"button","aria-label":p(a)("el.inputNumber.decrease"),class:Y([p(u).e("decrease"),p(u).is("disabled",p(y))]),onKeydown:fr(G,["enter"])},[Re(p(un),null,{default:Ue(()=>[p(w)?(Q(),rt(p(nc),{key:0})):(Q(),rt(p(WQ),{key:1}))]),_:1})],42,uue)),[[p(xg),G]]):Ye("v-if",!0),ae.controls?Hn((Q(),ve("span",{key:1,role:"button","aria-label":p(a)("el.inputNumber.increase"),class:Y([p(u).e("increase"),p(u).is("disabled",p(S))]),onKeydown:fr(N,["enter"])},[Re(p(un),null,{default:Ue(()=>[p(w)?(Q(),rt(p(ev),{key:0})):(Q(),rt(p(cR),{key:1}))]),_:1})],42,due)),[[p(xg),N]]):Ye("v-if",!0),Re(p(os),{id:ae.id,ref_key:"input",ref:f,type:"number",step:ae.step,"model-value":p(M),placeholder:ae.placeholder,readonly:ae.readonly,disabled:p(x),size:p(C),max:ae.max,min:ae.min,name:ae.name,label:ae.label,"validate-event":!1,onKeydown:[fr(Nn(N,["prevent"]),["up"]),fr(Nn(G,["prevent"]),["down"])],onBlur:pe,onFocus:Ie,onInput:de,onChange:ee},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var pue=Ht(hue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const bN=Jn(pue),mue=Xt({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:$r}}),gue={click:e=>e instanceof MouseEvent},vue=["href"],_ue=Ge({name:"ElLink"}),Aue=Ge({..._ue,props:mue,emits:gue,setup(e,{emit:n}){const i=e,s=bt("link");function a(u){i.disabled||n("click",u)}return(u,f)=>(Q(),ve("a",{class:Y([p(s).b(),p(s).m(u.type),p(s).is("disabled",u.disabled),p(s).is("underline",u.underline&&!u.disabled)]),href:u.disabled||!u.href?void 0:u.href,onClick:a},[u.icon?(Q(),rt(p(un),{key:0},{default:Ue(()=>[(Q(),rt(rr(u.icon)))]),_:1})):Ye("v-if",!0),u.$slots.default?(Q(),ve("span",{key:1,class:Y(p(s).e("inner"))},[vt(u.$slots,"default")],2)):Ye("v-if",!0),u.$slots.icon?vt(u.$slots,"icon",{key:2}):Ye("v-if",!0)],10,vue))}});var yue=Ht(Aue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const bue=Jn(yue);class Sue{constructor(n,i){this.parent=n,this.domNode=i,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,i=>{i.addEventListener("keydown",s=>{let a=!1;switch(s.code){case _n.down:{this.gotoSubIndex(this.subIndex+1),a=!0;break}case _n.up:{this.gotoSubIndex(this.subIndex-1),a=!0;break}case _n.tab:{Xm(n,"mouseleave");break}case _n.enter:case _n.space:{a=!0,s.currentTarget.click();break}}return a&&(s.preventDefault(),s.stopPropagation()),!1})})}}class Eue{constructor(n,i){this.domNode=n,this.submenu=null,this.submenu=null,this.init(i)}init(n){this.domNode.setAttribute("tabindex","0");const i=this.domNode.querySelector(`.${n}-menu`);i&&(this.submenu=new Sue(this,i)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let i=!1;switch(n.code){case _n.down:{Xm(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),i=!0;break}case _n.up:{Xm(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),i=!0;break}case _n.tab:{Xm(n.currentTarget,"mouseleave");break}case _n.enter:case _n.space:{i=!0,n.currentTarget.click();break}}i&&n.preventDefault()})}}class wue{constructor(n,i){this.domNode=n,this.init(i)}init(n){const i=this.domNode.childNodes;Array.from(i).forEach(s=>{s.nodeType===1&&new Eue(s,n)})}}const Cue=Ge({name:"ElMenuCollapseTransition",setup(){const e=bt("menu");return{listeners:{onBeforeEnter:i=>i.style.opacity="0.2",onEnter(i,s){va(i,`${e.namespace.value}-opacity-transition`),i.style.opacity="1",s()},onAfterEnter(i){Ms(i,`${e.namespace.value}-opacity-transition`),i.style.opacity=""},onBeforeLeave(i){i.dataset||(i.dataset={}),Xo(i,e.m("collapse"))?(Ms(i,e.m("collapse")),i.dataset.oldOverflow=i.style.overflow,i.dataset.scrollWidth=i.clientWidth.toString(),va(i,e.m("collapse"))):(va(i,e.m("collapse")),i.dataset.oldOverflow=i.style.overflow,i.dataset.scrollWidth=i.clientWidth.toString(),Ms(i,e.m("collapse"))),i.style.width=`${i.scrollWidth}px`,i.style.overflow="hidden"},onLeave(i){va(i,"horizontal-collapse-transition"),i.style.width=`${i.dataset.scrollWidth}px`}}}}});function Iue(e,n,i,s,a,u){return Q(),rt(bi,nr({mode:"out-in"},e.listeners),{default:Ue(()=>[vt(e.$slots,"default")]),_:3},16)}var Mue=Ht(Cue,[["render",Iue],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function SN(e,n){const i=z(()=>{let a=e.parent;const u=[n.value];for(;a.type.name!=="ElMenu";)a.props.index&&u.unshift(a.props.index),a=a.parent;return u});return{parentMenu:z(()=>{let a=e.parent;for(;a&&!["ElMenu","ElSubMenu"].includes(a.type.name);)a=a.parent;return a}),indexPath:i}}function xue(e){return z(()=>{const i=e.backgroundColor;return i?new nP(i).shade(20).toString():""})}const EN=(e,n)=>{const i=bt("menu");return z(()=>i.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":xue(e).value||"","active-color":e.activeTextColor||"",level:`${n}`}))},Rue=Xt({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:$r},expandOpenIcon:{type:$r},collapseCloseIcon:{type:$r},collapseOpenIcon:{type:$r}}),o0="ElSubMenu";var u1=Ge({name:o0,props:Rue,setup(e,{slots:n,expose:i}){const s=Yn(),{indexPath:a,parentMenu:u}=SN(s,z(()=>e.index)),f=bt("menu"),h=bt("sub-menu"),_=hn("rootMenu");_||Ri(o0,"can not inject root menu");const y=hn(`subMenu:${u.value.uid}`);y||Ri(o0,"can not inject sub menu");const S=re({}),b=re({});let w;const C=re(!1),x=re(),M=re(null),T=z(()=>Ie.value==="horizontal"&&F.value?"bottom-start":"right-start"),D=z(()=>Ie.value==="horizontal"&&F.value||Ie.value==="vertical"&&!_.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?$.value?e.expandOpenIcon:e.expandCloseIcon:nc:e.collapseCloseIcon&&e.collapseOpenIcon?$.value?e.collapseOpenIcon:e.collapseCloseIcon:vs),F=z(()=>y.level===0),N=z(()=>e.popperAppendToBody===void 0?F.value:Boolean(e.popperAppendToBody)),G=z(()=>_.props.collapse?`${f.namespace.value}-zoom-in-left`:`${f.namespace.value}-zoom-in-top`),U=z(()=>Ie.value==="horizontal"&&F.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),$=z(()=>_.openedMenus.includes(e.index)),de=z(()=>{let le=!1;return Object.values(S.value).forEach(ke=>{ke.active&&(le=!0)}),Object.values(b.value).forEach(ke=>{ke.active&&(le=!0)}),le}),ee=z(()=>_.props.backgroundColor||""),se=z(()=>_.props.activeTextColor||""),oe=z(()=>_.props.textColor||""),Ie=z(()=>_.props.mode),pe=Tr({index:e.index,indexPath:a,active:de}),ae=z(()=>Ie.value!=="horizontal"?{color:oe.value}:{borderBottomColor:de.value?_.props.activeTextColor?se.value:"":"transparent",color:de.value?se.value:oe.value}),ye=()=>{var le,ke,ze;return(ze=(ke=(le=M.value)==null?void 0:le.popperRef)==null?void 0:ke.popperInstanceRef)==null?void 0:ze.destroy()},be=le=>{le||ye()},_e=()=>{_.props.menuTrigger==="hover"&&_.props.mode==="horizontal"||_.props.collapse&&_.props.mode==="vertical"||e.disabled||_.handleSubMenuClick({index:e.index,indexPath:a.value,active:de.value})},ie=(le,ke=e.showTimeout)=>{var ze;le.type!=="focus"&&(_.props.menuTrigger==="click"&&_.props.mode==="horizontal"||!_.props.collapse&&_.props.mode==="vertical"||e.disabled||(y.mouseInChild.value=!0,w==null||w(),{stop:w}=cu(()=>{_.openMenu(e.index,a.value)},ke),N.value&&((ze=u.value.vnode.el)==null||ze.dispatchEvent(new MouseEvent("mouseenter")))))},fe=(le=!1)=>{var ke,ze;_.props.menuTrigger==="click"&&_.props.mode==="horizontal"||!_.props.collapse&&_.props.mode==="vertical"||(w==null||w(),y.mouseInChild.value=!1,{stop:w}=cu(()=>!C.value&&_.closeMenu(e.index,a.value),e.hideTimeout),N.value&&le&&((ke=s.parent)==null?void 0:ke.type.name)==="ElSubMenu"&&((ze=y.handleMouseleave)==null||ze.call(y,!0)))};St(()=>_.props.collapse,le=>be(Boolean(le)));{const le=ze=>{b.value[ze.index]=ze},ke=ze=>{delete b.value[ze.index]};ir(`subMenu:${s.uid}`,{addSubMenu:le,removeSubMenu:ke,handleMouseleave:fe,mouseInChild:C,level:y.level+1})}return i({opened:$}),jn(()=>{_.addSubMenu(pe),y.addSubMenu(pe)}),di(()=>{y.removeSubMenu(pe),_.removeSubMenu(pe)}),()=>{var le;const ke=[(le=n.title)==null?void 0:le.call(n),An(un,{class:h.e("icon-arrow"),style:{transform:$.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&_.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Dn(D.value)?An(s.appContext.components[D.value]):An(D.value)})],ze=EN(_.props,y.level+1),Te=_.isMenuPopup?An(Ps,{ref:M,visible:$.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:T.value,teleported:N.value,fallbackPlacements:U.value,transition:G.value,gpuAcceleration:!1},{content:()=>{var Xe;return An("div",{class:[f.m(Ie.value),f.m("popup-container"),e.popperClass],onMouseenter:_t=>ie(_t,100),onMouseleave:()=>fe(!0),onFocus:_t=>ie(_t,100)},[An("ul",{class:[f.b(),f.m("popup"),f.m(`popup-${T.value}`)],style:ze.value},[(Xe=n.default)==null?void 0:Xe.call(n)])])},default:()=>An("div",{class:h.e("title"),style:[ae.value,{backgroundColor:ee.value}],onClick:_e},ke)}):An(mn,{},[An("div",{class:h.e("title"),style:[ae.value,{backgroundColor:ee.value}],ref:x,onClick:_e},ke),An(Sv,{},{default:()=>{var Xe;return Hn(An("ul",{role:"menu",class:[f.b(),f.m("inline")],style:ze.value},[(Xe=n.default)==null?void 0:Xe.call(n)]),[[_r,$.value]])}})]);return An("li",{class:[h.b(),h.is("active",de.value),h.is("opened",$.value),h.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:$.value,onMouseenter:ie,onMouseleave:()=>fe(!0),onFocus:ie},[Te])}}});const Tue=Xt({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:nt(Array),default:()=>Jr([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0}}),a0=e=>Array.isArray(e)&&e.every(n=>Dn(n)),Pue={close:(e,n)=>Dn(e)&&a0(n),open:(e,n)=>Dn(e)&&a0(n),select:(e,n,i,s)=>Dn(e)&&a0(n)&&tr(i)&&(s===void 0||s instanceof Promise)};var Nue=Ge({name:"ElMenu",props:Tue,emits:Pue,setup(e,{emit:n,slots:i,expose:s}){const a=Yn(),u=a.appContext.config.globalProperties.$router,f=re(),h=bt("menu"),_=bt("sub-menu"),y=re(-1),S=re(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),b=re(e.defaultActive),w=re({}),C=re({}),x=z(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),M=()=>{const oe=b.value&&w.value[b.value];if(!oe||e.mode==="horizontal"||e.collapse)return;oe.indexPath.forEach(pe=>{const ae=C.value[pe];ae&&T(pe,ae.indexPath)})},T=(oe,Ie)=>{S.value.includes(oe)||(e.uniqueOpened&&(S.value=S.value.filter(pe=>Ie.includes(pe))),S.value.push(oe),n("open",oe,Ie))},D=(oe,Ie)=>{const pe=S.value.indexOf(oe);pe!==-1&&S.value.splice(pe,1),n("close",oe,Ie)},F=({index:oe,indexPath:Ie})=>{S.value.includes(oe)?D(oe,Ie):T(oe,Ie)},N=oe=>{(e.mode==="horizontal"||e.collapse)&&(S.value=[]);const{index:Ie,indexPath:pe}=oe;if(!(Ie===void 0||pe===void 0))if(e.router&&u){const ae=oe.route||Ie,ye=u.push(ae).then(be=>(be||(b.value=Ie),be));n("select",Ie,pe,{index:Ie,indexPath:pe,route:ae},ye)}else b.value=Ie,n("select",Ie,pe,{index:Ie,indexPath:pe})},G=oe=>{const Ie=w.value,pe=Ie[oe]||b.value&&Ie[b.value]||Ie[e.defaultActive];pe?b.value=pe.index:b.value=oe},U=()=>{var oe,Ie;if(!f.value)return-1;const pe=Array.from((Ie=(oe=f.value)==null?void 0:oe.childNodes)!=null?Ie:[]).filter(le=>le.nodeName!=="#text"||le.nodeValue),ae=64,ye=Number.parseInt(getComputedStyle(f.value).paddingLeft,10),be=Number.parseInt(getComputedStyle(f.value).paddingRight,10),_e=f.value.clientWidth-ye-be;let ie=0,fe=0;return pe.forEach((le,ke)=>{ie+=le.offsetWidth||0,ie<=_e-ae&&(fe=ke+1)}),fe===pe.length?-1:fe},$=(oe,Ie=33.34)=>{let pe;return()=>{pe&&clearTimeout(pe),pe=setTimeout(()=>{oe()},Ie)}};let de=!0;const ee=()=>{const oe=()=>{y.value=-1,dn(()=>{y.value=U()})};de?oe():$(oe)(),de=!1};St(()=>e.defaultActive,oe=>{w.value[oe]||(b.value=""),G(oe)}),St(()=>e.collapse,oe=>{oe&&(S.value=[])}),St(w.value,M);let se;es(()=>{e.mode==="horizontal"&&e.ellipsis?se=as(f,ee).stop:se==null||se()});{const oe=ye=>{C.value[ye.index]=ye},Ie=ye=>{delete C.value[ye.index]};ir("rootMenu",Tr({props:e,openedMenus:S,items:w,subMenus:C,activeIndex:b,isMenuPopup:x,addMenuItem:ye=>{w.value[ye.index]=ye},removeMenuItem:ye=>{delete w.value[ye.index]},addSubMenu:oe,removeSubMenu:Ie,openMenu:T,closeMenu:D,handleMenuItemClick:N,handleSubMenuClick:F})),ir(`subMenu:${a.uid}`,{addSubMenu:oe,removeSubMenu:Ie,mouseInChild:re(!1),level:0})}return jn(()=>{e.mode==="horizontal"&&new wue(a.vnode.el,h.namespace.value)}),s({open:Ie=>{const{indexPath:pe}=C.value[Ie];pe.forEach(ae=>T(ae,pe))},close:D,handleResize:ee}),()=>{var oe,Ie;let pe=(Ie=(oe=i.default)==null?void 0:oe.call(i))!=null?Ie:[];const ae=[];if(e.mode==="horizontal"&&f.value){const _e=yd(pe),ie=y.value===-1?_e:_e.slice(0,y.value),fe=y.value===-1?[]:_e.slice(y.value);(fe==null?void 0:fe.length)&&e.ellipsis&&(pe=ie,ae.push(An(u1,{index:"sub-menu-more",class:_.e("hide-arrow")},{title:()=>An(un,{class:_.e("icon-more")},{default:()=>An(iX)}),default:()=>fe})))}const ye=EN(e,0),be=An("ul",{key:String(e.collapse),role:"menubar",ref:f,style:ye.value,class:{[h.b()]:!0,[h.m(e.mode)]:!0,[h.m("collapse")]:e.collapse}},[...pe,...ae]);return e.collapseTransition&&e.mode==="vertical"?An(Mue,()=>be):be}}});const Due=Xt({index:{type:nt([String,null]),default:null},route:{type:nt([String,Object])},disabled:Boolean}),Bue={click:e=>Dn(e.index)&&Array.isArray(e.indexPath)},l0="ElMenuItem",kue=Ge({name:l0,components:{ElTooltip:Ps},props:Due,emits:Bue,setup(e,{emit:n}){const i=Yn(),s=hn("rootMenu"),a=bt("menu"),u=bt("menu-item");s||Ri(l0,"can not inject root menu");const{parentMenu:f,indexPath:h}=SN(i,si(e,"index")),_=hn(`subMenu:${f.value.uid}`);_||Ri(l0,"can not inject sub menu");const y=z(()=>e.index===s.activeIndex),S=Tr({index:e.index,indexPath:h,active:y}),b=()=>{e.disabled||(s.handleMenuItemClick({index:e.index,indexPath:h.value,route:e.route}),n("click",S))};return jn(()=>{_.addSubMenu(S),s.addMenuItem(S)}),di(()=>{_.removeSubMenu(S),s.removeMenuItem(S)}),{Effect:VJ,parentMenu:f,rootMenu:s,active:y,nsMenu:a,nsMenuItem:u,handleClick:b}}});function Lue(e,n,i,s,a,u){const f=Mn("el-tooltip");return Q(),ve("li",{class:Y([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:n[0]||(n[0]=(...h)=>e.handleClick&&e.handleClick(...h))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(Q(),rt(f,{key:0,effect:e.Effect.DARK,placement:"right","fallback-placements":["left"],persistent:""},{content:Ue(()=>[vt(e.$slots,"title")]),default:Ue(()=>[Ce("div",{class:Y(e.nsMenu.be("tooltip","trigger"))},[vt(e.$slots,"default")],2)]),_:3},8,["effect"])):(Q(),ve(mn,{key:1},[vt(e.$slots,"default"),vt(e.$slots,"title")],64))],2)}var wN=Ht(kue,[["render",Lue],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const Oue={title:String},Fue="ElMenuItemGroup",Vue=Ge({name:Fue,props:Oue,setup(){return{ns:bt("menu-item-group")}}});function Gue(e,n,i,s,a,u){return Q(),ve("li",{class:Y(e.ns.b())},[Ce("div",{class:Y(e.ns.e("title"))},[e.$slots.title?vt(e.$slots,"title",{key:1}):(Q(),ve(mn,{key:0},[hr(Qt(e.title),1)],64))],2),Ce("ul",null,[vt(e.$slots,"default")])],2)}var CN=Ht(Vue,[["render",Gue],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const Uue=Jn(Nue,{MenuItem:wN,MenuItemGroup:CN,SubMenu:u1}),Hue=fi(wN),Que=fi(CN);fi(u1);const Xue=Xt({icon:{type:$r,default:()=>WU},title:String,content:{type:String,default:""}}),zue={back:()=>!0},$ue=["aria-label"],Wue=Ge({name:"ElPageHeader"}),Kue=Ge({...Wue,props:Xue,emits:zue,setup(e,{emit:n}){const i=Ki(),{t:s}=yr(),a=bt("page-header"),u=z(()=>[a.b(),{[a.m("has-breadcrumb")]:!!i.breadcrumb,[a.m("has-extra")]:!!i.extra,[a.is("contentful")]:!!i.default}]);function f(){n("back")}return(h,_)=>(Q(),ve("div",{class:Y(p(u))},[Ce("div",{class:Y(p(a).e("breadcrumb"))},[vt(h.$slots,"breadcrumb")],2),Ce("div",{class:Y(p(a).e("header"))},[Ce("div",{class:Y(p(a).e("left"))},[Ce("div",{class:Y(p(a).e("back")),role:"button",tabindex:"0",onClick:f},[h.icon||h.$slots.icon?(Q(),ve("div",{key:0,"aria-label":h.title||p(s)("el.pageHeader.title"),class:Y(p(a).e("icon"))},[vt(h.$slots,"icon",{},()=>[h.icon?(Q(),rt(p(un),{key:0},{default:Ue(()=>[(Q(),rt(rr(h.icon)))]),_:1})):Ye("v-if",!0)])],10,$ue)):Ye("v-if",!0),Ce("div",{class:Y(p(a).e("title"))},[vt(h.$slots,"title",{},()=>[hr(Qt(h.title||p(s)("el.pageHeader.title")),1)])],2)],2),Re(p(lN),{direction:"vertical"}),Ce("div",{class:Y(p(a).e("content"))},[vt(h.$slots,"content",{},()=>[hr(Qt(h.content),1)])],2)],2),h.$slots.extra?(Q(),ve("div",{key:0,class:Y(p(a).e("extra"))},[vt(h.$slots,"extra")],2)):Ye("v-if",!0)],2),h.$slots.default?(Q(),ve("div",{key:0,class:Y(p(a).e("main"))},[vt(h.$slots,"default")],2)):Ye("v-if",!0)],2))}});var jue=Ht(Kue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const que=Jn(jue),Yue=Xt({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:$r}}),Jue={click:e=>e instanceof MouseEvent},Zue=["disabled","aria-disabled"],ede={key:0},tde=Ge({name:"ElPaginationPrev"}),nde=Ge({...tde,props:Yue,emits:Jue,setup(e){const n=e,i=z(()=>n.disabled||n.currentPage<=1);return(s,a)=>(Q(),ve("button",{type:"button",class:"btn-prev",disabled:p(i),"aria-disabled":p(i),onClick:a[0]||(a[0]=u=>s.$emit("click",u))},[s.prevText?(Q(),ve("span",ede,Qt(s.prevText),1)):(Q(),rt(p(un),{key:1},{default:Ue(()=>[(Q(),rt(rr(s.prevIcon)))]),_:1}))],8,Zue))}});var rde=Ht(nde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const ide=Xt({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:$r}}),sde=["disabled","aria-disabled"],ode={key:0},ade=Ge({name:"ElPaginationNext"}),lde=Ge({...ade,props:ide,emits:["click"],setup(e){const n=e,i=z(()=>n.disabled||n.currentPage===n.pageCount||n.pageCount===0);return(s,a)=>(Q(),ve("button",{type:"button",class:"btn-next",disabled:p(i),"aria-disabled":p(i),onClick:a[0]||(a[0]=u=>s.$emit("click",u))},[s.nextText?(Q(),ve("span",ode,Qt(s.nextText),1)):(Q(),rt(p(un),{key:1},{default:Ue(()=>[(Q(),rt(rr(s.nextIcon)))]),_:1}))],8,sde))}});var cde=Ht(lde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const IN="ElSelectGroup",wv="ElSelect";function ude(e,n){const i=hn(wv),s=hn(IN,{disabled:!1}),a=z(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),u=z(()=>i.props.multiple?b(i.props.modelValue,e.value):w(e.value,i.props.modelValue)),f=z(()=>{if(i.props.multiple){const M=i.props.modelValue||[];return!u.value&&M.length>=i.props.multipleLimit&&i.props.multipleLimit>0}else return!1}),h=z(()=>e.label||(a.value?"":e.value)),_=z(()=>e.value||e.label||""),y=z(()=>e.disabled||n.groupDisabled||f.value),S=Yn(),b=(M=[],T)=>{if(a.value){const D=i.props.valueKey;return M&&M.some(F=>Nr(Yr(F,D))===Yr(T,D))}else return M&&M.includes(T)},w=(M,T)=>{if(a.value){const{valueKey:D}=i.props;return Yr(M,D)===Yr(T,D)}else return M===T},C=()=>{!e.disabled&&!s.disabled&&(i.hoverIndex=i.optionsArray.indexOf(S.proxy))};St(()=>h.value,()=>{!e.created&&!i.props.remote&&i.setSelected()}),St(()=>e.value,(M,T)=>{const{remote:D,valueKey:F}=i.props;if(Object.is(M,T)||(i.onOptionDestroy(T,S.proxy),i.onOptionCreate(S.proxy)),!e.created&&!D){if(F&&typeof M=="object"&&typeof T=="object"&&M[F]===T[F])return;i.setSelected()}}),St(()=>s.disabled,()=>{n.groupDisabled=s.disabled},{immediate:!0});const{queryChange:x}=Nr(i);return St(x,M=>{const{query:T}=p(M),D=new RegExp(Vq(T),"i");n.visible=D.test(h.value)||e.created,n.visible||i.filteredOptionsCount--}),{select:i,currentLabel:h,currentValue:_,itemSelected:u,isDisabled:y,hoverItem:C}}const dde=Ge({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const n=bt("select"),i=Tr({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:s,itemSelected:a,isDisabled:u,select:f,hoverItem:h}=ude(e,i),{visible:_,hover:y}=xi(i),S=Yn().proxy;f.onOptionCreate(S),di(()=>{const w=S.value,{selected:C}=f,M=(f.props.multiple?C:[C]).some(T=>T.value===S.value);dn(()=>{f.cachedOptions.get(w)===S&&!M&&f.cachedOptions.delete(w)}),f.onOptionDestroy(w,S)});function b(){e.disabled!==!0&&i.groupDisabled!==!0&&f.handleOptionSelect(S,!0)}return{ns:n,currentLabel:s,itemSelected:a,isDisabled:u,select:f,hoverItem:h,visible:_,hover:y,selectOptionClick:b,states:i}}});function fde(e,n,i,s,a,u){return Hn((Q(),ve("li",{class:Y([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:n[0]||(n[0]=(...f)=>e.hoverItem&&e.hoverItem(...f)),onClick:n[1]||(n[1]=Nn((...f)=>e.selectOptionClick&&e.selectOptionClick(...f),["stop"]))},[vt(e.$slots,"default",{},()=>[Ce("span",null,Qt(e.currentLabel),1)])],34)),[[_r,e.visible]])}var d1=Ht(dde,[["render",fde],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const hde=Ge({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=hn(wv),n=bt("select"),i=z(()=>e.props.popperClass),s=z(()=>e.props.multiple),a=z(()=>e.props.fitInputWidth),u=re("");function f(){var h;u.value=`${(h=e.selectWrapper)==null?void 0:h.offsetWidth}px`}return jn(()=>{f(),as(e.selectWrapper,f)}),{ns:n,minWidth:u,popperClass:i,isMultiple:s,isFitInputWidth:a}}});function pde(e,n,i,s,a,u){return Q(),ve("div",{class:Y([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:fn({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[vt(e.$slots,"default")],6)}var mde=Ht(hde,[["render",pde],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function gde(e){const{t:n}=yr();return Tr({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:n("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}const vde=(e,n,i)=>{const{t:s}=yr(),a=bt("select");jl({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},z(()=>e.suffixTransition===!1));const u=re(null),f=re(null),h=re(null),_=re(null),y=re(null),S=re(null),b=re(-1),w=Wr({query:""}),C=Wr(""),{form:x,formItem:M}=ys(),T=z(()=>!e.filterable||e.multiple||!n.visible),D=z(()=>e.disabled||(x==null?void 0:x.disabled)),F=z(()=>{const Ee=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!D.value&&n.inputHovering&&Ee}),N=z(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),G=z(()=>a.is("reverse",N.value&&n.visible&&e.suffixTransition)),U=z(()=>e.remote?300:0),$=z(()=>e.loading?e.loadingText||s("el.select.loading"):e.remote&&n.query===""&&n.options.size===0?!1:e.filterable&&n.query&&n.options.size>0&&n.filteredOptionsCount===0?e.noMatchText||s("el.select.noMatch"):n.options.size===0?e.noDataText||s("el.select.noData"):null),de=z(()=>Array.from(n.options.values())),ee=z(()=>Array.from(n.cachedOptions.values())),se=z(()=>{const Ee=de.value.filter(Qe=>!Qe.created).some(Qe=>Qe.currentLabel===n.query);return e.filterable&&e.allowCreate&&n.query!==""&&!Ee}),oe=Ci(),Ie=z(()=>["small"].includes(oe.value)?"small":"default"),pe=z({get(){return n.visible&&$.value!==!1},set(Ee){n.visible=Ee}});St([()=>D.value,()=>oe.value,()=>x==null?void 0:x.size],()=>{dn(()=>{ae()})}),St(()=>e.placeholder,Ee=>{n.cachedPlaceHolder=n.currentPlaceholder=Ee}),St(()=>e.modelValue,(Ee,Qe)=>{e.multiple&&(ae(),Ee&&Ee.length>0||f.value&&n.query!==""?n.currentPlaceholder="":n.currentPlaceholder=n.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(n.query="",ye(n.query))),ie(),e.filterable&&!e.multiple&&(n.inputLength=20),!qs(Ee,Qe)&&e.validateEvent&&(M==null||M.validate("change").catch(Et=>void 0))},{flush:"post",deep:!0}),St(()=>n.visible,Ee=>{var Qe,Et,Mt;Ee?((Et=(Qe=h.value)==null?void 0:Qe.updatePopper)==null||Et.call(Qe),e.filterable&&(n.filteredOptionsCount=n.optionsCount,n.query=e.remote?"":n.selectedLabel,e.multiple?(Mt=f.value)==null||Mt.focus():n.selectedLabel&&(n.currentPlaceholder=`${n.selectedLabel}`,n.selectedLabel=""),ye(n.query),!e.multiple&&!e.remote&&(w.value.query="",Xf(w),Xf(C)))):(e.filterable&&(Tn(e.filterMethod)&&e.filterMethod(""),Tn(e.remoteMethod)&&e.remoteMethod("")),f.value&&f.value.blur(),n.query="",n.previousQuery=null,n.selectedLabel="",n.inputLength=20,n.menuVisibleOnFocus=!1,le(),dn(()=>{f.value&&f.value.value===""&&n.selected.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)}),e.multiple||(n.selected&&(e.filterable&&e.allowCreate&&n.createdSelected&&n.createdLabel?n.selectedLabel=n.createdLabel:n.selectedLabel=n.selected.currentLabel,e.filterable&&(n.query=n.selectedLabel)),e.filterable&&(n.currentPlaceholder=n.cachedPlaceHolder))),i.emit("visible-change",Ee)}),St(()=>n.options.entries(),()=>{var Ee,Qe,Et;if(!ur)return;(Qe=(Ee=h.value)==null?void 0:Ee.updatePopper)==null||Qe.call(Ee),e.multiple&&ae();const Mt=((Et=y.value)==null?void 0:Et.querySelectorAll("input"))||[];Array.from(Mt).includes(document.activeElement)||ie(),e.defaultFirstOption&&(e.filterable||e.remote)&&n.filteredOptionsCount&&_e()},{flush:"post"}),St(()=>n.hoverIndex,Ee=>{Qn(Ee)&&Ee>-1?b.value=de.value[Ee]||{}:b.value={},de.value.forEach(Qe=>{Qe.hover=b.value===Qe})});const ae=()=>{e.collapseTags&&!e.filterable||dn(()=>{var Ee,Qe;if(!u.value)return;const Et=u.value.$el.querySelector("input"),Mt=_.value,Wn=Wq(oe.value||(x==null?void 0:x.size));Et.style.height=`${(n.selected.length===0?Wn:Math.max(Mt?Mt.clientHeight+(Mt.clientHeight>Wn?6:0):0,Wn))-2}px`,n.tagInMultiLine=Number.parseFloat(Et.style.height)>=Wn,n.visible&&$.value!==!1&&((Qe=(Ee=h.value)==null?void 0:Ee.updatePopper)==null||Qe.call(Ee))})},ye=async Ee=>{if(!(n.previousQuery===Ee||n.isOnComposition)){if(n.previousQuery===null&&(Tn(e.filterMethod)||Tn(e.remoteMethod))){n.previousQuery=Ee;return}n.previousQuery=Ee,dn(()=>{var Qe,Et;n.visible&&((Et=(Qe=h.value)==null?void 0:Qe.updatePopper)==null||Et.call(Qe))}),n.hoverIndex=-1,e.multiple&&e.filterable&&dn(()=>{const Qe=f.value.value.length*15+20;n.inputLength=e.collapseTags?Math.min(50,Qe):Qe,be(),ae()}),e.remote&&Tn(e.remoteMethod)?(n.hoverIndex=-1,e.remoteMethod(Ee)):Tn(e.filterMethod)?(e.filterMethod(Ee),Xf(C)):(n.filteredOptionsCount=n.optionsCount,w.value.query=Ee,Xf(w),Xf(C)),e.defaultFirstOption&&(e.filterable||e.remote)&&n.filteredOptionsCount&&(await dn(),_e())}},be=()=>{n.currentPlaceholder!==""&&(n.currentPlaceholder=f.value.value?"":n.cachedPlaceHolder)},_e=()=>{const Ee=de.value.filter(Mt=>Mt.visible&&!Mt.disabled&&!Mt.states.groupDisabled),Qe=Ee.find(Mt=>Mt.created),Et=Ee[0];n.hoverIndex=At(de.value,Qe||Et)},ie=()=>{var Ee;if(e.multiple)n.selectedLabel="";else{const Et=fe(e.modelValue);(Ee=Et.props)!=null&&Ee.created?(n.createdLabel=Et.props.value,n.createdSelected=!0):n.createdSelected=!1,n.selectedLabel=Et.currentLabel,n.selected=Et,e.filterable&&(n.query=n.selectedLabel);return}const Qe=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(Et=>{Qe.push(fe(Et))}),n.selected=Qe,dn(()=>{ae()})},fe=Ee=>{let Qe;const Et=Fm(Ee).toLowerCase()==="object",Mt=Fm(Ee).toLowerCase()==="null",Wn=Fm(Ee).toLowerCase()==="undefined";for(let oi=n.cachedOptions.size-1;oi>=0;oi--){const zn=ee.value[oi];if(Et?Yr(zn.value,e.valueKey)===Yr(Ee,e.valueKey):zn.value===Ee){Qe={value:Ee,currentLabel:zn.currentLabel,isDisabled:zn.isDisabled};break}}if(Qe)return Qe;const Ir=Et?Ee.label:!Mt&&!Wn?Ee:"",pr={value:Ee,currentLabel:Ir};return e.multiple&&(pr.hitState=!1),pr},le=()=>{setTimeout(()=>{const Ee=e.valueKey;e.multiple?n.selected.length>0?n.hoverIndex=Math.min.apply(null,n.selected.map(Qe=>de.value.findIndex(Et=>Yr(Et,Ee)===Yr(Qe,Ee)))):n.hoverIndex=-1:n.hoverIndex=de.value.findIndex(Qe=>Gn(Qe)===Gn(n.selected))},300)},ke=()=>{var Ee,Qe;ze(),(Qe=(Ee=h.value)==null?void 0:Ee.updatePopper)==null||Qe.call(Ee),e.multiple&&!e.filterable&&ae()},ze=()=>{var Ee;n.inputWidth=(Ee=u.value)==null?void 0:Ee.$el.getBoundingClientRect().width},Te=()=>{e.filterable&&n.query!==n.selectedLabel&&(n.query=n.selectedLabel,ye(n.query))},Xe=As(()=>{Te()},U.value),_t=As(Ee=>{ye(Ee.target.value)},U.value),wt=Ee=>{qs(e.modelValue,Ee)||i.emit(jr,Ee)},xt=Ee=>{if(Ee.target.value.length<=0&&!Bt()){const Qe=e.modelValue.slice();Qe.pop(),i.emit(qn,Qe),wt(Qe)}Ee.target.value.length===1&&e.modelValue.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)},it=(Ee,Qe)=>{const Et=n.selected.indexOf(Qe);if(Et>-1&&!D.value){const Mt=e.modelValue.slice();Mt.splice(Et,1),i.emit(qn,Mt),wt(Mt),i.emit("remove-tag",Qe.value)}Ee.stopPropagation()},je=Ee=>{Ee.stopPropagation();const Qe=e.multiple?[]:"";if(!Dn(Qe))for(const Et of n.selected)Et.isDisabled&&Qe.push(Et.value);i.emit(qn,Qe),wt(Qe),n.hoverIndex=-1,n.visible=!1,i.emit("clear")},ot=(Ee,Qe)=>{var Et;if(e.multiple){const Mt=(e.modelValue||[]).slice(),Wn=At(Mt,Ee.value);Wn>-1?Mt.splice(Wn,1):(e.multipleLimit<=0||Mt.length<e.multipleLimit)&&Mt.push(Ee.value),i.emit(qn,Mt),wt(Mt),Ee.created&&(n.query="",ye(""),n.inputLength=20),e.filterable&&((Et=f.value)==null||Et.focus())}else i.emit(qn,Ee.value),wt(Ee.value),n.visible=!1;n.isSilentBlur=Qe,on(),!n.visible&&dn(()=>{Ne(Ee)})},At=(Ee=[],Qe)=>{if(!tr(Qe))return Ee.indexOf(Qe);const Et=e.valueKey;let Mt=-1;return Ee.some((Wn,Ir)=>Nr(Yr(Wn,Et))===Yr(Qe,Et)?(Mt=Ir,!0):!1),Mt},on=()=>{n.softFocus=!0;const Ee=f.value||u.value;Ee&&(Ee==null||Ee.focus())},Ne=Ee=>{var Qe,Et,Mt,Wn,Ir;const pr=Array.isArray(Ee)?Ee[0]:Ee;let oi=null;if(pr!=null&&pr.value){const zn=de.value.filter(Mr=>Mr.value===pr.value);zn.length>0&&(oi=zn[0].$el)}if(h.value&&oi){const zn=(Wn=(Mt=(Et=(Qe=h.value)==null?void 0:Qe.popperRef)==null?void 0:Et.contentRef)==null?void 0:Mt.querySelector)==null?void 0:Wn.call(Mt,`.${a.be("dropdown","wrap")}`);zn&&jR(zn,oi)}(Ir=S.value)==null||Ir.handleScroll()},$e=Ee=>{n.optionsCount++,n.filteredOptionsCount++,n.options.set(Ee.value,Ee),n.cachedOptions.set(Ee.value,Ee)},ft=(Ee,Qe)=>{n.options.get(Ee)===Qe&&(n.optionsCount--,n.filteredOptionsCount--,n.options.delete(Ee))},Tt=Ee=>{Ee.code!==_n.backspace&&Bt(!1),n.inputLength=f.value.value.length*15+20,ae()},Bt=Ee=>{if(!Array.isArray(n.selected))return;const Qe=n.selected[n.selected.length-1];if(!!Qe)return Ee===!0||Ee===!1?(Qe.hitState=Ee,Ee):(Qe.hitState=!Qe.hitState,Qe.hitState)},ct=Ee=>{const Qe=Ee.target.value;if(Ee.type==="compositionend")n.isOnComposition=!1,dn(()=>ye(Qe));else{const Et=Qe[Qe.length-1]||"";n.isOnComposition=!dv(Et)}},Lt=()=>{dn(()=>Ne(n.selected))},gt=Ee=>{n.softFocus?n.softFocus=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!n.visible&&(n.menuVisibleOnFocus=!0),n.visible=!0),i.emit("focus",Ee))},xe=()=>{var Ee;n.visible=!1,(Ee=u.value)==null||Ee.blur()},qe=Ee=>{dn(()=>{n.isSilentBlur?n.isSilentBlur=!1:i.emit("blur",Ee)}),n.softFocus=!1},Dt=Ee=>{je(Ee)},zt=()=>{n.visible=!1},en=Ee=>{n.visible&&(Ee.preventDefault(),Ee.stopPropagation(),n.visible=!1)},gn=Ee=>{var Qe;Ee&&!n.mouseEnter||D.value||(n.menuVisibleOnFocus?n.menuVisibleOnFocus=!1:(!h.value||!h.value.isFocusInsideContent())&&(n.visible=!n.visible),n.visible&&((Qe=f.value||u.value)==null||Qe.focus()))},En=()=>{n.visible?de.value[n.hoverIndex]&&ot(de.value[n.hoverIndex],void 0):gn()},Gn=Ee=>tr(Ee.value)?Yr(Ee.value,e.valueKey):Ee.value,pt=z(()=>de.value.filter(Ee=>Ee.visible).every(Ee=>Ee.disabled)),yt=Ee=>{if(!n.visible){n.visible=!0;return}if(!(n.options.size===0||n.filteredOptionsCount===0)&&!n.isOnComposition&&!pt.value){Ee==="next"?(n.hoverIndex++,n.hoverIndex===n.options.size&&(n.hoverIndex=0)):Ee==="prev"&&(n.hoverIndex--,n.hoverIndex<0&&(n.hoverIndex=n.options.size-1));const Qe=de.value[n.hoverIndex];(Qe.disabled===!0||Qe.states.groupDisabled===!0||!Qe.visible)&&yt(Ee),dn(()=>Ne(b.value))}};return{optionsArray:de,selectSize:oe,handleResize:ke,debouncedOnInputChange:Xe,debouncedQueryChange:_t,deletePrevTag:xt,deleteTag:it,deleteSelected:je,handleOptionSelect:ot,scrollToOption:Ne,readonly:T,resetInputHeight:ae,showClose:F,iconComponent:N,iconReverse:G,showNewOption:se,collapseTagSize:Ie,setSelected:ie,managePlaceholder:be,selectDisabled:D,emptyText:$,toggleLastOptionHitState:Bt,resetInputState:Tt,handleComposition:ct,onOptionCreate:$e,onOptionDestroy:ft,handleMenuEnter:Lt,handleFocus:gt,blur:xe,handleBlur:qe,handleClearClick:Dt,handleClose:zt,handleKeydownEscape:en,toggleMenu:gn,selectOption:En,getValueKey:Gn,navigateOptions:yt,dropMenuVisible:pe,queryChange:w,groupQueryChange:C,reference:u,input:f,tooltipRef:h,tags:_,selectWrapper:y,scrollbar:S,handleMouseEnter:()=>{n.mouseEnter=!0},handleMouseLeave:()=>{n.mouseEnter=!1}}},aM="ElSelect",_de=Ge({name:aM,componentName:aM,components:{ElInput:os,ElSelectMenu:mde,ElOption:d1,ElTag:bv,ElScrollbar:cl,ElTooltip:Ps,ElIcon:un},directives:{ClickOutside:Jl},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:qd},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},teleported:Hi.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:$r,default:rc},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:$r,default:nc},tagType:{...r1.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:_u,default:"bottom-start"}},emits:[qn,jr,"remove-tag","clear","visible-change","focus","blur"],setup(e,n){const i=bt("select"),s=bt("input"),{t:a}=yr(),u=gde(e),{optionsArray:f,selectSize:h,readonly:_,handleResize:y,collapseTagSize:S,debouncedOnInputChange:b,debouncedQueryChange:w,deletePrevTag:C,deleteTag:x,deleteSelected:M,handleOptionSelect:T,scrollToOption:D,setSelected:F,resetInputHeight:N,managePlaceholder:G,showClose:U,selectDisabled:$,iconComponent:de,iconReverse:ee,showNewOption:se,emptyText:oe,toggleLastOptionHitState:Ie,resetInputState:pe,handleComposition:ae,onOptionCreate:ye,onOptionDestroy:be,handleMenuEnter:_e,handleFocus:ie,blur:fe,handleBlur:le,handleClearClick:ke,handleClose:ze,handleKeydownEscape:Te,toggleMenu:Xe,selectOption:_t,getValueKey:wt,navigateOptions:xt,dropMenuVisible:it,reference:je,input:ot,tooltipRef:At,tags:on,selectWrapper:Ne,scrollbar:$e,queryChange:ft,groupQueryChange:Tt,handleMouseEnter:Bt,handleMouseLeave:ct}=vde(e,u,n),{focus:Lt}=nY(je),{inputWidth:gt,selected:xe,inputLength:qe,filteredOptionsCount:Dt,visible:zt,softFocus:en,selectedLabel:gn,hoverIndex:En,query:Gn,inputHovering:pt,currentPlaceholder:yt,menuVisibleOnFocus:tn,isOnComposition:Bn,isSilentBlur:Ee,options:Qe,cachedOptions:Et,optionsCount:Mt,prefixWidth:Wn,tagInMultiLine:Ir}=xi(u),pr=z(()=>{const Ot=[i.b()],wn=p(h);return wn&&Ot.push(i.m(wn)),e.disabled&&Ot.push(i.m("disabled")),Ot}),oi=z(()=>({maxWidth:`${p(gt)-32}px`,width:"100%"})),zn=z(()=>({maxWidth:`${p(gt)>123?p(gt)-123:p(gt)-75}px`}));ir(wv,Tr({props:e,options:Qe,optionsArray:f,cachedOptions:Et,optionsCount:Mt,filteredOptionsCount:Dt,hoverIndex:En,handleOptionSelect:T,onOptionCreate:ye,onOptionDestroy:be,selectWrapper:Ne,selected:xe,setSelected:F,queryChange:ft,groupQueryChange:Tt})),jn(()=>{u.cachedPlaceHolder=yt.value=e.placeholder||a("el.select.placeholder"),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(yt.value=""),as(Ne,y),e.remote&&e.multiple&&N(),dn(()=>{const Ot=je.value&&je.value.$el;if(!!Ot&&(gt.value=Ot.getBoundingClientRect().width,n.slots.prefix)){const wn=Ot.querySelector(`.${s.e("prefix")}`);Wn.value=Math.max(wn.getBoundingClientRect().width+5,30)}}),F()}),e.multiple&&!Array.isArray(e.modelValue)&&n.emit(qn,[]),!e.multiple&&Array.isArray(e.modelValue)&&n.emit(qn,"");const Mr=z(()=>{var Ot,wn;return(wn=(Ot=At.value)==null?void 0:Ot.popperRef)==null?void 0:wn.contentRef});return{tagInMultiLine:Ir,prefixWidth:Wn,selectSize:h,readonly:_,handleResize:y,collapseTagSize:S,debouncedOnInputChange:b,debouncedQueryChange:w,deletePrevTag:C,deleteTag:x,deleteSelected:M,handleOptionSelect:T,scrollToOption:D,inputWidth:gt,selected:xe,inputLength:qe,filteredOptionsCount:Dt,visible:zt,softFocus:en,selectedLabel:gn,hoverIndex:En,query:Gn,inputHovering:pt,currentPlaceholder:yt,menuVisibleOnFocus:tn,isOnComposition:Bn,isSilentBlur:Ee,options:Qe,resetInputHeight:N,managePlaceholder:G,showClose:U,selectDisabled:$,iconComponent:de,iconReverse:ee,showNewOption:se,emptyText:oe,toggleLastOptionHitState:Ie,resetInputState:pe,handleComposition:ae,handleMenuEnter:_e,handleFocus:ie,blur:fe,handleBlur:le,handleClearClick:ke,handleClose:ze,handleKeydownEscape:Te,toggleMenu:Xe,selectOption:_t,getValueKey:wt,navigateOptions:xt,dropMenuVisible:it,focus:Lt,reference:je,input:ot,tooltipRef:At,popperPaneRef:Mr,tags:on,selectWrapper:Ne,scrollbar:$e,wrapperKls:pr,selectTagsStyle:oi,nsSelect:i,tagTextStyle:zn,handleMouseEnter:Bt,handleMouseLeave:ct}}}),Ade=["disabled","autocomplete"],yde={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function bde(e,n,i,s,a,u){const f=Mn("el-tag"),h=Mn("el-tooltip"),_=Mn("el-icon"),y=Mn("el-input"),S=Mn("el-option"),b=Mn("el-scrollbar"),w=Mn("el-select-menu"),C=Id("click-outside");return Hn((Q(),ve("div",{ref:"selectWrapper",class:Y(e.wrapperKls),onMouseenter:n[22]||(n[22]=(...x)=>e.handleMouseEnter&&e.handleMouseEnter(...x)),onMouseleave:n[23]||(n[23]=(...x)=>e.handleMouseLeave&&e.handleMouseLeave(...x)),onClick:n[24]||(n[24]=Nn((...x)=>e.toggleMenu&&e.toggleMenu(...x),["stop"]))},[Re(h,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:Ue(()=>[Ce("div",{class:"select-trigger",onMouseenter:n[20]||(n[20]=x=>e.inputHovering=!0),onMouseleave:n[21]||(n[21]=x=>e.inputHovering=!1)},[e.multiple?(Q(),ve("div",{key:0,ref:"tags",class:Y(e.nsSelect.e("tags")),style:fn(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(Q(),ve("span",{key:0,class:Y([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[Re(f,{closable:!e.selectDisabled&&!e.selected[0].isDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:e.tagType,"disable-transitions":"",onClose:n[0]||(n[0]=x=>e.deleteTag(x,e.selected[0]))},{default:Ue(()=>[Ce("span",{class:Y(e.nsSelect.e("tags-text")),style:fn(e.tagTextStyle)},Qt(e.selected[0].currentLabel),7)]),_:1},8,["closable","size","hit","type"]),e.selected.length>1?(Q(),rt(f,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:Ue(()=>[e.collapseTagsTooltip?(Q(),rt(h,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:Ue(()=>[Ce("span",{class:Y(e.nsSelect.e("tags-text"))},"+ "+Qt(e.selected.length-1),3)]),content:Ue(()=>[Ce("div",{class:Y(e.nsSelect.e("collapse-tags"))},[(Q(!0),ve(mn,null,cr(e.selected.slice(1),(x,M)=>(Q(),ve("div",{key:M,class:Y(e.nsSelect.e("collapse-tag"))},[(Q(),rt(f,{key:e.getValueKey(x),class:"in-tooltip",closable:!e.selectDisabled&&!x.isDisabled,size:e.collapseTagSize,hit:x.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:T=>e.deleteTag(T,x)},{default:Ue(()=>[Ce("span",{class:Y(e.nsSelect.e("tags-text")),style:fn({maxWidth:e.inputWidth-75+"px"})},Qt(x.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(Q(),ve("span",{key:1,class:Y(e.nsSelect.e("tags-text"))},"+ "+Qt(e.selected.length-1),3))]),_:1},8,["size","type"])):Ye("v-if",!0)],2)):Ye("v-if",!0),Ye(" <div> "),e.collapseTags?Ye("v-if",!0):(Q(),rt(bi,{key:1,onAfterLeave:e.resetInputHeight},{default:Ue(()=>[Ce("span",{class:Y([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(Q(!0),ve(mn,null,cr(e.selected,x=>(Q(),rt(f,{key:e.getValueKey(x),closable:!e.selectDisabled&&!x.isDisabled,size:e.collapseTagSize,hit:x.hitState,type:e.tagType,"disable-transitions":"",onClose:M=>e.deleteTag(M,x)},{default:Ue(()=>[Ce("span",{class:Y(e.nsSelect.e("tags-text")),style:fn({maxWidth:e.inputWidth-75+"px"})},Qt(x.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),Ye(" </div> "),e.filterable?Hn((Q(),ve("input",{key:2,ref:"input","onUpdate:modelValue":n[1]||(n[1]=x=>e.query=x),type:"text",class:Y([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:fn({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:`${e.inputLength/(e.inputWidth-32)}%`,maxWidth:`${e.inputWidth-42}px`}),onFocus:n[2]||(n[2]=(...x)=>e.handleFocus&&e.handleFocus(...x)),onBlur:n[3]||(n[3]=(...x)=>e.handleBlur&&e.handleBlur(...x)),onKeyup:n[4]||(n[4]=(...x)=>e.managePlaceholder&&e.managePlaceholder(...x)),onKeydown:[n[5]||(n[5]=(...x)=>e.resetInputState&&e.resetInputState(...x)),n[6]||(n[6]=fr(Nn(x=>e.navigateOptions("next"),["prevent"]),["down"])),n[7]||(n[7]=fr(Nn(x=>e.navigateOptions("prev"),["prevent"]),["up"])),n[8]||(n[8]=fr((...x)=>e.handleKeydownEscape&&e.handleKeydownEscape(...x),["esc"])),n[9]||(n[9]=fr(Nn((...x)=>e.selectOption&&e.selectOption(...x),["stop","prevent"]),["enter"])),n[10]||(n[10]=fr((...x)=>e.deletePrevTag&&e.deletePrevTag(...x),["delete"])),n[11]||(n[11]=fr(x=>e.visible=!1,["tab"]))],onCompositionstart:n[12]||(n[12]=(...x)=>e.handleComposition&&e.handleComposition(...x)),onCompositionupdate:n[13]||(n[13]=(...x)=>e.handleComposition&&e.handleComposition(...x)),onCompositionend:n[14]||(n[14]=(...x)=>e.handleComposition&&e.handleComposition(...x)),onInput:n[15]||(n[15]=(...x)=>e.debouncedQueryChange&&e.debouncedQueryChange(...x))},null,46,Ade)),[[rb,e.query]]):Ye("v-if",!0)],6)):Ye("v-if",!0),Re(y,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":n[16]||(n[16]=x=>e.selectedLabel=x),type:"text",placeholder:e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:Y([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[n[17]||(n[17]=fr(Nn(x=>e.navigateOptions("next"),["stop","prevent"]),["down"])),n[18]||(n[18]=fr(Nn(x=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),fr(Nn(e.selectOption,["stop","prevent"]),["enter"]),fr(e.handleKeydownEscape,["esc"]),n[19]||(n[19]=fr(x=>e.visible=!1,["tab"]))]},zl({suffix:Ue(()=>[e.iconComponent&&!e.showClose?(Q(),rt(_,{key:0,class:Y([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:Ue(()=>[(Q(),rt(rr(e.iconComponent)))]),_:1},8,["class"])):Ye("v-if",!0),e.showClose&&e.clearIcon?(Q(),rt(_,{key:1,class:Y([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:Ue(()=>[(Q(),rt(rr(e.clearIcon)))]),_:1},8,["class","onClick"])):Ye("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:Ue(()=>[Ce("div",yde,[vt(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:Ue(()=>[Re(w,null,{default:Ue(()=>[Hn(Re(b,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:Y([e.nsSelect.is("empty",!e.allowCreate&&Boolean(e.query)&&e.filteredOptionsCount===0)])},{default:Ue(()=>[e.showNewOption?(Q(),rt(S,{key:0,value:e.query,created:!0},null,8,["value"])):Ye("v-if",!0),vt(e.$slots,"default")]),_:3},8,["wrap-class","view-class","class"]),[[_r,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(Q(),ve(mn,{key:0},[e.$slots.empty?vt(e.$slots,"empty",{key:0}):(Q(),ve("p",{key:1,class:Y(e.nsSelect.be("dropdown","empty"))},Qt(e.emptyText),3))],64)):Ye("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","effect","transition","persistent","onShow"])],34)),[[C,e.handleClose,e.popperPaneRef]])}var Sde=Ht(_de,[["render",bde],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Ede=Ge({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const n=bt("select"),i=re(!0),s=Yn(),a=re([]);ir(IN,Tr({...xi(e)}));const u=hn(wv);jn(()=>{a.value=f(s.subTree)});const f=_=>{const y=[];return Array.isArray(_.children)&&_.children.forEach(S=>{var b;S.type&&S.type.name==="ElOption"&&S.component&&S.component.proxy?y.push(S.component.proxy):(b=S.children)!=null&&b.length&&y.push(...f(S))}),y},{groupQueryChange:h}=Nr(u);return St(h,()=>{i.value=a.value.some(_=>_.visible===!0)},{flush:"post"}),{visible:i,ns:n}}});function wde(e,n,i,s,a,u){return Hn((Q(),ve("ul",{class:Y(e.ns.be("group","wrap"))},[Ce("li",{class:Y(e.ns.be("group","title"))},Qt(e.label),3),Ce("li",null,[Ce("ul",{class:Y(e.ns.b("group"))},[vt(e.$slots,"default")],2)])],2)),[[_r,e.visible]])}var MN=Ht(Ede,[["render",wde],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const du=Jn(Sde,{Option:d1,OptionGroup:MN}),Tg=fi(d1),Cde=fi(MN),f1=()=>hn(oT,{}),Ide=Xt({pageSize:{type:Number,required:!0},pageSizes:{type:nt(Array),default:()=>Jr([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:sc}}),Mde=Ge({name:"ElPaginationSizes"}),xde=Ge({...Mde,props:Ide,emits:["page-size-change"],setup(e,{emit:n}){const i=e,{t:s}=yr(),a=bt("pagination"),u=f1(),f=re(i.pageSize);St(()=>i.pageSizes,(y,S)=>{if(!qs(y,S)&&Array.isArray(y)){const b=y.includes(i.pageSize)?i.pageSize:i.pageSizes[0];n("page-size-change",b)}}),St(()=>i.pageSize,y=>{f.value=y});const h=z(()=>i.pageSizes);function _(y){var S;y!==f.value&&(f.value=y,(S=u.handleSizeChange)==null||S.call(u,Number(y)))}return(y,S)=>(Q(),ve("span",{class:Y(p(a).e("sizes"))},[Re(p(du),{"model-value":f.value,disabled:y.disabled,"popper-class":y.popperClass,size:y.size,"validate-event":!1,onChange:_},{default:Ue(()=>[(Q(!0),ve(mn,null,cr(p(h),b=>(Q(),rt(p(Tg),{key:b,value:b,label:b+p(s)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var Rde=Ht(xde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const Tde=["disabled"],Pde=Ge({name:"ElPaginationJumper"}),Nde=Ge({...Pde,setup(e){const{t:n}=yr(),i=bt("pagination"),{pageCount:s,disabled:a,currentPage:u,changeEvent:f}=f1(),h=re(),_=z(()=>{var b;return(b=h.value)!=null?b:u==null?void 0:u.value});function y(b){h.value=+b}function S(b){b=Math.trunc(+b),f==null||f(+b),h.value=void 0}return(b,w)=>(Q(),ve("span",{class:Y(p(i).e("jump")),disabled:p(a)},[hr(Qt(p(n)("el.pagination.goto"))+" ",1),Re(p(os),{size:"small",class:Y([p(i).e("editor"),p(i).is("in-pagination")]),min:1,max:p(s),disabled:p(a),"model-value":p(_),"validate-event":!1,type:"number","onUpdate:modelValue":y,onChange:S},null,8,["class","max","disabled","model-value"]),hr(" "+Qt(p(n)("el.pagination.pageClassifier")),1)],10,Tde))}});var Dde=Ht(Nde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const Bde=Xt({total:{type:Number,default:1e3}}),kde=["disabled"],Lde=Ge({name:"ElPaginationTotal"}),Ode=Ge({...Lde,props:Bde,setup(e){const{t:n}=yr(),i=bt("pagination"),{disabled:s}=f1();return(a,u)=>(Q(),ve("span",{class:Y(p(i).e("total")),disabled:p(s)},Qt(p(n)("el.pagination.total",{total:a.total})),11,kde))}});var Fde=Ht(Ode,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const Vde=Xt({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Gde=["onKeyup"],Ude=["aria-current","tabindex"],Hde=["tabindex"],Qde=["aria-current","tabindex"],Xde=["tabindex"],zde=["aria-current","tabindex"],$de=Ge({name:"ElPaginationPager"}),Wde=Ge({...$de,props:Vde,emits:["change"],setup(e,{emit:n}){const i=e,s=bt("pager"),a=bt("icon"),u=re(!1),f=re(!1),h=re(!1),_=re(!1),y=re(!1),S=re(!1),b=z(()=>{const D=i.pagerCount,F=(D-1)/2,N=Number(i.currentPage),G=Number(i.pageCount);let U=!1,$=!1;G>D&&(N>D-F&&(U=!0),N<G-F&&($=!0));const de=[];if(U&&!$){const ee=G-(D-2);for(let se=ee;se<G;se++)de.push(se)}else if(!U&&$)for(let ee=2;ee<D;ee++)de.push(ee);else if(U&&$){const ee=Math.floor(D/2)-1;for(let se=N-ee;se<=N+ee;se++)de.push(se)}else for(let ee=2;ee<G;ee++)de.push(ee);return de}),w=z(()=>i.disabled?-1:0);es(()=>{const D=(i.pagerCount-1)/2;u.value=!1,f.value=!1,i.pageCount>i.pagerCount&&(i.currentPage>i.pagerCount-D&&(u.value=!0),i.currentPage<i.pageCount-D&&(f.value=!0))});function C(D=!1){i.disabled||(D?h.value=!0:_.value=!0)}function x(D=!1){D?y.value=!0:S.value=!0}function M(D){const F=D.target;if(F.tagName.toLowerCase()==="li"&&Array.from(F.classList).includes("number")){const N=Number(F.textContent);N!==i.currentPage&&n("change",N)}else F.tagName.toLowerCase()==="li"&&Array.from(F.classList).includes("more")&&T(D)}function T(D){const F=D.target;if(F.tagName.toLowerCase()==="ul"||i.disabled)return;let N=Number(F.textContent);const G=i.pageCount,U=i.currentPage,$=i.pagerCount-2;F.className.includes("more")&&(F.className.includes("quickprev")?N=U-$:F.className.includes("quicknext")&&(N=U+$)),Number.isNaN(+N)||(N<1&&(N=1),N>G&&(N=G)),N!==U&&n("change",N)}return(D,F)=>(Q(),ve("ul",{class:Y(p(s).b()),onClick:T,onKeyup:fr(M,["enter"])},[D.pageCount>0?(Q(),ve("li",{key:0,class:Y([[p(s).is("active",D.currentPage===1),p(s).is("disabled",D.disabled)],"number"]),"aria-current":D.currentPage===1,tabindex:p(w)}," 1 ",10,Ude)):Ye("v-if",!0),u.value?(Q(),ve("li",{key:1,class:Y(["more","btn-quickprev",p(a).b(),p(s).is("disabled",D.disabled)]),tabindex:p(w),onMouseenter:F[0]||(F[0]=N=>C(!0)),onMouseleave:F[1]||(F[1]=N=>h.value=!1),onFocus:F[2]||(F[2]=N=>x(!0)),onBlur:F[3]||(F[3]=N=>y.value=!1)},[h.value||y.value?(Q(),rt(p(Td),{key:0})):(Q(),rt(p(iI),{key:1}))],42,Hde)):Ye("v-if",!0),(Q(!0),ve(mn,null,cr(p(b),N=>(Q(),ve("li",{key:N,class:Y([[p(s).is("active",D.currentPage===N),p(s).is("disabled",D.disabled)],"number"]),"aria-current":D.currentPage===N,tabindex:p(w)},Qt(N),11,Qde))),128)),f.value?(Q(),ve("li",{key:2,class:Y(["more","btn-quicknext",p(a).b(),p(s).is("disabled",D.disabled)]),tabindex:p(w),onMouseenter:F[4]||(F[4]=N=>C()),onMouseleave:F[5]||(F[5]=N=>_.value=!1),onFocus:F[6]||(F[6]=N=>x()),onBlur:F[7]||(F[7]=N=>S.value=!1)},[_.value||S.value?(Q(),rt(p(Pd),{key:0})):(Q(),rt(p(iI),{key:1}))],42,Xde)):Ye("v-if",!0),D.pageCount>1?(Q(),ve("li",{key:3,class:Y([[p(s).is("active",D.currentPage===D.pageCount),p(s).is("disabled",D.disabled)],"number"]),"aria-current":D.currentPage===D.pageCount,tabindex:p(w)},Qt(D.pageCount),11,zde)):Ye("v-if",!0)],42,Gde))}});var Kde=Ht(Wde,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const ps=e=>typeof e!="number",jde=Xt({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>typeof e=="number"&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:nt(Array),default:()=>Jr([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:$r,default:()=>Wl},nextText:{type:String,default:""},nextIcon:{type:$r,default:()=>vs},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),qde={"update:current-page":e=>typeof e=="number","update:page-size":e=>typeof e=="number","size-change":e=>typeof e=="number","current-change":e=>typeof e=="number","prev-click":e=>typeof e=="number","next-click":e=>typeof e=="number"},lM="ElPagination";var Yde=Ge({name:lM,props:jde,emits:qde,setup(e,{emit:n,slots:i}){const{t:s}=yr(),a=bt("pagination"),u=Yn().vnode.props||{},f="onUpdate:currentPage"in u||"onUpdate:current-page"in u||"onCurrentChange"in u,h="onUpdate:pageSize"in u||"onUpdate:page-size"in u||"onSizeChange"in u,_=z(()=>{if(ps(e.total)&&ps(e.pageCount)||!ps(e.currentPage)&&!f)return!1;if(e.layout.includes("sizes")){if(ps(e.pageCount)){if(!ps(e.total)&&!ps(e.pageSize)&&!h)return!1}else if(!h)return!1}return!0}),y=re(ps(e.defaultPageSize)?10:e.defaultPageSize),S=re(ps(e.defaultCurrentPage)?1:e.defaultCurrentPage),b=z({get(){return ps(e.pageSize)?y.value:e.pageSize},set(N){ps(e.pageSize)&&(y.value=N),h&&(n("update:page-size",N),n("size-change",N))}}),w=z(()=>{let N=0;return ps(e.pageCount)?ps(e.total)||(N=Math.max(1,Math.ceil(e.total/b.value))):N=e.pageCount,N}),C=z({get(){return ps(e.currentPage)?S.value:e.currentPage},set(N){let G=N;N<1?G=1:N>w.value&&(G=w.value),ps(e.currentPage)&&(S.value=G),f&&(n("update:current-page",G),n("current-change",G))}});St(w,N=>{C.value>N&&(C.value=N)});function x(N){C.value=N}function M(N){b.value=N;const G=w.value;C.value>G&&(C.value=G)}function T(){e.disabled||(C.value-=1,n("prev-click",C.value))}function D(){e.disabled||(C.value+=1,n("next-click",C.value))}function F(N,G){N&&(N.props||(N.props={}),N.props.class=[N.props.class,G].join(" "))}return ir(oT,{pageCount:w,disabled:z(()=>e.disabled),currentPage:C,changeEvent:x,handleSizeChange:M}),()=>{var N,G;if(!_.value)return s("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&w.value<=1)return null;const U=[],$=[],de=An("div",{class:a.e("rightwrapper")},$),ee={prev:An(rde,{disabled:e.disabled,currentPage:C.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:T}),jumper:An(Dde),pager:An(Kde,{currentPage:C.value,pageCount:w.value,pagerCount:e.pagerCount,onChange:x,disabled:e.disabled}),next:An(cde,{disabled:e.disabled,currentPage:C.value,pageCount:w.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:D}),sizes:An(Rde,{pageSize:b.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,size:e.small?"small":"default"}),slot:(G=(N=i==null?void 0:i.default)==null?void 0:N.call(i))!=null?G:null,total:An(Fde,{total:ps(e.total)?0:e.total})},se=e.layout.split(",").map(Ie=>Ie.trim());let oe=!1;return se.forEach(Ie=>{if(Ie==="->"){oe=!0;return}oe?$.push(ee[Ie]):U.push(ee[Ie])}),F(U[0],a.is("first")),F(U[U.length-1],a.is("last")),oe&&$.length>0&&(F($[0],a.is("first")),F($[$.length-1],a.is("last")),U.push(de)),An("div",{role:"pagination","aria-label":"pagination",class:[a.b(),a.is("background",e.background),{[a.m("small")]:e.small}]},U)}}});const Jde=Jn(Yde),Zde=Xt({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:H0,default:"primary"},cancelButtonType:{type:String,values:H0,default:"text"},icon:{type:$r,default:()=>bX},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},onConfirm:{type:nt(Function)},onCancel:{type:nt(Function)},teleported:Hi.teleported,persistent:Hi.persistent,width:{type:[String,Number],default:150}}),efe=Ge({name:"ElPopconfirm"}),tfe=Ge({...efe,props:Zde,setup(e){const n=e,{t:i}=yr(),s=bt("popconfirm"),a=re(),u=()=>{var b,w;(w=(b=a.value)==null?void 0:b.onClose)==null||w.call(b)},f=z(()=>({width:wi(n.width)})),h=b=>{var w;(w=n.onConfirm)==null||w.call(n,b),u()},_=b=>{var w;(w=n.onCancel)==null||w.call(n,b),u()},y=z(()=>n.confirmButtonText||i("el.popconfirm.confirmButtonText")),S=z(()=>n.cancelButtonText||i("el.popconfirm.cancelButtonText"));return(b,w)=>(Q(),rt(p(Ps),nr({ref_key:"tooltipRef",ref:a,trigger:"click",effect:"light"},b.$attrs,{"popper-class":`${p(s).namespace.value}-popover`,"popper-style":p(f),teleported:b.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":b.hideAfter,persistent:b.persistent}),{content:Ue(()=>[Ce("div",{class:Y(p(s).b())},[Ce("div",{class:Y(p(s).e("main"))},[!b.hideIcon&&b.icon?(Q(),rt(p(un),{key:0,class:Y(p(s).e("icon")),style:fn({color:b.iconColor})},{default:Ue(()=>[(Q(),rt(rr(b.icon)))]),_:1},8,["class","style"])):Ye("v-if",!0),hr(" "+Qt(b.title),1)],2),Ce("div",{class:Y(p(s).e("action"))},[Re(p(ns),{size:"small",type:b.cancelButtonType==="text"?"":b.cancelButtonType,text:b.cancelButtonType==="text",onClick:_},{default:Ue(()=>[hr(Qt(p(S)),1)]),_:1},8,["type","text"]),Re(p(ns),{size:"small",type:b.confirmButtonType==="text"?"":b.confirmButtonType,text:b.confirmButtonType==="text",onClick:h},{default:Ue(()=>[hr(Qt(p(y)),1)]),_:1},8,["type","text"])],2)],2)]),default:Ue(()=>[b.$slots.reference?vt(b.$slots,"reference",{key:0}):Ye("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var nfe=Ht(tfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const rfe=Jn(nfe),ife=Xt({trigger:Fh.trigger,placement:rg.placement,disabled:Fh.disabled,visible:Hi.visible,transition:Hi.transition,popperOptions:rg.popperOptions,tabindex:rg.tabindex,content:Hi.content,popperStyle:Hi.popperStyle,popperClass:Hi.popperClass,enterable:{...Hi.enterable,default:!0},effect:{...Hi.effect,default:"light"},teleported:Hi.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),sfe={"update:visible":e=>Mi(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},ofe="onUpdate:visible",afe=Ge({name:"ElPopover"}),lfe=Ge({...afe,props:ife,emits:sfe,setup(e,{expose:n,emit:i}){const s=e,a=z(()=>s[ofe]),u=bt("popover"),f=re(),h=z(()=>{var T;return(T=p(f))==null?void 0:T.popperRef}),_=z(()=>[{width:wi(s.width)},s.popperStyle]),y=z(()=>[u.b(),s.popperClass,{[u.m("plain")]:!!s.content}]),S=z(()=>s.transition===`${u.namespace.value}-fade-in-linear`),b=()=>{var T;(T=f.value)==null||T.hide()},w=()=>{i("before-enter")},C=()=>{i("before-leave")},x=()=>{i("after-enter")},M=()=>{i("update:visible",!1),i("after-leave")};return n({popperRef:h,hide:b}),(T,D)=>(Q(),rt(p(Ps),nr({ref_key:"tooltipRef",ref:f},T.$attrs,{trigger:T.trigger,placement:T.placement,disabled:T.disabled,visible:T.visible,transition:T.transition,"popper-options":T.popperOptions,tabindex:T.tabindex,content:T.content,offset:T.offset,"show-after":T.showAfter,"hide-after":T.hideAfter,"auto-close":T.autoClose,"show-arrow":T.showArrow,"aria-label":T.title,effect:T.effect,enterable:T.enterable,"popper-class":p(y),"popper-style":p(_),teleported:T.teleported,persistent:T.persistent,"gpu-acceleration":p(S),"onUpdate:visible":p(a),onBeforeShow:w,onBeforeHide:C,onShow:x,onHide:M}),{content:Ue(()=>[T.title?(Q(),ve("div",{key:0,class:Y(p(u).e("title")),role:"title"},Qt(T.title),3)):Ye("v-if",!0),vt(T.$slots,"default",{},()=>[hr(Qt(T.content),1)])]),default:Ue(()=>[T.$slots.reference?vt(T.$slots,"reference",{key:0}):Ye("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var cfe=Ht(lfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const cM=(e,n)=>{const i=n.arg||n.value,s=i==null?void 0:i.popperRef;s&&(s.triggerRef=e)};var ufe={mounted(e,n){cM(e,n)},updated(e,n){cM(e,n)}};const dfe="popover",xN=Xq(ufe,dfe),ffe=Jn(cfe,{directive:xN}),hfe=Xt({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:nt(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:nt([String,Array,Function]),default:""},format:{type:nt(Function),default:e=>`${e}%`}}),pfe=["aria-valuenow"],mfe={viewBox:"0 0 100 100"},gfe=["d","stroke","stroke-width"],vfe=["d","stroke","opacity","stroke-linecap","stroke-width"],_fe={key:0},Afe=Ge({name:"ElProgress"}),yfe=Ge({...Afe,props:hfe,setup(e){const n=e,i={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},s=bt("progress"),a=z(()=>({width:`${n.percentage}%`,animationDuration:`${n.duration}s`,backgroundColor:F(n.percentage)})),u=z(()=>(n.strokeWidth/n.width*100).toFixed(1)),f=z(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(u.value)/2}`,10):0),h=z(()=>{const N=f.value,G=n.type==="dashboard";return`
          M 50 50
          m 0 ${G?"":"-"}${N}
          a ${N} ${N} 0 1 1 0 ${G?"-":""}${N*2}
          a ${N} ${N} 0 1 1 0 ${G?"":"-"}${N*2}
          `}),_=z(()=>2*Math.PI*f.value),y=z(()=>n.type==="dashboard"?.75:1),S=z(()=>`${-1*_.value*(1-y.value)/2}px`),b=z(()=>({strokeDasharray:`${_.value*y.value}px, ${_.value}px`,strokeDashoffset:S.value})),w=z(()=>({strokeDasharray:`${_.value*y.value*(n.percentage/100)}px, ${_.value}px`,strokeDashoffset:S.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),C=z(()=>{let N;return n.color?N=F(n.percentage):N=i[n.status]||i.default,N}),x=z(()=>n.status==="warning"?tv:n.type==="line"?n.status==="success"?ab:rc:n.status==="success"?ep:zo),M=z(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),T=z(()=>n.format(n.percentage));function D(N){const G=100/N.length;return N.map(($,de)=>Dn($)?{color:$,percentage:(de+1)*G}:$).sort(($,de)=>$.percentage-de.percentage)}const F=N=>{var G;const{color:U}=n;if(Tn(U))return U(N);if(Dn(U))return U;{const $=D(U);for(const de of $)if(de.percentage>N)return de.color;return(G=$[$.length-1])==null?void 0:G.color}};return(N,G)=>(Q(),ve("div",{class:Y([p(s).b(),p(s).m(N.type),p(s).is(N.status),{[p(s).m("without-text")]:!N.showText,[p(s).m("text-inside")]:N.textInside}]),role:"progressbar","aria-valuenow":N.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[N.type==="line"?(Q(),ve("div",{key:0,class:Y(p(s).b("bar"))},[Ce("div",{class:Y(p(s).be("bar","outer")),style:fn({height:`${N.strokeWidth}px`})},[Ce("div",{class:Y([p(s).be("bar","inner"),{[p(s).bem("bar","inner","indeterminate")]:N.indeterminate}]),style:fn(p(a))},[(N.showText||N.$slots.default)&&N.textInside?(Q(),ve("div",{key:0,class:Y(p(s).be("bar","innerText"))},[vt(N.$slots,"default",{percentage:N.percentage},()=>[Ce("span",null,Qt(p(T)),1)])],2)):Ye("v-if",!0)],6)],6)],2)):(Q(),ve("div",{key:1,class:Y(p(s).b("circle")),style:fn({height:`${N.width}px`,width:`${N.width}px`})},[(Q(),ve("svg",mfe,[Ce("path",{class:Y(p(s).be("circle","track")),d:p(h),stroke:`var(${p(s).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":p(u),fill:"none",style:fn(p(b))},null,14,gfe),Ce("path",{class:Y(p(s).be("circle","path")),d:p(h),stroke:p(C),fill:"none",opacity:N.percentage?1:0,"stroke-linecap":N.strokeLinecap,"stroke-width":p(u),style:fn(p(w))},null,14,vfe)]))],6)),(N.showText||N.$slots.default)&&!N.textInside?(Q(),ve("div",{key:2,class:Y(p(s).e("text")),style:fn({fontSize:`${p(M)}px`})},[vt(N.$slots,"default",{percentage:N.percentage},()=>[N.status?(Q(),rt(p(un),{key:1},{default:Ue(()=>[(Q(),rt(rr(p(x))))]),_:1})):(Q(),ve("span",_fe,Qt(p(T)),1))])],6)):Ye("v-if",!0)],10,pfe))}});var bfe=Ht(yfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const RN=Jn(bfe),Sfe=Xt({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:nt([Array,Object]),default:()=>Jr(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:nt([Array,Object]),default:()=>[Sm,Sm,Sm]},voidIcon:{type:$r,default:()=>pz},disabledVoidIcon:{type:$r,default:()=>Sm},disabled:{type:Boolean},allowHalf:{type:Boolean},showText:{type:Boolean},showScore:{type:Boolean},textColor:{type:String,default:""},texts:{type:nt(Array),default:()=>Jr(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:{type:String,validator:qd},label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),Efe={[jr]:e=>Qn(e),[qn]:e=>Qn(e)},wfe=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],Cfe=["onMousemove","onClick"],Ife=Ge({name:"ElRate"}),Mfe=Ge({...Ife,props:Sfe,emits:Efe,setup(e,{expose:n,emit:i}){const s=e;function a(_e,ie){const fe=ze=>tr(ze),le=Object.keys(ie).map(ze=>+ze).filter(ze=>{const Te=ie[ze];return(fe(Te)?Te.excluded:!1)?_e<ze:_e<=ze}).sort((ze,Te)=>ze-Te),ke=ie[le[0]];return fe(ke)&&ke.value||ke}const u=hn(vu,void 0),f=hn(Sa,void 0),h=Ci(),_=bt("rate"),{inputId:y,isLabeledByFormItem:S}=oc(s,{formItemContext:f}),b=re(s.modelValue),w=re(-1),C=re(!0),x=z(()=>[_.b(),_.m(h.value)]),M=z(()=>s.disabled||(u==null?void 0:u.disabled)),T=z(()=>_.cssVarBlock({"void-color":s.voidColor,"disabled-void-color":s.disabledVoidColor,"fill-color":G.value})),D=z(()=>{let _e="";return s.showScore?_e=s.scoreTemplate.replace(/\{\s*value\s*\}/,M.value?`${s.modelValue}`:`${b.value}`):s.showText&&(_e=s.texts[Math.ceil(b.value)-1]),_e}),F=z(()=>s.modelValue*100-Math.floor(s.modelValue)*100),N=z(()=>sn(s.colors)?{[s.lowThreshold]:s.colors[0],[s.highThreshold]:{value:s.colors[1],excluded:!0},[s.max]:s.colors[2]}:s.colors),G=z(()=>{const _e=a(b.value,N.value);return tr(_e)?"":_e}),U=z(()=>{let _e="";return M.value?_e=`${F.value}%`:s.allowHalf&&(_e="50%"),{color:G.value,width:_e}}),$=z(()=>{let _e=sn(s.icons)?[...s.icons]:{...s.icons};return _e=eu(_e),sn(_e)?{[s.lowThreshold]:_e[0],[s.highThreshold]:{value:_e[1],excluded:!0},[s.max]:_e[2]}:_e}),de=z(()=>a(s.modelValue,$.value)),ee=z(()=>M.value?Dn(s.disabledVoidIcon)?s.disabledVoidIcon:eu(s.disabledVoidIcon):Dn(s.voidIcon)?s.voidIcon:eu(s.voidIcon)),se=z(()=>a(b.value,$.value));function oe(_e){const ie=M.value&&F.value>0&&_e-1<s.modelValue&&_e>s.modelValue,fe=s.allowHalf&&C.value&&_e-.5<=b.value&&_e>b.value;return ie||fe}function Ie(_e){s.clearable&&_e===s.modelValue&&(_e=0),i(qn,_e),s.modelValue!==_e&&i("change",_e)}function pe(_e){M.value||(s.allowHalf&&C.value?Ie(b.value):Ie(_e))}function ae(_e){if(M.value)return;let ie=b.value;const fe=_e.code;return fe===_n.up||fe===_n.right?(s.allowHalf?ie+=.5:ie+=1,_e.stopPropagation(),_e.preventDefault()):(fe===_n.left||fe===_n.down)&&(s.allowHalf?ie-=.5:ie-=1,_e.stopPropagation(),_e.preventDefault()),ie=ie<0?0:ie,ie=ie>s.max?s.max:ie,i(qn,ie),i("change",ie),ie}function ye(_e,ie){if(!M.value){if(s.allowHalf){let fe=ie.target;Xo(fe,_.e("item"))&&(fe=fe.querySelector(`.${_.e("icon")}`)),(fe.clientWidth===0||Xo(fe,_.e("decimal")))&&(fe=fe.parentNode),C.value=ie.offsetX*2<=fe.clientWidth,b.value=C.value?_e-.5:_e}else b.value=_e;w.value=_e}}function be(){M.value||(s.allowHalf&&(C.value=s.modelValue!==Math.floor(s.modelValue)),b.value=s.modelValue,w.value=-1)}return St(()=>s.modelValue,_e=>{b.value=_e,C.value=s.modelValue!==Math.floor(s.modelValue)}),s.modelValue||i(qn,0),n({setCurrentValue:ye,resetCurrentValue:be}),(_e,ie)=>{var fe;return Q(),ve("div",{id:p(y),class:Y([p(x),p(_).is("disabled",p(M))]),role:"slider","aria-label":p(S)?void 0:_e.label||"rating","aria-labelledby":p(S)?(fe=p(f))==null?void 0:fe.labelId:void 0,"aria-valuenow":b.value,"aria-valuetext":p(D)||void 0,"aria-valuemin":"0","aria-valuemax":_e.max,tabindex:"0",style:fn(p(T)),onKeydown:ae},[(Q(!0),ve(mn,null,cr(_e.max,(le,ke)=>(Q(),ve("span",{key:ke,class:Y(p(_).e("item")),onMousemove:ze=>ye(le,ze),onMouseleave:be,onClick:ze=>pe(le)},[Re(p(un),{class:Y([p(_).e("icon"),{hover:w.value===le},p(_).is("active",le<=b.value)])},{default:Ue(()=>[oe(le)?Ye("v-if",!0):(Q(),ve(mn,{key:0},[Hn((Q(),rt(rr(p(se)),null,null,512)),[[_r,le<=b.value]]),Hn((Q(),rt(rr(p(ee)),null,null,512)),[[_r,!(le<=b.value)]])],64)),oe(le)?(Q(),rt(p(un),{key:1,style:fn(p(U)),class:Y([p(_).e("icon"),p(_).e("decimal")])},{default:Ue(()=>[(Q(),rt(rr(p(de))))]),_:1},8,["style","class"])):Ye("v-if",!0)]),_:2},1032,["class"])],42,Cfe))),128)),_e.showText||_e.showScore?(Q(),ve("span",{key:0,class:Y(p(_).e("text"))},Qt(p(D)),3)):Ye("v-if",!0)],46,wfe)}}});var xfe=Ht(Mfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const Rfe=Jn(xfe),fd={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},uM={[fd.success]:bH,[fd.warning]:tv,[fd.error]:lb,[fd.info]:cb},Tfe=Xt({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),Pfe=Ge({name:"ElResult"}),Nfe=Ge({...Pfe,props:Tfe,setup(e){const n=e,i=bt("result"),s=z(()=>{const a=n.icon,u=a&&fd[a]?fd[a]:"icon-info",f=uM[u]||uM["icon-info"];return{class:u,component:f}});return(a,u)=>(Q(),ve("div",{class:Y(p(i).b())},[Ce("div",{class:Y(p(i).e("icon"))},[vt(a.$slots,"icon",{},()=>[p(s).component?(Q(),rt(rr(p(s).component),{key:0,class:Y(p(s).class)},null,8,["class"])):Ye("v-if",!0)])],2),a.title||a.$slots.title?(Q(),ve("div",{key:0,class:Y(p(i).e("title"))},[vt(a.$slots,"title",{},()=>[Ce("p",null,Qt(a.title),1)])],2)):Ye("v-if",!0),a.subTitle||a.$slots["sub-title"]?(Q(),ve("div",{key:1,class:Y(p(i).e("subtitle"))},[vt(a.$slots,"sub-title",{},()=>[Ce("p",null,Qt(a.subTitle),1)])],2)):Ye("v-if",!0),a.$slots.extra?(Q(),ve("div",{key:2,class:Y(p(i).e("extra"))},[vt(a.$slots,"extra")],2)):Ye("v-if",!0)],2))}});var Dfe=Ht(Nfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue"]]);const Bfe=Jn(Dfe),kfe=["start","center","end","space-around","space-between","space-evenly"],Lfe=["top","middle","bottom"],Ofe=Xt({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:kfe,default:"start"},align:{type:String,values:Lfe,default:"top"}}),Ffe=Ge({name:"ElRow"}),Vfe=Ge({...Ffe,props:Ofe,setup(e){const n=e,i=bt("row"),s=z(()=>n.gutter);ir(lT,{gutter:s});const a=z(()=>{const u={};return n.gutter&&(u.marginRight=u.marginLeft=`-${n.gutter/2}px`),u});return(u,f)=>(Q(),rt(rr(u.tag),{class:Y([p(i).b(),p(i).is(`justify-${n.justify}`,u.justify!=="start"),p(i).is(`align-${n.align}`,u.align!=="top")]),style:fn(p(a))},{default:Ue(()=>[vt(u.$slots,"default")]),_:3},8,["class","style"]))}});var Gfe=Ht(Vfe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const Ufe=Jn(Gfe);var dM=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function Hfe(e,n){return!!(e===n||dM(e)&&dM(n))}function Qfe(e,n){if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(!Hfe(e[i],n[i]))return!1;return!0}function Xfe(e,n){n===void 0&&(n=Qfe);var i=null;function s(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];if(i&&i.lastThis===this&&n(a,i.lastArgs))return i.lastResult;var f=e.apply(this,a);return i={lastResult:f,lastArgs:a,lastThis:this},f}return s.clear=function(){i=null},s}const TN=()=>{const n=Yn().proxy.$props;return z(()=>{const i=(s,a,u)=>({});return n.perfMode?ov(i):Xfe(i)})},fy=50,Pg="itemRendered",Ng="scroll",hd="forward",Dg="backward",uo="auto",Cv="smart",Uh="start",_a="center",Hh="end",Ud="horizontal",h1="vertical",zfe="ltr",Sd="rtl",Qh="negative",p1="positive-ascending",m1="positive-descending",$fe={[Ud]:"left",[h1]:"top"},Wfe=20,Kfe={[Ud]:"deltaX",[h1]:"deltaY"},jfe=({atEndEdge:e,atStartEdge:n,layout:i},s)=>{let a,u=0;const f=_=>_<0&&n.value||_>0&&e.value;return{hasReachedEdge:f,onWheel:_=>{Db(a);const y=_[Kfe[i.value]];f(u)&&f(u+y)||(u+=y,Pb()||_.preventDefault(),a=Nb(()=>{s(u),u=0}))}}},hy=Yo({type:nt([Number,Function]),required:!0}),py=Yo({type:Number}),my=Yo({type:Number,default:2}),qfe=Yo({type:String,values:["ltr","rtl"],default:"ltr"}),gy=Yo({type:Number,default:0}),Bg=Yo({type:Number,required:!0}),PN=Yo({type:String,values:["horizontal","vertical"],default:h1}),NN=Xt({className:{type:String,default:""},containerElement:{type:nt([String,Object]),default:"div"},data:{type:nt(Array),default:()=>Jr([])},direction:qfe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:nt([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),DN=Xt({cache:my,estimatedItemSize:py,layout:PN,initScrollOffset:gy,total:Bg,itemSize:hy,...NN}),vy={type:Number,default:6},BN={type:Number,default:0},kN={type:Number,default:2},iu=Xt({columnCache:my,columnWidth:hy,estimatedColumnWidth:py,estimatedRowHeight:py,initScrollLeft:gy,initScrollTop:gy,itemKey:{type:nt(Function),default:({columnIndex:e,rowIndex:n})=>`${n}:${e}`},rowCache:my,rowHeight:hy,totalColumn:Bg,totalRow:Bg,hScrollbarSize:vy,vScrollbarSize:vy,scrollbarStartGap:BN,scrollbarEndGap:kN,...NN}),LN=Xt({alwaysOn:Boolean,class:String,layout:PN,total:Bg,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:vy,startGap:BN,endGap:kN,visible:Boolean}),qc=(e,n)=>e<n?hd:Dg,Xh=e=>e===zfe||e===Sd||e===Ud,fM=e=>e===Sd;let nd=null;function kg(e=!1){if(nd===null||e){const n=document.createElement("div"),i=n.style;i.width="50px",i.height="50px",i.overflow="scroll",i.direction="rtl";const s=document.createElement("div"),a=s.style;return a.width="100px",a.height="100px",n.appendChild(s),document.body.appendChild(n),n.scrollLeft>0?nd=m1:(n.scrollLeft=1,n.scrollLeft===0?nd=Qh:nd=p1),document.body.removeChild(n),nd}return nd}function Yfe({move:e,size:n,bar:i},s){const a={},u=`translate${i.axis}(${e}px)`;return a[i.size]=n,a.transform=u,a.msTransform=u,a.webkitTransform=u,s==="horizontal"?a.height="100%":a.width="100%",a}const _y=Ge({name:"ElVirtualScrollBar",props:LN,emits:["scroll","start-move","stop-move"],setup(e,{emit:n}){const i=z(()=>e.startGap+e.endGap),s=bt("virtual-scrollbar"),a=bt("scrollbar"),u=re(),f=re();let h=null,_=null;const y=Tr({isDragging:!1,traveled:0}),S=z(()=>TT[e.layout]),b=z(()=>e.clientSize-p(i)),w=z(()=>({position:"absolute",width:`${Ud===e.layout?b.value:e.scrollbarSize}px`,height:`${Ud===e.layout?e.scrollbarSize:b.value}px`,[$fe[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),C=z(()=>{const $=e.ratio,de=e.clientSize;if($>=100)return Number.POSITIVE_INFINITY;if($>=50)return $*de/100;const ee=de/3;return Math.floor(Math.min(Math.max($*de,Wfe),ee))}),x=z(()=>{if(!Number.isFinite(C.value))return{display:"none"};const $=`${C.value}px`;return Yfe({bar:S.value,size:$,move:y.traveled},e.layout)}),M=z(()=>Math.floor(e.clientSize-C.value-p(i))),T=()=>{window.addEventListener("mousemove",G),window.addEventListener("mouseup",N);const $=p(f);!$||(_=document.onselectstart,document.onselectstart=()=>!1,$.addEventListener("touchmove",G),$.addEventListener("touchend",N))},D=()=>{window.removeEventListener("mousemove",G),window.removeEventListener("mouseup",N),document.onselectstart=_,_=null;const $=p(f);!$||($.removeEventListener("touchmove",G),$.removeEventListener("touchend",N))},F=$=>{$.stopImmediatePropagation(),!($.ctrlKey||[1,2].includes($.button))&&(y.isDragging=!0,y[S.value.axis]=$.currentTarget[S.value.offset]-($[S.value.client]-$.currentTarget.getBoundingClientRect()[S.value.direction]),n("start-move"),T())},N=()=>{y.isDragging=!1,y[S.value.axis]=0,n("stop-move"),D()},G=$=>{const{isDragging:de}=y;if(!de||!f.value||!u.value)return;const ee=y[S.value.axis];if(!ee)return;Db(h);const se=(u.value.getBoundingClientRect()[S.value.direction]-$[S.value.client])*-1,oe=f.value[S.value.offset]-ee,Ie=se-oe;h=Nb(()=>{y.traveled=Math.max(e.startGap,Math.min(Ie,M.value)),n("scroll",Ie,M.value)})},U=$=>{const de=Math.abs($.target.getBoundingClientRect()[S.value.direction]-$[S.value.client]),ee=f.value[S.value.offset]/2,se=de-ee;y.traveled=Math.max(0,Math.min(se,M.value)),n("scroll",se,M.value)};return St(()=>e.scrollFrom,$=>{y.isDragging||(y.traveled=Math.ceil($*M.value))}),di(()=>{D()}),()=>An("div",{role:"presentation",ref:u,class:[s.b(),e.class,(e.alwaysOn||y.isDragging)&&"always-on"],style:w.value,onMousedown:Nn(U,["stop","prevent"]),onTouchstartPrevent:F},An("div",{ref:f,class:a.e("thumb"),style:x.value,onMousedown:F},[]))}}),ON=({name:e,getOffset:n,getItemSize:i,getItemOffset:s,getEstimatedTotalSize:a,getStartIndexForOffset:u,getStopIndexForStartIndex:f,initCache:h,clearCache:_,validateProps:y})=>Ge({name:e!=null?e:"ElVirtualList",props:DN,emits:[Pg,Ng],setup(S,{emit:b,expose:w}){y(S);const C=Yn(),x=bt("vl"),M=re(h(S,C)),T=TN(),D=re(),F=re(),N=re(),G=re({isScrolling:!1,scrollDir:"forward",scrollOffset:Qn(S.initScrollOffset)?S.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:S.scrollbarAlwaysOn}),U=z(()=>{const{total:Xe,cache:_t}=S,{isScrolling:wt,scrollDir:xt,scrollOffset:it}=p(G);if(Xe===0)return[0,0,0,0];const je=u(S,it,p(M)),ot=f(S,je,it,p(M)),At=!wt||xt===Dg?Math.max(1,_t):1,on=!wt||xt===hd?Math.max(1,_t):1;return[Math.max(0,je-At),Math.max(0,Math.min(Xe-1,ot+on)),je,ot]}),$=z(()=>a(S,p(M))),de=z(()=>Xh(S.layout)),ee=z(()=>[{position:"relative",[`overflow-${de.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:S.direction,height:Qn(S.height)?`${S.height}px`:S.height,width:Qn(S.width)?`${S.width}px`:S.width},S.style]),se=z(()=>{const Xe=p($),_t=p(de);return{height:_t?"100%":`${Xe}px`,pointerEvents:p(G).isScrolling?"none":void 0,width:_t?`${Xe}px`:"100%"}}),oe=z(()=>de.value?S.width:S.height),{onWheel:Ie}=jfe({atStartEdge:z(()=>G.value.scrollOffset<=0),atEndEdge:z(()=>G.value.scrollOffset>=$.value),layout:z(()=>S.layout)},Xe=>{var _t,wt;(wt=(_t=N.value).onMouseUp)==null||wt.call(_t),ie(Math.min(G.value.scrollOffset+Xe,$.value-oe.value))}),pe=()=>{const{total:Xe}=S;if(Xe>0){const[it,je,ot,At]=p(U);b(Pg,it,je,ot,At)}const{scrollDir:_t,scrollOffset:wt,updateRequested:xt}=p(G);b(Ng,_t,wt,xt)},ae=Xe=>{const{clientHeight:_t,scrollHeight:wt,scrollTop:xt}=Xe.currentTarget,it=p(G);if(it.scrollOffset===xt)return;const je=Math.max(0,Math.min(xt,wt-_t));G.value={...it,isScrolling:!0,scrollDir:qc(it.scrollOffset,je),scrollOffset:je,updateRequested:!1},dn(ke)},ye=Xe=>{const{clientWidth:_t,scrollLeft:wt,scrollWidth:xt}=Xe.currentTarget,it=p(G);if(it.scrollOffset===wt)return;const{direction:je}=S;let ot=wt;if(je===Sd)switch(kg()){case Qh:{ot=-wt;break}case m1:{ot=xt-_t-wt;break}}ot=Math.max(0,Math.min(ot,xt-_t)),G.value={...it,isScrolling:!0,scrollDir:qc(it.scrollOffset,ot),scrollOffset:ot,updateRequested:!1},dn(ke)},be=Xe=>{p(de)?ye(Xe):ae(Xe),pe()},_e=(Xe,_t)=>{const wt=($.value-oe.value)/_t*Xe;ie(Math.min($.value-oe.value,wt))},ie=Xe=>{Xe=Math.max(Xe,0),Xe!==p(G).scrollOffset&&(G.value={...p(G),scrollOffset:Xe,scrollDir:qc(p(G).scrollOffset,Xe),updateRequested:!0},dn(ke))},fe=(Xe,_t=uo)=>{const{scrollOffset:wt}=p(G);Xe=Math.max(0,Math.min(Xe,S.total-1)),ie(n(S,Xe,_t,wt,p(M)))},le=Xe=>{const{direction:_t,itemSize:wt,layout:xt}=S,it=T.value(_&&wt,_&&xt,_&&_t);let je;if(lr(it,String(Xe)))je=it[Xe];else{const ot=s(S,Xe,p(M)),At=i(S,Xe,p(M)),on=p(de),Ne=_t===Sd,$e=on?ot:0;it[Xe]=je={position:"absolute",left:Ne?void 0:`${$e}px`,right:Ne?`${$e}px`:void 0,top:on?0:`${ot}px`,height:on?"100%":`${At}px`,width:on?`${At}px`:"100%"}}return je},ke=()=>{G.value.isScrolling=!1,dn(()=>{T.value(-1,null,null)})},ze=()=>{const Xe=D.value;Xe&&(Xe.scrollTop=0)};jn(()=>{if(!ur)return;const{initScrollOffset:Xe}=S,_t=p(D);Qn(Xe)&&_t&&(p(de)?_t.scrollLeft=Xe:_t.scrollTop=Xe),pe()}),rl(()=>{const{direction:Xe,layout:_t}=S,{scrollOffset:wt,updateRequested:xt}=p(G),it=p(D);if(xt&&it)if(_t===Ud)if(Xe===Sd)switch(kg()){case Qh:{it.scrollLeft=-wt;break}case p1:{it.scrollLeft=wt;break}default:{const{clientWidth:je,scrollWidth:ot}=it;it.scrollLeft=ot-je-wt;break}}else it.scrollLeft=wt;else it.scrollTop=wt});const Te={ns:x,clientSize:oe,estimatedTotalSize:$,windowStyle:ee,windowRef:D,innerRef:F,innerStyle:se,itemsToRender:U,scrollbarRef:N,states:G,getItemStyle:le,onScroll:be,onScrollbarScroll:_e,onWheel:Ie,scrollTo:ie,scrollToItem:fe,resetScrollTop:ze};return w({windowRef:D,innerRef:F,getItemStyleCache:T,scrollTo:ie,scrollToItem:fe,resetScrollTop:ze,states:G}),Te},render(S){var b;const{$slots:w,className:C,clientSize:x,containerElement:M,data:T,getItemStyle:D,innerElement:F,itemsToRender:N,innerStyle:G,layout:U,total:$,onScroll:de,onScrollbarScroll:ee,onWheel:se,states:oe,useIsScrolling:Ie,windowStyle:pe,ns:ae}=S,[ye,be]=N,_e=rr(M),ie=rr(F),fe=[];if($>0)for(let Te=ye;Te<=be;Te++)fe.push((b=w.default)==null?void 0:b.call(w,{data:T,key:Te,index:Te,isScrolling:Ie?oe.isScrolling:void 0,style:D(Te)}));const le=[An(ie,{style:G,ref:"innerRef"},Dn(ie)?fe:{default:()=>fe})],ke=An(_y,{ref:"scrollbarRef",clientSize:x,layout:U,onScroll:ee,ratio:x*100/this.estimatedTotalSize,scrollFrom:oe.scrollOffset/(this.estimatedTotalSize-x),total:$}),ze=An(_e,{class:[ae.e("window"),C],style:pe,onScroll:de,onWheel:se,ref:"windowRef",key:0},Dn(_e)?[le]:{default:()=>[le]});return An("div",{key:0,class:[ae.e("wrapper"),oe.scrollbarAlwaysOn?"always-on":""]},[ze,ke])}}),FN=ON({name:"ElFixedSizeList",getItemOffset:({itemSize:e},n)=>n*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:n})=>n*e,getOffset:({height:e,total:n,itemSize:i,layout:s,width:a},u,f,h)=>{const _=Xh(s)?a:e,y=Math.max(0,n*i-_),S=Math.min(y,u*i),b=Math.max(0,(u+1)*i-_);switch(f===Cv&&(h>=b-_&&h<=S+_?f=uo:f=_a),f){case Uh:return S;case Hh:return b;case _a:{const w=Math.round(b+(S-b)/2);return w<Math.ceil(_/2)?0:w>y+Math.floor(_/2)?y:w}case uo:default:return h>=b&&h<=S?h:h<b?b:S}},getStartIndexForOffset:({total:e,itemSize:n},i)=>Math.max(0,Math.min(e-1,Math.floor(i/n))),getStopIndexForStartIndex:({height:e,total:n,itemSize:i,layout:s,width:a},u,f)=>{const h=u*i,_=Xh(s)?a:e,y=Math.ceil((_+f-h)/i);return Math.max(0,Math.min(n-1,u+y-1))},initCache(){},clearCache:!0,validateProps(){}}),pd=(e,n,i)=>{const{itemSize:s}=e,{items:a,lastVisitedIndex:u}=i;if(n>u){let f=0;if(u>=0){const h=a[u];f=h.offset+h.size}for(let h=u+1;h<=n;h++){const _=s(h);a[h]={offset:f,size:_},f+=_}i.lastVisitedIndex=n}return a[n]},Jfe=(e,n,i)=>{const{items:s,lastVisitedIndex:a}=n;return(a>0?s[a].offset:0)>=i?VN(e,n,0,a,i):Zfe(e,n,Math.max(0,a),i)},VN=(e,n,i,s,a)=>{for(;i<=s;){const u=i+Math.floor((s-i)/2),f=pd(e,u,n).offset;if(f===a)return u;f<a?i=u+1:f>a&&(s=u-1)}return Math.max(0,i-1)},Zfe=(e,n,i,s)=>{const{total:a}=e;let u=1;for(;i<a&&pd(e,i,n).offset<s;)i+=u,u*=2;return VN(e,n,Math.floor(i/2),Math.min(i,a-1),s)},hM=({total:e},{items:n,estimatedItemSize:i,lastVisitedIndex:s})=>{let a=0;if(s>=e&&(s=e-1),s>=0){const h=n[s];a=h.offset+h.size}const f=(e-s-1)*i;return a+f},ehe=ON({name:"ElDynamicSizeList",getItemOffset:(e,n,i)=>pd(e,n,i).offset,getItemSize:(e,n,{items:i})=>i[n].size,getEstimatedTotalSize:hM,getOffset:(e,n,i,s,a)=>{const{height:u,layout:f,width:h}=e,_=Xh(f)?h:u,y=pd(e,n,a),S=hM(e,a),b=Math.max(0,Math.min(S-_,y.offset)),w=Math.max(0,y.offset-_+y.size);switch(i===Cv&&(s>=w-_&&s<=b+_?i=uo:i=_a),i){case Uh:return b;case Hh:return w;case _a:return Math.round(w+(b-w)/2);case uo:default:return s>=w&&s<=b?s:s<w?w:b}},getStartIndexForOffset:(e,n,i)=>Jfe(e,i,n),getStopIndexForStartIndex:(e,n,i,s)=>{const{height:a,total:u,layout:f,width:h}=e,_=Xh(f)?h:a,y=pd(e,n,s),S=i+_;let b=y.offset+y.size,w=n;for(;w<u-1&&b<S;)w++,b+=pd(e,w,s).size;return w},initCache({estimatedItemSize:e=fy},n){const i={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return i.clearCacheAfterIndex=(s,a=!0)=>{var u,f;i.lastVisitedIndex=Math.min(i.lastVisitedIndex,s-1),(u=n.exposed)==null||u.getItemStyleCache(-1),a&&((f=n.proxy)==null||f.$forceUpdate())},i},clearCache:!1,validateProps:({itemSize:e})=>{}}),the=({atXEndEdge:e,atXStartEdge:n,atYEndEdge:i,atYStartEdge:s},a)=>{let u=null,f=0,h=0;const _=(S,b)=>{const w=S<0&&n.value||S>0&&e.value,C=b<0&&s.value||b>0&&i.value;return w&&C};return{hasReachedEdge:_,onWheel:S=>{Db(u);let b=S.deltaX,w=S.deltaY;Math.abs(b)>Math.abs(w)?w=0:b=0,S.shiftKey&&w!==0&&(b=w,w=0),!(_(f,h)&&_(f+b,h+w))&&(f+=b,h+=w,Pb()||S.preventDefault(),u=Nb(()=>{a(f,h),f=0,h=0}))}}},GN=({name:e,clearCache:n,getColumnPosition:i,getColumnStartIndexForOffset:s,getColumnStopIndexForStartIndex:a,getEstimatedTotalHeight:u,getEstimatedTotalWidth:f,getColumnOffset:h,getRowOffset:_,getRowPosition:y,getRowStartIndexForOffset:S,getRowStopIndexForStartIndex:b,initCache:w,injectToInstance:C,validateProps:x})=>Ge({name:e!=null?e:"ElVirtualList",props:iu,emits:[Pg,Ng],setup(M,{emit:T,expose:D,slots:F}){const N=bt("vl");x(M);const G=Yn(),U=re(w(M,G));C==null||C(G,U);const $=re(),de=re(),ee=re(),se=re(null),oe=re({isScrolling:!1,scrollLeft:Qn(M.initScrollLeft)?M.initScrollLeft:0,scrollTop:Qn(M.initScrollTop)?M.initScrollTop:0,updateRequested:!1,xAxisScrollDir:hd,yAxisScrollDir:hd}),Ie=TN(),pe=z(()=>Number.parseInt(`${M.height}`,10)),ae=z(()=>Number.parseInt(`${M.width}`,10)),ye=z(()=>{const{totalColumn:ct,totalRow:Lt,columnCache:gt}=M,{isScrolling:xe,xAxisScrollDir:qe,scrollLeft:Dt}=p(oe);if(ct===0||Lt===0)return[0,0,0,0];const zt=s(M,Dt,p(U)),en=a(M,zt,Dt,p(U)),gn=!xe||qe===Dg?Math.max(1,gt):1,En=!xe||qe===hd?Math.max(1,gt):1;return[Math.max(0,zt-gn),Math.max(0,Math.min(ct-1,en+En)),zt,en]}),be=z(()=>{const{totalColumn:ct,totalRow:Lt,rowCache:gt}=M,{isScrolling:xe,yAxisScrollDir:qe,scrollTop:Dt}=p(oe);if(ct===0||Lt===0)return[0,0,0,0];const zt=S(M,Dt,p(U)),en=b(M,zt,Dt,p(U)),gn=!xe||qe===Dg?Math.max(1,gt):1,En=!xe||qe===hd?Math.max(1,gt):1;return[Math.max(0,zt-gn),Math.max(0,Math.min(Lt-1,en+En)),zt,en]}),_e=z(()=>u(M,p(U))),ie=z(()=>f(M,p(U))),fe=z(()=>{var ct;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:M.direction,height:Qn(M.height)?`${M.height}px`:M.height,width:Qn(M.width)?`${M.width}px`:M.width},(ct=M.style)!=null?ct:{}]}),le=z(()=>{const ct=`${p(ie)}px`;return{height:`${p(_e)}px`,pointerEvents:p(oe).isScrolling?"none":void 0,width:ct}}),ke=()=>{const{totalColumn:ct,totalRow:Lt}=M;if(ct>0&&Lt>0){const[en,gn,En,Gn]=p(ye),[pt,yt,tn,Bn]=p(be);T(Pg,{columnCacheStart:en,columnCacheEnd:gn,rowCacheStart:pt,rowCacheEnd:yt,columnVisibleStart:En,columnVisibleEnd:Gn,rowVisibleStart:tn,rowVisibleEnd:Bn})}const{scrollLeft:gt,scrollTop:xe,updateRequested:qe,xAxisScrollDir:Dt,yAxisScrollDir:zt}=p(oe);T(Ng,{xAxisScrollDir:Dt,scrollLeft:gt,yAxisScrollDir:zt,scrollTop:xe,updateRequested:qe})},ze=ct=>{const{clientHeight:Lt,clientWidth:gt,scrollHeight:xe,scrollLeft:qe,scrollTop:Dt,scrollWidth:zt}=ct.currentTarget,en=p(oe);if(en.scrollTop===Dt&&en.scrollLeft===qe)return;let gn=qe;if(fM(M.direction))switch(kg()){case Qh:gn=-qe;break;case m1:gn=zt-gt-qe;break}oe.value={...en,isScrolling:!0,scrollLeft:gn,scrollTop:Math.max(0,Math.min(Dt,xe-Lt)),updateRequested:!0,xAxisScrollDir:qc(en.scrollLeft,gn),yAxisScrollDir:qc(en.scrollTop,Dt)},dn(()=>je()),ot(),ke()},Te=(ct,Lt)=>{const gt=p(pe),xe=(_e.value-gt)/Lt*ct;wt({scrollTop:Math.min(_e.value-gt,xe)})},Xe=(ct,Lt)=>{const gt=p(ae),xe=(ie.value-gt)/Lt*ct;wt({scrollLeft:Math.min(ie.value-gt,xe)})},{onWheel:_t}=the({atXStartEdge:z(()=>oe.value.scrollLeft<=0),atXEndEdge:z(()=>oe.value.scrollLeft>=ie.value),atYStartEdge:z(()=>oe.value.scrollTop<=0),atYEndEdge:z(()=>oe.value.scrollTop>=_e.value)},(ct,Lt)=>{var gt,xe,qe,Dt;(xe=(gt=de.value)==null?void 0:gt.onMouseUp)==null||xe.call(gt),(Dt=(qe=de.value)==null?void 0:qe.onMouseUp)==null||Dt.call(qe);const zt=p(ae),en=p(pe);wt({scrollLeft:Math.min(oe.value.scrollLeft+ct,ie.value-zt),scrollTop:Math.min(oe.value.scrollTop+Lt,_e.value-en)})}),wt=({scrollLeft:ct=oe.value.scrollLeft,scrollTop:Lt=oe.value.scrollTop})=>{ct=Math.max(ct,0),Lt=Math.max(Lt,0);const gt=p(oe);Lt===gt.scrollTop&&ct===gt.scrollLeft||(oe.value={...gt,xAxisScrollDir:qc(gt.scrollLeft,ct),yAxisScrollDir:qc(gt.scrollTop,Lt),scrollLeft:ct,scrollTop:Lt,updateRequested:!0},dn(()=>je()),ot(),ke())},xt=(ct=0,Lt=0,gt=uo)=>{const xe=p(oe);Lt=Math.max(0,Math.min(Lt,M.totalColumn-1)),ct=Math.max(0,Math.min(ct,M.totalRow-1));const qe=KR(N.namespace.value),Dt=p(U),zt=u(M,Dt),en=f(M,Dt);wt({scrollLeft:h(M,Lt,gt,xe.scrollLeft,Dt,en>M.width?qe:0),scrollTop:_(M,ct,gt,xe.scrollTop,Dt,zt>M.height?qe:0)})},it=(ct,Lt)=>{const{columnWidth:gt,direction:xe,rowHeight:qe}=M,Dt=Ie.value(n&&gt,n&&qe,n&&xe),zt=`${ct},${Lt}`;if(lr(Dt,zt))return Dt[zt];{const[,en]=i(M,Lt,p(U)),gn=p(U),En=fM(xe),[Gn,pt]=y(M,ct,gn),[yt]=i(M,Lt,gn);return Dt[zt]={position:"absolute",left:En?void 0:`${en}px`,right:En?`${en}px`:void 0,top:`${pt}px`,height:`${Gn}px`,width:`${yt}px`},Dt[zt]}},je=()=>{oe.value.isScrolling=!1,dn(()=>{Ie.value(-1,null,null)})};jn(()=>{if(!ur)return;const{initScrollLeft:ct,initScrollTop:Lt}=M,gt=p($);gt&&(Qn(ct)&&(gt.scrollLeft=ct),Qn(Lt)&&(gt.scrollTop=Lt)),ke()});const ot=()=>{const{direction:ct}=M,{scrollLeft:Lt,scrollTop:gt,updateRequested:xe}=p(oe),qe=p($);if(xe&&qe){if(ct===Sd)switch(kg()){case Qh:{qe.scrollLeft=-Lt;break}case p1:{qe.scrollLeft=Lt;break}default:{const{clientWidth:Dt,scrollWidth:zt}=qe;qe.scrollLeft=zt-Dt-Lt;break}}else qe.scrollLeft=Math.max(0,Lt);qe.scrollTop=Math.max(0,gt)}},{resetAfterColumnIndex:At,resetAfterRowIndex:on,resetAfter:Ne}=G.proxy;D({windowRef:$,innerRef:se,getItemStyleCache:Ie,scrollTo:wt,scrollToItem:xt,states:oe,resetAfterColumnIndex:At,resetAfterRowIndex:on,resetAfter:Ne});const $e=()=>{const{scrollbarAlwaysOn:ct,scrollbarStartGap:Lt,scrollbarEndGap:gt,totalColumn:xe,totalRow:qe}=M,Dt=p(ae),zt=p(pe),en=p(ie),gn=p(_e),{scrollLeft:En,scrollTop:Gn}=p(oe),pt=An(_y,{ref:de,alwaysOn:ct,startGap:Lt,endGap:gt,class:N.e("horizontal"),clientSize:Dt,layout:"horizontal",onScroll:Xe,ratio:Dt*100/en,scrollFrom:En/(en-Dt),total:qe,visible:!0}),yt=An(_y,{ref:ee,alwaysOn:ct,startGap:Lt,endGap:gt,class:N.e("vertical"),clientSize:zt,layout:"vertical",onScroll:Te,ratio:zt*100/gn,scrollFrom:Gn/(gn-zt),total:xe,visible:!0});return{horizontalScrollbar:pt,verticalScrollbar:yt}},ft=()=>{var ct;const[Lt,gt]=p(ye),[xe,qe]=p(be),{data:Dt,totalColumn:zt,totalRow:en,useIsScrolling:gn,itemKey:En}=M,Gn=[];if(en>0&&zt>0)for(let pt=xe;pt<=qe;pt++)for(let yt=Lt;yt<=gt;yt++)Gn.push((ct=F.default)==null?void 0:ct.call(F,{columnIndex:yt,data:Dt,key:En({columnIndex:yt,data:Dt,rowIndex:pt}),isScrolling:gn?p(oe).isScrolling:void 0,style:it(pt,yt),rowIndex:pt}));return Gn},Tt=()=>{const ct=rr(M.innerElement),Lt=ft();return[An(ct,{style:p(le),ref:se},Dn(ct)?Lt:{default:()=>Lt})]};return()=>{const ct=rr(M.containerElement),{horizontalScrollbar:Lt,verticalScrollbar:gt}=$e(),xe=Tt();return An("div",{key:0,class:N.e("wrapper")},[An(ct,{class:M.className,style:p(fe),onScroll:ze,onWheel:_t,ref:$},Dn(ct)?xe:{default:()=>xe}),Lt,gt])}}}),nhe=GN({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},n)=>[e,n*e],getRowPosition:({rowHeight:e},n)=>[e,n*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:n})=>n*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:n})=>n*e,getColumnOffset:({totalColumn:e,columnWidth:n,width:i},s,a,u,f,h)=>{i=Number(i);const _=Math.max(0,e*n-i),y=Math.min(_,s*n),S=Math.max(0,s*n-i+h+n);switch(a==="smart"&&(u>=S-i&&u<=y+i?a=uo:a=_a),a){case Uh:return y;case Hh:return S;case _a:{const b=Math.round(S+(y-S)/2);return b<Math.ceil(i/2)?0:b>_+Math.floor(i/2)?_:b}case uo:default:return u>=S&&u<=y?u:S>y||u<S?S:y}},getRowOffset:({rowHeight:e,height:n,totalRow:i},s,a,u,f,h)=>{n=Number(n);const _=Math.max(0,i*e-n),y=Math.min(_,s*e),S=Math.max(0,s*e-n+h+e);switch(a===Cv&&(u>=S-n&&u<=y+n?a=uo:a=_a),a){case Uh:return y;case Hh:return S;case _a:{const b=Math.round(S+(y-S)/2);return b<Math.ceil(n/2)?0:b>_+Math.floor(n/2)?_:b}case uo:default:return u>=S&&u<=y?u:S>y||u<S?S:y}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:n},i)=>Math.max(0,Math.min(n-1,Math.floor(i/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:n,width:i},s,a)=>{const u=s*e,f=Math.ceil((i+a-u)/e);return Math.max(0,Math.min(n-1,s+f-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:n},i)=>Math.max(0,Math.min(n-1,Math.floor(i/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:n,height:i},s,a)=>{const u=s*e,f=Math.ceil((i+a-u)/e);return Math.max(0,Math.min(n-1,s+f-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:n})=>{}}),{max:Lg,min:UN,floor:HN}=Math,rhe={column:"columnWidth",row:"rowHeight"},Ay={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},$a=(e,n,i,s)=>{const[a,u,f]=[i[s],e[rhe[s]],i[Ay[s]]];if(n>f){let h=0;if(f>=0){const _=a[f];h=_.offset+_.size}for(let _=f+1;_<=n;_++){const y=u(_);a[_]={offset:h,size:y},h+=y}i[Ay[s]]=n}return a[n]},QN=(e,n,i,s,a,u)=>{for(;i<=s;){const f=i+HN((s-i)/2),h=$a(e,f,n,u).offset;if(h===a)return f;h<a?i=f+1:s=f-1}return Lg(0,i-1)},ihe=(e,n,i,s,a)=>{const u=a==="column"?e.totalColumn:e.totalRow;let f=1;for(;i<u&&$a(e,i,n,a).offset<s;)i+=f,f*=2;return QN(e,n,HN(i/2),UN(i,u-1),s,a)},pM=(e,n,i,s)=>{const[a,u]=[n[s],n[Ay[s]]];return(u>0?a[u].offset:0)>=i?QN(e,n,0,u,i,s):ihe(e,n,Lg(0,u),i,s)},XN=({totalRow:e},{estimatedRowHeight:n,lastVisitedRowIndex:i,row:s})=>{let a=0;if(i>=e&&(i=e-1),i>=0){const h=s[i];a=h.offset+h.size}const f=(e-i-1)*n;return a+f},zN=({totalColumn:e},{column:n,estimatedColumnWidth:i,lastVisitedColumnIndex:s})=>{let a=0;if(s>e&&(s=e-1),s>=0){const h=n[s];a=h.offset+h.size}const f=(e-s-1)*i;return a+f},she={column:zN,row:XN},mM=(e,n,i,s,a,u,f)=>{const[h,_]=[u==="row"?e.height:e.width,she[u]],y=$a(e,n,a,u),S=_(e,a),b=Lg(0,UN(S-h,y.offset)),w=Lg(0,y.offset-h+f+y.size);switch(i===Cv&&(s>=w-h&&s<=b+h?i=uo:i=_a),i){case Uh:return b;case Hh:return w;case _a:return Math.round(w+(b-w)/2);case uo:default:return s>=w&&s<=b?s:w>b||s<w?w:b}},ohe=GN({name:"ElDynamicSizeGrid",getColumnPosition:(e,n,i)=>{const s=$a(e,n,i,"column");return[s.size,s.offset]},getRowPosition:(e,n,i)=>{const s=$a(e,n,i,"row");return[s.size,s.offset]},getColumnOffset:(e,n,i,s,a,u)=>mM(e,n,i,s,a,"column",u),getRowOffset:(e,n,i,s,a,u)=>mM(e,n,i,s,a,"row",u),getColumnStartIndexForOffset:(e,n,i)=>pM(e,i,n,"column"),getColumnStopIndexForStartIndex:(e,n,i,s)=>{const a=$a(e,n,s,"column"),u=i+e.width;let f=a.offset+a.size,h=n;for(;h<e.totalColumn-1&&f<u;)h++,f+=$a(e,n,s,"column").size;return h},getEstimatedTotalHeight:XN,getEstimatedTotalWidth:zN,getRowStartIndexForOffset:(e,n,i)=>pM(e,i,n,"row"),getRowStopIndexForStartIndex:(e,n,i,s)=>{const{totalRow:a,height:u}=e,f=$a(e,n,s,"row"),h=i+u;let _=f.size+f.offset,y=n;for(;y<a-1&&_<h;)y++,_+=$a(e,y,s,"row").size;return y},injectToInstance:(e,n)=>{const i=({columnIndex:u,rowIndex:f},h)=>{var _,y;h=Xi(h)?!0:h,Qn(u)&&(n.value.lastVisitedColumnIndex=Math.min(n.value.lastVisitedColumnIndex,u-1)),Qn(f)&&(n.value.lastVisitedRowIndex=Math.min(n.value.lastVisitedRowIndex,f-1)),(_=e.exposed)==null||_.getItemStyleCache.value(-1,null,null),h&&((y=e.proxy)==null||y.$forceUpdate())},s=(u,f)=>{i({columnIndex:u},f)},a=(u,f)=>{i({rowIndex:u},f)};Object.assign(e.proxy,{resetAfterColumnIndex:s,resetAfterRowIndex:a,resetAfter:i})},initCache:({estimatedColumnWidth:e=fy,estimatedRowHeight:n=fy})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:n,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:n})=>{}}),ahe=Ge({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:bt("select")}}});function lhe(e,n,i,s,a,u){return e.item.isTitle?(Q(),ve("div",{key:0,class:Y(e.ns.be("group","title")),style:fn([e.style,{lineHeight:`${e.height}px`}])},Qt(e.item.label),7)):(Q(),ve("div",{key:1,class:Y(e.ns.be("group","split")),style:fn(e.style)},[Ce("span",{class:Y(e.ns.be("group","split-dash")),style:fn({top:`${e.height/2}px`})},null,6)],6))}var che=Ht(ahe,[["render",lhe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function uhe(e,{emit:n}){return{hoverItem:()=>{e.disabled||n("hover",e.index)},selectOptionClick:()=>{e.disabled||n("select",e.item,e.index)}}}const dhe={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:rc},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:Hi.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:qd},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:nt(String),values:_u,default:"bottom-start"}},fhe={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},hhe=Ge({props:fhe,emits:["select","hover"],setup(e,{emit:n}){const i=bt("select"),{hoverItem:s,selectOptionClick:a}=uhe(e,{emit:n});return{ns:i,hoverItem:s,selectOptionClick:a}}}),phe=["aria-selected"];function mhe(e,n,i,s,a,u){return Q(),ve("li",{"aria-selected":e.selected,style:fn(e.style),class:Y([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:n[0]||(n[0]=(...f)=>e.hoverItem&&e.hoverItem(...f)),onClick:n[1]||(n[1]=Nn((...f)=>e.selectOptionClick&&e.selectOptionClick(...f),["stop"]))},[vt(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[Ce("span",null,Qt(e.item.label),1)])],46,phe)}var ghe=Ht(hhe,[["render",mhe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const $N="ElSelectV2Injection";var vhe=Ge({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:n,expose:i}){const s=hn($N),a=bt("select"),u=re([]),f=re(),h=z(()=>e.data.length);St(()=>h.value,()=>{var ee,se;(se=(ee=s.popper.value).updatePopper)==null||se.call(ee)});const _=z(()=>Xi(s.props.estimatedOptionHeight)),y=z(()=>_.value?{itemSize:s.props.itemHeight}:{estimatedSize:s.props.estimatedOptionHeight,itemSize:ee=>u.value[ee]}),S=(ee=[],se)=>{const{props:{valueKey:oe}}=s;return tr(se)?ee&&ee.some(Ie=>Yr(Ie,oe)===Yr(se,oe)):ee.includes(se)},b=(ee,se)=>{if(tr(se)){const{valueKey:oe}=s.props;return Yr(ee,oe)===Yr(se,oe)}else return ee===se},w=(ee,se)=>{const{valueKey:oe}=s.props;return s.props.multiple?S(ee,Yr(se,oe)):b(ee,Yr(se,oe))},C=(ee,se)=>{const{disabled:oe,multiple:Ie,multipleLimit:pe}=s.props;return oe||!se&&(Ie?pe>0&&ee.length>=pe:!1)},x=ee=>e.hoveringIndex===ee;i({listRef:f,isSized:_,isItemDisabled:C,isItemHovering:x,isItemSelected:w,scrollToItem:ee=>{const se=f.value;se&&se.scrollToItem(ee)},resetScrollTop:()=>{const ee=f.value;ee&&ee.resetScrollTop()}});const D=ee=>{const{index:se,data:oe,style:Ie}=ee,pe=p(_),{itemSize:ae,estimatedSize:ye}=p(y),{modelValue:be}=s.props,{onSelect:_e,onHover:ie}=s,fe=oe[se];if(fe.type==="Group")return Re(che,{item:fe,style:Ie,height:pe?ae:ye},null);const le=w(be,fe),ke=C(be,le),ze=x(se);return Re(ghe,nr(ee,{selected:le,disabled:fe.disabled||ke,created:!!fe.created,hovering:ze,item:fe,onSelect:_e,onHover:ie}),{default:Te=>{var Xe;return((Xe=n.default)==null?void 0:Xe.call(n,Te))||Re("span",null,[fe.label])}})},{onKeyboardNavigate:F,onKeyboardSelect:N}=s,G=()=>{F("forward")},U=()=>{F("backward")},$=()=>{s.expanded=!1},de=ee=>{const{code:se}=ee,{tab:oe,esc:Ie,down:pe,up:ae,enter:ye}=_n;switch(se!==oe&&(ee.preventDefault(),ee.stopPropagation()),se){case oe:case Ie:{$();break}case pe:{G();break}case ae:{U();break}case ye:{N();break}}};return()=>{var ee;const{data:se,width:oe}=e,{height:Ie,multiple:pe,scrollbarAlwaysOn:ae}=s.props;if(se.length===0)return Re("div",{class:a.b("dropdown"),style:{width:`${oe}px`}},[(ee=n.empty)==null?void 0:ee.call(n)]);const ye=p(_)?FN:ehe;return Re("div",{class:[a.b("dropdown"),a.is("multiple",pe)]},[Re(ye,nr({ref:f},p(y),{className:a.be("dropdown","list"),scrollbarAlwaysOn:ae,data:se,height:Ie,width:oe,total:se.length,onKeydown:de}),{default:be=>Re(D,be,null)})])}}});function _he(e,n){const i=re(0),s=re(null),a=z(()=>e.allowCreate&&e.filterable);function u(S){const b=w=>w.value===S;return e.options&&e.options.some(b)||n.createdOptions.some(b)}function f(S){!a.value||(e.multiple&&S.created?i.value++:s.value=S)}function h(S){if(a.value)if(S&&S.length>0&&!u(S)){const b={value:S,label:S,created:!0,disabled:!1};n.createdOptions.length>=i.value?n.createdOptions[i.value]=b:n.createdOptions.push(b)}else if(e.multiple)n.createdOptions.length=i.value;else{const b=s.value;n.createdOptions.length=0,b&&b.created&&n.createdOptions.push(b)}}function _(S){if(!a.value||!S||!S.created||S.created&&e.reserveKeyword&&n.inputValue===S.label)return;const b=n.createdOptions.findIndex(w=>w.value===S.value);~b&&(n.createdOptions.splice(b,1),i.value--)}function y(){a.value&&(n.createdOptions.length=0,i.value=0)}return{createNewOption:h,removeNewOption:_,selectNewOption:f,clearAllNewOption:y}}const Ahe=e=>{const n=[];return e.forEach(i=>{sn(i.options)?(n.push({label:i.label,isTitle:!0,type:"Group"}),i.options.forEach(s=>{n.push(s)}),n.push({type:"Group"})):n.push(i)}),n};function yhe(e){const n=re(!1);return{handleCompositionStart:()=>{n.value=!0},handleCompositionUpdate:u=>{const f=u.target.value,h=f[f.length-1]||"";n.value=!dv(h)},handleCompositionEnd:u=>{n.value&&(n.value=!1,Tn(e)&&e(u))}}}const gM="",vM=11,bhe={larget:51,default:42,small:33},She=(e,n)=>{const{t:i}=yr(),s=bt("select-v2"),a=bt("input"),{form:u,formItem:f}=ys(),h=Tr({inputValue:gM,displayInputValue:gM,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),_=re(-1),y=re(-1),S=re(null),b=re(null),w=re(null),C=re(null),x=re(null),M=re(null),T=re(null),D=re(!1),F=z(()=>e.disabled||(u==null?void 0:u.disabled)),N=z(()=>{const Ot=pe.value.length*34;return Ot>e.height?e.height:Ot}),G=z(()=>!$i(e.modelValue)),U=z(()=>{const Ot=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:G.value;return e.clearable&&!F.value&&h.comboBoxHovering&&Ot}),$=z(()=>e.remote&&e.filterable?"":ev),de=z(()=>$.value&&s.is("reverse",D.value)),ee=z(()=>(f==null?void 0:f.validateState)||""),se=z(()=>JR[ee.value]),oe=z(()=>e.remote?300:0),Ie=z(()=>{const Ot=pe.value;return e.loading?e.loadingText||i("el.select.loading"):e.remote&&h.inputValue===""&&Ot.length===0?!1:e.filterable&&h.inputValue&&Ot.length>0?e.noMatchText||i("el.select.noMatch"):Ot.length===0?e.noDataText||i("el.select.noData"):null}),pe=z(()=>{const Ot=wn=>{var er;const xr=h.inputValue;return xr?(er=wn.label)==null?void 0:er.includes(xr):!0};return e.loading?[]:Ahe(e.options.concat(h.createdOptions).map(wn=>{if(sn(wn.options)){const er=wn.options.filter(Ot);if(er.length>0)return{...wn,options:er}}else if(e.remote||Ot(wn))return wn;return null}).filter(wn=>wn!==null))}),ae=z(()=>pe.value.every(Ot=>Ot.disabled)),ye=Ci(),be=z(()=>ye.value==="small"?"small":"default"),_e=z(()=>{const Ot=M.value,wn=be.value||"default",er=Ot?Number.parseInt(getComputedStyle(Ot).paddingLeft):0,xr=Ot?Number.parseInt(getComputedStyle(Ot).paddingRight):0;return h.selectWidth-xr-er-bhe[wn]}),ie=()=>{var Ot;y.value=((Ot=x.value)==null?void 0:Ot.offsetWidth)||200},fe=z(()=>({width:`${h.calculatedWidth===0?vM:Math.ceil(h.calculatedWidth)+vM}px`})),le=z(()=>sn(e.modelValue)?e.modelValue.length===0&&!h.displayInputValue:e.filterable?h.displayInputValue.length===0:!0),ke=z(()=>{const Ot=e.placeholder||i("el.select.placeholder");return e.multiple||$i(e.modelValue)?Ot:h.selectedLabel}),ze=z(()=>{var Ot,wn;return(wn=(Ot=C.value)==null?void 0:Ot.popperRef)==null?void 0:wn.contentRef}),Te=z(()=>{if(e.multiple){const Ot=e.modelValue.length;if(e.modelValue.length>0)return pe.value.findIndex(wn=>wn.value===e.modelValue[Ot-1])}else if(e.modelValue)return pe.value.findIndex(Ot=>Ot.value===e.modelValue);return-1}),Xe=z({get(){return D.value&&Ie.value!==!1},set(Ot){D.value=Ot}}),{createNewOption:_t,removeNewOption:wt,selectNewOption:xt,clearAllNewOption:it}=_he(e,h),{handleCompositionStart:je,handleCompositionUpdate:ot,handleCompositionEnd:At}=yhe(Ot=>Ir(Ot)),on=()=>{var Ot,wn,er;(wn=(Ot=b.value).focus)==null||wn.call(Ot),(er=C.value)==null||er.updatePopper()},Ne=()=>{if(!e.automaticDropdown&&!F.value)return h.isComposing&&(h.softFocus=!0),dn(()=>{var Ot,wn;D.value=!D.value,(wn=(Ot=b.value)==null?void 0:Ot.focus)==null||wn.call(Ot)})},$e=()=>(e.filterable&&h.inputValue!==h.selectedLabel&&(h.query=h.selectedLabel),Tt(h.inputValue),dn(()=>{_t(h.inputValue)})),ft=As($e,oe.value),Tt=Ot=>{h.previousQuery!==Ot&&(h.previousQuery=Ot,e.filterable&&Tn(e.filterMethod)?e.filterMethod(Ot):e.filterable&&e.remote&&Tn(e.remoteMethod)&&e.remoteMethod(Ot))},Bt=Ot=>{qs(e.modelValue,Ot)||n(jr,Ot)},ct=Ot=>{n(qn,Ot),Bt(Ot),h.previousValue=Ot==null?void 0:Ot.toString()},Lt=(Ot=[],wn)=>{if(!tr(wn))return Ot.indexOf(wn);const er=e.valueKey;let xr=-1;return Ot.some((Ni,ei)=>Yr(Ni,er)===Yr(wn,er)?(xr=ei,!0):!1),xr},gt=Ot=>tr(Ot)?Yr(Ot,e.valueKey):Ot,xe=Ot=>tr(Ot)?Ot.label:Ot,qe=()=>{if(!(e.collapseTags&&!e.filterable))return dn(()=>{var Ot,wn;if(!b.value)return;const er=M.value;x.value.height=er.offsetHeight,D.value&&Ie.value!==!1&&((wn=(Ot=C.value)==null?void 0:Ot.updatePopper)==null||wn.call(Ot))})},Dt=()=>{var Ot,wn;if(zt(),ie(),(wn=(Ot=C.value)==null?void 0:Ot.updatePopper)==null||wn.call(Ot),e.multiple)return qe()},zt=()=>{const Ot=M.value;Ot&&(h.selectWidth=Ot.getBoundingClientRect().width)},en=(Ot,wn,er=!0)=>{var xr,Ni;if(e.multiple){let ei=e.modelValue.slice();const Di=Lt(ei,gt(Ot));Di>-1?(ei=[...ei.slice(0,Di),...ei.slice(Di+1)],h.cachedOptions.splice(Di,1),wt(Ot)):(e.multipleLimit<=0||ei.length<e.multipleLimit)&&(ei=[...ei,gt(Ot)],h.cachedOptions.push(Ot),xt(Ot),Et(wn)),ct(ei),Ot.created&&(h.query="",Tt(""),h.inputLength=20),e.filterable&&!e.reserveKeyword&&((Ni=(xr=b.value).focus)==null||Ni.call(xr),Bn("")),e.filterable&&(h.calculatedWidth=T.value.getBoundingClientRect().width),qe(),Wn()}else _.value=wn,h.selectedLabel=Ot.label,ct(gt(Ot)),D.value=!1,h.isComposing=!1,h.isSilentBlur=er,xt(Ot),Ot.created||it(),Et(wn)},gn=(Ot,wn)=>{const{valueKey:er}=e,xr=e.modelValue.indexOf(Yr(wn,er));if(xr>-1&&!F.value){const Ni=[...e.modelValue.slice(0,xr),...e.modelValue.slice(xr+1)];return h.cachedOptions.splice(xr,1),ct(Ni),n("remove-tag",Yr(wn,er)),h.softFocus=!0,wt(wn),dn(on)}Ot.stopPropagation()},En=Ot=>{const wn=h.isComposing;h.isComposing=!0,h.softFocus?h.softFocus=!1:wn||n("focus",Ot)},Gn=Ot=>(h.softFocus=!1,dn(()=>{var wn,er;(er=(wn=b.value)==null?void 0:wn.blur)==null||er.call(wn),T.value&&(h.calculatedWidth=T.value.getBoundingClientRect().width),h.isSilentBlur?h.isSilentBlur=!1:h.isComposing&&n("blur",Ot),h.isComposing=!1})),pt=()=>{h.displayInputValue.length>0?Bn(""):D.value=!1},yt=Ot=>{if(h.displayInputValue.length===0){Ot.preventDefault();const wn=e.modelValue.slice();wn.pop(),wt(h.cachedOptions.pop()),ct(wn)}},tn=()=>{let Ot;return sn(e.modelValue)?Ot=[]:Ot=void 0,h.softFocus=!0,e.multiple?h.cachedOptions=[]:h.selectedLabel="",D.value=!1,ct(Ot),n("clear"),it(),dn(on)},Bn=Ot=>{h.displayInputValue=Ot,h.inputValue=Ot},Ee=(Ot,wn=void 0)=>{const er=pe.value;if(!["forward","backward"].includes(Ot)||F.value||er.length<=0||ae.value)return;if(!D.value)return Ne();wn===void 0&&(wn=h.hoveringIndex);let xr=-1;Ot==="forward"?(xr=wn+1,xr>=er.length&&(xr=0)):Ot==="backward"&&(xr=wn-1,(xr<0||xr>=er.length)&&(xr=er.length-1));const Ni=er[xr];if(Ni.disabled||Ni.type==="Group")return Ee(Ot,xr);Et(xr),zn(xr)},Qe=()=>{if(D.value)~h.hoveringIndex&&pe.value[h.hoveringIndex]&&en(pe.value[h.hoveringIndex],h.hoveringIndex,!1);else return Ne()},Et=Ot=>{h.hoveringIndex=Ot},Mt=()=>{h.hoveringIndex=-1},Wn=()=>{var Ot;const wn=b.value;wn&&((Ot=wn.focus)==null||Ot.call(wn))},Ir=Ot=>{const wn=Ot.target.value;if(Bn(wn),h.displayInputValue.length>0&&!D.value&&(D.value=!0),h.calculatedWidth=T.value.getBoundingClientRect().width,e.multiple&&qe(),e.remote)ft();else return $e()},pr=()=>(D.value=!1,Gn()),oi=()=>(h.inputValue=h.displayInputValue,dn(()=>{~Te.value&&(Et(Te.value),zn(h.hoveringIndex))})),zn=Ot=>{w.value.scrollToItem(Ot)},Mr=()=>{if(Mt(),e.multiple)if(e.modelValue.length>0){let Ot=!1;h.cachedOptions.length=0,h.previousValue=e.modelValue.toString(),e.modelValue.forEach(wn=>{const er=pe.value.findIndex(xr=>gt(xr)===wn);~er&&(h.cachedOptions.push(pe.value[er]),Ot||Et(er),Ot=!0)})}else h.cachedOptions=[],h.previousValue=void 0;else if(G.value){h.previousValue=e.modelValue;const Ot=pe.value,wn=Ot.findIndex(er=>gt(er)===gt(e.modelValue));~wn?(h.selectedLabel=Ot[wn].label,Et(wn)):h.selectedLabel=`${e.modelValue}`}else h.selectedLabel="",h.previousValue=void 0;it(),ie()};return St(D,Ot=>{var wn,er;n("visible-change",Ot),Ot?(er=(wn=C.value).update)==null||er.call(wn):(h.displayInputValue="",h.previousQuery=null,_t(""))}),St(()=>e.modelValue,(Ot,wn)=>{var er;(!Ot||Ot.toString()!==h.previousValue)&&Mr(),!qs(Ot,wn)&&e.validateEvent&&((er=f==null?void 0:f.validate)==null||er.call(f,"change").catch(xr=>void 0))},{deep:!0}),St(()=>e.options,()=>{const Ot=b.value;(!Ot||Ot&&document.activeElement!==Ot)&&Mr()},{deep:!0}),St(pe,()=>dn(w.value.resetScrollTop)),jn(()=>{Mr()}),as(x,Dt),{collapseTagSize:be,currentPlaceholder:ke,expanded:D,emptyText:Ie,popupHeight:N,debounce:oe,filteredOptions:pe,iconComponent:$,iconReverse:de,inputWrapperStyle:fe,popperSize:y,dropdownMenuVisible:Xe,hasModelValue:G,shouldShowPlaceholder:le,selectDisabled:F,selectSize:ye,showClearBtn:U,states:h,tagMaxWidth:_e,nsSelectV2:s,nsInput:a,calculatorRef:T,controlRef:S,inputRef:b,menuRef:w,popper:C,selectRef:x,selectionRef:M,popperRef:ze,validateState:ee,validateIcon:se,debouncedOnInputChange:ft,deleteTag:gn,getLabel:xe,getValueKey:gt,handleBlur:Gn,handleClear:tn,handleClickOutside:pr,handleDel:yt,handleEsc:pt,handleFocus:En,handleMenuEnter:oi,handleResize:Dt,toggleMenu:Ne,scrollTo:zn,onInput:Ir,onKeyboardNavigate:Ee,onKeyboardSelect:Qe,onSelect:en,onHover:Et,onUpdateInputValue:Bn,handleCompositionStart:je,handleCompositionEnd:At,handleCompositionUpdate:ot}},Ehe=Ge({name:"ElSelectV2",components:{ElSelectMenu:vhe,ElTag:bv,ElTooltip:Ps,ElIcon:un},directives:{ClickOutside:Jl,ModelText:rb},props:dhe,emits:[qn,jr,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:n}){const i=She(e,n);return ir($N,{props:Tr({...xi(e),height:i.popupHeight}),popper:i.popper,onSelect:i.onSelect,onHover:i.onHover,onKeyboardNavigate:i.onKeyboardNavigate,onKeyboardSelect:i.onKeyboardSelect}),i}}),whe={key:0},Che=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],Ihe=["textContent"],Mhe=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],xhe=["textContent"];function Rhe(e,n,i,s,a,u){const f=Mn("el-tag"),h=Mn("el-tooltip"),_=Mn("el-icon"),y=Mn("el-select-menu"),S=Id("model-text"),b=Id("click-outside");return Hn((Q(),ve("div",{ref:"selectRef",class:Y([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:n[25]||(n[25]=Nn((...w)=>e.toggleMenu&&e.toggleMenu(...w),["stop"])),onMouseenter:n[26]||(n[26]=w=>e.states.comboBoxHovering=!0),onMouseleave:n[27]||(n[27]=w=>e.states.comboBoxHovering=!1)},[Re(h,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:n[24]||(n[24]=w=>e.states.inputValue=e.states.displayInputValue)},{default:Ue(()=>{var w;return[Ce("div",{ref:"selectionRef",class:Y([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(Q(),ve("div",whe,[vt(e.$slots,"prefix")])):Ye("v-if",!0),e.multiple?(Q(),ve("div",{key:1,class:Y(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(Q(),ve("div",{key:0,class:Y(e.nsSelectV2.e("selected-item"))},[Re(f,{closable:!e.selectDisabled&&!((w=e.states.cachedOptions[0])!=null&&w.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:n[0]||(n[0]=C=>e.deleteTag(C,e.states.cachedOptions[0]))},{default:Ue(()=>{var C;return[Ce("span",{class:Y(e.nsSelectV2.e("tags-text")),style:fn({maxWidth:`${e.tagMaxWidth}px`})},Qt((C=e.states.cachedOptions[0])==null?void 0:C.label),7)]}),_:1},8,["closable","size"]),e.modelValue.length>1?(Q(),rt(f,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:Ue(()=>[e.collapseTagsTooltip?(Q(),rt(h,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:Ue(()=>[Ce("span",{class:Y(e.nsSelectV2.e("tags-text")),style:fn({maxWidth:`${e.tagMaxWidth}px`})},"+ "+Qt(e.modelValue.length-1),7)]),content:Ue(()=>[Ce("div",{class:Y(e.nsSelectV2.e("selection"))},[(Q(!0),ve(mn,null,cr(e.states.cachedOptions.slice(1),(C,x)=>(Q(),ve("div",{key:x,class:Y(e.nsSelectV2.e("selected-item"))},[(Q(),rt(f,{key:e.getValueKey(C),closable:!e.selectDisabled&&!C.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:M=>e.deleteTag(M,C)},{default:Ue(()=>[Ce("span",{class:Y(e.nsSelectV2.e("tags-text")),style:fn({maxWidth:`${e.tagMaxWidth}px`})},Qt(e.getLabel(C)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect"])):(Q(),ve("span",{key:1,class:Y(e.nsSelectV2.e("tags-text")),style:fn({maxWidth:`${e.tagMaxWidth}px`})},"+ "+Qt(e.modelValue.length-1),7))]),_:1},8,["size"])):Ye("v-if",!0)],2)):(Q(!0),ve(mn,{key:1},cr(e.states.cachedOptions,(C,x)=>(Q(),ve("div",{key:x,class:Y(e.nsSelectV2.e("selected-item"))},[(Q(),rt(f,{key:e.getValueKey(C),closable:!e.selectDisabled&&!C.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:M=>e.deleteTag(M,C)},{default:Ue(()=>[Ce("span",{class:Y(e.nsSelectV2.e("tags-text")),style:fn({maxWidth:`${e.tagMaxWidth}px`})},Qt(e.getLabel(C)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128)),Ce("div",{class:Y([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:fn(e.inputWrapperStyle)},[Hn(Ce("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:Y([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":n[1]||(n[1]=(...C)=>e.onUpdateInputValue&&e.onUpdateInputValue(...C)),onFocus:n[2]||(n[2]=(...C)=>e.handleFocus&&e.handleFocus(...C)),onBlur:n[3]||(n[3]=(...C)=>e.handleBlur&&e.handleBlur(...C)),onInput:n[4]||(n[4]=(...C)=>e.onInput&&e.onInput(...C)),onCompositionstart:n[5]||(n[5]=(...C)=>e.handleCompositionStart&&e.handleCompositionStart(...C)),onCompositionupdate:n[6]||(n[6]=(...C)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...C)),onCompositionend:n[7]||(n[7]=(...C)=>e.handleCompositionEnd&&e.handleCompositionEnd(...C)),onKeydown:[n[8]||(n[8]=fr(Nn(C=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),n[9]||(n[9]=fr(Nn(C=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),n[10]||(n[10]=fr(Nn((...C)=>e.onKeyboardSelect&&e.onKeyboardSelect(...C),["stop","prevent"]),["enter"])),n[11]||(n[11]=fr(Nn((...C)=>e.handleEsc&&e.handleEsc(...C),["stop","prevent"]),["esc"])),n[12]||(n[12]=fr(Nn((...C)=>e.handleDel&&e.handleDel(...C),["stop"]),["delete"]))]},null,42,Che),[[S,e.states.displayInputValue]]),e.filterable?(Q(),ve("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Y(e.nsSelectV2.e("input-calculator")),textContent:Qt(e.states.displayInputValue)},null,10,Ihe)):Ye("v-if",!0)],6)],2)):(Q(),ve(mn,{key:2},[Ce("div",{class:Y([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[Hn(Ce("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:Y(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:n[13]||(n[13]=(...C)=>e.handleCompositionStart&&e.handleCompositionStart(...C)),onCompositionupdate:n[14]||(n[14]=(...C)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...C)),onCompositionend:n[15]||(n[15]=(...C)=>e.handleCompositionEnd&&e.handleCompositionEnd(...C)),onFocus:n[16]||(n[16]=(...C)=>e.handleFocus&&e.handleFocus(...C)),onBlur:n[17]||(n[17]=(...C)=>e.handleBlur&&e.handleBlur(...C)),onInput:n[18]||(n[18]=(...C)=>e.onInput&&e.onInput(...C)),onKeydown:[n[19]||(n[19]=fr(Nn(C=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),n[20]||(n[20]=fr(Nn(C=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),n[21]||(n[21]=fr(Nn((...C)=>e.onKeyboardSelect&&e.onKeyboardSelect(...C),["stop","prevent"]),["enter"])),n[22]||(n[22]=fr(Nn((...C)=>e.handleEsc&&e.handleEsc(...C),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":n[23]||(n[23]=(...C)=>e.onUpdateInputValue&&e.onUpdateInputValue(...C))},null,42,Mhe),[[S,e.states.displayInputValue]])],2),e.filterable?(Q(),ve("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Y([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:Qt(e.states.displayInputValue)},null,10,xhe)):Ye("v-if",!0)],64)),e.shouldShowPlaceholder?(Q(),ve("span",{key:3,class:Y([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?e.modelValue.length===0:!e.hasModelValue)])},Qt(e.currentPlaceholder),3)):Ye("v-if",!0),Ce("span",{class:Y(e.nsSelectV2.e("suffix"))},[e.iconComponent?Hn((Q(),rt(_,{key:0,class:Y([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:Ue(()=>[(Q(),rt(rr(e.iconComponent)))]),_:1},8,["class"])),[[_r,!e.showClearBtn]]):Ye("v-if",!0),e.showClearBtn&&e.clearIcon?(Q(),rt(_,{key:1,class:Y([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:Nn(e.handleClear,["prevent","stop"])},{default:Ue(()=>[(Q(),rt(rr(e.clearIcon)))]),_:1},8,["class","onClick"])):Ye("v-if",!0),e.validateState&&e.validateIcon?(Q(),rt(_,{key:2,class:Y([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:Ue(()=>[(Q(),rt(rr(e.validateIcon)))]),_:1},8,["class"])):Ye("v-if",!0)],2)],2)]}),content:Ue(()=>[Re(y,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:Ue(w=>[vt(e.$slots,"default",Ho(Yg(w)))]),empty:Ue(()=>[vt(e.$slots,"empty",{},()=>[Ce("p",{class:Y(e.nsSelectV2.e("empty"))},Qt(e.emptyText?e.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[b,e.handleClickOutside,e.popperRef]])}var sg=Ht(Ehe,[["render",Rhe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);sg.install=e=>{e.component(sg.name,sg)};const The=sg,Phe=The,Nhe=Xt({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),Dhe=Xt({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),Bhe=Ge({name:"ElSkeletonItem"}),khe=Ge({...Bhe,props:Dhe,setup(e){const n=bt("skeleton");return(i,s)=>(Q(),ve("div",{class:Y([p(n).e("item"),p(n).e(i.variant)])},[i.variant==="image"?(Q(),rt(p(uX),{key:0})):Ye("v-if",!0)],2))}});var Og=Ht(khe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const Lhe=Ge({name:"ElSkeleton"}),Ohe=Ge({...Lhe,props:Nhe,setup(e,{expose:n}){const i=e,s=bt("skeleton"),a=pY(si(i,"loading"),i.throttle);return n({uiLoading:a}),(u,f)=>p(a)?(Q(),ve("div",nr({key:0,class:[p(s).b(),p(s).is("animated",u.animated)]},u.$attrs),[(Q(!0),ve(mn,null,cr(u.count,h=>(Q(),ve(mn,{key:h},[u.loading?vt(u.$slots,"template",{key:h},()=>[Re(Og,{class:Y(p(s).is("first")),variant:"p"},null,8,["class"]),(Q(!0),ve(mn,null,cr(u.rows,_=>(Q(),rt(Og,{key:_,class:Y([p(s).e("paragraph"),p(s).is("last",_===u.rows&&u.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Ye("v-if",!0)],64))),128))],16)):vt(u.$slots,"default",Ho(nr({key:1},u.$attrs)))}});var Fhe=Ht(Ohe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const Vhe=Jn(Fhe,{SkeletonItem:Og}),Ghe=fi(Og),Uhe=Xt({modelValue:{type:nt([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Ts,inputSize:Ts,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:nt(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:nt(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:_u,default:"top"},marks:{type:nt(Object)},validateEvent:{type:Boolean,default:!0}}),c0=e=>Qn(e)||sn(e)&&e.every(Qn),Hhe={[qn]:c0,[_s]:c0,[jr]:c0},Qhe=(e,n,i)=>{const s=re();return jn(async()=>{e.range?(Array.isArray(e.modelValue)?(n.firstValue=Math.max(e.min,e.modelValue[0]),n.secondValue=Math.min(e.max,e.modelValue[1])):(n.firstValue=e.min,n.secondValue=e.max),n.oldValue=[n.firstValue,n.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?n.firstValue=e.min:n.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),n.oldValue=n.firstValue),Kr(window,"resize",i),await dn(),i()}),{sliderWrapper:s}},Xhe=e=>z(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((i,s)=>i-s).filter(i=>i<=e.max&&i>=e.min).map(i=>({point:i,position:(i-e.min)*100/(e.max-e.min),mark:e.marks[i]})):[]),zhe=(e,n,i)=>{const{form:s,formItem:a}=ys(),u=Wr(),f=re(),h=re(),_={firstButton:f,secondButton:h},y=z(()=>e.disabled||(s==null?void 0:s.disabled)||!1),S=z(()=>Math.min(n.firstValue,n.secondValue)),b=z(()=>Math.max(n.firstValue,n.secondValue)),w=z(()=>e.range?`${100*(b.value-S.value)/(e.max-e.min)}%`:`${100*(n.firstValue-e.min)/(e.max-e.min)}%`),C=z(()=>e.range?`${100*(S.value-e.min)/(e.max-e.min)}%`:"0%"),x=z(()=>e.vertical?{height:e.height}:{}),M=z(()=>e.vertical?{height:w.value,bottom:C.value}:{width:w.value,left:C.value}),T=()=>{u.value&&(n.sliderSize=u.value[`client${e.vertical?"Height":"Width"}`])},D=Ie=>{const pe=e.min+Ie*(e.max-e.min)/100;if(!e.range)return f;let ae;return Math.abs(S.value-pe)<Math.abs(b.value-pe)?ae=n.firstValue<n.secondValue?"firstButton":"secondButton":ae=n.firstValue>n.secondValue?"firstButton":"secondButton",_[ae]},F=Ie=>{const pe=D(Ie);return pe.value.setPosition(Ie),pe},N=Ie=>{n.firstValue=Ie,U(e.range?[S.value,b.value]:Ie)},G=Ie=>{n.secondValue=Ie,e.range&&U([S.value,b.value])},U=Ie=>{i(qn,Ie),i(_s,Ie)},$=async()=>{await dn(),i(jr,e.range?[S.value,b.value]:e.modelValue)},de=Ie=>{var pe,ae,ye,be,_e,ie;if(y.value||n.dragging)return;T();let fe=0;if(e.vertical){const le=(ye=(ae=(pe=Ie.touches)==null?void 0:pe.item(0))==null?void 0:ae.clientY)!=null?ye:Ie.clientY;fe=(u.value.getBoundingClientRect().bottom-le)/n.sliderSize*100}else{const le=(ie=(_e=(be=Ie.touches)==null?void 0:be.item(0))==null?void 0:_e.clientX)!=null?ie:Ie.clientX,ke=u.value.getBoundingClientRect().left;fe=(le-ke)/n.sliderSize*100}if(!(fe<0||fe>100))return F(fe)};return{elFormItem:a,slider:u,firstButton:f,secondButton:h,sliderDisabled:y,minValue:S,maxValue:b,runwayStyle:x,barStyle:M,resetSize:T,setPosition:F,emitChange:$,onSliderWrapperPrevent:Ie=>{var pe,ae;(((pe=_.firstButton.value)==null?void 0:pe.dragging)||((ae=_.secondButton.value)==null?void 0:ae.dragging))&&Ie.preventDefault()},onSliderClick:Ie=>{de(Ie)&&$()},onSliderDown:async Ie=>{const pe=de(Ie);pe&&(await dn(),pe.value.onButtonDown(Ie))},setFirstValue:N,setSecondValue:G}},{left:$he,down:Whe,right:Khe,up:jhe,home:qhe,end:Yhe,pageUp:Jhe,pageDown:Zhe}=_n,epe=(e,n,i)=>{const s=re(),a=re(!1),u=z(()=>n.value instanceof Function),f=z(()=>u.value&&n.value(e.modelValue)||e.modelValue),h=As(()=>{i.value&&(a.value=!0)},50),_=As(()=>{i.value&&(a.value=!1)},50);return{tooltip:s,tooltipVisible:a,formatValue:f,displayTooltip:h,hideTooltip:_}},tpe=(e,n,i)=>{const{disabled:s,min:a,max:u,step:f,showTooltip:h,precision:_,sliderSize:y,formatTooltip:S,emitChange:b,resetSize:w,updateDragging:C}=hn(uT),{tooltip:x,tooltipVisible:M,formatValue:T,displayTooltip:D,hideTooltip:F}=epe(e,S,h),N=re(),G=z(()=>`${(e.modelValue-a.value)/(u.value-a.value)*100}%`),U=z(()=>e.vertical?{bottom:G.value}:{left:G.value}),$=()=>{n.hovering=!0,D()},de=()=>{n.hovering=!1,n.dragging||F()},ee=Te=>{s.value||(Te.preventDefault(),fe(Te),window.addEventListener("mousemove",le),window.addEventListener("touchmove",le),window.addEventListener("mouseup",ke),window.addEventListener("touchend",ke),window.addEventListener("contextmenu",ke),N.value.focus())},se=Te=>{s.value||(n.newPosition=Number.parseFloat(G.value)+Te/(u.value-a.value)*100,ze(n.newPosition),b())},oe=()=>{se(-f.value)},Ie=()=>{se(f.value)},pe=()=>{se(-f.value*4)},ae=()=>{se(f.value*4)},ye=()=>{s.value||(ze(0),b())},be=()=>{s.value||(ze(100),b())},_e=Te=>{let Xe=!0;[$he,Whe].includes(Te.key)?oe():[Khe,jhe].includes(Te.key)?Ie():Te.key===qhe?ye():Te.key===Yhe?be():Te.key===Zhe?pe():Te.key===Jhe?ae():Xe=!1,Xe&&Te.preventDefault()},ie=Te=>{let Xe,_t;return Te.type.startsWith("touch")?(_t=Te.touches[0].clientY,Xe=Te.touches[0].clientX):(_t=Te.clientY,Xe=Te.clientX),{clientX:Xe,clientY:_t}},fe=Te=>{n.dragging=!0,n.isClick=!0;const{clientX:Xe,clientY:_t}=ie(Te);e.vertical?n.startY=_t:n.startX=Xe,n.startPosition=Number.parseFloat(G.value),n.newPosition=n.startPosition},le=Te=>{if(n.dragging){n.isClick=!1,D(),w();let Xe;const{clientX:_t,clientY:wt}=ie(Te);e.vertical?(n.currentY=wt,Xe=(n.startY-n.currentY)/y.value*100):(n.currentX=_t,Xe=(n.currentX-n.startX)/y.value*100),n.newPosition=n.startPosition+Xe,ze(n.newPosition)}},ke=()=>{n.dragging&&(setTimeout(()=>{n.dragging=!1,n.hovering||F(),n.isClick||ze(n.newPosition),b()},0),window.removeEventListener("mousemove",le),window.removeEventListener("touchmove",le),window.removeEventListener("mouseup",ke),window.removeEventListener("touchend",ke),window.removeEventListener("contextmenu",ke))},ze=async Te=>{if(Te===null||Number.isNaN(+Te))return;Te<0?Te=0:Te>100&&(Te=100);const Xe=100/((u.value-a.value)/f.value);let wt=Math.round(Te/Xe)*Xe*(u.value-a.value)*.01+a.value;wt=Number.parseFloat(wt.toFixed(_.value)),wt!==e.modelValue&&i(qn,wt),!n.dragging&&e.modelValue!==n.oldValue&&(n.oldValue=e.modelValue),await dn(),n.dragging&&D(),x.value.updatePopper()};return St(()=>n.dragging,Te=>{C(Te)}),{disabled:s,button:N,tooltip:x,tooltipVisible:M,showTooltip:h,wrapperStyle:U,formatValue:T,handleMouseEnter:$,handleMouseLeave:de,onButtonDown:ee,onKeyDown:_e,setPosition:ze}},npe=(e,n,i,s)=>({stops:z(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const f=(e.max-e.min)/e.step,h=100*e.step/(e.max-e.min),_=Array.from({length:f-1}).map((y,S)=>(S+1)*h);return e.range?_.filter(y=>y<100*(i.value-e.min)/(e.max-e.min)||y>100*(s.value-e.min)/(e.max-e.min)):_.filter(y=>y>100*(n.firstValue-e.min)/(e.max-e.min))}),getStopStyle:f=>e.vertical?{bottom:`${f}%`}:{left:`${f}%`}}),rpe=(e,n,i,s,a,u)=>{const f=y=>{a(qn,y),a(_s,y)},h=()=>e.range?![i.value,s.value].every((y,S)=>y===n.oldValue[S]):e.modelValue!==n.oldValue,_=()=>{var y,S;if(e.min>e.max){Ri("Slider","min should not be greater than max.");return}const b=e.modelValue;e.range&&Array.isArray(b)?b[1]<e.min?f([e.min,e.min]):b[0]>e.max?f([e.max,e.max]):b[0]<e.min?f([e.min,b[1]]):b[1]>e.max?f([b[0],e.max]):(n.firstValue=b[0],n.secondValue=b[1],h()&&(e.validateEvent&&((y=u==null?void 0:u.validate)==null||y.call(u,"change").catch(w=>void 0)),n.oldValue=b.slice())):!e.range&&typeof b=="number"&&!Number.isNaN(b)&&(b<e.min?f(e.min):b>e.max?f(e.max):(n.firstValue=b,h()&&(e.validateEvent&&((S=u==null?void 0:u.validate)==null||S.call(u,"change").catch(w=>void 0)),n.oldValue=b)))};_(),St(()=>n.dragging,y=>{y||_()}),St(()=>e.modelValue,(y,S)=>{n.dragging||Array.isArray(y)&&Array.isArray(S)&&y.every((b,w)=>b===S[w])&&n.firstValue===y[0]&&n.secondValue===y[1]||_()},{deep:!0}),St(()=>[e.min,e.max],()=>{_()})},ipe=Xt({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:_u,default:"top"}}),spe={[qn]:e=>Qn(e)},ope=["tabindex"],ape=Ge({name:"ElSliderButton"}),lpe=Ge({...ape,props:ipe,emits:spe,setup(e,{expose:n,emit:i}){const s=e,a=bt("slider"),u=Tr({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:s.modelValue}),{disabled:f,button:h,tooltip:_,showTooltip:y,tooltipVisible:S,wrapperStyle:b,formatValue:w,handleMouseEnter:C,handleMouseLeave:x,onButtonDown:M,onKeyDown:T,setPosition:D}=tpe(s,u,i),{hovering:F,dragging:N}=xi(u);return n({onButtonDown:M,onKeyDown:T,setPosition:D,hovering:F,dragging:N}),(G,U)=>(Q(),ve("div",{ref_key:"button",ref:h,class:Y([p(a).e("button-wrapper"),{hover:p(F),dragging:p(N)}]),style:fn(p(b)),tabindex:p(f)?-1:0,onMouseenter:U[0]||(U[0]=(...$)=>p(C)&&p(C)(...$)),onMouseleave:U[1]||(U[1]=(...$)=>p(x)&&p(x)(...$)),onMousedown:U[2]||(U[2]=(...$)=>p(M)&&p(M)(...$)),onTouchstart:U[3]||(U[3]=(...$)=>p(M)&&p(M)(...$)),onFocus:U[4]||(U[4]=(...$)=>p(C)&&p(C)(...$)),onBlur:U[5]||(U[5]=(...$)=>p(x)&&p(x)(...$)),onKeydown:U[6]||(U[6]=(...$)=>p(T)&&p(T)(...$))},[Re(p(Ps),{ref_key:"tooltip",ref:_,visible:p(S),placement:G.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":G.tooltipClass,disabled:!p(y),persistent:""},{content:Ue(()=>[Ce("span",null,Qt(p(w)),1)]),default:Ue(()=>[Ce("div",{class:Y([p(a).e("button"),{hover:p(F),dragging:p(N)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,ope))}});var _M=Ht(lpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const cpe=Xt({mark:{type:nt([String,Object]),default:void 0}});var upe=Ge({name:"ElSliderMarker",props:cpe,setup(e){const n=bt("slider"),i=z(()=>Dn(e.mark)?e.mark:e.mark.label),s=z(()=>Dn(e.mark)?void 0:e.mark.style);return()=>An("div",{class:n.e("marks-text"),style:s.value},i.value)}});const dpe=["id","role","aria-label","aria-labelledby"],fpe={key:1},hpe=Ge({name:"ElSlider"}),ppe=Ge({...hpe,props:Uhe,emits:Hhe,setup(e,{expose:n,emit:i}){const s=e,a=bt("slider"),{t:u}=yr(),f=Tr({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:h,slider:_,firstButton:y,secondButton:S,sliderDisabled:b,minValue:w,maxValue:C,runwayStyle:x,barStyle:M,resetSize:T,emitChange:D,onSliderWrapperPrevent:F,onSliderClick:N,onSliderDown:G,setFirstValue:U,setSecondValue:$}=zhe(s,f,i),{stops:de,getStopStyle:ee}=npe(s,f,w,C),{inputId:se,isLabeledByFormItem:oe}=oc(s,{formItemContext:h}),Ie=Ci(),pe=z(()=>s.inputSize||Ie.value),ae=z(()=>s.label||u("el.slider.defaultLabel",{min:s.min,max:s.max})),ye=z(()=>s.range?s.rangeStartLabel||u("el.slider.defaultRangeStartLabel"):ae.value),be=z(()=>s.formatValueText?s.formatValueText(Te.value):`${Te.value}`),_e=z(()=>s.rangeEndLabel||u("el.slider.defaultRangeEndLabel")),ie=z(()=>s.formatValueText?s.formatValueText(Xe.value):`${Xe.value}`),fe=z(()=>[a.b(),a.m(Ie.value),a.is("vertical",s.vertical),{[a.m("with-input")]:s.showInput}]),le=Xhe(s);rpe(s,f,w,C,i,h);const ke=z(()=>{const xt=[s.min,s.max,s.step].map(it=>{const je=`${it}`.split(".")[1];return je?je.length:0});return Math.max.apply(null,xt)}),{sliderWrapper:ze}=Qhe(s,f,T),{firstValue:Te,secondValue:Xe,sliderSize:_t}=xi(f),wt=xt=>{f.dragging=xt};return ir(uT,{...xi(s),sliderSize:_t,disabled:b,precision:ke,emitChange:D,resetSize:T,updateDragging:wt}),n({onSliderClick:N}),(xt,it)=>{var je,ot;return Q(),ve("div",{id:xt.range?p(se):void 0,ref_key:"sliderWrapper",ref:ze,class:Y(p(fe)),role:xt.range?"group":void 0,"aria-label":xt.range&&!p(oe)?p(ae):void 0,"aria-labelledby":xt.range&&p(oe)?(je=p(h))==null?void 0:je.labelId:void 0,onTouchstart:it[2]||(it[2]=(...At)=>p(F)&&p(F)(...At)),onTouchmove:it[3]||(it[3]=(...At)=>p(F)&&p(F)(...At))},[Ce("div",{ref_key:"slider",ref:_,class:Y([p(a).e("runway"),{"show-input":xt.showInput&&!xt.range},p(a).is("disabled",p(b))]),style:fn(p(x)),onMousedown:it[0]||(it[0]=(...At)=>p(G)&&p(G)(...At)),onTouchstart:it[1]||(it[1]=(...At)=>p(G)&&p(G)(...At))},[Ce("div",{class:Y(p(a).e("bar")),style:fn(p(M))},null,6),Re(_M,{id:xt.range?void 0:p(se),ref_key:"firstButton",ref:y,"model-value":p(Te),vertical:xt.vertical,"tooltip-class":xt.tooltipClass,placement:xt.placement,role:"slider","aria-label":xt.range||!p(oe)?p(ye):void 0,"aria-labelledby":!xt.range&&p(oe)?(ot=p(h))==null?void 0:ot.labelId:void 0,"aria-valuemin":xt.min,"aria-valuemax":xt.range?p(Xe):xt.max,"aria-valuenow":p(Te),"aria-valuetext":p(be),"aria-orientation":xt.vertical?"vertical":"horizontal","aria-disabled":p(b),"onUpdate:modelValue":p(U)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),xt.range?(Q(),rt(_M,{key:0,ref_key:"secondButton",ref:S,"model-value":p(Xe),vertical:xt.vertical,"tooltip-class":xt.tooltipClass,placement:xt.placement,role:"slider","aria-label":p(_e),"aria-valuemin":p(Te),"aria-valuemax":xt.max,"aria-valuenow":p(Xe),"aria-valuetext":p(ie),"aria-orientation":xt.vertical?"vertical":"horizontal","aria-disabled":p(b),"onUpdate:modelValue":p($)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Ye("v-if",!0),xt.showStops?(Q(),ve("div",fpe,[(Q(!0),ve(mn,null,cr(p(de),(At,on)=>(Q(),ve("div",{key:on,class:Y(p(a).e("stop")),style:fn(p(ee)(At))},null,6))),128))])):Ye("v-if",!0),p(le).length>0?(Q(),ve(mn,{key:2},[Ce("div",null,[(Q(!0),ve(mn,null,cr(p(le),(At,on)=>(Q(),ve("div",{key:on,style:fn(p(ee)(At.position)),class:Y([p(a).e("stop"),p(a).e("marks-stop")])},null,6))),128))]),Ce("div",{class:Y(p(a).e("marks"))},[(Q(!0),ve(mn,null,cr(p(le),(At,on)=>(Q(),rt(p(upe),{key:on,mark:At.mark,style:fn(p(ee)(At.position))},null,8,["mark","style"]))),128))],2)],64)):Ye("v-if",!0)],38),xt.showInput&&!xt.range?(Q(),rt(p(bN),{key:0,ref:"input","model-value":p(Te),class:Y(p(a).e("input")),step:xt.step,disabled:p(b),controls:xt.showInputControls,min:xt.min,max:xt.max,debounce:xt.debounce,size:p(pe),"onUpdate:modelValue":p(U),onChange:p(D)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):Ye("v-if",!0)],42,dpe)}}});var mpe=Ht(ppe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const gpe=Jn(mpe),vpe=Xt({prefixCls:{type:String}}),AM=Ge({name:"ElSpaceItem",props:vpe,setup(e,{slots:n}){const i=bt("space"),s=z(()=>`${e.prefixCls||i.b()}__item`);return()=>An("div",{class:s.value},vt(n,"default"))}}),yM={small:8,default:12,large:16};function _pe(e){const n=bt("space"),i=z(()=>[n.b(),n.m(e.direction),e.class]),s=re(0),a=re(0),u=z(()=>{const h=e.wrap||e.fill?{flexWrap:"wrap",marginBottom:`-${a.value}px`}:{},_={alignItems:e.alignment};return[h,_,e.style]}),f=z(()=>{const h={paddingBottom:`${a.value}px`,marginRight:`${s.value}px`},_=e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{};return[h,_]});return es(()=>{const{size:h="small",wrap:_,direction:y,fill:S}=e;if(sn(h)){const[b=0,w=0]=h;s.value=b,a.value=w}else{let b;Qn(h)?b=h:b=yM[h||"small"]||yM.small,(_||S)&&y==="horizontal"?s.value=a.value=b:y==="horizontal"?(s.value=b,a.value=0):(a.value=b,s.value=0)}}),{classes:i,containerStyle:u,itemStyle:f}}const Ape=Xt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:nt([String,Object,Array]),default:""},style:{type:nt([String,Array,Object]),default:""},alignment:{type:nt(String),default:"center"},prefixCls:{type:String},spacer:{type:nt([Object,String,Number,Array]),default:null,validator:e=>Zr(e)||Qn(e)||Dn(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:sc,validator:e=>Qn(e)||sn(e)&&e.length===2&&e.every(Qn)}});var ype=Ge({name:"ElSpace",props:Ape,setup(e,{slots:n}){const{classes:i,containerStyle:s,itemStyle:a}=_pe(e);function u(f,h="",_=[]){const{prefixCls:y}=e;return f.forEach((S,b)=>{G0(S)?sn(S.children)&&S.children.forEach((w,C)=>{G0(w)&&sn(w.children)?u(w.children,`${h+C}-`,_):_.push(Re(AM,{style:a.value,prefixCls:y,key:`nested-${h+C}`},{default:()=>[w]},ao.PROPS|ao.STYLE,["style","prefixCls"]))}):jq(S)&&_.push(Re(AM,{style:a.value,prefixCls:y,key:`LoopKey${h+b}`},{default:()=>[S]},ao.PROPS|ao.STYLE,["style","prefixCls"]))}),_}return()=>{var f;const{spacer:h,direction:_}=e,y=vt(n,"default",{key:0},()=>[]);if(((f=y.children)!=null?f:[]).length===0)return null;if(sn(y.children)){let S=u(y.children);if(h){const b=S.length-1;S=S.reduce((w,C,x)=>{const M=[...w,C];return x!==b&&M.push(Re("span",{style:[a.value,_==="vertical"?"width: 100%":null],key:x},[Zr(h)?h:hr(h,ao.TEXT)],ao.STYLE)),M},[])}return Re("div",{class:i.value,style:s.value},S,ao.STYLE|ao.CLASS)}return y.children}}});const bpe=Jn(ype),Spe=Xt({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),Epe={[jr]:(e,n)=>[e,n].every(Qn)},wpe=Ge({name:"ElSteps"}),Cpe=Ge({...wpe,props:Spe,emits:Epe,setup(e,{emit:n}){const i=e,s=bt("steps"),a=re([]);return St(a,()=>{a.value.forEach((u,f)=>{u.setIndex(f)})}),ir("ElSteps",{props:i,steps:a}),St(()=>i.active,(u,f)=>{n(jr,u,f)}),(u,f)=>(Q(),ve("div",{class:Y([p(s).b(),p(s).m(u.simple?"simple":u.direction)])},[vt(u.$slots,"default")],2))}});var Ipe=Ht(Cpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const Mpe=Xt({title:{type:String,default:""},icon:{type:$r},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),xpe=Ge({name:"ElStep"}),Rpe=Ge({...xpe,props:Mpe,setup(e){const n=e,i=bt("step"),s=re(-1),a=re({}),u=re(""),f=hn("ElSteps"),h=Yn();jn(()=>{St([()=>f.props.active,()=>f.props.processStatus,()=>f.props.finishStatus],([U])=>{N(U)},{immediate:!0})}),di(()=>{f.steps.value=f.steps.value.filter(U=>U.uid!==(h==null?void 0:h.uid))});const _=z(()=>n.status||u.value),y=z(()=>{const U=f.steps.value[s.value-1];return U?U.currentStatus:"wait"}),S=z(()=>f.props.alignCenter),b=z(()=>f.props.direction==="vertical"),w=z(()=>f.props.simple),C=z(()=>f.steps.value.length),x=z(()=>{var U;return((U=f.steps.value[C.value-1])==null?void 0:U.uid)===(h==null?void 0:h.uid)}),M=z(()=>w.value?"":f.props.space),T=z(()=>{const U={flexBasis:typeof M.value=="number"?`${M.value}px`:M.value?M.value:`${100/(C.value-(S.value?0:1))}%`};return b.value||x.value&&(U.maxWidth=`${100/C.value}%`),U}),D=U=>{s.value=U},F=U=>{let $=100;const de={};de.transitionDelay=`${150*s.value}ms`,U===f.props.processStatus?$=0:U==="wait"&&($=0,de.transitionDelay=`${-150*s.value}ms`),de.borderWidth=$&&!w.value?"1px":0,de[f.props.direction==="vertical"?"height":"width"]=`${$}%`,a.value=de},N=U=>{U>s.value?u.value=f.props.finishStatus:U===s.value&&y.value!=="error"?u.value=f.props.processStatus:u.value="wait";const $=f.steps.value[s.value-1];$&&$.calcProgress(u.value)},G=Tr({uid:z(()=>h==null?void 0:h.uid),currentStatus:_,setIndex:D,calcProgress:F});return f.steps.value=[...f.steps.value,G],(U,$)=>(Q(),ve("div",{style:fn(p(T)),class:Y([p(i).b(),p(i).is(p(w)?"simple":p(f).props.direction),p(i).is("flex",p(x)&&!p(M)&&!p(S)),p(i).is("center",p(S)&&!p(b)&&!p(w))])},[Ye(" icon & line "),Ce("div",{class:Y([p(i).e("head"),p(i).is(p(_))])},[p(w)?Ye("v-if",!0):(Q(),ve("div",{key:0,class:Y(p(i).e("line"))},[Ce("i",{class:Y(p(i).e("line-inner")),style:fn(a.value)},null,6)],2)),Ce("div",{class:Y([p(i).e("icon"),p(i).is(U.icon||U.$slots.icon?"icon":"text")])},[vt(U.$slots,"icon",{},()=>[U.icon?(Q(),rt(p(un),{key:0,class:Y(p(i).e("icon-inner"))},{default:Ue(()=>[(Q(),rt(rr(U.icon)))]),_:1},8,["class"])):p(_)==="success"?(Q(),rt(p(un),{key:1,class:Y([p(i).e("icon-inner"),p(i).is("status")])},{default:Ue(()=>[Re(p(ep))]),_:1},8,["class"])):p(_)==="error"?(Q(),rt(p(un),{key:2,class:Y([p(i).e("icon-inner"),p(i).is("status")])},{default:Ue(()=>[Re(p(zo))]),_:1},8,["class"])):p(w)?Ye("v-if",!0):(Q(),ve("div",{key:3,class:Y(p(i).e("icon-inner"))},Qt(s.value+1),3))])],2)],2),Ye(" title & description "),Ce("div",{class:Y(p(i).e("main"))},[Ce("div",{class:Y([p(i).e("title"),p(i).is(p(_))])},[vt(U.$slots,"title",{},()=>[hr(Qt(U.title),1)])],2),p(w)?(Q(),ve("div",{key:0,class:Y(p(i).e("arrow"))},null,2)):(Q(),ve("div",{key:1,class:Y([p(i).e("description"),p(i).is(p(_))])},[vt(U.$slots,"description",{},()=>[hr(Qt(U.description),1)])],2))],2)],6))}});var WN=Ht(Rpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const Tpe=Jn(Ipe,{Step:WN}),Ppe=fi(WN),Npe=Xt({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:$r},inactiveIcon:{type:$r},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:nt(Function)},size:{type:String,validator:qd},tabindex:{type:[String,Number]}}),Dpe={[qn]:e=>Mi(e)||Dn(e)||Qn(e),[jr]:e=>Mi(e)||Dn(e)||Qn(e),[_s]:e=>Mi(e)||Dn(e)||Qn(e)},Bpe=["onClick"],kpe=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Lpe=["aria-hidden"],Ope=["aria-hidden"],Fpe=["aria-hidden"],yy="ElSwitch",Vpe=Ge({name:yy}),Gpe=Ge({...Vpe,props:Npe,emits:Dpe,setup(e,{expose:n,emit:i}){const s=e,a=Yn(),{formItem:u}=ys(),f=Ci(),h=bt("switch");jl({from:'"value"',replacement:'"model-value" or "v-model"',scope:yy,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},z(()=>{var U;return!!((U=a.vnode.props)!=null&&U.value)}));const{inputId:_}=oc(s,{formItemContext:u}),y=Jo(z(()=>s.loading)),S=re(s.modelValue!==!1),b=re(),w=re(),C=z(()=>[h.b(),h.m(f.value),h.is("disabled",y.value),h.is("checked",T.value)]),x=z(()=>({width:wi(s.width)}));St(()=>s.modelValue,()=>{S.value=!0}),St(()=>s.value,()=>{S.value=!1});const M=z(()=>S.value?s.modelValue:s.value),T=z(()=>M.value===s.activeValue);[s.activeValue,s.inactiveValue].includes(M.value)||(i(qn,s.inactiveValue),i(jr,s.inactiveValue),i(_s,s.inactiveValue)),St(T,U=>{var $;b.value.checked=U,s.validateEvent&&(($=u==null?void 0:u.validate)==null||$.call(u,"change").catch(de=>void 0))});const D=()=>{const U=T.value?s.inactiveValue:s.activeValue;i(qn,U),i(jr,U),i(_s,U),dn(()=>{b.value.checked=T.value})},F=()=>{if(y.value)return;const{beforeChange:U}=s;if(!U){D();return}const $=U();[yh($),Mi($)].includes(!0)||Ri(yy,"beforeChange must return type `Promise<boolean>` or `boolean`"),yh($)?$.then(ee=>{ee&&D()}).catch(ee=>{}):$&&D()},N=z(()=>h.cssVarBlock({...s.activeColor?{"on-color":s.activeColor}:null,...s.inactiveColor?{"off-color":s.inactiveColor}:null,...s.borderColor?{"border-color":s.borderColor}:null})),G=()=>{var U,$;($=(U=b.value)==null?void 0:U.focus)==null||$.call(U)};return jn(()=>{b.value.checked=T.value}),n({focus:G,checked:T}),(U,$)=>(Q(),ve("div",{class:Y(p(C)),style:fn(p(N)),onClick:Nn(F,["prevent"])},[Ce("input",{id:p(_),ref_key:"input",ref:b,class:Y(p(h).e("input")),type:"checkbox",role:"switch","aria-checked":p(T),"aria-disabled":p(y),name:U.name,"true-value":U.activeValue,"false-value":U.inactiveValue,disabled:p(y),tabindex:U.tabindex,onChange:D,onKeydown:fr(F,["enter"])},null,42,kpe),!U.inlinePrompt&&(U.inactiveIcon||U.inactiveText)?(Q(),ve("span",{key:0,class:Y([p(h).e("label"),p(h).em("label","left"),p(h).is("active",!p(T))])},[U.inactiveIcon?(Q(),rt(p(un),{key:0},{default:Ue(()=>[(Q(),rt(rr(U.inactiveIcon)))]),_:1})):Ye("v-if",!0),!U.inactiveIcon&&U.inactiveText?(Q(),ve("span",{key:1,"aria-hidden":p(T)},Qt(U.inactiveText),9,Lpe)):Ye("v-if",!0)],2)):Ye("v-if",!0),Ce("span",{ref_key:"core",ref:w,class:Y(p(h).e("core")),style:fn(p(x))},[U.inlinePrompt?(Q(),ve("div",{key:0,class:Y(p(h).e("inner"))},[U.activeIcon||U.inactiveIcon?(Q(),rt(p(un),{key:0,class:Y(p(h).is("icon"))},{default:Ue(()=>[(Q(),rt(rr(p(T)?U.activeIcon:U.inactiveIcon)))]),_:1},8,["class"])):U.activeText||U.inactiveText?(Q(),ve("span",{key:1,class:Y(p(h).is("text")),"aria-hidden":!p(T)},Qt(p(T)?U.activeText:U.inactiveText),11,Ope)):Ye("v-if",!0)],2)):Ye("v-if",!0),Ce("div",{class:Y(p(h).e("action"))},[U.loading?(Q(),rt(p(un),{key:0,class:Y(p(h).is("loading"))},{default:Ue(()=>[Re(p(ic))]),_:1},8,["class"])):Ye("v-if",!0)],2)],6),!U.inlinePrompt&&(U.activeIcon||U.activeText)?(Q(),ve("span",{key:1,class:Y([p(h).e("label"),p(h).em("label","right"),p(h).is("active",p(T))])},[U.activeIcon?(Q(),rt(p(un),{key:0},{default:Ue(()=>[(Q(),rt(rr(U.activeIcon)))]),_:1})):Ye("v-if",!0),!U.activeIcon&&U.activeText?(Q(),ve("span",{key:1,"aria-hidden":!p(T)},Qt(U.activeText),9,Fpe)):Ye("v-if",!0)],2)):Ye("v-if",!0)],14,Bpe))}});var Upe=Ht(Gpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const Hpe=Jn(Upe);/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var Qpe=/["'&<>]/,Xpe=zpe;function zpe(e){var n=""+e,i=Qpe.exec(n);if(!i)return n;var s,a="",u=0,f=0;for(u=i.index;u<n.length;u++){switch(n.charCodeAt(u)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}f!==u&&(a+=n.substring(f,u)),f=u+1,a+=s}return f!==u?a+n.substring(f,u):a}const u0=function(e){var n;return(n=e.target)==null?void 0:n.closest("td")},bM=function(e){return e!==null&&typeof e=="object"},$pe=function(e,n,i,s,a){if(!n&&!s&&(!a||Array.isArray(a)&&!a.length))return e;typeof i=="string"?i=i==="descending"?-1:1:i=i&&i<0?-1:1;const u=s?null:function(h,_){return a?(Array.isArray(a)||(a=[a]),a.map(y=>typeof y=="string"?Yr(h,y):y(h,_,e))):(n!=="$key"&&bM(h)&&"$value"in h&&(h=h.$value),[bM(h)?Yr(h,n):h])},f=function(h,_){if(s)return s(h.value,_.value);for(let y=0,S=h.key.length;y<S;y++){if(h.key[y]<_.key[y])return-1;if(h.key[y]>_.key[y])return 1}return 0};return e.map((h,_)=>({value:h,index:_,key:u?u(h,_):null})).sort((h,_)=>{let y=f(h,_);return y||(y=h.index-_.index),y*+i}).map(h=>h.value)},KN=function(e,n){let i=null;return e.columns.forEach(s=>{s.id===n&&(i=s)}),i},Wpe=function(e,n){let i=null;for(let s=0;s<e.columns.length;s++){const a=e.columns[s];if(a.columnKey===n){i=a;break}}return i||Ri("ElTable",`No column matching with column-key: ${n}`),i},SM=function(e,n,i){const s=(n.className||"").match(new RegExp(`${i}-table_[^\\s]+`,"gm"));return s?KN(e,s[0]):null},Ji=(e,n)=>{if(!e)throw new Error("Row is required when get row identity");if(typeof n=="string"){if(!n.includes("."))return`${e[n]}`;const i=n.split(".");let s=e;for(const a of i)s=s[a];return`${s}`}else if(typeof n=="function")return n.call(null,e)},Yc=function(e,n){const i={};return(e||[]).forEach((s,a)=>{i[Ji(s,n)]={row:s,index:a}}),i};function Kpe(e,n){const i={};let s;for(s in e)i[s]=e[s];for(s in n)if(lr(n,s)){const a=n[s];typeof a<"u"&&(i[s]=a)}return i}function g1(e){return e===""||e!==void 0&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function jN(e){return e===""||e!==void 0&&(e=g1(e),Number.isNaN(e)&&(e=80)),e}function jpe(e){return typeof e=="number"?e:typeof e=="string"?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function qpe(...e){return e.length===0?n=>n:e.length===1?e[0]:e.reduce((n,i)=>(...s)=>n(i(...s)))}function vh(e,n,i){let s=!1;const a=e.indexOf(n),u=a!==-1,f=h=>{h==="add"?e.push(n):e.splice(a,1),s=!0,sn(n.children)&&n.children.forEach(_=>{vh(e,_,i!=null?i:!u)})};return Mi(i)?i&&!u?f("add"):!i&&u&&f("remove"):f(u?"remove":"add"),s}function Ype(e,n,i="children",s="hasChildren"){const a=f=>!(Array.isArray(f)&&f.length);function u(f,h,_){n(f,h,_),h.forEach(y=>{if(y[s]){n(y,null,_+1);return}const S=y[i];a(S)||u(y,S,_+1)})}e.forEach(f=>{if(f[s]){n(f,null,0);return}const h=f[i];a(h)||u(f,h,0)})}let Xa;function Jpe(e,n,i,s,a){const{nextZIndex:u}=al(),f=e==null?void 0:e.dataset.prefix,h=e==null?void 0:e.querySelector(`.${f}-scrollbar__wrap`);function _(){const x=a==="light",M=document.createElement("div");return M.className=`${f}-popper ${x?"is-light":"is-dark"}`,i=Xpe(i),M.innerHTML=i,M.style.zIndex=String(u()),e==null||e.appendChild(M),M}function y(){const x=document.createElement("div");return x.className=`${f}-popper__arrow`,x}function S(){b&&b.update()}Xa==null||Xa(),Xa=()=>{try{b&&b.destroy(),w&&(e==null||e.removeChild(w)),n.removeEventListener("mouseenter",S),n.removeEventListener("mouseleave",Xa),h==null||h.removeEventListener("scroll",Xa),Xa=void 0}catch{}};let b=null;const w=_(),C=y();return w.appendChild(C),b=WT(n,w,{strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:C,padding:10}}],...s}),n.addEventListener("mouseenter",S),n.addEventListener("mouseleave",Xa),h==null||h.addEventListener("scroll",Xa),b}function qN(e){return e.children?Gj(e.children,qN):[e]}function EM(e,n){return e+n.colSpan}const YN=(e,n,i,s)=>{let a=0,u=e;const f=i.states.columns.value;if(s){const _=qN(s[e]);a=f.slice(0,f.indexOf(_[0])).reduce(EM,0),u=a+_.reduce(EM,0)-1}else a=e;let h;switch(n){case"left":u<i.states.fixedLeafColumnsLength.value&&(h="left");break;case"right":a>=f.length-i.states.rightFixedLeafColumnsLength.value&&(h="right");break;default:u<i.states.fixedLeafColumnsLength.value?h="left":a>=f.length-i.states.rightFixedLeafColumnsLength.value&&(h="right")}return h?{direction:h,start:a,after:u}:{}},v1=(e,n,i,s,a,u=0)=>{const f=[],{direction:h,start:_,after:y}=YN(n,i,s,a);if(h){const S=h==="left";f.push(`${e}-fixed-column--${h}`),S&&y+u===s.states.fixedLeafColumnsLength.value-1?f.push("is-last-column"):!S&&_-u===s.states.columns.value.length-s.states.rightFixedLeafColumnsLength.value&&f.push("is-first-column")}return f};function wM(e,n){return e+(n.realWidth===null||Number.isNaN(n.realWidth)?Number(n.width):n.realWidth)}const _1=(e,n,i,s)=>{const{direction:a,start:u=0,after:f=0}=YN(e,n,i,s);if(!a)return;const h={},_=a==="left",y=i.states.columns.value;return _?h.left=y.slice(0,u).reduce(wM,0):h.right=y.slice(f+1).reverse().reduce(wM,0),h},Hd=(e,n)=>{!e||Number.isNaN(e[n])||(e[n]=`${e[n]}px`)};function Zpe(e){const n=Yn(),i=re(!1),s=re([]);return{updateExpandRows:()=>{const _=e.data.value||[],y=e.rowKey.value;if(i.value)s.value=_.slice();else if(y){const S=Yc(s.value,y);s.value=_.reduce((b,w)=>{const C=Ji(w,y);return S[C]&&b.push(w),b},[])}else s.value=[]},toggleRowExpansion:(_,y)=>{vh(s.value,_,y)&&n.emit("expand-change",_,s.value.slice())},setExpandRowKeys:_=>{n.store.assertRowKey();const y=e.data.value||[],S=e.rowKey.value,b=Yc(y,S);s.value=_.reduce((w,C)=>{const x=b[C];return x&&w.push(x.row),w},[])},isRowExpanded:_=>{const y=e.rowKey.value;return y?!!Yc(s.value,y)[Ji(_,y)]:s.value.includes(_)},states:{expandRows:s,defaultExpandAll:i}}}function eme(e){const n=Yn(),i=re(null),s=re(null),a=y=>{n.store.assertRowKey(),i.value=y,f(y)},u=()=>{i.value=null},f=y=>{const{data:S,rowKey:b}=e;let w=null;b.value&&(w=(p(S)||[]).find(C=>Ji(C,b.value)===y)),s.value=w,n.emit("current-change",s.value,null)};return{setCurrentRowKey:a,restoreCurrentRowKey:u,setCurrentRowByKey:f,updateCurrentRow:y=>{const S=s.value;if(y&&y!==S){s.value=y,n.emit("current-change",s.value,S);return}!y&&S&&(s.value=null,n.emit("current-change",null,S))},updateCurrentRowData:()=>{const y=e.rowKey.value,S=e.data.value||[],b=s.value;if(!S.includes(b)&&b){if(y){const w=Ji(b,y);f(w)}else s.value=null;s.value===null&&n.emit("current-change",null,b)}else i.value&&(f(i.value),u())},states:{_currentRowKey:i,currentRow:s}}}function tme(e){const n=re([]),i=re({}),s=re(16),a=re(!1),u=re({}),f=re("hasChildren"),h=re("children"),_=Yn(),y=z(()=>{if(!e.rowKey.value)return{};const D=e.data.value||[];return b(D)}),S=z(()=>{const D=e.rowKey.value,F=Object.keys(u.value),N={};return F.length&&F.forEach(G=>{if(u.value[G].length){const U={children:[]};u.value[G].forEach($=>{const de=Ji($,D);U.children.push(de),$[f.value]&&!N[de]&&(N[de]={children:[]})}),N[G]=U}}),N}),b=D=>{const F=e.rowKey.value,N={};return Ype(D,(G,U,$)=>{const de=Ji(G,F);Array.isArray(U)?N[de]={children:U.map(ee=>Ji(ee,F)),level:$}:a.value&&(N[de]={children:[],lazy:!0,level:$})},h.value,f.value),N},w=(D=!1,F=(N=>(N=_.store)==null?void 0:N.states.defaultExpandAll.value)())=>{var N;const G=y.value,U=S.value,$=Object.keys(G),de={};if($.length){const ee=p(i),se=[],oe=(pe,ae)=>{if(D)return n.value?F||n.value.includes(ae):!!(F||(pe==null?void 0:pe.expanded));{const ye=F||n.value&&n.value.includes(ae);return!!((pe==null?void 0:pe.expanded)||ye)}};$.forEach(pe=>{const ae=ee[pe],ye={...G[pe]};if(ye.expanded=oe(ae,pe),ye.lazy){const{loaded:be=!1,loading:_e=!1}=ae||{};ye.loaded=!!be,ye.loading=!!_e,se.push(pe)}de[pe]=ye});const Ie=Object.keys(U);a.value&&Ie.length&&se.length&&Ie.forEach(pe=>{const ae=ee[pe],ye=U[pe].children;if(se.includes(pe)){if(de[pe].children.length!==0)throw new Error("[ElTable]children must be an empty array.");de[pe].children=ye}else{const{loaded:be=!1,loading:_e=!1}=ae||{};de[pe]={lazy:!0,loaded:!!be,loading:!!_e,expanded:oe(ae,pe),children:ye,level:""}}})}i.value=de,(N=_.store)==null||N.updateTableScrollY()};St(()=>n.value,()=>{w(!0)}),St(()=>y.value,()=>{w()}),St(()=>S.value,()=>{w()});const C=D=>{n.value=D,w()},x=(D,F)=>{_.store.assertRowKey();const N=e.rowKey.value,G=Ji(D,N),U=G&&i.value[G];if(G&&U&&"expanded"in U){const $=U.expanded;F=typeof F>"u"?!U.expanded:F,i.value[G].expanded=F,$!==F&&_.emit("expand-change",D,F),_.store.updateTableScrollY()}},M=D=>{_.store.assertRowKey();const F=e.rowKey.value,N=Ji(D,F),G=i.value[N];a.value&&G&&"loaded"in G&&!G.loaded?T(D,N,G):x(D,void 0)},T=(D,F,N)=>{const{load:G}=_.props;G&&!i.value[F].loaded&&(i.value[F].loading=!0,G(D,N,U=>{if(!Array.isArray(U))throw new TypeError("[ElTable] data must be an array");i.value[F].loading=!1,i.value[F].loaded=!0,i.value[F].expanded=!0,U.length&&(u.value[F]=U),_.emit("expand-change",D,!0)}))};return{loadData:T,loadOrToggle:M,toggleTreeExpansion:x,updateTreeExpandKeys:C,updateTreeData:w,normalize:b,states:{expandRowKeys:n,treeData:i,indent:s,lazy:a,lazyTreeNodeMap:u,lazyColumnIdentifier:f,childrenColumnName:h}}}const nme=(e,n)=>{const i=n.sortingColumn;return!i||typeof i.sortable=="string"?e:$pe(e,n.sortProp,n.sortOrder,i.sortMethod,i.sortBy)},og=e=>{const n=[];return e.forEach(i=>{i.children?n.push.apply(n,og(i.children)):n.push(i)}),n};function rme(){var e;const n=Yn(),{size:i}=xi((e=n.proxy)==null?void 0:e.$props),s=re(null),a=re([]),u=re([]),f=re(!1),h=re([]),_=re([]),y=re([]),S=re([]),b=re([]),w=re([]),C=re([]),x=re([]),M=re(0),T=re(0),D=re(0),F=re(!1),N=re([]),G=re(!1),U=re(!1),$=re(null),de=re({}),ee=re(null),se=re(null),oe=re(null),Ie=re(null),pe=re(null);St(a,()=>n.state&&_e(!1),{deep:!0});const ae=()=>{if(!s.value)throw new Error("[ElTable] prop row-key is required")},ye=yt=>{var tn;(tn=yt.children)==null||tn.forEach(Bn=>{Bn.fixed=yt.fixed,ye(Bn)})},be=()=>{h.value.forEach(Qe=>{ye(Qe)}),S.value=h.value.filter(Qe=>Qe.fixed===!0||Qe.fixed==="left"),b.value=h.value.filter(Qe=>Qe.fixed==="right"),S.value.length>0&&h.value[0]&&h.value[0].type==="selection"&&!h.value[0].fixed&&(h.value[0].fixed=!0,S.value.unshift(h.value[0]));const yt=h.value.filter(Qe=>!Qe.fixed);_.value=[].concat(S.value).concat(yt).concat(b.value);const tn=og(yt),Bn=og(S.value),Ee=og(b.value);M.value=tn.length,T.value=Bn.length,D.value=Ee.length,y.value=[].concat(Bn).concat(tn).concat(Ee),f.value=S.value.length>0||b.value.length>0},_e=(yt,tn=!1)=>{yt&&be(),tn?n.state.doLayout():n.state.debouncedUpdateLayout()},ie=yt=>N.value.includes(yt),fe=()=>{F.value=!1,N.value.length&&(N.value=[],n.emit("selection-change",[]))},le=()=>{let yt;if(s.value){yt=[];const tn=Yc(N.value,s.value),Bn=Yc(a.value,s.value);for(const Ee in tn)lr(tn,Ee)&&!Bn[Ee]&&yt.push(tn[Ee].row)}else yt=N.value.filter(tn=>!a.value.includes(tn));if(yt.length){const tn=N.value.filter(Bn=>!yt.includes(Bn));N.value=tn,n.emit("selection-change",tn.slice())}},ke=()=>(N.value||[]).slice(),ze=(yt,tn=void 0,Bn=!0)=>{if(vh(N.value,yt,tn)){const Qe=(N.value||[]).slice();Bn&&n.emit("select",Qe,yt),n.emit("selection-change",Qe)}},Te=()=>{var yt,tn;const Bn=U.value?!F.value:!(F.value||N.value.length);F.value=Bn;let Ee=!1,Qe=0;const Et=(tn=(yt=n==null?void 0:n.store)==null?void 0:yt.states)==null?void 0:tn.rowKey.value;a.value.forEach((Mt,Wn)=>{const Ir=Wn+Qe;$.value?$.value.call(null,Mt,Ir)&&vh(N.value,Mt,Bn)&&(Ee=!0):vh(N.value,Mt,Bn)&&(Ee=!0),Qe+=wt(Ji(Mt,Et))}),Ee&&n.emit("selection-change",N.value?N.value.slice():[]),n.emit("select-all",N.value)},Xe=()=>{const yt=Yc(N.value,s.value);a.value.forEach(tn=>{const Bn=Ji(tn,s.value),Ee=yt[Bn];Ee&&(N.value[Ee.index]=tn)})},_t=()=>{var yt,tn,Bn;if(((yt=a.value)==null?void 0:yt.length)===0){F.value=!1;return}let Ee;s.value&&(Ee=Yc(N.value,s.value));const Qe=function(Ir){return Ee?!!Ee[Ji(Ir,s.value)]:N.value.includes(Ir)};let Et=!0,Mt=0,Wn=0;for(let Ir=0,pr=(a.value||[]).length;Ir<pr;Ir++){const oi=(Bn=(tn=n==null?void 0:n.store)==null?void 0:tn.states)==null?void 0:Bn.rowKey.value,zn=Ir+Wn,Mr=a.value[Ir],Ot=$.value&&$.value.call(null,Mr,zn);if(Qe(Mr))Mt++;else if(!$.value||Ot){Et=!1;break}Wn+=wt(Ji(Mr,oi))}Mt===0&&(Et=!1),F.value=Et},wt=yt=>{var tn;if(!n||!n.store)return 0;const{treeData:Bn}=n.store.states;let Ee=0;const Qe=(tn=Bn.value[yt])==null?void 0:tn.children;return Qe&&(Ee+=Qe.length,Qe.forEach(Et=>{Ee+=wt(Et)})),Ee},xt=(yt,tn)=>{Array.isArray(yt)||(yt=[yt]);const Bn={};return yt.forEach(Ee=>{de.value[Ee.id]=tn,Bn[Ee.columnKey||Ee.id]=tn}),Bn},it=(yt,tn,Bn)=>{se.value&&se.value!==yt&&(se.value.order=null),se.value=yt,oe.value=tn,Ie.value=Bn},je=()=>{let yt=p(u);Object.keys(de.value).forEach(tn=>{const Bn=de.value[tn];if(!Bn||Bn.length===0)return;const Ee=KN({columns:y.value},tn);Ee&&Ee.filterMethod&&(yt=yt.filter(Qe=>Bn.some(Et=>Ee.filterMethod.call(null,Et,Qe,Ee))))}),ee.value=yt},ot=()=>{a.value=nme(ee.value,{sortingColumn:se.value,sortProp:oe.value,sortOrder:Ie.value})},At=(yt=void 0)=>{yt&&yt.filter||je(),ot()},on=yt=>{const{tableHeaderRef:tn}=n.refs;if(!tn)return;const Bn=Object.assign({},tn.filterPanels),Ee=Object.keys(Bn);if(!!Ee.length)if(typeof yt=="string"&&(yt=[yt]),Array.isArray(yt)){const Qe=yt.map(Et=>Wpe({columns:y.value},Et));Ee.forEach(Et=>{const Mt=Qe.find(Wn=>Wn.id===Et);Mt&&(Mt.filteredValue=[])}),n.store.commit("filterChange",{column:Qe,values:[],silent:!0,multi:!0})}else Ee.forEach(Qe=>{const Et=y.value.find(Mt=>Mt.id===Qe);Et&&(Et.filteredValue=[])}),de.value={},n.store.commit("filterChange",{column:{},values:[],silent:!0})},Ne=()=>{!se.value||(it(null,null,null),n.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:$e,toggleRowExpansion:ft,updateExpandRows:Tt,states:Bt,isRowExpanded:ct}=Zpe({data:a,rowKey:s}),{updateTreeExpandKeys:Lt,toggleTreeExpansion:gt,updateTreeData:xe,loadOrToggle:qe,states:Dt}=tme({data:a,rowKey:s}),{updateCurrentRowData:zt,updateCurrentRow:en,setCurrentRowKey:gn,states:En}=eme({data:a,rowKey:s});return{assertRowKey:ae,updateColumns:be,scheduleLayout:_e,isSelected:ie,clearSelection:fe,cleanSelection:le,getSelectionRows:ke,toggleRowSelection:ze,_toggleAllSelection:Te,toggleAllSelection:null,updateSelectionByRowKey:Xe,updateAllSelected:_t,updateFilters:xt,updateCurrentRow:en,updateSort:it,execFilter:je,execSort:ot,execQuery:At,clearFilter:on,clearSort:Ne,toggleRowExpansion:ft,setExpandRowKeysAdapter:yt=>{$e(yt),Lt(yt)},setCurrentRowKey:gn,toggleRowExpansionAdapter:(yt,tn)=>{y.value.some(({type:Ee})=>Ee==="expand")?ft(yt,tn):gt(yt,tn)},isRowExpanded:ct,updateExpandRows:Tt,updateCurrentRowData:zt,loadOrToggle:qe,updateTreeData:xe,states:{tableSize:i,rowKey:s,data:a,_data:u,isComplex:f,_columns:h,originColumns:_,columns:y,fixedColumns:S,rightFixedColumns:b,leafColumns:w,fixedLeafColumns:C,rightFixedLeafColumns:x,leafColumnsLength:M,fixedLeafColumnsLength:T,rightFixedLeafColumnsLength:D,isAllSelected:F,selection:N,reserveSelection:G,selectOnIndeterminate:U,selectable:$,filters:de,filteredData:ee,sortingColumn:se,sortProp:oe,sortOrder:Ie,hoverRow:pe,...Bt,...Dt,...En}}}function by(e,n){return e.map(i=>{var s;return i.id===n.id?n:((s=i.children)!=null&&s.length&&(i.children=by(i.children,n)),i)})}function JN(e){e.forEach(n=>{var i,s;n.no=(i=n.getColumnIndex)==null?void 0:i.call(n),(s=n.children)!=null&&s.length&&JN(n.children)}),e.sort((n,i)=>n.no-i.no)}function ime(){const e=Yn(),n=rme();return{ns:bt("table"),...n,mutations:{setData(f,h){const _=p(f._data)!==h;f.data.value=h,f._data.value=h,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),p(f.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):_?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(f,h,_){const y=p(f._columns);let S=[];_?(_&&!_.children&&(_.children=[]),_.children.push(h),S=by(y,_)):(y.push(h),S=y),JN(S),f._columns.value=S,h.type==="selection"&&(f.selectable.value=h.selectable,f.reserveSelection.value=h.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},removeColumn(f,h,_){const y=p(f._columns)||[];if(_)_.children.splice(_.children.findIndex(S=>S.id===h.id),1),_.children.length===0&&delete _.children,f._columns.value=by(y,_);else{const S=y.indexOf(h);S>-1&&(y.splice(S,1),f._columns.value=y)}e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(f,h){const{prop:_,order:y,init:S}=h;if(_){const b=p(f.columns).find(w=>w.property===_);b&&(b.order=y,e.store.updateSort(b,_,y),e.store.commit("changeSortCondition",{init:S}))}},changeSortCondition(f,h){const{sortingColumn:_,sortProp:y,sortOrder:S}=f,b=p(_),w=p(y),C=p(S);C===null&&(f.sortingColumn.value=null,f.sortProp.value=null);const x={filter:!0};e.store.execQuery(x),(!h||!(h.silent||h.init))&&e.emit("sort-change",{column:b,prop:w,order:C}),e.store.updateTableScrollY()},filterChange(f,h){const{column:_,values:y,silent:S}=h,b=e.store.updateFilters(_,y);e.store.execQuery(),S||e.emit("filter-change",b),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(f,h){e.store.toggleRowSelection(h),e.store.updateAllSelected()},setHoverRow(f,h){f.hoverRow.value=h},setCurrentRow(f,h){e.store.updateCurrentRow(h)}},commit:function(f,...h){const _=e.store.mutations;if(_[f])_[f].apply(e,[e.store.states].concat(h));else throw new Error(`Action not found: ${f}`)},updateTableScrollY:function(){dn(()=>e.layout.updateScrollY.apply(e.layout))}}}const _h={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function sme(e,n){if(!e)throw new Error("Table is required.");const i=ime();return i.toggleAllSelection=As(i._toggleAllSelection,10),Object.keys(_h).forEach(s=>{ZN(eD(n,s),s,i)}),ome(i,n),i}function ome(e,n){Object.keys(_h).forEach(i=>{St(()=>eD(n,i),s=>{ZN(s,i,e)})})}function ZN(e,n,i){let s=e,a=_h[n];typeof _h[n]=="object"&&(a=a.key,s=s||_h[n].default),i.states[a].value=s}function eD(e,n){if(n.includes(".")){const i=n.split(".");let s=e;return i.forEach(a=>{s=s[a]}),s}else return e[n]}class ame{constructor(n){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=re(null),this.scrollX=re(!1),this.scrollY=re(!1),this.bodyWidth=re(null),this.fixedWidth=re(null),this.rightFixedWidth=re(null),this.gutterWidth=0;for(const i in n)lr(n,i)&&(Xr(this[i])?this[i].value=n[i]:this[i]=n[i]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const i=this.table.refs.scrollBarRef;if(this.table.vnode.el&&i){let s=!0;const a=this.scrollY.value;return s=i.wrap$.scrollHeight>i.wrap$.clientHeight,this.scrollY.value=s,a!==s}return!1}setHeight(n,i="height"){if(!ur)return;const s=this.table.vnode.el;if(n=jpe(n),this.height.value=Number(n),!s&&(n||n===0))return dn(()=>this.setHeight(n,i));typeof n=="number"?(s.style[i]=`${n}px`,this.updateElsHeight()):typeof n=="string"&&(s.style[i]=n,this.updateElsHeight())}setMaxHeight(n){this.setHeight(n,"max-height")}getFlattenColumns(){const n=[];return this.table.store.states.columns.value.forEach(s=>{s.isColumnGroup?n.push.apply(n,s.columns):n.push(s)}),n}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(n){if(!n)return!0;let i=n;for(;i.tagName!=="DIV";){if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}updateColumnsWidth(){if(!ur)return;const n=this.fit,i=this.table.vnode.el.clientWidth;let s=0;const a=this.getFlattenColumns(),u=a.filter(_=>typeof _.width!="number");if(a.forEach(_=>{typeof _.width=="number"&&_.realWidth&&(_.realWidth=null)}),u.length>0&&n){if(a.forEach(_=>{s+=Number(_.width||_.minWidth||80)}),s<=i){this.scrollX.value=!1;const _=i-s;if(u.length===1)u[0].realWidth=Number(u[0].minWidth||80)+_;else{const y=u.reduce((w,C)=>w+Number(C.minWidth||80),0),S=_/y;let b=0;u.forEach((w,C)=>{if(C===0)return;const x=Math.floor(Number(w.minWidth||80)*S);b+=x,w.realWidth=Number(w.minWidth||80)+x}),u[0].realWidth=Number(u[0].minWidth||80)+_-b}}else this.scrollX.value=!0,u.forEach(_=>{_.realWidth=Number(_.minWidth)});this.bodyWidth.value=Math.max(s,i),this.table.state.resizeState.value.width=this.bodyWidth.value}else a.forEach(_=>{!_.width&&!_.minWidth?_.realWidth=80:_.realWidth=Number(_.width||_.minWidth),s+=_.realWidth}),this.scrollX.value=s>i,this.bodyWidth.value=s;const f=this.store.states.fixedColumns.value;if(f.length>0){let _=0;f.forEach(y=>{_+=Number(y.realWidth||y.width)}),this.fixedWidth.value=_}const h=this.store.states.rightFixedColumns.value;if(h.length>0){let _=0;h.forEach(y=>{_+=Number(y.realWidth||y.width)}),this.rightFixedWidth.value=_}this.notifyObservers("columns")}addObserver(n){this.observers.push(n)}removeObserver(n){const i=this.observers.indexOf(n);i!==-1&&this.observers.splice(i,1)}notifyObservers(n){this.observers.forEach(s=>{var a,u;switch(n){case"columns":(a=s.state)==null||a.onColumnsChange(this);break;case"scrollable":(u=s.state)==null||u.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${n}.`)}})}}const{CheckboxGroup:lme}=yo,cme=Ge({name:"ElTableFilterPanel",components:{ElCheckbox:yo,ElCheckboxGroup:lme,ElScrollbar:cl,ElTooltip:Ps,ElIcon:un,ArrowDown:nc,ArrowUp:ev},directives:{ClickOutside:Jl},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(e){const n=Yn(),{t:i}=yr(),s=bt("table-filter"),a=n==null?void 0:n.parent;a.filterPanels.value[e.column.id]||(a.filterPanels.value[e.column.id]=n);const u=re(!1),f=re(null),h=z(()=>e.column&&e.column.filters),_=z({get:()=>{var G;return(((G=e.column)==null?void 0:G.filteredValue)||[])[0]},set:G=>{y.value&&(typeof G<"u"&&G!==null?y.value.splice(0,1,G):y.value.splice(0,1))}}),y=z({get(){return e.column?e.column.filteredValue||[]:[]},set(G){e.column&&e.upDataColumn("filteredValue",G)}}),S=z(()=>e.column?e.column.filterMultiple:!0),b=G=>G.value===_.value,w=()=>{u.value=!1},C=G=>{G.stopPropagation(),u.value=!u.value},x=()=>{u.value=!1},M=()=>{F(y.value),w()},T=()=>{y.value=[],F(y.value),w()},D=G=>{_.value=G,F(typeof G<"u"&&G!==null?y.value:[]),w()},F=G=>{e.store.commit("filterChange",{column:e.column,values:G}),e.store.updateAllSelected()};St(u,G=>{e.column&&e.upDataColumn("filterOpened",G)},{immediate:!0});const N=z(()=>{var G,U;return(U=(G=f.value)==null?void 0:G.popperRef)==null?void 0:U.contentRef});return{tooltipVisible:u,multiple:S,filteredValue:y,filterValue:_,filters:h,handleConfirm:M,handleReset:T,handleSelect:D,isActive:b,t:i,ns:s,showFilterPanel:C,hideFilterPanel:x,popperPaneRef:N,tooltip:f}}}),ume={key:0},dme=["disabled"],fme=["label","onClick"];function hme(e,n,i,s,a,u){const f=Mn("el-checkbox"),h=Mn("el-checkbox-group"),_=Mn("el-scrollbar"),y=Mn("arrow-up"),S=Mn("arrow-down"),b=Mn("el-icon"),w=Mn("el-tooltip"),C=Id("click-outside");return Q(),rt(w,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.ns.b(),persistent:""},{content:Ue(()=>[e.multiple?(Q(),ve("div",ume,[Ce("div",{class:Y(e.ns.e("content"))},[Re(_,{"wrap-class":e.ns.e("wrap")},{default:Ue(()=>[Re(h,{modelValue:e.filteredValue,"onUpdate:modelValue":n[0]||(n[0]=x=>e.filteredValue=x),class:Y(e.ns.e("checkbox-group"))},{default:Ue(()=>[(Q(!0),ve(mn,null,cr(e.filters,x=>(Q(),rt(f,{key:x.value,label:x.value},{default:Ue(()=>[hr(Qt(x.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),Ce("div",{class:Y(e.ns.e("bottom"))},[Ce("button",{class:Y({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:n[1]||(n[1]=(...x)=>e.handleConfirm&&e.handleConfirm(...x))},Qt(e.t("el.table.confirmFilter")),11,dme),Ce("button",{type:"button",onClick:n[2]||(n[2]=(...x)=>e.handleReset&&e.handleReset(...x))},Qt(e.t("el.table.resetFilter")),1)],2)])):(Q(),ve("ul",{key:1,class:Y(e.ns.e("list"))},[Ce("li",{class:Y([e.ns.e("list-item"),{[e.ns.is("active")]:e.filterValue===void 0||e.filterValue===null}]),onClick:n[3]||(n[3]=x=>e.handleSelect(null))},Qt(e.t("el.table.clearFilter")),3),(Q(!0),ve(mn,null,cr(e.filters,x=>(Q(),ve("li",{key:x.value,class:Y([e.ns.e("list-item"),e.ns.is("active",e.isActive(x))]),label:x.value,onClick:M=>e.handleSelect(x.value)},Qt(x.text),11,fme))),128))],2))]),default:Ue(()=>[Hn((Q(),ve("span",{class:Y([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:n[4]||(n[4]=(...x)=>e.showFilterPanel&&e.showFilterPanel(...x))},[Re(b,null,{default:Ue(()=>[e.column.filterOpened?(Q(),rt(y,{key:0})):(Q(),rt(S,{key:1}))]),_:1})],2)),[[C,e.hideFilterPanel,e.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var pme=Ht(cme,[["render",hme],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function tD(e){const n=Yn();jg(()=>{i.value.addObserver(n)}),jn(()=>{s(i.value),a(i.value)}),rl(()=>{s(i.value),a(i.value)}),hu(()=>{i.value.removeObserver(n)});const i=z(()=>{const u=e.layout;if(!u)throw new Error("Can not find table layout.");return u}),s=u=>{var f;const h=((f=e.vnode.el)==null?void 0:f.querySelectorAll("colgroup > col"))||[];if(!h.length)return;const _=u.getFlattenColumns(),y={};_.forEach(S=>{y[S.id]=S});for(let S=0,b=h.length;S<b;S++){const w=h[S],C=w.getAttribute("name"),x=y[C];x&&w.setAttribute("width",x.realWidth||x.width)}},a=u=>{var f,h;const _=((f=e.vnode.el)==null?void 0:f.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let S=0,b=_.length;S<b;S++)_[S].setAttribute("width",u.scrollY.value?u.gutterWidth:"0");const y=((h=e.vnode.el)==null?void 0:h.querySelectorAll("th.gutter"))||[];for(let S=0,b=y.length;S<b;S++){const w=y[S];w.style.width=u.scrollY.value?`${u.gutterWidth}px`:"0",w.style.display=u.scrollY.value?"":"none"}};return{tableLayout:i.value,onColumnsChange:s,onScrollableChange:a}}const wa=Symbol("ElTable");function mme(e,n){const i=Yn(),s=hn(wa),a=M=>{M.stopPropagation()},u=(M,T)=>{!T.filters&&T.sortable?x(M,T,!1):T.filterable&&!T.sortable&&a(M),s==null||s.emit("header-click",T,M)},f=(M,T)=>{s==null||s.emit("header-contextmenu",T,M)},h=re(null),_=re(!1),y=re({}),S=(M,T)=>{if(!!ur&&!(T.children&&T.children.length>0)&&h.value&&e.border){_.value=!0;const D=s;n("set-drag-visible",!0);const N=(D==null?void 0:D.vnode.el).getBoundingClientRect().left,G=i.vnode.el.querySelector(`th.${T.id}`),U=G.getBoundingClientRect(),$=U.left-N+30;va(G,"noclick"),y.value={startMouseLeft:M.clientX,startLeft:U.right-N,startColumnLeft:U.left-N,tableLeft:N};const de=D==null?void 0:D.refs.resizeProxy;de.style.left=`${y.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const ee=oe=>{const Ie=oe.clientX-y.value.startMouseLeft,pe=y.value.startLeft+Ie;de.style.left=`${Math.max($,pe)}px`},se=()=>{if(_.value){const{startColumnLeft:oe,startLeft:Ie}=y.value,ae=Number.parseInt(de.style.left,10)-oe;T.width=T.realWidth=ae,D==null||D.emit("header-dragend",T.width,Ie-oe,T,M),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",_.value=!1,h.value=null,y.value={},n("set-drag-visible",!1)}document.removeEventListener("mousemove",ee),document.removeEventListener("mouseup",se),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Ms(G,"noclick")},0)};document.addEventListener("mousemove",ee),document.addEventListener("mouseup",se)}},b=(M,T)=>{var D;if(T.children&&T.children.length>0)return;const F=(D=M.target)==null?void 0:D.closest("th");if(!(!T||!T.resizable)&&!_.value&&e.border){const N=F.getBoundingClientRect(),G=document.body.style;N.width>12&&N.right-M.pageX<8?(G.cursor="col-resize",Xo(F,"is-sortable")&&(F.style.cursor="col-resize"),h.value=T):_.value||(G.cursor="",Xo(F,"is-sortable")&&(F.style.cursor="pointer"),h.value=null)}},w=()=>{!ur||(document.body.style.cursor="")},C=({order:M,sortOrders:T})=>{if(M==="")return T[0];const D=T.indexOf(M||null);return T[D>T.length-2?0:D+1]},x=(M,T,D)=>{var F;M.stopPropagation();const N=T.order===D?null:D||C(T),G=(F=M.target)==null?void 0:F.closest("th");if(G&&Xo(G,"noclick")){Ms(G,"noclick");return}if(!T.sortable)return;const U=e.store.states;let $=U.sortProp.value,de;const ee=U.sortingColumn.value;(ee!==T||ee===T&&ee.order===null)&&(ee&&(ee.order=null),U.sortingColumn.value=T,$=T.property),N?de=T.order=N:de=T.order=null,U.sortProp.value=$,U.sortOrder.value=de,s==null||s.store.commit("changeSortCondition")};return{handleHeaderClick:u,handleHeaderContextMenu:f,handleMouseDown:S,handleMouseMove:b,handleMouseOut:w,handleSortClick:x,handleFilterClick:a}}function gme(e){const n=hn(wa),i=bt("table");return{getHeaderRowStyle:h=>{const _=n==null?void 0:n.props.headerRowStyle;return typeof _=="function"?_.call(null,{rowIndex:h}):_},getHeaderRowClass:h=>{const _=[],y=n==null?void 0:n.props.headerRowClassName;return typeof y=="string"?_.push(y):typeof y=="function"&&_.push(y.call(null,{rowIndex:h})),_.join(" ")},getHeaderCellStyle:(h,_,y,S)=>{var b;let w=(b=n==null?void 0:n.props.headerCellStyle)!=null?b:{};typeof w=="function"&&(w=w.call(null,{rowIndex:h,columnIndex:_,row:y,column:S}));const C=_1(_,S.fixed,e.store,y);return Hd(C,"left"),Hd(C,"right"),Object.assign({},w,C)},getHeaderCellClass:(h,_,y,S)=>{const b=v1(i.b(),_,S.fixed,e.store,y),w=[S.id,S.order,S.headerAlign,S.className,S.labelClassName,...b];S.children||w.push("is-leaf"),S.sortable&&w.push("is-sortable");const C=n==null?void 0:n.props.headerCellClassName;return typeof C=="string"?w.push(C):typeof C=="function"&&w.push(C.call(null,{rowIndex:h,columnIndex:_,row:y,column:S})),w.push(i.e("cell")),w.filter(x=>Boolean(x)).join(" ")}}}const nD=e=>{const n=[];return e.forEach(i=>{i.children?(n.push(i),n.push.apply(n,nD(i.children))):n.push(i)}),n},vme=e=>{let n=1;const i=(u,f)=>{if(f&&(u.level=f.level+1,n<u.level&&(n=u.level)),u.children){let h=0;u.children.forEach(_=>{i(_,u),h+=_.colSpan}),u.colSpan=h}else u.colSpan=1};e.forEach(u=>{u.level=1,i(u,void 0)});const s=[];for(let u=0;u<n;u++)s.push([]);return nD(e).forEach(u=>{u.children?(u.rowSpan=1,u.children.forEach(f=>f.isSubColumn=!0)):u.rowSpan=n-u.level+1,s[u.level-1].push(u)}),s};function _me(e){const n=hn(wa),i=z(()=>vme(e.store.states.originColumns.value));return{isGroup:z(()=>{const u=i.value.length>1;return u&&n&&(n.state.isGroup.value=!0),u}),toggleAllSelection:u=>{u.stopPropagation(),n==null||n.store.commit("toggleAllSelection")},columnRows:i}}var Ame=Ge({name:"ElTableHeader",components:{ElCheckbox:yo},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e,{emit:n}){const i=Yn(),s=hn(wa),a=bt("table"),u=re({}),{onColumnsChange:f,onScrollableChange:h}=tD(s);jn(async()=>{await dn(),await dn();const{prop:$,order:de}=e.defaultSort;s==null||s.store.commit("sort",{prop:$,order:de,init:!0})});const{handleHeaderClick:_,handleHeaderContextMenu:y,handleMouseDown:S,handleMouseMove:b,handleMouseOut:w,handleSortClick:C,handleFilterClick:x}=mme(e,n),{getHeaderRowStyle:M,getHeaderRowClass:T,getHeaderCellStyle:D,getHeaderCellClass:F}=gme(e),{isGroup:N,toggleAllSelection:G,columnRows:U}=_me(e);return i.state={onColumnsChange:f,onScrollableChange:h},i.filterPanels=u,{ns:a,filterPanels:u,onColumnsChange:f,onScrollableChange:h,columnRows:U,getHeaderRowClass:T,getHeaderRowStyle:M,getHeaderCellClass:F,getHeaderCellStyle:D,handleHeaderClick:_,handleHeaderContextMenu:y,handleMouseDown:S,handleMouseMove:b,handleMouseOut:w,handleSortClick:C,handleFilterClick:x,isGroup:N,toggleAllSelection:G}},render(){const{ns:e,isGroup:n,columnRows:i,getHeaderCellStyle:s,getHeaderCellClass:a,getHeaderRowClass:u,getHeaderRowStyle:f,handleHeaderClick:h,handleHeaderContextMenu:_,handleMouseDown:y,handleMouseMove:S,handleSortClick:b,handleMouseOut:w,store:C,$parent:x}=this;let M=1;return An("thead",{class:{[e.is("group")]:n}},i.map((T,D)=>An("tr",{class:u(D),key:D,style:f(D)},T.map((F,N)=>(F.rowSpan>M&&(M=F.rowSpan),An("th",{class:a(D,N,T,F),colspan:F.colSpan,key:`${F.id}-thead`,rowspan:F.rowSpan,style:s(D,N,T,F),onClick:G=>h(G,F),onContextmenu:G=>_(G,F),onMousedown:G=>y(G,F),onMousemove:G=>S(G,F),onMouseout:w},[An("div",{class:["cell",F.filteredValue&&F.filteredValue.length>0?"highlight":""]},[F.renderHeader?F.renderHeader({column:F,$index:N,store:C,_self:x}):F.label,F.sortable&&An("span",{onClick:G=>b(G,F),class:"caret-wrapper"},[An("i",{onClick:G=>b(G,F,"ascending"),class:"sort-caret ascending"}),An("i",{onClick:G=>b(G,F,"descending"),class:"sort-caret descending"})]),F.filterable&&An(pme,{store:C,placement:F.filterPlacement||"bottom-start",column:F,upDataColumn:(G,U)=>{F[G]=U}})])]))))))}});function yme(e){const n=hn(wa),i=re(""),s=re(An("div")),a=(w,C,x)=>{var M;const T=n,D=u0(w);let F;const N=(M=T==null?void 0:T.vnode.el)==null?void 0:M.dataset.prefix;D&&(F=SM({columns:e.store.states.columns.value},D,N),F&&(T==null||T.emit(`cell-${x}`,C,F,D,w))),T==null||T.emit(`row-${x}`,C,F,w)},u=(w,C)=>{a(w,C,"dblclick")},f=(w,C)=>{e.store.commit("setCurrentRow",C),a(w,C,"click")},h=(w,C)=>{a(w,C,"contextmenu")},_=As(w=>{e.store.commit("setHoverRow",w)},30),y=As(()=>{e.store.commit("setHoverRow",null)},30);return{handleDoubleClick:u,handleClick:f,handleContextMenu:h,handleMouseEnter:_,handleMouseLeave:y,handleCellMouseEnter:(w,C,x)=>{var M;const T=n,D=u0(w),F=(M=T==null?void 0:T.vnode.el)==null?void 0:M.dataset.prefix;if(D){const de=SM({columns:e.store.states.columns.value},D,F),ee=T.hoverState={cell:D,column:de,row:C};T==null||T.emit("cell-mouse-enter",ee.row,ee.column,ee.cell,w)}const N=w.target.querySelector(".cell");if(!(Xo(N,`${F}-tooltip`)&&N.childNodes.length))return;const G=document.createRange();G.setStart(N,0),G.setEnd(N,N.childNodes.length);const U=G.getBoundingClientRect().width,$=(Number.parseInt(Wa(N,"paddingLeft"),10)||0)+(Number.parseInt(Wa(N,"paddingRight"),10)||0);(U+$>N.offsetWidth||N.scrollWidth>N.offsetWidth)&&Jpe(n==null?void 0:n.refs.tableWrapper,D,D.innerText||D.textContent,{placement:"top",strategy:"fixed"},x)},handleCellMouseLeave:w=>{if(!u0(w))return;const x=n==null?void 0:n.hoverState;n==null||n.emit("cell-mouse-leave",x==null?void 0:x.row,x==null?void 0:x.column,x==null?void 0:x.cell,w)},tooltipContent:i,tooltipTrigger:s}}function bme(e){const n=hn(wa),i=bt("table");return{getRowStyle:(y,S)=>{const b=n==null?void 0:n.props.rowStyle;return typeof b=="function"?b.call(null,{row:y,rowIndex:S}):b||null},getRowClass:(y,S)=>{const b=[i.e("row")];(n==null?void 0:n.props.highlightCurrentRow)&&y===e.store.states.currentRow.value&&b.push("current-row"),e.stripe&&S%2===1&&b.push(i.em("row","striped"));const w=n==null?void 0:n.props.rowClassName;return typeof w=="string"?b.push(w):typeof w=="function"&&b.push(w.call(null,{row:y,rowIndex:S})),b},getCellStyle:(y,S,b,w)=>{const C=n==null?void 0:n.props.cellStyle;let x=C!=null?C:{};typeof C=="function"&&(x=C.call(null,{rowIndex:y,columnIndex:S,row:b,column:w}));const M=_1(S,e==null?void 0:e.fixed,e.store);return Hd(M,"left"),Hd(M,"right"),Object.assign({},x,M)},getCellClass:(y,S,b,w,C)=>{const x=v1(i.b(),S,e==null?void 0:e.fixed,e.store,void 0,C),M=[w.id,w.align,w.className,...x],T=n==null?void 0:n.props.cellClassName;return typeof T=="string"?M.push(T):typeof T=="function"&&M.push(T.call(null,{rowIndex:y,columnIndex:S,row:b,column:w})),M.push(i.e("cell")),M.filter(D=>Boolean(D)).join(" ")},getSpan:(y,S,b,w)=>{let C=1,x=1;const M=n==null?void 0:n.props.spanMethod;if(typeof M=="function"){const T=M({row:y,column:S,rowIndex:b,columnIndex:w});Array.isArray(T)?(C=T[0],x=T[1]):typeof T=="object"&&(C=T.rowspan,x=T.colspan)}return{rowspan:C,colspan:x}},getColspanRealWidth:(y,S,b)=>{if(S<1)return y[b].realWidth;const w=y.map(({realWidth:C,width:x})=>C||x).slice(b,b+S);return Number(w.reduce((C,x)=>Number(C)+Number(x),-1))}}}function Sme(e){const n=hn(wa),i=bt("table"),{handleDoubleClick:s,handleClick:a,handleContextMenu:u,handleMouseEnter:f,handleMouseLeave:h,handleCellMouseEnter:_,handleCellMouseLeave:y,tooltipContent:S,tooltipTrigger:b}=yme(e),{getRowStyle:w,getRowClass:C,getCellStyle:x,getCellClass:M,getSpan:T,getColspanRealWidth:D}=bme(e),F=z(()=>e.store.states.columns.value.findIndex(({type:de})=>de==="default")),N=(de,ee)=>{const se=n.props.rowKey;return se?Ji(de,se):ee},G=(de,ee,se,oe=!1)=>{const{tooltipEffect:Ie,store:pe}=e,{indent:ae,columns:ye}=pe.states,be=C(de,ee);let _e=!0;return se&&(be.push(i.em("row",`level-${se.level}`)),_e=se.display),An("tr",{style:[_e?null:{display:"none"},w(de,ee)],class:be,key:N(de,ee),onDblclick:fe=>s(fe,de),onClick:fe=>a(fe,de),onContextmenu:fe=>u(fe,de),onMouseenter:()=>f(ee),onMouseleave:h},ye.value.map((fe,le)=>{const{rowspan:ke,colspan:ze}=T(de,fe,ee,le);if(!ke||!ze)return null;const Te={...fe};Te.realWidth=D(ye.value,ze,le);const Xe={store:e.store,_self:e.context||n,column:Te,row:de,$index:ee,cellIndex:le,expanded:oe};le===F.value&&se&&(Xe.treeNode={indent:se.level*ae.value,level:se.level},typeof se.expanded=="boolean"&&(Xe.treeNode.expanded=se.expanded,"loading"in se&&(Xe.treeNode.loading=se.loading),"noLazyChildren"in se&&(Xe.treeNode.noLazyChildren=se.noLazyChildren)));const _t=`${ee},${le}`,wt=Te.columnKey||Te.rawColumnKey||"",xt=U(le,fe,Xe);return An("td",{style:x(ee,le,de,fe),class:M(ee,le,de,fe,ze-1),key:`${wt}${_t}`,rowspan:ke,colspan:ze,onMouseenter:it=>_(it,de,Ie),onMouseleave:y},[xt])}))},U=(de,ee,se)=>ee.renderCell(se);return{wrappedRowRender:(de,ee)=>{const se=e.store,{isRowExpanded:oe,assertRowKey:Ie}=se,{treeData:pe,lazyTreeNodeMap:ae,childrenColumnName:ye,rowKey:be}=se.states,_e=se.states.columns.value;if(_e.some(({type:fe})=>fe==="expand")){const fe=oe(de),le=G(de,ee,void 0,fe),ke=n.renderExpanded;return fe?ke?[[le,An("tr",{key:`expanded-row__${le.key}`},[An("td",{colspan:_e.length,class:`${i.e("cell")} ${i.e("expanded-cell")}`},[ke({row:de,$index:ee,store:se,expanded:fe})])])]]:(console.error("[Element Error]renderExpanded is required."),le):[[le]]}else if(Object.keys(pe.value).length){Ie();const fe=Ji(de,be.value);let le=pe.value[fe],ke=null;le&&(ke={expanded:le.expanded,level:le.level,display:!0},typeof le.lazy=="boolean"&&(typeof le.loaded=="boolean"&&le.loaded&&(ke.noLazyChildren=!(le.children&&le.children.length)),ke.loading=le.loading));const ze=[G(de,ee,ke)];if(le){let Te=0;const Xe=(wt,xt)=>{!(wt&&wt.length&&xt)||wt.forEach(it=>{const je={display:xt.display&&xt.expanded,level:xt.level+1,expanded:!1,noLazyChildren:!1,loading:!1},ot=Ji(it,be.value);if(ot==null)throw new Error("For nested data item, row-key is required.");if(le={...pe.value[ot]},le&&(je.expanded=le.expanded,le.level=le.level||je.level,le.display=!!(le.expanded&&je.display),typeof le.lazy=="boolean"&&(typeof le.loaded=="boolean"&&le.loaded&&(je.noLazyChildren=!(le.children&&le.children.length)),je.loading=le.loading)),Te++,ze.push(G(it,ee+Te,je)),le){const At=ae.value[ot]||it[ye.value];Xe(At,le)}})};le.display=!0;const _t=ae.value[fe]||de[ye.value];Xe(_t,le)}return ze}else return G(de,ee,void 0)},tooltipContent:S,tooltipTrigger:b}}const Eme={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var wme=Ge({name:"ElTableBody",props:Eme,setup(e){const n=Yn(),i=hn(wa),s=bt("table"),{wrappedRowRender:a,tooltipContent:u,tooltipTrigger:f}=Sme(e),{onColumnsChange:h,onScrollableChange:_}=tD(i);return St(e.store.states.hoverRow,(y,S)=>{if(!e.store.states.isComplex.value||!ur)return;let b=window.requestAnimationFrame;b||(b=w=>window.setTimeout(w,16)),b(()=>{const w=n==null?void 0:n.vnode.el,C=Array.from((w==null?void 0:w.children)||[]).filter(T=>T==null?void 0:T.classList.contains(`${s.e("row")}`)),x=C[S],M=C[y];x&&Ms(x,"hover-row"),M&&va(M,"hover-row")})}),hu(()=>{var y;(y=Xa)==null||y()}),{ns:s,onColumnsChange:h,onScrollableChange:_,wrappedRowRender:a,tooltipContent:u,tooltipTrigger:f}},render(){const{wrappedRowRender:e,store:n}=this,i=n.states.data.value||[];return An("tbody",{},[i.reduce((s,a)=>s.concat(e(a,s.length)),[])])}});function A1(e){const n=e.tableLayout==="auto";let i=e.columns||[];n&&i.every(a=>a.width===void 0)&&(i=[]);const s=a=>{const u={key:`${e.tableLayout}_${a.id}`,style:{},name:void 0};return n?u.style={width:`${a.width}px`}:u.name=a.id,u};return An("colgroup",{},i.map(a=>An("col",s(a))))}A1.props=["columns","tableLayout"];function Cme(){const e=hn(wa),n=e==null?void 0:e.store,i=z(()=>n.states.fixedLeafColumnsLength.value),s=z(()=>n.states.rightFixedColumns.value.length),a=z(()=>n.states.columns.value.length),u=z(()=>n.states.fixedColumns.value.length),f=z(()=>n.states.rightFixedColumns.value.length);return{leftFixedLeafCount:i,rightFixedLeafCount:s,columnsCount:a,leftFixedCount:u,rightFixedCount:f,columns:n.states.columns}}function Ime(e){const{columns:n}=Cme(),i=bt("table");return{getCellClasses:(u,f)=>{const h=u[f],_=[i.e("cell"),h.id,h.align,h.labelClassName,...v1(i.b(),f,h.fixed,e.store)];return h.className&&_.push(h.className),h.children||_.push(i.is("leaf")),_},getCellStyles:(u,f)=>{const h=_1(f,u.fixed,e.store);return Hd(h,"left"),Hd(h,"right"),h},columns:n}}var Mme=Ge({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:n,getCellStyles:i,columns:s}=Ime(e);return{ns:bt("table"),getCellClasses:n,getCellStyles:i,columns:s}},render(){const{columns:e,getCellStyles:n,getCellClasses:i,summaryMethod:s,sumText:a,ns:u}=this,f=this.store.states.data.value;let h=[];return s?h=s({columns:e,data:f}):e.forEach((_,y)=>{if(y===0){h[y]=a;return}const S=f.map(x=>Number(x[_.property])),b=[];let w=!0;S.forEach(x=>{if(!Number.isNaN(+x)){w=!1;const M=`${x}`.split(".")[1];b.push(M?M.length:0)}});const C=Math.max.apply(null,b);w?h[y]="":h[y]=S.reduce((x,M)=>{const T=Number(M);return Number.isNaN(+T)?x:Number.parseFloat((x+M).toFixed(Math.min(C,20)))},0)}),An("table",{class:u.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[A1({columns:e}),An("tbody",[An("tr",{},[...e.map((_,y)=>An("td",{key:y,colspan:_.colSpan,rowspan:_.rowSpan,class:i(e,y),style:n(_,y)},[An("div",{class:["cell",_.labelClassName]},[h[y]])]))])])])}});function xme(e){return{setCurrentRow:S=>{e.commit("setCurrentRow",S)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(S,b)=>{e.toggleRowSelection(S,b,!1),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:S=>{e.clearFilter(S)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(S,b)=>{e.toggleRowExpansionAdapter(S,b)},clearSort:()=>{e.clearSort()},sort:(S,b)=>{e.commit("sort",{prop:S,order:b})}}}function Rme(e,n,i,s){const a=re(!1),u=re(null),f=re(!1),h=fe=>{f.value=fe},_=re({width:null,height:null,headerHeight:null}),y=re(!1),S={display:"inline-block",verticalAlign:"middle"},b=re(),w=re(0),C=re(0),x=re(0),M=re(0);es(()=>{n.setHeight(e.height)}),es(()=>{n.setMaxHeight(e.maxHeight)}),St(()=>[e.currentRowKey,i.states.rowKey],([fe,le])=>{!p(le)||!p(fe)||i.setCurrentRowKey(`${fe}`)},{immediate:!0}),St(()=>e.data,fe=>{s.store.commit("setData",fe)},{immediate:!0,deep:!0}),es(()=>{e.expandRowKeys&&i.setExpandRowKeysAdapter(e.expandRowKeys)});const T=()=>{s.store.commit("setHoverRow",null),s.hoverState&&(s.hoverState=null)},D=(fe,le)=>{const{pixelX:ke,pixelY:ze}=le;Math.abs(ke)>=Math.abs(ze)&&(s.refs.bodyWrapper.scrollLeft+=le.pixelX/5)},F=z(()=>e.height||e.maxHeight||i.states.fixedColumns.value.length>0||i.states.rightFixedColumns.value.length>0),N=z(()=>({width:n.bodyWidth.value?`${n.bodyWidth.value}px`:""})),G=()=>{F.value&&n.updateElsHeight(),n.updateColumnsWidth(),requestAnimationFrame(ee)};jn(async()=>{await dn(),i.updateColumns(),se(),requestAnimationFrame(G);const fe=s.vnode.el,le=s.refs.headerWrapper;e.flexible&&fe&&fe.parentElement&&(fe.parentElement.style.minWidth="0"),_.value={width:b.value=fe.offsetWidth,height:fe.offsetHeight,headerHeight:e.showHeader&&le?le.offsetHeight:null},i.states.columns.value.forEach(ke=>{ke.filteredValue&&ke.filteredValue.length&&s.store.commit("filterChange",{column:ke,values:ke.filteredValue,silent:!0})}),s.$ready=!0});const U=(fe,le)=>{if(!fe)return;const ke=Array.from(fe.classList).filter(ze=>!ze.startsWith("is-scrolling-"));ke.push(n.scrollX.value?le:"is-scrolling-none"),fe.className=ke.join(" ")},$=fe=>{const{tableWrapper:le}=s.refs;U(le,fe)},de=fe=>{const{tableWrapper:le}=s.refs;return!!(le&&le.classList.contains(fe))},ee=function(){if(!s.refs.scrollBarRef)return;if(!n.scrollX.value){const wt="is-scrolling-none";de(wt)||$(wt);return}const fe=s.refs.scrollBarRef.wrap$;if(!fe)return;const{scrollLeft:le,offsetWidth:ke,scrollWidth:ze}=fe,{headerWrapper:Te,footerWrapper:Xe}=s.refs;Te&&(Te.scrollLeft=le),Xe&&(Xe.scrollLeft=le);const _t=ze-ke-1;le>=_t?$("is-scrolling-right"):$(le===0?"is-scrolling-left":"is-scrolling-middle")},se=()=>{!s.refs.scrollBarRef||(s.refs.scrollBarRef.wrap$&&Kr(s.refs.scrollBarRef.wrap$,"scroll",ee,{passive:!0}),e.fit?as(s.vnode.el,oe):Kr(window,"resize",oe),as(s.refs.bodyWrapper,()=>{var fe,le;oe(),(le=(fe=s.refs)==null?void 0:fe.scrollBarRef)==null||le.update()}))},oe=()=>{var fe,le,ke;const ze=s.vnode.el;if(!s.$ready||!ze)return;let Te=!1;const{width:Xe,height:_t,headerHeight:wt}=_.value,xt=b.value=ze.offsetWidth;Xe!==xt&&(Te=!0);const it=ze.offsetHeight;(e.height||F.value)&&_t!==it&&(Te=!0);const je=e.tableLayout==="fixed"?s.refs.headerWrapper:(fe=s.refs.tableHeaderRef)==null?void 0:fe.$el;e.showHeader&&(je==null?void 0:je.offsetHeight)!==wt&&(Te=!0),w.value=((le=s.refs.tableWrapper)==null?void 0:le.scrollHeight)||0,x.value=(je==null?void 0:je.scrollHeight)||0,M.value=((ke=s.refs.footerWrapper)==null?void 0:ke.offsetHeight)||0,C.value=w.value-x.value-M.value,Te&&(_.value={width:xt,height:it,headerHeight:e.showHeader&&(je==null?void 0:je.offsetHeight)||0},G())},Ie=Ci(),pe=z(()=>{const{bodyWidth:fe,scrollY:le,gutterWidth:ke}=n;return fe.value?`${fe.value-(le.value?ke:0)}px`:""}),ae=z(()=>e.maxHeight?"fixed":e.tableLayout),ye=z(()=>{if(e.data&&e.data.length)return null;let fe="100%";e.height&&C.value&&(fe=`${C.value}px`);const le=b.value;return{width:le?`${le}px`:"",height:fe}}),be=z(()=>e.height?{height:Number.isNaN(Number(e.height))?e.height:`${e.height}px`}:e.maxHeight?{maxHeight:Number.isNaN(Number(e.maxHeight))?e.maxHeight:`${e.maxHeight}px`}:{}),_e=z(()=>{if(e.height)return{height:"100%"};if(e.maxHeight){if(Number.isNaN(Number(e.maxHeight)))return{maxHeight:`calc(${e.maxHeight} - ${x.value+M.value}px)`};{const fe=e.maxHeight;if(w.value>=Number(fe))return{maxHeight:`${w.value-x.value-M.value}px`}}}return{}});return{isHidden:a,renderExpanded:u,setDragVisible:h,isGroup:y,handleMouseLeave:T,handleHeaderFooterMousewheel:D,tableSize:Ie,emptyBlockStyle:ye,handleFixedMousewheel:(fe,le)=>{const ke=s.refs.bodyWrapper;if(Math.abs(le.spinY)>0){const ze=ke.scrollTop;le.pixelY<0&&ze!==0&&fe.preventDefault(),le.pixelY>0&&ke.scrollHeight-ke.clientHeight>ze&&fe.preventDefault(),ke.scrollTop+=Math.ceil(le.pixelY/5)}else ke.scrollLeft+=Math.ceil(le.pixelX/5)},resizeProxyVisible:f,bodyWidth:pe,resizeState:_,doLayout:G,tableBodyStyles:N,tableLayout:ae,scrollbarViewStyle:S,tableInnerStyle:be,scrollbarStyle:_e}}var Tme={data:{type:Array,default:()=>[]},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean};const Pme=()=>{const e=re(),n=(u,f)=>{const h=e.value;h&&h.scrollTo(u,f)},i=(u,f)=>{const h=e.value;h&&Qn(f)&&["Top","Left"].includes(u)&&h[`setScroll${u}`](f)};return{scrollBarRef:e,scrollTo:n,setScrollTop:u=>i("Top",u),setScrollLeft:u=>i("Left",u)}};let Nme=1;const Dme=Ge({name:"ElTable",directives:{Mousewheel:ine},components:{TableHeader:Ame,TableBody:wme,TableFooter:Mme,ElScrollbar:cl,hColgroup:A1},props:Tme,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t:n}=yr(),i=bt("table"),s=Yn();ir(wa,s);const a=sme(s,e);s.store=a;const u=new ame({store:s.store,table:s,fit:e.fit,showHeader:e.showHeader});s.layout=u;const f=z(()=>(a.states.data.value||[]).length===0),{setCurrentRow:h,getSelectionRows:_,toggleRowSelection:y,clearSelection:S,clearFilter:b,toggleAllSelection:w,toggleRowExpansion:C,clearSort:x,sort:M}=xme(a),{isHidden:T,renderExpanded:D,setDragVisible:F,isGroup:N,handleMouseLeave:G,handleHeaderFooterMousewheel:U,tableSize:$,emptyBlockStyle:de,handleFixedMousewheel:ee,resizeProxyVisible:se,bodyWidth:oe,resizeState:Ie,doLayout:pe,tableBodyStyles:ae,tableLayout:ye,scrollbarViewStyle:be,tableInnerStyle:_e,scrollbarStyle:ie}=Rme(e,u,a,s),{scrollBarRef:fe,scrollTo:le,setScrollLeft:ke,setScrollTop:ze}=Pme(),Te=As(pe,50),Xe=`${i.namespace.value}-table_${Nme++}`;s.tableId=Xe,s.state={isGroup:N,resizeState:Ie,doLayout:pe,debouncedUpdateLayout:Te};const _t=z(()=>e.sumText||n("el.table.sumText")),wt=z(()=>e.emptyText||n("el.table.emptyText"));return{ns:i,layout:u,store:a,handleHeaderFooterMousewheel:U,handleMouseLeave:G,tableId:Xe,tableSize:$,isHidden:T,isEmpty:f,renderExpanded:D,resizeProxyVisible:se,resizeState:Ie,isGroup:N,bodyWidth:oe,tableBodyStyles:ae,emptyBlockStyle:de,debouncedUpdateLayout:Te,handleFixedMousewheel:ee,setCurrentRow:h,getSelectionRows:_,toggleRowSelection:y,clearSelection:S,clearFilter:b,toggleAllSelection:w,toggleRowExpansion:C,clearSort:x,doLayout:pe,sort:M,t:n,setDragVisible:F,context:s,computedSumText:_t,computedEmptyText:wt,tableLayout:ye,scrollbarViewStyle:be,tableInnerStyle:_e,scrollbarStyle:ie,scrollBarRef:fe,scrollTo:le,setScrollLeft:ke,setScrollTop:ze}}}),Bme=["data-prefix"],kme={ref:"hiddenColumns",class:"hidden-columns"};function Lme(e,n,i,s,a,u){const f=Mn("hColgroup"),h=Mn("table-header"),_=Mn("table-body"),y=Mn("el-scrollbar"),S=Mn("table-footer"),b=Id("mousewheel");return Q(),ve("div",{ref:"tableWrapper",class:Y([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:fn(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:n[0]||(n[0]=w=>e.handleMouseLeave())},[Ce("div",{class:Y(e.ns.e("inner-wrapper")),style:fn(e.tableInnerStyle)},[Ce("div",kme,[vt(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?Hn((Q(),ve("div",{key:0,ref:"headerWrapper",class:Y(e.ns.e("header-wrapper"))},[Ce("table",{ref:"tableHeader",class:Y(e.ns.e("header")),style:fn(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[Re(f,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),Re(h,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[b,e.handleHeaderFooterMousewheel]]):Ye("v-if",!0),Ce("div",{ref:"bodyWrapper",class:Y(e.ns.e("body-wrapper"))},[Re(y,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn},{default:Ue(()=>[Ce("table",{ref:"tableBody",class:Y(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:fn({width:e.bodyWidth,tableLayout:e.tableLayout})},[Re(f,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(Q(),rt(h,{key:0,ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):Ye("v-if",!0),Re(_,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe"])],6),e.isEmpty?(Q(),ve("div",{key:0,ref:"emptyBlock",style:fn(e.emptyBlockStyle),class:Y(e.ns.e("empty-block"))},[Ce("span",{class:Y(e.ns.e("empty-text"))},[vt(e.$slots,"empty",{},()=>[hr(Qt(e.computedEmptyText),1)])],2)],6)):Ye("v-if",!0),e.$slots.append?(Q(),ve("div",{key:1,ref:"appendWrapper",class:Y(e.ns.e("append-wrapper"))},[vt(e.$slots,"append")],2)):Ye("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),e.showSummary?Hn((Q(),ve("div",{key:1,ref:"footerWrapper",class:Y(e.ns.e("footer-wrapper"))},[Re(S,{border:e.border,"default-sort":e.defaultSort,store:e.store,style:fn(e.tableBodyStyles),"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[_r,!e.isEmpty],[b,e.handleHeaderFooterMousewheel]]):Ye("v-if",!0),e.border||e.isGroup?(Q(),ve("div",{key:2,class:Y(e.ns.e("border-left-patch"))},null,2)):Ye("v-if",!0)],6),Hn(Ce("div",{ref:"resizeProxy",class:Y(e.ns.e("column-resize-proxy"))},null,2),[[_r,e.resizeProxyVisible]])],46,Bme)}var Ome=Ht(Dme,[["render",Lme],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const Fme={selection:"table-column--selection",expand:"table__expand-column"},Vme={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},Gme=e=>Fme[e]||"",Ume={selection:{renderHeader({store:e}){function n(){return e.states.data.value&&e.states.data.value.length===0}return An(yo,{disabled:n(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value})},renderCell({row:e,column:n,store:i,$index:s}){return An(yo,{disabled:n.selectable?!n.selectable.call(null,e,s):!1,size:i.states.tableSize.value,onChange:()=>{i.commit("rowSelectedChanged",e)},onClick:a=>a.stopPropagation(),modelValue:i.isSelected(e)})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:n}){let i=n+1;const s=e.index;return typeof s=="number"?i=n+s:typeof s=="function"&&(i=s(n)),An("div",{},[i])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:n,expanded:i}){const{ns:s}=n,a=[s.e("expand-icon")];return i&&a.push(s.em("expand-icon","expanded")),An("div",{class:a,onClick:function(f){f.stopPropagation(),n.toggleRowExpansion(e)}},{default:()=>[An(un,null,{default:()=>[An(vs)]})]})},sortable:!1,resizable:!1}};function Hme({row:e,column:n,$index:i}){var s;const a=n.property,u=a&&$m(e,a).value;return n&&n.formatter?n.formatter(e,n,u,i):((s=u==null?void 0:u.toString)==null?void 0:s.call(u))||""}function Qme({row:e,treeNode:n,store:i},s=!1){const{ns:a}=i;if(!n)return s?[An("span",{class:a.e("placeholder")})]:null;const u=[],f=function(h){h.stopPropagation(),!n.loading&&i.loadOrToggle(e)};if(n.indent&&u.push(An("span",{class:a.e("indent"),style:{"padding-left":`${n.indent}px`}})),typeof n.expanded=="boolean"&&!n.noLazyChildren){const h=[a.e("expand-icon"),n.expanded?a.em("expand-icon","expanded"):""];let _=vs;n.loading&&(_=ic),u.push(An("div",{class:h,onClick:f},{default:()=>[An(un,{class:{[a.is("loading")]:n.loading}},{default:()=>[An(_)]})]}))}else u.push(An("span",{class:a.e("placeholder")}));return u}function CM(e,n){return e.reduce((i,s)=>(i[s]=s,i),n)}function Xme(e,n){const i=Yn();return{registerComplexWatchers:()=>{const u=["fixed"],f={realWidth:"width",realMinWidth:"minWidth"},h=CM(u,f);Object.keys(h).forEach(_=>{const y=f[_];lr(n,y)&&St(()=>n[y],S=>{let b=S;y==="width"&&_==="realWidth"&&(b=g1(S)),y==="minWidth"&&_==="realMinWidth"&&(b=jN(S)),i.columnConfig.value[y]=b,i.columnConfig.value[_]=b;const w=y==="fixed";e.value.store.scheduleLayout(w)})})},registerNormalWatchers:()=>{const u=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],f={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},h=CM(u,f);Object.keys(h).forEach(_=>{const y=f[_];lr(n,y)&&St(()=>n[y],S=>{i.columnConfig.value[_]=S})})}}}function zme(e,n,i){const s=Yn(),a=re(""),u=re(!1),f=re(),h=re(),_=bt("table");es(()=>{f.value=e.align?`is-${e.align}`:null,f.value}),es(()=>{h.value=e.headerAlign?`is-${e.headerAlign}`:f.value,h.value});const y=z(()=>{let N=s.vnode.vParent||s.parent;for(;N&&!N.tableId&&!N.columnId;)N=N.vnode.vParent||N.parent;return N}),S=z(()=>{const{store:N}=s.parent;if(!N)return!1;const{treeData:G}=N.states,U=G.value;return U&&Object.keys(U).length>0}),b=re(g1(e.width)),w=re(jN(e.minWidth)),C=N=>(b.value&&(N.width=b.value),w.value&&(N.minWidth=w.value),!b.value&&w.value&&(N.width=void 0),N.minWidth||(N.minWidth=80),N.realWidth=Number(N.width===void 0?N.minWidth:N.width),N),x=N=>{const G=N.type,U=Ume[G]||{};Object.keys(U).forEach(de=>{const ee=U[de];de!=="className"&&ee!==void 0&&(N[de]=ee)});const $=Gme(G);if($){const de=`${p(_.namespace)}-${$}`;N.className=N.className?`${N.className} ${de}`:de}return N},M=N=>{Array.isArray(N)?N.forEach(U=>G(U)):G(N);function G(U){var $;(($=U==null?void 0:U.type)==null?void 0:$.name)==="ElTableColumn"&&(U.vParent=s)}};return{columnId:a,realAlign:f,isSubColumn:u,realHeaderAlign:h,columnOrTableParent:y,setColumnWidth:C,setColumnForcedProps:x,setColumnRenders:N=>{e.renderHeader||N.type!=="selection"&&(N.renderHeader=U=>{s.columnConfig.value.label;const $=n.header;return $?$(U):N.label});let G=N.renderCell;return N.type==="expand"?(N.renderCell=U=>An("div",{class:"cell"},[G(U)]),i.value.renderExpanded=U=>n.default?n.default(U):n.default):(G=G||Hme,N.renderCell=U=>{let $=null;if(n.default){const oe=n.default(U);$=oe.some(Ie=>Ie.type!==gs)?oe:G(U)}else $=G(U);const de=S.value&&U.cellIndex===0&&U.column.type!=="selection",ee=Qme(U,de),se={class:"cell",style:{}};return N.showOverflowTooltip&&(se.class=`${se.class} ${p(_.namespace)}-tooltip`,se.style={width:`${(U.column.realWidth||Number(U.column.width))-1}px`}),M($),An("div",se,[ee,$])}),N},getPropsData:(...N)=>N.reduce((G,U)=>(Array.isArray(U)&&U.forEach($=>{G[$]=e[$]}),G),{}),getColumnElIndex:(N,G)=>Array.prototype.indexOf.call(N,G)}}var $me={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(n=>["ascending","descending",null].includes(n))}};let Wme=1;var rD=Ge({name:"ElTableColumn",components:{ElCheckbox:yo},props:$me,setup(e,{slots:n}){const i=Yn(),s=re({}),a=z(()=>{let F=i.parent;for(;F&&!F.tableId;)F=F.parent;return F}),{registerNormalWatchers:u,registerComplexWatchers:f}=Xme(a,e),{columnId:h,isSubColumn:_,realHeaderAlign:y,columnOrTableParent:S,setColumnWidth:b,setColumnForcedProps:w,setColumnRenders:C,getPropsData:x,getColumnElIndex:M,realAlign:T}=zme(e,n,a),D=S.value;h.value=`${D.tableId||D.columnId}_column_${Wme++}`,jg(()=>{_.value=a.value!==D;const F=e.type||"default",N=e.sortable===""?!0:e.sortable,G={...Vme[F],id:h.value,type:F,property:e.prop||e.property,align:T,headerAlign:y,showOverflowTooltip:e.showOverflowTooltip||e.showTooltipWhenOverflow,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:N,index:e.index,rawColumnKey:i.vnode.key};let se=x(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);se=Kpe(G,se),se=qpe(C,b,w)(se),s.value=se,u(),f()}),jn(()=>{var F;const N=S.value,G=_.value?N.vnode.el.children:(F=N.refs.hiddenColumns)==null?void 0:F.children,U=()=>M(G||[],i.vnode.el);s.value.getColumnIndex=U,U()>-1&&a.value.store.commit("insertColumn",s.value,_.value?N.columnConfig.value:null)}),di(()=>{a.value.store.commit("removeColumn",s.value,_.value?D.columnConfig.value:null)}),i.columnId=h.value,i.columnConfig=s},render(){var e,n,i;try{const s=(n=(e=this.$slots).default)==null?void 0:n.call(e,{row:{},column:{},$index:-1}),a=[];if(Array.isArray(s))for(const f of s)((i=f.type)==null?void 0:i.name)==="ElTableColumn"||f.shapeFlag&2?a.push(f):f.type===mn&&Array.isArray(f.children)&&f.children.forEach(h=>{(h==null?void 0:h.patchFlag)!==1024&&!Dn(h==null?void 0:h.children)&&a.push(h)});return An("div",a)}catch{return An("div",[])}}});const Kme=Jn(Ome,{TableColumn:rD}),jme=fi(rD);var zh=(e=>(e.ASC="asc",e.DESC="desc",e))(zh||{}),$h=(e=>(e.CENTER="center",e.RIGHT="right",e))($h||{}),iD=(e=>(e.LEFT="left",e.RIGHT="right",e))(iD||{});const Sy={asc:"desc",desc:"asc"},Wh=Symbol("placeholder"),qme=(e,n,i)=>{var s;const a={flexGrow:0,flexShrink:0,...i?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};i||(a.flexShrink=1);const u={...(s=e.style)!=null?s:{},...a,flexBasis:"auto",width:e.width};return n||(e.maxWidth&&(u.maxWidth=e.maxWidth),e.minWidth&&(u.minWidth=e.minWidth)),u};function Yme(e,n,i){const s=z(()=>p(n).filter(M=>!M.hidden)),a=z(()=>p(s).filter(M=>M.fixed==="left"||M.fixed===!0)),u=z(()=>p(s).filter(M=>M.fixed==="right")),f=z(()=>p(s).filter(M=>!M.fixed)),h=z(()=>{const M=[];return p(a).forEach(T=>{M.push({...T,placeholderSign:Wh})}),p(f).forEach(T=>{M.push(T)}),p(u).forEach(T=>{M.push({...T,placeholderSign:Wh})}),M}),_=z(()=>p(a).length||p(u).length),y=z(()=>p(n).reduce((T,D)=>(T[D.key]=qme(D,p(i),e.fixed),T),{})),S=z(()=>p(s).reduce((M,T)=>M+T.width,0)),b=M=>p(n).find(T=>T.key===M),w=M=>p(y)[M],C=(M,T)=>{M.width=T};function x(M){var T;const{key:D}=M.currentTarget.dataset;if(!D)return;const{sortState:F,sortBy:N}=e;let G=zh.ASC;tr(F)?G=Sy[F[D]]:G=Sy[N.order],(T=e.onColumnSort)==null||T.call(e,{column:b(D),key:D,order:G})}return{columns:n,columnsStyles:y,columnsTotalWidth:S,fixedColumnsOnLeft:a,fixedColumnsOnRight:u,hasFixedColumns:_,mainColumns:h,normalColumns:f,visibleColumns:s,getColumn:b,getColumnStyle:w,updateColumnWidth:C,onColumnSorted:x}}const Jme=(e,{mainTableRef:n,leftTableRef:i,rightTableRef:s,onMaybeEndReached:a})=>{const u=re({scrollLeft:0,scrollTop:0});function f(C){var x,M,T;const{scrollTop:D}=C;(x=n.value)==null||x.scrollTo(C),(M=i.value)==null||M.scrollToTop(D),(T=s.value)==null||T.scrollToTop(D)}function h(C){u.value=C,f(C)}function _(C){u.value.scrollTop=C,f(p(u))}function y(C){var x,M;u.value.scrollLeft=C,(M=(x=n.value)==null?void 0:x.scrollTo)==null||M.call(x,p(u))}function S(C){var x;h(C),(x=e.onScroll)==null||x.call(e,C)}function b({scrollTop:C}){const{scrollTop:x}=p(u);C!==x&&_(C)}function w(C,x="auto"){var M;(M=n.value)==null||M.scrollToRow(C,x)}return St(()=>p(u).scrollTop,(C,x)=>{C>x&&a()}),{scrollPos:u,scrollTo:h,scrollToLeft:y,scrollToTop:_,scrollToRow:w,onScroll:S,onVerticalScroll:b}},Zme=(e,{mainTableRef:n,leftTableRef:i,rightTableRef:s,onMaybeEndReached:a})=>{const u=Yn(),{emit:f}=u,h=Wr(!1),_=Wr(null),y=re(e.defaultExpandedRowKeys||[]),S=re(-1),b=Wr(null),w=re({}),C=re({}),x=Wr({}),M=Wr({}),T=Wr({}),D=z(()=>Qn(e.estimatedRowHeight));function F(se){var oe;(oe=e.onRowsRendered)==null||oe.call(e,se),se.rowCacheEnd>p(S)&&(S.value=se.rowCacheEnd)}function N({hovered:se,rowKey:oe}){_.value=se?oe:null}function G({expanded:se,rowData:oe,rowIndex:Ie,rowKey:pe}){var ae,ye;const be=[...p(y)],_e=be.indexOf(pe);se?_e===-1&&be.push(pe):_e>-1&&be.splice(_e,1),y.value=be,f("update:expandedRowKeys",be),(ae=e.onRowExpand)==null||ae.call(e,{expanded:se,rowData:oe,rowIndex:Ie,rowKey:pe}),(ye=e.onExpandedRowsChange)==null||ye.call(e,be)}const U=As(()=>{var se,oe,Ie,pe;h.value=!0,w.value={...p(w),...p(C)},$(p(b),!1),C.value={},b.value=null,(se=n.value)==null||se.forceUpdate(),(oe=i.value)==null||oe.forceUpdate(),(Ie=s.value)==null||Ie.forceUpdate(),(pe=u.proxy)==null||pe.$forceUpdate(),h.value=!1},0);function $(se,oe=!1){!p(D)||[n,i,s].forEach(Ie=>{const pe=p(Ie);pe&&pe.resetAfterRowIndex(se,oe)})}function de(se,oe,Ie){const pe=p(b);(pe===null||pe>Ie)&&(b.value=Ie),C.value[se]=oe}function ee({rowKey:se,height:oe,rowIndex:Ie},pe){pe?pe===iD.RIGHT?T.value[se]=oe:x.value[se]=oe:M.value[se]=oe;const ae=Math.max(...[x,T,M].map(ye=>ye.value[se]||0));p(w)[se]!==ae&&(de(se,ae,Ie),U())}return St(S,()=>a()),{hoveringRowKey:_,expandedRowKeys:y,lastRenderedRowIndex:S,isDynamic:D,isResetting:h,rowHeights:w,resetAfterIndex:$,onRowExpanded:G,onRowHovered:N,onRowsRendered:F,onRowHeightChange:ee}},ege=(e,{expandedRowKeys:n,lastRenderedRowIndex:i,resetAfterIndex:s})=>{const a=re({}),u=z(()=>{const h={},{data:_,rowKey:y}=e,S=p(n);if(!S||!S.length)return _;const b=[],w=new Set;S.forEach(x=>w.add(x));let C=_.slice();for(C.forEach(x=>h[x[y]]=0);C.length>0;){const x=C.shift();b.push(x),w.has(x[y])&&Array.isArray(x.children)&&x.children.length>0&&(C=[...x.children,...C],x.children.forEach(M=>h[M[y]]=h[x[y]]+1))}return a.value=h,b}),f=z(()=>{const{data:h,expandColumnKey:_}=e;return _?p(u):h});return St(f,(h,_)=>{h!==_&&(i.value=-1,s(0,!0))}),{data:f,depthMap:a}},tge=(e,n)=>e+n,ag=e=>sn(e)?e.reduce(tge,0):e,fu=(e,n,i={})=>Tn(e)?e(n):e!=null?e:i,Gl=e=>(["width","maxWidth","minWidth","height"].forEach(n=>{e[n]=wi(e[n])}),e),sD=e=>Zr(e)?n=>An(e,n):e,nge=(e,{columnsTotalWidth:n,data:i,fixedColumnsOnLeft:s,fixedColumnsOnRight:a})=>{const u=z(()=>{const{fixed:N,width:G,vScrollbarSize:U}=e,$=G-U;return N?Math.max(Math.round(p(n)),$):$}),f=z(()=>p(u)+(e.fixed?e.vScrollbarSize:0)),h=z(()=>{const{height:N=0,maxHeight:G=0,footerHeight:U,hScrollbarSize:$}=e;if(G>0){const de=p(x),ee=p(_),oe=p(C)+de+ee+$;return Math.min(oe,G-U)}return N-U}),_=z(()=>{const{rowHeight:N,estimatedRowHeight:G}=e,U=p(i);return Qn(G)?U.length*G:U.length*N}),y=z(()=>{const{maxHeight:N}=e,G=p(h);if(Qn(N)&&N>0)return G;const U=p(_)+p(C)+p(x);return Math.min(G,U)}),S=N=>N.width,b=z(()=>ag(p(s).map(S))),w=z(()=>ag(p(a).map(S))),C=z(()=>ag(e.headerHeight)),x=z(()=>{var N;return(((N=e.fixedData)==null?void 0:N.length)||0)*e.rowHeight}),M=z(()=>p(h)-p(C)-p(x)),T=z(()=>{const{style:N={},height:G,width:U}=e;return Gl({...N,height:G,width:U})}),D=z(()=>Gl({height:e.footerHeight})),F=z(()=>({top:wi(p(C)),bottom:wi(e.footerHeight),width:wi(e.width)}));return{bodyWidth:u,fixedTableHeight:y,mainTableHeight:h,leftTableWidth:b,rightTableWidth:w,headerWidth:f,rowsHeight:_,windowHeight:M,footerHeight:D,emptyStyle:F,rootStyle:T,headerHeight:C}},rge=e=>{const n=re(),i=re(0),s=re(0);let a;return jn(()=>{a=as(n,([u])=>{const{width:f,height:h}=u.contentRect,{paddingLeft:_,paddingRight:y,paddingTop:S,paddingBottom:b}=getComputedStyle(u.target),w=Number.parseInt(_)||0,C=Number.parseInt(y)||0,x=Number.parseInt(S)||0,M=Number.parseInt(b)||0;i.value=f-w-C,s.value=h-x-M}).stop}),di(()=>{a==null||a()}),St([i,s],([u,f])=>{var h;(h=e.onResize)==null||h.call(e,{width:u,height:f})}),{sizer:n,width:i,height:s}};function ige(e){const n=re(),i=re(),s=re(),{columns:a,columnsStyles:u,columnsTotalWidth:f,fixedColumnsOnLeft:h,fixedColumnsOnRight:_,hasFixedColumns:y,mainColumns:S,onColumnSorted:b}=Yme(e,si(e,"columns"),si(e,"fixed")),{scrollTo:w,scrollToLeft:C,scrollToTop:x,scrollToRow:M,onScroll:T,onVerticalScroll:D,scrollPos:F}=Jme(e,{mainTableRef:n,leftTableRef:i,rightTableRef:s,onMaybeEndReached:Ne}),{expandedRowKeys:N,hoveringRowKey:G,lastRenderedRowIndex:U,isDynamic:$,isResetting:de,rowHeights:ee,resetAfterIndex:se,onRowExpanded:oe,onRowHeightChange:Ie,onRowHovered:pe,onRowsRendered:ae}=Zme(e,{mainTableRef:n,leftTableRef:i,rightTableRef:s,onMaybeEndReached:Ne}),{data:ye,depthMap:be}=ege(e,{expandedRowKeys:N,lastRenderedRowIndex:U,resetAfterIndex:se}),{bodyWidth:_e,fixedTableHeight:ie,mainTableHeight:fe,leftTableWidth:le,rightTableWidth:ke,headerWidth:ze,rowsHeight:Te,windowHeight:Xe,footerHeight:_t,emptyStyle:wt,rootStyle:xt,headerHeight:it}=nge(e,{columnsTotalWidth:f,data:ye,fixedColumnsOnLeft:h,fixedColumnsOnRight:_}),je=Wr(!1),ot=re(),At=z(()=>{const $e=p(ye).length===0;return sn(e.fixedData)?e.fixedData.length===0&&$e:$e});function on($e){const{estimatedRowHeight:ft,rowHeight:Tt,rowKey:Bt}=e;return ft?p(ee)[p(ye)[$e][Bt]]||ft:Tt}function Ne(){const{onEndReached:$e}=e;if(!$e)return;const{scrollTop:ft}=p(F),Tt=p(Te),Bt=p(Xe),ct=Tt-(ft+Bt)+e.hScrollbarSize;p(U)>=0&&Tt===ft+p(fe)-p(it)&&$e(ct)}return St(()=>e.expandedRowKeys,$e=>N.value=$e,{deep:!0}),{columns:a,containerRef:ot,mainTableRef:n,leftTableRef:i,rightTableRef:s,isDynamic:$,isResetting:de,isScrolling:je,hoveringRowKey:G,hasFixedColumns:y,columnsStyles:u,columnsTotalWidth:f,data:ye,expandedRowKeys:N,depthMap:be,fixedColumnsOnLeft:h,fixedColumnsOnRight:_,mainColumns:S,bodyWidth:_e,emptyStyle:wt,rootStyle:xt,headerWidth:ze,footerHeight:_t,mainTableHeight:fe,fixedTableHeight:ie,leftTableWidth:le,rightTableWidth:ke,showEmpty:At,getRowHeight:on,onColumnSorted:b,onRowHovered:pe,onRowExpanded:oe,onRowsRendered:ae,onRowHeightChange:Ie,scrollTo:w,scrollToLeft:C,scrollToTop:x,scrollToRow:M,onScroll:T,onVerticalScroll:D}}const y1=Symbol("tableV2"),oD=String,cp={type:nt(Array),required:!0},b1={type:nt(Array)},aD={...b1,required:!0},sge=String,IM={type:nt(Array),default:()=>Jr([])},zc={type:Number,required:!0},lD={type:nt([String,Number,Symbol]),default:"id"},MM={type:nt(Object)},Jc=Xt({class:String,columns:cp,columnsStyles:{type:nt(Object),required:!0},depth:Number,expandColumnKey:sge,estimatedRowHeight:{...iu.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:nt(Function)},onRowHover:{type:nt(Function)},onRowHeightChange:{type:nt(Function)},rowData:{type:nt(Object),required:!0},rowEventHandlers:{type:nt(Object)},rowIndex:{type:Number,required:!0},rowKey:lD,style:{type:nt(Object)}}),d0={type:Number,required:!0},S1=Xt({class:String,columns:cp,fixedHeaderData:{type:nt(Array)},headerData:{type:nt(Array),required:!0},headerHeight:{type:nt([Number,Array]),default:50},rowWidth:d0,rowHeight:{type:Number,default:50},height:d0,width:d0}),lg=Xt({columns:cp,data:aD,fixedData:b1,estimatedRowHeight:Jc.estimatedRowHeight,width:zc,height:zc,headerWidth:zc,headerHeight:S1.headerHeight,bodyWidth:zc,rowHeight:zc,cache:DN.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:iu.scrollbarAlwaysOn,scrollbarStartGap:iu.scrollbarStartGap,scrollbarEndGap:iu.scrollbarEndGap,class:oD,style:MM,containerStyle:MM,getRowHeight:{type:nt(Function),required:!0},rowKey:Jc.rowKey,onRowsRendered:{type:nt(Function)},onScroll:{type:nt(Function)}}),oge=Xt({cache:lg.cache,estimatedRowHeight:Jc.estimatedRowHeight,rowKey:lD,headerClass:{type:nt([String,Function])},headerProps:{type:nt([Object,Function])},headerCellProps:{type:nt([Object,Function])},headerHeight:S1.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:nt([String,Function])},rowProps:{type:nt([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:nt([Object,Function])},columns:cp,data:aD,dataGetter:{type:nt(Function)},fixedData:b1,expandColumnKey:Jc.expandColumnKey,expandedRowKeys:IM,defaultExpandedRowKeys:IM,class:oD,fixed:Boolean,style:{type:nt(Object)},width:zc,height:zc,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:iu.hScrollbarSize,vScrollbarSize:iu.vScrollbarSize,scrollbarAlwaysOn:LN.alwaysOn,sortBy:{type:nt(Object),default:()=>({})},sortState:{type:nt(Object),default:void 0},onColumnSort:{type:nt(Function)},onExpandedRowsChange:{type:nt(Function)},onEndReached:{type:nt(Function)},onRowExpand:Jc.onRowExpand,onScroll:lg.onScroll,onRowsRendered:lg.onRowsRendered,rowEventHandlers:Jc.rowEventHandlers}),E1=(e,{slots:n})=>{var i;const{cellData:s,style:a}=e,u=((i=s==null?void 0:s.toString)==null?void 0:i.call(s))||"";return Re("div",{class:e.class,title:u,style:a},[n.default?n.default(e):u])};E1.displayName="ElTableV2Cell";E1.inheritAttrs=!1;const w1=(e,{slots:n})=>{var i,s;return n.default?n.default(e):Re("div",{class:e.class,title:(i=e.column)==null?void 0:i.title},[(s=e.column)==null?void 0:s.title])};w1.displayName="ElTableV2HeaderCell";w1.inheritAttrs=!1;const age=Xt({class:String,columns:cp,columnsStyles:{type:nt(Object),required:!0},headerIndex:Number,style:{type:nt(Object)}}),lge=Ge({name:"ElTableV2HeaderRow",props:age,setup(e,{slots:n}){return()=>{const{columns:i,columnsStyles:s,headerIndex:a,style:u}=e;let f=i.map((h,_)=>n.cell({columns:i,column:h,columnIndex:_,headerIndex:a,style:s[h.key]}));return n.header&&(f=n.header({cells:f.map(h=>sn(h)&&h.length===1?h[0]:h),columns:i,headerIndex:a})),Re("div",{class:e.class,style:u},[f])}}}),cge="ElTableV2Header",uge=Ge({name:cge,props:S1,setup(e,{slots:n,expose:i}){const s=bt("table-v2"),a=re(),u=z(()=>Gl({width:e.width,height:e.height})),f=z(()=>Gl({width:e.rowWidth,height:e.height})),h=z(()=>Dd(p(e.headerHeight))),_=b=>{const w=p(a);dn(()=>{w!=null&&w.scroll&&w.scroll({left:b})})},y=()=>{const b=s.e("fixed-header-row"),{columns:w,fixedHeaderData:C,rowHeight:x}=e;return C==null?void 0:C.map((M,T)=>{var D;const F=Gl({height:x,width:"100%"});return(D=n.fixed)==null?void 0:D.call(n,{class:b,columns:w,rowData:M,rowIndex:-(T+1),style:F})})},S=()=>{const b=s.e("dynamic-header-row"),{columns:w}=e;return p(h).map((C,x)=>{var M;const T=Gl({width:"100%",height:C});return(M=n.dynamic)==null?void 0:M.call(n,{class:b,columns:w,headerIndex:x,style:T})})};return i({scrollToLeft:_}),()=>{if(!(e.height<=0))return Re("div",{ref:a,class:e.class,style:p(u)},[Re("div",{style:p(f),class:s.e("header")},[S(),y()])])}}}),dge=e=>{const{isScrolling:n}=hn(y1),i=re(!1),s=re(),a=z(()=>Qn(e.estimatedRowHeight)&&e.rowIndex>=0),u=(_=!1)=>{const y=p(s);if(!y)return;const{columns:S,onRowHeightChange:b,rowKey:w,rowIndex:C,style:x}=e,{height:M}=y.getBoundingClientRect();i.value=!0,dn(()=>{if(_||M!==Number.parseInt(x.height)){const T=S[0],D=(T==null?void 0:T.placeholderSign)===Wh;b==null||b({rowKey:w,height:M,rowIndex:C},T&&!D&&T.fixed)}})},f=z(()=>{const{rowData:_,rowIndex:y,rowKey:S,onRowHover:b}=e,w=e.rowEventHandlers||{},C={};return Object.entries(w).forEach(([x,M])=>{Tn(M)&&(C[x]=T=>{M({event:T,rowData:_,rowIndex:y,rowKey:S})})}),b&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:x,hovered:M})=>{const T=C[x];C[x]=D=>{b({event:D,hovered:M,rowData:_,rowIndex:y,rowKey:S}),T==null||T(D)}}),C}),h=_=>{const{onRowExpand:y,rowData:S,rowIndex:b,rowKey:w}=e;y==null||y({expanded:_,rowData:S,rowIndex:b,rowKey:w})};return jn(()=>{p(a)&&u(!0)}),{isScrolling:n,measurable:a,measured:i,rowRef:s,eventHandlers:f,onExpand:h}},fge="ElTableV2TableRow",hge=Ge({name:fge,props:Jc,setup(e,{expose:n,slots:i,attrs:s}){const{eventHandlers:a,isScrolling:u,measurable:f,measured:h,rowRef:_,onExpand:y}=dge(e);return n({onExpand:y}),()=>{const{columns:S,columnsStyles:b,expandColumnKey:w,depth:C,rowData:x,rowIndex:M,style:T}=e;let D=S.map((F,N)=>{const G=sn(x.children)&&x.children.length>0&&F.key===w;return i.cell({column:F,columns:S,columnIndex:N,depth:C,style:b[F.key],rowData:x,rowIndex:M,isScrolling:p(u),expandIconProps:G?{rowData:x,rowIndex:M,onExpand:y}:void 0})});if(i.row&&(D=i.row({cells:D.map(F=>sn(F)&&F.length===1?F[0]:F),style:T,columns:S,depth:C,rowData:x,rowIndex:M,isScrolling:p(u)})),p(f)){const{height:F,...N}=T||{},G=p(h);return Re("div",nr({ref:_,class:e.class,style:G?T:N},s,p(a)),[D])}return Re("div",nr(s,{ref:_,class:e.class,style:T},p(a)),[D])}}}),pge=e=>{const{sortOrder:n}=e;return Re(un,{size:14,class:e.class},{default:()=>[n===zh.ASC?Re(rz,null,null):Re(YX,null,null)]})},mge=e=>{const{expanded:n,expandable:i,onExpand:s,style:a,size:u}=e,f={onClick:i?()=>s(!n):void 0,class:e.class};return Re(un,nr(f,{size:u,style:a}),{default:()=>[Re(vs,null,null)]})},gge="ElTableV2Grid",vge=e=>{const n=re(),i=re(),s=z(()=>{const{data:M,rowHeight:T,estimatedRowHeight:D}=e;if(!D)return M.length*T}),a=z(()=>{const{fixedData:M,rowHeight:T}=e;return((M==null?void 0:M.length)||0)*T}),u=z(()=>ag(e.headerHeight)),f=z(()=>{const{height:M}=e;return Math.max(0,M-p(u)-p(a))}),h=z(()=>p(u)+p(a)>0),_=({data:M,rowIndex:T})=>M[T][e.rowKey];function y({rowCacheStart:M,rowCacheEnd:T,rowVisibleStart:D,rowVisibleEnd:F}){var N;(N=e.onRowsRendered)==null||N.call(e,{rowCacheStart:M,rowCacheEnd:T,rowVisibleStart:D,rowVisibleEnd:F})}function S(M,T){var D;(D=i.value)==null||D.resetAfterRowIndex(M,T)}function b(M,T){const D=p(n),F=p(i);!D||!F||(tr(M)?(D.scrollToLeft(M.scrollLeft),F.scrollTo(M)):(D.scrollToLeft(M),F.scrollTo({scrollLeft:M,scrollTop:T})))}function w(M){var T;(T=p(i))==null||T.scrollTo({scrollTop:M})}function C(M,T){var D;(D=p(i))==null||D.scrollToItem(M,1,T)}function x(){var M,T;(M=p(i))==null||M.$forceUpdate(),(T=p(n))==null||T.$forceUpdate()}return{bodyRef:i,forceUpdate:x,fixedRowHeight:a,gridHeight:f,hasHeader:h,headerHeight:u,headerRef:n,totalHeight:s,itemKey:_,onItemRendered:y,resetAfterRowIndex:S,scrollTo:b,scrollToTop:w,scrollToRow:C}},C1=Ge({name:gge,props:lg,setup(e,{slots:n,expose:i}){const{ns:s}=hn(y1),{bodyRef:a,fixedRowHeight:u,gridHeight:f,hasHeader:h,headerRef:_,headerHeight:y,totalHeight:S,forceUpdate:b,itemKey:w,onItemRendered:C,resetAfterRowIndex:x,scrollTo:M,scrollToTop:T,scrollToRow:D}=vge(e);i({forceUpdate:b,totalHeight:S,scrollTo:M,scrollToTop:T,scrollToRow:D,resetAfterRowIndex:x});const F=()=>e.bodyWidth;return()=>{const{cache:N,columns:G,data:U,fixedData:$,useIsScrolling:de,scrollbarAlwaysOn:ee,scrollbarEndGap:se,scrollbarStartGap:oe,style:Ie,rowHeight:pe,bodyWidth:ae,estimatedRowHeight:ye,headerWidth:be,height:_e,width:ie,getRowHeight:fe,onScroll:le}=e,ke=Qn(ye),ze=ke?ohe:nhe,Te=p(y);return Re("div",{role:"table",class:[s.e("table"),e.class],style:Ie},[Re(ze,{ref:a,data:U,useIsScrolling:de,itemKey:w,columnCache:0,columnWidth:ke?F:ae,totalColumn:1,totalRow:U.length,rowCache:N,rowHeight:ke?fe:pe,width:ie,height:p(f),class:s.e("body"),scrollbarStartGap:oe,scrollbarEndGap:se,scrollbarAlwaysOn:ee,onScroll:le,onItemRendered:C,perfMode:!1},{default:Xe=>{var _t;const wt=U[Xe.rowIndex];return(_t=n.row)==null?void 0:_t.call(n,{...Xe,columns:G,rowData:wt})}}),p(h)&&Re(uge,{ref:_,class:s.e("header-wrapper"),columns:G,headerData:U,headerHeight:e.headerHeight,fixedHeaderData:$,rowWidth:be,rowHeight:pe,width:ie,height:Math.min(Te+p(u),_e)},{dynamic:n.header,fixed:n.row})])}}});function _ge(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Zr(e)}const Age=(e,{slots:n})=>{const{mainTableRef:i,...s}=e;return Re(C1,nr({ref:i},s),_ge(n)?n:{default:()=>[n]})};function yge(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Zr(e)}const bge=(e,{slots:n})=>{if(!e.columns.length)return;const{leftTableRef:i,...s}=e;return Re(C1,nr({ref:i},s),yge(n)?n:{default:()=>[n]})};function Sge(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Zr(e)}const Ege=(e,{slots:n})=>{if(!e.columns.length)return;const{rightTableRef:i,...s}=e;return Re(C1,nr({ref:i},s),Sge(n)?n:{default:()=>[n]})};function wge(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Zr(e)}const Cge=(e,{slots:n})=>{const{columns:i,columnsStyles:s,depthMap:a,expandColumnKey:u,expandedRowKeys:f,estimatedRowHeight:h,hasFixedColumns:_,hoveringRowKey:y,rowData:S,rowIndex:b,style:w,isScrolling:C,rowProps:x,rowClass:M,rowKey:T,rowEventHandlers:D,ns:F,onRowHovered:N,onRowExpanded:G}=e,U=fu(M,{columns:i,rowData:S,rowIndex:b},""),$=fu(x,{columns:i,rowData:S,rowIndex:b}),de=S[T],ee=a[de]||0,se=Boolean(u),oe=b<0,Ie=[F.e("row"),U,{[F.e(`row-depth-${ee}`)]:se&&b>=0,[F.is("expanded")]:se&&f.includes(de),[F.is("hovered")]:!C&&de===y,[F.is("fixed")]:!ee&&oe,[F.is("customized")]:Boolean(n.row)}],pe=_?N:void 0,ae={...$,columns:i,columnsStyles:s,class:Ie,depth:ee,expandColumnKey:u,estimatedRowHeight:oe?void 0:h,isScrolling:C,rowIndex:b,rowData:S,rowKey:de,rowEventHandlers:D,style:w};return Re(hge,nr(ae,{onRowHover:pe,onRowExpand:G}),wge(n)?n:{default:()=>[n]})},Ey=({columns:e,column:n,columnIndex:i,depth:s,expandIconProps:a,isScrolling:u,rowData:f,rowIndex:h,style:_,expandedRowKeys:y,ns:S,cellProps:b,expandColumnKey:w,indentSize:C,iconSize:x,rowKey:M},{slots:T})=>{const D=Gl(_);if(n.placeholderSign===Wh)return Re("div",{class:S.em("row-cell","placeholder"),style:D},null);const{cellRenderer:F,dataKey:N,dataGetter:G}=n,$=sD(F)||T.default||(_e=>Re(E1,_e,null)),de=Tn(G)?G({columns:e,column:n,columnIndex:i,rowData:f,rowIndex:h}):Yr(f,N!=null?N:""),ee=fu(b,{cellData:de,columns:e,column:n,columnIndex:i,rowIndex:h,rowData:f}),se={class:S.e("cell-text"),columns:e,column:n,columnIndex:i,cellData:de,isScrolling:u,rowData:f,rowIndex:h},oe=$(se),Ie=[S.e("row-cell"),n.align===$h.CENTER&&S.is("align-center"),n.align===$h.RIGHT&&S.is("align-right")],pe=h>=0&&n.key===w,ae=h>=0&&y.includes(f[M]);let ye;const be=`margin-inline-start: ${s*C}px;`;return pe&&(tr(a)?ye=Re(mge,nr(a,{class:[S.e("expand-icon"),S.is("expanded",ae)],size:x,expanded:ae,style:be,expandable:!0}),null):ye=Re("div",{style:[be,`width: ${x}px; height: ${x}px;`].join(" ")},null)),Re("div",nr({class:Ie,style:D},ee),[ye,oe])};Ey.inheritAttrs=!1;function Ige(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Zr(e)}const Mge=({columns:e,columnsStyles:n,headerIndex:i,style:s,headerClass:a,headerProps:u,ns:f},{slots:h})=>{const _={columns:e,headerIndex:i},y=[f.e("header-row"),fu(a,_,""),{[f.is("customized")]:Boolean(h.header)}],S={...fu(u,_),columnsStyles:n,class:y,columns:e,headerIndex:i,style:s};return Re(lge,S,Ige(h)?h:{default:()=>[h]})},xM=(e,{slots:n})=>{const{column:i,ns:s,style:a,onColumnSorted:u}=e,f=Gl(a);if(i.placeholderSign===Wh)return Re("div",{class:s.em("header-row-cell","placeholder"),style:f},null);const{headerCellRenderer:h,headerClass:_,sortable:y}=i,S={...e,class:s.e("header-cell-text")},w=(sD(h)||n.default||(G=>Re(w1,G,null)))(S),{sortBy:C,sortState:x,headerCellProps:M}=e;let T,D;if(x){const G=x[i.key];T=Boolean(Sy[G]),D=T?G:zh.ASC}else T=i.key===C.key,D=T?C.order:zh.ASC;const F=[s.e("header-cell"),fu(_,e,""),i.align===$h.CENTER&&s.is("align-center"),i.align===$h.RIGHT&&s.is("align-right"),y&&s.is("sortable")],N={...fu(M,e),onClick:i.sortable?u:void 0,class:F,style:f,["data-key"]:i.key};return Re("div",N,[w,y&&Re(pge,{class:[s.e("sort-icon"),T&&s.is("sorting")],sortOrder:D},null)])},cD=(e,{slots:n})=>{var i;return Re("div",{class:e.class,style:e.style},[(i=n.default)==null?void 0:i.call(n)])};cD.displayName="ElTableV2Footer";const uD=(e,{slots:n})=>Re("div",{class:e.class,style:e.style},[n.default?n.default():Re(vN,null,null)]);uD.displayName="ElTableV2Empty";const dD=(e,{slots:n})=>{var i;return Re("div",{class:e.class,style:e.style},[(i=n.default)==null?void 0:i.call(n)])};dD.displayName="ElTableV2Overlay";function Zf(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Zr(e)}const xge="ElTableV2",Rge=Ge({name:xge,props:oge,setup(e,{slots:n,expose:i}){const s=bt("table-v2"),{columnsStyles:a,fixedColumnsOnLeft:u,fixedColumnsOnRight:f,mainColumns:h,mainTableHeight:_,fixedTableHeight:y,leftTableWidth:S,rightTableWidth:b,data:w,depthMap:C,expandedRowKeys:x,hasFixedColumns:M,hoveringRowKey:T,mainTableRef:D,leftTableRef:F,rightTableRef:N,isDynamic:G,isResetting:U,isScrolling:$,bodyWidth:de,emptyStyle:ee,rootStyle:se,headerWidth:oe,footerHeight:Ie,showEmpty:pe,scrollTo:ae,scrollToLeft:ye,scrollToTop:be,scrollToRow:_e,getRowHeight:ie,onColumnSorted:fe,onRowHeightChange:le,onRowHovered:ke,onRowExpanded:ze,onRowsRendered:Te,onScroll:Xe,onVerticalScroll:_t}=ige(e);return i({scrollTo:ae,scrollToLeft:ye,scrollToTop:be,scrollToRow:_e}),ir(y1,{ns:s,isResetting:U,hoveringRowKey:T,isScrolling:$}),()=>{const{cache:wt,cellProps:xt,estimatedRowHeight:it,expandColumnKey:je,fixedData:ot,headerHeight:At,headerClass:on,headerProps:Ne,headerCellProps:$e,sortBy:ft,sortState:Tt,rowHeight:Bt,rowClass:ct,rowEventHandlers:Lt,rowKey:gt,rowProps:xe,scrollbarAlwaysOn:qe,indentSize:Dt,iconSize:zt,useIsScrolling:en,vScrollbarSize:gn,width:En}=e,Gn=p(w),pt={cache:wt,class:s.e("main"),columns:p(h),data:Gn,fixedData:ot,estimatedRowHeight:it,bodyWidth:p(de),headerHeight:At,headerWidth:p(oe),height:p(_),mainTableRef:D,rowKey:gt,rowHeight:Bt,scrollbarAlwaysOn:qe,scrollbarStartGap:2,scrollbarEndGap:gn,useIsScrolling:en,width:En,getRowHeight:ie,onRowsRendered:Te,onScroll:Xe},yt=p(S),tn=p(y),Bn={cache:wt,class:s.e("left"),columns:p(u),data:Gn,estimatedRowHeight:it,leftTableRef:F,rowHeight:Bt,bodyWidth:yt,headerWidth:yt,headerHeight:At,height:tn,rowKey:gt,scrollbarAlwaysOn:qe,scrollbarStartGap:2,scrollbarEndGap:gn,useIsScrolling:en,width:yt,getRowHeight:ie,onScroll:_t},Qe=p(b)+gn,Et={cache:wt,class:s.e("right"),columns:p(f),data:Gn,estimatedRowHeight:it,rightTableRef:N,rowHeight:Bt,bodyWidth:Qe,headerWidth:Qe,headerHeight:At,height:tn,rowKey:gt,scrollbarAlwaysOn:qe,scrollbarStartGap:2,scrollbarEndGap:gn,width:Qe,style:`--${p(s.namespace)}-table-scrollbar-size: ${gn}px`,useIsScrolling:en,getRowHeight:ie,onScroll:_t},Mt=p(a),Wn={ns:s,depthMap:p(C),columnsStyles:Mt,expandColumnKey:je,expandedRowKeys:p(x),estimatedRowHeight:it,hasFixedColumns:p(M),hoveringRowKey:p(T),rowProps:xe,rowClass:ct,rowKey:gt,rowEventHandlers:Lt,onRowHovered:ke,onRowExpanded:ze,onRowHeightChange:le},Ir={cellProps:xt,expandColumnKey:je,indentSize:Dt,iconSize:zt,rowKey:gt,expandedRowKeys:p(x),ns:s},pr={ns:s,headerClass:on,headerProps:Ne,columnsStyles:Mt},oi={ns:s,sortBy:ft,sortState:Tt,headerCellProps:$e,onColumnSorted:fe},zn={row:wn=>Re(Cge,nr(wn,Wn),{row:n.row,cell:er=>{let xr;return n.cell?Re(Ey,nr(er,Ir,{style:Mt[er.column.key]}),Zf(xr=n.cell(er))?xr:{default:()=>[xr]}):Re(Ey,nr(er,Ir,{style:Mt[er.column.key]}),null)}}),header:wn=>Re(Mge,nr(wn,pr),{header:n.header,cell:er=>{let xr;return n["header-cell"]?Re(xM,nr(er,oi,{style:Mt[er.column.key]}),Zf(xr=n["header-cell"](er))?xr:{default:()=>[xr]}):Re(xM,nr(er,oi,{style:Mt[er.column.key]}),null)}})},Mr=[e.class,s.b(),s.e("root"),{[s.is("dynamic")]:p(G)}],Ot={class:s.e("footer"),style:p(Ie)};return Re("div",{class:Mr,style:p(se)},[Re(Age,pt,Zf(zn)?zn:{default:()=>[zn]}),Re(bge,Bn,Zf(zn)?zn:{default:()=>[zn]}),Re(Ege,Et,Zf(zn)?zn:{default:()=>[zn]}),n.footer&&Re(cD,Ot,{default:n.footer}),p(pe)&&Re(uD,{class:s.e("empty"),style:p(ee)},{default:n.empty}),n.overlay&&Re(dD,{class:s.e("overlay")},{default:n.overlay})])}}}),Tge=Xt({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:nt(Function)}}),Pge=Ge({name:"ElAutoResizer",props:Tge,setup(e,{slots:n}){const i=bt("auto-resizer"),{height:s,width:a,sizer:u}=rge(e),f={width:"100%",height:"100%"};return()=>{var h;return Re("div",{ref:u,class:i.b(),style:f},[(h=n.default)==null?void 0:h.call(n,{height:s.value,width:a.value})])}}}),Nge=Jn(Rge),Dge=Jn(Pge),Bge=Xt({tabs:{type:nt(Array),default:()=>Jr([])}}),fD="ElTabBar",kge=Ge({name:fD}),Lge=Ge({...kge,props:Bge,setup(e,{expose:n}){const i=e,s=Yn(),a=hn(fv);a||Ri(fD,"<el-tabs><el-tab-bar /></el-tabs>");const u=bt("tabs"),f=re(),h=re(),_=()=>{let S=0,b=0;const w=["top","bottom"].includes(a.props.tabPosition)?"width":"height",C=w==="width"?"x":"y";return i.tabs.every(x=>{var M,T,D,F;const N=(T=(M=s.parent)==null?void 0:M.refs)==null?void 0:T[`tab-${x.uid}`];if(!N)return!1;if(!x.active)return!0;b=N[`client${co(w)}`];const G=C==="x"?"left":"top";S=N[`offset${co(G)}`]-((F=(D=N.parentElement)==null?void 0:D[`offset${co(G)}`])!=null?F:0);const U=N.closest(".is-scrollable");if(U){const de=window.getComputedStyle(U);S+=Number.parseFloat(de[`padding${co(G)}`])}const $=window.getComputedStyle(N);return w==="width"&&(i.tabs.length>1&&(b-=Number.parseFloat($.paddingLeft)+Number.parseFloat($.paddingRight)),S+=Number.parseFloat($.paddingLeft)),!1}),{[w]:`${b}px`,transform:`translate${co(C)}(${S}px)`}},y=()=>h.value=_();return St(()=>i.tabs,async()=>{await dn(),y()},{immediate:!0}),as(f,()=>y()),n({ref:f,update:y}),(S,b)=>(Q(),ve("div",{ref_key:"barRef",ref:f,class:Y([p(u).e("active-bar"),p(u).is(p(a).props.tabPosition)]),style:fn(h.value)},null,6))}});var Oge=Ht(Lge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const Fge=Xt({panes:{type:nt(Array),default:()=>Jr([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Vge={tabClick:(e,n,i)=>i instanceof Event,tabRemove:(e,n)=>n instanceof Event},RM="ElTabNav",Gge=Ge({name:RM,props:Fge,emits:Vge,setup(e,{expose:n,emit:i}){const s=Yn(),a=hn(fv);a||Ri(RM,"<el-tabs><tab-nav /></el-tabs>");const u=bt("tabs"),f=Eq(),h=Dq(),_=re(),y=re(),S=re(),b=re(!1),w=re(0),C=re(!1),x=re(!0),M=z(()=>["top","bottom"].includes(a.props.tabPosition)?"width":"height"),T=z(()=>({transform:`translate${M.value==="width"?"X":"Y"}(-${w.value}px)`})),D=()=>{if(!_.value)return;const ee=_.value[`offset${co(M.value)}`],se=w.value;if(!se)return;const oe=se>ee?se-ee:0;w.value=oe},F=()=>{if(!_.value||!y.value)return;const ee=y.value[`offset${co(M.value)}`],se=_.value[`offset${co(M.value)}`],oe=w.value;if(ee-oe<=se)return;const Ie=ee-oe>se*2?oe+se:ee-se;w.value=Ie},N=async()=>{const ee=y.value;if(!b.value||!S.value||!_.value||!ee)return;await dn();const se=S.value.querySelector(".is-active");if(!se)return;const oe=_.value,Ie=["top","bottom"].includes(a.props.tabPosition),pe=se.getBoundingClientRect(),ae=oe.getBoundingClientRect(),ye=Ie?ee.offsetWidth-ae.width:ee.offsetHeight-ae.height,be=w.value;let _e=be;Ie?(pe.left<ae.left&&(_e=be-(ae.left-pe.left)),pe.right>ae.right&&(_e=be+pe.right-ae.right)):(pe.top<ae.top&&(_e=be-(ae.top-pe.top)),pe.bottom>ae.bottom&&(_e=be+(pe.bottom-ae.bottom))),_e=Math.max(_e,0),w.value=Math.min(_e,ye)},G=()=>{if(!y.value||!_.value)return;const ee=y.value[`offset${co(M.value)}`],se=_.value[`offset${co(M.value)}`],oe=w.value;if(se<ee){const Ie=w.value;b.value=b.value||{},b.value.prev=Ie,b.value.next=Ie+se<ee,ee-Ie<se&&(w.value=ee-se)}else b.value=!1,oe>0&&(w.value=0)},U=ee=>{const se=ee.code,{up:oe,down:Ie,left:pe,right:ae}=_n;if(![oe,Ie,pe,ae].includes(se))return;const ye=Array.from(ee.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),be=ye.indexOf(ee.target);let _e;se===pe||se===oe?be===0?_e=ye.length-1:_e=be-1:be<ye.length-1?_e=be+1:_e=0,ye[_e].focus({preventScroll:!0}),ye[_e].click(),$()},$=()=>{x.value&&(C.value=!0)},de=()=>C.value=!1;return St(f,ee=>{ee==="hidden"?x.value=!1:ee==="visible"&&setTimeout(()=>x.value=!0,50)}),St(h,ee=>{ee?setTimeout(()=>x.value=!0,50):x.value=!1}),as(S,G),jn(()=>setTimeout(()=>N(),0)),rl(()=>G()),n({scrollToActiveTab:N,removeFocus:de}),St(()=>e.panes,()=>s.update(),{flush:"post"}),()=>{const ee=b.value?[Re("span",{class:[u.e("nav-prev"),u.is("disabled",!b.value.prev)],onClick:D},[Re(un,null,{default:()=>[Re(Wl,null,null)]})]),Re("span",{class:[u.e("nav-next"),u.is("disabled",!b.value.next)],onClick:F},[Re(un,null,{default:()=>[Re(vs,null,null)]})])]:null,se=e.panes.map((oe,Ie)=>{var pe,ae,ye,be;const _e=oe.uid,ie=oe.props.disabled,fe=(ae=(pe=oe.props.name)!=null?pe:oe.index)!=null?ae:`${Ie}`,le=!ie&&(oe.isClosable||e.editable);oe.index=`${Ie}`;const ke=le?Re(un,{class:"is-icon-close",onClick:Xe=>i("tabRemove",oe,Xe)},{default:()=>[Re(zo,null,null)]}):null,ze=((be=(ye=oe.slots).label)==null?void 0:be.call(ye))||oe.props.label,Te=!ie&&oe.active?0:-1;return Re("div",{ref:`tab-${_e}`,class:[u.e("item"),u.is(a.props.tabPosition),u.is("active",oe.active),u.is("disabled",ie),u.is("closable",le),u.is("focus",C.value)],id:`tab-${fe}`,key:`tab-${_e}`,"aria-controls":`pane-${fe}`,role:"tab","aria-selected":oe.active,tabindex:Te,onFocus:()=>$(),onBlur:()=>de(),onClick:Xe=>{de(),i("tabClick",oe,fe,Xe)},onKeydown:Xe=>{le&&(Xe.code===_n.delete||Xe.code===_n.backspace)&&i("tabRemove",oe,Xe)}},[ze,ke])});return Re("div",{ref:S,class:[u.e("nav-wrap"),u.is("scrollable",!!b.value),u.is(a.props.tabPosition)]},[ee,Re("div",{class:u.e("nav-scroll"),ref:_},[Re("div",{class:[u.e("nav"),u.is(a.props.tabPosition),u.is("stretch",e.stretch&&["top","bottom"].includes(a.props.tabPosition))],ref:y,style:T.value,role:"tablist",onKeydown:U},[e.type?null:Re(Oge,{tabs:[...e.panes]},null),se])])])}}}),Uge=Xt({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:nt(Function),default:()=>!0},stretch:Boolean}),f0=e=>Dn(e)||Qn(e),Hge={[qn]:e=>f0(e),tabClick:(e,n)=>n instanceof Event,tabChange:e=>f0(e),edit:(e,n)=>["remove","add"].includes(n),tabRemove:e=>f0(e),tabAdd:()=>!0};var Qge=Ge({name:"ElTabs",props:Uge,emits:Hge,setup(e,{emit:n,slots:i,expose:s}){var a,u;const f=bt("tabs"),{children:h,addChild:_,removeChild:y}=xT(Yn(),"ElTabPane"),S=re(),b=re((u=(a=e.modelValue)!=null?a:e.activeName)!=null?u:"0"),w=D=>{b.value=D,n(qn,D),n("tabChange",D)},C=async D=>{var F,N,G;if(!(b.value===D||Xi(D)))try{await((F=e.beforeLeave)==null?void 0:F.call(e,D,b.value))!==!1&&(w(D),(G=(N=S.value)==null?void 0:N.removeFocus)==null||G.call(N))}catch{}},x=(D,F,N)=>{D.props.disabled||(C(F),n("tabClick",D,N))},M=(D,F)=>{D.props.disabled||Xi(D.props.name)||(F.stopPropagation(),n("edit",D.props.name,"remove"),n("tabRemove",D.props.name))},T=()=>{n("edit",void 0,"add"),n("tabAdd")};return jl({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},z(()=>!!e.activeName)),St(()=>e.activeName,D=>C(D)),St(()=>e.modelValue,D=>C(D)),St(b,async()=>{var D;await dn(),(D=S.value)==null||D.scrollToActiveTab()}),ir(fv,{props:e,currentName:b,registerPane:_,unregisterPane:y}),s({currentName:b}),()=>{const D=e.editable||e.addable?Re("span",{class:f.e("new-tab"),tabindex:"0",onClick:T,onKeydown:G=>{G.code===_n.enter&&T()}},[Re(un,{class:f.is("icon-plus")},{default:()=>[Re(cR,null,null)]})]):null,F=Re("div",{class:[f.e("header"),f.is(e.tabPosition)]},[D,Re(Gge,{ref:S,currentName:b.value,editable:e.editable,type:e.type,panes:h.value,stretch:e.stretch,onTabClick:x,onTabRemove:M},null)]),N=Re("div",{class:f.e("content")},[vt(i,"default")]);return Re("div",{class:[f.b(),f.m(e.tabPosition),{[f.m("card")]:e.type==="card",[f.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[F,N]:[N,F]])}}});const Xge=Xt({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),zge=["id","aria-hidden","aria-labelledby"],hD="ElTabPane",$ge=Ge({name:hD}),Wge=Ge({...$ge,props:Xge,setup(e){const n=e,i=Yn(),s=Ki(),a=hn(fv);a||Ri(hD,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const u=bt("tab-pane"),f=re(),h=z(()=>n.closable||a.props.closable),_=GI(()=>{var C;return a.currentName.value===((C=n.name)!=null?C:f.value)}),y=re(_.value),S=z(()=>{var C;return(C=n.name)!=null?C:f.value}),b=GI(()=>!n.lazy||y.value||_.value);St(_,C=>{C&&(y.value=!0)});const w=Tr({uid:i.uid,slots:s,props:n,paneName:S,active:_,index:f,isClosable:h});return jn(()=>{a.registerPane(w)}),hu(()=>{a.unregisterPane(w.uid)}),(C,x)=>p(b)?Hn((Q(),ve("div",{key:0,id:`pane-${p(S)}`,class:Y(p(u).b()),role:"tabpanel","aria-hidden":!p(_),"aria-labelledby":`tab-${p(S)}`},[vt(C.$slots,"default")],10,zge)),[[_r,p(_)]]):Ye("v-if",!0)}});var pD=Ht(Wge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Kge=Jn(Qge,{TabPane:pD}),jge=fi(pD),qge=Xt({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:Ts,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:nt([String,Object]),default:()=>lR},clearIcon:{type:nt([String,Object]),default:()=>rc}}),Ka=e=>{const n=(e||"").split(":");if(n.length>=2){let i=Number.parseInt(n[0],10);const s=Number.parseInt(n[1],10),a=e.toUpperCase();return a.includes("AM")&&i===12?i=0:a.includes("PM")&&i!==12&&(i+=12),{hours:i,minutes:s}}return null},h0=(e,n)=>{const i=Ka(e);if(!i)return-1;const s=Ka(n);if(!s)return-1;const a=i.minutes+i.hours*60,u=s.minutes+s.hours*60;return a===u?0:a>u?1:-1},TM=e=>`${e}`.padStart(2,"0"),ld=e=>`${TM(e.hours)}:${TM(e.minutes)}`,Yge=(e,n)=>{const i=Ka(e);if(!i)return"";const s=Ka(n);if(!s)return"";const a={hours:i.hours,minutes:i.minutes};return a.minutes+=s.minutes,a.hours+=s.hours,a.hours+=Math.floor(a.minutes/60),a.minutes=a.minutes%60,ld(a)},Jge=Ge({name:"ElTimeSelect"}),Zge=Ge({...Jge,props:qge,emits:["change","blur","focus","update:modelValue"],setup(e,{expose:n}){const i=e;Kn.extend(e1);const{Option:s}=du,a=bt("input"),u=re(),f=Jo(),h=z(()=>i.modelValue),_=z(()=>{const T=Ka(i.start);return T?ld(T):null}),y=z(()=>{const T=Ka(i.end);return T?ld(T):null}),S=z(()=>{const T=Ka(i.step);return T?ld(T):null}),b=z(()=>{const T=Ka(i.minTime||"");return T?ld(T):null}),w=z(()=>{const T=Ka(i.maxTime||"");return T?ld(T):null}),C=z(()=>{const T=[];if(i.start&&i.end&&i.step){let D=_.value,F;for(;D&&y.value&&h0(D,y.value)<=0;)F=Kn(D,"HH:mm").format(i.format),T.push({value:F,disabled:h0(D,b.value||"-1:-1")<=0||h0(D,w.value||"100:100")>=0}),D=Yge(D,S.value)}return T});return n({blur:()=>{var T,D;(D=(T=u.value)==null?void 0:T.blur)==null||D.call(T)},focus:()=>{var T,D;(D=(T=u.value)==null?void 0:T.focus)==null||D.call(T)}}),(T,D)=>(Q(),rt(p(du),{ref_key:"select",ref:u,"model-value":p(h),disabled:p(f),clearable:T.clearable,"clear-icon":T.clearIcon,size:T.size,effect:T.effect,placeholder:T.placeholder,"default-first-option":"",filterable:T.editable,"onUpdate:modelValue":D[0]||(D[0]=F=>T.$emit("update:modelValue",F)),onChange:D[1]||(D[1]=F=>T.$emit("change",F)),onBlur:D[2]||(D[2]=F=>T.$emit("blur",F)),onFocus:D[3]||(D[3]=F=>T.$emit("focus",F))},{prefix:Ue(()=>[T.prefixIcon?(Q(),rt(p(un),{key:0,class:Y(p(a).e("prefix-icon"))},{default:Ue(()=>[(Q(),rt(rr(T.prefixIcon)))]),_:1},8,["class"])):Ye("v-if",!0)]),default:Ue(()=>[(Q(!0),ve(mn,null,cr(p(C),F=>(Q(),rt(p(s),{key:F.value,label:F.value,value:F.value,disabled:F.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var cg=Ht(Zge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);cg.install=e=>{e.component(cg.name,cg)};const eve=cg,tve=eve,nve=Ge({name:"ElTimeline",setup(e,{slots:n}){const i=bt("timeline");return ir("timeline",n),()=>An("ul",{class:[i.b()]},[vt(n,"default")])}}),rve=Xt({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:$r},hollow:{type:Boolean,default:!1}}),ive=Ge({name:"ElTimelineItem"}),sve=Ge({...ive,props:rve,setup(e){const n=bt("timeline-item");return(i,s)=>(Q(),ve("li",{class:Y([p(n).b(),{[p(n).e("center")]:i.center}])},[Ce("div",{class:Y(p(n).e("tail"))},null,2),i.$slots.dot?Ye("v-if",!0):(Q(),ve("div",{key:0,class:Y([p(n).e("node"),p(n).em("node",i.size||""),p(n).em("node",i.type||""),p(n).is("hollow",i.hollow)]),style:fn({backgroundColor:i.color})},[i.icon?(Q(),rt(p(un),{key:0,class:Y(p(n).e("icon"))},{default:Ue(()=>[(Q(),rt(rr(i.icon)))]),_:1},8,["class"])):Ye("v-if",!0)],6)),i.$slots.dot?(Q(),ve("div",{key:1,class:Y(p(n).e("dot"))},[vt(i.$slots,"dot")],2)):Ye("v-if",!0),Ce("div",{class:Y(p(n).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?(Q(),ve("div",{key:0,class:Y([p(n).e("timestamp"),p(n).is("top")])},Qt(i.timestamp),3)):Ye("v-if",!0),Ce("div",{class:Y(p(n).e("content"))},[vt(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?(Q(),ve("div",{key:1,class:Y([p(n).e("timestamp"),p(n).is("bottom")])},Qt(i.timestamp),3)):Ye("v-if",!0)],2)],2))}});var mD=Ht(sve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const ove=Jn(nve,{TimelineItem:mD}),ave=fi(mD),gD=Xt({nowrap:Boolean});var vD=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(vD||{});const lve=Object.values(vD),I1=Xt({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:nt(Object),default:null}}),cve=Xt({side:{type:nt(String),values:lve,required:!0}}),uve=["absolute","fixed"],dve=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],M1=Xt({ariaLabel:String,arrowPadding:{type:nt(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:nt(String),values:dve,default:"bottom"},reference:{type:nt(Object),default:null},offset:{type:Number,default:8},strategy:{type:nt(String),values:uve,default:"absolute"},showArrow:{type:Boolean,default:!1}}),x1=Xt({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:nt(Function)},"onUpdate:open":{type:nt(Function)}}),rd={type:nt(Function)},R1=Xt({onBlur:rd,onClick:rd,onFocus:rd,onMouseDown:rd,onMouseEnter:rd,onMouseLeave:rd}),fve=Xt({...x1,...I1,...R1,...M1,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:nt(Object),default:null},teleported:Boolean,to:{type:nt(String),default:"body"}}),hve=Ge({name:"ElTooltipV2Root"}),pve=Ge({...hve,props:x1,setup(e,{expose:n}){const i=e,s=re(i.defaultOpen),a=re(null),u=z({get:()=>Oq(i.open)?s.value:i.open,set:T=>{var D;s.value=T,(D=i["onUpdate:open"])==null||D.call(i,T)}}),f=z(()=>Qn(i.delayDuration)&&i.delayDuration>0),{start:h,stop:_}=cu(()=>{u.value=!0},z(()=>i.delayDuration),{immediate:!1}),y=bt("tooltip-v2"),S=Wo(),b=()=>{_(),u.value=!0},w=()=>{p(f)?h():b()},C=b,x=()=>{_(),u.value=!1};return St(u,T=>{var D;T&&(document.dispatchEvent(new CustomEvent(KA)),C()),(D=i.onOpenChange)==null||D.call(i,T)}),jn(()=>{document.addEventListener(KA,x)}),di(()=>{_(),document.removeEventListener(KA,x)}),ir(pv,{contentId:S,triggerRef:a,ns:y,onClose:x,onDelayOpen:w,onOpen:C}),n({onOpen:C,onClose:x}),(T,D)=>vt(T.$slots,"default",{open:p(u)})}});var mve=Ht(pve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/root.vue"]]);const gve=Ge({name:"ElTooltipV2Arrow"}),vve=Ge({...gve,props:{...I1,...cve},setup(e){const n=e,{ns:i}=hn(pv),{arrowRef:s}=hn(hT),a=z(()=>{const{style:u,width:f,height:h}=n,_=i.namespace.value;return{[`--${_}-tooltip-v2-arrow-width`]:`${f}px`,[`--${_}-tooltip-v2-arrow-height`]:`${h}px`,[`--${_}-tooltip-v2-arrow-border-width`]:`${f/2}px`,[`--${_}-tooltip-v2-arrow-cover-width`]:f/2-1,...u||{}}});return(u,f)=>(Q(),ve("span",{ref_key:"arrowRef",ref:s,style:fn(p(a)),class:Y(p(i).e("arrow"))},null,6))}});var PM=Ht(vve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/arrow.vue"]]);const _ve=Xt({style:{type:nt([String,Object,Array]),default:()=>({})}}),Ave=Ge({name:"ElVisuallyHidden"}),yve=Ge({...Ave,props:_ve,setup(e){const n=e,i=z(()=>[n.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(s,a)=>(Q(),ve("span",nr(s.$attrs,{style:p(i)}),[vt(s.$slots,"default")],16))}});var bve=Ht(yve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/visual-hidden/src/visual-hidden.vue"]]);const Sve=["data-side"],Eve=Ge({name:"ElTooltipV2Content"}),wve=Ge({...Eve,props:{...M1,...gD},setup(e){const n=e,{triggerRef:i,contentId:s}=hn(pv),a=re(n.placement),u=re(n.strategy),f=re(null),{referenceRef:h,contentRef:_,middlewareData:y,x:S,y:b,update:w}=WY({placement:a,strategy:u,middleware:z(()=>{const N=[NY(n.offset)];return n.showArrow&&N.push(KY({arrowRef:f})),N})}),C=al().nextZIndex(),x=bt("tooltip-v2"),M=z(()=>a.value.split("-")[0]),T=z(()=>({position:p(u),top:`${p(b)||0}px`,left:`${p(S)||0}px`,zIndex:C})),D=z(()=>{if(!n.showArrow)return{};const{arrow:N}=p(y);return{[`--${x.namespace.value}-tooltip-v2-arrow-x`]:`${N==null?void 0:N.x}px`||"",[`--${x.namespace.value}-tooltip-v2-arrow-y`]:`${N==null?void 0:N.y}px`||""}}),F=z(()=>[x.e("content"),x.is("dark",n.effect==="dark"),x.is(p(u)),n.contentClass]);return St(f,()=>w()),St(()=>n.placement,N=>a.value=N),jn(()=>{St(()=>n.reference||i.value,N=>{h.value=N||void 0},{immediate:!0})}),ir(hT,{arrowRef:f}),(N,G)=>(Q(),ve("div",{ref_key:"contentRef",ref:_,style:fn(p(T)),"data-tooltip-v2-root":""},[N.nowrap?Ye("v-if",!0):(Q(),ve("div",{key:0,"data-side":p(M),class:Y(p(F))},[vt(N.$slots,"default",{contentStyle:p(T),contentClass:p(F)}),Re(p(bve),{id:p(s),role:"tooltip"},{default:Ue(()=>[N.ariaLabel?(Q(),ve(mn,{key:0},[hr(Qt(N.ariaLabel),1)],64)):vt(N.$slots,"default",{key:1})]),_:3},8,["id"]),vt(N.$slots,"arrow",{style:fn(p(D)),side:p(M)})],10,Sve))],4))}});var NM=Ht(wve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/content.vue"]]);const Cve=Xt({setRef:{type:nt(Function),required:!0},onlyChild:Boolean});var Ive=Ge({props:Cve,setup(e,{slots:n}){const i=re(),s=uv(i,a=>{a?e.setRef(a.nextElementSibling):e.setRef(null)});return()=>{var a;const[u]=((a=n.default)==null?void 0:a.call(n))||[],f=e.onlyChild?Yq(u.children):u.children;return Re(mn,{ref:s},[f])}}});const Mve=Ge({name:"ElTooltipV2Trigger"}),xve=Ge({...Mve,props:{...gD,...R1},setup(e){const n=e,{onClose:i,onOpen:s,onDelayOpen:a,triggerRef:u,contentId:f}=hn(pv);let h=!1;const _=F=>{u.value=F},y=()=>{h=!1},S=ci(n.onMouseEnter,a),b=ci(n.onMouseLeave,i),w=ci(n.onMouseDown,()=>{i(),h=!0,document.addEventListener("mouseup",y,{once:!0})}),C=ci(n.onFocus,()=>{h||s()}),x=ci(n.onBlur,i),M=ci(n.onClick,F=>{F.detail===0&&i()}),T={blur:x,click:M,focus:C,mousedown:w,mouseenter:S,mouseleave:b},D=(F,N,G)=>{F&&Object.entries(N).forEach(([U,$])=>{F[G](U,$)})};return St(u,(F,N)=>{D(F,T,"addEventListener"),D(N,T,"removeEventListener"),F&&F.setAttribute("aria-describedby",f.value)}),di(()=>{D(u.value,T,"removeEventListener"),document.removeEventListener("mouseup",y)}),(F,N)=>F.nowrap?(Q(),rt(p(Ive),{key:0,"set-ref":_,"only-child":""},{default:Ue(()=>[vt(F.$slots,"default")]),_:3})):(Q(),ve("button",nr({key:1,ref_key:"triggerRef",ref:u},F.$attrs),[vt(F.$slots,"default")],16))}});var Rve=Ht(xve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/trigger.vue"]]);const Tve=Ge({name:"ElTooltipV2"}),Pve=Ge({...Tve,props:fve,setup(e){const i=xi(e),s=Tr(ja(i,Object.keys(I1))),a=Tr(ja(i,Object.keys(M1))),u=Tr(ja(i,Object.keys(x1))),f=Tr(ja(i,Object.keys(R1)));return(h,_)=>(Q(),rt(mve,Ho(Yg(u)),{default:Ue(({open:y})=>[Re(Rve,nr(f,{nowrap:""}),{default:Ue(()=>[vt(h.$slots,"trigger")]),_:3},16),(Q(),rt(Jh,{to:h.to,disabled:!h.teleported},[h.fullTransition?(Q(),rt(bi,Ho(nr({key:0},h.transitionProps)),{default:Ue(()=>[h.alwaysOn||y?(Q(),rt(NM,Ho(nr({key:0},a)),{arrow:Ue(({style:S,side:b})=>[h.showArrow?(Q(),rt(PM,nr({key:0},s,{style:S,side:b}),null,16,["style","side"])):Ye("v-if",!0)]),default:Ue(()=>[vt(h.$slots,"default")]),_:3},16)):Ye("v-if",!0)]),_:2},1040)):(Q(),ve(mn,{key:1},[h.alwaysOn||y?(Q(),rt(NM,Ho(nr({key:0},a)),{arrow:Ue(({style:S,side:b})=>[h.showArrow?(Q(),rt(PM,nr({key:0},s,{style:S,side:b}),null,16,["style","side"])):Ye("v-if",!0)]),default:Ue(()=>[vt(h.$slots,"default")]),_:3},16)):Ye("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var Nve=Ht(Pve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/tooltip.vue"]]);const Dve=Jn(Nve),_D="left-check-change",AD="right-check-change",cd=Xt({data:{type:nt(Array),default:()=>[]},titles:{type:nt(Array),default:()=>[]},buttonTexts:{type:nt(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:nt(Function)},leftDefaultChecked:{type:nt(Array),default:()=>[]},rightDefaultChecked:{type:nt(Array),default:()=>[]},renderContent:{type:nt(Function)},modelValue:{type:nt(Array),default:()=>[]},format:{type:nt(Object),default:()=>({})},filterable:Boolean,props:{type:nt(Object),default:()=>Jr({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),wy=(e,n)=>[e,n].every(sn)||sn(e)&&$i(n),Bve={[jr]:(e,n,i)=>[e,i].every(sn)&&["left","right"].includes(n),[qn]:e=>sn(e),[_D]:wy,[AD]:wy},Cy="checked-change",kve=Xt({data:cd.data,optionRender:{type:nt(Function)},placeholder:String,title:String,filterable:Boolean,format:cd.format,filterMethod:cd.filterMethod,defaultChecked:cd.leftDefaultChecked,props:cd.props}),Lve={[Cy]:wy},up=e=>{const n={label:"label",key:"key",disabled:"disabled"};return z(()=>({...n,...e.props}))},Ove=(e,n,i)=>{const s=up(e),a=z(()=>e.data.filter(S=>Tn(e.filterMethod)?e.filterMethod(n.query,S):String(S[s.value.label]||S[s.value.key]).toLowerCase().includes(n.query.toLowerCase()))),u=z(()=>a.value.filter(S=>!S[s.value.disabled])),f=z(()=>{const S=n.checked.length,b=e.data.length,{noChecked:w,hasChecked:C}=e.format;return w&&C?S>0?C.replace(/\${checked}/g,S.toString()).replace(/\${total}/g,b.toString()):w.replace(/\${total}/g,b.toString()):`${S}/${b}`}),h=z(()=>{const S=n.checked.length;return S>0&&S<u.value.length}),_=()=>{const S=u.value.map(b=>b[s.value.key]);n.allChecked=S.length>0&&S.every(b=>n.checked.includes(b))},y=S=>{n.checked=S?u.value.map(b=>b[s.value.key]):[]};return St(()=>n.checked,(S,b)=>{if(_(),n.checkChangeByUser){const w=S.concat(b).filter(C=>!S.includes(C)||!b.includes(C));i(Cy,S,w)}else i(Cy,S),n.checkChangeByUser=!0}),St(u,()=>{_()}),St(()=>e.data,()=>{const S=[],b=a.value.map(w=>w[s.value.key]);n.checked.forEach(w=>{b.includes(w)&&S.push(w)}),n.checkChangeByUser=!1,n.checked=S}),St(()=>e.defaultChecked,(S,b)=>{if(b&&S.length===b.length&&S.every(x=>b.includes(x)))return;const w=[],C=u.value.map(x=>x[s.value.key]);S.forEach(x=>{C.includes(x)&&w.push(x)}),n.checkChangeByUser=!1,n.checked=w},{immediate:!0}),{filteredData:a,checkableData:u,checkedSummary:f,isIndeterminate:h,updateAllChecked:_,handleAllCheckedChange:y}},Fve=(e,n)=>({onSourceCheckedChange:(a,u)=>{e.leftChecked=a,u&&n(_D,a,u)},onTargetCheckedChange:(a,u)=>{e.rightChecked=a,u&&n(AD,a,u)}}),Vve=e=>{const n=up(e),i=z(()=>e.data.reduce((u,f)=>(u[f[n.value.key]]=f)&&u,{})),s=z(()=>e.data.filter(u=>!e.modelValue.includes(u[n.value.key]))),a=z(()=>e.targetOrder==="original"?e.data.filter(u=>e.modelValue.includes(u[n.value.key])):e.modelValue.reduce((u,f)=>{const h=i.value[f];return h&&u.push(h),u},[]));return{sourceData:s,targetData:a}},Gve=(e,n,i)=>{const s=up(e),a=(h,_,y)=>{i(qn,h),i(jr,h,_,y)};return{addToLeft:()=>{const h=e.modelValue.slice();n.rightChecked.forEach(_=>{const y=h.indexOf(_);y>-1&&h.splice(y,1)}),a(h,"left",n.rightChecked)},addToRight:()=>{let h=e.modelValue.slice();const _=e.data.filter(y=>{const S=y[s.value.key];return n.leftChecked.includes(S)&&!e.modelValue.includes(S)}).map(y=>y[s.value.key]);h=e.targetOrder==="unshift"?_.concat(h):h.concat(_),e.targetOrder==="original"&&(h=e.data.filter(y=>h.includes(y[s.value.key])).map(y=>y[s.value.key])),a(h,"right",n.leftChecked)}}},Uve=Ge({name:"ElTransferPanel"}),Hve=Ge({...Uve,props:kve,emits:Lve,setup(e,{expose:n,emit:i}){const s=e,a=Ki(),u=({option:G})=>G,{t:f}=yr(),h=bt("transfer"),_=Tr({checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}),y=up(s),{filteredData:S,checkedSummary:b,isIndeterminate:w,handleAllCheckedChange:C}=Ove(s,_,i),x=z(()=>!lo(_.query)&&lo(S.value)),M=z(()=>!lo(a.default()[0].children)),{checked:T,allChecked:D,query:F,inputHover:N}=xi(_);return n({query:F}),(G,U)=>(Q(),ve("div",{class:Y(p(h).b("panel"))},[Ce("p",{class:Y(p(h).be("panel","header"))},[Re(p(yo),{modelValue:p(D),"onUpdate:modelValue":U[0]||(U[0]=$=>Xr(D)?D.value=$:null),indeterminate:p(w),"validate-event":!1,onChange:p(C)},{default:Ue(()=>[hr(Qt(G.title)+" ",1),Ce("span",null,Qt(p(b)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),Ce("div",{class:Y([p(h).be("panel","body"),p(h).is("with-footer",p(M))])},[G.filterable?(Q(),rt(p(os),{key:0,modelValue:p(F),"onUpdate:modelValue":U[1]||(U[1]=$=>Xr(F)?F.value=$:null),class:Y(p(h).be("panel","filter")),size:"default",placeholder:G.placeholder,"prefix-icon":p(zX),clearable:"","validate-event":!1,onMouseenter:U[2]||(U[2]=$=>N.value=!0),onMouseleave:U[3]||(U[3]=$=>N.value=!1)},null,8,["modelValue","class","placeholder","prefix-icon"])):Ye("v-if",!0),Hn(Re(p(PP),{modelValue:p(T),"onUpdate:modelValue":U[4]||(U[4]=$=>Xr(T)?T.value=$:null),"validate-event":!1,class:Y([p(h).is("filterable",G.filterable),p(h).be("panel","list")])},{default:Ue(()=>[(Q(!0),ve(mn,null,cr(p(S),$=>(Q(),rt(p(yo),{key:$[p(y).key],class:Y(p(h).be("panel","item")),label:$[p(y).key],disabled:$[p(y).disabled],"validate-event":!1},{default:Ue(()=>{var de;return[Re(u,{option:(de=G.optionRender)==null?void 0:de.call(G,$)},null,8,["option"])]}),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[_r,!p(x)&&!p(lo)(G.data)]]),Hn(Ce("p",{class:Y(p(h).be("panel","empty"))},Qt(p(x)?p(f)("el.transfer.noMatch"):p(f)("el.transfer.noData")),3),[[_r,p(x)||p(lo)(G.data)]])],2),p(M)?(Q(),ve("p",{key:0,class:Y(p(h).be("panel","footer"))},[vt(G.$slots,"default")],2)):Ye("v-if",!0)],2))}});var DM=Ht(Hve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const Qve={key:0},Xve={key:0},zve=Ge({name:"ElTransfer"}),$ve=Ge({...zve,props:cd,emits:Bve,setup(e,{expose:n,emit:i}){const s=e,a=Ki(),{t:u}=yr(),f=bt("transfer"),{formItem:h}=ys(),_=Tr({leftChecked:[],rightChecked:[]}),y=up(s),{sourceData:S,targetData:b}=Vve(s),{onSourceCheckedChange:w,onTargetCheckedChange:C}=Fve(_,i),{addToLeft:x,addToRight:M}=Gve(s,_,i),T=re(),D=re(),F=ee=>{switch(ee){case"left":T.value.query="";break;case"right":D.value.query="";break}},N=z(()=>s.buttonTexts.length===2),G=z(()=>s.titles[0]||u("el.transfer.titles.0")),U=z(()=>s.titles[1]||u("el.transfer.titles.1")),$=z(()=>s.filterPlaceholder||u("el.transfer.filterPlaceholder"));St(()=>s.modelValue,()=>{var ee;s.validateEvent&&((ee=h==null?void 0:h.validate)==null||ee.call(h,"change").catch(se=>void 0))});const de=z(()=>ee=>s.renderContent?s.renderContent(An,ee):a.default?a.default({option:ee}):An("span",ee[y.value.label]||ee[y.value.key]));return n({clearQuery:F,leftPanel:T,rightPanel:D}),(ee,se)=>(Q(),ve("div",{class:Y(p(f).b())},[Re(DM,{ref_key:"leftPanel",ref:T,data:p(S),"option-render":p(de),placeholder:p($),title:p(G),filterable:ee.filterable,format:ee.format,"filter-method":ee.filterMethod,"default-checked":ee.leftDefaultChecked,props:s.props,onCheckedChange:p(w)},{default:Ue(()=>[vt(ee.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Ce("div",{class:Y(p(f).e("buttons"))},[Re(p(ns),{type:"primary",class:Y([p(f).e("button"),p(f).is("with-texts",p(N))]),disabled:p(lo)(_.rightChecked),onClick:p(x)},{default:Ue(()=>[Re(p(un),null,{default:Ue(()=>[Re(p(Wl))]),_:1}),p(Xi)(ee.buttonTexts[0])?Ye("v-if",!0):(Q(),ve("span",Qve,Qt(ee.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),Re(p(ns),{type:"primary",class:Y([p(f).e("button"),p(f).is("with-texts",p(N))]),disabled:p(lo)(_.leftChecked),onClick:p(M)},{default:Ue(()=>[p(Xi)(ee.buttonTexts[1])?Ye("v-if",!0):(Q(),ve("span",Xve,Qt(ee.buttonTexts[1]),1)),Re(p(un),null,{default:Ue(()=>[Re(p(vs))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),Re(DM,{ref_key:"rightPanel",ref:D,data:p(b),"option-render":p(de),placeholder:p($),filterable:ee.filterable,format:ee.format,"filter-method":ee.filterMethod,title:p(U),"default-checked":ee.rightDefaultChecked,props:s.props,onCheckedChange:p(C)},{default:Ue(()=>[vt(ee.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var Wve=Ht($ve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]]);const Kve=Jn(Wve),Ed="$treeNodeId",BM=function(e,n){!n||n[Ed]||Object.defineProperty(n,Ed,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},T1=function(e,n){return e?n[e]:n[Ed]},Iy=(e,n,i)=>{const s=e.value.currentNode;i();const a=e.value.currentNode;s!==a&&n("current-change",a?a.data:null,a)},My=e=>{let n=!0,i=!0,s=!0;for(let a=0,u=e.length;a<u;a++){const f=e[a];(f.checked!==!0||f.indeterminate)&&(n=!1,f.disabled||(s=!1)),(f.checked!==!1||f.indeterminate)&&(i=!1)}return{all:n,none:i,allWithoutDisable:s,half:!n&&!i}},ug=function(e){if(e.childNodes.length===0||e.loading)return;const{all:n,none:i,half:s}=My(e.childNodes);n?(e.checked=!0,e.indeterminate=!1):s?(e.checked=!1,e.indeterminate=!0):i&&(e.checked=!1,e.indeterminate=!1);const a=e.parent;!a||a.level===0||e.store.checkStrictly||ug(a)},Lm=function(e,n){const i=e.store.props,s=e.data||{},a=i[n];if(typeof a=="function")return a(s,e);if(typeof a=="string")return s[a];if(typeof a>"u"){const u=s[n];return u===void 0?"":u}};let jve=0;class su{constructor(n){this.id=jve++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in n)lr(n,i)&&(this[i]=n[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const i=n.props;if(i&&typeof i.isLeaf<"u"){const u=Lm(this,"isLeaf");typeof u=="boolean"&&(this.isLeafByUser=u)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&this.expand(),Array.isArray(this.data)||BM(this,this.data),!this.data)return;const s=n.defaultExpandedKeys,a=n.key;a&&s&&s.includes(this.key)&&this.expand(null,n.autoExpandParent),a&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(n){Array.isArray(n)||BM(this,n),this.data=n,this.childNodes=[];let i;this.level===0&&Array.isArray(this.data)?i=this.data:i=Lm(this,"children")||[];for(let s=0,a=i.length;s<a;s++)this.insertChild({data:i[s]})}get label(){return Lm(this,"label")}get key(){const n=this.store.key;return this.data?this.data[n]:null}get disabled(){return Lm(this,"disabled")}get nextSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return n.childNodes[i+1]}return null}get previousSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return i>0?n.childNodes[i-1]:null}return null}contains(n,i=!0){return(this.childNodes||[]).some(s=>s===n||i&&s.contains(n))}remove(){const n=this.parent;n&&n.removeChild(this)}insertChild(n,i,s){if(!n)throw new Error("InsertChild error: child is required.");if(!(n instanceof su)){if(!s){const a=this.getChildren(!0);a.includes(n.data)||(typeof i>"u"||i<0?a.push(n.data):a.splice(i,0,n.data))}Object.assign(n,{parent:this,store:this.store}),n=Tr(new su(n)),n instanceof su&&n.initialize()}n.level=this.level+1,typeof i>"u"||i<0?this.childNodes.push(n):this.childNodes.splice(i,0,n),this.updateLeafState()}insertBefore(n,i){let s;i&&(s=this.childNodes.indexOf(i)),this.insertChild(n,s)}insertAfter(n,i){let s;i&&(s=this.childNodes.indexOf(i),s!==-1&&(s+=1)),this.insertChild(n,s)}removeChild(n){const i=this.getChildren()||[],s=i.indexOf(n.data);s>-1&&i.splice(s,1);const a=this.childNodes.indexOf(n);a>-1&&(this.store&&this.store.deregisterNode(n),n.parent=null,this.childNodes.splice(a,1)),this.updateLeafState()}removeChildByData(n){let i=null;for(let s=0;s<this.childNodes.length;s++)if(this.childNodes[s].data===n){i=this.childNodes[s];break}i&&this.removeChild(i)}expand(n,i){const s=()=>{if(i){let a=this.parent;for(;a.level>0;)a.expanded=!0,a=a.parent}this.expanded=!0,n&&n(),this.childNodes.forEach(a=>{a.canFocus=!0})};this.shouldLoadData()?this.loadData(a=>{Array.isArray(a)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||ug(this),s())}):s()}doCreateChildren(n,i={}){n.forEach(s=>{this.insertChild(Object.assign({data:s},i),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(n=>{n.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const n=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!n||n.length===0;return}this.isLeaf=!1}setChecked(n,i,s,a){if(this.indeterminate=n==="half",this.checked=n===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:f,allWithoutDisable:h}=My(this.childNodes);!this.isLeaf&&!f&&h&&(this.checked=!1,n=!1);const _=()=>{if(i){const y=this.childNodes;for(let w=0,C=y.length;w<C;w++){const x=y[w];a=a||n!==!1;const M=x.disabled?x.checked:a;x.setChecked(M,i,!0,a)}const{half:S,all:b}=My(y);b||(this.checked=b,this.indeterminate=S)}};if(this.shouldLoadData()){this.loadData(()=>{_(),ug(this)},{checked:n!==!1});return}else _()}const u=this.parent;!u||u.level===0||s||ug(u)}getChildren(n=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const s=this.store.props;let a="children";return s&&(a=s.children||"children"),i[a]===void 0&&(i[a]=null),n&&!i[a]&&(i[a]=[]),i[a]}updateChildren(){const n=this.getChildren()||[],i=this.childNodes.map(u=>u.data),s={},a=[];n.forEach((u,f)=>{const h=u[Ed];!!h&&i.findIndex(y=>y[Ed]===h)>=0?s[h]={index:f,data:u}:a.push({index:f,data:u})}),this.store.lazy||i.forEach(u=>{s[u[Ed]]||this.removeChildByData(u)}),a.forEach(({index:u,data:f})=>{this.insertChild({data:f},u)}),this.updateLeafState()}loadData(n,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const s=a=>{this.childNodes=[],this.doCreateChildren(a,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),n&&n.call(this,a)};this.store.load(this,s)}else n&&n.call(this)}}class qve{constructor(n){this.currentNode=null,this.currentNodeKey=null;for(const i in n)lr(n,i)&&(this[i]=n[i]);this.nodesMap={}}initialize(){if(this.root=new su({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const n=this.load;n(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(n){const i=this.filterNodeMethod,s=this.lazy,a=function(u){const f=u.root?u.root.childNodes:u.childNodes;if(f.forEach(h=>{h.visible=i.call(h,n,h.data,h),a(h)}),!u.visible&&f.length){let h=!0;h=!f.some(_=>_.visible),u.root?u.root.visible=h===!1:u.visible=h===!1}!n||u.visible&&!u.isLeaf&&!s&&u.expand()};a(this)}setData(n){n!==this.root.data?(this.root.setData(n),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(n){if(n instanceof su)return n;const i=tr(n)?T1(this.key,n):n;return this.nodesMap[i]||null}insertBefore(n,i){const s=this.getNode(i);s.parent.insertBefore({data:n},s)}insertAfter(n,i){const s=this.getNode(i);s.parent.insertAfter({data:n},s)}remove(n){const i=this.getNode(n);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(n,i){const s=i?this.getNode(i):this.root;s&&s.insertChild({data:n})}_initDefaultCheckedNodes(){const n=this.defaultCheckedKeys||[],i=this.nodesMap;n.forEach(s=>{const a=i[s];a&&a.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(n){(this.defaultCheckedKeys||[]).includes(n.key)&&n.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(n){n!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=n,this._initDefaultCheckedNodes())}registerNode(n){const i=this.key;!n||!n.data||(i?n.key!==void 0&&(this.nodesMap[n.key]=n):this.nodesMap[n.id]=n)}deregisterNode(n){!this.key||!n||!n.data||(n.childNodes.forEach(s=>{this.deregisterNode(s)}),delete this.nodesMap[n.key])}getCheckedNodes(n=!1,i=!1){const s=[],a=function(u){(u.root?u.root.childNodes:u.childNodes).forEach(h=>{(h.checked||i&&h.indeterminate)&&(!n||n&&h.isLeaf)&&s.push(h.data),a(h)})};return a(this),s}getCheckedKeys(n=!1){return this.getCheckedNodes(n).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const n=[],i=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(u=>{u.indeterminate&&n.push(u.data),i(u)})};return i(this),n}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(n=>(n||{})[this.key])}_getAllNodes(){const n=[],i=this.nodesMap;for(const s in i)lr(i,s)&&n.push(i[s]);return n}updateChildren(n,i){const s=this.nodesMap[n];if(!s)return;const a=s.childNodes;for(let u=a.length-1;u>=0;u--){const f=a[u];this.remove(f.data)}for(let u=0,f=i.length;u<f;u++){const h=i[u];this.append(h,s.data)}}_setCheckedKeys(n,i=!1,s){const a=this._getAllNodes().sort((h,_)=>_.level-h.level),u=Object.create(null),f=Object.keys(s);a.forEach(h=>h.setChecked(!1,!1));for(let h=0,_=a.length;h<_;h++){const y=a[h],S=y.data[n].toString();if(!f.includes(S)){y.checked&&!u[S]&&y.setChecked(!1,!1);continue}let w=y.parent;for(;w&&w.level>0;)u[w.data[n]]=!0,w=w.parent;if(y.isLeaf||this.checkStrictly){y.setChecked(!0,!1);continue}if(y.setChecked(!0,!0),i){y.setChecked(!1,!1);const C=function(x){x.childNodes.forEach(T=>{T.isLeaf||T.setChecked(!1,!1),C(T)})};C(y)}}}setCheckedNodes(n,i=!1){const s=this.key,a={};n.forEach(u=>{a[(u||{})[s]]=!0}),this._setCheckedKeys(s,i,a)}setCheckedKeys(n,i=!1){this.defaultCheckedKeys=n;const s=this.key,a={};n.forEach(u=>{a[u]=!0}),this._setCheckedKeys(s,i,a)}setDefaultExpandedKeys(n){n=n||[],this.defaultExpandedKeys=n,n.forEach(i=>{const s=this.getNode(i);s&&s.expand(null,this.autoExpandParent)})}setChecked(n,i,s){const a=this.getNode(n);a&&a.setChecked(!!i,s)}getCurrentNode(){return this.currentNode}setCurrentNode(n){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=n,this.currentNode.isCurrent=!0}setUserCurrentNode(n,i=!0){const s=n[this.key],a=this.nodesMap[s];this.setCurrentNode(a),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(n,i=!0){if(n==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const s=this.getNode(n);s&&(this.setCurrentNode(s),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Yve=Ge({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const n=bt("tree"),i=hn("NodeInstance"),s=hn("RootTree");return()=>{const a=e.node,{data:u,store:f}=a;return e.renderContent?e.renderContent(An,{_self:i,node:a,data:u,store:f}):An("span",{class:n.be("node","label")},[s.ctx.slots.default?s.ctx.slots.default({node:a,data:u}):a.label])}}});var Jve=Ht(Yve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function yD(e){const n=hn("TreeNodeMap",null),i={treeNodeExpand:s=>{e.node!==s&&e.node.collapse()},children:[]};return n&&n.children.push(i),ir("TreeNodeMap",i),{broadcastExpanded:s=>{if(!!e.accordion)for(const a of i.children)a.treeNodeExpand(s)}}}const bD=Symbol("dragEvents");function Zve({props:e,ctx:n,el$:i,dropIndicator$:s,store:a}){const u=bt("tree"),f=re({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ir(bD,{treeNodeDragStart:({event:S,treeNode:b})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(b.node))return S.preventDefault(),!1;S.dataTransfer.effectAllowed="move";try{S.dataTransfer.setData("text/plain","")}catch{}f.value.draggingNode=b,n.emit("node-drag-start",b.node,S)},treeNodeDragOver:({event:S,treeNode:b})=>{const w=b,C=f.value.dropNode;C&&C!==w&&Ms(C.$el,u.is("drop-inner"));const x=f.value.draggingNode;if(!x||!w)return;let M=!0,T=!0,D=!0,F=!0;typeof e.allowDrop=="function"&&(M=e.allowDrop(x.node,w.node,"prev"),F=T=e.allowDrop(x.node,w.node,"inner"),D=e.allowDrop(x.node,w.node,"next")),S.dataTransfer.dropEffect=T||M||D?"move":"none",(M||T||D)&&C!==w&&(C&&n.emit("node-drag-leave",x.node,C.node,S),n.emit("node-drag-enter",x.node,w.node,S)),(M||T||D)&&(f.value.dropNode=w),w.node.nextSibling===x.node&&(D=!1),w.node.previousSibling===x.node&&(M=!1),w.node.contains(x.node,!1)&&(T=!1),(x.node===w.node||x.node.contains(w.node))&&(M=!1,T=!1,D=!1);const N=w.$el.getBoundingClientRect(),G=i.value.getBoundingClientRect();let U;const $=M?T?.25:D?.45:1:-1,de=D?T?.75:M?.55:0:1;let ee=-9999;const se=S.clientY-N.top;se<N.height*$?U="before":se>N.height*de?U="after":T?U="inner":U="none";const oe=w.$el.querySelector(`.${u.be("node","expand-icon")}`).getBoundingClientRect(),Ie=s.value;U==="before"?ee=oe.top-G.top:U==="after"&&(ee=oe.bottom-G.top),Ie.style.top=`${ee}px`,Ie.style.left=`${oe.right-G.left}px`,U==="inner"?va(w.$el,u.is("drop-inner")):Ms(w.$el,u.is("drop-inner")),f.value.showDropIndicator=U==="before"||U==="after",f.value.allowDrop=f.value.showDropIndicator||F,f.value.dropType=U,n.emit("node-drag-over",x.node,w.node,S)},treeNodeDragEnd:S=>{const{draggingNode:b,dropType:w,dropNode:C}=f.value;if(S.preventDefault(),S.dataTransfer.dropEffect="move",b&&C){const x={data:b.node.data};w!=="none"&&b.node.remove(),w==="before"?C.node.parent.insertBefore(x,C.node):w==="after"?C.node.parent.insertAfter(x,C.node):w==="inner"&&C.node.insertChild(x),w!=="none"&&a.value.registerNode(x),Ms(C.$el,u.is("drop-inner")),n.emit("node-drag-end",b.node,C.node,w,S),w!=="none"&&n.emit("node-drop",b.node,C.node,w,S)}b&&!C&&n.emit("node-drag-end",b.node,null,w,S),f.value.showDropIndicator=!1,f.value.draggingNode=null,f.value.dropNode=null,f.value.allowDrop=!0}}),{dragState:f}}const e_e=Ge({name:"ElTreeNode",components:{ElCollapseTransition:Sv,ElCheckbox:yo,NodeContent:Jve,ElIcon:un,Loading:ic},props:{node:{type:su,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,n){const i=bt("tree"),{broadcastExpanded:s}=yD(e),a=hn("RootTree"),u=re(!1),f=re(!1),h=re(null),_=re(null),y=re(null),S=hn(bD),b=Yn();ir("NodeInstance",b),e.node.expanded&&(u.value=!0,f.value=!0);const w=a.props.children||"children";St(()=>{const se=e.node.data[w];return se&&[...se]},()=>{e.node.updateChildren()}),St(()=>e.node.indeterminate,se=>{M(e.node.checked,se)}),St(()=>e.node.checked,se=>{M(se,e.node.indeterminate)}),St(()=>e.node.expanded,se=>{dn(()=>u.value=se),se&&(f.value=!0)});const C=se=>T1(a.props.nodeKey,se.data),x=se=>{const oe=e.props.class;if(!oe)return{};let Ie;if(Tn(oe)){const{data:pe}=se;Ie=oe(pe,se)}else Ie=oe;return Dn(Ie)?{[Ie]:!0}:Ie},M=(se,oe)=>{(h.value!==se||_.value!==oe)&&a.ctx.emit("check-change",e.node.data,se,oe),h.value=se,_.value=oe},T=se=>{Iy(a.store,a.ctx.emit,()=>a.store.value.setCurrentNode(e.node)),a.currentNode.value=e.node,a.props.expandOnClickNode&&F(),a.props.checkOnClickNode&&!e.node.disabled&&N(null,{target:{checked:!e.node.checked}}),a.ctx.emit("node-click",e.node.data,e.node,b,se)},D=se=>{a.instance.vnode.props.onNodeContextmenu&&(se.stopPropagation(),se.preventDefault()),a.ctx.emit("node-contextmenu",se,e.node.data,e.node,b)},F=()=>{e.node.isLeaf||(u.value?(a.ctx.emit("node-collapse",e.node.data,e.node,b),e.node.collapse()):(e.node.expand(),n.emit("node-expand",e.node.data,e.node,b)))},N=(se,oe)=>{e.node.setChecked(oe.target.checked,!a.props.checkStrictly),dn(()=>{const Ie=a.store.value;a.ctx.emit("check",e.node.data,{checkedNodes:Ie.getCheckedNodes(),checkedKeys:Ie.getCheckedKeys(),halfCheckedNodes:Ie.getHalfCheckedNodes(),halfCheckedKeys:Ie.getHalfCheckedKeys()})})};return{ns:i,node$:y,tree:a,expanded:u,childNodeRendered:f,oldChecked:h,oldIndeterminate:_,getNodeKey:C,getNodeClass:x,handleSelectChange:M,handleClick:T,handleContextMenu:D,handleExpandIconClick:F,handleCheckChange:N,handleChildNodeExpand:(se,oe,Ie)=>{s(oe),a.ctx.emit("node-expand",se,oe,Ie)},handleDragStart:se=>{!a.props.draggable||S.treeNodeDragStart({event:se,treeNode:e})},handleDragOver:se=>{se.preventDefault(),a.props.draggable&&S.treeNodeDragOver({event:se,treeNode:{$el:y.value,node:e.node}})},handleDrop:se=>{se.preventDefault()},handleDragEnd:se=>{!a.props.draggable||S.treeNodeDragEnd(se)},CaretRight:aR}}}),t_e=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],n_e=["aria-expanded"];function r_e(e,n,i,s,a,u){const f=Mn("el-icon"),h=Mn("el-checkbox"),_=Mn("loading"),y=Mn("node-content"),S=Mn("el-tree-node"),b=Mn("el-collapse-transition");return Hn((Q(),ve("div",{ref:"node$",class:Y([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:n[1]||(n[1]=Nn((...w)=>e.handleClick&&e.handleClick(...w),["stop"])),onContextmenu:n[2]||(n[2]=(...w)=>e.handleContextMenu&&e.handleContextMenu(...w)),onDragstart:n[3]||(n[3]=Nn((...w)=>e.handleDragStart&&e.handleDragStart(...w),["stop"])),onDragover:n[4]||(n[4]=Nn((...w)=>e.handleDragOver&&e.handleDragOver(...w),["stop"])),onDragend:n[5]||(n[5]=Nn((...w)=>e.handleDragEnd&&e.handleDragEnd(...w),["stop"])),onDrop:n[6]||(n[6]=Nn((...w)=>e.handleDrop&&e.handleDrop(...w),["stop"]))},[Ce("div",{class:Y(e.ns.be("node","content")),style:fn({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(Q(),rt(f,{key:0,class:Y([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:Nn(e.handleExpandIconClick,["stop"])},{default:Ue(()=>[(Q(),rt(rr(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):Ye("v-if",!0),e.showCheckbox?(Q(),rt(h,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:n[0]||(n[0]=Nn(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Ye("v-if",!0),e.node.loading?(Q(),rt(f,{key:2,class:Y([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:Ue(()=>[Re(_)]),_:1},8,["class"])):Ye("v-if",!0),Re(y,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),Re(b,null,{default:Ue(()=>[!e.renderAfterExpand||e.childNodeRendered?Hn((Q(),ve("div",{key:0,class:Y(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(Q(!0),ve(mn,null,cr(e.node.childNodes,w=>(Q(),rt(S,{key:e.getNodeKey(w),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:w,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,n_e)),[[_r,e.expanded]]):Ye("v-if",!0)]),_:1})],42,t_e)),[[_r,e.node.visible]])}var i_e=Ht(e_e,[["render",r_e],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function s_e({el$:e},n){const i=bt("tree"),s=Wr([]),a=Wr([]);jn(()=>{f()}),rl(()=>{s.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),St(a,h=>{h.forEach(_=>{_.setAttribute("tabindex","-1")})}),Kr(e,"keydown",h=>{const _=h.target;if(!_.className.includes(i.b("node")))return;const y=h.code;s.value=Array.from(e.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));const S=s.value.indexOf(_);let b;if([_n.up,_n.down].includes(y)){if(h.preventDefault(),y===_n.up){b=S===-1?0:S!==0?S-1:s.value.length-1;const C=b;for(;!n.value.getNode(s.value[b].dataset.key).canFocus;){if(b--,b===C){b=-1;break}b<0&&(b=s.value.length-1)}}else{b=S===-1?0:S<s.value.length-1?S+1:0;const C=b;for(;!n.value.getNode(s.value[b].dataset.key).canFocus;){if(b++,b===C){b=-1;break}b>=s.value.length&&(b=0)}}b!==-1&&s.value[b].focus()}[_n.left,_n.right].includes(y)&&(h.preventDefault(),_.click());const w=_.querySelector('[type="checkbox"]');[_n.enter,_n.space].includes(y)&&w&&(h.preventDefault(),w.click())});const f=()=>{var h;s.value=Array.from(e.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const _=e.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(_.length){_[0].setAttribute("tabindex","0");return}(h=s.value[0])==null||h.setAttribute("tabindex","0")}}const o_e=Ge({name:"ElTree",components:{ElTreeNode:i_e},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:$r}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,n){const{t:i}=yr(),s=bt("tree"),a=re(new qve({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));a.value.initialize();const u=re(a.value.root),f=re(null),h=re(null),_=re(null),{broadcastExpanded:y}=yD(e),{dragState:S}=Zve({props:e,ctx:n,el$:h,dropIndicator$:_,store:a});s_e({el$:h},a);const b=z(()=>{const{childNodes:ie}=u.value;return!ie||ie.length===0||ie.every(({visible:fe})=>!fe)});St(()=>e.currentNodeKey,ie=>{a.value.setCurrentNodeKey(ie)}),St(()=>e.defaultCheckedKeys,ie=>{a.value.setDefaultCheckedKey(ie)}),St(()=>e.defaultExpandedKeys,ie=>{a.value.setDefaultExpandedKeys(ie)}),St(()=>e.data,ie=>{a.value.setData(ie)},{deep:!0}),St(()=>e.checkStrictly,ie=>{a.value.checkStrictly=ie});const w=ie=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(ie)},C=ie=>T1(e.nodeKey,ie.data),x=ie=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const fe=a.value.getNode(ie);if(!fe)return[];const le=[fe.data];let ke=fe.parent;for(;ke&&ke!==u.value;)le.push(ke.data),ke=ke.parent;return le.reverse()},M=(ie,fe)=>a.value.getCheckedNodes(ie,fe),T=ie=>a.value.getCheckedKeys(ie),D=()=>{const ie=a.value.getCurrentNode();return ie?ie.data:null},F=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const ie=D();return ie?ie[e.nodeKey]:null},N=(ie,fe)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(ie,fe)},G=(ie,fe)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(ie,fe)},U=(ie,fe,le)=>{a.value.setChecked(ie,fe,le)},$=()=>a.value.getHalfCheckedNodes(),de=()=>a.value.getHalfCheckedKeys(),ee=(ie,fe=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Iy(a,n.emit,()=>a.value.setUserCurrentNode(ie,fe))},se=(ie,fe=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Iy(a,n.emit,()=>a.value.setCurrentNodeKey(ie,fe))},oe=ie=>a.value.getNode(ie),Ie=ie=>{a.value.remove(ie)},pe=(ie,fe)=>{a.value.append(ie,fe)},ae=(ie,fe)=>{a.value.insertBefore(ie,fe)},ye=(ie,fe)=>{a.value.insertAfter(ie,fe)},be=(ie,fe,le)=>{y(fe),n.emit("node-expand",ie,fe,le)},_e=(ie,fe)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(ie,fe)};return ir("RootTree",{ctx:n,props:e,store:a,root:u,currentNode:f,instance:Yn()}),ir(Sa,void 0),{ns:s,store:a,root:u,currentNode:f,dragState:S,el$:h,dropIndicator$:_,isEmpty:b,filter:w,getNodeKey:C,getNodePath:x,getCheckedNodes:M,getCheckedKeys:T,getCurrentNode:D,getCurrentKey:F,setCheckedNodes:N,setCheckedKeys:G,setChecked:U,getHalfCheckedNodes:$,getHalfCheckedKeys:de,setCurrentNode:ee,setCurrentKey:se,t:i,getNode:oe,remove:Ie,append:pe,insertBefore:ae,insertAfter:ye,handleNodeExpand:be,updateKeyChildren:_e}}});function a_e(e,n,i,s,a,u){var f;const h=Mn("el-tree-node");return Q(),ve("div",{ref:"el$",class:Y([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(Q(!0),ve(mn,null,cr(e.root.childNodes,_=>(Q(),rt(h,{key:e.getNodeKey(_),node:_,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(Q(),ve("div",{key:0,class:Y(e.ns.e("empty-block"))},[Ce("span",{class:Y(e.ns.e("empty-text"))},Qt((f=e.emptyText)!=null?f:e.t("el.tree.emptyText")),3)],2)):Ye("v-if",!0),Hn(Ce("div",{ref:"dropIndicator$",class:Y(e.ns.e("drop-indicator"))},null,2),[[_r,e.dragState.showDropIndicator]])],2)}var dg=Ht(o_e,[["render",a_e],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);dg.install=e=>{e.component(dg.name,dg)};const Fg=dg,l_e=Fg,c_e=(e,{attrs:n},{tree:i,key:s})=>{const a=bt("tree-select"),u={...ja(xi(e),Object.keys(du.props)),...n,valueKey:s,popperClass:z(()=>{const f=[a.e("popper")];return e.popperClass&&f.push(e.popperClass),f.join(" ")}),filterMethod:(f="")=>{e.filterMethod&&e.filterMethod(f),dn(()=>{var h;(h=i.value)==null||h.filter(f)})},onVisibleChange:f=>{var h;(h=n.onVisibleChange)==null||h.call(n,f),e.filterable&&f&&u.filterMethod()}};return u},u_e=Ge({extends:Tg,setup(e,n){const i=Tg.setup(e,n);delete i.selectOptionClick;const s=Yn().proxy;return dn(()=>{i.select.cachedOptions.get(s.value)||i.select.onOptionCreate(s)}),i},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function xy(e){return e||e===0}function SD(e){return Array.isArray(e)&&e.length}function p0(e){return Array.isArray(e)?e:xy(e)?[e]:[]}function fg(e,n,i,s,a){for(let u=0;u<e.length;u++){const f=e[u];if(n(f,u,e,a))return s?s(f,u,e,a):f;{const h=i(f);if(SD(h)){const _=fg(h,n,i,s,f);if(_)return _}}}}const d_e=(e,{attrs:n,slots:i,emit:s},{select:a,tree:u,key:f})=>{St(()=>e.modelValue,()=>{e.showCheckbox&&dn(()=>{const S=u.value;S&&!qs(S.getCheckedKeys(),p0(e.modelValue))&&S.setCheckedKeys(p0(e.modelValue))})},{immediate:!0,deep:!0});const h=z(()=>({value:f.value,...e.props})),_=(S,b)=>{var w;const C=h.value[S];return Tn(C)?C(b,(w=u.value)==null?void 0:w.getNode(_("value",b))):b[C]},y=p0(e.modelValue).map(S=>fg(e.data||[],b=>_("value",b)===S,b=>_("children",b),(b,w,C,x)=>x&&_("value",x))).filter(S=>xy(S));return{...ja(xi(e),Object.keys(Fg.props)),...n,nodeKey:f,expandOnClickNode:z(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:z(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(y):y),renderContent:(S,{node:b,data:w,store:C})=>S(u_e,{value:_("value",w),label:_("label",w),disabled:_("disabled",w)},e.renderContent?()=>e.renderContent(S,{node:b,data:w,store:C}):i.default?()=>i.default({node:b,data:w,store:C}):void 0),filterNodeMethod:(S,b,w)=>{var C;return e.filterNodeMethod?e.filterNodeMethod(S,b,w):S?(C=_("label",b))==null?void 0:C.includes(S):!0},onNodeClick:(S,b,w)=>{var C,x,M;if((C=n.onNodeClick)==null||C.call(n,S,b,w),!(e.showCheckbox&&e.checkOnClickNode))if(!e.showCheckbox&&(e.checkStrictly||b.isLeaf)){if(!_("disabled",S)){const T=(x=a.value)==null?void 0:x.options.get(_("value",S));(M=a.value)==null||M.handleOptionSelect(T,!0)}}else e.expandOnClickNode&&w.proxy.handleExpandIconClick()},onCheck:(S,b)=>{var w;(w=n.onCheck)==null||w.call(n,S,b);const C=_("value",S);if(e.checkStrictly)s(qn,e.multiple?b.checkedKeys:b.checkedKeys.includes(C)?C:void 0);else if(e.multiple)s(qn,u.value.getCheckedKeys(!0));else{const x=fg([S],D=>!SD(_("children",D))&&!_("disabled",D),D=>_("children",D)),M=x?_("value",x):void 0,T=xy(e.modelValue)&&!!fg([S],D=>_("value",D)===e.modelValue,D=>_("children",D));s(qn,M===e.modelValue||T?void 0:M)}}}},f_e=Ge({name:"ElTreeSelect",inheritAttrs:!1,props:{...du.props,...Fg.props},setup(e,n){const{slots:i,expose:s}=n,a=re(),u=re(),f=z(()=>e.nodeKey||e.valueKey||"value"),h=c_e(e,n,{select:a,tree:u,key:f}),_=d_e(e,n,{select:a,tree:u,key:f}),y=Tr({});return s(y),jn(()=>{Object.assign(y,{...ja(u.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...ja(a.value,["focus","blur"])})}),()=>An(du,Tr({...h,ref:S=>a.value=S}),{...i,default:()=>An(Fg,Tr({..._,ref:S=>u.value=S}))})}});var hg=Ht(f_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);hg.install=e=>{e.component(hg.name,hg)};const h_e=hg,p_e=h_e,P1=Symbol(),m_e={key:-1,level:-1,data:{}};var rh=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e))(rh||{}),Ry=(e=>(e.ADD="add",e.DELETE="delete",e))(Ry||{});const g_e=Xt({data:{type:nt(Array),default:()=>Jr([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:nt(Object),default:()=>Jr({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:nt(Array),default:()=>Jr([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:nt(Array),default:()=>Jr([])},indent:{type:Number,default:16},icon:{type:$r},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:nt([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:nt(Function)},perfMode:{type:Boolean,default:!0}}),v_e=Xt({node:{type:nt(Object),default:()=>Jr(m_e)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1}}),__e=Xt({node:{type:nt(Object),required:!0}}),ED="node-click",wD="node-expand",CD="node-collapse",ID="current-change",MD="check",xD="check-change",RD="node-contextmenu",A_e={[ED]:(e,n,i)=>e&&n&&i,[wD]:(e,n)=>e&&n,[CD]:(e,n)=>e&&n,[ID]:(e,n)=>e&&n,[MD]:(e,n)=>e&&n,[xD]:(e,n)=>e&&typeof n=="boolean",[RD]:(e,n,i)=>e&&n&&i},y_e={click:(e,n)=>!!(e&&n),toggle:e=>!!e,check:(e,n)=>e&&typeof n=="boolean"};function b_e(e,n){const i=re(new Set),s=re(new Set),{emit:a}=Yn();St([()=>n.value,()=>e.defaultCheckedKeys],()=>dn(()=>{F(e.defaultCheckedKeys)}),{immediate:!0});const u=()=>{if(!n.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:N,maxLevel:G}=n.value,U=i.value,$=new Set;for(let de=G-1;de>=1;--de){const ee=N.get(de);!ee||ee.forEach(se=>{const oe=se.children;if(oe){let Ie=!0,pe=!1;for(const ae of oe){const ye=ae.key;if(U.has(ye))pe=!0;else if($.has(ye)){Ie=!1,pe=!0;break}else Ie=!1}Ie?U.add(se.key):pe?($.add(se.key),U.delete(se.key)):(U.delete(se.key),$.delete(se.key))}})}s.value=$},f=N=>i.value.has(N.key),h=N=>s.value.has(N.key),_=(N,G,U=!0)=>{const $=i.value,de=(ee,se)=>{$[se?Ry.ADD:Ry.DELETE](ee.key);const oe=ee.children;!e.checkStrictly&&oe&&oe.forEach(Ie=>{Ie.disabled||de(Ie,se)})};de(N,G),u(),U&&y(N,G)},y=(N,G)=>{const{checkedNodes:U,checkedKeys:$}=x(),{halfCheckedNodes:de,halfCheckedKeys:ee}=M();a(MD,N.data,{checkedKeys:$,checkedNodes:U,halfCheckedKeys:ee,halfCheckedNodes:de}),a(xD,N.data,G)};function S(N=!1){return x(N).checkedKeys}function b(N=!1){return x(N).checkedNodes}function w(){return M().halfCheckedKeys}function C(){return M().halfCheckedNodes}function x(N=!1){const G=[],U=[];if((n==null?void 0:n.value)&&e.showCheckbox){const{treeNodeMap:$}=n.value;i.value.forEach(de=>{const ee=$.get(de);ee&&(!N||N&&ee.isLeaf)&&(U.push(de),G.push(ee.data))})}return{checkedKeys:U,checkedNodes:G}}function M(){const N=[],G=[];if((n==null?void 0:n.value)&&e.showCheckbox){const{treeNodeMap:U}=n.value;s.value.forEach($=>{const de=U.get($);de&&(G.push($),N.push(de.data))})}return{halfCheckedNodes:N,halfCheckedKeys:G}}function T(N){i.value.clear(),s.value.clear(),F(N)}function D(N,G){if((n==null?void 0:n.value)&&e.showCheckbox){const U=n.value.treeNodeMap.get(N);U&&_(U,G,!1)}}function F(N){if(n!=null&&n.value){const{treeNodeMap:G}=n.value;if(e.showCheckbox&&G&&N)for(const U of N){const $=G.get(U);$&&!f($)&&_($,!0,!1)}}}return{updateCheckedKeys:u,toggleCheckbox:_,isChecked:f,isIndeterminate:h,getCheckedKeys:S,getCheckedNodes:b,getHalfCheckedKeys:w,getHalfCheckedNodes:C,setChecked:D,setCheckedKeys:T}}function S_e(e,n){const i=re(new Set([])),s=re(new Set([])),a=z(()=>Tn(e.filterMethod));function u(h){var _;if(!a.value)return;const y=new Set,S=s.value,b=i.value,w=[],C=((_=n.value)==null?void 0:_.treeNodes)||[],x=e.filterMethod;b.clear();function M(T){T.forEach(D=>{w.push(D),x!=null&&x(h,D.data)?w.forEach(N=>{y.add(N.key)}):D.isLeaf&&b.add(D.key);const F=D.children;if(F&&M(F),!D.isLeaf){if(!y.has(D.key))b.add(D.key);else if(F){let N=!0;for(const G of F)if(!b.has(G.key)){N=!1;break}N?S.add(D.key):S.delete(D.key)}}w.pop()})}return M(C),y}function f(h){return s.value.has(h.key)}return{hiddenExpandIconKeySet:s,hiddenNodeKeySet:i,doFilter:u,isForceHiddenExpandIcon:f}}function E_e(e,n){const i=re(new Set(e.defaultExpandedKeys)),s=re(),a=Wr();St(()=>e.currentNodeKey,je=>{s.value=je},{immediate:!0}),St(()=>e.data,je=>{xt(je)},{immediate:!0});const{isIndeterminate:u,isChecked:f,toggleCheckbox:h,getCheckedKeys:_,getCheckedNodes:y,getHalfCheckedKeys:S,getHalfCheckedNodes:b,setChecked:w,setCheckedKeys:C}=b_e(e,a),{doFilter:x,hiddenNodeKeySet:M,isForceHiddenExpandIcon:T}=S_e(e,a),D=z(()=>{var je;return((je=e.props)==null?void 0:je.value)||rh.KEY}),F=z(()=>{var je;return((je=e.props)==null?void 0:je.children)||rh.CHILDREN}),N=z(()=>{var je;return((je=e.props)==null?void 0:je.disabled)||rh.DISABLED}),G=z(()=>{var je;return((je=e.props)==null?void 0:je.label)||rh.LABEL}),U=z(()=>{const je=i.value,ot=M.value,At=[],on=a.value&&a.value.treeNodes||[];function Ne(){const $e=[];for(let ft=on.length-1;ft>=0;--ft)$e.push(on[ft]);for(;$e.length;){const ft=$e.pop();if(!!ft&&(ot.has(ft.key)||At.push(ft),je.has(ft.key))){const Tt=ft.children;if(Tt){const Bt=Tt.length;for(let ct=Bt-1;ct>=0;--ct)$e.push(Tt[ct])}}}}return Ne(),At}),$=z(()=>U.value.length>0);function de(je){const ot=new Map,At=new Map;let on=1;function Ne(ft,Tt=1,Bt=void 0){var ct;const Lt=[];for(const gt of ft){const xe=oe(gt),qe={level:Tt,key:xe,data:gt};qe.label=pe(gt),qe.parent=Bt;const Dt=se(gt);qe.disabled=Ie(gt),qe.isLeaf=!Dt||Dt.length===0,Dt&&Dt.length&&(qe.children=Ne(Dt,Tt+1,qe)),Lt.push(qe),ot.set(xe,qe),At.has(Tt)||At.set(Tt,[]),(ct=At.get(Tt))==null||ct.push(qe)}return Tt>on&&(on=Tt),Lt}const $e=Ne(je);return{treeNodeMap:ot,levelTreeNodeMap:At,maxLevel:on,treeNodes:$e}}function ee(je){const ot=x(je);ot&&(i.value=ot)}function se(je){return je[F.value]}function oe(je){return je?je[D.value]:""}function Ie(je){return je[N.value]}function pe(je){return je[G.value]}function ae(je){i.value.has(je.key)?le(je):fe(je)}function ye(je){i.value=new Set(je)}function be(je,ot){n(ED,je.data,je,ot),_e(je),e.expandOnClickNode&&ae(je),e.showCheckbox&&e.checkOnClickNode&&!je.disabled&&h(je,!f(je),!0)}function _e(je){Te(je)||(s.value=je.key,n(ID,je.data,je))}function ie(je,ot){h(je,ot)}function fe(je){const ot=i.value;if(a.value&&e.accordion){const{treeNodeMap:At}=a.value;ot.forEach(on=>{const Ne=At.get(on);je&&je.level===(Ne==null?void 0:Ne.level)&&ot.delete(on)})}ot.add(je.key),n(wD,je.data,je)}function le(je){i.value.delete(je.key),n(CD,je.data,je)}function ke(je){return i.value.has(je.key)}function ze(je){return!!je.disabled}function Te(je){const ot=s.value;return!!ot&&ot===je.key}function Xe(){var je,ot;if(!!s.value)return(ot=(je=a.value)==null?void 0:je.treeNodeMap.get(s.value))==null?void 0:ot.data}function _t(){return s.value}function wt(je){s.value=je}function xt(je){dn(()=>a.value=de(je))}function it(je){var ot;const At=tr(je)?oe(je):je;return(ot=a.value)==null?void 0:ot.treeNodeMap.get(At)}return{tree:a,flattenTree:U,isNotEmpty:$,getKey:oe,getChildren:se,toggleExpand:ae,toggleCheckbox:h,isExpanded:ke,isChecked:f,isIndeterminate:u,isDisabled:ze,isCurrent:Te,isForceHiddenExpandIcon:T,handleNodeClick:be,handleNodeCheck:ie,getCurrentNode:Xe,getCurrentKey:_t,setCurrentKey:wt,getCheckedKeys:_,getCheckedNodes:y,getHalfCheckedKeys:S,getHalfCheckedNodes:b,setChecked:w,setCheckedKeys:C,filter:ee,setData:xt,getNode:it,expandNode:fe,collapseNode:le,setExpandedKeys:ye}}var w_e=Ge({name:"ElTreeNodeContent",props:__e,setup(e){const n=hn(P1),i=bt("tree");return()=>{const s=e.node,{data:a}=s;return n!=null&&n.ctx.slots.default?n.ctx.slots.default({node:s,data:a}):An("span",{class:i.be("node","label")},[s==null?void 0:s.label])}}});const C_e=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],I_e=Ge({name:"ElTreeNode"}),M_e=Ge({...I_e,props:v_e,emits:y_e,setup(e,{emit:n}){const i=e,s=hn(P1),a=bt("tree"),u=z(()=>{var b;return(b=s==null?void 0:s.props.indent)!=null?b:16}),f=z(()=>{var b;return(b=s==null?void 0:s.props.icon)!=null?b:aR}),h=b=>{n("click",i.node,b)},_=()=>{n("toggle",i.node)},y=b=>{n("check",i.node,b)},S=b=>{var w,C,x,M;(x=(C=(w=s==null?void 0:s.instance)==null?void 0:w.vnode)==null?void 0:C.props)!=null&&x.onNodeContextmenu&&(b.stopPropagation(),b.preventDefault()),s==null||s.ctx.emit(RD,b,(M=i.node)==null?void 0:M.data,i.node)};return(b,w)=>{var C,x,M;return Q(),ve("div",{ref:"node$",class:Y([p(a).b("node"),p(a).is("expanded",b.expanded),p(a).is("current",b.current),p(a).is("focusable",!b.disabled),p(a).is("checked",!b.disabled&&b.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":b.expanded,"aria-disabled":b.disabled,"aria-checked":b.checked,"data-key":(C=b.node)==null?void 0:C.key,onClick:Nn(h,["stop"]),onContextmenu:S},[Ce("div",{class:Y(p(a).be("node","content")),style:fn({paddingLeft:`${(b.node.level-1)*p(u)}px`})},[p(f)?(Q(),rt(p(un),{key:0,class:Y([p(a).is("leaf",!!((x=b.node)!=null&&x.isLeaf)),p(a).is("hidden",b.hiddenExpandIcon),{expanded:!((M=b.node)!=null&&M.isLeaf)&&b.expanded},p(a).be("node","expand-icon")]),onClick:Nn(_,["stop"])},{default:Ue(()=>[(Q(),rt(rr(p(f))))]),_:1},8,["class","onClick"])):Ye("v-if",!0),b.showCheckbox?(Q(),rt(p(yo),{key:1,"model-value":b.checked,indeterminate:b.indeterminate,disabled:b.disabled,onChange:y,onClick:w[0]||(w[0]=Nn(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):Ye("v-if",!0),Re(p(w_e),{node:b.node},null,8,["node"])],6)],42,C_e)}}});var x_e=Ht(M_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const R_e=26,T_e=Ge({name:"ElTreeV2"}),P_e=Ge({...T_e,props:g_e,emits:A_e,setup(e,{expose:n,emit:i}){const s=e,a=Ki();ir(P1,{ctx:{emit:i,slots:a},props:s,instance:Yn()}),ir(Sa,void 0);const{t:u}=yr(),f=bt("tree"),{flattenTree:h,isNotEmpty:_,toggleExpand:y,isExpanded:S,isIndeterminate:b,isChecked:w,isDisabled:C,isCurrent:x,isForceHiddenExpandIcon:M,handleNodeClick:T,handleNodeCheck:D,toggleCheckbox:F,getCurrentNode:N,getCurrentKey:G,setCurrentKey:U,getCheckedKeys:$,getCheckedNodes:de,getHalfCheckedKeys:ee,getHalfCheckedNodes:se,setChecked:oe,setCheckedKeys:Ie,filter:pe,setData:ae,getNode:ye,expandNode:be,collapseNode:_e,setExpandedKeys:ie}=E_e(s,i);return n({toggleCheckbox:F,getCurrentNode:N,getCurrentKey:G,setCurrentKey:U,getCheckedKeys:$,getCheckedNodes:de,getHalfCheckedKeys:ee,getHalfCheckedNodes:se,setChecked:oe,setCheckedKeys:Ie,filter:pe,setData:ae,getNode:ye,expandNode:be,collapseNode:_e,setExpandedKeys:ie}),(fe,le)=>{var ke;return Q(),ve("div",{class:Y([p(f).b(),{[p(f).m("highlight-current")]:fe.highlightCurrent}]),role:"tree"},[p(_)?(Q(),rt(p(FN),{key:0,"class-name":p(f).b("virtual-list"),data:p(h),total:p(h).length,height:fe.height,"item-size":R_e,"perf-mode":fe.perfMode},{default:Ue(({data:ze,index:Te,style:Xe})=>[(Q(),rt(x_e,{key:ze[Te].key,style:fn(Xe),node:ze[Te],expanded:p(S)(ze[Te]),"show-checkbox":fe.showCheckbox,checked:p(w)(ze[Te]),indeterminate:p(b)(ze[Te]),disabled:p(C)(ze[Te]),current:p(x)(ze[Te]),"hidden-expand-icon":p(M)(ze[Te]),onClick:p(T),onToggle:p(y),onCheck:p(D)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","perf-mode"])):(Q(),ve("div",{key:1,class:Y(p(f).e("empty-block"))},[Ce("span",{class:Y(p(f).e("empty-text"))},Qt((ke=fe.emptyText)!=null?ke:p(u)("el.tree.emptyText")),3)],2))],2)}}});var N_e=Ht(P_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const D_e=Jn(N_e),B_e="ElUpload";class k_e extends Error{constructor(n,i,s,a){super(n),this.name="UploadAjaxError",this.status=i,this.method=s,this.url=a}}function kM(e,n,i){let s;return i.response?s=`${i.response.error||i.response}`:i.responseText?s=`${i.responseText}`:s=`fail to ${n.method} ${e} ${i.status}`,new k_e(s,i.status,n.method,e)}function L_e(e){const n=e.responseText||e.response;if(!n)return n;try{return JSON.parse(n)}catch{return n}}const O_e=e=>{typeof XMLHttpRequest>"u"&&Ri(B_e,"XMLHttpRequest is undefined");const n=new XMLHttpRequest,i=e.action;n.upload&&n.upload.addEventListener("progress",u=>{const f=u;f.percent=u.total>0?u.loaded/u.total*100:0,e.onProgress(f)});const s=new FormData;if(e.data)for(const[u,f]of Object.entries(e.data))Array.isArray(f)?s.append(u,...f):s.append(u,f);s.append(e.filename,e.file,e.file.name),n.addEventListener("error",()=>{e.onError(kM(i,e,n))}),n.addEventListener("load",()=>{if(n.status<200||n.status>=300)return e.onError(kM(i,e,n));e.onSuccess(L_e(n))}),n.open(e.method,i,!0),e.withCredentials&&"withCredentials"in n&&(n.withCredentials=!0);const a=e.headers||{};if(a instanceof Headers)a.forEach((u,f)=>n.setRequestHeader(f,u));else for(const[u,f]of Object.entries(a))$i(f)||n.setRequestHeader(u,String(f));return n.send(s),n},TD=["text","picture","picture-card"];let F_e=1;const Ty=()=>Date.now()+F_e++,PD=Xt({action:{type:String,default:"#"},headers:{type:nt(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>Jr({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:nt(Array),default:()=>Jr([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:TD,default:"text"},httpRequest:{type:nt(Function),default:O_e},disabled:Boolean,limit:Number}),V_e=Xt({...PD,beforeUpload:{type:nt(Function),default:Lr},beforeRemove:{type:nt(Function)},onRemove:{type:nt(Function),default:Lr},onChange:{type:nt(Function),default:Lr},onPreview:{type:nt(Function),default:Lr},onSuccess:{type:nt(Function),default:Lr},onProgress:{type:nt(Function),default:Lr},onError:{type:nt(Function),default:Lr},onExceed:{type:nt(Function),default:Lr}}),G_e=Xt({files:{type:nt(Array),default:()=>Jr([])},disabled:{type:Boolean,default:!1},handlePreview:{type:nt(Function),default:Lr},listType:{type:String,values:TD,default:"text"}}),U_e={remove:e=>!!e},H_e=["onKeydown"],Q_e=["src"],X_e=["onClick"],z_e=["onClick"],$_e=["onClick"],W_e=Ge({name:"ElUploadList"}),K_e=Ge({...W_e,props:G_e,emits:U_e,setup(e,{emit:n}){const{t:i}=yr(),s=bt("upload"),a=bt("icon"),u=bt("list"),f=re(!1),h=_=>{n("remove",_)};return(_,y)=>(Q(),rt(S5,{tag:"ul",class:Y([p(s).b("list"),p(s).bm("list",_.listType),p(s).is("disabled",_.disabled)]),name:p(u).b()},{default:Ue(()=>[(Q(!0),ve(mn,null,cr(_.files,S=>(Q(),ve("li",{key:S.uid||S.name,class:Y([p(s).be("list","item"),p(s).is(S.status),{focusing:f.value}]),tabindex:"0",onKeydown:fr(b=>!_.disabled&&h(S),["delete"]),onFocus:y[0]||(y[0]=b=>f.value=!0),onBlur:y[1]||(y[1]=b=>f.value=!1),onClick:y[2]||(y[2]=b=>f.value=!1)},[vt(_.$slots,"default",{file:S},()=>[_.listType==="picture"||S.status!=="uploading"&&_.listType==="picture-card"?(Q(),ve("img",{key:0,class:Y(p(s).be("list","item-thumbnail")),src:S.url,alt:""},null,10,Q_e)):Ye("v-if",!0),S.status==="uploading"||_.listType!=="picture-card"?(Q(),ve("div",{key:1,class:Y(p(s).be("list","item-info"))},[Ce("a",{class:Y(p(s).be("list","item-name")),onClick:Nn(b=>_.handlePreview(S),["prevent"])},[Re(p(un),{class:Y(p(a).m("document"))},{default:Ue(()=>[Re(p(_Q))]),_:1},8,["class"]),Ce("span",{class:Y(p(s).be("list","item-file-name"))},Qt(S.name),3)],10,X_e),S.status==="uploading"?(Q(),rt(p(RN),{key:0,type:_.listType==="picture-card"?"circle":"line","stroke-width":_.listType==="picture-card"?6:2,percentage:Number(S.percentage),style:fn(_.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Ye("v-if",!0)],2)):Ye("v-if",!0),Ce("label",{class:Y(p(s).be("list","item-status-label"))},[_.listType==="text"?(Q(),rt(p(un),{key:0,class:Y([p(a).m("upload-success"),p(a).m("circle-check")])},{default:Ue(()=>[Re(p(ab))]),_:1},8,["class"])):["picture-card","picture"].includes(_.listType)?(Q(),rt(p(un),{key:1,class:Y([p(a).m("upload-success"),p(a).m("check")])},{default:Ue(()=>[Re(p(ep))]),_:1},8,["class"])):Ye("v-if",!0)],2),_.disabled?Ye("v-if",!0):(Q(),rt(p(un),{key:2,class:Y(p(a).m("close")),onClick:b=>h(S)},{default:Ue(()=>[Re(p(zo))]),_:2},1032,["class","onClick"])),Ye(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Ye(" This is a bug which needs to be fixed "),Ye(" TODO: Fix the incorrect navigation interaction "),_.disabled?Ye("v-if",!0):(Q(),ve("i",{key:3,class:Y(p(a).m("close-tip"))},Qt(p(i)("el.upload.deleteTip")),3)),_.listType==="picture-card"?(Q(),ve("span",{key:4,class:Y(p(s).be("list","item-actions"))},[Ce("span",{class:Y(p(s).be("list","item-preview")),onClick:b=>_.handlePreview(S)},[Re(p(un),{class:Y(p(a).m("zoom-in"))},{default:Ue(()=>[Re(p(dR))]),_:1},8,["class"])],10,z_e),_.disabled?Ye("v-if",!0):(Q(),ve("span",{key:0,class:Y(p(s).be("list","item-delete")),onClick:b=>h(S)},[Re(p(un),{class:Y(p(a).m("delete"))},{default:Ue(()=>[Re(p(fQ))]),_:1},8,["class"])],10,$_e))],2)):Ye("v-if",!0)])],42,H_e))),128)),vt(_.$slots,"append")]),_:3},8,["class","name"]))}});var LM=Ht(K_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const j_e=Xt({disabled:{type:Boolean,default:!1}}),q_e={file:e=>sn(e)},Y_e=["onDrop","onDragover"],ND="ElUploadDrag",J_e=Ge({name:ND}),Z_e=Ge({...J_e,props:j_e,emits:q_e,setup(e,{emit:n}){const i=e,s=hn(dT);s||Ri(ND,"usage: <el-upload><el-upload-dragger /></el-upload>");const a=bt("upload"),u=re(!1),f=_=>{if(i.disabled)return;u.value=!1;const y=Array.from(_.dataTransfer.files),S=s.accept.value;if(!S){n("file",y);return}const b=y.filter(w=>{const{type:C,name:x}=w,M=x.includes(".")?`.${x.split(".").pop()}`:"",T=C.replace(/\/.*$/,"");return S.split(",").map(D=>D.trim()).filter(D=>D).some(D=>D.startsWith(".")?M===D:/\/\*$/.test(D)?T===D.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(D)?C===D:!1)});n("file",b)},h=()=>{i.disabled||(u.value=!0)};return(_,y)=>(Q(),ve("div",{class:Y([p(a).b("dragger"),p(a).is("dragover",u.value)]),onDrop:Nn(f,["prevent"]),onDragover:Nn(h,["prevent"]),onDragleave:y[0]||(y[0]=Nn(S=>u.value=!1,["prevent"]))},[vt(_.$slots,"default")],42,Y_e))}});var eAe=Ht(Z_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const tAe=Xt({...PD,beforeUpload:{type:nt(Function),default:Lr},onRemove:{type:nt(Function),default:Lr},onStart:{type:nt(Function),default:Lr},onSuccess:{type:nt(Function),default:Lr},onProgress:{type:nt(Function),default:Lr},onError:{type:nt(Function),default:Lr},onExceed:{type:nt(Function),default:Lr}}),nAe=["onKeydown"],rAe=["name","multiple","accept"],iAe=Ge({name:"ElUploadContent",inheritAttrs:!1}),sAe=Ge({...iAe,props:tAe,setup(e,{expose:n}){const i=e,s=bt("upload"),a=Wr({}),u=Wr(),f=C=>{if(C.length===0)return;const{autoUpload:x,limit:M,fileList:T,multiple:D,onStart:F,onExceed:N}=i;if(M&&T.length+C.length>M){N(C,T);return}D||(C=C.slice(0,1));for(const G of C){const U=G;U.uid=Ty(),F(U),x&&h(U)}},h=async C=>{if(u.value.value="",!i.beforeUpload)return _(C);let x;try{x=await i.beforeUpload(C)}catch{x=!1}if(x===!1){i.onRemove(C);return}let M=C;x instanceof Blob&&(x instanceof File?M=x:M=new File([x],C.name,{type:C.type})),_(Object.assign(M,{uid:C.uid}))},_=C=>{const{headers:x,data:M,method:T,withCredentials:D,name:F,action:N,onProgress:G,onSuccess:U,onError:$,httpRequest:de}=i,{uid:ee}=C,se={headers:x||{},withCredentials:D,file:C,data:M,method:T,filename:F,action:N,onProgress:Ie=>{G(Ie,C)},onSuccess:Ie=>{U(Ie,C),delete a.value[ee]},onError:Ie=>{$(Ie,C),delete a.value[ee]}},oe=de(se);a.value[ee]=oe,oe instanceof Promise&&oe.then(se.onSuccess,se.onError)},y=C=>{const x=C.target.files;!x||f(Array.from(x))},S=()=>{i.disabled||(u.value.value="",u.value.click())},b=()=>{S()};return n({abort:C=>{Gq(a.value).filter(C?([M])=>String(C.uid)===M:()=>!0).forEach(([M,T])=>{T instanceof XMLHttpRequest&&T.abort(),delete a.value[M]})},upload:h}),(C,x)=>(Q(),ve("div",{class:Y([p(s).b(),p(s).m(C.listType),p(s).is("drag",C.drag)]),tabindex:"0",onClick:S,onKeydown:fr(Nn(b,["self"]),["enter","space"])},[C.drag?(Q(),rt(eAe,{key:0,disabled:C.disabled,onFile:f},{default:Ue(()=>[vt(C.$slots,"default")]),_:3},8,["disabled"])):vt(C.$slots,"default",{key:1}),Ce("input",{ref_key:"inputRef",ref:u,class:Y(p(s).e("input")),name:C.name,multiple:C.multiple,accept:C.accept,type:"file",onChange:y,onClick:x[0]||(x[0]=Nn(()=>{},["stop"]))},null,42,rAe)],42,nAe))}});var OM=Ht(sAe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const FM="ElUpload",oAe=e=>{var n;(n=e.url)!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(e.url)},aAe=(e,n)=>{const i=Nq(e,"fileList",void 0,{passive:!0}),s=w=>i.value.find(C=>C.uid===w.uid);function a(w){var C;(C=n.value)==null||C.abort(w)}function u(w=["ready","uploading","success","fail"]){i.value=i.value.filter(C=>!w.includes(C.status))}const f=(w,C)=>{const x=s(C);!x||(console.error(w),x.status="fail",i.value.splice(i.value.indexOf(x),1),e.onError(w,x,i.value),e.onChange(x,i.value))},h=(w,C)=>{const x=s(C);!x||(e.onProgress(w,x,i.value),x.status="uploading",x.percentage=Math.round(w.percent))},_=(w,C)=>{const x=s(C);!x||(x.status="success",x.response=w,e.onSuccess(w,x,i.value),e.onChange(x,i.value))},y=w=>{$i(w.uid)&&(w.uid=Ty());const C={name:w.name,percentage:0,status:"ready",size:w.size,raw:w,uid:w.uid};if(e.listType==="picture-card"||e.listType==="picture")try{C.url=URL.createObjectURL(w)}catch(x){x.message,e.onError(x,C,i.value)}i.value=[...i.value,C],e.onChange(C,i.value)},S=async w=>{const C=w instanceof File?s(w):w;C||Ri(FM,"file to be removed not found");const x=M=>{a(M);const T=i.value;T.splice(T.indexOf(M),1),e.onRemove(M,T),oAe(M)};e.beforeRemove?await e.beforeRemove(C,i.value)!==!1&&x(C):x(C)};function b(){i.value.filter(({status:w})=>w==="ready").forEach(({raw:w})=>{var C;return w&&((C=n.value)==null?void 0:C.upload(w))})}return St(()=>e.listType,w=>{w!=="picture-card"&&w!=="picture"||(i.value=i.value.map(C=>{const{raw:x,url:M}=C;if(!M&&x)try{C.url=URL.createObjectURL(x)}catch(T){e.onError(T,C,i.value)}return C}))}),St(i,w=>{for(const C of w)C.uid||(C.uid=Ty()),C.status||(C.status="success")},{immediate:!0,deep:!0}),{uploadFiles:i,abort:a,clearFiles:u,handleError:f,handleProgress:h,handleStart:y,handleSuccess:_,handleRemove:S,submit:b}},lAe=Ge({name:"ElUpload"}),cAe=Ge({...lAe,props:V_e,setup(e,{expose:n}){const i=e,s=Ki(),a=Jo(),u=Wr(),{abort:f,submit:h,clearFiles:_,uploadFiles:y,handleStart:S,handleError:b,handleRemove:w,handleSuccess:C,handleProgress:x}=aAe(i,u),M=z(()=>i.listType==="picture-card"),T=z(()=>({...i,fileList:y.value,onStart:S,onProgress:x,onSuccess:C,onError:b,onRemove:w}));return di(()=>{y.value.forEach(({url:D})=>{D!=null&&D.startsWith("blob:")&&URL.revokeObjectURL(D)})}),ir(dT,{accept:si(i,"accept")}),n({abort:f,submit:h,clearFiles:_,handleStart:S,handleRemove:w}),(D,F)=>(Q(),ve("div",null,[p(M)&&D.showFileList?(Q(),rt(LM,{key:0,disabled:p(a),"list-type":D.listType,files:p(y),"handle-preview":D.onPreview,onRemove:p(w)},zl({append:Ue(()=>[Re(OM,nr({ref_key:"uploadRef",ref:u},p(T)),{default:Ue(()=>[p(s).trigger?vt(D.$slots,"trigger",{key:0}):Ye("v-if",!0),!p(s).trigger&&p(s).default?vt(D.$slots,"default",{key:1}):Ye("v-if",!0)]),_:3},16)]),_:2},[D.$slots.file?{name:"default",fn:Ue(({file:N})=>[vt(D.$slots,"file",{file:N})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):Ye("v-if",!0),!p(M)||p(M)&&!D.showFileList?(Q(),rt(OM,nr({key:1,ref_key:"uploadRef",ref:u},p(T)),{default:Ue(()=>[p(s).trigger?vt(D.$slots,"trigger",{key:0}):Ye("v-if",!0),!p(s).trigger&&p(s).default?vt(D.$slots,"default",{key:1}):Ye("v-if",!0)]),_:3},16)):Ye("v-if",!0),D.$slots.trigger?vt(D.$slots,"default",{key:2}):Ye("v-if",!0),vt(D.$slots,"tip"),!p(M)&&D.showFileList?(Q(),rt(LM,{key:3,disabled:p(a),"list-type":D.listType,files:p(y),"handle-preview":D.onPreview,onRemove:p(w)},zl({_:2},[D.$slots.file?{name:"default",fn:Ue(({file:N})=>[vt(D.$slots,"file",{file:N})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):Ye("v-if",!0)]))}});var uAe=Ht(cAe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const dAe=Jn(uAe);var fAe=[iJ,mJ,zee,Dge,Jee,ste,ZT,_te,Ate,ns,iP,Lne,Une,tre,nre,mie,nie,bie,yo,Sre,PP,Iie,zie,$ie,Lie,vse,yse,Nse,Dse,Bse,kse,Lse,Qoe,Zoe,eae,pae,lN,xae,Ale,yle,ble,vN,$ce,Wce,un,aue,yN,os,bN,bue,Uue,Hue,Que,que,Jde,rfe,ffe,qT,RN,OP,Fre,Ore,Rfe,Bfe,Ufe,cl,du,Tg,Cde,Phe,Vhe,Ghe,gpe,bpe,Tpe,Ppe,Hpe,Kme,jme,Nge,Kge,jge,bv,mne,tve,ove,ave,Ps,Dve,Kve,l_e,p_e,D_e,dAe];const Go="ElInfiniteScroll",hAe=50,pAe=200,mAe=0,gAe={delay:{type:Number,default:pAe},distance:{type:Number,default:mAe},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},N1=(e,n)=>Object.entries(gAe).reduce((i,[s,a])=>{var u,f;const{type:h,default:_}=a,y=e.getAttribute(`infinite-scroll-${s}`);let S=(f=(u=n[y])!=null?u:y)!=null?f:_;return S=S==="false"?!1:S,S=h(S),i[s]=Number.isNaN(S)?_:S,i},{}),DD=e=>{const{observer:n}=e[Go];n&&(n.disconnect(),delete e[Go].observer)},vAe=(e,n)=>{const{container:i,containerEl:s,instance:a,observer:u,lastScrollTop:f}=e[Go],{disabled:h,distance:_}=N1(e,a),{clientHeight:y,scrollHeight:S,scrollTop:b}=s,w=b-f;if(e[Go].lastScrollTop=b,u||h||w<0)return;let C=!1;if(i===e)C=S-(y+b)<=_;else{const{clientTop:x,scrollHeight:M}=e,T=Lq(e,s);C=b+y>=T+x+M-_}C&&n.call(a)};function m0(e,n){const{containerEl:i,instance:s}=e[Go],{disabled:a}=N1(e,s);a||i.clientHeight===0||(i.scrollHeight<=i.clientHeight?n.call(s):DD(e))}const _Ae={async mounted(e,n){const{instance:i,value:s}=n;Tn(s)||Ri(Go,"'v-infinite-scroll' binding value must be a function"),await dn();const{delay:a,immediate:u}=N1(e,i),f=Rb(e,!0),h=f===window?document.documentElement:f,_=nu(vAe.bind(null,e,s),a);if(!!f){if(e[Go]={instance:i,container:f,containerEl:h,delay:a,cb:s,onScroll:_,lastScrollTop:h.scrollTop},u){const y=new MutationObserver(nu(m0.bind(null,e,s),hAe));e[Go].observer=y,y.observe(e,{childList:!0,subtree:!0}),m0(e,s)}f.addEventListener("scroll",_)}},unmounted(e){const{container:n,onScroll:i}=e[Go];n==null||n.removeEventListener("scroll",i),DD(e)},async updated(e){e[Go]||await dn();const{containerEl:n,cb:i,observer:s}=e[Go];n.clientHeight&&s&&m0(e,i)}},Py=_Ae;Py.install=e=>{e.directive("InfiniteScroll",Py)};const AAe=Py;function yAe(e){let n;const i=bt("loading"),s=re(!1),a=Tr({...e,originalPosition:"",originalOverflow:"",visible:!1});function u(C){a.text=C}function f(){const C=a.parent;if(!C.vLoadingAddClassList){let x=C.getAttribute("loading-number");x=Number.parseInt(x)-1,x?C.setAttribute("loading-number",x.toString()):(Ms(C,i.bm("parent","relative")),C.removeAttribute("loading-number")),Ms(C,i.bm("parent","hidden"))}h(),b.unmount()}function h(){var C,x;(x=(C=w.$el)==null?void 0:C.parentNode)==null||x.removeChild(w.$el)}function _(){var C;e.beforeClose&&!e.beforeClose()||(s.value=!0,clearTimeout(n),n=window.setTimeout(y,400),a.visible=!1,(C=e.closed)==null||C.call(e))}function y(){if(!s.value)return;const C=a.parent;s.value=!1,C.vLoadingAddClassList=void 0,f()}const b=Jx({name:"ElLoading",setup(){return()=>{const C=a.spinner||a.svg,x=An("svg",{class:"circular",viewBox:a.svgViewBox?a.svgViewBox:"0 0 50 50",...C?{innerHTML:C}:{}},[An("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),M=a.text?An("p",{class:i.b("text")},[a.text]):void 0;return An(bi,{name:i.b("fade"),onAfterLeave:y},{default:Ue(()=>[Hn(Re("div",{style:{backgroundColor:a.background||""},class:[i.b("mask"),a.customClass,a.fullscreen?"is-fullscreen":""]},[An("div",{class:i.b("spinner")},[x,M])]),[[_r,a.visible]])])})}}}),w=b.mount(document.createElement("div"));return{...xi(a),setText:u,removeElLoadingChild:h,close:_,handleAfterLeave:y,vm:w,get $el(){return w.$el}}}let Om;const Ny=function(e={}){if(!ur)return;const n=bAe(e);if(n.fullscreen&&Om)return Om;const i=yAe({...n,closed:()=>{var a;(a=n.closed)==null||a.call(n),n.fullscreen&&(Om=void 0)}});SAe(n,n.parent,i),VM(n,n.parent,i),n.parent.vLoadingAddClassList=()=>VM(n,n.parent,i);let s=n.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",n.parent.setAttribute("loading-number",s),n.parent.appendChild(i.$el),dn(()=>i.visible.value=n.visible),n.fullscreen&&(Om=i),i},bAe=e=>{var n,i,s,a;let u;return Dn(e.target)?u=(n=document.querySelector(e.target))!=null?n:document.body:u=e.target||document.body,{parent:u===document.body||e.body?document.body:u,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:u===document.body&&((i=e.fullscreen)!=null?i:!0),lock:(s=e.lock)!=null?s:!1,customClass:e.customClass||"",visible:(a=e.visible)!=null?a:!0,target:u}},SAe=async(e,n,i)=>{const{nextZIndex:s}=al(),a={};if(e.fullscreen)i.originalPosition.value=Wa(document.body,"position"),i.originalOverflow.value=Wa(document.body,"overflow"),a.zIndex=s();else if(e.parent===document.body){i.originalPosition.value=Wa(document.body,"position"),await dn();for(const u of["top","left"]){const f=u==="top"?"scrollTop":"scrollLeft";a[u]=`${e.target.getBoundingClientRect()[u]+document.body[f]+document.documentElement[f]-Number.parseInt(Wa(document.body,`margin-${u}`),10)}px`}for(const u of["height","width"])a[u]=`${e.target.getBoundingClientRect()[u]}px`}else i.originalPosition.value=Wa(n,"position");for(const[u,f]of Object.entries(a))i.$el.style[u]=f},VM=(e,n,i)=>{const s=bt("loading");["absolute","fixed","sticky"].includes(i.originalPosition.value)?Ms(n,s.bm("parent","relative")):va(n,s.bm("parent","relative")),e.fullscreen&&e.lock?va(n,s.bm("parent","hidden")):Ms(n,s.bm("parent","hidden"))},Dy=Symbol("ElLoading"),GM=(e,n)=>{var i,s,a,u;const f=n.instance,h=w=>tr(n.value)?n.value[w]:void 0,_=w=>{const C=Dn(w)&&(f==null?void 0:f[w])||w;return C&&re(C)},y=w=>_(h(w)||e.getAttribute(`element-loading-${Zl(w)}`)),S=(i=h("fullscreen"))!=null?i:n.modifiers.fullscreen,b={text:y("text"),svg:y("svg"),svgViewBox:y("svgViewBox"),spinner:y("spinner"),background:y("background"),customClass:y("customClass"),fullscreen:S,target:(s=h("target"))!=null?s:S?void 0:e,body:(a=h("body"))!=null?a:n.modifiers.body,lock:(u=h("lock"))!=null?u:n.modifiers.lock};e[Dy]={options:b,instance:Ny(b)}},EAe=(e,n)=>{for(const i of Object.keys(n))Xr(n[i])&&(n[i].value=e[i])},UM={mounted(e,n){n.value&&GM(e,n)},updated(e,n){const i=e[Dy];n.oldValue!==n.value&&(n.value&&!n.oldValue?GM(e,n):n.value&&n.oldValue?tr(n.value)&&EAe(n.value,i.options):i==null||i.instance.close())},unmounted(e){var n;(n=e[Dy])==null||n.instance.close()}},wAe={install(e){e.directive("loading",UM),e.config.globalProperties.$loading=Ny},directive:UM,service:Ny},BD=["success","info","warning","error"],Cs=Jr({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:ur?document.body:void 0}),CAe=Xt({customClass:{type:String,default:Cs.customClass},center:{type:Boolean,default:Cs.center},dangerouslyUseHTMLString:{type:Boolean,default:Cs.dangerouslyUseHTMLString},duration:{type:Number,default:Cs.duration},icon:{type:$r,default:Cs.icon},id:{type:String,default:Cs.id},message:{type:nt([String,Object,Function]),default:Cs.message},onClose:{type:nt(Function),required:!1},showClose:{type:Boolean,default:Cs.showClose},type:{type:String,values:BD,default:Cs.type},offset:{type:Number,default:Cs.offset},zIndex:{type:Number,default:Cs.zIndex},grouping:{type:Boolean,default:Cs.grouping},repeatNum:{type:Number,default:Cs.repeatNum}}),IAe={destroy:()=>!0},Aa=sx([]),MAe=e=>{const n=Aa.findIndex(a=>a.id===e),i=Aa[n];let s;return n>0&&(s=Aa[n-1]),{current:i,prev:s}},xAe=e=>{const{prev:n}=MAe(e);return n?n.vm.exposed.bottom.value:0},RAe=["id"],TAe=["innerHTML"],PAe=Ge({name:"ElMessage"}),NAe=Ge({...PAe,props:CAe,emits:IAe,setup(e,{expose:n}){const i=e,{Close:s}=Tb,a=bt("message"),u=re(),f=re(!1),h=re(0);let _;const y=z(()=>i.type?i.type==="error"?"danger":i.type:"info"),S=z(()=>{const G=i.type;return{[a.bm("icon",G)]:G&&Kl[G]}}),b=z(()=>i.icon||Kl[i.type]||""),w=z(()=>xAe(i.id)),C=z(()=>i.offset+w.value),x=z(()=>h.value+C.value),M=z(()=>({top:`${C.value}px`,zIndex:i.zIndex}));function T(){i.duration!==0&&({stop:_}=cu(()=>{F()},i.duration))}function D(){_==null||_()}function F(){f.value=!1}function N({code:G}){G===_n.esc&&F()}return jn(()=>{T(),f.value=!0}),St(()=>i.repeatNum,()=>{D(),T()}),Kr(document,"keydown",N),as(u,()=>{h.value=u.value.getBoundingClientRect().height}),n({visible:f,bottom:x,close:F}),(G,U)=>(Q(),rt(bi,{name:p(a).b("fade"),onBeforeLeave:G.onClose,onAfterLeave:U[0]||(U[0]=$=>G.$emit("destroy")),persisted:""},{default:Ue(()=>[Hn(Ce("div",{id:G.id,ref_key:"messageRef",ref:u,class:Y([p(a).b(),{[p(a).m(G.type)]:G.type&&!G.icon},p(a).is("center",G.center),p(a).is("closable",G.showClose),G.customClass]),style:fn(p(M)),role:"alert",onMouseenter:D,onMouseleave:T},[G.repeatNum>1?(Q(),rt(p(ZT),{key:0,value:G.repeatNum,type:p(y),class:Y(p(a).e("badge"))},null,8,["value","type","class"])):Ye("v-if",!0),p(b)?(Q(),rt(p(un),{key:1,class:Y([p(a).e("icon"),p(S)])},{default:Ue(()=>[(Q(),rt(rr(p(b))))]),_:1},8,["class"])):Ye("v-if",!0),vt(G.$slots,"default",{},()=>[G.dangerouslyUseHTMLString?(Q(),ve(mn,{key:1},[Ye(" Caution here, message could've been compromised, never use user's input as message "),Ce("p",{class:Y(p(a).e("content")),innerHTML:G.message},null,10,TAe)],2112)):(Q(),ve("p",{key:0,class:Y(p(a).e("content"))},Qt(G.message),3))]),G.showClose?(Q(),rt(p(un),{key:2,class:Y(p(a).e("closeBtn")),onClick:Nn(F,["stop"])},{default:Ue(()=>[Re(p(s))]),_:1},8,["class","onClick"])):Ye("v-if",!0)],46,RAe),[[_r,f.value]])]),_:3},8,["name","onBeforeLeave"]))}});var DAe=Ht(NAe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let BAe=1;const kD=e=>{const n=!e||Dn(e)||Zr(e)||Tn(e)?{message:e}:e,i={...Cs,...n};if(!i.appendTo)i.appendTo=document.body;else if(Dn(i.appendTo)){let s=document.querySelector(i.appendTo);$o(s)||(s=document.body),i.appendTo=s}return i},kAe=e=>{const n=Aa.indexOf(e);if(n===-1)return;Aa.splice(n,1);const{handler:i}=e;i.close()},LAe=({appendTo:e,...n},i)=>{const{nextZIndex:s}=al(),a=`message_${BAe++}`,u=n.onClose,f=document.createElement("div"),h={...n,zIndex:s()+n.zIndex,id:a,onClose:()=>{u==null||u(),kAe(b)},onDestroy:()=>{Rd(null,f)}},_=Re(DAe,h,Tn(h.message)||Zr(h.message)?{default:Tn(h.message)?h.message:()=>h.message}:null);_.appContext=i||Qd._context,Rd(_,f),e.appendChild(f.firstElementChild);const y=_.component,b={id:a,vnode:_,vm:y,handler:{close:()=>{y.exposed.visible.value=!1}},props:_.component.props};return b},Qd=(e={},n)=>{if(!ur)return{close:()=>{}};if(Qn(ry.max)&&Aa.length>=ry.max)return{close:()=>{}};const i=kD(e);if(i.grouping&&Aa.length){const a=Aa.find(({vnode:u})=>{var f;return((f=u.props)==null?void 0:f.message)===i.message});if(a)return a.props.repeatNum+=1,a.props.type=i.type,a.handler}const s=LAe(i,n);return Aa.push(s),s.handler};BD.forEach(e=>{Qd[e]=(n={},i)=>{const s=kD(n);return Qd({...s,type:e},i)}});function OAe(e){for(const n of Aa)(!e||e===n.props.type)&&n.handler.close()}Qd.closeAll=OAe;Qd._context=null;const FAe=ZR(Qd,"$message"),VAe=Ge({name:"ElMessageBox",directives:{TrapFocus:Yte},components:{ElButton:ns,ElFocusTrap:yv,ElInput:os,ElOverlay:o1,ElIcon:un,...Tb},inheritAttrs:!1,props:{buttonSize:{type:String,validator:qd},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:n}){const{t:i}=yr(),s=bt("message-box"),a=re(!1),{nextZIndex:u}=al(),f=Tr({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:u()}),h=z(()=>{const ae=f.type;return{[s.bm("icon",ae)]:ae&&Kl[ae]}}),_=Wo(),y=Wo(),S=Ci(z(()=>e.buttonSize),{prop:!0,form:!0,formItem:!0}),b=z(()=>f.icon||Kl[f.type]||""),w=z(()=>!!f.message),C=re(),x=re(),M=re(),T=re(),D=re(),F=z(()=>f.confirmButtonClass);St(()=>f.inputValue,async ae=>{await dn(),e.boxType==="prompt"&&ae!==null&&se()},{immediate:!0}),St(()=>a.value,ae=>{var ye,be;ae&&(e.boxType!=="prompt"&&(f.autofocus?M.value=(be=(ye=D.value)==null?void 0:ye.$el)!=null?be:C.value:M.value=C.value),f.zIndex=u()),e.boxType==="prompt"&&(ae?dn().then(()=>{var _e;T.value&&T.value.$el&&(f.autofocus?M.value=(_e=oe())!=null?_e:C.value:M.value=C.value)}):(f.editorErrorMessage="",f.validateError=!1))});const N=z(()=>e.draggable);gT(C,x,N),jn(async()=>{await dn(),e.closeOnHashChange&&window.addEventListener("hashchange",G)}),di(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",G)});function G(){!a.value||(a.value=!1,dn(()=>{f.action&&n("action",f.action)}))}const U=()=>{e.closeOnClickModal&&ee(f.distinguishCancelAndClose?"close":"cancel")},$=Ob(U),de=ae=>{if(f.inputType!=="textarea")return ae.preventDefault(),ee("confirm")},ee=ae=>{var ye;e.boxType==="prompt"&&ae==="confirm"&&!se()||(f.action=ae,f.beforeClose?(ye=f.beforeClose)==null||ye.call(f,ae,f,G):G())},se=()=>{if(e.boxType==="prompt"){const ae=f.inputPattern;if(ae&&!ae.test(f.inputValue||""))return f.editorErrorMessage=f.inputErrorMessage||i("el.messagebox.error"),f.validateError=!0,!1;const ye=f.inputValidator;if(typeof ye=="function"){const be=ye(f.inputValue);if(be===!1)return f.editorErrorMessage=f.inputErrorMessage||i("el.messagebox.error"),f.validateError=!0,!1;if(typeof be=="string")return f.editorErrorMessage=be,f.validateError=!0,!1}}return f.editorErrorMessage="",f.validateError=!1,!0},oe=()=>{const ae=T.value.$refs;return ae.input||ae.textarea},Ie=()=>{ee("close")},pe=()=>{e.closeOnPressEscape&&Ie()};return e.lockScroll&&vT(a),hY(a),{...xi(f),ns:s,overlayEvent:$,visible:a,hasMessage:w,typeClass:h,contentId:_,inputId:y,btnSize:S,iconComponent:b,confirmButtonClasses:F,rootRef:C,focusStartRef:M,headerRef:x,inputRef:T,confirmRef:D,doClose:G,handleClose:Ie,onCloseRequested:pe,handleWrapperClick:U,handleInputEnter:de,handleAction:ee,t:i}}}),GAe=["aria-label","aria-describedby"],UAe=["aria-label"],HAe=["id"];function QAe(e,n,i,s,a,u){const f=Mn("el-icon"),h=Mn("close"),_=Mn("el-input"),y=Mn("el-button"),S=Mn("el-focus-trap"),b=Mn("el-overlay");return Q(),rt(bi,{name:"fade-in-linear",onAfterLeave:n[11]||(n[11]=w=>e.$emit("vanish")),persisted:""},{default:Ue(()=>[Hn(Re(b,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:Ue(()=>[Ce("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:Y(`${e.ns.namespace.value}-overlay-message-box`),onClick:n[8]||(n[8]=(...w)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...w)),onMousedown:n[9]||(n[9]=(...w)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...w)),onMouseup:n[10]||(n[10]=(...w)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...w))},[Re(S,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:Ue(()=>[Ce("div",{ref:"rootRef",class:Y([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:fn(e.customStyle),tabindex:"-1",onClick:n[7]||(n[7]=Nn(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(Q(),ve("div",{key:0,ref:"headerRef",class:Y(e.ns.e("header"))},[Ce("div",{class:Y(e.ns.e("title"))},[e.iconComponent&&e.center?(Q(),rt(f,{key:0,class:Y([e.ns.e("status"),e.typeClass])},{default:Ue(()=>[(Q(),rt(rr(e.iconComponent)))]),_:1},8,["class"])):Ye("v-if",!0),Ce("span",null,Qt(e.title),1)],2),e.showClose?(Q(),ve("button",{key:0,type:"button",class:Y(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:n[0]||(n[0]=w=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:n[1]||(n[1]=fr(Nn(w=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[Re(f,{class:Y(e.ns.e("close"))},{default:Ue(()=>[Re(h)]),_:1},8,["class"])],42,UAe)):Ye("v-if",!0)],2)):Ye("v-if",!0),Ce("div",{id:e.contentId,class:Y(e.ns.e("content"))},[Ce("div",{class:Y(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(Q(),rt(f,{key:0,class:Y([e.ns.e("status"),e.typeClass])},{default:Ue(()=>[(Q(),rt(rr(e.iconComponent)))]),_:1},8,["class"])):Ye("v-if",!0),e.hasMessage?(Q(),ve("div",{key:1,class:Y(e.ns.e("message"))},[vt(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(Q(),rt(rr(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(Q(),rt(rr(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:Ue(()=>[hr(Qt(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):Ye("v-if",!0)],2),Hn(Ce("div",{class:Y(e.ns.e("input"))},[Re(_,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":n[2]||(n[2]=w=>e.inputValue=w),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:Y({invalid:e.validateError}),onKeydown:fr(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Ce("div",{class:Y(e.ns.e("errormsg")),style:fn({visibility:e.editorErrorMessage?"visible":"hidden"})},Qt(e.editorErrorMessage),7)],2),[[_r,e.showInput]])],10,HAe),Ce("div",{class:Y(e.ns.e("btns"))},[e.showCancelButton?(Q(),rt(y,{key:0,loading:e.cancelButtonLoading,class:Y([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:n[3]||(n[3]=w=>e.handleAction("cancel")),onKeydown:n[4]||(n[4]=fr(Nn(w=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:Ue(()=>[hr(Qt(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):Ye("v-if",!0),Hn(Re(y,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:Y([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:n[5]||(n[5]=w=>e.handleAction("confirm")),onKeydown:n[6]||(n[6]=fr(Nn(w=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:Ue(()=>[hr(Qt(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[_r,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,GAe)]),_:3},8,["z-index","overlay-class","mask"]),[[_r,e.visible]])]),_:3})}var XAe=Ht(VAe,[["render",QAe],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const Kh=new Map,zAe=e=>{let n=document.body;return e.appendTo&&(Dn(e.appendTo)&&(n=document.querySelector(e.appendTo)),$o(e.appendTo)&&(n=e.appendTo),$o(n)||(n=document.body)),n},$Ae=(e,n,i=null)=>{const s=Re(XAe,e,Tn(e.message)||Zr(e.message)?{default:Tn(e.message)?e.message:()=>e.message}:null);return s.appContext=i,Rd(s,n),zAe(e).appendChild(n.firstElementChild),s.component},WAe=()=>document.createElement("div"),KAe=(e,n)=>{const i=WAe();e.onVanish=()=>{Rd(null,i),Kh.delete(a)},e.onAction=u=>{const f=Kh.get(a);let h;e.showInput?h={value:a.inputValue,action:u}:h=u,e.callback?e.callback(h,s.proxy):u==="cancel"||u==="close"?e.distinguishCancelAndClose&&u!=="cancel"?f.reject("close"):f.reject("cancel"):f.resolve(h)};const s=$Ae(e,i,n),a=s.proxy;for(const u in e)lr(e,u)&&!lr(a.$props,u)&&(a[u]=e[u]);return a.visible=!0,a};function Jd(e,n=null){if(!ur)return Promise.reject();let i;return Dn(e)||Zr(e)?e={message:e}:i=e.callback,new Promise((s,a)=>{const u=KAe(e,n!=null?n:Jd._context);Kh.set(u,{options:e,callback:i,resolve:s,reject:a})})}const jAe=["alert","confirm","prompt"],qAe={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};jAe.forEach(e=>{Jd[e]=YAe(e)});function YAe(e){return(n,i,s,a)=>{let u="";return tr(i)?(s=i,u=""):Xi(i)?u="":u=i,Jd(Object.assign({title:u,message:n,type:"",...qAe[e]},s,{boxType:e}),a)}}Jd.close=()=>{Kh.forEach((e,n)=>{n.doClose()}),Kh.clear()};Jd._context=null;const Ll=Jd;Ll.install=e=>{Ll._context=e._context,e.config.globalProperties.$msgbox=Ll,e.config.globalProperties.$messageBox=Ll,e.config.globalProperties.$alert=Ll.alert,e.config.globalProperties.$confirm=Ll.confirm,e.config.globalProperties.$prompt=Ll.prompt};const JAe=Ll,LD=["success","info","warning","error"],ZAe=Xt({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:$r},id:{type:String,default:""},message:{type:nt([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:nt(Function),default:()=>{}},onClose:{type:nt(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...LD,""],default:""},zIndex:{type:Number,default:0}}),e0e={destroy:()=>!0},t0e=["id"],n0e=["textContent"],r0e={key:0},i0e=["innerHTML"],s0e=Ge({name:"ElNotification"}),o0e=Ge({...s0e,props:ZAe,emits:e0e,setup(e,{expose:n}){const i=e,s=bt("notification"),{Close:a}=YR,u=re(!1);let f;const h=z(()=>{const T=i.type;return T&&Kl[i.type]?s.m(T):""}),_=z(()=>i.type&&Kl[i.type]||i.icon),y=z(()=>i.position.endsWith("right")?"right":"left"),S=z(()=>i.position.startsWith("top")?"top":"bottom"),b=z(()=>({[S.value]:`${i.offset}px`,zIndex:i.zIndex}));function w(){i.duration>0&&({stop:f}=cu(()=>{u.value&&x()},i.duration))}function C(){f==null||f()}function x(){u.value=!1}function M({code:T}){T===_n.delete||T===_n.backspace?C():T===_n.esc?u.value&&x():w()}return jn(()=>{w(),u.value=!0}),Kr(document,"keydown",M),n({visible:u,close:x}),(T,D)=>(Q(),rt(bi,{name:p(s).b("fade"),onBeforeLeave:T.onClose,onAfterLeave:D[1]||(D[1]=F=>T.$emit("destroy")),persisted:""},{default:Ue(()=>[Hn(Ce("div",{id:T.id,class:Y([p(s).b(),T.customClass,p(y)]),style:fn(p(b)),role:"alert",onMouseenter:C,onMouseleave:w,onClick:D[0]||(D[0]=(...F)=>T.onClick&&T.onClick(...F))},[p(_)?(Q(),rt(p(un),{key:0,class:Y([p(s).e("icon"),p(h)])},{default:Ue(()=>[(Q(),rt(rr(p(_))))]),_:1},8,["class"])):Ye("v-if",!0),Ce("div",{class:Y(p(s).e("group"))},[Ce("h2",{class:Y(p(s).e("title")),textContent:Qt(T.title)},null,10,n0e),Hn(Ce("div",{class:Y(p(s).e("content")),style:fn(T.title?void 0:{margin:0})},[vt(T.$slots,"default",{},()=>[T.dangerouslyUseHTMLString?(Q(),ve(mn,{key:1},[Ye(" Caution here, message could've been compromised, never use user's input as message "),Ce("p",{innerHTML:T.message},null,8,i0e)],2112)):(Q(),ve("p",r0e,Qt(T.message),1))])],6),[[_r,T.message]]),T.showClose?(Q(),rt(p(un),{key:0,class:Y(p(s).e("closeBtn")),onClick:Nn(x,["stop"])},{default:Ue(()=>[Re(p(a))]),_:1},8,["class","onClick"])):Ye("v-if",!0)],2)],46,t0e),[[_r,u.value]])]),_:3},8,["name","onBeforeLeave"]))}});var a0e=Ht(o0e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const Vg={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},By=16;let l0e=1;const Xd=function(e={},n=null){if(!ur)return{close:()=>{}};(typeof e=="string"||Zr(e))&&(e={message:e});const i=e.position||"top-right";let s=e.offset||0;Vg[i].forEach(({vm:b})=>{var w;s+=(((w=b.el)==null?void 0:w.offsetHeight)||0)+By}),s+=By;const{nextZIndex:a}=al(),u=`notification_${l0e++}`,f=e.onClose,h={...e,zIndex:a(),offset:s,id:u,onClose:()=>{c0e(u,i,f)}};let _=document.body;$o(e.appendTo)?_=e.appendTo:Dn(e.appendTo)&&(_=document.querySelector(e.appendTo)),$o(_)||(_=document.body);const y=document.createElement("div"),S=Re(a0e,h,Zr(h.message)?{default:()=>h.message}:null);return S.appContext=n!=null?n:Xd._context,S.props.onDestroy=()=>{Rd(null,y)},Rd(S,y),Vg[i].push({vm:S}),_.appendChild(y.firstElementChild),{close:()=>{S.component.exposed.visible.value=!1}}};LD.forEach(e=>{Xd[e]=(n={})=>((typeof n=="string"||Zr(n))&&(n={message:n}),Xd({...n,type:e}))});function c0e(e,n,i){const s=Vg[n],a=s.findIndex(({vm:y})=>{var S;return((S=y.component)==null?void 0:S.props.id)===e});if(a===-1)return;const{vm:u}=s[a];if(!u)return;i==null||i(u);const f=u.el.offsetHeight,h=n.split("-")[0];s.splice(a,1);const _=s.length;if(!(_<1))for(let y=a;y<_;y++){const{el:S,component:b}=s[y].vm,w=Number.parseInt(S.style[h],10)-f-By;b.props.offset=w}}function u0e(){for(const e of Object.values(Vg))e.forEach(({vm:n})=>{n.component.exposed.visible.value=!1})}Xd.closeAll=u0e;Xd._context=null;const d0e=ZR(Xd,"$notify");var f0e=[AAe,wAe,FAe,JAe,d0e,xN],h0e=JY([...fAe,...f0e]);Jx(t$).use(h0e).mount("#app")});export default p0e();
